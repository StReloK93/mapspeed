import{u as ed,h as Pu,_ as k_,L as o4,W as l4}from"./Leaflet-a35bc9b0.js";import{B as u4,a as d4,C as h4,D as c4,E as f4,b as p4,c as m4,F as Bs,K as PT,R as g4,S as v4,d as _4,T as b4,e as y4,f as C4,g as LT,h as FT,i as x4,V as w4,j as S4,k as E4,l as T4,m as I4,n as A4,o as O4,p as D4,q as NT,r as k4,s as Qo,t as Qh,u as Li,v as Ge,w as R4,x as M4,y as B4,z as P4,A as L4,G as R_,H as Rn,I as Di,J as F4,L as N4,M as Zr,N as V4,O as H4,P as $4,Q as z4,U as W4,W as j4,X as U4,Y as G4,Z as K4,_ as q4,$ as X4,a0 as Y4,a1 as Z4,a2 as J4,a3 as Q4,a4 as e3,a5 as t3,a6 as i3,a7 as r3,a8 as n3,a9 as a3,aa as s3,ab as o3,ac as l3,ad as u3,ae as d3,af as h3,ag as c3,ah as f3,ai as p3,aj as m3,ak as g3,al as v3,am as _3,an as M_,ao as qa,ap as b3,aq as y3,ar as C3,as as x3,at as w3,au as S3,av as E3,aw as T3,ax as td,ay as I3,az as A3,aA as O3,aB as D3,aC as k3,aD as R3,aE as gi,aF as M3,aG as B3,aH as P3,aI as L3,aJ as F3,aK as yf,aL as N3,aM as Dr,aN as V3,aO as H3,aP as Ps,aQ as $3,aR as Cf,aS as z3,aT as VT,aU as W3,aV as j3,aW as U3,aX as G3,aY as K3,aZ as q3,a_ as X3,a$ as Y3,b0 as Z3,b1 as J3,b2 as Q3,b3 as ra,b4 as eB,b5 as tB,b6 as iB,b7 as rB,b8 as nB,b9 as aB,ba as sB,bb as oB,bc as ji,bd as lB,be as uB,bf as dB,bg as hB,bh as cB,bi as fB,bj as pB,bk as mB,bl as gB,bm as vB,bn as ec,bo as Ec,bp as _B,bq as bB,br as yB,bs as CB,bt as xB,bu as wB,bv as SB,bw as EB,bx as el,by as TB,bz as As,bA as IB,bB as AB,bC as OB,bD as DB,bE as kB}from"./app-76b5f029.js";const RB=()=>{},MB=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:u4,BaseTransitionPropsValidators:d4,Comment:h4,DeprecationTypes:c4,EffectScope:f4,ErrorCodes:p4,ErrorTypeStrings:m4,Fragment:Bs,KeepAlive:PT,ReactiveEffect:g4,Static:v4,Suspense:_4,Teleport:b4,Text:y4,TrackOpTypes:C4,Transition:LT,TransitionGroup:FT,TriggerOpTypes:x4,VueElement:w4,assertNumber:S4,callWithAsyncErrorHandling:E4,callWithErrorHandling:T4,camelize:I4,capitalize:A4,cloneVNode:O4,compatUtils:D4,compile:RB,computed:NT,createApp:k4,createBlock:Qo,createCommentVNode:Qh,createElementBlock:Li,createElementVNode:Ge,createHydrationRenderer:R4,createPropsRestProxy:M4,createRenderer:B4,createSSRApp:P4,createSlots:L4,createStaticVNode:R_,createTextVNode:Rn,createVNode:Di,customRef:F4,defineAsyncComponent:N4,defineComponent:Zr,defineCustomElement:V4,defineEmits:H4,defineExpose:$4,defineModel:z4,defineOptions:W4,defineProps:j4,defineSSRCustomElement:U4,defineSlots:G4,devtools:K4,effect:q4,effectScope:X4,getCurrentInstance:Y4,getCurrentScope:Z4,getTransitionRawChildren:J4,guardReactiveProps:Q4,h:e3,handleError:t3,hasInjectionContext:i3,hydrate:r3,initCustomFormatter:n3,initDirectivesForSSR:a3,inject:s3,isMemoSame:o3,isProxy:l3,isReactive:u3,isReadonly:d3,isRef:h3,isRuntimeOnly:c3,isShallow:f3,isVNode:p3,markRaw:m3,mergeDefaults:g3,mergeModels:v3,mergeProps:_3,nextTick:M_,normalizeClass:qa,normalizeProps:b3,normalizeStyle:y3,onActivated:C3,onBeforeMount:x3,onBeforeUnmount:w3,onBeforeUpdate:S3,onDeactivated:E3,onErrorCaptured:T3,onMounted:td,onRenderTracked:I3,onRenderTriggered:A3,onScopeDispose:O3,onServerPrefetch:D3,onUnmounted:k3,onUpdated:R3,openBlock:gi,popScopeId:M3,provide:B3,proxyRefs:P3,pushScopeId:L3,queuePostFlushCb:F3,reactive:yf,readonly:N3,ref:Dr,registerRuntimeCompiler:V3,render:H3,renderList:Ps,renderSlot:$3,resolveComponent:Cf,resolveDirective:z3,resolveDynamicComponent:VT,resolveFilter:W3,resolveTransitionHooks:j3,setBlockTracking:U3,setDevtoolsHook:G3,setTransitionHooks:K3,shallowReactive:q3,shallowReadonly:X3,shallowRef:Y3,ssrContextKey:Z3,ssrUtils:J3,stop:Q3,toDisplayString:ra,toHandlerKey:eB,toHandlers:tB,toRaw:iB,toRef:rB,toRefs:nB,toValue:aB,transformVNodeArgs:sB,triggerRef:oB,unref:ji,useAttrs:lB,useCssModule:uB,useCssVars:dB,useModel:hB,useSSRContext:cB,useSlots:fB,useTransitionState:pB,vModelCheckbox:mB,vModelDynamic:gB,vModelRadio:vB,vModelSelect:ec,vModelText:Ec,vShow:_B,version:bB,warn:yB,watch:CB,watchEffect:xB,watchPostEffect:wB,watchSyncEffect:SB,withAsyncContext:EB,withCtx:el,withDefaults:TB,withDirectives:As,withKeys:IB,withMemo:AB,withModifiers:OB,withScopeId:DB},Symbol.toStringTag,{value:"Module"})),BB={class:"flex gap-1.5 flex-wrap flex-col absolute top-1/2 -translate-y-1/2 -left-16"},PB=["onClick"],LB=Ge("i",{class:"fa-duotone fa-gear text-xl"},null,-1),FB=[LB],NB=Zr({__name:"Transports",setup(e){const t=ed();function i(r){t.withLoading(()=>t.UIData.wialon.selectGroup(r))}return(r,n)=>(gi(),Li("main",BB,[(gi(!0),Li(Bs,null,Ps(ji(t).transport_groups,a=>(gi(),Li("button",{class:qa([{"!bg-slate-900 !text-white":a.id==ji(t).UIData.active},"btn-line"]),onClick:s=>i(a)},ra(a.name),11,PB))),256)),Ge("button",{class:qa([{"!bg-slate-900 !text-white":ji(t).openControl},"btn-line"]),onClick:n[0]||(n[0]=a=>ji(t).openControl=!0)},FB,2)]))}}),VB={class:"flex flex-col h-full px-3 -mx-3"},HB=Ge("h3",{class:"text-indigo-100 py-2 text-center"},[Ge("i",{class:"fa-solid fa-circle-small scale-50"}),Rn(" Tezlik tushgan nuqtalar "),Ge("i",{class:"fa-solid fa-circle-small scale-50"})],-1),$B={class:"w-full flex-grow relative"},zB={class:"absolute inset-0 overflow-y-auto flex items-start flex-wrap gap-y-1.5 content-start"},WB=["onClick"],jB={class:"w-6 h-full bg-gray-700 text-white inline-flex justify-center items-center"},UB={class:"flex-grow"},GB={class:"text-center"},KB=Ge("span",{class:"text-xs"},"Km/s",-1),qB={class:"text-center"},XB=Ge("span",{class:"text-xs text-red-600"},"Km/s",-1),YB=Zr({__name:"PointsList",setup(e){const t=ed();return(i,r)=>(gi(),Li("main",VB,[HB,Ge("main",$B,[Ge("aside",zB,[(gi(!0),Li(Bs,null,Ps(ji(t).points,n=>(gi(),Li("div",{onClick:a=>ji(t).UIData.map.fixedToPoint(n.center,n.image),class:"w-1/3 px-1 cursor-pointer"},[Ge("main",{class:qa([{"!bg-gray-100 !text-gray-700":n.active},"w-full bg-white/10 text-gray-300 h-12 flex overflow-hidden hover:bg-gray-100 hover:text-gray-700"])},[Ge("div",jB,ra(n.index),1),Ge("article",UB,[Ge("div",GB,[Rn(ra(n.item.SpeedAvg)+" ",1),KB]),Ge("div",qB,[Rn(ra(n.item.SpeedAvgL)+" ",1),XB])])],2)],8,WB))),256))])])]))}}),ZB={class:"w-80 bg-slate-900 h-full px-3 relative z-10"},JB=Zr({__name:"MenuRight",setup(e){return(t,i)=>(gi(),Li("section",ZB,[Di(NB),Di(YB)]))}}),QB={class:"absolute top-1/2 -translate-y-1/2 left-2 text-center z-30 flex flex-col h-5/6"},eP=Zr({__name:"SpeedColors",setup(e){const t=[{speed:"0",color:"bg-[#f80000]",text:"text-[#f80000]",border:"after:border-[#f80000]"},{speed:"5",color:"bg-[#f86000]",text:"text-[#f86000]",border:"after:border-[#f86000]"},{speed:"10",color:"bg-[#f8c800]",text:"text-[#f8c800]",border:"after:border-[#f8c800]"},{speed:"15",color:"bg-[#60f880]",text:"text-[#60f880]",border:"after:border-[#60f880]"},{speed:"20",color:"bg-[#10c050]",text:"text-[#10c050]",border:"after:border-[#10c050]"},{speed:"25",color:"bg-[#187830]",text:"text-[#187830]",border:"after:border-[#187830]"},{speed:"30",color:"bg-[#0060c8]",text:"text-[#0060c8]",border:"after:border-[#0060c8]"},{speed:"35",color:"bg-[#0000f8]",text:"text-[#0000f8]",border:"after:border-[#0000f8]"},{speed:"40",color:"bg-[#111]",text:"text-[#111]",border:"after:border-[#111]"}];return(i,r)=>(gi(),Li("div",QB,[(gi(),Li(Bs,null,Ps(t,n=>Ge("main",{class:qa([[n.border,n.color],"w-1.5 h-[11%] text-sm relative text-white colorafter"])},[Ge("span",{class:qa(["absolute -top-2 left-6 font-semibold text-xs",[n.text]])},ra(n.speed),3)],2)),64))]))}}),tP={},iP={class:"absolute left-1/2 top-3 -translate-x-3/4 z-30 bg-white/80 px-4 py-1 rounded-full shadow"},rP=Ge("span",{class:"text-xl font-semibold text-indigo-900"},` "Tezlik ko'rsatkichlari" `,-1),nP=Ge("span",{class:"text-rose-600 mx-3"},[Ge("i",{class:"fa-solid fa-bell-on"}),Rn(" test rejimida ")],-1),aP=Ge("span",{class:"font-semibold text-blue-600"}," Savol va takliflar uchun: 597-22-44 ",-1),sP=[rP,nP,aP];function oP(e,t){return gi(),Li("div",iP,sP)}const lP=kB(tP,[["render",oP]]);var uP={"[object Array]":"array","[object Date]":"date","[object Object]":"object","[object String]":"string","[object Null]":"null"},Xr=function(e){var t=Object.prototype.toString.call(e);return typeof e=="object"?uP[t]||"object":typeof e},ll=function(e){return typeof e=="boolean"},sy=function(e){return ei(e)&&e.toString().indexOf("e")!==-1},sr=function(e){return Xr(e)==="date"},oe=function(e){return e!=null},We=function(e){return typeof e=="function"},nt=function(e){return typeof e=="string"},ei=function(e){return typeof e=="number"&&isFinite(e)||!isNaN(e-parseFloat(e))},at=function(e){return Xr(e)==="object"},Yr=function(e){var t;for(t in e)return!1;return!0},Ct=function(e){if(!e||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e),i=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof i=="function"&&Object.toString.call(i)===Object.toString.call(Object)},_u=function(e){return["object","array","function"].indexOf(Xr(e))===-1},Si=function(e){return e!=null&&e===e.window},Br=function(e){return!!e&&!!(e.jquery||e.dxRenderer)},id=function(e){return!!e&&We(e.then)},B_=function(e){return!!e&&We(e.done)&&We(e.fail)},dP=function(e){return!!(e&&e.preventDefault)},P_=function(){var e=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(t){return String(t).replace(e[0],"&amp;").replace(e[1],"&quot;").replace(e[2],"&#39;").replace(e[3],"&lt;").replace(e[4],"&gt;")}}(),hP=function(e){switch(typeof e){case"string":return e.split(/\s+/,4);case"object":return[e.x||e.h||e.left,e.y||e.v||e.top,e.x||e.h||e.right,e.y||e.v||e.bottom];case"number":return[e];default:return e}},cP=function(e){var t=hP(e),i=parseInt(t&&t[0],10),r=parseInt(t&&t[1],10),n=parseInt(t&&t[2],10),a=parseInt(t&&t[3],10);return isFinite(i)||(i=0),isFinite(r)||(r=i),isFinite(n)||(n=i),isFinite(a)||(a=r),{top:r,right:n,bottom:a,left:i}};function fn(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return We(e)?e(...i):(i.forEach((n,a)=>{nt(n)&&(n=n.replace(/\$/g,"$$$$"));var s=new RegExp("\\{"+a+"\\}","gm");e=e.replace(s,n)}),e)}var bu=function(){var e=/\s/g;return function(t){return!t||!t.replace(e,"")}}(),fP=function(e,t,i){e=e||{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];(!(r in e)||i)&&(e[r]=n)}return e},ce=function e(t){t=t||{};var i=1,r=!1;for(typeof t=="boolean"&&(r=t,t=arguments[1]||{},i++);i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var a in n){var s=t[a],o=n[a],l=!1,u=void 0;a==="__proto__"||a==="constructor"||t===o||(r&&o&&(Ct(o)||(l=Array.isArray(o)))?(l?u=s&&Array.isArray(s)?s:[]:u=s&&Ct(s)?s:{},t[a]=e(r,u,o)):o!==void 0&&(t[a]=o))}}return t},Ti=(e,t)=>{if(Array.isArray(e))return e.map(t);var i=[];for(var r in e)i.push(t(e[r],r));return i},ve=(e,t)=>{if(e){if("length"in e)for(var i=0;i<e.length&&t.call(e[i],i,e[i])!==!1;i++);else for(var r in e)if(t.call(e[r],r,e[r])===!1)break;return e}},pP=function(){},Tp=function(e){return typeof console>"u"||!We(console[e])?pP:console[e].bind(console)},rd={info:Tp("info"),warn:Tp("warn"),error:Tp("error")},mP="22.1.6",gP="http://js.devexpress.com/error/"+mP.split(".").slice(0,2).join("_")+"/";function L_(e,t){var i={ERROR_MESSAGES:ce(t,e),Error:function(){return s([].slice.call(arguments))},log:function(l){var u="log";/^E\d+$/.test(l)?u="error":/^W\d+$/.test(l)&&(u="warn"),rd[u](u==="log"?l:r([].slice.call(arguments)))}};function r(l){var u=l[0];return l=l.slice(1),a(u,n(u,l))}function n(l,u){return u=[i.ERROR_MESSAGES[l]].concat(u),fn.apply(this,u).replace(/\.*\s*?$/,"")}function a(l,u){return fn.apply(this,[`{0} - {1}. See:
{2}`,l,u,o(l)])}function s(l){var u=l[0];l=l.slice(1);var d=n(u,l),c=o(u),h=a(u,d);return ce(new Error(h),{__id:u,__details:d,url:c})}function o(l){return gP+l}return i}const qt=L_({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0024:"DevExtreme bundle already included",E0025:"Unexpected argument type",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0103:"validationCallback of an asynchronous rule should return a jQuery or a native promise",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",E0121:"The 'customItem' parameter of the 'onCustomItemCreating' function is empty or contains invalid data. Assign a custom object or a Promise that is resolved after the item is created.",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"'{0}' Globalize culture is not defined",W0008:"Invalid view name: '{0}'",W0009:"Invalid time zone name: '{0}'",W0010:"{0} is deprecated in {1}. {2}",W0011:"Number parsing is invoked while the parser is not defined",W0012:"Date parsing is invoked while the parser is not defined",W0013:"'{0}' file is deprecated in {1}. {2}",W0014:"{0} - '{1}' type is deprecated in {2}. {3}",W0015:"Instead of returning a value from the '{0}' function, write it into the '{1}' field of the function's parameter.",W0016:'The "{0}" option does not accept the "{1}" value since v{2}. {3}.',W0017:'Setting the "{0}" property with a function is deprecated since v21.2',W0018:'Setting the "position" property with a function is deprecated since v21.2'});var vP=function(e,t,i){return function(){var r=this.callBase;this.callBase=e[t];try{return i.apply(this,arguments)}finally{this.callBase=r}}},_P=function(e){var t=function(){};return t.prototype=e.prototype,new t},bP=function(e){var t,i,r;if(!e)return this;for(i in e)r=e[i],t=typeof this.prototype[i]=="function"&&typeof r=="function",this.prototype[i]=t?vP(this.parent.prototype,i,r):r;return this},yP=function(){var e=this,t,i,r,n=Object.prototype.hasOwnProperty.bind(e),a=!n("_includedCtors")&&!n("_includedPostCtors");for(a&&(e._includedCtors=e._includedCtors.slice(0),e._includedPostCtors=e._includedPostCtors.slice(0)),r=0;r<arguments.length;r++){t=arguments[r],t.ctor&&e._includedCtors.push(t.ctor),t.postCtor&&e._includedPostCtors.push(t.postCtor);for(i in t)i==="ctor"||i==="postCtor"||i==="default"||(e.prototype[i]=t[i])}return e},CP=function(e){var t=Object.prototype.hasOwnProperty.bind(this)("parent"),i=!t&&this.parent;if(i){var r=Object.getPrototypeOf(this);return r===e||r.subclassOf(e)}else return this.parent===e?!0:!this.parent||!this.parent.subclassOf?!1:this.parent.subclassOf(e)},HT=function(){throw qt.Error("E0001")},xP=function(){var e=Object.prototype.hasOwnProperty;return function(t,i){for(var r in t){if(!e.call(t,r))return;i[r]=t[r]}}}(),Ot=function(){};Ot.inherit=function(e){var t=function(){if(!this||Si(this)||typeof this.constructor!="function")throw qt.Error("E0003");var i=this,r=i.ctor,n=i.constructor._includedCtors,a=i.constructor._includedPostCtors,s;for(s=0;s<n.length;s++)n[s].call(i);for(r&&r.apply(i,arguments),s=0;s<a.length;s++)a[s].call(i)};return t.prototype=_P(this),xP(this,t),t.inherit=this.inherit,t.abstract=HT,t.redefine=bP,t.include=yP,t.subclassOf=CP,t.parent=this,t._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],t._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],t.prototype.constructor=t,t.redefine(e),t};Ot.abstract=HT;function Jr(e){var t=Ot.inherit(e),i=t,r=new i(e),n={},a=function(s,o){ve(s,function(l){We(r[l])?(o||!e[l])&&(e[l]=function(){return r[l].apply(e,arguments)}):(o&&(n[l]=e[l]),e[l]=r[l])})};return a(e,!0),e.inject=function(s){i=i.inherit(s),r=new i,a(s)},e.resetInjection=function(){ce(e,n),i=t,r=new t},e}var oy={rtlEnabled:!1,defaultCurrency:"USD",defaultUseCurrencyAccountingStyle:!0,oDataFilterToLower:!0,serverDecimalSeparator:".",decimalSeparator:".",thousandsSeparator:",",forceIsoDateParsing:!0,wrapActionsBeforeExecute:!0,useLegacyStoreResult:!1,useJQuery:void 0,editorStylingMode:void 0,useLegacyVisibleIndex:!1,floatingActionButtonConfig:{icon:"add",closeIcon:"close",label:"",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,shading:!1,direction:"auto"},optionsParser:e=>{e.trim().charAt(0)!=="{"&&(e="{"+e+"}");try{return new Function("return "+e)()}catch(t){throw qt.Error("E3018",t,e)}}},wP=["decimalSeparator","thousandsSeparator"],ii=function(){if(!arguments.length)return oy;var e=arguments.length<=0?void 0:arguments[0];wP.forEach(t=>{if(e[t]){var i="Now, the ".concat(t," is selected based on the specified locale.");qt.log("W0003","config",t,"19.2",i)}}),ce(oy,e)};typeof DevExpress<"u"&&DevExpress.config&&ii(DevExpress.config);var Bi=Ot.inherit({ctor:function(e){e&&(e=String(e)),this._value=this._normalize(e||this._generate())},_normalize:function(e){for(e=e.replace(/[^a-f0-9]/gi,"").toLowerCase();e.length<32;)e+="0";return[e.substr(0,8),e.substr(8,4),e.substr(12,4),e.substr(16,4),e.substr(20,12)].join("-")},_generate:function(){for(var e="",t=0;t<32;t++)e+=Math.round(15*Math.random()).toString(16);return e},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}}),ga=function(e){this._options=e||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};ga.prototype._fireCore=function(e,t){var i=this._firingIndexes,r=this._list,n=this._options.stopOnFalse,a=i.length;for(i[a]=0;i[a]<r.length;i[a]++){var s=r[i[a]].apply(e,t);if(s===!1&&n)break}i.pop()};ga.prototype.add=function(e){return typeof e=="function"&&(!this._options.unique||!this.has(e))&&this._list.push(e),this};ga.prototype.remove=function(e){var t=this._list,i=this._firingIndexes,r=t.indexOf(e);if(r>-1&&(t.splice(r,1),this._firing&&i.length))for(var n=0;n<i.length;n++)r<=i[n]&&i[n]--;return this};ga.prototype.has=function(e){var t=this._list;return e?t.indexOf(e)>-1:!!t.length};ga.prototype.empty=function(e){return this._list=[],this};ga.prototype.fireWith=function(e,t){var i=this._queue;if(t=t||[],t=t.slice?t.slice():t,this._options.syncStrategy)this._firing=!0,this._fireCore(e,t);else{if(i.push([e,t]),this._firing)return;for(this._firing=!0;i.length;){var r=i.shift();this._fireCore(r[0],r[1])}}return this._firing=!1,this._fired=!0,this};ga.prototype.fire=function(){this.fireWith(this,arguments)};ga.prototype.fired=function(){return this._fired};var Ht=function(e){return new ga(e)};const SP=Object.freeze(Object.defineProperty({__proto__:null,default:Ht},Symbol.toStringTag,{value:"Module"}));var $T=[{method:"resolve",handler:"done",state:"resolved"},{method:"reject",handler:"fail",state:"rejected"},{method:"notify",handler:"progress"}],ul=function(){var e=this;this._state="pending",this._promise={},$T.forEach((function(t){var i=t.method;this[i+"Callbacks"]=new Ht,this[i]=(function(){return this[i+"With"](this._promise,arguments)}).bind(this),this._promise[t.handler]=function(r){if(!r)return this;var n=e[i+"Callbacks"];return n.fired()?r.apply(e[i+"Context"],e[i+"Args"]):n.add((function(a,s){r.apply(a,s)}).bind(this)),this}}).bind(this)),this._promise.always=function(t){return this.done(t).fail(t)},this._promise.catch=function(t){return this.then(null,t)},this._promise.then=function(t,i){var r=new ul;return["done","fail"].forEach((function(n){var a=n==="done"?t:i;this[n](function(){if(!a){r[n==="done"?"resolve":"reject"].apply(this,arguments);return}var s=a&&a.apply(this,arguments);B_(s)?s.done(r.resolve).fail(r.reject):id(s)?s.then(r.resolve,r.reject):r.resolve.apply(this,oe(s)?[s]:arguments)})}).bind(this)),r.promise()},this._promise.state=function(){return e._state},this._promise.promise=function(t){return t?ce(t,e._promise):e._promise},this._promise.promise(this)};$T.forEach(function(e){var t=e.method,i=e.state;ul.prototype[t+"With"]=function(r,n){var a=this[t+"Callbacks"];return this.state()==="pending"&&(this[t+"Args"]=n,this[t+"Context"]=r,i&&(this._state=i),a.fire(r,n)),this}});function Gi(e,t){if(B_(e))return e;if(id(e)){var i=new ul;return e.then(function(){i.resolveWith.apply(i,[t].concat([[].slice.call(arguments)]))},function(){i.rejectWith.apply(i,[t].concat([[].slice.call(arguments)]))}),i}return new ul().resolveWith(t,[e])}var EP=function(){if(arguments.length===1)return Gi(arguments[0]);for(var e=[].slice.call(arguments),t=[],i=0,r=new ul,n=function(s){return function(o){t[s]=this,e[s]=arguments.length>1?[].slice.call(arguments):o,i++,i===e.length&&r.resolveWith(t,e)}},a=0;a<e.length;a++)B_(e[a])?e[a].promise().done(n(a)).fail(r.reject):i++;return i===e.length&&r.resolveWith(t,e),r.promise()};function we(){return new ul}function Ke(){return EP.apply(this,arguments)}const cr=Jr({isWrapped:function(){return!1},isWritableWrapped:function(){return!1},wrap:function(e){return e},unwrap:function(e){return e},assign:function(){rd.error("Method 'assign' should not be used for not wrapped variables. Use 'isWrapped' method for ensuring.")}});var ov=function(e,t){var i=[],r,n;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&i.push(r);for(i.sort(function(a,s){var o=ei(a),l=ei(s);return o&&l?a-s:o&&!l?-1:!o&&l?1:a<s?-1:a>s?1:0}),n=0;n<i.length;n++)r=i[n],t(r,e[r])},TP=function(e,t,i,r){!r&&cr.isWrapped(e[t])?cr.assign(e[t],i):e[t]=i},Sn=function e(t,i,r,n){var a,s;for(var o in i)if(a=t[o],s=i[o],!(o==="__proto__"||o==="constructor"||t===s)){if(Ct(s)){var l=r?at(a):Ct(a);s=e(l?a:{},s,r,n)}s!==void 0&&a!==s&&TP(t,o,s,n)}return t},IP=cr.unwrap,zT=cr.isWrapped,AP=cr.assign,OP=function(e){return e.replace(/\[/g,".").replace(/\]/g,"")},no=function(e){return OP(e).split(".")},DP=function(e,t,i){return i=i||{},Lu(t==="this"?e:e[t],i)},WT=function(e,t,i,r){if(t==="this")throw new qt.Error("E4016");var n=e[t];r.unwrapObservables&&zT(n)?AP(n,i):e[t]=i},jT=function(e){return e=e||{},e.unwrapObservables=e.unwrapObservables!==void 0?e.unwrapObservables:!0,e};function Lu(e,t){return t.unwrapObservables?IP(e):e}var Yt=function(e){if(arguments.length>1&&(e=[].slice.call(arguments)),!e||e==="this")return function(i){return i};if(typeof e=="string"){var t=no(e);return function(i,r){r=jT(r);for(var n=r.functionsAsIs,a=("defaultValue"in r),s=Lu(i,r),o=0;o<t.length;o++){if(!s){if(s==null&&a)return r.defaultValue;break}var l=t[o];if(a&&at(s)&&!(l in s))return r.defaultValue;var u=Lu(s[l],r);!n&&We(u)&&(u=u.call(s)),s=u}return s}}if(Array.isArray(e))return kP(e);if(We(e))return e};function kP(e){for(var t={},i=0,r=e.length;i<r;i++){var n=e[i];t[n]=Yt(n)}return function(a,s){var o;return ve(t,function(l){var u=this(a,s);if(u!==void 0){for(var d=o||(o={}),c=l.split("."),h=c.length-1,f=0;f<h;f++){var p=c[f];p in d||(d[p]={}),d=d[p]}d[c[h]]=u}}),o}}var ly=function(e,t,i,r){if(oe(i))return i;var n={};return WT(e,t,n,r),n},F_=function(e){e=no(e||"this");var t=e.length-1;return function(i,r,n){n=jT(n);var a=Lu(i,n);e.forEach(function(s,o){var l=DP(a,s,n),u=!n.functionsAsIs&&We(l)&&!zT(l);o===t?n.merge&&Ct(r)&&(!oe(l)||Ct(l))?(l=ly(a,s,l,n),Sn(l,r,!1,!0)):u?a[s](r):WT(a,s,r,n):(l=ly(a,s,l,n),u&&(l=l.call(a)),a=l)})}},Pi=function(e,t){return e instanceof Date?e.getTime():e&&e instanceof Ot&&e.valueOf?e.valueOf():!t&&typeof e=="string"?e.toLowerCase():e},hi=function(e,t){return oe(e)?e:t},N_=function(e,t){var i=new we,r=t||this,n={promise:i.promise(),abort:function(){clearTimeout(s),i.rejectWith(r)}},a=function(){var o=e.call(r);o&&o.done&&We(o.done)?o.done(function(){i.resolveWith(r)}):i.resolveWith(r)},s=(arguments[2]||setTimeout)(a,typeof t=="number"?t:0);return n},Ip=[],uy=[],Al=[],Eo,xf=function(e,t,i){if(Eo&&Eo!==e)return Ip.push(t),uy.push(e),i=i||new we,Al.push(i),i;var r=Eo,n=Al.length;Eo=e;var a=t();return a||(Al.length>n?a=Ke.apply(this,Al.slice(n)):i&&i.resolve()),Eo=r,i&&a&&a.done&&a.done(i.resolve).fail(i.reject),!Eo&&Ip.length&&(uy.shift()==="render"?Oi:dr)(Ip.shift(),Al.shift()),a||Ke()},Oi=function(e,t){return xf("render",e,t)},dr=function(e,t){return xf("update",e,t)},tl=function(e){return function(){var t=this;return xf("render",function(){return e.call(t)})}},dy=function(e){return function(){var t=this;return xf("update",function(){return e.call(t)})}},UT=function(e,t,i){var r=[],n=0;return ve(t,(a,s)=>{var o=0,l=i?i(s):s;ve(e,(u,d)=>{var c=l[u];if(c!==void 0){if(RP(c,d)){o++;return}return o=-1,!1}}),!(o<n)&&(o>n&&(r.length=0,n=o),r.push(s))}),r},RP=function(e,t){if(Array.isArray(e)&&Array.isArray(t)){var i=!1;return ve(e,(r,n)=>{if(n!==t[r])return i=!0,!1}),!i}return e===t},Cl=function(e){var t,i;switch(Xr(e)){case"string":return e.split(/\s+/,2);case"object":return[(t=e.x)!==null&&t!==void 0?t:e.h,(i=e.y)!==null&&i!==void 0?i:e.v];case"number":return[e];case"array":return e;default:return null}},V_=function(e,t){var i=Cl(e),r=t?parseFloat(i&&i[0]):parseInt(i&&i[0],10),n=t?parseFloat(i&&i[1]):parseInt(i&&i[1],10);return isFinite(r)||(r=0),isFinite(n)||(n=r),{h:r,v:n}},Mn=function(e){if(e instanceof Bi)return e.toString();if(at(e)||Array.isArray(e))try{var t=JSON.stringify(e);return t==="{}"?e:t}catch{return e}return e},$a=function(e){return e.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")},MP=function(e){var t=ii().serverDecimalSeparator;return oe(e)&&(e=e.toString().replace(".",t)),e},Ee=function(){},GT=function(){return new we().resolve().promise()},gr=function(e,t,i){for(var r=[],n,a=!i,s=0;s<e.length;s++)n=!!t(e[s],s),n===a&&r.push(e[s]);return r},BP=function(e,t,i){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!li(e[r],t[r],i+1))return!1;return!0},PP=function(e,t,i,r){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!li(e[n],t[n],i+1,r))return!1;for(var a in t)if(!(a in e))return!1;return!0},LP=3,li=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;e=Pi(e,!0),t=Pi(t,!0);var n=r?e===t:e==t;return n||i>=LP?!0:at(e)&&at(t)?PP(e,t,i,r):Array.isArray(e)&&Array.isArray(t)?BP(e,t,i):!1},dl=function(e){return e===0?0:e/Math.abs(e)},rr=function(e,t,i){var r=!t&&t!==0,n=!i&&i!==0;return r&&(t=n?e:Math.min(e,i)),n&&(i=r?e:Math.max(e,t)),Math.min(Math.max(e,t),i)},na=function(e,t,i){return e>=t&&e<=i};function hy(e){return Math.abs(parseInt(e.toExponential().split("e")[1]))}function FP(e){var t=e.toExponential().split("e"),i=parseFloat(t[0]),r=parseInt(t[1]);return{exponent:r,mantissa:i}}function KT(e,t){var i=FP(e);return parseFloat("".concat(i.mantissa,"e").concat(i.exponent+t))}function NP(){return 3e-4.toPrecision(3)!=="0.000300"}function qT(e,t){var i=VP(t||0)+2,r=e.toString().split("."),n=e,a=Math.abs(e),s,o=sy(e),l=a>1?10:0;return r.length===1?e:(o||(sy(t)&&(i=r[0].length+hy(t)),e=a,e=e-Math.floor(e)+l),i=NP()&&hy(e)>6||i>7?15:7,!o&&(s=parseFloat(e.toPrecision(i)).toString().split("."),s[0]===l.toString())?parseFloat(r[0]+"."+s[1]):parseFloat(n.toPrecision(i)))}function VP(e){var t=e.toString();if(t.indexOf(".")<0)return 0;var i=t.split("."),r=i[1].indexOf("e");return r>=0?r:i[1].length}var HP=10;function $P(e){var t=dl(e);return t*Math.round(Math.abs(e))}function zP(e,t){var i=Math.pow(HP,t),r=KT(e,t);return $P(r)/i}function XT(e,t){var i=t||0,r=i>0?zP(...arguments):e;return r.toFixed(i)}var WP={thousandsSeparator:",",decimalSeparator:"."},cy="'",jP=15,UP=2;function GP(e){return e.split(",").slice(1).map(function(t){var i=0;return t.split("").filter(function(r,n){i+=r==="'";var a=r==="#"||r==="0",s=i%2;return a&&!s}).length})}function KP(e){var t=e.split(";");return t.length===1&&t.push("-"+t[0]),t}function Ap(e){return e.toString().split("").reverse().join("")}function qP(e){return e.indexOf("%")!==-1&&!e.match(/'[^']*%[^']*'/g)}function YT(e){return e.replace(/'.+'/g,"")}function fy(e){if(!e)return 0;var t=YT(e);return t.length-t.replace(/[#]/g,"").length}function py(e){if(!e)return 0;var t=YT(e);return t.length-t.replace(/[0]/g,"").length}function my(e,t,i){if(!e)return"";for(e.length>i&&(e=e.substr(0,i));e.length>t&&e.slice(-1)==="0";)e=e.substr(0,e.length-1);for(;e.length<t;)e+="0";return e}function XP(e,t,i){if(!t.length)return e;for(var r=[],n=0;e;){var a=t[n];if(!a)break;r.push(e.slice(0,a)),e=e.slice(a),n<t.length-1&&n++}return r.join(i)}function gy(e,t){return e.split(cy).map(function(i,r){var n=r%2;return!i&&n?cy:n?i:i.replace(/[,#0]+/,t)}).join("")}function YP(e){for(var t=!1,i=0;i<e.length;i++)if(e[i]==="'"&&(t=!t),e[i]==="."&&!t)return i;return e.length}function ZP(e,t){return t=t||WP,function(i){if(typeof i!="number"||isNaN(i))return"";var r=KP(e),n=1/i===1/0,a=i>0||n,s=r[a?0:1],o=YP(s),l=[s.substr(0,o),s.substr(o+1)],u=py(l[1]),d=u+fy(l[1]);qP(s)&&(i=KT(i,UP)),a||(i=-i);var c=py(l[0]),h=fy(l[0])||t.unlimitedIntegerDigits?void 0:c,f=Math.floor(i).toString().length,p=rr(d,0,jP-f),g=GP(l[0]).reverse(),m=XT(i,p<0?0:p).split("."),v=my(Ap(m[0]),c,h),b=my(m[1],u,d);v=XP(v,g,t.thousandsSeparator);var E=Ap(gy(Ap(l[0]),v)),I=d?gy(l[1],b):"",R=E+(I.match(/\d/)?t.decimalSeparator:"")+I;return R}}function yu(e,t,i){var r=(t?.01:1)*parseFloat(e)||0;return i?-r:r}function vy(e,t,i,r){var n=e,a,s,o;do o&&(a=s.length===o.length?"0":"1",e=r?a+e:e+a),s=o||t(yu(n,i)),n=r?"1"+n:n+"1",o=t(yu(n,i));while(s!==o&&(r?s.length===o.length:s.length<=o.length));if(r&&o.length>s.length){var l=t(12345).indexOf("12345")===-1;do e="1"+e;while(l&&yu(e,i)<1e5)}return e}function _y(e,t,i,r){var n=t(yu(e,i,r)),a=e.split("."),s=a[0]+".3"+a[1].slice(1),o=yu(s,i,r),l=t(o).indexOf("3")-1;return n=n.replace(/(\d)\D(\d)/g,"$1,$2"),l>=0&&(n=n.slice(0,l)+"."+n.slice(l+1)),n=n.replace(/1+/,"1").replace(/1/g,"#"),i||(n=n.replace("%","'%'")),n}function JP(e){var t=".",i=e(1).indexOf("100")>=0;t=vy(t,e,i,!0),t=vy(t,e,i,!1);var r=_y(t,e,i,!1),n=_y(t,e,i,!0);return n==="-"+r?r:r+";"+n}const QP={_formatNumberCore:function(e,t,i){if(t==="currency"){i.precision=i.precision||0;var r=this.format(e,ce({},i,{type:"fixedpoint"})),n=this.getCurrencySymbol().symbol.replace(/\$/g,"$$$$");return r=r.replace(/^(\D*)(\d.*)/,"$1"+n+"$2"),r}return this.callBase.apply(this,arguments)},getCurrencySymbol:function(){return{symbol:"$"}},getOpenXmlCurrencyFormat:function(){return"$#,##0{0}_);\\($#,##0{0}\\)"}},e6={"en-150":"en-001","en-AG":"en-001","en-AI":"en-001","en-AU":"en-001","en-BB":"en-001","en-BM":"en-001","en-BS":"en-001","en-BW":"en-001","en-BZ":"en-001","en-CC":"en-001","en-CK":"en-001","en-CM":"en-001","en-CX":"en-001","en-CY":"en-001","en-DG":"en-001","en-DM":"en-001","en-ER":"en-001","en-FJ":"en-001","en-FK":"en-001","en-FM":"en-001","en-GB":"en-001","en-GD":"en-001","en-GG":"en-001","en-GH":"en-001","en-GI":"en-001","en-GM":"en-001","en-GY":"en-001","en-HK":"en-001","en-IE":"en-001","en-IL":"en-001","en-IM":"en-001","en-IN":"en-001","en-IO":"en-001","en-JE":"en-001","en-JM":"en-001","en-KE":"en-001","en-KI":"en-001","en-KN":"en-001","en-KY":"en-001","en-LC":"en-001","en-LR":"en-001","en-LS":"en-001","en-MG":"en-001","en-MO":"en-001","en-MS":"en-001","en-MT":"en-001","en-MU":"en-001","en-MV":"en-001","en-MW":"en-001","en-MY":"en-001","en-NA":"en-001","en-NF":"en-001","en-NG":"en-001","en-NR":"en-001","en-NU":"en-001","en-NZ":"en-001","en-PG":"en-001","en-PK":"en-001","en-PN":"en-001","en-PW":"en-001","en-RW":"en-001","en-SB":"en-001","en-SC":"en-001","en-SD":"en-001","en-SG":"en-001","en-SH":"en-001","en-SL":"en-001","en-SS":"en-001","en-SX":"en-001","en-SZ":"en-001","en-TC":"en-001","en-TK":"en-001","en-TO":"en-001","en-TT":"en-001","en-TV":"en-001","en-TZ":"en-001","en-UG":"en-001","en-VC":"en-001","en-VG":"en-001","en-VU":"en-001","en-WS":"en-001","en-ZA":"en-001","en-ZM":"en-001","en-ZW":"en-001","en-AT":"en-150","en-BE":"en-150","en-CH":"en-150","en-DE":"en-150","en-DK":"en-150","en-FI":"en-150","en-NL":"en-150","en-SE":"en-150","en-SI":"en-150","hi-Latn":"en-IN","es-AR":"es-419","es-BO":"es-419","es-BR":"es-419","es-BZ":"es-419","es-CL":"es-419","es-CO":"es-419","es-CR":"es-419","es-CU":"es-419","es-DO":"es-419","es-EC":"es-419","es-GT":"es-419","es-HN":"es-419","es-MX":"es-419","es-NI":"es-419","es-PA":"es-419","es-PE":"es-419","es-PR":"es-419","es-PY":"es-419","es-SV":"es-419","es-US":"es-419","es-UY":"es-419","es-VE":"es-419",nb:"no",nn:"no","pt-AO":"pt-PT","pt-CH":"pt-PT","pt-CV":"pt-PT","pt-FR":"pt-PT","pt-GQ":"pt-PT","pt-GW":"pt-PT","pt-LU":"pt-PT","pt-MO":"pt-PT","pt-MZ":"pt-PT","pt-ST":"pt-PT","pt-TL":"pt-PT","az-Arab":"und","az-Cyrl":"und","bal-Latn":"und","blt-Latn":"und","bm-Nkoo":"und","bs-Cyrl":"und","byn-Latn":"und","cu-Glag":"und","dje-Arab":"und","dyo-Arab":"und","en-Dsrt":"und","en-Shaw":"und","ff-Adlm":"und","ff-Arab":"und","ha-Arab":"und","iu-Latn":"und","kk-Arab":"und","ks-Deva":"und","ku-Arab":"und","ky-Arab":"und","ky-Latn":"und","ml-Arab":"und","mn-Mong":"und","mni-Mtei":"und","ms-Arab":"und","pa-Arab":"und","sat-Deva":"und","sd-Deva":"und","sd-Khoj":"und","sd-Sind":"und","shi-Latn":"und","so-Arab":"und","sr-Latn":"und","sw-Arab":"und","tg-Arab":"und","ug-Cyrl":"und","uz-Arab":"und","uz-Cyrl":"und","vai-Latn":"und","wo-Arab":"und","yo-Arab":"und","yue-Hans":"und","zh-Hant":"und","zh-Hant-MO":"zh-Hant-HK"};var t6="-";const i6=(e,t)=>{var i=e[t];return i?i!=="root"&&i:t.substr(0,t.lastIndexOf(t6))};var Op="en";const Pr=Jr({locale:(()=>{var e=Op;return t=>{if(!t)return e;e=t}})(),getValueByClosestLocale:function(e){for(var t=this.locale(),i=e(t),r;!i&&!r;)t=i6(e6,t),t?i=e(t):r=!0;return i===void 0&&t!==Op?e(Op):i}}),r6=(e,t)=>{if(t){var i=e;if(typeof e=="string"){i="";for(var r=0;r<e.length;r++)e[r]!=="$"&&(i+="\\"),i+=e[r]}for(var n={".00":"{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\¤":i},a=t.split(";"),s=0;s<a.length;s++)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(a[s]=a[s].replace(new RegExp(o,"g"),n[o]));return a.length===2?a[0]+"_);"+a[1]:a[0]}},n6={af:"¤#,##0.00;(¤#,##0.00)","af-NA":"¤#,##0.00;(¤#,##0.00)",agq:"#,##0.00¤",ak:"¤#,##0.00",am:"¤#,##0.00;(¤#,##0.00)",ar:"¤#,##0.00;(¤#,##0.00)","ar-AE":"¤#,##0.00;(¤#,##0.00)","ar-BH":"¤#,##0.00;(¤#,##0.00)","ar-DJ":"¤#,##0.00;(¤#,##0.00)","ar-DZ":"¤#,##0.00;(¤#,##0.00)","ar-EG":"¤#,##0.00;(¤#,##0.00)","ar-EH":"¤#,##0.00;(¤#,##0.00)","ar-ER":"¤#,##0.00;(¤#,##0.00)","ar-IL":"¤#,##0.00;(¤#,##0.00)","ar-IQ":"¤#,##0.00;(¤#,##0.00)","ar-JO":"¤#,##0.00;(¤#,##0.00)","ar-KM":"¤#,##0.00;(¤#,##0.00)","ar-KW":"¤#,##0.00;(¤#,##0.00)","ar-LB":"¤#,##0.00;(¤#,##0.00)","ar-LY":"¤#,##0.00;(¤#,##0.00)","ar-MA":"¤#,##0.00;(¤#,##0.00)","ar-MR":"¤#,##0.00;(¤#,##0.00)","ar-OM":"¤#,##0.00;(¤#,##0.00)","ar-PS":"¤#,##0.00;(¤#,##0.00)","ar-QA":"¤#,##0.00;(¤#,##0.00)","ar-SA":"¤#,##0.00;(¤#,##0.00)","ar-SD":"¤#,##0.00;(¤#,##0.00)","ar-SO":"¤#,##0.00;(¤#,##0.00)","ar-SS":"¤#,##0.00;(¤#,##0.00)","ar-SY":"¤#,##0.00;(¤#,##0.00)","ar-TD":"¤#,##0.00;(¤#,##0.00)","ar-TN":"¤#,##0.00;(¤#,##0.00)","ar-YE":"¤#,##0.00;(¤#,##0.00)",as:"¤ #,##,##0.00",asa:"#,##0.00 ¤",ast:"#,##0.00 ¤",az:"#,##0.00 ¤","az-Cyrl":"#,##0.00 ¤","az-Latn":"#,##0.00 ¤",bas:"#,##0.00 ¤",be:"#,##0.00 ¤","be-tarask":"#,##0.00 ¤",bem:"¤#,##0.00;(¤#,##0.00)",bez:"#,##0.00¤",bg:"0.00 ¤;(0.00 ¤)",bm:"¤#,##0.00;(¤#,##0.00)",bn:"#,##,##0.00¤;(#,##,##0.00¤)","bn-IN":"#,##,##0.00¤;(#,##,##0.00¤)",bo:"¤ #,##0.00","bo-IN":"¤ #,##0.00",br:"#,##0.00 ¤",brx:"¤ #,##,##0.00",bs:"#,##0.00 ¤","bs-Cyrl":"#,##0.00 ¤","bs-Latn":"#,##0.00 ¤",ca:"#,##0.00 ¤;(#,##0.00 ¤)","ca-AD":"#,##0.00 ¤;(#,##0.00 ¤)","ca-ES-valencia":"#,##0.00 ¤;(#,##0.00 ¤)","ca-FR":"#,##0.00 ¤;(#,##0.00 ¤)","ca-IT":"#,##0.00 ¤;(#,##0.00 ¤)",ccp:"#,##,##0.00¤;(#,##,##0.00¤)","ccp-IN":"#,##,##0.00¤;(#,##,##0.00¤)",ce:"#,##0.00 ¤",ceb:"¤#,##0.00;(¤#,##0.00)",cgg:"¤#,##0.00",chr:"¤#,##0.00;(¤#,##0.00)",ckb:"¤ #,##0.00","ckb-IR":"¤ #,##0.00",cs:"#,##0.00 ¤",cy:"¤#,##0.00;(¤#,##0.00)",da:"#,##0.00 ¤","da-GL":"#,##0.00 ¤",dav:"¤#,##0.00;(¤#,##0.00)",de:"#,##0.00 ¤","de-AT":"#,##0.00 ¤","de-BE":"#,##0.00 ¤","de-CH":"#,##0.00 ¤","de-IT":"#,##0.00 ¤","de-LI":"#,##0.00 ¤","de-LU":"#,##0.00 ¤",dje:"#,##0.00¤",doi:"¤#,##0.00",dsb:"#,##0.00 ¤",dua:"#,##0.00 ¤",dyo:"#,##0.00 ¤",dz:"¤#,##,##0.00",ebu:"¤#,##0.00;(¤#,##0.00)",ee:"¤#,##0.00;(¤#,##0.00)","ee-TG":"¤#,##0.00;(¤#,##0.00)",el:"#,##0.00 ¤","el-CY":"#,##0.00 ¤",en:"¤#,##0.00;(¤#,##0.00)","en-001":"¤#,##0.00;(¤#,##0.00)","en-150":"#,##0.00 ¤","en-AE":"¤#,##0.00;(¤#,##0.00)","en-AG":"¤#,##0.00;(¤#,##0.00)","en-AI":"¤#,##0.00;(¤#,##0.00)","en-AS":"¤#,##0.00;(¤#,##0.00)","en-AT":"¤ #,##0.00","en-AU":"¤#,##0.00;(¤#,##0.00)","en-BB":"¤#,##0.00;(¤#,##0.00)","en-BE":"#,##0.00 ¤","en-BI":"¤#,##0.00;(¤#,##0.00)","en-BM":"¤#,##0.00;(¤#,##0.00)","en-BS":"¤#,##0.00;(¤#,##0.00)","en-BW":"¤#,##0.00;(¤#,##0.00)","en-BZ":"¤#,##0.00;(¤#,##0.00)","en-CA":"¤#,##0.00;(¤#,##0.00)","en-CC":"¤#,##0.00;(¤#,##0.00)","en-CH":"¤ #,##0.00;¤-#,##0.00","en-CK":"¤#,##0.00;(¤#,##0.00)","en-CM":"¤#,##0.00;(¤#,##0.00)","en-CX":"¤#,##0.00;(¤#,##0.00)","en-CY":"¤#,##0.00;(¤#,##0.00)","en-DE":"#,##0.00 ¤","en-DG":"¤#,##0.00;(¤#,##0.00)","en-DK":"#,##0.00 ¤","en-DM":"¤#,##0.00;(¤#,##0.00)","en-ER":"¤#,##0.00;(¤#,##0.00)","en-FI":"#,##0.00 ¤","en-FJ":"¤#,##0.00;(¤#,##0.00)","en-FK":"¤#,##0.00;(¤#,##0.00)","en-FM":"¤#,##0.00;(¤#,##0.00)","en-GB":"¤#,##0.00;(¤#,##0.00)","en-GD":"¤#,##0.00;(¤#,##0.00)","en-GG":"¤#,##0.00;(¤#,##0.00)","en-GH":"¤#,##0.00;(¤#,##0.00)","en-GI":"¤#,##0.00;(¤#,##0.00)","en-GM":"¤#,##0.00;(¤#,##0.00)","en-GU":"¤#,##0.00;(¤#,##0.00)","en-GY":"¤#,##0.00;(¤#,##0.00)","en-HK":"¤#,##0.00;(¤#,##0.00)","en-IE":"¤#,##0.00;(¤#,##0.00)","en-IL":"¤#,##0.00;(¤#,##0.00)","en-IM":"¤#,##0.00;(¤#,##0.00)","en-IN":"¤#,##0.00;(¤#,##0.00)","en-IO":"¤#,##0.00;(¤#,##0.00)","en-JE":"¤#,##0.00;(¤#,##0.00)","en-JM":"¤#,##0.00;(¤#,##0.00)","en-KE":"¤#,##0.00;(¤#,##0.00)","en-KI":"¤#,##0.00;(¤#,##0.00)","en-KN":"¤#,##0.00;(¤#,##0.00)","en-KY":"¤#,##0.00;(¤#,##0.00)","en-LC":"¤#,##0.00;(¤#,##0.00)","en-LR":"¤#,##0.00;(¤#,##0.00)","en-LS":"¤#,##0.00;(¤#,##0.00)","en-MG":"¤#,##0.00;(¤#,##0.00)","en-MH":"¤#,##0.00;(¤#,##0.00)","en-MO":"¤#,##0.00;(¤#,##0.00)","en-MP":"¤#,##0.00;(¤#,##0.00)","en-MS":"¤#,##0.00;(¤#,##0.00)","en-MT":"¤#,##0.00;(¤#,##0.00)","en-MU":"¤#,##0.00;(¤#,##0.00)","en-MV":"¤ #,##0.00","en-MW":"¤#,##0.00;(¤#,##0.00)","en-MY":"¤#,##0.00;(¤#,##0.00)","en-NA":"¤#,##0.00;(¤#,##0.00)","en-NF":"¤#,##0.00;(¤#,##0.00)","en-NG":"¤#,##0.00;(¤#,##0.00)","en-NL":"¤ #,##0.00;(¤ #,##0.00)","en-NR":"¤#,##0.00;(¤#,##0.00)","en-NU":"¤#,##0.00;(¤#,##0.00)","en-NZ":"¤#,##0.00;(¤#,##0.00)","en-PG":"¤#,##0.00;(¤#,##0.00)","en-PH":"¤#,##0.00;(¤#,##0.00)","en-PK":"¤#,##0.00;(¤#,##0.00)","en-PN":"¤#,##0.00;(¤#,##0.00)","en-PR":"¤#,##0.00;(¤#,##0.00)","en-PW":"¤#,##0.00;(¤#,##0.00)","en-RW":"¤#,##0.00;(¤#,##0.00)","en-SB":"¤#,##0.00;(¤#,##0.00)","en-SC":"¤#,##0.00;(¤#,##0.00)","en-SD":"¤#,##0.00;(¤#,##0.00)","en-SE":"#,##0.00 ¤","en-SG":"¤#,##0.00;(¤#,##0.00)","en-SH":"¤#,##0.00;(¤#,##0.00)","en-SI":"#,##0.00 ¤;(#,##0.00 ¤)","en-SL":"¤#,##0.00;(¤#,##0.00)","en-SS":"¤#,##0.00;(¤#,##0.00)","en-SX":"¤#,##0.00;(¤#,##0.00)","en-SZ":"¤#,##0.00;(¤#,##0.00)","en-TC":"¤#,##0.00;(¤#,##0.00)","en-TK":"¤#,##0.00;(¤#,##0.00)","en-TO":"¤#,##0.00;(¤#,##0.00)","en-TT":"¤#,##0.00;(¤#,##0.00)","en-TV":"¤#,##0.00;(¤#,##0.00)","en-TZ":"¤#,##0.00;(¤#,##0.00)","en-UG":"¤#,##0.00;(¤#,##0.00)","en-UM":"¤#,##0.00;(¤#,##0.00)","en-VC":"¤#,##0.00;(¤#,##0.00)","en-VG":"¤#,##0.00;(¤#,##0.00)","en-VI":"¤#,##0.00;(¤#,##0.00)","en-VU":"¤#,##0.00;(¤#,##0.00)","en-WS":"¤#,##0.00;(¤#,##0.00)","en-ZA":"¤#,##0.00;(¤#,##0.00)","en-ZM":"¤#,##0.00;(¤#,##0.00)","en-ZW":"¤#,##0.00;(¤#,##0.00)",eo:"¤ #,##0.00",es:"#,##0.00 ¤","es-419":"¤#,##0.00","es-AR":"¤ #,##0.00;(¤ #,##0.00)","es-BO":"¤#,##0.00","es-BR":"¤#,##0.00","es-BZ":"¤#,##0.00","es-CL":"¤#,##0.00","es-CO":"¤#,##0.00","es-CR":"¤#,##0.00","es-CU":"¤#,##0.00","es-DO":"¤#,##0.00;(¤#,##0.00)","es-EA":"#,##0.00 ¤","es-EC":"¤#,##0.00","es-GQ":"#,##0.00 ¤","es-GT":"¤#,##0.00","es-HN":"¤#,##0.00","es-IC":"#,##0.00 ¤","es-MX":"¤#,##0.00","es-NI":"¤#,##0.00","es-PA":"¤#,##0.00","es-PE":"¤#,##0.00","es-PH":"#,##0.00 ¤","es-PR":"¤#,##0.00","es-PY":"¤#,##0.00","es-SV":"¤#,##0.00","es-US":"¤#,##0.00","es-UY":"¤ #,##0.00;(¤ #,##0.00)","es-VE":"¤#,##0.00",et:"#,##0.00 ¤;(#,##0.00 ¤)",eu:"#,##0.00 ¤;(#,##0.00 ¤)",ewo:"#,##0.00 ¤",fa:"‎¤ #,##0.00;‎(¤ #,##0.00)","fa-AF":"¤ #,##0.00;‎(¤ #,##0.00)",ff:"#,##0.00 ¤","ff-Adlm":"¤ #,##0.00","ff-Adlm-BF":"¤ #,##0.00","ff-Adlm-CM":"¤ #,##0.00","ff-Adlm-GH":"¤ #,##0.00","ff-Adlm-GM":"¤ #,##0.00","ff-Adlm-GW":"¤ #,##0.00","ff-Adlm-LR":"¤ #,##0.00","ff-Adlm-MR":"¤ #,##0.00","ff-Adlm-NE":"¤ #,##0.00","ff-Adlm-NG":"¤ #,##0.00","ff-Adlm-SL":"¤ #,##0.00","ff-Adlm-SN":"¤ #,##0.00","ff-Latn":"#,##0.00 ¤","ff-Latn-BF":"#,##0.00 ¤","ff-Latn-CM":"#,##0.00 ¤","ff-Latn-GH":"#,##0.00 ¤","ff-Latn-GM":"#,##0.00 ¤","ff-Latn-GN":"#,##0.00 ¤","ff-Latn-GW":"#,##0.00 ¤","ff-Latn-LR":"#,##0.00 ¤","ff-Latn-MR":"#,##0.00 ¤","ff-Latn-NE":"#,##0.00 ¤","ff-Latn-NG":"#,##0.00 ¤","ff-Latn-SL":"#,##0.00 ¤",fi:"#,##0.00 ¤",fil:"¤#,##0.00;(¤#,##0.00)",fo:"#,##0.00 ¤;(#,##0.00 ¤)","fo-DK":"#,##0.00 ¤;(#,##0.00 ¤)",fr:"#,##0.00 ¤;(#,##0.00 ¤)","fr-BE":"#,##0.00 ¤;(#,##0.00 ¤)","fr-BF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-BI":"#,##0.00 ¤;(#,##0.00 ¤)","fr-BJ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-BL":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CA":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CD":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CG":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CH":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CI":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CM":"#,##0.00 ¤;(#,##0.00 ¤)","fr-DJ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-DZ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GA":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GN":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GP":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GQ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-HT":"#,##0.00 ¤;(#,##0.00 ¤)","fr-KM":"#,##0.00 ¤;(#,##0.00 ¤)","fr-LU":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MA":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MC":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MG":"#,##0.00 ¤;(#,##0.00 ¤)","fr-ML":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MQ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MR":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MU":"#,##0.00 ¤;(#,##0.00 ¤)","fr-NC":"#,##0.00 ¤;(#,##0.00 ¤)","fr-NE":"#,##0.00 ¤;(#,##0.00 ¤)","fr-PF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-PM":"#,##0.00 ¤;(#,##0.00 ¤)","fr-RE":"#,##0.00 ¤;(#,##0.00 ¤)","fr-RW":"#,##0.00 ¤;(#,##0.00 ¤)","fr-SC":"#,##0.00 ¤;(#,##0.00 ¤)","fr-SN":"#,##0.00 ¤;(#,##0.00 ¤)","fr-SY":"#,##0.00 ¤;(#,##0.00 ¤)","fr-TD":"#,##0.00 ¤;(#,##0.00 ¤)","fr-TG":"#,##0.00 ¤;(#,##0.00 ¤)","fr-TN":"#,##0.00 ¤;(#,##0.00 ¤)","fr-VU":"#,##0.00 ¤;(#,##0.00 ¤)","fr-WF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-YT":"#,##0.00 ¤;(#,##0.00 ¤)",fur:"¤ #,##0.00",fy:"¤ #,##0.00;(¤ #,##0.00)",ga:"¤#,##0.00;(¤#,##0.00)","ga-GB":"¤#,##0.00;(¤#,##0.00)",gd:"¤#,##0.00;(¤#,##0.00)",gl:"#,##0.00 ¤",gsw:"#,##0.00 ¤","gsw-FR":"#,##0.00 ¤","gsw-LI":"#,##0.00 ¤",gu:"¤#,##,##0.00;(¤#,##,##0.00)",guz:"¤#,##0.00;(¤#,##0.00)",gv:"¤#,##0.00",ha:"¤ #,##0.00","ha-GH":"¤ #,##0.00","ha-NE":"¤ #,##0.00",haw:"¤#,##0.00;(¤#,##0.00)",he:"#,##0.00 ¤",hi:"¤#,##,##0.00","hi-Latn":"¤#,##,##0.00",hr:"#,##0.00 ¤","hr-BA":"#,##0.00 ¤",hsb:"#,##0.00 ¤",hu:"#,##0.00 ¤",hy:"#,##0.00 ¤",ia:"¤ #,##0.00;(¤ #,##0.00)",id:"¤#,##0.00",ig:"¤#,##0.00;(¤#,##0.00)",ii:"¤ #,##0.00",is:"#,##0.00 ¤",it:"#,##0.00 ¤","it-CH":"#,##0.00 ¤","it-SM":"#,##0.00 ¤","it-VA":"#,##0.00 ¤",ja:"¤#,##0.00;(¤#,##0.00)",jgo:"¤ #,##0.00",jmc:"¤#,##0.00",jv:"¤ #,##0.00",ka:"#,##0.00 ¤",kab:"#,##0.00¤",kam:"¤#,##0.00;(¤#,##0.00)",kde:"¤#,##0.00;(¤#,##0.00)",kea:"#,##0.00 ¤;(#,##0.00 ¤)",kgp:"¤ #,##0.00",khq:"#,##0.00¤",ki:"¤#,##0.00;(¤#,##0.00)",kk:"#,##0.00 ¤",kkj:"¤ #,##0.00",kl:"¤#,##0.00;¤-#,##0.00",kln:"¤#,##0.00;(¤#,##0.00)",km:"#,##0.00¤;(#,##0.00¤)",kn:"¤#,##0.00;(¤#,##0.00)",ko:"¤#,##0.00;(¤#,##0.00)","ko-KP":"¤#,##0.00;(¤#,##0.00)",kok:"¤#,##0.00;(¤#,##0.00)",ks:"¤#,##0.00","ks-Arab":"¤#,##0.00","ks-Deva":"¤ #,##0.00",ksb:"#,##0.00¤",ksf:"#,##0.00 ¤",ksh:"#,##0.00 ¤",ku:"#,##0.00 ¤;(#,##0.00 ¤)",kw:"¤#,##0.00",ky:"#,##0.00 ¤",lag:"¤ #,##0.00",lb:"#,##0.00 ¤",lg:"#,##0.00¤",lkt:"¤ #,##0.00",ln:"#,##0.00 ¤","ln-AO":"#,##0.00 ¤","ln-CF":"#,##0.00 ¤","ln-CG":"#,##0.00 ¤",lo:"¤#,##0.00;¤-#,##0.00",lrc:"¤ #,##0.00","lrc-IQ":"¤ #,##0.00",lt:"#,##0.00 ¤",lu:"#,##0.00¤",luo:"#,##0.00¤",luy:"¤#,##0.00;¤- #,##0.00",lv:"#,##0.00 ¤",mai:"¤ #,##0.00",mas:"¤#,##0.00;(¤#,##0.00)","mas-TZ":"¤#,##0.00;(¤#,##0.00)",mer:"¤#,##0.00;(¤#,##0.00)",mfe:"¤ #,##0.00",mg:"¤#,##0.00",mgh:"¤ #,##0.00",mgo:"¤ #,##0.00",mi:"¤ #,##0.00",mk:"#,##0.00 ¤",ml:"¤#,##0.00;(¤#,##0.00)",mn:"¤ #,##0.00",mni:"¤ #,##0.00","mni-Beng":"¤ #,##0.00",mr:"¤#,##0.00;(¤#,##0.00)",ms:"¤#,##0.00;(¤#,##0.00)","ms-BN":"¤#,##0.00;(¤#,##0.00)","ms-ID":"¤#,##0.00","ms-SG":"¤#,##0.00;(¤#,##0.00)",mt:"¤#,##0.00",mua:"¤#,##0.00;(¤#,##0.00)",my:"¤ #,##0.00",mzn:"¤ #,##0.00",naq:"¤#,##0.00",nb:"¤ #,##0.00;(¤ #,##0.00)","nb-SJ":"¤ #,##0.00;(¤ #,##0.00)",nd:"¤#,##0.00;(¤#,##0.00)",nds:"¤ #,##0.00","nds-NL":"¤ #,##0.00",ne:"¤ #,##,##0.00","ne-IN":"¤ #,##,##0.00",nl:"¤ #,##0.00;(¤ #,##0.00)","nl-AW":"¤ #,##0.00;(¤ #,##0.00)","nl-BE":"¤ #,##0.00;(¤ #,##0.00)","nl-BQ":"¤ #,##0.00;(¤ #,##0.00)","nl-CW":"¤ #,##0.00;(¤ #,##0.00)","nl-SR":"¤ #,##0.00;(¤ #,##0.00)","nl-SX":"¤ #,##0.00;(¤ #,##0.00)",nmg:"#,##0.00 ¤",nn:"#,##0.00 ¤",nnh:"¤ #,##0.00",no:"¤ #,##0.00;(¤ #,##0.00)",nus:"¤#,##0.00;(¤#,##0.00)",nyn:"¤#,##0.00",om:"¤#,##0.00","om-KE":"¤#,##0.00",or:"¤#,##0.00;(¤#,##0.00)",os:"¤ #,##0.00","os-RU":"¤ #,##0.00",pa:"¤ #,##0.00","pa-Arab":"¤ #,##0.00","pa-Guru":"¤ #,##0.00",pcm:"¤#,##0.00",pl:"#,##0.00 ¤;(#,##0.00 ¤)",ps:"¤#,##0.00;(¤#,##0.00)","ps-PK":"¤#,##0.00;(¤#,##0.00)",pt:"¤ #,##0.00","pt-AO":"#,##0.00 ¤;(#,##0.00 ¤)","pt-CH":"#,##0.00 ¤;(#,##0.00 ¤)","pt-CV":"#,##0.00 ¤;(#,##0.00 ¤)","pt-GQ":"#,##0.00 ¤;(#,##0.00 ¤)","pt-GW":"#,##0.00 ¤;(#,##0.00 ¤)","pt-LU":"#,##0.00 ¤;(#,##0.00 ¤)","pt-MO":"#,##0.00 ¤;(#,##0.00 ¤)","pt-MZ":"#,##0.00 ¤;(#,##0.00 ¤)","pt-PT":"#,##0.00 ¤;(#,##0.00 ¤)","pt-ST":"#,##0.00 ¤;(#,##0.00 ¤)","pt-TL":"#,##0.00 ¤;(#,##0.00 ¤)",qu:"¤ #,##0.00","qu-BO":"¤ #,##0.00","qu-EC":"¤ #,##0.00",rm:"#,##0.00 ¤",rn:"#,##0.00¤",ro:"#,##0.00 ¤;(#,##0.00 ¤)","ro-MD":"#,##0.00 ¤;(#,##0.00 ¤)",rof:"¤#,##0.00",ru:"#,##0.00 ¤","ru-BY":"#,##0.00 ¤","ru-KG":"#,##0.00 ¤","ru-KZ":"#,##0.00 ¤","ru-MD":"#,##0.00 ¤","ru-UA":"#,##0.00 ¤",rw:"¤ #,##0.00",rwk:"#,##0.00¤",sa:"¤ #,##0.00",sah:"#,##0.00 ¤",saq:"¤#,##0.00;(¤#,##0.00)",sat:"¤ #,##0.00","sat-Olck":"¤ #,##0.00",sbp:"#,##0.00¤",sc:"#,##0.00 ¤",sd:"¤ #,##0.00","sd-Arab":"¤ #,##0.00","sd-Deva":"¤ #,##0.00",se:"#,##0.00 ¤","se-FI":"#,##0.00 ¤","se-SE":"#,##0.00 ¤",seh:"#,##0.00¤",ses:"#,##0.00¤",sg:"¤#,##0.00;¤-#,##0.00",shi:"#,##0.00¤","shi-Latn":"#,##0.00¤","shi-Tfng":"#,##0.00¤",si:"¤#,##0.00;(¤#,##0.00)",sk:"#,##0.00 ¤;(#,##0.00 ¤)",sl:"#,##0.00 ¤;(#,##0.00 ¤)",smn:"#,##0.00 ¤",sn:"¤#,##0.00;(¤#,##0.00)",so:"¤#,##0.00;(¤#,##0.00)","so-DJ":"¤#,##0.00;(¤#,##0.00)","so-ET":"¤#,##0.00;(¤#,##0.00)","so-KE":"¤#,##0.00;(¤#,##0.00)",sq:"#,##0.00 ¤;(#,##0.00 ¤)","sq-MK":"#,##0.00 ¤;(#,##0.00 ¤)","sq-XK":"#,##0.00 ¤;(#,##0.00 ¤)",sr:"#,##0.00 ¤;(#,##0.00 ¤)","sr-Cyrl":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Cyrl-BA":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Cyrl-ME":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Cyrl-XK":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Latn":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Latn-BA":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Latn-ME":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Latn-XK":"#,##0.00 ¤;(#,##0.00 ¤)",su:"¤#,##0.00","su-Latn":"¤#,##0.00",sv:"#,##0.00 ¤","sv-AX":"#,##0.00 ¤","sv-FI":"#,##0.00 ¤",sw:"¤ #,##0.00","sw-CD":"¤ #,##0.00","sw-KE":"¤ #,##0.00","sw-UG":"¤ #,##0.00",ta:"¤#,##0.00;(¤#,##0.00)","ta-LK":"¤#,##0.00;(¤#,##0.00)","ta-MY":"¤#,##0.00;(¤#,##0.00)","ta-SG":"¤#,##0.00;(¤#,##0.00)",te:"¤#,##0.00;(¤#,##0.00)",teo:"¤#,##0.00;(¤#,##0.00)","teo-KE":"¤#,##0.00;(¤#,##0.00)",tg:"#,##0.00 ¤",th:"¤#,##0.00;(¤#,##0.00)",ti:"¤#,##0.00","ti-ER":"¤#,##0.00",tk:"#,##0.00 ¤",to:"¤ #,##0.00",tr:"¤#,##0.00;(¤#,##0.00)","tr-CY":"¤#,##0.00;(¤#,##0.00)",tt:"#,##0.00 ¤",twq:"#,##0.00¤",tzm:"#,##0.00 ¤",ug:"¤#,##0.00;(¤#,##0.00)",uk:"#,##0.00 ¤",und:"¤ #,##0.00",ur:"¤#,##0.00;(¤#,##0.00)","ur-IN":"¤#,##0.00;(¤#,##0.00)",uz:"#,##0.00 ¤","uz-Arab":"¤ #,##0.00","uz-Cyrl":"#,##0.00 ¤","uz-Latn":"#,##0.00 ¤",vai:"¤#,##0.00;(¤#,##0.00)","vai-Latn":"¤#,##0.00;(¤#,##0.00)","vai-Vaii":"¤#,##0.00;(¤#,##0.00)",vi:"#,##0.00 ¤",vun:"¤#,##0.00",wae:"¤ #,##0.00",wo:"¤ #,##0.00",xh:"¤#,##0.00",xog:"#,##0.00 ¤",yav:"#,##0.00 ¤;(#,##0.00 ¤)",yi:"¤ #,##0.00",yo:"¤#,##0.00;(¤#,##0.00)","yo-BJ":"¤#,##0.00;(¤#,##0.00)",yrl:"¤ #,##0.00","yrl-CO":"¤ #,##0.00","yrl-VE":"¤ #,##0.00",yue:"¤#,##0.00;(¤#,##0.00)","yue-Hans":"¤#,##0.00;(¤#,##0.00)","yue-Hant":"¤#,##0.00;(¤#,##0.00)",zgh:"#,##0.00¤",zh:"¤#,##0.00;(¤#,##0.00)","zh-Hans":"¤#,##0.00;(¤#,##0.00)","zh-Hans-HK":"¤#,##0.00;(¤#,##0.00)","zh-Hans-MO":"¤#,##0.00;(¤#,##0.00)","zh-Hans-SG":"¤#,##0.00;(¤#,##0.00)","zh-Hant":"¤#,##0.00;(¤#,##0.00)","zh-Hant-HK":"¤#,##0.00;(¤#,##0.00)","zh-Hant-MO":"¤#,##0.00;(¤#,##0.00)",zu:"¤#,##0.00;(¤#,##0.00)"};var a6=["standard","accounting"],s6=/([^\s0]+)?(\s*)0*[.,]*0*(\s*)([^\s0]+)?/,Dp={},by=e=>{var t=Pr.locale()+"/"+JSON.stringify(e);return Dp[t]||(Dp[t]=new Intl.NumberFormat(Pr.locale(),e).format),Dp[t]},o6=e=>new Intl.NumberFormat(Pr.locale(),{style:"currency",currency:e});const l6={engine:function(){return"intl"},_formatNumberCore:function(e,t,i){return t==="exponential"?this.callBase.apply(this,arguments):by(this._normalizeFormatConfig(t,i,e))(e)},_normalizeFormatConfig:function(e,t,i){var r;if(e==="decimal"?r={minimumIntegerDigits:t.precision||void 0,useGrouping:!1,maximumFractionDigits:String(i).length,round:i<0?"ceil":"floor"}:r=this._getPrecisionConfig(t.precision),e==="percent")r.style="percent";else if(e==="currency"){var n,a=(n=t.useCurrencyAccountingStyle)!==null&&n!==void 0?n:ii().defaultUseCurrencyAccountingStyle;r.style="currency",r.currency=t.currency||ii().defaultCurrency,r.currencySign=a6[+a]}return r},_getPrecisionConfig:function(e){var t;return e===null?t={minimumFractionDigits:0,maximumFractionDigits:20}:t={minimumFractionDigits:e||0,maximumFractionDigits:e||0},t},format:function(e,t){return typeof e!="number"?e:(t=this._normalizeFormat(t),t.currency==="default"&&(t.currency=ii().defaultCurrency),!t||typeof t!="function"&&!t.type&&!t.formatter?by(t)(e):this.callBase.apply(this,arguments))},_getCurrencySymbolInfo:function(e){var t=o6(e);return this._extractCurrencySymbolInfo(t.format(0))},_extractCurrencySymbolInfo:function(e){var t=s6.exec(e)||[],i=t[1]?"before":"after",r=t[1]||t[4]||"",n=t[2]||t[3]||"";return{position:i,symbol:r,delimiter:n}},getCurrencySymbol:function(e){e||(e=ii().defaultCurrency);var t=this._getCurrencySymbolInfo(e);return{symbol:t.symbol}},getOpenXmlCurrencyFormat:function(e){var t=e||ii().defaultCurrency,i=this._getCurrencySymbolInfo(t).symbol,r=Pr.getValueByClosestLocale(n=>n6[n]);return r6(i,r)}};var u6=typeof Intl<"u",d6=4,qd=10,yy=["currency","fixedpoint","exponential","percent","decimal"],kp={1:"K",2:"M",3:"B",4:"T"},Cy={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},Xt=Jr({engine:function(){return"base"},numericFormats:yy,defaultLargeNumberFormatPostfixes:kp,_parseNumberFormatString:function(e){var t={};if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(" ");if(ve(i,(r,n)=>{yy.includes(n)?t.formatType=n:n in Cy&&(t.power=Cy[n])}),t.power&&!t.formatType&&(t.formatType="fixedpoint"),t.formatType)return t}},_calculateNumberPower:function(e,t,i,r){var n=Math.abs(e),a=0;if(n>1)for(;n&&n>=t&&(r===void 0||a<r);)a++,n/=t;else if(n>0&&n<1)for(;n<1&&(i===void 0||a>i);)a--,n*=t;return a},_getNumberByPower:function(e,t,i){for(var r=e;t>0;)r/=i,t--;for(;t<0;)r*=i,t++;return r},_formatNumber:function(e,t,i){t.power==="auto"&&(t.power=this._calculateNumberPower(e,1e3,0,d6)),t.power&&(e=this._getNumberByPower(e,t.power,1e3));var r=this.defaultLargeNumberFormatPostfixes[t.power]||"",n=this._formatNumberCore(e,t.formatType,i);return n=n.replace(/(\d|.$)(\D*)$/,"$1"+r+"$2"),n},_formatNumberExponential:function(e,t){var i=this._calculateNumberPower(e,qd),r=this._getNumberByPower(e,i,qd);t.precision===void 0&&(t.precision=1),r.toFixed(t.precision||0)>=qd&&(i++,r/=qd);var n=(i>=0?"+":"")+i.toString();return this._formatNumberCore(r,"fixedpoint",t)+"E"+n},_addZeroes:function(e,t){var i=Math.pow(10,t),r=e<0?"-":"";e=(Math.abs(e)*i>>>0)/i;for(var n=e.toString();n.length<t;)n="0"+n;return r+n},_addGroupSeparators:function(e){var t=e.toString().split(".");return t[0].replace(/\B(?=(\d{3})+(?!\d))/g,ii().thousandsSeparator)+(t[1]?ii().decimalSeparator+t[1]:"")},_formatNumberCore:function(e,t,i){return t==="exponential"?this._formatNumberExponential(e,i):(t!=="decimal"&&i.precision!==null&&(i.precision=i.precision||0),t==="percent"&&(e*=100),i.precision!==void 0&&(t==="decimal"?e=this._addZeroes(e,i.precision):e=i.precision===null?e.toPrecision():XT(e,i.precision)),t!=="decimal"?e=this._addGroupSeparators(e):e=e.toString().replace(".",ii().decimalSeparator),t==="percent"&&(e+="%"),e)},_normalizeFormat:function(e){return e?(typeof e=="function"||Ct(e)||(e={type:e}),e):{}},_getSeparators:function(){return{decimalSeparator:this.getDecimalSeparator(),thousandsSeparator:this.getThousandsSeparator()}},getThousandsSeparator:function(){return this.format(1e4,"fixedPoint")[2]},getDecimalSeparator:function(){return this.format(1.2,{type:"fixedPoint",precision:1})[1]},convertDigits:function(e,t){var i=this.format(90,"decimal");if(typeof e!="string"||i[1]==="0")return e;var r=t?i[1]:"0",n=t?"0":i[1],a=t?i[0]:"9",s=new RegExp("["+r+"-"+a+"]","g");return e.replace(s,o=>String.fromCharCode(o.charCodeAt(0)+(n.charCodeAt(0)-r.charCodeAt(0))))},getNegativeEtalonRegExp:function(e){var t=this._getSeparators(),i=new RegExp("[0-9"+$a(t.decimalSeparator+t.thousandsSeparator)+"]+","g"),r=this.format(-1,e).replace(i,"1");return["\\","(",")","[","]","*","+","$","^","?","|","{","}"].forEach(n=>{r=r.replace(new RegExp("\\".concat(n),"g"),"\\".concat(n))}),r=r.replace(/ /g,"\\s"),r=r.replace(/1/g,".*"),new RegExp(r,"g")},getSign:function(e,t){if(!t)return e.replace(/[^0-9-]/g,"").charAt(0)==="-"?-1:1;var i=this.getNegativeEtalonRegExp(t);return e.match(i)?-1:1},format:function(e,t){if(typeof e!="number"||typeof t=="number")return e;if(t=t&&t.formatter||t,typeof t=="function")return t(e);t=this._normalizeFormat(t),t.type||(t.type="decimal");var i=this._parseNumberFormatString(t.type);if(!i){var r=this._getSeparators();return r.unlimitedIntegerDigits=t.unlimitedIntegerDigits,this.convertDigits(ZP(t.type,r)(e))}return this._formatNumber(e,i,t)},parse:function(e,t){if(e){if(t&&t.parser)return t.parser(e);e=this.convertDigits(e,!0),t&&typeof t!="string"&&qt.log("W0011");var i=this.getDecimalSeparator(),r=new RegExp("[^0-9"+$a(i)+"]","g"),n=e.replace(r,"").replace(i,".").replace(/\.$/g,"");if(n==="."||n==="")return null;if(this._calcSignificantDigits(n)>15)return NaN;var a=+n*this.getSign(e,t);t=this._normalizeFormat(t);var s=this._parseNumberFormatString(t.type),o=s==null?void 0:s.power;if(o){if(o==="auto"){var l=e.match(/\d(K|M|B|T)/);l&&(o=Object.keys(kp).find(u=>kp[u]===l[1]))}a*=Math.pow(10,3*o)}return(s==null?void 0:s.formatType)==="percent"&&(a/=100),a}},_calcSignificantDigits:function(e){var[t,i]=e.split("."),r=a=>{for(var s=-1,o=0;o<a.length;o++)if(a[o]!=="0"){s=o;break}return s>-1?a.length-s:0},n=0;return t&&(n+=r(t.split(""))),i&&(n+=r(i.split("").reverse())),n}});Xt.inject(QP);u6&&Xt.inject(l6);function Nr(e,t){for(;e.length<t;)e="0"+e;return e}var Ol={3:"abbreviated",4:"wide",5:"narrow"},lv={y:function(e,t,i){var r=e[i?"getUTCFullYear":"getFullYear"]();return t===2&&(r%=100),Nr(r.toString(),t)},M:function(e,t,i,r){var n=e[i?"getUTCMonth":"getMonth"](),a=Ol[t];return a?r.getMonthNames(a,"format")[n]:Nr((n+1).toString(),Math.min(t,2))},L:function(e,t,i,r){var n=e[i?"getUTCMonth":"getMonth"](),a=Ol[t];return a?r.getMonthNames(a,"standalone")[n]:Nr((n+1).toString(),Math.min(t,2))},Q:function(e,t,i,r){var n=e[i?"getUTCMonth":"getMonth"](),a=Math.floor(n/3),s=Ol[t];return s?r.getQuarterNames(s)[a]:Nr((a+1).toString(),Math.min(t,2))},E:function(e,t,i,r){var n=e[i?"getUTCDay":"getDay"](),a=Ol[t<3?3:t];return r.getDayNames(a)[n]},a:function(e,t,i,r){var n=e[i?"getUTCHours":"getHours"](),a=n<12?0:1,s=Ol[t];return r.getPeriodNames(s)[a]},d:function(e,t,i){return Nr(e[i?"getUTCDate":"getDate"]().toString(),Math.min(t,2))},H:function(e,t,i){return Nr(e[i?"getUTCHours":"getHours"]().toString(),Math.min(t,2))},h:function(e,t,i){var r=e[i?"getUTCHours":"getHours"]();return Nr((r%12||12).toString(),Math.min(t,2))},m:function(e,t,i){return Nr(e[i?"getUTCMinutes":"getMinutes"]().toString(),Math.min(t,2))},s:function(e,t,i){return Nr(e[i?"getUTCSeconds":"getSeconds"]().toString(),Math.min(t,2))},S:function(e,t,i){return Nr(e[i?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,t)},x:function(e,t,i){var r=i?0:e.getTimezoneOffset(),n=r>0?"-":"+",a=Math.abs(r),s=Math.floor(a/60),o=a%60,l=Nr(s.toString(),2),u=Nr(o.toString(),2);return n+l+(t>=3?":":"")+(t>1||o?u:"")},X:function(e,t,i){return i||!e.getTimezoneOffset()?"Z":lv.x(e,t,i)},Z:function(e,t,i){return lv.X(e,t>=5?3:2,i)}},ZT=function(e,t){return function(i){var r,n,a,s=0,o=!1,l,u="";if(!i)return null;if(!e)return i;var d=e[e.length-1]==="Z"||e.slice(-3)==="'Z'";for(r=0;r<e.length;r++)a=e[r],n=lv[a],l=a===e[r+1],s++,l||(n&&!o&&(u+=n(i,s,d,t)),s=0),a==="'"&&!l?o=!o:(o||!n)&&(u+=a),a==="'"&&l&&r++;return u}},h6="،",JT=" .,:;/\\<>()-[]"+h6,c6=". m.",za=function(e){var t=e&&Xt.convertDigits(e,!1).charCodeAt(0),i=Xt.convertDigits("0",!1).charCodeAt(0);return i<=t&&t<i+10},f6=function(e,t,i,r){var n=e[i],a=e[i+1];if(!r&&(n==="."||n===" "&&e.slice(i-1,i+3)===c6||n==="-"&&!za(a)))return!0;var s=r&&t.some(o=>e[i]!==o[i]);return JT.indexOf(n)<0&&r===za(n)&&(!r||s)},p6=function(e,t){if(!za(e[t]))for(;t>0&&!za(e[t-1])&&(e[t-1]==="."||JT.indexOf(e[t-1])<0);)t--;return t},m6=function(e,t,i,r){var n=0,a=[],s=function(o){return e[n]!==o[n]&&(r===void 0||za(e[n])===r)};for(Array.isArray(t)||(t=[t]),n=0;n<e.length;n++)if(i.indexOf(n)<0&&t.filter(s).length){n=p6(e,n);do{if(r=za(e[n]),!a.length&&!r&&za(t[0][n]))break;a.push(n),i.unshift(n),n++}while(e[n]&&f6(e,t,n,r));break}return a.length===1&&(e[i[0]-1]==="0"||e[i[0]-1]==="٠")&&i.unshift(i[0]-1),a},g6=function(e,t,i,r){var n=t[0],a=n<r.length?r[n]:n;return t.forEach(function(s,o){e=e.substr(0,a+o)+(i.length>1?i[o]:i)+e.substr(a+o+1)}),t.length===1&&(e=e.replace("0"+i,i+i),e=e.replace("٠"+i,i+i)),e},v6=function(e,t,i,r){var n,a,s;if(!za(e[t[0]]||"0")){for(var o=Math.max(t.length<=3?3:4,i.length);t.length>o;){for(a=t.pop(),s=r[a],r[a]=-1,n=a+1;n<r.length;n++)r[n]--;e=e.substr(0,s)+e.substr(s+1)}for(a=t[t.length-1]+1,s=a<r.length?r[a]:a;t.length<o;){for(t.push(t[t.length-1]+1),n=a;n<r.length;n++)r[n]++;e=e.substr(0,s)+" "+e.substr(s)}}return e=g6(e,t,i,r),e},xy=function(e,t){return Array.isArray(e)?e.map(function(i){return(t(i)||"").toString()}):(t(e)||"").toString()},_6=/[a-zA-Z]/g,b6=function(e,t,i,r){var n=t.split("").map(function(a,s){return i.indexOf(s)<0&&(a.match(_6)||a==="'")?r[s]:-1});return e=e.split("").map(function(a,s){var o=a,l=n.indexOf(s)>=0,u=s>0&&n.indexOf(s-1)>=0,d=n.indexOf(s+1)>=0;return l&&(u||(o="'"+o),d||(o+="'")),o}).join(""),e},wf=function(e){var t=[],i=xy(new Date(2009,8,8,6,5,4),e),r=i.split("").map(function(o,l){return l}),n=i,a={},s=[{date:new Date(2009,8,8,6,5,4,111),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(n&&(s.forEach(function(o){var l=m6(i,xy(o.date,e),t,o.isDigit),u=o.pattern==="M"&&!a.d?"L":o.pattern;n=v6(n,l,u,r),a[u]=l.length}),n=b6(n,i,t,r),t.length))return n},aa={3:"abbreviated",4:"wide",5:"narrow"},wy=function(e,t){return e>2?Object.keys(aa).map(function(i){return["format","standalone"].map(function(r){return t.getMonthNames(aa[i],r).join("|")}).join("|")}).join("|"):e===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},y6={":":function(e,t){var i=e>1?"{".concat(e,"}"):"",r=$a(t.getTimeSeparator());return r!==":"&&(r="".concat(r,"|:")),"".concat(r).concat(i)},y:function(e){return e===2?"[0-9]{".concat(e,"}"):"[0-9]+?"},M:wy,L:wy,Q:function(e,t){return e>2?t.getQuarterNames(aa[e],"format").join("|"):"0?[1-4]"},E:function(e,t){return"\\D*"},a:function(e,t){return t.getPeriodNames(aa[e<3?3:e],"format").join("|")},d:function(e){return e===2?"3[01]|[12][0-9]|0?[1-9]":"0??[1-9]|[12][0-9]|3[01]"},H:function(e){return e===2?"2[0-3]|1[0-9]|0?[0-9]":"0??[0-9]|1[0-9]|2[0-3]"},h:function(e){return e===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},m:function(e){return e===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},s:function(e){return e===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},S:function(e){return"[0-9]{1,".concat(e,"}")},w:function(e){return e===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"}},Xn=Number,uv=function(e,t){return e.map(i=>i.toLowerCase()).indexOf(t.toLowerCase())},Sy=function(e,t,i){return t>2?["format","standalone"].map(function(r){return Object.keys(aa).map(function(n){var a=i.getMonthNames(aa[n],r);return uv(a,e)})}).reduce(function(r,n){return r.concat(n)}).filter(function(r){return r>=0})[0]:Xn(e)-1},C6={y:function(e,t){var i=Xn(e);return t===2?i<30?2e3+i:1900+i:i},M:Sy,L:Sy,Q:function(e,t,i){return t>2?i.getQuarterNames(aa[t],"format").indexOf(e):Xn(e)-1},E:function(e,t,i){var r=i.getDayNames(aa[t<3?3:t],"format");return uv(r,e)},a:function(e,t,i){var r=i.getPeriodNames(aa[t<3?3:t],"format");return uv(r,e)},d:Xn,H:Xn,h:Xn,m:Xn,s:Xn,S:function(e,t){for(t=Math.max(t,3),e=e.slice(0,3);t<3;)e+="0",t++;return Xn(e)}},Tc=["y","M","d","h","m","s","S"],H_={y:"setFullYear",M:"setMonth",L:"setMonth",a:function(e,t,i){var r=e.getHours(),n=i.h;n!==void 0&&n!==r&&r--,!t&&r===12?r=0:t&&r!==12&&(r+=12),e.setHours(r)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},x6=function(e,t){var i=e[t];if(!i)return 0;var r=0;do t++,r++;while(e[t]===i);return r},w6=function(e,t){for(var i="",r=0;r<t;r++)i+=e;return i},QT=function(e,t){for(var i="",r="",n,a=[],s=function(){r&&(a.push("'".concat(r,"'")),i+="".concat($a(r),")"),r="")},o=0;o<e.length;o++){var l=e[o],u=l==="'",d=y6[l];if(!(u&&(n=!n,e[o-1]!=="'")))if(d&&!n){var c=x6(e,o),h=w6(l,c);s(),a.push(h),i+="(".concat(d(c,t),")"),o+=c-1}else r||(i+="("),r+=l}return s(),E6(a)||rd.warn("The following format may be parsed incorrectly: ".concat(e,".")),{patterns:a,regexp:new RegExp("^".concat(i,"$"),"i")}},S6=["d","H","h","m","s","w","M","L","Q"],E6=function(e){var t=n=>{if(!n)return!1;var a=n[0];return["y","S"].includes(a)||S6.includes(a)&&n.length<3},i=!0,r=0;return e.every((n,a,s)=>(t(n)&&((o=>o[0]!=="S"&&o.length!==2)(n)&&(i=++r<2),t(s[a+1])||(r=0)),i))},T6=function(){return H_},I6=function(e,t,i,r,n){var a=t[0],s=H_[a],o=C6[a];if(s&&o){var l=o(i,t.length,r);n[t]=l,e[s]?e[s](l):s(e,l,n)}},A6=function(e,t,i){var r=H_[t],n="g"+r.substr(1),a=i[n]();e[r](a)},O6=function(e){return e.map(function(t){return t[0]==="'"?"":t[0]==="H"?"h":t[0]})},D6=function(e){var t=e.map(function(i){return Tc.indexOf(i)});return Math.max.apply(Math,t)},k6=function(e){var t=e.filter(function(i){return Tc.indexOf(i)<0});return Tc.concat(t)},R6=function(e,t){var i=QT(e,t);return function(r){var n=i.regexp.exec(r);if(n){var a=new Date,s=new Date(a.getFullYear(),0,1),o=O6(i.patterns),l=D6(o),u=k6(o),d={};return u.forEach(function(c,h){if(!(!c||h<Tc.length&&h>l)){var f=o.indexOf(c);if(f>=0){var p=i.patterns[f],g=n[f+1];I6(s,p,g,t,d)}else A6(s,c,a)}}),s}return null}},M6=["January","February","March","April","May","June","July","August","September","October","November","December"],B6=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],P6=["AM","PM"],L6=["Q1","Q2","Q3","Q4"],Ey=(e,t)=>{var i={abbreviated:3,short:2,narrow:1};return Ti(e,r=>r.substr(0,i[t]))};const ru={getMonthNames:function(e){return Ey(M6,e)},getDayNames:function(e){return Ey(B6,e)},getQuarterNames:function(e){return L6},getPeriodNames:function(e){return P6}},F6={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-MV":5,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,"ff-Adlm":1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nds:1,nl:1,nmg:1,nnh:1,no:1,nus:1,nyn:1,os:1,pcm:1,pl:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,sc:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1};var N6=/[\u200E\u200F]/g,Es=e=>t=>{if(!e.timeZoneName){var i=t.getFullYear(),r=String(i).length<3,n=r?i+400:i,a=new Date(Date.UTC(n,t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));r&&a.setFullYear(i);var s=ce({timeZone:"UTC"},e);return dv(a,s)}return dv(t,e)},Rp={},V6=e=>{var t=Pr.locale()+"/"+JSON.stringify(e);return Rp[t]||(Rp[t]=new Intl.DateTimeFormat(Pr.locale(),e).format),Rp[t]};function dv(e,t){return V6(t)(e).replace(N6,"")}var hv=e=>new Intl.NumberFormat(Pr.locale()).format(e),H6=(()=>{var e={};return t=>{if(!(t in e)){if(hv(0)==="0")return e[t]=!1,!1;e[t]={};for(var i=0;i<10;++i)e[t][hv(i)]=i}return e[t]}})(),Xd=e=>{var t=H6(Pr.locale());return t?e.split("").map(i=>i in t?String(t[i]):i).join(""):e},Ty=e=>e.replace(/(\D)0+(\d)/g,"$1$2"),$6=(e,t)=>Ty(e)===Ty(t),cv=e=>e.replace("d’","de "),$_={day:{day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty($_,"shortdateshorttime",{get:function(){var e=Intl.DateTimeFormat(Pr.locale()).resolvedOptions();return{year:e.year,month:e.month,day:e.day,hour:"numeric",minute:"numeric"}}});var z6=e=>typeof e=="string"&&$_[e.toLowerCase()],eI={standalone:function(e,t){var i=new Date(1999,e,13,1),r=Es({month:t})(i);return r},format:function(e,t){var i=new Date(0,e,13,1),r=cv(Es({day:"numeric",month:t})(i)),n=r.split(" ").filter(a=>a.indexOf("13")<0);return n.length===1?n[0]:n.length===2?n[0].length>n[1].length?n[0]:n[1]:eI.standalone(e,t)}};const W6={engine:function(){return"intl"},getMonthNames:function(e,t){var i={wide:"long",abbreviated:"short",narrow:"narrow"}[e||"wide"];return t=t==="format"?t:"standalone",Array.apply(null,new Array(12)).map((r,n)=>eI[t](n,i))},getDayNames:function(e){var t=(i=>Array.apply(null,new Array(7)).map((r,n)=>Es({weekday:i})(new Date(0,0,n))))({wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[e||"wide"]);return t},getPeriodNames:function(){var e=Es({hour:"numeric",hour12:!0});return[1,13].map(t=>{var i=hv(1),r=e(new Date(0,0,1,t)).split(i);if(r.length!==2)return"";var n=r[0].length>r[1].length?r[0]:r[1];return n.trim()})},format:function(e,t){if(e){if(!t)return e;typeof t!="function"&&!t.formatter&&(t=t.type||t);var i=z6(t);if(i)return Es(i)(e);var r=typeof t;return t.formatter||r==="function"||r==="string"?this.callBase.apply(this,arguments):Es(t)(e)}},parse:function(e,t){var i;return t&&!t.parser&&typeof e=="string"&&(e=cv(e),i=r=>cv(this.format(r,t))),this.callBase(e,i||t)},_parseDateBySimpleFormat:function(e,t){e=Xd(e);var i=this.getFormatParts(t),r=e.split(/\D+/).filter(s=>s.length>0);if(i.length===r.length){var n=this._generateDateArgs(i,r),a=s=>{var o=((l,u)=>{var d=u?12:0;return new Date(l.year,l.month,l.day,(l.hours+d)%24,l.minutes,l.seconds)})(n,s);if($6(Xd(this.format(o,t)),e))return o};return a(!1)||a(!0)}},_generateDateArgs:function(e,t){var i=new Date,r={year:i.getFullYear(),month:i.getMonth(),day:i.getDate(),hours:0,minutes:0,seconds:0};return e.forEach((n,a)=>{var s=t[a],o=parseInt(s,10);n==="month"&&(o-=1),r[n]=o}),r},formatUsesMonthName:function(e){return typeof e=="object"&&!(e.type||e.format)?e.month==="long":this.callBase.apply(this,arguments)},formatUsesDayName:function(e){return typeof e=="object"&&!(e.type||e.format)?e.weekday==="long":this.callBase.apply(this,arguments)},getTimeSeparator:function(){return Xd(dv(new Date(2001,1,1,11,11),{hour:"numeric",minute:"numeric",hour12:!1})).replace(/\d/g,"")},getFormatParts:function(e){if(typeof e=="string")return this.callBase(e);var t=ce({},$_[e.toLowerCase()]),i=new Date(2001,2,4,5,6,7),r=Es(t)(i);return r=Xd(r),[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map(n=>({name:n.name,index:r.indexOf(n.value)})).filter(n=>n.index>-1).sort((n,a)=>n.index-a.index).map(n=>n.name)}};var j6=0,U6=typeof Intl<"u",Mp={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},G6={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},gt=Jr({engine:function(){return"base"},_getPatternByFormat:function(e){return Mp[e.toLowerCase()]},_expandPattern:function(e){return this._getPatternByFormat(e)||e},formatUsesMonthName:function(e){return this._expandPattern(e).indexOf("MMMM")!==-1},formatUsesDayName:function(e){return this._expandPattern(e).indexOf("EEEE")!==-1},getFormatParts:function(e){var t=this._getPatternByFormat(e)||e,i=[];return ve(t.split(/\W+/),(r,n)=>{ve(G6,(a,s)=>{s.includes(n)&&i.push(a)})}),i},getMonthNames:function(e){return ru.getMonthNames(e)},getDayNames:function(e){return ru.getDayNames(e)},getQuarterNames:function(e){return ru.getQuarterNames(e)},getPeriodNames:function(e){return ru.getPeriodNames(e)},getTimeSeparator:function(){return":"},is24HourFormat:function(e){for(var t=new Date(2017,0,20,11,0,0,0),i=new Date(2017,0,20,23,0,0,0),r=this.format(t,e),n=this.format(i,e),a=0;a<r.length;a++)if(r[a]!==n[a])return!isNaN(parseInt(r[a]))},format:function(e,t){if(e){if(!t)return e;var i;if(typeof t=="function")i=t;else if(t.formatter)i=t.formatter;else if(t=t.type||t,nt(t))return t=Mp[t.toLowerCase()]||t,Xt.convertDigits(ZT(t,this)(e));if(i)return i(e)}},parse:function(e,t){var i=this,r,n;if(e){if(!t)return this.parse(e,"shortdate");if(t.parser)return t.parser(e);if(typeof t=="string"&&!Mp[t.toLowerCase()])r=t;else{n=s=>{var o=i.format(s,t);return Xt.convertDigits(o,!0)};try{r=wf(n)}catch{}}if(r)return e=Xt.convertDigits(e,!0),R6(r,this)(e);qt.log("W0012");var a=new Date(e);if(!(!a||isNaN(a.getTime())))return a}},firstDayOfWeekIndex:function(){var e=Pr.getValueByClosestLocale(t=>F6[t]);return e===void 0?j6:e}});U6&&gt.inject(W6);var K6={ar:1,bg:2,ca:3,"zh-Hans":4,cs:5,da:6,de:7,el:8,en:9,es:10,fi:11,fr:12,he:13,hu:14,is:15,it:16,ja:17,ko:18,nl:19,no:20,pl:21,pt:22,rm:23,ro:24,ru:25,hr:26,sk:27,sq:28,sv:29,th:30,tr:31,ur:32,id:33,uk:34,be:35,sl:36,et:37,lv:38,lt:39,tg:40,fa:41,vi:42,hy:43,az:44,eu:45,hsb:46,mk:47,tn:50,xh:52,zu:53,af:54,ka:55,fo:56,hi:57,mt:58,se:59,ga:60,ms:62,kk:63,ky:64,sw:65,tk:66,uz:67,tt:68,bn:69,pa:70,gu:71,or:72,ta:73,te:74,kn:75,ml:76,as:77,mr:78,sa:79,mn:80,bo:81,cy:82,km:83,lo:84,gl:86,kok:87,syr:90,si:91,iu:93,am:94,tzm:95,ne:97,fy:98,ps:99,fil:100,dv:101,ha:104,yo:106,quz:107,nso:108,ba:109,lb:110,kl:111,ig:112,ii:120,arn:122,moh:124,br:126,ug:128,mi:129,oc:130,co:131,gsw:132,sah:133,qut:134,rw:135,wo:136,prs:140,gd:145,"ar-SA":1025,"bg-BG":1026,"ca-ES":1027,"zh-TW":1028,"cs-CZ":1029,"da-DK":1030,"de-DE":1031,"el-GR":1032,"en-US":1033,"fi-FI":1035,"fr-FR":1036,"he-IL":1037,"hu-HU":1038,"is-IS":1039,"it-IT":1040,"ja-JP":1041,"ko-KR":1042,"nl-NL":1043,"nb-NO":1044,"pl-PL":1045,"pt-BR":1046,"rm-CH":1047,"ro-RO":1048,"ru-RU":1049,"hr-HR":1050,"sk-SK":1051,"sq-AL":1052,"sv-SE":1053,"th-TH":1054,"tr-TR":1055,"ur-PK":1056,"id-ID":1057,"uk-UA":1058,"be-BY":1059,"sl-SI":1060,"et-EE":1061,"lv-LV":1062,"lt-LT":1063,"tg-Cyrl-TJ":1064,"fa-IR":1065,"vi-VN":1066,"hy-AM":1067,"az-Latn-AZ":1068,"eu-ES":1069,"hsb-DE":1070,"mk-MK":1071,"tn-ZA":1074,"xh-ZA":1076,"zu-ZA":1077,"af-ZA":1078,"ka-GE":1079,"fo-FO":1080,"hi-IN":1081,"mt-MT":1082,"se-NO":1083,"ms-MY":1086,"kk-KZ":1087,"ky-KG":1088,"sw-KE":1089,"tk-TM":1090,"uz-Latn-UZ":1091,"tt-RU":1092,"bn-IN":1093,"pa-IN":1094,"gu-IN":1095,"or-IN":1096,"ta-IN":1097,"te-IN":1098,"kn-IN":1099,"ml-IN":1100,"as-IN":1101,"mr-IN":1102,"sa-IN":1103,"mn-MN":1104,"bo-CN":1105,"cy-GB":1106,"km-KH":1107,"lo-LA":1108,"gl-ES":1110,"kok-IN":1111,"syr-SY":1114,"si-LK":1115,"iu-Cans-CA":1117,"am-ET":1118,"ne-NP":1121,"fy-NL":1122,"ps-AF":1123,"fil-PH":1124,"dv-MV":1125,"ha-Latn-NG":1128,"yo-NG":1130,"quz-BO":1131,"nso-ZA":1132,"ba-RU":1133,"lb-LU":1134,"kl-GL":1135,"ig-NG":1136,"ii-CN":1144,"arn-CL":1146,"moh-CA":1148,"br-FR":1150,"ug-CN":1152,"mi-NZ":1153,"oc-FR":1154,"co-FR":1155,"gsw-FR":1156,"sah-RU":1157,"qut-GT":1158,"rw-RW":1159,"wo-SN":1160,"prs-AF":1164,"gd-GB":1169,"ar-IQ":2049,"zh-CN":2052,"de-CH":2055,"en-GB":2057,"es-MX":2058,"fr-BE":2060,"it-CH":2064,"nl-BE":2067,"nn-NO":2068,"pt-PT":2070,"sr-Latn-CS":2074,"sv-FI":2077,"az-Cyrl-AZ":2092,"dsb-DE":2094,"se-SE":2107,"ga-IE":2108,"ms-BN":2110,"uz-Cyrl-UZ":2115,"bn-BD":2117,"mn-Mong-CN":2128,"iu-Latn-CA":2141,"tzm-Latn-DZ":2143,"quz-EC":2155,"ar-EG":3073,"zh-HK":3076,"de-AT":3079,"en-AU":3081,"es-ES":3082,"fr-CA":3084,"sr-Cyrl-CS":3098,"se-FI":3131,"quz-PE":3179,"ar-LY":4097,"zh-SG":4100,"de-LU":4103,"en-CA":4105,"es-GT":4106,"fr-CH":4108,"hr-BA":4122,"smj-NO":4155,"ar-DZ":5121,"zh-MO":5124,"de-LI":5127,"en-NZ":5129,"es-CR":5130,"fr-LU":5132,"bs-Latn-BA":5146,"smj-SE":5179,"ar-MA":6145,"en-IE":6153,"es-PA":6154,"fr-MC":6156,"sr-Latn-BA":6170,"sma-NO":6203,"ar-TN":7169,"en-ZA":7177,"es-DO":7178,"sr-Cyrl-BA":7194,"sma-SE":7227,"ar-OM":8193,"en-JM":8201,"es-VE":8202,"bs-Cyrl-BA":8218,"sms-FI":8251,"ar-YE":9217,"en-029":9225,"es-CO":9226,"sr-Latn-RS":9242,"smn-FI":9275,"ar-SY":10241,"en-BZ":10249,"es-PE":10250,"sr-Cyrl-RS":10266,"ar-JO":11265,"en-TT":11273,"es-AR":11274,"sr-Latn-ME":11290,"ar-LB":12289,"en-ZW":12297,"es-EC":12298,"sr-Cyrl-ME":12314,"ar-KW":13313,"en-PH":13321,"es-CL":13322,"ar-AE":14337,"es-UY":14346,"ar-BH":15361,"es-PY":15370,"ar-QA":16385,"en-IN":16393,"es-BO":16394,"en-MY":17417,"es-SV":17418,"en-SG":18441,"es-HN":18442,"es-NI":19466,"es-PR":20490,"es-US":21514,"bs-Cyrl":25626,"bs-Latn":26650,"sr-Cyrl":27674,"sr-Latn":28698,smn:28731,"az-Cyrl":29740,sms:29755,zh:30724,nn:30740,bs:30746,"az-Latn":30764,sma:30779,"uz-Cyrl":30787,"mn-Cyrl":30800,"iu-Cans":30813,"zh-Hant":31748,nb:31764,sr:31770,"tg-Cyrl":31784,dsb:31790,smj:31803,"uz-Latn":31811,"mn-Mong":31824,"iu-Latn":31837,"tzm-Latn":31839,"ha-Latn":31848};function tI(){return K6[Pr.locale()]}var Iy=1632,iI={thousands:"#,##0{0},&quot;K&quot;",millions:"#,##0{0},,&quot;M&quot;",billions:"#,##0{0},,,&quot;B&quot;",trillions:"#,##0{0},,,,&quot;T&quot;",percent:"0{0}%",decimal:"#{0}",fixedpoint:"#,##0{0}",exponential:"0{0}E+00",currency:" "},q6=/a+/g,X6=/E/g,Y6=/dE+/g,Z6=/L/g,J6=/h/g,Q6=/./g;function e5(e,t){var i,r;if(t>0){for(i=e!=="decimal"?".":"",r=0;r<t;r++)i+="0";return i}return""}function t5(e){for(var t,i=0;i<e.length;i++)if(t=e.charCodeAt(i),t>=Iy&&t<Iy+10)return!0;return!1}function i5(e){var t=(gt.format(new Date(2009,8,8,6,5,4),e)||"").toString(),i=wf(r=>gt.format(r,e));return i&&(i=n5(i),i=r5(t)+i),i}function r5(e){var t=tI(),i=t?t.toString(16):"",r="";if(t5(e)){for(;i.length<3;)i="0"+i;r="[$-2010"+i+"]"}else i&&(r="[$-"+i+"]");return r}function n5(e){return e.split("/").join("\\/").split("'").map(function(t,i){return i%2===0?t.replace(q6,"AM/PM").replace(Y6,"d").replace(X6,"d").replace(Z6,"M").replace(J6,"H").split("[").join("\\[").split("]").join("\\]"):t?t.replace(Q6,"\\$&"):"'"}).join("")}function a5(e,t,i){var r,n;return e==="currency"?n=Xt.getOpenXmlCurrencyFormat(i):n=iI[e.toLowerCase()],n&&(r=fn(n,e5(e,t))),r}var Ay={formatObjectConverter(e,t){var i={format:e,precision:e&&e.precision,dataType:t};return at(e)?ce(i,e,{format:e.formatter||e.type,currency:e.currency}):i},convertFormat(e,t,i,r){if(oe(e)){if(i==="date")return i5(e);if(nt(e)&&iI[e.toLowerCase()])return a5(e,t,r)}}};function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ne.apply(this,arguments)}class s5{constructor(t,i,r,n){this.mergedCells=[],this.mergedRanges=[],this.dataProvider=t,this.helpers=i,this.mergeRowFieldValues=r,this.mergeColumnFieldValues=n}updateMergedRanges(t,i,r){if(this.helpers._isHeaderCell(this.dataProvider,i,r)&&!this.isCellInMergedRanges(i,r)){var{rowspan:n,colspan:a}=this.dataProvider.getCellMerging(i,r),s=a||n;if(s){var o=this.helpers._allowToMergeRange(this.dataProvider,i,r,n,a,this.mergeRowFieldValues,this.mergeColumnFieldValues);this.updateMergedCells(t,i,r,n,a,o),o&&this.mergedRanges.push(Ne({masterCell:t},{rowspan:n,colspan:a}))}}}isCellInMergedRanges(t,i){return this.mergedCells[t]&&this.mergedCells[t][i]}findMergedCellInfo(t,i){if(this.helpers._isHeaderCell(this.dataProvider,t,i)&&this.isCellInMergedRanges(t,i))return this.mergedCells[t][i]}updateMergedCells(t,i,r,n,a,s){for(var o=i;o<=i+n;o++)for(var l=r;l<=r+a;l++)this.mergedCells[o]||(this.mergedCells[o]=[]),this.mergedCells[o][l]={masterCell:t,unmerged:!s}}applyMergedRages(t){this.mergedRanges.forEach(i=>{var r=i.masterCell.fullAddress.row,n=i.masterCell.fullAddress.col,a=r+i.rowspan,s=n+i.colspan;t.mergeCells(r,n,a,s)})}}var o5=1,l5=3,u5=9,d5={querySelectorAll:(e,t)=>e.querySelectorAll(t),elementMatches(e,t){var i=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||(r=>{var n=e.document||e.ownerDocument;if(!n)return!1;for(var a=this.querySelectorAll(n,r),s=0;s<a.length;s++)if(a[s]===e)return!0});return i.call(e,t)},createElement(e,t){return t=t||this._document,t.createElement(e)},createElementNS(e,t,i){return i=i||this._document,i.createElementNS(e,t)},createTextNode(e,t){return t=t||this._document,t.createTextNode(e)},isNode:e=>e&&typeof e=="object"&&"nodeType"in e&&"nodeName"in e,isElementNode:e=>e&&e.nodeType===o5,isTextNode:e=>e&&e.nodeType===l5,isDocument:e=>e&&e.nodeType===u5,removeElement(e){var t=e&&e.parentNode;t&&t.removeChild(e)},insertElement(e,t,i){e&&t&&e!==t&&(i?e.insertBefore(t,i):e.appendChild(t))},getAttribute:(e,t)=>e.getAttribute(t),setAttribute(e,t,i){e.setAttribute(t,i)},removeAttribute(e,t){e.removeAttribute(t)},setProperty(e,t,i){e[t]=i},setText(e,t){e&&(e.textContent=t)},setClass(e,t,i){e.nodeType===1&&t&&(i?e.classList.add(t):e.classList.remove(t))},setStyle(e,t,i){e.style[t]=i||""},_document:typeof document>"u"?void 0:document,getDocument(){return this._document},getActiveElement(e){var t,i,r=(t=e==null||(i=e.getRootNode)===null||i===void 0?void 0:i.call(e))!==null&&t!==void 0?t:this._document;return r.activeElement},getBody(){return this._document.body},createDocumentFragment(){return this._document.createDocumentFragment()},getDocumentElement(){return this._document.documentElement},getLocation(){return this._document.location},getSelection(){return this._document.selection},getReadyState(){return this._document.readyState},getHead(){return this._document.head},hasDocumentProperty(e){return e in this._document},listen(e,t,i,r){return!e||!("addEventListener"in e)?Ee:(e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i)})},elementsFromPoint(e,t){return this._document.elementsFromPoint(e,t)}};const Re=Jr(d5),h5=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"}));class z_{constructor(){this.memory=[],this.callbacks=Ht()}add(t){ve(this.memory,(i,r)=>t.apply(t,r)),this.callbacks.add(t)}remove(t){this.callbacks.remove(t)}fire(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];this.memory.push(i),this.callbacks.fire.apply(this.callbacks,i)}}const W_=new z_;var c5=typeof window<"u",ht=()=>c5,Os=ht()?window:void 0;Os||(Os={},Os.window=Os);var ft=()=>Os,rI=e=>ht()&&e in Os,j_=e=>e<768?"xs":e<992?"sm":e<1200?"md":"lg",nI=e=>{var t=e||j_,i=Re.getDocumentElement().clientWidth;return t(i)},nd=()=>ht()?Os.navigator:{userAgent:""},f5=["pageX","pageY","screenX","screenY","clientX","clientY"],p5=function(e,t){if(t[e]&&!t.touches||!t.touches)return t[e];var i=t.touches.length?t.touches:t.changedTouches;if(i.length)return i[0][e]};function m5(e){f5.forEach(function(t){e(t,function(i){return p5(t,i)})},this)}var va=function(e){var t,i=function(){return t=e.apply(this,arguments),i=function(){return t},t};return function(){return i.apply(this,arguments)}},U_=ft(),Yd="dxEmptyEventType",Oy={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},g5={focusin:"focus",focusout:"blur"},v5=["blur","focus","load"],aI=["touchmove","wheel","mousewheel","touchstart"],_5=["target","relatedTarget","delegateTarget","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","code","charCode","key","keyCode","button","buttons","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","touches"];function b5(e,t){return!Si(e)&&e.nodeName!=="#document"&&Re.elementMatches(e,t)}var Bp=new WeakMap,sI=0,Ic,Ba=function(){var e={};return W_.add(function(t,i){e[t]=i}),{getField:function(t,i){return e[t]&&e[t][i]},callMethod:function(t,i,r,n){return e[t]&&e[t][i]&&e[t][i].apply(r,n)}}}(),he=Jr({on:Dl(fv(Ry(function(e,t,i,r,n){var a=Wo(e,t);a.addHandler(n,i,r)}))),one:Dl(fv(function(e,t,i,r,n){he.on(e,t,i,r,function a(){he.off(e,t,i,a),n.apply(this,arguments)})})),off:Dl(x5(Ry(function(e,t,i,r){var n=Wo(e,t);n.removeHandler(r,i)}))),trigger:Dl(ky(function(e,t,i){var r=t.type,n=Wo(e,t.type);Ba.callMethod(r,"trigger",e,[t,i]),n.callHandlers(t,i);var a=Ba.getField(r,"noBubble")||t.isPropagationStopped()||v5.indexOf(r)!==-1;if(!a){var s=[];(function u(d){var c,h=(c=d.parentNode)!==null&&c!==void 0?c:d.host;h&&(s.push(h),u(h))})(e),s.push(U_);for(var o=0;s[o]&&!t.isPropagationStopped();){var l=Wo(s[o],t.type);l.callHandlers(ce(t,{currentTarget:s[o]}),i),o++}}(e.nodeType||Si(e))&&(Ba.callMethod(r,"_default",e,[t,i]),S5(r,e))})),triggerHandler:Dl(ky(function(e,t,i){var r=Wo(e,t.type);r.callHandlers(t,i)}))});function G_(e,t){var i=e[0];if(i)if(Re.isNode(i)||Si(i))t.apply(he,e);else if(!nt(i)&&"length"in i){var r=Array.prototype.slice.call(e,0);Array.prototype.forEach.call(i,function(n){r[0]=n,G_(r,t)})}else throw qt.Error("E0025")}function Dl(e){return function(){G_(arguments,e)}}function y5(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});U_.addEventListener("test",null,t)}catch{}return e}var oI=va(y5),lI=(e,t)=>Si(e)?lI(e.document,t):e.contains?e.contains(t):!!(t.compareDocumentPosition(e)&t.DOCUMENT_POSITION_CONTAINS);function Wo(e,t){var i=Bp.get(e);t=t||"";var r=t.split("."),n=r.slice(1),a=!!r[0];t=r[0]||Yd,i||(i={},Bp.set(e,i)),i[t]||(i[t]={handleObjects:[],nativeHandler:null});var s=i[t];return{addHandler:function(o,l,u){var d=function(g,m){var v=[g],b=g.currentTarget,E=g.relatedTarget,I,R;t in Oy&&(I=E&&b&&(E===b||lI(b,E))),m!==void 0&&v.push(m),Ba.callMethod(t,"handle",e,[g,u]),I||(R=o.apply(b,v)),R===!1&&(g.preventDefault(),g.stopPropagation())},c={handler:o,wrappedHandler:function(g,m){if(!(Ic&&g.type===Ic))if(g.data=u,g.delegateTarget=e,l)for(var v=g.target;v&&v!==e;)b5(v,l)&&(g.currentTarget=v,d(g,m)),v=v.parentNode;else g.currentTarget=g.delegateTarget||g.target,d(g,m)},selector:l,type:t,data:u,namespace:n.join("."),namespaces:n,guid:++sI};s.handleObjects.push(c);var h=s.handleObjects.length===1,f=h&&a,p;f&&(f=!Ba.callMethod(t,"setup",e,[u,n,o])),f&&(s.nativeHandler=C5(t),oI()&&aI.indexOf(t)>-1&&(p={passive:!1}),s.removeListener=Re.listen(e,Oy[t]||t,s.nativeHandler,p)),Ba.callMethod(t,"add",e,[c])},removeHandler:function(o,l){var u=function(h){var f=i[h];if(!f.handleObjects.length){delete i[h];return}var p;f.handleObjects=f.handleObjects.filter(function(v){var b=n.length&&!Dy(v.namespaces,n)||o&&v.handler!==o||l&&v.selector!==l;return b||(p=v.handler,Ba.callMethod(h,"remove",e,[v])),b});var g=!f.handleObjects.length,m=g&&h!==Yd;m&&(Ba.callMethod(h,"teardown",e,[n,p]),f.nativeHandler&&f.removeListener(),delete i[h])};if(a)u(t);else for(var d in i)u(d);var c=Object.keys(i).length===0;c&&Bp.delete(e)},callHandlers:function(o,l){var u=!1,d=function(c){u||(!n.length||Dy(c.namespaces,n))&&(c.wrappedHandler(o,l),u=o.isImmediatePropagationStopped())};s.handleObjects.forEach(d),n.length&&i[Yd]&&i[Yd].handleObjects.forEach(d)}}}function C5(e){return function(t,i){var r=Wo(this,e);t=he.Event(t),r.callHandlers(t,i)}}function Dy(e,t){for(var i=0;i<t.length;i++)if(e.indexOf(t[i])<0)return!1;return!0}function fv(e){return function(t,i,r,n,a){a||(a=n,n=void 0),typeof r!="string"&&(n=r,r=void 0),!a&&typeof i=="string"&&(a=n||r,r=void 0,n=void 0),e(t,i,r,n,a)}}function x5(e){return function(t,i,r,n){typeof r=="function"&&(n=r,r=void 0),e(t,i,r,n)}}function ky(e){return function(t,i,r){typeof i=="string"&&(i={type:i}),i.target||(i.target=t),i.currentTarget=t,i.delegateTarget||(i.delegateTarget=t),!i.type&&i.originalEvent&&(i.type=i.originalEvent.type),e(t,i instanceof he.Event?i:he.Event(i),r)}}function w5(e){return he.Event=function(t,i){if(!(this instanceof he.Event))return new he.Event(t,i);t||(t={}),typeof t=="string"&&(t={type:t}),i||(i={}),e.call(this,t,i)},Ne(he.Event.prototype,{_propagationStopped:!1,_immediatePropagationStopped:!1,_defaultPrevented:!1,isPropagationStopped:function(){return!!(this._propagationStopped||this.originalEvent&&this.originalEvent.propagationStopped)},stopPropagation:function(){this._propagationStopped=!0,this.originalEvent&&this.originalEvent.stopPropagation()},isImmediatePropagationStopped:function(){return this._immediatePropagationStopped},stopImmediatePropagation:function(){this.stopPropagation(),this._immediatePropagationStopped=!0,this.originalEvent&&this.originalEvent.stopImmediatePropagation()},isDefaultPrevented:function(){return!!(this._defaultPrevented||this.originalEvent&&this.originalEvent.defaultPrevented)},preventDefault:function(){this._defaultPrevented=!0,this.originalEvent&&this.originalEvent.preventDefault()}}),he.Event}function Ry(e){var t=function(i,r){if(r&&r.indexOf(" ")>-1){var n=Array.prototype.slice.call(arguments,0);r.split(" ").forEach(function(a){n[1]=a,e.apply(this,n)})}else e.apply(this,arguments)};return function(i,r){if(typeof r=="object"){var n=Array.prototype.slice.call(arguments,0);for(var a in r)n[1]=a,n[n.length-1]=r[a],t.apply(this,n)}else t.apply(this,arguments)}}function S5(e,t){var i=g5[e]||e;(function(r,n){return r==="click"&&n.localName==="a"})(e,t)||We(t[i])&&(Ic=e,t[i](),Ic=void 0)}function E5(e){return function(t){return t.which==null&&t.type.indexOf("key")===0}(e)?e.charCode!=null?e.charCode:e.keyCode:function(t){return!t.which&&t.button!==void 0&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(t.type)}(e)?{1:1,2:3,3:1,4:2}[e.button]:e.which}function uI(e){e&&(he.Event=e,he.Event.prototype=e.prototype)}uI(w5(function(e,t){var i,r=e instanceof he.Event||ht()&&e instanceof U_.Event||((i=e.view)===null||i===void 0?void 0:i.Event)&&e instanceof e.view.Event;r?(this.originalEvent=e,this.type=e.type,this.currentTarget=void 0,Object.prototype.hasOwnProperty.call(e,"isTrusted")&&(this.isTrusted=e.isTrusted),this.timeStamp=e.timeStamp||Date.now()):Ne(this,e),K_("which",E5,this),e.type.indexOf("touch")===0&&(delete t.pageX,delete t.pageY),Ne(this,t),this.guid=++sI}));function K_(e,t,i){Object.defineProperty(i||he.Event.prototype,e,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent&&t(this.originalEvent)},set:function(r){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:r})}})}_5.forEach(e=>K_(e,t=>t[e]));m5(K_);var dI=Ht(),hI=Ht();he.set=function(e){dI.fire(),he.inject(e),uI(e.Event),hI.fire()};he.subscribeGlobal=function(){G_(arguments,fv(function(){var e=arguments;he.on.apply(this,e),dI.add(function(){var t=Array.prototype.slice.call(e,0);t.splice(3,1),he.off.apply(this,t)}),hI.add(function(){he.on.apply(this,e)})}))};he.forcePassiveFalseEventNames=aI;he.passiveEventHandlersSupported=oI;var kl=new WeakMap,Ls,T5=new z_,cI=function(){},I5=function(e){T5.fire(e),Ls=e;var t=Ls.cleanData;Ls.cleanData=function(i){cI(i);var r=t.call(this,i);return r}};I5({data:function(){var e=arguments[0],t=arguments[1],i=arguments[2];if(e){var r=kl.get(e);return r||(r={},kl.set(e,r)),t===void 0?r:arguments.length===2?r[t]:(r[t]=i,i)}},removeData:function(e,t){if(e)if(t===void 0)kl.delete(e);else{var i=kl.get(e);i&&delete i[t]}},cleanData:function(e){for(var t=0;t<e.length;t++)he.off(e[t]),kl.delete(e[t])}});function di(){return Ls.data.apply(this,arguments)}function A5(e){cI=e}function Sf(e,t){return Ls.removeData.call(this,e,t)}function ad(e,t){if(Re.isElementNode(e)){var i=e.getElementsByTagName("*");Ls.cleanData(i),t&&Ls.cleanData([e])}}var fI=function(e){return e==null?"":String(e)},q_=function(e){return fI(e).charAt(0).toUpperCase()+e.substr(1)},X_=function(e){return fI(e).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},Y_=function(e){return Ti(X_(e),function(t){return t.toLowerCase()}).join("-")},Fu=function(e,t){return Ti(X_(e),function(i,r){return i=i.toLowerCase(),(t||r>0)&&(i=q_(i)),i}).join("")},O5=function(e){return q_(Y_(e).replace(/-/g," "))},Nu=function(e){return Ti(X_(e),function(t){return q_(t.toLowerCase())}).join(" ")},D5=["0","1","2","3","4","5","6","7","8","9"],zs=function(e){var t=[],i,r,n=!1,a=!1;for(i=0;i<e.length;i++)r=e.charAt(i),a=r===r.toUpperCase()&&r!=="-"&&r!==")"&&r!=="/"||r in D5,r==="_"||r==="."?(r=" ",a=!0):i===0?(r=r.toUpperCase(),a=!0):!n&&a&&t.length>0&&t.push(" "),t.push(r),n=a;return t.join("")},Ac=["","Webkit","Moz","O","Ms"],k5={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},pv=va(function(){return Re.createElement("dx").style}),R5=function(e,t){e=Fu(e,!0);for(var i,r=0,n=Ac.length;r<n;r++){var a=Ac[r],s=a+e,o=Fu(s);if(i=t(o,a),i===void 0&&(i=t(s,a)),i!==void 0)break}return i||""},rs=function(e){if(e in pv())return e;var t=e;e=e.charAt(0).toUpperCase()+e.substr(1);for(var i=1;i<Ac.length;i++){var r=Ac[i].toLowerCase()+e;if(r in pv())return r}return t},tc=function(e){return R5(e,function(t,i){if(t in pv())return k5[i]})},M5=["fillOpacity","columnCount","flexGrow","flexShrink","fontWeight","lineHeight","opacity","zIndex","zoom"],hl=function(e,t){return ei(t)&&M5.indexOf(e)===-1&&(t+="px"),t},pI=function(e,t,i){if(e){i=ei(i)?i+="px":i;for(var r=0;r<e.length;++r)e[r].style[t]=i}},Pp=function(e,t){pI(e,"width",t)},Lp=function(e,t){pI(e,"height",t)},Z_=ft(),B5=["auto","none","inherit","initial"],Fp=function(e,t){var i=0;return t.forEach(function(r){i+=parseFloat(e[r])||0}),i},mI=function(e,t){var i=e==="width"?"Left":"Top",r=e==="width"?"Right":"Bottom";return{padding:Fp(t,["padding"+i,"padding"+r]),border:Fp(t,["border"+i+"Width","border"+r+"Width"]),margin:Fp(t,["margin"+i,"margin"+r])}},gI=function(e){var t,i=(e==null||(t=e.ownerDocument)===null||t===void 0?void 0:t.defaultView)||Z_;return i.getComputedStyle&&i.getComputedStyle(e)},mv=function(e,t,i,r){var n;return(t==null?void 0:t[i])||((n=e.style)===null||n===void 0?void 0:n[i])||r},To={content:0,padding:1,border:2,margin:3,"content-box":0,"border-box":2},My={width:["left","right"],height:["top","bottom"]};function Rl(e,t,i,r){var n=(s,o,l)=>parseFloat(mv(s,o,l,"0"))||0,a=i==="border"?"-width":"";return n(e,r,"".concat(i,"-").concat(My[t][0]).concat(a))+n(e,r,"".concat(i,"-").concat(My[t][1]).concat(a))}var P5=function(e,t,i){var r=t==="width"?"offsetWidth":"offsetHeight",n=gI(e),a=mv(e,n,t);(a===""||a==="auto")&&(a=e[r]),a=parseFloat(a)||0;var s=mv(e,n,"boxSizing","content-box"),o=i||s,l=To[o],u=To[s];if(l===void 0||u===void 0)throw new Error;if(u===l)return a;var d=Math.sign(l-u),c=!1,h=!1,f=!1,p=!1;d===1&&(l+=1,u+=1);for(var g=u;g!==l;g+=d)switch(g){case To.content:break;case To.padding:c=d*Rl(e,t,"padding",n);break;case To.border:h=d*Rl(e,t,"border",n);break;case To.margin:f=d*Rl(e,t,"margin",n)}if(c||h){var m=(c===!1?d*Rl(e,t,"padding",n):c)+(h===!1?d*Rl(e,t,"border",n):h);p=d*Math.max(0,Math.floor(e[r]-a-d*m))||0}return a+f+c+h+p},L5=function(e){return Si(e)?e.innerHeight:e.offsetHeight},F5=function(e,t){return e.indexOf("px")>0?e=parseInt(e.replace("px","")):e.indexOf("%")>0?e=parseInt(e.replace("%",""))*L5(t)/100:isNaN(e)?e.indexOf("vh")>0&&(e=Z_.innerHeight/100*parseInt(e.replace("vh",""))):e=parseInt(e),e},vI=function(e,t,i){if(!e)return null;if(B5.indexOf(e)>-1)return t?null:e;if(nt(e)&&(e=F5(e,i)),ei(e))return Math.max(0,e+t);var r=t<0?" - ":" ";return"calc("+e+r+Math.abs(t)+"px)"},N5=function(e,t,i){var r=vI(e,t,i);return r!==null?r:"none"},V5=function(e,t,i){var r=vI(e,t,i);return r!==null?r:0},Np=function(e,t){if(!e)return 0;var i=mI("height",Z_.getComputedStyle(e));return i.padding+i.border+(t?i.margin:0)},By=function(e){if(e){var t=e.getBoundingClientRect();if(t.height)return t.height}return 0},Pn={getWidth:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Vr("width",...t)},setWidth:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Vr("width",...t)},getHeight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Vr("height",...t)},setHeight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Vr("height",...t)},getOuterWidth:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Vr("outerWidth",...t)},setOuterWidth:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Vr("outerWidth",...t)},getOuterHeight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Vr("outerHeight",...t)},setOuterHeight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Vr("outerHeight",...t)},getInnerWidth:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Vr("innerWidth",...t)},setInnerWidth:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Vr("innerWidth",...t)},getInnerHeight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Vr("innerHeight",...t)},setInnerHeight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Vr("innerHeight",...t)}};function Vr(e,t,i){return arguments.length===2?Fy(t,e):Fy(t,e,i)}var ut=e=>Pn.getWidth(e),sd=(e,t)=>Pn.setWidth(e,t),ct=e=>Pn.getHeight(e),Lr=(e,t)=>Pn.setHeight(e,t),Pt=(e,t)=>Pn.getOuterWidth(e,t||!1),Py=(e,t)=>Pn.setOuterWidth(e,t),At=(e,t)=>Pn.getOuterHeight(e,t||!1),Ly=(e,t)=>Pn.setOuterHeight(e,t),gv=e=>Pn.getInnerWidth(e),Oc=e=>Pn.getInnerHeight(e),Fy=function e(t,i,r){var n=i.toLowerCase().indexOf("width")>=0?"Width":"Height",a=n.toLowerCase(),s=i.indexOf("outer")===0,o=i.indexOf("inner")===0,l=arguments.length===2||typeof r=="boolean";if(Br(t)){if(t.length>1&&!l){for(var u=0;u<t.length;u++)e(t[u],i,r);return}t=t[0]}if(t){if(Si(t))return s?t["inner"+n]:Re.getDocumentElement()["client"+n];if(Re.isDocument(t)){var d=Re.getDocumentElement(),c=Re.getBody();return Math.max(c["scroll"+n],c["offset"+n],d["scroll"+n],d["offset"+n],d["client"+n])}if(l){var h="content";return s&&(h=r?"margin":"border"),o&&(h="padding"),P5(t,a,h)}if(ei(r)){var f=gI(t),p=mI(a,f),g=f.boxSizing==="border-box";r=Number(r),s?r-=g?0:p.border+p.padding:o?r+=g?p.border:-p.padding:g&&(r+=p.border+p.padding)}return r+=ei(r)?"px":"",Re.setStyle(t,a,r),null}},_I=e=>Si(e)?e:e.defaultView,vv=e=>{if(!e.getClientRects().length)return{top:0,left:0};var t=e.getBoundingClientRect(),i=_I(e.ownerDocument),r=e.ownerDocument.documentElement;return{top:t.top+i.pageYOffset-r.clientTop,left:t.left+i.pageXOffset-r.clientLeft}},bI=/<([a-z][^/\0>\x20\t\r\n\f]+)/i,In={default:{tagsCount:0,startTags:"",endTags:""},thead:{tagsCount:1,startTags:"<table>",endTags:"</table>"},td:{tagsCount:3,startTags:"<table><tbody><tr>",endTags:"</tr></tbody></table>"},col:{tagsCount:2,startTags:"<table><colgroup>",endTags:"</colgroup></table>"},tr:{tagsCount:2,startTags:"<table><tbody>",endTags:"</tbody></table>"}};In.tbody=In.colgroup=In.caption=In.tfoot=In.thead;In.th=In.td;var J_=function(e){if(typeof e!="string")return null;var t=Re.createDocumentFragment(),i=t.appendChild(Re.createElement("div")),r=bI.exec(e),n=r&&r[1].toLowerCase(),a=In[n]||In.default;i.innerHTML=a.startTags+e+a.endTags;for(var s=0;s<a.tagsCount;s++)i=i.lastChild;return[...i.childNodes]},H5=function(e){var t=bI.exec(e);return t&&t[1]in In},$5=ft(),Bt,pt=function(e,t){return e?typeof e=="string"?e==="body"?(this[0]=t?t.body:Re.getBody(),this.length=1,this):(t=t||Re.getDocument(),e[0]==="<"?(this[0]=Re.createElement(e.slice(1,-1),t),this.length=1,this):([].push.apply(this,Re.querySelectorAll(t,e)),this)):Re.isNode(e)||Si(e)?(this[0]=e,this.length=1,this):Array.isArray(e)?([].push.apply(this,e),this):Bt(e.toArray?e.toArray():[e]):(this.length=0,this)};Bt=function(e,t){return new pt(e,t)};Bt.fn={dxRenderer:!0};pt.prototype=Bt.fn;var xl=function(e,t){for(var i=0;i<this.length;i++){var r=Bt(this[i]);r[e].apply(r,t)}return this},_v=function(e,t,i){i!=null?Re.setAttribute(e,t,i):Re.removeAttribute(e,t)};pt.prototype.show=function(){return this.toggle(!0)};pt.prototype.hide=function(){return this.toggle(!1)};pt.prototype.toggle=function(e){return this[0]&&this.toggleClass("dx-state-invisible",!e),this};pt.prototype.attr=function(e,t){if(this.length>1&&arguments.length>1)return xl.call(this,"attr",arguments);if(!this[0])return at(e)||t!==void 0?this:void 0;if(!this[0].getAttribute)return this.prop(e,t);if(typeof e=="string"&&arguments.length===1){var i=this[0].getAttribute(e);return i??void 0}else if(Ct(e))for(var r in e)this.attr(r,e[r]);else _v(this[0],e,t);return this};pt.prototype.removeAttr=function(e){return this[0]&&Re.removeAttribute(this[0],e),this};pt.prototype.prop=function(e,t){if(!this[0])return this;if(typeof e=="string"&&arguments.length===1)return this[0][e];if(Ct(e))for(var i in e)this.prop(i,e[i]);else Re.setProperty(this[0],e,t);return this};pt.prototype.addClass=function(e){return this.toggleClass(e,!0)};pt.prototype.removeClass=function(e){return this.toggleClass(e,!1)};pt.prototype.hasClass=function(e){if(!this[0]||this[0].className===void 0)return!1;for(var t=e.split(" "),i=0;i<t.length;i++)if(this[0].classList){if(this[0].classList.contains(t[i]))return!0}else{var r=nt(this[0].className)?this[0].className:Re.getAttribute(this[0],"class");if((r||"").split(" ").indexOf(t[i])>=0)return!0}return!1};pt.prototype.toggleClass=function(e,t){if(this.length>1)return xl.call(this,"toggleClass",arguments);if(!this[0]||!e)return this;t=t===void 0?!this.hasClass(e):t;for(var i=e.split(" "),r=0;r<i.length;r++)Re.setClass(this[0],i[r],t);return this};pt.prototype.html=function(e){return arguments.length?(this.empty(),typeof e=="string"&&!H5(e)||typeof e=="number"?(this[0].innerHTML=e,this):this.append(J_(e))):this[0].innerHTML};var yI=function(e,t){if(!(!this[0]||!e)){typeof e=="string"?e=J_(e):e.nodeType?e=[e]:ei(e)&&(e=[Re.createTextNode(e)]);for(var i=0;i<e.length;i++){var r=e[i],n=this[0],a=n.tagName==="TABLE"&&r.tagName==="TR";a&&n.tBodies&&n.tBodies.length&&(n=n.tBodies[0]),Re.insertElement(n,r.nodeType?r:r[0],t)}}},Ny=function(e,t){if(!(!this[0]||!this[0].style)&&!(t===null||typeof t=="number"&&isNaN(t))){e=rs(e);for(var i=0;i<this.length;i++)this[i].style[e]=hl(e,t)}};pt.prototype.css=function(e,t){if(nt(e))if(arguments.length===2)Ny.call(this,e,t);else{if(!this[0])return;e=rs(e);var i=$5.getComputedStyle(this[0])[e]||this[0].style[e];return ei(i)?i.toString():i}else if(Ct(e))for(var r in e)Ny.call(this,r,e[r]);return this};pt.prototype.prepend=function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.prepend(arguments[t]);return this}return yI.apply(this,[e,this[0].firstChild]),this};pt.prototype.append=function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.append(arguments[t]);return this}return yI.apply(this,[e]),this};pt.prototype.prependTo=function(e){if(this.length>1){for(var t=this.length-1;t>=0;t--)Bt(this[t]).prependTo(e);return this}return e=Bt(e),e[0]&&Re.insertElement(e[0],this[0],e[0].firstChild),this};pt.prototype.appendTo=function(e){return this.length>1?xl.call(this,"appendTo",arguments):(Re.insertElement(Bt(e)[0],this[0]),this)};pt.prototype.insertBefore=function(e){return e&&e[0]&&Re.insertElement(e[0].parentNode,this[0],e[0]),this};pt.prototype.insertAfter=function(e){return e&&e[0]&&Re.insertElement(e[0].parentNode,this[0],e[0].nextSibling),this};pt.prototype.before=function(e){return this[0]&&Re.insertElement(this[0].parentNode,e[0],this[0]),this};pt.prototype.after=function(e){return this[0]&&Re.insertElement(this[0].parentNode,e[0],this[0].nextSibling),this};pt.prototype.wrap=function(e){if(this[0]){var t=Bt(e);t.insertBefore(this),t.append(this)}return this};pt.prototype.wrapInner=function(e){var t=this.contents();return t.length?t.wrap(e):this.append(e),this};pt.prototype.replaceWith=function(e){if(e&&e[0])return e.is(this)?this:(e.insertBefore(this),this.remove(),e)};pt.prototype.remove=function(){return this.length>1?xl.call(this,"remove",arguments):(ad(this[0],!0),Re.removeElement(this[0]),this)};pt.prototype.detach=function(){return this.length>1?xl.call(this,"detach",arguments):(Re.removeElement(this[0]),this)};pt.prototype.empty=function(){return this.length>1?xl.call(this,"empty",arguments):(ad(this[0]),Re.setText(this[0],""),this)};pt.prototype.clone=function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t].cloneNode(!0));return Bt(e)};pt.prototype.text=function(e){if(!arguments.length){for(var t="",i=0;i<this.length;i++)t+=this[i]&&this[i].textContent||"";return t}var r=We(e)?e():e;return ad(this[0],!1),Re.setText(this[0],oe(r)?r:""),this};pt.prototype.val=function(e){return arguments.length===1?this.prop("value",oe(e)?e:""):this.prop("value")};pt.prototype.contents=function(){if(!this[0])return Bt();var e=[];return e.push.apply(e,this[0].childNodes),Bt(e)};pt.prototype.find=function(e){var t=Bt();if(!e)return t;var i=[],r;if(typeof e=="string")for(e=e.trim(),r=0;r<this.length;r++){var n=this[r];if(Re.isElementNode(n)){var a=n.getAttribute("id"),s=a||"dx-query-children";a||_v(n,"id",s),s="[id='"+s+"'] ";var o=s+e.replace(/([^\\])(,)/g,"$1, "+s);i.push.apply(i,Re.querySelectorAll(n,o)),_v(n,"id",a)}else Re.isDocument(n)&&i.push.apply(i,Re.querySelectorAll(n,e))}else for(r=0;r<this.length;r++)e=Re.isNode(e)?e:e[0],this[r]!==e&&this[r].contains(e)&&i.push(e);return t.add(i)};var Vy=function(e,t){var i;return t=(i=t.host)!==null&&i!==void 0?i:t,t.nodeType?!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length):!0};pt.prototype.filter=function(e){if(!e)return Bt();if(e===":visible")return this.filter(Vy);if(e===":hidden")return this.filter(function(a,s){return!Vy(a,s)});for(var t=[],i=0;i<this.length;i++){var r=this[i];if(Re.isElementNode(r)&&Xr(e)==="string")Re.elementMatches(r,e)&&t.push(r);else if(Re.isNode(e)||Si(e))e===r&&t.push(r);else if(We(e))e.call(r,i,r)&&t.push(r);else for(var n=0;n<e.length;n++)e[n]===r&&t.push(r)}return Bt(t)};pt.prototype.not=function(e){for(var t=[],i=this.filter(e).toArray(),r=0;r<this.length;r++)i.indexOf(this[r])===-1&&t.push(this[r]);return Bt(t)};pt.prototype.is=function(e){return!!this.filter(e).length};pt.prototype.children=function(e){for(var t=[],i=0;i<this.length;i++)for(var r=this[i]?this[i].childNodes:[],n=0;n<r.length;n++)Re.isElementNode(r[n])&&t.push(r[n]);return t=Bt(t),e?t.filter(e):t};pt.prototype.siblings=function(){var e=this[0];if(!e||!e.parentNode)return Bt();for(var t=[],i=e.parentNode.childNodes||[],r=0;r<i.length;r++){var n=i[r];Re.isElementNode(n)&&n!==e&&t.push(n)}return Bt(t)};pt.prototype.each=function(e){for(var t=0;t<this.length&&e.call(this[t],t,this[t])!==!1;t++);};pt.prototype.index=function(e){return e?(e=Bt(e),this.toArray().indexOf(e[0])):this.parent().children().index(this)};pt.prototype.get=function(e){return this[e<0?this.length+e:e]};pt.prototype.eq=function(e){return e=e<0?this.length+e:e,Bt(this[e])};pt.prototype.first=function(){return this.eq(0)};pt.prototype.last=function(){return this.eq(-1)};pt.prototype.parent=function(e){if(!this[0])return Bt();var t=Bt(this[0].parentNode);return!e||t.is(e)?t:Bt()};pt.prototype.parents=function(e){for(var t=[],i=this.parent();i&&i[0]&&!Re.isDocument(i[0]);)Re.isElementNode(i[0])&&(!e||i.is(e))&&t.push(i.get(0)),i=i.parent();return Bt(t)};pt.prototype.closest=function(e){if(this.is(e))return this;for(var t=this.parent();t&&t.length;){if(t.is(e))return t;t=t.parent()}return Bt()};pt.prototype.next=function(e){if(!this[0])return Bt();var t=Bt(this[0].nextSibling);if(!arguments.length)return t;for(;t&&t.length;){if(t.is(e))return t;t=t.next()}return Bt()};pt.prototype.prev=function(){return this[0]?Bt(this[0].previousSibling):Bt()};pt.prototype.add=function(e){for(var t=Bt(e),i=this.toArray(),r=0;r<t.length;r++){var n=t[r];i.indexOf(n)===-1&&i.push(n)}return Bt(i)};var Q_=[];pt.prototype.splice=function(){return Bt(Q_.splice.apply(this,arguments))};pt.prototype.slice=function(){return Bt(Q_.slice.apply(this,arguments))};pt.prototype.toArray=function(){return Q_.slice.call(this)};pt.prototype.offset=function(){if(this[0])return vv(this[0])};pt.prototype.offsetParent=function(){if(!this[0])return Bt();for(var e=Bt(this[0].offsetParent);e[0]&&e.css("position")==="static";)e=Bt(e[0].offsetParent);return e=e[0]?e:Bt(Re.getDocumentElement()),e};pt.prototype.position=function(){if(this[0]){var e,t=parseFloat(this.css("marginTop")),i=parseFloat(this.css("marginLeft"));if(this.css("position")==="fixed")return e=this[0].getBoundingClientRect(),{top:e.top-t,left:e.left-i};e=this.offset();var r=this.offsetParent(),n={top:0,left:0};return r[0].nodeName!=="HTML"&&(n=r.offset()),n={top:n.top+parseFloat(r.css("borderTopWidth")),left:n.left+parseFloat(r.css("borderLeftWidth"))},{top:e.top-n.top-t,left:e.left-n.left-i}}};[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(e,t){e.scrollTo(t,e.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(e,t){e.scrollTo(e.pageXOffset,t)}}].forEach(function(e){var t=e.name;pt.prototype[t]=function(i){if(this[0]){var r=_I(this[0]);return i===void 0?r?r[e.offsetProp]:this[0][t]:(r?e.scrollWindow(r,i):this[0][t]=i,this)}}});pt.prototype.data=function(e,t){if(this[0])return arguments.length<2?di.call(Bt,this[0],e):(di.call(Bt,this[0],e,t),this)};pt.prototype.removeData=function(e){return this[0]&&Sf(this[0],e),this};var CI=function(){return Bt.apply(this,arguments)};Object.defineProperty(CI,"fn",{enumerable:!0,configurable:!0,get:function(){return Bt.fn},set:function(e){Bt.fn=e}});const z5={set:function(e){Bt=e},get:function(){return CI}},J=z5.get();var W5={en:{Yes:"Yes",No:"No",Cancel:"Cancel",Close:"Close",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK","dxCollectionWidget-noDataText":"No data to display","dxDropDownEditor-selectLabel":"Select","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid","dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxFileUploader-selectFile":"Select a file","dxFileUploader-dropFile":"or Drop a file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"kb","dxFileUploader-Mb":"Mb","dxFileUploader-Gb":"Gb","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadAbortedMessage":"Upload cancelled","dxFileUploader-uploadFailedMessage":"Upload failed","dxFileUploader-invalidFileExtension":"File type is not allowed","dxFileUploader-invalidMaxFileSize":"File is too large","dxFileUploader-invalidMinFileSize":"File is too small","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-switchedOnText":"ON","dxSwitch-switchedOffText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required","dxNumberBox-invalidValueMessage":"Value must be a number","dxNumberBox-noDataText":"No data","dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-groupHeaderText":"Group by This Column","dxDataGrid-ungroupHeaderText":"Ungroup","dxDataGrid-ungroupAllText":"Ungroup All","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Fix","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"To the left","dxDataGrid-columnFixingRightPosition":"To the right","dxDataGrid-exportTo":"Export","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-exporting":"Exporting...","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-exportSelectedRows":"Export selected rows to {0}","dxDataGrid-exportAll":"Export all data to {0}","dxDataGrid-headerFilterLabel":"Filter options","dxDataGrid-headerFilterIndicatorLabel":"Show filter options for column '{0}'","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaAdaptiveCollapse":"Hide additional data","dxDataGrid-ariaAdaptiveExpand":"Display additional data","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaDataGrid":"Data grid","dxDataGrid-ariaSearchInGrid":"Search in the data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxDataGrid-ariaToolbar":"Data grid toolbar","dxDataGrid-filterBuilderPopupTitle":"Filter Builder","dxDataGrid-filterPanelCreateFilter":"Create Filter","dxDataGrid-filterPanelClearFilter":"Clear","dxDataGrid-filterPanelFilterEnabledHint":"Enable the filter","dxTreeList-ariaTreeList":"Tree list","dxTreeList-ariaSearchInGrid":"Search in the tree list","dxTreeList-ariaToolbar":"Tree list toolbar","dxTreeList-editingAddRowToNode":"Add","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPager-pagesCountText":"of","dxPager-pageSizesAllText":"All","dxPager-page":"Page {0}","dxPager-prevPage":"Previous Page","dxPager-nextPage":"Next Page","dxPager-ariaLabel":"Page Navigation","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxPivotGrid-columnFieldArea":"Drop Column Fields Here","dxPivotGrid-dataFieldArea":"Drop Data Fields Here","dxPivotGrid-rowFieldArea":"Drop Row Fields Here","dxPivotGrid-filterFieldArea":"Drop Filter Fields Here","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceMinutely":"Every minute","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceRepeatEvery":"Repeat Every","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work Week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherAgenda":"Agenda","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxScheduler-noTimezoneTitle":"No timezone","dxScheduler-moreAppointments":"{0} more","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code","dxTagBox-selected":"{0} selected","dxTagBox-allSelected":"All selected ({0})","dxTagBox-moreSelected":"{0} more","vizExport-printingButtonText":"Print","vizExport-titleMenuText":"Exporting/Printing","vizExport-exportButtonText":"{0} file","dxFilterBuilder-and":"And","dxFilterBuilder-or":"Or","dxFilterBuilder-notAnd":"Not And","dxFilterBuilder-notOr":"Not Or","dxFilterBuilder-addCondition":"Add Condition","dxFilterBuilder-addGroup":"Add Group","dxFilterBuilder-enterValueText":"<enter a value>","dxFilterBuilder-filterOperationEquals":"Equals","dxFilterBuilder-filterOperationNotEquals":"Does not equal","dxFilterBuilder-filterOperationLess":"Is less than","dxFilterBuilder-filterOperationLessOrEquals":"Is less than or equal to","dxFilterBuilder-filterOperationGreater":"Is greater than","dxFilterBuilder-filterOperationGreaterOrEquals":"Is greater than or equal to","dxFilterBuilder-filterOperationStartsWith":"Starts with","dxFilterBuilder-filterOperationContains":"Contains","dxFilterBuilder-filterOperationNotContains":"Does not contain","dxFilterBuilder-filterOperationEndsWith":"Ends with","dxFilterBuilder-filterOperationIsBlank":"Is blank","dxFilterBuilder-filterOperationIsNotBlank":"Is not blank","dxFilterBuilder-filterOperationBetween":"Is between","dxFilterBuilder-filterOperationAnyOf":"Is any of","dxFilterBuilder-filterOperationNoneOf":"Is none of","dxHtmlEditor-dialogColorCaption":"Change Font Color","dxHtmlEditor-dialogBackgroundCaption":"Change Background Color","dxHtmlEditor-dialogLinkCaption":"Add Link","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Text","dxHtmlEditor-dialogLinkTargetField":"Open link in new window","dxHtmlEditor-dialogImageCaption":"Add Image","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternate text","dxHtmlEditor-dialogImageWidthField":"Width (px)","dxHtmlEditor-dialogImageHeightField":"Height (px)","dxHtmlEditor-dialogInsertTableRowsField":"Rows","dxHtmlEditor-dialogInsertTableColumnsField":"Columns","dxHtmlEditor-dialogInsertTableCaption":"Insert Table","dxHtmlEditor-dialogUpdateImageCaption":"Update Image","dxHtmlEditor-dialogImageUpdateButton":"Update","dxHtmlEditor-dialogImageAddButton":"Add","dxHtmlEditor-dialogImageSpecifyUrl":"From the Web","dxHtmlEditor-dialogImageSelectFile":"From This Device","dxHtmlEditor-dialogImageKeepAspectRatio":"Keep Aspect Ratio","dxHtmlEditor-dialogImageEncodeToBase64":"Encode to Base64","dxHtmlEditor-heading":"Heading","dxHtmlEditor-normalText":"Normal text","dxHtmlEditor-background":"Background Color","dxHtmlEditor-bold":"Bold","dxHtmlEditor-color":"Font Color","dxHtmlEditor-font":"Font","dxHtmlEditor-italic":"Italic","dxHtmlEditor-link":"Add Link","dxHtmlEditor-image":"Add Image","dxHtmlEditor-size":"Size","dxHtmlEditor-strike":"Strikethrough","dxHtmlEditor-subscript":"Subscript","dxHtmlEditor-superscript":"Superscript","dxHtmlEditor-underline":"Underline","dxHtmlEditor-blockquote":"Blockquote","dxHtmlEditor-header":"Header","dxHtmlEditor-increaseIndent":"Increase Indent","dxHtmlEditor-decreaseIndent":"Decrease Indent","dxHtmlEditor-orderedList":"Ordered List","dxHtmlEditor-bulletList":"Bullet List","dxHtmlEditor-alignLeft":"Align Left","dxHtmlEditor-alignCenter":"Align Center","dxHtmlEditor-alignRight":"Align Right","dxHtmlEditor-alignJustify":"Align Justify","dxHtmlEditor-codeBlock":"Code Block","dxHtmlEditor-variable":"Add Variable","dxHtmlEditor-undo":"Undo","dxHtmlEditor-redo":"Redo","dxHtmlEditor-clear":"Clear Formatting","dxHtmlEditor-insertTable":"Insert Table","dxHtmlEditor-insertHeaderRow":"Insert Header Row","dxHtmlEditor-insertRowAbove":"Insert Row Above","dxHtmlEditor-insertRowBelow":"Insert Row Below","dxHtmlEditor-insertColumnLeft":"Insert Column Left","dxHtmlEditor-insertColumnRight":"Insert Column Right","dxHtmlEditor-deleteColumn":"Delete Column","dxHtmlEditor-deleteRow":"Delete Row","dxHtmlEditor-deleteTable":"Delete Table","dxHtmlEditor-cellProperties":"Cell Properties","dxHtmlEditor-tableProperties":"Table Properties","dxHtmlEditor-insert":"Insert","dxHtmlEditor-delete":"Delete","dxHtmlEditor-border":"Border","dxHtmlEditor-style":"Style","dxHtmlEditor-width":"Width","dxHtmlEditor-height":"Height","dxHtmlEditor-borderColor":"Color","dxHtmlEditor-tableBackground":"Background","dxHtmlEditor-dimensions":"Dimensions","dxHtmlEditor-alignment":"Alignment","dxHtmlEditor-horizontal":"Horizontal","dxHtmlEditor-vertical":"Vertical","dxHtmlEditor-paddingVertical":"Vertical Padding","dxHtmlEditor-paddingHorizontal":"Horizontal Padding","dxHtmlEditor-pixels":"Pixels","dxHtmlEditor-list":"List","dxHtmlEditor-ordered":"Ordered","dxHtmlEditor-bullet":"Bullet","dxHtmlEditor-align":"Align","dxHtmlEditor-center":"Center","dxHtmlEditor-left":"Left","dxHtmlEditor-right":"Right","dxHtmlEditor-indent":"Indent","dxHtmlEditor-justify":"Justify","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Access Denied. Operation could not be completed.","dxFileManager-errorDirectoryExistsFormat":"Directory '{0}' already exists.","dxFileManager-errorFileExistsFormat":"File '{0}' already exists.","dxFileManager-errorFileNotFoundFormat":"File '{0}' not found.","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Unspecified error.","dxFileManager-errorDirectoryOpenFailed":"The directory cannot be opened","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move to","dxFileManager-commandCopy":"Copy to","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClearSelection":"Clear selection","dxFileManager-commandShowNavPane":"Toggle navigation pane","dxFileManager-dialogDirectoryChooserMoveTitle":"Move to","dxFileManager-dialogDirectoryChooserMoveButtonText":"Move","dxFileManager-dialogDirectoryChooserCopyTitle":"Copy to","dxFileManager-dialogDirectoryChooserCopyButtonText":"Copy","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-dialogDeleteItemTitle":"Delete","dxFileManager-dialogDeleteItemButtonText":"Delete","dxFileManager-dialogDeleteItemSingleItemConfirmation":"Are you sure you want to delete {0}?","dxFileManager-dialogDeleteItemMultipleItemsConfirmation":"Are you sure you want to delete {0} items?","dxFileManager-dialogButtonCancel":"Cancel","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory was not created","dxFileManager-editingCreateCommonErrorMessage":"Directory was not created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item was not renamed","dxFileManager-editingRenameCommonErrorMessage":"Item was not renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item was not deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items were not deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items were not deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item was not moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items were not moved","dxFileManager-editingMoveCommonErrorMessage":"Some items were not moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item was not copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items were not copied","dxFileManager-editingCopyCommonErrorMessage":"Some items were not copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item was not uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items were not uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-editingDownloadSingleItemErrorMessage":"Item was not downloaded","dxFileManager-editingDownloadMultipleItemsErrorMessage":"{0} items were not downloaded","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Org Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Font Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandLineWidth":"Line Width","dxDiagram-commandLineStyle":"Line Style","dxDiagram-commandLineStyleSolid":"Solid","dxDiagram-commandLineStyleDotted":"Dotted","dxDiagram-commandLineStyleDashed":"Dashed","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandFitToContent":"Fit to Content","dxDiagram-commandFitToWidth":"Fit to Width","dxDiagram-commandAutoZoomByContent":"Auto Zoom by Content","dxDiagram-commandAutoZoomByWidth":"Auto Zoom by Width","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-commandLayoutLeftToRight":"Left-to-right","dxDiagram-commandLayoutRightToLeft":"Right-to-left","dxDiagram-commandLayoutTopToBottom":"Top-to-bottom","dxDiagram-commandLayoutBottomToTop":"Bottom-to-top","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop a file here","dxDiagram-uiExport":"Export","dxDiagram-uiProperties":"Properties","dxDiagram-uiSettings":"Settings","dxDiagram-uiShowToolbox":"Show Toolbox","dxDiagram-uiSearch":"Search","dxDiagram-uiStyle":"Style","dxDiagram-uiLayout":"Layout","dxDiagram-uiLayoutTree":"Tree","dxDiagram-uiLayoutLayered":"Layered","dxDiagram-uiDiagram":"Diagram","dxDiagram-uiText":"Text","dxDiagram-uiObject":"Object","dxDiagram-uiConnector":"Connector","dxDiagram-uiPage":"Page","dxDiagram-shapeText":"Text","dxDiagram-shapeRectangle":"Rectangle","dxDiagram-shapeEllipse":"Ellipse","dxDiagram-shapeCross":"Cross","dxDiagram-shapeTriangle":"Triangle","dxDiagram-shapeDiamond":"Diamond","dxDiagram-shapeHeart":"Heart","dxDiagram-shapePentagon":"Pentagon","dxDiagram-shapeHexagon":"Hexagon","dxDiagram-shapeOctagon":"Octagon","dxDiagram-shapeStar":"Star","dxDiagram-shapeArrowLeft":"Left Arrow","dxDiagram-shapeArrowUp":"Up Arrow","dxDiagram-shapeArrowRight":"Right Arrow","dxDiagram-shapeArrowDown":"Down Arrow","dxDiagram-shapeArrowUpDown":"Up Down Arrow","dxDiagram-shapeArrowLeftRight":"Left Right Arrow","dxDiagram-shapeProcess":"Process","dxDiagram-shapeDecision":"Decision","dxDiagram-shapeTerminator":"Terminator","dxDiagram-shapePredefinedProcess":"Predefined Process","dxDiagram-shapeDocument":"Document","dxDiagram-shapeMultipleDocuments":"Multiple Documents","dxDiagram-shapeManualInput":"Manual Input","dxDiagram-shapePreparation":"Preparation","dxDiagram-shapeData":"Data","dxDiagram-shapeDatabase":"Database","dxDiagram-shapeHardDisk":"Hard Disk","dxDiagram-shapeInternalStorage":"Internal Storage","dxDiagram-shapePaperTape":"Paper Tape","dxDiagram-shapeManualOperation":"Manual Operation","dxDiagram-shapeDelay":"Delay","dxDiagram-shapeStoredData":"Stored Data","dxDiagram-shapeDisplay":"Display","dxDiagram-shapeMerge":"Merge","dxDiagram-shapeConnector":"Connector","dxDiagram-shapeOr":"Or","dxDiagram-shapeSummingJunction":"Summing Junction","dxDiagram-shapeContainerDefaultText":"Container","dxDiagram-shapeVerticalContainer":"Vertical Container","dxDiagram-shapeHorizontalContainer":"Horizontal Container","dxDiagram-shapeCardDefaultText":"Person's Name","dxDiagram-shapeCardWithImageOnLeft":"Card with Image on the Left","dxDiagram-shapeCardWithImageOnTop":"Card with Image on the Top","dxDiagram-shapeCardWithImageOnRight":"Card with Image on the Right","dxGantt-dialogTitle":"Title","dxGantt-dialogStartTitle":"Start","dxGantt-dialogEndTitle":"End","dxGantt-dialogProgressTitle":"Progress","dxGantt-dialogResourcesTitle":"Resources","dxGantt-dialogResourceManagerTitle":"Resource Manager","dxGantt-dialogTaskDetailsTitle":"Task Details","dxGantt-dialogEditResourceListHint":"Edit Resource List","dxGantt-dialogEditNoResources":"No resources","dxGantt-dialogButtonAdd":"Add","dxGantt-contextMenuNewTask":"New Task","dxGantt-contextMenuNewSubtask":"New Subtask","dxGantt-contextMenuDeleteTask":"Delete Task","dxGantt-contextMenuDeleteDependency":"Delete Dependency","dxGantt-dialogTaskDeleteConfirmation":"Deleting a task also deletes all its dependencies and subtasks. Are you sure you want to delete this task?","dxGantt-dialogDependencyDeleteConfirmation":"Are you sure you want to delete the dependency from the task?","dxGantt-dialogResourcesDeleteConfirmation":"Deleting a resource also deletes it from tasks to which this resource is assigned. Are you sure you want to delete these resources? Resources: {0}","dxGantt-dialogConstraintCriticalViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. How would you like to proceed?","dxGantt-dialogCancelOperationMessage":"Cancel the operation","dxGantt-dialogDeleteDependencyMessage":"Delete the dependency","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"Move the task and keep the dependency","dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. How would you like to proceed?","dxGantt-dialogDeleteDependenciesMessage":"Delete the dependency relations","dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"Move the task and keep the dependencies","dxGantt-undo":"Undo","dxGantt-redo":"Redo","dxGantt-expandAll":"Expand All","dxGantt-collapseAll":"Collapse All","dxGantt-addNewTask":"Add New Task","dxGantt-deleteSelectedTask":"Delete Selected Task","dxGantt-zoomIn":"Zoom In","dxGantt-zoomOut":"Zoom Out","dxGantt-fullScreen":"Full Screen","dxGantt-quarter":"Q{0}","dxGantt-sortingAscendingText":"Sort Ascending","dxGantt-sortingDescendingText":"Sort Descending","dxGantt-sortingClearText":"Clear Sorting","dxGantt-showResources":"Show Resources","dxGantt-showDependencies":"Show Dependencies","dxGantt-dialogStartDateValidation":"Start date must be after {0}","dxGantt-dialogEndDateValidation":"End date must be after {0}"}},j5=ce(!0,{},W5),U5=(e,t)=>e[t]||{},Vp={},Ae=Jr({engine:function(){return"base"},_dictionary:j5,load:function(e){ce(!0,this._dictionary,e)},_localizablePrefix:"@",setup:function(e){this._localizablePrefix=e},localizeString:function(e){var t=this,i=new RegExp("(^|[^a-zA-Z_0-9"+t._localizablePrefix+"-]+)("+t._localizablePrefix+"{1,2})([a-zA-Z_0-9-]+)","g"),r=t._localizablePrefix+t._localizablePrefix;return e.replace(i,(n,a,s,o)=>{var l=t._localizablePrefix+o,u;return s!==r&&(u=t.format(o)),u||(Vp[o]=O5(o)),a+(u||l)})},getMessagesByLocales:function(){return this._dictionary},getDictionary:function(e){return e?Vp:ce({},Vp,this.getMessagesByLocales()[Pr.locale()])},getFormatter:function(e){return this._getFormatterBase(e)||this._getFormatterBase(e,"en")},_getFormatterBase:function(e,t){var i=Pr.getValueByClosestLocale(r=>U5(this._dictionary,r)[e]);if(i)return function(){var r=arguments.length===1&&Array.isArray(arguments[0])?arguments[0].slice(0):Array.prototype.slice.call(arguments,0);return r.unshift(i),fn.apply(this,r)}},format:function(e){var t=this.getFormatter(e),i=Array.prototype.slice.call(arguments,1);return t&&t.apply(this,i)||""}});const xI=new z_;var Qr=function(e,t){var i={};"noBubble"in t&&(i.noBubble=t.noBubble),"bindType"in t&&(i.bindType=t.bindType),"delegateType"in t&&(i.delegateType=t.delegateType),ve(["setup","teardown","add","remove","trigger","handle","_default","dispose"],function(r,n){t[n]&&(i[n]=function(){var a=[].slice.call(arguments);return a.unshift(this),t[n].apply(t,a)})}),W_.fire(e,i)};Qr.callbacks=W_;var Ln="dxremove",bv="dxRemoveEvent";A5(function(e){e=[].slice.call(e);for(var t=0;t<e.length;t++){var i=J(e[t]);i.prop(bv)&&(i[0][bv]=null,he.triggerHandler(i,Ln))}});Qr(Ln,{noBubble:!0,setup:function(e){J(e).prop(bv,!0)}});var Hp="dxComponents",G5="dxPrivateComponent",Zd=new WeakMap,K5=0,od=function(e,t){if(oe(t)){Zd.set(e,t);return}if(!Zd.has(e)){var i=G5+K5++;return Zd.set(e,i),i}return Zd.get(e)};function wI(e,t,i){var r=di(e.get(0)),n=od(t.constructor);r[n]=t,i&&he.one(e,Ln,function(){i.call(t)}),r[Hp]||(r[Hp]=[]),r[Hp].push(n)}function SI(e,t){var i=od(t);return di(e.get(0),i)}var Tt=function(e,t,i){i?t[e]=i:i=t,od(i,e),xI.fire(e,i)},q5=function(e,t){J.fn[e]=function(i){var r=typeof i=="string",n;if(r){var a=i,s=[].slice.call(arguments).slice(1);this.each(function(){var o=t.getInstance(this);if(!o)throw qt.Error("E0009",e);var l=o[a],u=l.apply(o,s);n===void 0&&(n=u)})}else this.each(function(){var o=t.getInstance(this);o?o.option(i):new t(this,i)}),n=this;return n}};xI.add(q5);var $p=[],X5=va(()=>{var e=Re.listen(Re.getDocument(),"DOMContentLoaded",()=>{EI.fire(),e()})}),EI={add:e=>{var t=ht();t&&Re.getReadyState()!=="loading"?e():($p.push(e),t&&X5())},fire:()=>{$p.forEach(e=>e()),$p=[]}};const Fn=Jr(EI);var Ws=function(){var e,t=Ht(),i=t.add,r=t.remove;if(!ht())return t;var n=function(){var l=ft();return{width:l.innerWidth,height:l.innerHeight}},a=function(){var l=n();if(!(l.width===e.width&&l.height===e.height)){var u;l.width===e.width&&(u="height"),l.height===e.height&&(u="width"),e=l,t.fire(u)}},s=va(function(){e=n()}),o;return t.add=function(){var l=i.apply(t,arguments);return s(),Fn.add(function(){!o&&t.has()&&(o=Re.listen(ft(),"resize",a))}),l},t.remove=function(){var l=r.apply(t,arguments);return!t.has()&&o&&(o(),o=void 0),l},t}();class ao{constructor(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._events={},this._owner=t,this._options=i}static create(t,i){return i?We(i)?i(t):i:new ao(t)}hasEvent(t){var i=this._events[t];return i?i.has():!1}fireEvent(t,i){var r=this._events[t];return r&&r.fireWith(this._owner,i),this._owner}on(t,i){if(Ct(t))ve(t,(a,s)=>{this.on(a,s)});else{var r=this._events[t];r||(r=Ht({syncStrategy:this._options.syncStrategy}),this._events[t]=r);var n=r.originalAdd||r.add;n.call(r,i)}}off(t,i){var r=this._events[t];r&&(We(i)?r.remove(i):r.empty())}dispose(){ve(this._events,(t,i)=>{i.empty()})}}var Y5=ft(),TI=function(){var e;try{e=Y5.sessionStorage}catch{}return e},Z5=Fn.add,Ef=Ht(),II=J(),Xa=function(){var e;return function(t){if(!arguments.length)return e;var i=J(t);II=i;var r=!!i.length,n=Xa();e=r?i:J("body"),Ef.fire(r?Xa():J(),n)}}();Z5(function(){Xa(".dx-viewport")});function AI(){return II}var J5=nd(),OI=ft(),Q5={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},Hy={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},eL={generic(e){var t=/windows phone/i.test(e)||e.match(/WPDesktop/),i=!t&&/Windows(.*)arm(.*)Tablet PC/i.test(e),r=!t&&!i&&/msapphost/i.test(e),n=/((intel|ppc) mac os x)/.test(e.toLowerCase());if(t||i||r||n)return{deviceType:t?"phone":i?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:n}},ios(e){if(/ip(hone|od|ad)/i.test(e)){var t=/ip(hone|od)/i.test(e),i=e.match(/os (\d+)_(\d+)_?(\d+)?/i),r=i?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3]||0,10)]:[],n=OI.screen.height===480,a=n?"B":"A";return{deviceType:t?"phone":"tablet",platform:"ios",version:r,grade:a}}},android(e){if(/android|htc_|silk/i.test(e)){var t=/mobile/i.test(e),i=e.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),r=i?[parseInt(i[1],10),parseInt(i[2]||0,10),parseInt(i[3]||0,10)]:[],n=r.length>1&&(r[0]<4||r[0]===4&&r[1]<4),a=n?"B":"A";return{deviceType:t?"phone":"tablet",platform:"android",version:r,grade:a}}}};class tL{constructor(t){this._window=(t==null?void 0:t.window)||OI,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this._eventsStrategy=new ao(this),this.changed=Ht(),ht()&&(Fn.add(this._recalculateOrientation.bind(this)),Ws.add(this._recalculateOrientation.bind(this)))}current(t){if(t){this._currentDevice=this._getDevice(t),this._forced=!0,this.changed.fire();return}if(!this._currentDevice){t=void 0;try{t=this._getDeviceOrNameFromWindowScope()}catch{t=this._getDeviceNameFromSessionStorage()}finally{t||(t=this._getDeviceNameFromSessionStorage()),t&&(this._forced=!0)}this._currentDevice=this._getDevice(t)}return this._currentDevice}real(t){return ce({},this._realDevice)}orientation(){return this._currentOrientation}isForced(){return this._forced}isRippleEmulator(){return!!this._window.tinyHippos}_getCssClasses(t){var i=[],r=this._realDevice;return t=t||this.current(),t.deviceType&&(i.push("dx-device-".concat(t.deviceType)),t.deviceType!=="desktop"&&i.push("dx-device-mobile")),i.push("dx-device-".concat(r.platform)),r.version&&r.version.length&&i.push("dx-device-".concat(r.platform,"-").concat(r.version[0])),this.isSimulator()&&i.push("dx-simulator"),ii().rtlEnabled&&i.push("dx-rtl"),i}attachCssClasses(t,i){this._deviceClasses=this._getCssClasses(i).join(" "),J(t).addClass(this._deviceClasses)}detachCssClasses(t){J(t).removeClass(this._deviceClasses)}isSimulator(){try{return this._isSimulator||ht()&&this._window.top!==this._window.self&&this._window.top["dx-force-device"]||this.isRippleEmulator()}catch{return!1}}forceSimulator(){this._isSimulator=!0}_getDevice(t){if(t==="genericPhone"&&(t={deviceType:"phone",platform:"generic",generic:!0}),Ct(t))return this._fromConfig(t);var i;if(t){if(i=Q5[t],!i)throw qt.Error("E0005")}else i=J5.userAgent;return this._fromUA(i)}_getDeviceOrNameFromWindowScope(){var t;return ht()&&(this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"])&&(t=this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"]),t}_getDeviceNameFromSessionStorage(){var t=TI();if(t){var i=t.getItem("dx-force-device");try{return JSON.parse(i)}catch{return i}}}_fromConfig(t){var i=ce({},Hy,this._currentDevice,t),r={phone:i.deviceType==="phone",tablet:i.deviceType==="tablet",android:i.platform==="android",ios:i.platform==="ios",generic:i.platform==="generic"};return ce(i,r)}_fromUA(t){var i;return ve(eL,(r,n)=>(i=n(t),!i)),i?this._fromConfig(i):Hy}_changeOrientation(){var t=J(this._window),i=ct(t)>ut(t)?"portrait":"landscape";this._currentOrientation!==i&&(this._currentOrientation=i,this._eventsStrategy.fireEvent("orientationChanged",[{orientation:i}]))}_recalculateOrientation(){var t=ut(this._window);this._currentWidth!==t&&(this._currentWidth=t,this._changeOrientation())}on(t,i){return this._eventsStrategy.on(t,i),this}off(t,i){return this._eventsStrategy.off(t,i),this}}var Ye=new tL,$y=Xa();$y&&Ye.attachCssClasses($y);Ef.add((e,t)=>{Ye.detachCssClasses(t),Ye.attachCssClasses(e)});var{maxTouchPoints:DI}=nd(),iL={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},e0=function(e){return!!rs(e)},rL=function(){var{platform:e,mac:t}=Ye.real(),i=e==="ios"||e==="android"||t;return i},Tf=function(e){if(e==="text")return!0;var t=Re.createElement("input");try{return t.setAttribute("type",e),t.value="wrongValue",!t.value}catch{return!1}},nL=function(e,t){return(e("ontouchstart")||!!t)&&!e("callPhantom")},aL=function(e){return e("PointerEvent")},kI=nL(rI,DI),RI=aL(rI),sL=!!DI,js=kI||RI&&sL,yv=va(function(){return e0("transition")}),MI=va(function(){return iL[rs("transition")]}),BI=va(function(){return e0("animation")}),Us=rL();const oL=Object.freeze(Object.defineProperty({__proto__:null,animation:BI,inputType:Tf,nativeScrolling:Us,pointerEvents:RI,styleProp:rs,stylePropPrefix:tc,supportProp:e0,touch:js,touchEvents:kI,transition:yv,transitionEndEventName:MI},Symbol.toStringTag,{value:"Module"}));var Go=new Ht;const xt=L_(qt.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created because of an internal error: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1051:`HtmlEditor's valueType is "{0}", but the {0} converter was not imported.`,E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1058:'The "startDayHour" must be earlier than the "endDayHour"',E1059:"The following column names are not unique: {0}",E1060:"All editable columns must have names",W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config.",W1015:'The "cellDuration" should divide the range from the "startDayHour" to the "endDayHour" into even intervals',W1016:"The '{0}' field in the HTML Editor toolbar item configuration was renamed to '{1}'. Please make a corresponding change in your code.",W1017:"The 'key' property is not specified for a lookup data source. Please specify it to prevent requests for the entire dataset when users filter data.",W1018:"Infinite scrolling may not work properly with multiple selection. To use these features together, set 'selection.deferred' to true or set 'selection.selectAllMode' to 'page'.",W1019:"Filter query string exceeds maximum length limit of {0} characters.",W1020:"hideEvent is ignored when the shading property is true"});var PI=ft(),lL=Fn.add,uL=Xa,dL=Ef,Vu=new we,LI="link[rel=dx-theme]",hL="data-theme",cL="data-active",zy="dx-hairlines",FI="any",sa,Cv,oa,Ar,Pa,Wy=15e3,zp="dx.";function t0(){if(!ht())return null;var e=J("<div>",sa).addClass("dx-theme-marker").appendTo(sa.documentElement),t;try{return t=PI.getComputedStyle(e.get(0)).fontFamily,!t||(t=t.replace(/["']/g,""),t.substr(0,zp.length)!==zp)?null:t.substr(zp.length)}finally{e.remove()}}function jy(e){var t,i,r=!0;Pa=e;function n(){Pa=null,clearInterval(i),r=!0,Go.fire(),Go.empty(),Vu.resolve()}if(Uy()||!Wy)n();else{if(!r){Pa&&(Pa=e);return}t=Date.now(),r=!1,i=setInterval(function(){var a=Uy(),s=!a&&Date.now()-t>Wy;s&&xt.log("W0004",Pa),(a||s)&&n()},10)}}function Uy(){if(!Pa)return!0;var e=Pa===FI;if(Vu.state()==="resolved"&&e)return!0;var t=t0();return t&&e?!0:t===Pa}function fL(){var e=J(LI,sa);e.length&&(oa={},Cv=J(J_("<link rel=stylesheet>"),sa),e.each(function(){var t=J(this,sa),i=t.attr(hL),r=t.attr("href"),n=t.attr(cL)==="true";oa[i]={url:r,isActive:n}}),e.last().after(Cv),e.remove())}function pL(e){var t=e?e.split("."):[],i=null;if(oa){if(e in oa)return e;ve(oa,function(r,n){var a=r.split(".");if(!(t[0]&&a[0]!==t[0])&&!(t[1]&&t[1]!==a[1])&&!(t[2]&&t[2]!==a[2])&&((!i||n.isActive)&&(i=r),n.isActive))return!1})}return i}function mL(e){try{e!==sa&&(oa=null)}catch{oa=null}sa=e}function NI(e){e=e||{},mL(e.context||Re.getDocument()),sa&&(fL(),Ar=void 0,gn(e))}function gn(e){if(!arguments.length)return Ar=Ar||t0(),Ar;HI(uL()),e=e||{},typeof e=="string"&&(e={theme:e});var t=e._autoInit,i=e.loadCallback,r;if(Ar=pL(e.theme||Ar),Ar&&(r=oa[Ar]),i&&Go.add(i),r)Cv.attr("href",oa[Ar].url),(Go.has()||Vu.state()!=="resolved"||e._forceTimeout)&&jy(Ar);else if(t)ht()&&jy(FI),Go.fire(),Go.empty();else throw xt.Error("E0021",Ar);Vu.done(()=>VI(AI(),Ar))}function gL(e){e=e||gn();var t=[],i=e&&e.split(".");return i&&(t.push("dx-theme-"+i[0],"dx-theme-"+i[0]+"-typography"),i.length>1&&t.push("dx-color-scheme-"+i[1]+(Ei(e)?"-"+i[2]:""))),t}var ic;function VI(e,t){ic=gL(t).join(" "),J(e).addClass(ic),function(){var i=ht()&&PI.devicePixelRatio;if(!(!i||i<2)){var r=J("<div>");r.css("border",".5px solid transparent"),J("body").append(r),At(r)===1&&(J(e).addClass(zy),ic+=" "+zy),r.remove()}}()}function HI(e){J(e).removeClass(ic)}function i0(e,t){return t||(t=Ar||t0()),new RegExp(e).test(t)}function Ei(e){return i0("material",e)}function $I(e){return i0("generic",e)}function vL(e){return i0("compact",e)}function _L(e,t){var i=Re.getDocument(),r=i.createElement("span");r.style.position="absolute",r.style.top="-9999px",r.style.left="-9999px",r.style.visibility="hidden",r.style.fontFamily="Arial",r.style.fontSize="250px",r.style.fontWeight=t,r.innerHTML=e,i.body.appendChild(r);var n=r.offsetWidth;r.style.fontFamily="Roboto, RobotoFallback, Arial";var a=r.offsetWidth;return r.parentNode.removeChild(r),n!==a}function bL(e,t){return new Promise(i=>{var r=()=>{clearInterval(n),clearTimeout(a),i()},n=setInterval(()=>{_L(e,t)&&r()},15),a=setTimeout(r,2e3)})}function Gy(){if(NI({_autoInit:!0,_forceTimeout:!0}),J(LI,sa).length)throw xt.Error("E0022")}ht()?Gy():lL(Gy);dL.add(function(e,t){Vu.done(function(){HI(t),VI(e)})});Ye.changed.add(function(){NI({_autoInit:!0})});class Sr{constructor(t,i){i=i||{},this._action=t,this._context=i.context||ft(),this._beforeExecute=i.beforeExecute,this._afterExecute=i.afterExecute,this._component=i.component,this._validatingTargetName=i.validatingTargetName;var r=this._excludeValidators={};if(i.excludeValidators)for(var n=0;n<i.excludeValidators.length;n++)r[i.excludeValidators[n]]=!0}execute(){var t={action:this._action,args:Array.prototype.slice.call(arguments),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},i=this._beforeExecute,r=this._afterExecute,n=t.args[0]||{};if(this._validateAction(t)&&(i==null||i.call(this._context,t),!t.cancel)){var a=this._executeAction(t);if(!n.cancel)return r==null||r.call(this._context,t),a}}_validateAction(t){var i=this._excludeValidators,{executors:r}=Sr;for(var n in r)if(!i[n]){var a,s=r[n];if((a=s.validate)===null||a===void 0||a.call(s,t),t.cancel)return!1}return!0}_executeAction(t){var i,{executors:r}=Sr;for(var n in r){var a,s=r[n];if((a=s.execute)===null||a===void 0||a.call(s,t),t.handled){i=t.result;break}}return i}static registerExecutor(t,i){if(Ct(t)){ve(t,Sr.registerExecutor);return}Sr.executors[t]=i}static unregisterExecutor(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];ve(i,function(){delete Sr.executors[this]})}}Sr.executors={};var Ky=e=>t=>{if(t.args.length){var i=t.args[0],r=i[t.validatingTargetName]||i.element;r&&e(J(r))&&(t.cancel=!0)}};Sr.registerExecutor({disabled:{validate:Ky(e=>e.is(".dx-state-disabled, .dx-state-disabled *"))},readOnly:{validate:Ky(e=>e.is(".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)"))},undefined:{execute:e=>{e.action||(e.result=void 0,e.handled=!0)}},func:{execute:e=>{We(e.action)&&(e.result=e.action.call(e.context,e.args[0]),e.handled=!0)}}});var yL=function(e,t){return 1/e===1/t},CL=function(e,t){if(e=Pi(e,!0),t=Pi(t,!0),e&&t&&Br(e)&&Br(t))return t.is(e);var i=e!==e,r=t!==t;return i&&r?!0:e===0&&t===0?yL(e,t):e===null||typeof e!="object"||Re.isElementNode(e)?e===t:!1},Wp={},cl=e=>{var t=Ye.current();return e.reduce((i,r)=>{var{device:n,options:a}=r,s=n||{},o=We(s)?s(t):wL(t,s);return o&&ce(!0,i,a),i},{})},xL=(e,t)=>typeof e!="string"?e:{[e]:t},wL=(e,t)=>Yr(t)||UT(e,[t]).length>0,qy=e=>e.substr(e.lastIndexOf(".")+1),Xy=e=>e.substr(0,e.lastIndexOf(".")),SL=function(e,t){return Wp[t]=Wp[t]||Yt(t),Wp[t](e,{functionsAsIs:!0})},EL=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e},jp={},Up={};class TL{constructor(t,i){this._options=t,this._optionsByReference=i,this._changingCallback,this._changedCallback,this._namePreparedCallbacks}_setByReference(t,i){ce(!0,t,i);for(var r in this._optionsByReference)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}_setPreparedValue(t,i,r,n){var a=this.get(this._options,t,!1);if(!CL(a,i)){var s=no(t);!n&&this._changingCallback(t,a,i),Up[t]=Up[t]||F_(t),Up[t](this._options,i,{functionsAsIs:!0,merge:oe(r)?r:!this._optionsByReference[t],unwrapObservables:s.length>1&&!!this._optionsByReference[s[0]]}),!n&&this._changedCallback(t,i,a)}}_prepareRelevantNames(t,i,r,n){if(Ct(r))for(var a in r)this._prepareRelevantNames(t,"".concat(i,".").concat(a),r[a]);this._namePreparedCallbacks(t,i,r,n)}get(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._options,i=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return jp[i]=jp[i]||Yt(i),jp[i](t,{functionsAsIs:!0,unwrapObservables:r})}set(t,i,r,n){t=xL(t,i);for(var a in t)this._prepareRelevantNames(t,a,t[a],n);for(var s in t)this._setPreparedValue(s,t[s],r,n)}onRelevantNamesPrepared(t){this._namePreparedCallbacks=t}onChanging(t){this._changingCallback=t}onChanged(t){this._changedCallback=t}dispose(){this._changingCallback=Ee,this._changedCallback=Ee}}class IL{constructor(t,i,r,n){this._deprecatedCallback,this._startChangeCallback,this._endChangeCallback,this._default=i,this._deprecated=n,this._deprecatedNames=[],this._initDeprecatedNames(),this._optionManager=new TL(t,r),this._optionManager.onRelevantNamesPrepared((a,s,o,l)=>this._setRelevantNames(a,s,o,l)),this._cachedOptions={},this._rules=[]}set _initial(t){this._initialOptions=t}get _initial(){if(!this._initialOptions){var t=this._getByRules(this.silent("defaultOptionsRules"));this._initialOptions=this._default,this._optionManager._setByReference(this._initialOptions,t)}return this._initialOptions}_initDeprecatedNames(){for(var t in this._deprecated)this._deprecatedNames.push(t)}_getByRules(t){return t=Array.isArray(t)?this._rules.concat(t):this._rules,cl(t)}_notifyDeprecated(t){var i=this._deprecated[t];i&&this._deprecatedCallback(t,i)}_setRelevantNames(t,i,r,n){if(i){var a=this._normalizeName(i,n);a&&a!==i&&(this._setField(t,a,r),this._clearField(t,i))}}_setField(t,i,r){var n="",a=null;do n=n?".".concat(n):"",n=qy(i)+n,i=Xy(i),a=i?this._optionManager.get(t,i,!1):t;while(!a);a[n]=r}_clearField(t,i){delete t[i];var r=Xy(i),n=r?this._optionManager.get(t,r,!1):t;n&&delete n[qy(i)]}_normalizeName(t,i){if(this._deprecatedNames.length&&t){for(var r=0;r<this._deprecatedNames.length;r++)if(this._deprecatedNames[r]===t){var n=this._deprecated[t];if(n)return!i&&this._notifyDeprecated(t),n.alias||t}}return t}addRules(t){this._rules=t.concat(this._rules)}applyRules(t){var i=this._getByRules(t);this.silent(i)}dispose(){this._deprecatedCallback=Ee,this._startChangeCallback=Ee,this._endChangeCallback=Ee,this._optionManager.dispose()}onChanging(t){this._optionManager.onChanging(t)}onChanged(t){this._optionManager.onChanged(t)}onDeprecated(t){this._deprecatedCallback=t}onStartChange(t){this._startChangeCallback=t}onEndChange(t){this._endChangeCallback=t}isInitial(t){var i=this.silent(t),r=this.initial(t),n=We(i)&&We(r);return n?i.toString()===r.toString():li(i,r)}initial(t){return SL(this._initial,t)}option(t,i){var r=arguments.length<2&&Xr(t)!=="object";if(r)return this._optionManager.get(void 0,this._normalizeName(t));this._startChangeCallback();try{this._optionManager.set(t,i)}finally{this._endChangeCallback()}}silent(t,i){var r=arguments.length<2&&Xr(t)!=="object";if(r)return this._optionManager.get(void 0,t,void 0,!0);this._optionManager.set(t,i,void 0,!0)}reset(t){if(t){var i=no(t),r=i.reduce((a,s)=>a?a[s]:this.initial(s),null),n=at(r)?Ne({},r):r;this._optionManager.set(t,n,!1)}}getAliasesByName(t){return Object.keys(this._deprecated).filter(i=>t===this._deprecated[i].alias)}isDeprecated(t){return Object.prototype.hasOwnProperty.call(this._deprecated,t)}cache(t,i){var r=arguments.length<2;if(r)return this._cachedOptions[t];this._cachedOptions[t]=ce(this._cachedOptions[t],i)}}class AL{constructor(){this._postponedOperations={}}add(t,i,r){if(t in this._postponedOperations)r&&this._postponedOperations[t].promises.push(r);else{var n=new we;this._postponedOperations[t]={fn:i,completePromise:n,promises:r?[r]:[]}}return this._postponedOperations[t].completePromise.promise()}callPostponedOperations(){for(var t in this._postponedOperations){var i=this._postponedOperations[t];oe(i)&&(i.promises&&i.promises.length?Ke(...i.promises).done(i.fn).then(i.completePromise.resolve):i.fn().done(i.completePromise.resolve))}this._postponedOperations={}}}var Yy=e=>e.charAt(2).toLowerCase()+e.substr(3),OL=e=>e.indexOf("_",0)===0,r0=Ot.inherit({_setDeprecatedOptions(){this._deprecatedOptions={}},_getDeprecatedOptions(){return this._deprecatedOptions},_getDefaultOptions:()=>({onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}),_defaultOptionsRules:()=>[],_setOptionsByDevice(e){this._options.applyRules(e)},_convertRulesToOptions:e=>cl(e),_isInitialOptionValue(e){return this._options.isInitial(e)},_setOptionsByReference(){this._optionsByReference={}},_getOptionsByReference(){return this._optionsByReference},ctor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{_optionChangedCallbacks:t,_disposingCallbacks:i}=e;this.NAME=od(this.constructor),this._eventsStrategy=ao.create(this,e.eventsStrategy),this._updateLockCount=0,this._optionChangedCallbacks=t||Ht(),this._disposingCallbacks=i||Ht(),this.postponedOperations=new AL,this._createOptions(e)},_createOptions(e){this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=new IL(this._getDefaultOptions(),this._getDefaultOptions(),this._getOptionsByReference(),this._getDeprecatedOptions()),this._options.onChanging((t,i,r)=>this._initialized&&this._optionChanging(t,i,r)),this._options.onDeprecated((t,i)=>this._logDeprecatedOptionWarning(t,i)),this._options.onChanged((t,i,r)=>this._notifyOptionChanged(t,i,r)),this._options.onStartChange(()=>this.beginUpdate()),this._options.onEndChange(()=>this.endUpdate()),this._options.addRules(this._defaultOptionsRules()),e&&e.onInitializing&&e.onInitializing.apply(this,[e]),this._setOptionsByDevice(e.defaultOptionsRules),this._initOptions(e)}finally{this.endUpdate()}},_initOptions(e){this.option(e)},_init(){this._createOptionChangedAction(),this.on("disposing",e=>{this._disposingCallbacks.fireWith(this,[e])})},_logDeprecatedOptionWarning(e,t){var i=t.message||"Use the '".concat(t.alias,"' option instead");qt.log("W0001",this.NAME,e,t.since,i)},_logDeprecatedComponentWarning(e,t){qt.log("W0000",this.NAME,e,"Use the '".concat(t,"' widget instead"))},_createOptionChangedAction(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})},_createDisposingAction(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})},_optionChanged(e){switch(e.name){case"onDisposing":case"onInitialized":break;case"onOptionChanged":this._createOptionChangedAction()}},_dispose(){this._optionChangedCallbacks.empty(),this._createDisposingAction(),this._disposingAction(),this._eventsStrategy.dispose(),this._options.dispose(),this._disposed=!0},_lockUpdate(){this._updateLockCount++},_unlockUpdate(){this._updateLockCount=Math.max(this._updateLockCount-1,0)},_isUpdateAllowed(){return this._updateLockCount===0},_isInitializingRequired(){return!this._initializing&&!this._initialized},isInitialized(){return this._initialized},_commitUpdate(){this.postponedOperations.callPostponedOperations(),this._isInitializingRequired()&&this._initializeComponent()},_initializeComponent(){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._lockUpdate(),this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._unlockUpdate(),this._initialized=!0}},instance(){return this},beginUpdate:function(){this._lockUpdate()},endUpdate:function(){this._unlockUpdate(),this._isUpdateAllowed()&&this._commitUpdate()},_optionChanging:Ee,_notifyOptionChanged(e,t,i){if(this._initialized)for(var r=[e].concat(this._options.getAliasesByName(e)),n=0;n<r.length;n++){var a=r[n],s={name:no(a)[0],fullName:a,value:t,previousValue:i};OL(a)||(this._optionChangedCallbacks.fireWith(this,[ce(this._defaultActionArgs(),s)]),this._optionChangedAction(ce({},s))),!this._disposed&&this._cancelOptionChange!==a&&this._optionChanged(s)}},initialOption(e){return this._options.initial(e)},_defaultActionConfig(){return{context:this,component:this}},_defaultActionArgs(){return{component:this}},_createAction(e,t){var i;return r=>(oe(r)||(r={}),Ct(r)||(r={actionValue:r}),i=i||new Sr(e,ce(t,this._defaultActionConfig())),i.execute.call(i,ce(r,this._defaultActionArgs())))},_createActionByOption(e,t){var i=this,r,n,a,s=function(){if(!n){if(t=t||{},typeof e!="string")throw qt.Error("E0008");e.indexOf("on")===0&&(n=Yy(e)),a=i.option(e)}if(!(!r&&!a&&!t.beforeExecute&&!t.afterExecute&&!i._eventsStrategy.hasEvent(n))){if(!r){var l=t.beforeExecute;t.beforeExecute=function(){for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];l&&l.apply(i,g),i._eventsStrategy.fireEvent(n,g[0].args)},r=i._createAction(a,t)}for(var u=arguments.length,d=new Array(u),c=0;c<u;c++)d[c]=arguments[c];if(ii().wrapActionsBeforeExecute){var h=i.option("beforeActionExecute")||Ee,f=h(i,r,t)||r;return f.apply(i,d)}return r.apply(i,d)}};if(ii().wrapActionsBeforeExecute)return s;var o=this.option("onActionCreated")||Ee;return o(this,s,t)||s},on(e,t){return this._eventsStrategy.on(e,t),this},off(e,t){return this._eventsStrategy.off(e,t),this},hasActionSubscription:function(e){return!!this._options.silent(e)||this._eventsStrategy.hasEvent(Yy(e))},isOptionDeprecated(e){return this._options.isDeprecated(e)},_setOptionWithoutOptionChange(e,t){this._cancelOptionChange=e,this.option(e,t),this._cancelOptionChange=!1},_getOptionValue(e,t){var i=this.option(e);return We(i)?i.bind(t)():i},option(){return this._options.option(...arguments)},resetOption(e){this.beginUpdate(),this._options.reset(e),this.endUpdate()}}),n0=ft(),wl=()=>{var e=Re.getActiveElement();if(e&&e!==Re.getBody()){var t;(t=e.blur)===null||t===void 0||t.call(e)}},DL=()=>{var e=n0.getSelection();if(e&&e.type!=="Caret"){if(e.empty)e.empty();else if(e.removeAllRanges)try{e.removeAllRanges()}catch{}}},kL=(e,t)=>{var i=J(e),r=J(t);if(i[0]===r[0])return i[0];for(var n=i.parents(),a=r.parents(),s=Math.min(n.length,a.length),o=-s;o<0;o++)if(n.get(o)===a.get(o))return n.get(o)},so=e=>{e=J(e);var t=e.length&&e.filter(function(){var i=J(this);return i.is("script[type]")&&i.attr("type").indexOf("script")<0});return t.length?t.eq(0).html():(e=J("<div>").append(e),e.html())},If=e=>{var t=oe(e)&&(e.nodeType||Br(e))?J(e):J("<div>").html(e).contents();return t.length===1&&(t.is("script")?t=If(t.html().trim()):t.is("table")&&(t=t.children("tbody").contents())),t},xv=(e,t)=>{var i=e.originalEvent&&e.originalEvent.clipboardData||n0.clipboardData;if(!t)return i&&i.getData("Text");i&&i.setData("Text",t)},Wa=(e,t)=>t?(Re.isTextNode(t)&&(t=t.parentNode),Re.isDocument(e)?e.documentElement.contains(t):Si(e)?Wa(e.document,t):e.contains?e.contains(t):!!(t.compareDocumentPosition(e)&t.DOCUMENT_POSITION_CONTAINS)):!1,RL=(e,t,i)=>{var r=n0.getComputedStyle(J(e).get(0)),n=i&&i.includePaddings;return J("<div>").text(t).css({fontStyle:r.fontStyle,fontVariant:r.fontVariant,fontWeight:r.fontWeight,fontSize:r.fontSize,fontFamily:r.fontFamily,letterSpacing:r.letterSpacing,border:r.border,paddingTop:n?r.paddingTop:"",paddingRight:n?r.paddingRight:"",paddingBottom:n?r.paddingBottom:"",paddingLeft:n?r.paddingLeft:"",visibility:"hidden",whiteSpace:"pre",position:"absolute",float:"left"})},ML=(e,t)=>(t&&Re.insertElement(e.parentNode,t,e),e),BL=(e,t)=>{if(t&&t[0])return t.is(e)?e:(ve(t,(i,r)=>{ML(e[0],r)}),e.remove(),t)},a0=function(e){return function(t){for(var i=J(t||"body"),r=i.filter(".dx-visibility-change-handler").add(i.find(".dx-visibility-change-handler")),n=0;n<r.length;n++)he.triggerHandler(r[n],e)}},Dc=a0("dxshown"),PL=a0("dxhiding"),An=a0("dxresize"),LL=Ht({syncStrategy:!0});class oo{render(t){t=t||{};var i=t.onRendered;delete t.onRendered;var r;return t.renovated&&t.transclude&&this._element?r=J("<div>").append(this._element).contents():r=this._renderCore(t),this._ensureResultInContainer(r,t.container),LL.fire(r,t.container),i&&i(),r}_ensureResultInContainer(t,i){if(i){var r=J(i),n=Wa(r.get(0),t.get(0));if(r.append(t),!n){var a=Re.getBody().contains(r.get(0));a&&Dc(t)}}}_renderCore(){throw qt.Error("E0001")}}class fl extends oo{constructor(t){super(),this._render=t}_renderCore(t){return If(this._render(t))}}class Fs extends oo{_renderCore(){return J()}}class Af extends oo{constructor(t){super(),this.name=t}}var zI={},rc;function ns(e,t){zI[e]=t}function FL(e){if(nt(e)){if(rc=zI[e],!rc)throw qt.Error("E0020",e)}else rc=e}function Zy(){return rc}ns("jquery-tmpl",{compile:e=>so(e),render:(e,t)=>jQuery.tmpl(e,t)});ns("jsrender",{compile:e=>(jQuery||jsrender).templates(so(e)),render:(e,t)=>e.render(t)});ns("mustache",{compile:e=>so(e),render:(e,t)=>Mustache.render(e,t)});ns("hogan",{compile:e=>Hogan.compile(so(e)),render:(e,t)=>e.render(t)});ns("underscore",{compile:e=>_.template(so(e)),render:(e,t)=>e(t)});ns("handlebars",{compile:e=>Handlebars.compile(so(e)),render:(e,t)=>e(t)});ns("doT",{compile:e=>doT.template(so(e)),render:(e,t)=>e(t)});ns("default",{compile:e=>If(e),render:(e,t,i)=>e.clone()});FL("default");class NL extends oo{constructor(t){super(),this._element=t}_renderCore(t){var i=t.transclude;return!i&&!this._compiledTemplate&&(this._compiledTemplate=Zy().compile(this._element)),J("<div>").append(i?this._element:Zy().render(this._compiledTemplate,t.model,t.index)).contents()}source(){return J(this._element).clone()}}function VL(e){return e.reduce((t,i)=>{var r;return t[i]=((r=t[i])!==null&&r!==void 0?r:0)+1,t},{})}var HL=function(e){return Array.isArray(e)?e:[e]},$L=function(e){return[...new Set(e)]},Jy=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=VL(t);return e.filter(r=>!i[r]--)},nu=function(e,t,i,r){var n={},{useLegacyVisibleIndex:a}=ii(),s=0,o=l=>!oe(l[t])&&(!r||r(l));e.forEach(l=>{var u=l[t];u>=0?(n[u]=n[u]||[],l===i?n[u].unshift(l):n[u].push(l)):l[t]=void 0}),a||e.forEach(l=>{if(o(l)){for(;n[s];)s++;n[s]=[l],s++}}),s=0,ov(n,function(l,u){u.forEach(d=>{l>=0&&(d[t]=s++)})}),a&&e.forEach(l=>{o(l)&&(l[t]=s++)})},zL=(e,t)=>e.reduce((i,r)=>{var n,a=t(r);return i[a]=(n=i[a])!==null&&n!==void 0?n:[],i[a].push(r),i},{}),WI=(e,t)=>{var i=J(e).contents().filter("[".concat("data-options",'*="').concat(t,'"]'));return[].slice.call(i).map(r=>{var n=J(r).attr("data-options")||"";return{element:r,options:ii().optionsParser(n)[t]}}).filter(r=>!!r.options)},WL=e=>{var t=zL(e,r=>r.options.name);if(t[void 0])throw qt.Error("E0023");var i={};return Object.keys(t).forEach(r=>{var n,a=(n=UT(Ye.current(),t[r],s=>s.options)[0])===null||n===void 0?void 0:n.element;a&&(i[r]=a)}),i},jI=e=>{var t=e.render.bind(e);return ce({},e,{render(i){var r=t(i);return i&&i.onRendered&&i.onRendered(),r}})},jL=e=>{var t=[];return"model"in e&&t.push(e.model),"index"in e&&t.push(e.index),t.push(e.container),t},UL=e=>typeof e=="string"?If(e):e,Qy=e=>Br(e)&&e[0]||e,GL=e=>new NL(e),KL=(e,t,i,r)=>{var n=null;return(!r||r.indexOf(e)===-1)&&(n=t[e],n&&!(n instanceof oo)&&!i&&(n=jI(n))),n},eC=(e,t,i,r,n,a)=>e==null?new Fs:e instanceof Af?a[e.name]:e instanceof oo?e:We(e.render)&&!Br(e)?r?e:jI(e):e.nodeType||Br(e)?t(J(e)):KL(e,i,r,n)||a[e]||t(e),qL=3,XL="template",YL="dxTemplate",ZL="dx-template-wrapper",JL=new fl(e=>{var{model:t,parent:i}=e,r=t.widget;if(!r)return J();var n=J("<div>"),a=t.options||{};return i?i._createComponent(n,r,a):n[r](a),n});class tC{constructor(t,i){this._tempTemplates=[],this._defaultTemplates={},this._anonymousTemplateName=i||XL,this._createElement=t||GL,this._createTemplateIfNeeded=this._createTemplateIfNeeded.bind(this)}static createDefaultOptions(){return{integrationOptions:{watchMethod:function(t,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.skipImmediate||i(t()),Ee},templates:{"dx-polymorph-widget":JL},useDeferUpdateForTemplates:!0}}}get anonymousTemplateName(){return this._anonymousTemplateName}addDefaultTemplates(t){this._defaultTemplates=ce({},this._defaultTemplates,t)}dispose(){this._tempTemplates.forEach(t=>{t.template.dispose&&t.template.dispose()}),this._tempTemplates=[]}extractTemplates(t){var i=this._extractTemplates(t),r=this._extractAnonymousTemplate(t);return{templates:i,anonymousTemplateMeta:r}}_extractTemplates(t){var i=WI(t,YL),r=WL(i);return i.forEach(n=>{var{element:a,options:{name:s}}=n;a===r[s]?J(a).addClass(ZL).detach():J(a).remove()}),Object.keys(r).map(n=>({name:n,template:this._createTemplate(r[n])}))}_extractAnonymousTemplate(t){var i=t.contents().detach(),r=i.filter((n,a)=>{var s=a.nodeType===qL,o=J(a).text().trim().length<1;return!(s&&o)});return r.length>0?{template:this._createTemplate(i),name:this._anonymousTemplateName}:{}}_createTemplateIfNeeded(t){var i=this._tempTemplates.filter(n=>n.source===Qy(t))[0];if(i)return i.template;var r=this._createTemplate(t);return this._tempTemplates.push({template:r,source:Qy(t)}),r}_createTemplate(t){return this._createElement(UL(t))}getTemplate(t,i,r,n){var{isAsyncTemplate:a,skipTemplates:s}=r;return We(t)?new fl(o=>{var l=t.apply(n,jL(o));if(!oe(l))return new Fs;var u=!1,d=eC(l,h=>h.nodeType||Br(h)&&!J(h).is("script")?new fl(()=>h):(u=!0,this._createTemplate(h)),i,a,s,this._defaultTemplates),c=d.render(o);return u&&d.dispose&&d.dispose(),c}):eC(t,this._createTemplateIfNeeded,i,a,s,this._defaultTemplates)}}var QL=function(e){return e&&e.get(0)};function ot(e){return QL(e)}var wv=(e,t)=>{if(!t)throw qt.Error("E0017");return Array.isArray(e)?e.map(i=>wv(i,t)).join(" "):e.indexOf(" ")!==-1?wv(e.split(/\s+/g),t):"".concat(e,".").concat(t)},UI=function(e,t){if(!eF(e))return!1;var i=e.nodeName.toLowerCase(),r=!isNaN(t),n=e.disabled,a=/^(input|select|textarea|button|object|iframe)$/.test(i),s=i==="a",o=!0,l=e.isContentEditable;return a||l?o=!n:s?o=e.href||r:o=r,o};function eF(e){var t=J(e);return t.is(":visible")&&t.css("visibility")!=="hidden"&&t.parents().css("visibility")!=="hidden"}var Sv=function(e,t){return UI(t,J(t).attr("tabIndex"))},iC=function(e,t){var i=J(t).attr("tabIndex");return(isNaN(i)||i>=0)&&UI(t,i)},Ya=function(e){var t=J(e).get(0);return Re.getActiveElement(t)===t},tF={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift"},iF={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},rF={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i},nF=e=>e,aF=e=>nF(he.Event(e,e)),s0=e=>ld(e)==="dx",sF=e=>ld(e)==="mouse",GI=e=>ld(e)==="touch",ld=e=>{var{type:t}=e,i="other";return ve(rF,function(r){if(this.test(t))return i=r,!1}),i},KI=e=>ld(e)==="pointer",Gs=e=>sF(e)||(KI(e)||s0(e))&&e.pointerType==="mouse",mr=e=>e&&e.type==="dxmousewheel",ud=e=>GI(e)||(KI(e)||s0(e))&&e.pointerType==="touch",mi=e=>{var{pageX:t,pageY:i,timeStamp:r}=e;return{x:t,y:i,time:r}},Ds=(e,t)=>({x:t.x-e.x,y:t.y-e.y,time:t.time-e.time||1}),oF=e=>{var{originalEvent:t,pointers:i}=e;return GI(e)?(t.touches||[]).length:s0(e)?(i||[]).length:0},qI=e=>{var{target:t}=e,i=J(t),r=(t==null?void 0:t.isContentEditable)||(t==null?void 0:t.hasAttribute("contenteditable")),n=i.is("input, textarea, select")||r;if(mr(e)){var a=i.is("textarea")&&i.hasClass("dx-texteditor-input");if(a||r)return!1;var s=i.is("input[type='number'], textarea, select")&&i.is(":focus");return s}if(Gs(e))return n||e.which>1;if(ud(e))return n&&Ya(i)},Na=(e,t)=>{var i=aF(e);return t&&ce(i,t),i},as=e=>{var{originalEvent:t,delegateTarget:i}=e,r=Na(t,e);return he.trigger(i||r.target,r),r},ci=e=>{var{key:t,which:i}=e,r=tF[t==null?void 0:t.toLowerCase()]||t,n=iF[i];return n&&r===t?n:!r&&i?String.fromCharCode(i):r},kc=e=>{var{key:t,which:i}=e;return t||String.fromCharCode(i)},Be=wv,Vi=e=>{var{ctrlKey:t,metaKey:i}=e;return t||i},rC="compositionstart",lF="compositionend",uF="keydown",Gp="KeyboardProcessor",XI=e=>({keyName:ci(e),key:e.key,code:e.code,ctrl:e.ctrlKey,location:e.location,metaKey:e.metaKey,shift:e.shiftKey,alt:e.altKey,which:e.which,originalEvent:e}),o0=Ot.inherit({_keydown:Be(uF,Gp),_compositionStart:Be(rC,Gp),_compositionEnd:Be(lF,Gp),ctor:function(e){e=e||{},e.element&&(this._element=J(e.element)),e.focusTarget&&(this._focusTarget=e.focusTarget),this._handler=e.handler,this._element&&(this._processFunction=t=>{var i=J(this._focusTarget).toArray(),r=this._focusTarget&&this._focusTarget!==t.target&&!i.includes(t.target),n=this._isComposingJustFinished&&t.which===229||this._isComposing||r;this._isComposingJustFinished=!1,n||this.process(t)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),he.on(this._element,this._keydown,this._processFunction),he.on(this._element,this._compositionStart,this._toggleProcessingWithContext),he.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose:function(){this._element&&(he.off(this._element,this._keydown,this._processFunction),he.off(this._element,this._compositionStart,this._toggleProcessingWithContext),he.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0},process:function(e){this._handler(XI(e))},toggleProcessing:function(e){var{type:t}=e;this._isComposing=t===rC,this._isComposingJustFinished=!this._isComposing}});o0.createKeyDownOptions=XI;function Ri(e,t){return t?Be(e,t):e}function Ev(e,t){return typeof e=="function"?e(t):e.execute(t)}var nC={on:(e,t,i,r)=>{var{selector:n,showTimeout:a,hideTimeout:s,namespace:o}=r;he.on(e,Ri("dxactive",o),n,{timeout:a},l=>Ev(t,{event:l,element:l.currentTarget})),he.on(e,Ri("dxinactive",o),n,{timeout:s},l=>Ev(i,{event:l,element:l.currentTarget}))},off:(e,t)=>{var{namespace:i,selector:r}=t;he.off(e,Ri("dxactive",i),r),he.off(e,Ri("dxinactive",i),r)}},Rc={on:function(e,t){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};he.on(e,Ri("dxresize",i),t)},off:function(e){var{namespace:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};he.off(e,Ri("dxresize",t))}},aC={on:(e,t,i,r)=>{var{selector:n,namespace:a}=r;he.on(e,Ri("dxhoverend",a),n,s=>i(s)),he.on(e,Ri("dxhoverstart",a),n,s=>Ev(t,{element:s.target,event:s}))},off:(e,t)=>{var{selector:i,namespace:r}=t;he.off(e,Ri("dxhoverstart",r),i),he.off(e,Ri("dxhoverend",r),i)}},Mc={on:(e,t,i,r)=>{var{namespace:n}=r;he.on(e,Ri("dxhiding",n),i),he.on(e,Ri("dxshown",n),t)},off:(e,t)=>{var{namespace:i}=t;he.off(e,Ri("dxhiding",i)),he.off(e,Ri("dxshown",i))}},nc={on:(e,t,i,r)=>{var{namespace:n}=r;he.on(e,Ri("focusin",n),t),he.on(e,Ri("focusout",n),i)},off:(e,t)=>{var{namespace:i}=t;he.off(e,Ri("focusin",i)),he.off(e,Ri("focusout",i))},trigger:e=>he.trigger(e,"focus")},sC={on:function(e,t){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};he.on(e,Ri("dxclick",i),t)},off:function(e){var{namespace:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};he.off(e,Ri("dxclick",t))}},oC={on:function(e,t){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};he.on(e,Ri("click",i),t)},off:function(e){var{namespace:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};he.off(e,Ri("click",t))}},dF=0,Ml={},hF=()=>"keyboardProcessorId".concat(dF++),ja={on:(e,t,i)=>{var r=hF();return Ml[r]=new o0({element:e,focusTarget:t,handler:i}),r},off:e=>{e&&Ml[e]&&(Ml[e].dispose(),delete Ml[e])},_getProcessor:e=>Ml[e]},{abstract:Jd}=r0,Nn=r0.inherit({_getDefaultOptions(){return ce(this.callBase(),{width:void 0,height:void 0,rtlEnabled:ii().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}},this._useTemplates()?tC.createDefaultOptions():{})},ctor(e,t){this._customClass=null,this._createElement(e),wI(this._$element,this,this._dispose),this.callBase(t)},_createElement(e){this._$element=J(e)},_getSynchronizableOptionsForCreateComponent:()=>["rtlEnabled","disabled","templatesRenderAsynchronously"],_checkFunctionValueDeprecation:function(e){this.option("_ignoreFunctionValueDeprecation")||e.forEach(t=>{We(this.option(t))&&qt.log("W0017",t)})},_visibilityChanged:Jd,_dimensionChanged:Jd,_init(){this.callBase(),this._checkFunctionValueDeprecation(["width","height","maxHeight","maxWidth","minHeight","minWidth","popupHeight","popupWidth"]),this._attachWindowResizeCallback(),this._initTemplateManager()},_setOptionsByDevice(e){this.callBase([].concat(this.constructor._classCustomRules||[],e||[]))},_isInitialOptionValue(e){var t=this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),e);return!t&&this.callBase(e)},_attachWindowResizeCallback(){if(this._isDimensionChangeSupported()){var e=this._windowResizeCallBack=this._dimensionChanged.bind(this);Ws.add(e)}},_isDimensionChangeSupported(){return this._dimensionChanged!==Jd},_renderComponent(){this._initMarkup(),ht()&&this._render()},_initMarkup(){var{rtlEnabled:e}=this.option()||{};this._renderElementAttributes(),this._toggleRTLDirection(e),this._renderVisibilityChange(),this._renderDimensions()},_render(){this._attachVisibilityChangeHandlers()},_renderElementAttributes(){var{elementAttr:e}=this.option()||{},t=ce({},e),i=t.class;delete t.class,this.$element().attr(t).removeClass(this._customClass).addClass(i),this._customClass=i},_renderVisibilityChange(){if(this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported()){var e=this.$element();e.addClass("dx-visibility-change-handler")}},_renderDimensions(){var e=this.$element(),t=e.get(0),i=this._getOptionValue("width",t),r=this._getOptionValue("height",t);this._isCssUpdateRequired(t,r,i)&&e.css({width:i===null?"":i,height:r===null?"":r})},_isCssUpdateRequired:(e,t,i)=>!!(oe(i)||oe(t)||e.style.width||e.style.height),_attachDimensionChangeHandlers(){var e=this.$element(),t="".concat(this.NAME,"VisibilityChange");Rc.off(e,{namespace:t}),Rc.on(e,()=>this._dimensionChanged(),{namespace:t})},_attachVisibilityChangeHandlers(){if(this._isVisibilityChangeSupported()){var e=this.$element(),t="".concat(this.NAME,"VisibilityChange");this._isHidden=!this._isVisible(),Mc.off(e,{namespace:t}),Mc.on(e,()=>this._checkVisibilityChanged("shown"),()=>this._checkVisibilityChanged("hiding"),{namespace:t})}},_isVisible(){var e=this.$element();return e.is(":visible")},_checkVisibilityChanged(e){var t=this._isVisible();t&&(e==="hiding"&&!this._isHidden?(this._visibilityChanged(!1),this._isHidden=!0):e==="shown"&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0)))},_isVisibilityChangeSupported(){return this._visibilityChanged!==Jd&&ht()},_clean:Ee,_modelByElement(){var{modelByElement:e}=this.option(),t=this.$element();return e?e(t):void 0},_invalidate(){if(this._isUpdateAllowed())throw qt.Error("E0007");this._requireRefresh=!0},_refresh(){this._clean(),this._renderComponent()},_dispose(){this._templateManager&&this._templateManager.dispose(),this.callBase(),this._clean(),this._detachWindowResizeCallback()},_detachWindowResizeCallback(){this._isDimensionChangeSupported()&&Ws.remove(this._windowResizeCallBack)},_toggleRTLDirection(e){var t=this.$element();t.toggleClass("dx-rtl",e)},_createComponent(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=gr(this._getSynchronizableOptionsForCreateComponent(),d=>!(d in i)),{integrationOptions:n}=this.option(),{nestedComponentOptions:a}=this.option();a=a||Ee;var s=ce({integrationOptions:n},a(this));r.forEach(d=>s[d]=this.option(d)),this._extendConfig(i,s);var o=void 0;if(nt(t)){var l=J(e)[t](i);o=l[t]("instance")}else e&&(o=t.getInstance(e),o?o.option(i):o=new t(e,i));if(o){var u=d=>{var{name:c,value:h}=d;r.includes(c)&&o.option(c,h)};this.on("optionChanged",u),o.on("disposing",()=>this.off("optionChanged",u))}return o},_extendConfig(e,t){ve(t,(i,r)=>{!Object.prototype.hasOwnProperty.call(e,i)&&(e[i]=r)})},_defaultActionConfig(){var e=this.$element(),t=this._modelByElement(e);return ce(this.callBase(),{context:t})},_defaultActionArgs(){var e=this.$element(),t=this._modelByElement(e),i=this.element();return ce(this.callBase(),{element:i,model:t})},_optionChanged(e){switch(e.name){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:this.callBase(e)}},_removeAttributes(e){for(var t=e.attributes,i=t.length-1;i>=0;i--){var r=t[i];if(r){var{name:n}=r;(!n.indexOf("aria-")||n.indexOf("dx-")!==-1||n==="role"||n==="style"||n==="tabindex")&&e.removeAttribute(n)}}},_removeClasses(e){e.className=e.className.split(" ").filter(t=>t.lastIndexOf("dx-",0)!==0).join(" ")},_updateDOMComponent(e){e?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh())},endUpdate(){var e=this._isInitializingRequired();this.callBase(),this._isUpdateAllowed()&&this._updateDOMComponent(e)},$element(){return this._$element},element(){var e=this.$element();return ot(e)},dispose(){var e=this.$element().get(0);ad(e,!0),e.textContent="",this._removeAttributes(e),this._removeClasses(e)},resetOption(e){if(this.callBase(e),e==="width"||e==="height"){var t=this.initialOption(e);!oe(t)&&this.$element().css(e,"")}},_getAnonymousTemplateName(){},_initTemplateManager(){if(!(this._templateManager||!this._useTemplates())){var{integrationOptions:e={}}=this.option(),{createTemplate:t}=e;this._templateManager=new tC(t,this._getAnonymousTemplateName()),this._initTemplates()}},_initTemplates(){var{templates:e,anonymousTemplateMeta:t}=this._templateManager.extractTemplates(this.$element()),i=this.option("integrationOptions.templates.".concat(t.name));e.forEach(r=>{var{name:n,template:a}=r;this._options.silent("integrationOptions.templates.".concat(n),a)}),t.name&&!i&&(this._options.silent("integrationOptions.templates.".concat(t.name),t.template),this._options.silent("_hasAnonymousTemplateContent",!0))},_getTemplateByOption(e){return this._getTemplate(this.option(e))},_getTemplate(e){var t=this.option("integrationOptions.templates"),i=this.option("templatesRenderAsynchronously"),r=this.option("integrationOptions.skipTemplates");return this._templateManager.getTemplate(e,t,{isAsyncTemplate:i,skipTemplates:r},this)},_saveTemplate(e,t){this._setOptionWithoutOptionChange("integrationOptions.templates."+e,this._templateManager._createTemplate(t))},_useTemplates:()=>!0});Nn.getInstance=function(e){return SI(J(e),this)};Nn.defaultOptions=function(e){this._classCustomRules=this._classCustomRules||[],this._classCustomRules.push(e)};function YI(e,t,i){function r(l){return typeof l=="string"?l.split("."):typeof l=="number"?[l]:l}e=r(e),t=r(t);var n=Math.max(e.length,t.length);isFinite(i)&&(n=Math.min(n,i));for(var a=0;a<n;a++){var s=parseInt(e[a]||0,10),o=parseInt(t[a]||0,10);if(s<o)return-1;if(s>o)return 1}return 0}var jr=ht()?ft():{},cF=1e3/60,ZI=function(e){return setTimeout(e,cF)},JI=function(e){clearTimeout(e)},QI=va(function(){var e=jr.requestAnimationFrame||jr.webkitRequestAnimationFrame||jr.mozRequestAnimationFrame||jr.oRequestAnimationFrame||jr.msRequestAnimationFrame,t=jr.cancelAnimationFrame||jr.webkitCancelAnimationFrame||jr.mozCancelAnimationFrame||jr.oCancelAnimationFrame||jr.msCancelAnimationFrame;e&&t&&(ZI=e,JI=t)});function Bc(){return QI(),ZI.apply(jr,arguments)}function Qn(){QI(),JI.apply(jr,arguments)}function eA(e){return e&&[e.target,e.delegateTarget,e.relatedTarget,e.currentTarget].filter(t=>!!t)}var fF=(e,t)=>{he.one(eA(e),Ln,t)},pF=(e,t)=>{he.off(eA(e),Ln,t)},mF=nd(),gF=/(webkit)[ /]([\w.]+)/,vF=/(mozilla)(?:.*? rv:([\w.]+))/,lC=e=>{e=e.toLowerCase();var t={},i=gF.exec(e)||e.indexOf("compatible")<0&&vF.exec(e)||[],r=i[1],n=i[2];return r==="webkit"&&(t.webkit=!0,e.indexOf("chrome")>=0||e.indexOf("crios")>=0?(r="chrome",n=/(?:chrome|crios)\/(\d+\.\d+)/.exec(e),n=n&&n[1]):e.indexOf("fxios")>=0?(r="mozilla",n=/fxios\/(\d+\.\d+)/.exec(e),n=n&&n[1]):e.indexOf("safari")>=0&&/version|phantomjs/.test(e)?(r="safari",n=/(?:version|phantomjs)\/([0-9.]+)/.exec(e),n=n&&n[1]):(r="unknown",n=/applewebkit\/([0-9.]+)/.exec(e),n=n&&n[1])),r&&(t[r]=!0,t.version=n),t};const ri=ce({_fromUA:lC},lC(mF.userAgent));var uC="dxPointerEvents",l0=Ot.inherit({ctor:function(e,t){this._eventName=e,this._originalEvents=Be(t,uC),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble:function(){var e=this._eventName;return e==="dxpointerenter"||e==="dxpointerleave"},_handler:function(e){var t,i=this._getDelegateTarget(e),r={type:this._eventName,pointerType:e.pointerType||ld(e),originalEvent:e,delegateTarget:i,timeStamp:ri.mozilla?new Date().getTime():e.timeStamp},n=e.originalEvent;if(n!=null&&(t=n.target)!==null&&t!==void 0&&t.shadowRoot){var a,s,o=(a=n.path)!==null&&a!==void 0?a:(s=n.composedPath)===null||s===void 0?void 0:s.call(n);r.target=o[0]}return this._fireEvent(r)},_getDelegateTarget:function(e){var t;return this.noBubble&&(t=e.delegateTarget),t},_fireEvent:function(e){return as(e)},_setSelector:function(e){this._selector=this.noBubble&&e?e.selector:null},_getSelector:function(){return this._selector},setup:function(){return!0},add:function(e,t){if(this._handlerCount<=0||this.noBubble){e=this.noBubble?e:Re.getDocument(),this._setSelector(t);var i=this;he.on(e,this._originalEvents,this._getSelector(),function(r){i._handler(r)})}this.noBubble||this._handlerCount++},remove:function(e){this._setSelector(e),this.noBubble||this._handlerCount--},teardown:function(e){this._handlerCount&&!this.noBubble||(e=this.noBubble?e:Re.getDocument(),this._originalEvents!=="."+uC&&he.off(e,this._originalEvents,this._getSelector()))},dispose:function(e){e=this.noBubble?e:Re.getDocument(),he.off(e,this._originalEvents)}}),_F={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},tA=function(e){var t=[];return ve(e.touches,function(i,r){t.push(ce({pointerId:r.identifier},r))}),{pointers:t,pointerId:e.changedTouches[0].identifier}},bF=function(e){return Ye.real().platform==="ios"&&(e==="dxpointerdown"||e==="dxpointerup")},Of=l0.inherit({ctor:function(){this.callBase.apply(this,arguments),this._pointerId=0},_handler:function(e){if(bF(this._eventName)){var t=e.changedTouches[0];if(this._pointerId===t.identifier&&this._pointerId!==0)return;this._pointerId=t.identifier}return this.callBase.apply(this,arguments)},_fireEvent:function(e){return this.callBase(ce(tA(e.originalEvent),e))}});Of.map=_F;Of.normalize=tA;var Qd=function(e,t){Fn.add(function(){e.split(" ").forEach(function(i){Re.listen(Re.getDocument(),i,t,!0)})})},yF=function(e,t,i){i=i||function(){};var r=[],n=function(s){var o=-1;return ve(r,function(l,u){return t(s,u)?(o=l,!1):!0}),o},a=function(s){var o=n(s);o>-1&&r.splice(o,1)};Qd(e.dxpointerdown,function(s){n(s)===-1&&(i(s),r.push(s))}),Qd(e.dxpointermove,function(s){r[n(s)]=s}),Qd(e.dxpointerup,a),Qd(e.dxpointercancel,a),this.pointers=function(){return r},this.reset=function(){r=[]}},iA={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},rA=function(e){return e.pointerId=1,{pointers:u0.pointers(),pointerId:1}},u0,dC=!1,nA=function(){dC||(u0=new yF(iA,function(){return!0}),dC=!0)},ss=l0.inherit({ctor:function(){this.callBase.apply(this,arguments),nA()},_fireEvent:function(e){return this.callBase(ce(rA(e.originalEvent),e))}});ss.map=iA;ss.normalize=rA;ss.activate=nA;ss.resetObserver=function(){u0.reset()};var CF={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},hC=!1,xF=function(){hC||(ss.activate(),hC=!0)},d0=l0.inherit({EVENT_LOCK_TIMEOUT:100,ctor:function(){this.callBase.apply(this,arguments),xF()},_handler:function(e){var t=Gs(e);if(t||(this._skipNextEvents=!0),!(t&&this._mouseLocked)){if(t&&this._skipNextEvents){this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);var i=this;this._unlockMouseTimer=setTimeout(function(){i._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT);return}return this.callBase(e)}},_fireEvent:function(e){var t=Gs(e.originalEvent)?ss.normalize:Of.normalize;return this.callBase(ce(t(e.originalEvent),e))},dispose:function(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});d0.map=CF;d0.resetObserver=ss.resetObserver;var wF=(e,t)=>{var{tablet:i,phone:r}=t;return e.touch&&!(i||r)?d0:e.touch?Of:ss},cC=wF(oL,Ye.real());ve(cC.map,(e,t)=>{Qr(e,new cC(e,t))});var Vt={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"},Df=Ot.inherit({ctor:function(e){this._$element=J(e),this._cancelCallback=Ht(),this._acceptCallback=Ht()},getElement:function(){return this._$element},validate:function(e){return!mr(e)},validatePointers:function(e){return oF(e)===1},allowInterruptionByMouseWheel:function(){return!0},configure:function(e){ce(this,e)},addCancelCallback:function(e){this._cancelCallback.add(e)},removeCancelCallback:function(){this._cancelCallback.empty()},_cancel:function(e){this._cancelCallback.fire(this,e)},addAcceptCallback:function(e){this._acceptCallback.add(e)},removeAcceptCallback:function(){this._acceptCallback.empty()},_accept:function(e){this._acceptCallback.fire(this,e)},_requestAccept:function(e){this._acceptRequestEvent=e},_forgetAccept:function(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:Ee,move:Ee,end:Ee,cancel:Ee,reset:function(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent:function(e,t,i){var r=ce({type:e,originalEvent:t,target:this._getEmitterTarget(t),delegateTarget:this.getElement().get(0)},i);return t=as(r),t.cancel&&this._cancel(t),t},_getEmitterTarget:function(e){return(this.delegateSelector?J(e.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:Ee}),dd="dxmousewheel",fC="dxWheel",SF="wheel",pC=0,EF=30,Tv={setup:function(e){var t=J(e);he.on(t,Be(SF,fC),Tv._wheelHandler.bind(Tv))},teardown:function(e){he.off(e,".".concat(fC))},_wheelHandler:function(e){var{deltaMode:t,deltaY:i,deltaX:r,deltaZ:n}=e.originalEvent;as({type:dd,originalEvent:e,delta:this._normalizeDelta(i,t),deltaX:r,deltaY:i,deltaZ:n,deltaMode:t,pointerType:"mouse"}),e.stopPropagation()},_normalizeDelta(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pC;return t===pC?-e:-EF*e}};Qr(dd,Tv);var eh="dxEventManager",au="dxEmitter",TF=Ot.inherit({ctor:function(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers:function(){Fn.add((function(){var e=Re.getDocument();he.subscribeGlobal(e,Be(Vt.down,eh),this._pointerDownHandler.bind(this)),he.subscribeGlobal(e,Be(Vt.move,eh),this._pointerMoveHandler.bind(this)),he.subscribeGlobal(e,Be([Vt.up,Vt.cancel].join(" "),eh),this._pointerUpHandler.bind(this)),he.subscribeGlobal(e,Be(dd,eh),this._mouseWheelHandler.bind(this))}).bind(this))},_eachEmitter:function(e){for(var t=this._activeEmitters||[],i=0;t.length>i;){var r=t[i];if(e(r)===!1)break;t[i]===r&&i++}},_applyToEmitters:function(e,t){this._eachEmitter(function(i){i[e].call(i,t)})},reset:function(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter:function(e){this._proxiedCancelHandler(e)},_pointerDownHandler:function(e){Gs(e)&&e.which>1||this._updateEmitters(e)},_updateEmitters:function(e){this._isSetChanged(e)&&(this._cleanEmitters(e),this._fetchEmitters(e))},_isSetChanged:function(e){var t=this._closestEmitter(e),i=this._emittersSet||[],r=t.length!==i.length;return ve(t,function(n,a){return r=r||i[n]!==a,!r}),this._emittersSet=t,r},_closestEmitter:function(e){var t=this,i=[],r=J(e.target);function n(s,o){o&&o.validatePointers(e)&&o.validate(e)&&(o.addCancelCallback(t._proxiedCancelHandler),o.addAcceptCallback(t._proxiedAcceptHandler),i.push(o))}for(;r.length;){var a=di(r.get(0),au)||[];ve(a,n),r=r.parent()}return i},_acceptHandler:function(e,t){var i=this;this._eachEmitter(function(r){r!==e&&i._cancelEmitter(r,t)})},_cancelHandler:function(e,t){this._cancelEmitter(e,t)},_cancelEmitter:function(e,t){var i=this._activeEmitters;t?e.cancel(t):e.reset(),e.removeCancelCallback(),e.removeAcceptCallback();var r=i.indexOf(e);r>-1&&i.splice(r,1)},_cleanEmitters:function(e){this._applyToEmitters("end",e),this.reset(e)},_fetchEmitters:function(e){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",e)},_pointerMoveHandler:function(e){this._applyToEmitters("move",e)},_pointerUpHandler:function(e){this._updateEmitters(e)},_mouseWheelHandler:function(e){this._allowInterruptionByMouseWheel()&&(e.pointers=[null],this._pointerDownHandler(e),this._adjustWheelEvent(e),this._pointerMoveHandler(e),e.pointers=[],this._pointerUpHandler(e))},_allowInterruptionByMouseWheel:function(){var e=!0;return this._eachEmitter(function(t){return e=t.allowInterruptionByMouseWheel()&&e,e}),e},_adjustWheelEvent:function(e){var t=null;if(this._eachEmitter(function(a){if(a.gesture){var s=a.getDirection(e);if(s!=="horizontal"&&!e.shiftKey||s!=="vertical"&&e.shiftKey)return t=a,!1}}),!!t){var i=t.getDirection(e),r=i==="both"&&!e.shiftKey||i==="vertical",n=r?"pageY":"pageX";e[n]+=e.delta}},isActive:function(e){var t=!1;return this._eachEmitter(function(i){t=t||i.getElement().is(e)}),t}}),mC=new TF,Kp="dxEmitterSubscription",Sl=function(e){var t=e.emitter,i=e.events[0],r=e.events;ve(r,function(n,a){Qr(a,{noBubble:!e.bubble,setup:function(s){var o=di(s,Kp)||{},l=di(s,au)||{},u=l[i]||new t(s);o[a]=!0,l[i]=u,di(s,au,l),di(s,Kp,o)},add:function(s,o){var l=di(s,au),u=l[i];u.configure(ce({delegateSelector:o.selector},o.data),o.type)},teardown:function(s){var o=di(s,Kp),l=di(s,au),u=l[i];delete o[a];var d=!0;ve(r,function(c,h){return d=d&&!o[h],d}),d&&(mC.isActive(s)&&mC.resetEmitter(u),u&&u.dispose(),delete l[i])}})})},zt="dxclick",Iv=null,su=null,gC=()=>{su=null},vC=function(e){var t=e.originalEvent,i=su===t||t&&t.DXCLICK_FIRED,r=!e.which||e.which===1;r&&!Iv&&!i&&(t&&(t.DXCLICK_FIRED=!0),pF(su,gC),su=t,fF(su,gC),as({type:zt,originalEvent:e}))},IF=Df.inherit({ctor:function(e){this.callBase(e),he.on(this.getElement(),"click",vC)},start:function(e){Iv=null},cancel:function(){Iv=!0},dispose:function(){he.off(this.getElement(),"click",vC)}});(function(){var e=Ye.real().generic;if(!e){var t=null,i=!1,r=Re.getDocument();he.subscribeGlobal(r,Be(Vt.down,"NATIVE_CLICK_FIXER"),function(n){t=n.target,i=n.isDefaultPrevented()}),he.subscribeGlobal(r,Be("click","NATIVE_CLICK_FIXER"),function(n){var a=J(n.target);!i&&t&&!a.is(t)&&!J(t).is("label")&&(s=a,J(s).is("input, textarea, select, button ,:focus, :focus *"))&&wl();var s;t=null,i=!1})}})();Sl({emitter:IF,bubble:!0,events:[zt]});var Av="dxactive",Ov="dxinactive",AF=30,OF=400,th=Ot.inherit({ctor:function(e,t){this._timeout=e,this._fire=t},start:function(){var e=this;this._schedule(function(){e.force()})},_schedule:function(e){this.stop(),this._timer=setTimeout(e,this._timeout)},stop:function(){clearTimeout(this._timer)},force:function(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired:function(){return this._fired}}),sn,h0=Df.inherit({ctor:function(){this.callBase.apply(this,arguments),this._active=new th(0,Ee),this._inactive=new th(0,Ee)},configure:function(e,t){switch(t){case Av:e.activeTimeout=e.timeout;break;case Ov:e.inactiveTimeout=e.timeout}this.callBase(e)},start:function(e){if(sn){var t=Wa(this.getElement().get(0),sn.getElement().get(0)),i=!sn._active.fired();if(t&&i){this._cancel();return}sn._inactive.force()}sn=this,this._initEvents(e),this._active.start()},_initEvents:function(e){var t=this,i=this._getEmitterTarget(e),r=Gs(e),n=Ye.isSimulator(),a=n||!r,s=hi(this.activeTimeout,AF),o=hi(this.inactiveTimeout,OF);this._active=new th(a?s:0,function(){t._fireEvent(Av,e,{target:i})}),this._inactive=new th(a?o:0,function(){t._fireEvent(Ov,e,{target:i}),sn=null})},cancel:function(e){this.end(e)},end:function(e){var t=e.type!==Vt.up;t?this._active.stop():this._active.force(),this._inactive.start(),t&&this._inactive.force()},dispose:function(){this._active.stop(),this._inactive.stop(),sn===this&&(sn=null),this.callBase()},lockInactive:function(){return this._active.force(),this._inactive.stop(),sn=null,this._cancel(),this._inactive.force.bind(this._inactive)}});h0.lock=function(e){var t=sn?sn.lockInactive():Ee;e.done(t)};Sl({emitter:h0,events:[Av,Ov]});var DF=h0.lock,aA="dxHoverStart",c0="dxhoverstart",kF=Be(Vt.enter,aA),sA="dxHoverEnd",kf="dxhoverend",RF=Be(Vt.leave,sA),oA=Ot.inherit({noBubble:!0,ctor:function(){this._handlerArrayKeyPath=this._eventNamespace+"_HandlerStore"},setup:function(e){di(e,this._handlerArrayKeyPath,{})},add:function(e,t){var i=this,r=function(n){i._handler(n)};he.on(e,this._originalEventName,t.selector,r),di(e,this._handlerArrayKeyPath)[t.guid]=r},_handler:function(e){ud(e)||Ye.isSimulator()||as({type:this._eventName,originalEvent:e,delegateTarget:e.delegateTarget})},remove:function(e,t){var i=di(e,this._handlerArrayKeyPath)[t.guid];he.off(e,this._originalEventName,t.selector,i)},teardown:function(e){Sf(e,this._handlerArrayKeyPath)}}),MF=oA.inherit({ctor:function(){this._eventNamespace=aA,this._eventName=c0,this._originalEventName=kF,this.callBase()},_handler:function(e){var t=e.pointers||[];t.length||this.callBase(e)}}),BF=oA.inherit({ctor:function(){this._eventNamespace=sA,this._eventName=kf,this._originalEventName=RF,this.callBase()}});Qr(c0,new MF);Qr(kf,new BF);function _C(e,t,i){e=e==="role"||e==="id"?e:"aria-".concat(e),t=oe(t)?t.toString():null,i.attr(e,t)}var Hi=Nn.inherit({_feedbackHideTimeout:400,_feedbackShowTimeout:30,_supportedKeys:()=>({}),_getDefaultOptions(){return ce(this.callBase(),{hoveredElement:null,isActive:!1,disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:void 0,onFocusIn:null,onFocusOut:null,onKeyboardHandled:null,ignoreParentReadOnly:!1,useResizeObserver:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var e=Ye.real(),t=e.platform,i=e.version;return t==="ios"&&YI(i,"13.3")<=0},options:{useResizeObserver:!1}}])},_init(){this.callBase(),this._initContentReadyAction()},_innerWidgetOptionChanged:function(e,t){var i=Hi.getOptionsFromContainer(t);e&&e.option(i),this._options.cache(t.name,i)},_bindInnerWidgetOptions(e,t){var i=()=>this._options.silent(t,ce({},e.option()));i(),e.on("optionChanged",i)},_getAriaTarget(){return this._focusTarget()},_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initMarkup(){var{disabled:e,visible:t}=this.option();this.$element().addClass("dx-widget"),this._toggleDisabledState(e),this._toggleVisibility(t),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),this.callBase()},_render(){this.callBase(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents(),this._toggleIndependentState()},_renderHint(){var{hint:e}=this.option();this.$element().attr("title",e||null)},_renderContent(){Oi(()=>this._disposed?void 0:this._renderContentImpl()).done(()=>this._disposed?void 0:this._fireContentReadyAction())},_renderContentImpl:Ee,_fireContentReadyAction:tl(function(){return this._contentReadyAction()}),_dispose(){this._contentReadyAction=null,this._detachKeyboardEvents(),this.callBase()},_resetActiveState(){this._toggleActiveState(this._eventBindingTarget(),!1)},_clean(){this._cleanFocusState(),this._resetActiveState(),this.callBase(),this.$element().empty()},_toggleVisibility(e){this.$element().toggleClass("dx-state-invisible",!e),this.setAria("hidden",!e||void 0)},_renderFocusState(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())},_renderAccessKey(){var e=this._focusTarget(),{accessKey:t}=this.option();e.attr("accesskey",t)},_isFocusable(){var{focusStateEnabled:e,disabled:t}=this.option();return e&&!t},_eventBindingTarget(){return this.$element()},_focusTarget(){return this._getActiveElement()},_isFocusTarget:function(e){var t=J(this._focusTarget()).toArray();return t.includes(e)},_getActiveElement(){var e=this._eventBindingTarget();return this._activeStateUnit?e.find(this._activeStateUnit).not(".dx-state-disabled"):e},_renderFocusTarget(){var{tabIndex:e}=this.option();this._focusTarget().attr("tabIndex",e)},_keyboardEventBindingTarget(){return this._eventBindingTarget()},_refreshFocusEvent(){this._detachFocusEvents(),this._attachFocusEvents()},_focusEventTarget(){return this._focusTarget()},_focusInHandler(e){e.isDefaultPrevented()||this._createActionByOption("onFocusIn",{beforeExecute:()=>this._updateFocusState(e,!0),excludeValidators:["readOnly"]})({event:e})},_focusOutHandler(e){e.isDefaultPrevented()||this._createActionByOption("onFocusOut",{beforeExecute:()=>this._updateFocusState(e,!1),excludeValidators:["readOnly","disabled"]})({event:e})},_updateFocusState(e,t){var{target:i}=e;this._isFocusTarget(i)&&this._toggleFocusClass(t,J(i))},_toggleFocusClass(e,t){var i=t&&t.length?t:this._focusTarget();i.toggleClass("dx-state-focused",e)},_hasFocusClass(e){var t=J(e||this._focusTarget());return t.hasClass("dx-state-focused")},_isFocused(){return this._hasFocusClass()},_getKeyboardListeners:()=>[],_attachKeyboardEvents(){this._detachKeyboardEvents();var{focusStateEnabled:e,onKeyboardHandled:t}=this.option(),i=this._getKeyboardListeners().length,r=!!t,n=e||i||r;n&&(this._keyboardListenerId=ja.on(this._keyboardEventBindingTarget(),this._focusTarget(),a=>this._keyboardHandler(a)))},_keyboardHandler(e,t){if(!t){var{originalEvent:i,keyName:r,which:n}=e,a=this._supportedKeys(i),s=a[r]||a[n];if(s!==void 0){var o=s.bind(this),l=o(i,e);if(!l)return!1}}var u=this._getKeyboardListeners(),{onKeyboardHandled:d}=this.option();return u.forEach(c=>c&&c._keyboardHandler(e)),d&&d(e),!0},_refreshFocusState(){this._cleanFocusState(),this._renderFocusState()},_cleanFocusState(){var e=this._focusTarget();e.removeAttr("tabIndex"),this._toggleFocusClass(!1),this._detachFocusEvents(),this._detachKeyboardEvents()},_detachKeyboardEvents(){ja.off(this._keyboardListenerId),this._keyboardListenerId=null},_attachHoverEvents(){var{hoverStateEnabled:e}=this.option(),t=this._activeStateUnit,i=this._eventBindingTarget();aC.off(i,{selector:t,namespace:"UIFeedback"}),e&&aC.on(i,new Sr(r=>{var{event:n,element:a}=r;this._hoverStartHandler(n),this.option("hoveredElement",J(a))},{excludeValidators:["readOnly"]}),r=>{this.option("hoveredElement",null),this._hoverEndHandler(r)},{selector:t,namespace:"UIFeedback"})},_attachFeedbackEvents(){var{activeStateEnabled:e}=this.option(),t=this._activeStateUnit,i=this._eventBindingTarget();nC.off(i,{namespace:"UIFeedback",selector:t}),e&&nC.on(i,new Sr(r=>{var{event:n,element:a}=r;return this._toggleActiveState(J(a),!0,n)}),new Sr(r=>{var{event:n,element:a}=r;return this._toggleActiveState(J(a),!1,n)},{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout,hideTimeout:this._feedbackHideTimeout,selector:t,namespace:"UIFeedback"})},_detachFocusEvents(){var e=this._focusEventTarget();nc.off(e,{namespace:"".concat(this.NAME,"Focus")})},_attachFocusEvents(){var e=this._focusEventTarget();nc.on(e,t=>this._focusInHandler(t),t=>this._focusOutHandler(t),{namespace:"".concat(this.NAME,"Focus"),isFocusable:(t,i)=>J(i).is(Sv)})},_hoverStartHandler:Ee,_hoverEndHandler:Ee,_toggleActiveState(e,t){this.option("isActive",t),e.toggleClass("dx-state-active",t)},_updatedHover(){var e=this._options.silent("hoveredElement");this._hover(e,e)},_findHoverTarget(e){return e&&e.closest(this._activeStateUnit||this._eventBindingTarget())},_hover(e,t){var{hoverStateEnabled:i,disabled:r,isActive:n}=this.option();if(t=this._findHoverTarget(t),t&&t.toggleClass("dx-state-hover",!1),e&&i&&!r&&!n){var a=this._findHoverTarget(e);a&&a.toggleClass("dx-state-hover",!0)}},_toggleDisabledState(e){this.$element().toggleClass("dx-state-disabled",!!e),this.setAria("disabled",e||void 0)},_toggleIndependentState(){this.$element().toggleClass("dx-state-independent",this.option("ignoreParentReadOnly"))},_setWidgetOption(e,t){if(this[e]){if(Ct(t[0])){ve(t[0],(a,s)=>this._setWidgetOption(e,[a,s]));return}var i=t[0],r=t[1];t.length===1&&(r=this.option(i));var n=this["".concat(e,"OptionMap")];this[e].option(n?n(i):i,r)}},_optionChanged(e){var{name:t,value:i,previousValue:r}=e;switch(t){case"disabled":this._toggleDisabledState(i),this._updatedHover(),this._refreshFocusState();break;case"hint":this._renderHint();break;case"ignoreParentReadOnly":this._toggleIndependentState();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents(),this._updatedHover();break;case"tabIndex":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":case"useResizeObserver":break;case"accessKey":this._renderAccessKey();break;case"hoveredElement":this._hover(i,r);break;case"isActive":this._updatedHover();break;case"visible":this._toggleVisibility(i),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(i?"shown":"hiding");break;case"onKeyboardHandled":this._attachKeyboardEvents();break;case"onContentReady":this._initContentReadyAction();break;default:this.callBase(e)}},_isVisible(){var{visible:e}=this.option();return this.callBase()&&e},beginUpdate(){this._ready(!1),this.callBase()},endUpdate(){this.callBase(),this._initialized&&this._ready(!0)},_ready(e){if(arguments.length===0)return this._isReady;this._isReady=e},setAria(){if(!Ct(arguments.length<=0?void 0:arguments[0]))_C(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||this._getAriaTarget());else{var e=(arguments.length<=1?void 0:arguments[1])||this._getAriaTarget();ve(arguments.length<=0?void 0:arguments[0],(t,i)=>_C(t,i,e))}},isReady(){return this._ready()},repaint(){this._refresh()},focus(){nc.trigger(this._focusTarget())},registerKeyHandler(e,t){var i=this._supportedKeys();this._supportedKeys=()=>ce(i,{[e]:t})}});Hi.getOptionsFromContainer=e=>{var{name:t,fullName:i,value:r}=e,n={};if(t===i)n=r;else{var a=i.split(".").pop();n[a]=r}return n};var PF=nd(),LF="dx-loadindicator",FF="dx-loadindicator-wrapper",NF="dx-loadindicator-content",VF="dx-loadindicator-icon",bC="dx-loadindicator-segment",HF="dx-loadindicator-segment-inner",$F="dx-loadindicator-image",Rr=Hi.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules:function(){var e=gn();return this.callBase().concat([{device:function(){var t=Ye.real(),i=t.platform==="android"&&!/chrome/i.test(PF.userAgent);return i},options:{viaImage:!0}},{device:function(){return Ei(e)},options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:function(){return $I(e)},options:{_animatingSegmentCount:7}}])},_useTemplates:function(){return!1},_init:function(){this.callBase(),this.$element().addClass(LF)},_initMarkup:function(){this.callBase(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()},_renderWrapper:function(){this._$wrapper=J("<div>").addClass(FF),this.$element().append(this._$wrapper)},_renderIndicatorContent:function(){this._$content=J("<div>").addClass(NF),this._$wrapper.append(this._$content)},_renderMarkup:function(){BI()&&!this.option("viaImage")&&!this.option("indicatorSrc")?this._renderMarkupForAnimation():this._renderMarkupForImage()},_renderMarkupForAnimation:function(){var e=this.option("_animatingSegmentInner");this._$indicator=J("<div>").addClass(VF),this._$content.append(this._$indicator);for(var t=this.option("_animatingSegmentCount");t>=0;--t){var i=J("<div>").addClass(bC).addClass(bC+t);e&&i.append(J("<div>").addClass(HF)),this._$indicator.append(i)}},_renderMarkupForImage:function(){var e=this.option("indicatorSrc");this._$wrapper.addClass($F),e&&this._$wrapper.css("backgroundImage","url("+e+")")},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){if(this._$indicator){var e=this.option("width"),t=this.option("height");if(e||t){e=ut(this.$element()),t=ct(this.$element());var i=Math.min(t,e);this._$wrapper.css({height:i,width:i,fontSize:i})}}},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("backgroundImage","none")},_optionChanged:function(e){switch(e.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(e)}}});Tt("dxLoadIndicator",Rr);var f0="dxTranslator",zF=/matrix(3d)?\((.+?)\)/,WF=/translate(?:3d)?\((.+?)\)/,Ur=function(e){e=J(e);var t=Lc(e);return{left:t.x,top:t.y}};function Pc(e){return Xr(e)==="string"&&e[e.length-1]==="%"}function lA(e,t){e.length&&di(e.get(0),f0,t)}var p0=function(e){e.length&&Sf(e.get(0),f0)},hd=function(e){e.x=e.x||0,e.y=e.y||0;var t=Pc(e.x)?e.x:e.x+"px",i=Pc(e.y)?e.y:e.y+"px";return"translate("+t+", "+i+")"},Lc=function(e){var t=e.length?di(e.get(0),f0):null;if(!t){var i=e.css("transform")||hd({x:0,y:0}),r=i.match(zF),n=r&&r[1];r?(r=r[2].split(","),n==="3d"?r=r.slice(12,15):(r.push(0),r=r.slice(4,7))):r=[0,0,0],t={x:parseFloat(r[0]),y:parseFloat(r[1]),z:parseFloat(r[2])},lA(e,t)}return t},ki=function(e,t){e=J(e);var i=t.left,r=t.top,n;i===void 0?(n=Lc(e),n.y=r||0):r===void 0?(n=Lc(e),n.x=i||0):(n={x:i||0,y:r||0,z:0},lA(e,n)),e.css({transform:hd(n)}),(Pc(i)||Pc(r))&&p0(e)},cd=function(e,t){e=J(e);var i,r={left:0,top:0,transform:"none"};t&&(i=e.css("transition"),r.transition="none"),e.css(r),p0(e),t&&(e.get(0).offsetHeight,e.css("transition",i))},jF=function(e){var t=e.match(WF);if(!(!t||!t[1]))return t=t[1].split(","),t={x:parseFloat(t[0]),y:parseFloat(t[1]),z:parseFloat(t[2])},t},yC=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,CC={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},UF=function(e,t,i,r){var n=3*e,a=3*(i-e)-n,s=1-n-a,o=3*t,l=3*(r-t)-o,u=1-o-l,d=function(h){return h*(n+h*(a+h*s))},c=function(h){return n+h*(2*a+3*h*s)};return function(h){return function(f){return f*(o+f*(l+f*u))}(function(f){for(var p=f,g=0,m;g<14&&(m=d(p)-f,!(Math.abs(m)<.001));)p-=m/c(p),g++;return p}(h))}},Dv={},GF=function(e){e=CC[e]||e;var t=e.match(yC),i;t||(i="linear",t=CC[i].match(yC)),t=t.slice(1,5);for(var r=0;r<t.length;r++)t[r]=parseFloat(t[r]);var n=i||"cubicbezier_"+t.join("_").replace(/\./g,"p");return We(Dv[n])||(Dv[n]=function(a,s,o,l,u){return l*UF(t[0],t[1],t[2],t[3])(s/u)+o}),n};function KF(e){return Dv[e]}var os=e=>{var t=e??ii().rtlEnabled;return t?"right":"left"},vi=e=>Si(e)?{width:e.outerWidth,height:e.outerHeight}:e.getBoundingClientRect(),xC=ft(),qF=/left|right/,XF=/top|bottom/,wC=/fit|flip|none/,YF=/scale\(.+?\)/,ZF=ri.safari,kv=function(e){var t={h:"center",v:"center"},i=Cl(e);return i&&ve(i,function(){var r=String(this).toLowerCase();qF.test(r)?t.h=r:XF.test(r)&&(t.v=r)}),t},SC=function(e){return V_(e)},JF=function(e){var t=Cl(e),i=String(t&&t[0]).toLowerCase(),r=String(t&&t[1]).toLowerCase();return wC.test(i)||(i="none"),wC.test(r)||(r=i),{h:i,v:r}},EC=function(e){switch(e){case"center":return .5;case"right":case"bottom":return 1;default:return 0}},Rv=function(e){switch(e){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return e}},Mv=function(e,t){var i=0;return e.myLocation<t.min&&(i+=t.min-e.myLocation),e.myLocation>t.max&&(i+=e.myLocation-t.max),i},TC=function(e,t,i){return t.myLocation<i.min?e==="h"?"left":"top":t.myLocation>i.max?e==="h"?"right":"bottom":"none"},Bv=function(e){e.myLocation=e.atLocation+EC(e.atAlign)*e.atSize-EC(e.myAlign)*e.mySize+e.offset},ih={fit:function(e,t){var i=!1;e.myLocation>t.max&&(e.myLocation=t.max,i=!0),e.myLocation<t.min&&(e.myLocation=t.min,i=!0),e.fit=i},flip:function(e,t){if(e.flip=!1,!(e.myAlign==="center"&&e.atAlign==="center")&&(e.myLocation<t.min||e.myLocation>t.max)){var i=ce({},e,{myAlign:Rv(e.myAlign),atAlign:Rv(e.atAlign),offset:-e.offset});Bv(i),i.oversize=Mv(i,t),(i.myLocation>=t.min&&i.myLocation<=t.max||e.oversize>i.oversize)&&(e.myLocation=i.myLocation,e.oversize=i.oversize,e.flip=!0)}},flipfit:function(e,t){this.flip(e,t),this.fit(e,t)},none:function(e){e.oversize=0}},uA,dA=function(){var e=J("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(J("body")),t=e.get(0).offsetWidth-e.get(0).clientWidth;e.remove(),uA=t},QF={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},hA=function(e,t){var i=J(e),r=i.offset(),n=ce(!0,{},QF,{h:{location:r.left},v:{location:r.top}});if(!t)return n;var a=kv(t.my),s=kv(t.at),o=J(t.of).length&&t.of||xC,l=SC(t.offset),u=JF(t.collision),d=t.boundary,c=SC(t.boundaryOffset),h={mySize:Pt(i),myAlign:a.h,atAlign:s.h,offset:l.h,collision:u.h,boundaryOffset:c.h},f={mySize:At(i),myAlign:a.v,atAlign:s.v,offset:l.v,collision:u.v,boundaryOffset:c.v};if(o.preventDefault)h.atLocation=o.pageX,f.atLocation=o.pageY,h.atSize=0,f.atSize=0;else if(o=J(o),Si(o[0]))h.atLocation=o.scrollLeft(),f.atLocation=o.scrollTop(),Ye.real().deviceType==="phone"&&o[0].visualViewport?(h.atLocation=Math.max(h.atLocation,o[0].visualViewport.offsetLeft),f.atLocation=Math.max(f.atLocation,o[0].visualViewport.offsetTop),h.atSize=o[0].visualViewport.width,f.atSize=o[0].visualViewport.height):(h.atSize=o[0].innerWidth>o[0].outerWidth?o[0].innerWidth:ut(o),f.atSize=o[0].innerHeight>o[0].outerHeight||ZF?o[0].innerHeight:ct(o));else if(o[0].nodeType===9)h.atLocation=0,f.atLocation=0,h.atSize=ut(o),f.atSize=ct(o);else{var p=vi(o.get(0)),g=cA(o);h.atLocation=g.left,f.atLocation=g.top,h.atSize=Math.max(p.width,Pt(o)),f.atSize=Math.max(p.height,At(o))}Bv(h),Bv(f);var m=function(){var b=J(xC),E=ut(b),I=ct(b),R=b.scrollLeft(),N=b.scrollTop(),j=Re.getDocumentElement(),V=js?j.clientWidth/E:1,H=js?j.clientHeight/I:1;uA===void 0&&dA();var W=E,G=I;if(d){var P=J(d),A=P.offset();R=A.left,N=A.top,W=ut(P),G=ct(P)}return{h:{min:R+h.boundaryOffset,max:R+W/V-h.mySize-h.boundaryOffset},v:{min:N+f.boundaryOffset,max:N+G/H-f.mySize-f.boundaryOffset}}}();h.oversize=Mv(h,m.h),f.oversize=Mv(f,m.v),h.collisionSide=TC("h",h,m.h),f.collisionSide=TC("v",f,m.v),ih[h.collision]&&ih[h.collision](h,m.h),ih[f.collision]&&ih[f.collision](f,m.v);var v=function(b){return t.precise?b:Math.round(b)};return ce(!0,n,{h:{location:v(h.myLocation),oversize:v(h.oversize),fit:h.fit,flip:h.flip,collisionSide:h.collisionSide},v:{location:v(f.myLocation),oversize:v(f.oversize),fit:f.fit,flip:f.flip,collisionSide:f.collisionSide},precise:t.precise}),n},IC=function(e,t,i,r,n){var a=oe(e.style)&&!Re.isNode(e.style);a?e.style.transform=n?i.replace(t,""):i:e.setAttribute("style",n?r.replace(t,""):r)},cA=function e(t){var i,r,n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,s=a.get(0);if(!s)return t.offset();var o=((i=s.getAttribute)===null||i===void 0?void 0:i.call(s,"style"))||"",l=(r=s.style)===null||r===void 0?void 0:r.transform,u=(n=o.match(YF))===null||n===void 0?void 0:n[0],d;return u?(IC(s,u,l,o,!0),d=e(t,a.parent()),IC(s,u,l,o,!1)):d=e(t,a.parent()),d},Hu=function(e,t){var i=J(e);if(!t)return i.offset();cd(i,!0);var r=cA(i),n=t.h&&t.v?t:hA(i,t),a=function(s){return t.precise?s:Math.round(s)};return ki(i,{left:n.h.location-a(r.left),top:n.v.location-a(r.top)}),n},e8=function(e){return e=J(e).get(0),Si(e)?null:e&&"pageY"in e&&"pageX"in e?{top:e.pageY,left:e.pageX}:J(e).offset()};Hu.inverseAlign||(Hu.inverseAlign=Rv);Hu.normalizeAlign||(Hu.normalizeAlign=kv);const Ki={calculateScrollbarWidth:dA,calculate:hA,setup:Hu,offset:e8};var fA=ft(),Cu=Be(Ln,"dxFX"),t8=/^([+-])=(.*)/i,$u="dxAnimData",m0="dxAnimQueue",on="transform",i8={initAnimation:function(e,t){e.css({transitionProperty:"none"}),typeof t.from=="string"?e.addClass(t.from):Lv(e,t.from);var i=this,r=new we,n=t.cleanupWhen;t.transitionAnimation={deferred:r,finish:function(){i._finishTransition(e),n?Ke(r,n).always(function(){i._cleanup(e,t)}):i._cleanup(e,t),r.resolveWith(e,[t,e])}},this._completeAnimationCallback(e,t).done(function(){t.transitionAnimation.finish()}).fail(function(){r.rejectWith(e,[t,e])}),t.duration||t.transitionAnimation.finish(),e.css("transform")},animate:function(e,t){return this._startAnimation(e,t),t.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(e,t){var i=this,r=Date.now()+t.delay,n=new we,a=new we,s=new we,o,l=MI()+".dxFX";t.transitionAnimation.cleanup=function(){clearTimeout(o),clearTimeout(u),he.off(e,l),he.off(e,Cu)},he.one(e,l,function(){Date.now()-r>=t.duration&&a.reject()}),he.off(e,Cu),he.on(e,Cu,function(){i.stop(e,t),n.reject()});var u=setTimeout(function(){o=setTimeout(function(){s.reject()},t.duration+t.delay+pi._simulatedTransitionEndDelay),Ke(a,s).fail((function(){n.resolve()}).bind(this))});return n.promise()},_startAnimation:function(e,t){e.css({transitionProperty:"all",transitionDelay:t.delay+"ms",transitionDuration:t.duration+"ms",transitionTimingFunction:t.easing}),typeof t.to=="string"?e[0].className+=" "+t.to:t.to&&Lv(e,t.to)},_finishTransition:function(e){e.css("transition","none")},_cleanup:function(e,t){t.transitionAnimation.cleanup(),typeof t.from=="string"&&(e.removeClass(t.from),e.removeClass(t.to))},stop:function(e,t,i){t&&(i?t.transitionAnimation.finish():(Ct(t.to)&&ve(t.to,function(r){e.css(r,e.css(r))}),this._finishTransition(e),this._cleanup(e,t)))}},AC={initAnimation:function(e,t){Lv(e,t.from)},animate:function(e,t){var i=new we,r=this;return t?(ve(t.to,function(n){t.from[n]===void 0&&(t.from[n]=r._normalizeValue(e.css(n)))}),t.to[on]&&(t.from[on]=r._parseTransform(t.from[on]),t.to[on]=r._parseTransform(t.to[on])),t.frameAnimation={to:t.to,from:t.from,currentValue:t.from,easing:GF(t.easing),duration:t.duration,startTime:new Date().valueOf(),finish:function(){this.currentValue=this.to,this.draw(),Qn(t.frameAnimation.animationFrameId),i.resolve()},draw:function(){if(t.draw){t.draw(this.currentValue);return}var n=ce({},this.currentValue);n[on]&&(n[on]=Ti(n[on],function(a,s){if(s==="translate")return hd(a);if(s==="scale")return"scale("+a+")";if(s.substr(0,s.length-1)==="rotate")return s+"("+a+"deg)"}).join(" ")),e.css(n)}},t.delay?(t.frameAnimation.startTime+=t.delay,t.frameAnimation.delayTimeout=setTimeout(function(){r._startAnimation(e,t)},t.delay)):r._startAnimation(e,t),i.promise()):i.reject().promise()},_startAnimation:function(e,t){he.off(e,Cu),he.on(e,Cu,function(){t.frameAnimation&&Qn(t.frameAnimation.animationFrameId)}),this._animationStep(e,t)},_parseTransform:function(e){var t={};return ve(e.match(/\w+\d*\w*\([^)]*\)\s*/g),function(i,r){var n=jF(r),a=r.match(/scale\((.+?)\)/),s=r.match(/(rotate.)\((.+)deg\)/);n&&(t.translate=n),a&&a[1]&&(t.scale=parseFloat(a[1])),s&&s[1]&&(t[s[1]]=parseFloat(s[2]))}),t},stop:function(e,t,i){var r=t&&t.frameAnimation;r&&(Qn(r.animationFrameId),clearTimeout(r.delayTimeout),i&&r.finish(),delete t.frameAnimation)},_animationStep:function(e,t){var i=t&&t.frameAnimation;if(i){var r=new Date().valueOf();if(r>=i.startTime+i.duration){i.finish();return}i.currentValue=this._calcStepValue(i,r-i.startTime),i.draw();var n=this;i.animationFrameId=Bc(function(){n._animationStep(e,t)})}},_calcStepValue:function(e,t){return function i(r,n){var a=Array.isArray(n)?[]:{};return ve(n,function(s,o){if(typeof o=="string"&&parseFloat(o,10)===!1)return!0;a[s]=typeof o=="object"?i(r[s],o):function(l){var u=t/e.duration,d=t,c=1*r[l],h=n[l]-r[l],f=e.duration;return KF(e.easing)(u,d,c,h,f)}(s)}),a}(e.from,e.to)},_normalizeValue:function(e){var t=parseFloat(e,10);return t===!1?e:t}},r8={initAnimation:function(){},animate:function(){return new we().resolve().promise()},stop:Ee,isSynchronous:!0},n8=function(e){e=e||{};var t={transition:yv()?i8:AC,frame:AC,noAnimation:r8},i=e.strategy||"transition";return e.type==="css"&&!yv()&&(i="noAnimation"),t[i]},pA=function(e,t,i,r){ve(["from","to"],function(){if(!i(e[this]))throw qt.Error("E0010",t,this,r)})},mA=function(e,t){return pA(e,t,function(i){return Ct(i)},"a plain object")},a8=function(e,t){return pA(e,t,function(i){return typeof i=="string"},"a string")},s8={setup:function(){}},o8={validateConfig:function(e){a8(e,"css")},setup:function(){}},l8={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},qp={validateConfig:function(e){mA(e,"slide")},setup:function(e,t){var i=Ur(e);if(t.type!=="slide"){var r=t.type==="slideIn"?t.from:t.to;r.position=ce({of:fA},l8[t.direction]),Pv(e,r)}this._setUpConfig(i,t.from),this._setUpConfig(i,t.to),p0(e)},_setUpConfig:function(e,t){t.left="left"in t?t.left:"+=0",t.top="top"in t?t.top:"+=0",this._initNewPosition(e,t)},_initNewPosition:function(e,t){var i={left:t.left,top:t.top};delete t.left,delete t.top;var r=this._getRelativeValue(i.left);r!==void 0?i.left=r+e.left:t.left=0,r=this._getRelativeValue(i.top),r!==void 0?i.top=r+e.top:t.top=0,t[on]=hd({x:i.left,y:i.top})},_getRelativeValue:function(e){var t;if(typeof e=="string"&&(t=t8.exec(e)))return parseInt(t[1]+"1")*t[2]}},Xp={setup:function(e,t){var i,r,n=t.from,a=t.to,s=t.type==="fadeOut"?1:0,o=t.type==="fadeOut"?0:1,l=Ct(n)?String((i=n.opacity)!==null&&i!==void 0?i:s):String(n),u=Ct(a)?String((r=a.opacity)!==null&&r!==void 0?r:o):String(a);switch(t.skipElementInitialStyles||(l=e.css("opacity")),t.type){case"fadeIn":u=1;break;case"fadeOut":u=0}t.from={visibility:"visible",opacity:l},t.to={opacity:u}}},u8={validateConfig:function(e){mA(e,"pop")},setup:function(e,t){var i=t.from,r=t.to,n="opacity"in i?i.opacity:e.css("opacity"),a="opacity"in r?r.opacity:1,s="scale"in i?i.scale:0,o="scale"in r?r.scale:1;t.from={opacity:n};var l=Lc(e);t.from[on]=this._getCssTransform(l,s),t.to={opacity:a},t.to[on]=this._getCssTransform(l,o)},_getCssTransform:function(e,t){return hd(e)+"scale("+t+")"}},gA={custom:s8,slide:qp,slideIn:qp,slideOut:qp,fade:Xp,fadeIn:Xp,fadeOut:Xp,pop:u8,css:o8},d8=function(e){var t=gA[e.type];if(!t)throw qt.Error("E0011",e.type);return t},h8={type:"custom",from:{},to:{},duration:400,start:Ee,complete:Ee,easing:"ease",delay:0},c8={duration:400,easing:"ease",delay:0};function f8(){var e=this.element,t=this.config;if(Pv(e,t.from),Pv(e,t.to),this.configurator.setup(e,t),e.data($u,this),this.strategy.initAnimation(e,t),t.start){var i=ot(e);t.start.apply(this,[i,t])}}var p8=function(e){var t=e.element,i=e.config;if(t.removeData($u),i.complete){var r=ot(t);i.complete.apply(this,[r,i])}e.deferred.resolveWith(this,[t,i])},m8=function(){var e=this,t=e.element,i=e.config;return e.isStarted=!0,e.strategy.animate(t,i).done(function(){p8(e)}).fail(function(){e.deferred.rejectWith(this,[t,i])})},g8=function(e){var t=this.element,i=this.config;clearTimeout(this.startTimeout),this.isStarted||this.start(),this.strategy.stop(t,i,e)},Yp=Be(Ln,"dxFXStartAnimation"),v8=function(e){he.off(e.element,Yp),he.on(e.element,Yp,function(){pi.stop(e.element)}),e.deferred.always(function(){he.off(e.element,Yp)})},vA=function(e,t){var i=t.type==="css"?c8:h8,r=ce(!0,{},i,t),n=d8(r),a=n8(r),s={element:J(e),config:r,configurator:n,strategy:a,isSynchronous:a.isSynchronous,setup:f8,start:m8,stop:g8,deferred:new we};return We(n.validateConfig)&&n.validateConfig(r),v8(s),s},_8=function(e,t){var i=J(e);if(!i.length)return new we().resolve().promise();var r=vA(i,t);return b8(i,r),r.deferred.promise()};function b8(e,t){var i=g0(e);y8(e,i),i.push(t),Rf(e)||v0(e,i)}function g0(e){return e.data(m0)||[]}function y8(e,t){e.data(m0,t)}var _A=function(e){e.removeData(m0)};function Rf(e){return!!e.data($u)}function v0(e,t){if(t=g0(e),!!t.length){var i=t.shift();t.length===0&&_A(e),C8(i).done(function(){Rf(e)||v0(e)})}}function C8(e){return e.setup(),e.isSynchronous?e.start():e.startTimeout=setTimeout(function(){e.start()}),e.deferred.promise()}function Pv(e,t){if(!(!t||!t.position)){var i=J(fA),r=0,n=0,a=Ki.calculate(e,t.position),s=e.offset(),o=e.position();o.top>s.top&&(n=i.scrollTop()),o.left>s.left&&(r=i.scrollLeft()),ce(t,{left:a.h.location-s.left+o.left-r,top:a.v.location-s.top+o.top-n}),delete t.position}}function Lv(e,t){ve(t,function(i,r){try{e.css(i,We(r)?r():r)}catch{}})}var x8=function(e,t){var i=J(e),r=g0(i);ve(r,function(a,s){s.config.delay=0,s.config.duration=0,s.isSynchronous=!0}),Rf(i)||v0(i,r);var n=i.data($u);n&&n.stop(t),i.removeData($u),_A(i)},pi={off:!1,animationTypes:gA,animate:_8,createAnimation:vA,isAnimating:Rf,stop:x8,_simulatedTransitionEndDelay:100},w8=Fn.add,OC=Math.abs,Zp=0,Jp=1,Bl=2,Fc=10,S8=0,E8=180,T8=function(){return rs("pointer-events")},I8=va(function(){var e=Ye.real().deviceType==="desktop";if(!T8()||!e)return Ee;var t=J("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return he.subscribeGlobal(t,"dxmousewheel",function(i){i.preventDefault()}),w8(function(){t.appendTo("body")}),function(i,r){t.css("pointerEvents",i?"all":"none"),i&&t.css("cursor",r)}}),A8=function(e,t){var i=I8();i(e,t)},fd=Df.inherit({gesture:!0,configure:function(e){this.getElement().css("msTouchAction",e.immediate?"pinch-zoom":""),this.callBase(e)},allowInterruptionByMouseWheel:function(){return this._stage!==Bl},getDirection:function(){return this.direction},_cancel:function(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=Zp},start:function(e){if(e._needSkipEvent||qI(e)){this._cancel(e);return}this._startEvent=Na(e),this._startEventData=mi(e),this._stage=Jp,this._init(e),this._setupImmediateTimer()},_setupImmediateTimer:function(){clearTimeout(this._immediateTimer),this._immediateAccepted=!1,this.immediate&&(this._immediateTimer=setTimeout((function(){this._immediateAccepted=!0}).bind(this),E8))},move:function(e){if(this._stage===Jp&&this._directionConfirmed(e)){if(this._stage=Bl,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(e),this._adjustStartEvent(e),this._start(this._startEvent),this._stage===Zp)return;this._requestAccept(e),this._move(e),this._forgetAccept()}else this._stage===Bl&&(this._clearSelection(e),this._move(e))},_directionConfirmed:function(e){var t=this._getTouchBoundary(e),i=Ds(this._startEventData,mi(e)),r=OC(i.x),n=OC(i.y),a=this._validateMove(t,r,n),s=this._validateMove(t,n,r),o=this.getDirection(e),l=o==="both"&&(a||s),u=o==="horizontal"&&a,d=o==="vertical"&&s;return l||u||d||this._immediateAccepted},_validateMove:function(e,t,i){return t&&t>=e&&(this.immediate?t>=i:!0)},_getTouchBoundary:function(e){return this.immediate||mr(e)?S8:Fc},_adjustStartEvent:function(e){var t=this._getTouchBoundary(e),i=Ds(this._startEventData,mi(e));this._startEvent.pageX+=dl(i.x)*t,this._startEvent.pageY+=dl(i.y)*t},_resetActiveElement:function(){Ye.real().platform==="ios"&&this.getElement().find(":focus").length&&wl()},_toggleGestureCover:function(e){this._toggleGestureCoverImpl(e)},_toggleGestureCoverImpl:function(e){var t=this._stage===Bl;t&&A8(e,this.getElement().css("cursor"))},_clearSelection:function(e){mr(e)||ud(e)||DL()},end:function(e){this._toggleGestureCover(!1),this._stage===Bl?this._end(e):this._stage===Jp&&this._stop(e),this._stage=Zp},dispose:function(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:Ee,_start:Ee,_move:Ee,_stop:Ee,_end:Ee});fd.initialTouchBoundary=Fc;fd.touchBoundary=function(e){if(oe(e)){Fc=e;return}return Fc};var Ks="dxdragstart",Za="dxdrag",qs="dxdragend",Mf="dxdragenter",Bf="dxdragleave",_0="dxdrop",rh="dxDragEventsCount",ea=[],Ko=[],Fv=[],b0={setup:function(e,t){var i=ea.includes(e);i||(ea.push(e),Ko.push([]),Fv.push(t||{}))},add:function(e,t){var i=ea.indexOf(e);this.updateEventsCounter(e,t.type,1);var r=t.selector;Ko[i].includes(r)||Ko[i].push(r)},updateEventsCounter:function(e,t,i){if([Mf,Bf,_0].indexOf(t)>-1){var r=di(e,rh)||0;di(e,rh,Math.max(0,r+i))}},remove:function(e,t){this.updateEventsCounter(e,t.type,-1)},teardown:function(e){var t=di(e,rh);if(!t){var i=ea.indexOf(e);ea.splice(i,1),Ko.splice(i,1),Fv.splice(i,1),Sf(e,rh)}}};Qr(Mf,b0);Qr(Bf,b0);Qr(_0,b0);var O8=function(e){var t=ea.indexOf(e.get(0)),i=Ko[t].filter(n=>n),r=e.find(i.join(", "));return Ko[t].includes(void 0)&&(r=r.add(e)),r},D8=function(e){var t=ea.indexOf(e.get(0));return Fv[t]},k8=function(e,t){return e.itemPositionFunc?e.itemPositionFunc(t):t.offset()},R8=function(e,t){return e.itemSizeFunc?e.itemSizeFunc(t):{width:t.get(0).getBoundingClientRect().width,height:t.get(0).getBoundingClientRect().height}},M8=fd.inherit({ctor:function(e){this.callBase(e),this.direction="both"},_init:function(e){this._initEvent=e},_start:function(e){if(e=this._fireEvent(Ks,this._initEvent),this._maxLeftOffset=e.maxLeftOffset,this._maxRightOffset=e.maxRightOffset,this._maxTopOffset=e.maxTopOffset,this._maxBottomOffset=e.maxBottomOffset,e.targetElements||e.targetElements===null){var t=HL(e.targetElements||[]);this._dropTargets=Ti(t,function(i){return J(i).get(0)})}else this._dropTargets=ea},_move:function(e){var t=mi(e),i=this._calculateOffset(t);e=this._fireEvent(Za,e,{offset:i}),this._processDropTargets(e),e._cancelPreventDefault||e.preventDefault()},_calculateOffset:function(e){return{x:this._calculateXOffset(e),y:this._calculateYOffset(e)}},_calculateXOffset:function(e){if(this.direction!=="vertical"){var t=e.x-this._startEventData.x;return this._fitOffset(t,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset:function(e){if(this.direction!=="horizontal"){var t=e.y-this._startEventData.y;return this._fitOffset(t,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:function(e,t,i){return t!=null&&(e=Math.max(e,-t)),i!=null&&(e=Math.min(e,i)),e},_processDropTargets:function(e){var t=this._findDropTarget(e),i=t===this._currentDropTarget;i||(this._fireDropTargetEvent(e,Bf),this._currentDropTarget=t,this._fireDropTargetEvent(e,Mf))},_fireDropTargetEvent:function(e,t){if(this._currentDropTarget){var i={type:t,originalEvent:e,draggingElement:this._$element.get(0),target:this._currentDropTarget};as(i)}},_findDropTarget:function(e){var t=this,i;return ve(ea,function(r,n){if(t._checkDropTargetActive(n)){var a=J(n);ve(O8(a),function(s,o){var l=J(o);t._checkDropTarget(D8(a),l,J(i),e)&&(i=o)})}}),i},_checkDropTargetActive:function(e){var t=!1;return ve(this._dropTargets,function(i,r){return t=t||r===e||Wa(r,e),!t}),t},_checkDropTarget:function(e,t,i,r){var n=t.get(0)===J(r.target).get(0);if(n)return!1;var a=k8(e,t);if(r.pageX<a.left||r.pageY<a.top)return!1;var s=R8(e,t);return r.pageX>a.left+s.width||r.pageY>a.top+s.height||i.length&&i.closest(t).length||e.checkDropTarget&&!e.checkDropTarget(t,r)?!1:t},_end:function(e){var t=mi(e);this._fireEvent(qs,e,{offset:this._calculateOffset(t)}),this._fireDropTargetEvent(e,_0),delete this._currentDropTarget}});Sl({emitter:M8,events:[Ks,Za,qs]});var DC=function(){var e=[];return{add:function(t){e.includes(t)||e.push(t)},remove:function(t){var i=e.indexOf(t);i!==-1&&e.splice(i,1)},fire:function(){var t=e.pop(),i=!!t;return i&&t(),i},hasCallback:function(){return e.length>0}}}(),ac=1500,Ua=[],B8=e=>(ac=hi(e,ac),ac),bA=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ac,t=Ua.length,i=(t?Ua[t-1]:e)+1;return Ua.push(i),i},Nv=e=>{var t=Ua.indexOf(e);t>=0&&Ua.splice(t,1)},P8=e=>Ua.length&&Ua[Ua.length-1]===e,Qp="dx-swatch-",L8=e=>{var t=J(e),i=t.closest('[class^="'.concat(Qp,'"], [class*=" ').concat(Qp,'"]')),r=Xa();if(!i.length)return r;var n=new RegExp("(\\s|^)(".concat(Qp,".*?)(\\s|$)")),a=i[0].className.match(n)[2],s=r.children("."+a);return s.length||(s=J("<div>").addClass(a).appendTo(r)),s};const yA={getSwatchContainer:L8};var F8=ft(),CA={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},kC={h:0,v:0};class y0{constructor(t){var{position:i,container:r,visualContainer:n,$root:a,$content:s,$wrapper:o,onPositioned:l,onVisualPositionChanged:u,restorePosition:d,_fixWrapperPosition:c}=t;this._props={position:i,container:r,visualContainer:n,restorePosition:d,onPositioned:l,onVisualPositionChanged:u,_fixWrapperPosition:c},this._$root=a,this._$content=s,this._$wrapper=o,this._$markupContainer=void 0,this._$visualContainer=void 0,this._shouldRenderContentInitialPosition=!0,this._visualPosition=void 0,this._initialPosition=void 0,this._previousVisualPosition=void 0,this.updateContainer(r),this.updatePosition(i),this.updateVisualContainer(n)}get $container(){return this.updateContainer(),this._$markupContainer}get $visualContainer(){return this._$visualContainer}get position(){return this._position}set fixWrapperPosition(t){this._props._fixWrapperPosition=t,this.styleWrapperPosition()}set restorePosition(t){this._props.restorePosition=t}restorePositionOnNextRender(t){this._shouldRenderContentInitialPosition=t||!this._visualPosition}openingHandled(){var t=this._props.restorePosition;this.restorePositionOnNextRender(t)}updatePosition(t){this._props.position=t,this._position=this._normalizePosition(t),this.updateVisualContainer()}updateContainer(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._props.container;this._props.container=t,this._$markupContainer=t?J(t):yA.getSwatchContainer(this._$root),this.updateVisualContainer(this._props.visualContainer)}updateVisualContainer(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._props.visualContainer;this._props.visualContainer=t,this._$visualContainer=this._getVisualContainer()}detectVisualPositionChange(t){this._updateVisualPositionValue(),this._raisePositionedEvents(t)}positionContent(){this._shouldRenderContentInitialPosition?this._renderContentInitialPosition():(ki(this._$content,this._visualPosition),this.detectVisualPositionChange())}positionWrapper(){this._$visualContainer&&Ki.setup(this._$wrapper,{my:"top left",at:"top left",of:this._$visualContainer})}styleWrapperPosition(){var t=Si(this.$visualContainer.get(0))||this._props._fixWrapperPosition,i=t?"fixed":"absolute";this._$wrapper.css("position",i)}_updateVisualPositionValue(){this._previousVisualPosition=this._visualPosition,this._visualPosition=Ur(this._$content)}_renderContentInitialPosition(){this._renderBoundaryOffset(),cd(this._$content);var t=this._$wrapper.css("overflow");this._$wrapper.css("overflow","hidden");var i=Ki.setup(this._$content,this._position);this._$wrapper.css("overflow",t),this._initialPosition=i,this.detectVisualPositionChange()}_raisePositionedEvents(t){var i=this._previousVisualPosition,r=this._visualPosition,n=(i==null?void 0:i.top)!==r.top||(i==null?void 0:i.left)!==r.left;n&&this._props.onVisualPositionChanged({previousPosition:i,position:r,event:t}),this._props.onPositioned({position:this._initialPosition})}_renderBoundaryOffset(){var t,i=(t=this._position)!==null&&t!==void 0?t:{boundaryOffset:kC};this._$content.css("margin","".concat(i.v,"px ").concat(i.h,"px"))}_getVisualContainer(){var t,i,r=this._props.container,n=this._props.visualContainer,a=dP((t=this._props.position)===null||t===void 0?void 0:t.of)?this._props.position.of.target:(i=this._props.position)===null||i===void 0?void 0:i.of;return J(n||r||a||F8)}_normalizePosition(t){var i={boundaryOffset:kC};return oe(t)?ce(!0,{},i,this._positionToObject(t)):i}_positionToObject(t){return nt(t)?ce({},CA[t]):t}}var N8=Fn.add,Io=ft(),RC=Ef,V8="dx-overlay",H8="dx-overlay-wrapper",$8="dx-overlay-content",z8="dx-overlay-shader",MC="dx-inner-overlay",em="dx-state-invisible",W8="content",j8="dx-rtl",Vv=[],tm="dx-prevent-safari-scrolling",U8="tab";N8(()=>{he.subscribeGlobal(Re.getDocument(),Vt.down,e=>{for(var t=Vv.length-1;t>=0;t--)if(!Vv[t]._proxiedDocumentDownHandler(e))return})});var pn=Hi.inherit({_supportedKeys:function(){return ce(this.callBase(),{escape:function(){this.hide()}})},_getDefaultOptions:function(){return ce(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",wrapperAttr:{},position:ce({},CA.center),width:"80vw",minWidth:null,maxWidth:null,height:"80vh",minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,to:{opacity:0,scale:.55},from:{opacity:1,scale:1}}},closeOnOutsideClick:!1,hideOnOutsideClick:!1,copyRootClassesToWrapper:!1,_ignoreCopyRootClassesToWrapperDeprecation:!1,_ignoreElementAttrDeprecation:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",innerOverlay:!1,restorePosition:!0,container:void 0,visualContainer:void 0,hideTopOverlayHandler:()=>{this.hide()},hideOnParentScroll:!1,onPositioned:null,propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0,_fixWrapperPosition:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!ht()},options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}])},_setOptionsByReference:function(){this.callBase(),ce(this._optionsByReference,{animation:!0})},$wrapper:function(){return this._$wrapper},_eventBindingTarget:function(){return this._$content},_setDeprecatedOptions(){this.callBase(),ce(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.1",alias:"hideOnOutsideClick"}})},ctor:function(e,t){this.callBase(e,t),t&&(t.copyRootClassesToWrapper&&!t._ignoreCopyRootClassesToWrapperDeprecation&&this._logDeprecatedOptionWarning("copyRootClassesToWrapper",{since:"21.2",message:'Use the "wrapperAttr" option instead'}),t.elementAttr&&!t._ignoreElementAttrDeprecation&&this._logDeprecatedOptionWarning("elementAttr",{since:"21.2",message:'Use the "wrapperAttr" option instead'}))},_init:function(){this.callBase(),this._initActions(),this._initHideOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._customWrapperClass=null,this._$wrapper=J("<div>").addClass(H8),this._$content=J("<div>").addClass($8),this._initInnerOverlayClass();var e=this.$element();this.option("copyRootClassesToWrapper")&&this._$wrapper.addClass(e.attr("class")),e.addClass(V8),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),this._toggleViewPortSubscription(!0),this._initHideTopOverlayHandler(this.option("hideTopOverlayHandler")),this._parentsScrollSubscriptionInfo={handler:t=>{this._hideOnParentsScrollHandler(t)}},this.warnPositionAsFunction()},warnPositionAsFunction(){We(this.option("position"))&&qt.log("W0018")},_initInnerOverlayClass:function(){this._$content.toggleClass(MC,this.option("innerOverlay"))},_initHideTopOverlayHandler:function(e){this._hideTopOverlayHandler=e},_getActionsList:function(){return["onShowing","onShown","onHiding","onHidden","onPositioned","onVisualPositionChanged"]},_initActions:function(){this._actions={};var e=this._getActionsList();ve(e,(t,i)=>{this._actions[i]=this._createActionByOption(i,{excludeValidators:["disabled","readOnly"]})||Ee})},_initHideOnOutsideClickHandler:function(){var e=this;this._proxiedDocumentDownHandler=function(){return e._documentDownHandler(...arguments)}},_areContentDimensionsRendered:function(e){var t,i,r,n=(t=e.contentBoxSize)===null||t===void 0?void 0:t[0];if(n){var a,s;return parseInt(n.inlineSize,10)===((a=this._renderedDimensions)===null||a===void 0?void 0:a.width)&&parseInt(n.blockSize,10)===((s=this._renderedDimensions)===null||s===void 0?void 0:s.height)}var o=e.contentRect;return parseInt(o.width,10)===((i=this._renderedDimensions)===null||i===void 0?void 0:i.width)&&parseInt(o.height,10)===((r=this._renderedDimensions)===null||r===void 0?void 0:r.height)},_initMarkup(){this.callBase(),this._renderWrapperAttributes(),this._initPositionController()},_documentDownHandler:function(e){this._showAnimationProcessing&&this._stopAnimation();var t=J(Io.document).is(e.target)||Wa(Io.document,e.target),i=J(e.target).closest(".".concat(MC)).length,r=t&&!i&&!(this._$content.is(e.target)||Wa(this._$content.get(0),e.target));return r&&this._shouldHideOnOutsideClick(e)&&this._outsideClickHandler(e),this.option("propagateOutsideClick")},_shouldHideOnOutsideClick:function(e){var{hideOnOutsideClick:t}=this.option();return We(t)?t(e):t},_outsideClickHandler(e){this.option("shading")&&e.preventDefault(),this.hide()},_getAnonymousTemplateName:function(){return W8},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new Fs}),this.callBase()},_isTopOverlay:function(){for(var e=this._overlayStack(),t=e.length-1;t>=0;t--){var i=e[t]._findTabbableBounds();if(i.first||i.last)return e[t]===this}return!1},_overlayStack:function(){return Vv},_zIndexInitValue:function(){return pn.baseZIndex()},_toggleViewPortSubscription:function(e){var t=this;RC.remove(this._viewPortChangeHandle),e&&(this._viewPortChangeHandle=function(){t._viewPortChangeHandler(...arguments)},RC.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._positionController.updateContainer(this.option("container")),this._refresh()},_renderWrapperAttributes(){var{wrapperAttr:e}=this.option(),t=ce({},e),i=t.class;delete t.class,this.$wrapper().attr(t).removeClass(this._customWrapperClass).addClass(i),this._customWrapperClass=i},_renderVisibilityAnimate:function(e){return this._stopAnimation(),e?this._show():this._hide()},_getAnimationConfig:function(){return this._getOptionValue("animation",this)},_animateShowing:function(){var e,t,i,r=this,n=(e=this._getAnimationConfig())!==null&&e!==void 0?e:{},a=this._normalizeAnimation(n.show,"to"),s=(t=a==null?void 0:a.start)!==null&&t!==void 0?t:Ee,o=(i=a==null?void 0:a.complete)!==null&&i!==void 0?i:Ee;this._animate(a,function(){if(!r._isAnimationPaused){r.option("focusStateEnabled")&&he.trigger(r._focusTarget(),"focus");for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];o.call(r,...u),r._showAnimationProcessing=!1,r._isHidden=!1,r._actions.onShown(),r._toggleSafariScrolling(),r._showingDeferred.resolve()}},function(){if(!r._isAnimationPaused){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];s.call(r,...u),r._showAnimationProcessing=!0}})},_show:function(){if(this._showingDeferred=new we,this._parentHidden=this._isParentHidden(),this._showingDeferred.done(()=>{delete this._parentHidden}),this._parentHidden)return this._isHidden=!0,this._showingDeferred.resolve();if(this._currentVisible)return new we().resolve().promise();if(this._currentVisible=!0,this._isHidingActionCanceled)delete this._isHidingActionCanceled,this._showingDeferred.resolve();else{var e=()=>{this._stopAnimation(),this._toggleVisibility(!0),this._$content.css("visibility","hidden"),this._$content.toggleClass(em,!1),this._updateZIndexStackPosition(!0),this._positionController.openingHandled(),this._renderContent();var t={cancel:!1};this._actions.onShowing(t),t.cancel?(this._toggleVisibility(!1),this._$content.css("visibility",""),this._$content.toggleClass(em,!0),this._isShowingActionCanceled=!0,this._moveFromContainer(),this.option("visible",!1),this._showingDeferred.resolve()):(this._$content.css("visibility",""),this._renderVisibility(!0),this._animateShowing())};this.option("templatesRenderAsynchronously")?(this._stopShowTimer(),this._asyncShowTimeout=setTimeout(e)):e()}return this._showingDeferred.promise()},_normalizeAnimation:function(e,t){return e&&(e=ce({type:"slide",skipElementInitialStyles:!0},e),at(e[t])&&ce(e[t],{position:this._positionController.position})),e},_animateHiding:function(){var e,t,i,r=this,n=(e=this._getAnimationConfig())!==null&&e!==void 0?e:{},a=this._normalizeAnimation(n.hide,"from"),s=(t=a==null?void 0:a.start)!==null&&t!==void 0?t:Ee,o=(i=a==null?void 0:a.complete)!==null&&i!==void 0?i:Ee;this._animate(a,function(){var l;r._$content.css("pointerEvents",""),r._renderVisibility(!1);for(var u=arguments.length,d=new Array(u),c=0;c<u;c++)d[c]=arguments[c];o.call(r,...d),r._hideAnimationProcessing=!1,(l=r._actions)===null||l===void 0||l.onHidden(),r._hidingDeferred.resolve()},function(){r._$content.css("pointerEvents","none");for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];s.call(r,...u),r._hideAnimationProcessing=!0})},_hide:function(){if(!this._currentVisible)return new we().resolve().promise();this._currentVisible=!1,this._hidingDeferred=new we;var e={cancel:!1};return this._isShowingActionCanceled?this._hidingDeferred.resolve():(this._actions.onHiding(e),this._toggleSafariScrolling(),e.cancel?(this._isHidingActionCanceled=!0,this.option("visible",!0),this._hidingDeferred.resolve()):(this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._stopShowTimer(),this._animateHiding())),this._hidingDeferred.promise()},_forceFocusLost:function(){var e=Re.getActiveElement(),t=!!this._$content.find(e).length;t&&wl()},_animate:function(e,t,i){e?(i=i||e.start||Ee,pi.animate(this._$content,ce({},e,{start:i,complete:t}))):t()},_stopAnimation:function(){pi.stop(this._$content,!0)},_renderVisibility:function(e){e&&this._isParentHidden()||(this._currentVisible=e,this._stopAnimation(),e||PL(this._$content),e?(this._moveToContainer(),this._renderGeometry(),Dc(this._$content),An(this._$content)):(this._toggleVisibility(e),this._$content.toggleClass(em,!e),this._updateZIndexStackPosition(e),this._moveFromContainer()),this._toggleShading(e),this._toggleSubscriptions(e))},_updateZIndexStackPosition:function(e){var t=this._overlayStack(),i=t.indexOf(this);e?(i===-1&&(this._zIndex=bA(this._zIndexInitValue()),t.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):i!==-1&&(t.splice(i,1),Nv(this._zIndex))},_toggleShading:function(e){this._$wrapper.toggleClass(z8,e&&this.option("shading")),this._$wrapper.css("backgroundColor",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(e&&this.option("shading"))},_initTabTerminatorHandler:function(){var e=this;this._proxiedTabTerminatorHandler=function(){e._tabKeyHandler(...arguments)}},_toggleTabTerminator:function(e){var t=Be("keydown",this.NAME);e?he.on(Re.getDocument(),t,this._proxiedTabTerminatorHandler):he.off(Re.getDocument(),t,this._proxiedTabTerminatorHandler)},_findTabbableBounds:function(){for(var e=this._$wrapper.find("*"),t=e.length-1,i={first:null,last:null},r=0;r<=t&&(!i.first&&e.eq(r).is(iC)&&(i.first=e.eq(r)),!i.last&&e.eq(t-r).is(iC)&&(i.last=e.eq(t-r)),!(i.first&&i.last));r++);return i},_tabKeyHandler:function(e){if(!(ci(e)!==U8||!this._isTopOverlay())){var t=this._findTabbableBounds(),i=t.first,r=t.last,n=!e.shiftKey&&e.target===r.get(0),a=e.shiftKey&&e.target===i.get(0),s=t.length===0,o=!Wa(this._$wrapper.get(0),e.target);if(n||a||s||o){e.preventDefault();var l=e.shiftKey?r:i;he.trigger(l,"focusin"),he.trigger(l,"focus")}}},_toggleSubscriptions:function(e){ht()&&(this._toggleHideTopOverlayCallback(e),this._toggleHideOnParentsScrollSubscription(e))},_toggleHideTopOverlayCallback:function(e){this._hideTopOverlayHandler&&(e?DC.add(this._hideTopOverlayHandler):DC.remove(this._hideTopOverlayHandler))},_toggleHideOnParentsScrollSubscription:function(e){var t,i=Be("scroll",this.NAME),{prevTargets:r,handler:n}=(t=this._parentsScrollSubscriptionInfo)!==null&&t!==void 0?t:{};he.off(r,i,n);var a=this.option("hideOnParentScroll");if(e&&a){var s=this._hideOnParentScrollTarget().parents();Ye.real().deviceType==="desktop"&&(s=s.add(Io)),he.on(s,i,n),this._parentsScrollSubscriptionInfo.prevTargets=s}},_hideOnParentsScrollHandler:function(e){var t=!1,i=this.option("hideOnParentScroll");We(i)&&(t=i(e)),!t&&!this._showAnimationProcessing&&this.hide()},_hideOnParentScrollTarget:function(){return this._$wrapper},_render:function(){this.callBase(),this._appendContentToElement(),this._renderVisibilityAnimate(this.option("visible"))},_appendContentToElement:function(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())},_renderContent:function(){var e=!this._currentVisible&&this.option("deferRendering"),t=this.option("visible")&&this._isParentHidden();if(t){this._isHidden=!0;return}this._contentAlreadyRendered||e||(this._contentAlreadyRendered=!0,this._appendContentToElement(),this.callBase())},_isParentHidden:function(){if(!this.option("_checkParentVisibility"))return!1;if(this._parentHidden!==void 0)return this._parentHidden;var e=this.$element().parent();if(e.is(":visible"))return!1;var t=!1;return e.add(e.parents()).each(function(){var i=J(this);if(i.css("display")==="none")return t=!0,!1}),t||!Re.getBody().contains(e.get(0))},_renderContentImpl:function(){var e=new we,t=this.option("contentTemplate"),i=this._getTemplate(t),r=this._templateManager.anonymousTemplateName===t;return i&&i.render({container:ot(this.$content()),noModel:!0,transclude:r,onRendered:()=>{e.resolve()}}),this._renderScrollTerminator(),e.done(()=>{this.option("visible")&&this._moveToContainer()}),e.promise()},_getPositionControllerConfig(){var{container:e,visualContainer:t,_fixWrapperPosition:i,restorePosition:r}=this.option();return{container:e,visualContainer:t,$root:this.$element(),$content:this._$content,$wrapper:this._$wrapper,onPositioned:this._actions.onPositioned,onVisualPositionChanged:this._actions.onVisualPositionChanged,restorePosition:r,_fixWrapperPosition:i}},_initPositionController(){this._positionController=new y0(this._getPositionControllerConfig())},_renderScrollTerminator:function(){var e=this._$wrapper,t=Be(Za,this.NAME);he.off(e,t),he.on(e,t,{validate:function(){return!0},getDirection:function(){return"both"},_toggleGestureCover:function(i){i||this._toggleGestureCoverImpl(i)},_clearSelection:Ee,isNative:!0},i=>{var r=i.originalEvent.originalEvent,{type:n}=r||{},a=n==="wheel",s=n==="mousemove",o=a&&!Vi(i);i._cancelPreventDefault=!0,r&&i.cancelable!==!1&&(!s&&!a||o)&&i.preventDefault()})},_moveFromContainer:function(){this._$content.appendTo(this.$element()),this._detachWrapperToContainer()},_detachWrapperToContainer:function(){this._$wrapper.detach()},_moveToContainer:function(){this._$wrapper.appendTo(this._positionController.$container),this._$content.appendTo(this._$wrapper)},_renderGeometry:function(e){var{visible:t}=this.option();t&&ht()&&(this._stopAnimation(),this._renderGeometryImpl())},_renderGeometryImpl:function(){this._positionController.updatePosition(this._getOptionValue("position")),this._renderWrapper(),this._renderDimensions(),this._renderPosition()},_renderPosition(){this._positionController.positionContent()},_isAllWindowCovered:function(){return Si(this._positionController.$visualContainer.get(0))&&this.option("shading")},_toggleSafariScrolling:function(){var e=this.option("visible"),t=J(Re.getBody()),i=Ye.real().platform==="ios"&&ri.safari,r=this._isAllWindowCovered(),n=t.hasClass(tm),a=!n&&e&&r,s=n&&(!e||!r||this._disposed);i&&(s?(t.removeClass(tm),Io.scrollTo(0,this._cachedBodyScrollTop),this._cachedBodyScrollTop=void 0):a&&(this._cachedBodyScrollTop=Io.pageYOffset,t.addClass(tm)))},_renderWrapper:function(){this._positionController.styleWrapperPosition(),this._renderWrapperDimensions(),this._positionController.positionWrapper()},_renderWrapperDimensions:function(){var e=this._positionController.$visualContainer,t=Re.getDocumentElement(),i=Si(e.get(0)),r=i?t.clientWidth:Pt(e),n=i?Io.innerHeight:At(e);this._$wrapper.css({width:r,height:n})},_renderDimensions:function(){var e=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",e),maxWidth:this._getOptionValue("maxWidth",e),minHeight:this._getOptionValue("minHeight",e),maxHeight:this._getOptionValue("maxHeight",e),width:this._getOptionValue("width",e),height:this._getOptionValue("height",e)})},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){this._keyboardListenerId=ja.on(this._$content,null,e=>this._keyboardHandler(e))},_keyboardHandler:function(e){var t=e.originalEvent,i=J(t.target);(i.is(this._$content)||!this.option("ignoreChildEvents"))&&this.callBase(...arguments)},_isVisible:function(){return this.option("visible")},_visibilityChanged:function(e){e?this.option("visible")&&this._renderVisibilityAnimate(e):this._renderVisibilityAnimate(e)},_dimensionChanged:function(){this._renderGeometry()},_clean:function(){var e=this.option();!this._contentAlreadyRendered&&!e.isRenovated&&this.$content().empty(),this._renderVisibility(!1),this._stopShowTimer(),this._cleanFocusState()},_stopShowTimer(){this._asyncShowTimeout&&clearTimeout(this._asyncShowTimeout),this._asyncShowTimeout=null},_dispose:function(){pi.stop(this._$content,!1),clearTimeout(this._deferShowTimer),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._actions=null,this._parentsScrollSubscriptionInfo=null,this.callBase(),this._toggleSafariScrolling(),this.option("visible")&&Nv(this._zIndex),this._$wrapper.remove(),this._$content.remove()},_toggleRTLDirection:function(e){this._$content.toggleClass(j8,e)},_optionChanged:function(e){var t=e.value;if(this._getActionsList().includes(e.name)){this._initActions();return}switch(e.name){case"animation":break;case"shading":this._toggleShading(this.option("visible")),this._toggleSafariScrolling();break;case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"height":this._renderGeometry();break;case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":this._renderGeometry();break;case"position":this._positionController.updatePosition(this.option("position")),this._positionController.restorePositionOnNextRender(!0),this._renderGeometry(),this._toggleSafariScrolling();break;case"visible":this._renderVisibilityAnimate(t).done(()=>{this._animateDeferred&&this._animateDeferred.resolveWith(this)});break;case"container":this._positionController.updateContainer(t),this._invalidate(),this._toggleSafariScrolling();break;case"visualContainer":this._positionController.updateVisualContainer(t),this._renderWrapper(),this._toggleSafariScrolling();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(e.value),this._toggleHideTopOverlayCallback(this.option("visible"));break;case"hideOnParentScroll":this._toggleHideOnParentsScrollSubscription(this.option("visible"));break;case"closeOnOutsideClick":case"hideOnOutsideClick":case"propagateOutsideClick":break;case"rtlEnabled":this._contentAlreadyRendered=!1,this.callBase(e);break;case"_fixWrapperPosition":this._positionController.fixWrapperPosition=t;break;case"wrapperAttr":this._renderWrapperAttributes();break;case"restorePosition":this._positionController.restorePosition=e.value;break;default:this.callBase(e)}},toggle:function(e){e=e===void 0?!this.option("visible"):e;var t=new we;if(e===this.option("visible"))return t.resolveWith(this,[e]).promise();var i=new we;return this._animateDeferred=i,this.option("visible",e),i.promise().done(()=>{delete this._animateDeferred,t.resolveWith(this,[this.option("visible")])}),t.promise()},$content:function(){return this._$content},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return ot(this._$content)},repaint:function(){this._contentAlreadyRendered?(this._positionController.restorePositionOnNextRender(!0),this._renderGeometry({forceStopAnimation:!0}),An(this._$content)):this.callBase()}});pn.baseZIndex=e=>B8(e);Tt("dxOverlay",pn);var G8="dx-loadpanel",K8="dx-loadpanel-wrapper",BC="dx-loadpanel-indicator",PC="dx-loadpanel-message",q8="dx-loadpanel-content",X8="dx-loadpanel-content-wrapper",Y8="dx-loadpanel-pane-hidden",Pf=pn.inherit({_supportedKeys:function(){return ce(this.callBase(),{escape:Ee})},_getDefaultOptions:function(){return ce(this.callBase(),{message:Ae.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,templatesRenderAsynchronously:!1,hideTopOverlayHandler:null,focusStateEnabled:!1,propagateOutsideClick:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:function(){return Ei()},options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}}])},_init:function(){this.callBase.apply(this,arguments)},_render:function(){this.callBase(),this.$element().addClass(G8),this.$wrapper().addClass(K8)},_renderContentImpl:function(){this.callBase(),this.$content().addClass(q8),this._$loadPanelContentWrapper=J("<div>").addClass(X8),this._$loadPanelContentWrapper.appendTo(this.$content()),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()},_show:function(){var e=this.option("delay");if(!e)return this.callBase();var t=new we,i=this.callBase.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout(function(){i().done(function(){t.resolve()})},e),t.promise()},_hide:function(){return this._clearShowTimeout(),this.callBase()},_clearShowTimeout:function(){clearTimeout(this._showTimeout)},_renderMessage:function(){if(this._$loadPanelContentWrapper){var e=this.option("message");if(e){var t=J("<div>").addClass(PC).text(e);this._$loadPanelContentWrapper.append(t)}}},_renderLoadIndicator:function(){!this._$loadPanelContentWrapper||!this.option("showIndicator")||(this._$indicator||(this._$indicator=J("<div>").addClass(BC).appendTo(this._$loadPanelContentWrapper)),this._createComponent(this._$indicator,Rr,{indicatorSrc:this.option("indicatorSrc")}))},_cleanPreviousContent:function(){this.$content().find("."+PC).remove(),this.$content().find("."+BC).remove(),delete this._$indicator},_togglePaneVisible:function(){this.$content().toggleClass(Y8,!this.option("showPane"))},_optionChanged:function(e){switch(e.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._renderLoadIndicator();break;default:this.callBase(e)}},_dispose:function(){this._clearShowTimeout(),this.callBase()}});Tt("dxLoadPanel",Pf);var Z8=["year","month","day"],J8=["year","month","day","hour","minute"],Hv=function(e){return e==="date"||e==="datetime"},im=function(e){var t,i=[],r=["year","month","day","hour","minute","second"],n=e.headerFilter&&e.headerFilter.groupInterval,a=n==="quarter"?"month":n;if(Hv(e.dataType)&&n!==null)return i=e.dataType==="datetime"?J8:Z8,t=r.indexOf(a),t>=0&&(i=r.slice(0,t),i.push(n)),i;if(oe(n))return Array.isArray(n)?n:[n]};const pl=function(){var e=function(n,a){var s=n.dataField||n.selector;return a==="search"&&(s=n.displayField||n.calculateDisplayValue||s),s},t=function(n,a){var s,o,l,u=e(this,a);if(Array.isArray(n)&&oe(n[0])&&oe(n[1]))return o=[u,">=",n[0]],l=[u,"<=",n[1]],Hv(this.dataType)&&(d=n[1],d.getHours()+d.getMinutes()+d.getSeconds()+d.getMilliseconds()<1)&&(s=new Date(n[1].getTime()),this.dataType==="date"&&s.setDate(n[1].getDate()+1),l=[u,"<",s]),[o,"and",l];var d},i=function(n,a,s){var o,l,u,d=function(h){return sr(h)?[h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds()]:Ti((""+h).split("/"),function(f,p){return p===1?Number(f)-1:Number(f)})}(n),c=e(this,s);switch(s==="headerFilter"?u=im(this)[d.length-1]:this.dataType==="datetime"&&(u="minute"),u){case"year":o=new Date(d[0],0,1),l=new Date(d[0]+1,0,1);break;case"month":o=new Date(d[0],d[1],1),l=new Date(d[0],d[1]+1,1);break;case"quarter":o=new Date(d[0],3*d[1],1),l=new Date(d[0],3*d[1]+3,1);break;case"hour":o=new Date(d[0],d[1],d[2],d[3]),l=new Date(d[0],d[1],d[2],d[3]+1);break;case"minute":o=new Date(d[0],d[1],d[2],d[3],d[4]),l=new Date(d[0],d[1],d[2],d[3],d[4]+1);break;case"second":o=new Date(d[0],d[1],d[2],d[3],d[4],d[5]),l=new Date(d[0],d[1],d[2],d[3],d[4],d[5]+1);break;default:o=new Date(d[0],d[1],d[2]),l=new Date(d[0],d[1],d[2]+1)}switch(a){case"<":return[c,"<",o];case"<=":return[c,"<",l];case">":return[c,">=",l];case">=":return[c,">=",o];case"<>":return[[c,"<",o],"or",[c,">=",l]];default:return[[c,">=",o],"and",[c,"<",l]]}},r=function(n,a,s){var o=e(this,s),l=im(this);if(s==="headerFilter"&&l&&oe(n)){var u=(""+n).split("/"),d=Number(u[u.length-1]),c=l[u.length-1],h=[o,">=",d],f=[o,"<",d+c],p=[h,"and",f];return p}return[o,a||"=",n]};return{defaultCalculateFilterExpression:function(n,a,s){var o=this,l=e(o,s),u=o.calculateDisplayValue&&s==="search",d=u&&o.lookup&&o.lookup.dataType||o.dataType,c=null;if((s==="headerFilter"||s==="filterBuilder")&&n===null)c=[l,a||"=",null],d==="string"&&(c=[c,a==="="?"or":"and",[l,a||"=",""]]);else if(d==="string"&&(!o.lookup||u))c=[l,a||"contains",n];else{if(a==="between")return t.apply(o,[n,s]);if(Hv(d)&&oe(n))return i.apply(o,arguments);if(d==="number")return r.apply(o,arguments);c=[l,a||"=",n]}return c},getGroupInterval:im}}();var Q8=Fn.add,xA="DEVEXTREME_XHR_ERROR_UNLOAD",eN=function(e){return[e[0],e.length<3?"=":String(e[1]).toLowerCase(),e.length<2?!0:e[e.length-1]]},ca=function(e){return Array.isArray(e)||(e=[e]),Ti(e,function(t){var i={selector:We(t)||typeof t=="string"?t:t.getter||t.field||t.selector,desc:!!(t.desc||String(t.dir).charAt(0).toLowerCase()==="d")};return t.compare&&(i.compare=t.compare),i})},tN=function(){var e={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"},t;return Q8(function(){var i=ft();Re.listen(i,"beforeunload",function(){t=!0})}),function(i,r){return t?xA:i.status<400?function(n){var a=e[n];return a||n}(r):i.statusText}}(),C0={count:{seed:0,step:function(e){return 1+e}},sum:{seed:0,step:function(e,t){return e+t}},min:{step:function(e,t){return t<e?t:e}},max:{step:function(e,t){return t>e?t:e}},avg:{seed:[0,0],step:function(e,t){return[e[0]+t,e[1]+1]},finalize:function(e){return e[1]?e[0]/e[1]:NaN}}},iN=function(){var e=0,t;return{obtain:function(){e===0&&(t=new we),e++},release:function(){e--,e<1&&t.resolve()},promise:function(){var i=e===0?new we().resolve():t;return i.promise()},reset:function(){e=0,t&&t.resolve()}}}();function rN(e){return/^(and|&&|&)$/i.test(e)}var pd=function(e,t,i){if(Array.isArray(e)){for(var r=Ti(t,function(s,o){return o}),n,a=0;a<r.length;a++)if(n=r[a],!li(t[n],i[n],0,!1))return!1;return!0}return li(t,i,0,!1)},nN=function(e){return e[0]==="!"&&Array.isArray(e[1])},aN=function(e){return e==="and"||e==="or"},sN=function(e){var t=e[0],i=e[1];return!!(Array.isArray(t)||We(t)&&(Array.isArray(i)||We(i)||aN(i)))},il=function(){var e=new we;return e.resolve.apply(e,arguments).promise()},wA=function(){var e=new we;return e.reject.apply(e,arguments).promise()};function oN(e,t){var i,r;return function(){return r=arguments,i||(i=setTimeout(()=>{i=void 0,r&&e.call(this,r)},We(t)?t():t)),i}}function lN(e,t){var i=[],r=oN(function(){e.call(this,i),i=[]},t);return function(n){return Array.isArray(n)&&i.push(...n),r.call(this,i)}}var ou=["millisecond","second","minute","hour","day","week","month","quarter","year"],x0=function e(t){switch(t){case"millisecond":return 1;case"second":return 1e3*e("millisecond");case"minute":return 60*e("second");case"hour":return 60*e("minute");case"day":return 24*e("hour");case"week":return 7*e("day");case"month":return 30*e("day");case"quarter":return 3*e("month");case"year":return 365*e("day");default:return 0}},uN=function(e,t,i){var r=t.getTime()-e.getTime(),n=x0(i)||1;return Math.floor(r/n)},dN=function(e,t){var i=Lf(e);switch(i){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return t?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},SA=function(e){var t,i,r,n=["millisecond","second","minute","hour","day","month","year"],a={};for(t=n.length-1;t>=0;t--)r=n[t],i=Math.floor(e/x0(r)),i>0&&(a[r+"s"]=i,e-=Nc(r,i));return a},hN=function(e){var t=0;return at(e)&&ve(e,function(i,r){t+=Nc(i.substr(0,i.length-1),r)}),nt(e)&&(t=Nc(e,1)),t};function Nc(e,t){return x0(e)*t}function Lf(e){var t=-1,i;return nt(e)?e:at(e)?(ve(e,function(r,n){for(i=0;i<ou.length;i++)n&&(r===ou[i]+"s"||r===ou[i])&&t<i&&(t=i)}),ou[t]):""}var cN={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"};function fN(e){return cN[Lf(e)]||""}var EA=function(e){return Math.floor(e/3)},TA=function(e){return 3*EA(e)};function IA(e,t,i,r){e=new Date(e.getTime());var n=new Date(e.getTime()),a,s,o=Lf(t);switch(o){case"second":e=new Date(1e3*Math.floor(n.getTime()/1e3));break;case"minute":e=new Date(6e4*Math.floor(n.getTime()/6e4));break;case"hour":e=new Date(36e5*Math.floor(n.getTime()/36e5));break;case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0,0,0,0);break;case"week":e=MA(e,r||0),e.setHours(0,0,0,0);break;case"quarter":a=TA(e.getMonth()),s=e.getMonth(),e.setDate(1),e.setHours(0,0,0,0),s!==a&&e.setMonth(a)}return i&&o!=="hour"&&o!=="minute"&&o!=="second"&&PA(n,e),e}function AA(e){return IA(e,"day")}var pN=function(e){var t=AA(e);return t.setDate(t.getDate()+1),new Date(t.getTime()-1)},mN=function(e,t){var i=0,r={year:e.getFullYear()!==t.getFullYear(),month:e.getMonth()!==t.getMonth(),day:e.getDate()!==t.getDate(),hour:e.getHours()!==t.getHours(),minute:e.getMinutes()!==t.getMinutes(),second:e.getSeconds()!==t.getSeconds(),millisecond:e.getMilliseconds()!==t.getMilliseconds()};return ve(r,function(n,a){a&&i++}),i===0&&LA(e,t)!==0&&(r.hour=!0,i++),r.count=i,r};function OA(e,t,i){var r=new Date(e.getTime()),n=nt(t)?kA(t.toLowerCase()):ei(t)?SA(t):t;return n.years&&r.setFullYear(r.getFullYear()+n.years*i),n.quarters&&r.setMonth(r.getMonth()+3*n.quarters*i),n.months&&r.setMonth(r.getMonth()+n.months*i),n.weeks&&r.setDate(r.getDate()+7*n.weeks*i),n.days&&r.setDate(r.getDate()+n.days*i),n.hours&&r.setTime(r.getTime()+36e5*n.hours*i),n.minutes&&r.setTime(r.getTime()+6e4*n.minutes*i),n.seconds&&r.setTime(r.getTime()+1e3*n.seconds*i),n.milliseconds&&r.setTime(r.getTime()+n.milliseconds*i),r}var DA=function(e,t,i){var r=i?-1:1;return sr(e)?OA(e,t,r):qT(e+t*r,t)},gN=function(e,t,i){var r=[],n;for(r.push(sr(e)?new Date(e.getTime()):e),n=e;n<t;)n=DA(n,i),r.push(n);return r},vN=function(e,t){if(e==="month")return kr(t.getFullYear(),t.getMonth(),1);if(e==="year")return kr(t.getFullYear(),0,t.getDate());if(e==="decade")return kr(gd(t),t.getMonth(),t.getDate());if(e==="century")return kr(md(t),t.getMonth(),t.getDate())},_N=function(e,t){if(e==="month")return kr(t.getFullYear(),t.getMonth(),Vc(t));if(e==="year")return kr(t.getFullYear(),11,t.getDate());if(e==="decade")return kr(gd(t)+9,t.getMonth(),t.getDate());if(e==="century")return kr(md(t)+90,t.getMonth(),t.getDate())},bN=function(e,t){var i=kr(t.getFullYear(),t.getMonth(),1);return e==="month"||(i.setMonth(0),e==="year")||(e==="decade"&&i.setFullYear(gd(t)),e==="century"&&i.setFullYear(md(t))),i},yN=function(e,t){var i=new Date(t);return i.setDate(Vc(t)),e==="month"||(i.setMonth(11),i.setDate(Vc(i)),e==="year")||(e==="decade"&&i.setFullYear(gd(t)+9),e==="century"&&i.setFullYear(md(t)+99)),i};function Vc(e){var t=kr(e.getFullYear(),e.getMonth()+1,0);return t.getDate()}var CN=function(e){switch(e){case"month":return"year";case"year":return"decade";case"decade":return"century"}},xN=function(e){switch(e){case"century":return"decade";case"decade":return"year";case"year":return"month"}},wN=function(e){var t=1;return e==="year"&&(t=12),e==="decade"&&(t=120),e==="century"&&(t=1200),t},SN=function(e){var t=1;return e==="decade"&&(t=12),e==="century"&&(t=120),t};function kA(e){var t={};switch(e){case"year":t.years=1;break;case"month":t.months=1;break;case"quarter":t.months=3;break;case"week":t.weeks=1;break;case"day":t.days=1;break;case"hour":t.hours=1;break;case"minute":t.minutes=1;break;case"second":t.seconds=1;break;case"millisecond":t.milliseconds=1}return t}function EN(e,t){return $v(e,t)&&e.getDate()===t.getDate()}function $v(e,t){return RA(e,t)&&e.getMonth()===t.getMonth()}function RA(e,t){return e&&t&&e.getFullYear()===t.getFullYear()}function TN(e,t){return e&&t&&e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()}var IN=function(e,t){if(!(!oe(e)||!oe(t))){var i=e.getFullYear()-e.getFullYear()%10,r=t.getFullYear()-t.getFullYear()%10;return e&&t&&i===r}},AN=function(e,t){if(!(!oe(e)||!oe(t))){var i=e.getFullYear()-e.getFullYear()%100,r=t.getFullYear()-t.getFullYear()%100;return e&&t&&i===r}};function md(e){return e&&e.getFullYear()-e.getFullYear()%100}function gd(e){return e&&e.getFullYear()-e.getFullYear()%10}var ON=function(){return"yyyy/MM/dd"},DN=function(e){if(oe(e))return kr(e.getFullYear(),e.getMonth(),1)},kN=function(e){if(oe(e))return kr(e.getFullYear(),e.getMonth()+1,0)};function MA(e,t){var i=(e.getDay()-t+7)%7,r=new Date(e);return r.setDate(e.getDate()-i),r}var RN=function(e,t){var i=st.getDatesInterval(e,t,"day"),r=new Date(e);return i>=6&&(r=new Date(r.setDate(r.getDate()+7))),r},MN=function(e,t,i,r){return r==="date"&&(t=t&&st.correctDateWithUnitBeginning(t,"day"),i=i&&st.correctDateWithUnitBeginning(i,"day"),e=e&&st.correctDateWithUnitBeginning(e,"day")),BA(e,t,i)===e},BN=function(e){var{firstMin:t,firstMax:i,secondMin:r,secondMax:n}=e;return t<=r&&r<=i||t>r&&t<n||t<n&&i>n},PN=function(e){var t=Math.floor(e),i=e%1*60;return{hours:t,minutes:i}},LN=function(e,t){var i=this.dateTimeFromDecimal(t),r=new Date(e);return(e.getHours()===i.hours&&e.getMinutes()<i.minutes||e.getHours()<i.hours)&&r.setHours(i.hours,i.minutes,0,0),r};function BA(e,t,i){var r=e;return oe(e)?(oe(t)&&e<t&&(r=t),oe(i)&&e>i&&(r=i),r):e}function PA(e,t){if(oe(e)){var i=t.getHours()-e.getHours();if(i!==0){var r=i===1||i===-23?-1:1,n=new Date(t.getTime()+36e5*r);(r>0||n.getDate()===t.getDate())&&t.setTime(n.getTime())}}}var FN=function(e){var t=new Date(e.getTime());return t.setHours(t.getHours()+1),t.setMinutes(0),t};function LA(e,t){return 60*(t.getTimezoneOffset()-e.getTimezoneOffset())*1e3}var NN=function(e){return new Date(e)},VN=function(e,t,i){for(var r=[],n=new Date(e.getTime());n<t;)r.push(new Date(n.getTime())),n=this.addInterval(n,i);return r},kr=function(e){var t=new Date(...arguments);return t.setFullYear(e),t},st={dateUnitIntervals:ou,convertMillisecondsToDateUnits:SA,dateToMilliseconds:hN,getNextDateUnit:dN,convertDateUnitToMilliseconds:Nc,getDateUnitInterval:Lf,getDateFormatByTickInterval:fN,getDatesDifferences:mN,correctDateWithUnitBeginning:IA,trimTime:AA,setToDayEnd:pN,roundDateByStartDayHour:LN,dateTimeFromDecimal:PN,addDateInterval:OA,addInterval:DA,getSequenceByInterval:gN,getDateIntervalByString:kA,sameHoursAndMinutes:TN,sameDate:EN,sameMonthAndYear:$v,sameMonth:$v,sameYear:RA,sameDecade:IN,sameCentury:AN,getDifferenceInMonth:wN,getDifferenceInMonthForCells:SN,getFirstYearInDecade:gd,getFirstDecadeInCentury:md,getShortDateFormat:ON,getViewFirstCellDate:vN,getViewLastCellDate:_N,getViewDown:xN,getViewUp:CN,getLastMonthDay:Vc,getLastMonthDate:kN,getFirstMonthDate:DN,getFirstWeekDate:MA,normalizeDateByWeek:RN,getQuarter:EA,getFirstQuarterMonth:TA,dateInRange:MN,intervalsOverlap:BN,roundToHour:FN,normalizeDate:BA,getViewMinBoundaryDate:bN,getViewMaxBoundaryDate:yN,fixTimezoneGap:PA,getTimezonesDifference:LA,makeDate:NN,getDatesInterval:uN,getDatesOfInterval:VN,createDateWithFullYear:kr};st.sameView=function(e,t,i){return st[Fu("same "+e)](t,i)};const FA=Jr({format:function(e,t){var i=nt(t)&&t!==""||Ct(t)||We(t),r=ei(e)||sr(e);if(!i||!r)return oe(e)?e.toString():"";if(We(t))return t(e);if(nt(t)&&(t={type:t}),ei(e))return Xt.format(e,t);if(sr(e))return gt.format(e,t)},getTimeFormat:function(e){return e?"longtime":"shorttime"},_normalizeFormat:function(e){return Array.isArray(e)?e.length===1?e[0]:function(t){return e.map(function(i){return gt.format(t,i)}).join(" ")}:e},getDateFormatByDifferences:function(e,t){var i=[],r=t&&e.millisecond&&!(e.year||e.month||e.day);return r?i.push(function(n){return n.getSeconds()+n.getMilliseconds()/1e3+"s"}):e.millisecond&&i.push("millisecond"),(e.hour||e.minute||!r&&e.second)&&i.unshift(this.getTimeFormat(e.second)),e.year&&e.month&&e.day?t&&t==="month"?"monthandyear":(i.unshift("shortdate"),this._normalizeFormat(i)):e.year&&e.month?"monthandyear":e.year&&e.quarter?"quarterandyear":e.year?"year":e.quarter?"quarter":e.month&&e.day?(t?i.unshift(function(n){return gt.getMonthNames("abbreviated")[n.getMonth()]+" "+gt.format(n,"day")}):i.unshift("monthandday"),this._normalizeFormat(i)):e.month?"month":e.day?(t?i.unshift("day"):i.unshift(function(n){return gt.format(n,"dayofweek")+", "+gt.format(n,"day")}),this._normalizeFormat(i)):this._normalizeFormat(i)},getDateFormatByTicks:function(e){var t,i,r;if(e.length>1)for(t=st.getDatesDifferences(e[0],e[1]),r=1;r<e.length-1;r++)i=st.getDatesDifferences(e[r],e[r+1]),t.count<i.count&&(t=i);else t={year:!0,month:!0,day:!0,hour:e[0].getHours()>0,minute:e[0].getMinutes()>0,second:e[0].getSeconds()>0,millisecond:e[0].getMilliseconds()>0};var n=this.getDateFormatByDifferences(t);return n},getDateFormatByTickInterval:function(e,t,i){var r,n=function(o,l,u){switch(l){case"year":case"quarter":o.month=u;case"month":o.day=u;case"week":case"day":o.hour=u;case"hour":o.minute=u;case"minute":o.second=u;case"second":o.millisecond=u}};i=nt(i)?i.toLowerCase():i;var a=st.getDatesDifferences(e,t);e!==t&&function(o,l,u){!u.getMilliseconds()&&u.getSeconds()?u.getSeconds()-l.getSeconds()===1&&(o.millisecond=!0,o.second=!1):!u.getSeconds()&&u.getMinutes()?u.getMinutes()-l.getMinutes()===1&&(o.second=!0,o.minute=!1):!u.getMinutes()&&u.getHours()?u.getHours()-l.getHours()===1&&(o.minute=!0,o.hour=!1):!u.getHours()&&u.getDate()>1?u.getDate()-l.getDate()===1&&(o.hour=!0,o.day=!1):u.getDate()===1&&u.getMonth()?u.getMonth()-l.getMonth()===1&&(o.day=!0,o.month=!1):!u.getMonth()&&u.getFullYear()&&u.getFullYear()-l.getFullYear()===1&&(o.month=!0,o.year=!1)}(a,e>t?t:e,e>t?e:t),r=st.getDateUnitInterval(a),n(a,r,!0),r=st.getDateUnitInterval(i||"second"),n(a,r,!1),a[{week:"day"}[r]||r]=!0;var s=this.getDateFormatByDifferences(a);return s}});var Mi=L_(qt.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"}),HN=null,w0=function(e){var t;(t=HN)===null||t===void 0||t(e)};function $N(e,t){for(var i,r=typeof t=="string"?t.split():t.slice();r.length;)if(i=r.shift(),i in e)return!0;return!1}function NA(e,t,i,r){var n,a;if(r){for(var s=0;s<t.length;s++)if(n=t[s].items||t[s].collapsedItems||[],a=NA(e,n||[],i,r-1),a)return a}else if(Xs(e,t,i)>=0)return t}function zN(e,t,i,r){return r?NA(e,t,i,r)||[]:t}function WN(e,t){if(e.key()&&(!t._dataByKeyMap||t._dataByKeyMapLength!==t.length)){for(var i={},r=t.length,n=0;n<r;n++)i[JSON.stringify(e.keyOf(t[n]))]=t[n];t._dataByKeyMap=i,t._dataByKeyMapLength=r}}function jN(e,t){if(e._dataByKeyMap)return e._dataByKeyMap[JSON.stringify(t)]}function UN(e,t){return e._dataByKeyMap?e._dataByKeyMap[JSON.stringify(t)]:!0}function VA(e,t,i){e._dataByKeyMap&&(e._dataByKeyMap[JSON.stringify(t)]=i,e._dataByKeyMapLength+=i?1:-1)}function HA(e,t,i){i=i||new WeakMap;var r=e?Object.create(Object.getPrototypeOf(e)):{};e&&i.set(e,r);var n=Ne({},e);Sn(r,n,!0,!0);for(var a in n){var s=n[a],o=t==null?void 0:t[a];at(s)&&!Ct(s)&&at(o)&&!i.has(s)&&(r[a]=HA(s,o,i))}for(var l in r){var u=r[l];at(u)&&i.has(u)&&(r[l]=i.get(u))}return r}function Va(e,t){var i=HA(e,t);return Sn(i,t,!0,!0)}function rl(e){var{keyInfo:t,data:i,changes:r,groupCount:n,useInsertIndex:a,immutable:s,disableCache:o,logError:l}=e,u=s===!0?[...i]:i;return r.forEach(d=>{var c=d.type==="insert"?u:zN(t,u,d.key,n);switch(!o&&WN(t,c),d.type){case"update":S0(t,c,d.key,d.data,!0,s,l);break;case"insert":E0(t,c,d.data,a&&oe(d.index)?d.index:-1,!0,l);break;case"remove":$A(t,c,d.key,!0,l)}}),u}function Hc(e,t,i){return e?t&&Mi.log(i):wA(Mi.Error(i))}function S0(e,t,i,r,n,a,s){var o,l=e.key();if(l){if($N(r,l)&&!pd(l,i,e.keyOf(r)))return Hc(n,s,"E4017");if(o=jN(t,i),!o){var u=Xs(e,t,i);if(u<0)return Hc(n,s,"E4009");if(o=t[u],a===!0&&oe(o)){var d=Va(o,r);return t[u]=d,!n&&il(d,i)}}}else o=i;if(Sn(o,r,!0),!n)return ii().useLegacyStoreResult?il(i,r):il(o,i)}function E0(e,t,i,r,n,a){var s,o=e.key(),l=Ct(i)?ce({},i):i;if(o){if(s=e.keyOf(l),s===void 0||typeof s=="object"&&Yr(s)){if(Array.isArray(o))throw Mi.Error("E4007");s=l[o]=String(new Bi)}else if(t[Xs(e,t,s)]!==void 0)return Hc(n,a,"E4008")}else s=l;if(r>=0?t.splice(r,0,l):t.push(l),VA(t,s,l),!n)return il(ii().useLegacyStoreResult?i:l,s)}function $A(e,t,i,r,n){var a=Xs(e,t,i);if(a>-1&&(t.splice(a,1),VA(t,i,null)),r){if(a<0)return Hc(r,n,"E4009")}else return il(i)}function Xs(e,t,i){var r=e.key();if(!UN(t,i))return-1;for(var n=0,a=t.length;n<a;n++)if(pd(r,e.keyOf(t[n]),i))return n;return-1}var vd=Ot.inherit({toArray:function(){var e=[];for(this.reset();this.next();)e.push(this.current());return e},countable:function(){return!1}}),T0=vd.inherit({ctor:function(e){this.array=e,this.index=-1},next:function(){return this.index+1<this.array.length?(this.index++,!0):!1},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),Ff=vd.inherit({ctor:function(e){this.iter=e},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),rm=Ff.inherit({ctor:function(e,t){this.callBase(e),this.index=-1,this.mapper=t},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){var e=this.callBase();return e&&this.index++,e}}),GN=function(e,t){return e=Pi(e),t=Pi(t),e===null&&t!==null?-1:e!==null&&t===null||e===void 0&&t!==void 0?1:e!==void 0&&t===void 0||e<t?-1:e>t?1:0},zv=vd.inherit({ctor:function(e,t,i,r){e instanceof rm||(e=new rm(e,this._wrap)),this.iter=e,this.rules=[{getter:t,desc:i,compare:r}]},thenBy:function(e,t,i){var r=new zv(this.sortedIter||this.iter,e,t,i);return this.sortedIter||(r.rules=this.rules.concat(r.rules)),r},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){var e=this;e.sortedIter||(ve(e.rules,function(){this.getter=Yt(this.getter)}),e.sortedIter=new rm(new T0(this.iter.toArray().sort(function(t,i){return e._compare(t,i)})),e._unwrap))},_wrap:function(e,t){return{index:t,value:e}},_unwrap:function(e){return e.value},_compare:function(e,t){var i=e.index,r=t.index;if(e=e.value,t=t.value,e===t)return i-r;for(var n=0,a=this.rules.length;n<a;n++){var s=this.rules[n],o=s.getter(e),l=s.getter(t),u=s.compare||GN,d=u(o,l);if(d)return s.desc?-d:d}return i-r}}),Wv=function(){var e=function(i){return oe(i)?i.toString():""};function t(i,r,n){return function(a){a=Pi(i(a));var s=function(o){return o===""||o===0||o===!1}(r)?a===r:a==r;return n&&(s=!s),s}}return function(i){return We(i)?i:sN(i)?function(r){var n=[],a=!1,s=!1;return ve(r,function(){if(Array.isArray(this)||We(this)){if(n.length>1&&a!==s)throw new Mi.Error("E4019");n.push(Wv(this)),a=s,s=!0}else s=rN(this)}),function(o){for(var l=a,u=0;u<n.length;u++)if(n[u](o)!==a){l=!a;break}return l}}(i):nN(i)?function(r){var n=r[0],a=Wv(r[1]);if(n==="!")return function(s){return!a(s)};throw Mi.Error("E4003",n)}(i):function(r){r=eN(r);var n=Yt(r[0]),a=r[1],s=r[2];s=Pi(s);var o=(l,u)=>(l=Pi(n(l)),(s==null||l==null)&&s!==l?!1:u(l,s));switch(a.toLowerCase()){case"=":return t(n,s);case"<>":return t(n,s,!0);case">":return l=>o(l,(u,d)=>u>d);case"<":return l=>o(l,(u,d)=>u<d);case">=":return l=>o(l,(u,d)=>u>=d);case"<=":return l=>o(l,(u,d)=>u<=d);case"startswith":return function(l){return Pi(e(n(l))).indexOf(s)===0};case"endswith":return function(l){var u=Pi(e(n(l))),d=e(s);if(u.length<d.length)return!1;var c=u.lastIndexOf(s);return c!==-1&&c===u.length-s.length};case"contains":return function(l){return Pi(e(n(l))).indexOf(s)>-1};case"notcontains":return function(l){return Pi(e(n(l))).indexOf(s)===-1}}throw Mi.Error("E4003",a)}(i)}}(),KN=Ff.inherit({ctor:function(e,t){this.callBase(e),this.criteria=Wv(t)},next:function(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),qN=vd.inherit({ctor:function(e,t){this.iter=e,this.getter=t},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){if(!this.groupedIter){var e={},t=[],i=this.iter,r=Yt(this.getter);for(i.reset();i.next();){var n=i.current(),a=r(n);a in e?e[a].push(n):(e[a]=[n],t.push(a))}this.groupedIter=new T0(Ti(t,function(s){return{key:s,items:e[s]}}))}}}),XN=Ff.inherit({ctor:function(e,t){this.callBase(e),this.getter=Yt(t)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),YN=Ff.inherit({ctor:function(e,t,i){this.callBase(e),this.skip=Math.max(0,t),this.take=Math.max(0,i),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}}),Nf=function e(t,i){i=i||{},t instanceof vd||(t=new T0(t));var r=function(u){var d=i.errorHandler;d&&d(u),w0(u)},n=function(u){var d=new we().fail(r),c,h=u.step,f=u.finalize;try{t.reset(),"seed"in u?c=u.seed:c=t.next()?t.current():NaN;for(var p=c;t.next();)p=h(p,t.current());d.resolve(f?f(p):p)}catch(g){d.reject(g)}return d.promise()},a=function(u){return n(C0[u])},s=function(u){return!We(u)&&!Array.isArray(u)&&(u=[].slice.call(arguments)),l(new XN(t,u))},o=function(u){return s(Yt(u))};function l(u){return e(u,i)}return{toArray:function(){return t.toArray()},enumerate:function(){var u=new we().fail(r);try{u.resolve(t.toArray())}catch(d){u.reject(d)}return u.promise()},sortBy:function(u,d,c){return l(new zv(t,u,d,c))},thenBy:function(u,d,c){if(t instanceof zv)return l(t.thenBy(u,d,c));throw Mi.Error("E4004")},filter:function(u){return Array.isArray(u)||(u=[].slice.call(arguments)),l(new KN(t,u))},slice:function(u,d){return d===void 0&&(d=Number.MAX_VALUE),l(new YN(t,u,d))},select:s,groupBy:function(u){return l(new qN(t,u))},aggregate:function(u,d,c){return arguments.length<2?n({step:arguments[0]}):n({seed:u,step:d,finalize:c})},count:function(){if(t.countable()){var u=new we().fail(r);try{u.resolve(t.count())}catch(d){u.reject(d)}return u.promise()}return a("count")},sum:function(u){return u?o(u).sum():a("sum")},min:function(u){return u?o(u).min():a("min")},max:function(u){return u?o(u).max():a("max")},avg:function(u){return u?o(u).avg():a("avg")}}};function I0(e,t){return e=e.groupBy(t[0].selector),t.length>1&&(e=e.select(function(i){return ce({},i,{items:I0(Nf(i.items),t.slice(1)).toArray()})})),e}function zA(e,t){var i=[];return ve(e,function(r,n){var a=gr(t,function(s){return n.selector===s.selector});a.length<1&&i.push(n)}),i.concat(t)}function ZN(e,t,i){t=t||{};var r=t.filter;if(r&&(e=e.filter(r)),i)return e;var n=t.sort,a=t.select,s=t.group,o=t.skip,l=t.take;return s&&(s=ca(s),s.keepInitialKeyOrder=!!t.group.keepInitialKeyOrder),(n||s)&&(n=ca(n||[]),s&&!s.keepInitialKeyOrder&&(n=zA(s,n)),ve(n,function(u){e=e[u?"thenBy":"sortBy"](this.selector,this.desc,this.compare)})),a&&(e=e.select(a)),s&&(e=I0(e,s)),(l||o)&&(e=e.slice(o||0,l)),e}const fa={multiLevelGroup:I0,arrangeSortingInfo:zA,queryByOptions:ZN};var Pl=Ot.abstract,LC=fa.queryByOptions,jv={},Dn=Ot.inherit({ctor:function(e){var t=this;e=e||{},this._eventsStrategy=new ao(this),ve(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],function(i,r){r in e&&t.on(r.slice(2).toLowerCase(),e[r])}),this._key=e.key,this._errorHandler=e.errorHandler,this._useDefaultSearch=!0},_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(e){return this._keyGetter||(this._keyGetter=Yt(this.key())),this._keyGetter(e)},_requireKey:function(){if(!this.key())throw Mi.Error("E4005")},load:function(e){var t=this;return e=e||{},this._eventsStrategy.fireEvent("loading",[e]),this._withLock(this._loadImpl(e)).done(function(i){t._eventsStrategy.fireEvent("loaded",[i,e])})},_loadImpl:function(e){return LC(this.createQuery(e),e).enumerate()},_withLock:function(e){var t=new we;return e.done(function(){var i=this,r=arguments;iN.promise().done(function(){t.resolveWith(i,r)})}).fail(function(){t.rejectWith(this,arguments)}),t},createQuery:Pl,totalCount:function(e){return this._totalCountImpl(e)},_totalCountImpl:function(e){return LC(this.createQuery(e),e,!0).count()},byKey:function(e,t){return this._addFailHandlers(this._withLock(this._byKeyImpl(e,t)))},_byKeyImpl:Pl,insert:function(e){var t=this;return t._eventsStrategy.fireEvent("modifying"),t._eventsStrategy.fireEvent("inserting",[e]),t._addFailHandlers(t._insertImpl(e).done(function(i,r){t._eventsStrategy.fireEvent("inserted",[i,r]),t._eventsStrategy.fireEvent("modified")}))},_insertImpl:Pl,update:function(e,t){var i=this;return i._eventsStrategy.fireEvent("modifying"),i._eventsStrategy.fireEvent("updating",[e,t]),i._addFailHandlers(i._updateImpl(e,t).done(function(){i._eventsStrategy.fireEvent("updated",[e,t]),i._eventsStrategy.fireEvent("modified")}))},_updateImpl:Pl,push:function(e){var t={changes:e,waitFor:[]};this._eventsStrategy.fireEvent("beforePush",[t]),Ke(...t.waitFor).done(()=>{this._pushImpl(e),this._eventsStrategy.fireEvent("push",[e])})},_pushImpl:Ee,remove:function(e){var t=this;return t._eventsStrategy.fireEvent("modifying"),t._eventsStrategy.fireEvent("removing",[e]),t._addFailHandlers(t._removeImpl(e).done(function(i){t._eventsStrategy.fireEvent("removed",[i]),t._eventsStrategy.fireEvent("modified")}))},_removeImpl:Pl,_addFailHandlers:function(e){return e.fail(this._errorHandler).fail(w0)},on(e,t){return this._eventsStrategy.on(e,t),this},off(e,t){return this._eventsStrategy.off(e,t),this}});Dn.create=function(e,t){if(!(e in jv))throw Mi.Error("E4020",e);return new jv[e](t)};Dn.registerClass=function(e,t){return t&&(jv[t]=e),e};Dn.inherit=function(e){return function(t,i){var r=e.apply(this,[t]);return Dn.registerClass(r,i),r}}(Dn.inherit);var WA="totalCount",Uv="load",jA="byKey",FC="insert",NC="update",VC="remove";function nl(e){return e&&We(e.then)}function Ns(e){return new we().resolve(e).promise()}function xu(e,t){if(!We(t))throw Mi.Error("E4011",e)}function UA(e){throw Mi.Error("E4012",e)}function xs(e){function t(i){var r=i[0],n=i[1];return!r||!r.getResponseHeader?null:tN(r,n)}return function(i){var r;i instanceof Error?r=i:r=new Error(t(arguments)||i&&String(i)||"Unknown error"),r.message!==xA&&e.reject(r)}}function GA(e,t){var i=e._loadFunc,r;return xu(Uv,i),r=i.apply(e,[t]),Array.isArray(r)?r=Ns(r):r==null?r=Ns([]):nl(r)||UA(Uv),Gi(r)}function JN(e,t){var i=e._totalCountFunc,r;if(!We(i))throw Mi.Error("E4021");return r=i.apply(e,[t]),nl(r)||(r=Number(r),isFinite(r)||UA(WA),r=Ns(r)),Gi(r)}function QN(e,t,i){var r=e._byKeyFunc,n;return xu(jA,r),n=r.apply(e,[t,i]),nl(n)||(n=Ns(n)),Gi(n)}function KA(e,t,i,r){if(t.__rawData)r(t.__rawData);else{var n=t.__rawDataPromise||GA(t,i);t._cacheRawData&&(t.__rawDataPromise=n),n.always(function(){delete t.__rawDataPromise}).done(function(a){t._cacheRawData&&(t.__rawData=a),r(a)}).fail(xs(e))}}function HC(e,t,i,r){i=i||{};var n={};"userData"in i&&(n.userData=i.userData),KA(e,t,n,function(a){var s=Nf(a,{errorHandler:t._errorHandler}),o,l,u=[],d,c;r||(o=fa.queryByOptions(s,i),o===s?d=a.slice(0):u.push(o.enumerate().done(function(h){d=h}))),(i.requireTotalCount||r)&&(l=fa.queryByOptions(s,i,!0),l===s?c=a.length:u.push(l.count().done(function(h){c=h}))),Ke.apply(J,u).done(function(){r?e.resolve(c):i.requireTotalCount?e.resolve(d,{totalCount:c}):e.resolve(d)}).fail(function(h){e.reject(h)})})}function eV(e,t,i){KA(e,t,{},function(r){for(var n=t.key(),a,s=0,o=r.length;s<o;s++)if(a=r[s],pd(n,t.keyOf(r[s]),i)){e.resolve(a);return}e.reject(Mi.Error("E4009"))})}var zu=Dn.inherit({ctor:function(e){e=e||{},this.callBase(e),this._useDefaultSearch=!!e.useDefaultSearch||e.loadMode==="raw",this._loadMode=e.loadMode,this._cacheRawData=e.cacheRawData!==!1,this._loadFunc=e[Uv],this._totalCountFunc=e[WA],this._byKeyFunc=e[jA],this._insertFunc=e[FC],this._updateFunc=e[NC],this._removeFunc=e[VC]},createQuery:function(){throw Mi.Error("E4010")},clearRawDataCache:function(){delete this.__rawData},_totalCountImpl:function(e){var t=new we;return this._loadMode==="raw"&&!this._totalCountFunc?HC(t,this,e,!0):(JN(this,e).done(function(i){t.resolve(Number(i))}).fail(xs(t)),t=this._addFailHandlers(t)),t.promise()},_pushImpl:function(e){this.__rawData&&rl({keyInfo:this,data:this.__rawData,changes:e})},_loadImpl:function(e){var t=new we;return this._loadMode==="raw"?HC(t,this,e,!1):(GA(this,e).done(function(i,r){t.resolve(i,r)}).fail(xs(t)),t=this._addFailHandlers(t)),t.promise()},_byKeyImpl:function(e,t){var i=new we;return this._byKeyViaLoad()?(this._requireKey(),eV(i,this,e)):QN(this,e,t).done(function(r){i.resolve(r)}).fail(xs(i)),i.promise()},_byKeyViaLoad:function(){return this._loadMode==="raw"&&!this._byKeyFunc},_insertImpl:function(e){var t=this,i=t._insertFunc,r,n=new we;return xu(FC,i),r=i.apply(t,[e]),nl(r)||(r=Ns(r)),Gi(r).done(function(a){ii().useLegacyStoreResult?n.resolve(e,a):n.resolve(a||e,t.keyOf(a))}).fail(xs(n)),n.promise()},_updateImpl:function(e,t){var i=this._updateFunc,r,n=new we;return xu(NC,i),r=i.apply(this,[e,t]),nl(r)||(r=Ns(r)),Gi(r).done(function(a){ii().useLegacyStoreResult?n.resolve(e,t):n.resolve(a||t,e)}).fail(xs(n)),n.promise()},_removeImpl:function(e){var t=this._removeFunc,i,r=new we;return xu(VC,t),i=t.apply(this,[e]),nl(i)||(i=Ns()),Gi(i).done(function(){r.resolve(e)}).fail(xs(r)),r.promise()}});function tV(e){var t=[],i=!1;function r(){for(;t.length;){i=!0;var n=t.shift(),a=n();if(a!==void 0){if(a.then){Ke(a).always(r);return}throw qt.Error("E0015")}}i=!1}return{add:function(n,a){e?(t[0]&&a&&a(t[0]),t=[n]):t.push(n),i||r()},busy:function(){return i}}}function ui(e,t){if(e==null)return{};var i={},r=Object.keys(e),n,a;for(a=0;a<r.length;a++)n=r[a],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var iV=ft(),rV={getXhr:function(){return new iV.XMLHttpRequest}};const nV=Jr(rV);var A0=ft(),wu="success",nm="error",aV="timeout",sV="nocontent",oV="parsererror",lV=function(e){return 200<=e&&e<300},uV=function(e){return e!==204},dV=function(e){var t=[];for(var i in e){var r=e[i];r!==void 0&&(r===null&&(r=""),typeof r=="function"&&(r=r()),t.push(encodeURIComponent(i)+"="+encodeURIComponent(r)))}return t.join("&")},qA=function(e){var t=Re.createElement("script");for(var i in e)t[i]=e[i];return t},XA=function(e){e.parentNode.removeChild(e)},YA=function(e){return Re.getHead().appendChild(e)},$C=function(e){var t=qA({text:e});YA(t),XA(t)},hV=function(e){var t=qA({src:e});return new Promise(function(i,r){var n={load:i,error:r},a=function(o){n[o.type](),XA(t)};for(var s in n)Re.listen(t,s,a);YA(t)})},cV=function(e){var t=e.dataType||"*",i="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",r={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:i,script:i};return fP(r,e.accepts,!0),r[t]?r[t]+(t!=="*"?", */*; q=0.01":""):r["*"]},fV=function(e){var t;return e.data&&!e.upload&&O0(e)!=="GET"&&(t="application/x-www-form-urlencoded;charset=utf-8"),e.contentType||t},pV=function(e){return e.responseType&&e.responseType!=="text"||typeof e.responseText!="string"?e.response:e.responseText},mV=function(e,t,i){var r=pV(t);switch(i){case"jsonp":$C(r);break;case"script":$C(r),e.resolve(r,wu,t);break;case"json":try{e.resolve(JSON.parse(r),wu,t)}catch(n){e.reject(t,oV,n)}break;default:e.resolve(r,wu,t)}},gV=function(e){if(!ht())return!0;var t=!1,i=Re.createElement("a"),r=Re.createElement("a");i.href=A0.location.href;try{r.href=e,r.href=r.href,t=i.protocol+"//"+i.host!=r.protocol+"//"+r.host}catch{t=!0}return t},vV=function(e,t){return e&&setTimeout(function(){t.customStatus=aV,t.abort()},e)},_V=function(e){if(e.dataType==="jsonp"){var t=Math.random().toString().replace(/\D/g,""),i=e.jsonpCallback||"dxCallback"+Date.now()+"_"+t,r=e.jsonp||"callback";return e.data=e.data||{},e.data[r]=i,i}},bV=function(e,t){var i=e.data,r=typeof i=="string",n=e.url||A0.location.href;return!r&&!e.cache&&(i=i||{},i._=Date.now()),i&&!e.upload&&(r||(i=dV(i)),O0(e)==="GET"?(i!==""&&(n+=(n.indexOf("?")>-1?"&":"?")+i),i=null):t["Content-Type"]&&t["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(i=i.replace(/%20/g,"+"))),{url:n,parameters:i}};function O0(e){return(e.method||"GET").toUpperCase()}var yV=function(e){var t=e.headers||{};return t["Content-Type"]=t["Content-Type"]||fV(e),t.Accept=t.Accept||cV(e),!e.crossDomain&&!t["X-Requested-With"]&&(t["X-Requested-With"]="XMLHttpRequest"),t},CV=function(e){var t=nV.getXhr(),i=new we,r=i.promise(),n=oe(e.async)?e.async:!0,a=e.dataType,s=e.timeout||0,o;e.crossDomain=gV(e.url);var l=a==="jsonp"||a==="script";e.cache===void 0&&(e.cache=!l);var u=_V(e),d=yV(e),c=bV(e,d),h=c.url,f=c.parameters;if(u&&(A0[u]=function(m){i.resolve(m,wu,t)}),e.crossDomain&&l)return hV(h).then(function(){a!=="jsonp"&&i.resolve(null,wu,t)},function(){i.reject(t,nm)}),r;if(e.crossDomain&&!("withCredentials"in t))return i.reject(t,nm),r;if(t.open(O0(e),h,n,e.username,e.password),n&&(t.timeout=s,o=vV(s,t)),t.onreadystatechange=function(m){t.readyState===4&&(clearTimeout(o),lV(t.status)?uV(t.status)?mV(i,t,a):i.resolve(null,sV,t):i.reject(t,t.customStatus||nm))},e.upload&&(t.upload.onprogress=e.upload.onprogress,t.upload.onloadstart=e.upload.onloadstart,t.upload.onabort=e.upload.onabort),e.xhrFields)for(var p in e.xhrFields)t[p]=e.xhrFields[p];e.responseType==="arraybuffer"&&(t.responseType=e.responseType);for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&oe(d[g])&&t.setRequestHeader(g,d[g]);return e.beforeSend&&e.beforeSend(t),t.send(f),r.abort=function(){t.abort()},r};const xV=Jr({sendRequest:CV}),wV={};var SV=function e(t,i,r){r=r||[],i=i||{};var n=function(o,l){return{name:o,args:l}},a=function(o){var l=new we,u,d,c,h,f,p=function(v){var b=i.errorHandler;b&&b(v),w0(v),l.reject(v)};function g(v){switch(v.name){case"sortBy":return f=[v.args],!0;case"thenBy":if(!f)throw Mi.Error("E4004");return f.push(v.args),!0}return!1}try{u=i.adapter,We(u)||(u=wV[u]),d=u(i),c=[].concat(r).concat(o);var m=d.optimize;for(m&&m(c);c.length;){if(h=c[0],!g(h)){if(f){c.unshift(n("multiSort",[f])),f=null;continue}if(String(h.name)!=="enumerate"&&(!d[h.name]||d[h.name].apply(d,h.args)===!1))break}c.shift()}(function(){var v=c[0],b=[];v&&v.name==="multiSort"&&(c.shift(),ve(v.args[0],function(){b.push(n(b.length?"thenBy":"sortBy",this))})),c=b.concat(c)})(),d.exec(t).done(function(v,b){if(!c.length)l.resolve(v,b);else{var E=Nf(v,{errorHandler:i.errorHandler});ve(c,function(){E=E[this.name].apply(E,this.args)}),E.done(l.resolve).fail(l.reject)}}).fail(p)}catch(v){p(v)}return l.promise()},s={};return ve(["sortBy","thenBy","filter","slice","select","groupBy"],function(){var o=String(this);s[o]=function(){return e(t,i,r.concat(n(o,arguments)))}}),ve(["count","min","max","sum","avg","aggregate","enumerate"],function(){var o=String(this);s[o]=function(){return a.call(this,n(o,arguments))}}),s},EV={array:Nf,remote:SV},vr=function(){var e=Array.isArray(arguments[0])?"array":"remote";return EV[e].apply(this,arguments)},El=Dn.inherit({ctor:function(e){Array.isArray(e)?e={data:e}:e=e||{},this.callBase(e);var t=e.data;if(t&&!Array.isArray(t))throw Mi.Error("E4006");this._array=t||[]},createQuery:function(){return vr(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(e){var t=Xs(this,this._array,e);return t===-1?wA(Mi.Error("E4009")):il(this._array[t])},_insertImpl:function(e){return E0(this,this._array,e)},_pushImpl:function(e){rl({keyInfo:this,data:this._array,changes:e})},_updateImpl:function(e,t){return S0(this,this._array,e,t)},_removeImpl:function(e){return $A(this,this._array,e)},clear:function(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array"),TV=["items"],ZA="canceled",zC=e=>e.state()==="pending",WC=e=>{switch(e.length){case 0:return;case 1:return e[0]}return[].slice.call(e)},IV=(e,t,i)=>Ti(e,r=>{var n=ui(r,TV);return Ne({},n,{items:JA(r.items,t-1,i)})}),JA=(e,t,i)=>Array.isArray(e)?t?IV(e,t,i):Ti(e,i):e,AV=(e,t,i)=>{var r=i?ca(i).length:0;return JA(e,r,t)},QA=(e,t)=>{var i;return(i=e)!==null&&i!==void 0&&i.data&&(t=e,e=e.data),Array.isArray(e)||(e=[e]),{data:e,extra:t}},OV=e=>{var t={};return ve(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],function(){t[this]=e[this],delete e[this]}),new zu(t)},DV=e=>{var t=e.type;return delete e.type,Dn.create(t,e)},kV=(e,t)=>new zu({load:()=>xV.sendRequest({url:e,dataType:"json"}),loadMode:t==null?void 0:t.fromUrlLoadMode}),Tl=(e,t)=>{var i;return typeof e=="string"&&(e={paginate:!1,store:kV(e,t)}),e===void 0&&(e=[]),Array.isArray(e)||e instanceof Dn?e={store:e}:e=ce({},e),e.store===void 0&&(e.store=[]),i=e.store,"load"in e?i=OV(e):Array.isArray(i)?i=new El(i):Ct(i)&&(i=DV(ce({},i))),e.store=i,e};class RV{constructor(){this._counter=-1,this._deferreds={}}add(t){return this._counter++,this._deferreds[this._counter]=t,this._counter}remove(t){return delete this._deferreds[t]}cancel(t){return t in this._deferreds?(this._deferreds[t].reject(ZA),!0):!1}cancelAll(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}}var Bn=Ot.inherit({ctor(e){var t;e=Tl(e),this._eventsStrategy=new ao(this,{syncStrategy:!0}),this._store=e.store,this._changedTime=0;var i=e.pushAggregationTimeout!==0;if(i){var r=e.pushAggregationTimeout===void 0?()=>5*this._changedTime:e.pushAggregationTimeout,n,a,s=lN(o=>{n.resolve();var l=Ke(...a);l.done(()=>this._onPush(o)),a=void 0,n=void 0},r);this._onPushHandler=o=>{this._aggregationTimeoutId=s(o.changes),n||(n=new we),a=o.waitFor,o.waitFor.push(n.promise())},this._store.on("beforePush",this._onPushHandler)}else this._onPushHandler=o=>this._onPush(o),this._store.on("push",this._onPushHandler);this._storeLoadOptions=this._extractLoadOptions(e),this._mapFunc=e.map,this._postProcessFunc=e.postProcess,this._pageIndex=e.pageIndex!==void 0?e.pageIndex:0,this._pageSize=e.pageSize!==void 0?e.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in e?e.searchValue:null,this._searchOperation=e.searchOperation||"contains",this._searchExpr=e.searchExpr,this._paginate=e.paginate,this._reshapeOnPush=(t=e.reshapeOnPush)!==null&&t!==void 0?t:!1,ve(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],(o,l)=>{l in e&&this.on(l.substr(2,1).toLowerCase()+l.substr(3),e[l])}),this._operationManager=new RV,this._init()},_init(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,oe(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose(){var e;this._store.off("beforePush",this._onPushHandler),this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),(e=this._delayedLoadTask)===null||e===void 0||e.abort(),this._operationManager.cancelAll(),delete this._store,delete this._items,delete this._delayedLoadTask,this._disposed=!0},_extractLoadOptions(e){var t={},i=["sort","filter","select","group","requireTotalCount"],r=this._store._customLoadOptions();return r&&(i=i.concat(r)),ve(i,function(){t[this]=e[this]}),t},loadOptions(){return this._storeLoadOptions},items(){return this._items},pageIndex(e){if(!ei(e))return this._pageIndex;this._pageIndex=e,this._isLastPage=!this._paginate},paginate(e){if(!ll(e))return this._paginate;this._paginate!==e&&(this._paginate=e,this.pageIndex(0))},pageSize(e){if(!ei(e))return this._pageSize;this._pageSize=e},isLastPage(){return this._isLastPage},generateStoreLoadOptionAccessor(e){return t=>{var i=WC(t);if(i===void 0)return this._storeLoadOptions[e];this._storeLoadOptions[e]=i}},sort(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.generateStoreLoadOptionAccessor("sort")(t)},filter(){var e=WC(arguments);if(e===void 0)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=e,this.pageIndex(0)},group(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.generateStoreLoadOptionAccessor("group")(t)},select(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.generateStoreLoadOptionAccessor("select")(t)},requireTotalCount(e){if(!ll(e))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=e},searchValue(e){if(arguments.length<1)return this._searchValue;this._searchValue=e,this.pageIndex(0)},searchOperation(e){if(!nt(e))return this._searchOperation;this._searchOperation=e,this.pageIndex(0)},searchExpr(e){var t=arguments.length;if(t===0)return this._searchExpr;t>1&&(e=[].slice.call(arguments)),this._searchExpr=e,this.pageIndex(0)},store(){return this._store},key(){var e;return(e=this._store)===null||e===void 0?void 0:e.key()},totalCount(){return this._totalCount},isLoaded(){return this._isLoaded},isLoading(){return this._loadingCount>0},beginLoading(){this._changeLoadingCount(1)},endLoading(){this._changeLoadingCount(-1)},_createLoadQueue:()=>tV(),_changeLoadingCount(e){var t=this.isLoading();this._loadingCount+=e;var i=this.isLoading();t^i&&this._eventsStrategy.fireEvent("loadingChanged",[i])},_scheduleLoadCallbacks(e){this.beginLoading(),e.always(()=>{this.endLoading()})},_scheduleFailCallbacks(e){var t=this;e.fail(function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];r[0]!==ZA&&t._eventsStrategy.fireEvent("loadError",r)})},_fireChanged(e){var t=new Date;this._eventsStrategy.fireEvent("changed",e),this._changedTime=new Date-t},_scheduleChangedCallbacks(e){e.done(()=>this._fireChanged())},loadSingle(e,t){var i=new we,r=this.key(),n=this._store,a=this._createStoreLoadOptions();return this._scheduleFailCallbacks(i),arguments.length<2&&(t=e,e=r),delete a.skip,delete a.group,delete a.refresh,delete a.pageIndex,delete a.searchString,(()=>e===r||n instanceof zu&&!n._byKeyViaLoad()?n.byKey(t,a):(a.take=1,a.filter=a.filter?[a.filter,[e,t]]:[e,t],n.load(a)))().fail(i.reject).done(s=>{var o=Array.isArray(s)&&!s.length;!oe(s)||o?i.reject(new Mi.Error("E4009")):(Array.isArray(s)||(s=[s]),i.resolve(this._applyMapFunction(s)[0]))}),i.promise()},load(){var e=new we,t=()=>{if(!this._disposed&&zC(e))return this._loadFromStore(i,e)};this._scheduleLoadCallbacks(e),this._scheduleFailCallbacks(e),this._scheduleChangedCallbacks(e);var i=this._createLoadOperation(e);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[i]),this._loadQueue.add(()=>(typeof i.delay=="number"?this._delayedLoadTask=N_(t,i.delay):t(),e.promise())),e.promise({operationId:i.operationId})},_onPush(e){if(this._reshapeOnPush)this.load();else{var t={changes:e};this._eventsStrategy.fireEvent("changing",[t]);var i=this.group(),r=this.items(),n=0,a=this.paginate()||i?e.filter(s=>s.type==="update"):e;i&&(n=Array.isArray(i)?i.length:1),this._mapFunc&&a.forEach(s=>{s.type==="insert"&&(s.data=this._mapFunc(s.data))}),t.postProcessChanges&&(a=t.postProcessChanges(a)),rl({keyInfo:this.store(),data:r,changes:a,groupCount:n,useInsertIndex:!0}),this._fireChanged([{changes:e}])}},_createLoadOperation(e){var t=this._operationManager.add(e),i=this._createStoreLoadOptions();return e.always(()=>this._operationManager.remove(t)),{operationId:t,storeLoadOptions:i}},reload(){var e=this.store();return e instanceof zu&&e.clearRawDataCache(),this._init(),this.load()},cancel(e){return this._operationManager.cancel(e)},cancelAll(){return this._operationManager.cancelAll()},_addSearchOptions(e){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(e):(e.searchOperation=this._searchOperation,e.searchValue=this._searchValue,e.searchExpr=this._searchExpr))},_createStoreLoadOptions(){var e=ce({},this._storeLoadOptions);return this._addSearchOptions(e),this._paginate&&this._pageSize&&(e.skip=this._pageIndex*this._pageSize,e.take=this._pageSize),e.userData=this._userData,e},_addSearchFilter(e){var t=this._searchValue,i=this._searchOperation,r=this._searchExpr,n=[];t&&(r||(r="this"),Array.isArray(r)||(r=[r]),ve(r,function(a,s){n.length&&n.push("or"),n.push([s,i,t])}),e.filter?e.filter=[n,e.filter]:e.filter=n)},_loadFromStore(e,t){var i=(r,n)=>{if(!this._disposed&&zC(t)){var a=ce(QA(r,n),e);this._eventsStrategy.fireEvent("customizeLoadResult",[a]),Ke(a.data).done(s=>{a.data=s,this._processStoreLoadResult(a,t)}).fail(t.reject)}};return e.data?new we().resolve(e.data).done(i):this.store().load(e.storeLoadOptions).done(i).fail(t.reject)},_processStoreLoadResult(e,t){var i=e.data,r=e.extra,n=e.storeLoadOptions,a=()=>(this._isLoaded=!0,this._totalCount=isFinite(r.totalCount)?r.totalCount:-1,t.resolve(i,r));this._disposed||(i=this._applyPostProcessFunction(this._applyMapFunction(i)),at(r)||(r={}),this._items=i,(!i.length||!this._paginate||this._pageSize&&i.length<this._pageSize)&&(this._isLastPage=!0),n.requireTotalCount&&!isFinite(r.totalCount)?this.store().totalCount(n).done(function(s){r.totalCount=s,a()}).fail(t.reject):a())},_applyMapFunction(e){return this._mapFunc?AV(e,this._mapFunc,this.group()):e},_applyPostProcessFunction(e){return this._postProcessFunc?this._postProcessFunc(e):e},on(e,t){return this._eventsStrategy.on(e,t),this},off(e,t){return this._eventsStrategy.off(e,t),this}}),MV="dx-selection-disabled",BV="dx-datagrid-group-opened",PV="dx-datagrid-group-closed",LV="dx-datagrid-expand",FV="nodata",NV="infinite",jC="virtual",VV="scrolling.legacyMode",UC="scrolling.mode",HV="scrolling.rowRenderingMode",$V={year:function(e){return e&&e.getFullYear()},month:function(e){return e&&e.getMonth()+1},day:function(e){return e&&e.getDate()},quarter:function(e){return e&&Math.floor(e.getMonth()/3)+1},hour:function(e){return e&&e.getHours()},minute:function(e){return e&&e.getMinutes()},second:function(e){return e&&e.getSeconds()}},zV=function(){var e=arguments[1],t=this.calculateCellValue(e);if(oe(t)){if(e2(this.dataType)){var i=arguments[0];return $V[i](t)}else if(this.dataType==="number"){var r=arguments[0];return Math.floor(Number(t)/r)*r}}else return null},WV=function(e,t){return We(e)&&We(t)&&e.originalCallback&&t.originalCallback?e.originalCallback===t.originalCallback&&e.columnIndex===t.columnIndex:e===t};function e2(e){return e==="date"||e==="datetime"}var GC=function(e){e.get(0).textContent=" "},am=function(e){e=e||[];for(var t=ca(e),i=0;i<e.length;i++)e&&e[i]&&e[i].isExpanded!==void 0&&(t[i].isExpanded=e[i].isExpanded),e&&e[i]&&e[i].groupInterval!==void 0&&(t[i].groupInterval=e[i].groupInterval);return t},t2=function(e,t){var i=FA.format(e,t.format)||e&&e.toString()||"",r={value:e,valueText:t.getDisplayFormat?t.getDisplayFormat(i):i,target:t.target||"row",groupInterval:t.groupInterval};return t.customizeText?t.customizeText.call(t,r):r.valueText},KC=function(e,t){var i=e.displayFormat||e.columnCaption&&t[e.summaryType+"OtherColumn"]||t[e.summaryType];return t2(e.value,{format:e.valueFormat,getDisplayFormat:function(r){return i?fn(i,r,e.columnCaption):r},customizeText:e.customizeText})},qC=function(e){var t=e.data&&e.data(),i=t&&t.dxComponents,r=i&&i[0];return r&&t[r]},jV=function e(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],i[r]))return!1;return!0}else return We(t)&&t.columnIndex>=0&&We(i)&&i.columnIndex>=0?t.columnIndex===i.columnIndex&&Pi(t.filterValue)===Pi(i.filterValue):Pi(t)==Pi(i)};function UV(e){return Array.isArray(e)||(e=[e]),e.map((t,i)=>nt(t)?{selector:t,isExpanded:i<e.length-1}:t)}const Fe={renderNoDataText:function(e){if(e=e||this.element(),!!e){var t=this.addWidgetPrefix(FV),i=e.find("."+t).last(),r=this._dataController.isEmpty(),n=this._dataController.isLoading();i.length||(i=J("<span>").addClass(t).appendTo(e)),r&&!n?i.removeClass("dx-hidden").text(this._getNoDataText()):i.addClass("dx-hidden")}},renderLoadPanel:function(e,t,i){var r;this._loadPanel&&this._loadPanel.$element().remove(),r=this.option("loadPanel"),r&&(r.enabled==="auto"?!i:r.enabled)?(r=ce({shading:!1,message:r.text,container:t},r),this._loadPanel=this._createComponent(J("<div>").appendTo(t),Pf,r)):this._loadPanel=null},calculateLoadPanelPosition(e){var t=J(ft());return ct(e)>ct(t)?{of:t,boundary:e,collision:"fit"}:{of:e}},getIndexByKey:function(e,t,i){var r=-1;if(e!==void 0&&Array.isArray(t)){i=arguments.length<=2?"key":i;for(var n=0;n<t.length;n++){var a=oe(i)?t[n][i]:t[n];if(li(e,a)){r=n;break}}}return r},combineFilters:function(e,t){var i=[];t=t||"and";for(var r=0;r<e.length;r++){var n;if(e[r]){if(((n=e[r])===null||n===void 0?void 0:n.length)===1&&e[r][0]==="!"){if(t==="and")return["!"];if(t==="or")continue}i.length&&i.push(t),i.push(e[r])}}if(i.length===1&&(i=i[0]),i.length)return i},checkChanges:function(e,t){for(var i=0,r=0;r<t.length;r++)e[t[r]]&&i++;return e.length&&e.length===i},equalFilterParameters:jV,proxyMethod:function(e,t,i){e[t]||(e[t]=function(){var r=this._dataSource;return r?r[t].apply(r,arguments):i})},formatValue:t2,getFormatOptionsByColumn:function(e,t){return{format:e.format,getDisplayFormat:e.getDisplayFormat,customizeText:e.customizeText,target:t,trueText:e.trueText,falseText:e.falseText}},getDisplayValue:function(e,t,i,r){return e.displayValueMap&&e.displayValueMap[t]!==void 0?e.displayValueMap[t]:e.calculateDisplayValue&&i&&r!=="group"?e.calculateDisplayValue(i):e.lookup&&!(r==="group"&&(e.calculateGroupValue||e.calculateDisplayValue))?e.lookup.calculateCellValue(t):t},getGroupRowSummaryText:function(e,t){for(var i="(",r=0;r<e.length;r++){var n=e[r];i+=(r>0?", ":"")+KC(n,t)}return i+")"},getSummaryText:KC,normalizeSortingInfo:am,getFormatByDataType:function(e){switch(e){case"date":return"shortDate";case"datetime":return"shortDateShortTime"}},getHeaderFilterGroupParameters:function(e,t){var i=[],r=e.dataField||e.name,n=pl.getGroupInterval(e);return n?(ve(n,function(a,s){i.push(t?{selector:r,groupInterval:s,isExpanded:a<n.length-1}:zV.bind(e,s))}),i):(t?i=[{selector:r,isExpanded:!1}]:(i=function(a){var s=e.calculateCellValue(a);return(s===void 0||s==="")&&(s=null),s},e.sortingMethod&&(i=[{selector:i,compare:e.sortingMethod.bind(e)}])),i)},equalSortParameters(e,t,i){if(e=am(e),t=am(t),Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!WV(e[r].selector,t[r].selector)||e[r].desc!==t[r].desc||e[r].groupInterval!==t[r].groupInterval||!i&&!!e[r].isExpanded!=!!t[r].isExpanded)return!1;return!0}else return(!e||!e.length)==(!t||!t.length)},getPointsByColumns:function(e,t,i,r){for(var n=e.length,a=!1,s,o,l=r||0,u=[],d,c=0;c<=n;c++){c<n&&(s=e.eq(c),o=s.offset(),d=s.css("direction")==="rtl");var h={index:l,x:o?o.left+(!i&&d^c===n?vi(s[0]).width:0):0,y:o?o.top+(i&&c===n?vi(s[0]).height:0):0,columnIndex:l};if(!i&&c>0){var f=e.eq(c-1).offset();f.top<h.y&&(h.y=f.top)}t&&(a=t(h)),a||u.push(h),l++}return u},getExpandCellTemplate:function(){return{allowRenderToDetachedContainer:!0,render:function(e,t){var i=J(e);if(oe(t.value)&&!(t.data&&t.data.isContinuation)&&!t.row.isNewRow){var r=t.component.getView("rowsView");i.addClass(LV).addClass(MV),J("<div>").addClass(t.value?BV:PV).appendTo(i),r.setAria("label",t.value?r.localize("dxDataGrid-ariaCollapse"):r.localize("dxDataGrid-ariaExpand"),i)}else GC(i)}}},setEmptyText:GC,isDateType:e2,getSelectionRange:function(e){try{if(e)return{selectionStart:e.selectionStart,selectionEnd:e.selectionEnd}}catch{}return{}},setSelectionRange:function(e,t){try{e&&e.setSelectionRange&&e.setSelectionRange(t.selectionStart,t.selectionEnd)}catch{}},focusAndSelectElement:function(e,t){var i=t.is(":focus");he.trigger(t,"focus");var r=e.option("editing.selectTextOnEditStart"),n=t.get(0);if(!i&&r&&t.is(".dx-texteditor-input")&&!t.is("[readonly]")){var a=qC(t.closest(".dx-texteditor"));Ke(a&&a._loadItemDeferred).done(function(){n.select()})}},getWidgetInstance:qC,getLastResizableColumnIndex:function(e,t){var i=e.some(o=>o&&!o.command&&!o.fixed&&o.allowResizing!==!1),r;for(r=e.length-1;e[r];r--){var n=e[r],a=t&&t[r],s=!i||n.allowResizing!==!1;if(!n.command&&!n.fixed&&a!=="adaptiveHidden"&&s)break}return r},isElementInCurrentGrid:function(e,t){if(t&&t.length){var i=t.closest("."+e.getWidgetContainerClass()).parent();return i.is(e.component.$element())}return!1},isVirtualRowRendering:function(e){var t=e.option(HV),i=e.option(UC)===jC,r=e.option(UC)===NV;return e.option(VV)===!1&&(i||r)?!0:t===jC},getPixelRatio:function(e){return e.devicePixelRatio||1},getContentHeightLimit(e){return e.mozilla?8e6:15e6/this.getPixelRatio(ft())},normalizeLookupDataSource(e){var t;return e.items?t=e.items:(t=e.dataSource,We(t)&&!cr.isWrapped(t)&&(t=t({}))),Tl(t)},getWrappedLookupDataSource(e,t,i){var r=this.normalizeLookupDataSource(e.lookup);if(e.calculateCellValue!==e.defaultCalculateCellValue)return r;var n=t.remoteOperations().groupPaging,a=e.displayField&&nt(e.displayField),s,o=Ne({},r,{load:l=>{var u=new we;return(d=>{var c=UV(a?[e.dataField,e.displayField]:e.dataField),h=new we;return!n&&s?h.resolve(s):t.load({filter:i,group:c,take:n?d.take:void 0,skip:n?d.skip:void 0}).done(f=>{s=f,h.resolve(f)}).fail(h.fail),h})(l).done(d=>{d.length===0&&u.resolve([]);var c;if(a){var h=d.map(p=>{var g;return{[e.lookup.valueExpr]:p.key,[e.lookup.displayExpr]:(g=e.displayValueMap[p.key])!==null&&g!==void 0?g:p.items[0].key}});c=new Bn(Ne({},r,l,{store:new El({data:h,key:e.lookup.valueExpr})}))}else{var f=this.combineFilters(d.flatMap(p=>p.key).map(p=>[e.lookup.valueExpr,p]),"or");c=new Bn(Ne({},r,l,{filter:this.combineFilters([f,l.filter],"and")}))}n||c.on("customizeStoreLoadOptions",p=>{p.storeLoadOptions.take=l.take,p.storeLoadOptions.skip=l.skip}),c.load().done(u.resolve).fail(u.fail)}).fail(u.fail),u},key:e.lookup.valueExpr,byKey(l){var u=we();return this.load({filter:[e.lookup.valueExpr,"=",l]}).done(d=>{u.resolve(d[0])}),u.promise()}});return o}};var GV="dx-export-loadpanel";class KV{constructor(t,i,r,n){this._$targetElement=i,this._$container=r,this._loadPanel=t._createComponent(J("<div>").addClass(GV).appendTo(this._$container),Pf,this.getOptions(n))}getDefaultOptions(){return{animation:null,shading:!1,height:90,width:200,container:this._$container}}getOptions(t){return oe(t.text)?t.message=t.text:t.message=Ae.format("dxDataGrid-exporting"),ce(this.getDefaultOptions(),t)}show(){this._loadPanel.option("position",Fe.calculateLoadPanelPosition(this._$targetElement)),this._loadPanel.show()}dispose(){J(this._loadPanel.element()).remove(),delete this._loadPanel}}var qV=7,XV=255,i2={getFullOptions(e){var t=ce({},e);if(!(oe(t.worksheet)&&at(t.worksheet)))throw Error('The "worksheet" field must contain an object.');if(!oe(t.topLeftCell))t.topLeftCell={row:1,column:1};else if(nt(t.topLeftCell)){var{row:i,col:r}=t.worksheet.getCell(t.topLeftCell);t.topLeftCell={row:i,column:r}}return oe(t.keepColumnWidths)||(t.keepColumnWidths=!0),oe(t.loadPanel)||(t.loadPanel={}),oe(t.loadPanel.enabled)||(t.loadPanel.enabled=!0),t},convertDateForExcelJS:e=>new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())),setNumberFormat(e,t){e.numFmt=t},getCellStyles(e){var t=e.getStyles();return t.forEach(i=>{var r=this.tryConvertToExcelNumberFormat(i.format,i.dataType);oe(r)&&(r=r.replace(/&quot;/g,'"')),i.numberFormat=r}),t},tryConvertToExcelNumberFormat(e,t){var i=Ay.formatObjectConverter(e,t),r=i.currency;return e=i.format,t=i.dataType,Ay.convertFormat(e,i.precision,t,r)},setAlignment(e,t,i){e.alignment=e.alignment||{},oe(t)&&(e.alignment.wrapText=t),oe(i)&&(e.alignment.horizontal=i),e.alignment.vertical="top"},setColumnsWidth(e,t,i){if(oe(t))for(var r=0;r<t.length;r++){var n=t[r];typeof n=="number"&&isFinite(n)&&(e.getColumn(i+r).width=Math.min(XV,Math.floor(n/qV*100)/100))}},export(e,t){var i,{customizeCell:r,component:n,worksheet:a,topLeftCell:s,autoFilterEnabled:o,keepColumnWidths:l,selectedRowsOnly:u,loadPanel:d,mergeRowFieldValues:c,mergeColumnFieldValues:h}=e,f=((i=n._getInternalInstance)===null||i===void 0?void 0:i.call(n))||n,p=f.option("loadPanel")&&f.option("loadPanel").enabled;p&&n.option("loadPanel.enabled",!1);var g;if(d.enabled&&ht()){var m=t._getLoadPanelTargetElement(n),v=t._getLoadPanelContainer(n);g=new KV(n,m,v,d),g.show()}var b=!!n.option("wordWrapEnabled");a.properties.outlineProperties={summaryBelow:!1,summaryRight:!1};var E={from:{row:s.row,column:s.column},to:{row:s.row,column:s.column}},I=n.getDataProvider(u);return new Promise(R=>{I.ready().done(()=>{var N=I.getColumns(),j=I.getRowsCount();l&&this.setColumnsWidth(a,I.getColumnsWidths(),E.from.column);for(var V=new s5(I,t,c,h),H=this.getCellStyles(I),W=0;W<j;W++){var G=a.getRow(E.from.row+W);t._trySetOutlineLevel(I,G,W),this.exportRow(I,t,V,W,N.length,G,E.from.column,r,b,H),W>=1&&E.to.row++}V.applyMergedRages(a),E.to.column+=N.length>0?N.length-1:0;var P=a.views[0]||{};n.option("rtlEnabled")&&(P.rightToLeft=!0),t._isFrozenZone(I)&&(Object.keys(P).indexOf("state")===-1&&ce(P,t._getWorksheetFrozenState(I,E)),t._trySetAutoFilter(I,a,E,o)),Object.keys(P).length>0&&(a.views=[P]),R(E)}).always(()=>{p&&n.option("loadPanel.enabled",p),d.enabled&&ht()&&g.dispose()})})},exportRow(e,t,i,r,n,a,s,o,l,u){for(var d=0;d<n;d++){var c=e.getCellData(r,d,!0),h=a.getCell(s+d);i.updateMergedRanges(h,r,d);var f=i.findMergedCellInfo(r,d);if(oe(f)&&h!==f.masterCell)h.style=f.masterCell.style,h.value=f.masterCell.value;else if(sr(c.value)?h.value=this.convertDateForExcelJS(c.value):h.value=c.value,oe(h.value)){var{bold:p,alignment:g,numberFormat:m}=u[e.getStyleId(r,d)];oe(m)?this.setNumberFormat(h,m):nt(h.value)&&/^[@=+-]/.test(h.value)&&this.setNumberFormat(h,"@"),t._trySetFont(h,p),this.setAlignment(h,l,g)}We(o)&&o(t._getCustomizeCellOptions(h,c.cellSourceData))}}},YV={_trySetAutoFilter(e,t,i,r){if(r&&!oe(t.autoFilter)&&e.getRowsCount()>0){var n={from:{row:i.from.row+e.getHeaderRowCount()-1,column:i.from.column},to:i.to};t.autoFilter=n}},_trySetFont(e,t){oe(t)&&(e.font=e.font||{},e.font.bold=t)},_getWorksheetFrozenState:(e,t)=>({state:"frozen",ySplit:t.from.row+e.getFrozenArea().y-1}),_trySetOutlineLevel(e,t,i){i>=e.getHeaderRowCount()&&(t.outlineLevel=e.getGroupLevel(i))},_getCustomizeCellOptions(e,t){var i={excelCell:e,gridCell:t};return Object.defineProperty(i,"cell",{get(){return qt.log("W0003","CustomizeCell handler argument","cell","20.1","Use the 'excelCell' field instead"),e}}),i},_isFrozenZone:e=>e.getHeaderRowCount()>0,_isHeaderCell:(e,t)=>t<e.getHeaderRowCount(),_allowToMergeRange:()=>!0,_getLoadPanelTargetElement:e=>e.getView("rowsView").element(),_getLoadPanelContainer:e=>e.getView("rowsView").element().parent()};function ZV(e){return i2.export(JV(e),YV)}function JV(e){if(!(oe(e)&&at(e)))throw Error('The "exportDataGrid" method requires a configuration object.');if(!(oe(e.component)&&at(e.component)&&e.component.NAME==="dxDataGrid"))throw Error('The "component" field must contain a DataGrid instance.');return oe(e.selectedRowsOnly)||(e.selectedRowsOnly=!1),oe(e.autoFilterEnabled)||(e.autoFilterEnabled=!1),i2.getFullOptions(e)}var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function r2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _d(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(i,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),i}function Ha(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var n2={exports:{}};/*! ExcelJS 19-10-2023 */(function(e,t){(function(i){e.exports=i()})(function(){return function i(r,n,a){function s(u,d){if(!n[u]){if(!r[u]){var c=typeof Ha=="function"&&Ha;if(!d&&c)return c(u,!0);if(o)return o(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var f=n[u]={exports:{}};r[u][0].call(f.exports,function(p){return s(r[u][1][p]||p)},f,f.exports,i,r,n,a)}return n[u].exports}for(var o=typeof Ha=="function"&&Ha,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(i,r,n){const a=i("fs"),s=i("fast-csv"),o=i("dayjs/plugin/customParseFormat"),l=i("dayjs/plugin/utc"),u=i("dayjs").extend(o).extend(l),d=i("../utils/stream-buf"),{fs:{exists:c}}=i("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};r.exports=class{constructor(f){this.workbook=f,this.worksheet=null}async readFile(f,p){if(p=p||{},!await c(f))throw new Error("File not found: "+f);const g=a.createReadStream(f),m=await this.read(g,p);return g.close(),m}read(f,p){return p=p||{},new Promise((g,m)=>{const v=this.workbook.addWorksheet(p.sheetName),b=p.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],E=p.map||function(R){if(R==="")return null;const N=Number(R);if(!Number.isNaN(N)&&N!==1/0)return N;const j=b.reduce((H,W)=>{if(H)return H;const G=u(R,W,!0);return G.isValid()?G:null},null);if(j)return new Date(j.valueOf());const V=h[R];return V!==void 0?V:R},I=s.parse(p.parserOptions).on("data",R=>{v.addRow(R.map(E))}).on("end",()=>{I.emit("worksheet",v)});I.on("worksheet",g).on("error",m),f.pipe(I)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(f,p){return new Promise((g,m)=>{p=p||{};const v=this.workbook.getWorksheet(p.sheetName||p.sheetId),b=s.format(p.formatterOptions);f.on("finish",()=>{g()}),b.on("error",m),b.pipe(f);const{dateFormat:E,dateUTC:I}=p,R=p.map||(V=>{if(V){if(V.text||V.hyperlink)return V.hyperlink||V.text||"";if(V.formula||V.result)return V.result||"";if(V instanceof Date)return E?I?u.utc(V).format(E):u(V).format(E):I?u.utc(V).format():u(V).format();if(V.error)return V.error;if(typeof V=="object")return JSON.stringify(V)}return V}),N=p.includeEmptyRows===void 0||p.includeEmptyRows;let j=1;v&&v.eachRow((V,H)=>{if(N)for(;j++<H-1;)b.write([]);const{values:W}=V;W.shift(),b.write(W.map(R)),j=H}),b.end()})}writeFile(f,p){const g={encoding:(p=p||{}).encoding||"utf8"},m=a.createWriteStream(f,g);return this.write(m,p)}async writeBuffer(f){const p=new d;return await this.write(p,f),p.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(i,r,n){const a=i("../utils/col-cache");class s{constructor(l,u){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,u)if(typeof u=="string"){const c=a.decodeAddress(u);this.nativeCol=c.col+d,this.nativeColOff=0,this.nativeRow=c.row+d,this.nativeRowOff=0}else u.nativeCol!==void 0?(this.nativeCol=u.nativeCol||0,this.nativeColOff=u.nativeColOff||0,this.nativeRow=u.nativeRow||0,this.nativeRowOff=u.nativeRowOff||0):u.col!==void 0?(this.col=u.col+d,this.row=u.row+d):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof s||l==null?l:new s(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}r.exports=s},{"../utils/col-cache":19}],3:[function(i,r,n){const a=i("../utils/col-cache"),s=i("../utils/under-dash"),o=i("./enums"),{slideFormula:l}=i("../utils/shared-formula"),u=i("./note");class d{constructor(f,p,g){if(!f||!p)throw new Error("A Cell needs a Row");this._row=f,this._column=p,a.validateAddress(g),this._address=g,this._value=c.create(d.Types.Null,this),this.style=this._mergeStyle(f.style,p.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(f){this.style.numFmt=f}get font(){return this.style.font}set font(f){this.style.font=f}get alignment(){return this.style.alignment}set alignment(f){this.style.alignment=f}get border(){return this.style.border}set border(f){this.style.border=f}get fill(){return this.style.fill}set fill(f){this.style.fill=f}get protection(){return this.style.protection}set protection(f){this.style.protection=f}_mergeStyle(f,p,g){const m=f&&f.numFmt||p&&p.numFmt;m&&(g.numFmt=m);const v=f&&f.font||p&&p.font;v&&(g.font=v);const b=f&&f.alignment||p&&p.alignment;b&&(g.alignment=b);const E=f&&f.border||p&&p.border;E&&(g.border=E);const I=f&&f.fill||p&&p.fill;I&&(g.fill=I);const R=f&&f.protection||p&&p.protection;return R&&(g.protection=R),g}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===d.Types.Merge}merge(f,p){this._value.release(),this._value=c.create(d.Types.Merge,this,f),p||(this.style=f.style)}unmerge(){this.type===d.Types.Merge&&(this._value.release(),this._value=c.create(d.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(f){return this._value.type===d.Types.Merge&&this._value.isMergedTo(f)}get master(){return this.type===d.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===d.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(f){this.type!==d.Types.Merge?(this._value.release(),this._value=c.create(c.getType(f),this,f)):this._value.master.value=f}get note(){return this._comment&&this._comment.note}set note(f){this._comment=new u(f)}get text(){return this._value.toString()}get html(){return s.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(f){this.type===d.Types.String&&(this._value=c.create(d.Types.Hyperlink,this,{text:this._value.value,hyperlink:f}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:f}=this._row;return{sheetName:f.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(f){this.names=[f]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(f){const{definedNames:p}=this.workbook;p.removeAllNames(this.fullAddress),f.forEach(g=>{p.addEx(this.fullAddress,g)})}addName(f){this.workbook.definedNames.addEx(this.fullAddress,f)}removeName(f){this.workbook.definedNames.removeEx(this.fullAddress,f)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(f){this._dataValidations.add(this.address,f)}get model(){const{model:f}=this._value;return f.style=this.style,this._comment&&(f.comment=this._comment.model),f}set model(f){if(this._value.release(),this._value=c.create(f.type,this),this._value.model=f,f.comment)switch(f.comment.type){case"note":this._comment=u.fromModel(f.comment)}f.style?this.style=f.style:this.style={}}}d.Types=o.ValueType;const c={getType:h=>h==null?d.Types.Null:h instanceof String||typeof h=="string"?d.Types.String:typeof h=="number"?d.Types.Number:typeof h=="boolean"?d.Types.Boolean:h instanceof Date?d.Types.Date:h.text&&h.hyperlink?d.Types.Hyperlink:h.formula||h.sharedFormula?d.Types.Formula:h.richText?d.Types.RichText:h.sharedString?d.Types.SharedString:h.error?d.Types.Error:d.Types.JSON,types:[{t:d.Types.Null,f:class{constructor(h){this.model={address:h.address,type:d.Types.Null}}get value(){return null}set value(h){}get type(){return d.Types.Null}get effectiveType(){return d.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:d.Types.Number,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Number,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Number}get effectiveType(){return d.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.String,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.String,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:d.Types.Date,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Date,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Date}get effectiveType(){return d.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Hyperlink,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Hyperlink,text:f?f.text:void 0,hyperlink:f?f.hyperlink:void 0},f&&f.tooltip&&(this.model.tooltip=f.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return d.Types.Hyperlink}get effectiveType(){return d.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:d.Types.Formula,f:class{constructor(h,f){this.cell=h,this.model={address:h.address,type:d.Types.Formula,shareType:f?f.shareType:void 0,ref:f?f.ref:void 0,formula:f?f.formula:void 0,sharedFormula:f?f.sharedFormula:void 0,result:f?f.result:void 0}}_copyModel(h){const f={},p=g=>{const m=h[g];m&&(f[g]=m)};return p("formula"),p("result"),p("ref"),p("shareType"),p("sharedFormula"),f}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(c.getType(h)){case d.Types.Null:case d.Types.String:case d.Types.Number:case d.Types.Date:break;case d.Types.Hyperlink:case d.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return d.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?o.ValueType.Null:h instanceof String||typeof h=="string"?o.ValueType.String:typeof h=="number"?o.ValueType.Number:h instanceof Date?o.ValueType.Date:h.text&&h.hyperlink?o.ValueType.Hyperlink:h.formula?o.ValueType.Formula:o.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,f=h.findCell(this.model.sharedFormula);this._translatedFormula=f&&l(f.formula,f.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:d.Types.Merge,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Merge,master:f?f.address:void 0},this._master=f,f&&f.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof d?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return d.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:d.Types.JSON,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.String,value:JSON.stringify(f),rawValue:f}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:d.Types.SharedString,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.SharedString,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.SharedString}get effectiveType(){return d.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.RichText,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.String,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return d.Types.RichText}get effectiveType(){return d.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:d.Types.Boolean,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Boolean,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Boolean}get effectiveType(){return d.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Error,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Error,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Error}get effectiveType(){return d.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,f)=>(h[f.t]=f.f,h),[]),create(h,f,p){const g=this.types[h];if(!g)throw new Error("Could not create Value of type "+h);return new g(f,p)}};r.exports=d},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(i,r,n){const a=i("../utils/under-dash"),s=i("./enums"),o=i("../utils/col-cache");class l{constructor(d,c,h){this._worksheet=d,this._number=c,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return o.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(d){d?(this.key=d.key,this.width=d.width!==void 0?d.width:9,this.outlineLevel=d.outlineLevel,d.style?this.style=d.style:this.style={},this.header=d.header,this._hidden=!!d.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(d){d!==void 0?(this._header=d,this.headers.forEach((c,h)=>{this._worksheet.getCell(h+1,this.number).value=c})):this._header=void 0}get key(){return this._key}set key(d){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=d,d&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(d){this._hidden=d}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(d){this._outlineLevel=d}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(d){return this.width===d.width&&this.hidden===d.hidden&&this.outlineLevel===d.outlineLevel&&a.isEqual(this.style,d.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const d=this.style;return!d||!(d.font||d.numFmt||d.alignment||d.border||d.fill||d.protection)}get headerCount(){return this.headers.length}eachCell(d,c){const h=this.number;c||(c=d,d=null),this._worksheet.eachRow(d,(f,p)=>{c(f.getCell(h),p)})}get values(){const d=[];return this.eachCell((c,h)=>{c&&c.type!==s.ValueType.Null&&(d[h]=c.value)}),d}set values(d){if(!d)return;const c=this.number;let h=0;d.hasOwnProperty("0")&&(h=1),d.forEach((f,p)=>{this._worksheet.getCell(p+h,c).value=f})}_applyStyle(d,c){return this.style[d]=c,this.eachCell(h=>{h[d]=c}),c}get numFmt(){return this.style.numFmt}set numFmt(d){this._applyStyle("numFmt",d)}get font(){return this.style.font}set font(d){this._applyStyle("font",d)}get alignment(){return this.style.alignment}set alignment(d){this._applyStyle("alignment",d)}get protection(){return this.style.protection}set protection(d){this._applyStyle("protection",d)}get border(){return this.style.border}set border(d){this._applyStyle("border",d)}get fill(){return this.style.fill}set fill(d){this._applyStyle("fill",d)}static toModel(d){const c=[];let h=null;return d&&d.forEach((f,p)=>{f.isDefault?h&&(h=null):h&&f.equivalentTo(h)?h.max=p+1:(h={min:p+1,max:p+1,width:f.width!==void 0?f.width:9,style:f.style,isCustomWidth:f.isCustomWidth,hidden:f.hidden,outlineLevel:f.outlineLevel,collapsed:f.collapsed},c.push(h))}),c.length?c:void 0}static fromModel(d,c){const h=[];let f=1,p=0;for(c=(c=c||[]).sort(function(g,m){return g.min-m.min});p<c.length;){const g=c[p++];for(;f<g.min;)h.push(new l(d,f++));for(;f<=g.max;)h.push(new l(d,f++,g))}return h.length?h:null}}r.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(i,r,n){r.exports=class{constructor(a){this.model=a||{}}add(a,s){return this.model[a]=s}find(a){return this.model[a]}remove(a){this.model[a]=void 0}}},{}],6:[function(i,r,n){const a=i("../utils/under-dash"),s=i("../utils/col-cache"),o=i("../utils/cell-matrix"),l=i("./range"),u=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;r.exports=class{constructor(){this.matrixMap={}}getMatrix(d){return this.matrixMap[d]||(this.matrixMap[d]=new o)}add(d,c){const h=s.decodeEx(d);this.addEx(h,c)}addEx(d,c){const h=this.getMatrix(c);if(d.top)for(let f=d.left;f<=d.right;f++)for(let p=d.top;p<=d.bottom;p++){const g={sheetName:d.sheetName,address:s.n2l(f)+p,row:p,col:f};h.addCellEx(g)}else h.addCellEx(d)}remove(d,c){const h=s.decodeEx(d);this.removeEx(h,c)}removeEx(d,c){this.getMatrix(c).removeCellEx(d)}removeAllNames(d){a.each(this.matrixMap,c=>{c.removeCellEx(d)})}forEach(d){a.each(this.matrixMap,(c,h)=>{c.forEach(f=>{d(h,f)})})}getNames(d){return this.getNamesEx(s.decodeEx(d))}getNamesEx(d){return a.map(this.matrixMap,(c,h)=>c.findCellEx(d)&&h).filter(Boolean)}_explore(d,c){c.mark=!1;const{sheetName:h}=c,f=new l(c.row,c.col,c.row,c.col,h);let p,g;function m(b,E){const I=d.findCellAt(h,b,c.col);return!(!I||!I.mark)&&(f[E]=b,I.mark=!1,!0)}for(g=c.row-1;m(g,"top");g--);for(g=c.row+1;m(g,"bottom");g++);function v(b,E){const I=[];for(g=f.top;g<=f.bottom;g++){const R=d.findCellAt(h,g,b);if(!R||!R.mark)return!1;I.push(R)}f[E]=b;for(let R=0;R<I.length;R++)I[R].mark=!1;return!0}for(p=c.col-1;v(p,"left");p--);for(p=c.col+1;v(p,"right");p++);return f}getRanges(d,c){return(c=c||this.matrixMap[d])?(c.forEach(h=>{h.mark=!0}),{name:d,ranges:c.map(h=>h.mark&&this._explore(c,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:d,ranges:[]}}normaliseMatrix(d,c){d.forEachInSheet(c,(h,f,p)=>{h&&(h.row===f&&h.col===p||(h.row=f,h.col=p,h.address=s.n2l(p)+f))})}spliceRows(d,c,h,f){a.each(this.matrixMap,p=>{p.spliceRows(d,c,h,f),this.normaliseMatrix(p,d)})}spliceColumns(d,c,h,f){a.each(this.matrixMap,p=>{p.spliceColumns(d,c,h,f),this.normaliseMatrix(p,d)})}get model(){return a.map(this.matrixMap,(d,c)=>this.getRanges(c,d)).filter(d=>d.ranges.length)}set model(d){const c=this.matrixMap={};d.forEach(h=>{const f=c[h.name]=new o;h.ranges.forEach(p=>{u.test(p.split("!").pop()||"")&&f.addCell(p)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(i,r,n){r.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(i,r,n){const a=i("../utils/col-cache"),s=i("./anchor");r.exports=class{constructor(o,l){this.worksheet=o,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(o){let{type:l,imageId:u,range:d,hyperlinks:c}=o;if(this.type=l,this.imageId=u,l==="image")if(typeof d=="string"){const h=a.decode(d);this.range={tl:new s(this.worksheet,{col:h.left,row:h.top},-1),br:new s(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new s(this.worksheet,d.tl,0),br:d.br&&new s(this.worksheet,d.br,0),ext:d.ext,editAs:d.editAs,hyperlinks:c||d.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(i,r,n){const a=i("../utils/under-dash");class s{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return a.deepMerge({},s.DEFAULT_CONFIGS,l)}set model(l){const{note:u}=l,{texts:d}=u;d.length===1&&Object.keys(d[0]).length===1?this.note=d[0].text:this.note=u}static fromModel(l){const u=new s;return u.model=l,u}}s.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},r.exports=s},{"../utils/under-dash":26}],10:[function(i,r,n){const a=i("../utils/col-cache");class s{constructor(){this.decode(arguments)}setTLBR(l,u,d,c,h){if(arguments.length<4){const f=a.decodeAddress(l),p=a.decodeAddress(u);this.model={top:Math.min(f.row,p.row),left:Math.min(f.col,p.col),bottom:Math.max(f.row,p.row),right:Math.max(f.col,p.col),sheetName:d},this.setTLBR(f.row,f.col,p.row,p.col,h)}else this.model={top:Math.min(l,d),left:Math.min(u,c),bottom:Math.max(l,d),right:Math.max(u,c),sheetName:h}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const u=l[0];if(u instanceof s)this.model={top:u.model.top,left:u.model.left,bottom:u.model.bottom,right:u.model.right,sheetName:u.sheetName};else if(u instanceof Array)this.decode(u);else if(u.top&&u.left&&u.bottom&&u.right)this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName};else{const d=a.decodeEx(u);d.top?this.model={top:d.top,left:d.left,bottom:d.bottom,right:d.right,sheetName:d.sheetName}:this.model={top:d.row,left:d.col,bottom:d.row,right:d.col,sheetName:d.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,u,d,c){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||u<this.left)&&(this.left=u),(!this.model.bottom||d>this.bottom)&&(this.bottom=d),(!this.model.right||c>this.right)&&(this.right=c)}expandRow(l){if(l){const{dimensions:u,number:d}=l;u&&this.expand(d,u.min,d,u.max)}}expandToAddress(l){const u=a.decodeEx(l);this.expand(u.row,u.col,u.row,u.col)}get tl(){return a.n2l(this.left)+this.top}get $t$l(){return`$${a.n2l(this.left)}$${this.top}`}get br(){return a.n2l(this.right)+this.bottom}get $b$r(){return`$${a.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const u=a.decodeEx(l);return this.containsEx(u)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let u=this.left;u<=this.right;u++)for(let d=this.top;d<=this.bottom;d++)l(a.encodeAddress(d,u),d,u)}}r.exports=s},{"../utils/col-cache":19}],11:[function(i,r,n){const a=i("../utils/under-dash"),s=i("./enums"),o=i("../utils/col-cache"),l=i("./cell");r.exports=class{constructor(u,d){this._worksheet=u,this._number=d,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(u){return this._cells[u-1]}getCellEx(u){let d=this._cells[u.col-1];if(!d){const c=this._worksheet.getColumn(u.col);d=new l(this,c,u.address),this._cells[u.col-1]=d}return d}getCell(u){if(typeof u=="string"){const d=this._worksheet.getColumnKey(u);u=d?d.number:o.l2n(u)}return this._cells[u-1]||this.getCellEx({address:o.encodeAddress(this._number,u),row:this._number,col:u})}splice(u,d){const c=u+d;for(var h=arguments.length,f=new Array(h>2?h-2:0),p=2;p<h;p++)f[p-2]=arguments[p];const g=f.length-d,m=this._cells.length;let v,b,E;if(g<0)for(v=u+f.length;v<=m;v++)E=this._cells[v-1],b=this._cells[v-g-1],b?(E=this.getCell(v),E.value=b.value,E.style=b.style,E._comment=b._comment):E&&(E.value=null,E.style={},E._comment=void 0);else if(g>0)for(v=m;v>=c;v--)b=this._cells[v-1],b?(E=this.getCell(v+g),E.value=b.value,E.style=b.style,E._comment=b._comment):this._cells[v+g-1]=void 0;for(v=0;v<f.length;v++)E=this.getCell(u+v),E.value=f[v],E.style={},E._comment=void 0}eachCell(u,d){if(d||(d=u,u=null),u&&u.includeEmpty){const c=this._cells.length;for(let h=1;h<=c;h++)d(this.getCell(h),h)}else this._cells.forEach((c,h)=>{c&&c.type!==s.ValueType.Null&&d(c,h+1)})}addPageBreak(u,d){const c=this._worksheet,h=Math.max(0,u-1)||0,f=Math.max(0,d-1)||16838,p={id:this._number,max:f,man:1};h&&(p.min=h),c.rowBreaks.push(p)}get values(){const u=[];return this._cells.forEach(d=>{d&&d.type!==s.ValueType.Null&&(u[d.col]=d.value)}),u}set values(u){if(this._cells=[],u)if(u instanceof Array){let d=0;u.hasOwnProperty("0")&&(d=1),u.forEach((c,h)=>{c!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,h+d),row:this._number,col:h+d}).value=c)})}else this._worksheet.eachColumnKey((d,c)=>{u[c]!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,d.number),row:this._number,col:d.number}).value=u[c])})}get hasValues(){return a.some(this._cells,u=>u&&u.type!==s.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let u=0;return this.eachCell(()=>{u++}),u}get dimensions(){let u=0,d=0;return this._cells.forEach(c=>{c&&c.type!==s.ValueType.Null&&((!u||u>c.col)&&(u=c.col),d<c.col&&(d=c.col))}),u>0?{min:u,max:d}:null}_applyStyle(u,d){return this.style[u]=d,this._cells.forEach(c=>{c&&(c[u]=d)}),d}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const u=[];let d=0,c=0;return this._cells.forEach(h=>{if(h){const f=h.model;f&&((!d||d>h.col)&&(d=h.col),c<h.col&&(c=h.col),u.push(f))}}),this.height||u.length?{cells:u,number:this.number,min:d,max:c,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(u){if(u.number!==this._number)throw new Error("Invalid row number in model");let d;this._cells=[],u.cells.forEach(c=>{switch(c.type){case l.Types.Merge:break;default:{let h;if(c.address)h=o.decodeAddress(c.address);else if(d){const{row:f}=d,p=d.col+1;h={row:f,col:p,address:o.encodeAddress(f,p),$col$row:`$${o.n2l(p)}$${f}`}}d=h,this.getCellEx(h).model=c;break}}}),u.height?this.height=u.height:delete this.height,this.hidden=u.hidden,this.outlineLevel=u.outlineLevel||0,this.style=u.style&&JSON.parse(JSON.stringify(u.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(i,r,n){const a=i("../utils/col-cache");class s{constructor(l,u,d){this.table=l,this.column=u,this.index=d}_set(l,u){this.table.cacheState(),this.column[l]=u}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}r.exports=class{constructor(o,l){this.worksheet=o,l&&(this.table=l,this.validate(),this.store())}getFormula(o){switch(o.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${o.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${o.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${o.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${o.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${o.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${o.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${o.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${o.name}])`;case"custom":return o.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+o.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:o}=this,l=(g,m,v)=>{g[m]===void 0&&(g[m]=v)};l(o,"headerRow",!0),l(o,"totalsRow",!1),l(o,"style",{}),l(o.style,"theme","TableStyleMedium2"),l(o.style,"showFirstColumn",!1),l(o.style,"showLastColumn",!1),l(o.style,"showRowStripes",!1),l(o.style,"showColumnStripes",!1);const u=(g,m)=>{if(!g)throw new Error(m)};u(o.ref,"Table must have ref"),u(o.columns,"Table must have column definitions"),u(o.rows,"Table must have row definitions"),o.tl=a.decodeAddress(o.ref);const{row:d,col:c}=o.tl;u(d>0,"Table must be on valid row"),u(c>0,"Table must be on valid col");const{width:h,filterHeight:f,tableHeight:p}=this;o.autoFilterRef=a.encode(d,c,d+f-1,c+h-1),o.tableRef=a.encode(d,c,d+p-1,c+h-1),o.columns.forEach((g,m)=>{u(g.name,`Column ${m} must have a name`),m===0?l(g,"totalsRowLabel","Total"):(l(g,"totalsRowFunction","none"),g.totalsRowFormula=this.getFormula(g))})}store(){const o=(f,p)=>{p&&Object.keys(p).forEach(g=>{f[g]=p[g]})},{worksheet:l,table:u}=this,{row:d,col:c}=u.tl;let h=0;if(u.headerRow){const f=l.getRow(d+h++);u.columns.forEach((p,g)=>{const{style:m,name:v}=p,b=f.getCell(c+g);b.value=v,o(b,m)})}if(u.rows.forEach(f=>{const p=l.getRow(d+h++);f.forEach((g,m)=>{const v=p.getCell(c+m);v.value=g,o(v,u.columns[m].style)})}),u.totalsRow){const f=l.getRow(d+h++);u.columns.forEach((p,g)=>{const m=f.getCell(c+g);if(g===0)m.value=p.totalsRowLabel;else{const v=this.getFormula(p);m.value=v?{formula:p.totalsRowFormula,result:p.totalsRowResult}:null}o(m,p.style)})}}load(o){const{table:l}=this,{row:u,col:d}=l.tl;let c=0;if(l.headerRow){const h=o.getRow(u+c++);l.columns.forEach((f,p)=>{h.getCell(d+p).value=f.name})}if(l.rows.forEach(h=>{const f=o.getRow(u+c++);h.forEach((p,g)=>{f.getCell(d+g).value=p})}),l.totalsRow){const h=o.getRow(u+c++);l.columns.forEach((f,p)=>{const g=h.getCell(d+p);p===0?g.value=f.totalsRowLabel:this.getFormula(f)&&(g.value={formula:f.totalsRowFormula,result:f.totalsRowResult})})}}get model(){return this.table}set model(o){this.table=o}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const o=a.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const u=this.worksheet.getRow(o.row+l);for(let d=0;d<this._cache.width;d++)u.getCell(o.col+d).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const u=this.worksheet.getRow(o.row+l);for(let d=0;d<this._cache.width;d++)u.getCell(o.col+d).value=null}for(let l=0;l<this.tableHeight;l++){const u=this.worksheet.getRow(o.row+l);for(let d=this.width;d<this._cache.width;d++)u.getCell(o.col+d).value=null}}this.store()}addRow(o,l){this.cacheState(),l===void 0?this.table.rows.push(o):this.table.rows.splice(l,0,o)}removeRows(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(o,l)}getColumn(o){const l=this.table.columns[o];return new s(this,l,o)}addColumn(o,l,u){this.cacheState(),u===void 0?(this.table.columns.push(o),this.table.rows.forEach((d,c)=>{d.push(l[c])})):(this.table.columns.splice(u,0,o),this.table.rows.forEach((d,c)=>{d.splice(u,0,l[c])}))}removeColumns(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(o,l),this.table.rows.forEach(u=>{u.splice(o,l)})}_assign(o,l,u){this.cacheState(),o[l]=u}get ref(){return this.table.ref}set ref(o){this._assign(this.table,"ref",o)}get name(){return this.table.name}set name(o){this.table.name=o}get displayName(){return this.table.displyName||this.table.name}set displayNamename(o){this.table.displayName=o}get headerRow(){return this.table.headerRow}set headerRow(o){this._assign(this.table,"headerRow",o)}get totalsRow(){return this.table.totalsRow}set totalsRow(o){this._assign(this.table,"totalsRow",o)}get theme(){return this.table.style.name}set theme(o){this.table.style.name=o}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(o){this.table.style.showFirstColumn=o}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(o){this.table.style.showLastColumn=o}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(o){this.table.style.showRowStripes=o}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(o){this.table.style.showColumnStripes=o}}},{"../utils/col-cache":19}],13:[function(i,r,n){const a=i("./worksheet"),s=i("./defined-names"),o=i("../xlsx/xlsx"),l=i("../csv/csv");r.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new s}get xlsx(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let u=1;u<this._worksheets.length;u++)if(!this._worksheets[u])return u;return this._worksheets.length||1}addWorksheet(u,d){const c=this.nextId;d&&(typeof d=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),d={properties:{tabColor:{argb:d}}}):(d.argb||d.theme||d.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),d={properties:{tabColor:d}}));const h=this._worksheets.reduce((g,m)=>(m&&m.orderNo)>g?m.orderNo:g,0),f=Object.assign({},d,{id:c,name:u,orderNo:h+1,workbook:this}),p=new a(f);return this._worksheets[c]=p,p}removeWorksheetEx(u){delete this._worksheets[u.id]}removeWorksheet(u){const d=this.getWorksheet(u);d&&d.destroy()}getWorksheet(u){return u===void 0?this._worksheets.find(Boolean):typeof u=="number"?this._worksheets[u]:typeof u=="string"?this._worksheets.find(d=>d&&d.name===u):void 0}get worksheets(){return this._worksheets.slice(1).sort((u,d)=>u.orderNo-d.orderNo).filter(Boolean)}eachSheet(u){this.worksheets.forEach(d=>{u(d,d.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(u){const d=this.media.length;return this.media.push(Object.assign({},u,{type:"image"})),d}getImage(u){return this.media[u]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(u=>u.model),sheets:this.worksheets.map(u=>u.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(u){this.creator=u.creator,this.lastModifiedBy=u.lastModifiedBy,this.lastPrinted=u.lastPrinted,this.created=u.created,this.modified=u.modified,this.company=u.company,this.manager=u.manager,this.title=u.title,this.subject=u.subject,this.keywords=u.keywords,this.category=u.category,this.description=u.description,this.language=u.language,this.revision=u.revision,this.contentStatus=u.contentStatus,this.properties=u.properties,this.calcProperties=u.calcProperties,this._worksheets=[],u.worksheets.forEach(d=>{const{id:c,name:h,state:f}=d,p=u.sheets&&u.sheets.findIndex(g=>g.id===c);(this._worksheets[c]=new a({id:c,name:h,orderNo:p,state:f,workbook:this})).model=d}),this._definedNames.model=u.definedNames,this.views=u.views,this._themes=u.themes,this.media=u.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(i,r,n){const a=i("../utils/under-dash"),s=i("../utils/col-cache"),o=i("./range"),l=i("./row"),u=i("./column"),d=i("./enums"),c=i("./image"),h=i("./table"),f=i("./data-validations"),p=i("../utils/encryptor"),{copyStyle:g}=i("../utils/copy-style");r.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new f,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new o;return this._rows.forEach(v=>{if(v){const b=v.dimensions;b&&m.expand(v.number,b.min,v.number,b.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((E,I)=>{const R=(I.header?1:I.headers&&I.headers.length)||0;return Math.max(E,R)},0);let v=1;const b=this._columns=[];m.forEach(E=>{const I=new u(this,v++,!1);b.push(I),I.defn=E})}getColumnKey(m){return this._keys[m]}setColumnKey(m,v){this._keys[m]=v}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){a.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const v=this._keys[m];if(v)return v;m=s.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let v=this._columns.length+1;for(;v<=m;)this._columns.push(new u(this,v++))}return this._columns[m-1]}spliceColumns(m,v){const b=this._rows.length;for(var E=arguments.length,I=new Array(E>2?E-2:0),R=2;R<E;R++)I[R-2]=arguments[R];if(I.length>0)for(let H=0;H<b;H++){const W=[m,v];I.forEach(P=>{W.push(P[H]||null)});const G=this.getRow(H+1);G.splice.apply(G,W)}else this._rows.forEach(H=>{H&&H.splice(m,v)});const N=I.length-v,j=m+v,V=this._columns.length;if(N<0)for(let H=m+I.length;H<=V;H++)this.getColumn(H).defn=this.getColumn(H-N).defn;else if(N>0)for(let H=V;H>=j;H--)this.getColumn(H+N).defn=this.getColumn(H).defn;for(let H=m;H<m+I.length;H++)this.getColumn(H).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,v,I.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(v=>{m=Math.max(m,v.cellCount)}),m}get actualColumnCount(){const m=[];let v=0;return this.eachRow(b=>{b.eachCell(E=>{let{col:I}=E;m[I]||(m[I]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const m=this._rows;let v=m.length;for(;v>0&&m[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,v){return this._rows.slice(m-1,m-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let v=this._rows[m-1];return v||(v=this._rows[m-1]=new l(this,m)),v}getRows(m,v){if(v<1)return;const b=[];for(let E=m;E<m+v;E++)b.push(this.getRow(E));return b}addRow(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=this._nextRow,E=this.getRow(b);return E.values=m,this._setStyleOption(b,v[0]==="i"?v:"n"),E}addRows(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=[];return m.forEach(E=>{b.push(this.addRow(E,v))}),b}insertRow(m,v){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,v),this._setStyleOption(m,b),this.getRow(m)}insertRows(m,v){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...v),b!=="n")for(let E=0;E<v.length;E++)b[0]==="o"&&this.findRow(v.length+m+E)!==void 0?this._copyStyle(v.length+m+E,m+E,b[1]==="+"):b[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+E,b[1]==="+");return this.getRows(m,v.length)}_setStyleOption(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,v[1]==="+"):v[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,v[1]==="+")}_copyStyle(m,v){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const E=this.getRow(m),I=this.getRow(v);I.style=g(E.style),E.eachCell({includeEmpty:b},(R,N)=>{I.getCell(N).style=g(R.style)}),I.height=E.height}duplicateRow(m,v){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const E=this._rows[m-1],I=new Array(v).fill(E.values);this.spliceRows(m+1,b?0:v,...I);for(let R=0;R<v;R++){const N=this._rows[m+R];N.style=E.style,N.height=E.height,E.eachCell({includeEmpty:!0},(j,V)=>{N.getCell(V).style=j.style})}}spliceRows(m,v){const b=m+v;for(var E=arguments.length,I=new Array(E>2?E-2:0),R=2;R<E;R++)I[R-2]=arguments[R];const N=I.length,j=N-v,V=this._rows.length;let H,W;if(j<0)for(m===V&&(this._rows[V-1]=void 0),H=b;H<=V;H++)if(W=this._rows[H-1],W){const G=this.getRow(H+j);G.values=W.values,G.style=W.style,G.height=W.height,W.eachCell({includeEmpty:!0},(P,A)=>{G.getCell(A).style=P.style}),this._rows[H-1]=void 0}else this._rows[H+j-1]=void 0;else if(j>0)for(H=V;H>=b;H--)if(W=this._rows[H-1],W){const G=this.getRow(H+j);G.values=W.values,G.style=W.style,G.height=W.height,W.eachCell({includeEmpty:!0},(P,A)=>{if(G.getCell(A).style=P.style,P._value.constructor.name==="MergeValue"){const T=this.getRow(P._row._number+N).getCell(A),x=P._value._master,C=this.getRow(x._row._number+N).getCell(x._column._number);T.merge(C)}})}else this._rows[H+j-1]=void 0;for(H=0;H<N;H++){const G=this.getRow(m+H);G.style={},G.values=I[H]}this.workbook.definedNames.spliceRows(this.name,m,v,N)}eachRow(m,v){if(v||(v=m,m=void 0),m&&m.includeEmpty){const b=this._rows.length;for(let E=1;E<=b;E++)v(this.getRow(E),E)}else this._rows.forEach(b=>{b&&b.hasValues&&v(b,b.number)})}getSheetValues(){const m=[];return this._rows.forEach(v=>{v&&(m[v.number]=v.values)}),m}findCell(m,v){const b=s.getAddress(m,v),E=this._rows[b.row-1];return E?E.findCell(b.col):void 0}getCell(m,v){const b=s.getAddress(m,v);return this.getRow(b.row).getCellEx(b)}mergeCells(){for(var m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];const E=new o(v);this._mergeCellsInternal(E)}mergeCellsWithoutStyle(){for(var m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];const E=new o(v);this._mergeCellsInternal(E,!0)}_mergeCellsInternal(m,v){a.each(this._merges,E=>{if(E.intersects(m))throw new Error("Cannot merge already merged cells")});const b=this.getCell(m.top,m.left);for(let E=m.top;E<=m.bottom;E++)for(let I=m.left;I<=m.right;I++)(E>m.top||I>m.left)&&this.getCell(E,I).merge(b,v);this._merges[b.address]=m}_unMergeMaster(m){const v=this._merges[m.address];if(v){for(let b=v.top;b<=v.bottom;b++)for(let E=v.left;E<=v.right;E++)this.getCell(b,E).unmerge();delete this._merges[m.address]}}get hasMerges(){return a.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];const E=new o(v);for(let I=E.top;I<=E.bottom;I++)for(let R=E.left;R<=E.right;R++){const N=this.findCell(I,R);N&&(N.type===d.ValueType.Merge?this._unMergeMaster(N.master):this._merges[N.address]&&this._unMergeMaster(N))}}fillFormula(m,v,b){let E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const I=s.decode(m),{top:R,left:N,bottom:j,right:V}=I,H=V-N+1,W=s.encodeAddress(R,N),G=E==="shared";let P;P=typeof b=="function"?b:Array.isArray(b)?Array.isArray(b[0])?(T,x)=>b[T-R][x-N]:(T,x)=>b[(T-R)*H+(x-N)]:()=>{};let A=!0;for(let T=R;T<=j;T++)for(let x=N;x<=V;x++)A?(this.getCell(T,x).value={shareType:E,formula:v,ref:m,result:P(T,x)},A=!1):this.getCell(T,x).value=G?{sharedFormula:W,result:P(T,x)}:P(T,x)}addImage(m,v){const b={type:"image",imageId:m,range:v};this._media.push(new c(this,b))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const v={type:"background",imageId:m};this._media.push(new c(this,v))}getBackgroundImageId(){const m=this._media.find(v=>v.type==="background");return m&&m.imageId}protect(m,v){return new Promise(b=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=p.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=p.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!m&&"spinCount"in v&&delete this.sheetProtection.spinCount),b()})}unprotect(){this.sheetProtection=null}addTable(m){const v=new h(this,m);return this.tables[m.name]=v,v}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(E=>E.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(E=>E.model),conditionalFormattings:this.conditionalFormattings};m.cols=u.toModel(this.columns);const v=m.rows=[],b=m.dimensions=new o;return this._rows.forEach(E=>{const I=E&&E.model;I&&(b.expand(I.number,I.min,I.number,I.max),v.push(I))}),m.merges=[],a.each(this._merges,E=>{m.merges.push(E.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(v=>{const b=new l(this,v.number);this._rows[b.number-1]=b,b.model=v})}_parseMergeCells(m){a.each(m.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(m){this.name=m.name,this._columns=u.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new f(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(v=>new c(this,v)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((v,b)=>{const E=new h;return E.model=b,v[b.name]=E,v},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(i,r,n){i("core-js/modules/es.promise"),i("core-js/modules/es.promise.finally"),i("core-js/modules/es.object.assign"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.values"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.async-iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.find-index"),i("core-js/modules/es.array.find"),i("core-js/modules/es.string.from-code-point"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.number.is-nan"),i("regenerator-runtime/runtime");const a={Workbook:i("./doc/workbook")},s=i("./doc/enums");Object.keys(s).forEach(o=>{a[o]=s[o]}),r.exports=a},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(i,r,n){const a=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");n.bufferToString=function(s){return typeof s=="string"?s:a?a.decode(s):s.toString()}},{}],17:[function(i,r,n){const a=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:s}=i("buffer");n.stringToBuffer=function(o){return typeof o!="string"?o:a?s.from(a.encode(o).buffer):s.from(o)}},{buffer:220}],18:[function(i,r,n){const a=i("./under-dash"),s=i("./col-cache");r.exports=class{constructor(o){this.template=o,this.sheets={}}addCell(o){this.addCellEx(s.decodeEx(o))}getCell(o){return this.findCellEx(s.decodeEx(o),!0)}findCell(o){return this.findCellEx(s.decodeEx(o),!1)}findCellAt(o,l,u){const d=this.sheets[o],c=d&&d[l];return c&&c[u]}addCellEx(o){if(o.top)for(let l=o.top;l<=o.bottom;l++)for(let u=o.left;u<=o.right;u++)this.getCellAt(o.sheetName,l,u);else this.findCellEx(o,!0)}getCellEx(o){return this.findCellEx(o,!0)}findCellEx(o,l){const u=this.findSheet(o,l),d=this.findSheetRow(u,o,l);return this.findRowCell(d,o,l)}getCellAt(o,l,u){const d=this.sheets[o]||(this.sheets[o]=[]),c=d[l]||(d[l]=[]);return c[u]||(c[u]={sheetName:o,address:s.n2l(u)+l,row:l,col:u})}removeCellEx(o){const l=this.findSheet(o);if(!l)return;const u=this.findSheetRow(l,o);u&&delete u[o.col]}forEachInSheet(o,l){const u=this.sheets[o];u&&u.forEach((d,c)=>{d&&d.forEach((h,f)=>{h&&l(h,c,f)})})}forEach(o){a.each(this.sheets,(l,u)=>{this.forEachInSheet(u,o)})}map(o){const l=[];return this.forEach(u=>{l.push(o(u))}),l}findSheet(o,l){const u=o.sheetName;return this.sheets[u]?this.sheets[u]:l?this.sheets[u]=[]:void 0}findSheetRow(o,l,u){const{row:d}=l;return o&&o[d]?o[d]:u?o[d]=[]:void 0}findRowCell(o,l,u){const{col:d}=l;return o&&o[d]?o[d]:u?o[d]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(o,l,u,d){const c=this.sheets[o];if(c){const h=[];for(let f=0;f<d;f++)h.push([]);c.splice(l,u,...h)}}spliceColumns(o,l,u,d){const c=this.sheets[o];if(c){const h=[];for(let f=0;f<d;f++)h.push(null);a.each(c,f=>{f.splice(l,u,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(i,r,n){const a=/^[A-Z]+\d+$/,s={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:o=>o<=26?1:o<=676?2:3,_fill(o){let l,u,d,c,h,f=1;if(o>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&o>=1){for(;f<=26;)l=this._dictionary[f-1],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=1}if(this._l2nFill<2&&o>=2){for(f=27;f<=702;)u=f-27,d=u%26,c=Math.floor(u/26),l=this._dictionary[c]+this._dictionary[d],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=2}if(this._l2nFill<3&&o>=3){for(f=703;f<=16384;)u=f-703,d=u%26,c=Math.floor(u/26)%26,h=Math.floor(u/676),l=this._dictionary[h]+this._dictionary[c]+this._dictionary[d],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=3}},l2n(o){if(this._l2n[o]||this._fill(o.length),!this._l2n[o])throw new Error("Out of bounds. Invalid column letter: "+o);return this._l2n[o]},n2l(o){if(o<1||o>16384)throw new Error(o+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[o]||this._fill(this._level(o)),this._n2l[o]},_hash:{},validateAddress(o){if(!a.test(o))throw new Error("Invalid Address: "+o);return!0},decodeAddress(o){const l=o.length<5&&this._hash[o];if(l)return l;let u=!1,d="",c=0,h=!1,f="",p=0;for(let m,v=0;v<o.length;v++)if(m=o.charCodeAt(v),!h&&m>=65&&m<=90)u=!0,d+=o[v],c=26*c+m-64;else if(m>=48&&m<=57)h=!0,f+=o[v],p=10*p+m-48;else if(h&&u&&m!==36)break;if(u){if(c>16384)throw new Error("Out of bounds. Invalid column letter: "+d)}else c=void 0;h||(p=void 0);const g={address:o=d+f,col:c,row:p,$col$row:`$${d}$${f}`};return c<=100&&p<=100&&(this._hash[o]=g,this._hash[g.$col$row]=g),g},getAddress(o,l){if(l){const u=this.n2l(l)+o;return this.decodeAddress(u)}return this.decodeAddress(o)},decode(o){const l=o.split(":");if(l.length===2){const u=this.decodeAddress(l[0]),d=this.decodeAddress(l[1]),c={top:Math.min(u.row,d.row),left:Math.min(u.col,d.col),bottom:Math.max(u.row,d.row),right:Math.max(u.col,d.col)};return c.tl=this.n2l(c.left)+c.top,c.br=this.n2l(c.right)+c.bottom,c.dimensions=`${c.tl}:${c.br}`,c}return this.decodeAddress(o)},decodeEx(o){const l=o.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),u=l[1]||l[2],d=l[3],c=d.split(":");if(c.length>1){let f=this.decodeAddress(c[0]),p=this.decodeAddress(c[1]);const g=Math.min(f.row,p.row),m=Math.min(f.col,p.col),v=Math.max(f.row,p.row),b=Math.max(f.col,p.col);return f=this.n2l(m)+g,p=this.n2l(b)+v,{top:g,left:m,bottom:v,right:b,sheetName:u,tl:{address:f,col:m,row:g,$col$row:`$${this.n2l(m)}$${g}`,sheetName:u},br:{address:p,col:b,row:v,$col$row:`$${this.n2l(b)}$${v}`,sheetName:u},dimensions:`${f}:${p}`}}if(d.startsWith("#"))return u?{sheetName:u,error:d}:{error:d};const h=this.decodeAddress(d);return u?{sheetName:u,...h}:h},encodeAddress:(o,l)=>s.n2l(l)+o,encode(){switch(arguments.length){case 2:return s.encodeAddress(arguments[0],arguments[1]);case 4:return`${s.encodeAddress(arguments[0],arguments[1])}:${s.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(o,l){const[u,d,,c,h]=o,[f,p]=l;return f>=u&&f<=c&&p>=d&&p<=h}};r.exports=s},{}],20:[function(i,r,n){const a=(o,l)=>({...o,...l.reduce((u,d)=>(o[d]&&(u[d]={...o[d]}),u),{})}),s=function(o,l,u){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];o[u]&&(l[u]=a(o[u],d))};n.copyStyle=o=>{if(!o)return o;if(l=o,Object.keys(l).length===0)return{};var l;const u={...o};return s(o,u,"font",["color"]),s(o,u,"alignment"),s(o,u,"protection"),o.border&&(s(o,u,"border"),s(o.border,u.border,"top",["color"]),s(o.border,u.border,"left",["color"]),s(o.border,u.border,"bottom",["color"]),s(o.border,u.border,"right",["color"]),s(o.border,u.border,"diagonal",["color"])),o.fill&&(s(o,u,"fill",["fgColor","bgColor","center"]),o.fill.stops&&(u.fill.stops=o.fill.stops.map(d=>a(d,["color"])))),u}},{}],21:[function(i,r,n){(function(a){(function(){const s=i("crypto"),o={hash(l){const u=s.createHash(l);for(var d=arguments.length,c=new Array(d>1?d-1:0),h=1;h<d;h++)c[h-1]=arguments[h];return u.update(a.concat(c)),u.digest()},convertPasswordToHash(l,u,d,c){if(u=u.toLowerCase(),s.getHashes().indexOf(u)<0)throw new Error(`Hash algorithm '${u}' not supported!`);const h=a.from(l,"utf16le");let f=this.hash(u,a.from(d,"base64"),h);for(let p=0;p<c;p++){const g=a.alloc(4);g.writeUInt32LE(p,0),f=this.hash(u,f,g)}return f.toString("base64")},randomBytes:l=>s.randomBytes(l)};r.exports=o}).call(this)}).call(this,i("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(i,r,n){const{SaxesParser:a}=i("saxes"),{PassThrough:s}=i("readable-stream"),{bufferToString:o}=i("./browser-buffer-decode");r.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new s));const u=new a;let d;u.on("error",h=>{d=h});let c=[];u.on("opentag",h=>c.push({eventType:"opentag",value:h})),u.on("text",h=>c.push({eventType:"text",value:h})),u.on("closetag",h=>c.push({eventType:"closetag",value:h}));for await(const h of l){if(u.write(o(h)),d)throw d;yield c,c=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(i,r,n){const a=i("./col-cache"),s=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;r.exports={slideFormula:function(l,u,d){const c=a.decode(u),h=a.decode(d);return l.replace(s,(f,p,g,m,v)=>{if(v)return f;const b=o.exec(m);if(b){const E=b[1],I=b[2].toUpperCase(),R=b[3],N=b[4];if(I.length>3||I.length===3&&I>"XFD")return f;let j=a.l2n(I),V=parseInt(N,10);return E||(j+=h.col-c.col),R||(V+=h.row-c.row),(p||"")+(E||"")+a.n2l(j)+(R||"")+V}return f})}}},{"./col-cache":19}],24:[function(i,r,n){(function(a,s){(function(){const o=i("readable-stream"),l=i("./utils"),u=i("./string-buf");class d{constructor(m,v){this._data=m,this._encoding=v}get length(){return this.toBuffer().length}copy(m,v,b,E){return this.toBuffer().copy(m,v,b,E)}toBuffer(){return this._buffer||(this._buffer=s.from(this._data,this._encoding)),this._buffer}}class c{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,b,E){return this._data._buf.copy(m,v,b,E)}toBuffer(){return this._data.toBuffer()}}class h{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,b,E){this._data.copy(m,v,b,E)}toBuffer(){return this._data}}class f{constructor(m){this.size=m,this.buffer=s.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=s.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let v;return m===0?null:m===void 0||m>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=s.alloc(m),this.buffer.copy(v,0,this.iRead,m),this.iRead+=m,v)}write(m,v,b){const E=Math.min(b,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,v,v+E),this.iWrite+=E,E}}const p=function(g){g=g||{},this.bufSize=g.bufSize||1048576,this.buffers=[],this.batch=g.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(p,o.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return s.concat(this.buffers.map(g=>g.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const g=new f(this.bufSize);return this.buffers.push(g),g},async _pipe(g){await Promise.all(this.pipes.map(function(m){return new Promise(v=>{m.write(g.toBuffer(),()=>{v()})})}))},_writeToBuffers(g){let m=0;const v=g.length;for(;m<v;)m+=this._getWritableBuffer().write(g,m,v-m)},async write(g,m,v){let b;if(m instanceof Function&&(v=m,m="utf8"),v=v||l.nop,g instanceof u)b=new c(g);else if(g instanceof s)b=new h(g);else{if(!(typeof g=="string"||g instanceof String||g instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");b=new d(g,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(b);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(b),a.nextTick(v)):(await this._pipe(b),v());else this.paused||this.emit("data",b.toBuffer()),this._writeToBuffers(b),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(g,m,v){const b=E=>{E?v(E):(this._flush(),this.pipes.forEach(I=>{I.end()}),this.emit("finish"))};g?this.write(g,m,b):b()},read(g){let m;if(g){for(m=[];g&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],b=v.read(g);g-=b.length,m.push(b),v.eod&&v.full&&this.buffers.shift()}return s.concat(m)}return m=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],s.concat(m)},setEncoding(g){this.encoding=g},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(g){this.pipes.push(g),!this.paused&&this.buffers.length&&this.end()},unpipe(g){this.pipes=this.pipes.filter(m=>m!==g)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),r.exports=p}).call(this)}).call(this,i("_process"),i("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(i,r,n){(function(a){(function(){r.exports=class{constructor(s){this._buf=a.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=a.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let o=2*this._buf.length;for(;o<s;)o*=2;const l=a.alloc(o);this._buf.copy(l,0),this._buf=l}addText(s){this._buffer=void 0;let o=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;o>=this._buf.length-4;)this._grow(this._inPos+s.length),o=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=o}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:220}],26:[function(i,r,n){const{toString:a}=Object.prototype,s=/["&<>]/,o={each:function(l,u){l&&(Array.isArray(l)?l.forEach(u):Object.keys(l).forEach(d=>{u(l[d],d)}))},some:function(l,u){return!!l&&(Array.isArray(l)?l.some(u):Object.keys(l).some(d=>u(l[d],d)))},every:function(l,u){return!l||(Array.isArray(l)?l.every(u):Object.keys(l).every(d=>u(l[d],d)))},map:function(l,u){return l?Array.isArray(l)?l.map(u):Object.keys(l).map(d=>u(l[d],d)):[]},keyBy:(l,u)=>l.reduce((d,c)=>(d[c[u]]=c,d),{}),isEqual:function(l,u){const d=typeof l,c=typeof u,h=Array.isArray(l),f=Array.isArray(u);let p;if(d!==c)return!1;switch(typeof l){case"object":if(h||f)return!(!h||!f)&&l.length===u.length&&l.every((g,m)=>{const v=u[m];return o.isEqual(g,v)});if(l===null||u===null)return l===u;if(p=Object.keys(l),Object.keys(u).length!==p.length)return!1;for(const g of p)if(!u.hasOwnProperty(g))return!1;return o.every(l,(g,m)=>{const v=u[m];return o.isEqual(g,v)});default:return l===u}},escapeHtml(l){const u=s.exec(l);if(!u)return l;let d="",c="",h=0,f=u.index;for(;f<l.length;f++){switch(l.charAt(f)){case'"':c="&quot;";break;case"&":c="&amp;";break;case"'":c="&apos;";break;case"<":c="&lt;";break;case">":c="&gt;";break;default:continue}h!==f&&(d+=l.substring(h,f)),h=f+1,d+=c}return h!==f?d+l.substring(h,f):d},strcmp:(l,u)=>l<u?-1:l>u?1:0,isUndefined:l=>a.call(l)==="[object Undefined]",isObject:l=>a.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:u}=arguments;let d,c,h;function f(p,g){d=l[g],h=Array.isArray(p),o.isObject(p)||h?(h?(h=!1,c=d&&Array.isArray(d)?d:[]):c=d&&o.isObject(d)?d:{},l[g]=o.deepMerge(c,p)):o.isUndefined(p)||(l[g]=p)}for(let p=0;p<u;p++)o.each(arguments[p],f);return l}};r.exports=o},{}],27:[function(i,r,n){(function(a,s){(function(){const o=i("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,u={nop(){},promiseImmediate:d=>new Promise(c=>{a.setImmediate?s(()=>{c(d)}):setTimeout(()=>{c(d)},1)}),inherits:function(d,c,h,f){d.super_=c,f||(f=h,h=null),h&&Object.keys(h).forEach(g=>{Object.defineProperty(d,g,Object.getOwnPropertyDescriptor(h,g))});const p={constructor:{value:d,enumerable:!1,writable:!1,configurable:!0}};f&&Object.keys(f).forEach(g=>{p[g]=Object.getOwnPropertyDescriptor(f,g)}),d.prototype=Object.create(c.prototype,p)},dateToExcel:(d,c)=>25569+d.getTime()/864e5-(c?1462:0),excelToDate(d,c){const h=Math.round(24*(d-25569+(c?1462:0))*3600*1e3);return new Date(h)},parsePath(d){const c=d.lastIndexOf("/");return{path:d.substring(0,c),name:d.substring(c+1)}},getRelsPath(d){const c=u.parsePath(d);return`${c.path}/_rels/${c.name}.rels`},xmlEncode(d){const c=l.exec(d);if(!c)return d;let h="",f="",p=0,g=c.index;for(;g<d.length;g++){const m=d.charCodeAt(g);switch(m){case 34:f="&quot;";break;case 38:f="&amp;";break;case 39:f="&apos;";break;case 60:f="&lt;";break;case 62:f="&gt;";break;case 127:f="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){f="";break}continue}p!==g&&(h+=d.substring(p,g)),p=g+1,f&&(h+=f)}return p!==g?h+d.substring(p,g):h},xmlDecode:d=>d.replace(/&([a-z]*);/g,c=>{switch(c){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return c}}),validInt(d){const c=parseInt(d,10);return Number.isNaN(c)?0:c},isDateFmt(d){return d?(d=(d=d.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:d=>new Promise(c=>{o.access(d,o.constants.F_OK,h=>{c(!h)})})},toIsoDateString:d=>d.toIsoString().subsstr(0,10),parseBoolean:d=>d===!0||d==="true"||d===1||d==="1"};r.exports=u}).call(this)}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{},i("timers").setImmediate)},{fs:216,timers:523}],28:[function(i,r,n){const a=i("./under-dash"),s=i("./utils");function o(d,c,h){d.push(` ${c}="${s.xmlEncode(h.toString())}"`)}function l(d,c){if(c){const h=[];a.each(c,(f,p)=>{f!==void 0&&o(h,p,f)}),d.push(h.join(""))}}class u{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(c){const h=this._xml;h.push("<?xml"),l(h,c),h.push(`?>
`)}openNode(c,h){const f=this.tos,p=this._xml;f&&this.open&&p.push(">"),this._stack.push(c),p.push("<"),p.push(c),l(p,h),this.leaf=!0,this.open=!0}addAttribute(c,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&o(this._xml,c,h)}addAttributes(c){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,c)}writeText(c){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(s.xmlEncode(c.toString()))}writeXml(c){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(c)}closeNode(){const c=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(c),h.push(">")),this.open=!1,this.leaf=!1}leafNode(c,h,f){this.openNode(c,h),f!==void 0&&this.writeText(f),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const c=this._rollbacks.pop();this._xml.length>c.xml&&this._xml.splice(c.xml,this._xml.length-c.xml),this._stack.length>c.stack&&this._stack.splice(c.stack,this._stack.length-c.stack),this.leaf=c.leaf,this.open=c.open}get xml(){return this.closeAll(),this._xml.join("")}}u.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},r.exports=u},{"./under-dash":26,"./utils":27}],29:[function(i,r,n){(function(a){(function(){const s=i("events"),o=i("jszip"),l=i("./stream-buf"),{stringToBuffer:u}=i("./browser-buffer-encode");class d extends s.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new o,this.stream=new l}append(h,f){f.hasOwnProperty("base64")&&f.base64?this.zip.file(f.name,h,{base64:!0}):(a.browser&&typeof h=="string"&&(h=u(h)),this.zip.file(f.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,f){return this.stream.pipe(h,f)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}r.exports={ZipWriter:d}}).call(this)}).call(this,i("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(i,r,n){r.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(i,r,n){r.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(i,r,n){const a=i("../../utils/parse-sax"),s=i("../../utils/xml-stream");class o{prepare(){}render(){}parseOpen(u){}parseText(u){}parseClose(u){}reconcile(u,d){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(u=>{u instanceof o?u.reset():u.xform&&u.xform.reset()})}mergeModel(u){this.model=Object.assign(this.model||{},u)}async parse(u){for await(const d of u)for(const{eventType:c,value:h}of d)if(c==="opentag")this.parseOpen(h);else if(c==="text")this.parseText(h);else if(c==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(u){return this.parse(a(u))}get xml(){return this.toXml(this.model)}toXml(u){const d=new s;return this.render(d,u),d.xml}static toAttribute(u,d){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(u===void 0){if(c)return d}else if(c||u!==d)return u.toString()}static toStringAttribute(u,d){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(u,d,c)}static toStringValue(u,d){return u===void 0?d:u}static toBoolAttribute(u,d){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(u===void 0){if(c)return d}else if(c||u!==d)return u?"1":"0"}static toBoolValue(u,d){return u===void 0?d:u==="1"}static toIntAttribute(u,d){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(u,d,c)}static toIntValue(u,d){return u===void 0?d:parseInt(u,10)}static toFloatAttribute(u,d){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(u,d,c)}static toFloatValue(u,d){return u===void 0?d:parseFloat(u)}}r.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(i,r,n){const a=i("../base-xform"),s=i("../../../utils/col-cache");function o(u){try{return s.decodeEx(u),!0}catch{return!1}}function l(u){const d=[];let c=!1,h="";return u.split(",").forEach(f=>{if(!f)return;const p=(f.match(/'/g)||[]).length;if(!p)return void(c?h+=f+",":o(f)&&d.push(f));const g=p%2==0;!c&&g&&o(f)?d.push(f):c&&!g?(c=!1,o(h+f)&&d.push(h+f),h=""):(c=!0,h+=f+",")}),d}r.exports=class extends a{render(u,d){u.openNode("definedName",{name:d.name,localSheetId:d.localSheetId}),u.writeText(d.ranges.join(",")),u.closeNode()}parseOpen(u){switch(u.name){case"definedName":return this._parsedName=u.attributes.name,this._parsedLocalSheetId=u.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(u){this._parsedText.push(u)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(i,r,n){const a=i("../../../utils/utils"),s=i("../base-xform");r.exports=class extends s{render(o,l){o.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(o){return o.name==="sheet"&&(this.model={name:a.xmlDecode(o.attributes.name),id:parseInt(o.attributes.sheetId,10),state:o.attributes.state,rId:o.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{render(s,o){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:o.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{render(s,o){s.leafNode("workbookPr",{date1904:o.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"&&(this.model={date1904:s.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{render(s,o){const l={xWindow:o.x||0,yWindow:o.y||0,windowWidth:o.width||12e3,windowHeight:o.height||24e3,firstSheet:o.firstSheet,activeTab:o.activeTab};o.visibility&&o.visibility!=="visible"&&(l.visibility=o.visibility),s.leafNode("workbookView",l)}parseOpen(s){if(s.name==="workbookView"){const o=this.model={},l=function(d,c,h){const f=c!==void 0?o[d]=c:h;f!==void 0&&(o[d]=f)},u=function(d,c,h){const f=c!==void 0?o[d]=parseInt(c,10):h;f!==void 0&&(o[d]=f)};return u("x",s.attributes.xWindow,0),u("y",s.attributes.yWindow,0),u("width",s.attributes.windowWidth,25e3),u("height",s.attributes.windowHeight,1e4),l("visibility",s.attributes.visibility,"visible"),u("activeTab",s.attributes.activeTab,void 0),u("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../../../utils/col-cache"),o=i("../../../utils/xml-stream"),l=i("../base-xform"),u=i("../static-xform"),d=i("../list-xform"),c=i("./defined-name-xform"),h=i("./sheet-xform"),f=i("./workbook-view-xform"),p=i("./workbook-properties-xform"),g=i("./workbook-calc-properties-xform");class m extends l{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new p,bookViews:new d({tag:"bookViews",count:!1,childXform:new f}),sheets:new d({tag:"sheets",count:!1,childXform:new h}),definedNames:new d({tag:"definedNames",count:!1,childXform:new c}),calcPr:new g}}prepare(b){b.sheets=b.worksheets;const E=[];let I=0;b.sheets.forEach(R=>{if(R.pageSetup&&R.pageSetup.printArea&&R.pageSetup.printArea.split("&&").forEach(N=>{const j=N.split(":"),V={name:"_xlnm.Print_Area",ranges:[`'${R.name}'!$${j[0]}:$${j[1]}`],localSheetId:I};E.push(V)}),R.pageSetup&&(R.pageSetup.printTitlesRow||R.pageSetup.printTitlesColumn)){const N=[];if(R.pageSetup.printTitlesColumn){const V=R.pageSetup.printTitlesColumn.split(":");N.push(`'${R.name}'!$${V[0]}:$${V[1]}`)}if(R.pageSetup.printTitlesRow){const V=R.pageSetup.printTitlesRow.split(":");N.push(`'${R.name}'!$${V[0]}:$${V[1]}`)}const j={name:"_xlnm.Print_Titles",ranges:N,localSheetId:I};E.push(j)}I++}),E.length&&(b.definedNames=b.definedNames.concat(E)),(b.media||[]).forEach((R,N)=>{R.name=R.type+(N+1)})}render(b,E){b.openXml(o.StdDocAttributes),b.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(b),this.map.workbookPr.render(b,E.properties),this.map.bookViews.render(b,E.views),this.map.sheets.render(b,E.sheets),this.map.definedNames.render(b,E.definedNames),this.map.calcPr.render(b,E.calcProperties),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"workbook":return!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(b){const E=(b.workbookRels||[]).reduce((V,H)=>(V[H.Id]=H,V),{}),I=[];let R,N=0;(b.sheets||[]).forEach(V=>{const H=E[V.rId];H&&(R=b.worksheetHash["xl/"+H.Target.replace(/^(\s|\/xl\/)+/,"")],R&&(R.name=V.name,R.id=V.id,R.state=V.state,I[N++]=R))});const j=[];a.each(b.definedNames,V=>{if(V.name==="_xlnm.Print_Area"){if(R=I[V.localSheetId],R){R.pageSetup||(R.pageSetup={});const H=s.decodeEx(V.ranges[0]);R.pageSetup.printArea=R.pageSetup.printArea?`${R.pageSetup.printArea}&&${H.dimensions}`:H.dimensions}}else if(V.name==="_xlnm.Print_Titles"){if(R=I[V.localSheetId],R){R.pageSetup||(R.pageSetup={});const H=V.ranges.join(","),W=/\$/g,G=/\$\d+:\$\d+/,P=H.match(G);if(P&&P.length){const x=P[0];R.pageSetup.printTitlesRow=x.replace(W,"")}const A=/\$[A-Z]+:\$[A-Z]+/,T=H.match(A);if(T&&T.length){const x=T[0];R.pageSetup.printTitlesColumn=x.replace(W,"")}}}else j.push(V)}),b.definedNames=j,b.media.forEach((V,H)=>{V.index=H})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new u({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},r.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(i,r,n){const a=i("../strings/rich-text-xform"),s=i("../../../utils/utils"),o=i("../base-xform"),l=r.exports=function(u){this.model=u};s.inherits(l,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new a),this._richTextXform},render(u,d){d=d||this.model,u.openNode("comment",{ref:d.ref,authorId:0}),u.openNode("text"),d&&d.note&&d.note.texts&&d.note.texts.forEach(c=>{this.richTextXform.render(u,c)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"comment":return this.model={type:"note",note:{texts:[]},...u.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(i,r,n){const a=i("../../../utils/xml-stream"),s=i("../../../utils/utils"),o=i("../base-xform"),l=i("./comment-xform"),u=r.exports=function(){this.map={comment:new l}};s.inherits(u,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(d,c){c=c||this.model,d.openXml(a.StdDocAttributes),d.openNode("comments",u.COMMENTS_ATTRIBUTES),d.openNode("authors"),d.leafNode("author",null,"Author"),d.closeNode(),d.openNode("commentList"),c.comments.forEach(h=>{this.map.comment.render(d,h)}),d.closeNode(),d.closeNode()},parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(d),!0;default:return!1}},parseText(d){this.parser&&this.parser.parseText(d)},parseClose(d){switch(d){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(i,r,n){const a=i("../../base-xform");r.exports=class extends a{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,o,l){(o===l[2]||this.tag==="x:SizeWithCells"&&o===l[1])&&s.leafNode(this.tag)}parseOpen(s){switch(s.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(i,r,n){const a=i("../../base-xform");r.exports=class extends a{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,o){s.leafNode(this.tag,null,o)}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"x:Anchor"}getAnchorRect(s){const o=Math.floor(s.left),l=Math.floor(68*(s.left-o)),u=Math.floor(s.top),d=Math.floor(18*(s.top-u)),c=Math.floor(s.right),h=Math.floor(68*(s.right-c)),f=Math.floor(s.bottom);return[o,l,u,d,c,h,f,Math.floor(18*(s.bottom-f))]}getDefaultRect(s){const o=s.col,l=Math.max(s.row-2,0);return[o,6,l,14,o+2,2,l+4,16]}render(s,o){const l=o.anchor?this.getAnchorRect(o.anchor):this.getDefaultRect(o.refAddress);s.leafNode("x:Anchor",null,l.join(", "))}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../base-xform":32}],44:[function(i,r,n){const a=i("../base-xform"),s=i("./vml-anchor-xform"),o=i("./style/vml-protection-xform"),l=i("./style/vml-position-xform"),u=["twoCells","oneCells","absolute"];r.exports=class extends a{constructor(){super(),this.map={"x:Anchor":new s,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(d,c){const{protection:h,editAs:f}=c.note;d.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(d,f,u),this.map["x:SizeWithCells"].render(d,f,u),this.map["x:Anchor"].render(d,c),this.map["x:Locked"].render(d,h.locked),d.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(d,h.lockText),d.leafNode("x:Row",null,c.refAddress.row-1),d.leafNode("x:Column",null,c.refAddress.col-1),d.closeNode()}parseOpen(d){switch(d.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const d=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),c=Object.keys(d).length;this.model.editAs=u[c],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(i,r,n){const a=i("../../../utils/xml-stream"),s=i("../base-xform"),o=i("./vml-shape-xform");class l extends s{constructor(){super(),this.map={"v:shape":new o}}get tag(){return"xml"}render(d,c){d.openXml(a.StdDocAttributes),d.openNode(this.tag,l.DRAWING_ATTRIBUTES),d.openNode("o:shapelayout",{"v:ext":"edit"}),d.leafNode("o:idmap",{"v:ext":"edit",data:1}),d.closeNode(),d.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),d.leafNode("v:stroke",{joinstyle:"miter"}),d.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),d.closeNode(),c.comments.forEach((h,f)=>{this.map["v:shape"].render(d,h,f)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,c){d.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,c):this.map["xdr:oneCellAnchor"].reconcile(h,c)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},r.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(i,r,n){const a=i("../base-xform"),s=i("./vml-textbox-xform"),o=i("./vml-client-data-xform");class l extends a{constructor(){super(),this.map={"v:textbox":new s,"x:ClientData":new o}}get tag(){return"v:shape"}render(d,c,h){d.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(c,h)),d.leafNode("v:fill",{color2:"infoBackground [80]"}),d.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),d.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(d,c),this.map["x:ClientData"].render(d,c),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={margins:{insetmode:d.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(u,d)=>({id:"_x0000_s"+(1025+d),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":u.note.margins&&u.note.margins.insetmode}),r.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"v:textbox"}conversionUnit(s,o,l){return`${parseFloat(s)*o.toFixed(2)}${l}`}reverseConversionUnit(s){return(s||"").split(",").map(o=>Number(parseFloat(this.conversionUnit(parseFloat(o),.1,"")).toFixed(2)))}render(s,o){const l={style:"mso-direction-alt:auto"};if(o&&o.note){let{inset:u}=o.note&&o.note.margins;Array.isArray(u)&&(u=u.map(d=>this.conversionUnit(d,10,"mm")).join(",")),u&&(l.inset=u)}s.openNode("v:textbox",l),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return this.model={inset:this.reverseConversionUnit(s.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(i,r,n){const a=i("./base-xform");r.exports=class extends a{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag&&(this.model=this.createNewModel(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,o){this.model[s]=o.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}},{"./base-xform":32}],49:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{render(s,o){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,o.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{render(s,o){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:o.length,baseType:"lpstr"}),o.forEach(l=>{s.leafNode("vt:lpstr",void 0,l.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(i,r,n){const a=i("../../../utils/xml-stream"),s=i("../base-xform"),o=i("../simple/string-xform"),l=i("./app-heading-pairs-xform"),u=i("./app-titles-of-parts-xform");class d extends s{constructor(){super(),this.map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new u}}render(h,f){h.openXml(a.StdDocAttributes),h.openNode("Properties",d.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,f.worksheets),this.map.TitleOfParts.render(h,f.worksheets),this.map.Company.render(h,f.company||""),this.map.Manager.render(h,f.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}d.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3,6}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},r.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(i,r,n){const a=i("../../../utils/xml-stream"),s=i("../base-xform");class o extends s{render(u,d){u.openXml(a.StdDocAttributes),u.openNode("Types",o.PROPERTY_ATTRIBUTES);const c={};(d.media||[]).forEach(h=>{if(h.type==="image"){const f=h.extension;c[f]||(c[f]=!0,u.leafNode("Default",{Extension:f,ContentType:"image/"+f}))}}),u.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),u.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),u.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),d.worksheets.forEach(h=>{const f=`/xl/worksheets/sheet${h.id}.xml`;u.leafNode("Override",{PartName:f,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),u.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),u.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),d.sharedStrings&&d.sharedStrings.count&&u.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),d.tables&&d.tables.forEach(h=>{u.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),d.drawings&&d.drawings.forEach(h=>{u.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),d.commentRefs&&(u.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),d.commentRefs.forEach(h=>{let{commentName:f}=h;u.leafNode("Override",{PartName:`/xl/${f}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),u.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),u.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),u.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}o.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},r.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(i,r,n){const a=i("../../../utils/xml-stream"),s=i("../base-xform"),o=i("../simple/date-xform"),l=i("../simple/string-xform"),u=i("../simple/integer-xform");class d extends s{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:d.DateFormat}),"cp:revision":new u({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:d.DateAttrs,format:d.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:d.DateAttrs,format:d.DateFormat})}}render(h,f){h.openXml(a.StdDocAttributes),h.openNode("cp:coreProperties",d.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,f.creator),this.map["dc:title"].render(h,f.title),this.map["dc:subject"].render(h,f.subject),this.map["dc:description"].render(h,f.description),this.map["dc:identifier"].render(h,f.identifier),this.map["dc:language"].render(h,f.language),this.map["cp:keywords"].render(h,f.keywords),this.map["cp:category"].render(h,f.category),this.map["cp:lastModifiedBy"].render(h,f.lastModifiedBy),this.map["cp:lastPrinted"].render(h,f.lastPrinted),this.map["cp:revision"].render(h,f.revision),this.map["cp:version"].render(h,f.version),this.map["cp:contentStatus"].render(h,f.contentStatus),this.map["cp:contentType"].render(h,f.contentType),this.map["dcterms:created"].render(h,f.created),this.map["dcterms:modified"].render(h,f.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}d.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},r.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{render(s,o){s.leafNode("Relationship",o)}parseOpen(s){switch(s.name){case"Relationship":return this.model=s.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(i,r,n){const a=i("../../../utils/xml-stream"),s=i("../base-xform"),o=i("./relationship-xform");class l extends s{constructor(){super(),this.map={Relationship:new o}}render(d,c){c=c||this._values,d.openXml(a.StdDocAttributes),d.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),c.forEach(h=>{this.map.Relationship.render(d,h)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(d){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},r.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,o){if(s&&s.rId){const l=o.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const u=l[1],d=o.mediaIndex[u];return o.media[d]}}}}},{"../base-xform":32}],57:[function(i,r,n){const a=i("../base-xform"),s=i("./blip-xform");r.exports=class extends a{constructor(){super(),this.map={"a:blip":new s}}get tag(){return"xdr:blipFill"}render(o,l){o.openNode(this.tag),this.map["a:blip"].render(o,l),o.openNode("a:stretch"),o.leafNode("a:fillRect"),o.closeNode(),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"a:blip"}render(s,o){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":o.rId,cstate:"print"})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(i,r,n){const a=i("../base-xform"),s=i("./hlink-click-xform"),o=i("./ext-lst-xform");r.exports=class extends a{constructor(){super(),this.map={"a:hlinkClick":new s,"a:extLst":new o}}get tag(){return"xdr:cNvPr"}render(l,u){l.openNode(this.tag,{id:u.index,name:"Picture "+u.index}),this.map["a:hlinkClick"].render(l,u),this.map["a:extLst"].render(l,u),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(i,r,n){const a=i("../base-xform"),s=i("../simple/integer-xform");r.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.map={"xdr:col":new s({tag:"xdr:col",zero:!0}),"xdr:colOff":new s({tag:"xdr:colOff",zero:!0}),"xdr:row":new s({tag:"xdr:row",zero:!0}),"xdr:rowOff":new s({tag:"xdr:rowOff",zero:!0})}}render(o,l){o.openNode(this.tag),this.map["xdr:col"].render(o,l.nativeCol),this.map["xdr:colOff"].render(o,l.nativeColOff),this.map["xdr:row"].render(o,l.nativeRow),this.map["xdr:rowOff"].render(o,l.nativeRowOff),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(i,r,n){const a=i("../../../utils/col-cache"),s=i("../../../utils/xml-stream"),o=i("../base-xform"),l=i("./two-cell-anchor-xform"),u=i("./one-cell-anchor-xform");class d extends o{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new u}}prepare(h){h.anchors.forEach((f,p)=>{f.anchorType=function(g){return(typeof g.range=="string"?a.decode(g.range):g.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(f),this.map[f.anchorType].prepare(f,{index:p})})}get tag(){return"xdr:wsDr"}render(h,f){h.openXml(s.StdDocAttributes),h.openNode(this.tag,d.DRAWING_ATTRIBUTES),f.anchors.forEach(p=>{this.map[p.anchorType].render(h,p)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,f){h.anchors.forEach(p=>{p.br?this.map["xdr:twoCellAnchor"].reconcile(p,f):this.map["xdr:oneCellAnchor"].reconcile(p,f)})}}d.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},r.exports=d},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.map={}}render(s,o){s.openNode(this.tag);const l=Math.floor(9525*o.width),u=Math.floor(9525*o.height);s.addAttribute("cx",l),s.addAttribute("cy",u),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={width:parseInt(s.attributes.cx||"0",10)/9525,height:parseInt(s.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"a:hlinkClick"}render(s,o){o.hyperlinks&&o.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":o.hyperlinks.rId,tooltip:o.hyperlinks.tooltip})}parseOpen(s){switch(s.name){case this.tag:return this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(i,r,n){const a=i("../base-xform"),s=i("./c-nv-pr-xform"),o=i("./c-nv-pic-pr-xform");r.exports=class extends a{constructor(){super(),this.map={"xdr:cNvPr":new s,"xdr:cNvPicPr":new o}}get tag(){return"xdr:nvPicPr"}render(l,u){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,u),this.map["xdr:cNvPicPr"].render(l,u),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(i,r,n){const a=i("./base-cell-anchor-xform"),s=i("../static-xform"),o=i("./cell-position-xform"),l=i("./ext-xform"),u=i("./pic-xform");r.exports=class extends a{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new u,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(d,c){this.map["xdr:pic"].prepare(d.picture,c)}render(d,c){d.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(d,c.range.tl),this.map["xdr:ext"].render(d,c.range.ext),this.map["xdr:pic"].render(d,c.picture),this.map["xdr:clientData"].render(d,{}),d.closeNode()}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(d,c){d.medium=this.reconcilePicture(d.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(i,r,n){const a=i("../base-xform"),s=i("../static-xform"),o=i("./blip-fill-xform"),l=i("./nv-pic-pr-xform"),u=i("./sp-pr");r.exports=class extends a{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new o,"xdr:spPr":new s(u)}}get tag(){return"xdr:pic"}prepare(d,c){d.index=c.index+1}render(d,c){d.openNode(this.tag),this.map["xdr:nvPicPr"].render(d,c),this.map["xdr:blipFill"].render(d,c),this.map["xdr:spPr"].render(d,c),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset();break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(){}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(i,r,n){r.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(i,r,n){const a=i("./base-cell-anchor-xform"),s=i("../static-xform"),o=i("./cell-position-xform"),l=i("./pic-xform");r.exports=class extends a{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(u,d){this.map["xdr:pic"].prepare(u.picture,d)}render(u,d){u.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,d.range.tl),this.map["xdr:to"].render(u,d.range.br),this.map["xdr:pic"].render(u,d.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,d){u.medium=this.reconcilePicture(u.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(i,r,n){const a=i("./base-xform");r.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,o){const{childXform:l}=this;s&&s.forEach((u,d)=>{o.index=d,l.prepare(u,o)})}render(s,o){if(this.always||o&&o.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,o&&o.length||0);const{childXform:l}=this;(o||[]).forEach((u,d)=>{l.render(s,u,d)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(s)&&(this.parser=this.childXform,!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,o){if(s){const{childXform:l}=this;s.forEach(u=>{l.reconcile(u,o)})}}}},{"./base-xform":32}],72:[function(i,r,n){const a=i("../../../utils/col-cache"),s=i("../base-xform");r.exports=class extends s{get tag(){return"autoFilter"}render(o,l){if(l)if(typeof l=="string")o.leafNode("autoFilter",{ref:l});else{const u=function(h){return typeof h=="string"?h:a.getAddress(h.row,h.column).address},d=u(l.from),c=u(l.to);d&&c&&o.leafNode("autoFilter",{ref:`${d}:${c}`})}}parseOpen(o){o.name==="autoFilter"&&(this.model=o.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(i,r,n){const a=i("../../../utils/utils"),s=i("../base-xform"),o=i("../../../doc/range"),l=i("../../../doc/enums"),u=i("../strings/rich-text-xform");function d(c){if(c==null)return l.ValueType.Null;if(c instanceof String||typeof c=="string")return l.ValueType.String;if(typeof c=="number")return l.ValueType.Number;if(typeof c=="boolean")return l.ValueType.Boolean;if(c instanceof Date)return l.ValueType.Date;if(c.text&&c.hyperlink)return l.ValueType.Hyperlink;if(c.formula)return l.ValueType.Formula;if(c.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}r.exports=class extends s{constructor(){super(),this.richTextXForm=new u}get tag(){return"c"}prepare(c,h){const f=h.styles.addStyleModel(c.style||{},function(p){switch(p.type){case l.ValueType.Formula:return d(p.result);default:return p.type}}(c));switch(f&&(c.styleId=f),c.comment&&h.comments.push({...c.comment,ref:c.address}),c.type){case l.ValueType.String:case l.ValueType.RichText:h.sharedStrings&&(c.ssId=h.sharedStrings.add(c.value));break;case l.ValueType.Date:h.date1904&&(c.date1904=!0);break;case l.ValueType.Hyperlink:h.sharedStrings&&c.text!==void 0&&c.text!==null&&(c.ssId=h.sharedStrings.add(c.text)),h.hyperlinks.push({address:c.address,target:c.hyperlink,tooltip:c.tooltip});break;case l.ValueType.Merge:h.merges.add(c);break;case l.ValueType.Formula:if(h.date1904&&(c.date1904=!0),c.shareType==="shared"&&(c.si=h.siFormulae++),c.formula)h.formulae[c.address]=c;else if(c.sharedFormula){const p=h.formulae[c.sharedFormula];if(!p)throw new Error("Shared Formula master must exist above and or left of clone for cell "+c.address);p.si===void 0?(p.shareType="shared",p.si=h.siFormulae++,p.range=new o(p.address,c.address)):p.range&&p.range.expandToAddress(c.address),c.si=p.si}}}renderFormula(c,h){let f=null;switch(h.shareType){case"shared":f={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":f={t:"array",ref:h.ref};break;default:h.si!==void 0&&(f={t:"shared",si:h.si})}switch(d(h.result)){case l.ValueType.Null:c.leafNode("f",f,h.formula);break;case l.ValueType.String:c.addAttribute("t","str"),c.leafNode("f",f,h.formula),c.leafNode("v",null,h.result);break;case l.ValueType.Number:c.leafNode("f",f,h.formula),c.leafNode("v",null,h.result);break;case l.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("f",f,h.formula),c.leafNode("v",null,h.result?1:0);break;case l.ValueType.Error:c.addAttribute("t","e"),c.leafNode("f",f,h.formula),c.leafNode("v",null,h.result.error);break;case l.ValueType.Date:c.leafNode("f",f,h.formula),c.leafNode("v",null,a.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(c,h){if(h.type!==l.ValueType.Null||h.styleId){switch(c.openNode("c"),c.addAttribute("r",h.address),h.styleId&&c.addAttribute("s",h.styleId),h.type){case l.ValueType.Null:break;case l.ValueType.Number:c.leafNode("v",null,h.value);break;case l.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("v",null,h.value?"1":"0");break;case l.ValueType.Error:c.addAttribute("t","e"),c.leafNode("v",null,h.value.error);break;case l.ValueType.String:case l.ValueType.RichText:h.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(c.addAttribute("t","inlineStr"),c.openNode("is"),h.value.richText.forEach(f=>{this.richTextXForm.render(c,f)}),c.closeNode("is")):(c.addAttribute("t","str"),c.leafNode("v",null,h.value));break;case l.ValueType.Date:c.leafNode("v",null,a.dateToExcel(h.value,h.date1904));break;case l.ValueType.Hyperlink:h.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,h.ssId)):(c.addAttribute("t","str"),c.leafNode("v",null,h.text));break;case l.ValueType.Formula:this.renderFormula(c,h);break;case l.ValueType.Merge:}c.closeNode()}}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"c":return this.model={address:c.attributes.r},this.t=c.attributes.t,c.attributes.s&&(this.model.styleId=parseInt(c.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=c.attributes.si,this.model.shareType=c.attributes.t,this.model.ref=c.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){if(this.parser)this.parser.parseText(c);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+c:c;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+c:c:this.model.value=this.model.value?this.model.value+c:c}}parseClose(c){switch(c){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=l.ValueType.Formula,h.value&&(this.t==="str"?h.result=a.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=l.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=l.ValueType.String,h.value=a.xmlDecode(h.value);break;case"inlineStr":h.type=l.ValueType.String;break;case"b":h.type=l.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=l.ValueType.Error,h.value={error:h.value};break;default:h.type=l.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=l.ValueType.Null:h.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(c),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(c),!0)}}reconcile(c,h){const f=c.styleId&&h.styles&&h.styles.getStyleModel(c.styleId);switch(f&&(c.style=f),c.styleId!==void 0&&(c.styleId=void 0),c.type){case l.ValueType.String:typeof c.value=="number"&&h.sharedStrings&&(c.value=h.sharedStrings.getString(c.value)),c.value.richText&&(c.type=l.ValueType.RichText);break;case l.ValueType.Number:f&&a.isDateFmt(f.numFmt)&&(c.type=l.ValueType.Date,c.value=a.excelToDate(c.value,h.date1904));break;case l.ValueType.Formula:c.result!==void 0&&f&&a.isDateFmt(f.numFmt)&&(c.result=a.excelToDate(c.result,h.date1904)),c.shareType==="shared"&&(c.ref?h.formulae[c.si]=c.address:(c.sharedFormula=h.formulae[c.si],delete c.shareType),delete c.si)}const p=h.hyperlinkMap[c.address];p&&(c.type===l.ValueType.Formula?(c.text=c.result,c.result=void 0):(c.text=c.value,c.value=void 0),c.type=l.ValueType.Hyperlink,c.hyperlink=p);const g=h.commentsMap&&h.commentsMap[c.address];g&&(c.comment=g)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(i,r,n){const a=i("../../base-xform");r.exports=class extends a{get tag(){return"x14:cfIcon"}render(s,o){s.leafNode(this.tag,{iconSet:o.iconSet,iconId:o.iconId})}parseOpen(s){let{attributes:o}=s;this.model={iconSet:o.iconSet,iconId:a.toIntValue(o.iconId)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],75:[function(i,r,n){const{v4:a}=i("uuid"),s=i("../../base-xform"),o=i("../../composite-xform"),l=i("./databar-ext-xform"),u=i("./icon-set-ext-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class c extends o{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new u}}get tag(){return"x14:cfRule"}static isExt(f){return f.type==="dataBar"?l.isExt(f):!(f.type!=="iconSet"||!f.custom&&!d[f.iconSet])}prepare(f){c.isExt(f)&&(f.x14Id=`{${a()}}`.toUpperCase())}render(f,p){if(c.isExt(p))switch(p.type){case"dataBar":this.renderDataBar(f,p);break;case"iconSet":this.renderIconSet(f,p)}}renderDataBar(f,p){f.openNode(this.tag,{type:"dataBar",id:p.x14Id}),this.databarXform.render(f,p),f.closeNode()}renderIconSet(f,p){f.openNode(this.tag,{type:"iconSet",priority:p.priority,id:p.x14Id||`{${a()}}`}),this.iconSetXform.render(f,p),f.closeNode()}createNewModel(f){let{attributes:p}=f;return{type:p.type,x14Id:p.id,priority:s.toIntValue(p.priority)}}onParserClose(f,p){Object.assign(this.model,p.model)}}r.exports=c},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(i,r,n){const a=i("../../composite-xform"),s=i("./f-ext-xform");r.exports=class extends a{constructor(){super(),this.map={"xm:f":this.fExtXform=new s}}get tag(){return"x14:cfvo"}render(o,l){o.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(o,l.value),o.closeNode()}createNewModel(o){return{type:o.attributes.type}}onParserClose(o,l){switch(o){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(i,r,n){const a=i("../../composite-xform"),s=i("./sqref-ext-xform"),o=i("./cf-rule-ext-xform");r.exports=class extends a{constructor(){super(),this.map={"xm:sqref":this.sqRef=new s,"x14:cfRule":this.cfRule=new o}}get tag(){return"x14:conditionalFormatting"}prepare(l,u){l.rules.forEach(d=>{this.cfRule.prepare(d,u)})}render(l,u){u.rules.some(o.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),u.rules.filter(o.isExt).forEach(d=>this.cfRule.render(l,d)),this.sqRef.render(l,u.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,u){switch(l){case"xm:sqref":this.model.ref=u.model;break;case"x14:cfRule":this.model.rules.push(u.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(i,r,n){const a=i("../../composite-xform"),s=i("./cf-rule-ext-xform"),o=i("./conditional-formatting-ext-xform");r.exports=class extends a{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new o}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(u=>u.rules.some(s.isExt))),l.hasExtContent}prepare(l,u){l.forEach(d=>{this.cfXform.prepare(d,u)})}render(l,u){this.hasContent(u)&&(l.openNode(this.tag),u.forEach(d=>this.cfXform.render(l,d)),l.closeNode())}createNewModel(){return[]}onParserClose(l,u){this.model.push(u.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(i,r,n){const a=i("../../base-xform"),s=i("../../composite-xform"),o=i("../../style/color-xform"),l=i("./cfvo-ext-xform");r.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new o("x14:axisColor")}}static isExt(u){return!u.gradient}get tag(){return"x14:dataBar"}render(u,d){u.openNode(this.tag,{minLength:a.toIntAttribute(d.minLength,0,!0),maxLength:a.toIntAttribute(d.maxLength,100,!0),border:a.toBoolAttribute(d.border,!1),gradient:a.toBoolAttribute(d.gradient,!0),negativeBarColorSameAsPositive:a.toBoolAttribute(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolAttribute(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toAttribute(d.axisPosition,"auto"),direction:a.toAttribute(d.direction,"leftToRight")}),d.cfvo.forEach(c=>{this.cfvoXform.render(u,c)}),this.borderColorXform.render(u,d.borderColor),this.negativeBorderColorXform.render(u,d.negativeBorderColor),this.negativeFillColorXform.render(u,d.negativeFillColor),this.axisColorXform.render(u,d.axisColor),u.closeNode()}createNewModel(u){let{attributes:d}=u;return{cfvo:[],minLength:a.toIntValue(d.minLength,0),maxLength:a.toIntValue(d.maxLength,100),border:a.toBoolValue(d.border,!1),gradient:a.toBoolValue(d.gradient,!0),negativeBarColorSameAsPositive:a.toBoolValue(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolValue(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toStringValue(d.axisPosition,"auto"),direction:a.toStringValue(d.direction,"leftToRight")}}onParserClose(u,d){const[,c]=u.split(":");switch(c){case"cfvo":this.model.cfvo.push(d.model);break;default:this.model[c]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(i,r,n){const a=i("../../base-xform");r.exports=class extends a{get tag(){return"xm:f"}render(s,o){s.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],81:[function(i,r,n){const a=i("../../base-xform"),s=i("../../composite-xform"),o=i("./cfvo-ext-xform"),l=i("./cf-icon-ext-xform");r.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(u,d){u.openNode(this.tag,{iconSet:a.toStringAttribute(d.iconSet),reverse:a.toBoolAttribute(d.reverse,!1),showValue:a.toBoolAttribute(d.showValue,!0),custom:a.toBoolAttribute(d.icons,!1)}),d.cfvo.forEach(c=>{this.cfvoXform.render(u,c)}),d.icons&&d.icons.forEach((c,h)=>{c.iconId=h,this.cfIconXform.render(u,c)}),u.closeNode()}createNewModel(u){let{attributes:d}=u;return{cfvo:[],iconSet:a.toStringValue(d.iconSet,"3TrafficLights"),reverse:a.toBoolValue(d.reverse,!1),showValue:a.toBoolValue(d.showValue,!0)}}onParserClose(u,d){const[,c]=u.split(":");switch(c){case"cfvo":this.model.cfvo.push(d.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(d.model);break;default:this.model[c]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(i,r,n){const a=i("../../base-xform");r.exports=class extends a{get tag(){return"xm:sqref"}render(s,o){s.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],83:[function(i,r,n){const a=i("../../base-xform"),s=i("../../composite-xform"),o=i("../../../../doc/range"),l=i("./databar-xform"),u=i("./ext-lst-ref-xform"),d=i("./formula-xform"),c=i("./color-scale-xform"),h=i("./icon-set-xform"),f={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},p=m=>{const{type:v,operator:b}=m;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:b}}};class g extends s{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new u,formula:this.formulaXform=new d,colorScale:this.colorScaleXform=new c,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!f[v.iconSet]}render(v,b){switch(b.type){case"expression":this.renderExpression(v,b);break;case"cellIs":this.renderCellIs(v,b);break;case"top10":this.renderTop10(v,b);break;case"aboveAverage":this.renderAboveAverage(v,b);break;case"dataBar":this.renderDataBar(v,b);break;case"colorScale":this.renderColorScale(v,b);break;case"iconSet":this.renderIconSet(v,b);break;case"containsText":this.renderText(v,b);break;case"timePeriod":this.renderTimePeriod(v,b)}}renderExpression(v,b){v.openNode(this.tag,{type:"expression",dxfId:b.dxfId,priority:b.priority}),this.formulaXform.render(v,b.formulae[0]),v.closeNode()}renderCellIs(v,b){v.openNode(this.tag,{type:"cellIs",dxfId:b.dxfId,priority:b.priority,operator:b.operator}),b.formulae.forEach(E=>{this.formulaXform.render(v,E)}),v.closeNode()}renderTop10(v,b){v.leafNode(this.tag,{type:"top10",dxfId:b.dxfId,priority:b.priority,percent:a.toBoolAttribute(b.percent,!1),bottom:a.toBoolAttribute(b.bottom,!1),rank:a.toIntValue(b.rank,10,!0)})}renderAboveAverage(v,b){v.leafNode(this.tag,{type:"aboveAverage",dxfId:b.dxfId,priority:b.priority,aboveAverage:a.toBoolAttribute(b.aboveAverage,!0)})}renderDataBar(v,b){v.openNode(this.tag,{type:"dataBar",priority:b.priority}),this.databarXform.render(v,b),this.extLstRefXform.render(v,b),v.closeNode()}renderColorScale(v,b){v.openNode(this.tag,{type:"colorScale",priority:b.priority}),this.colorScaleXform.render(v,b),v.closeNode()}renderIconSet(v,b){g.isPrimitive(b)&&(v.openNode(this.tag,{type:"iconSet",priority:b.priority}),this.iconSetXform.render(v,b),v.closeNode())}renderText(v,b){v.openNode(this.tag,{type:b.operator,dxfId:b.dxfId,priority:b.priority,operator:a.toStringAttribute(b.operator,"containsText")});const E=(I=>{if(I.formulae&&I.formulae[0])return I.formulae[0];const R=new o(I.ref),{tl:N}=R;switch(I.operator){case"containsText":return`NOT(ISERROR(SEARCH("${I.text}",${N})))`;case"containsBlanks":return`LEN(TRIM(${N}))=0`;case"notContainsBlanks":return`LEN(TRIM(${N}))>0`;case"containsErrors":return`ISERROR(${N})`;case"notContainsErrors":return`NOT(ISERROR(${N}))`;default:return}})(b);E&&this.formulaXform.render(v,E),v.closeNode()}renderTimePeriod(v,b){v.openNode(this.tag,{type:"timePeriod",dxfId:b.dxfId,priority:b.priority,timePeriod:b.timePeriod});const E=(I=>{if(I.formulae&&I.formulae[0])return I.formulae[0];const R=new o(I.ref),{tl:N}=R;switch(I.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${N},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${N},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${N},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${N},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${N},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${N},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${N},1)=TODAY()-1`;case"today":return`FLOOR(${N},1)=TODAY()`;case"tomorrow":return`FLOOR(${N},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${N},1)<=6,FLOOR(${N},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${N})=MONTH(EDATE(TODAY(),0-1)),YEAR(${N})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${N})=MONTH(TODAY()),YEAR(${N})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${N})=MONTH(EDATE(TODAY(),0+1)),YEAR(${N})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(b);E&&this.formulaXform.render(v,E),v.closeNode()}createNewModel(v){let{attributes:b}=v;return{...p(b),dxfId:a.toIntValue(b.dxfId),priority:a.toIntValue(b.priority),timePeriod:b.timePeriod,percent:a.toBoolValue(b.percent),bottom:a.toBoolValue(b.bottom),rank:a.toIntValue(b.rank),aboveAverage:a.toBoolValue(b.aboveAverage)}}onParserClose(v,b){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,b.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(b.model)}}}r.exports=g},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(i,r,n){const a=i("../../base-xform");r.exports=class extends a{get tag(){return"cfvo"}render(s,o){s.leafNode(this.tag,{type:o.type,val:o.value})}parseOpen(s){this.model={type:s.attributes.type,value:a.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],85:[function(i,r,n){const a=i("../../composite-xform"),s=i("../../style/color-xform"),o=i("./cfvo-xform");r.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new s}}get tag(){return"colorScale"}render(l,u){l.openNode(this.tag),u.cfvo.forEach(d=>{this.cfvoXform.render(l,d)}),u.color.forEach(d=>{this.colorXform.render(l,d)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,u){this.model[l].push(u.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(i,r,n){const a=i("../../composite-xform"),s=i("./cf-rule-xform");r.exports=class extends a{constructor(){super(),this.map={cfRule:new s}}get tag(){return"conditionalFormatting"}render(o,l){l.rules.some(s.isPrimitive)&&(o.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(u=>{s.isPrimitive(u)&&(u.ref=l.ref,this.map.cfRule.render(o,u))}),o.closeNode())}createNewModel(o){let{attributes:l}=o;return{ref:l.sqref,rules:[]}}onParserClose(o,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(i,r,n){const a=i("../../base-xform"),s=i("./conditional-formatting-xform");r.exports=class extends a{constructor(){super(),this.cfXform=new s}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(o,l){let u=o.reduce((d,c)=>Math.max(d,...c.rules.map(h=>h.priority||0)),1);o.forEach(d=>{d.rules.forEach(c=>{c.priority||(c.priority=u++),c.style&&(c.dxfId=l.styles.addDxfStyle(c.style))})})}render(o,l){l.forEach(u=>{this.cfXform.render(o,u)})}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(!!this.parser.parseClose(o)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(o,l){o.forEach(u=>{u.rules.forEach(d=>{d.dxfId!==void 0&&(d.style=l.styles.getDxfStyle(d.dxfId),delete d.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(i,r,n){const a=i("../../composite-xform"),s=i("../../style/color-xform"),o=i("./cfvo-xform");r.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new s}}get tag(){return"dataBar"}render(l,u){l.openNode(this.tag),u.cfvo.forEach(d=>{this.cfvoXform.render(l,d)}),this.colorXform.render(l,u.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,u){switch(l){case"cfvo":this.model.cfvo.push(u.model);break;case"color":this.model.color=u.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(i,r,n){const a=i("../../base-xform"),s=i("../../composite-xform");class o extends a{get tag(){return"x14:id"}render(d,c){d.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(d){this.model+=d}parseClose(d){return d!==this.tag}}class l extends s{constructor(){super(),this.map={"x14:id":this.idXform=new o}}get tag(){return"ext"}render(d,c){d.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(d,c.x14Id),d.closeNode()}createNewModel(){return{}}onParserClose(d,c){this.model.x14Id=c.model}}r.exports=class extends s{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(u,d){u.openNode(this.tag),this.map.ext.render(u,d),u.closeNode()}createNewModel(){return{}}onParserClose(u,d){Object.assign(this.model,d.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(i,r,n){const a=i("../../base-xform");r.exports=class extends a{get tag(){return"formula"}render(s,o){s.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],91:[function(i,r,n){const a=i("../../base-xform"),s=i("../../composite-xform"),o=i("./cfvo-xform");r.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new o}}get tag(){return"iconSet"}render(l,u){l.openNode(this.tag,{iconSet:a.toStringAttribute(u.iconSet,"3TrafficLights"),reverse:a.toBoolAttribute(u.reverse,!1),showValue:a.toBoolAttribute(u.showValue,!0)}),u.cfvo.forEach(d=>{this.cfvoXform.render(l,d)}),l.closeNode()}createNewModel(l){let{attributes:u}=l;return{iconSet:a.toStringValue(u.iconSet,"3TrafficLights"),reverse:a.toBoolValue(u.reverse),showValue:a.toBoolValue(u.showValue),cfvo:[]}}onParserClose(l,u){this.model[l].push(u.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(i,r,n){const a=i("../../../utils/utils"),s=i("../base-xform");r.exports=class extends s{get tag(){return"col"}prepare(o,l){const u=l.styles.addStyleModel(o.style||{});u&&(o.styleId=u)}render(o,l){o.openNode("col"),o.addAttribute("min",l.min),o.addAttribute("max",l.max),l.width&&o.addAttribute("width",l.width),l.styleId&&o.addAttribute("style",l.styleId),l.hidden&&o.addAttribute("hidden","1"),l.bestFit&&o.addAttribute("bestFit","1"),l.outlineLevel&&o.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&o.addAttribute("collapsed","1"),o.addAttribute("customWidth","1"),o.closeNode()}parseOpen(o){if(o.name==="col"){const l=this.model={min:parseInt(o.attributes.min||"0",10),max:parseInt(o.attributes.max||"0",10),width:o.attributes.width===void 0?void 0:parseFloat(o.attributes.width||"0")};return o.attributes.style&&(l.styleId=parseInt(o.attributes.style,10)),a.parseBoolean(o.attributes.hidden)&&(l.hidden=!0),a.parseBoolean(o.attributes.bestFit)&&(l.bestFit=!0),o.attributes.outlineLevel&&(l.outlineLevel=parseInt(o.attributes.outlineLevel,10)),a.parseBoolean(o.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(o,l){o.styleId&&(o.style=l.styles.getStyleModel(o.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../../../utils/utils"),o=i("../../../utils/col-cache"),l=i("../base-xform"),u=i("../../../doc/range");function d(h,f,p,g){const m=f[p];m!==void 0?h[p]=m:g!==void 0&&(h[p]=g)}function c(h,f,p,g){const m=f[p];m!==void 0?h[p]=s.parseBoolean(m):g!==void 0&&(h[p]=g)}r.exports=class extends l{get tag(){return"dataValidations"}render(h,f){const p=function(g){const m=a.map(g,(E,I)=>({address:I,dataValidation:E,marked:!1})).sort((E,I)=>a.strcmp(E.address,I.address)),v=a.keyBy(m,"address"),b=(E,I,R)=>{for(let N=0;N<I;N++){const j=o.encodeAddress(E.row+N,R);if(!g[j]||!a.isEqual(g[E.address],g[j]))return!1}return!0};return m.map(E=>{if(!E.marked){const I=o.decodeEx(E.address);if(I.dimensions)return v[I.dimensions].marked=!0,{...E.dataValidation,sqref:E.address};let R=1,N=o.encodeAddress(I.row+R,I.col);for(;g[N]&&a.isEqual(E.dataValidation,g[N]);)R++,N=o.encodeAddress(I.row+R,I.col);let j=1;for(;b(I,R,I.col+j);)j++;for(let V=0;V<R;V++)for(let H=0;H<j;H++)N=o.encodeAddress(I.row+V,I.col+H),v[N].marked=!0;if(R>1||j>1){const V=I.row+(R-1),H=I.col+(j-1);return{...E.dataValidation,sqref:`${E.address}:${o.encodeAddress(V,H)}`}}return{...E.dataValidation,sqref:E.address}}return null}).filter(Boolean)}(f);p.length&&(h.openNode("dataValidations",{count:p.length}),p.forEach(g=>{h.openNode("dataValidation"),g.type!=="any"&&(h.addAttribute("type",g.type),g.operator&&g.type!=="list"&&g.operator!=="between"&&h.addAttribute("operator",g.operator),g.allowBlank&&h.addAttribute("allowBlank","1")),g.showInputMessage&&h.addAttribute("showInputMessage","1"),g.promptTitle&&h.addAttribute("promptTitle",g.promptTitle),g.prompt&&h.addAttribute("prompt",g.prompt),g.showErrorMessage&&h.addAttribute("showErrorMessage","1"),g.errorStyle&&h.addAttribute("errorStyle",g.errorStyle),g.errorTitle&&h.addAttribute("errorTitle",g.errorTitle),g.error&&h.addAttribute("error",g.error),h.addAttribute("sqref",g.sqref),(g.formulae||[]).forEach((m,v)=>{h.openNode("formula"+(v+1)),g.type==="date"?h.writeText(s.dateToExcel(new Date(m))):h.writeText(m),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const f={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&c(f,h.attributes,"allowBlank"),c(f,h.attributes,"showInputMessage"),c(f,h.attributes,"showErrorMessage"),f.type){case"any":case"list":case"custom":break;default:d(f,h.attributes,"operator","between")}return d(f,h.attributes,"promptTitle"),d(f,h.attributes,"prompt"),d(f,h.attributes,"errorStyle"),d(f,h.attributes,"errorTitle"),d(f,h.attributes,"error"),this._dataValidation=f,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(f=>{f.includes(":")?new u(f).forEachAddress(p=>{this.model[p]=this._dataValidation}):this.model[f]=this._dataValidation}),!0;case"formula1":case"formula2":{let f=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":f=parseInt(f,10);break;case"decimal":f=parseFloat(f);break;case"date":f=s.excelToDate(parseFloat(f))}return this._dataValidation.formulae.push(f),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"dimension"}render(s,o){o&&s.leafNode("dimension",{ref:o})}parseOpen(s){return s.name==="dimension"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"drawing"}render(s,o){o&&s.leafNode(this.tag,{"r:id":o.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(i,r,n){const a=i("../composite-xform"),s=i("./cf-ext/conditional-formattings-ext-xform");class o extends a{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new s}}get tag(){return"ext"}hasContent(u){return this.conditionalFormattings.hasContent(u.conditionalFormattings)}prepare(u,d){this.conditionalFormattings.prepare(u.conditionalFormattings,d)}render(u,d){u.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(u,d.conditionalFormattings),u.closeNode()}createNewModel(){return{}}onParserClose(u,d){this.model[u]=d.model}}r.exports=class extends a{constructor(){super(),this.map={ext:this.ext=new o}}get tag(){return"extLst"}prepare(l,u){this.ext.prepare(l,u)}hasContent(l){return this.ext.hasContent(l)}render(l,u){this.hasContent(u)&&(l.openNode("extLst"),this.ext.render(l,u),l.closeNode())}createNewModel(){return{}}onParserClose(l,u){Object.assign(this.model,u.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"headerFooter"}render(s,o){if(o){s.addRollback();let l=!1;s.openNode("headerFooter"),o.differentFirst&&(s.addAttribute("differentFirst","1"),l=!0),o.differentOddEven&&(s.addAttribute("differentOddEven","1"),l=!0),o.oddHeader&&typeof o.oddHeader=="string"&&(s.leafNode("oddHeader",null,o.oddHeader),l=!0),o.oddFooter&&typeof o.oddFooter=="string"&&(s.leafNode("oddFooter",null,o.oddFooter),l=!0),o.evenHeader&&typeof o.evenHeader=="string"&&(s.leafNode("evenHeader",null,o.evenHeader),l=!0),o.evenFooter&&typeof o.evenFooter=="string"&&(s.leafNode("evenFooter",null,o.evenFooter),l=!0),o.firstHeader&&typeof o.firstHeader=="string"&&(s.leafNode("firstHeader",null,o.firstHeader),l=!0),o.firstFooter&&typeof o.firstFooter=="string"&&(s.leafNode("firstFooter",null,o.firstFooter),l=!0),l?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"hyperlink"}render(s,o){this.isInternalLink(o)?s.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip,location:o.target}):s.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip})}parseOpen(s){return s.name==="hyperlink"&&(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}},{"../base-xform":32}],99:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"mergeCell"}render(s,o){s.leafNode("mergeCell",{ref:o})}parseOpen(s){return s.name==="mergeCell"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../../../doc/range"),o=i("../../../utils/col-cache"),l=i("../../../doc/enums");r.exports=class{constructor(){this.merges={}}add(u){if(this.merges[u.master])this.merges[u.master].expandToAddress(u.address);else{const d=`${u.master}:${u.address}`;this.merges[u.master]=new s(d)}}get mergeCells(){return a.map(this.merges,u=>u.range)}reconcile(u,d){a.each(u,c=>{const h=o.decode(c);for(let f=h.top;f<=h.bottom;f++){const p=d[f-1];for(let g=h.left;g<=h.right;g++){const m=p.cells[g-1];m?m.type===l.ValueType.Merge&&(m.master=h.tl):p.cells[g]={type:l.ValueType.Null,address:o.encodeAddress(f,g)}}}})}getMasterAddress(u){const d=this.hash[u];return d&&d.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(i,r,n){const a=i("../base-xform"),s=o=>o!==void 0;r.exports=class extends a{get tag(){return"outlinePr"}render(o,l){return!(!l||!s(l.summaryBelow)&&!s(l.summaryRight))&&(o.leafNode(this.tag,{summaryBelow:s(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:s(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={summaryBelow:s(o.attributes.summaryBelow)?!!Number(o.attributes.summaryBelow):void 0,summaryRight:s(o.attributes.summaryRight)?!!Number(o.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"brk"}render(s,o){s.leafNode("brk",o)}parseOpen(s){return s.name==="brk"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../base-xform");r.exports=class extends s{get tag(){return"pageMargins"}render(o,l){if(l){const u={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};a.some(u,d=>d!==void 0)&&o.leafNode(this.tag,u)}}parseOpen(o){switch(o.name){case this.tag:return this.model={left:parseFloat(o.attributes.left||.7),right:parseFloat(o.attributes.right||.7),top:parseFloat(o.attributes.top||.75),bottom:parseFloat(o.attributes.bottom||.75),header:parseFloat(o.attributes.header||.3),footer:parseFloat(o.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"pageSetUpPr"}render(s,o){return!(!o||!o.fitToPage)&&(s.leafNode(this.tag,{fitToPage:o.fitToPage?"1":void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={fitToPage:s.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../base-xform");function o(c){return c?"1":void 0}function l(c){switch(c){case"overThenDown":return c;default:return}}function u(c){switch(c){case"atEnd":case"asDisplyed":return c;default:return}}function d(c){switch(c){case"dash":case"blank":case"NA":return c;default:return}}r.exports=class extends s{get tag(){return"pageSetup"}render(c,h){if(h){const f={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:l(h.pageOrder),blackAndWhite:o(h.blackAndWhite),draft:o(h.draft),cellComments:u(h.cellComments),errors:d(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:o(h.firstPageNumber),usePrinterDefaults:o(h.usePrinterDefaults),copies:h.copies};a.some(f,p=>p!==void 0)&&c.leafNode(this.tag,f)}}parseOpen(c){switch(c.name){case this.tag:return this.model={paperSize:(h=c.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:c.attributes.orientation||"portrait",horizontalDpi:parseInt(c.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(c.attributes.verticalDpi||"4294967295",10),pageOrder:c.attributes.pageOrder||"downThenOver",blackAndWhite:c.attributes.blackAndWhite==="1",draft:c.attributes.draft==="1",cellComments:c.attributes.cellComments||"None",errors:c.attributes.errors||"displayed",scale:parseInt(c.attributes.scale||"100",10),fitToWidth:parseInt(c.attributes.fitToWidth||"1",10),fitToHeight:parseInt(c.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(c.attributes.firstPageNumber||"1",10),useFirstPageNumber:c.attributes.useFirstPageNumber==="1",usePrinterDefaults:c.attributes.usePrinterDefaults==="1",copies:parseInt(c.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"picture"}render(s,o){o&&s.leafNode(this.tag,{"r:id":o.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../base-xform");function o(l){return l?"1":void 0}r.exports=class extends s{get tag(){return"printOptions"}render(l,u){if(u){const d={headings:o(u.showRowColHeaders),gridLines:o(u.showGridLines),horizontalCentered:o(u.horizontalCentered),verticalCentered:o(u.verticalCentered)};a.some(d,c=>c!==void 0)&&l.leafNode(this.tag,d)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(i,r,n){const a=i("./page-breaks-xform"),s=i("../list-xform");r.exports=class extends s{constructor(){super({tag:"rowBreaks",count:!0,childXform:new a})}render(o,l){if(l&&l.length){o.openNode(this.tag,this.$),this.count&&(o.addAttribute(this.$count,l.length),o.addAttribute("manualBreakCount",l.length));const{childXform:u}=this;l.forEach(d=>{u.render(o,d)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(i,r,n){const a=i("../base-xform"),s=i("../../../utils/utils"),o=i("./cell-xform");r.exports=class extends a{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new o}}get tag(){return"row"}prepare(l,u){const d=u.styles.addStyleModel(l.style);d&&(l.styleId=d);const c=this.map.c;l.cells.forEach(h=>{c.prepare(h,u)})}render(l,u,d){l.openNode("row"),l.addAttribute("r",u.number),u.height&&(l.addAttribute("ht",u.height),l.addAttribute("customHeight","1")),u.hidden&&l.addAttribute("hidden","1"),u.min>0&&u.max>0&&u.min<=u.max&&l.addAttribute("spans",`${u.min}:${u.max}`),u.styleId&&(l.addAttribute("s",u.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),u.outlineLevel&&l.addAttribute("outlineLevel",u.outlineLevel),u.collapsed&&l.addAttribute("collapsed","1");const c=this.map.c;u.cells.forEach(h=>{c.render(l,h,d)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const u=l.attributes.spans?l.attributes.spans.split(":").map(c=>parseInt(c,10)):[void 0,void 0],d=this.model={number:parseInt(l.attributes.r,10),min:u[0],max:u[1],cells:[]};return l.attributes.s&&(d.styleId=parseInt(l.attributes.s,10)),s.parseBoolean(l.attributes.hidden)&&(d.hidden=!0),s.parseBoolean(l.attributes.bestFit)&&(d.bestFit=!0),l.attributes.ht&&(d.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(d.outlineLevel=parseInt(l.attributes.outlineLevel,10)),s.parseBoolean(l.attributes.collapsed)&&(d.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,u){l.style=l.styleId?u.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const d=this.map.c;l.cells.forEach(c=>{d.reconcile(c,u)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../base-xform");r.exports=class extends s{get tag(){return"sheetFormatPr"}render(o,l){if(l){const u={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(u.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(u.customHeight="1"),a.some(u,d=>d!==void 0)&&o.leafNode("sheetFormatPr",u)}}parseOpen(o){return o.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(o.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(o.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(o.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(o.attributes.outlineLevelCol||"0",10)},o.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(o.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(i,r,n){const a=i("../base-xform"),s=i("../style/color-xform"),o=i("./page-setup-properties-xform"),l=i("./outline-properties-xform");r.exports=class extends a{constructor(){super(),this.map={tabColor:new s("tabColor"),pageSetUpPr:new o,outlinePr:new l}}get tag(){return"sheetPr"}render(u,d){if(d){u.addRollback(),u.openNode("sheetPr");let c=!1;c=this.map.tabColor.render(u,d.tabColor)||c,c=this.map.pageSetUpPr.render(u,d.pageSetup)||c,c=this.map.outlinePr.render(u,d.outlineProperties)||c,c?(u.closeNode(),u.commit()):u.rollback()}}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):u.name===this.tag?(this.reset(),!0):!!this.map[u.name]&&(this.parser=this.map[u.name],this.parser.parseOpen(u),!0)}parseText(u){return!!this.parser&&(this.parser.parseText(u),!0)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../base-xform");function o(u,d){return u?d:void 0}function l(u,d){return u===d||void 0}r.exports=class extends s{get tag(){return"sheetProtection"}render(u,d){if(d){const c={sheet:o(d.sheet,"1"),selectLockedCells:d.selectLockedCells===!1?"1":void 0,selectUnlockedCells:d.selectUnlockedCells===!1?"1":void 0,formatCells:o(d.formatCells,"0"),formatColumns:o(d.formatColumns,"0"),formatRows:o(d.formatRows,"0"),insertColumns:o(d.insertColumns,"0"),insertRows:o(d.insertRows,"0"),insertHyperlinks:o(d.insertHyperlinks,"0"),deleteColumns:o(d.deleteColumns,"0"),deleteRows:o(d.deleteRows,"0"),sort:o(d.sort,"0"),autoFilter:o(d.autoFilter,"0"),pivotTables:o(d.pivotTables,"0")};d.sheet&&(c.algorithmName=d.algorithmName,c.hashValue=d.hashValue,c.saltValue=d.saltValue,c.spinCount=d.spinCount,c.objects=o(d.objects===!1,"1"),c.scenarios=o(d.scenarios===!1,"1")),a.some(c,h=>h!==void 0)&&u.leafNode(this.tag,c)}}parseOpen(u){switch(u.name){case this.tag:return this.model={sheet:l(u.attributes.sheet,"1"),objects:u.attributes.objects!=="1"&&void 0,scenarios:u.attributes.scenarios!=="1"&&void 0,selectLockedCells:u.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:u.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(u.attributes.formatCells,"0"),formatColumns:l(u.attributes.formatColumns,"0"),formatRows:l(u.attributes.formatRows,"0"),insertColumns:l(u.attributes.insertColumns,"0"),insertRows:l(u.attributes.insertRows,"0"),insertHyperlinks:l(u.attributes.insertHyperlinks,"0"),deleteColumns:l(u.attributes.deleteColumns,"0"),deleteRows:l(u.attributes.deleteRows,"0"),sort:l(u.attributes.sort,"0"),autoFilter:l(u.attributes.autoFilter,"0"),pivotTables:l(u.attributes.pivotTables,"0")},u.attributes.algorithmName&&(this.model.algorithmName=u.attributes.algorithmName,this.model.hashValue=u.attributes.hashValue,this.model.saltValue=u.attributes.saltValue,this.model.spinCount=parseInt(u.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(i,r,n){const a=i("../../../utils/col-cache"),s=i("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};r.exports=class extends s{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,u){l.openNode("sheetView",{workbookViewId:u.workbookViewId||0});const d=function(g,m,v){v&&l.addAttribute(g,m)};let c,h,f,p;switch(d("rightToLeft","1",u.rightToLeft===!0),d("tabSelected","1",u.tabSelected),d("showRuler","0",u.showRuler===!1),d("showRowColHeaders","0",u.showRowColHeaders===!1),d("showGridLines","0",u.showGridLines===!1),d("zoomScale",u.zoomScale,u.zoomScale),d("zoomScaleNormal",u.zoomScaleNormal,u.zoomScaleNormal),d("view",u.style,u.style),u.state){case"frozen":h=u.xSplit||0,f=u.ySplit||0,c=u.topLeftCell||a.getAddress(f+1,h+1).address,p=(u.xSplit&&u.ySplit?"bottomRight":u.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:u.xSplit||void 0,ySplit:u.ySplit||void 0,topLeftCell:c,activePane:p,state:"frozen"}),l.leafNode("selection",{pane:p,activeCell:u.activeCell,sqref:u.activeCell});break;case"split":u.activePane==="topLeft"&&(u.activePane=void 0),l.leafNode("pane",{xSplit:u.xSplit||void 0,ySplit:u.ySplit||void 0,topLeftCell:u.topLeftCell,activePane:u.activePane}),l.leafNode("selection",{pane:u.activePane,activeCell:u.activeCell,sqref:u.activeCell});break;case"normal":u.activeCell&&l.leafNode("selection",{activeCell:u.activeCell,sqref:u.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const u=l.attributes.pane||"topLeft";return this.selections[u]={pane:u,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let u,d;switch(l){case"sheetView":return this.sheetView&&this.pane?(u=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(u.activePane=this.pane.activePane),d=this.selections[this.pane.activePane],d&&d.activeCell&&(u.activeCell=d.activeCell),this.sheetView.style&&(u.style=this.sheetView.style)):(u=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},d=this.selections.topLeft,d&&d.activeCell&&(u.activeCell=d.activeCell),this.sheetView.style&&(u.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"tablePart"}render(s,o){o&&s.leafNode(this.tag,{"r:id":o.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../../../utils/col-cache"),o=i("../../../utils/xml-stream"),l=i("../../rel-type"),u=i("./merges"),d=i("../base-xform"),c=i("../list-xform"),h=i("./row-xform"),f=i("./col-xform"),p=i("./dimension-xform"),g=i("./hyperlink-xform"),m=i("./merge-cell-xform"),v=i("./data-validations-xform"),b=i("./sheet-properties-xform"),E=i("./sheet-format-properties-xform"),I=i("./sheet-view-xform"),R=i("./sheet-protection-xform"),N=i("./page-margins-xform"),j=i("./page-setup-xform"),V=i("./print-options-xform"),H=i("./auto-filter-xform"),W=i("./picture-xform"),G=i("./drawing-xform"),P=i("./table-part-xform"),A=i("./row-breaks-xform"),T=i("./header-footer-xform"),x=i("./cf/conditional-formattings-xform"),C=i("./ext-lst-xform"),y=(w,k)=>{if(!k||!k.length)return w;if(!w||!w.length)return k;const M={},O={};return w.forEach(F=>{M[F.ref]=F,F.rules.forEach(z=>{const{x14Id:X}=z;X&&(O[X]=z)})}),k.forEach(F=>{F.rules.forEach(z=>{const X=O[z.x14Id];X?((L,K)=>{Object.keys(K).forEach(D=>{const B=L[D],U=K[D];B===void 0&&U!==void 0&&(L[D]=U)})})(X,z):M[F.ref]?M[F.ref].rules.push(z):w.push({ref:F.ref,rules:[z]})})}),w};class S extends d{constructor(k){super();const{maxRows:M,maxCols:O,ignoreNodes:F}=k||{};this.ignoreNodes=F||[],this.map={sheetPr:new b,dimension:new p,sheetViews:new c({tag:"sheetViews",count:!1,childXform:new I}),sheetFormatPr:new E,cols:new c({tag:"cols",count:!1,childXform:new f}),sheetData:new c({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:O}),maxItems:M}),autoFilter:new H,mergeCells:new c({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new A,hyperlinks:new c({tag:"hyperlinks",count:!1,childXform:new g}),pageMargins:new N,dataValidations:new v,pageSetup:new j,headerFooter:new T,printOptions:new V,picture:new W,drawing:new G,sheetProtection:new R,tableParts:new c({tag:"tableParts",count:!0,childXform:new P}),conditionalFormatting:new x,extLst:new C}}prepare(k,M){M.merges=new u,k.hyperlinks=M.hyperlinks=[],k.comments=M.comments=[],M.formulae={},M.siFormulae=0,this.map.cols.prepare(k.cols,M),this.map.sheetData.prepare(k.rows,M),this.map.conditionalFormatting.prepare(k.conditionalFormattings,M),k.mergeCells=M.merges.mergeCells;const O=k.rels=[];function F(L){return"rId"+(L.length+1)}if(k.hyperlinks.forEach(L=>{const K=F(O);L.rId=K,O.push({Id:K,Type:l.Hyperlink,Target:L.target,TargetMode:"External"})}),k.comments.length>0){const L={Id:F(O),Type:l.Comments,Target:`../comments${k.id}.xml`};O.push(L);const K={Id:F(O),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${k.id}.vml`};O.push(K),k.comments.forEach(D=>{D.refAddress=s.decodeAddress(D.ref)}),M.commentRefs.push({commentName:"comments"+k.id,vmlDrawing:"vmlDrawing"+k.id})}const z=[];let X;k.media.forEach(L=>{if(L.type==="background"){const K=F(O);X=M.media[L.imageId],O.push({Id:K,Type:l.Image,Target:`../media/${X.name}.${X.extension}`}),k.background={rId:K},k.image=M.media[L.imageId]}else if(L.type==="image"){let{drawing:K}=k;X=M.media[L.imageId],K||(K=k.drawing={rId:F(O),name:"drawing"+ ++M.drawingsCount,anchors:[],rels:[]},M.drawings.push(K),O.push({Id:K.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${K.name}.xml`}));let D=this.preImageId===L.imageId?z[L.imageId]:z[K.rels.length];D||(D=F(K.rels),z[K.rels.length]=D,K.rels.push({Id:D,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${X.name}.${X.extension}`}));const B={picture:{rId:D},range:L.range};if(L.hyperlinks&&L.hyperlinks.hyperlink){const U=F(K.rels);z[K.rels.length]=U,B.picture.hyperlinks={tooltip:L.hyperlinks.tooltip,rId:U},K.rels.push({Id:U,Type:l.Hyperlink,Target:L.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=L.imageId,K.anchors.push(B)}}),k.tables.forEach(L=>{const K=F(O);L.rId=K,O.push({Id:K,Type:l.Table,Target:"../tables/"+L.target}),L.columns.forEach(D=>{const{style:B}=D;B&&(D.dxfId=M.styles.addDxfStyle(B))})}),this.map.extLst.prepare(k,M)}render(k,M){k.openXml(o.StdDocAttributes),k.openNode("worksheet",S.WORKSHEET_ATTRIBUTES);const O=M.properties?{defaultRowHeight:M.properties.defaultRowHeight,dyDescent:M.properties.dyDescent,outlineLevelCol:M.properties.outlineLevelCol,outlineLevelRow:M.properties.outlineLevelRow}:void 0;M.properties&&M.properties.defaultColWidth&&(O.defaultColWidth=M.properties.defaultColWidth);const F={outlineProperties:M.properties&&M.properties.outlineProperties,tabColor:M.properties&&M.properties.tabColor,pageSetup:M.pageSetup&&M.pageSetup.fitToPage?{fitToPage:M.pageSetup.fitToPage}:void 0},z=M.pageSetup&&M.pageSetup.margins,X={showRowColHeaders:M.pageSetup&&M.pageSetup.showRowColHeaders,showGridLines:M.pageSetup&&M.pageSetup.showGridLines,horizontalCentered:M.pageSetup&&M.pageSetup.horizontalCentered,verticalCentered:M.pageSetup&&M.pageSetup.verticalCentered},L=M.sheetProtection;this.map.sheetPr.render(k,F),this.map.dimension.render(k,M.dimensions),this.map.sheetViews.render(k,M.views),this.map.sheetFormatPr.render(k,O),this.map.cols.render(k,M.cols),this.map.sheetData.render(k,M.rows),this.map.sheetProtection.render(k,L),this.map.autoFilter.render(k,M.autoFilter),this.map.mergeCells.render(k,M.mergeCells),this.map.conditionalFormatting.render(k,M.conditionalFormattings),this.map.dataValidations.render(k,M.dataValidations),this.map.hyperlinks.render(k,M.hyperlinks),this.map.printOptions.render(k,X),this.map.pageMargins.render(k,z),this.map.pageSetup.render(k,M.pageSetup),this.map.headerFooter.render(k,M.headerFooter),this.map.rowBreaks.render(k,M.rowBreaks),this.map.drawing.render(k,M.drawing),this.map.picture.render(k,M.background),this.map.tableParts.render(k,M.tables),this.map.extLst.render(k,M),M.rels&&M.rels.forEach(K=>{K.Type===l.VmlDrawing&&k.leafNode("legacyDrawing",{"r:id":K.Id})}),k.closeNode()}parseOpen(k){return this.parser?(this.parser.parseOpen(k),!0):k.name==="worksheet"?(a.each(this.map,M=>{M.reset()}),!0):(this.map[k.name]&&!this.ignoreNodes.includes(k.name)&&(this.parser=this.map[k.name],this.parser.parseOpen(k)),!0)}parseText(k){this.parser&&this.parser.parseText(k)}parseClose(k){if(this.parser)return this.parser.parseClose(k)||(this.parser=void 0),!0;switch(k){case"worksheet":{const M=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(M.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(M.outlineProperties=this.map.sheetPr.model.outlineProperties);const O={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},F=Object.assign(O,this.map.pageSetup.model,this.map.printOptions.model),z=y(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:M,views:this.map.sheetViews.model,pageSetup:F,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:z},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(k,M){const O=(k.relationships||[]).reduce((z,X)=>{if(z[X.Id]=X,X.Type===l.Comments&&(k.comments=M.comments[X.Target].comments),X.Type===l.VmlDrawing&&k.comments&&k.comments.length){const L=M.vmlDrawings[X.Target].comments;k.comments.forEach((K,D)=>{K.note=Object.assign({},K.note,L[D])})}return z},{});if(M.commentsMap=(k.comments||[]).reduce((z,X)=>(X.ref&&(z[X.ref]=X),z),{}),M.hyperlinkMap=(k.hyperlinks||[]).reduce((z,X)=>(X.rId&&(z[X.address]=O[X.rId].Target),z),{}),M.formulae={},k.rows=k.rows&&k.rows.filter(Boolean)||[],k.rows.forEach(z=>{z.cells=z.cells&&z.cells.filter(Boolean)||[]}),this.map.cols.reconcile(k.cols,M),this.map.sheetData.reconcile(k.rows,M),this.map.conditionalFormatting.reconcile(k.conditionalFormattings,M),k.media=[],k.drawing){const z=O[k.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(z){const X=z[1];M.drawings[X].anchors.forEach(L=>{if(L.medium){const K={type:"image",imageId:L.medium.index,range:L.range,hyperlinks:L.picture.hyperlinks};k.media.push(K)}})}}const F=k.background&&O[k.background.rId];if(F){const z=F.Target.split("/media/")[1],X=M.mediaIndex&&M.mediaIndex[z];X!==void 0&&k.media.push({type:"background",imageId:X})}k.tables=(k.tables||[]).map(z=>{const X=O[z.rId];return M.tables[X.Target]}),delete k.relationships,delete k.hyperlinks,delete k.comments}}S.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},r.exports=S},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,o){o&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(o){try{return Number.isNaN(o.getTime())?"":o.toISOString()}catch{return""}},this._parse=s.parse||function(o){return new Date(o)}}render(s,o){o&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(o)):s.writeText(this._format(o)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,o){(o||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,o):s.writeText(o),s.closeNode())}parseOpen(s){return s.name===this.tag&&(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0)}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,o){o!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,o):s.writeText(o),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(i,r,n){const a=i("./base-xform"),s=i("../../utils/xml-stream");r.exports=class extends a{constructor(o){super(),this._model=o}render(o){if(!this._xml){const l=new s;(function u(d,c){d.openNode(c.tag,c.$),c.c&&c.c.forEach(h=>{u(d,h)}),c.t&&d.writeText(c.t),d.closeNode()})(l,this._model),this._xml=l.xml}o.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(o){switch(o){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(i,r,n){const a=i("./text-xform"),s=i("./rich-text-xform"),o=i("../base-xform");r.exports=class extends o{constructor(){super(),this.map={r:new s,t:new a}}get tag(){return"rPh"}render(l,u){if(l.openNode(this.tag,{sb:u.sb||0,eb:u.eb||0}),u&&u.hasOwnProperty("richText")&&u.richText){const{r:d}=this.map;u.richText.forEach(c=>{d.render(l,c)})}else u&&this.map.t.render(l,u.text);l.closeNode()}parseOpen(l){const{name:u}=l;return this.parser?(this.parser.parseOpen(l),!0):u===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(i,r,n){const a=i("./text-xform"),s=i("../style/font-xform"),o=i("../base-xform");class l extends o{constructor(d){super(),this.model=d}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new a)}get fontXform(){return this._fontXform||(this._fontXform=new s(l.FONT_OPTIONS))}render(d,c){c=c||this.model,d.openNode("r"),c.font&&this.fontXform.render(d,c.font),this.textXform.render(d,c.text),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(d),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){switch(d){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},r.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(i,r,n){const a=i("./text-xform"),s=i("./rich-text-xform"),o=i("./phonetic-text-xform"),l=i("../base-xform");r.exports=class extends l{constructor(u){super(),this.model=u,this.map={r:new s,t:new a,rPh:new o}}get tag(){return"si"}render(u,d){u.openNode(this.tag),d&&d.hasOwnProperty("richText")&&d.richText?d.richText.length?d.richText.forEach(c=>{this.map.r.render(u,c)}):this.map.t.render(u,""):d!=null&&this.map.t.render(u,d),u.closeNode()}parseOpen(u){const{name:d}=u;return this.parser?(this.parser.parseOpen(u),!0):d===this.tag?(this.model={},!0):(this.parser=this.map[d],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){switch(u){case"r":{let d=this.model.richText;d||(d=this.model.richText=[]),d.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(i,r,n){const a=i("../../../utils/xml-stream"),s=i("../base-xform"),o=i("./shared-string-xform");r.exports=class extends s{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new o)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let u=this.hash[l];return u===void 0&&(u=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,u}addRichText(l){const u=this.sharedStringXform.toXml(l);let d=this.rich[u];return d===void 0&&(d=this.rich[u]=this.model.values.length,this.model.values.push(l)),this.model.count++,d}render(l,u){u=u||this._values,l.openXml(a.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:u.count,uniqueCount:u.values.length});const d=this.sharedStringXform;u.values.forEach(c=>{d.render(l,c)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"t"}render(s,o){s.openNode("t"),/^\s|\n|\s$/.test(o)&&s.addAttribute("xml:space","preserve"),s.writeText(o),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,o)=>String.fromCharCode(parseInt(o,16)))}parseOpen(s){switch(s.name){case"t":return this._text=[],!0;default:return!1}}parseText(s){this._text.push(s)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(i,r,n){const a=i("../../../doc/enums"),s=i("../../../utils/utils"),o=i("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((d,c)=>(d[c]=!0,d),{}),horizontal(d){return this.horizontalValues[d]?d:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((d,c)=>(d[c]=!0,d),{}),vertical(d){return d==="middle"?"center":this.verticalValues[d]?d:void 0},wrapText:d=>!!d||void 0,shrinkToFit:d=>!!d||void 0,textRotation(d){switch(d){case"vertical":return d;default:return(d=s.validInt(d))>=-90&&d<=90?d:void 0}},indent:d=>(d=s.validInt(d),Math.max(0,d)),readingOrder(d){switch(d){case"ltr":return a.ReadingOrder.LeftToRight;case"rtl":return a.ReadingOrder.RightToLeft;default:return}}},u={toXml(d){if(d=l.textRotation(d)){if(d==="vertical")return 255;const c=Math.round(d);if(c>=0&&c<=90)return c;if(c<0&&c>=-90)return 90-c}},toModel(d){const c=s.validInt(d);if(c!==void 0){if(c===255)return"vertical";if(c>=0&&c<=90)return c;if(c>90&&c<=180)return 90-c}}};r.exports=class extends o{get tag(){return"alignment"}render(d,c){d.addRollback(),d.openNode("alignment");let h=!1;function f(p,g){g&&(d.addAttribute(p,g),h=!0)}f("horizontal",l.horizontal(c.horizontal)),f("vertical",l.vertical(c.vertical)),f("wrapText",!!l.wrapText(c.wrapText)&&"1"),f("shrinkToFit",!!l.shrinkToFit(c.shrinkToFit)&&"1"),f("indent",l.indent(c.indent)),f("textRotation",u.toXml(c.textRotation)),f("readingOrder",l.readingOrder(c.readingOrder)),d.closeNode(),h?d.commit():d.rollback()}parseOpen(d){const c={};let h=!1;function f(p,g,m){p&&(c[g]=m,h=!0)}f(d.attributes.horizontal,"horizontal",d.attributes.horizontal),f(d.attributes.vertical,"vertical",d.attributes.vertical==="center"?"middle":d.attributes.vertical),f(d.attributes.wrapText,"wrapText",s.parseBoolean(d.attributes.wrapText)),f(d.attributes.shrinkToFit,"shrinkToFit",s.parseBoolean(d.attributes.shrinkToFit)),f(d.attributes.indent,"indent",parseInt(d.attributes.indent,10)),f(d.attributes.textRotation,"textRotation",u.toModel(d.attributes.textRotation)),f(d.attributes.readingOrder,"readingOrder",d.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?c:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(i,r,n){const a=i("../base-xform"),s=i("../../../utils/utils"),o=i("./color-xform");class l extends a{constructor(d){super(),this.name=d,this.map={color:new o}}get tag(){return this.name}render(d,c,h){const f=c&&c.color||h||this.defaultColor;d.openNode(this.name),c&&c.style&&(d.addAttribute("style",c.style),f&&this.map.color.render(d,f)),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.name:{const{style:c}=d.attributes;return this.model=c?{style:c}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):(d===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(d){return l.validStyleValues[d]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((u,d)=>(u[d]=!0,u),{}),r.exports=class extends a{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(u,d){const{color:c}=d;function h(f,p){f&&!f.color&&d.color&&(f={...f,color:d.color}),p.render(u,f,c)}u.openNode("border"),d.diagonal&&d.diagonal.style&&(d.diagonal.up&&u.addAttribute("diagonalUp","1"),d.diagonal.down&&u.addAttribute("diagonalDown","1")),h(d.left,this.map.left),h(d.right,this.map.right),h(d.top,this.map.top),h(d.bottom,this.map.bottom),h(d.diagonal,this.map.diagonal),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"border":return this.reset(),this.diagonalUp=s.parseBoolean(u.attributes.diagonalUp),this.diagonalDown=s.parseBoolean(u.attributes.diagonalDown),!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;if(u==="border"){const d=this.model={},c=function(h,f,p){f&&(p&&Object.assign(f,p),d[h]=f)};c("left",this.map.left.model),c("right",this.map.right.model),c("top",this.map.top.model),c("bottom",this.map.bottom.model),c("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,o){return!!o&&(s.openNode(this.name),o.argb?s.addAttribute("rgb",o.argb):o.theme!==void 0?(s.addAttribute("theme",o.theme),o.tint!==void 0&&s.addAttribute("tint",o.tint)):o.indexed!==void 0?s.addAttribute("indexed",o.indexed):s.addAttribute("auto","1"),s.closeNode(),!0)}parseOpen(s){return s.name===this.name&&(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(i,r,n){const a=i("../base-xform"),s=i("./alignment-xform"),o=i("./border-xform"),l=i("./fill-xform"),u=i("./font-xform"),d=i("./numfmt-xform"),c=i("./protection-xform");r.exports=class extends a{constructor(){super(),this.map={alignment:new s,border:new o,fill:new l,font:new u,numFmt:new d,protection:new c}}get tag(){return"dxf"}render(h,f){if(h.openNode(this.tag),f.font&&this.map.font.render(h,f.font),f.numFmt&&f.numFmtId){const p={id:f.numFmtId,formatCode:f.numFmt};this.map.numFmt.render(h,p)}f.fill&&this.map.fill.render(h,f.fill),f.alignment&&this.map.alignment.render(h,f.alignment),f.border&&this.map.border.render(h,f.border),f.protection&&this.map.protection.render(h,f.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(i,r,n){const a=i("../base-xform"),s=i("./color-xform");class o extends a{constructor(){super(),this.map={color:new s}}get tag(){return"stop"}render(h,f){h.openNode("stop"),h.addAttribute("position",f.position),this.map.color.render(h,f.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends a{constructor(){super(),this.map={fgColor:new s("fgColor"),bgColor:new s("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,f){h.openNode("patternFill"),h.addAttribute("patternType",f.pattern),f.fgColor&&this.map.fgColor.render(h,f.fgColor),f.bgColor&&this.map.bgColor.render(h,f.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class u extends a{constructor(){super(),this.map={stop:new o}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,f){switch(h.openNode("gradientFill"),f.gradient){case"angle":h.addAttribute("degree",f.degree);break;case"path":h.addAttribute("type","path"),f.center.left&&(h.addAttribute("left",f.center.left),f.center.right===void 0&&h.addAttribute("right",f.center.left)),f.center.right&&h.addAttribute("right",f.center.right),f.center.top&&(h.addAttribute("top",f.center.top),f.center.bottom===void 0&&h.addAttribute("bottom",f.center.top)),f.center.bottom&&h.addAttribute("bottom",f.center.bottom)}const p=this.map.stop;f.stops.forEach(g=>{p.render(h,g)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const f=this.model={stops:[]};return h.attributes.degree?(f.gradient="angle",f.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(f.gradient="path",f.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(f.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(f.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class d extends a{constructor(){super(),this.map={patternFill:new l,gradientFill:new u}}get tag(){return"fill"}render(h,f){switch(h.addRollback(),h.openNode("fill"),f.type){case"pattern":this.map.patternFill.render(h,f);break;case"gradient":this.map.gradientFill.render(h,f);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return d.validPatternValues[h]}}d.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((c,h)=>(c[h]=!0,c),{}),d.StopXform=o,d.PatternFillXform=l,d.GradientFillXform=u,r.exports=d},{"../base-xform":32,"./color-xform":128}],131:[function(i,r,n){const a=i("./color-xform"),s=i("../simple/boolean-xform"),o=i("../simple/integer-xform"),l=i("../simple/string-xform"),u=i("./underline-xform"),d=i("../../../utils/under-dash"),c=i("../base-xform");class h extends c{constructor(p){super(),this.options=p||h.OPTIONS,this.map={b:{prop:"bold",xform:new s({tag:"b",attr:"val"})},i:{prop:"italic",xform:new s({tag:"i",attr:"val"})},u:{prop:"underline",xform:new u},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new a},condense:{prop:"condense",xform:new s({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new s({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new s({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new s({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new s({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(p,g){const{map:m}=this;p.openNode(this.options.tagName),d.each(this.map,(v,b)=>{m[b].xform.render(p,g[v.prop])}),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;if(this.map[p.name])return this.parser=this.map[p.name].xform,this.parser.parseOpen(p);switch(p.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser&&!this.parser.parseClose(p)){const g=this.map[p];return this.parser.model&&(this.model[g.prop]=this.parser.model),this.parser=void 0,!0}switch(p){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},r.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../../defaultnumformats"),o=i("../base-xform"),l=function(){const d={};return a.each(s,(c,h)=>{c.f&&(d[c.f]=parseInt(h,10))}),d}();class u extends o{constructor(c,h){super(),this.id=c,this.formatCode=h}get tag(){return"numFmt"}render(c,h){c.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(c){switch(c.name){case"numFmt":return this.model={id:parseInt(c.attributes.numFmtId,10),formatCode:c.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}u.getDefaultFmtId=function(d){return l[d]},u.getDefaultFmtCode=function(d){return s[d]&&s[d].f},r.exports=u},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(i,r,n){const a=i("../base-xform"),s={boolean:(o,l)=>o===void 0?l:o};r.exports=class extends a{get tag(){return"protection"}render(o,l){o.addRollback(),o.openNode("protection");let u=!1;function d(c,h){h!==void 0&&(o.addAttribute(c,h),u=!0)}d("locked",s.boolean(l.locked,!0)?void 0:"0"),d("hidden",s.boolean(l.hidden,!1)?"1":void 0),o.closeNode(),u?o.commit():o.rollback()}parseOpen(o){const l={locked:o.attributes.locked!=="0",hidden:o.attributes.hidden==="1"},u=!l.locked||l.hidden;this.model=u?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(i,r,n){const a=i("../base-xform"),s=i("./alignment-xform"),o=i("./protection-xform");r.exports=class extends a{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new s,protection:new o}}get tag(){return"xf"}render(l,u){l.openNode("xf",{numFmtId:u.numFmtId||0,fontId:u.fontId||0,fillId:u.fillId||0,borderId:u.borderId||0}),this.xfId&&l.addAttribute("xfId",u.xfId||0),u.numFmtId&&l.addAttribute("applyNumberFormat","1"),u.fontId&&l.addAttribute("applyFont","1"),u.fillId&&l.addAttribute("applyFill","1"),u.borderId&&l.addAttribute("applyBorder","1"),u.alignment&&l.addAttribute("applyAlignment","1"),u.protection&&l.addAttribute("applyProtection","1"),u.alignment&&this.map.alignment.render(l,u.alignment),u.protection&&this.map.protection.render(l,u.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(i,r,n){const a=i("../../../doc/enums"),s=i("../../../utils/xml-stream"),o=i("../base-xform"),l=i("../static-xform"),u=i("../list-xform"),d=i("./font-xform"),c=i("./fill-xform"),h=i("./border-xform"),f=i("./numfmt-xform"),p=i("./style-xform"),g=i("./dxf-xform");class m extends o{constructor(b){super(),this.map={numFmts:new u({tag:"numFmts",count:!0,childXform:new f}),fonts:new u({tag:"fonts",count:!0,childXform:new d,$:{"x14ac:knownFonts":1}}),fills:new u({tag:"fills",count:!0,childXform:new c}),borders:new u({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new u({tag:"cellStyleXfs",count:!0,childXform:new p}),cellXfs:new u({tag:"cellXfs",count:!0,childXform:new p({xfId:!0})}),dxfs:new u({tag:"dxfs",always:!0,count:!0,childXform:new g}),numFmt:new f,font:new d,fill:new c,border:new h,style:new p({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},b&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(b,E){E=E||this.model,b.openXml(s.StdDocAttributes),b.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(E.numFmts&&E.numFmts.length&&(b.openNode("numFmts",{count:E.numFmts.length}),E.numFmts.forEach(I=>{b.writeXml(I)}),b.closeNode()),E.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),b.openNode("fonts",{count:E.fonts.length,"x14ac:knownFonts":1}),E.fonts.forEach(I=>{b.writeXml(I)}),b.closeNode(),b.openNode("fills",{count:E.fills.length}),E.fills.forEach(I=>{b.writeXml(I)}),b.closeNode(),b.openNode("borders",{count:E.borders.length}),E.borders.forEach(I=>{b.writeXml(I)}),b.closeNode(),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),b.openNode("cellXfs",{count:E.styles.length}),E.styles.forEach(I=>{b.writeXml(I)}),b.closeNode()):(this.map.numFmts.render(b,E.numFmts),this.map.fonts.render(b,E.fonts),this.map.fills.render(b,E.fills),this.map.borders.render(b,E.borders),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(b,E.styles)),m.STATIC_XFORMS.cellStyles.render(b),this.map.dxfs.render(b,E.dxfs),m.STATIC_XFORMS.tableStyles.render(b),m.STATIC_XFORMS.extLst.render(b),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"styleSheet":{this.model={};const E=(I,R)=>{R.model&&R.model.length&&(this.model[I]=R.model)};if(E("numFmts",this.map.numFmts),E("fonts",this.map.fonts),E("fills",this.map.fills),E("borders",this.map.borders),E("styles",this.map.cellXfs),E("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const I=this.index.numFmt;this.model.numFmts.forEach(R=>{I[R.id]=R.formatCode})}return!1}default:return!0}}addStyleModel(b,E){if(!b)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(b))return this.weakMap.get(b);const I={};if(E=E||a.ValueType.Number,b.numFmt)I.numFmtId=this._addNumFmtStr(b.numFmt);else switch(E){case a.ValueType.Number:I.numFmtId=this._addNumFmtStr("General");break;case a.ValueType.Date:I.numFmtId=this._addNumFmtStr("mm-dd-yy")}b.font&&(I.fontId=this._addFont(b.font)),b.border&&(I.borderId=this._addBorder(b.border)),b.fill&&(I.fillId=this._addFill(b.fill)),b.alignment&&(I.alignment=b.alignment),b.protection&&(I.protection=b.protection);const R=this._addStyle(I);return this.weakMap&&this.weakMap.set(b,R),R}getStyleModel(b){const E=this.model.styles[b];if(!E)return null;let I=this.index.model[b];if(I)return I;if(I=this.index.model[b]={},E.numFmtId){const N=this.index.numFmt[E.numFmtId]||f.getDefaultFmtCode(E.numFmtId);N&&(I.numFmt=N)}function R(N,j,V){if(V||V===0){const H=j[V];H&&(I[N]=H)}}return R("font",this.model.fonts,E.fontId),R("border",this.model.borders,E.borderId),R("fill",this.model.fills,E.fillId),E.alignment&&(I.alignment=E.alignment),E.protection&&(I.protection=E.protection),I}addDxfStyle(b){return b.numFmt&&(b.numFmtId=this._addNumFmtStr(b.numFmt)),this.model.dxfs.push(b),this.model.dxfs.length-1}getDxfStyle(b){return this.model.dxfs[b]}_addStyle(b){const E=this.map.style.toXml(b);let I=this.index.style[E];return I===void 0&&(I=this.index.style[E]=this.model.styles.length,this.model.styles.push(E)),I}_addNumFmtStr(b){let E=f.getDefaultFmtId(b);if(E!==void 0||(E=this.index.numFmt[b],E!==void 0))return E;E=this.index.numFmt[b]=164+this.model.numFmts.length;const I=this.map.numFmt.toXml({id:E,formatCode:b});return this.model.numFmts.push(I),E}_addFont(b){const E=this.map.font.toXml(b);let I=this.index.font[E];return I===void 0&&(I=this.index.font[E]=this.model.fonts.length,this.model.fonts.push(E)),I}_addBorder(b){const E=this.map.border.toXml(b);let I=this.index.border[E];return I===void 0&&(I=this.index.border[E]=this.model.borders.length,this.model.borders.push(E)),I}_addFill(b){const E=this.map.fill.toXml(b);let I=this.index.fill[E];return I===void 0&&(I=this.index.fill[E]=this.model.fills.length,this.model.fills.push(E)),I}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,b){switch(b){case a.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:f.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},r.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(i,r,n){const a=i("../base-xform");class s extends a{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,u){if((u=u||this.model)===!0)l.leafNode("u");else{const d=s.Attributes[u];d&&l.leafNode("u",d)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}s.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},r.exports=s},{"../base-xform":32}],137:[function(i,r,n){const a=i("../base-xform"),s=i("./filter-column-xform");r.exports=class extends a{constructor(){super(),this.map={filterColumn:new s}}get tag(){return"autoFilter"}prepare(o){o.columns.forEach((l,u)=>{this.map.filterColumn.prepare(l,{index:u})})}render(o,l){return o.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(u=>{this.map.filterColumn.render(o,u)}),o.closeNode(),!0}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model={autoFilterRef:o.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"customFilter"}render(s,o){s.leafNode(this.tag,{val:o.val,operator:o.operator})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val,operator:s.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(i,r,n){const a=i("../base-xform"),s=i("../list-xform"),o=i("./custom-filter-xform"),l=i("./filter-xform");r.exports=class extends a{constructor(){super(),this.map={customFilters:new s({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new s({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(u,d){u.colId=d.index.toString()}render(u,d){return d.customFilters?(u.openNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),this.map.customFilters.render(u,d.customFilters),u.closeNode(),!0):(u.leafNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),!0)}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;const{attributes:d}=u;switch(u.name){case this.tag:return this.model={filterButton:d.hiddenButton==="0"},!0;default:if(this.parser=this.map[u.name],this.parser)return this.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"filter"}render(s,o){s.leafNode(this.tag,{val:o.val})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"tableColumn"}prepare(s,o){s.id=o.index+1}render(s,o){return s.leafNode(this.tag,{id:o.id.toString(),name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:o}=s;return this.model={name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"tableStyleInfo"}render(s,o){return s.leafNode(this.tag,{name:o.theme?o.theme:void 0,showFirstColumn:o.showFirstColumn?"1":"0",showLastColumn:o.showLastColumn?"1":"0",showRowStripes:o.showRowStripes?"1":"0",showColumnStripes:o.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:o}=s;return this.model={theme:o.name?o.name:null,showFirstColumn:o.showFirstColumn==="1",showLastColumn:o.showLastColumn==="1",showRowStripes:o.showRowStripes==="1",showColumnStripes:o.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(i,r,n){const a=i("../../../utils/xml-stream"),s=i("../base-xform"),o=i("../list-xform"),l=i("./auto-filter-xform"),u=i("./table-column-xform"),d=i("./table-style-info-xform");class c extends s{constructor(){super(),this.map={autoFilter:new l,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new u}),tableStyleInfo:new d}}prepare(f,p){this.map.autoFilter.prepare(f),this.map.tableColumns.prepare(f.columns,p)}get tag(){return"table"}render(f,p){f.openXml(a.StdDocAttributes),f.openNode(this.tag,{...c.TABLE_ATTRIBUTES,id:p.id,name:p.name,displayName:p.displayName||p.name,ref:p.tableRef,totalsRowCount:p.totalsRow?"1":void 0,totalsRowShown:p.totalsRow?void 0:"1",headerRowCount:p.headerRow?"1":"0"}),this.map.autoFilter.render(f,p),this.map.tableColumns.render(f,p.columns),this.map.tableStyleInfo.render(f,p.style),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;const{name:p,attributes:g}=f;switch(p){case this.tag:this.reset(),this.model={name:g.name,displayName:g.displayName||g.name,tableRef:g.ref,totalsRow:g.totalsRowCount==="1",headerRow:g.headerRowCount==="1"};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((p,g)=>{this.model.columns[g].filterButton=p.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(f,p){f.columns.forEach(g=>{g.dxfId!==void 0&&(g.style=p.styles.getDxfStyle(g.dxfId))})}}c.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},r.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(i,r,n){(function(a,s){(function(){const o=i("fs"),l=i("jszip"),{PassThrough:u}=i("readable-stream"),d=i("../utils/zip-stream"),c=i("../utils/stream-buf"),h=i("../utils/utils"),f=i("../utils/xml-stream"),{bufferToString:p}=i("../utils/browser-buffer-decode"),g=i("./xform/style/styles-xform"),m=i("./xform/core/core-xform"),v=i("./xform/strings/shared-strings-xform"),b=i("./xform/core/relationships-xform"),E=i("./xform/core/content-types-xform"),I=i("./xform/core/app-xform"),R=i("./xform/book/workbook-xform"),N=i("./xform/sheet/worksheet-xform"),j=i("./xform/drawing/drawing-xform"),V=i("./xform/table/table-xform"),H=i("./xform/comment/comments-xform"),W=i("./xform/comment/vml-notes-xform"),G=i("./xml/theme1");class P{constructor(T){this.workbook=T}async readFile(T,x){if(!await h.fs.exists(T))throw new Error("File not found: "+T);const C=o.createReadStream(T);try{const y=await this.read(C,x);return C.close(),y}catch(y){throw C.close(),y}}parseRels(T){return new b().parseStream(T)}parseWorkbook(T){return new R().parseStream(T)}parseSharedStrings(T){return new v().parseStream(T)}reconcile(T,x){const C=new R,y=new N(x),S=new j,w=new V;C.reconcile(T);const k={media:T.media,mediaIndex:T.mediaIndex};Object.keys(T.drawings).forEach(F=>{const z=T.drawings[F],X=T.drawingRels[F];X&&(k.rels=X.reduce((L,K)=>(L[K.Id]=K,L),{}),(z.anchors||[]).forEach(L=>{const K=L.picture&&L.picture.hyperlinks;K&&k.rels[K.rId]&&(K.hyperlink=k.rels[K.rId].Target,delete K.rId)}),S.reconcile(z,k))});const M={styles:T.styles};Object.values(T.tables).forEach(F=>{w.reconcile(F,M)});const O={styles:T.styles,sharedStrings:T.sharedStrings,media:T.media,mediaIndex:T.mediaIndex,date1904:T.properties&&T.properties.date1904,drawings:T.drawings,comments:T.comments,tables:T.tables,vmlDrawings:T.vmlDrawings};T.worksheets.forEach(F=>{F.relationships=T.worksheetRels[F.sheetNo],y.reconcile(F,O)}),delete T.worksheetHash,delete T.worksheetRels,delete T.globalRels,delete T.sharedStrings,delete T.workbookRels,delete T.sheetDefs,delete T.styles,delete T.mediaIndex,delete T.drawings,delete T.drawingRels,delete T.vmlDrawings}async _processWorksheetEntry(T,x,C,y,S){const w=new N(y),k=await w.parseStream(T);k.sheetNo=C,x.worksheetHash[S]=k,x.worksheets.push(k)}async _processCommentEntry(T,x,C){const y=new H,S=await y.parseStream(T);x.comments[`../${C}.xml`]=S}async _processTableEntry(T,x,C){const y=new V,S=await y.parseStream(T);x.tables[`../tables/${C}.xml`]=S}async _processWorksheetRelsEntry(T,x,C){const y=new b,S=await y.parseStream(T);x.worksheetRels[C]=S}async _processMediaEntry(T,x,C){const y=C.lastIndexOf(".");if(y>=1){const S=C.substr(y+1),w=C.substr(0,y);await new Promise((k,M)=>{const O=new c;O.on("finish",()=>{x.mediaIndex[C]=x.media.length,x.mediaIndex[w]=x.media.length;const F={type:"image",name:w,extension:S,buffer:O.toBuffer()};x.media.push(F),k()}),T.on("error",F=>{M(F)}),T.pipe(O)})}}async _processDrawingEntry(T,x,C){const y=new j,S=await y.parseStream(T);x.drawings[C]=S}async _processDrawingRelsEntry(T,x,C){const y=new b,S=await y.parseStream(T);x.drawingRels[C]=S}async _processVmlDrawingEntry(T,x,C){const y=new W,S=await y.parseStream(T);x.vmlDrawings[`../drawings/${C}.vml`]=S}async _processThemeEntry(T,x,C){await new Promise((y,S)=>{const w=new c;T.on("error",S),w.on("error",S),w.on("finish",()=>{x.themes[C]=w.read().toString(),y()}),T.pipe(w)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(T,x){!T[Symbol.asyncIterator]&&T.pipe&&(T=T.pipe(new u));const C=[];for await(const y of T)C.push(y);return this.load(s.concat(C),x)}async load(T,x){let C;C=x&&x.base64?s.from(T.toString(),"base64"):T;const y={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},S=await l.loadAsync(C);for(const w of Object.values(S.files))if(!w.dir){let k,M=w.name;if(M[0]==="/"&&(M=M.substr(1)),M.match(/xl\/media\//)||M.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))k=new u,k.write(await w.async("nodebuffer"));else{let O;k=new u({writableObjectMode:!0,readableObjectMode:!0}),O=a.browser?p(await w.async("nodebuffer")):await w.async("string");const F=16384;for(let z=0;z<O.length;z+=F)k.write(O.substring(z,z+F))}switch(k.end(),M){case"_rels/.rels":y.globalRels=await this.parseRels(k);break;case"xl/workbook.xml":{const O=await this.parseWorkbook(k);y.sheets=O.sheets,y.definedNames=O.definedNames,y.views=O.views,y.properties=O.properties,y.calcProperties=O.calcProperties;break}case"xl/_rels/workbook.xml.rels":y.workbookRels=await this.parseRels(k);break;case"xl/sharedStrings.xml":y.sharedStrings=new v,await y.sharedStrings.parseStream(k);break;case"xl/styles.xml":y.styles=new g,await y.styles.parseStream(k);break;case"docProps/app.xml":{const O=new I,F=await O.parseStream(k);y.company=F.company,y.manager=F.manager;break}case"docProps/core.xml":{const O=new m,F=await O.parseStream(k);Object.assign(y,F);break}default:{let O=M.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(O){await this._processWorksheetEntry(k,y,O[1],x,M);break}if(O=M.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),O){await this._processWorksheetRelsEntry(k,y,O[1]);break}if(O=M.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),O){await this._processThemeEntry(k,y,O[1]);break}if(O=M.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),O){await this._processMediaEntry(k,y,O[1]);break}if(O=M.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),O){await this._processDrawingEntry(k,y,O[1]);break}if(O=M.match(/xl\/(comments\d+)[.]xml/),O){await this._processCommentEntry(k,y,O[1]);break}if(O=M.match(/xl\/tables\/(table\d+)[.]xml/),O){await this._processTableEntry(k,y,O[1]);break}if(O=M.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),O){await this._processDrawingRelsEntry(k,y,O[1]);break}if(O=M.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),O){await this._processVmlDrawingEntry(k,y,O[1]);break}}}}return this.reconcile(y,x),this.workbook.model=y,this.workbook}async addMedia(T,x){await Promise.all(x.media.map(async C=>{if(C.type==="image"){const y=`xl/media/${C.name}.${C.extension}`;if(C.filename){const S=await function(w,k){return new Promise((M,O)=>{o.readFile(w,k,(F,z)=>{F?O(F):M(z)})})}(C.filename);return T.append(S,{name:y})}if(C.buffer)return T.append(C.buffer,{name:y});if(C.base64){const S=C.base64,w=S.substring(S.indexOf(",")+1);return T.append(w,{name:y,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(T,x){const C=new j,y=new b;x.worksheets.forEach(S=>{const{drawing:w}=S;if(w){C.prepare(w,{});let k=C.toXml(w);T.append(k,{name:`xl/drawings/${w.name}.xml`}),k=y.toXml(w.rels),T.append(k,{name:`xl/drawings/_rels/${w.name}.xml.rels`})}})}addTables(T,x){const C=new V;x.worksheets.forEach(y=>{const{tables:S}=y;S.forEach(w=>{C.prepare(w,{});const k=C.toXml(w);T.append(k,{name:"xl/tables/"+w.target})})})}async addContentTypes(T,x){const C=new E().toXml(x);T.append(C,{name:"[Content_Types].xml"})}async addApp(T,x){const C=new I().toXml(x);T.append(C,{name:"docProps/app.xml"})}async addCore(T,x){const C=new m;T.append(C.toXml(x),{name:"docProps/core.xml"})}async addThemes(T,x){const C=x.themes||{theme1:G};Object.keys(C).forEach(y=>{const S=C[y],w=`xl/theme/${y}.xml`;T.append(S,{name:w})})}async addOfficeRels(T){const x=new b().toXml([{Id:"rId1",Type:P.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:P.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:P.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);T.append(x,{name:"_rels/.rels"})}async addWorkbookRels(T,x){let C=1;const y=[{Id:"rId"+C++,Type:P.RelType.Styles,Target:"styles.xml"},{Id:"rId"+C++,Type:P.RelType.Theme,Target:"theme/theme1.xml"}];x.sharedStrings.count&&y.push({Id:"rId"+C++,Type:P.RelType.SharedStrings,Target:"sharedStrings.xml"}),x.worksheets.forEach(w=>{w.rId="rId"+C++,y.push({Id:w.rId,Type:P.RelType.Worksheet,Target:`worksheets/sheet${w.id}.xml`})});const S=new b().toXml(y);T.append(S,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(T,x){x.sharedStrings&&x.sharedStrings.count&&T.append(x.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(T,x){const{xml:C}=x.styles;C&&T.append(C,{name:"xl/styles.xml"})}async addWorkbook(T,x){const C=new R;T.append(C.toXml(x),{name:"xl/workbook.xml"})}async addWorksheets(T,x){const C=new N,y=new b,S=new H,w=new W;x.worksheets.forEach(k=>{let M=new f;C.render(M,k),T.append(M.xml,{name:`xl/worksheets/sheet${k.id}.xml`}),k.rels&&k.rels.length&&(M=new f,y.render(M,k.rels),T.append(M.xml,{name:`xl/worksheets/_rels/sheet${k.id}.xml.rels`})),k.comments.length>0&&(M=new f,S.render(M,k),T.append(M.xml,{name:`xl/comments${k.id}.xml`}),M=new f,w.render(M,k),T.append(M.xml,{name:`xl/drawings/vmlDrawing${k.id}.vml`}))})}_finalize(T){return new Promise((x,C)=>{T.on("finish",()=>{x(this)}),T.on("error",C),T.finalize()})}prepareModel(T,x){T.creator=T.creator||"ExcelJS",T.lastModifiedBy=T.lastModifiedBy||"ExcelJS",T.created=T.created||new Date,T.modified=T.modified||new Date,T.useSharedStrings=x.useSharedStrings===void 0||x.useSharedStrings,T.useStyles=x.useStyles===void 0||x.useStyles,T.sharedStrings=new v,T.styles=T.useStyles?new g(!0):new g.Mock;const C=new R,y=new N;C.prepare(T);const S={sharedStrings:T.sharedStrings,styles:T.styles,date1904:T.properties.date1904,drawingsCount:0,media:T.media};S.drawings=T.drawings=[],S.commentRefs=T.commentRefs=[];let w=0;T.tables=[],T.worksheets.forEach(k=>{k.tables.forEach(M=>{w++,M.target=`table${w}.xml`,M.id=w,T.tables.push(M)}),y.prepare(k,S)})}async write(T,x){x=x||{};const{model:C}=this.workbook,y=new d.ZipWriter(x.zip);return y.pipe(T),this.prepareModel(C,x),await this.addContentTypes(y,C),await this.addOfficeRels(y,C),await this.addWorkbookRels(y,C),await this.addWorksheets(y,C),await this.addSharedStrings(y,C),await this.addDrawings(y,C),await this.addTables(y,C),await Promise.all([this.addThemes(y,C),this.addStyles(y,C)]),await this.addMedia(y,C),await Promise.all([this.addApp(y,C),this.addCore(y,C)]),await this.addWorkbook(y,C),this._finalize(y)}writeFile(T,x){const C=o.createWriteStream(T);return new Promise((y,S)=>{C.on("finish",()=>{y()}),C.on("error",w=>{S(w)}),this.write(C,x).then(()=>{C.end()}).catch(w=>{S(w)})})}async writeBuffer(T){const x=new c;return await this.write(x,T),x.read()}}P.RelType=i("./rel-type"),r.exports=P}).call(this)}).call(this,i("_process"),i("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(i,r,n){r.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(i,r,n){(function(a){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CsvFormatterStream=void 0;const s=i("stream"),o=i("./formatter");class l extends s.Transform{constructor(d){super({writableObjectMode:d.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=d,this.rowFormatter=new o.RowFormatter(d),this.hasWrittenBOM=!d.writeBOM}transform(d){return this.rowFormatter.rowTransform=d,this}_transform(d,c,h){let f=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(d,(p,g)=>p?(f=!0,h(p)):(g&&g.forEach(m=>{this.push(a.from(m,"utf8"))}),f=!0,h()))}catch(p){if(f)throw p;h(p)}}_flush(d){this.rowFormatter.finish((c,h)=>c?d(c):(h&&h.forEach(f=>{this.push(a.from(f,"utf8"))}),d()))}}n.CsvFormatterStream=l}).call(this)}).call(this,i("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FormatterOptions=void 0,n.FormatterOptions=class{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,a||{}),(a==null?void 0:a.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(a==null?void 0:a.quote)===!0?this.quote='"':(a==null?void 0:a.quote)===!1&&(this.quote=""),typeof(a==null?void 0:a.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=a.writeHeaders)===null||s===void 0||s),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(i,r,n){var a=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=void 0;const s=a(i("lodash.isboolean")),o=a(i("lodash.isnil")),l=a(i("lodash.escaperegexp"));n.FieldFormatter=class{constructor(u){this._headers=null,this.formatterOptions=u,u.headers!==null&&(this.headers=u.headers),this.REPLACE_REGEXP=new RegExp(u.quote,"g");const d=`[${u.delimiter}${l.default(u.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(d)}set headers(u){this._headers=u}shouldQuote(u,d){const c=d?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return s.default(c)?c:Array.isArray(c)?c[u]:this._headers!==null&&c[this._headers[u]]}format(u,d,c){const h=(""+(o.default(u)?"":u)).replace(/\0/g,""),{formatterOptions:f}=this;return f.quote!==""&&h.indexOf(f.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,f.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(d,c)?this.quoteField(h):h}quoteField(u){const{quote:d}=this.formatterOptions;return`${d}${u}${d}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(i,r,n){var a=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowFormatter=void 0;const s=a(i("lodash.isfunction")),o=a(i("lodash.isequal")),l=i("./FieldFormatter"),u=i("../types");class d{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new l.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return d.isRowHashArray(h)?h.map(f=>f[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return u.isSyncTransform(h)?(f,p)=>{let g=null;try{g=h(f)}catch(m){return p(m)}return p(null,g)}:(f,p)=>{h(f,p)}}set rowTransform(h){if(!s.default(h))throw new TypeError("The transform should be a function");this._rowTransform=d.createTransform(h)}format(h,f){this.callTransformer(h,(p,g)=>{if(p)return f(p);if(!h)return f(null);const m=[];if(g){const{shouldFormatColumns:v,headers:b}=this.checkHeaders(g);if(this.shouldWriteHeaders&&b&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(b,!0)),this.hasWrittenHeaders=!0),v){const E=this.gatherColumns(g);m.push(this.formatColumns(E,!1))}}return f(null,m)})}finish(h){const f=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));f.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&f.push(this.formatterOptions.rowDelimiter),h(null,f)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const f=d.gatherHeaders(h);return this.headers=f,this.fieldFormatter.headers=f,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(f,h),headers:f}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?d.isRowHashArray(h)?this.headers.map((f,p)=>{const g=h[p];return g?g[1]:""}):d.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((f,p)=>h[p]):this.headers.map(f=>h[f])}callTransformer(h,f){return this._rowTransform?this._rowTransform(h,f):f(null,h)}formatColumns(h,f){const p=h.map((m,v)=>this.fieldFormatter.format(m,v,f)).join(this.formatterOptions.delimiter),{rowCount:g}=this;return this.rowCount+=1,g?[this.formatterOptions.rowDelimiter,p].join(""):p}}n.RowFormatter=d},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=n.RowFormatter=void 0;var a=i("./RowFormatter");Object.defineProperty(n,"RowFormatter",{enumerable:!0,get:function(){return a.RowFormatter}});var s=i("./FieldFormatter");Object.defineProperty(n,"FieldFormatter",{enumerable:!0,get:function(){return s.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(i,r,n){(function(a){(function(){var s=Object.create?function(v,b,E,I){I===void 0&&(I=E),Object.defineProperty(v,I,{enumerable:!0,get:function(){return b[E]}})}:function(v,b,E,I){I===void 0&&(I=E),v[I]=b[E]},o=Object.create?function(v,b){Object.defineProperty(v,"default",{enumerable:!0,value:b})}:function(v,b){v.default=b},l=function(v){if(v&&v.__esModule)return v;var b={};if(v!=null)for(var E in v)E!=="default"&&Object.prototype.hasOwnProperty.call(v,E)&&s(b,v,E);return o(b,v),b},u=function(v,b){for(var E in v)E==="default"||Object.prototype.hasOwnProperty.call(b,E)||s(b,v,E)};Object.defineProperty(n,"__esModule",{value:!0}),n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=n.FormatterOptions=n.CsvFormatterStream=void 0;const d=i("util"),c=i("stream"),h=l(i("fs")),f=i("./FormatterOptions"),p=i("./CsvFormatterStream");u(i("./types"),n);var g=i("./CsvFormatterStream");Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return g.CsvFormatterStream}});var m=i("./FormatterOptions");Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),n.format=v=>new p.CsvFormatterStream(new f.FormatterOptions(v)),n.write=(v,b)=>{const E=n.format(b),I=d.promisify((R,N)=>{E.write(R,void 0,N)});return v.reduce((R,N)=>R.then(()=>I(N)),Promise.resolve()).then(()=>E.end()).catch(R=>{E.emit("error",R)}),E},n.writeToStream=(v,b,E)=>n.write(b,E).pipe(v),n.writeToBuffer=function(v){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const E=[],I=new c.Writable({write(R,N,j){E.push(R),j()}});return new Promise((R,N)=>{I.on("error",N).on("finish",()=>R(a.concat(E))),n.write(v,b).pipe(I)})},n.writeToString=(v,b)=>n.writeToBuffer(v,b).then(E=>E.toString()),n.writeToPath=(v,b,E)=>{const I=h.createWriteStream(v,{encoding:"utf8"});return n.write(b,E).pipe(I)}}).call(this)}).call(this,i("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncTransform=void 0,n.isSyncTransform=a=>a.length===1},{}],153:[function(i,r,n){(function(a){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=void 0;const s=i("string_decoder"),o=i("stream"),l=i("./transforms"),u=i("./parser");class d extends o.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new u.Parser(h),this.headerTransformer=new l.HeaderTransformer(h),this.decoder=new s.StringDecoder(h.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var f=arguments.length,p=new Array(f>1?f-1:0),g=1;g<f;g++)p[g-1]=arguments[g];return super.emit(h,...p)}_transform(h,f,p){if(this.hasHitRowLimit)return p();const g=d.wrapDoneCallback(p);try{const{lines:m}=this,v=m+this.decoder.write(h),b=this.parse(v,!0);return this.processRows(b,g)}catch(m){return g(m)}}_flush(h){const f=d.wrapDoneCallback(h);if(this.hasHitRowLimit)return f();try{const p=this.lines+this.decoder.end(),g=this.parse(p,!1);return this.processRows(g,f)}catch(p){return f(p)}}parse(h,f){if(!h)return[];const{line:p,rows:g}=this.parser.parse(h,f);return this.lines=p,g}processRows(h,f){const p=h.length,g=m=>{const v=I=>I?f(I):m%100!=0?g(m+1):void a(()=>g(m+1));if(this.checkAndEmitHeaders(),m>=p||this.hasHitRowLimit)return f();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const b=h[m];this.rowCount+=1,this.parsedRowCount+=1;const E=this.rowCount;return this.transformRow(b,(I,R)=>{if(I)return this.rowCount-=1,v(I);if(!R)return v(new Error("expected transform result"));if(R.isValid){if(R.row)return this.pushRow(R.row,v)}else this.emit("data-invalid",R.row,E,R.reason);return v()})};g(0)}transformRow(h,f){try{this.headerTransformer.transform(h,(p,g)=>p?f(p):g?g.isValid?g.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(g.row,f):this.skipRow(f):(this.rowCount-=1,this.parsedRowCount-=1,f(null,{row:null,isValid:!0})):this.shouldEmitRows?f(null,{isValid:!1,row:h}):this.skipRow(f):f(new Error("Expected result from header transform")))}catch(p){f(p)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,f){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),f()}catch(p){f(p)}}static wrapDoneCallback(h){let f=!1;return function(p){if(p){if(f)throw p;return f=!0,void h(p)}for(var g=arguments.length,m=new Array(g>1?g-1:0),v=1;v<g;v++)m[v-1]=arguments[v];h(...m)}}}n.CsvParserStream=d}).call(this)}).call(this,i("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(i,r,n){var a=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(n,"__esModule",{value:!0}),n.ParserOptions=void 0;const s=a(i("lodash.escaperegexp")),o=a(i("lodash.isnil"));n.ParserOptions=class{constructor(l){var u;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=s.default(this.delimiter),this.escapeChar=(u=this.escape)!==null&&u!==void 0?u:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(i,r,n){var a=Object.create?function(g,m,v,b){b===void 0&&(b=v),Object.defineProperty(g,b,{enumerable:!0,get:function(){return m[v]}})}:function(g,m,v,b){b===void 0&&(b=v),g[b]=m[v]},s=Object.create?function(g,m){Object.defineProperty(g,"default",{enumerable:!0,value:m})}:function(g,m){g.default=m},o=function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&a(m,g,v);return s(m,g),m},l=function(g,m){for(var v in g)v==="default"||Object.prototype.hasOwnProperty.call(m,v)||a(m,g,v)};Object.defineProperty(n,"__esModule",{value:!0}),n.parseString=n.parseFile=n.parseStream=n.parse=n.ParserOptions=n.CsvParserStream=void 0;const u=o(i("fs")),d=i("stream"),c=i("./ParserOptions"),h=i("./CsvParserStream");l(i("./types"),n);var f=i("./CsvParserStream");Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return f.CsvParserStream}});var p=i("./ParserOptions");Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return p.ParserOptions}}),n.parse=g=>new h.CsvParserStream(new c.ParserOptions(g)),n.parseStream=(g,m)=>g.pipe(new h.CsvParserStream(new c.ParserOptions(m))),n.parseFile=function(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return u.createReadStream(g).pipe(new h.CsvParserStream(new c.ParserOptions(m)))},n.parseString=(g,m)=>{const v=new d.Readable;return v.push(g),v.push(null),v.pipe(new h.CsvParserStream(new c.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Parser=void 0;const a=i("./Scanner"),s=i("./RowParser"),o=i("./Token");class l{constructor(d){this.parserOptions=d,this.rowParser=new s.RowParser(this.parserOptions)}static removeBOM(d){return d&&d.charCodeAt(0)===65279?d.slice(1):d}parse(d,c){const h=new a.Scanner({line:l.removeBOM(d),parserOptions:this.parserOptions,hasMoreData:c});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(d){const c=[];let h=!0;for(;h;)h=this.parseRow(d,c);return{line:d.line,rows:c}}parseWithComments(d){const{parserOptions:c}=this,h=[];for(let f=d.nextCharacterToken;f!==null;f=d.nextCharacterToken)if(o.Token.isTokenComment(f,c)){if(d.advancePastLine()===null)return{line:d.lineFromCursor,rows:h};if(!d.hasMoreCharacters)return{line:d.lineFromCursor,rows:h};d.truncateToCursor()}else if(!this.parseRow(d,h))break;return{line:d.line,rows:h}}parseRow(d,c){if(!d.nextNonSpaceToken)return!1;const h=this.rowParser.parse(d);return h!==null&&(this.parserOptions.ignoreEmpty&&s.RowParser.isEmptyRow(h)||c.push(h),!0)}}n.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RowParser=void 0;const a=i("./column"),s=i("./Token");n.RowParser=class{constructor(o){this.parserOptions=o,this.columnParser=new a.ColumnParser(o)}static isEmptyRow(o){return o.join("").replace(/\s+/g,"")===""}parse(o){const{parserOptions:l}=this,{hasMoreData:u}=o,d=o,c=[];let h=this.getStartToken(d,c);for(;h;){if(s.Token.isTokenRowDelimiter(h))return d.advancePastToken(h),!d.hasMoreCharacters&&s.Token.isTokenCarriageReturn(h,l)&&u?null:(d.truncateToCursor(),c);if(!this.shouldSkipColumnParse(d,h,c)){const f=this.columnParser.parse(d);if(f===null)return null;c.push(f)}h=d.nextNonSpaceToken}return u?null:(d.truncateToCursor(),c)}getStartToken(o,l){const u=o.nextNonSpaceToken;return u!==null&&s.Token.isTokenDelimiter(u,this.parserOptions)?(l.push(""),o.nextNonSpaceToken):u}shouldSkipColumnParse(o,l,u){const{parserOptions:d}=this;if(s.Token.isTokenDelimiter(l,d)){o.advancePastToken(l);const c=o.nextCharacterToken;if(!o.hasMoreCharacters||c!==null&&s.Token.isTokenRowDelimiter(c)||c!==null&&s.Token.isTokenDelimiter(c,d))return u.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Scanner=void 0;const a=i("./Token"),s=/((?:\r\n)|\n|\r)/;n.Scanner=class{constructor(o){this.cursor=0,this.line=o.line,this.lineLength=this.line.length,this.parserOptions=o.parserOptions,this.hasMoreData=o.hasMoreData,this.cursor=o.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:o}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(o.search(l)===-1)return null;const u=l.exec(o);if(u==null)return null;const d=u[1],c=this.cursor+(u.index||0);return new a.Token({token:d,startCursor:c,endCursor:c+d.length-1})}get nextCharacterToken(){const{cursor:o,lineLength:l}=this;return l<=o?null:new a.Token({token:this.line[o],startCursor:o,endCursor:o})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const o=s.exec(this.lineFromCursor);return o?(this.cursor+=(o.index||0)+o[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(o){return this.cursor=o,this}advanceToToken(o){return this.cursor=o.startCursor,this}advancePastToken(o){return this.cursor=o.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0,n.Token=class{constructor(a){this.token=a.token,this.startCursor=a.startCursor,this.endCursor=a.endCursor}static isTokenRowDelimiter(a){const s=a.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(a,s){return a.token===s.carriageReturn}static isTokenComment(a,s){return s.supportsComments&&!!a&&a.token===s.comment}static isTokenEscapeCharacter(a,s){return a.token===s.escapeChar}static isTokenQuote(a,s){return a.token===s.quote}static isTokenDelimiter(a,s){return a.token===s.delimiter}}},{}],160:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=void 0,n.ColumnFormatter=class{constructor(a){a.trim?this.format=s=>s.trim():a.ltrim?this.format=s=>s.trimLeft():a.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}},{}],161:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnParser=void 0;const a=i("./NonQuotedColumnParser"),s=i("./QuotedColumnParser"),o=i("../Token");n.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new s.QuotedColumnParser(l),this.nonQuotedColumnParser=new a.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:u}=l;return u!==null&&o.Token.isTokenQuote(u,this.parserOptions)?(l.advanceToToken(u),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NonQuotedColumnParser=void 0;const a=i("./ColumnFormatter"),s=i("../Token");n.NonQuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new a.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const{parserOptions:l}=this,u=[];let d=o.nextCharacterToken;for(;d&&!s.Token.isTokenDelimiter(d,l)&&!s.Token.isTokenRowDelimiter(d);d=o.nextCharacterToken)u.push(d.token),o.advancePastToken(d);return this.columnFormatter.format(u.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=void 0;const a=i("./ColumnFormatter"),s=i("../Token");n.QuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new a.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const l=o.cursor,{foundClosingQuote:u,col:d}=this.gatherDataBetweenQuotes(o);if(!u){if(o.advanceTo(l),!o.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${o.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(o),d}gatherDataBetweenQuotes(o){const{parserOptions:l}=this;let u=!1,d=!1;const c=[];let h=o.nextCharacterToken;for(;!d&&h!==null;h=o.nextCharacterToken){const f=s.Token.isTokenQuote(h,l);if(!u&&f)u=!0;else if(u)if(s.Token.isTokenEscapeCharacter(h,l)){o.advancePastToken(h);const p=o.nextCharacterToken;p!==null&&(s.Token.isTokenQuote(p,l)||s.Token.isTokenEscapeCharacter(p,l))?(c.push(p.token),h=p):f?d=!0:c.push(h.token)}else f?d=!0:c.push(h.token);o.advancePastToken(h)}return{col:this.columnFormatter.format(c.join("")),foundClosingQuote:d}}checkForMalformedColumn(o){const{parserOptions:l}=this,{nextNonSpaceToken:u}=o;if(u){const d=s.Token.isTokenDelimiter(u,l),c=s.Token.isTokenRowDelimiter(u);if(!d&&!c){const h=o.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${u.token}'. at '${h}`)}o.advanceToToken(u)}else o.hasMoreData||o.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=void 0;var a=i("./ColumnParser");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}});var s=i("./NonQuotedColumnParser");Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}});var o=i("./QuotedColumnParser");Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var l=i("./ColumnFormatter");Object.defineProperty(n,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=n.Token=n.Scanner=n.RowParser=n.Parser=void 0;var a=i("./Parser");Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return a.Parser}});var s=i("./RowParser");Object.defineProperty(n,"RowParser",{enumerable:!0,get:function(){return s.RowParser}});var o=i("./Scanner");Object.defineProperty(n,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var l=i("./Token");Object.defineProperty(n,"Token",{enumerable:!0,get:function(){return l.Token}});var u=i("./column");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return u.ColumnParser}}),Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return u.NonQuotedColumnParser}}),Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return u.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(i,r,n){var a=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=void 0;const s=a(i("lodash.isundefined")),o=a(i("lodash.isfunction")),l=a(i("lodash.uniq")),u=a(i("lodash.groupby"));n.HeaderTransformer=class{constructor(d){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=d,d.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(d.headers)?this.setHeaders(d.headers):o.default(d.headers)&&(this.headersTransform=d.headers)}transform(d,c){return this.shouldMapRow(d)?c(null,this.processRow(d)):c(null,{row:null,isValid:!0})}shouldMapRow(d){const{parserOptions:c}=this;if(!this.headersTransform&&c.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(d)){if(this.headersTransform)this.setHeaders(this.headersTransform(d));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(d)}return!1}return!0}processRow(d){if(!this.headers)return{row:d,isValid:!0};const{parserOptions:c}=this;if(!c.discardUnmappedColumns&&d.length>this.headersLength){if(!c.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${d.length}`);return{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}}return c.strictColumnHandling&&d.length<this.headersLength?{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}:{row:this.mapHeaders(d),isValid:!0}}mapHeaders(d){const c={},{headers:h,headersLength:f}=this;for(let p=0;p<f;p+=1){const g=h[p];if(!s.default(g)){const m=d[p];s.default(m)?c[g]="":c[g]=m}}return c}setHeaders(d){var c;const h=d.filter(f=>!!f);if(l.default(h).length!==h.length){const f=u.default(h),p=Object.keys(f).filter(g=>f[g].length>1);throw new Error("Duplicate headers found "+JSON.stringify(p))}this.headers=d,this.receivedHeaders=!0,this.headersLength=((c=this.headers)===null||c===void 0?void 0:c.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(i,r,n){var a=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowTransformerValidator=void 0;const s=a(i("lodash.isfunction")),o=i("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(d){return o.isSyncTransform(d)?(c,h)=>{let f=null;try{f=d(c)}catch(p){return h(p)}return h(null,f)}:d}static createValidator(d){return o.isSyncValidate(d)?(c,h)=>{h(null,{row:c,isValid:d(c)})}:(c,h)=>{d(c,(f,p,g)=>f?h(f):h(null,p?{row:c,isValid:p,reason:g}:{row:c,isValid:!1,reason:g}))}}set rowTransform(d){if(!s.default(d))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(d)}set rowValidator(d){if(!s.default(d))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(d)}transformAndValidate(d,c){return this.callTransformer(d,(h,f)=>h?c(h):f?this.callValidator(f,(p,g)=>p?c(p):g&&!g.isValid?c(null,{row:f,isValid:!1,reason:g.reason}):c(null,{row:f,isValid:!0})):c(null,{row:null,isValid:!0}))}callTransformer(d,c){return this._rowTransform?this._rowTransform(d,c):c(null,d)}callValidator(d,c){return this._rowValidator?this._rowValidator(d,c):c(null,{row:d,isValid:!0})}}n.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=n.RowTransformerValidator=void 0;var a=i("./RowTransformerValidator");Object.defineProperty(n,"RowTransformerValidator",{enumerable:!0,get:function(){return a.RowTransformerValidator}});var s=i("./HeaderTransformer");Object.defineProperty(n,"HeaderTransformer",{enumerable:!0,get:function(){return s.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncValidate=n.isSyncTransform=void 0,n.isSyncTransform=a=>a.length===1,n.isSyncValidate=a=>a.length===1},{}],170:[function(i,r,n){const a=n;a.bignum=i("bn.js"),a.define=i("./asn1/api").define,a.base=i("./asn1/base"),a.constants=i("./asn1/constants"),a.decoders=i("./asn1/decoders"),a.encoders=i("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(i,r,n){const a=i("./encoders"),s=i("./decoders"),o=i("inherits");function l(u,d){this.name=u,this.body=d,this.decoders={},this.encoders={}}n.define=function(u,d){return new l(u,d)},l.prototype._createNamed=function(u){const d=this.name;function c(h){this._initNamed(h,d)}return o(c,u),c.prototype._initNamed=function(h,f){u.call(this,h,f)},new c(this)},l.prototype._getDecoder=function(u){return u=u||"der",this.decoders.hasOwnProperty(u)||(this.decoders[u]=this._createNamed(s[u])),this.decoders[u]},l.prototype.decode=function(u,d,c){return this._getDecoder(d).decode(u,c)},l.prototype._getEncoder=function(u){return u=u||"der",this.encoders.hasOwnProperty(u)||(this.encoders[u]=this._createNamed(a[u])),this.encoders[u]},l.prototype.encode=function(u,d,c){return this._getEncoder(d).encode(u,c)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(i,r,n){const a=i("inherits"),s=i("../base/reporter").Reporter,o=i("safer-buffer").Buffer;function l(d,c){s.call(this,c),o.isBuffer(d)?(this.base=d,this.offset=0,this.length=d.length):this.error("Input not Buffer")}function u(d,c){if(Array.isArray(d))this.length=0,this.value=d.map(function(h){return u.isEncoderBuffer(h)||(h=new u(h,c)),this.length+=h.length,h},this);else if(typeof d=="number"){if(!(0<=d&&d<=255))return c.error("non-byte EncoderBuffer value");this.value=d,this.length=1}else if(typeof d=="string")this.value=d,this.length=o.byteLength(d);else{if(!o.isBuffer(d))return c.error("Unsupported type: "+typeof d);this.value=d,this.length=d.length}}a(l,s),n.DecoderBuffer=l,l.isDecoderBuffer=function(d){return d instanceof l?!0:typeof d=="object"&&o.isBuffer(d.base)&&d.constructor.name==="DecoderBuffer"&&typeof d.offset=="number"&&typeof d.length=="number"&&typeof d.save=="function"&&typeof d.restore=="function"&&typeof d.isEmpty=="function"&&typeof d.readUInt8=="function"&&typeof d.skip=="function"&&typeof d.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},l.prototype.restore=function(d){const c=new l(this.base);return c.offset=d.offset,c.length=this.offset,this.offset=d.offset,s.prototype.restore.call(this,d.reporter),c},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(d){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(d||"DecoderBuffer overrun")},l.prototype.skip=function(d,c){if(!(this.offset+d<=this.length))return this.error(c||"DecoderBuffer overrun");const h=new l(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+d,this.offset+=d,h},l.prototype.raw=function(d){return this.base.slice(d?d.offset:this.offset,this.length)},n.EncoderBuffer=u,u.isEncoderBuffer=function(d){return d instanceof u?!0:typeof d=="object"&&d.constructor.name==="EncoderBuffer"&&typeof d.length=="number"&&typeof d.join=="function"},u.prototype.join=function(d,c){return d||(d=o.alloc(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(d,c),c+=h.length}):(typeof this.value=="number"?d[c]=this.value:typeof this.value=="string"?d.write(this.value,c):o.isBuffer(this.value)&&this.value.copy(d,c),c+=this.length)),d}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(i,r,n){const a=n;a.Reporter=i("./reporter").Reporter,a.DecoderBuffer=i("./buffer").DecoderBuffer,a.EncoderBuffer=i("./buffer").EncoderBuffer,a.Node=i("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(i,r,n){const a=i("../base/reporter").Reporter,s=i("../base/buffer").EncoderBuffer,o=i("../base/buffer").DecoderBuffer,l=i("minimalistic-assert"),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],d=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u);function c(f,p,g){const m={};this._baseState=m,m.name=g,m.enc=f,m.parent=p||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}r.exports=c;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){const f=this._baseState,p={};h.forEach(function(m){p[m]=f[m]});const g=new this.constructor(p.parent);return g._baseState=p,g},c.prototype._wrap=function(){const f=this._baseState;d.forEach(function(p){this[p]=function(){const g=new this.constructor(this);return f.children.push(g),g[p].apply(g,arguments)}},this)},c.prototype._init=function(f){const p=this._baseState;l(p.parent===null),f.call(this),p.children=p.children.filter(function(g){return g._baseState.parent===this},this),l.equal(p.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(f){const p=this._baseState,g=f.filter(function(m){return m instanceof this.constructor},this);f=f.filter(function(m){return!(m instanceof this.constructor)},this),g.length!==0&&(l(p.children===null),p.children=g,g.forEach(function(m){m._baseState.parent=this},this)),f.length!==0&&(l(p.args===null),p.args=f,p.reverseArgs=f.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;const v={};return Object.keys(m).forEach(function(b){b==(0|b)&&(b|=0);const E=m[b];v[E]=b}),v}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(f){c.prototype[f]=function(){const p=this._baseState;throw new Error(f+" not implemented for encoding: "+p.enc)}}),u.forEach(function(f){c.prototype[f]=function(){const p=this._baseState,g=Array.prototype.slice.call(arguments);return l(p.tag===null),p.tag=f,this._useArgs(g),this}}),c.prototype.use=function(f){l(f);const p=this._baseState;return l(p.use===null),p.use=f,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(f){const p=this._baseState;return l(p.default===null),p.default=f,p.optional=!0,this},c.prototype.explicit=function(f){const p=this._baseState;return l(p.explicit===null&&p.implicit===null),p.explicit=f,this},c.prototype.implicit=function(f){const p=this._baseState;return l(p.explicit===null&&p.implicit===null),p.implicit=f,this},c.prototype.obj=function(){const f=this._baseState,p=Array.prototype.slice.call(arguments);return f.obj=!0,p.length!==0&&this._useArgs(p),this},c.prototype.key=function(f){const p=this._baseState;return l(p.key===null),p.key=f,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(f){const p=this._baseState;return l(p.choice===null),p.choice=f,this._useArgs(Object.keys(f).map(function(g){return f[g]})),this},c.prototype.contains=function(f){const p=this._baseState;return l(p.use===null),p.contains=f,this},c.prototype._decode=function(f,p){const g=this._baseState;if(g.parent===null)return f.wrapResult(g.children[0]._decode(f,p));let m,v=g.default,b=!0,E=null;if(g.key!==null&&(E=f.enterKey(g.key)),g.optional){let I=null;if(g.explicit!==null?I=g.explicit:g.implicit!==null?I=g.implicit:g.tag!==null&&(I=g.tag),I!==null||g.any){if(b=this._peekTag(f,I,g.any),f.isError(b))return b}else{const R=f.save();try{g.choice===null?this._decodeGeneric(g.tag,f,p):this._decodeChoice(f,p),b=!0}catch{b=!1}f.restore(R)}}if(g.obj&&b&&(m=f.enterObject()),b){if(g.explicit!==null){const R=this._decodeTag(f,g.explicit);if(f.isError(R))return R;f=R}const I=f.offset;if(g.use===null&&g.choice===null){let R;g.any&&(R=f.save());const N=this._decodeTag(f,g.implicit!==null?g.implicit:g.tag,g.any);if(f.isError(N))return N;g.any?v=f.raw(R):f=N}if(p&&p.track&&g.tag!==null&&p.track(f.path(),I,f.length,"tagged"),p&&p.track&&g.tag!==null&&p.track(f.path(),f.offset,f.length,"content"),g.any||(v=g.choice===null?this._decodeGeneric(g.tag,f,p):this._decodeChoice(f,p)),f.isError(v))return v;if(g.any||g.choice!==null||g.children===null||g.children.forEach(function(R){R._decode(f,p)}),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){const R=new o(v);v=this._getUse(g.contains,f._reporterState.obj)._decode(R,p)}}return g.obj&&b&&(v=f.leaveObject(m)),g.key===null||v===null&&b!==!0?E!==null&&f.exitKey(E):f.leaveKey(E,g.key,v),v},c.prototype._decodeGeneric=function(f,p,g){const m=this._baseState;return f==="seq"||f==="set"?null:f==="seqof"||f==="setof"?this._decodeList(p,f,m.args[0],g):/str$/.test(f)?this._decodeStr(p,f,g):f==="objid"&&m.args?this._decodeObjid(p,m.args[0],m.args[1],g):f==="objid"?this._decodeObjid(p,null,null,g):f==="gentime"||f==="utctime"?this._decodeTime(p,f,g):f==="null_"?this._decodeNull(p,g):f==="bool"?this._decodeBool(p,g):f==="objDesc"?this._decodeStr(p,f,g):f==="int"||f==="enum"?this._decodeInt(p,m.args&&m.args[0],g):m.use!==null?this._getUse(m.use,p._reporterState.obj)._decode(p,g):p.error("unknown tag: "+f)},c.prototype._getUse=function(f,p){const g=this._baseState;return g.useDecoder=this._use(f,p),l(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},c.prototype._decodeChoice=function(f,p){const g=this._baseState;let m=null,v=!1;return Object.keys(g.choice).some(function(b){const E=f.save(),I=g.choice[b];try{const R=I._decode(f,p);if(f.isError(R))return!1;m={type:b,value:R},v=!0}catch{return f.restore(E),!1}return!0},this),v?m:f.error("Choice not matched")},c.prototype._createEncoderBuffer=function(f){return new s(f,this.reporter)},c.prototype._encode=function(f,p,g){const m=this._baseState;if(m.default!==null&&m.default===f)return;const v=this._encodeValue(f,p,g);return v===void 0||this._skipDefault(v,p,g)?void 0:v},c.prototype._encodeValue=function(f,p,g){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(f,p||new a);let v=null;if(this.reporter=p,m.optional&&f===void 0){if(m.default===null)return;f=m.default}let b=null,E=!1;if(m.any)v=this._createEncoderBuffer(f);else if(m.choice)v=this._encodeChoice(f,p);else if(m.contains)b=this._getUse(m.contains,g)._encode(f,p),E=!0;else if(m.children)b=m.children.map(function(I){if(I._baseState.tag==="null_")return I._encode(null,p,f);if(I._baseState.key===null)return p.error("Child should have a key");const R=p.enterKey(I._baseState.key);if(typeof f!="object")return p.error("Child expected, but input is not object");const N=I._encode(f[I._baseState.key],p,f);return p.leaveKey(R),N},this).filter(function(I){return I}),b=this._createEncoderBuffer(b);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return p.error("Too many args for : "+m.tag);if(!Array.isArray(f))return p.error("seqof/setof, but data is not Array");const I=this.clone();I._baseState.implicit=null,b=this._createEncoderBuffer(f.map(function(R){const N=this._baseState;return this._getUse(N.args[0],f)._encode(R,p)},I))}else m.use!==null?v=this._getUse(m.use,g)._encode(f,p):(b=this._encodePrimitive(m.tag,f),E=!0);if(!m.any&&m.choice===null){const I=m.implicit!==null?m.implicit:m.tag,R=m.implicit===null?"universal":"context";I===null?m.use===null&&p.error("Tag could be omitted only for .use()"):m.use===null&&(v=this._encodeComposite(I,E,R,b))}return m.explicit!==null&&(v=this._encodeComposite(m.explicit,!1,"context",v)),v},c.prototype._encodeChoice=function(f,p){const g=this._baseState,m=g.choice[f.type];return m||l(!1,f.type+" not found in "+JSON.stringify(Object.keys(g.choice))),m._encode(f.value,p)},c.prototype._encodePrimitive=function(f,p){const g=this._baseState;if(/str$/.test(f))return this._encodeStr(p,f);if(f==="objid"&&g.args)return this._encodeObjid(p,g.reverseArgs[0],g.args[1]);if(f==="objid")return this._encodeObjid(p,null,null);if(f==="gentime"||f==="utctime")return this._encodeTime(p,f);if(f==="null_")return this._encodeNull();if(f==="int"||f==="enum")return this._encodeInt(p,g.args&&g.reverseArgs[0]);if(f==="bool")return this._encodeBool(p);if(f==="objDesc")return this._encodeStr(p,f);throw new Error("Unsupported tag: "+f)},c.prototype._isNumstr=function(f){return/^[0-9 ]*$/.test(f)},c.prototype._isPrintstr=function(f){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(f)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(i,r,n){const a=i("inherits");function s(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function o(l,u){this.path=l,this.rethrow(u)}n.Reporter=s,s.prototype.isError=function(l){return l instanceof o},s.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},s.prototype.restore=function(l){const u=this._reporterState;u.obj=l.obj,u.path=u.path.slice(0,l.pathLen)},s.prototype.enterKey=function(l){return this._reporterState.path.push(l)},s.prototype.exitKey=function(l){const u=this._reporterState;u.path=u.path.slice(0,l-1)},s.prototype.leaveKey=function(l,u,d){const c=this._reporterState;this.exitKey(l),c.obj!==null&&(c.obj[u]=d)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const l=this._reporterState,u=l.obj;return l.obj={},u},s.prototype.leaveObject=function(l){const u=this._reporterState,d=u.obj;return u.obj=l,d},s.prototype.error=function(l){let u;const d=this._reporterState,c=l instanceof o;if(u=c?l:new o(d.path.map(function(h){return"["+JSON.stringify(h)+"]"}).join(""),l.message||l,l.stack),!d.options.partial)throw u;return c||d.errors.push(u),u},s.prototype.wrapResult=function(l){const u=this._reporterState;return u.options.partial?{result:this.isError(l)?null:l,errors:u.errors}:l},a(o,Error),o.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(u){this.stack=u.stack}return this}},{inherits:440}],176:[function(i,r,n){function a(s){const o={};return Object.keys(s).forEach(function(l){(0|l)==l&&(l|=0);const u=s[l];o[u]=l}),o}n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=a(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=a(n.tag)},{}],177:[function(i,r,n){const a=n;a._reverse=function(s){const o={};return Object.keys(s).forEach(function(l){(0|l)==l&&(l|=0);const u=s[l];o[u]=l}),o},a.der=i("./der")},{"./der":176}],178:[function(i,r,n){const a=i("inherits"),s=i("bn.js"),o=i("../base/buffer").DecoderBuffer,l=i("../base/node"),u=i("../constants/der");function d(p){this.enc="der",this.name=p.name,this.entity=p,this.tree=new c,this.tree._init(p.body)}function c(p){l.call(this,"der",p)}function h(p,g){let m=p.readUInt8(g);if(p.isError(m))return m;const v=u.tagClass[m>>6],b=(32&m)==0;if((31&m)==31){let E=m;for(m=0;(128&E)==128;){if(E=p.readUInt8(g),p.isError(E))return E;m<<=7,m|=127&E}}else m&=31;return{cls:v,primitive:b,tag:m,tagStr:u.tag[m]}}function f(p,g,m){let v=p.readUInt8(m);if(p.isError(v))return v;if(!g&&v===128)return null;if(!(128&v))return v;const b=127&v;if(b>4)return p.error("length octect is too long");v=0;for(let E=0;E<b;E++){v<<=8;const I=p.readUInt8(m);if(p.isError(I))return I;v|=I}return v}r.exports=d,d.prototype.decode=function(p,g){return o.isDecoderBuffer(p)||(p=new o(p,g)),this.tree._decode(p,g)},a(c,l),c.prototype._peekTag=function(p,g,m){if(p.isEmpty())return!1;const v=p.save(),b=h(p,'Failed to peek tag: "'+g+'"');return p.isError(b)?b:(p.restore(v),b.tag===g||b.tagStr===g||b.tagStr+"of"===g||m)},c.prototype._decodeTag=function(p,g,m){const v=h(p,'Failed to decode tag of "'+g+'"');if(p.isError(v))return v;let b=f(p,v.primitive,'Failed to get length of "'+g+'"');if(p.isError(b))return b;if(!m&&v.tag!==g&&v.tagStr!==g&&v.tagStr+"of"!==g)return p.error('Failed to match tag: "'+g+'"');if(v.primitive||b!==null)return p.skip(b,'Failed to match body of: "'+g+'"');const E=p.save(),I=this._skipUntilEnd(p,'Failed to skip indefinite length body: "'+this.tag+'"');return p.isError(I)?I:(b=p.offset-E.offset,p.restore(E),p.skip(b,'Failed to match body of: "'+g+'"'))},c.prototype._skipUntilEnd=function(p,g){for(;;){const m=h(p,g);if(p.isError(m))return m;const v=f(p,m.primitive,g);if(p.isError(v))return v;let b;if(b=m.primitive||v!==null?p.skip(v):this._skipUntilEnd(p,g),p.isError(b))return b;if(m.tagStr==="end")break}},c.prototype._decodeList=function(p,g,m,v){const b=[];for(;!p.isEmpty();){const E=this._peekTag(p,"end");if(p.isError(E))return E;const I=m.decode(p,"der",v);if(p.isError(I)&&E)break;b.push(I)}return b},c.prototype._decodeStr=function(p,g){if(g==="bitstr"){const m=p.readUInt8();return p.isError(m)?m:{unused:m,data:p.raw()}}if(g==="bmpstr"){const m=p.raw();if(m.length%2==1)return p.error("Decoding of string type: bmpstr length mismatch");let v="";for(let b=0;b<m.length/2;b++)v+=String.fromCharCode(m.readUInt16BE(2*b));return v}if(g==="numstr"){const m=p.raw().toString("ascii");return this._isNumstr(m)?m:p.error("Decoding of string type: numstr unsupported characters")}if(g==="octstr"||g==="objDesc")return p.raw();if(g==="printstr"){const m=p.raw().toString("ascii");return this._isPrintstr(m)?m:p.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(g)?p.raw().toString():p.error("Decoding of string type: "+g+" unsupported")},c.prototype._decodeObjid=function(p,g,m){let v;const b=[];let E=0,I=0;for(;!p.isEmpty();)I=p.readUInt8(),E<<=7,E|=127&I,!(128&I)&&(b.push(E),E=0);128&I&&b.push(E);const R=b[0]/40|0,N=b[0]%40;if(v=m?b:[R,N].concat(b.slice(1)),g){let j=g[v.join(" ")];j===void 0&&(j=g[v.join(".")]),j!==void 0&&(v=j)}return v},c.prototype._decodeTime=function(p,g){const m=p.raw().toString();let v,b,E,I,R,N;if(g==="gentime")v=0|m.slice(0,4),b=0|m.slice(4,6),E=0|m.slice(6,8),I=0|m.slice(8,10),R=0|m.slice(10,12),N=0|m.slice(12,14);else{if(g!=="utctime")return p.error("Decoding "+g+" time is not supported yet");v=0|m.slice(0,2),b=0|m.slice(2,4),E=0|m.slice(4,6),I=0|m.slice(6,8),R=0|m.slice(8,10),N=0|m.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,b-1,E,I,R,N,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(p){const g=p.readUInt8();return p.isError(g)?g:g!==0},c.prototype._decodeInt=function(p,g){const m=p.raw();let v=new s(m);return g&&(v=g[v.toString(10)]||v),v},c.prototype._use=function(p,g){return typeof p=="function"&&(p=p(g)),p._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(i,r,n){const a=n;a.der=i("./der"),a.pem=i("./pem")},{"./der":178,"./pem":180}],180:[function(i,r,n){const a=i("inherits"),s=i("safer-buffer").Buffer,o=i("./der");function l(u){o.call(this,u),this.enc="pem"}a(l,o),r.exports=l,l.prototype.decode=function(u,d){const c=u.toString().split(/[\r\n]+/g),h=d.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/;let p=-1,g=-1;for(let b=0;b<c.length;b++){const E=c[b].match(f);if(E!==null&&E[2]===h){if(p!==-1){if(E[1]!=="END")break;g=b;break}if(E[1]!=="BEGIN")break;p=b}}if(p===-1||g===-1)throw new Error("PEM section not found for: "+h);const m=c.slice(p+1,g).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const v=s.from(m,"base64");return o.prototype.decode.call(this,v,d)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(i,r,n){const a=i("inherits"),s=i("safer-buffer").Buffer,o=i("../base/node"),l=i("../constants/der");function u(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new d,this.tree._init(h.body)}function d(h){o.call(this,"der",h)}function c(h){return h<10?"0"+h:h}r.exports=u,u.prototype.encode=function(h,f){return this.tree._encode(h,f).join()},a(d,o),d.prototype._encodeComposite=function(h,f,p,g){const m=function(E,I,R,N){let j;if(E==="seqof"?E="seq":E==="setof"&&(E="set"),l.tagByName.hasOwnProperty(E))j=l.tagByName[E];else{if(typeof E!="number"||(0|E)!==E)return N.error("Unknown tag: "+E);j=E}return j>=31?N.error("Multi-octet tag encoding unsupported"):(I||(j|=32),j|=l.tagClassByName[R||"universal"]<<6,j)}(h,f,p,this.reporter);if(g.length<128){const E=s.alloc(2);return E[0]=m,E[1]=g.length,this._createEncoderBuffer([E,g])}let v=1;for(let E=g.length;E>=256;E>>=8)v++;const b=s.alloc(2+v);b[0]=m,b[1]=128|v;for(let E=1+v,I=g.length;I>0;E--,I>>=8)b[E]=255&I;return this._createEncoderBuffer([b,g])},d.prototype._encodeStr=function(h,f){if(f==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(f==="bmpstr"){const p=s.alloc(2*h.length);for(let g=0;g<h.length;g++)p.writeUInt16BE(h.charCodeAt(g),2*g);return this._createEncoderBuffer(p)}return f==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):f==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(f)||f==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+f+" unsupported")},d.prototype._encodeObjid=function(h,f,p){if(typeof h=="string"){if(!f)return this.reporter.error("string objid given, but no values map found");if(!f.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=f[h].split(/[\s.]+/g);for(let b=0;b<h.length;b++)h[b]|=0}else if(Array.isArray(h)){h=h.slice();for(let b=0;b<h.length;b++)h[b]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!p){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let g=0;for(let b=0;b<h.length;b++){let E=h[b];for(g++;E>=128;E>>=7)g++}const m=s.alloc(g);let v=m.length-1;for(let b=h.length-1;b>=0;b--){let E=h[b];for(m[v--]=127&E;(E>>=7)>0;)m[v--]=128|127&E}return this._createEncoderBuffer(m)},d.prototype._encodeTime=function(h,f){let p;const g=new Date(h);return f==="gentime"?p=[c(g.getUTCFullYear()),c(g.getUTCMonth()+1),c(g.getUTCDate()),c(g.getUTCHours()),c(g.getUTCMinutes()),c(g.getUTCSeconds()),"Z"].join(""):f==="utctime"?p=[c(g.getUTCFullYear()%100),c(g.getUTCMonth()+1),c(g.getUTCDate()),c(g.getUTCHours()),c(g.getUTCMinutes()),c(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+f+" time is not supported yet"),this._encodeStr(p,"octstr")},d.prototype._encodeNull=function(){return this._createEncoderBuffer("")},d.prototype._encodeInt=function(h,f){if(typeof h=="string"){if(!f)return this.reporter.error("String int or enum given, but no values map");if(!f.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=f[h]}if(typeof h!="number"&&!s.isBuffer(h)){const m=h.toArray();!h.sign&&128&m[0]&&m.unshift(0),h=s.from(m)}if(s.isBuffer(h)){let m=h.length;h.length===0&&m++;const v=s.alloc(m);return h.copy(v),h.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let p=1;for(let m=h;m>=256;m>>=8)p++;const g=new Array(p);for(let m=g.length-1;m>=0;m--)g[m]=255&h,h>>=8;return 128&g[0]&&g.unshift(0),this._createEncoderBuffer(s.from(g))},d.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},d.prototype._use=function(h,f){return typeof h=="function"&&(h=h(f)),h._getEncoder("der").tree},d.prototype._skipDefault=function(h,f,p){const g=this._baseState;let m;if(g.default===null)return!1;const v=h.join();if(g.defaultBuffer===void 0&&(g.defaultBuffer=this._encodeValue(g.default,f,p).join()),v.length!==g.defaultBuffer.length)return!1;for(m=0;m<v.length;m++)if(v[m]!==g.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(i,r,n){const a=n;a.der=i("./der"),a.pem=i("./pem")},{"./der":181,"./pem":183}],183:[function(i,r,n){const a=i("inherits"),s=i("./der");function o(l){s.call(this,l),this.enc="pem"}a(o,s),r.exports=o,o.prototype.encode=function(l,u){const d=s.prototype.encode.call(this,l).toString("base64"),c=["-----BEGIN "+u.label+"-----"];for(let h=0;h<d.length;h+=64)c.push(d.slice(h,h+64));return c.push("-----END "+u.label+"-----"),c.join(`
`)}},{"./der":181,inherits:440}],184:[function(i,r,n){(function(a,s){function o(A,T){if(!A)throw new Error(T||"Assertion failed")}function l(A,T){A.super_=T;var x=function(){};x.prototype=T.prototype,A.prototype=new x,A.prototype.constructor=A}function u(A,T,x){if(u.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(T!=="le"&&T!=="be"||(x=T,T=10),this._init(A||0,T||10,x||"be"))}var d;typeof a=="object"?a.exports=u:(void 0).BN=u,u.BN=u,u.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:i("buffer").Buffer}catch{}function c(A,T){var x=A.charCodeAt(T);return x>=65&&x<=70?x-55:x>=97&&x<=102?x-87:x-48&15}function h(A,T,x){var C=c(A,x);return x-1>=T&&(C|=c(A,x-1)<<4),C}function f(A,T,x,C){for(var y=0,S=Math.min(A.length,x),w=T;w<S;w++){var k=A.charCodeAt(w)-48;y*=C,y+=k>=49?k-49+10:k>=17?k-17+10:k}return y}u.isBN=function(A){return A instanceof u||A!==null&&typeof A=="object"&&A.constructor.wordSize===u.wordSize&&Array.isArray(A.words)},u.max=function(A,T){return A.cmp(T)>0?A:T},u.min=function(A,T){return A.cmp(T)<0?A:T},u.prototype._init=function(A,T,x){if(typeof A=="number")return this._initNumber(A,T,x);if(typeof A=="object")return this._initArray(A,T,x);T==="hex"&&(T=16),o(T===(0|T)&&T>=2&&T<=36);var C=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(C++,this.negative=1),C<A.length&&(T===16?this._parseHex(A,C,x):(this._parseBase(A,T,C),x==="le"&&this._initArray(this.toArray(),T,x)))},u.prototype._initNumber=function(A,T,x){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(o(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),T,x)},u.prototype._initArray=function(A,T,x){if(o(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var y,S,w=0;if(x==="be")for(C=A.length-1,y=0;C>=0;C-=3)S=A[C]|A[C-1]<<8|A[C-2]<<16,this.words[y]|=S<<w&67108863,this.words[y+1]=S>>>26-w&67108863,(w+=24)>=26&&(w-=26,y++);else if(x==="le")for(C=0,y=0;C<A.length;C+=3)S=A[C]|A[C+1]<<8|A[C+2]<<16,this.words[y]|=S<<w&67108863,this.words[y+1]=S>>>26-w&67108863,(w+=24)>=26&&(w-=26,y++);return this.strip()},u.prototype._parseHex=function(A,T,x){this.length=Math.ceil((A.length-T)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var y,S=0,w=0;if(x==="be")for(C=A.length-1;C>=T;C-=2)y=h(A,T,C)<<S,this.words[w]|=67108863&y,S>=18?(S-=18,w+=1,this.words[w]|=y>>>26):S+=8;else for(C=(A.length-T)%2==0?T+1:T;C<A.length;C+=2)y=h(A,T,C)<<S,this.words[w]|=67108863&y,S>=18?(S-=18,w+=1,this.words[w]|=y>>>26):S+=8;this.strip()},u.prototype._parseBase=function(A,T,x){this.words=[0],this.length=1;for(var C=0,y=1;y<=67108863;y*=T)C++;C--,y=y/T|0;for(var S=A.length-x,w=S%C,k=Math.min(S,S-w)+x,M=0,O=x;O<k;O+=C)M=f(A,O,O+C,T),this.imuln(y),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(w!==0){var F=1;for(M=f(A,O,A.length,T),O=0;O<w;O++)F*=T;this.imuln(F),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this.strip()},u.prototype.copy=function(A){A.words=new Array(this.length);for(var T=0;T<this.length;T++)A.words[T]=this.words[T];A.length=this.length,A.negative=this.negative,A.red=this.red},u.prototype.clone=function(){var A=new u(null);return this.copy(A),A},u.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(A,T,x){x.negative=T.negative^A.negative;var C=A.length+T.length|0;x.length=C,C=C-1|0;var y=0|A.words[0],S=0|T.words[0],w=y*S,k=67108863&w,M=w/67108864|0;x.words[0]=k;for(var O=1;O<C;O++){for(var F=M>>>26,z=67108863&M,X=Math.min(O,T.length-1),L=Math.max(0,O-A.length+1);L<=X;L++){var K=O-L|0;F+=(w=(y=0|A.words[K])*(S=0|T.words[L])+z)/67108864|0,z=67108863&w}x.words[O]=0|z,M=0|F}return M!==0?x.words[O]=0|M:x.length--,x.strip()}u.prototype.toString=function(A,T){var x;if(T=0|T||1,(A=A||10)===16||A==="hex"){x="";for(var C=0,y=0,S=0;S<this.length;S++){var w=this.words[S],k=(16777215&(w<<C|y)).toString(16);x=(y=w>>>24-C&16777215)!==0||S!==this.length-1?p[6-k.length]+k+x:k+x,(C+=2)>=26&&(C-=26,S--)}for(y!==0&&(x=y.toString(16)+x);x.length%T!=0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(A===(0|A)&&A>=2&&A<=36){var M=g[A],O=m[A];x="";var F=this.clone();for(F.negative=0;!F.isZero();){var z=F.modn(O).toString(A);x=(F=F.idivn(O)).isZero()?z+x:p[M-z.length]+z+x}for(this.isZero()&&(x="0"+x);x.length%T!=0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}o(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(A,T){return o(d!==void 0),this.toArrayLike(d,A,T)},u.prototype.toArray=function(A,T){return this.toArrayLike(Array,A,T)},u.prototype.toArrayLike=function(A,T,x){var C=this.byteLength(),y=x||Math.max(1,C);o(C<=y,"byte array longer than desired length"),o(y>0,"Requested array length <= 0"),this.strip();var S,w,k=T==="le",M=new A(y),O=this.clone();if(k){for(w=0;!O.isZero();w++)S=O.andln(255),O.iushrn(8),M[w]=S;for(;w<y;w++)M[w]=0}else{for(w=0;w<y-C;w++)M[w]=0;for(w=0;!O.isZero();w++)S=O.andln(255),O.iushrn(8),M[y-w-1]=S}return M},Math.clz32?u.prototype._countBits=function(A){return 32-Math.clz32(A)}:u.prototype._countBits=function(A){var T=A,x=0;return T>=4096&&(x+=13,T>>>=13),T>=64&&(x+=7,T>>>=7),T>=8&&(x+=4,T>>>=4),T>=2&&(x+=2,T>>>=2),x+T},u.prototype._zeroBits=function(A){if(A===0)return 26;var T=A,x=0;return!(8191&T)&&(x+=13,T>>>=13),!(127&T)&&(x+=7,T>>>=7),!(15&T)&&(x+=4,T>>>=4),!(3&T)&&(x+=2,T>>>=2),!(1&T)&&x++,x},u.prototype.bitLength=function(){var A=this.words[this.length-1],T=this._countBits(A);return 26*(this.length-1)+T},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,T=0;T<this.length;T++){var x=this._zeroBits(this.words[T]);if(A+=x,x!==26)break}return A},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},u.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var T=0;T<A.length;T++)this.words[T]=this.words[T]|A.words[T];return this.strip()},u.prototype.ior=function(A){return o((this.negative|A.negative)==0),this.iuor(A)},u.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},u.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},u.prototype.iuand=function(A){var T;T=this.length>A.length?A:this;for(var x=0;x<T.length;x++)this.words[x]=this.words[x]&A.words[x];return this.length=T.length,this.strip()},u.prototype.iand=function(A){return o((this.negative|A.negative)==0),this.iuand(A)},u.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},u.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},u.prototype.iuxor=function(A){var T,x;this.length>A.length?(T=this,x=A):(T=A,x=this);for(var C=0;C<x.length;C++)this.words[C]=T.words[C]^x.words[C];if(this!==T)for(;C<T.length;C++)this.words[C]=T.words[C];return this.length=T.length,this.strip()},u.prototype.ixor=function(A){return o((this.negative|A.negative)==0),this.iuxor(A)},u.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},u.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},u.prototype.inotn=function(A){o(typeof A=="number"&&A>=0);var T=0|Math.ceil(A/26),x=A%26;this._expand(T),x>0&&T--;for(var C=0;C<T;C++)this.words[C]=67108863&~this.words[C];return x>0&&(this.words[C]=~this.words[C]&67108863>>26-x),this.strip()},u.prototype.notn=function(A){return this.clone().inotn(A)},u.prototype.setn=function(A,T){o(typeof A=="number"&&A>=0);var x=A/26|0,C=A%26;return this._expand(x+1),this.words[x]=T?this.words[x]|1<<C:this.words[x]&~(1<<C),this.strip()},u.prototype.iadd=function(A){var T,x,C;if(this.negative!==0&&A.negative===0)return this.negative=0,T=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,T=this.isub(A),A.negative=1,T._normSign();this.length>A.length?(x=this,C=A):(x=A,C=this);for(var y=0,S=0;S<C.length;S++)T=(0|x.words[S])+(0|C.words[S])+y,this.words[S]=67108863&T,y=T>>>26;for(;y!==0&&S<x.length;S++)T=(0|x.words[S])+y,this.words[S]=67108863&T,y=T>>>26;if(this.length=x.length,y!==0)this.words[this.length]=y,this.length++;else if(x!==this)for(;S<x.length;S++)this.words[S]=x.words[S];return this},u.prototype.add=function(A){var T;return A.negative!==0&&this.negative===0?(A.negative=0,T=this.sub(A),A.negative^=1,T):A.negative===0&&this.negative!==0?(this.negative=0,T=A.sub(this),this.negative=1,T):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},u.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var T=this.iadd(A);return A.negative=1,T._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var x,C,y=this.cmp(A);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(x=this,C=A):(x=A,C=this);for(var S=0,w=0;w<C.length;w++)S=(T=(0|x.words[w])-(0|C.words[w])+S)>>26,this.words[w]=67108863&T;for(;S!==0&&w<x.length;w++)S=(T=(0|x.words[w])+S)>>26,this.words[w]=67108863&T;if(S===0&&w<x.length&&x!==this)for(;w<x.length;w++)this.words[w]=x.words[w];return this.length=Math.max(this.length,w),x!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(A){return this.clone().isub(A)};var b=function(A,T,x){var C,y,S,w=A.words,k=T.words,M=x.words,O=0,F=0|w[0],z=8191&F,X=F>>>13,L=0|w[1],K=8191&L,D=L>>>13,B=0|w[2],U=8191&B,Q=B>>>13,q=0|w[3],Z=8191&q,$=q>>>13,ie=0|w[4],te=8191&ie,Y=ie>>>13,ee=0|w[5],re=8191&ee,ne=ee>>>13,ue=0|w[6],le=8191&ue,pe=ue>>>13,se=0|w[7],ae=8191&se,de=se>>>13,fe=0|w[8],me=8191&fe,ge=fe>>>13,ye=0|w[9],_e=8191&ye,Se=ye>>>13,Ie=0|k[0],Ce=8191&Ie,Te=Ie>>>13,Me=0|k[1],Pe=8191&Me,$e=Me>>>13,Le=0|k[2],je=8191&Le,Xe=Le>>>13,it=0|k[3],rt=8191&it,Dt=it>>>13,It=0|k[4],lt=8191&It,kt=It>>>13,Lt=0|k[5],vt=8191&Lt,Ut=Lt>>>13,Zt=0|k[6],wt=8191&Zt,xe=Zt>>>13,Oe=0|k[7],Ve=8191&Oe,Qe=Oe>>>13,_t=0|k[8],et=8191&_t,St=_t>>>13,bt=0|k[9],mt=8191&bt,Rt=bt>>>13;x.negative=A.negative^T.negative,x.length=19;var Et=(O+(C=Math.imul(z,Ce))|0)+((8191&(y=(y=Math.imul(z,Te))+Math.imul(X,Ce)|0))<<13)|0;O=((S=Math.imul(X,Te))+(y>>>13)|0)+(Et>>>26)|0,Et&=67108863,C=Math.imul(K,Ce),y=(y=Math.imul(K,Te))+Math.imul(D,Ce)|0,S=Math.imul(D,Te);var $t=(O+(C=C+Math.imul(z,Pe)|0)|0)+((8191&(y=(y=y+Math.imul(z,$e)|0)+Math.imul(X,Pe)|0))<<13)|0;O=((S=S+Math.imul(X,$e)|0)+(y>>>13)|0)+($t>>>26)|0,$t&=67108863,C=Math.imul(U,Ce),y=(y=Math.imul(U,Te))+Math.imul(Q,Ce)|0,S=Math.imul(Q,Te),C=C+Math.imul(K,Pe)|0,y=(y=y+Math.imul(K,$e)|0)+Math.imul(D,Pe)|0,S=S+Math.imul(D,$e)|0;var Ii=(O+(C=C+Math.imul(z,je)|0)|0)+((8191&(y=(y=y+Math.imul(z,Xe)|0)+Math.imul(X,je)|0))<<13)|0;O=((S=S+Math.imul(X,Xe)|0)+(y>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,C=Math.imul(Z,Ce),y=(y=Math.imul(Z,Te))+Math.imul($,Ce)|0,S=Math.imul($,Te),C=C+Math.imul(U,Pe)|0,y=(y=y+Math.imul(U,$e)|0)+Math.imul(Q,Pe)|0,S=S+Math.imul(Q,$e)|0,C=C+Math.imul(K,je)|0,y=(y=y+Math.imul(K,Xe)|0)+Math.imul(D,je)|0,S=S+Math.imul(D,Xe)|0;var fi=(O+(C=C+Math.imul(z,rt)|0)|0)+((8191&(y=(y=y+Math.imul(z,Dt)|0)+Math.imul(X,rt)|0))<<13)|0;O=((S=S+Math.imul(X,Dt)|0)+(y>>>13)|0)+(fi>>>26)|0,fi&=67108863,C=Math.imul(te,Ce),y=(y=Math.imul(te,Te))+Math.imul(Y,Ce)|0,S=Math.imul(Y,Te),C=C+Math.imul(Z,Pe)|0,y=(y=y+Math.imul(Z,$e)|0)+Math.imul($,Pe)|0,S=S+Math.imul($,$e)|0,C=C+Math.imul(U,je)|0,y=(y=y+Math.imul(U,Xe)|0)+Math.imul(Q,je)|0,S=S+Math.imul(Q,Xe)|0,C=C+Math.imul(K,rt)|0,y=(y=y+Math.imul(K,Dt)|0)+Math.imul(D,rt)|0,S=S+Math.imul(D,Dt)|0;var $i=(O+(C=C+Math.imul(z,lt)|0)|0)+((8191&(y=(y=y+Math.imul(z,kt)|0)+Math.imul(X,lt)|0))<<13)|0;O=((S=S+Math.imul(X,kt)|0)+(y>>>13)|0)+($i>>>26)|0,$i&=67108863,C=Math.imul(re,Ce),y=(y=Math.imul(re,Te))+Math.imul(ne,Ce)|0,S=Math.imul(ne,Te),C=C+Math.imul(te,Pe)|0,y=(y=y+Math.imul(te,$e)|0)+Math.imul(Y,Pe)|0,S=S+Math.imul(Y,$e)|0,C=C+Math.imul(Z,je)|0,y=(y=y+Math.imul(Z,Xe)|0)+Math.imul($,je)|0,S=S+Math.imul($,Xe)|0,C=C+Math.imul(U,rt)|0,y=(y=y+Math.imul(U,Dt)|0)+Math.imul(Q,rt)|0,S=S+Math.imul(Q,Dt)|0,C=C+Math.imul(K,lt)|0,y=(y=y+Math.imul(K,kt)|0)+Math.imul(D,lt)|0,S=S+Math.imul(D,kt)|0;var zi=(O+(C=C+Math.imul(z,vt)|0)|0)+((8191&(y=(y=y+Math.imul(z,Ut)|0)+Math.imul(X,vt)|0))<<13)|0;O=((S=S+Math.imul(X,Ut)|0)+(y>>>13)|0)+(zi>>>26)|0,zi&=67108863,C=Math.imul(le,Ce),y=(y=Math.imul(le,Te))+Math.imul(pe,Ce)|0,S=Math.imul(pe,Te),C=C+Math.imul(re,Pe)|0,y=(y=y+Math.imul(re,$e)|0)+Math.imul(ne,Pe)|0,S=S+Math.imul(ne,$e)|0,C=C+Math.imul(te,je)|0,y=(y=y+Math.imul(te,Xe)|0)+Math.imul(Y,je)|0,S=S+Math.imul(Y,Xe)|0,C=C+Math.imul(Z,rt)|0,y=(y=y+Math.imul(Z,Dt)|0)+Math.imul($,rt)|0,S=S+Math.imul($,Dt)|0,C=C+Math.imul(U,lt)|0,y=(y=y+Math.imul(U,kt)|0)+Math.imul(Q,lt)|0,S=S+Math.imul(Q,kt)|0,C=C+Math.imul(K,vt)|0,y=(y=y+Math.imul(K,Ut)|0)+Math.imul(D,vt)|0,S=S+Math.imul(D,Ut)|0;var br=(O+(C=C+Math.imul(z,wt)|0)|0)+((8191&(y=(y=y+Math.imul(z,xe)|0)+Math.imul(X,wt)|0))<<13)|0;O=((S=S+Math.imul(X,xe)|0)+(y>>>13)|0)+(br>>>26)|0,br&=67108863,C=Math.imul(ae,Ce),y=(y=Math.imul(ae,Te))+Math.imul(de,Ce)|0,S=Math.imul(de,Te),C=C+Math.imul(le,Pe)|0,y=(y=y+Math.imul(le,$e)|0)+Math.imul(pe,Pe)|0,S=S+Math.imul(pe,$e)|0,C=C+Math.imul(re,je)|0,y=(y=y+Math.imul(re,Xe)|0)+Math.imul(ne,je)|0,S=S+Math.imul(ne,Xe)|0,C=C+Math.imul(te,rt)|0,y=(y=y+Math.imul(te,Dt)|0)+Math.imul(Y,rt)|0,S=S+Math.imul(Y,Dt)|0,C=C+Math.imul(Z,lt)|0,y=(y=y+Math.imul(Z,kt)|0)+Math.imul($,lt)|0,S=S+Math.imul($,kt)|0,C=C+Math.imul(U,vt)|0,y=(y=y+Math.imul(U,Ut)|0)+Math.imul(Q,vt)|0,S=S+Math.imul(Q,Ut)|0,C=C+Math.imul(K,wt)|0,y=(y=y+Math.imul(K,xe)|0)+Math.imul(D,wt)|0,S=S+Math.imul(D,xe)|0;var be=(O+(C=C+Math.imul(z,Ve)|0)|0)+((8191&(y=(y=y+Math.imul(z,Qe)|0)+Math.imul(X,Ve)|0))<<13)|0;O=((S=S+Math.imul(X,Qe)|0)+(y>>>13)|0)+(be>>>26)|0,be&=67108863,C=Math.imul(me,Ce),y=(y=Math.imul(me,Te))+Math.imul(ge,Ce)|0,S=Math.imul(ge,Te),C=C+Math.imul(ae,Pe)|0,y=(y=y+Math.imul(ae,$e)|0)+Math.imul(de,Pe)|0,S=S+Math.imul(de,$e)|0,C=C+Math.imul(le,je)|0,y=(y=y+Math.imul(le,Xe)|0)+Math.imul(pe,je)|0,S=S+Math.imul(pe,Xe)|0,C=C+Math.imul(re,rt)|0,y=(y=y+Math.imul(re,Dt)|0)+Math.imul(ne,rt)|0,S=S+Math.imul(ne,Dt)|0,C=C+Math.imul(te,lt)|0,y=(y=y+Math.imul(te,kt)|0)+Math.imul(Y,lt)|0,S=S+Math.imul(Y,kt)|0,C=C+Math.imul(Z,vt)|0,y=(y=y+Math.imul(Z,Ut)|0)+Math.imul($,vt)|0,S=S+Math.imul($,Ut)|0,C=C+Math.imul(U,wt)|0,y=(y=y+Math.imul(U,xe)|0)+Math.imul(Q,wt)|0,S=S+Math.imul(Q,xe)|0,C=C+Math.imul(K,Ve)|0,y=(y=y+Math.imul(K,Qe)|0)+Math.imul(D,Ve)|0,S=S+Math.imul(D,Qe)|0;var De=(O+(C=C+Math.imul(z,et)|0)|0)+((8191&(y=(y=y+Math.imul(z,St)|0)+Math.imul(X,et)|0))<<13)|0;O=((S=S+Math.imul(X,St)|0)+(y>>>13)|0)+(De>>>26)|0,De&=67108863,C=Math.imul(_e,Ce),y=(y=Math.imul(_e,Te))+Math.imul(Se,Ce)|0,S=Math.imul(Se,Te),C=C+Math.imul(me,Pe)|0,y=(y=y+Math.imul(me,$e)|0)+Math.imul(ge,Pe)|0,S=S+Math.imul(ge,$e)|0,C=C+Math.imul(ae,je)|0,y=(y=y+Math.imul(ae,Xe)|0)+Math.imul(de,je)|0,S=S+Math.imul(de,Xe)|0,C=C+Math.imul(le,rt)|0,y=(y=y+Math.imul(le,Dt)|0)+Math.imul(pe,rt)|0,S=S+Math.imul(pe,Dt)|0,C=C+Math.imul(re,lt)|0,y=(y=y+Math.imul(re,kt)|0)+Math.imul(ne,lt)|0,S=S+Math.imul(ne,kt)|0,C=C+Math.imul(te,vt)|0,y=(y=y+Math.imul(te,Ut)|0)+Math.imul(Y,vt)|0,S=S+Math.imul(Y,Ut)|0,C=C+Math.imul(Z,wt)|0,y=(y=y+Math.imul(Z,xe)|0)+Math.imul($,wt)|0,S=S+Math.imul($,xe)|0,C=C+Math.imul(U,Ve)|0,y=(y=y+Math.imul(U,Qe)|0)+Math.imul(Q,Ve)|0,S=S+Math.imul(Q,Qe)|0,C=C+Math.imul(K,et)|0,y=(y=y+Math.imul(K,St)|0)+Math.imul(D,et)|0,S=S+Math.imul(D,St)|0;var ze=(O+(C=C+Math.imul(z,mt)|0)|0)+((8191&(y=(y=y+Math.imul(z,Rt)|0)+Math.imul(X,mt)|0))<<13)|0;O=((S=S+Math.imul(X,Rt)|0)+(y>>>13)|0)+(ze>>>26)|0,ze&=67108863,C=Math.imul(_e,Pe),y=(y=Math.imul(_e,$e))+Math.imul(Se,Pe)|0,S=Math.imul(Se,$e),C=C+Math.imul(me,je)|0,y=(y=y+Math.imul(me,Xe)|0)+Math.imul(ge,je)|0,S=S+Math.imul(ge,Xe)|0,C=C+Math.imul(ae,rt)|0,y=(y=y+Math.imul(ae,Dt)|0)+Math.imul(de,rt)|0,S=S+Math.imul(de,Dt)|0,C=C+Math.imul(le,lt)|0,y=(y=y+Math.imul(le,kt)|0)+Math.imul(pe,lt)|0,S=S+Math.imul(pe,kt)|0,C=C+Math.imul(re,vt)|0,y=(y=y+Math.imul(re,Ut)|0)+Math.imul(ne,vt)|0,S=S+Math.imul(ne,Ut)|0,C=C+Math.imul(te,wt)|0,y=(y=y+Math.imul(te,xe)|0)+Math.imul(Y,wt)|0,S=S+Math.imul(Y,xe)|0,C=C+Math.imul(Z,Ve)|0,y=(y=y+Math.imul(Z,Qe)|0)+Math.imul($,Ve)|0,S=S+Math.imul($,Qe)|0,C=C+Math.imul(U,et)|0,y=(y=y+Math.imul(U,St)|0)+Math.imul(Q,et)|0,S=S+Math.imul(Q,St)|0;var Ue=(O+(C=C+Math.imul(K,mt)|0)|0)+((8191&(y=(y=y+Math.imul(K,Rt)|0)+Math.imul(D,mt)|0))<<13)|0;O=((S=S+Math.imul(D,Rt)|0)+(y>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,C=Math.imul(_e,je),y=(y=Math.imul(_e,Xe))+Math.imul(Se,je)|0,S=Math.imul(Se,Xe),C=C+Math.imul(me,rt)|0,y=(y=y+Math.imul(me,Dt)|0)+Math.imul(ge,rt)|0,S=S+Math.imul(ge,Dt)|0,C=C+Math.imul(ae,lt)|0,y=(y=y+Math.imul(ae,kt)|0)+Math.imul(de,lt)|0,S=S+Math.imul(de,kt)|0,C=C+Math.imul(le,vt)|0,y=(y=y+Math.imul(le,Ut)|0)+Math.imul(pe,vt)|0,S=S+Math.imul(pe,Ut)|0,C=C+Math.imul(re,wt)|0,y=(y=y+Math.imul(re,xe)|0)+Math.imul(ne,wt)|0,S=S+Math.imul(ne,xe)|0,C=C+Math.imul(te,Ve)|0,y=(y=y+Math.imul(te,Qe)|0)+Math.imul(Y,Ve)|0,S=S+Math.imul(Y,Qe)|0,C=C+Math.imul(Z,et)|0,y=(y=y+Math.imul(Z,St)|0)+Math.imul($,et)|0,S=S+Math.imul($,St)|0;var dt=(O+(C=C+Math.imul(U,mt)|0)|0)+((8191&(y=(y=y+Math.imul(U,Rt)|0)+Math.imul(Q,mt)|0))<<13)|0;O=((S=S+Math.imul(Q,Rt)|0)+(y>>>13)|0)+(dt>>>26)|0,dt&=67108863,C=Math.imul(_e,rt),y=(y=Math.imul(_e,Dt))+Math.imul(Se,rt)|0,S=Math.imul(Se,Dt),C=C+Math.imul(me,lt)|0,y=(y=y+Math.imul(me,kt)|0)+Math.imul(ge,lt)|0,S=S+Math.imul(ge,kt)|0,C=C+Math.imul(ae,vt)|0,y=(y=y+Math.imul(ae,Ut)|0)+Math.imul(de,vt)|0,S=S+Math.imul(de,Ut)|0,C=C+Math.imul(le,wt)|0,y=(y=y+Math.imul(le,xe)|0)+Math.imul(pe,wt)|0,S=S+Math.imul(pe,xe)|0,C=C+Math.imul(re,Ve)|0,y=(y=y+Math.imul(re,Qe)|0)+Math.imul(ne,Ve)|0,S=S+Math.imul(ne,Qe)|0,C=C+Math.imul(te,et)|0,y=(y=y+Math.imul(te,St)|0)+Math.imul(Y,et)|0,S=S+Math.imul(Y,St)|0;var Ze=(O+(C=C+Math.imul(Z,mt)|0)|0)+((8191&(y=(y=y+Math.imul(Z,Rt)|0)+Math.imul($,mt)|0))<<13)|0;O=((S=S+Math.imul($,Rt)|0)+(y>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,C=Math.imul(_e,lt),y=(y=Math.imul(_e,kt))+Math.imul(Se,lt)|0,S=Math.imul(Se,kt),C=C+Math.imul(me,vt)|0,y=(y=y+Math.imul(me,Ut)|0)+Math.imul(ge,vt)|0,S=S+Math.imul(ge,Ut)|0,C=C+Math.imul(ae,wt)|0,y=(y=y+Math.imul(ae,xe)|0)+Math.imul(de,wt)|0,S=S+Math.imul(de,xe)|0,C=C+Math.imul(le,Ve)|0,y=(y=y+Math.imul(le,Qe)|0)+Math.imul(pe,Ve)|0,S=S+Math.imul(pe,Qe)|0,C=C+Math.imul(re,et)|0,y=(y=y+Math.imul(re,St)|0)+Math.imul(ne,et)|0,S=S+Math.imul(ne,St)|0;var Je=(O+(C=C+Math.imul(te,mt)|0)|0)+((8191&(y=(y=y+Math.imul(te,Rt)|0)+Math.imul(Y,mt)|0))<<13)|0;O=((S=S+Math.imul(Y,Rt)|0)+(y>>>13)|0)+(Je>>>26)|0,Je&=67108863,C=Math.imul(_e,vt),y=(y=Math.imul(_e,Ut))+Math.imul(Se,vt)|0,S=Math.imul(Se,Ut),C=C+Math.imul(me,wt)|0,y=(y=y+Math.imul(me,xe)|0)+Math.imul(ge,wt)|0,S=S+Math.imul(ge,xe)|0,C=C+Math.imul(ae,Ve)|0,y=(y=y+Math.imul(ae,Qe)|0)+Math.imul(de,Ve)|0,S=S+Math.imul(de,Qe)|0,C=C+Math.imul(le,et)|0,y=(y=y+Math.imul(le,St)|0)+Math.imul(pe,et)|0,S=S+Math.imul(pe,St)|0;var Wt=(O+(C=C+Math.imul(re,mt)|0)|0)+((8191&(y=(y=y+Math.imul(re,Rt)|0)+Math.imul(ne,mt)|0))<<13)|0;O=((S=S+Math.imul(ne,Rt)|0)+(y>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,C=Math.imul(_e,wt),y=(y=Math.imul(_e,xe))+Math.imul(Se,wt)|0,S=Math.imul(Se,xe),C=C+Math.imul(me,Ve)|0,y=(y=y+Math.imul(me,Qe)|0)+Math.imul(ge,Ve)|0,S=S+Math.imul(ge,Qe)|0,C=C+Math.imul(ae,et)|0,y=(y=y+Math.imul(ae,St)|0)+Math.imul(de,et)|0,S=S+Math.imul(de,St)|0;var Nt=(O+(C=C+Math.imul(le,mt)|0)|0)+((8191&(y=(y=y+Math.imul(le,Rt)|0)+Math.imul(pe,mt)|0))<<13)|0;O=((S=S+Math.imul(pe,Rt)|0)+(y>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,C=Math.imul(_e,Ve),y=(y=Math.imul(_e,Qe))+Math.imul(Se,Ve)|0,S=Math.imul(Se,Qe),C=C+Math.imul(me,et)|0,y=(y=y+Math.imul(me,St)|0)+Math.imul(ge,et)|0,S=S+Math.imul(ge,St)|0;var Ft=(O+(C=C+Math.imul(ae,mt)|0)|0)+((8191&(y=(y=y+Math.imul(ae,Rt)|0)+Math.imul(de,mt)|0))<<13)|0;O=((S=S+Math.imul(de,Rt)|0)+(y>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,C=Math.imul(_e,et),y=(y=Math.imul(_e,St))+Math.imul(Se,et)|0,S=Math.imul(Se,St);var yt=(O+(C=C+Math.imul(me,mt)|0)|0)+((8191&(y=(y=y+Math.imul(me,Rt)|0)+Math.imul(ge,mt)|0))<<13)|0;O=((S=S+Math.imul(ge,Rt)|0)+(y>>>13)|0)+(yt>>>26)|0,yt&=67108863;var ai=(O+(C=Math.imul(_e,mt))|0)+((8191&(y=(y=Math.imul(_e,Rt))+Math.imul(Se,mt)|0))<<13)|0;return O=((S=Math.imul(Se,Rt))+(y>>>13)|0)+(ai>>>26)|0,ai&=67108863,M[0]=Et,M[1]=$t,M[2]=Ii,M[3]=fi,M[4]=$i,M[5]=zi,M[6]=br,M[7]=be,M[8]=De,M[9]=ze,M[10]=Ue,M[11]=dt,M[12]=Ze,M[13]=Je,M[14]=Wt,M[15]=Nt,M[16]=Ft,M[17]=yt,M[18]=ai,O!==0&&(M[19]=O,x.length++),x};function E(A,T,x){return new I().mulp(A,T,x)}function I(A,T){this.x=A,this.y=T}Math.imul||(b=v),u.prototype.mulTo=function(A,T){var x=this.length+A.length;return this.length===10&&A.length===10?b(this,A,T):x<63?v(this,A,T):x<1024?function(C,y,S){S.negative=y.negative^C.negative,S.length=C.length+y.length;for(var w=0,k=0,M=0;M<S.length-1;M++){var O=k;k=0;for(var F=67108863&w,z=Math.min(M,y.length-1),X=Math.max(0,M-C.length+1);X<=z;X++){var L=M-X,K=(0|C.words[L])*(0|y.words[X]),D=67108863&K;F=67108863&(D=D+F|0),k+=(O=(O=O+(K/67108864|0)|0)+(D>>>26)|0)>>>26,O&=67108863}S.words[M]=F,w=O,O=k}return w!==0?S.words[M]=w:S.length--,S.strip()}(this,A,T):E(this,A,T)},I.prototype.makeRBT=function(A){for(var T=new Array(A),x=u.prototype._countBits(A)-1,C=0;C<A;C++)T[C]=this.revBin(C,x,A);return T},I.prototype.revBin=function(A,T,x){if(A===0||A===x-1)return A;for(var C=0,y=0;y<T;y++)C|=(1&A)<<T-y-1,A>>=1;return C},I.prototype.permute=function(A,T,x,C,y,S){for(var w=0;w<S;w++)C[w]=T[A[w]],y[w]=x[A[w]]},I.prototype.transform=function(A,T,x,C,y,S){this.permute(S,A,T,x,C,y);for(var w=1;w<y;w<<=1)for(var k=w<<1,M=Math.cos(2*Math.PI/k),O=Math.sin(2*Math.PI/k),F=0;F<y;F+=k)for(var z=M,X=O,L=0;L<w;L++){var K=x[F+L],D=C[F+L],B=x[F+L+w],U=C[F+L+w],Q=z*B-X*U;U=z*U+X*B,B=Q,x[F+L]=K+B,C[F+L]=D+U,x[F+L+w]=K-B,C[F+L+w]=D-U,L!==k&&(Q=M*z-O*X,X=M*X+O*z,z=Q)}},I.prototype.guessLen13b=function(A,T){var x=1|Math.max(T,A),C=1&x,y=0;for(x=x/2|0;x;x>>>=1)y++;return 1<<y+1+C},I.prototype.conjugate=function(A,T,x){if(!(x<=1))for(var C=0;C<x/2;C++){var y=A[C];A[C]=A[x-C-1],A[x-C-1]=y,y=T[C],T[C]=-T[x-C-1],T[x-C-1]=-y}},I.prototype.normalize13b=function(A,T){for(var x=0,C=0;C<T/2;C++){var y=8192*Math.round(A[2*C+1]/T)+Math.round(A[2*C]/T)+x;A[C]=67108863&y,x=y<67108864?0:y/67108864|0}return A},I.prototype.convert13b=function(A,T,x,C){for(var y=0,S=0;S<T;S++)y+=0|A[S],x[2*S]=8191&y,y>>>=13,x[2*S+1]=8191&y,y>>>=13;for(S=2*T;S<C;++S)x[S]=0;o(y===0),o((-8192&y)==0)},I.prototype.stub=function(A){for(var T=new Array(A),x=0;x<A;x++)T[x]=0;return T},I.prototype.mulp=function(A,T,x){var C=2*this.guessLen13b(A.length,T.length),y=this.makeRBT(C),S=this.stub(C),w=new Array(C),k=new Array(C),M=new Array(C),O=new Array(C),F=new Array(C),z=new Array(C),X=x.words;X.length=C,this.convert13b(A.words,A.length,w,C),this.convert13b(T.words,T.length,O,C),this.transform(w,S,k,M,C,y),this.transform(O,S,F,z,C,y);for(var L=0;L<C;L++){var K=k[L]*F[L]-M[L]*z[L];M[L]=k[L]*z[L]+M[L]*F[L],k[L]=K}return this.conjugate(k,M,C),this.transform(k,M,X,S,C,y),this.conjugate(X,S,C),this.normalize13b(X,C),x.negative=A.negative^T.negative,x.length=A.length+T.length,x.strip()},u.prototype.mul=function(A){var T=new u(null);return T.words=new Array(this.length+A.length),this.mulTo(A,T)},u.prototype.mulf=function(A){var T=new u(null);return T.words=new Array(this.length+A.length),E(this,A,T)},u.prototype.imul=function(A){return this.clone().mulTo(A,this)},u.prototype.imuln=function(A){o(typeof A=="number"),o(A<67108864);for(var T=0,x=0;x<this.length;x++){var C=(0|this.words[x])*A,y=(67108863&C)+(67108863&T);T>>=26,T+=C/67108864|0,T+=y>>>26,this.words[x]=67108863&y}return T!==0&&(this.words[x]=T,this.length++),this},u.prototype.muln=function(A){return this.clone().imuln(A)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(A){var T=function(S){for(var w=new Array(S.bitLength()),k=0;k<w.length;k++){var M=k/26|0,O=k%26;w[k]=(S.words[M]&1<<O)>>>O}return w}(A);if(T.length===0)return new u(1);for(var x=this,C=0;C<T.length&&T[C]===0;C++,x=x.sqr());if(++C<T.length)for(var y=x.sqr();C<T.length;C++,y=y.sqr())T[C]!==0&&(x=x.mul(y));return x},u.prototype.iushln=function(A){o(typeof A=="number"&&A>=0);var T,x=A%26,C=(A-x)/26,y=67108863>>>26-x<<26-x;if(x!==0){var S=0;for(T=0;T<this.length;T++){var w=this.words[T]&y,k=(0|this.words[T])-w<<x;this.words[T]=k|S,S=w>>>26-x}S&&(this.words[T]=S,this.length++)}if(C!==0){for(T=this.length-1;T>=0;T--)this.words[T+C]=this.words[T];for(T=0;T<C;T++)this.words[T]=0;this.length+=C}return this.strip()},u.prototype.ishln=function(A){return o(this.negative===0),this.iushln(A)},u.prototype.iushrn=function(A,T,x){var C;o(typeof A=="number"&&A>=0),C=T?(T-T%26)/26:0;var y=A%26,S=Math.min((A-y)/26,this.length),w=67108863^67108863>>>y<<y,k=x;if(C-=S,C=Math.max(0,C),k){for(var M=0;M<S;M++)k.words[M]=this.words[M];k.length=S}if(S!==0)if(this.length>S)for(this.length-=S,M=0;M<this.length;M++)this.words[M]=this.words[M+S];else this.words[0]=0,this.length=1;var O=0;for(M=this.length-1;M>=0&&(O!==0||M>=C);M--){var F=0|this.words[M];this.words[M]=O<<26-y|F>>>y,O=F&w}return k&&O!==0&&(k.words[k.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(A,T,x){return o(this.negative===0),this.iushrn(A,T,x)},u.prototype.shln=function(A){return this.clone().ishln(A)},u.prototype.ushln=function(A){return this.clone().iushln(A)},u.prototype.shrn=function(A){return this.clone().ishrn(A)},u.prototype.ushrn=function(A){return this.clone().iushrn(A)},u.prototype.testn=function(A){o(typeof A=="number"&&A>=0);var T=A%26,x=(A-T)/26,C=1<<T;return!(this.length<=x)&&!!(this.words[x]&C)},u.prototype.imaskn=function(A){o(typeof A=="number"&&A>=0);var T=A%26,x=(A-T)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(T!==0&&x++,this.length=Math.min(x,this.length),T!==0){var C=67108863^67108863>>>T<<T;this.words[this.length-1]&=C}return this.strip()},u.prototype.maskn=function(A){return this.clone().imaskn(A)},u.prototype.iaddn=function(A){return o(typeof A=="number"),o(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},u.prototype._iaddn=function(A){this.words[0]+=A;for(var T=0;T<this.length&&this.words[T]>=67108864;T++)this.words[T]-=67108864,T===this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=Math.max(this.length,T+1),this},u.prototype.isubn=function(A){if(o(typeof A=="number"),o(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&this.words[T]<0;T++)this.words[T]+=67108864,this.words[T+1]-=1;return this.strip()},u.prototype.addn=function(A){return this.clone().iaddn(A)},u.prototype.subn=function(A){return this.clone().isubn(A)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(A,T,x){var C,y,S=A.length+x;this._expand(S);var w=0;for(C=0;C<A.length;C++){y=(0|this.words[C+x])+w;var k=(0|A.words[C])*T;w=((y-=67108863&k)>>26)-(k/67108864|0),this.words[C+x]=67108863&y}for(;C<this.length-x;C++)w=(y=(0|this.words[C+x])+w)>>26,this.words[C+x]=67108863&y;if(w===0)return this.strip();for(o(w===-1),w=0,C=0;C<this.length;C++)w=(y=-(0|this.words[C])+w)>>26,this.words[C]=67108863&y;return this.negative=1,this.strip()},u.prototype._wordDiv=function(A,T){var x=(this.length,A.length),C=this.clone(),y=A,S=0|y.words[y.length-1];(x=26-this._countBits(S))!==0&&(y=y.ushln(x),C.iushln(x),S=0|y.words[y.length-1]);var w,k=C.length-y.length;if(T!=="mod"){(w=new u(null)).length=k+1,w.words=new Array(w.length);for(var M=0;M<w.length;M++)w.words[M]=0}var O=C.clone()._ishlnsubmul(y,1,k);O.negative===0&&(C=O,w&&(w.words[k]=1));for(var F=k-1;F>=0;F--){var z=67108864*(0|C.words[y.length+F])+(0|C.words[y.length+F-1]);for(z=Math.min(z/S|0,67108863),C._ishlnsubmul(y,z,F);C.negative!==0;)z--,C.negative=0,C._ishlnsubmul(y,1,F),C.isZero()||(C.negative^=1);w&&(w.words[F]=z)}return w&&w.strip(),C.strip(),T!=="div"&&x!==0&&C.iushrn(x),{div:w||null,mod:C}},u.prototype.divmod=function(A,T,x){return o(!A.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:this.negative!==0&&A.negative===0?(S=this.neg().divmod(A,T),T!=="mod"&&(C=S.div.neg()),T!=="div"&&(y=S.mod.neg(),x&&y.negative!==0&&y.iadd(A)),{div:C,mod:y}):this.negative===0&&A.negative!==0?(S=this.divmod(A.neg(),T),T!=="mod"&&(C=S.div.neg()),{div:C,mod:S.mod}):this.negative&A.negative?(S=this.neg().divmod(A.neg(),T),T!=="div"&&(y=S.mod.neg(),x&&y.negative!==0&&y.isub(A)),{div:S.div,mod:y}):A.length>this.length||this.cmp(A)<0?{div:new u(0),mod:this}:A.length===1?T==="div"?{div:this.divn(A.words[0]),mod:null}:T==="mod"?{div:null,mod:new u(this.modn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new u(this.modn(A.words[0]))}:this._wordDiv(A,T);var C,y,S},u.prototype.div=function(A){return this.divmod(A,"div",!1).div},u.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},u.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},u.prototype.divRound=function(A){var T=this.divmod(A);if(T.mod.isZero())return T.div;var x=T.div.negative!==0?T.mod.isub(A):T.mod,C=A.ushrn(1),y=A.andln(1),S=x.cmp(C);return S<0||y===1&&S===0?T.div:T.div.negative!==0?T.div.isubn(1):T.div.iaddn(1)},u.prototype.modn=function(A){o(A<=67108863);for(var T=(1<<26)%A,x=0,C=this.length-1;C>=0;C--)x=(T*x+(0|this.words[C]))%A;return x},u.prototype.idivn=function(A){o(A<=67108863);for(var T=0,x=this.length-1;x>=0;x--){var C=(0|this.words[x])+67108864*T;this.words[x]=C/A|0,T=C%A}return this.strip()},u.prototype.divn=function(A){return this.clone().idivn(A)},u.prototype.egcd=function(A){o(A.negative===0),o(!A.isZero());var T=this,x=A.clone();T=T.negative!==0?T.umod(A):T.clone();for(var C=new u(1),y=new u(0),S=new u(0),w=new u(1),k=0;T.isEven()&&x.isEven();)T.iushrn(1),x.iushrn(1),++k;for(var M=x.clone(),O=T.clone();!T.isZero();){for(var F=0,z=1;!(T.words[0]&z)&&F<26;++F,z<<=1);if(F>0)for(T.iushrn(F);F-- >0;)(C.isOdd()||y.isOdd())&&(C.iadd(M),y.isub(O)),C.iushrn(1),y.iushrn(1);for(var X=0,L=1;!(x.words[0]&L)&&X<26;++X,L<<=1);if(X>0)for(x.iushrn(X);X-- >0;)(S.isOdd()||w.isOdd())&&(S.iadd(M),w.isub(O)),S.iushrn(1),w.iushrn(1);T.cmp(x)>=0?(T.isub(x),C.isub(S),y.isub(w)):(x.isub(T),S.isub(C),w.isub(y))}return{a:S,b:w,gcd:x.iushln(k)}},u.prototype._invmp=function(A){o(A.negative===0),o(!A.isZero());var T=this,x=A.clone();T=T.negative!==0?T.umod(A):T.clone();for(var C,y=new u(1),S=new u(0),w=x.clone();T.cmpn(1)>0&&x.cmpn(1)>0;){for(var k=0,M=1;!(T.words[0]&M)&&k<26;++k,M<<=1);if(k>0)for(T.iushrn(k);k-- >0;)y.isOdd()&&y.iadd(w),y.iushrn(1);for(var O=0,F=1;!(x.words[0]&F)&&O<26;++O,F<<=1);if(O>0)for(x.iushrn(O);O-- >0;)S.isOdd()&&S.iadd(w),S.iushrn(1);T.cmp(x)>=0?(T.isub(x),y.isub(S)):(x.isub(T),S.isub(y))}return(C=T.cmpn(1)===0?y:S).cmpn(0)<0&&C.iadd(A),C},u.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var T=this.clone(),x=A.clone();T.negative=0,x.negative=0;for(var C=0;T.isEven()&&x.isEven();C++)T.iushrn(1),x.iushrn(1);for(;;){for(;T.isEven();)T.iushrn(1);for(;x.isEven();)x.iushrn(1);var y=T.cmp(x);if(y<0){var S=T;T=x,x=S}else if(y===0||x.cmpn(1)===0)break;T.isub(x)}return x.iushln(C)},u.prototype.invm=function(A){return this.egcd(A).a.umod(A)},u.prototype.isEven=function(){return(1&this.words[0])==0},u.prototype.isOdd=function(){return(1&this.words[0])==1},u.prototype.andln=function(A){return this.words[0]&A},u.prototype.bincn=function(A){o(typeof A=="number");var T=A%26,x=(A-T)/26,C=1<<T;if(this.length<=x)return this._expand(x+1),this.words[x]|=C,this;for(var y=C,S=x;y!==0&&S<this.length;S++){var w=0|this.words[S];y=(w+=y)>>>26,w&=67108863,this.words[S]=w}return y!==0&&(this.words[S]=y,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(A){var T,x=A<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;if(this.strip(),this.length>1)T=1;else{x&&(A=-A),o(A<=67108863,"Number is too big");var C=0|this.words[0];T=C===A?0:C<A?-1:1}return this.negative!==0?0|-T:T},u.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var T=this.ucmp(A);return this.negative!==0?0|-T:T},u.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var T=0,x=this.length-1;x>=0;x--){var C=0|this.words[x],y=0|A.words[x];if(C!==y){C<y?T=-1:C>y&&(T=1);break}}return T},u.prototype.gtn=function(A){return this.cmpn(A)===1},u.prototype.gt=function(A){return this.cmp(A)===1},u.prototype.gten=function(A){return this.cmpn(A)>=0},u.prototype.gte=function(A){return this.cmp(A)>=0},u.prototype.ltn=function(A){return this.cmpn(A)===-1},u.prototype.lt=function(A){return this.cmp(A)===-1},u.prototype.lten=function(A){return this.cmpn(A)<=0},u.prototype.lte=function(A){return this.cmp(A)<=0},u.prototype.eqn=function(A){return this.cmpn(A)===0},u.prototype.eq=function(A){return this.cmp(A)===0},u.red=function(A){return new G(A)},u.prototype.toRed=function(A){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},u.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(A){return this.red=A,this},u.prototype.forceRed=function(A){return o(!this.red,"Already a number in reduction context"),this._forceRed(A)},u.prototype.redAdd=function(A){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},u.prototype.redIAdd=function(A){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},u.prototype.redSub=function(A){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},u.prototype.redISub=function(A){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},u.prototype.redShl=function(A){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},u.prototype.redMul=function(A){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},u.prototype.redIMul=function(A){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},u.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(A){return o(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var R={k256:null,p224:null,p192:null,p25519:null};function N(A,T){this.name=A,this.p=new u(T,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function j(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function V(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function H(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function W(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function G(A){if(typeof A=="string"){var T=u._prime(A);this.m=T.p,this.prime=T}else o(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function P(A){G.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}N.prototype._tmp=function(){var A=new u(null);return A.words=new Array(Math.ceil(this.n/13)),A},N.prototype.ireduce=function(A){var T,x=A;do this.split(x,this.tmp),T=(x=(x=this.imulK(x)).iadd(this.tmp)).bitLength();while(T>this.n);var C=T<this.n?-1:x.ucmp(this.p);return C===0?(x.words[0]=0,x.length=1):C>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},N.prototype.split=function(A,T){A.iushrn(this.n,0,T)},N.prototype.imulK=function(A){return A.imul(this.k)},l(j,N),j.prototype.split=function(A,T){for(var x=Math.min(A.length,9),C=0;C<x;C++)T.words[C]=A.words[C];if(T.length=x,A.length<=9)return A.words[0]=0,void(A.length=1);var y=A.words[9];for(T.words[T.length++]=4194303&y,C=10;C<A.length;C++){var S=0|A.words[C];A.words[C-10]=(4194303&S)<<4|y>>>22,y=S}y>>>=22,A.words[C-10]=y,y===0&&A.length>10?A.length-=10:A.length-=9},j.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var T=0,x=0;x<A.length;x++){var C=0|A.words[x];T+=977*C,A.words[x]=67108863&T,T=64*C+(T/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},l(V,N),l(H,N),l(W,N),W.prototype.imulK=function(A){for(var T=0,x=0;x<A.length;x++){var C=19*(0|A.words[x])+T,y=67108863&C;C>>>=26,A.words[x]=y,T=C}return T!==0&&(A.words[A.length++]=T),A},u._prime=function(A){if(R[A])return R[A];var T;if(A==="k256")T=new j;else if(A==="p224")T=new V;else if(A==="p192")T=new H;else{if(A!=="p25519")throw new Error("Unknown prime "+A);T=new W}return R[A]=T,T},G.prototype._verify1=function(A){o(A.negative===0,"red works only with positives"),o(A.red,"red works only with red numbers")},G.prototype._verify2=function(A,T){o((A.negative|T.negative)==0,"red works only with positives"),o(A.red&&A.red===T.red,"red works only with red numbers")},G.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):A.umod(this.m)._forceRed(this)},G.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},G.prototype.add=function(A,T){this._verify2(A,T);var x=A.add(T);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},G.prototype.iadd=function(A,T){this._verify2(A,T);var x=A.iadd(T);return x.cmp(this.m)>=0&&x.isub(this.m),x},G.prototype.sub=function(A,T){this._verify2(A,T);var x=A.sub(T);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},G.prototype.isub=function(A,T){this._verify2(A,T);var x=A.isub(T);return x.cmpn(0)<0&&x.iadd(this.m),x},G.prototype.shl=function(A,T){return this._verify1(A),this.imod(A.ushln(T))},G.prototype.imul=function(A,T){return this._verify2(A,T),this.imod(A.imul(T))},G.prototype.mul=function(A,T){return this._verify2(A,T),this.imod(A.mul(T))},G.prototype.isqr=function(A){return this.imul(A,A.clone())},G.prototype.sqr=function(A){return this.mul(A,A)},G.prototype.sqrt=function(A){if(A.isZero())return A.clone();var T=this.m.andln(3);if(o(T%2==1),T===3){var x=this.m.add(new u(1)).iushrn(2);return this.pow(A,x)}for(var C=this.m.subn(1),y=0;!C.isZero()&&C.andln(1)===0;)y++,C.iushrn(1);o(!C.isZero());var S=new u(1).toRed(this),w=S.redNeg(),k=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new u(2*M*M).toRed(this);this.pow(M,k).cmp(w)!==0;)M.redIAdd(w);for(var O=this.pow(M,C),F=this.pow(A,C.addn(1).iushrn(1)),z=this.pow(A,C),X=y;z.cmp(S)!==0;){for(var L=z,K=0;L.cmp(S)!==0;K++)L=L.redSqr();o(K<X);var D=this.pow(O,new u(1).iushln(X-K-1));F=F.redMul(D),O=D.redSqr(),z=z.redMul(O),X=K}return F},G.prototype.invm=function(A){var T=A._invmp(this.m);return T.negative!==0?(T.negative=0,this.imod(T).redNeg()):this.imod(T)},G.prototype.pow=function(A,T){if(T.isZero())return new u(1).toRed(this);if(T.cmpn(1)===0)return A.clone();var x=new Array(16);x[0]=new u(1).toRed(this),x[1]=A;for(var C=2;C<x.length;C++)x[C]=this.mul(x[C-1],A);var y=x[0],S=0,w=0,k=T.bitLength()%26;for(k===0&&(k=26),C=T.length-1;C>=0;C--){for(var M=T.words[C],O=k-1;O>=0;O--){var F=M>>O&1;y!==x[0]&&(y=this.sqr(y)),F!==0||S!==0?(S<<=1,S|=F,(++w===4||C===0&&O===0)&&(y=this.mul(y,x[S]),w=0,S=0)):w=0}k=26}return y},G.prototype.convertTo=function(A){var T=A.umod(this.m);return T===A?T.clone():T},G.prototype.convertFrom=function(A){var T=A.clone();return T.red=null,T},u.mont=function(A){return new P(A)},l(P,G),P.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},P.prototype.convertFrom=function(A){var T=this.imod(A.mul(this.rinv));return T.red=null,T},P.prototype.imul=function(A,T){if(A.isZero()||T.isZero())return A.words[0]=0,A.length=1,A;var x=A.imul(T),C=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=x.isub(C).iushrn(this.shift),S=y;return y.cmp(this.m)>=0?S=y.isub(this.m):y.cmpn(0)<0&&(S=y.iadd(this.m)),S._forceRed(this)},P.prototype.mul=function(A,T){if(A.isZero()||T.isZero())return new u(0)._forceRed(this);var x=A.mul(T),C=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=x.isub(C).iushrn(this.shift),S=y;return y.cmp(this.m)>=0?S=y.isub(this.m):y.cmpn(0)<0&&(S=y.iadd(this.m)),S._forceRed(this)},P.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(r===void 0||r)},{buffer:188}],185:[function(i,r,n){n.byteLength=function(f){var p=c(f),g=p[0],m=p[1];return 3*(g+m)/4-m},n.toByteArray=function(f){var p,g,m=c(f),v=m[0],b=m[1],E=new o(function(N,j,V){return 3*(j+V)/4-V}(0,v,b)),I=0,R=b>0?v-4:v;for(g=0;g<R;g+=4)p=s[f.charCodeAt(g)]<<18|s[f.charCodeAt(g+1)]<<12|s[f.charCodeAt(g+2)]<<6|s[f.charCodeAt(g+3)],E[I++]=p>>16&255,E[I++]=p>>8&255,E[I++]=255&p;return b===2&&(p=s[f.charCodeAt(g)]<<2|s[f.charCodeAt(g+1)]>>4,E[I++]=255&p),b===1&&(p=s[f.charCodeAt(g)]<<10|s[f.charCodeAt(g+1)]<<4|s[f.charCodeAt(g+2)]>>2,E[I++]=p>>8&255,E[I++]=255&p),E},n.fromByteArray=function(f){for(var p,g=f.length,m=g%3,v=[],b=0,E=g-m;b<E;b+=16383)v.push(h(f,b,b+16383>E?E:b+16383));return m===1?(p=f[g-1],v.push(a[p>>2]+a[p<<4&63]+"==")):m===2&&(p=(f[g-2]<<8)+f[g-1],v.push(a[p>>10]+a[p>>4&63]+a[p<<2&63]+"=")),v.join("")};for(var a=[],s=[],o=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,d=l.length;u<d;++u)a[u]=l[u],s[l.charCodeAt(u)]=u;function c(f){var p=f.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=f.indexOf("=");return g===-1&&(g=p),[g,g===p?0:4-g%4]}function h(f,p,g){for(var m,v,b=[],E=p;E<g;E+=3)m=(f[E]<<16&16711680)+(f[E+1]<<8&65280)+(255&f[E+2]),b.push(a[(v=m)>>18&63]+a[v>>12&63]+a[v>>6&63]+a[63&v]);return b.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},{}],186:[function(i,r,n){(function(a,s){function o(x,C){if(!x)throw new Error(C||"Assertion failed")}function l(x,C){x.super_=C;var y=function(){};y.prototype=C.prototype,x.prototype=new y,x.prototype.constructor=x}function u(x,C,y){if(u.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&(C!=="le"&&C!=="be"||(y=C,C=10),this._init(x||0,C||10,y||"be"))}var d;typeof a=="object"?a.exports=u:(void 0).BN=u,u.BN=u,u.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:i("buffer").Buffer}catch{}function c(x,C){var y=x.charCodeAt(C);return y>=48&&y<=57?y-48:y>=65&&y<=70?y-55:y>=97&&y<=102?y-87:void o(!1,"Invalid character in "+x)}function h(x,C,y){var S=c(x,y);return y-1>=C&&(S|=c(x,y-1)<<4),S}function f(x,C,y,S){for(var w=0,k=0,M=Math.min(x.length,y),O=C;O<M;O++){var F=x.charCodeAt(O)-48;w*=S,k=F>=49?F-49+10:F>=17?F-17+10:F,o(F>=0&&k<S,"Invalid character"),w+=k}return w}function p(x,C){x.words=C.words,x.length=C.length,x.negative=C.negative,x.red=C.red}if(u.isBN=function(x){return x instanceof u||x!==null&&typeof x=="object"&&x.constructor.wordSize===u.wordSize&&Array.isArray(x.words)},u.max=function(x,C){return x.cmp(C)>0?x:C},u.min=function(x,C){return x.cmp(C)<0?x:C},u.prototype._init=function(x,C,y){if(typeof x=="number")return this._initNumber(x,C,y);if(typeof x=="object")return this._initArray(x,C,y);C==="hex"&&(C=16),o(C===(0|C)&&C>=2&&C<=36);var S=0;(x=x.toString().replace(/\s+/g,""))[0]==="-"&&(S++,this.negative=1),S<x.length&&(C===16?this._parseHex(x,S,y):(this._parseBase(x,C,S),y==="le"&&this._initArray(this.toArray(),C,y)))},u.prototype._initNumber=function(x,C,y){x<0&&(this.negative=1,x=-x),x<67108864?(this.words=[67108863&x],this.length=1):x<4503599627370496?(this.words=[67108863&x,x/67108864&67108863],this.length=2):(o(x<9007199254740992),this.words=[67108863&x,x/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),C,y)},u.prototype._initArray=function(x,C,y){if(o(typeof x.length=="number"),x.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(x.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var w,k,M=0;if(y==="be")for(S=x.length-1,w=0;S>=0;S-=3)k=x[S]|x[S-1]<<8|x[S-2]<<16,this.words[w]|=k<<M&67108863,this.words[w+1]=k>>>26-M&67108863,(M+=24)>=26&&(M-=26,w++);else if(y==="le")for(S=0,w=0;S<x.length;S+=3)k=x[S]|x[S+1]<<8|x[S+2]<<16,this.words[w]|=k<<M&67108863,this.words[w+1]=k>>>26-M&67108863,(M+=24)>=26&&(M-=26,w++);return this._strip()},u.prototype._parseHex=function(x,C,y){this.length=Math.ceil((x.length-C)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var w,k=0,M=0;if(y==="be")for(S=x.length-1;S>=C;S-=2)w=h(x,C,S)<<k,this.words[M]|=67108863&w,k>=18?(k-=18,M+=1,this.words[M]|=w>>>26):k+=8;else for(S=(x.length-C)%2==0?C+1:C;S<x.length;S+=2)w=h(x,C,S)<<k,this.words[M]|=67108863&w,k>=18?(k-=18,M+=1,this.words[M]|=w>>>26):k+=8;this._strip()},u.prototype._parseBase=function(x,C,y){this.words=[0],this.length=1;for(var S=0,w=1;w<=67108863;w*=C)S++;S--,w=w/C|0;for(var k=x.length-y,M=k%S,O=Math.min(k,k-M)+y,F=0,z=y;z<O;z+=S)F=f(x,z,z+S,C),this.imuln(w),this.words[0]+F<67108864?this.words[0]+=F:this._iaddn(F);if(M!==0){var X=1;for(F=f(x,z,x.length,C),z=0;z<M;z++)X*=C;this.imuln(X),this.words[0]+F<67108864?this.words[0]+=F:this._iaddn(F)}this._strip()},u.prototype.copy=function(x){x.words=new Array(this.length);for(var C=0;C<this.length;C++)x.words[C]=this.words[C];x.length=this.length,x.negative=this.negative,x.red=this.red},u.prototype._move=function(x){p(x,this)},u.prototype.clone=function(){var x=new u(null);return this.copy(x),x},u.prototype._expand=function(x){for(;this.length<x;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{u.prototype.inspect=g}else u.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(x,C){var y;if(C=0|C||1,(x=x||10)===16||x==="hex"){y="";for(var S=0,w=0,k=0;k<this.length;k++){var M=this.words[k],O=(16777215&(M<<S|w)).toString(16);w=M>>>24-S&16777215,(S+=2)>=26&&(S-=26,k--),y=w!==0||k!==this.length-1?m[6-O.length]+O+y:O+y}for(w!==0&&(y=w.toString(16)+y);y.length%C!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(x===(0|x)&&x>=2&&x<=36){var F=v[x],z=b[x];y="";var X=this.clone();for(X.negative=0;!X.isZero();){var L=X.modrn(z).toString(x);y=(X=X.idivn(z)).isZero()?L+y:m[F-L.length]+L+y}for(this.isZero()&&(y="0"+y);y.length%C!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}o(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var x=this.words[0];return this.length===2?x+=67108864*this.words[1]:this.length===3&&this.words[2]===1?x+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-x:x},u.prototype.toJSON=function(){return this.toString(16,2)},d&&(u.prototype.toBuffer=function(x,C){return this.toArrayLike(d,x,C)}),u.prototype.toArray=function(x,C){return this.toArrayLike(Array,x,C)};function E(x,C,y){y.negative=C.negative^x.negative;var S=x.length+C.length|0;y.length=S,S=S-1|0;var w=0|x.words[0],k=0|C.words[0],M=w*k,O=67108863&M,F=M/67108864|0;y.words[0]=O;for(var z=1;z<S;z++){for(var X=F>>>26,L=67108863&F,K=Math.min(z,C.length-1),D=Math.max(0,z-x.length+1);D<=K;D++){var B=z-D|0;X+=(M=(w=0|x.words[B])*(k=0|C.words[D])+L)/67108864|0,L=67108863&M}y.words[z]=0|L,F=0|X}return F!==0?y.words[z]=0|F:y.length--,y._strip()}u.prototype.toArrayLike=function(x,C,y){this._strip();var S=this.byteLength(),w=y||Math.max(1,S);o(S<=w,"byte array longer than desired length"),o(w>0,"Requested array length <= 0");var k=function(M,O){return M.allocUnsafe?M.allocUnsafe(O):new M(O)}(x,w);return this["_toArrayLike"+(C==="le"?"LE":"BE")](k,S),k},u.prototype._toArrayLikeLE=function(x,C){for(var y=0,S=0,w=0,k=0;w<this.length;w++){var M=this.words[w]<<k|S;x[y++]=255&M,y<x.length&&(x[y++]=M>>8&255),y<x.length&&(x[y++]=M>>16&255),k===6?(y<x.length&&(x[y++]=M>>24&255),S=0,k=0):(S=M>>>24,k+=2)}if(y<x.length)for(x[y++]=S;y<x.length;)x[y++]=0},u.prototype._toArrayLikeBE=function(x,C){for(var y=x.length-1,S=0,w=0,k=0;w<this.length;w++){var M=this.words[w]<<k|S;x[y--]=255&M,y>=0&&(x[y--]=M>>8&255),y>=0&&(x[y--]=M>>16&255),k===6?(y>=0&&(x[y--]=M>>24&255),S=0,k=0):(S=M>>>24,k+=2)}if(y>=0)for(x[y--]=S;y>=0;)x[y--]=0},Math.clz32?u.prototype._countBits=function(x){return 32-Math.clz32(x)}:u.prototype._countBits=function(x){var C=x,y=0;return C>=4096&&(y+=13,C>>>=13),C>=64&&(y+=7,C>>>=7),C>=8&&(y+=4,C>>>=4),C>=2&&(y+=2,C>>>=2),y+C},u.prototype._zeroBits=function(x){if(x===0)return 26;var C=x,y=0;return!(8191&C)&&(y+=13,C>>>=13),!(127&C)&&(y+=7,C>>>=7),!(15&C)&&(y+=4,C>>>=4),!(3&C)&&(y+=2,C>>>=2),!(1&C)&&y++,y},u.prototype.bitLength=function(){var x=this.words[this.length-1],C=this._countBits(x);return 26*(this.length-1)+C},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var x=0,C=0;C<this.length;C++){var y=this._zeroBits(this.words[C]);if(x+=y,y!==26)break}return x},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(x){return this.negative!==0?this.abs().inotn(x).iaddn(1):this.clone()},u.prototype.fromTwos=function(x){return this.testn(x-1)?this.notn(x).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(x){for(;this.length<x.length;)this.words[this.length++]=0;for(var C=0;C<x.length;C++)this.words[C]=this.words[C]|x.words[C];return this._strip()},u.prototype.ior=function(x){return o((this.negative|x.negative)==0),this.iuor(x)},u.prototype.or=function(x){return this.length>x.length?this.clone().ior(x):x.clone().ior(this)},u.prototype.uor=function(x){return this.length>x.length?this.clone().iuor(x):x.clone().iuor(this)},u.prototype.iuand=function(x){var C;C=this.length>x.length?x:this;for(var y=0;y<C.length;y++)this.words[y]=this.words[y]&x.words[y];return this.length=C.length,this._strip()},u.prototype.iand=function(x){return o((this.negative|x.negative)==0),this.iuand(x)},u.prototype.and=function(x){return this.length>x.length?this.clone().iand(x):x.clone().iand(this)},u.prototype.uand=function(x){return this.length>x.length?this.clone().iuand(x):x.clone().iuand(this)},u.prototype.iuxor=function(x){var C,y;this.length>x.length?(C=this,y=x):(C=x,y=this);for(var S=0;S<y.length;S++)this.words[S]=C.words[S]^y.words[S];if(this!==C)for(;S<C.length;S++)this.words[S]=C.words[S];return this.length=C.length,this._strip()},u.prototype.ixor=function(x){return o((this.negative|x.negative)==0),this.iuxor(x)},u.prototype.xor=function(x){return this.length>x.length?this.clone().ixor(x):x.clone().ixor(this)},u.prototype.uxor=function(x){return this.length>x.length?this.clone().iuxor(x):x.clone().iuxor(this)},u.prototype.inotn=function(x){o(typeof x=="number"&&x>=0);var C=0|Math.ceil(x/26),y=x%26;this._expand(C),y>0&&C--;for(var S=0;S<C;S++)this.words[S]=67108863&~this.words[S];return y>0&&(this.words[S]=~this.words[S]&67108863>>26-y),this._strip()},u.prototype.notn=function(x){return this.clone().inotn(x)},u.prototype.setn=function(x,C){o(typeof x=="number"&&x>=0);var y=x/26|0,S=x%26;return this._expand(y+1),this.words[y]=C?this.words[y]|1<<S:this.words[y]&~(1<<S),this._strip()},u.prototype.iadd=function(x){var C,y,S;if(this.negative!==0&&x.negative===0)return this.negative=0,C=this.isub(x),this.negative^=1,this._normSign();if(this.negative===0&&x.negative!==0)return x.negative=0,C=this.isub(x),x.negative=1,C._normSign();this.length>x.length?(y=this,S=x):(y=x,S=this);for(var w=0,k=0;k<S.length;k++)C=(0|y.words[k])+(0|S.words[k])+w,this.words[k]=67108863&C,w=C>>>26;for(;w!==0&&k<y.length;k++)C=(0|y.words[k])+w,this.words[k]=67108863&C,w=C>>>26;if(this.length=y.length,w!==0)this.words[this.length]=w,this.length++;else if(y!==this)for(;k<y.length;k++)this.words[k]=y.words[k];return this},u.prototype.add=function(x){var C;return x.negative!==0&&this.negative===0?(x.negative=0,C=this.sub(x),x.negative^=1,C):x.negative===0&&this.negative!==0?(this.negative=0,C=x.sub(this),this.negative=1,C):this.length>x.length?this.clone().iadd(x):x.clone().iadd(this)},u.prototype.isub=function(x){if(x.negative!==0){x.negative=0;var C=this.iadd(x);return x.negative=1,C._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(x),this.negative=1,this._normSign();var y,S,w=this.cmp(x);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;w>0?(y=this,S=x):(y=x,S=this);for(var k=0,M=0;M<S.length;M++)k=(C=(0|y.words[M])-(0|S.words[M])+k)>>26,this.words[M]=67108863&C;for(;k!==0&&M<y.length;M++)k=(C=(0|y.words[M])+k)>>26,this.words[M]=67108863&C;if(k===0&&M<y.length&&y!==this)for(;M<y.length;M++)this.words[M]=y.words[M];return this.length=Math.max(this.length,M),y!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(x){return this.clone().isub(x)};var I=function(x,C,y){var S,w,k,M=x.words,O=C.words,F=y.words,z=0,X=0|M[0],L=8191&X,K=X>>>13,D=0|M[1],B=8191&D,U=D>>>13,Q=0|M[2],q=8191&Q,Z=Q>>>13,$=0|M[3],ie=8191&$,te=$>>>13,Y=0|M[4],ee=8191&Y,re=Y>>>13,ne=0|M[5],ue=8191&ne,le=ne>>>13,pe=0|M[6],se=8191&pe,ae=pe>>>13,de=0|M[7],fe=8191&de,me=de>>>13,ge=0|M[8],ye=8191&ge,_e=ge>>>13,Se=0|M[9],Ie=8191&Se,Ce=Se>>>13,Te=0|O[0],Me=8191&Te,Pe=Te>>>13,$e=0|O[1],Le=8191&$e,je=$e>>>13,Xe=0|O[2],it=8191&Xe,rt=Xe>>>13,Dt=0|O[3],It=8191&Dt,lt=Dt>>>13,kt=0|O[4],Lt=8191&kt,vt=kt>>>13,Ut=0|O[5],Zt=8191&Ut,wt=Ut>>>13,xe=0|O[6],Oe=8191&xe,Ve=xe>>>13,Qe=0|O[7],_t=8191&Qe,et=Qe>>>13,St=0|O[8],bt=8191&St,mt=St>>>13,Rt=0|O[9],Et=8191&Rt,$t=Rt>>>13;y.negative=x.negative^C.negative,y.length=19;var Ii=(z+(S=Math.imul(L,Me))|0)+((8191&(w=(w=Math.imul(L,Pe))+Math.imul(K,Me)|0))<<13)|0;z=((k=Math.imul(K,Pe))+(w>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,S=Math.imul(B,Me),w=(w=Math.imul(B,Pe))+Math.imul(U,Me)|0,k=Math.imul(U,Pe);var fi=(z+(S=S+Math.imul(L,Le)|0)|0)+((8191&(w=(w=w+Math.imul(L,je)|0)+Math.imul(K,Le)|0))<<13)|0;z=((k=k+Math.imul(K,je)|0)+(w>>>13)|0)+(fi>>>26)|0,fi&=67108863,S=Math.imul(q,Me),w=(w=Math.imul(q,Pe))+Math.imul(Z,Me)|0,k=Math.imul(Z,Pe),S=S+Math.imul(B,Le)|0,w=(w=w+Math.imul(B,je)|0)+Math.imul(U,Le)|0,k=k+Math.imul(U,je)|0;var $i=(z+(S=S+Math.imul(L,it)|0)|0)+((8191&(w=(w=w+Math.imul(L,rt)|0)+Math.imul(K,it)|0))<<13)|0;z=((k=k+Math.imul(K,rt)|0)+(w>>>13)|0)+($i>>>26)|0,$i&=67108863,S=Math.imul(ie,Me),w=(w=Math.imul(ie,Pe))+Math.imul(te,Me)|0,k=Math.imul(te,Pe),S=S+Math.imul(q,Le)|0,w=(w=w+Math.imul(q,je)|0)+Math.imul(Z,Le)|0,k=k+Math.imul(Z,je)|0,S=S+Math.imul(B,it)|0,w=(w=w+Math.imul(B,rt)|0)+Math.imul(U,it)|0,k=k+Math.imul(U,rt)|0;var zi=(z+(S=S+Math.imul(L,It)|0)|0)+((8191&(w=(w=w+Math.imul(L,lt)|0)+Math.imul(K,It)|0))<<13)|0;z=((k=k+Math.imul(K,lt)|0)+(w>>>13)|0)+(zi>>>26)|0,zi&=67108863,S=Math.imul(ee,Me),w=(w=Math.imul(ee,Pe))+Math.imul(re,Me)|0,k=Math.imul(re,Pe),S=S+Math.imul(ie,Le)|0,w=(w=w+Math.imul(ie,je)|0)+Math.imul(te,Le)|0,k=k+Math.imul(te,je)|0,S=S+Math.imul(q,it)|0,w=(w=w+Math.imul(q,rt)|0)+Math.imul(Z,it)|0,k=k+Math.imul(Z,rt)|0,S=S+Math.imul(B,It)|0,w=(w=w+Math.imul(B,lt)|0)+Math.imul(U,It)|0,k=k+Math.imul(U,lt)|0;var br=(z+(S=S+Math.imul(L,Lt)|0)|0)+((8191&(w=(w=w+Math.imul(L,vt)|0)+Math.imul(K,Lt)|0))<<13)|0;z=((k=k+Math.imul(K,vt)|0)+(w>>>13)|0)+(br>>>26)|0,br&=67108863,S=Math.imul(ue,Me),w=(w=Math.imul(ue,Pe))+Math.imul(le,Me)|0,k=Math.imul(le,Pe),S=S+Math.imul(ee,Le)|0,w=(w=w+Math.imul(ee,je)|0)+Math.imul(re,Le)|0,k=k+Math.imul(re,je)|0,S=S+Math.imul(ie,it)|0,w=(w=w+Math.imul(ie,rt)|0)+Math.imul(te,it)|0,k=k+Math.imul(te,rt)|0,S=S+Math.imul(q,It)|0,w=(w=w+Math.imul(q,lt)|0)+Math.imul(Z,It)|0,k=k+Math.imul(Z,lt)|0,S=S+Math.imul(B,Lt)|0,w=(w=w+Math.imul(B,vt)|0)+Math.imul(U,Lt)|0,k=k+Math.imul(U,vt)|0;var be=(z+(S=S+Math.imul(L,Zt)|0)|0)+((8191&(w=(w=w+Math.imul(L,wt)|0)+Math.imul(K,Zt)|0))<<13)|0;z=((k=k+Math.imul(K,wt)|0)+(w>>>13)|0)+(be>>>26)|0,be&=67108863,S=Math.imul(se,Me),w=(w=Math.imul(se,Pe))+Math.imul(ae,Me)|0,k=Math.imul(ae,Pe),S=S+Math.imul(ue,Le)|0,w=(w=w+Math.imul(ue,je)|0)+Math.imul(le,Le)|0,k=k+Math.imul(le,je)|0,S=S+Math.imul(ee,it)|0,w=(w=w+Math.imul(ee,rt)|0)+Math.imul(re,it)|0,k=k+Math.imul(re,rt)|0,S=S+Math.imul(ie,It)|0,w=(w=w+Math.imul(ie,lt)|0)+Math.imul(te,It)|0,k=k+Math.imul(te,lt)|0,S=S+Math.imul(q,Lt)|0,w=(w=w+Math.imul(q,vt)|0)+Math.imul(Z,Lt)|0,k=k+Math.imul(Z,vt)|0,S=S+Math.imul(B,Zt)|0,w=(w=w+Math.imul(B,wt)|0)+Math.imul(U,Zt)|0,k=k+Math.imul(U,wt)|0;var De=(z+(S=S+Math.imul(L,Oe)|0)|0)+((8191&(w=(w=w+Math.imul(L,Ve)|0)+Math.imul(K,Oe)|0))<<13)|0;z=((k=k+Math.imul(K,Ve)|0)+(w>>>13)|0)+(De>>>26)|0,De&=67108863,S=Math.imul(fe,Me),w=(w=Math.imul(fe,Pe))+Math.imul(me,Me)|0,k=Math.imul(me,Pe),S=S+Math.imul(se,Le)|0,w=(w=w+Math.imul(se,je)|0)+Math.imul(ae,Le)|0,k=k+Math.imul(ae,je)|0,S=S+Math.imul(ue,it)|0,w=(w=w+Math.imul(ue,rt)|0)+Math.imul(le,it)|0,k=k+Math.imul(le,rt)|0,S=S+Math.imul(ee,It)|0,w=(w=w+Math.imul(ee,lt)|0)+Math.imul(re,It)|0,k=k+Math.imul(re,lt)|0,S=S+Math.imul(ie,Lt)|0,w=(w=w+Math.imul(ie,vt)|0)+Math.imul(te,Lt)|0,k=k+Math.imul(te,vt)|0,S=S+Math.imul(q,Zt)|0,w=(w=w+Math.imul(q,wt)|0)+Math.imul(Z,Zt)|0,k=k+Math.imul(Z,wt)|0,S=S+Math.imul(B,Oe)|0,w=(w=w+Math.imul(B,Ve)|0)+Math.imul(U,Oe)|0,k=k+Math.imul(U,Ve)|0;var ze=(z+(S=S+Math.imul(L,_t)|0)|0)+((8191&(w=(w=w+Math.imul(L,et)|0)+Math.imul(K,_t)|0))<<13)|0;z=((k=k+Math.imul(K,et)|0)+(w>>>13)|0)+(ze>>>26)|0,ze&=67108863,S=Math.imul(ye,Me),w=(w=Math.imul(ye,Pe))+Math.imul(_e,Me)|0,k=Math.imul(_e,Pe),S=S+Math.imul(fe,Le)|0,w=(w=w+Math.imul(fe,je)|0)+Math.imul(me,Le)|0,k=k+Math.imul(me,je)|0,S=S+Math.imul(se,it)|0,w=(w=w+Math.imul(se,rt)|0)+Math.imul(ae,it)|0,k=k+Math.imul(ae,rt)|0,S=S+Math.imul(ue,It)|0,w=(w=w+Math.imul(ue,lt)|0)+Math.imul(le,It)|0,k=k+Math.imul(le,lt)|0,S=S+Math.imul(ee,Lt)|0,w=(w=w+Math.imul(ee,vt)|0)+Math.imul(re,Lt)|0,k=k+Math.imul(re,vt)|0,S=S+Math.imul(ie,Zt)|0,w=(w=w+Math.imul(ie,wt)|0)+Math.imul(te,Zt)|0,k=k+Math.imul(te,wt)|0,S=S+Math.imul(q,Oe)|0,w=(w=w+Math.imul(q,Ve)|0)+Math.imul(Z,Oe)|0,k=k+Math.imul(Z,Ve)|0,S=S+Math.imul(B,_t)|0,w=(w=w+Math.imul(B,et)|0)+Math.imul(U,_t)|0,k=k+Math.imul(U,et)|0;var Ue=(z+(S=S+Math.imul(L,bt)|0)|0)+((8191&(w=(w=w+Math.imul(L,mt)|0)+Math.imul(K,bt)|0))<<13)|0;z=((k=k+Math.imul(K,mt)|0)+(w>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,S=Math.imul(Ie,Me),w=(w=Math.imul(Ie,Pe))+Math.imul(Ce,Me)|0,k=Math.imul(Ce,Pe),S=S+Math.imul(ye,Le)|0,w=(w=w+Math.imul(ye,je)|0)+Math.imul(_e,Le)|0,k=k+Math.imul(_e,je)|0,S=S+Math.imul(fe,it)|0,w=(w=w+Math.imul(fe,rt)|0)+Math.imul(me,it)|0,k=k+Math.imul(me,rt)|0,S=S+Math.imul(se,It)|0,w=(w=w+Math.imul(se,lt)|0)+Math.imul(ae,It)|0,k=k+Math.imul(ae,lt)|0,S=S+Math.imul(ue,Lt)|0,w=(w=w+Math.imul(ue,vt)|0)+Math.imul(le,Lt)|0,k=k+Math.imul(le,vt)|0,S=S+Math.imul(ee,Zt)|0,w=(w=w+Math.imul(ee,wt)|0)+Math.imul(re,Zt)|0,k=k+Math.imul(re,wt)|0,S=S+Math.imul(ie,Oe)|0,w=(w=w+Math.imul(ie,Ve)|0)+Math.imul(te,Oe)|0,k=k+Math.imul(te,Ve)|0,S=S+Math.imul(q,_t)|0,w=(w=w+Math.imul(q,et)|0)+Math.imul(Z,_t)|0,k=k+Math.imul(Z,et)|0,S=S+Math.imul(B,bt)|0,w=(w=w+Math.imul(B,mt)|0)+Math.imul(U,bt)|0,k=k+Math.imul(U,mt)|0;var dt=(z+(S=S+Math.imul(L,Et)|0)|0)+((8191&(w=(w=w+Math.imul(L,$t)|0)+Math.imul(K,Et)|0))<<13)|0;z=((k=k+Math.imul(K,$t)|0)+(w>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(Ie,Le),w=(w=Math.imul(Ie,je))+Math.imul(Ce,Le)|0,k=Math.imul(Ce,je),S=S+Math.imul(ye,it)|0,w=(w=w+Math.imul(ye,rt)|0)+Math.imul(_e,it)|0,k=k+Math.imul(_e,rt)|0,S=S+Math.imul(fe,It)|0,w=(w=w+Math.imul(fe,lt)|0)+Math.imul(me,It)|0,k=k+Math.imul(me,lt)|0,S=S+Math.imul(se,Lt)|0,w=(w=w+Math.imul(se,vt)|0)+Math.imul(ae,Lt)|0,k=k+Math.imul(ae,vt)|0,S=S+Math.imul(ue,Zt)|0,w=(w=w+Math.imul(ue,wt)|0)+Math.imul(le,Zt)|0,k=k+Math.imul(le,wt)|0,S=S+Math.imul(ee,Oe)|0,w=(w=w+Math.imul(ee,Ve)|0)+Math.imul(re,Oe)|0,k=k+Math.imul(re,Ve)|0,S=S+Math.imul(ie,_t)|0,w=(w=w+Math.imul(ie,et)|0)+Math.imul(te,_t)|0,k=k+Math.imul(te,et)|0,S=S+Math.imul(q,bt)|0,w=(w=w+Math.imul(q,mt)|0)+Math.imul(Z,bt)|0,k=k+Math.imul(Z,mt)|0;var Ze=(z+(S=S+Math.imul(B,Et)|0)|0)+((8191&(w=(w=w+Math.imul(B,$t)|0)+Math.imul(U,Et)|0))<<13)|0;z=((k=k+Math.imul(U,$t)|0)+(w>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,S=Math.imul(Ie,it),w=(w=Math.imul(Ie,rt))+Math.imul(Ce,it)|0,k=Math.imul(Ce,rt),S=S+Math.imul(ye,It)|0,w=(w=w+Math.imul(ye,lt)|0)+Math.imul(_e,It)|0,k=k+Math.imul(_e,lt)|0,S=S+Math.imul(fe,Lt)|0,w=(w=w+Math.imul(fe,vt)|0)+Math.imul(me,Lt)|0,k=k+Math.imul(me,vt)|0,S=S+Math.imul(se,Zt)|0,w=(w=w+Math.imul(se,wt)|0)+Math.imul(ae,Zt)|0,k=k+Math.imul(ae,wt)|0,S=S+Math.imul(ue,Oe)|0,w=(w=w+Math.imul(ue,Ve)|0)+Math.imul(le,Oe)|0,k=k+Math.imul(le,Ve)|0,S=S+Math.imul(ee,_t)|0,w=(w=w+Math.imul(ee,et)|0)+Math.imul(re,_t)|0,k=k+Math.imul(re,et)|0,S=S+Math.imul(ie,bt)|0,w=(w=w+Math.imul(ie,mt)|0)+Math.imul(te,bt)|0,k=k+Math.imul(te,mt)|0;var Je=(z+(S=S+Math.imul(q,Et)|0)|0)+((8191&(w=(w=w+Math.imul(q,$t)|0)+Math.imul(Z,Et)|0))<<13)|0;z=((k=k+Math.imul(Z,$t)|0)+(w>>>13)|0)+(Je>>>26)|0,Je&=67108863,S=Math.imul(Ie,It),w=(w=Math.imul(Ie,lt))+Math.imul(Ce,It)|0,k=Math.imul(Ce,lt),S=S+Math.imul(ye,Lt)|0,w=(w=w+Math.imul(ye,vt)|0)+Math.imul(_e,Lt)|0,k=k+Math.imul(_e,vt)|0,S=S+Math.imul(fe,Zt)|0,w=(w=w+Math.imul(fe,wt)|0)+Math.imul(me,Zt)|0,k=k+Math.imul(me,wt)|0,S=S+Math.imul(se,Oe)|0,w=(w=w+Math.imul(se,Ve)|0)+Math.imul(ae,Oe)|0,k=k+Math.imul(ae,Ve)|0,S=S+Math.imul(ue,_t)|0,w=(w=w+Math.imul(ue,et)|0)+Math.imul(le,_t)|0,k=k+Math.imul(le,et)|0,S=S+Math.imul(ee,bt)|0,w=(w=w+Math.imul(ee,mt)|0)+Math.imul(re,bt)|0,k=k+Math.imul(re,mt)|0;var Wt=(z+(S=S+Math.imul(ie,Et)|0)|0)+((8191&(w=(w=w+Math.imul(ie,$t)|0)+Math.imul(te,Et)|0))<<13)|0;z=((k=k+Math.imul(te,$t)|0)+(w>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,S=Math.imul(Ie,Lt),w=(w=Math.imul(Ie,vt))+Math.imul(Ce,Lt)|0,k=Math.imul(Ce,vt),S=S+Math.imul(ye,Zt)|0,w=(w=w+Math.imul(ye,wt)|0)+Math.imul(_e,Zt)|0,k=k+Math.imul(_e,wt)|0,S=S+Math.imul(fe,Oe)|0,w=(w=w+Math.imul(fe,Ve)|0)+Math.imul(me,Oe)|0,k=k+Math.imul(me,Ve)|0,S=S+Math.imul(se,_t)|0,w=(w=w+Math.imul(se,et)|0)+Math.imul(ae,_t)|0,k=k+Math.imul(ae,et)|0,S=S+Math.imul(ue,bt)|0,w=(w=w+Math.imul(ue,mt)|0)+Math.imul(le,bt)|0,k=k+Math.imul(le,mt)|0;var Nt=(z+(S=S+Math.imul(ee,Et)|0)|0)+((8191&(w=(w=w+Math.imul(ee,$t)|0)+Math.imul(re,Et)|0))<<13)|0;z=((k=k+Math.imul(re,$t)|0)+(w>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,S=Math.imul(Ie,Zt),w=(w=Math.imul(Ie,wt))+Math.imul(Ce,Zt)|0,k=Math.imul(Ce,wt),S=S+Math.imul(ye,Oe)|0,w=(w=w+Math.imul(ye,Ve)|0)+Math.imul(_e,Oe)|0,k=k+Math.imul(_e,Ve)|0,S=S+Math.imul(fe,_t)|0,w=(w=w+Math.imul(fe,et)|0)+Math.imul(me,_t)|0,k=k+Math.imul(me,et)|0,S=S+Math.imul(se,bt)|0,w=(w=w+Math.imul(se,mt)|0)+Math.imul(ae,bt)|0,k=k+Math.imul(ae,mt)|0;var Ft=(z+(S=S+Math.imul(ue,Et)|0)|0)+((8191&(w=(w=w+Math.imul(ue,$t)|0)+Math.imul(le,Et)|0))<<13)|0;z=((k=k+Math.imul(le,$t)|0)+(w>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,S=Math.imul(Ie,Oe),w=(w=Math.imul(Ie,Ve))+Math.imul(Ce,Oe)|0,k=Math.imul(Ce,Ve),S=S+Math.imul(ye,_t)|0,w=(w=w+Math.imul(ye,et)|0)+Math.imul(_e,_t)|0,k=k+Math.imul(_e,et)|0,S=S+Math.imul(fe,bt)|0,w=(w=w+Math.imul(fe,mt)|0)+Math.imul(me,bt)|0,k=k+Math.imul(me,mt)|0;var yt=(z+(S=S+Math.imul(se,Et)|0)|0)+((8191&(w=(w=w+Math.imul(se,$t)|0)+Math.imul(ae,Et)|0))<<13)|0;z=((k=k+Math.imul(ae,$t)|0)+(w>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(Ie,_t),w=(w=Math.imul(Ie,et))+Math.imul(Ce,_t)|0,k=Math.imul(Ce,et),S=S+Math.imul(ye,bt)|0,w=(w=w+Math.imul(ye,mt)|0)+Math.imul(_e,bt)|0,k=k+Math.imul(_e,mt)|0;var ai=(z+(S=S+Math.imul(fe,Et)|0)|0)+((8191&(w=(w=w+Math.imul(fe,$t)|0)+Math.imul(me,Et)|0))<<13)|0;z=((k=k+Math.imul(me,$t)|0)+(w>>>13)|0)+(ai>>>26)|0,ai&=67108863,S=Math.imul(Ie,bt),w=(w=Math.imul(Ie,mt))+Math.imul(Ce,bt)|0,k=Math.imul(Ce,mt);var bi=(z+(S=S+Math.imul(ye,Et)|0)|0)+((8191&(w=(w=w+Math.imul(ye,$t)|0)+Math.imul(_e,Et)|0))<<13)|0;z=((k=k+Math.imul(_e,$t)|0)+(w>>>13)|0)+(bi>>>26)|0,bi&=67108863;var Jt=(z+(S=Math.imul(Ie,Et))|0)+((8191&(w=(w=Math.imul(Ie,$t))+Math.imul(Ce,Et)|0))<<13)|0;return z=((k=Math.imul(Ce,$t))+(w>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,F[0]=Ii,F[1]=fi,F[2]=$i,F[3]=zi,F[4]=br,F[5]=be,F[6]=De,F[7]=ze,F[8]=Ue,F[9]=dt,F[10]=Ze,F[11]=Je,F[12]=Wt,F[13]=Nt,F[14]=Ft,F[15]=yt,F[16]=ai,F[17]=bi,F[18]=Jt,z!==0&&(F[19]=z,y.length++),y};function R(x,C,y){y.negative=C.negative^x.negative,y.length=x.length+C.length;for(var S=0,w=0,k=0;k<y.length-1;k++){var M=w;w=0;for(var O=67108863&S,F=Math.min(k,C.length-1),z=Math.max(0,k-x.length+1);z<=F;z++){var X=k-z,L=(0|x.words[X])*(0|C.words[z]),K=67108863&L;O=67108863&(K=K+O|0),w+=(M=(M=M+(L/67108864|0)|0)+(K>>>26)|0)>>>26,M&=67108863}y.words[k]=O,S=M,M=w}return S!==0?y.words[k]=S:y.length--,y._strip()}function N(x,C,y){return R(x,C,y)}Math.imul||(I=E),u.prototype.mulTo=function(x,C){var y=this.length+x.length;return this.length===10&&x.length===10?I(this,x,C):y<63?E(this,x,C):y<1024?R(this,x,C):N(this,x,C)},u.prototype.mul=function(x){var C=new u(null);return C.words=new Array(this.length+x.length),this.mulTo(x,C)},u.prototype.mulf=function(x){var C=new u(null);return C.words=new Array(this.length+x.length),N(this,x,C)},u.prototype.imul=function(x){return this.clone().mulTo(x,this)},u.prototype.imuln=function(x){var C=x<0;C&&(x=-x),o(typeof x=="number"),o(x<67108864);for(var y=0,S=0;S<this.length;S++){var w=(0|this.words[S])*x,k=(67108863&w)+(67108863&y);y>>=26,y+=w/67108864|0,y+=k>>>26,this.words[S]=67108863&k}return y!==0&&(this.words[S]=y,this.length++),C?this.ineg():this},u.prototype.muln=function(x){return this.clone().imuln(x)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(x){var C=function(k){for(var M=new Array(k.bitLength()),O=0;O<M.length;O++){var F=O/26|0,z=O%26;M[O]=k.words[F]>>>z&1}return M}(x);if(C.length===0)return new u(1);for(var y=this,S=0;S<C.length&&C[S]===0;S++,y=y.sqr());if(++S<C.length)for(var w=y.sqr();S<C.length;S++,w=w.sqr())C[S]!==0&&(y=y.mul(w));return y},u.prototype.iushln=function(x){o(typeof x=="number"&&x>=0);var C,y=x%26,S=(x-y)/26,w=67108863>>>26-y<<26-y;if(y!==0){var k=0;for(C=0;C<this.length;C++){var M=this.words[C]&w,O=(0|this.words[C])-M<<y;this.words[C]=O|k,k=M>>>26-y}k&&(this.words[C]=k,this.length++)}if(S!==0){for(C=this.length-1;C>=0;C--)this.words[C+S]=this.words[C];for(C=0;C<S;C++)this.words[C]=0;this.length+=S}return this._strip()},u.prototype.ishln=function(x){return o(this.negative===0),this.iushln(x)},u.prototype.iushrn=function(x,C,y){var S;o(typeof x=="number"&&x>=0),S=C?(C-C%26)/26:0;var w=x%26,k=Math.min((x-w)/26,this.length),M=67108863^67108863>>>w<<w,O=y;if(S-=k,S=Math.max(0,S),O){for(var F=0;F<k;F++)O.words[F]=this.words[F];O.length=k}if(k!==0)if(this.length>k)for(this.length-=k,F=0;F<this.length;F++)this.words[F]=this.words[F+k];else this.words[0]=0,this.length=1;var z=0;for(F=this.length-1;F>=0&&(z!==0||F>=S);F--){var X=0|this.words[F];this.words[F]=z<<26-w|X>>>w,z=X&M}return O&&z!==0&&(O.words[O.length++]=z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(x,C,y){return o(this.negative===0),this.iushrn(x,C,y)},u.prototype.shln=function(x){return this.clone().ishln(x)},u.prototype.ushln=function(x){return this.clone().iushln(x)},u.prototype.shrn=function(x){return this.clone().ishrn(x)},u.prototype.ushrn=function(x){return this.clone().iushrn(x)},u.prototype.testn=function(x){o(typeof x=="number"&&x>=0);var C=x%26,y=(x-C)/26,S=1<<C;return!(this.length<=y)&&!!(this.words[y]&S)},u.prototype.imaskn=function(x){o(typeof x=="number"&&x>=0);var C=x%26,y=(x-C)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(C!==0&&y++,this.length=Math.min(y,this.length),C!==0){var S=67108863^67108863>>>C<<C;this.words[this.length-1]&=S}return this._strip()},u.prototype.maskn=function(x){return this.clone().imaskn(x)},u.prototype.iaddn=function(x){return o(typeof x=="number"),o(x<67108864),x<0?this.isubn(-x):this.negative!==0?this.length===1&&(0|this.words[0])<=x?(this.words[0]=x-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(x),this.negative=1,this):this._iaddn(x)},u.prototype._iaddn=function(x){this.words[0]+=x;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},u.prototype.isubn=function(x){if(o(typeof x=="number"),o(x<67108864),x<0)return this.iaddn(-x);if(this.negative!==0)return this.negative=0,this.iaddn(x),this.negative=1,this;if(this.words[0]-=x,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},u.prototype.addn=function(x){return this.clone().iaddn(x)},u.prototype.subn=function(x){return this.clone().isubn(x)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(x,C,y){var S,w,k=x.length+y;this._expand(k);var M=0;for(S=0;S<x.length;S++){w=(0|this.words[S+y])+M;var O=(0|x.words[S])*C;M=((w-=67108863&O)>>26)-(O/67108864|0),this.words[S+y]=67108863&w}for(;S<this.length-y;S++)M=(w=(0|this.words[S+y])+M)>>26,this.words[S+y]=67108863&w;if(M===0)return this._strip();for(o(M===-1),M=0,S=0;S<this.length;S++)M=(w=-(0|this.words[S])+M)>>26,this.words[S]=67108863&w;return this.negative=1,this._strip()},u.prototype._wordDiv=function(x,C){var y=(this.length,x.length),S=this.clone(),w=x,k=0|w.words[w.length-1];(y=26-this._countBits(k))!==0&&(w=w.ushln(y),S.iushln(y),k=0|w.words[w.length-1]);var M,O=S.length-w.length;if(C!=="mod"){(M=new u(null)).length=O+1,M.words=new Array(M.length);for(var F=0;F<M.length;F++)M.words[F]=0}var z=S.clone()._ishlnsubmul(w,1,O);z.negative===0&&(S=z,M&&(M.words[O]=1));for(var X=O-1;X>=0;X--){var L=67108864*(0|S.words[w.length+X])+(0|S.words[w.length+X-1]);for(L=Math.min(L/k|0,67108863),S._ishlnsubmul(w,L,X);S.negative!==0;)L--,S.negative=0,S._ishlnsubmul(w,1,X),S.isZero()||(S.negative^=1);M&&(M.words[X]=L)}return M&&M._strip(),S._strip(),C!=="div"&&y!==0&&S.iushrn(y),{div:M||null,mod:S}},u.prototype.divmod=function(x,C,y){return o(!x.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:this.negative!==0&&x.negative===0?(k=this.neg().divmod(x,C),C!=="mod"&&(S=k.div.neg()),C!=="div"&&(w=k.mod.neg(),y&&w.negative!==0&&w.iadd(x)),{div:S,mod:w}):this.negative===0&&x.negative!==0?(k=this.divmod(x.neg(),C),C!=="mod"&&(S=k.div.neg()),{div:S,mod:k.mod}):this.negative&x.negative?(k=this.neg().divmod(x.neg(),C),C!=="div"&&(w=k.mod.neg(),y&&w.negative!==0&&w.isub(x)),{div:k.div,mod:w}):x.length>this.length||this.cmp(x)<0?{div:new u(0),mod:this}:x.length===1?C==="div"?{div:this.divn(x.words[0]),mod:null}:C==="mod"?{div:null,mod:new u(this.modrn(x.words[0]))}:{div:this.divn(x.words[0]),mod:new u(this.modrn(x.words[0]))}:this._wordDiv(x,C);var S,w,k},u.prototype.div=function(x){return this.divmod(x,"div",!1).div},u.prototype.mod=function(x){return this.divmod(x,"mod",!1).mod},u.prototype.umod=function(x){return this.divmod(x,"mod",!0).mod},u.prototype.divRound=function(x){var C=this.divmod(x);if(C.mod.isZero())return C.div;var y=C.div.negative!==0?C.mod.isub(x):C.mod,S=x.ushrn(1),w=x.andln(1),k=y.cmp(S);return k<0||w===1&&k===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},u.prototype.modrn=function(x){var C=x<0;C&&(x=-x),o(x<=67108863);for(var y=(1<<26)%x,S=0,w=this.length-1;w>=0;w--)S=(y*S+(0|this.words[w]))%x;return C?-S:S},u.prototype.modn=function(x){return this.modrn(x)},u.prototype.idivn=function(x){var C=x<0;C&&(x=-x),o(x<=67108863);for(var y=0,S=this.length-1;S>=0;S--){var w=(0|this.words[S])+67108864*y;this.words[S]=w/x|0,y=w%x}return this._strip(),C?this.ineg():this},u.prototype.divn=function(x){return this.clone().idivn(x)},u.prototype.egcd=function(x){o(x.negative===0),o(!x.isZero());var C=this,y=x.clone();C=C.negative!==0?C.umod(x):C.clone();for(var S=new u(1),w=new u(0),k=new u(0),M=new u(1),O=0;C.isEven()&&y.isEven();)C.iushrn(1),y.iushrn(1),++O;for(var F=y.clone(),z=C.clone();!C.isZero();){for(var X=0,L=1;!(C.words[0]&L)&&X<26;++X,L<<=1);if(X>0)for(C.iushrn(X);X-- >0;)(S.isOdd()||w.isOdd())&&(S.iadd(F),w.isub(z)),S.iushrn(1),w.iushrn(1);for(var K=0,D=1;!(y.words[0]&D)&&K<26;++K,D<<=1);if(K>0)for(y.iushrn(K);K-- >0;)(k.isOdd()||M.isOdd())&&(k.iadd(F),M.isub(z)),k.iushrn(1),M.iushrn(1);C.cmp(y)>=0?(C.isub(y),S.isub(k),w.isub(M)):(y.isub(C),k.isub(S),M.isub(w))}return{a:k,b:M,gcd:y.iushln(O)}},u.prototype._invmp=function(x){o(x.negative===0),o(!x.isZero());var C=this,y=x.clone();C=C.negative!==0?C.umod(x):C.clone();for(var S,w=new u(1),k=new u(0),M=y.clone();C.cmpn(1)>0&&y.cmpn(1)>0;){for(var O=0,F=1;!(C.words[0]&F)&&O<26;++O,F<<=1);if(O>0)for(C.iushrn(O);O-- >0;)w.isOdd()&&w.iadd(M),w.iushrn(1);for(var z=0,X=1;!(y.words[0]&X)&&z<26;++z,X<<=1);if(z>0)for(y.iushrn(z);z-- >0;)k.isOdd()&&k.iadd(M),k.iushrn(1);C.cmp(y)>=0?(C.isub(y),w.isub(k)):(y.isub(C),k.isub(w))}return(S=C.cmpn(1)===0?w:k).cmpn(0)<0&&S.iadd(x),S},u.prototype.gcd=function(x){if(this.isZero())return x.abs();if(x.isZero())return this.abs();var C=this.clone(),y=x.clone();C.negative=0,y.negative=0;for(var S=0;C.isEven()&&y.isEven();S++)C.iushrn(1),y.iushrn(1);for(;;){for(;C.isEven();)C.iushrn(1);for(;y.isEven();)y.iushrn(1);var w=C.cmp(y);if(w<0){var k=C;C=y,y=k}else if(w===0||y.cmpn(1)===0)break;C.isub(y)}return y.iushln(S)},u.prototype.invm=function(x){return this.egcd(x).a.umod(x)},u.prototype.isEven=function(){return(1&this.words[0])==0},u.prototype.isOdd=function(){return(1&this.words[0])==1},u.prototype.andln=function(x){return this.words[0]&x},u.prototype.bincn=function(x){o(typeof x=="number");var C=x%26,y=(x-C)/26,S=1<<C;if(this.length<=y)return this._expand(y+1),this.words[y]|=S,this;for(var w=S,k=y;w!==0&&k<this.length;k++){var M=0|this.words[k];w=(M+=w)>>>26,M&=67108863,this.words[k]=M}return w!==0&&(this.words[k]=w,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(x){var C,y=x<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;if(this._strip(),this.length>1)C=1;else{y&&(x=-x),o(x<=67108863,"Number is too big");var S=0|this.words[0];C=S===x?0:S<x?-1:1}return this.negative!==0?0|-C:C},u.prototype.cmp=function(x){if(this.negative!==0&&x.negative===0)return-1;if(this.negative===0&&x.negative!==0)return 1;var C=this.ucmp(x);return this.negative!==0?0|-C:C},u.prototype.ucmp=function(x){if(this.length>x.length)return 1;if(this.length<x.length)return-1;for(var C=0,y=this.length-1;y>=0;y--){var S=0|this.words[y],w=0|x.words[y];if(S!==w){S<w?C=-1:S>w&&(C=1);break}}return C},u.prototype.gtn=function(x){return this.cmpn(x)===1},u.prototype.gt=function(x){return this.cmp(x)===1},u.prototype.gten=function(x){return this.cmpn(x)>=0},u.prototype.gte=function(x){return this.cmp(x)>=0},u.prototype.ltn=function(x){return this.cmpn(x)===-1},u.prototype.lt=function(x){return this.cmp(x)===-1},u.prototype.lten=function(x){return this.cmpn(x)<=0},u.prototype.lte=function(x){return this.cmp(x)<=0},u.prototype.eqn=function(x){return this.cmpn(x)===0},u.prototype.eq=function(x){return this.cmp(x)===0},u.red=function(x){return new A(x)},u.prototype.toRed=function(x){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),x.convertTo(this)._forceRed(x)},u.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(x){return this.red=x,this},u.prototype.forceRed=function(x){return o(!this.red,"Already a number in reduction context"),this._forceRed(x)},u.prototype.redAdd=function(x){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,x)},u.prototype.redIAdd=function(x){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,x)},u.prototype.redSub=function(x){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,x)},u.prototype.redISub=function(x){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,x)},u.prototype.redShl=function(x){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,x)},u.prototype.redMul=function(x){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.mul(this,x)},u.prototype.redIMul=function(x){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.imul(this,x)},u.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(x){return o(this.red&&!x.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,x)};var j={k256:null,p224:null,p192:null,p25519:null};function V(x,C){this.name=x,this.p=new u(C,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function H(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function W(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function G(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(x){if(typeof x=="string"){var C=u._prime(x);this.m=C.p,this.prime=C}else o(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}function T(x){A.call(this,x),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}V.prototype._tmp=function(){var x=new u(null);return x.words=new Array(Math.ceil(this.n/13)),x},V.prototype.ireduce=function(x){var C,y=x;do this.split(y,this.tmp),C=(y=(y=this.imulK(y)).iadd(this.tmp)).bitLength();while(C>this.n);var S=C<this.n?-1:y.ucmp(this.p);return S===0?(y.words[0]=0,y.length=1):S>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},V.prototype.split=function(x,C){x.iushrn(this.n,0,C)},V.prototype.imulK=function(x){return x.imul(this.k)},l(H,V),H.prototype.split=function(x,C){for(var y=Math.min(x.length,9),S=0;S<y;S++)C.words[S]=x.words[S];if(C.length=y,x.length<=9)return x.words[0]=0,void(x.length=1);var w=x.words[9];for(C.words[C.length++]=4194303&w,S=10;S<x.length;S++){var k=0|x.words[S];x.words[S-10]=(4194303&k)<<4|w>>>22,w=k}w>>>=22,x.words[S-10]=w,w===0&&x.length>10?x.length-=10:x.length-=9},H.prototype.imulK=function(x){x.words[x.length]=0,x.words[x.length+1]=0,x.length+=2;for(var C=0,y=0;y<x.length;y++){var S=0|x.words[y];C+=977*S,x.words[y]=67108863&C,C=64*S+(C/67108864|0)}return x.words[x.length-1]===0&&(x.length--,x.words[x.length-1]===0&&x.length--),x},l(W,V),l(G,V),l(P,V),P.prototype.imulK=function(x){for(var C=0,y=0;y<x.length;y++){var S=19*(0|x.words[y])+C,w=67108863&S;S>>>=26,x.words[y]=w,C=S}return C!==0&&(x.words[x.length++]=C),x},u._prime=function(x){if(j[x])return j[x];var C;if(x==="k256")C=new H;else if(x==="p224")C=new W;else if(x==="p192")C=new G;else{if(x!=="p25519")throw new Error("Unknown prime "+x);C=new P}return j[x]=C,C},A.prototype._verify1=function(x){o(x.negative===0,"red works only with positives"),o(x.red,"red works only with red numbers")},A.prototype._verify2=function(x,C){o((x.negative|C.negative)==0,"red works only with positives"),o(x.red&&x.red===C.red,"red works only with red numbers")},A.prototype.imod=function(x){return this.prime?this.prime.ireduce(x)._forceRed(this):(p(x,x.umod(this.m)._forceRed(this)),x)},A.prototype.neg=function(x){return x.isZero()?x.clone():this.m.sub(x)._forceRed(this)},A.prototype.add=function(x,C){this._verify2(x,C);var y=x.add(C);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},A.prototype.iadd=function(x,C){this._verify2(x,C);var y=x.iadd(C);return y.cmp(this.m)>=0&&y.isub(this.m),y},A.prototype.sub=function(x,C){this._verify2(x,C);var y=x.sub(C);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},A.prototype.isub=function(x,C){this._verify2(x,C);var y=x.isub(C);return y.cmpn(0)<0&&y.iadd(this.m),y},A.prototype.shl=function(x,C){return this._verify1(x),this.imod(x.ushln(C))},A.prototype.imul=function(x,C){return this._verify2(x,C),this.imod(x.imul(C))},A.prototype.mul=function(x,C){return this._verify2(x,C),this.imod(x.mul(C))},A.prototype.isqr=function(x){return this.imul(x,x.clone())},A.prototype.sqr=function(x){return this.mul(x,x)},A.prototype.sqrt=function(x){if(x.isZero())return x.clone();var C=this.m.andln(3);if(o(C%2==1),C===3){var y=this.m.add(new u(1)).iushrn(2);return this.pow(x,y)}for(var S=this.m.subn(1),w=0;!S.isZero()&&S.andln(1)===0;)w++,S.iushrn(1);o(!S.isZero());var k=new u(1).toRed(this),M=k.redNeg(),O=this.m.subn(1).iushrn(1),F=this.m.bitLength();for(F=new u(2*F*F).toRed(this);this.pow(F,O).cmp(M)!==0;)F.redIAdd(M);for(var z=this.pow(F,S),X=this.pow(x,S.addn(1).iushrn(1)),L=this.pow(x,S),K=w;L.cmp(k)!==0;){for(var D=L,B=0;D.cmp(k)!==0;B++)D=D.redSqr();o(B<K);var U=this.pow(z,new u(1).iushln(K-B-1));X=X.redMul(U),z=U.redSqr(),L=L.redMul(z),K=B}return X},A.prototype.invm=function(x){var C=x._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},A.prototype.pow=function(x,C){if(C.isZero())return new u(1).toRed(this);if(C.cmpn(1)===0)return x.clone();var y=new Array(16);y[0]=new u(1).toRed(this),y[1]=x;for(var S=2;S<y.length;S++)y[S]=this.mul(y[S-1],x);var w=y[0],k=0,M=0,O=C.bitLength()%26;for(O===0&&(O=26),S=C.length-1;S>=0;S--){for(var F=C.words[S],z=O-1;z>=0;z--){var X=F>>z&1;w!==y[0]&&(w=this.sqr(w)),X!==0||k!==0?(k<<=1,k|=X,(++M===4||S===0&&z===0)&&(w=this.mul(w,y[k]),M=0,k=0)):M=0}O=26}return w},A.prototype.convertTo=function(x){var C=x.umod(this.m);return C===x?C.clone():C},A.prototype.convertFrom=function(x){var C=x.clone();return C.red=null,C},u.mont=function(x){return new T(x)},l(T,A),T.prototype.convertTo=function(x){return this.imod(x.ushln(this.shift))},T.prototype.convertFrom=function(x){var C=this.imod(x.mul(this.rinv));return C.red=null,C},T.prototype.imul=function(x,C){if(x.isZero()||C.isZero())return x.words[0]=0,x.length=1,x;var y=x.imul(C),S=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=y.isub(S).iushrn(this.shift),k=w;return w.cmp(this.m)>=0?k=w.isub(this.m):w.cmpn(0)<0&&(k=w.iadd(this.m)),k._forceRed(this)},T.prototype.mul=function(x,C){if(x.isZero()||C.isZero())return new u(0)._forceRed(this);var y=x.mul(C),S=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=y.isub(S).iushrn(this.shift),k=w;return w.cmp(this.m)>=0?k=w.isub(this.m):w.cmpn(0)<0&&(k=w.iadd(this.m)),k._forceRed(this)},T.prototype.invm=function(x){return this.imod(x._invmp(this.m).mul(this.r2))._forceRed(this)}})(r===void 0||r)},{buffer:188}],187:[function(i,r,n){var a;function s(l){this.rand=l}if(r.exports=function(l){return a||(a=new s(null)),a.generate(l)},r.exports.Rand=s,s.prototype.generate=function(l){return this._rand(l)},s.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var u=new Uint8Array(l),d=0;d<u.length;d++)u[d]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(l){var u=new Uint8Array(l);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(l){var u=new Uint8Array(l);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=i("crypto");if(typeof o.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(l){return o.randomBytes(l)}}catch{}},{crypto:188}],188:[function(i,r,n){},{}],189:[function(i,r,n){var a=i("safe-buffer").Buffer;function s(h){a.isBuffer(h)||(h=a.from(h));for(var f=h.length/4|0,p=new Array(f),g=0;g<f;g++)p[g]=h.readUInt32BE(4*g);return p}function o(h){for(;0<h.length;h++)h[0]=0}function l(h,f,p,g,m){for(var v,b,E,I,R=p[0],N=p[1],j=p[2],V=p[3],H=h[0]^f[0],W=h[1]^f[1],G=h[2]^f[2],P=h[3]^f[3],A=4,T=1;T<m;T++)v=R[H>>>24]^N[W>>>16&255]^j[G>>>8&255]^V[255&P]^f[A++],b=R[W>>>24]^N[G>>>16&255]^j[P>>>8&255]^V[255&H]^f[A++],E=R[G>>>24]^N[P>>>16&255]^j[H>>>8&255]^V[255&W]^f[A++],I=R[P>>>24]^N[H>>>16&255]^j[W>>>8&255]^V[255&G]^f[A++],H=v,W=b,G=E,P=I;return v=(g[H>>>24]<<24|g[W>>>16&255]<<16|g[G>>>8&255]<<8|g[255&P])^f[A++],b=(g[W>>>24]<<24|g[G>>>16&255]<<16|g[P>>>8&255]<<8|g[255&H])^f[A++],E=(g[G>>>24]<<24|g[P>>>16&255]<<16|g[H>>>8&255]<<8|g[255&W])^f[A++],I=(g[P>>>24]<<24|g[H>>>16&255]<<16|g[W>>>8&255]<<8|g[255&G])^f[A++],[v>>>=0,b>>>=0,E>>>=0,I>>>=0]}var u=[0,1,2,4,8,16,32,64,128,27,54],d=function(){for(var h=new Array(256),f=0;f<256;f++)h[f]=f<128?f<<1:f<<1^283;for(var p=[],g=[],m=[[],[],[],[]],v=[[],[],[],[]],b=0,E=0,I=0;I<256;++I){var R=E^E<<1^E<<2^E<<3^E<<4;R=R>>>8^255&R^99,p[b]=R,g[R]=b;var N=h[b],j=h[N],V=h[j],H=257*h[R]^16843008*R;m[0][b]=H<<24|H>>>8,m[1][b]=H<<16|H>>>16,m[2][b]=H<<8|H>>>24,m[3][b]=H,H=16843009*V^65537*j^257*N^16843008*b,v[0][R]=H<<24|H>>>8,v[1][R]=H<<16|H>>>16,v[2][R]=H<<8|H>>>24,v[3][R]=H,b===0?b=E=1:(b=N^h[h[h[V^N]]],E^=h[h[E]])}return{SBOX:p,INV_SBOX:g,SUB_MIX:m,INV_SUB_MIX:v}}();function c(h){this._key=s(h),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var h=this._key,f=h.length,p=f+6,g=4*(p+1),m=[],v=0;v<f;v++)m[v]=h[v];for(v=f;v<g;v++){var b=m[v-1];v%f==0?(b=b<<8|b>>>24,b=d.SBOX[b>>>24]<<24|d.SBOX[b>>>16&255]<<16|d.SBOX[b>>>8&255]<<8|d.SBOX[255&b],b^=u[v/f|0]<<24):f>6&&v%f==4&&(b=d.SBOX[b>>>24]<<24|d.SBOX[b>>>16&255]<<16|d.SBOX[b>>>8&255]<<8|d.SBOX[255&b]),m[v]=m[v-f]^b}for(var E=[],I=0;I<g;I++){var R=g-I,N=m[R-(I%4?0:4)];E[I]=I<4||R<=4?N:d.INV_SUB_MIX[0][d.SBOX[N>>>24]]^d.INV_SUB_MIX[1][d.SBOX[N>>>16&255]]^d.INV_SUB_MIX[2][d.SBOX[N>>>8&255]]^d.INV_SUB_MIX[3][d.SBOX[255&N]]}this._nRounds=p,this._keySchedule=m,this._invKeySchedule=E},c.prototype.encryptBlockRaw=function(h){return l(h=s(h),this._keySchedule,d.SUB_MIX,d.SBOX,this._nRounds)},c.prototype.encryptBlock=function(h){var f=this.encryptBlockRaw(h),p=a.allocUnsafe(16);return p.writeUInt32BE(f[0],0),p.writeUInt32BE(f[1],4),p.writeUInt32BE(f[2],8),p.writeUInt32BE(f[3],12),p},c.prototype.decryptBlock=function(h){var f=(h=s(h))[1];h[1]=h[3],h[3]=f;var p=l(h,this._invKeySchedule,d.INV_SUB_MIX,d.INV_SBOX,this._nRounds),g=a.allocUnsafe(16);return g.writeUInt32BE(p[0],0),g.writeUInt32BE(p[3],4),g.writeUInt32BE(p[2],8),g.writeUInt32BE(p[1],12),g},c.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},r.exports.AES=c},{"safe-buffer":494}],190:[function(i,r,n){var a=i("./aes"),s=i("safe-buffer").Buffer,o=i("cipher-base"),l=i("inherits"),u=i("./ghash"),d=i("buffer-xor"),c=i("./incr32");function h(f,p,g,m){o.call(this);var v=s.alloc(4,0);this._cipher=new a.AES(p);var b=this._cipher.encryptBlock(v);this._ghash=new u(b),g=function(E,I,R){if(I.length===12)return E._finID=s.concat([I,s.from([0,0,0,1])]),s.concat([I,s.from([0,0,0,2])]);var N=new u(R),j=I.length,V=j%16;N.update(I),V&&(V=16-V,N.update(s.alloc(V,0))),N.update(s.alloc(8,0));var H=8*j,W=s.alloc(8);W.writeUIntBE(H,0,8),N.update(W),E._finID=N.state;var G=s.from(E._finID);return c(G),G}(this,g,b),this._prev=s.from(g),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=f,this._authTag=null,this._called=!1}l(h,o),h.prototype._update=function(f){if(!this._called&&this._alen){var p=16-this._alen%16;p<16&&(p=s.alloc(p,0),this._ghash.update(p))}this._called=!0;var g=this._mode.encrypt(this,f);return this._decrypt?this._ghash.update(f):this._ghash.update(g),this._len+=f.length,g},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var f=d(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(p,g){var m=0;p.length!==g.length&&m++;for(var v=Math.min(p.length,g.length),b=0;b<v;++b)m+=p[b]^g[b];return m}(f,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=f,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(f){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=f},h.prototype.setAAD=function(f){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(f),this._alen+=f.length},r.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(i,r,n){var a=i("./encrypter"),s=i("./decrypter"),o=i("./modes/list.json");n.createCipher=n.Cipher=a.createCipher,n.createCipheriv=n.Cipheriv=a.createCipheriv,n.createDecipher=n.Decipher=s.createDecipher,n.createDecipheriv=n.Decipheriv=s.createDecipheriv,n.listCiphers=n.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(i,r,n){var a=i("./authCipher"),s=i("safe-buffer").Buffer,o=i("./modes"),l=i("./streamCipher"),u=i("cipher-base"),d=i("./aes"),c=i("evp_bytestokey");function h(g,m,v){u.call(this),this._cache=new f,this._last=void 0,this._cipher=new d.AES(m),this._prev=s.from(v),this._mode=g,this._autopadding=!0}function f(){this.cache=s.allocUnsafe(0)}function p(g,m,v){var b=o[g.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=s.from(v)),b.mode!=="GCM"&&v.length!==b.iv)throw new TypeError("invalid iv length "+v.length);if(typeof m=="string"&&(m=s.from(m)),m.length!==b.key/8)throw new TypeError("invalid key length "+m.length);return b.type==="stream"?new l(b.module,m,v,!0):b.type==="auth"?new a(b.module,m,v,!0):new h(b.module,m,v)}i("inherits")(h,u),h.prototype._update=function(g){var m,v;this._cache.add(g);for(var b=[];m=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,m),b.push(v);return s.concat(b)},h.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return function(m){var v=m[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var b=-1;++b<v;)if(m[b+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return m.slice(0,16-v)}(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},f.prototype.add=function(g){this.cache=s.concat([this.cache,g])},f.prototype.get=function(g){var m;if(g){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},n.createDecipher=function(g,m){var v=o[g.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var b=c(m,!1,v.key,v.iv);return p(g,b.key,b.iv)},n.createDecipheriv=p},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(i,r,n){var a=i("./modes"),s=i("./authCipher"),o=i("safe-buffer").Buffer,l=i("./streamCipher"),u=i("cipher-base"),d=i("./aes"),c=i("evp_bytestokey");function h(m,v,b){u.call(this),this._cache=new p,this._cipher=new d.AES(v),this._prev=o.from(b),this._mode=m,this._autopadding=!0}i("inherits")(h,u),h.prototype._update=function(m){var v,b;this._cache.add(m);for(var E=[];v=this._cache.get();)b=this._mode.encrypt(this,v),E.push(b);return o.concat(E)};var f=o.alloc(16,16);function p(){this.cache=o.allocUnsafe(0)}function g(m,v,b){var E=a[m.toLowerCase()];if(!E)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=o.from(v)),v.length!==E.key/8)throw new TypeError("invalid key length "+v.length);if(typeof b=="string"&&(b=o.from(b)),E.mode!=="GCM"&&b.length!==E.iv)throw new TypeError("invalid iv length "+b.length);return E.type==="stream"?new l(E.module,v,b):E.type==="auth"?new s(E.module,v,b):new h(E.module,v,b)}h.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},p.prototype.add=function(m){this.cache=o.concat([this.cache,m])},p.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},p.prototype.flush=function(){for(var m=16-this.cache.length,v=o.allocUnsafe(m),b=-1;++b<m;)v.writeUInt8(m,b);return o.concat([this.cache,v])},n.createCipheriv=g,n.createCipher=function(m,v){var b=a[m.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var E=c(v,!1,b.key,b.iv);return g(m,E.key,E.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(i,r,n){var a=i("safe-buffer").Buffer,s=a.alloc(16,0);function o(u){var d=a.allocUnsafe(16);return d.writeUInt32BE(u[0]>>>0,0),d.writeUInt32BE(u[1]>>>0,4),d.writeUInt32BE(u[2]>>>0,8),d.writeUInt32BE(u[3]>>>0,12),d}function l(u){this.h=u,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}l.prototype.ghash=function(u){for(var d=-1;++d<u.length;)this.state[d]^=u[d];this._multiply()},l.prototype._multiply=function(){for(var u,d,c,h=[(u=this.h).readUInt32BE(0),u.readUInt32BE(4),u.readUInt32BE(8),u.readUInt32BE(12)],f=[0,0,0,0],p=-1;++p<128;){for(this.state[~~(p/8)]&1<<7-p%8&&(f[0]^=h[0],f[1]^=h[1],f[2]^=h[2],f[3]^=h[3]),c=(1&h[3])!=0,d=3;d>0;d--)h[d]=h[d]>>>1|(1&h[d-1])<<31;h[0]=h[0]>>>1,c&&(h[0]=h[0]^225<<24)}this.state=o(f)},l.prototype.update=function(u){var d;for(this.cache=a.concat([this.cache,u]);this.cache.length>=16;)d=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(d)},l.prototype.final=function(u,d){return this.cache.length&&this.ghash(a.concat([this.cache,s],16)),this.ghash(o([0,u,0,d])),this.state},r.exports=l},{"safe-buffer":494}],195:[function(i,r,n){r.exports=function(a){for(var s,o=a.length;o--;){if((s=a.readUInt8(o))!==255){s++,a.writeUInt8(s,o);break}a.writeUInt8(0,o)}}},{}],196:[function(i,r,n){var a=i("buffer-xor");n.encrypt=function(s,o){var l=a(o,s._prev);return s._prev=s._cipher.encryptBlock(l),s._prev},n.decrypt=function(s,o){var l=s._prev;s._prev=o;var u=s._cipher.decryptBlock(o);return a(u,l)}},{"buffer-xor":219}],197:[function(i,r,n){var a=i("safe-buffer").Buffer,s=i("buffer-xor");function o(l,u,d){var c=u.length,h=s(u,l._cache);return l._cache=l._cache.slice(c),l._prev=a.concat([l._prev,d?u:h]),h}n.encrypt=function(l,u,d){for(var c,h=a.allocUnsafe(0);u.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=a.allocUnsafe(0)),!(l._cache.length<=u.length)){h=a.concat([h,o(l,u,d)]);break}c=l._cache.length,h=a.concat([h,o(l,u.slice(0,c),d)]),u=u.slice(c)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(i,r,n){var a=i("safe-buffer").Buffer;function s(l,u,d){for(var c,h,f=-1,p=0;++f<8;)c=u&1<<7-f?128:0,p+=(128&(h=l._cipher.encryptBlock(l._prev)[0]^c))>>f%8,l._prev=o(l._prev,d?c:h);return p}function o(l,u){var d=l.length,c=-1,h=a.allocUnsafe(l.length);for(l=a.concat([l,a.from([u])]);++c<d;)h[c]=l[c]<<1|l[c+1]>>7;return h}n.encrypt=function(l,u,d){for(var c=u.length,h=a.allocUnsafe(c),f=-1;++f<c;)h[f]=s(l,u[f],d);return h}},{"safe-buffer":494}],199:[function(i,r,n){var a=i("safe-buffer").Buffer;function s(o,l,u){var d=o._cipher.encryptBlock(o._prev)[0]^l;return o._prev=a.concat([o._prev.slice(1),a.from([u?l:d])]),d}n.encrypt=function(o,l,u){for(var d=l.length,c=a.allocUnsafe(d),h=-1;++h<d;)c[h]=s(o,l[h],u);return c}},{"safe-buffer":494}],200:[function(i,r,n){var a=i("buffer-xor"),s=i("safe-buffer").Buffer,o=i("../incr32");function l(u){var d=u._cipher.encryptBlockRaw(u._prev);return o(u._prev),d}n.encrypt=function(u,d){var c=Math.ceil(d.length/16),h=u._cache.length;u._cache=s.concat([u._cache,s.allocUnsafe(16*c)]);for(var f=0;f<c;f++){var p=l(u),g=h+16*f;u._cache.writeUInt32BE(p[0],g+0),u._cache.writeUInt32BE(p[1],g+4),u._cache.writeUInt32BE(p[2],g+8),u._cache.writeUInt32BE(p[3],g+12)}var m=u._cache.slice(0,d.length);return u._cache=u._cache.slice(d.length),a(d,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(i,r,n){n.encrypt=function(a,s){return a._cipher.encryptBlock(s)},n.decrypt=function(a,s){return a._cipher.decryptBlock(s)}},{}],202:[function(i,r,n){var a={ECB:i("./ecb"),CBC:i("./cbc"),CFB:i("./cfb"),CFB8:i("./cfb8"),CFB1:i("./cfb1"),OFB:i("./ofb"),CTR:i("./ctr"),GCM:i("./ctr")},s=i("./list.json");for(var o in s)s[o].module=a[s[o].mode];r.exports=s},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(i,r,n){r.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(i,r,n){(function(a){(function(){var s=i("buffer-xor");function o(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}n.encrypt=function(l,u){for(;l._cache.length<u.length;)l._cache=a.concat([l._cache,o(l)]);var d=l._cache.slice(0,u.length);return l._cache=l._cache.slice(u.length),s(u,d)}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(i,r,n){var a=i("./aes"),s=i("safe-buffer").Buffer,o=i("cipher-base");function l(u,d,c,h){o.call(this),this._cipher=new a.AES(d),this._prev=s.from(c),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=h,this._mode=u}i("inherits")(l,o),l.prototype._update=function(u){return this._mode.encrypt(this,u,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},r.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(i,r,n){var a=i("browserify-des"),s=i("browserify-aes/browser"),o=i("browserify-aes/modes"),l=i("browserify-des/modes"),u=i("evp_bytestokey");function d(h,f,p){if(h=h.toLowerCase(),o[h])return s.createCipheriv(h,f,p);if(l[h])return new a({key:f,iv:p,mode:h});throw new TypeError("invalid suite type")}function c(h,f,p){if(h=h.toLowerCase(),o[h])return s.createDecipheriv(h,f,p);if(l[h])return new a({key:f,iv:p,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}n.createCipher=n.Cipher=function(h,f){var p,g;if(h=h.toLowerCase(),o[h])p=o[h].key,g=o[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");p=8*l[h].key,g=l[h].iv}var m=u(f,!1,p,g);return d(h,m.key,m.iv)},n.createCipheriv=n.Cipheriv=d,n.createDecipher=n.Decipher=function(h,f){var p,g;if(h=h.toLowerCase(),o[h])p=o[h].key,g=o[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");p=8*l[h].key,g=l[h].iv}var m=u(f,!1,p,g);return c(h,m.key,m.iv)},n.createDecipheriv=n.Decipheriv=c,n.listCiphers=n.getCiphers=function(){return Object.keys(l).concat(s.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(i,r,n){var a=i("cipher-base"),s=i("des.js"),o=i("inherits"),l=i("safe-buffer").Buffer,u={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function d(c){a.call(this);var h,f=c.mode.toLowerCase(),p=u[f];h=c.decrypt?"decrypt":"encrypt";var g=c.key;l.isBuffer(g)||(g=l.from(g)),f!=="des-ede"&&f!=="des-ede-cbc"||(g=l.concat([g,g.slice(0,8)]));var m=c.iv;l.isBuffer(m)||(m=l.from(m)),this._des=p.create({key:g,iv:m,type:h})}u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],r.exports=d,o(d,a),d.prototype._update=function(c){return l.from(this._des.update(c))},d.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(i,r,n){n["des-ecb"]={key:8,iv:0},n["des-cbc"]=n.des={key:8,iv:8},n["des-ede3-cbc"]=n.des3={key:24,iv:8},n["des-ede3"]={key:24,iv:0},n["des-ede-cbc"]={key:16,iv:8},n["des-ede"]={key:16,iv:0}},{}],209:[function(i,r,n){(function(a){(function(){var s=i("bn.js"),o=i("randombytes");function l(d){var c,h=d.modulus.byteLength();do c=new s(o(h));while(c.cmp(d.modulus)>=0||!c.umod(d.prime1)||!c.umod(d.prime2));return c}function u(d,c){var h=function(j){var V=l(j);return{blinder:V.toRed(s.mont(j.modulus)).redPow(new s(j.publicExponent)).fromRed(),unblinder:V.invm(j.modulus)}}(c),f=c.modulus.byteLength(),p=new s(d).mul(h.blinder).umod(c.modulus),g=p.toRed(s.mont(c.prime1)),m=p.toRed(s.mont(c.prime2)),v=c.coefficient,b=c.prime1,E=c.prime2,I=g.redPow(c.exponent1).fromRed(),R=m.redPow(c.exponent2).fromRed(),N=I.isub(R).imul(v).umod(b).imul(E);return R.iadd(N).imul(h.unblinder).umod(c.modulus).toArrayLike(a,"be",f)}u.getr=l,r.exports=u}).call(this)}).call(this,i("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(i,r,n){r.exports=i("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(i,r,n){r.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(i,r,n){r.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(i,r,n){var a=i("safe-buffer").Buffer,s=i("create-hash"),o=i("readable-stream"),l=i("inherits"),u=i("./sign"),d=i("./verify"),c=i("./algorithms.json");function h(m){o.Writable.call(this);var v=c[m];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=s(v.hash),this._tag=v.id,this._signType=v.sign}function f(m){o.Writable.call(this);var v=c[m];if(!v)throw new Error("Unknown message digest");this._hash=s(v.hash),this._tag=v.id,this._signType=v.sign}function p(m){return new h(m)}function g(m){return new f(m)}Object.keys(c).forEach(function(m){c[m].id=a.from(c[m].id,"hex"),c[m.toLowerCase()]=c[m]}),l(h,o.Writable),h.prototype._write=function(m,v,b){this._hash.update(m),b()},h.prototype.update=function(m,v){return typeof m=="string"&&(m=a.from(m,v)),this._hash.update(m),this},h.prototype.sign=function(m,v){this.end();var b=this._hash.digest(),E=u(b,m,this._hashType,this._signType,this._tag);return v?E.toString(v):E},l(f,o.Writable),f.prototype._write=function(m,v,b){this._hash.update(m),b()},f.prototype.update=function(m,v){return typeof m=="string"&&(m=a.from(m,v)),this._hash.update(m),this},f.prototype.verify=function(m,v,b){typeof v=="string"&&(v=a.from(v,b)),this.end();var E=this._hash.digest();return d(v,E,m,this._signType,this._tag)},r.exports={Sign:p,Verify:g,createSign:p,createVerify:g}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(i,r,n){var a=i("safe-buffer").Buffer,s=i("create-hmac"),o=i("browserify-rsa"),l=i("elliptic").ec,u=i("bn.js"),d=i("parse-asn1"),c=i("./curves.json");function h(m,v,b,E){if((m=a.from(m.toArray())).length<v.byteLength()){var I=a.alloc(v.byteLength()-m.length);m=a.concat([I,m])}var R=b.length,N=function(H,W){H=(H=f(H,W)).mod(W);var G=a.from(H.toArray());if(G.length<W.byteLength()){var P=a.alloc(W.byteLength()-G.length);G=a.concat([P,G])}return G}(b,v),j=a.alloc(R);j.fill(1);var V=a.alloc(R);return V=s(E,V).update(j).update(a.from([0])).update(m).update(N).digest(),j=s(E,V).update(j).digest(),{k:V=s(E,V).update(j).update(a.from([1])).update(m).update(N).digest(),v:j=s(E,V).update(j).digest()}}function f(m,v){var b=new u(m),E=(m.length<<3)-v.bitLength();return E>0&&b.ishrn(E),b}function p(m,v,b){var E,I;do{for(E=a.alloc(0);8*E.length<m.bitLength();)v.v=s(b,v.k).update(v.v).digest(),E=a.concat([E,v.v]);I=f(E,m),v.k=s(b,v.k).update(v.v).update(a.from([0])).digest(),v.v=s(b,v.k).update(v.v).digest()}while(I.cmp(m)!==-1);return I}function g(m,v,b,E){return m.toRed(u.mont(b)).redPow(v).fromRed().mod(E)}r.exports=function(m,v,b,E,I){var R=d(v);if(R.curve){if(E!=="ecdsa"&&E!=="ecdsa/rsa")throw new Error("wrong private key type");return function(H,W){var G=c[W.curve.join(".")];if(!G)throw new Error("unknown curve "+W.curve.join("."));var P=new l(G).keyFromPrivate(W.privateKey).sign(H);return a.from(P.toDER())}(m,R)}if(R.type==="dsa"){if(E!=="dsa")throw new Error("wrong private key type");return function(H,W,G){for(var P,A=W.params.priv_key,T=W.params.p,x=W.params.q,C=W.params.g,y=new u(0),S=f(H,x).mod(x),w=!1,k=h(A,x,H,G);w===!1;)P=p(x,k,G),y=g(C,P,T,x),(w=P.invm(x).imul(S.add(A.mul(y))).mod(x)).cmpn(0)===0&&(w=!1,y=new u(0));return function(M,O){M=M.toArray(),O=O.toArray(),128&M[0]&&(M=[0].concat(M)),128&O[0]&&(O=[0].concat(O));var F=[48,M.length+O.length+4,2,M.length];return F=F.concat(M,[2,O.length],O),a.from(F)}(y,w)}(m,R,b)}if(E!=="rsa"&&E!=="ecdsa/rsa")throw new Error("wrong private key type");m=a.concat([I,m]);for(var N=R.modulus.byteLength(),j=[0,1];m.length+j.length+1<N;)j.push(255);j.push(0);for(var V=-1;++V<m.length;)j.push(m[V]);return o(j,R)},r.exports.getKey=h,r.exports.makeKey=p},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(i,r,n){var a=i("safe-buffer").Buffer,s=i("bn.js"),o=i("elliptic").ec,l=i("parse-asn1"),u=i("./curves.json");function d(c,h){if(c.cmpn(0)<=0)throw new Error("invalid sig");if(c.cmp(h)>=h)throw new Error("invalid sig")}r.exports=function(c,h,f,p,g){var m=l(f);if(m.type==="ec"){if(p!=="ecdsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");return function(j,V,H){var W=u[H.data.algorithm.curve.join(".")];if(!W)throw new Error("unknown curve "+H.data.algorithm.curve.join("."));var G=new o(W),P=H.data.subjectPrivateKey.data;return G.verify(V,j,P)}(c,h,m)}if(m.type==="dsa"){if(p!=="dsa")throw new Error("wrong public key type");return function(j,V,H){var W=H.data.p,G=H.data.q,P=H.data.g,A=H.data.pub_key,T=l.signature.decode(j,"der"),x=T.s,C=T.r;d(x,G),d(C,G);var y=s.mont(W),S=x.invm(G);return P.toRed(y).redPow(new s(V).mul(S).mod(G)).fromRed().mul(A.toRed(y).redPow(C.mul(S).mod(G)).fromRed()).mod(W).mod(G).cmp(C)===0}(c,h,m)}if(p!=="rsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");h=a.concat([g,h]);for(var v=m.modulus.byteLength(),b=[1],E=0;h.length+b.length+2<v;)b.push(255),E++;b.push(0);for(var I=-1;++I<h.length;)b.push(h[I]);b=a.from(b);var R=s.mont(m.modulus);c=(c=new s(c).toRed(R)).redPow(new s(m.publicExponent)),c=a.from(c.fromRed().toArray());var N=E<8?1:0;for(v=Math.min(c.length,b.length),c.length!==b.length&&(N=1),I=-1;++I<v;)N|=c[I]^b[I];return N===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(i,r,n){},{}],217:[function(i,r,n){var a=i("buffer"),s=a.Buffer;function o(u,d){for(var c in u)d[c]=u[c]}function l(u,d,c){return s(u,d,c)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?r.exports=a:(o(a,n),n.Buffer=l),o(s,l),l.from=function(u,d,c){if(typeof u=="number")throw new TypeError("Argument must not be a number");return s(u,d,c)},l.alloc=function(u,d,c){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=s(u);return d!==void 0?typeof c=="string"?h.fill(d,c):h.fill(d):h.fill(0),h},l.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return s(u)},l.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(u)}},{buffer:220}],218:[function(i,r,n){var a=i("safe-buffer").Buffer,s=a.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(m){var v;switch(this.encoding=function(b){var E=function(I){if(!I)return"utf8";for(var R;;)switch(I){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return I;default:if(R)return;I=(""+I).toLowerCase(),R=!0}}(b);if(typeof E!="string"&&(a.isEncoding===s||!s(b)))throw new Error("Unknown encoding: "+b);return E||b}(m),this.encoding){case"utf16le":this.text=d,this.end=c,v=4;break;case"utf8":this.fillLast=u,v=4;break;case"base64":this.text=h,this.end=f,v=3;break;default:return this.write=p,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(v)}function l(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function u(m){var v=this.lastTotal-this.lastNeed,b=function(E,I,R){if((192&I[0])!=128)return E.lastNeed=0,"�";if(E.lastNeed>1&&I.length>1){if((192&I[1])!=128)return E.lastNeed=1,"�";if(E.lastNeed>2&&I.length>2&&(192&I[2])!=128)return E.lastNeed=2,"�"}}(this,m);return b!==void 0?b:this.lastNeed<=m.length?(m.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,v,0,m.length),void(this.lastNeed-=m.length))}function d(m,v){if((m.length-v)%2==0){var b=m.toString("utf16le",v);if(b){var E=b.charCodeAt(b.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",v,m.length-1)}function c(m){var v=m&&m.length?this.write(m):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,b)}return v}function h(m,v){var b=(m.length-v)%3;return b===0?m.toString("base64",v):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",v,m.length-b))}function f(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function p(m){return m.toString(this.encoding)}function g(m){return m&&m.length?this.write(m):""}n.StringDecoder=o,o.prototype.write=function(m){if(m.length===0)return"";var v,b;if(this.lastNeed){if((v=this.fillLast(m))===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<m.length?v?v+this.text(m,b):this.text(m,b):v||""},o.prototype.end=function(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+"�":v},o.prototype.text=function(m,v){var b=function(I,R,N){var j=R.length-1;if(j<N)return 0;var V=l(R[j]);return V>=0?(V>0&&(I.lastNeed=V-1),V):--j<N||V===-2?0:(V=l(R[j]))>=0?(V>0&&(I.lastNeed=V-2),V):--j<N||V===-2?0:(V=l(R[j]))>=0?(V>0&&(V===2?V=0:I.lastNeed=V-3),V):0}(this,m,v);if(!this.lastNeed)return m.toString("utf8",v);this.lastTotal=b;var E=m.length-(b-this.lastNeed);return m.copy(this.lastChar,0,E),m.toString("utf8",v,E)},o.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(i,r,n){(function(a){(function(){r.exports=function(s,o){for(var l=Math.min(s.length,o.length),u=new a(l),d=0;d<l;++d)u[d]=s[d]^o[d];return u}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:220}],220:[function(i,r,n){(function(a){(function(){var s=i("base64-js"),o=i("ieee754");n.Buffer=u,n.SlowBuffer=function(D){return+D!=D&&(D=0),u.alloc(+D)},n.INSPECT_MAX_BYTES=50;function l(D){if(D>2147483647)throw new RangeError('The value "'+D+'" is invalid for option "size"');var B=new Uint8Array(D);return B.__proto__=u.prototype,B}function u(D,B,U){if(typeof D=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(D)}return d(D,B,U)}function d(D,B,U){if(typeof D=="string")return function(Z,$){if(typeof $=="string"&&$!==""||($="utf8"),!u.isEncoding($))throw new TypeError("Unknown encoding: "+$);var ie=0|g(Z,$),te=l(ie),Y=te.write(Z,$);return Y!==ie&&(te=te.slice(0,Y)),te}(D,B);if(ArrayBuffer.isView(D))return f(D);if(D==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D);if(L(D,ArrayBuffer)||D&&L(D.buffer,ArrayBuffer))return function(Z,$,ie){if($<0||Z.byteLength<$)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<$+(ie||0))throw new RangeError('"length" is outside of buffer bounds');var te;return te=$===void 0&&ie===void 0?new Uint8Array(Z):ie===void 0?new Uint8Array(Z,$):new Uint8Array(Z,$,ie),te.__proto__=u.prototype,te}(D,B,U);if(typeof D=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Q=D.valueOf&&D.valueOf();if(Q!=null&&Q!==D)return u.from(Q,B,U);var q=function(Z){if(u.isBuffer(Z)){var $=0|p(Z.length),ie=l($);return ie.length===0||Z.copy(ie,0,0,$),ie}if(Z.length!==void 0)return typeof Z.length!="number"||K(Z.length)?l(0):f(Z);if(Z.type==="Buffer"&&Array.isArray(Z.data))return f(Z.data)}(D);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof D[Symbol.toPrimitive]=="function")return u.from(D[Symbol.toPrimitive]("string"),B,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D)}function c(D){if(typeof D!="number")throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}function h(D){return c(D),l(D<0?0:0|p(D))}function f(D){for(var B=D.length<0?0:0|p(D.length),U=l(B),Q=0;Q<B;Q+=1)U[Q]=255&D[Q];return U}function p(D){if(D>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|D}function g(D,B){if(u.isBuffer(D))return D.length;if(ArrayBuffer.isView(D)||L(D,ArrayBuffer))return D.byteLength;if(typeof D!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof D);var U=D.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&U===0)return 0;for(var q=!1;;)switch(B){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return F(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*U;case"hex":return U>>>1;case"base64":return z(D).length;default:if(q)return Q?-1:F(D).length;B=(""+B).toLowerCase(),q=!0}}function m(D,B,U){var Q=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0)<=(B>>>=0))return"";for(D||(D="utf8");;)switch(D){case"hex":return T(this,B,U);case"utf8":case"utf-8":return G(this,B,U);case"ascii":return P(this,B,U);case"latin1":case"binary":return A(this,B,U);case"base64":return W(this,B,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,B,U);default:if(Q)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),Q=!0}}function v(D,B,U){var Q=D[B];D[B]=D[U],D[U]=Q}function b(D,B,U,Q,q){if(D.length===0)return-1;if(typeof U=="string"?(Q=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),K(U=+U)&&(U=q?0:D.length-1),U<0&&(U=D.length+U),U>=D.length){if(q)return-1;U=D.length-1}else if(U<0){if(!q)return-1;U=0}if(typeof B=="string"&&(B=u.from(B,Q)),u.isBuffer(B))return B.length===0?-1:E(D,B,U,Q,q);if(typeof B=="number")return B&=255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(D,B,U):Uint8Array.prototype.lastIndexOf.call(D,B,U):E(D,[B],U,Q,q);throw new TypeError("val must be string, number or Buffer")}function E(D,B,U,Q,q){var Z,$=1,ie=D.length,te=B.length;if(Q!==void 0&&((Q=String(Q).toLowerCase())==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(D.length<2||B.length<2)return-1;$=2,ie/=2,te/=2,U/=2}function Y(ue,le){return $===1?ue[le]:ue.readUInt16BE(le*$)}if(q){var ee=-1;for(Z=U;Z<ie;Z++)if(Y(D,Z)===Y(B,ee===-1?0:Z-ee)){if(ee===-1&&(ee=Z),Z-ee+1===te)return ee*$}else ee!==-1&&(Z-=Z-ee),ee=-1}else for(U+te>ie&&(U=ie-te),Z=U;Z>=0;Z--){for(var re=!0,ne=0;ne<te;ne++)if(Y(D,Z+ne)!==Y(B,ne)){re=!1;break}if(re)return Z}return-1}function I(D,B,U,Q){U=Number(U)||0;var q=D.length-U;Q?(Q=Number(Q))>q&&(Q=q):Q=q;var Z=B.length;Q>Z/2&&(Q=Z/2);for(var $=0;$<Q;++$){var ie=parseInt(B.substr(2*$,2),16);if(K(ie))return $;D[U+$]=ie}return $}function R(D,B,U,Q){return X(F(B,D.length-U),D,U,Q)}function N(D,B,U,Q){return X(function(q){for(var Z=[],$=0;$<q.length;++$)Z.push(255&q.charCodeAt($));return Z}(B),D,U,Q)}function j(D,B,U,Q){return N(D,B,U,Q)}function V(D,B,U,Q){return X(z(B),D,U,Q)}function H(D,B,U,Q){return X(function(q,Z){for(var $,ie,te,Y=[],ee=0;ee<q.length&&!((Z-=2)<0);++ee)$=q.charCodeAt(ee),ie=$>>8,te=$%256,Y.push(te),Y.push(ie);return Y}(B,D.length-U),D,U,Q)}function W(D,B,U){return B===0&&U===D.length?s.fromByteArray(D):s.fromByteArray(D.slice(B,U))}function G(D,B,U){U=Math.min(D.length,U);for(var Q=[],q=B;q<U;){var Z,$,ie,te,Y=D[q],ee=null,re=Y>239?4:Y>223?3:Y>191?2:1;if(q+re<=U)switch(re){case 1:Y<128&&(ee=Y);break;case 2:(192&(Z=D[q+1]))==128&&(te=(31&Y)<<6|63&Z)>127&&(ee=te);break;case 3:Z=D[q+1],$=D[q+2],(192&Z)==128&&(192&$)==128&&(te=(15&Y)<<12|(63&Z)<<6|63&$)>2047&&(te<55296||te>57343)&&(ee=te);break;case 4:Z=D[q+1],$=D[q+2],ie=D[q+3],(192&Z)==128&&(192&$)==128&&(192&ie)==128&&(te=(15&Y)<<18|(63&Z)<<12|(63&$)<<6|63&ie)>65535&&te<1114112&&(ee=te)}ee===null?(ee=65533,re=1):ee>65535&&(ee-=65536,Q.push(ee>>>10&1023|55296),ee=56320|1023&ee),Q.push(ee),q+=re}return function(ne){var ue=ne.length;if(ue<=4096)return String.fromCharCode.apply(String,ne);for(var le="",pe=0;pe<ue;)le+=String.fromCharCode.apply(String,ne.slice(pe,pe+=4096));return le}(Q)}n.kMaxLength=2147483647,u.TYPED_ARRAY_SUPPORT=function(){try{var D=new Uint8Array(1);return D.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},D.foo()===42}catch{return!1}}(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=function(D,B,U){return d(D,B,U)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(D,B,U){return function(Q,q,Z){return c(Q),Q<=0?l(Q):q!==void 0?typeof Z=="string"?l(Q).fill(q,Z):l(Q).fill(q):l(Q)}(D,B,U)},u.allocUnsafe=function(D){return h(D)},u.allocUnsafeSlow=function(D){return h(D)},u.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==u.prototype},u.compare=function(D,B){if(L(D,Uint8Array)&&(D=u.from(D,D.offset,D.byteLength)),L(B,Uint8Array)&&(B=u.from(B,B.offset,B.byteLength)),!u.isBuffer(D)||!u.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===B)return 0;for(var U=D.length,Q=B.length,q=0,Z=Math.min(U,Q);q<Z;++q)if(D[q]!==B[q]){U=D[q],Q=B[q];break}return U<Q?-1:Q<U?1:0},u.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(D,B){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return u.alloc(0);var U;if(B===void 0)for(B=0,U=0;U<D.length;++U)B+=D[U].length;var Q=u.allocUnsafe(B),q=0;for(U=0;U<D.length;++U){var Z=D[U];if(L(Z,Uint8Array)&&(Z=u.from(Z)),!u.isBuffer(Z))throw new TypeError('"list" argument must be an Array of Buffers');Z.copy(Q,q),q+=Z.length}return Q},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var B=0;B<D;B+=2)v(this,B,B+1);return this},u.prototype.swap32=function(){var D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var B=0;B<D;B+=4)v(this,B,B+3),v(this,B+1,B+2);return this},u.prototype.swap64=function(){var D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var B=0;B<D;B+=8)v(this,B,B+7),v(this,B+1,B+6),v(this,B+2,B+5),v(this,B+3,B+4);return this},u.prototype.toString=function(){var D=this.length;return D===0?"":arguments.length===0?G(this,0,D):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(D){if(!u.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||u.compare(this,D)===0},u.prototype.inspect=function(){var D="",B=n.INSPECT_MAX_BYTES;return D=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(D+=" ... "),"<Buffer "+D+">"},u.prototype.compare=function(D,B,U,Q,q){if(L(D,Uint8Array)&&(D=u.from(D,D.offset,D.byteLength)),!u.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(B===void 0&&(B=0),U===void 0&&(U=D?D.length:0),Q===void 0&&(Q=0),q===void 0&&(q=this.length),B<0||U>D.length||Q<0||q>this.length)throw new RangeError("out of range index");if(Q>=q&&B>=U)return 0;if(Q>=q)return-1;if(B>=U)return 1;if(this===D)return 0;for(var Z=(q>>>=0)-(Q>>>=0),$=(U>>>=0)-(B>>>=0),ie=Math.min(Z,$),te=this.slice(Q,q),Y=D.slice(B,U),ee=0;ee<ie;++ee)if(te[ee]!==Y[ee]){Z=te[ee],$=Y[ee];break}return Z<$?-1:$<Z?1:0},u.prototype.includes=function(D,B,U){return this.indexOf(D,B,U)!==-1},u.prototype.indexOf=function(D,B,U){return b(this,D,B,U,!0)},u.prototype.lastIndexOf=function(D,B,U){return b(this,D,B,U,!1)},u.prototype.write=function(D,B,U,Q){if(B===void 0)Q="utf8",U=this.length,B=0;else if(U===void 0&&typeof B=="string")Q=B,U=this.length,B=0;else{if(!isFinite(B))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");B>>>=0,isFinite(U)?(U>>>=0,Q===void 0&&(Q="utf8")):(Q=U,U=void 0)}var q=this.length-B;if((U===void 0||U>q)&&(U=q),D.length>0&&(U<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");Q||(Q="utf8");for(var Z=!1;;)switch(Q){case"hex":return I(this,D,B,U);case"utf8":case"utf-8":return R(this,D,B,U);case"ascii":return N(this,D,B,U);case"latin1":case"binary":return j(this,D,B,U);case"base64":return V(this,D,B,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,D,B,U);default:if(Z)throw new TypeError("Unknown encoding: "+Q);Q=(""+Q).toLowerCase(),Z=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(D,B,U){var Q="";U=Math.min(D.length,U);for(var q=B;q<U;++q)Q+=String.fromCharCode(127&D[q]);return Q}function A(D,B,U){var Q="";U=Math.min(D.length,U);for(var q=B;q<U;++q)Q+=String.fromCharCode(D[q]);return Q}function T(D,B,U){var Q=D.length;(!B||B<0)&&(B=0),(!U||U<0||U>Q)&&(U=Q);for(var q="",Z=B;Z<U;++Z)q+=O(D[Z]);return q}function x(D,B,U){for(var Q=D.slice(B,U),q="",Z=0;Z<Q.length;Z+=2)q+=String.fromCharCode(Q[Z]+256*Q[Z+1]);return q}function C(D,B,U){if(D%1!=0||D<0)throw new RangeError("offset is not uint");if(D+B>U)throw new RangeError("Trying to access beyond buffer length")}function y(D,B,U,Q,q,Z){if(!u.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>q||B<Z)throw new RangeError('"value" argument is out of bounds');if(U+Q>D.length)throw new RangeError("Index out of range")}function S(D,B,U,Q,q,Z){if(U+Q>D.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function w(D,B,U,Q,q){return B=+B,U>>>=0,q||S(D,0,U,4),o.write(D,B,U,Q,23,4),U+4}function k(D,B,U,Q,q){return B=+B,U>>>=0,q||S(D,0,U,8),o.write(D,B,U,Q,52,8),U+8}u.prototype.slice=function(D,B){var U=this.length;(D=~~D)<0?(D+=U)<0&&(D=0):D>U&&(D=U),(B=B===void 0?U:~~B)<0?(B+=U)<0&&(B=0):B>U&&(B=U),B<D&&(B=D);var Q=this.subarray(D,B);return Q.__proto__=u.prototype,Q},u.prototype.readUIntLE=function(D,B,U){D>>>=0,B>>>=0,U||C(D,B,this.length);for(var Q=this[D],q=1,Z=0;++Z<B&&(q*=256);)Q+=this[D+Z]*q;return Q},u.prototype.readUIntBE=function(D,B,U){D>>>=0,B>>>=0,U||C(D,B,this.length);for(var Q=this[D+--B],q=1;B>0&&(q*=256);)Q+=this[D+--B]*q;return Q},u.prototype.readUInt8=function(D,B){return D>>>=0,B||C(D,1,this.length),this[D]},u.prototype.readUInt16LE=function(D,B){return D>>>=0,B||C(D,2,this.length),this[D]|this[D+1]<<8},u.prototype.readUInt16BE=function(D,B){return D>>>=0,B||C(D,2,this.length),this[D]<<8|this[D+1]},u.prototype.readUInt32LE=function(D,B){return D>>>=0,B||C(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},u.prototype.readUInt32BE=function(D,B){return D>>>=0,B||C(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},u.prototype.readIntLE=function(D,B,U){D>>>=0,B>>>=0,U||C(D,B,this.length);for(var Q=this[D],q=1,Z=0;++Z<B&&(q*=256);)Q+=this[D+Z]*q;return Q>=(q*=128)&&(Q-=Math.pow(2,8*B)),Q},u.prototype.readIntBE=function(D,B,U){D>>>=0,B>>>=0,U||C(D,B,this.length);for(var Q=B,q=1,Z=this[D+--Q];Q>0&&(q*=256);)Z+=this[D+--Q]*q;return Z>=(q*=128)&&(Z-=Math.pow(2,8*B)),Z},u.prototype.readInt8=function(D,B){return D>>>=0,B||C(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},u.prototype.readInt16LE=function(D,B){D>>>=0,B||C(D,2,this.length);var U=this[D]|this[D+1]<<8;return 32768&U?4294901760|U:U},u.prototype.readInt16BE=function(D,B){D>>>=0,B||C(D,2,this.length);var U=this[D+1]|this[D]<<8;return 32768&U?4294901760|U:U},u.prototype.readInt32LE=function(D,B){return D>>>=0,B||C(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},u.prototype.readInt32BE=function(D,B){return D>>>=0,B||C(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},u.prototype.readFloatLE=function(D,B){return D>>>=0,B||C(D,4,this.length),o.read(this,D,!0,23,4)},u.prototype.readFloatBE=function(D,B){return D>>>=0,B||C(D,4,this.length),o.read(this,D,!1,23,4)},u.prototype.readDoubleLE=function(D,B){return D>>>=0,B||C(D,8,this.length),o.read(this,D,!0,52,8)},u.prototype.readDoubleBE=function(D,B){return D>>>=0,B||C(D,8,this.length),o.read(this,D,!1,52,8)},u.prototype.writeUIntLE=function(D,B,U,Q){D=+D,B>>>=0,U>>>=0,Q||y(this,D,B,U,Math.pow(2,8*U)-1,0);var q=1,Z=0;for(this[B]=255&D;++Z<U&&(q*=256);)this[B+Z]=D/q&255;return B+U},u.prototype.writeUIntBE=function(D,B,U,Q){D=+D,B>>>=0,U>>>=0,Q||y(this,D,B,U,Math.pow(2,8*U)-1,0);var q=U-1,Z=1;for(this[B+q]=255&D;--q>=0&&(Z*=256);)this[B+q]=D/Z&255;return B+U},u.prototype.writeUInt8=function(D,B,U){return D=+D,B>>>=0,U||y(this,D,B,1,255,0),this[B]=255&D,B+1},u.prototype.writeUInt16LE=function(D,B,U){return D=+D,B>>>=0,U||y(this,D,B,2,65535,0),this[B]=255&D,this[B+1]=D>>>8,B+2},u.prototype.writeUInt16BE=function(D,B,U){return D=+D,B>>>=0,U||y(this,D,B,2,65535,0),this[B]=D>>>8,this[B+1]=255&D,B+2},u.prototype.writeUInt32LE=function(D,B,U){return D=+D,B>>>=0,U||y(this,D,B,4,4294967295,0),this[B+3]=D>>>24,this[B+2]=D>>>16,this[B+1]=D>>>8,this[B]=255&D,B+4},u.prototype.writeUInt32BE=function(D,B,U){return D=+D,B>>>=0,U||y(this,D,B,4,4294967295,0),this[B]=D>>>24,this[B+1]=D>>>16,this[B+2]=D>>>8,this[B+3]=255&D,B+4},u.prototype.writeIntLE=function(D,B,U,Q){if(D=+D,B>>>=0,!Q){var q=Math.pow(2,8*U-1);y(this,D,B,U,q-1,-q)}var Z=0,$=1,ie=0;for(this[B]=255&D;++Z<U&&($*=256);)D<0&&ie===0&&this[B+Z-1]!==0&&(ie=1),this[B+Z]=(D/$>>0)-ie&255;return B+U},u.prototype.writeIntBE=function(D,B,U,Q){if(D=+D,B>>>=0,!Q){var q=Math.pow(2,8*U-1);y(this,D,B,U,q-1,-q)}var Z=U-1,$=1,ie=0;for(this[B+Z]=255&D;--Z>=0&&($*=256);)D<0&&ie===0&&this[B+Z+1]!==0&&(ie=1),this[B+Z]=(D/$>>0)-ie&255;return B+U},u.prototype.writeInt8=function(D,B,U){return D=+D,B>>>=0,U||y(this,D,B,1,127,-128),D<0&&(D=255+D+1),this[B]=255&D,B+1},u.prototype.writeInt16LE=function(D,B,U){return D=+D,B>>>=0,U||y(this,D,B,2,32767,-32768),this[B]=255&D,this[B+1]=D>>>8,B+2},u.prototype.writeInt16BE=function(D,B,U){return D=+D,B>>>=0,U||y(this,D,B,2,32767,-32768),this[B]=D>>>8,this[B+1]=255&D,B+2},u.prototype.writeInt32LE=function(D,B,U){return D=+D,B>>>=0,U||y(this,D,B,4,2147483647,-2147483648),this[B]=255&D,this[B+1]=D>>>8,this[B+2]=D>>>16,this[B+3]=D>>>24,B+4},u.prototype.writeInt32BE=function(D,B,U){return D=+D,B>>>=0,U||y(this,D,B,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[B]=D>>>24,this[B+1]=D>>>16,this[B+2]=D>>>8,this[B+3]=255&D,B+4},u.prototype.writeFloatLE=function(D,B,U){return w(this,D,B,!0,U)},u.prototype.writeFloatBE=function(D,B,U){return w(this,D,B,!1,U)},u.prototype.writeDoubleLE=function(D,B,U){return k(this,D,B,!0,U)},u.prototype.writeDoubleBE=function(D,B,U){return k(this,D,B,!1,U)},u.prototype.copy=function(D,B,U,Q){if(!u.isBuffer(D))throw new TypeError("argument should be a Buffer");if(U||(U=0),Q||Q===0||(Q=this.length),B>=D.length&&(B=D.length),B||(B=0),Q>0&&Q<U&&(Q=U),Q===U||D.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("sourceEnd out of bounds");Q>this.length&&(Q=this.length),D.length-B<Q-U&&(Q=D.length-B+U);var q=Q-U;if(this===D&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(B,U,Q);else if(this===D&&U<B&&B<Q)for(var Z=q-1;Z>=0;--Z)D[Z+B]=this[Z+U];else Uint8Array.prototype.set.call(D,this.subarray(U,Q),B);return q},u.prototype.fill=function(D,B,U,Q){if(typeof D=="string"){if(typeof B=="string"?(Q=B,B=0,U=this.length):typeof U=="string"&&(Q=U,U=this.length),Q!==void 0&&typeof Q!="string")throw new TypeError("encoding must be a string");if(typeof Q=="string"&&!u.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);if(D.length===1){var q=D.charCodeAt(0);(Q==="utf8"&&q<128||Q==="latin1")&&(D=q)}}else typeof D=="number"&&(D&=255);if(B<0||this.length<B||this.length<U)throw new RangeError("Out of range index");if(U<=B)return this;var Z;if(B>>>=0,U=U===void 0?this.length:U>>>0,D||(D=0),typeof D=="number")for(Z=B;Z<U;++Z)this[Z]=D;else{var $=u.isBuffer(D)?D:u.from(D,Q),ie=$.length;if(ie===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Z=0;Z<U-B;++Z)this[Z+B]=$[Z%ie]}return this};var M=/[^+/0-9A-Za-z-_]/g;function O(D){return D<16?"0"+D.toString(16):D.toString(16)}function F(D,B){var U;B=B||1/0;for(var Q=D.length,q=null,Z=[],$=0;$<Q;++$){if((U=D.charCodeAt($))>55295&&U<57344){if(!q){if(U>56319){(B-=3)>-1&&Z.push(239,191,189);continue}if($+1===Q){(B-=3)>-1&&Z.push(239,191,189);continue}q=U;continue}if(U<56320){(B-=3)>-1&&Z.push(239,191,189),q=U;continue}U=65536+(q-55296<<10|U-56320)}else q&&(B-=3)>-1&&Z.push(239,191,189);if(q=null,U<128){if((B-=1)<0)break;Z.push(U)}else if(U<2048){if((B-=2)<0)break;Z.push(U>>6|192,63&U|128)}else if(U<65536){if((B-=3)<0)break;Z.push(U>>12|224,U>>6&63|128,63&U|128)}else{if(!(U<1114112))throw new Error("Invalid code point");if((B-=4)<0)break;Z.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}}return Z}function z(D){return s.toByteArray(function(B){if((B=(B=B.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(D))}function X(D,B,U,Q){for(var q=0;q<Q&&!(q+U>=B.length||q>=D.length);++q)B[q+U]=D[q];return q}function L(D,B){return D instanceof B||D!=null&&D.constructor!=null&&D.constructor.name!=null&&D.constructor.name===B.name}function K(D){return D!=D}}).call(this)}).call(this,i("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(i,r,n){var a=i("safe-buffer").Buffer,s=i("stream").Transform,o=i("string_decoder").StringDecoder;function l(u){s.call(this),this.hashMode=typeof u=="string",this.hashMode?this[u]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}i("inherits")(l,s),l.prototype.update=function(u,d,c){typeof u=="string"&&(u=a.from(u,d));var h=this._update(u);return this.hashMode?this:(c&&(h=this._toString(h,c)),h)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(u,d,c){var h;try{this.hashMode?this._update(u):this.push(this._update(u))}catch(f){h=f}finally{c(h)}},l.prototype._flush=function(u){var d;try{this.push(this.__final())}catch(c){d=c}u(d)},l.prototype._finalOrDigest=function(u){var d=this.__final()||a.alloc(0);return u&&(d=this._toString(d,u,!0)),d},l.prototype._toString=function(u,d,c){if(this._decoder||(this._decoder=new o(d),this._encoding=d),this._encoding!==d)throw new Error("can't switch encodings");var h=this._decoder.write(u);return c&&(h+=this._decoder.end()),h},r.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(i,r,n){var a=i("../internals/is-callable"),s=i("../internals/try-to-string"),o=TypeError;r.exports=function(l){if(a(l))return l;throw new o(s(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(i,r,n){var a=i("../internals/is-constructor"),s=i("../internals/try-to-string"),o=TypeError;r.exports=function(l){if(a(l))return l;throw new o(s(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(i,r,n){var a=i("../internals/is-callable"),s=String,o=TypeError;r.exports=function(l){if(typeof l=="object"||a(l))return l;throw new o("Can't set "+s(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(i,r,n){var a=i("../internals/well-known-symbol"),s=i("../internals/object-create"),o=i("../internals/object-define-property").f,l=a("unscopables"),u=Array.prototype;u[l]===void 0&&o(u,l,{configurable:!0,value:s(null)}),r.exports=function(d){u[l][d]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(i,r,n){var a=i("../internals/object-is-prototype-of"),s=TypeError;r.exports=function(o,l){if(a(l,o))return o;throw new s("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(i,r,n){var a=i("../internals/is-object"),s=String,o=TypeError;r.exports=function(l){if(a(l))return l;throw new o(s(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(i,r,n){var a=i("../internals/to-indexed-object"),s=i("../internals/to-absolute-index"),o=i("../internals/length-of-array-like"),l=function(u){return function(d,c,h){var f,p=a(d),g=o(p),m=s(h,g);if(u&&c!=c){for(;g>m;)if((f=p[m++])!=f)return!0}else for(;g>m;m++)if((u||m in p)&&p[m]===c)return u||m||0;return!u&&-1}};r.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(i,r,n){var a=i("../internals/function-bind-context"),s=i("../internals/function-uncurry-this"),o=i("../internals/indexed-object"),l=i("../internals/to-object"),u=i("../internals/length-of-array-like"),d=i("../internals/array-species-create"),c=s([].push),h=function(f){var p=f===1,g=f===2,m=f===3,v=f===4,b=f===6,E=f===7,I=f===5||b;return function(R,N,j,V){for(var H,W,G=l(R),P=o(G),A=a(N,j),T=u(P),x=0,C=V||d,y=p?C(R,T):g||E?C(R,0):void 0;T>x;x++)if((I||x in P)&&(W=A(H=P[x],x,G),f))if(p)y[x]=W;else if(W)switch(f){case 3:return!0;case 5:return H;case 6:return x;case 2:c(y,H)}else switch(f){case 4:return!1;case 7:c(y,H)}return b?-1:m||v?v:y}};r.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(i,r,n){var a=i("../internals/to-absolute-index"),s=i("../internals/length-of-array-like"),o=i("../internals/create-property"),l=Array,u=Math.max;r.exports=function(d,c,h){for(var f=s(d),p=a(c,f),g=a(h===void 0?f:h,f),m=l(u(g-p,0)),v=0;p<g;p++,v++)o(m,v,d[p]);return m.length=v,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(i,r,n){var a=i("../internals/function-uncurry-this");r.exports=a([].slice)},{"../internals/function-uncurry-this":268}],232:[function(i,r,n){var a=i("../internals/is-array"),s=i("../internals/is-constructor"),o=i("../internals/is-object"),l=i("../internals/well-known-symbol")("species"),u=Array;r.exports=function(d){var c;return a(d)&&(c=d.constructor,(s(c)&&(c===u||a(c.prototype))||o(c)&&(c=c[l])===null)&&(c=void 0)),c===void 0?u:c}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(i,r,n){var a=i("../internals/array-species-constructor");r.exports=function(s,o){return new(a(s))(o===0?0:o)}},{"../internals/array-species-constructor":232}],234:[function(i,r,n){var a=i("../internals/well-known-symbol")("iterator"),s=!1;try{var o=0,l={next:function(){return{done:!!o++}},return:function(){s=!0}};l[a]=function(){return this},Array.from(l,function(){throw 2})}catch{}r.exports=function(u,d){try{if(!d&&!s)return!1}catch{return!1}var c=!1;try{var h={};h[a]=function(){return{next:function(){return{done:c=!0}}}},u(h)}catch{}return c}},{"../internals/well-known-symbol":357}],235:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=a({}.toString),o=a("".slice);r.exports=function(l){return o(s(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(i,r,n){var a=i("../internals/to-string-tag-support"),s=i("../internals/is-callable"),o=i("../internals/classof-raw"),l=i("../internals/well-known-symbol")("toStringTag"),u=Object,d=o(function(){return arguments}())==="Arguments";r.exports=a?o:function(c){var h,f,p;return c===void 0?"Undefined":c===null?"Null":typeof(f=function(g,m){try{return g[m]}catch{}}(h=u(c),l))=="string"?f:d?o(h):(p=o(h))==="Object"&&s(h.callee)?"Arguments":p}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(i,r,n){var a=i("../internals/has-own-property"),s=i("../internals/own-keys"),o=i("../internals/object-get-own-property-descriptor"),l=i("../internals/object-define-property");r.exports=function(u,d,c){for(var h=s(d),f=l.f,p=o.f,g=0;g<h.length;g++){var m=h[g];a(u,m)||c&&a(c,m)||f(u,m,p(d,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(i,r,n){var a=i("../internals/well-known-symbol")("match");r.exports=function(s){var o=/./;try{"/./"[s](o)}catch{try{return o[a]=!1,"/./"[s](o)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(i,r,n){var a=i("../internals/fails");r.exports=!a(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},{"../internals/fails":260}],240:[function(i,r,n){r.exports=function(a,s){return{value:a,done:s}}},{}],241:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/object-define-property"),o=i("../internals/create-property-descriptor");r.exports=a?function(l,u,d){return s.f(l,u,o(1,d))}:function(l,u,d){return l[u]=d,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(i,r,n){r.exports=function(a,s){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:s}}},{}],243:[function(i,r,n){var a=i("../internals/to-property-key"),s=i("../internals/object-define-property"),o=i("../internals/create-property-descriptor");r.exports=function(l,u,d){var c=a(u);c in l?s.f(l,c,o(0,d)):l[c]=d}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(i,r,n){var a=i("../internals/make-built-in"),s=i("../internals/object-define-property");r.exports=function(o,l,u){return u.get&&a(u.get,l,{getter:!0}),u.set&&a(u.set,l,{setter:!0}),s.f(o,l,u)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(i,r,n){var a=i("../internals/is-callable"),s=i("../internals/object-define-property"),o=i("../internals/make-built-in"),l=i("../internals/define-global-property");r.exports=function(u,d,c,h){h||(h={});var f=h.enumerable,p=h.name!==void 0?h.name:d;if(a(c)&&o(c,p,h),h.global)f?u[d]=c:l(d,c);else{try{h.unsafe?u[d]&&(f=!0):delete u[d]}catch{}f?u[d]=c:s.f(u,d,{value:c,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return u}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(i,r,n){var a=i("../internals/global"),s=Object.defineProperty;r.exports=function(o,l){try{s(a,o,{value:l,configurable:!0,writable:!0})}catch{a[o]=l}return l}},{"../internals/global":274}],247:[function(i,r,n){var a=i("../internals/fails");r.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(i,r,n){var a=typeof document=="object"&&document.all,s=a===void 0&&a!==void 0;r.exports={all:a,IS_HTMLDDA:s}},{}],249:[function(i,r,n){var a=i("../internals/global"),s=i("../internals/is-object"),o=a.document,l=s(o)&&s(o.createElement);r.exports=function(u){return l?o.createElement(u):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(i,r,n){var a=i("../internals/engine-is-deno"),s=i("../internals/engine-is-node");r.exports=!a&&!s&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(i,r,n){r.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(i,r,n){var a=i("../internals/engine-user-agent");r.exports=/ipad|iphone|ipod/i.test(a)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(i,r,n){var a=i("../internals/engine-user-agent");r.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},{"../internals/engine-user-agent":256}],254:[function(i,r,n){var a=i("../internals/global"),s=i("../internals/classof-raw");r.exports=s(a.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(i,r,n){var a=i("../internals/engine-user-agent");r.exports=/web0s(?!.*chrome)/i.test(a)},{"../internals/engine-user-agent":256}],256:[function(i,r,n){r.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(i,r,n){var a,s,o=i("../internals/global"),l=i("../internals/engine-user-agent"),u=o.process,d=o.Deno,c=u&&u.versions||d&&d.version,h=c&&c.v8;h&&(s=(a=h.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&l&&(!(a=l.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=l.match(/Chrome\/(\d+)/))&&(s=+a[1]),r.exports=s},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(i,r,n){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(i,r,n){var a=i("../internals/global"),s=i("../internals/object-get-own-property-descriptor").f,o=i("../internals/create-non-enumerable-property"),l=i("../internals/define-built-in"),u=i("../internals/define-global-property"),d=i("../internals/copy-constructor-properties"),c=i("../internals/is-forced");r.exports=function(h,f){var p,g,m,v,b,E=h.target,I=h.global,R=h.stat;if(p=I?a:R?a[E]||u(E,{}):(a[E]||{}).prototype)for(g in f){if(v=f[g],m=h.dontCallGetSet?(b=s(p,g))&&b.value:p[g],!c(I?g:E+(R?".":"#")+g,h.forced)&&m!==void 0){if(typeof v==typeof m)continue;d(v,m)}(h.sham||m&&m.sham)&&o(v,"sham",!0),l(p,g,v,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(i,r,n){r.exports=function(a){try{return!!a()}catch{return!0}}},{}],261:[function(i,r,n){var a=i("../internals/function-bind-native"),s=Function.prototype,o=s.apply,l=s.call;r.exports=typeof Reflect=="object"&&Reflect.apply||(a?l.bind(o):function(){return l.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(i,r,n){var a=i("../internals/function-uncurry-this-clause"),s=i("../internals/a-callable"),o=i("../internals/function-bind-native"),l=a(a.bind);r.exports=function(u,d){return s(u),d===void 0?u:o?l(u,d):function(){return u.apply(d,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(i,r,n){var a=i("../internals/fails");r.exports=!a(function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(i,r,n){var a=i("../internals/function-bind-native"),s=Function.prototype.call;r.exports=a?s.bind(s):function(){return s.apply(s,arguments)}},{"../internals/function-bind-native":263}],265:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/has-own-property"),o=Function.prototype,l=a&&Object.getOwnPropertyDescriptor,u=s(o,"name"),d=u&&(function(){}).name==="something",c=u&&(!a||a&&l(o,"name").configurable);r.exports={EXISTS:u,PROPER:d,CONFIGURABLE:c}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=i("../internals/a-callable");r.exports=function(o,l,u){try{return a(s(Object.getOwnPropertyDescriptor(o,l)[u]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(i,r,n){var a=i("../internals/classof-raw"),s=i("../internals/function-uncurry-this");r.exports=function(o){if(a(o)==="Function")return s(o)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(i,r,n){var a=i("../internals/function-bind-native"),s=Function.prototype,o=s.call,l=a&&s.bind.bind(o,o);r.exports=a?l:function(u){return function(){return o.apply(u,arguments)}}},{"../internals/function-bind-native":263}],269:[function(i,r,n){var a=i("../internals/global"),s=i("../internals/is-callable"),o=function(l){return s(l)?l:void 0};r.exports=function(l,u){return arguments.length<2?o(a[l]):a[l]&&a[l][u]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(i,r,n){var a=i("../internals/classof"),s=i("../internals/get-method"),o=i("../internals/is-null-or-undefined"),l=i("../internals/iterators"),u=i("../internals/well-known-symbol")("iterator");r.exports=function(d){if(!o(d))return s(d,u)||s(d,"@@iterator")||l[a(d)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(i,r,n){var a=i("../internals/function-call"),s=i("../internals/a-callable"),o=i("../internals/an-object"),l=i("../internals/try-to-string"),u=i("../internals/get-iterator-method"),d=TypeError;r.exports=function(c,h){var f=arguments.length<2?u(c):h;if(s(f))return o(a(f,c));throw new d(l(c)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=i("../internals/is-array"),o=i("../internals/is-callable"),l=i("../internals/classof-raw"),u=i("../internals/to-string"),d=a([].push);r.exports=function(c){if(o(c))return c;if(s(c)){for(var h=c.length,f=[],p=0;p<h;p++){var g=c[p];typeof g=="string"?d(f,g):typeof g!="number"&&l(g)!=="Number"&&l(g)!=="String"||d(f,u(g))}var m=f.length,v=!0;return function(b,E){if(v)return v=!1,E;if(s(this))return E;for(var I=0;I<m;I++)if(f[I]===b)return E}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(i,r,n){var a=i("../internals/a-callable"),s=i("../internals/is-null-or-undefined");r.exports=function(o,l){var u=o[l];return s(u)?void 0:a(u)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(i,r,n){(function(a){(function(){var s=function(o){return o&&o.Math===Math&&o};r.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof a=="object"&&a)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=i("../internals/to-object"),o=a({}.hasOwnProperty);r.exports=Object.hasOwn||function(l,u){return o(s(l),u)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(i,r,n){r.exports={}},{}],277:[function(i,r,n){r.exports=function(a,s){try{arguments.length===1?console.error(a):console.error(a,s)}catch{}}},{}],278:[function(i,r,n){var a=i("../internals/get-built-in");r.exports=a("document","documentElement")},{"../internals/get-built-in":269}],279:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/fails"),o=i("../internals/document-create-element");r.exports=!a&&!s(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=i("../internals/fails"),o=i("../internals/classof-raw"),l=Object,u=a("".split);r.exports=s(function(){return!l("z").propertyIsEnumerable(0)})?function(d){return o(d)==="String"?u(d,""):l(d)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=i("../internals/is-callable"),o=i("../internals/shared-store"),l=a(Function.toString);s(o.inspectSource)||(o.inspectSource=function(u){return l(u)}),r.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(i,r,n){var a,s,o,l=i("../internals/weak-map-basic-detection"),u=i("../internals/global"),d=i("../internals/is-object"),c=i("../internals/create-non-enumerable-property"),h=i("../internals/has-own-property"),f=i("../internals/shared-store"),p=i("../internals/shared-key"),g=i("../internals/hidden-keys"),m=u.TypeError,v=u.WeakMap;if(l||f.state){var b=f.state||(f.state=new v);b.get=b.get,b.has=b.has,b.set=b.set,a=function(I,R){if(b.has(I))throw new m("Object already initialized");return R.facade=I,b.set(I,R),R},s=function(I){return b.get(I)||{}},o=function(I){return b.has(I)}}else{var E=p("state");g[E]=!0,a=function(I,R){if(h(I,E))throw new m("Object already initialized");return R.facade=I,c(I,E,R),R},s=function(I){return h(I,E)?I[E]:{}},o=function(I){return h(I,E)}}r.exports={set:a,get:s,has:o,enforce:function(I){return o(I)?s(I):a(I,{})},getterFor:function(I){return function(R){var N;if(!d(R)||(N=s(R)).type!==I)throw new m("Incompatible receiver, "+I+" required");return N}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(i,r,n){var a=i("../internals/well-known-symbol"),s=i("../internals/iterators"),o=a("iterator"),l=Array.prototype;r.exports=function(u){return u!==void 0&&(s.Array===u||l[o]===u)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(i,r,n){var a=i("../internals/classof-raw");r.exports=Array.isArray||function(s){return a(s)==="Array"}},{"../internals/classof-raw":235}],285:[function(i,r,n){var a=i("../internals/document-all"),s=a.all;r.exports=a.IS_HTMLDDA?function(o){return typeof o=="function"||o===s}:function(o){return typeof o=="function"}},{"../internals/document-all":248}],286:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=i("../internals/fails"),o=i("../internals/is-callable"),l=i("../internals/classof"),u=i("../internals/get-built-in"),d=i("../internals/inspect-source"),c=function(){},h=[],f=u("Reflect","construct"),p=/^\s*(?:class|function)\b/,g=a(p.exec),m=!p.test(c),v=function(E){if(!o(E))return!1;try{return f(c,h,E),!0}catch{return!1}},b=function(E){if(!o(E))return!1;switch(l(E)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!g(p,d(E))}catch{return!0}};b.sham=!0,r.exports=!f||s(function(){var E;return v(v.call)||!v(Object)||!v(function(){E=!0})||E})?b:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(i,r,n){var a=i("../internals/fails"),s=i("../internals/is-callable"),o=/#|\.prototype\./,l=function(f,p){var g=d[u(f)];return g===h||g!==c&&(s(p)?a(p):!!p)},u=l.normalize=function(f){return String(f).replace(o,".").toLowerCase()},d=l.data={},c=l.NATIVE="N",h=l.POLYFILL="P";r.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(i,r,n){r.exports=function(a){return a==null}},{}],289:[function(i,r,n){var a=i("../internals/is-callable"),s=i("../internals/document-all"),o=s.all;r.exports=s.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:a(l)||l===o}:function(l){return typeof l=="object"?l!==null:a(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(i,r,n){r.exports=!1},{}],291:[function(i,r,n){var a=i("../internals/is-object"),s=i("../internals/classof-raw"),o=i("../internals/well-known-symbol")("match");r.exports=function(l){var u;return a(l)&&((u=l[o])!==void 0?!!u:s(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(i,r,n){var a=i("../internals/get-built-in"),s=i("../internals/is-callable"),o=i("../internals/object-is-prototype-of"),l=i("../internals/use-symbol-as-uid"),u=Object;r.exports=l?function(d){return typeof d=="symbol"}:function(d){var c=a("Symbol");return s(c)&&o(c.prototype,u(d))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(i,r,n){var a=i("../internals/function-bind-context"),s=i("../internals/function-call"),o=i("../internals/an-object"),l=i("../internals/try-to-string"),u=i("../internals/is-array-iterator-method"),d=i("../internals/length-of-array-like"),c=i("../internals/object-is-prototype-of"),h=i("../internals/get-iterator"),f=i("../internals/get-iterator-method"),p=i("../internals/iterator-close"),g=TypeError,m=function(b,E){this.stopped=b,this.result=E},v=m.prototype;r.exports=function(b,E,I){var R,N,j,V,H,W,G,P=I&&I.that,A=!(!I||!I.AS_ENTRIES),T=!(!I||!I.IS_RECORD),x=!(!I||!I.IS_ITERATOR),C=!(!I||!I.INTERRUPTED),y=a(E,P),S=function(k){return R&&p(R,"normal",k),new m(!0,k)},w=function(k){return A?(o(k),C?y(k[0],k[1],S):y(k[0],k[1])):C?y(k,S):y(k)};if(T)R=b.iterator;else if(x)R=b;else{if(!(N=f(b)))throw new g(l(b)+" is not iterable");if(u(N)){for(j=0,V=d(b);V>j;j++)if((H=w(b[j]))&&c(v,H))return H;return new m(!1)}R=h(b,N)}for(W=T?b.next:R.next;!(G=s(W,R)).done;){try{H=w(G.value)}catch(k){p(R,"throw",k)}if(typeof H=="object"&&H&&c(v,H))return H}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(i,r,n){var a=i("../internals/function-call"),s=i("../internals/an-object"),o=i("../internals/get-method");r.exports=function(l,u,d){var c,h;s(l);try{if(!(c=o(l,"return"))){if(u==="throw")throw d;return d}c=a(c,l)}catch(f){h=!0,c=f}if(u==="throw")throw d;if(h)throw c;return s(c),d}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(i,r,n){var a=i("../internals/iterators-core").IteratorPrototype,s=i("../internals/object-create"),o=i("../internals/create-property-descriptor"),l=i("../internals/set-to-string-tag"),u=i("../internals/iterators"),d=function(){return this};r.exports=function(c,h,f,p){var g=h+" Iterator";return c.prototype=s(a,{next:o(+!p,f)}),l(c,g,!1,!0),u[g]=d,c}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/function-call"),o=i("../internals/is-pure"),l=i("../internals/function-name"),u=i("../internals/is-callable"),d=i("../internals/iterator-create-constructor"),c=i("../internals/object-get-prototype-of"),h=i("../internals/object-set-prototype-of"),f=i("../internals/set-to-string-tag"),p=i("../internals/create-non-enumerable-property"),g=i("../internals/define-built-in"),m=i("../internals/well-known-symbol"),v=i("../internals/iterators"),b=i("../internals/iterators-core"),E=l.PROPER,I=l.CONFIGURABLE,R=b.IteratorPrototype,N=b.BUGGY_SAFARI_ITERATORS,j=m("iterator"),V=function(){return this};r.exports=function(H,W,G,P,A,T,x){d(G,W,P);var C,y,S,w=function(L){if(L===A&&z)return z;if(!N&&L&&L in O)return O[L];switch(L){case"keys":case"values":case"entries":return function(){return new G(this,L)}}return function(){return new G(this)}},k=W+" Iterator",M=!1,O=H.prototype,F=O[j]||O["@@iterator"]||A&&O[A],z=!N&&F||w(A),X=W==="Array"&&O.entries||F;if(X&&(C=c(X.call(new H)))!==Object.prototype&&C.next&&(o||c(C)===R||(h?h(C,R):u(C[j])||g(C,j,V)),f(C,k,!0,!0),o&&(v[k]=V)),E&&A==="values"&&F&&F.name!=="values"&&(!o&&I?p(O,"name","values"):(M=!0,z=function(){return s(F,this)})),A)if(y={values:w("values"),keys:T?z:w("keys"),entries:w("entries")},x)for(S in y)(N||M||!(S in O))&&g(O,S,y[S]);else a({target:W,proto:!0,forced:N||M},y);return o&&!x||O[j]===z||g(O,j,z,{name:A}),v[W]=z,y}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(i,r,n){var a,s,o,l=i("../internals/fails"),u=i("../internals/is-callable"),d=i("../internals/is-object"),c=i("../internals/object-create"),h=i("../internals/object-get-prototype-of"),f=i("../internals/define-built-in"),p=i("../internals/well-known-symbol"),g=i("../internals/is-pure"),m=p("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(s=h(h(o)))!==Object.prototype&&(a=s):v=!0),!d(a)||l(function(){var b={};return a[m].call(b)!==b})?a={}:g&&(a=c(a)),u(a[m])||f(a,m,function(){return this}),r.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(i,r,n){arguments[4][276][0].apply(n,arguments)},{dup:276}],299:[function(i,r,n){var a=i("../internals/to-length");r.exports=function(s){return a(s.length)}},{"../internals/to-length":343}],300:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=i("../internals/fails"),o=i("../internals/is-callable"),l=i("../internals/has-own-property"),u=i("../internals/descriptors"),d=i("../internals/function-name").CONFIGURABLE,c=i("../internals/inspect-source"),h=i("../internals/internal-state"),f=h.enforce,p=h.get,g=String,m=Object.defineProperty,v=a("".slice),b=a("".replace),E=a([].join),I=u&&!s(function(){return m(function(){},"length",{value:8}).length!==8}),R=String(String).split("String"),N=r.exports=function(j,V,H){v(g(V),0,7)==="Symbol("&&(V="["+b(g(V),/^Symbol\(([^)]*)\)/,"$1")+"]"),H&&H.getter&&(V="get "+V),H&&H.setter&&(V="set "+V),(!l(j,"name")||d&&j.name!==V)&&(u?m(j,"name",{value:V,configurable:!0}):j.name=V),I&&H&&l(H,"arity")&&j.length!==H.arity&&m(j,"length",{value:H.arity});try{H&&l(H,"constructor")&&H.constructor?u&&m(j,"prototype",{writable:!1}):j.prototype&&(j.prototype=void 0)}catch{}var W=f(j);return l(W,"source")||(W.source=E(R,typeof V=="string"?V:"")),j};Function.prototype.toString=N(function(){return o(this)&&p(this).source||c(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(i,r,n){var a=Math.ceil,s=Math.floor;r.exports=Math.trunc||function(o){var l=+o;return(l>0?s:a)(l)}},{}],302:[function(i,r,n){var a,s,o,l,u,d=i("../internals/global"),c=i("../internals/function-bind-context"),h=i("../internals/object-get-own-property-descriptor").f,f=i("../internals/task").set,p=i("../internals/queue"),g=i("../internals/engine-is-ios"),m=i("../internals/engine-is-ios-pebble"),v=i("../internals/engine-is-webos-webkit"),b=i("../internals/engine-is-node"),E=d.MutationObserver||d.WebKitMutationObserver,I=d.document,R=d.process,N=d.Promise,j=h(d,"queueMicrotask"),V=j&&j.value;if(!V){var H=new p,W=function(){var G,P;for(b&&(G=R.domain)&&G.exit();P=H.get();)try{P()}catch(A){throw H.head&&a(),A}G&&G.enter()};g||b||v||!E||!I?!m&&N&&N.resolve?((l=N.resolve(void 0)).constructor=N,u=c(l.then,l),a=function(){u(W)}):b?a=function(){R.nextTick(W)}:(f=c(f,d),a=function(){f(W)}):(s=!0,o=I.createTextNode(""),new E(W).observe(o,{characterData:!0}),a=function(){o.data=s=!s}),V=function(G){H.head||a(),H.add(G)}}r.exports=V},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(i,r,n){var a=i("../internals/a-callable"),s=TypeError,o=function(l){var u,d;this.promise=new l(function(c,h){if(u!==void 0||d!==void 0)throw new s("Bad Promise constructor");u=c,d=h}),this.resolve=a(u),this.reject=a(d)};r.exports.f=function(l){return new o(l)}},{"../internals/a-callable":222}],304:[function(i,r,n){var a=i("../internals/is-regexp"),s=TypeError;r.exports=function(o){if(a(o))throw new s("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":291}],305:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/function-uncurry-this"),o=i("../internals/function-call"),l=i("../internals/fails"),u=i("../internals/object-keys"),d=i("../internals/object-get-own-property-symbols"),c=i("../internals/object-property-is-enumerable"),h=i("../internals/to-object"),f=i("../internals/indexed-object"),p=Object.assign,g=Object.defineProperty,m=s([].concat);r.exports=!p||l(function(){if(a&&p({b:1},p(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},b={},E=Symbol("assign detection");return v[E]=7,"abcdefghijklmnopqrst".split("").forEach(function(I){b[I]=I}),p({},v)[E]!==7||u(p({},b)).join("")!=="abcdefghijklmnopqrst"})?function(v,b){for(var E=h(v),I=arguments.length,R=1,N=d.f,j=c.f;I>R;)for(var V,H=f(arguments[R++]),W=N?m(u(H),N(H)):u(H),G=W.length,P=0;G>P;)V=W[P++],a&&!o(j,H,V)||(E[V]=H[V]);return E}:p},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(i,r,n){var a,s=i("../internals/an-object"),o=i("../internals/object-define-properties"),l=i("../internals/enum-bug-keys"),u=i("../internals/hidden-keys"),d=i("../internals/html"),c=i("../internals/document-create-element"),h=i("../internals/shared-key"),f=h("IE_PROTO"),p=function(){},g=function(b){return"<script>"+b+"<\/script>"},m=function(b){b.write(g("")),b.close();var E=b.parentWindow.Object;return b=null,E},v=function(){try{a=new ActiveXObject("htmlfile")}catch{}var b,E;v=typeof document<"u"?document.domain&&a?m(a):((E=c("iframe")).style.display="none",d.appendChild(E),E.src="javascript:",(b=E.contentWindow.document).open(),b.write(g("document.F=Object")),b.close(),b.F):m(a);for(var I=l.length;I--;)delete v.prototype[l[I]];return v()};u[f]=!0,r.exports=Object.create||function(b,E){var I;return b!==null?(p.prototype=s(b),I=new p,p.prototype=null,I[f]=b):I=v(),E===void 0?I:o.f(I,E)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/v8-prototype-define-bug"),o=i("../internals/object-define-property"),l=i("../internals/an-object"),u=i("../internals/to-indexed-object"),d=i("../internals/object-keys");n.f=a&&!s?Object.defineProperties:function(c,h){l(c);for(var f,p=u(h),g=d(h),m=g.length,v=0;m>v;)o.f(c,f=g[v++],p[f]);return c}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/ie8-dom-define"),o=i("../internals/v8-prototype-define-bug"),l=i("../internals/an-object"),u=i("../internals/to-property-key"),d=TypeError,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor;n.f=a?o?function(f,p,g){if(l(f),p=u(p),l(g),typeof f=="function"&&p==="prototype"&&"value"in g&&"writable"in g&&!g.writable){var m=h(f,p);m&&m.writable&&(f[p]=g.value,g={configurable:"configurable"in g?g.configurable:m.configurable,enumerable:"enumerable"in g?g.enumerable:m.enumerable,writable:!1})}return c(f,p,g)}:c:function(f,p,g){if(l(f),p=u(p),l(g),s)try{return c(f,p,g)}catch{}if("get"in g||"set"in g)throw new d("Accessors not supported");return"value"in g&&(f[p]=g.value),f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/function-call"),o=i("../internals/object-property-is-enumerable"),l=i("../internals/create-property-descriptor"),u=i("../internals/to-indexed-object"),d=i("../internals/to-property-key"),c=i("../internals/has-own-property"),h=i("../internals/ie8-dom-define"),f=Object.getOwnPropertyDescriptor;n.f=a?f:function(p,g){if(p=u(p),g=d(g),h)try{return f(p,g)}catch{}if(c(p,g))return l(!s(o.f,p,g),p[g])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(i,r,n){var a=i("../internals/classof-raw"),s=i("../internals/to-indexed-object"),o=i("../internals/object-get-own-property-names").f,l=i("../internals/array-slice-simple"),u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];r.exports.f=function(d){return u&&a(d)==="Window"?function(c){try{return o(c)}catch{return l(u)}}(d):o(s(d))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(i,r,n){var a=i("../internals/object-keys-internal"),s=i("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(o){return a(o,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(i,r,n){n.f=Object.getOwnPropertySymbols},{}],313:[function(i,r,n){var a=i("../internals/has-own-property"),s=i("../internals/is-callable"),o=i("../internals/to-object"),l=i("../internals/shared-key"),u=i("../internals/correct-prototype-getter"),d=l("IE_PROTO"),c=Object,h=c.prototype;r.exports=u?c.getPrototypeOf:function(f){var p=o(f);if(a(p,d))return p[d];var g=p.constructor;return s(g)&&p instanceof g?g.prototype:p instanceof c?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(i,r,n){var a=i("../internals/function-uncurry-this");r.exports=a({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=i("../internals/has-own-property"),o=i("../internals/to-indexed-object"),l=i("../internals/array-includes").indexOf,u=i("../internals/hidden-keys"),d=a([].push);r.exports=function(c,h){var f,p=o(c),g=0,m=[];for(f in p)!s(u,f)&&s(p,f)&&d(m,f);for(;h.length>g;)s(p,f=h[g++])&&(~l(m,f)||d(m,f));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(i,r,n){var a=i("../internals/object-keys-internal"),s=i("../internals/enum-bug-keys");r.exports=Object.keys||function(o){return a(o,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(i,r,n){var a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,o=s&&!a.call({1:2},1);n.f=o?function(l){var u=s(this,l);return!!u&&u.enumerable}:a},{}],318:[function(i,r,n){var a=i("../internals/function-uncurry-this-accessor"),s=i("../internals/an-object"),o=i("../internals/a-possible-prototype");r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,u=!1,d={};try{(l=a(Object.prototype,"__proto__","set"))(d,[]),u=d instanceof Array}catch{}return function(c,h){return s(c),o(h),u?l(c,h):c.__proto__=h,c}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/fails"),o=i("../internals/function-uncurry-this"),l=i("../internals/object-get-prototype-of"),u=i("../internals/object-keys"),d=i("../internals/to-indexed-object"),c=o(i("../internals/object-property-is-enumerable").f),h=o([].push),f=a&&s(function(){var g=Object.create(null);return g[2]=2,!c(g,2)}),p=function(g){return function(m){for(var v,b=d(m),E=u(b),I=f&&l(b)===null,R=E.length,N=0,j=[];R>N;)v=E[N++],a&&!(I?v in b:c(b,v))||h(j,g?[v,b[v]]:b[v]);return j}};r.exports={entries:p(!0),values:p(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(i,r,n){var a=i("../internals/function-call"),s=i("../internals/is-callable"),o=i("../internals/is-object"),l=TypeError;r.exports=function(u,d){var c,h;if(d==="string"&&s(c=u.toString)&&!o(h=a(c,u))||s(c=u.valueOf)&&!o(h=a(c,u))||d!=="string"&&s(c=u.toString)&&!o(h=a(c,u)))return h;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(i,r,n){var a=i("../internals/get-built-in"),s=i("../internals/function-uncurry-this"),o=i("../internals/object-get-own-property-names"),l=i("../internals/object-get-own-property-symbols"),u=i("../internals/an-object"),d=s([].concat);r.exports=a("Reflect","ownKeys")||function(c){var h=o.f(u(c)),f=l.f;return f?d(h,f(c)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(i,r,n){var a=i("../internals/global");r.exports=a},{"../internals/global":274}],323:[function(i,r,n){r.exports=function(a){try{return{error:!1,value:a()}}catch(s){return{error:!0,value:s}}}},{}],324:[function(i,r,n){var a=i("../internals/global"),s=i("../internals/promise-native-constructor"),o=i("../internals/is-callable"),l=i("../internals/is-forced"),u=i("../internals/inspect-source"),d=i("../internals/well-known-symbol"),c=i("../internals/engine-is-browser"),h=i("../internals/engine-is-deno"),f=i("../internals/is-pure"),p=i("../internals/engine-v8-version"),g=s&&s.prototype,m=d("species"),v=!1,b=o(a.PromiseRejectionEvent),E=l("Promise",function(){var I=u(s),R=I!==String(s);if(!R&&p===66||f&&(!g.catch||!g.finally))return!0;if(!p||p<51||!/native code/.test(I)){var N=new s(function(V){V(1)}),j=function(V){V(function(){},function(){})};if((N.constructor={})[m]=j,!(v=N.then(function(){})instanceof j))return!0}return!R&&(c||h)&&!b});r.exports={CONSTRUCTOR:E,REJECTION_EVENT:b,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(i,r,n){var a=i("../internals/global");r.exports=a.Promise},{"../internals/global":274}],326:[function(i,r,n){var a=i("../internals/an-object"),s=i("../internals/is-object"),o=i("../internals/new-promise-capability");r.exports=function(l,u){if(a(l),s(u)&&u.constructor===l)return u;var d=o.f(l);return(0,d.resolve)(u),d.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(i,r,n){var a=i("../internals/promise-native-constructor"),s=i("../internals/check-correctness-of-iteration"),o=i("../internals/promise-constructor-detection").CONSTRUCTOR;r.exports=o||!s(function(l){a.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(i,r,n){var a=function(){this.head=null,this.tail=null};a.prototype={add:function(s){var o={item:s,next:null},l=this.tail;l?l.next=o:this.head=o,this.tail=o},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}},r.exports=a},{}],329:[function(i,r,n){var a=i("../internals/is-null-or-undefined"),s=TypeError;r.exports=function(o){if(a(o))throw new s("Can't call method on "+o);return o}},{"../internals/is-null-or-undefined":288}],330:[function(i,r,n){var a=i("../internals/get-built-in"),s=i("../internals/define-built-in-accessor"),o=i("../internals/well-known-symbol"),l=i("../internals/descriptors"),u=o("species");r.exports=function(d){var c=a(d);l&&c&&!c[u]&&s(c,u,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(i,r,n){var a=i("../internals/object-define-property").f,s=i("../internals/has-own-property"),o=i("../internals/well-known-symbol")("toStringTag");r.exports=function(l,u,d){l&&!d&&(l=l.prototype),l&&!s(l,o)&&a(l,o,{configurable:!0,value:u})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(i,r,n){var a=i("../internals/shared"),s=i("../internals/uid"),o=a("keys");r.exports=function(l){return o[l]||(o[l]=s(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(i,r,n){var a=i("../internals/global"),s=i("../internals/define-global-property"),o=a["__core-js_shared__"]||s("__core-js_shared__",{});r.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(i,r,n){var a=i("../internals/is-pure"),s=i("../internals/shared-store");(r.exports=function(o,l){return s[o]||(s[o]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:a?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(i,r,n){var a=i("../internals/an-object"),s=i("../internals/a-constructor"),o=i("../internals/is-null-or-undefined"),l=i("../internals/well-known-symbol")("species");r.exports=function(u,d){var c,h=a(u).constructor;return h===void 0||o(c=a(h)[l])?d:s(c)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(i,r,n){var a=i("../internals/engine-v8-version"),s=i("../internals/fails"),o=i("../internals/global").String;r.exports=!!Object.getOwnPropertySymbols&&!s(function(){var l=Symbol("symbol detection");return!o(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&a&&a<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(i,r,n){var a=i("../internals/function-call"),s=i("../internals/get-built-in"),o=i("../internals/well-known-symbol"),l=i("../internals/define-built-in");r.exports=function(){var u=s("Symbol"),d=u&&u.prototype,c=d&&d.valueOf,h=o("toPrimitive");d&&!d[h]&&l(d,h,function(f){return a(c,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(i,r,n){var a=i("../internals/symbol-constructor-detection");r.exports=a&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(i,r,n){var a,s,o,l,u=i("../internals/global"),d=i("../internals/function-apply"),c=i("../internals/function-bind-context"),h=i("../internals/is-callable"),f=i("../internals/has-own-property"),p=i("../internals/fails"),g=i("../internals/html"),m=i("../internals/array-slice"),v=i("../internals/document-create-element"),b=i("../internals/validate-arguments-length"),E=i("../internals/engine-is-ios"),I=i("../internals/engine-is-node"),R=u.setImmediate,N=u.clearImmediate,j=u.process,V=u.Dispatch,H=u.Function,W=u.MessageChannel,G=u.String,P=0,A={};p(function(){a=u.location});var T=function(S){if(f(A,S)){var w=A[S];delete A[S],w()}},x=function(S){return function(){T(S)}},C=function(S){T(S.data)},y=function(S){u.postMessage(G(S),a.protocol+"//"+a.host)};R&&N||(R=function(S){b(arguments.length,1);var w=h(S)?S:H(S),k=m(arguments,1);return A[++P]=function(){d(w,void 0,k)},s(P),P},N=function(S){delete A[S]},I?s=function(S){j.nextTick(x(S))}:V&&V.now?s=function(S){V.now(x(S))}:W&&!E?(l=(o=new W).port2,o.port1.onmessage=C,s=c(l.postMessage,l)):u.addEventListener&&h(u.postMessage)&&!u.importScripts&&a&&a.protocol!=="file:"&&!p(y)?(s=y,u.addEventListener("message",C,!1)):s="onreadystatechange"in v("script")?function(S){g.appendChild(v("script")).onreadystatechange=function(){g.removeChild(this),T(S)}}:function(S){setTimeout(x(S),0)}),r.exports={set:R,clear:N}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(i,r,n){var a=i("../internals/to-integer-or-infinity"),s=Math.max,o=Math.min;r.exports=function(l,u){var d=a(l);return d<0?s(d+u,0):o(d,u)}},{"../internals/to-integer-or-infinity":342}],341:[function(i,r,n){var a=i("../internals/indexed-object"),s=i("../internals/require-object-coercible");r.exports=function(o){return a(s(o))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(i,r,n){var a=i("../internals/math-trunc");r.exports=function(s){var o=+s;return o!=o||o===0?0:a(o)}},{"../internals/math-trunc":301}],343:[function(i,r,n){var a=i("../internals/to-integer-or-infinity"),s=Math.min;r.exports=function(o){return o>0?s(a(o),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(i,r,n){var a=i("../internals/require-object-coercible"),s=Object;r.exports=function(o){return s(a(o))}},{"../internals/require-object-coercible":329}],345:[function(i,r,n){var a=i("../internals/function-call"),s=i("../internals/is-object"),o=i("../internals/is-symbol"),l=i("../internals/get-method"),u=i("../internals/ordinary-to-primitive"),d=i("../internals/well-known-symbol"),c=TypeError,h=d("toPrimitive");r.exports=function(f,p){if(!s(f)||o(f))return f;var g,m=l(f,h);if(m){if(p===void 0&&(p="default"),g=a(m,f,p),!s(g)||o(g))return g;throw new c("Can't convert object to primitive value")}return p===void 0&&(p="number"),u(f,p)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(i,r,n){var a=i("../internals/to-primitive"),s=i("../internals/is-symbol");r.exports=function(o){var l=a(o,"string");return s(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(i,r,n){var a={};a[i("../internals/well-known-symbol")("toStringTag")]="z",r.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(i,r,n){var a=i("../internals/classof"),s=String;r.exports=function(o){if(a(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s(o)}},{"../internals/classof":236}],349:[function(i,r,n){var a=String;r.exports=function(s){try{return a(s)}catch{return"Object"}}},{}],350:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=0,o=Math.random(),l=a(1 .toString);r.exports=function(u){return"Symbol("+(u===void 0?"":u)+")_"+l(++s+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(i,r,n){var a=i("../internals/symbol-constructor-detection");r.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/fails");r.exports=a&&s(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(i,r,n){var a=TypeError;r.exports=function(s,o){if(s<o)throw new a("Not enough arguments");return s}},{}],354:[function(i,r,n){var a=i("../internals/global"),s=i("../internals/is-callable"),o=a.WeakMap;r.exports=s(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(i,r,n){var a=i("../internals/path"),s=i("../internals/has-own-property"),o=i("../internals/well-known-symbol-wrapped"),l=i("../internals/object-define-property").f;r.exports=function(u){var d=a.Symbol||(a.Symbol={});s(d,u)||l(d,u,{value:o.f(u)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(i,r,n){var a=i("../internals/well-known-symbol");n.f=a},{"../internals/well-known-symbol":357}],357:[function(i,r,n){var a=i("../internals/global"),s=i("../internals/shared"),o=i("../internals/has-own-property"),l=i("../internals/uid"),u=i("../internals/symbol-constructor-detection"),d=i("../internals/use-symbol-as-uid"),c=a.Symbol,h=s("wks"),f=d?c.for||c:c&&c.withoutSetter||l;r.exports=function(p){return o(h,p)||(h[p]=u&&o(c,p)?c[p]:f("Symbol."+p)),h[p]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/array-iteration").findIndex,o=i("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),a({target:"Array",proto:!0,forced:l},{findIndex:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/array-iteration").find,o=i("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),a({target:"Array",proto:!0,forced:l},{find:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/array-includes").includes,o=i("../internals/fails"),l=i("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(i,r,n){var a=i("../internals/to-indexed-object"),s=i("../internals/add-to-unscopables"),o=i("../internals/iterators"),l=i("../internals/internal-state"),u=i("../internals/object-define-property").f,d=i("../internals/iterator-define"),c=i("../internals/create-iter-result-object"),h=i("../internals/is-pure"),f=i("../internals/descriptors"),p=l.set,g=l.getterFor("Array Iterator");r.exports=d(Array,"Array",function(v,b){p(this,{type:"Array Iterator",target:a(v),index:0,kind:b})},function(){var v=g(this),b=v.target,E=v.kind,I=v.index++;if(!b||I>=b.length)return v.target=void 0,c(void 0,!0);switch(E){case"keys":return c(I,!1);case"values":return c(b[I],!1)}return c([I,b[I]],!1)},"values");var m=o.Arguments=o.Array;if(s("keys"),s("values"),s("entries"),!h&&f&&m.name!=="values")try{u(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/get-built-in"),o=i("../internals/function-apply"),l=i("../internals/function-call"),u=i("../internals/function-uncurry-this"),d=i("../internals/fails"),c=i("../internals/is-callable"),h=i("../internals/is-symbol"),f=i("../internals/array-slice"),p=i("../internals/get-json-replacer-function"),g=i("../internals/symbol-constructor-detection"),m=String,v=s("JSON","stringify"),b=u(/./.exec),E=u("".charAt),I=u("".charCodeAt),R=u("".replace),N=u(1 .toString),j=/[\uD800-\uDFFF]/g,V=/^[\uD800-\uDBFF]$/,H=/^[\uDC00-\uDFFF]$/,W=!g||d(function(){var T=s("Symbol")("stringify detection");return v([T])!=="[null]"||v({a:T})!=="{}"||v(Object(T))!=="{}"}),G=d(function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'}),P=function(T,x){var C=f(arguments),y=p(x);if(c(y)||T!==void 0&&!h(T))return C[1]=function(S,w){if(c(y)&&(w=l(y,this,m(S),w)),!h(w))return w},o(v,null,C)},A=function(T,x,C){var y=E(C,x-1),S=E(C,x+1);return b(V,T)&&!b(H,S)||b(H,T)&&!b(V,y)?"\\u"+N(I(T,0),16):T};v&&a({target:"JSON",stat:!0,arity:3,forced:W||G},{stringify:function(T,x,C){var y=f(arguments),S=o(W?P:v,null,y);return G&&typeof S=="string"?R(S,j,A):S}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(i,r,n){i("../internals/export")({target:"Number",stat:!0},{isNaN:function(a){return a!=a}})},{"../internals/export":259}],364:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/object-assign");a({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/symbol-constructor-detection"),o=i("../internals/fails"),l=i("../internals/object-get-own-property-symbols"),u=i("../internals/to-object");a({target:"Object",stat:!0,forced:!s||o(function(){l.f(1)})},{getOwnPropertySymbols:function(d){var c=l.f;return c?c(u(d)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/to-object"),o=i("../internals/object-keys");a({target:"Object",stat:!0,forced:i("../internals/fails")(function(){o(1)})},{keys:function(l){return o(s(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/object-to-array").values;a({target:"Object",stat:!0},{values:function(o){return s(o)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/function-call"),o=i("../internals/a-callable"),l=i("../internals/new-promise-capability"),u=i("../internals/perform"),d=i("../internals/iterate");a({target:"Promise",stat:!0,forced:i("../internals/promise-statics-incorrect-iteration")},{all:function(c){var h=this,f=l.f(h),p=f.resolve,g=f.reject,m=u(function(){var v=o(h.resolve),b=[],E=0,I=1;d(c,function(R){var N=E++,j=!1;I++,s(v,h,R).then(function(V){j||(j=!0,b[N]=V,--I||p(b))},g)}),--I||p(b)});return m.error&&g(m.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/is-pure"),o=i("../internals/promise-constructor-detection").CONSTRUCTOR,l=i("../internals/promise-native-constructor"),u=i("../internals/get-built-in"),d=i("../internals/is-callable"),c=i("../internals/define-built-in"),h=l&&l.prototype;if(a({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(p){return this.then(void 0,p)}}),!s&&d(l)){var f=u("Promise").prototype.catch;h.catch!==f&&c(h,"catch",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(i,r,n){var a,s,o,l=i("../internals/export"),u=i("../internals/is-pure"),d=i("../internals/engine-is-node"),c=i("../internals/global"),h=i("../internals/function-call"),f=i("../internals/define-built-in"),p=i("../internals/object-set-prototype-of"),g=i("../internals/set-to-string-tag"),m=i("../internals/set-species"),v=i("../internals/a-callable"),b=i("../internals/is-callable"),E=i("../internals/is-object"),I=i("../internals/an-instance"),R=i("../internals/species-constructor"),N=i("../internals/task").set,j=i("../internals/microtask"),V=i("../internals/host-report-errors"),H=i("../internals/perform"),W=i("../internals/queue"),G=i("../internals/internal-state"),P=i("../internals/promise-native-constructor"),A=i("../internals/promise-constructor-detection"),T=i("../internals/new-promise-capability"),x=A.CONSTRUCTOR,C=A.REJECTION_EVENT,y=A.SUBCLASSING,S=G.getterFor("Promise"),w=G.set,k=P&&P.prototype,M=P,O=k,F=c.TypeError,z=c.document,X=c.process,L=T.f,K=L,D=!!(z&&z.createEvent&&c.dispatchEvent),B=function(re){var ne;return!(!E(re)||!b(ne=re.then))&&ne},U=function(re,ne){var ue,le,pe,se=ne.value,ae=ne.state===1,de=ae?re.ok:re.fail,fe=re.resolve,me=re.reject,ge=re.domain;try{de?(ae||(ne.rejection===2&&ie(ne),ne.rejection=1),de===!0?ue=se:(ge&&ge.enter(),ue=de(se),ge&&(ge.exit(),pe=!0)),ue===re.promise?me(new F("Promise-chain cycle")):(le=B(ue))?h(le,ue,fe,me):fe(ue)):me(se)}catch(ye){ge&&!pe&&ge.exit(),me(ye)}},Q=function(re,ne){re.notified||(re.notified=!0,j(function(){for(var ue,le=re.reactions;ue=le.get();)U(ue,re);re.notified=!1,ne&&!re.rejection&&Z(re)}))},q=function(re,ne,ue){var le,pe;D?((le=z.createEvent("Event")).promise=ne,le.reason=ue,le.initEvent(re,!1,!0),c.dispatchEvent(le)):le={promise:ne,reason:ue},!C&&(pe=c["on"+re])?pe(le):re==="unhandledrejection"&&V("Unhandled promise rejection",ue)},Z=function(re){h(N,c,function(){var ne,ue=re.facade,le=re.value;if($(re)&&(ne=H(function(){d?X.emit("unhandledRejection",le,ue):q("unhandledrejection",ue,le)}),re.rejection=d||$(re)?2:1,ne.error))throw ne.value})},$=function(re){return re.rejection!==1&&!re.parent},ie=function(re){h(N,c,function(){var ne=re.facade;d?X.emit("rejectionHandled",ne):q("rejectionhandled",ne,re.value)})},te=function(re,ne,ue){return function(le){re(ne,le,ue)}},Y=function(re,ne,ue){re.done||(re.done=!0,ue&&(re=ue),re.value=ne,re.state=2,Q(re,!0))},ee=function(re,ne,ue){if(!re.done){re.done=!0,ue&&(re=ue);try{if(re.facade===ne)throw new F("Promise can't be resolved itself");var le=B(ne);le?j(function(){var pe={done:!1};try{h(le,ne,te(ee,pe,re),te(Y,pe,re))}catch(se){Y(pe,se,re)}}):(re.value=ne,re.state=1,Q(re,!1))}catch(pe){Y({done:!1},pe,re)}}};if(x&&(O=(M=function(re){I(this,O),v(re),h(a,this);var ne=S(this);try{re(te(ee,ne),te(Y,ne))}catch(ue){Y(ne,ue)}}).prototype,(a=function(re){w(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new W,rejection:!1,state:0,value:void 0})}).prototype=f(O,"then",function(re,ne){var ue=S(this),le=L(R(this,M));return ue.parent=!0,le.ok=!b(re)||re,le.fail=b(ne)&&ne,le.domain=d?X.domain:void 0,ue.state===0?ue.reactions.add(le):j(function(){U(le,ue)}),le.promise}),s=function(){var re=new a,ne=S(re);this.promise=re,this.resolve=te(ee,ne),this.reject=te(Y,ne)},T.f=L=function(re){return re===M||re===void 0?new s(re):K(re)},!u&&b(P)&&k!==Object.prototype)){o=k.then,y||f(k,"then",function(re,ne){var ue=this;return new M(function(le,pe){h(o,ue,le,pe)}).then(re,ne)},{unsafe:!0});try{delete k.constructor}catch{}p&&p(k,O)}l({global:!0,constructor:!0,wrap:!0,forced:x},{Promise:M}),g(M,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/is-pure"),o=i("../internals/promise-native-constructor"),l=i("../internals/fails"),u=i("../internals/get-built-in"),d=i("../internals/is-callable"),c=i("../internals/species-constructor"),h=i("../internals/promise-resolve"),f=i("../internals/define-built-in"),p=o&&o.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!o&&l(function(){p.finally.call({then:function(){}},function(){})})},{finally:function(m){var v=c(this,u("Promise")),b=d(m);return this.then(b?function(E){return h(v,m()).then(function(){return E})}:m,b?function(E){return h(v,m()).then(function(){throw E})}:m)}}),!s&&d(o)){var g=u("Promise").prototype.finally;p.finally!==g&&f(p,"finally",g,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(i,r,n){i("../modules/es.promise.constructor"),i("../modules/es.promise.all"),i("../modules/es.promise.catch"),i("../modules/es.promise.race"),i("../modules/es.promise.reject"),i("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/function-call"),o=i("../internals/a-callable"),l=i("../internals/new-promise-capability"),u=i("../internals/perform"),d=i("../internals/iterate");a({target:"Promise",stat:!0,forced:i("../internals/promise-statics-incorrect-iteration")},{race:function(c){var h=this,f=l.f(h),p=f.reject,g=u(function(){var m=o(h.resolve);d(c,function(v){s(m,h,v).then(f.resolve,p)})});return g.error&&p(g.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/function-call"),o=i("../internals/new-promise-capability");a({target:"Promise",stat:!0,forced:i("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var u=o.f(this);return s(u.reject,void 0,l),u.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/get-built-in"),o=i("../internals/is-pure"),l=i("../internals/promise-native-constructor"),u=i("../internals/promise-constructor-detection").CONSTRUCTOR,d=i("../internals/promise-resolve"),c=s("Promise"),h=o&&!u;a({target:"Promise",stat:!0,forced:o||u},{resolve:function(f){return d(h&&this===c?l:this,f)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/function-uncurry-this"),o=i("../internals/to-absolute-index"),l=RangeError,u=String.fromCharCode,d=String.fromCodePoint,c=s([].join);a({target:"String",stat:!0,arity:1,forced:!!d&&d.length!==1},{fromCodePoint:function(h){for(var f,p=[],g=arguments.length,m=0;g>m;){if(f=+arguments[m++],o(f,1114111)!==f)throw new l(f+" is not a valid code point");p[m]=f<65536?u(f):u(55296+((f-=65536)>>10),f%1024+56320)}return c(p,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/function-uncurry-this"),o=i("../internals/not-a-regexp"),l=i("../internals/require-object-coercible"),u=i("../internals/to-string"),d=i("../internals/correct-is-regexp-logic"),c=s("".indexOf);a({target:"String",proto:!0,forced:!d("includes")},{includes:function(h){return!!~c(u(l(this)),u(o(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(i,r,n){i("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/global"),o=i("../internals/function-call"),l=i("../internals/function-uncurry-this"),u=i("../internals/is-pure"),d=i("../internals/descriptors"),c=i("../internals/symbol-constructor-detection"),h=i("../internals/fails"),f=i("../internals/has-own-property"),p=i("../internals/object-is-prototype-of"),g=i("../internals/an-object"),m=i("../internals/to-indexed-object"),v=i("../internals/to-property-key"),b=i("../internals/to-string"),E=i("../internals/create-property-descriptor"),I=i("../internals/object-create"),R=i("../internals/object-keys"),N=i("../internals/object-get-own-property-names"),j=i("../internals/object-get-own-property-names-external"),V=i("../internals/object-get-own-property-symbols"),H=i("../internals/object-get-own-property-descriptor"),W=i("../internals/object-define-property"),G=i("../internals/object-define-properties"),P=i("../internals/object-property-is-enumerable"),A=i("../internals/define-built-in"),T=i("../internals/define-built-in-accessor"),x=i("../internals/shared"),C=i("../internals/shared-key"),y=i("../internals/hidden-keys"),S=i("../internals/uid"),w=i("../internals/well-known-symbol"),k=i("../internals/well-known-symbol-wrapped"),M=i("../internals/well-known-symbol-define"),O=i("../internals/symbol-define-to-primitive"),F=i("../internals/set-to-string-tag"),z=i("../internals/internal-state"),X=i("../internals/array-iteration").forEach,L=C("hidden"),K=z.set,D=z.getterFor("Symbol"),B=Object.prototype,U=s.Symbol,Q=U&&U.prototype,q=s.RangeError,Z=s.TypeError,$=s.QObject,ie=H.f,te=W.f,Y=j.f,ee=P.f,re=l([].push),ne=x("symbols"),ue=x("op-symbols"),le=x("wks"),pe=!$||!$.prototype||!$.prototype.findChild,se=function(Ie,Ce,Te){var Me=ie(B,Ce);Me&&delete B[Ce],te(Ie,Ce,Te),Me&&Ie!==B&&te(B,Ce,Me)},ae=d&&h(function(){return I(te({},"a",{get:function(){return te(this,"a",{value:7}).a}})).a!==7})?se:te,de=function(Ie,Ce){var Te=ne[Ie]=I(Q);return K(Te,{type:"Symbol",tag:Ie,description:Ce}),d||(Te.description=Ce),Te},fe=function(Ie,Ce,Te){Ie===B&&fe(ue,Ce,Te),g(Ie);var Me=v(Ce);return g(Te),f(ne,Me)?(Te.enumerable?(f(Ie,L)&&Ie[L][Me]&&(Ie[L][Me]=!1),Te=I(Te,{enumerable:E(0,!1)})):(f(Ie,L)||te(Ie,L,E(1,{})),Ie[L][Me]=!0),ae(Ie,Me,Te)):te(Ie,Me,Te)},me=function(Ie,Ce){g(Ie);var Te=m(Ce),Me=R(Te).concat(Se(Te));return X(Me,function(Pe){d&&!o(ge,Te,Pe)||fe(Ie,Pe,Te[Pe])}),Ie},ge=function(Ie){var Ce=v(Ie),Te=o(ee,this,Ce);return!(this===B&&f(ne,Ce)&&!f(ue,Ce))&&(!(Te||!f(this,Ce)||!f(ne,Ce)||f(this,L)&&this[L][Ce])||Te)},ye=function(Ie,Ce){var Te=m(Ie),Me=v(Ce);if(Te!==B||!f(ne,Me)||f(ue,Me)){var Pe=ie(Te,Me);return!Pe||!f(ne,Me)||f(Te,L)&&Te[L][Me]||(Pe.enumerable=!0),Pe}},_e=function(Ie){var Ce=Y(m(Ie)),Te=[];return X(Ce,function(Me){f(ne,Me)||f(y,Me)||re(Te,Me)}),Te},Se=function(Ie){var Ce=Ie===B,Te=Y(Ce?ue:m(Ie)),Me=[];return X(Te,function(Pe){!f(ne,Pe)||Ce&&!f(B,Pe)||re(Me,ne[Pe])}),Me};c||(A(Q=(U=function(){if(p(Q,this))throw new Z("Symbol is not a constructor");var Ie=arguments.length&&arguments[0]!==void 0?b(arguments[0]):void 0,Ce=S(Ie),Te=function(Me){this===B&&o(Te,ue,Me),f(this,L)&&f(this[L],Ce)&&(this[L][Ce]=!1);var Pe=E(1,Me);try{ae(this,Ce,Pe)}catch($e){if(!($e instanceof q))throw $e;se(this,Ce,Pe)}};return d&&pe&&ae(B,Ce,{configurable:!0,set:Te}),de(Ce,Ie)}).prototype,"toString",function(){return D(this).tag}),A(U,"withoutSetter",function(Ie){return de(S(Ie),Ie)}),P.f=ge,W.f=fe,G.f=me,H.f=ye,N.f=j.f=_e,V.f=Se,k.f=function(Ie){return de(w(Ie),Ie)},d&&(T(Q,"description",{configurable:!0,get:function(){return D(this).description}}),u||A(B,"propertyIsEnumerable",ge,{unsafe:!0}))),a({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:U}),X(R(le),function(Ie){M(Ie)}),a({target:"Symbol",stat:!0,forced:!c},{useSetter:function(){pe=!0},useSimple:function(){pe=!1}}),a({target:"Object",stat:!0,forced:!c,sham:!d},{create:function(Ie,Ce){return Ce===void 0?I(Ie):me(I(Ie),Ce)},defineProperty:fe,defineProperties:me,getOwnPropertyDescriptor:ye}),a({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:_e}),O(),F(U,"Symbol"),y[L]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/get-built-in"),o=i("../internals/has-own-property"),l=i("../internals/to-string"),u=i("../internals/shared"),d=i("../internals/symbol-registry-detection"),c=u("string-to-symbol-registry"),h=u("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!d},{for:function(f){var p=l(f);if(o(c,p))return c[p];var g=s("Symbol")(p);return c[p]=g,h[g]=p,g}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(i,r,n){i("../modules/es.symbol.constructor"),i("../modules/es.symbol.for"),i("../modules/es.symbol.key-for"),i("../modules/es.json.stringify"),i("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/has-own-property"),o=i("../internals/is-symbol"),l=i("../internals/try-to-string"),u=i("../internals/shared"),d=i("../internals/symbol-registry-detection"),c=u("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!d},{keyFor:function(h){if(!o(h))throw new TypeError(l(h)+" is not a symbol");if(s(c,h))return c[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(i,r,n){function a(s){return Object.prototype.toString.call(s)}n.isArray=function(s){return Array.isArray?Array.isArray(s):a(s)==="[object Array]"},n.isBoolean=function(s){return typeof s=="boolean"},n.isNull=function(s){return s===null},n.isNullOrUndefined=function(s){return s==null},n.isNumber=function(s){return typeof s=="number"},n.isString=function(s){return typeof s=="string"},n.isSymbol=function(s){return typeof s=="symbol"},n.isUndefined=function(s){return s===void 0},n.isRegExp=function(s){return a(s)==="[object RegExp]"},n.isObject=function(s){return typeof s=="object"&&s!==null},n.isDate=function(s){return a(s)==="[object Date]"},n.isError=function(s){return a(s)==="[object Error]"||s instanceof Error},n.isFunction=function(s){return typeof s=="function"},n.isPrimitive=function(s){return s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||typeof s=="symbol"||s===void 0},n.isBuffer=i("buffer").Buffer.isBuffer},{buffer:220}],384:[function(i,r,n){(function(a){(function(){var s=i("elliptic"),o=i("bn.js");r.exports=function(c){return new u(c)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function u(c){this.curveType=l[c],this.curveType||(this.curveType={name:c}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function d(c,h,f){Array.isArray(c)||(c=c.toArray());var p=new a(c);if(f&&p.length<f){var g=new a(f-p.length);g.fill(0),p=a.concat([g,p])}return h?p.toString(h):p}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,u.prototype.generateKeys=function(c,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(c,h)},u.prototype.computeSecret=function(c,h,f){return h=h||"utf8",a.isBuffer(c)||(c=new a(c,h)),d(this.curve.keyFromPublic(c).getPublic().mul(this.keys.getPrivate()).getX(),f,this.curveType.byteLength)},u.prototype.getPublicKey=function(c,h){var f=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(f[f.length-1]%2?f[0]=7:f[0]=6),d(f,c)},u.prototype.getPrivateKey=function(c){return d(this.keys.getPrivate(),c)},u.prototype.setPublicKey=function(c,h){return h=h||"utf8",a.isBuffer(c)||(c=new a(c,h)),this.keys._importPublic(c),this},u.prototype.setPrivateKey=function(c,h){h=h||"utf8",a.isBuffer(c)||(c=new a(c,h));var f=new o(c);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this}}).call(this)}).call(this,i("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(i,r,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],386:[function(i,r,n){var a=i("inherits"),s=i("md5.js"),o=i("ripemd160"),l=i("sha.js"),u=i("cipher-base");function d(c){u.call(this,"digest"),this._hash=c}a(d,u),d.prototype._update=function(c){this._hash.update(c)},d.prototype._final=function(){return this._hash.digest()},r.exports=function(c){return(c=c.toLowerCase())==="md5"?new s:c==="rmd160"||c==="ripemd160"?new o:new d(l(c))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(i,r,n){var a=i("md5.js");r.exports=function(s){return new a().update(s).digest()}},{"md5.js":450}],388:[function(i,r,n){var a=i("inherits"),s=i("./legacy"),o=i("cipher-base"),l=i("safe-buffer").Buffer,u=i("create-hash/md5"),d=i("ripemd160"),c=i("sha.js"),h=l.alloc(128);function f(p,g){o.call(this,"digest"),typeof g=="string"&&(g=l.from(g));var m=p==="sha512"||p==="sha384"?128:64;this._alg=p,this._key=g,g.length>m?g=(p==="rmd160"?new d:c(p)).update(g).digest():g.length<m&&(g=l.concat([g,h],m));for(var v=this._ipad=l.allocUnsafe(m),b=this._opad=l.allocUnsafe(m),E=0;E<m;E++)v[E]=54^g[E],b[E]=92^g[E];this._hash=p==="rmd160"?new d:c(p),this._hash.update(v)}a(f,o),f.prototype._update=function(p){this._hash.update(p)},f.prototype._final=function(){var p=this._hash.digest();return(this._alg==="rmd160"?new d:c(this._alg)).update(this._opad).update(p).digest()},r.exports=function(p,g){return(p=p.toLowerCase())==="rmd160"||p==="ripemd160"?new f("rmd160",g):p==="md5"?new s(u,g):new f(p,g)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(i,r,n){var a=i("inherits"),s=i("safe-buffer").Buffer,o=i("cipher-base"),l=s.alloc(128);function u(d,c){o.call(this,"digest"),typeof c=="string"&&(c=s.from(c)),this._alg=d,this._key=c,c.length>64?c=d(c):c.length<64&&(c=s.concat([c,l],64));for(var h=this._ipad=s.allocUnsafe(64),f=this._opad=s.allocUnsafe(64),p=0;p<64;p++)h[p]=54^c[p],f[p]=92^c[p];this._hash=[h]}a(u,o),u.prototype._update=function(d){this._hash.push(d)},u.prototype._final=function(){var d=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,d]))},r.exports=u},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(i,r,n){n.randomBytes=n.rng=n.pseudoRandomBytes=n.prng=i("randombytes"),n.createHash=n.Hash=i("create-hash"),n.createHmac=n.Hmac=i("create-hmac");var a=i("browserify-sign/algos"),s=Object.keys(a),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);n.getHashes=function(){return o};var l=i("pbkdf2");n.pbkdf2=l.pbkdf2,n.pbkdf2Sync=l.pbkdf2Sync;var u=i("browserify-cipher");n.Cipher=u.Cipher,n.createCipher=u.createCipher,n.Cipheriv=u.Cipheriv,n.createCipheriv=u.createCipheriv,n.Decipher=u.Decipher,n.createDecipher=u.createDecipher,n.Decipheriv=u.Decipheriv,n.createDecipheriv=u.createDecipheriv,n.getCiphers=u.getCiphers,n.listCiphers=u.listCiphers;var d=i("diffie-hellman");n.DiffieHellmanGroup=d.DiffieHellmanGroup,n.createDiffieHellmanGroup=d.createDiffieHellmanGroup,n.getDiffieHellman=d.getDiffieHellman,n.createDiffieHellman=d.createDiffieHellman,n.DiffieHellman=d.DiffieHellman;var c=i("browserify-sign");n.createSign=c.createSign,n.Sign=c.Sign,n.createVerify=c.createVerify,n.Verify=c.Verify,n.createECDH=i("create-ecdh");var h=i("public-encrypt");n.publicEncrypt=h.publicEncrypt,n.privateEncrypt=h.privateEncrypt,n.publicDecrypt=h.publicDecrypt,n.privateDecrypt=h.privateDecrypt;var f=i("randomfill");n.randomFill=f.randomFill,n.randomFillSync=f.randomFillSync,n.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},n.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(i,r,n){(function(a,s){typeof n=="object"&&r!==void 0?r.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs=s()})(void 0,function(){var a=6e4,s=36e5,o="millisecond",l="second",u="minute",d="hour",c="day",h="week",f="month",p="quarter",g="year",m="date",v="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(C){var y=["th","st","nd","rd"],S=C%100;return"["+C+(y[(S-20)%10]||y[S]||y[0])+"]"}},R=function(C,y,S){var w=String(C);return!w||w.length>=y?C:""+Array(y+1-w.length).join(S)+C},N={s:R,z:function(C){var y=-C.utcOffset(),S=Math.abs(y),w=Math.floor(S/60),k=S%60;return(y<=0?"+":"-")+R(w,2,"0")+":"+R(k,2,"0")},m:function C(y,S){if(y.date()<S.date())return-C(S,y);var w=12*(S.year()-y.year())+(S.month()-y.month()),k=y.clone().add(w,f),M=S-k<0,O=y.clone().add(w+(M?-1:1),f);return+(-(w+(S-k)/(M?k-O:O-k))||0)},a:function(C){return C<0?Math.ceil(C)||0:Math.floor(C)},p:function(C){return{M:f,y:g,w:h,d:c,D:m,h:d,m:u,s:l,ms:o,Q:p}[C]||String(C||"").toLowerCase().replace(/s$/,"")},u:function(C){return C===void 0}},j="en",V={};V[j]=I;var H="$isDayjsObject",W=function(C){return C instanceof T||!(!C||!C[H])},G=function C(y,S,w){var k;if(!y)return j;if(typeof y=="string"){var M=y.toLowerCase();V[M]&&(k=M),S&&(V[M]=S,k=M);var O=y.split("-");if(!k&&O.length>1)return C(O[0])}else{var F=y.name;V[F]=y,k=F}return!w&&k&&(j=k),k||!w&&j},P=function(C,y){if(W(C))return C.clone();var S=typeof y=="object"?y:{};return S.date=C,S.args=arguments,new T(S)},A=N;A.l=G,A.i=W,A.w=function(C,y){return P(C,{locale:y.$L,utc:y.$u,x:y.$x,$offset:y.$offset})};var T=function(){function C(S){this.$L=G(S.locale,null,!0),this.parse(S),this.$x=this.$x||S.x||{},this[H]=!0}var y=C.prototype;return y.parse=function(S){this.$d=function(w){var k=w.date,M=w.utc;if(k===null)return new Date(NaN);if(A.u(k))return new Date;if(k instanceof Date)return new Date(k);if(typeof k=="string"&&!/Z$/i.test(k)){var O=k.match(b);if(O){var F=O[2]-1||0,z=(O[7]||"0").substring(0,3);return M?new Date(Date.UTC(O[1],F,O[3]||1,O[4]||0,O[5]||0,O[6]||0,z)):new Date(O[1],F,O[3]||1,O[4]||0,O[5]||0,O[6]||0,z)}}return new Date(k)}(S),this.init()},y.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},y.$utils=function(){return A},y.isValid=function(){return this.$d.toString()!==v},y.isSame=function(S,w){var k=P(S);return this.startOf(w)<=k&&k<=this.endOf(w)},y.isAfter=function(S,w){return P(S)<this.startOf(w)},y.isBefore=function(S,w){return this.endOf(w)<P(S)},y.$g=function(S,w,k){return A.u(S)?this[w]:this.set(k,S)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(S,w){var k=this,M=!!A.u(w)||w,O=A.p(S),F=function(Q,q){var Z=A.w(k.$u?Date.UTC(k.$y,q,Q):new Date(k.$y,q,Q),k);return M?Z:Z.endOf(c)},z=function(Q,q){return A.w(k.toDate()[Q].apply(k.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(q)),k)},X=this.$W,L=this.$M,K=this.$D,D="set"+(this.$u?"UTC":"");switch(O){case g:return M?F(1,0):F(31,11);case f:return M?F(1,L):F(0,L+1);case h:var B=this.$locale().weekStart||0,U=(X<B?X+7:X)-B;return F(M?K-U:K+(6-U),L);case c:case m:return z(D+"Hours",0);case d:return z(D+"Minutes",1);case u:return z(D+"Seconds",2);case l:return z(D+"Milliseconds",3);default:return this.clone()}},y.endOf=function(S){return this.startOf(S,!1)},y.$set=function(S,w){var k,M=A.p(S),O="set"+(this.$u?"UTC":""),F=(k={},k[c]=O+"Date",k[m]=O+"Date",k[f]=O+"Month",k[g]=O+"FullYear",k[d]=O+"Hours",k[u]=O+"Minutes",k[l]=O+"Seconds",k[o]=O+"Milliseconds",k)[M],z=M===c?this.$D+(w-this.$W):w;if(M===f||M===g){var X=this.clone().set(m,1);X.$d[F](z),X.init(),this.$d=X.set(m,Math.min(this.$D,X.daysInMonth())).$d}else F&&this.$d[F](z);return this.init(),this},y.set=function(S,w){return this.clone().$set(S,w)},y.get=function(S){return this[A.p(S)]()},y.add=function(S,w){var k,M=this;S=Number(S);var O=A.p(w),F=function(L){var K=P(M);return A.w(K.date(K.date()+Math.round(L*S)),M)};if(O===f)return this.set(f,this.$M+S);if(O===g)return this.set(g,this.$y+S);if(O===c)return F(1);if(O===h)return F(7);var z=(k={},k[u]=a,k[d]=s,k[l]=1e3,k)[O]||1,X=this.$d.getTime()+S*z;return A.w(X,this)},y.subtract=function(S,w){return this.add(-1*S,w)},y.format=function(S){var w=this,k=this.$locale();if(!this.isValid())return k.invalidDate||v;var M=S||"YYYY-MM-DDTHH:mm:ssZ",O=A.z(this),F=this.$H,z=this.$m,X=this.$M,L=k.weekdays,K=k.months,D=k.meridiem,B=function(q,Z,$,ie){return q&&(q[Z]||q(w,M))||$[Z].slice(0,ie)},U=function(q){return A.s(F%12||12,q,"0")},Q=D||function(q,Z,$){var ie=q<12?"AM":"PM";return $?ie.toLowerCase():ie};return M.replace(E,function(q,Z){return Z||function($){switch($){case"YY":return String(w.$y).slice(-2);case"YYYY":return A.s(w.$y,4,"0");case"M":return X+1;case"MM":return A.s(X+1,2,"0");case"MMM":return B(k.monthsShort,X,K,3);case"MMMM":return B(K,X);case"D":return w.$D;case"DD":return A.s(w.$D,2,"0");case"d":return String(w.$W);case"dd":return B(k.weekdaysMin,w.$W,L,2);case"ddd":return B(k.weekdaysShort,w.$W,L,3);case"dddd":return L[w.$W];case"H":return String(F);case"HH":return A.s(F,2,"0");case"h":return U(1);case"hh":return U(2);case"a":return Q(F,z,!0);case"A":return Q(F,z,!1);case"m":return String(z);case"mm":return A.s(z,2,"0");case"s":return String(w.$s);case"ss":return A.s(w.$s,2,"0");case"SSS":return A.s(w.$ms,3,"0");case"Z":return O}return null}(q)||O.replace(":","")})},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(S,w,k){var M,O=this,F=A.p(w),z=P(S),X=(z.utcOffset()-this.utcOffset())*a,L=this-z,K=function(){return A.m(O,z)};switch(F){case g:M=K()/12;break;case f:M=K();break;case p:M=K()/3;break;case h:M=(L-X)/6048e5;break;case c:M=(L-X)/864e5;break;case d:M=L/s;break;case u:M=L/a;break;case l:M=L/1e3;break;default:M=L}return k?M:A.a(M)},y.daysInMonth=function(){return this.endOf(f).$D},y.$locale=function(){return V[this.$L]},y.locale=function(S,w){if(!S)return this.$L;var k=this.clone(),M=G(S,w,!0);return M&&(k.$L=M),k},y.clone=function(){return A.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},C}(),x=T.prototype;return P.prototype=x,[["$ms",o],["$s",l],["$m",u],["$H",d],["$W",c],["$M",f],["$y",g],["$D",m]].forEach(function(C){x[C[1]]=function(y){return this.$g(y,C[0],C[1])}}),P.extend=function(C,y){return C.$i||(C(y,T,P),C.$i=!0),P},P.locale=G,P.isDayjs=W,P.unix=function(C){return P(1e3*C)},P.en=V[j],P.Ls=V,P.p={},P})},{}],392:[function(i,r,n){(function(a,s){typeof n=="object"&&r!==void 0?r.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_customParseFormat=s()})(void 0,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,l=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,d={},c=function(b){return(b=+b)+(b>68?1900:2e3)},h=function(b){return function(E){this[b]=+E}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=function(E){if(!E||E==="Z")return 0;var I=E.match(/([+-]|\d\d)/g),R=60*I[1]+(+I[2]||0);return R===0?0:I[0]==="+"?-R:R}(b)}],p=function(b){var E=d[b];return E&&(E.indexOf?E:E.s.concat(E.f))},g=function(b,E){var I,R=d.meridiem;if(R){for(var N=1;N<=24;N+=1)if(b.indexOf(R(N,0,E))>-1){I=N>12;break}}else I=b===(E?"pm":"PM");return I},m={A:[u,function(b){this.afternoon=g(b,!1)}],a:[u,function(b){this.afternoon=g(b,!0)}],S:[/\d/,function(b){this.milliseconds=100*+b}],SS:[o,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[l,h("seconds")],ss:[l,h("seconds")],m:[l,h("minutes")],mm:[l,h("minutes")],H:[l,h("hours")],h:[l,h("hours")],HH:[l,h("hours")],hh:[l,h("hours")],D:[l,h("day")],DD:[o,h("day")],Do:[u,function(b){var E=d.ordinal,I=b.match(/\d+/);if(this.day=I[0],E)for(var R=1;R<=31;R+=1)E(R).replace(/\[|\]/g,"")===b&&(this.day=R)}],M:[l,h("month")],MM:[o,h("month")],MMM:[u,function(b){var E=p("months"),I=(p("monthsShort")||E.map(function(R){return R.slice(0,3)})).indexOf(b)+1;if(I<1)throw new Error;this.month=I%12||I}],MMMM:[u,function(b){var E=p("months").indexOf(b)+1;if(E<1)throw new Error;this.month=E%12||E}],Y:[/[+-]?\d+/,h("year")],YY:[o,function(b){this.year=c(b)}],YYYY:[/\d{4}/,h("year")],Z:f,ZZ:f};function v(b){var E,I;E=b,I=d&&d.formats;for(var R=(b=E.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(P,A,T){var x=T&&T.toUpperCase();return A||I[T]||a[T]||I[x].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(C,y,S){return y||S.slice(1)})})).match(s),N=R.length,j=0;j<N;j+=1){var V=R[j],H=m[V],W=H&&H[0],G=H&&H[1];R[j]=G?{regex:W,parser:G}:V.replace(/^\[|\]$/g,"")}return function(P){for(var A={},T=0,x=0;T<N;T+=1){var C=R[T];if(typeof C=="string")x+=C.length;else{var y=C.regex,S=C.parser,w=P.slice(x),k=y.exec(w)[0];S.call(A,k),P=P.replace(k,"")}}return function(M){var O=M.afternoon;if(O!==void 0){var F=M.hours;O?F<12&&(M.hours+=12):F===12&&(M.hours=0),delete M.afternoon}}(A),A}}return function(b,E,I){I.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(c=b.parseTwoDigitYear);var R=E.prototype,N=R.parse;R.parse=function(j){var V=j.date,H=j.utc,W=j.args;this.$u=H;var G=W[1];if(typeof G=="string"){var P=W[2]===!0,A=W[3]===!0,T=P||A,x=W[2];A&&(x=W[2]),d=this.$locale(),!P&&x&&(d=I.Ls[x]),this.$d=function(w,k,M){try{if(["x","X"].indexOf(k)>-1)return new Date((k==="X"?1e3:1)*w);var O=v(k)(w),F=O.year,z=O.month,X=O.day,L=O.hours,K=O.minutes,D=O.seconds,B=O.milliseconds,U=O.zone,Q=new Date,q=X||(F||z?1:Q.getDate()),Z=F||Q.getFullYear(),$=0;F&&!z||($=z>0?z-1:Q.getMonth());var ie=L||0,te=K||0,Y=D||0,ee=B||0;return U?new Date(Date.UTC(Z,$,q,ie,te,Y,ee+60*U.offset*1e3)):M?new Date(Date.UTC(Z,$,q,ie,te,Y,ee)):new Date(Z,$,q,ie,te,Y,ee)}catch{return new Date("")}}(V,G,H),this.init(),x&&x!==!0&&(this.$L=this.locale(x).$L),T&&V!=this.format(G)&&(this.$d=new Date("")),d={}}else if(G instanceof Array)for(var C=G.length,y=1;y<=C;y+=1){W[1]=G[y-1];var S=I.apply(this,W);if(S.isValid()){this.$d=S.$d,this.$L=S.$L,this.init();break}y===C&&(this.$d=new Date(""))}else N.call(this,j)}}})},{}],393:[function(i,r,n){(function(a,s){typeof n=="object"&&r!==void 0?r.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_utc=s()})(void 0,function(){var a="minute",s=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(l,u,d){var c=u.prototype;d.utc=function(b){var E={date:b,utc:!0,args:arguments};return new u(E)},c.utc=function(b){var E=d(this.toDate(),{locale:this.$L,utc:!0});return b?E.add(this.utcOffset(),a):E},c.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var h=c.parse;c.parse=function(b){b.utc&&(this.$u=!0),this.$utils().u(b.$offset)||(this.$offset=b.$offset),h.call(this,b)};var f=c.init;c.init=function(){if(this.$u){var b=this.$d;this.$y=b.getUTCFullYear(),this.$M=b.getUTCMonth(),this.$D=b.getUTCDate(),this.$W=b.getUTCDay(),this.$H=b.getUTCHours(),this.$m=b.getUTCMinutes(),this.$s=b.getUTCSeconds(),this.$ms=b.getUTCMilliseconds()}else f.call(this)};var p=c.utcOffset;c.utcOffset=function(b,E){var I=this.$utils().u;if(I(b))return this.$u?0:I(this.$offset)?p.call(this):this.$offset;if(typeof b=="string"&&(b=function(V){V===void 0&&(V="");var H=V.match(s);if(!H)return null;var W=(""+H[0]).match(o)||["-",0,0],G=W[0],P=60*+W[1]+ +W[2];return P===0?0:G==="+"?P:-P}(b))===null)return this;var R=Math.abs(b)<=16?60*b:b,N=this;if(E)return N.$offset=R,N.$u=b===0,N;if(b!==0){var j=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(N=this.local().add(R+j,a)).$offset=R,N.$x.$localOffset=j}else N=this.utc();return N};var g=c.format;c.format=function(b){var E=b||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,E)},c.valueOf=function(){var b=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*b},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var m=c.toDate;c.toDate=function(b){return b==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var v=c.diff;c.diff=function(b,E,I){if(b&&this.$u===b.$u)return v.call(this,b,E,I);var R=this.local(),N=d(b).local();return v.call(R,N,E,I)}}})},{}],394:[function(i,r,n){n.utils=i("./des/utils"),n.Cipher=i("./des/cipher"),n.DES=i("./des/des"),n.CBC=i("./des/cbc"),n.EDE=i("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(i,r,n){var a=i("minimalistic-assert"),s=i("inherits"),o={};function l(u){a.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var d=0;d<this.iv.length;d++)this.iv[d]=u[d]}n.instantiate=function(u){function d(p){u.call(this,p),this._cbcInit()}s(d,u);for(var c=Object.keys(o),h=0;h<c.length;h++){var f=c[h];d.prototype[f]=o[f]}return d.create=function(p){return new d(p)},d},o._cbcInit=function(){var u=new l(this.options.iv);this._cbcState=u},o._update=function(u,d,c,h){var f=this._cbcState,p=this.constructor.super_.prototype,g=f.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)g[m]^=u[d+m];for(p._update.call(this,g,0,c,h),m=0;m<this.blockSize;m++)g[m]=c[h+m]}else{for(p._update.call(this,u,d,c,h),m=0;m<this.blockSize;m++)c[h+m]^=g[m];for(m=0;m<this.blockSize;m++)g[m]=u[d+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(i,r,n){var a=i("minimalistic-assert");function s(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}r.exports=s,s.prototype._init=function(){},s.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},s.prototype._buffer=function(o,l){for(var u=Math.min(this.buffer.length-this.bufferOff,o.length-l),d=0;d<u;d++)this.buffer[this.bufferOff+d]=o[l+d];return this.bufferOff+=u,u},s.prototype._flushBuffer=function(o,l){return this._update(this.buffer,0,o,l),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(o){var l=0,u=0,d=(this.bufferOff+o.length)/this.blockSize|0,c=new Array(d*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(o,l),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(c,u)));for(var h=o.length-(o.length-l)%this.blockSize;l<h;l+=this.blockSize)this._update(o,l,c,u),u+=this.blockSize;for(;l<o.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=o[l];return c},s.prototype._updateDecrypt=function(o){for(var l=0,u=0,d=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,c=new Array(d*this.blockSize);d>0;d--)l+=this._buffer(o,l),u+=this._flushBuffer(c,u);return l+=this._buffer(o,l),c},s.prototype.final=function(o){var l,u;return o&&(l=this.update(o)),u=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(u):u},s.prototype._pad=function(o,l){if(l===0)return!1;for(;l<o.length;)o[l++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},s.prototype._unpad=function(o){return o},s.prototype._finalDecrypt=function(){a.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)}},{"minimalistic-assert":453}],397:[function(i,r,n){var a=i("minimalistic-assert"),s=i("inherits"),o=i("./utils"),l=i("./cipher");function u(){this.tmp=new Array(2),this.keys=null}function d(h){l.call(this,h);var f=new u;this._desState=f,this.deriveKeys(f,h.key)}s(d,l),r.exports=d,d.create=function(h){return new d(h)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];d.prototype.deriveKeys=function(h,f){h.keys=new Array(32),a.equal(f.length,this.blockSize,"Invalid key length");var p=o.readUInt32BE(f,0),g=o.readUInt32BE(f,4);o.pc1(p,g,h.tmp,0),p=h.tmp[0],g=h.tmp[1];for(var m=0;m<h.keys.length;m+=2){var v=c[m>>>1];p=o.r28shl(p,v),g=o.r28shl(g,v),o.pc2(p,g,h.keys,m)}},d.prototype._update=function(h,f,p,g){var m=this._desState,v=o.readUInt32BE(h,f),b=o.readUInt32BE(h,f+4);o.ip(v,b,m.tmp,0),v=m.tmp[0],b=m.tmp[1],this.type==="encrypt"?this._encrypt(m,v,b,m.tmp,0):this._decrypt(m,v,b,m.tmp,0),v=m.tmp[0],b=m.tmp[1],o.writeUInt32BE(p,v,g),o.writeUInt32BE(p,b,g+4)},d.prototype._pad=function(h,f){if(this.padding===!1)return!1;for(var p=h.length-f,g=f;g<h.length;g++)h[g]=p;return!0},d.prototype._unpad=function(h){if(this.padding===!1)return h;for(var f=h[h.length-1],p=h.length-f;p<h.length;p++)a.equal(h[p],f);return h.slice(0,h.length-f)},d.prototype._encrypt=function(h,f,p,g,m){for(var v=f,b=p,E=0;E<h.keys.length;E+=2){var I=h.keys[E],R=h.keys[E+1];o.expand(b,h.tmp,0),I^=h.tmp[0],R^=h.tmp[1];var N=o.substitute(I,R),j=b;b=(v^o.permute(N))>>>0,v=j}o.rip(b,v,g,m)},d.prototype._decrypt=function(h,f,p,g,m){for(var v=p,b=f,E=h.keys.length-2;E>=0;E-=2){var I=h.keys[E],R=h.keys[E+1];o.expand(v,h.tmp,0),I^=h.tmp[0],R^=h.tmp[1];var N=o.substitute(I,R),j=v;v=(b^o.permute(N))>>>0,b=j}o.rip(v,b,g,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(i,r,n){var a=i("minimalistic-assert"),s=i("inherits"),o=i("./cipher"),l=i("./des");function u(c,h){a.equal(h.length,24,"Invalid key length");var f=h.slice(0,8),p=h.slice(8,16),g=h.slice(16,24);this.ciphers=c==="encrypt"?[l.create({type:"encrypt",key:f}),l.create({type:"decrypt",key:p}),l.create({type:"encrypt",key:g})]:[l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:p}),l.create({type:"decrypt",key:f})]}function d(c){o.call(this,c);var h=new u(this.type,this.options.key);this._edeState=h}s(d,o),r.exports=d,d.create=function(c){return new d(c)},d.prototype._update=function(c,h,f,p){var g=this._edeState;g.ciphers[0]._update(c,h,f,p),g.ciphers[1]._update(f,p,f,p),g.ciphers[2]._update(f,p,f,p)},d.prototype._pad=l.prototype._pad,d.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(i,r,n){n.readUInt32BE=function(l,u){return(l[0+u]<<24|l[1+u]<<16|l[2+u]<<8|l[3+u])>>>0},n.writeUInt32BE=function(l,u,d){l[0+d]=u>>>24,l[1+d]=u>>>16&255,l[2+d]=u>>>8&255,l[3+d]=255&u},n.ip=function(l,u,d,c){for(var h=0,f=0,p=6;p>=0;p-=2){for(var g=0;g<=24;g+=8)h<<=1,h|=u>>>g+p&1;for(g=0;g<=24;g+=8)h<<=1,h|=l>>>g+p&1}for(p=6;p>=0;p-=2){for(g=1;g<=25;g+=8)f<<=1,f|=u>>>g+p&1;for(g=1;g<=25;g+=8)f<<=1,f|=l>>>g+p&1}d[c+0]=h>>>0,d[c+1]=f>>>0},n.rip=function(l,u,d,c){for(var h=0,f=0,p=0;p<4;p++)for(var g=24;g>=0;g-=8)h<<=1,h|=u>>>g+p&1,h<<=1,h|=l>>>g+p&1;for(p=4;p<8;p++)for(g=24;g>=0;g-=8)f<<=1,f|=u>>>g+p&1,f<<=1,f|=l>>>g+p&1;d[c+0]=h>>>0,d[c+1]=f>>>0},n.pc1=function(l,u,d,c){for(var h=0,f=0,p=7;p>=5;p--){for(var g=0;g<=24;g+=8)h<<=1,h|=u>>g+p&1;for(g=0;g<=24;g+=8)h<<=1,h|=l>>g+p&1}for(g=0;g<=24;g+=8)h<<=1,h|=u>>g+p&1;for(p=1;p<=3;p++){for(g=0;g<=24;g+=8)f<<=1,f|=u>>g+p&1;for(g=0;g<=24;g+=8)f<<=1,f|=l>>g+p&1}for(g=0;g<=24;g+=8)f<<=1,f|=l>>g+p&1;d[c+0]=h>>>0,d[c+1]=f>>>0},n.r28shl=function(l,u){return l<<u&268435455|l>>>28-u};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];n.pc2=function(l,u,d,c){for(var h=0,f=0,p=a.length>>>1,g=0;g<p;g++)h<<=1,h|=l>>>a[g]&1;for(g=p;g<a.length;g++)f<<=1,f|=u>>>a[g]&1;d[c+0]=h>>>0,d[c+1]=f>>>0},n.expand=function(l,u,d){var c=0,h=0;c=(1&l)<<5|l>>>27;for(var f=23;f>=15;f-=4)c<<=6,c|=l>>>f&63;for(f=11;f>=3;f-=4)h|=l>>>f&63,h<<=6;h|=(31&l)<<1|l>>>31,u[d+0]=c>>>0,u[d+1]=h>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];n.substitute=function(l,u){for(var d=0,c=0;c<4;c++)d<<=4,d|=s[64*c+(l>>>18-6*c&63)];for(c=0;c<4;c++)d<<=4,d|=s[256+64*c+(u>>>18-6*c&63)];return d>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];n.permute=function(l){for(var u=0,d=0;d<o.length;d++)u<<=1,u|=l>>>o[d]&1;return u>>>0},n.padSplit=function(l,u,d){for(var c=l.toString(2);c.length<u;)c="0"+c;for(var h=[],f=0;f<u;f+=d)h.push(c.slice(f,f+d));return h.join(" ")}},{}],400:[function(i,r,n){(function(a){(function(){var s=i("./lib/generatePrime"),o=i("./lib/primes.json"),l=i("./lib/dh"),u={binary:!0,hex:!0,base64:!0};n.DiffieHellmanGroup=n.createDiffieHellmanGroup=n.getDiffieHellman=function(d){var c=new a(o[d].prime,"hex"),h=new a(o[d].gen,"hex");return new l(c,h)},n.createDiffieHellman=n.DiffieHellman=function d(c,h,f,p){return a.isBuffer(h)||u[h]===void 0?d(c,"binary",h,f):(h=h||"binary",p=p||"binary",f=f||new a([2]),a.isBuffer(f)||(f=new a(f,p)),typeof c=="number"?new l(s(c,f),f,!0):(a.isBuffer(c)||(c=new a(c,h)),new l(c,f,!0)))}}).call(this)}).call(this,i("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(i,r,n){(function(a){(function(){var s=i("bn.js"),o=new(i("miller-rabin")),l=new s(24),u=new s(11),d=new s(10),c=new s(3),h=new s(7),f=i("./generatePrime"),p=i("randombytes");function g(I,R){return R=R||"utf8",a.isBuffer(I)||(I=new a(I,R)),this._pub=new s(I),this}function m(I,R){return R=R||"utf8",a.isBuffer(I)||(I=new a(I,R)),this._priv=new s(I),this}r.exports=b;var v={};function b(I,R,N){this.setGenerator(R),this.__prime=new s(I),this._prime=s.mont(this.__prime),this._primeLen=I.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,N?(this.setPublicKey=g,this.setPrivateKey=m):this._primeCode=8}function E(I,R){var N=new a(I.toArray());return R?N.toString(R):N}Object.defineProperty(b.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(I,R){var N=R.toString("hex"),j=[N,I.toString(16)].join("_");if(j in v)return v[j];var V,H=0;if(I.isEven()||!f.simpleSieve||!f.fermatTest(I)||!o.test(I))return H+=1,H+=N==="02"||N==="05"?8:4,v[j]=H,H;switch(o.test(I.shrn(1))||(H+=2),N){case"02":I.mod(l).cmp(u)&&(H+=8);break;case"05":(V=I.mod(d)).cmp(c)&&V.cmp(h)&&(H+=8);break;default:H+=4}return v[j]=H,H}(this.__prime,this.__gen)),this._primeCode}}),b.prototype.generateKeys=function(){return this._priv||(this._priv=new s(p(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},b.prototype.computeSecret=function(I){var R=(I=(I=new s(I)).toRed(this._prime)).redPow(this._priv).fromRed(),N=new a(R.toArray()),j=this.getPrime();if(N.length<j.length){var V=new a(j.length-N.length);V.fill(0),N=a.concat([V,N])}return N},b.prototype.getPublicKey=function(I){return E(this._pub,I)},b.prototype.getPrivateKey=function(I){return E(this._priv,I)},b.prototype.getPrime=function(I){return E(this.__prime,I)},b.prototype.getGenerator=function(I){return E(this._gen,I)},b.prototype.setGenerator=function(I,R){return R=R||"utf8",a.isBuffer(I)||(I=new a(I,R)),this.__gen=I,this._gen=new s(I),this}}).call(this)}).call(this,i("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(i,r,n){var a=i("randombytes");r.exports=I,I.simpleSieve=b,I.fermatTest=E;var s=i("bn.js"),o=new s(24),l=new(i("miller-rabin")),u=new s(1),d=new s(2),c=new s(5),h=(new s(16),new s(8),new s(10)),f=new s(3),p=(new s(7),new s(11)),g=new s(4),m=(new s(12),null);function v(){if(m!==null)return m;var R=[];R[0]=2;for(var N=1,j=3;j<1048576;j+=2){for(var V=Math.ceil(Math.sqrt(j)),H=0;H<N&&R[H]<=V&&j%R[H]!=0;H++);N!==H&&R[H]<=V||(R[N++]=j)}return m=R,R}function b(R){for(var N=v(),j=0;j<N.length;j++)if(R.modn(N[j])===0)return R.cmpn(N[j])===0;return!0}function E(R){var N=s.mont(R);return d.toRed(N).redPow(R.subn(1)).fromRed().cmpn(1)===0}function I(R,N){if(R<16)return new s(N===2||N===5?[140,123]:[140,39]);var j,V;for(N=new s(N);;){for(j=new s(a(Math.ceil(R/8)));j.bitLength()>R;)j.ishrn(1);if(j.isEven()&&j.iadd(u),j.testn(1)||j.iadd(d),N.cmp(d)){if(!N.cmp(c))for(;j.mod(h).cmp(f);)j.iadd(g)}else for(;j.mod(o).cmp(p);)j.iadd(g);if(b(V=j.shrn(1))&&b(j)&&E(V)&&E(j)&&l.test(V)&&l.test(j))return j}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(i,r,n){r.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(i,r,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],405:[function(i,r,n){var a=n;a.version=i("../package.json").version,a.utils=i("./elliptic/utils"),a.rand=i("brorand"),a.curve=i("./elliptic/curve"),a.curves=i("./elliptic/curves"),a.ec=i("./elliptic/ec"),a.eddsa=i("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(i,r,n){var a=i("bn.js"),s=i("../utils"),o=s.getNAF,l=s.getJSF,u=s.assert;function d(h,f){this.type=h,this.p=new a(f.p,16),this.red=f.prime?a.red(f.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=f.n&&new a(f.n,16),this.g=f.g&&this.pointFromJSON(f.g,f.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var p=this.n&&this.p.div(this.n);!p||p.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(h,f){this.curve=h,this.type=f,this.precomputed=null}r.exports=d,d.prototype.point=function(){throw new Error("Not implemented")},d.prototype.validate=function(){throw new Error("Not implemented")},d.prototype._fixedNafMul=function(h,f){u(h.precomputed);var p=h._getDoubles(),g=o(f,1,this._bitLength),m=(1<<p.step+1)-(p.step%2==0?2:1);m/=3;var v,b,E=[];for(v=0;v<g.length;v+=p.step){b=0;for(var I=v+p.step-1;I>=v;I--)b=(b<<1)+g[I];E.push(b)}for(var R=this.jpoint(null,null,null),N=this.jpoint(null,null,null),j=m;j>0;j--){for(v=0;v<E.length;v++)(b=E[v])===j?N=N.mixedAdd(p.points[v]):b===-j&&(N=N.mixedAdd(p.points[v].neg()));R=R.add(N)}return R.toP()},d.prototype._wnafMul=function(h,f){var p=4,g=h._getNAFPoints(p);p=g.wnd;for(var m=g.points,v=o(f,p,this._bitLength),b=this.jpoint(null,null,null),E=v.length-1;E>=0;E--){for(var I=0;E>=0&&v[E]===0;E--)I++;if(E>=0&&I++,b=b.dblp(I),E<0)break;var R=v[E];u(R!==0),b=h.type==="affine"?R>0?b.mixedAdd(m[R-1>>1]):b.mixedAdd(m[-R-1>>1].neg()):R>0?b.add(m[R-1>>1]):b.add(m[-R-1>>1].neg())}return h.type==="affine"?b.toP():b},d.prototype._wnafMulAdd=function(h,f,p,g,m){var v,b,E,I=this._wnafT1,R=this._wnafT2,N=this._wnafT3,j=0;for(v=0;v<g;v++){var V=(E=f[v])._getNAFPoints(h);I[v]=V.wnd,R[v]=V.points}for(v=g-1;v>=1;v-=2){var H=v-1,W=v;if(I[H]===1&&I[W]===1){var G=[f[H],null,null,f[W]];f[H].y.cmp(f[W].y)===0?(G[1]=f[H].add(f[W]),G[2]=f[H].toJ().mixedAdd(f[W].neg())):f[H].y.cmp(f[W].y.redNeg())===0?(G[1]=f[H].toJ().mixedAdd(f[W]),G[2]=f[H].add(f[W].neg())):(G[1]=f[H].toJ().mixedAdd(f[W]),G[2]=f[H].toJ().mixedAdd(f[W].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],A=l(p[H],p[W]);for(j=Math.max(A[0].length,j),N[H]=new Array(j),N[W]=new Array(j),b=0;b<j;b++){var T=0|A[0][b],x=0|A[1][b];N[H][b]=P[3*(T+1)+(x+1)],N[W][b]=0,R[H]=G}}else N[H]=o(p[H],I[H],this._bitLength),N[W]=o(p[W],I[W],this._bitLength),j=Math.max(N[H].length,j),j=Math.max(N[W].length,j)}var C=this.jpoint(null,null,null),y=this._wnafT4;for(v=j;v>=0;v--){for(var S=0;v>=0;){var w=!0;for(b=0;b<g;b++)y[b]=0|N[b][v],y[b]!==0&&(w=!1);if(!w)break;S++,v--}if(v>=0&&S++,C=C.dblp(S),v<0)break;for(b=0;b<g;b++){var k=y[b];k!==0&&(k>0?E=R[b][k-1>>1]:k<0&&(E=R[b][-k-1>>1].neg()),C=E.type==="affine"?C.mixedAdd(E):C.add(E))}}for(v=0;v<g;v++)R[v]=null;return m?C:C.toP()},d.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(h,f){h=s.toArray(h,f);var p=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*p)return h[0]===6?u(h[h.length-1]%2==0):h[0]===7&&u(h[h.length-1]%2==1),this.point(h.slice(1,1+p),h.slice(1+p,1+2*p));if((h[0]===2||h[0]===3)&&h.length-1===p)return this.pointFromX(h.slice(1,1+p),h[0]===3);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(h){return this.encode(h,!0)},c.prototype._encode=function(h){var f=this.curve.p.byteLength(),p=this.getX().toArray("be",f);return h?[this.getY().isEven()?2:3].concat(p):[4].concat(p,this.getY().toArray("be",f))},c.prototype.encode=function(h,f){return s.encode(this._encode(f),h)},c.prototype.precompute=function(h){if(this.precomputed)return this;var f={doubles:null,naf:null,beta:null};return f.naf=this._getNAFPoints(8),f.doubles=this._getDoubles(4,h),f.beta=this._getBeta(),this.precomputed=f,this},c.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var f=this.precomputed.doubles;return!!f&&f.points.length>=Math.ceil((h.bitLength()+1)/f.step)},c.prototype._getDoubles=function(h,f){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var p=[this],g=this,m=0;m<f;m+=h){for(var v=0;v<h;v++)g=g.dbl();p.push(g)}return{step:h,points:p}},c.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var f=[this],p=(1<<h)-1,g=p===1?null:this.dbl(),m=1;m<p;m++)f[m]=f[m-1].add(g);return{wnd:h,points:f}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(h){for(var f=this,p=0;p<h;p++)f=f.dbl();return f}},{"../utils":419,"bn.js":420}],407:[function(i,r,n){var a=i("../utils"),s=i("bn.js"),o=i("inherits"),l=i("./base"),u=a.assert;function d(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",h),this.a=new s(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function c(h,f,p,g,m){l.BasePoint.call(this,h,"projective"),f===null&&p===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(f,16),this.y=new s(p,16),this.z=g?new s(g,16):this.curve.one,this.t=m&&new s(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(d,l),r.exports=d,d.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},d.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},d.prototype.jpoint=function(h,f,p,g){return this.point(h,f,p,g)},d.prototype.pointFromX=function(h,f){(h=new s(h,16)).red||(h=h.toRed(this.red));var p=h.redSqr(),g=this.c2.redSub(this.a.redMul(p)),m=this.one.redSub(this.c2.redMul(this.d).redMul(p)),v=g.redMul(m.redInvm()),b=v.redSqrt();if(b.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var E=b.fromRed().isOdd();return(f&&!E||!f&&E)&&(b=b.redNeg()),this.point(h,b)},d.prototype.pointFromY=function(h,f){(h=new s(h,16)).red||(h=h.toRed(this.red));var p=h.redSqr(),g=p.redSub(this.c2),m=p.redMul(this.d).redMul(this.c2).redSub(this.a),v=g.redMul(m.redInvm());if(v.cmp(this.zero)===0){if(f)throw new Error("invalid point");return this.point(this.zero,h)}var b=v.redSqrt();if(b.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return b.fromRed().isOdd()!==f&&(b=b.redNeg()),this.point(b,h)},d.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var f=h.x.redSqr(),p=h.y.redSqr(),g=f.redMul(this.a).redAdd(p),m=this.c2.redMul(this.one.redAdd(this.d.redMul(f).redMul(p)));return g.cmp(m)===0},o(c,l.BasePoint),d.prototype.pointFromJSON=function(h){return c.fromJSON(this,h)},d.prototype.point=function(h,f,p,g){return new c(this,h,f,p,g)},c.fromJSON=function(h,f){return new c(h,f[0],f[1],f[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},c.prototype._extDbl=function(){var h=this.x.redSqr(),f=this.y.redSqr(),p=this.z.redSqr();p=p.redIAdd(p);var g=this.curve._mulA(h),m=this.x.redAdd(this.y).redSqr().redISub(h).redISub(f),v=g.redAdd(f),b=v.redSub(p),E=g.redSub(f),I=m.redMul(b),R=v.redMul(E),N=m.redMul(E),j=b.redMul(v);return this.curve.point(I,R,j,N)},c.prototype._projDbl=function(){var h,f,p,g,m,v,b=this.x.redAdd(this.y).redSqr(),E=this.x.redSqr(),I=this.y.redSqr();if(this.curve.twisted){var R=(g=this.curve._mulA(E)).redAdd(I);this.zOne?(h=b.redSub(E).redSub(I).redMul(R.redSub(this.curve.two)),f=R.redMul(g.redSub(I)),p=R.redSqr().redSub(R).redSub(R)):(m=this.z.redSqr(),v=R.redSub(m).redISub(m),h=b.redSub(E).redISub(I).redMul(v),f=R.redMul(g.redSub(I)),p=R.redMul(v))}else g=E.redAdd(I),m=this.curve._mulC(this.z).redSqr(),v=g.redSub(m).redSub(m),h=this.curve._mulC(b.redISub(g)).redMul(v),f=this.curve._mulC(g).redMul(E.redISub(I)),p=g.redMul(v);return this.curve.point(h,f,p)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(h){var f=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),p=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),g=this.t.redMul(this.curve.dd).redMul(h.t),m=this.z.redMul(h.z.redAdd(h.z)),v=p.redSub(f),b=m.redSub(g),E=m.redAdd(g),I=p.redAdd(f),R=v.redMul(b),N=E.redMul(I),j=v.redMul(I),V=b.redMul(E);return this.curve.point(R,N,V,j)},c.prototype._projAdd=function(h){var f,p,g=this.z.redMul(h.z),m=g.redSqr(),v=this.x.redMul(h.x),b=this.y.redMul(h.y),E=this.curve.d.redMul(v).redMul(b),I=m.redSub(E),R=m.redAdd(E),N=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(v).redISub(b),j=g.redMul(I).redMul(N);return this.curve.twisted?(f=g.redMul(R).redMul(b.redSub(this.curve._mulA(v))),p=I.redMul(R)):(f=g.redMul(R).redMul(b.redSub(v)),p=this.curve._mulC(I).redMul(R)),this.curve.point(j,f,p)},c.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},c.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},c.prototype.mulAdd=function(h,f,p){return this.curve._wnafMulAdd(1,[this,f],[h,p],2,!1)},c.prototype.jmulAdd=function(h,f,p){return this.curve._wnafMulAdd(1,[this,f],[h,p],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},c.prototype.eqXToP=function(h){var f=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(f)===0)return!0;for(var p=h.clone(),g=this.curve.redN.redMul(this.z);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(g),this.x.cmp(f)===0)return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(i,r,n){var a=n;a.base=i("./base"),a.short=i("./short"),a.mont=i("./mont"),a.edwards=i("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(i,r,n){var a=i("bn.js"),s=i("inherits"),o=i("./base"),l=i("../utils");function u(c){o.call(this,"mont",c),this.a=new a(c.a,16).toRed(this.red),this.b=new a(c.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function d(c,h,f){o.BasePoint.call(this,c,"projective"),h===null&&f===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(h,16),this.z=new a(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(u,o),r.exports=u,u.prototype.validate=function(c){var h=c.normalize().x,f=h.redSqr(),p=f.redMul(h).redAdd(f.redMul(this.a)).redAdd(h);return p.redSqrt().redSqr().cmp(p)===0},s(d,o.BasePoint),u.prototype.decodePoint=function(c,h){return this.point(l.toArray(c,h),1)},u.prototype.point=function(c,h){return new d(this,c,h)},u.prototype.pointFromJSON=function(c){return d.fromJSON(this,c)},d.prototype.precompute=function(){},d.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},d.fromJSON=function(c,h){return new d(c,h[0],h[1]||c.one)},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0},d.prototype.dbl=function(){var c=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),f=c.redSub(h),p=c.redMul(h),g=f.redMul(h.redAdd(this.curve.a24.redMul(f)));return this.curve.point(p,g)},d.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.diffAdd=function(c,h){var f=this.x.redAdd(this.z),p=this.x.redSub(this.z),g=c.x.redAdd(c.z),m=c.x.redSub(c.z).redMul(f),v=g.redMul(p),b=h.z.redMul(m.redAdd(v).redSqr()),E=h.x.redMul(m.redISub(v).redSqr());return this.curve.point(b,E)},d.prototype.mul=function(c){for(var h=c.clone(),f=this,p=this.curve.point(null,null),g=[];h.cmpn(0)!==0;h.iushrn(1))g.push(h.andln(1));for(var m=g.length-1;m>=0;m--)g[m]===0?(f=f.diffAdd(p,this),p=p.dbl()):(p=f.diffAdd(p,this),f=f.dbl());return p},d.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},d.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(i,r,n){var a=i("../utils"),s=i("bn.js"),o=i("inherits"),l=i("./base"),u=a.assert;function d(f){l.call(this,"short",f),this.a=new s(f.a,16).toRed(this.red),this.b=new s(f.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(f),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(f,p,g,m){l.BasePoint.call(this,f,"affine"),p===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(p,16),this.y=new s(g,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(f,p,g,m){l.BasePoint.call(this,f,"jacobian"),p===null&&g===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(p,16),this.y=new s(g,16),this.z=new s(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(d,l),r.exports=d,d.prototype._getEndomorphism=function(f){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var p,g;if(f.beta)p=new s(f.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);p=(p=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(f.lambda)g=new s(f.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(p))===0?g=v[0]:(g=v[1],u(this.g.mul(g).x.cmp(this.g.x.redMul(p))===0))}return{beta:p,lambda:g,basis:f.basis?f.basis.map(function(b){return{a:new s(b.a,16),b:new s(b.b,16)}}):this._getEndoBasis(g)}}},d.prototype._getEndoRoots=function(f){var p=f===this.p?this.red:s.mont(f),g=new s(2).toRed(p).redInvm(),m=g.redNeg(),v=new s(3).toRed(p).redNeg().redSqrt().redMul(g);return[m.redAdd(v).fromRed(),m.redSub(v).fromRed()]},d.prototype._getEndoBasis=function(f){for(var p,g,m,v,b,E,I,R,N,j=this.n.ushrn(Math.floor(this.n.bitLength()/2)),V=f,H=this.n.clone(),W=new s(1),G=new s(0),P=new s(0),A=new s(1),T=0;V.cmpn(0)!==0;){var x=H.div(V);R=H.sub(x.mul(V)),N=P.sub(x.mul(W));var C=A.sub(x.mul(G));if(!m&&R.cmp(j)<0)p=I.neg(),g=W,m=R.neg(),v=N;else if(m&&++T==2)break;I=R,H=V,V=R,P=W,W=N,A=G,G=C}b=R.neg(),E=N;var y=m.sqr().add(v.sqr());return b.sqr().add(E.sqr()).cmp(y)>=0&&(b=p,E=g),m.negative&&(m=m.neg(),v=v.neg()),b.negative&&(b=b.neg(),E=E.neg()),[{a:m,b:v},{a:b,b:E}]},d.prototype._endoSplit=function(f){var p=this.endo.basis,g=p[0],m=p[1],v=m.b.mul(f).divRound(this.n),b=g.b.neg().mul(f).divRound(this.n),E=v.mul(g.a),I=b.mul(m.a),R=v.mul(g.b),N=b.mul(m.b);return{k1:f.sub(E).sub(I),k2:R.add(N).neg()}},d.prototype.pointFromX=function(f,p){(f=new s(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr().redMul(f).redIAdd(f.redMul(this.a)).redIAdd(this.b),m=g.redSqrt();if(m.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var v=m.fromRed().isOdd();return(p&&!v||!p&&v)&&(m=m.redNeg()),this.point(f,m)},d.prototype.validate=function(f){if(f.inf)return!0;var p=f.x,g=f.y,m=this.a.redMul(p),v=p.redSqr().redMul(p).redIAdd(m).redIAdd(this.b);return g.redSqr().redISub(v).cmpn(0)===0},d.prototype._endoWnafMulAdd=function(f,p,g){for(var m=this._endoWnafT1,v=this._endoWnafT2,b=0;b<f.length;b++){var E=this._endoSplit(p[b]),I=f[b],R=I._getBeta();E.k1.negative&&(E.k1.ineg(),I=I.neg(!0)),E.k2.negative&&(E.k2.ineg(),R=R.neg(!0)),m[2*b]=I,m[2*b+1]=R,v[2*b]=E.k1,v[2*b+1]=E.k2}for(var N=this._wnafMulAdd(1,m,v,2*b,g),j=0;j<2*b;j++)m[j]=null,v[j]=null;return N},o(c,l.BasePoint),d.prototype.point=function(f,p,g){return new c(this,f,p,g)},d.prototype.pointFromJSON=function(f,p){return c.fromJSON(this,f,p)},c.prototype._getBeta=function(){if(this.curve.endo){var f=this.precomputed;if(f&&f.beta)return f.beta;var p=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(f){var g=this.curve,m=function(v){return g.point(v.x.redMul(g.endo.beta),v.y)};f.beta=p,p.precomputed={beta:null,naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(m)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(m)}}}return p}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(f,p,g){typeof p=="string"&&(p=JSON.parse(p));var m=f.point(p[0],p[1],g);if(!p[2])return m;function v(E){return f.point(E[0],E[1],g)}var b=p[2];return m.precomputed={beta:null,doubles:b.doubles&&{step:b.doubles.step,points:[m].concat(b.doubles.points.map(v))},naf:b.naf&&{wnd:b.naf.wnd,points:[m].concat(b.naf.points.map(v))}},m},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(f){if(this.inf)return f;if(f.inf)return this;if(this.eq(f))return this.dbl();if(this.neg().eq(f))return this.curve.point(null,null);if(this.x.cmp(f.x)===0)return this.curve.point(null,null);var p=this.y.redSub(f.y);p.cmpn(0)!==0&&(p=p.redMul(this.x.redSub(f.x).redInvm()));var g=p.redSqr().redISub(this.x).redISub(f.x),m=p.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,m)},c.prototype.dbl=function(){if(this.inf)return this;var f=this.y.redAdd(this.y);if(f.cmpn(0)===0)return this.curve.point(null,null);var p=this.curve.a,g=this.x.redSqr(),m=f.redInvm(),v=g.redAdd(g).redIAdd(g).redIAdd(p).redMul(m),b=v.redSqr().redISub(this.x.redAdd(this.x)),E=v.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,E)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(f){return f=new s(f,16),this.isInfinity()?this:this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve.endo?this.curve._endoWnafMulAdd([this],[f]):this.curve._wnafMul(this,f)},c.prototype.mulAdd=function(f,p,g){var m=[this,p],v=[f,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,v):this.curve._wnafMulAdd(1,m,v,2)},c.prototype.jmulAdd=function(f,p,g){var m=[this,p],v=[f,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,v,!0):this.curve._wnafMulAdd(1,m,v,2,!0)},c.prototype.eq=function(f){return this===f||this.inf===f.inf&&(this.inf||this.x.cmp(f.x)===0&&this.y.cmp(f.y)===0)},c.prototype.neg=function(f){if(this.inf)return this;var p=this.curve.point(this.x,this.y.redNeg());if(f&&this.precomputed){var g=this.precomputed,m=function(v){return v.neg()};p.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(m)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(m)}}}return p},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(h,l.BasePoint),d.prototype.jpoint=function(f,p,g){return new h(this,f,p,g)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var f=this.z.redInvm(),p=f.redSqr(),g=this.x.redMul(p),m=this.y.redMul(p).redMul(f);return this.curve.point(g,m)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var p=f.z.redSqr(),g=this.z.redSqr(),m=this.x.redMul(p),v=f.x.redMul(g),b=this.y.redMul(p.redMul(f.z)),E=f.y.redMul(g.redMul(this.z)),I=m.redSub(v),R=b.redSub(E);if(I.cmpn(0)===0)return R.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var N=I.redSqr(),j=N.redMul(I),V=m.redMul(N),H=R.redSqr().redIAdd(j).redISub(V).redISub(V),W=R.redMul(V.redISub(H)).redISub(b.redMul(j)),G=this.z.redMul(f.z).redMul(I);return this.curve.jpoint(H,W,G)},h.prototype.mixedAdd=function(f){if(this.isInfinity())return f.toJ();if(f.isInfinity())return this;var p=this.z.redSqr(),g=this.x,m=f.x.redMul(p),v=this.y,b=f.y.redMul(p).redMul(this.z),E=g.redSub(m),I=v.redSub(b);if(E.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=E.redSqr(),N=R.redMul(E),j=g.redMul(R),V=I.redSqr().redIAdd(N).redISub(j).redISub(j),H=I.redMul(j.redISub(V)).redISub(v.redMul(N)),W=this.z.redMul(E);return this.curve.jpoint(V,H,W)},h.prototype.dblp=function(f){if(f===0)return this;if(this.isInfinity())return this;if(!f)return this.dbl();var p;if(this.curve.zeroA||this.curve.threeA){var g=this;for(p=0;p<f;p++)g=g.dbl();return g}var m=this.curve.a,v=this.curve.tinv,b=this.x,E=this.y,I=this.z,R=I.redSqr().redSqr(),N=E.redAdd(E);for(p=0;p<f;p++){var j=b.redSqr(),V=N.redSqr(),H=V.redSqr(),W=j.redAdd(j).redIAdd(j).redIAdd(m.redMul(R)),G=b.redMul(V),P=W.redSqr().redISub(G.redAdd(G)),A=G.redISub(P),T=W.redMul(A);T=T.redIAdd(T).redISub(H);var x=N.redMul(I);p+1<f&&(R=R.redMul(H)),b=P,I=x,N=T}return this.curve.jpoint(b,N.redMul(v),I)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var f,p,g;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),b=v.redSqr(),E=this.x.redAdd(v).redSqr().redISub(m).redISub(b);E=E.redIAdd(E);var I=m.redAdd(m).redIAdd(m),R=I.redSqr().redISub(E).redISub(E),N=b.redIAdd(b);N=(N=N.redIAdd(N)).redIAdd(N),f=R,p=I.redMul(E.redISub(R)).redISub(N),g=this.y.redAdd(this.y)}else{var j=this.x.redSqr(),V=this.y.redSqr(),H=V.redSqr(),W=this.x.redAdd(V).redSqr().redISub(j).redISub(H);W=W.redIAdd(W);var G=j.redAdd(j).redIAdd(j),P=G.redSqr(),A=H.redIAdd(H);A=(A=A.redIAdd(A)).redIAdd(A),f=P.redISub(W).redISub(W),p=G.redMul(W.redISub(f)).redISub(A),g=(g=this.y.redMul(this.z)).redIAdd(g)}return this.curve.jpoint(f,p,g)},h.prototype._threeDbl=function(){var f,p,g;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),b=v.redSqr(),E=this.x.redAdd(v).redSqr().redISub(m).redISub(b);E=E.redIAdd(E);var I=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),R=I.redSqr().redISub(E).redISub(E);f=R;var N=b.redIAdd(b);N=(N=N.redIAdd(N)).redIAdd(N),p=I.redMul(E.redISub(R)).redISub(N),g=this.y.redAdd(this.y)}else{var j=this.z.redSqr(),V=this.y.redSqr(),H=this.x.redMul(V),W=this.x.redSub(j).redMul(this.x.redAdd(j));W=W.redAdd(W).redIAdd(W);var G=H.redIAdd(H),P=(G=G.redIAdd(G)).redAdd(G);f=W.redSqr().redISub(P),g=this.y.redAdd(this.z).redSqr().redISub(V).redISub(j);var A=V.redSqr();A=(A=(A=A.redIAdd(A)).redIAdd(A)).redIAdd(A),p=W.redMul(G.redISub(f)).redISub(A)}return this.curve.jpoint(f,p,g)},h.prototype._dbl=function(){var f=this.curve.a,p=this.x,g=this.y,m=this.z,v=m.redSqr().redSqr(),b=p.redSqr(),E=g.redSqr(),I=b.redAdd(b).redIAdd(b).redIAdd(f.redMul(v)),R=p.redAdd(p),N=(R=R.redIAdd(R)).redMul(E),j=I.redSqr().redISub(N.redAdd(N)),V=N.redISub(j),H=E.redSqr();H=(H=(H=H.redIAdd(H)).redIAdd(H)).redIAdd(H);var W=I.redMul(V).redISub(H),G=g.redAdd(g).redMul(m);return this.curve.jpoint(j,W,G)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var f=this.x.redSqr(),p=this.y.redSqr(),g=this.z.redSqr(),m=p.redSqr(),v=f.redAdd(f).redIAdd(f),b=v.redSqr(),E=this.x.redAdd(p).redSqr().redISub(f).redISub(m),I=(E=(E=(E=E.redIAdd(E)).redAdd(E).redIAdd(E)).redISub(b)).redSqr(),R=m.redIAdd(m);R=(R=(R=R.redIAdd(R)).redIAdd(R)).redIAdd(R);var N=v.redIAdd(E).redSqr().redISub(b).redISub(I).redISub(R),j=p.redMul(N);j=(j=j.redIAdd(j)).redIAdd(j);var V=this.x.redMul(I).redISub(j);V=(V=V.redIAdd(V)).redIAdd(V);var H=this.y.redMul(N.redMul(R.redISub(N)).redISub(E.redMul(I)));H=(H=(H=H.redIAdd(H)).redIAdd(H)).redIAdd(H);var W=this.z.redAdd(E).redSqr().redISub(g).redISub(I);return this.curve.jpoint(V,H,W)},h.prototype.mul=function(f,p){return f=new s(f,p),this.curve._wnafMul(this,f)},h.prototype.eq=function(f){if(f.type==="affine")return this.eq(f.toJ());if(this===f)return!0;var p=this.z.redSqr(),g=f.z.redSqr();if(this.x.redMul(g).redISub(f.x.redMul(p)).cmpn(0)!==0)return!1;var m=p.redMul(this.z),v=g.redMul(f.z);return this.y.redMul(v).redISub(f.y.redMul(m)).cmpn(0)===0},h.prototype.eqXToP=function(f){var p=this.z.redSqr(),g=f.toRed(this.curve.red).redMul(p);if(this.x.cmp(g)===0)return!0;for(var m=f.clone(),v=this.curve.redN.redMul(p);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(v),this.x.cmp(g)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(i,r,n){var a,s=n,o=i("hash.js"),l=i("./curve"),u=i("./utils").assert;function d(h){h.type==="short"?this.curve=new l.short(h):h.type==="edwards"?this.curve=new l.edwards(h):this.curve=new l.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,u(this.g.validate(),"Invalid curve"),u(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(h,f){Object.defineProperty(s,h,{configurable:!0,enumerable:!0,get:function(){var p=new d(f);return Object.defineProperty(s,h,{configurable:!0,enumerable:!0,value:p}),p}})}s.PresetCurve=d,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{a=i("./precomputed/secp256k1")}catch{a=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(i,r,n){var a=i("bn.js"),s=i("hmac-drbg"),o=i("../utils"),l=i("../curves"),u=i("brorand"),d=o.assert,c=i("./key"),h=i("./signature");function f(p){if(!(this instanceof f))return new f(p);typeof p=="string"&&(d(Object.prototype.hasOwnProperty.call(l,p),"Unknown curve "+p),p=l[p]),p instanceof l.PresetCurve&&(p={curve:p}),this.curve=p.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=p.curve.g,this.g.precompute(p.curve.n.bitLength()+1),this.hash=p.hash||p.curve.hash}r.exports=f,f.prototype.keyPair=function(p){return new c(this,p)},f.prototype.keyFromPrivate=function(p,g){return c.fromPrivate(this,p,g)},f.prototype.keyFromPublic=function(p,g){return c.fromPublic(this,p,g)},f.prototype.genKeyPair=function(p){p||(p={});for(var g=new s({hash:this.hash,pers:p.pers,persEnc:p.persEnc||"utf8",entropy:p.entropy||u(this.hash.hmacStrength),entropyEnc:p.entropy&&p.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),v=this.n.sub(new a(2));;){var b=new a(g.generate(m));if(!(b.cmp(v)>0))return b.iaddn(1),this.keyFromPrivate(b)}},f.prototype._truncateToN=function(p,g){var m=8*p.byteLength()-this.n.bitLength();return m>0&&(p=p.ushrn(m)),!g&&p.cmp(this.n)>=0?p.sub(this.n):p},f.prototype.sign=function(p,g,m,v){typeof m=="object"&&(v=m,m=null),v||(v={}),g=this.keyFromPrivate(g,m),p=this._truncateToN(new a(p,16));for(var b=this.n.byteLength(),E=g.getPrivate().toArray("be",b),I=p.toArray("be",b),R=new s({hash:this.hash,entropy:E,nonce:I,pers:v.pers,persEnc:v.persEnc||"utf8"}),N=this.n.sub(new a(1)),j=0;;j++){var V=v.k?v.k(j):new a(R.generate(this.n.byteLength()));if(!((V=this._truncateToN(V,!0)).cmpn(1)<=0||V.cmp(N)>=0)){var H=this.g.mul(V);if(!H.isInfinity()){var W=H.getX(),G=W.umod(this.n);if(G.cmpn(0)!==0){var P=V.invm(this.n).mul(G.mul(g.getPrivate()).iadd(p));if((P=P.umod(this.n)).cmpn(0)!==0){var A=(H.getY().isOdd()?1:0)|(W.cmp(G)!==0?2:0);return v.canonical&&P.cmp(this.nh)>0&&(P=this.n.sub(P),A^=1),new h({r:G,s:P,recoveryParam:A})}}}}}},f.prototype.verify=function(p,g,m,v){p=this._truncateToN(new a(p,16)),m=this.keyFromPublic(m,v);var b=(g=new h(g,"hex")).r,E=g.s;if(b.cmpn(1)<0||b.cmp(this.n)>=0||E.cmpn(1)<0||E.cmp(this.n)>=0)return!1;var I,R=E.invm(this.n),N=R.mul(p).umod(this.n),j=R.mul(b).umod(this.n);return this.curve._maxwellTrick?!(I=this.g.jmulAdd(N,m.getPublic(),j)).isInfinity()&&I.eqXToP(b):!(I=this.g.mulAdd(N,m.getPublic(),j)).isInfinity()&&I.getX().umod(this.n).cmp(b)===0},f.prototype.recoverPubKey=function(p,g,m,v){d((3&m)===m,"The recovery param is more than two bits"),g=new h(g,v);var b=this.n,E=new a(p),I=g.r,R=g.s,N=1&m,j=m>>1;if(I.cmp(this.curve.p.umod(this.curve.n))>=0&&j)throw new Error("Unable to find sencond key candinate");I=j?this.curve.pointFromX(I.add(this.curve.n),N):this.curve.pointFromX(I,N);var V=g.r.invm(b),H=b.sub(E).mul(V).umod(b),W=R.mul(V).umod(b);return this.g.mulAdd(H,I,W)},f.prototype.getKeyRecoveryParam=function(p,g,m,v){if((g=new h(g,v)).recoveryParam!==null)return g.recoveryParam;for(var b=0;b<4;b++){var E;try{E=this.recoverPubKey(p,g,b)}catch{continue}if(E.eq(m))return b}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(i,r,n){var a=i("bn.js"),s=i("../utils").assert;function o(l,u){this.ec=l,this.priv=null,this.pub=null,u.priv&&this._importPrivate(u.priv,u.privEnc),u.pub&&this._importPublic(u.pub,u.pubEnc)}r.exports=o,o.fromPublic=function(l,u,d){return u instanceof o?u:new o(l,{pub:u,pubEnc:d})},o.fromPrivate=function(l,u,d){return u instanceof o?u:new o(l,{priv:u,privEnc:d})},o.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(l,u){return typeof l=="string"&&(u=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),u?this.pub.encode(u,l):this.pub},o.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(l,u){this.priv=new a(l,u||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(l,u){if(l.x||l.y)return this.ec.curve.type==="mont"?s(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||s(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,u)},o.prototype.derive=function(l){return l.validate()||s(l.validate(),"public point not validated"),l.mul(this.priv).getX()},o.prototype.sign=function(l,u,d){return this.ec.sign(l,this,u,d)},o.prototype.verify=function(l,u){return this.ec.verify(l,u,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(i,r,n){var a=i("bn.js"),s=i("../utils"),o=s.assert;function l(f,p){if(f instanceof l)return f;this._importDER(f,p)||(o(f.r&&f.s,"Signature without r or s"),this.r=new a(f.r,16),this.s=new a(f.s,16),f.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=f.recoveryParam)}function u(){this.place=0}function d(f,p){var g=f[p.place++];if(!(128&g))return g;var m=15&g;if(m===0||m>4)return!1;for(var v=0,b=0,E=p.place;b<m;b++,E++)v<<=8,v|=f[E],v>>>=0;return!(v<=127)&&(p.place=E,v)}function c(f){for(var p=0,g=f.length-1;!f[p]&&!(128&f[p+1])&&p<g;)p++;return p===0?f:f.slice(p)}function h(f,p){if(p<128)f.push(p);else{var g=1+(Math.log(p)/Math.LN2>>>3);for(f.push(128|g);--g;)f.push(p>>>(g<<3)&255);f.push(p)}}r.exports=l,l.prototype._importDER=function(f,p){f=s.toArray(f,p);var g=new u;if(f[g.place++]!==48)return!1;var m=d(f,g);if(m===!1||m+g.place!==f.length||f[g.place++]!==2)return!1;var v=d(f,g);if(v===!1)return!1;var b=f.slice(g.place,v+g.place);if(g.place+=v,f[g.place++]!==2)return!1;var E=d(f,g);if(E===!1||f.length!==E+g.place)return!1;var I=f.slice(g.place,E+g.place);if(b[0]===0){if(!(128&b[1]))return!1;b=b.slice(1)}if(I[0]===0){if(!(128&I[1]))return!1;I=I.slice(1)}return this.r=new a(b),this.s=new a(I),this.recoveryParam=null,!0},l.prototype.toDER=function(f){var p=this.r.toArray(),g=this.s.toArray();for(128&p[0]&&(p=[0].concat(p)),128&g[0]&&(g=[0].concat(g)),p=c(p),g=c(g);!(g[0]||128&g[1]);)g=g.slice(1);var m=[2];h(m,p.length),(m=m.concat(p)).push(2),h(m,g.length);var v=m.concat(g),b=[48];return h(b,v.length),b=b.concat(v),s.encode(b,f)}},{"../utils":419,"bn.js":420}],415:[function(i,r,n){var a=i("hash.js"),s=i("../curves"),o=i("../utils"),l=o.assert,u=o.parseBytes,d=i("./key"),c=i("./signature");function h(f){if(l(f==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(f);f=s[f].curve,this.curve=f,this.g=f.g,this.g.precompute(f.n.bitLength()+1),this.pointClass=f.point().constructor,this.encodingLength=Math.ceil(f.n.bitLength()/8),this.hash=a.sha512}r.exports=h,h.prototype.sign=function(f,p){f=u(f);var g=this.keyFromSecret(p),m=this.hashInt(g.messagePrefix(),f),v=this.g.mul(m),b=this.encodePoint(v),E=this.hashInt(b,g.pubBytes(),f).mul(g.priv()),I=m.add(E).umod(this.curve.n);return this.makeSignature({R:v,S:I,Rencoded:b})},h.prototype.verify=function(f,p,g){f=u(f),p=this.makeSignature(p);var m=this.keyFromPublic(g),v=this.hashInt(p.Rencoded(),m.pubBytes(),f),b=this.g.mul(p.S());return p.R().add(m.pub().mul(v)).eq(b)},h.prototype.hashInt=function(){for(var f=this.hash(),p=0;p<arguments.length;p++)f.update(arguments[p]);return o.intFromLE(f.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(f){return d.fromPublic(this,f)},h.prototype.keyFromSecret=function(f){return d.fromSecret(this,f)},h.prototype.makeSignature=function(f){return f instanceof c?f:new c(this,f)},h.prototype.encodePoint=function(f){var p=f.getY().toArray("le",this.encodingLength);return p[this.encodingLength-1]|=f.getX().isOdd()?128:0,p},h.prototype.decodePoint=function(f){var p=(f=o.parseBytes(f)).length-1,g=f.slice(0,p).concat(-129&f[p]),m=(128&f[p])!=0,v=o.intFromLE(g);return this.curve.pointFromY(v,m)},h.prototype.encodeInt=function(f){return f.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(f){return o.intFromLE(f)},h.prototype.isPoint=function(f){return f instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(i,r,n){var a=i("../utils"),s=a.assert,o=a.parseBytes,l=a.cachedProperty;function u(d,c){this.eddsa=d,this._secret=o(c.secret),d.isPoint(c.pub)?this._pub=c.pub:this._pubBytes=o(c.pub)}u.fromPublic=function(d,c){return c instanceof u?c:new u(d,{pub:c})},u.fromSecret=function(d,c){return c instanceof u?c:new u(d,{secret:c})},u.prototype.secret=function(){return this._secret},l(u,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(u,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(u,"privBytes",function(){var d=this.eddsa,c=this.hash(),h=d.encodingLength-1,f=c.slice(0,d.encodingLength);return f[0]&=248,f[h]&=127,f[h]|=64,f}),l(u,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(u,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(u,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),u.prototype.sign=function(d){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(d,this)},u.prototype.verify=function(d,c){return this.eddsa.verify(d,c,this)},u.prototype.getSecret=function(d){return s(this._secret,"KeyPair is public only"),a.encode(this.secret(),d)},u.prototype.getPublic=function(d){return a.encode(this.pubBytes(),d)},r.exports=u},{"../utils":419}],417:[function(i,r,n){var a=i("bn.js"),s=i("../utils"),o=s.assert,l=s.cachedProperty,u=s.parseBytes;function d(c,h){this.eddsa=c,typeof h!="object"&&(h=u(h)),Array.isArray(h)&&(h={R:h.slice(0,c.encodingLength),S:h.slice(c.encodingLength)}),o(h.R&&h.S,"Signature without R or S"),c.isPoint(h.R)&&(this._R=h.R),h.S instanceof a&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}l(d,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(d,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(d,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(d,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),d.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},d.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},r.exports=d},{"../utils":419,"bn.js":420}],418:[function(i,r,n){r.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(i,r,n){var a=n,s=i("bn.js"),o=i("minimalistic-assert"),l=i("minimalistic-crypto-utils");a.assert=o,a.toArray=l.toArray,a.zero2=l.zero2,a.toHex=l.toHex,a.encode=l.encode,a.getNAF=function(u,d,c){var h=new Array(Math.max(u.bitLength(),c)+1);h.fill(0);for(var f=1<<d+1,p=u.clone(),g=0;g<h.length;g++){var m,v=p.andln(f-1);p.isOdd()?(m=v>(f>>1)-1?(f>>1)-v:v,p.isubn(m)):m=0,h[g]=m,p.iushrn(1)}return h},a.getJSF=function(u,d){var c=[[],[]];u=u.clone(),d=d.clone();for(var h,f=0,p=0;u.cmpn(-f)>0||d.cmpn(-p)>0;){var g,m,v=u.andln(3)+f&3,b=d.andln(3)+p&3;v===3&&(v=-1),b===3&&(b=-1),g=1&v?(h=u.andln(7)+f&7)!==3&&h!==5||b!==2?v:-v:0,c[0].push(g),m=1&b?(h=d.andln(7)+p&7)!==3&&h!==5||v!==2?b:-b:0,c[1].push(m),2*f===g+1&&(f=1-f),2*p===m+1&&(p=1-p),u.iushrn(1),d.iushrn(1)}return c},a.cachedProperty=function(u,d,c){var h="_"+d;u.prototype[d]=function(){return this[h]!==void 0?this[h]:this[h]=c.call(this)}},a.parseBytes=function(u){return typeof u=="string"?a.toArray(u,"hex"):u},a.intFromLE=function(u){return new s(u,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(i,r,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],421:[function(i,r,n){r.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(i,r,n){var a=Object.create||function(V){var H=function(){};return H.prototype=V,new H},s=Object.keys||function(V){var H=[];for(var W in V)Object.prototype.hasOwnProperty.call(V,W)&&H.push(W);return W},o=Function.prototype.bind||function(V){var H=this;return function(){return H.apply(V,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=a(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}r.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var u,d=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),u=c.x===0}catch{u=!1}function h(V){return V._maxListeners===void 0?l.defaultMaxListeners:V._maxListeners}function f(V,H,W){if(H)V.call(W);else for(var G=V.length,P=j(V,G),A=0;A<G;++A)P[A].call(W)}function p(V,H,W,G){if(H)V.call(W,G);else for(var P=V.length,A=j(V,P),T=0;T<P;++T)A[T].call(W,G)}function g(V,H,W,G,P){if(H)V.call(W,G,P);else for(var A=V.length,T=j(V,A),x=0;x<A;++x)T[x].call(W,G,P)}function m(V,H,W,G,P,A){if(H)V.call(W,G,P,A);else for(var T=V.length,x=j(V,T),C=0;C<T;++C)x[C].call(W,G,P,A)}function v(V,H,W,G){if(H)V.apply(W,G);else for(var P=V.length,A=j(V,P),T=0;T<P;++T)A[T].apply(W,G)}function b(V,H,W,G){var P,A,T;if(typeof W!="function")throw new TypeError('"listener" argument must be a function');if((A=V._events)?(A.newListener&&(V.emit("newListener",H,W.listener?W.listener:W),A=V._events),T=A[H]):(A=V._events=a(null),V._eventsCount=0),T){if(typeof T=="function"?T=A[H]=G?[W,T]:[T,W]:G?T.unshift(W):T.push(W),!T.warned&&(P=h(V))&&P>0&&T.length>P){T.warned=!0;var x=new Error("Possible EventEmitter memory leak detected. "+T.length+' "'+String(H)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');x.name="MaxListenersExceededWarning",x.emitter=V,x.type=H,x.count=T.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",x.name,x.message)}}else T=A[H]=W,++V._eventsCount;return V}function E(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var V=new Array(arguments.length),H=0;H<V.length;++H)V[H]=arguments[H];this.listener.apply(this.target,V)}}function I(V,H,W){var G={fired:!1,wrapFn:void 0,target:V,type:H,listener:W},P=o.call(E,G);return P.listener=W,G.wrapFn=P,P}function R(V,H,W){var G=V._events;if(!G)return[];var P=G[H];return P?typeof P=="function"?W?[P.listener||P]:[P]:W?function(A){for(var T=new Array(A.length),x=0;x<T.length;++x)T[x]=A[x].listener||A[x];return T}(P):j(P,P.length):[]}function N(V){var H=this._events;if(H){var W=H[V];if(typeof W=="function")return 1;if(W)return W.length}return 0}function j(V,H){for(var W=new Array(H),G=0;G<H;++G)W[G]=V[G];return W}u?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(V){if(typeof V!="number"||V<0||V!=V)throw new TypeError('"defaultMaxListeners" must be a positive number');d=V}}):l.defaultMaxListeners=d,l.prototype.setMaxListeners=function(V){if(typeof V!="number"||V<0||isNaN(V))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=V,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(V){var H,W,G,P,A,T,x=V==="error";if(T=this._events)x=x&&T.error==null;else if(!x)return!1;if(x){if(arguments.length>1&&(H=arguments[1]),H instanceof Error)throw H;var C=new Error('Unhandled "error" event. ('+H+")");throw C.context=H,C}if(!(W=T[V]))return!1;var y=typeof W=="function";switch(G=arguments.length){case 1:f(W,y,this);break;case 2:p(W,y,this,arguments[1]);break;case 3:g(W,y,this,arguments[1],arguments[2]);break;case 4:m(W,y,this,arguments[1],arguments[2],arguments[3]);break;default:for(P=new Array(G-1),A=1;A<G;A++)P[A-1]=arguments[A];v(W,y,this,P)}return!0},l.prototype.addListener=function(V,H){return b(this,V,H,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(V,H){return b(this,V,H,!0)},l.prototype.once=function(V,H){if(typeof H!="function")throw new TypeError('"listener" argument must be a function');return this.on(V,I(this,V,H)),this},l.prototype.prependOnceListener=function(V,H){if(typeof H!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(V,I(this,V,H)),this},l.prototype.removeListener=function(V,H){var W,G,P,A,T;if(typeof H!="function")throw new TypeError('"listener" argument must be a function');if(!(G=this._events))return this;if(!(W=G[V]))return this;if(W===H||W.listener===H)--this._eventsCount==0?this._events=a(null):(delete G[V],G.removeListener&&this.emit("removeListener",V,W.listener||H));else if(typeof W!="function"){for(P=-1,A=W.length-1;A>=0;A--)if(W[A]===H||W[A].listener===H){T=W[A].listener,P=A;break}if(P<0)return this;P===0?W.shift():function(x,C){for(var y=C,S=y+1,w=x.length;S<w;y+=1,S+=1)x[y]=x[S];x.pop()}(W,P),W.length===1&&(G[V]=W[0]),G.removeListener&&this.emit("removeListener",V,T||H)}return this},l.prototype.removeAllListeners=function(V){var H,W,G;if(!(W=this._events))return this;if(!W.removeListener)return arguments.length===0?(this._events=a(null),this._eventsCount=0):W[V]&&(--this._eventsCount==0?this._events=a(null):delete W[V]),this;if(arguments.length===0){var P,A=s(W);for(G=0;G<A.length;++G)(P=A[G])!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=a(null),this._eventsCount=0,this}if(typeof(H=W[V])=="function")this.removeListener(V,H);else if(H)for(G=H.length-1;G>=0;G--)this.removeListener(V,H[G]);return this},l.prototype.listeners=function(V){return R(this,V,!0)},l.prototype.rawListeners=function(V){return R(this,V,!1)},l.listenerCount=function(V,H){return typeof V.listenerCount=="function"?V.listenerCount(H):N.call(V,H)},l.prototype.listenerCount=N,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(i,r,n){var a=i("safe-buffer").Buffer,s=i("md5.js");r.exports=function(o,l,u,d){if(a.isBuffer(o)||(o=a.from(o,"binary")),l&&(a.isBuffer(l)||(l=a.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=u/8,h=a.alloc(c),f=a.alloc(d||0),p=a.alloc(0);c>0||d>0;){var g=new s;g.update(p),g.update(o),l&&g.update(l),p=g.digest();var m=0;if(c>0){var v=h.length-c;m=Math.min(c,p.length),p.copy(h,v,0,m),c-=m}if(m<p.length&&d>0){var b=f.length-d,E=Math.min(d,p.length-m);p.copy(f,b,m,m+E),d-=E}}return p.fill(0),{key:h,iv:f}}},{"md5.js":450,"safe-buffer":494}],424:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=n.ParserOptions=n.parseFile=n.parseStream=n.parseString=n.parse=n.FormatterOptions=n.CsvFormatterStream=n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=void 0;var a=i("@fast-csv/format");Object.defineProperty(n,"format",{enumerable:!0,get:function(){return a.format}}),Object.defineProperty(n,"write",{enumerable:!0,get:function(){return a.write}}),Object.defineProperty(n,"writeToStream",{enumerable:!0,get:function(){return a.writeToStream}}),Object.defineProperty(n,"writeToBuffer",{enumerable:!0,get:function(){return a.writeToBuffer}}),Object.defineProperty(n,"writeToString",{enumerable:!0,get:function(){return a.writeToString}}),Object.defineProperty(n,"writeToPath",{enumerable:!0,get:function(){return a.writeToPath}}),Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return a.CsvFormatterStream}}),Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return a.FormatterOptions}});var s=i("@fast-csv/parse");Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(n,"parseString",{enumerable:!0,get:function(){return s.parseString}}),Object.defineProperty(n,"parseStream",{enumerable:!0,get:function(){return s.parseStream}}),Object.defineProperty(n,"parseFile",{enumerable:!0,get:function(){return s.parseFile}}),Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return s.ParserOptions}}),Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return s.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(i,r,n){var a=i("safe-buffer").Buffer,s=i("readable-stream").Transform;function o(l){s.call(this),this._block=a.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}i("inherits")(o,s),o.prototype._transform=function(l,u,d){var c=null;try{this.update(l,u)}catch(h){c=h}d(c)},o.prototype._flush=function(l){var u=null;try{this.push(this.digest())}catch(d){u=d}l(u)},o.prototype.update=function(l,u){if(function(g,m){if(!a.isBuffer(g)&&typeof g!="string")throw new TypeError(m+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(l)||(l=a.from(l,u));for(var d=this._block,c=0;this._blockOffset+l.length-c>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)d[h++]=l[c++];this._update(),this._blockOffset=0}for(;c<l.length;)d[this._blockOffset++]=l[c++];for(var f=0,p=8*l.length;p>0;++f)this._length[f]+=p,(p=this._length[f]/4294967296|0)>0&&(this._length[f]-=4294967296*p);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var u=this._digest();l!==void 0&&(u=u.toString(l)),this._block.fill(0),this._blockOffset=0;for(var d=0;d<4;++d)this._length[d]=0;return u},o.prototype._digest=function(){throw new Error("_digest is not implemented")},r.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(i,r,n){var a=n;a.utils=i("./hash/utils"),a.common=i("./hash/common"),a.sha=i("./hash/sha"),a.ripemd=i("./hash/ripemd"),a.hmac=i("./hash/hmac"),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(i,r,n){var a=i("./utils"),s=i("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}n.BlockHash=o,o.prototype.update=function(l,u){if(l=a.toArray(l,u),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var d=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-d,l.length),this.pending.length===0&&(this.pending=null),l=a.join32(l,0,l.length-d,this.endian);for(var c=0;c<l.length;c+=this._delta32)this._update(l,c,c+this._delta32)}return this},o.prototype.digest=function(l){return this.update(this._pad()),s(this.pending===null),this._digest(l)},o.prototype._pad=function(){var l=this.pendingTotal,u=this._delta8,d=u-(l+this.padLength)%u,c=new Array(d+this.padLength);c[0]=128;for(var h=1;h<d;h++)c[h]=0;if(l<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)c[h++]=0;c[h++]=0,c[h++]=0,c[h++]=0,c[h++]=0,c[h++]=l>>>24&255,c[h++]=l>>>16&255,c[h++]=l>>>8&255,c[h++]=255&l}else for(c[h++]=255&l,c[h++]=l>>>8&255,c[h++]=l>>>16&255,c[h++]=l>>>24&255,c[h++]=0,c[h++]=0,c[h++]=0,c[h++]=0,f=8;f<this.padLength;f++)c[h++]=0;return c}},{"./utils":437,"minimalistic-assert":453}],428:[function(i,r,n){var a=i("./utils"),s=i("minimalistic-assert");function o(l,u,d){if(!(this instanceof o))return new o(l,u,d);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(u,d))}r.exports=o,o.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),s(l.length<=this.blockSize);for(var u=l.length;u<this.blockSize;u++)l.push(0);for(u=0;u<l.length;u++)l[u]^=54;for(this.inner=new this.Hash().update(l),u=0;u<l.length;u++)l[u]^=106;this.outer=new this.Hash().update(l)},o.prototype.update=function(l,u){return this.inner.update(l,u),this},o.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(i,r,n){var a=i("./utils"),s=i("./common"),o=a.rotl32,l=a.sum32,u=a.sum32_3,d=a.sum32_4,c=s.BlockHash;function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(I,R,N,j){return I<=15?R^N^j:I<=31?R&N|~R&j:I<=47?(R|~N)^j:I<=63?R&j|N&~j:R^(N|~j)}function p(I){return I<=15?0:I<=31?1518500249:I<=47?1859775393:I<=63?2400959708:2840853838}function g(I){return I<=15?1352829926:I<=31?1548603684:I<=47?1836072691:I<=63?2053994217:0}a.inherits(h,c),n.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(I,R){for(var N=this.h[0],j=this.h[1],V=this.h[2],H=this.h[3],W=this.h[4],G=N,P=j,A=V,T=H,x=W,C=0;C<80;C++){var y=l(o(d(N,f(C,j,V,H),I[m[C]+R],p(C)),b[C]),W);N=W,W=H,H=o(V,10),V=j,j=y,y=l(o(d(G,f(79-C,P,A,T),I[v[C]+R],g(C)),E[C]),x),G=x,x=T,T=o(A,10),A=P,P=y}y=u(this.h[1],V,T),this.h[1]=u(this.h[2],H,x),this.h[2]=u(this.h[3],W,G),this.h[3]=u(this.h[4],N,P),this.h[4]=u(this.h[0],j,A),this.h[0]=y},h.prototype._digest=function(I){return I==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],E=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(i,r,n){n.sha1=i("./sha/1"),n.sha224=i("./sha/224"),n.sha256=i("./sha/256"),n.sha384=i("./sha/384"),n.sha512=i("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(i,r,n){var a=i("../utils"),s=i("../common"),o=i("./common"),l=a.rotl32,u=a.sum32,d=a.sum32_5,c=o.ft_1,h=s.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a.inherits(p,h),r.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(g,m){for(var v=this.W,b=0;b<16;b++)v[b]=g[m+b];for(;b<v.length;b++)v[b]=l(v[b-3]^v[b-8]^v[b-14]^v[b-16],1);var E=this.h[0],I=this.h[1],R=this.h[2],N=this.h[3],j=this.h[4];for(b=0;b<v.length;b++){var V=~~(b/20),H=d(l(E,5),c(V,I,R,N),j,v[b],f[V]);j=N,N=R,R=l(I,30),I=E,E=H}this.h[0]=u(this.h[0],E),this.h[1]=u(this.h[1],I),this.h[2]=u(this.h[2],R),this.h[3]=u(this.h[3],N),this.h[4]=u(this.h[4],j)},p.prototype._digest=function(g){return g==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(i,r,n){var a=i("../utils"),s=i("./256");function o(){if(!(this instanceof o))return new o;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a.inherits(o,s),r.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(l){return l==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(i,r,n){var a=i("../utils"),s=i("../common"),o=i("./common"),l=i("minimalistic-assert"),u=a.sum32,d=a.sum32_4,c=a.sum32_5,h=o.ch32,f=o.maj32,p=o.s0_256,g=o.s1_256,m=o.g0_256,v=o.g1_256,b=s.BlockHash,E=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function I(){if(!(this instanceof I))return new I;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=E,this.W=new Array(64)}a.inherits(I,b),r.exports=I,I.blockSize=512,I.outSize=256,I.hmacStrength=192,I.padLength=64,I.prototype._update=function(R,N){for(var j=this.W,V=0;V<16;V++)j[V]=R[N+V];for(;V<j.length;V++)j[V]=d(v(j[V-2]),j[V-7],m(j[V-15]),j[V-16]);var H=this.h[0],W=this.h[1],G=this.h[2],P=this.h[3],A=this.h[4],T=this.h[5],x=this.h[6],C=this.h[7];for(l(this.k.length===j.length),V=0;V<j.length;V++){var y=c(C,g(A),h(A,T,x),this.k[V],j[V]),S=u(p(H),f(H,W,G));C=x,x=T,T=A,A=u(P,y),P=G,G=W,W=H,H=u(y,S)}this.h[0]=u(this.h[0],H),this.h[1]=u(this.h[1],W),this.h[2]=u(this.h[2],G),this.h[3]=u(this.h[3],P),this.h[4]=u(this.h[4],A),this.h[5]=u(this.h[5],T),this.h[6]=u(this.h[6],x),this.h[7]=u(this.h[7],C)},I.prototype._digest=function(R){return R==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(i,r,n){var a=i("../utils"),s=i("./512");function o(){if(!(this instanceof o))return new o;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a.inherits(o,s),r.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(l){return l==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(i,r,n){var a=i("../utils"),s=i("../common"),o=i("minimalistic-assert"),l=a.rotr64_hi,u=a.rotr64_lo,d=a.shr64_hi,c=a.shr64_lo,h=a.sum64,f=a.sum64_hi,p=a.sum64_lo,g=a.sum64_4_hi,m=a.sum64_4_lo,v=a.sum64_5_hi,b=a.sum64_5_lo,E=s.BlockHash,I=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function R(){if(!(this instanceof R))return new R;E.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=I,this.W=new Array(160)}function N(S,w,k,M,O){var F=S&k^~S&O;return F<0&&(F+=4294967296),F}function j(S,w,k,M,O,F){var z=w&M^~w&F;return z<0&&(z+=4294967296),z}function V(S,w,k,M,O){var F=S&k^S&O^k&O;return F<0&&(F+=4294967296),F}function H(S,w,k,M,O,F){var z=w&M^w&F^M&F;return z<0&&(z+=4294967296),z}function W(S,w){var k=l(S,w,28)^l(w,S,2)^l(w,S,7);return k<0&&(k+=4294967296),k}function G(S,w){var k=u(S,w,28)^u(w,S,2)^u(w,S,7);return k<0&&(k+=4294967296),k}function P(S,w){var k=l(S,w,14)^l(S,w,18)^l(w,S,9);return k<0&&(k+=4294967296),k}function A(S,w){var k=u(S,w,14)^u(S,w,18)^u(w,S,9);return k<0&&(k+=4294967296),k}function T(S,w){var k=l(S,w,1)^l(S,w,8)^d(S,w,7);return k<0&&(k+=4294967296),k}function x(S,w){var k=u(S,w,1)^u(S,w,8)^c(S,w,7);return k<0&&(k+=4294967296),k}function C(S,w){var k=l(S,w,19)^l(w,S,29)^d(S,w,6);return k<0&&(k+=4294967296),k}function y(S,w){var k=u(S,w,19)^u(w,S,29)^c(S,w,6);return k<0&&(k+=4294967296),k}a.inherits(R,E),r.exports=R,R.blockSize=1024,R.outSize=512,R.hmacStrength=192,R.padLength=128,R.prototype._prepareBlock=function(S,w){for(var k=this.W,M=0;M<32;M++)k[M]=S[w+M];for(;M<k.length;M+=2){var O=C(k[M-4],k[M-3]),F=y(k[M-4],k[M-3]),z=k[M-14],X=k[M-13],L=T(k[M-30],k[M-29]),K=x(k[M-30],k[M-29]),D=k[M-32],B=k[M-31];k[M]=g(O,F,z,X,L,K,D,B),k[M+1]=m(O,F,z,X,L,K,D,B)}},R.prototype._update=function(S,w){this._prepareBlock(S,w);var k=this.W,M=this.h[0],O=this.h[1],F=this.h[2],z=this.h[3],X=this.h[4],L=this.h[5],K=this.h[6],D=this.h[7],B=this.h[8],U=this.h[9],Q=this.h[10],q=this.h[11],Z=this.h[12],$=this.h[13],ie=this.h[14],te=this.h[15];o(this.k.length===k.length);for(var Y=0;Y<k.length;Y+=2){var ee=ie,re=te,ne=P(B,U),ue=A(B,U),le=N(B,U,Q,q,Z),pe=j(B,U,Q,q,Z,$),se=this.k[Y],ae=this.k[Y+1],de=k[Y],fe=k[Y+1],me=v(ee,re,ne,ue,le,pe,se,ae,de,fe),ge=b(ee,re,ne,ue,le,pe,se,ae,de,fe);ee=W(M,O),re=G(M,O),ne=V(M,O,F,z,X),ue=H(M,O,F,z,X,L);var ye=f(ee,re,ne,ue),_e=p(ee,re,ne,ue);ie=Z,te=$,Z=Q,$=q,Q=B,q=U,B=f(K,D,me,ge),U=p(D,D,me,ge),K=X,D=L,X=F,L=z,F=M,z=O,M=f(me,ge,ye,_e),O=p(me,ge,ye,_e)}h(this.h,0,M,O),h(this.h,2,F,z),h(this.h,4,X,L),h(this.h,6,K,D),h(this.h,8,B,U),h(this.h,10,Q,q),h(this.h,12,Z,$),h(this.h,14,ie,te)},R.prototype._digest=function(S){return S==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(i,r,n){var a=i("../utils").rotr32;function s(u,d,c){return u&d^~u&c}function o(u,d,c){return u&d^u&c^d&c}function l(u,d,c){return u^d^c}n.ft_1=function(u,d,c,h){return u===0?s(d,c,h):u===1||u===3?l(d,c,h):u===2?o(d,c,h):void 0},n.ch32=s,n.maj32=o,n.p32=l,n.s0_256=function(u){return a(u,2)^a(u,13)^a(u,22)},n.s1_256=function(u){return a(u,6)^a(u,11)^a(u,25)},n.g0_256=function(u){return a(u,7)^a(u,18)^u>>>3},n.g1_256=function(u){return a(u,17)^a(u,19)^u>>>10}},{"../utils":437}],437:[function(i,r,n){var a=i("minimalistic-assert"),s=i("inherits");function o(c,h){return(64512&c.charCodeAt(h))==55296&&!(h<0||h+1>=c.length)&&(64512&c.charCodeAt(h+1))==56320}function l(c){return(c>>>24|c>>>8&65280|c<<8&16711680|(255&c)<<24)>>>0}function u(c){return c.length===1?"0"+c:c}function d(c){return c.length===7?"0"+c:c.length===6?"00"+c:c.length===5?"000"+c:c.length===4?"0000"+c:c.length===3?"00000"+c:c.length===2?"000000"+c:c.length===1?"0000000"+c:c}n.inherits=s,n.toArray=function(c,h){if(Array.isArray(c))return c.slice();if(!c)return[];var f=[];if(typeof c=="string")if(h){if(h==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),g=0;g<c.length;g+=2)f.push(parseInt(c[g]+c[g+1],16))}else for(var p=0,g=0;g<c.length;g++){var m=c.charCodeAt(g);m<128?f[p++]=m:m<2048?(f[p++]=m>>6|192,f[p++]=63&m|128):o(c,g)?(m=65536+((1023&m)<<10)+(1023&c.charCodeAt(++g)),f[p++]=m>>18|240,f[p++]=m>>12&63|128,f[p++]=m>>6&63|128,f[p++]=63&m|128):(f[p++]=m>>12|224,f[p++]=m>>6&63|128,f[p++]=63&m|128)}else for(g=0;g<c.length;g++)f[g]=0|c[g];return f},n.toHex=function(c){for(var h="",f=0;f<c.length;f++)h+=u(c[f].toString(16));return h},n.htonl=l,n.toHex32=function(c,h){for(var f="",p=0;p<c.length;p++){var g=c[p];h==="little"&&(g=l(g)),f+=d(g.toString(16))}return f},n.zero2=u,n.zero8=d,n.join32=function(c,h,f,p){var g=f-h;a(g%4==0);for(var m=new Array(g/4),v=0,b=h;v<m.length;v++,b+=4){var E;E=p==="big"?c[b]<<24|c[b+1]<<16|c[b+2]<<8|c[b+3]:c[b+3]<<24|c[b+2]<<16|c[b+1]<<8|c[b],m[v]=E>>>0}return m},n.split32=function(c,h){for(var f=new Array(4*c.length),p=0,g=0;p<c.length;p++,g+=4){var m=c[p];h==="big"?(f[g]=m>>>24,f[g+1]=m>>>16&255,f[g+2]=m>>>8&255,f[g+3]=255&m):(f[g+3]=m>>>24,f[g+2]=m>>>16&255,f[g+1]=m>>>8&255,f[g]=255&m)}return f},n.rotr32=function(c,h){return c>>>h|c<<32-h},n.rotl32=function(c,h){return c<<h|c>>>32-h},n.sum32=function(c,h){return c+h>>>0},n.sum32_3=function(c,h,f){return c+h+f>>>0},n.sum32_4=function(c,h,f,p){return c+h+f+p>>>0},n.sum32_5=function(c,h,f,p,g){return c+h+f+p+g>>>0},n.sum64=function(c,h,f,p){var g=c[h],m=p+c[h+1]>>>0,v=(m<p?1:0)+f+g;c[h]=v>>>0,c[h+1]=m},n.sum64_hi=function(c,h,f,p){return(h+p>>>0<h?1:0)+c+f>>>0},n.sum64_lo=function(c,h,f,p){return h+p>>>0},n.sum64_4_hi=function(c,h,f,p,g,m,v,b){var E=0,I=h;return E+=(I=I+p>>>0)<h?1:0,E+=(I=I+m>>>0)<m?1:0,c+f+g+v+(E+=(I=I+b>>>0)<b?1:0)>>>0},n.sum64_4_lo=function(c,h,f,p,g,m,v,b){return h+p+m+b>>>0},n.sum64_5_hi=function(c,h,f,p,g,m,v,b,E,I){var R=0,N=h;return R+=(N=N+p>>>0)<h?1:0,R+=(N=N+m>>>0)<m?1:0,R+=(N=N+b>>>0)<b?1:0,c+f+g+v+E+(R+=(N=N+I>>>0)<I?1:0)>>>0},n.sum64_5_lo=function(c,h,f,p,g,m,v,b,E,I){return h+p+m+b+I>>>0},n.rotr64_hi=function(c,h,f){return(h<<32-f|c>>>f)>>>0},n.rotr64_lo=function(c,h,f){return(c<<32-f|h>>>f)>>>0},n.shr64_hi=function(c,h,f){return c>>>f},n.shr64_lo=function(c,h,f){return(c<<32-f|h>>>f)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(i,r,n){var a=i("hash.js"),s=i("minimalistic-crypto-utils"),o=i("minimalistic-assert");function l(u){if(!(this instanceof l))return new l(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var d=s.toArray(u.entropy,u.entropyEnc||"hex"),c=s.toArray(u.nonce,u.nonceEnc||"hex"),h=s.toArray(u.pers,u.persEnc||"hex");o(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(d,c,h)}r.exports=l,l.prototype._init=function(u,d,c){var h=u.concat(d).concat(c);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new a.hmac(this.hash,this.K)},l.prototype._update=function(u){var d=this._hmac().update(this.V).update([0]);u&&(d=d.update(u)),this.K=d.digest(),this.V=this._hmac().update(this.V).digest(),u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(u,d,c,h){typeof d!="string"&&(h=c,c=d,d=null),u=s.toArray(u,d),c=s.toArray(c,h),o(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(c||[])),this._reseed=1},l.prototype.generate=function(u,d,c,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof d!="string"&&(h=c,c=d,d=null),c&&(c=s.toArray(c,h||"hex"),this._update(c));for(var f=[];f.length<u;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var p=f.slice(0,u);return this._update(c),this._reseed++,s.encode(p,d)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(i,r,n){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */n.read=function(a,s,o,l,u){var d,c,h=8*u-l-1,f=(1<<h)-1,p=f>>1,g=-7,m=o?u-1:0,v=o?-1:1,b=a[s+m];for(m+=v,d=b&(1<<-g)-1,b>>=-g,g+=h;g>0;d=256*d+a[s+m],m+=v,g-=8);for(c=d&(1<<-g)-1,d>>=-g,g+=l;g>0;c=256*c+a[s+m],m+=v,g-=8);if(d===0)d=1-p;else{if(d===f)return c?NaN:1/0*(b?-1:1);c+=Math.pow(2,l),d-=p}return(b?-1:1)*c*Math.pow(2,d-l)},n.write=function(a,s,o,l,u,d){var c,h,f,p=8*d-u-1,g=(1<<p)-1,m=g>>1,v=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=l?0:d-1,E=l?1:-1,I=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(h=isNaN(s)?1:0,c=g):(c=Math.floor(Math.log(s)/Math.LN2),s*(f=Math.pow(2,-c))<1&&(c--,f*=2),(s+=c+m>=1?v/f:v*Math.pow(2,1-m))*f>=2&&(c++,f/=2),c+m>=g?(h=0,c=g):c+m>=1?(h=(s*f-1)*Math.pow(2,u),c+=m):(h=s*Math.pow(2,m-1)*Math.pow(2,u),c=0));u>=8;a[o+b]=255&h,b+=E,h/=256,u-=8);for(c=c<<u|h,p+=u;p>0;a[o+b]=255&c,b+=E,c/=256,p-=8);a[o+b-E]|=128*I}},{}],440:[function(i,r,n){typeof Object.create=="function"?r.exports=function(a,s){s&&(a.super_=s,a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(a,s){if(s){a.super_=s;var o=function(){};o.prototype=s.prototype,a.prototype=new o,a.prototype.constructor=a}}},{}],441:[function(i,r,n){(function(a,s,o,l,u,d,c,h){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(f){typeof n=="object"&&r!==void 0?r.exports=f():(typeof window<"u"?window:s!==void 0?s:typeof self<"u"?self:this).JSZip=f()})(function(){return function f(p,g,m){function v(I,R){if(!g[I]){if(!p[I]){var N=typeof i=="function"&&i;if(!R&&N)return N(I,!0);if(b)return b(I,!0);var j=new Error("Cannot find module '"+I+"'");throw j.code="MODULE_NOT_FOUND",j}var V=g[I]={exports:{}};p[I][0].call(V.exports,function(H){return v(p[I][1][H]||H)},V,V.exports,f,p,g,m)}return g[I].exports}for(var b=typeof i=="function"&&i,E=0;E<m.length;E++)v(m[E]);return v}({1:[function(f,p,g){var m=f("./utils"),v=f("./support"),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(E){for(var I,R,N,j,V,H,W,G=[],P=0,A=E.length,T=A,x=m.getTypeOf(E)!=="string";P<E.length;)T=A-P,N=x?(I=E[P++],R=P<A?E[P++]:0,P<A?E[P++]:0):(I=E.charCodeAt(P++),R=P<A?E.charCodeAt(P++):0,P<A?E.charCodeAt(P++):0),j=I>>2,V=(3&I)<<4|R>>4,H=1<T?(15&R)<<2|N>>6:64,W=2<T?63&N:64,G.push(b.charAt(j)+b.charAt(V)+b.charAt(H)+b.charAt(W));return G.join("")},g.decode=function(E){var I,R,N,j,V,H,W=0,G=0,P="data:";if(E.substr(0,P.length)===P)throw new Error("Invalid base64 input, it looks like a data url.");var A,T=3*(E=E.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(E.charAt(E.length-1)===b.charAt(64)&&T--,E.charAt(E.length-2)===b.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=v.uint8array?new Uint8Array(0|T):new Array(0|T);W<E.length;)I=b.indexOf(E.charAt(W++))<<2|(j=b.indexOf(E.charAt(W++)))>>4,R=(15&j)<<4|(V=b.indexOf(E.charAt(W++)))>>2,N=(3&V)<<6|(H=b.indexOf(E.charAt(W++))),A[G++]=I,V!==64&&(A[G++]=R),H!==64&&(A[G++]=N);return A}},{"./support":30,"./utils":32}],2:[function(f,p,g){var m=f("./external"),v=f("./stream/DataWorker"),b=f("./stream/Crc32Probe"),E=f("./stream/DataLengthProbe");function I(R,N,j,V,H){this.compressedSize=R,this.uncompressedSize=N,this.crc32=j,this.compression=V,this.compressedContent=H}I.prototype={getContentWorker:function(){var R=new v(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new E("data_length")),N=this;return R.on("end",function(){if(this.streamInfo.data_length!==N.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),R},getCompressedWorker:function(){return new v(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},I.createWorkerFrom=function(R,N,j){return R.pipe(new b).pipe(new E("uncompressedSize")).pipe(N.compressWorker(j)).pipe(new E("compressedSize")).withStreamInfo("compression",N)},p.exports=I},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(f,p,g){var m=f("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},g.DEFLATE=f("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(f,p,g){var m=f("./utils"),v=function(){for(var b,E=[],I=0;I<256;I++){b=I;for(var R=0;R<8;R++)b=1&b?3988292384^b>>>1:b>>>1;E[I]=b}return E}();p.exports=function(b,E){return b!==void 0&&b.length?m.getTypeOf(b)!=="string"?function(I,R,N,j){var V=v,H=0+N;I^=-1;for(var W=0;W<H;W++)I=I>>>8^V[255&(I^R[W])];return-1^I}(0|E,b,b.length):function(I,R,N,j){var V=v,H=0+N;I^=-1;for(var W=0;W<H;W++)I=I>>>8^V[255&(I^R.charCodeAt(W))];return-1^I}(0|E,b,b.length):0}},{"./utils":32}],5:[function(f,p,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(f,p,g){var m;m=typeof Promise<"u"?Promise:f("lie"),p.exports={Promise:m}},{lie:37}],7:[function(f,p,g){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=f("pako"),b=f("./utils"),E=f("./stream/GenericWorker"),I=m?"uint8array":"array";function R(N,j){E.call(this,"FlateWorker/"+N),this._pako=null,this._pakoAction=N,this._pakoOptions=j,this.meta={}}g.magic="\b\0",b.inherits(R,E),R.prototype.processChunk=function(N){this.meta=N.meta,this._pako===null&&this._createPako(),this._pako.push(b.transformTo(I,N.data),!1)},R.prototype.flush=function(){E.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},R.prototype.cleanUp=function(){E.prototype.cleanUp.call(this),this._pako=null},R.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var N=this;this._pako.onData=function(j){N.push({data:j,meta:N.meta})}},g.compressWorker=function(N){return new R("Deflate",N)},g.uncompressWorker=function(){return new R("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(f,p,g){function m(V,H){var W,G="";for(W=0;W<H;W++)G+=String.fromCharCode(255&V),V>>>=8;return G}function v(V,H,W,G,P,A){var T,x,C=V.file,y=V.compression,S=A!==I.utf8encode,w=b.transformTo("string",A(C.name)),k=b.transformTo("string",I.utf8encode(C.name)),M=C.comment,O=b.transformTo("string",A(M)),F=b.transformTo("string",I.utf8encode(M)),z=k.length!==C.name.length,X=F.length!==M.length,L="",K="",D="",B=C.dir,U=C.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};H&&!W||(Q.crc32=V.crc32,Q.compressedSize=V.compressedSize,Q.uncompressedSize=V.uncompressedSize);var q=0;H&&(q|=8),S||!z&&!X||(q|=2048);var Z=0,$=0;B&&(Z|=16),P==="UNIX"?($=798,Z|=function(te,Y){var ee=te;return te||(ee=Y?16893:33204),(65535&ee)<<16}(C.unixPermissions,B)):($=20,Z|=function(te){return 63&(te||0)}(C.dosPermissions)),T=U.getUTCHours(),T<<=6,T|=U.getUTCMinutes(),T<<=5,T|=U.getUTCSeconds()/2,x=U.getUTCFullYear()-1980,x<<=4,x|=U.getUTCMonth()+1,x<<=5,x|=U.getUTCDate(),z&&(K=m(1,1)+m(R(w),4)+k,L+="up"+m(K.length,2)+K),X&&(D=m(1,1)+m(R(O),4)+F,L+="uc"+m(D.length,2)+D);var ie="";return ie+=`
\0`,ie+=m(q,2),ie+=y.magic,ie+=m(T,2),ie+=m(x,2),ie+=m(Q.crc32,4),ie+=m(Q.compressedSize,4),ie+=m(Q.uncompressedSize,4),ie+=m(w.length,2),ie+=m(L.length,2),{fileRecord:N.LOCAL_FILE_HEADER+ie+w+L,dirRecord:N.CENTRAL_FILE_HEADER+m($,2)+ie+m(O.length,2)+"\0\0\0\0"+m(Z,4)+m(G,4)+w+L+O}}var b=f("../utils"),E=f("../stream/GenericWorker"),I=f("../utf8"),R=f("../crc32"),N=f("../signature");function j(V,H,W,G){E.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=H,this.zipPlatform=W,this.encodeFileName=G,this.streamFiles=V,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}b.inherits(j,E),j.prototype.push=function(V){var H=V.meta.percent||0,W=this.entriesCount,G=this._sources.length;this.accumulate?this.contentBuffer.push(V):(this.bytesWritten+=V.data.length,E.prototype.push.call(this,{data:V.data,meta:{currentFile:this.currentFile,percent:W?(H+100*(W-G-1))/W:100}}))},j.prototype.openedSource=function(V){this.currentSourceOffset=this.bytesWritten,this.currentFile=V.file.name;var H=this.streamFiles&&!V.file.dir;if(H){var W=v(V,H,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:W.fileRecord,meta:{percent:0}})}else this.accumulate=!0},j.prototype.closedSource=function(V){this.accumulate=!1;var H=this.streamFiles&&!V.file.dir,W=v(V,H,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(W.dirRecord),H)this.push({data:function(G){return N.DATA_DESCRIPTOR+m(G.crc32,4)+m(G.compressedSize,4)+m(G.uncompressedSize,4)}(V),meta:{percent:100}});else for(this.push({data:W.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},j.prototype.flush=function(){for(var V=this.bytesWritten,H=0;H<this.dirRecords.length;H++)this.push({data:this.dirRecords[H],meta:{percent:100}});var W=this.bytesWritten-V,G=function(P,A,T,x,C){var y=b.transformTo("string",C(x));return N.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(P,2)+m(P,2)+m(A,4)+m(T,4)+m(y.length,2)+y}(this.dirRecords.length,W,V,this.zipComment,this.encodeFileName);this.push({data:G,meta:{percent:100}})},j.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},j.prototype.registerPrevious=function(V){this._sources.push(V);var H=this;return V.on("data",function(W){H.processChunk(W)}),V.on("end",function(){H.closedSource(H.previous.streamInfo),H._sources.length?H.prepareNextSource():H.end()}),V.on("error",function(W){H.error(W)}),this},j.prototype.resume=function(){return!!E.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},j.prototype.error=function(V){var H=this._sources;if(!E.prototype.error.call(this,V))return!1;for(var W=0;W<H.length;W++)try{H[W].error(V)}catch{}return!0},j.prototype.lock=function(){E.prototype.lock.call(this);for(var V=this._sources,H=0;H<V.length;H++)V[H].lock()},p.exports=j},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(f,p,g){var m=f("../compressions"),v=f("./ZipFileWorker");g.generateWorker=function(b,E,I){var R=new v(E.streamFiles,I,E.platform,E.encodeFileName),N=0;try{b.forEach(function(j,V){N++;var H=function(A,T){var x=A||T,C=m[x];if(!C)throw new Error(x+" is not a valid compression method !");return C}(V.options.compression,E.compression),W=V.options.compressionOptions||E.compressionOptions||{},G=V.dir,P=V.date;V._compressWorker(H,W).withStreamInfo("file",{name:j,dir:G,date:P,comment:V.comment||"",unixPermissions:V.unixPermissions,dosPermissions:V.dosPermissions}).pipe(R)}),R.entriesCount=N}catch(j){R.error(j)}return R}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(f,p,g){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new m;for(var b in this)typeof this[b]!="function"&&(v[b]=this[b]);return v}}(m.prototype=f("./object")).loadAsync=f("./load"),m.support=f("./support"),m.defaults=f("./defaults"),m.version="3.10.1",m.loadAsync=function(v,b){return new m().loadAsync(v,b)},m.external=f("./external"),p.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(f,p,g){var m=f("./utils"),v=f("./external"),b=f("./utf8"),E=f("./zipEntries"),I=f("./stream/Crc32Probe"),R=f("./nodejsUtils");function N(j){return new v.Promise(function(V,H){var W=j.decompressed.getContentWorker().pipe(new I);W.on("error",function(G){H(G)}).on("end",function(){W.streamInfo.crc32!==j.decompressed.crc32?H(new Error("Corrupted zip : CRC32 mismatch")):V()}).resume()})}p.exports=function(j,V){var H=this;return V=m.extend(V||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:b.utf8decode}),R.isNode&&R.isStream(j)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",j,!0,V.optimizedBinaryString,V.base64).then(function(W){var G=new E(V);return G.load(W),G}).then(function(W){var G=[v.Promise.resolve(W)],P=W.files;if(V.checkCRC32)for(var A=0;A<P.length;A++)G.push(N(P[A]));return v.Promise.all(G)}).then(function(W){for(var G=W.shift(),P=G.files,A=0;A<P.length;A++){var T=P[A],x=T.fileNameStr,C=m.resolve(T.fileNameStr);H.file(C,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:V.createFolders}),T.dir||(H.file(C).unsafeOriginalName=x)}return G.zipComment.length&&(H.comment=G.zipComment),H})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(f,p,g){var m=f("../utils"),v=f("../stream/GenericWorker");function b(E,I){v.call(this,"Nodejs stream input adapter for "+E),this._upstreamEnded=!1,this._bindStream(I)}m.inherits(b,v),b.prototype._bindStream=function(E){var I=this;(this._stream=E).pause(),E.on("data",function(R){I.push({data:R,meta:{percent:0}})}).on("error",function(R){I.isPaused?this.generatedError=R:I.error(R)}).on("end",function(){I.isPaused?I._upstreamEnded=!0:I.end()})},b.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},b.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},p.exports=b},{"../stream/GenericWorker":28,"../utils":32}],13:[function(f,p,g){var m=f("readable-stream").Readable;function v(b,E,I){m.call(this,E),this._helper=b;var R=this;b.on("data",function(N,j){R.push(N)||R._helper.pause(),I&&I(j)}).on("error",function(N){R.emit("error",N)}).on("end",function(){R.push(null)})}f("../utils").inherits(v,m),v.prototype._read=function(){this._helper.resume()},p.exports=v},{"../utils":32,"readable-stream":16}],14:[function(f,p,g){p.exports={isNode:o!==void 0,newBufferFrom:function(m,v){if(o.from&&o.from!==Uint8Array.from)return o.from(m,v);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new o(m,v)},allocBuffer:function(m){if(o.alloc)return o.alloc(m);var v=new o(m);return v.fill(0),v},isBuffer:function(m){return o.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(f,p,g){function m(C,y,S){var w,k=b.getTypeOf(y),M=b.extend(S||{},R);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(C=P(C)),M.createFolders&&(w=G(C))&&A.call(this,w,!0);var O=k==="string"&&M.binary===!1&&M.base64===!1;S&&S.binary!==void 0||(M.binary=!O),(y instanceof N&&y.uncompressedSize===0||M.dir||!y||y.length===0)&&(M.base64=!1,M.binary=!0,y="",M.compression="STORE",k="string");var F;F=y instanceof N||y instanceof E?y:H.isNode&&H.isStream(y)?new W(C,y):b.prepareContent(C,y,M.binary,M.optimizedBinaryString,M.base64);var z=new j(C,F,M);this.files[C]=z}var v=f("./utf8"),b=f("./utils"),E=f("./stream/GenericWorker"),I=f("./stream/StreamHelper"),R=f("./defaults"),N=f("./compressedObject"),j=f("./zipObject"),V=f("./generate"),H=f("./nodejsUtils"),W=f("./nodejs/NodejsStreamInputAdapter"),G=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var y=C.lastIndexOf("/");return 0<y?C.substring(0,y):""},P=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},A=function(C,y){return y=y!==void 0?y:R.createFolders,C=P(C),this.files[C]||m.call(this,C,null,{dir:!0,createFolders:y}),this.files[C]};function T(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var y,S,w;for(y in this.files)w=this.files[y],(S=y.slice(this.root.length,y.length))&&y.slice(0,this.root.length)===this.root&&C(S,w)},filter:function(C){var y=[];return this.forEach(function(S,w){C(S,w)&&y.push(w)}),y},file:function(C,y,S){if(arguments.length!==1)return C=this.root+C,m.call(this,C,y,S),this;if(T(C)){var w=C;return this.filter(function(M,O){return!O.dir&&w.test(M)})}var k=this.files[this.root+C];return k&&!k.dir?k:null},folder:function(C){if(!C)return this;if(T(C))return this.filter(function(k,M){return M.dir&&C.test(k)});var y=this.root+C,S=A.call(this,y),w=this.clone();return w.root=S.name,w},remove:function(C){C=this.root+C;var y=this.files[C];if(y||(C.slice(-1)!=="/"&&(C+="/"),y=this.files[C]),y&&!y.dir)delete this.files[C];else for(var S=this.filter(function(k,M){return M.name.slice(0,C.length)===C}),w=0;w<S.length;w++)delete this.files[S[w].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var y,S={};try{if((S=b.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");b.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var w=S.comment||this.comment||"";y=V.generateWorker(this,S,w)}catch(k){(y=new E("error")).error(k)}return new I(y,S.type||"string",S.mimeType)},generateAsync:function(C,y){return this.generateInternalStream(C).accumulate(y)},generateNodeStream:function(C,y){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(y)}};p.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(f,p,g){p.exports=f("stream")},{stream:void 0}],17:[function(f,p,g){var m=f("./DataReader");function v(b){m.call(this,b);for(var E=0;E<this.data.length;E++)b[E]=255&b[E]}f("../utils").inherits(v,m),v.prototype.byteAt=function(b){return this.data[this.zero+b]},v.prototype.lastIndexOfSignature=function(b){for(var E=b.charCodeAt(0),I=b.charCodeAt(1),R=b.charCodeAt(2),N=b.charCodeAt(3),j=this.length-4;0<=j;--j)if(this.data[j]===E&&this.data[j+1]===I&&this.data[j+2]===R&&this.data[j+3]===N)return j-this.zero;return-1},v.prototype.readAndCheckSignature=function(b){var E=b.charCodeAt(0),I=b.charCodeAt(1),R=b.charCodeAt(2),N=b.charCodeAt(3),j=this.readData(4);return E===j[0]&&I===j[1]&&R===j[2]&&N===j[3]},v.prototype.readData=function(b){if(this.checkOffset(b),b===0)return[];var E=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,E},p.exports=v},{"../utils":32,"./DataReader":18}],18:[function(f,p,g){var m=f("../utils");function v(b){this.data=b,this.length=b.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(b){this.checkIndex(this.index+b)},checkIndex:function(b){if(this.length<this.zero+b||b<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+b+"). Corrupted zip ?")},setIndex:function(b){this.checkIndex(b),this.index=b},skip:function(b){this.setIndex(this.index+b)},byteAt:function(){},readInt:function(b){var E,I=0;for(this.checkOffset(b),E=this.index+b-1;E>=this.index;E--)I=(I<<8)+this.byteAt(E);return this.index+=b,I},readString:function(b){return m.transformTo("string",this.readData(b))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var b=this.readInt(4);return new Date(Date.UTC(1980+(b>>25&127),(b>>21&15)-1,b>>16&31,b>>11&31,b>>5&63,(31&b)<<1))}},p.exports=v},{"../utils":32}],19:[function(f,p,g){var m=f("./Uint8ArrayReader");function v(b){m.call(this,b)}f("../utils").inherits(v,m),v.prototype.readData=function(b){this.checkOffset(b);var E=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,E},p.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(f,p,g){var m=f("./DataReader");function v(b){m.call(this,b)}f("../utils").inherits(v,m),v.prototype.byteAt=function(b){return this.data.charCodeAt(this.zero+b)},v.prototype.lastIndexOfSignature=function(b){return this.data.lastIndexOf(b)-this.zero},v.prototype.readAndCheckSignature=function(b){return b===this.readData(4)},v.prototype.readData=function(b){this.checkOffset(b);var E=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,E},p.exports=v},{"../utils":32,"./DataReader":18}],21:[function(f,p,g){var m=f("./ArrayReader");function v(b){m.call(this,b)}f("../utils").inherits(v,m),v.prototype.readData=function(b){if(this.checkOffset(b),b===0)return new Uint8Array(0);var E=this.data.subarray(this.zero+this.index,this.zero+this.index+b);return this.index+=b,E},p.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(f,p,g){var m=f("../utils"),v=f("../support"),b=f("./ArrayReader"),E=f("./StringReader"),I=f("./NodeBufferReader"),R=f("./Uint8ArrayReader");p.exports=function(N){var j=m.getTypeOf(N);return m.checkSupport(j),j!=="string"||v.uint8array?j==="nodebuffer"?new I(N):v.uint8array?new R(m.transformTo("uint8array",N)):new b(m.transformTo("array",N)):new E(N)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(f,p,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(f,p,g){var m=f("./GenericWorker"),v=f("../utils");function b(E){m.call(this,"ConvertWorker to "+E),this.destType=E}v.inherits(b,m),b.prototype.processChunk=function(E){this.push({data:v.transformTo(this.destType,E.data),meta:E.meta})},p.exports=b},{"../utils":32,"./GenericWorker":28}],25:[function(f,p,g){var m=f("./GenericWorker"),v=f("../crc32");function b(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f("../utils").inherits(b,m),b.prototype.processChunk=function(E){this.streamInfo.crc32=v(E.data,this.streamInfo.crc32||0),this.push(E)},p.exports=b},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(f,p,g){var m=f("../utils"),v=f("./GenericWorker");function b(E){v.call(this,"DataLengthProbe for "+E),this.propName=E,this.withStreamInfo(E,0)}m.inherits(b,v),b.prototype.processChunk=function(E){if(E){var I=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=I+E.data.length}v.prototype.processChunk.call(this,E)},p.exports=b},{"../utils":32,"./GenericWorker":28}],27:[function(f,p,g){var m=f("../utils"),v=f("./GenericWorker");function b(E){v.call(this,"DataWorker");var I=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,E.then(function(R){I.dataIsReady=!0,I.data=R,I.max=R&&R.length||0,I.type=m.getTypeOf(R),I.isPaused||I._tickAndRepeat()},function(R){I.error(R)})}m.inherits(b,v),b.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},b.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},b.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},b.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var E=null,I=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":E=this.data.substring(this.index,I);break;case"uint8array":E=this.data.subarray(this.index,I);break;case"array":case"nodebuffer":E=this.data.slice(this.index,I)}return this.index=I,this.push({data:E,meta:{percent:this.max?this.index/this.max*100:0}})},p.exports=b},{"../utils":32,"./GenericWorker":28}],28:[function(f,p,g){function m(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,b){return this._listeners[v].push(b),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,b){if(this._listeners[v])for(var E=0;E<this._listeners[v].length;E++)this._listeners[v][E].call(this,b)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var b=this;return v.on("data",function(E){b.processChunk(E)}),v.on("end",function(){b.end()}),v.on("error",function(E){b.error(E)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,b){return this.extraStreamInfo[v]=b,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},p.exports=m},{}],29:[function(f,p,g){var m=f("../utils"),v=f("./ConvertWorker"),b=f("./GenericWorker"),E=f("../base64"),I=f("../support"),R=f("../external"),N=null;if(I.nodestream)try{N=f("../nodejs/NodejsStreamOutputAdapter")}catch{}function j(V,H,W){var G=H;switch(H){case"blob":case"arraybuffer":G="uint8array";break;case"base64":G="string"}try{this._internalType=G,this._outputType=H,this._mimeType=W,m.checkSupport(G),this._worker=V.pipe(new v(G)),V.lock()}catch(P){this._worker=new b("error"),this._worker.error(P)}}j.prototype={accumulate:function(V){return function(H,W){return new R.Promise(function(G,P){var A=[],T=H._internalType,x=H._outputType,C=H._mimeType;H.on("data",function(y,S){A.push(y),W&&W(S)}).on("error",function(y){A=[],P(y)}).on("end",function(){try{var y=function(S,w,k){switch(S){case"blob":return m.newBlob(m.transformTo("arraybuffer",w),k);case"base64":return E.encode(w);default:return m.transformTo(S,w)}}(x,function(S,w){var k,M=0,O=null,F=0;for(k=0;k<w.length;k++)F+=w[k].length;switch(S){case"string":return w.join("");case"array":return Array.prototype.concat.apply([],w);case"uint8array":for(O=new Uint8Array(F),k=0;k<w.length;k++)O.set(w[k],M),M+=w[k].length;return O;case"nodebuffer":return o.concat(w);default:throw new Error("concat : unsupported type '"+S+"'")}}(T,A),C);G(y)}catch(S){P(S)}A=[]}).resume()})}(this,V)},on:function(V,H){var W=this;return V==="data"?this._worker.on(V,function(G){H.call(W,G.data,G.meta)}):this._worker.on(V,function(){m.delay(H,arguments,W)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(V){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new N(this,{objectMode:this._outputType!=="nodebuffer"},V)}},p.exports=j},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(f,p,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=o!==void 0,g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var m=new ArrayBuffer(0);try{g.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(m),g.blob=v.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!f("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(f,p,g){for(var m=f("./utils"),v=f("./support"),b=f("./nodejsUtils"),E=f("./stream/GenericWorker"),I=new Array(256),R=0;R<256;R++)I[R]=252<=R?6:248<=R?5:240<=R?4:224<=R?3:192<=R?2:1;function N(){E.call(this,"utf-8 decode"),this.leftOver=null}function j(){E.call(this,"utf-8 encode")}I[254]=I[254]=1,g.utf8encode=function(V){return v.nodebuffer?b.newBufferFrom(V,"utf-8"):function(H){var W,G,P,A,T,x=H.length,C=0;for(A=0;A<x;A++)(64512&(G=H.charCodeAt(A)))==55296&&A+1<x&&(64512&(P=H.charCodeAt(A+1)))==56320&&(G=65536+(G-55296<<10)+(P-56320),A++),C+=G<128?1:G<2048?2:G<65536?3:4;for(W=v.uint8array?new Uint8Array(C):new Array(C),A=T=0;T<C;A++)(64512&(G=H.charCodeAt(A)))==55296&&A+1<x&&(64512&(P=H.charCodeAt(A+1)))==56320&&(G=65536+(G-55296<<10)+(P-56320),A++),G<128?W[T++]=G:(G<2048?W[T++]=192|G>>>6:(G<65536?W[T++]=224|G>>>12:(W[T++]=240|G>>>18,W[T++]=128|G>>>12&63),W[T++]=128|G>>>6&63),W[T++]=128|63&G);return W}(V)},g.utf8decode=function(V){return v.nodebuffer?m.transformTo("nodebuffer",V).toString("utf-8"):function(H){var W,G,P,A,T=H.length,x=new Array(2*T);for(W=G=0;W<T;)if((P=H[W++])<128)x[G++]=P;else if(4<(A=I[P]))x[G++]=65533,W+=A-1;else{for(P&=A===2?31:A===3?15:7;1<A&&W<T;)P=P<<6|63&H[W++],A--;1<A?x[G++]=65533:P<65536?x[G++]=P:(P-=65536,x[G++]=55296|P>>10&1023,x[G++]=56320|1023&P)}return x.length!==G&&(x.subarray?x=x.subarray(0,G):x.length=G),m.applyFromCharCode(x)}(V=m.transformTo(v.uint8array?"uint8array":"array",V))},m.inherits(N,E),N.prototype.processChunk=function(V){var H=m.transformTo(v.uint8array?"uint8array":"array",V.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var W=H;(H=new Uint8Array(W.length+this.leftOver.length)).set(this.leftOver,0),H.set(W,this.leftOver.length)}else H=this.leftOver.concat(H);this.leftOver=null}var G=function(A,T){var x;for((T=T||A.length)>A.length&&(T=A.length),x=T-1;0<=x&&(192&A[x])==128;)x--;return x<0||x===0?T:x+I[A[x]]>T?x:T}(H),P=H;G!==H.length&&(v.uint8array?(P=H.subarray(0,G),this.leftOver=H.subarray(G,H.length)):(P=H.slice(0,G),this.leftOver=H.slice(G,H.length))),this.push({data:g.utf8decode(P),meta:V.meta})},N.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=N,m.inherits(j,E),j.prototype.processChunk=function(V){this.push({data:g.utf8encode(V.data),meta:V.meta})},g.Utf8EncodeWorker=j},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(f,p,g){var m=f("./support"),v=f("./base64"),b=f("./nodejsUtils"),E=f("./external");function I(W){return W}function R(W,G){for(var P=0;P<W.length;++P)G[P]=255&W.charCodeAt(P);return G}f("setimmediate"),g.newBlob=function(W,G){g.checkSupport("blob");try{return new Blob([W],{type:G})}catch{try{var P=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return P.append(W),P.getBlob(G)}catch{throw new Error("Bug : can't construct the Blob.")}}};var N={stringifyByChunk:function(W,G,P){var A=[],T=0,x=W.length;if(x<=P)return String.fromCharCode.apply(null,W);for(;T<x;)G==="array"||G==="nodebuffer"?A.push(String.fromCharCode.apply(null,W.slice(T,Math.min(T+P,x)))):A.push(String.fromCharCode.apply(null,W.subarray(T,Math.min(T+P,x)))),T+=P;return A.join("")},stringifyByChar:function(W){for(var G="",P=0;P<W.length;P++)G+=String.fromCharCode(W[P]);return G},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,b.allocBuffer(1)).length===1}catch{return!1}}()}};function j(W){var G=65536,P=g.getTypeOf(W),A=!0;if(P==="uint8array"?A=N.applyCanBeUsed.uint8array:P==="nodebuffer"&&(A=N.applyCanBeUsed.nodebuffer),A)for(;1<G;)try{return N.stringifyByChunk(W,P,G)}catch{G=Math.floor(G/2)}return N.stringifyByChar(W)}function V(W,G){for(var P=0;P<W.length;P++)G[P]=W[P];return G}g.applyFromCharCode=j;var H={};H.string={string:I,array:function(W){return R(W,new Array(W.length))},arraybuffer:function(W){return H.string.uint8array(W).buffer},uint8array:function(W){return R(W,new Uint8Array(W.length))},nodebuffer:function(W){return R(W,b.allocBuffer(W.length))}},H.array={string:j,array:I,arraybuffer:function(W){return new Uint8Array(W).buffer},uint8array:function(W){return new Uint8Array(W)},nodebuffer:function(W){return b.newBufferFrom(W)}},H.arraybuffer={string:function(W){return j(new Uint8Array(W))},array:function(W){return V(new Uint8Array(W),new Array(W.byteLength))},arraybuffer:I,uint8array:function(W){return new Uint8Array(W)},nodebuffer:function(W){return b.newBufferFrom(new Uint8Array(W))}},H.uint8array={string:j,array:function(W){return V(W,new Array(W.length))},arraybuffer:function(W){return W.buffer},uint8array:I,nodebuffer:function(W){return b.newBufferFrom(W)}},H.nodebuffer={string:j,array:function(W){return V(W,new Array(W.length))},arraybuffer:function(W){return H.nodebuffer.uint8array(W).buffer},uint8array:function(W){return V(W,new Uint8Array(W.length))},nodebuffer:I},g.transformTo=function(W,G){if(G=G||"",!W)return G;g.checkSupport(W);var P=g.getTypeOf(G);return H[P][W](G)},g.resolve=function(W){for(var G=W.split("/"),P=[],A=0;A<G.length;A++){var T=G[A];T==="."||T===""&&A!==0&&A!==G.length-1||(T===".."?P.pop():P.push(T))}return P.join("/")},g.getTypeOf=function(W){return typeof W=="string"?"string":Object.prototype.toString.call(W)==="[object Array]"?"array":m.nodebuffer&&b.isBuffer(W)?"nodebuffer":m.uint8array&&W instanceof Uint8Array?"uint8array":m.arraybuffer&&W instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(W){if(!m[W.toLowerCase()])throw new Error(W+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(W){var G,P,A="";for(P=0;P<(W||"").length;P++)A+="\\x"+((G=W.charCodeAt(P))<16?"0":"")+G.toString(16).toUpperCase();return A},g.delay=function(W,G,P){h(function(){W.apply(P||null,G||[])})},g.inherits=function(W,G){function P(){}P.prototype=G.prototype,W.prototype=new P},g.extend=function(){var W,G,P={};for(W=0;W<arguments.length;W++)for(G in arguments[W])Object.prototype.hasOwnProperty.call(arguments[W],G)&&P[G]===void 0&&(P[G]=arguments[W][G]);return P},g.prepareContent=function(W,G,P,A,T){return E.Promise.resolve(G).then(function(x){return m.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new E.Promise(function(C,y){var S=new FileReader;S.onload=function(w){C(w.target.result)},S.onerror=function(w){y(w.target.error)},S.readAsArrayBuffer(x)}):x}).then(function(x){var C=g.getTypeOf(x);return C?(C==="arraybuffer"?x=g.transformTo("uint8array",x):C==="string"&&(T?x=v.decode(x):P&&A!==!0&&(x=function(y){return R(y,m.uint8array?new Uint8Array(y.length):new Array(y.length))}(x))),x):E.Promise.reject(new Error("Can't read the data of '"+W+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(f,p,g){var m=f("./reader/readerFor"),v=f("./utils"),b=f("./signature"),E=f("./zipEntry"),I=f("./support");function R(N){this.files=[],this.loadOptions=N}R.prototype={checkSignature:function(N){if(!this.reader.readAndCheckSignature(N)){this.reader.index-=4;var j=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(j)+", expected "+v.pretty(N)+")")}},isSignature:function(N,j){var V=this.reader.index;this.reader.setIndex(N);var H=this.reader.readString(4)===j;return this.reader.setIndex(V),H},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var N=this.reader.readData(this.zipCommentLength),j=I.uint8array?"uint8array":"array",V=v.transformTo(j,N);this.zipComment=this.loadOptions.decodeFileName(V)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var N,j,V,H=this.zip64EndOfCentralSize-44;0<H;)N=this.reader.readInt(2),j=this.reader.readInt(4),V=this.reader.readData(j),this.zip64ExtensibleData[N]={id:N,length:j,value:V}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var N,j;for(N=0;N<this.files.length;N++)j=this.files[N],this.reader.setIndex(j.localHeaderOffset),this.checkSignature(b.LOCAL_FILE_HEADER),j.readLocalPart(this.reader),j.handleUTF8(),j.processAttributes()},readCentralDir:function(){var N;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(b.CENTRAL_FILE_HEADER);)(N=new E({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(N);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var N=this.reader.lastIndexOfSignature(b.CENTRAL_DIRECTORY_END);if(N<0)throw this.isSignature(0,b.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(N);var j=N;if(this.checkSignature(b.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(N=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(N),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,b.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var V=this.centralDirOffset+this.centralDirSize;this.zip64&&(V+=20,V+=12+this.zip64EndOfCentralSize);var H=j-V;if(0<H)this.isSignature(j,b.CENTRAL_FILE_HEADER)||(this.reader.zero=H);else if(H<0)throw new Error("Corrupted zip: missing "+Math.abs(H)+" bytes.")},prepareReader:function(N){this.reader=m(N)},load:function(N){this.prepareReader(N),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},p.exports=R},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(f,p,g){var m=f("./reader/readerFor"),v=f("./utils"),b=f("./compressedObject"),E=f("./crc32"),I=f("./utf8"),R=f("./compressions"),N=f("./support");function j(V,H){this.options=V,this.loadOptions=H}j.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(V){var H,W;if(V.skip(22),this.fileNameLength=V.readInt(2),W=V.readInt(2),this.fileName=V.readData(this.fileNameLength),V.skip(W),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((H=function(G){for(var P in R)if(Object.prototype.hasOwnProperty.call(R,P)&&R[P].magic===G)return R[P];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new b(this.compressedSize,this.uncompressedSize,this.crc32,H,V.readData(this.compressedSize))},readCentralPart:function(V){this.versionMadeBy=V.readInt(2),V.skip(2),this.bitFlag=V.readInt(2),this.compressionMethod=V.readString(2),this.date=V.readDate(),this.crc32=V.readInt(4),this.compressedSize=V.readInt(4),this.uncompressedSize=V.readInt(4);var H=V.readInt(2);if(this.extraFieldsLength=V.readInt(2),this.fileCommentLength=V.readInt(2),this.diskNumberStart=V.readInt(2),this.internalFileAttributes=V.readInt(2),this.externalFileAttributes=V.readInt(4),this.localHeaderOffset=V.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");V.skip(H),this.readExtraFields(V),this.parseZIP64ExtraField(V),this.fileComment=V.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var V=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),V==0&&(this.dosPermissions=63&this.externalFileAttributes),V==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var V=m(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=V.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=V.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=V.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=V.readInt(4))}},readExtraFields:function(V){var H,W,G,P=V.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});V.index+4<P;)H=V.readInt(2),W=V.readInt(2),G=V.readData(W),this.extraFields[H]={id:H,length:W,value:G};V.setIndex(P)},handleUTF8:function(){var V=N.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=I.utf8decode(this.fileName),this.fileCommentStr=I.utf8decode(this.fileComment);else{var H=this.findExtraFieldUnicodePath();if(H!==null)this.fileNameStr=H;else{var W=v.transformTo(V,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(W)}var G=this.findExtraFieldUnicodeComment();if(G!==null)this.fileCommentStr=G;else{var P=v.transformTo(V,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(P)}}},findExtraFieldUnicodePath:function(){var V=this.extraFields[28789];if(V){var H=m(V.value);return H.readInt(1)!==1||E(this.fileName)!==H.readInt(4)?null:I.utf8decode(H.readData(V.length-5))}return null},findExtraFieldUnicodeComment:function(){var V=this.extraFields[25461];if(V){var H=m(V.value);return H.readInt(1)!==1||E(this.fileComment)!==H.readInt(4)?null:I.utf8decode(H.readData(V.length-5))}return null}},p.exports=j},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(f,p,g){function m(H,W,G){this.name=H,this.dir=G.dir,this.date=G.date,this.comment=G.comment,this.unixPermissions=G.unixPermissions,this.dosPermissions=G.dosPermissions,this._data=W,this._dataBinary=G.binary,this.options={compression:G.compression,compressionOptions:G.compressionOptions}}var v=f("./stream/StreamHelper"),b=f("./stream/DataWorker"),E=f("./utf8"),I=f("./compressedObject"),R=f("./stream/GenericWorker");m.prototype={internalStream:function(H){var W=null,G="string";try{if(!H)throw new Error("No output type specified.");var P=(G=H.toLowerCase())==="string"||G==="text";G!=="binarystring"&&G!=="text"||(G="string"),W=this._decompressWorker();var A=!this._dataBinary;A&&!P&&(W=W.pipe(new E.Utf8EncodeWorker)),!A&&P&&(W=W.pipe(new E.Utf8DecodeWorker))}catch(T){(W=new R("error")).error(T)}return new v(W,G,"")},async:function(H,W){return this.internalStream(H).accumulate(W)},nodeStream:function(H,W){return this.internalStream(H||"nodebuffer").toNodejsStream(W)},_compressWorker:function(H,W){if(this._data instanceof I&&this._data.compression.magic===H.magic)return this._data.getCompressedWorker();var G=this._decompressWorker();return this._dataBinary||(G=G.pipe(new E.Utf8EncodeWorker)),I.createWorkerFrom(G,H,W)},_decompressWorker:function(){return this._data instanceof I?this._data.getContentWorker():this._data instanceof R?this._data:new b(this._data)}};for(var N=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],j=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},V=0;V<N.length;V++)m.prototype[N[V]]=j;p.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(f,p,g){(function(m){var v,b,E=m.MutationObserver||m.WebKitMutationObserver;if(E){var I=0,R=new E(H),N=m.document.createTextNode("");R.observe(N,{characterData:!0}),v=function(){N.data=I=++I%2}}else if(m.setImmediate||m.MessageChannel===void 0)v="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var W=m.document.createElement("script");W.onreadystatechange=function(){H(),W.onreadystatechange=null,W.parentNode.removeChild(W),W=null},m.document.documentElement.appendChild(W)}:function(){setTimeout(H,0)};else{var j=new m.MessageChannel;j.port1.onmessage=H,v=function(){j.port2.postMessage(0)}}var V=[];function H(){var W,G;b=!0;for(var P=V.length;P;){for(G=V,V=[],W=-1;++W<P;)G[W]();P=V.length}b=!1}p.exports=function(W){V.push(W)!==1||b||v()}}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(f,p,g){var m=f("immediate");function v(){}var b={},E=["REJECTED"],I=["FULFILLED"],R=["PENDING"];function N(P){if(typeof P!="function")throw new TypeError("resolver must be a function");this.state=R,this.queue=[],this.outcome=void 0,P!==v&&W(this,P)}function j(P,A,T){this.promise=P,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function V(P,A,T){m(function(){var x;try{x=A(T)}catch(C){return b.reject(P,C)}x===P?b.reject(P,new TypeError("Cannot resolve promise with itself")):b.resolve(P,x)})}function H(P){var A=P&&P.then;if(P&&(typeof P=="object"||typeof P=="function")&&typeof A=="function")return function(){A.apply(P,arguments)}}function W(P,A){var T=!1;function x(S){T||(T=!0,b.reject(P,S))}function C(S){T||(T=!0,b.resolve(P,S))}var y=G(function(){A(C,x)});y.status==="error"&&x(y.value)}function G(P,A){var T={};try{T.value=P(A),T.status="success"}catch(x){T.status="error",T.value=x}return T}(p.exports=N).prototype.finally=function(P){if(typeof P!="function")return this;var A=this.constructor;return this.then(function(T){return A.resolve(P()).then(function(){return T})},function(T){return A.resolve(P()).then(function(){throw T})})},N.prototype.catch=function(P){return this.then(null,P)},N.prototype.then=function(P,A){if(typeof P!="function"&&this.state===I||typeof A!="function"&&this.state===E)return this;var T=new this.constructor(v);return this.state!==R?V(T,this.state===I?P:A,this.outcome):this.queue.push(new j(T,P,A)),T},j.prototype.callFulfilled=function(P){b.resolve(this.promise,P)},j.prototype.otherCallFulfilled=function(P){V(this.promise,this.onFulfilled,P)},j.prototype.callRejected=function(P){b.reject(this.promise,P)},j.prototype.otherCallRejected=function(P){V(this.promise,this.onRejected,P)},b.resolve=function(P,A){var T=G(H,A);if(T.status==="error")return b.reject(P,T.value);var x=T.value;if(x)W(P,x);else{P.state=I,P.outcome=A;for(var C=-1,y=P.queue.length;++C<y;)P.queue[C].callFulfilled(A)}return P},b.reject=function(P,A){P.state=E,P.outcome=A;for(var T=-1,x=P.queue.length;++T<x;)P.queue[T].callRejected(A);return P},N.resolve=function(P){return P instanceof this?P:b.resolve(new this(v),P)},N.reject=function(P){var A=new this(v);return b.reject(A,P)},N.all=function(P){var A=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=P.length,x=!1;if(!T)return this.resolve([]);for(var C=new Array(T),y=0,S=-1,w=new this(v);++S<T;)k(P[S],S);return w;function k(M,O){A.resolve(M).then(function(F){C[O]=F,++y!==T||x||(x=!0,b.resolve(w,C))},function(F){x||(x=!0,b.reject(w,F))})}},N.race=function(P){if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=P.length,T=!1;if(!A)return this.resolve([]);for(var x,C=-1,y=new this(v);++C<A;)x=P[C],this.resolve(x).then(function(S){T||(T=!0,b.resolve(y,S))},function(S){T||(T=!0,b.reject(y,S))});return y}},{immediate:36}],38:[function(f,p,g){var m={};(0,f("./lib/utils/common").assign)(m,f("./lib/deflate"),f("./lib/inflate"),f("./lib/zlib/constants")),p.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(f,p,g){var m=f("./zlib/deflate"),v=f("./utils/common"),b=f("./utils/strings"),E=f("./zlib/messages"),I=f("./zlib/zstream"),R=Object.prototype.toString;function N(V){if(!(this instanceof N))return new N(V);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},V||{});var H=this.options;H.raw&&0<H.windowBits?H.windowBits=-H.windowBits:H.gzip&&0<H.windowBits&&H.windowBits<16&&(H.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var W=m.deflateInit2(this.strm,H.level,H.method,H.windowBits,H.memLevel,H.strategy);if(W!==0)throw new Error(E[W]);if(H.header&&m.deflateSetHeader(this.strm,H.header),H.dictionary){var G;if(G=typeof H.dictionary=="string"?b.string2buf(H.dictionary):R.call(H.dictionary)==="[object ArrayBuffer]"?new Uint8Array(H.dictionary):H.dictionary,(W=m.deflateSetDictionary(this.strm,G))!==0)throw new Error(E[W]);this._dict_set=!0}}function j(V,H){var W=new N(H);if(W.push(V,!0),W.err)throw W.msg||E[W.err];return W.result}N.prototype.push=function(V,H){var W,G,P=this.strm,A=this.options.chunkSize;if(this.ended)return!1;G=H===~~H?H:H===!0?4:0,typeof V=="string"?P.input=b.string2buf(V):R.call(V)==="[object ArrayBuffer]"?P.input=new Uint8Array(V):P.input=V,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new v.Buf8(A),P.next_out=0,P.avail_out=A),(W=m.deflate(P,G))!==1&&W!==0)return this.onEnd(W),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||G!==4&&G!==2)||(this.options.to==="string"?this.onData(b.buf2binstring(v.shrinkBuf(P.output,P.next_out))):this.onData(v.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&W!==1);return G===4?(W=m.deflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===0):G!==2||(this.onEnd(0),!(P.avail_out=0))},N.prototype.onData=function(V){this.chunks.push(V)},N.prototype.onEnd=function(V){V===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg},g.Deflate=N,g.deflate=j,g.deflateRaw=function(V,H){return(H=H||{}).raw=!0,j(V,H)},g.gzip=function(V,H){return(H=H||{}).gzip=!0,j(V,H)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(f,p,g){var m=f("./zlib/inflate"),v=f("./utils/common"),b=f("./utils/strings"),E=f("./zlib/constants"),I=f("./zlib/messages"),R=f("./zlib/zstream"),N=f("./zlib/gzheader"),j=Object.prototype.toString;function V(W){if(!(this instanceof V))return new V(W);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},W||{});var G=this.options;G.raw&&0<=G.windowBits&&G.windowBits<16&&(G.windowBits=-G.windowBits,G.windowBits===0&&(G.windowBits=-15)),!(0<=G.windowBits&&G.windowBits<16)||W&&W.windowBits||(G.windowBits+=32),15<G.windowBits&&G.windowBits<48&&!(15&G.windowBits)&&(G.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new R,this.strm.avail_out=0;var P=m.inflateInit2(this.strm,G.windowBits);if(P!==E.Z_OK)throw new Error(I[P]);this.header=new N,m.inflateGetHeader(this.strm,this.header)}function H(W,G){var P=new V(G);if(P.push(W,!0),P.err)throw P.msg||I[P.err];return P.result}V.prototype.push=function(W,G){var P,A,T,x,C,y,S=this.strm,w=this.options.chunkSize,k=this.options.dictionary,M=!1;if(this.ended)return!1;A=G===~~G?G:G===!0?E.Z_FINISH:E.Z_NO_FLUSH,typeof W=="string"?S.input=b.binstring2buf(W):j.call(W)==="[object ArrayBuffer]"?S.input=new Uint8Array(W):S.input=W,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new v.Buf8(w),S.next_out=0,S.avail_out=w),(P=m.inflate(S,E.Z_NO_FLUSH))===E.Z_NEED_DICT&&k&&(y=typeof k=="string"?b.string2buf(k):j.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,P=m.inflateSetDictionary(this.strm,y)),P===E.Z_BUF_ERROR&&M===!0&&(P=E.Z_OK,M=!1),P!==E.Z_STREAM_END&&P!==E.Z_OK)return this.onEnd(P),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&P!==E.Z_STREAM_END&&(S.avail_in!==0||A!==E.Z_FINISH&&A!==E.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=b.utf8border(S.output,S.next_out),x=S.next_out-T,C=b.buf2string(S.output,T),S.next_out=x,S.avail_out=w-x,x&&v.arraySet(S.output,S.output,T,x,0),this.onData(C)):this.onData(v.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(M=!0)}while((0<S.avail_in||S.avail_out===0)&&P!==E.Z_STREAM_END);return P===E.Z_STREAM_END&&(A=E.Z_FINISH),A===E.Z_FINISH?(P=m.inflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===E.Z_OK):A!==E.Z_SYNC_FLUSH||(this.onEnd(E.Z_OK),!(S.avail_out=0))},V.prototype.onData=function(W){this.chunks.push(W)},V.prototype.onEnd=function(W){W===E.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=W,this.msg=this.strm.msg},g.Inflate=V,g.inflate=H,g.inflateRaw=function(W,G){return(G=G||{}).raw=!0,H(W,G)},g.ungzip=H},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(f,p,g){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(E){for(var I=Array.prototype.slice.call(arguments,1);I.length;){var R=I.shift();if(R){if(typeof R!="object")throw new TypeError(R+"must be non-object");for(var N in R)R.hasOwnProperty(N)&&(E[N]=R[N])}}return E},g.shrinkBuf=function(E,I){return E.length===I?E:E.subarray?E.subarray(0,I):(E.length=I,E)};var v={arraySet:function(E,I,R,N,j){if(I.subarray&&E.subarray)E.set(I.subarray(R,R+N),j);else for(var V=0;V<N;V++)E[j+V]=I[R+V]},flattenChunks:function(E){var I,R,N,j,V,H;for(I=N=0,R=E.length;I<R;I++)N+=E[I].length;for(H=new Uint8Array(N),I=j=0,R=E.length;I<R;I++)V=E[I],H.set(V,j),j+=V.length;return H}},b={arraySet:function(E,I,R,N,j){for(var V=0;V<N;V++)E[j+V]=I[R+V]},flattenChunks:function(E){return[].concat.apply([],E)}};g.setTyped=function(E){E?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,v)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,b))},g.setTyped(m)},{}],42:[function(f,p,g){var m=f("./common"),v=!0,b=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{b=!1}for(var E=new m.Buf8(256),I=0;I<256;I++)E[I]=252<=I?6:248<=I?5:240<=I?4:224<=I?3:192<=I?2:1;function R(N,j){if(j<65537&&(N.subarray&&b||!N.subarray&&v))return String.fromCharCode.apply(null,m.shrinkBuf(N,j));for(var V="",H=0;H<j;H++)V+=String.fromCharCode(N[H]);return V}E[254]=E[254]=1,g.string2buf=function(N){var j,V,H,W,G,P=N.length,A=0;for(W=0;W<P;W++)(64512&(V=N.charCodeAt(W)))==55296&&W+1<P&&(64512&(H=N.charCodeAt(W+1)))==56320&&(V=65536+(V-55296<<10)+(H-56320),W++),A+=V<128?1:V<2048?2:V<65536?3:4;for(j=new m.Buf8(A),W=G=0;G<A;W++)(64512&(V=N.charCodeAt(W)))==55296&&W+1<P&&(64512&(H=N.charCodeAt(W+1)))==56320&&(V=65536+(V-55296<<10)+(H-56320),W++),V<128?j[G++]=V:(V<2048?j[G++]=192|V>>>6:(V<65536?j[G++]=224|V>>>12:(j[G++]=240|V>>>18,j[G++]=128|V>>>12&63),j[G++]=128|V>>>6&63),j[G++]=128|63&V);return j},g.buf2binstring=function(N){return R(N,N.length)},g.binstring2buf=function(N){for(var j=new m.Buf8(N.length),V=0,H=j.length;V<H;V++)j[V]=N.charCodeAt(V);return j},g.buf2string=function(N,j){var V,H,W,G,P=j||N.length,A=new Array(2*P);for(V=H=0;V<P;)if((W=N[V++])<128)A[H++]=W;else if(4<(G=E[W]))A[H++]=65533,V+=G-1;else{for(W&=G===2?31:G===3?15:7;1<G&&V<P;)W=W<<6|63&N[V++],G--;1<G?A[H++]=65533:W<65536?A[H++]=W:(W-=65536,A[H++]=55296|W>>10&1023,A[H++]=56320|1023&W)}return R(A,H)},g.utf8border=function(N,j){var V;for((j=j||N.length)>N.length&&(j=N.length),V=j-1;0<=V&&(192&N[V])==128;)V--;return V<0||V===0?j:V+E[N[V]]>j?V:j}},{"./common":41}],43:[function(f,p,g){p.exports=function(m,v,b,E){for(var I=65535&m|0,R=m>>>16&65535|0,N=0;b!==0;){for(b-=N=2e3<b?2e3:b;R=R+(I=I+v[E++]|0)|0,--N;);I%=65521,R%=65521}return I|R<<16|0}},{}],44:[function(f,p,g){p.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(f,p,g){var m=function(){for(var v,b=[],E=0;E<256;E++){v=E;for(var I=0;I<8;I++)v=1&v?3988292384^v>>>1:v>>>1;b[E]=v}return b}();p.exports=function(v,b,E,I){var R=m,N=I+E;v^=-1;for(var j=I;j<N;j++)v=v>>>8^R[255&(v^b[j])];return-1^v}},{}],46:[function(f,p,g){var m,v=f("../utils/common"),b=f("./trees"),E=f("./adler32"),I=f("./crc32"),R=f("./messages"),N=-2,j=258,V=262,H=113;function W(L,K){return L.msg=R[K],K}function G(L){return(L<<1)-(4<L?9:0)}function P(L){for(var K=L.length;0<=--K;)L[K]=0}function A(L){var K=L.state,D=K.pending;D>L.avail_out&&(D=L.avail_out),D!==0&&(v.arraySet(L.output,K.pending_buf,K.pending_out,D,L.next_out),L.next_out+=D,K.pending_out+=D,L.total_out+=D,L.avail_out-=D,K.pending-=D,K.pending===0&&(K.pending_out=0))}function T(L,K){b._tr_flush_block(L,0<=L.block_start?L.block_start:-1,L.strstart-L.block_start,K),L.block_start=L.strstart,A(L.strm)}function x(L,K){L.pending_buf[L.pending++]=K}function C(L,K){L.pending_buf[L.pending++]=K>>>8&255,L.pending_buf[L.pending++]=255&K}function y(L,K){var D,B,U=L.max_chain_length,Q=L.strstart,q=L.prev_length,Z=L.nice_match,$=L.strstart>L.w_size-V?L.strstart-(L.w_size-V):0,ie=L.window,te=L.w_mask,Y=L.prev,ee=L.strstart+j,re=ie[Q+q-1],ne=ie[Q+q];L.prev_length>=L.good_match&&(U>>=2),Z>L.lookahead&&(Z=L.lookahead);do if(ie[(D=K)+q]===ne&&ie[D+q-1]===re&&ie[D]===ie[Q]&&ie[++D]===ie[Q+1]){Q+=2,D++;do;while(ie[++Q]===ie[++D]&&ie[++Q]===ie[++D]&&ie[++Q]===ie[++D]&&ie[++Q]===ie[++D]&&ie[++Q]===ie[++D]&&ie[++Q]===ie[++D]&&ie[++Q]===ie[++D]&&ie[++Q]===ie[++D]&&Q<ee);if(B=j-(ee-Q),Q=ee-j,q<B){if(L.match_start=K,Z<=(q=B))break;re=ie[Q+q-1],ne=ie[Q+q]}}while((K=Y[K&te])>$&&--U!=0);return q<=L.lookahead?q:L.lookahead}function S(L){var K,D,B,U,Q,q,Z,$,ie,te,Y=L.w_size;do{if(U=L.window_size-L.lookahead-L.strstart,L.strstart>=Y+(Y-V)){for(v.arraySet(L.window,L.window,Y,Y,0),L.match_start-=Y,L.strstart-=Y,L.block_start-=Y,K=D=L.hash_size;B=L.head[--K],L.head[K]=Y<=B?B-Y:0,--D;);for(K=D=Y;B=L.prev[--K],L.prev[K]=Y<=B?B-Y:0,--D;);U+=Y}if(L.strm.avail_in===0)break;if(q=L.strm,Z=L.window,$=L.strstart+L.lookahead,te=void 0,(ie=U)<(te=q.avail_in)&&(te=ie),D=te===0?0:(q.avail_in-=te,v.arraySet(Z,q.input,q.next_in,te,$),q.state.wrap===1?q.adler=E(q.adler,Z,te,$):q.state.wrap===2&&(q.adler=I(q.adler,Z,te,$)),q.next_in+=te,q.total_in+=te,te),L.lookahead+=D,L.lookahead+L.insert>=3)for(Q=L.strstart-L.insert,L.ins_h=L.window[Q],L.ins_h=(L.ins_h<<L.hash_shift^L.window[Q+1])&L.hash_mask;L.insert&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[Q+3-1])&L.hash_mask,L.prev[Q&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=Q,Q++,L.insert--,!(L.lookahead+L.insert<3)););}while(L.lookahead<V&&L.strm.avail_in!==0)}function w(L,K){for(var D,B;;){if(L.lookahead<V){if(S(L),L.lookahead<V&&K===0)return 1;if(L.lookahead===0)break}if(D=0,L.lookahead>=3&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+3-1])&L.hash_mask,D=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),D!==0&&L.strstart-D<=L.w_size-V&&(L.match_length=y(L,D)),L.match_length>=3)if(B=b._tr_tally(L,L.strstart-L.match_start,L.match_length-3),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=3){for(L.match_length--;L.strstart++,L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+3-1])&L.hash_mask,D=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart,--L.match_length!=0;);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+1])&L.hash_mask;else B=b._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(B&&(T(L,!1),L.strm.avail_out===0))return 1}return L.insert=L.strstart<2?L.strstart:2,K===4?(T(L,!0),L.strm.avail_out===0?3:4):L.last_lit&&(T(L,!1),L.strm.avail_out===0)?1:2}function k(L,K){for(var D,B,U;;){if(L.lookahead<V){if(S(L),L.lookahead<V&&K===0)return 1;if(L.lookahead===0)break}if(D=0,L.lookahead>=3&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+3-1])&L.hash_mask,D=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=2,D!==0&&L.prev_length<L.max_lazy_match&&L.strstart-D<=L.w_size-V&&(L.match_length=y(L,D),L.match_length<=5&&(L.strategy===1||L.match_length===3&&4096<L.strstart-L.match_start)&&(L.match_length=2)),L.prev_length>=3&&L.match_length<=L.prev_length){for(U=L.strstart+L.lookahead-3,B=b._tr_tally(L,L.strstart-1-L.prev_match,L.prev_length-3),L.lookahead-=L.prev_length-1,L.prev_length-=2;++L.strstart<=U&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+3-1])&L.hash_mask,D=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),--L.prev_length!=0;);if(L.match_available=0,L.match_length=2,L.strstart++,B&&(T(L,!1),L.strm.avail_out===0))return 1}else if(L.match_available){if((B=b._tr_tally(L,0,L.window[L.strstart-1]))&&T(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return 1}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(B=b._tr_tally(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<2?L.strstart:2,K===4?(T(L,!0),L.strm.avail_out===0?3:4):L.last_lit&&(T(L,!1),L.strm.avail_out===0)?1:2}function M(L,K,D,B,U){this.good_length=L,this.max_lazy=K,this.nice_length=D,this.max_chain=B,this.func=U}function O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),P(this.dyn_ltree),P(this.dyn_dtree),P(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),P(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),P(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function F(L){var K;return L&&L.state?(L.total_in=L.total_out=0,L.data_type=2,(K=L.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?42:H,L.adler=K.wrap===2?0:1,K.last_flush=0,b._tr_init(K),0):W(L,N)}function z(L){var K=F(L);return K===0&&function(D){D.window_size=2*D.w_size,P(D.head),D.max_lazy_match=m[D.level].max_lazy,D.good_match=m[D.level].good_length,D.nice_match=m[D.level].nice_length,D.max_chain_length=m[D.level].max_chain,D.strstart=0,D.block_start=0,D.lookahead=0,D.insert=0,D.match_length=D.prev_length=2,D.match_available=0,D.ins_h=0}(L.state),K}function X(L,K,D,B,U,Q){if(!L)return N;var q=1;if(K===-1&&(K=6),B<0?(q=0,B=-B):15<B&&(q=2,B-=16),U<1||9<U||D!==8||B<8||15<B||K<0||9<K||Q<0||4<Q)return W(L,N);B===8&&(B=9);var Z=new O;return(L.state=Z).strm=L,Z.wrap=q,Z.gzhead=null,Z.w_bits=B,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=U+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+3-1)/3),Z.window=new v.Buf8(2*Z.w_size),Z.head=new v.Buf16(Z.hash_size),Z.prev=new v.Buf16(Z.w_size),Z.lit_bufsize=1<<U+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new v.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=K,Z.strategy=Q,Z.method=D,z(L)}m=[new M(0,0,0,0,function(L,K){var D=65535;for(D>L.pending_buf_size-5&&(D=L.pending_buf_size-5);;){if(L.lookahead<=1){if(S(L),L.lookahead===0&&K===0)return 1;if(L.lookahead===0)break}L.strstart+=L.lookahead,L.lookahead=0;var B=L.block_start+D;if((L.strstart===0||L.strstart>=B)&&(L.lookahead=L.strstart-B,L.strstart=B,T(L,!1),L.strm.avail_out===0)||L.strstart-L.block_start>=L.w_size-V&&(T(L,!1),L.strm.avail_out===0))return 1}return L.insert=0,K===4?(T(L,!0),L.strm.avail_out===0?3:4):(L.strstart>L.block_start&&(T(L,!1),L.strm.avail_out),1)}),new M(4,4,8,4,w),new M(4,5,16,8,w),new M(4,6,32,32,w),new M(4,4,16,16,k),new M(8,16,32,32,k),new M(8,16,128,128,k),new M(8,32,128,256,k),new M(32,128,258,1024,k),new M(32,258,258,4096,k)],g.deflateInit=function(L,K){return X(L,K,8,15,8,0)},g.deflateInit2=X,g.deflateReset=z,g.deflateResetKeep=F,g.deflateSetHeader=function(L,K){return L&&L.state?L.state.wrap!==2?N:(L.state.gzhead=K,0):N},g.deflate=function(L,K){var D,B,U,Q;if(!L||!L.state||5<K||K<0)return L?W(L,N):N;if(B=L.state,!L.output||!L.input&&L.avail_in!==0||B.status===666&&K!==4)return W(L,L.avail_out===0?-5:N);if(B.strm=L,D=B.last_flush,B.last_flush=K,B.status===42)if(B.wrap===2)L.adler=0,x(B,31),x(B,139),x(B,8),B.gzhead?(x(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),x(B,255&B.gzhead.time),x(B,B.gzhead.time>>8&255),x(B,B.gzhead.time>>16&255),x(B,B.gzhead.time>>24&255),x(B,B.level===9?2:2<=B.strategy||B.level<2?4:0),x(B,255&B.gzhead.os),B.gzhead.extra&&B.gzhead.extra.length&&(x(B,255&B.gzhead.extra.length),x(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(L.adler=I(L.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=69):(x(B,0),x(B,0),x(B,0),x(B,0),x(B,0),x(B,B.level===9?2:2<=B.strategy||B.level<2?4:0),x(B,3),B.status=H);else{var q=8+(B.w_bits-8<<4)<<8;q|=(2<=B.strategy||B.level<2?0:B.level<6?1:B.level===6?2:3)<<6,B.strstart!==0&&(q|=32),q+=31-q%31,B.status=H,C(B,q),B.strstart!==0&&(C(B,L.adler>>>16),C(B,65535&L.adler)),L.adler=1}if(B.status===69)if(B.gzhead.extra){for(U=B.pending;B.gzindex<(65535&B.gzhead.extra.length)&&(B.pending!==B.pending_buf_size||(B.gzhead.hcrc&&B.pending>U&&(L.adler=I(L.adler,B.pending_buf,B.pending-U,U)),A(L),U=B.pending,B.pending!==B.pending_buf_size));)x(B,255&B.gzhead.extra[B.gzindex]),B.gzindex++;B.gzhead.hcrc&&B.pending>U&&(L.adler=I(L.adler,B.pending_buf,B.pending-U,U)),B.gzindex===B.gzhead.extra.length&&(B.gzindex=0,B.status=73)}else B.status=73;if(B.status===73)if(B.gzhead.name){U=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>U&&(L.adler=I(L.adler,B.pending_buf,B.pending-U,U)),A(L),U=B.pending,B.pending===B.pending_buf_size)){Q=1;break}Q=B.gzindex<B.gzhead.name.length?255&B.gzhead.name.charCodeAt(B.gzindex++):0,x(B,Q)}while(Q!==0);B.gzhead.hcrc&&B.pending>U&&(L.adler=I(L.adler,B.pending_buf,B.pending-U,U)),Q===0&&(B.gzindex=0,B.status=91)}else B.status=91;if(B.status===91)if(B.gzhead.comment){U=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>U&&(L.adler=I(L.adler,B.pending_buf,B.pending-U,U)),A(L),U=B.pending,B.pending===B.pending_buf_size)){Q=1;break}Q=B.gzindex<B.gzhead.comment.length?255&B.gzhead.comment.charCodeAt(B.gzindex++):0,x(B,Q)}while(Q!==0);B.gzhead.hcrc&&B.pending>U&&(L.adler=I(L.adler,B.pending_buf,B.pending-U,U)),Q===0&&(B.status=103)}else B.status=103;if(B.status===103&&(B.gzhead.hcrc?(B.pending+2>B.pending_buf_size&&A(L),B.pending+2<=B.pending_buf_size&&(x(B,255&L.adler),x(B,L.adler>>8&255),L.adler=0,B.status=H)):B.status=H),B.pending!==0){if(A(L),L.avail_out===0)return B.last_flush=-1,0}else if(L.avail_in===0&&G(K)<=G(D)&&K!==4)return W(L,-5);if(B.status===666&&L.avail_in!==0)return W(L,-5);if(L.avail_in!==0||B.lookahead!==0||K!==0&&B.status!==666){var Z=B.strategy===2?function($,ie){for(var te;;){if($.lookahead===0&&(S($),$.lookahead===0)){if(ie===0)return 1;break}if($.match_length=0,te=b._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,te&&(T($,!1),$.strm.avail_out===0))return 1}return $.insert=0,ie===4?(T($,!0),$.strm.avail_out===0?3:4):$.last_lit&&(T($,!1),$.strm.avail_out===0)?1:2}(B,K):B.strategy===3?function($,ie){for(var te,Y,ee,re,ne=$.window;;){if($.lookahead<=j){if(S($),$.lookahead<=j&&ie===0)return 1;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=3&&0<$.strstart&&(Y=ne[ee=$.strstart-1])===ne[++ee]&&Y===ne[++ee]&&Y===ne[++ee]){re=$.strstart+j;do;while(Y===ne[++ee]&&Y===ne[++ee]&&Y===ne[++ee]&&Y===ne[++ee]&&Y===ne[++ee]&&Y===ne[++ee]&&Y===ne[++ee]&&Y===ne[++ee]&&ee<re);$.match_length=j-(re-ee),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=3?(te=b._tr_tally($,1,$.match_length-3),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(te=b._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),te&&(T($,!1),$.strm.avail_out===0))return 1}return $.insert=0,ie===4?(T($,!0),$.strm.avail_out===0?3:4):$.last_lit&&(T($,!1),$.strm.avail_out===0)?1:2}(B,K):m[B.level].func(B,K);if(Z!==3&&Z!==4||(B.status=666),Z===1||Z===3)return L.avail_out===0&&(B.last_flush=-1),0;if(Z===2&&(K===1?b._tr_align(B):K!==5&&(b._tr_stored_block(B,0,0,!1),K===3&&(P(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),A(L),L.avail_out===0))return B.last_flush=-1,0}return K!==4?0:B.wrap<=0?1:(B.wrap===2?(x(B,255&L.adler),x(B,L.adler>>8&255),x(B,L.adler>>16&255),x(B,L.adler>>24&255),x(B,255&L.total_in),x(B,L.total_in>>8&255),x(B,L.total_in>>16&255),x(B,L.total_in>>24&255)):(C(B,L.adler>>>16),C(B,65535&L.adler)),A(L),0<B.wrap&&(B.wrap=-B.wrap),B.pending!==0?0:1)},g.deflateEnd=function(L){var K;return L&&L.state?(K=L.state.status)!==42&&K!==69&&K!==73&&K!==91&&K!==103&&K!==H&&K!==666?W(L,N):(L.state=null,K===H?W(L,-3):0):N},g.deflateSetDictionary=function(L,K){var D,B,U,Q,q,Z,$,ie,te=K.length;if(!L||!L.state||(Q=(D=L.state).wrap)===2||Q===1&&D.status!==42||D.lookahead)return N;for(Q===1&&(L.adler=E(L.adler,K,te,0)),D.wrap=0,te>=D.w_size&&(Q===0&&(P(D.head),D.strstart=0,D.block_start=0,D.insert=0),ie=new v.Buf8(D.w_size),v.arraySet(ie,K,te-D.w_size,D.w_size,0),K=ie,te=D.w_size),q=L.avail_in,Z=L.next_in,$=L.input,L.avail_in=te,L.next_in=0,L.input=K,S(D);D.lookahead>=3;){for(B=D.strstart,U=D.lookahead-2;D.ins_h=(D.ins_h<<D.hash_shift^D.window[B+3-1])&D.hash_mask,D.prev[B&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=B,B++,--U;);D.strstart=B,D.lookahead=2,S(D)}return D.strstart+=D.lookahead,D.block_start=D.strstart,D.insert=D.lookahead,D.lookahead=0,D.match_length=D.prev_length=2,D.match_available=0,L.next_in=Z,L.input=$,L.avail_in=q,D.wrap=Q,0},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(f,p,g){p.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(f,p,g){p.exports=function(m,v){var b,E,I,R,N,j,V,H,W,G,P,A,T,x,C,y,S,w,k,M,O,F,z,X,L;b=m.state,E=m.next_in,X=m.input,I=E+(m.avail_in-5),R=m.next_out,L=m.output,N=R-(v-m.avail_out),j=R+(m.avail_out-257),V=b.dmax,H=b.wsize,W=b.whave,G=b.wnext,P=b.window,A=b.hold,T=b.bits,x=b.lencode,C=b.distcode,y=(1<<b.lenbits)-1,S=(1<<b.distbits)-1;e:do{T<15&&(A+=X[E++]<<T,T+=8,A+=X[E++]<<T,T+=8),w=x[A&y];t:for(;;){if(A>>>=k=w>>>24,T-=k,(k=w>>>16&255)==0)L[R++]=65535&w;else{if(!(16&k)){if(!(64&k)){w=x[(65535&w)+(A&(1<<k)-1)];continue t}if(32&k){b.mode=12;break e}m.msg="invalid literal/length code",b.mode=30;break e}M=65535&w,(k&=15)&&(T<k&&(A+=X[E++]<<T,T+=8),M+=A&(1<<k)-1,A>>>=k,T-=k),T<15&&(A+=X[E++]<<T,T+=8,A+=X[E++]<<T,T+=8),w=C[A&S];i:for(;;){if(A>>>=k=w>>>24,T-=k,!(16&(k=w>>>16&255))){if(!(64&k)){w=C[(65535&w)+(A&(1<<k)-1)];continue i}m.msg="invalid distance code",b.mode=30;break e}if(O=65535&w,T<(k&=15)&&(A+=X[E++]<<T,(T+=8)<k&&(A+=X[E++]<<T,T+=8)),V<(O+=A&(1<<k)-1)){m.msg="invalid distance too far back",b.mode=30;break e}if(A>>>=k,T-=k,(k=R-N)<O){if(W<(k=O-k)&&b.sane){m.msg="invalid distance too far back",b.mode=30;break e}if(z=P,(F=0)===G){if(F+=H-k,k<M){for(M-=k;L[R++]=P[F++],--k;);F=R-O,z=L}}else if(G<k){if(F+=H+G-k,(k-=G)<M){for(M-=k;L[R++]=P[F++],--k;);if(F=0,G<M){for(M-=k=G;L[R++]=P[F++],--k;);F=R-O,z=L}}}else if(F+=G-k,k<M){for(M-=k;L[R++]=P[F++],--k;);F=R-O,z=L}for(;2<M;)L[R++]=z[F++],L[R++]=z[F++],L[R++]=z[F++],M-=3;M&&(L[R++]=z[F++],1<M&&(L[R++]=z[F++]))}else{for(F=R-O;L[R++]=L[F++],L[R++]=L[F++],L[R++]=L[F++],2<(M-=3););M&&(L[R++]=L[F++],1<M&&(L[R++]=L[F++]))}break}}break}}while(E<I&&R<j);E-=M=T>>3,A&=(1<<(T-=M<<3))-1,m.next_in=E,m.next_out=R,m.avail_in=E<I?I-E+5:5-(E-I),m.avail_out=R<j?j-R+257:257-(R-j),b.hold=A,b.bits=T}},{}],49:[function(f,p,g){var m=f("../utils/common"),v=f("./adler32"),b=f("./crc32"),E=f("./inffast"),I=f("./inftrees"),R=-2;function N(y){return(y>>>24&255)+(y>>>8&65280)+((65280&y)<<8)+((255&y)<<24)}function j(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function V(y){var S;return y&&y.state?(S=y.state,y.total_in=y.total_out=S.total=0,y.msg="",S.wrap&&(y.adler=1&S.wrap),S.mode=1,S.last=0,S.havedict=0,S.dmax=32768,S.head=null,S.hold=0,S.bits=0,S.lencode=S.lendyn=new m.Buf32(852),S.distcode=S.distdyn=new m.Buf32(592),S.sane=1,S.back=-1,0):R}function H(y){var S;return y&&y.state?((S=y.state).wsize=0,S.whave=0,S.wnext=0,V(y)):R}function W(y,S){var w,k;return y&&y.state?(k=y.state,S<0?(w=0,S=-S):(w=1+(S>>4),S<48&&(S&=15)),S&&(S<8||15<S)?R:(k.window!==null&&k.wbits!==S&&(k.window=null),k.wrap=w,k.wbits=S,H(y))):R}function G(y,S){var w,k;return y?(k=new j,(y.state=k).window=null,(w=W(y,S))!==0&&(y.state=null),w):R}var P,A,T=!0;function x(y){if(T){var S;for(P=new m.Buf32(512),A=new m.Buf32(32),S=0;S<144;)y.lens[S++]=8;for(;S<256;)y.lens[S++]=9;for(;S<280;)y.lens[S++]=7;for(;S<288;)y.lens[S++]=8;for(I(1,y.lens,0,288,P,0,y.work,{bits:9}),S=0;S<32;)y.lens[S++]=5;I(2,y.lens,0,32,A,0,y.work,{bits:5}),T=!1}y.lencode=P,y.lenbits=9,y.distcode=A,y.distbits=5}function C(y,S,w,k){var M,O=y.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new m.Buf8(O.wsize)),k>=O.wsize?(m.arraySet(O.window,S,w-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(k<(M=O.wsize-O.wnext)&&(M=k),m.arraySet(O.window,S,w-k,M,O.wnext),(k-=M)?(m.arraySet(O.window,S,w-k,k,0),O.wnext=k,O.whave=O.wsize):(O.wnext+=M,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=M))),0}g.inflateReset=H,g.inflateReset2=W,g.inflateResetKeep=V,g.inflateInit=function(y){return G(y,15)},g.inflateInit2=G,g.inflate=function(y,S){var w,k,M,O,F,z,X,L,K,D,B,U,Q,q,Z,$,ie,te,Y,ee,re,ne,ue,le,pe=0,se=new m.Buf8(4),ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!y||!y.state||!y.output||!y.input&&y.avail_in!==0)return R;(w=y.state).mode===12&&(w.mode=13),F=y.next_out,M=y.output,X=y.avail_out,O=y.next_in,k=y.input,z=y.avail_in,L=w.hold,K=w.bits,D=z,B=X,ne=0;e:for(;;)switch(w.mode){case 1:if(w.wrap===0){w.mode=13;break}for(;K<16;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}if(2&w.wrap&&L===35615){se[w.check=0]=255&L,se[1]=L>>>8&255,w.check=b(w.check,se,2,0),K=L=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&L)<<8)+(L>>8))%31){y.msg="incorrect header check",w.mode=30;break}if((15&L)!=8){y.msg="unknown compression method",w.mode=30;break}if(K-=4,re=8+(15&(L>>>=4)),w.wbits===0)w.wbits=re;else if(re>w.wbits){y.msg="invalid window size",w.mode=30;break}w.dmax=1<<re,y.adler=w.check=1,w.mode=512&L?10:12,K=L=0;break;case 2:for(;K<16;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}if(w.flags=L,(255&w.flags)!=8){y.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){y.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=L>>8&1),512&w.flags&&(se[0]=255&L,se[1]=L>>>8&255,w.check=b(w.check,se,2,0)),K=L=0,w.mode=3;case 3:for(;K<32;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}w.head&&(w.head.time=L),512&w.flags&&(se[0]=255&L,se[1]=L>>>8&255,se[2]=L>>>16&255,se[3]=L>>>24&255,w.check=b(w.check,se,4,0)),K=L=0,w.mode=4;case 4:for(;K<16;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}w.head&&(w.head.xflags=255&L,w.head.os=L>>8),512&w.flags&&(se[0]=255&L,se[1]=L>>>8&255,w.check=b(w.check,se,2,0)),K=L=0,w.mode=5;case 5:if(1024&w.flags){for(;K<16;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}w.length=L,w.head&&(w.head.extra_len=L),512&w.flags&&(se[0]=255&L,se[1]=L>>>8&255,w.check=b(w.check,se,2,0)),K=L=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(z<(U=w.length)&&(U=z),U&&(w.head&&(re=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),m.arraySet(w.head.extra,k,O,U,re)),512&w.flags&&(w.check=b(w.check,k,U,O)),z-=U,O+=U,w.length-=U),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(z===0)break e;for(U=0;re=k[O+U++],w.head&&re&&w.length<65536&&(w.head.name+=String.fromCharCode(re)),re&&U<z;);if(512&w.flags&&(w.check=b(w.check,k,U,O)),z-=U,O+=U,re)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(z===0)break e;for(U=0;re=k[O+U++],w.head&&re&&w.length<65536&&(w.head.comment+=String.fromCharCode(re)),re&&U<z;);if(512&w.flags&&(w.check=b(w.check,k,U,O)),z-=U,O+=U,re)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;K<16;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}if(L!==(65535&w.check)){y.msg="header crc mismatch",w.mode=30;break}K=L=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),y.adler=w.check=0,w.mode=12;break;case 10:for(;K<32;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}y.adler=w.check=N(L),K=L=0,w.mode=11;case 11:if(w.havedict===0)return y.next_out=F,y.avail_out=X,y.next_in=O,y.avail_in=z,w.hold=L,w.bits=K,2;y.adler=w.check=1,w.mode=12;case 12:if(S===5||S===6)break e;case 13:if(w.last){L>>>=7&K,K-=7&K,w.mode=27;break}for(;K<3;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}switch(w.last=1&L,K-=1,3&(L>>>=1)){case 0:w.mode=14;break;case 1:if(x(w),w.mode=20,S!==6)break;L>>>=2,K-=2;break e;case 2:w.mode=17;break;case 3:y.msg="invalid block type",w.mode=30}L>>>=2,K-=2;break;case 14:for(L>>>=7&K,K-=7&K;K<32;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}if((65535&L)!=(L>>>16^65535)){y.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&L,K=L=0,w.mode=15,S===6)break e;case 15:w.mode=16;case 16:if(U=w.length){if(z<U&&(U=z),X<U&&(U=X),U===0)break e;m.arraySet(M,k,O,U,F),z-=U,O+=U,X-=U,F+=U,w.length-=U;break}w.mode=12;break;case 17:for(;K<14;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}if(w.nlen=257+(31&L),L>>>=5,K-=5,w.ndist=1+(31&L),L>>>=5,K-=5,w.ncode=4+(15&L),L>>>=4,K-=4,286<w.nlen||30<w.ndist){y.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;K<3;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}w.lens[ae[w.have++]]=7&L,L>>>=3,K-=3}for(;w.have<19;)w.lens[ae[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,ue={bits:w.lenbits},ne=I(0,w.lens,0,19,w.lencode,0,w.work,ue),w.lenbits=ue.bits,ne){y.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;$=(pe=w.lencode[L&(1<<w.lenbits)-1])>>>16&255,ie=65535&pe,!((Z=pe>>>24)<=K);){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}if(ie<16)L>>>=Z,K-=Z,w.lens[w.have++]=ie;else{if(ie===16){for(le=Z+2;K<le;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}if(L>>>=Z,K-=Z,w.have===0){y.msg="invalid bit length repeat",w.mode=30;break}re=w.lens[w.have-1],U=3+(3&L),L>>>=2,K-=2}else if(ie===17){for(le=Z+3;K<le;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}K-=Z,re=0,U=3+(7&(L>>>=Z)),L>>>=3,K-=3}else{for(le=Z+7;K<le;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}K-=Z,re=0,U=11+(127&(L>>>=Z)),L>>>=7,K-=7}if(w.have+U>w.nlen+w.ndist){y.msg="invalid bit length repeat",w.mode=30;break}for(;U--;)w.lens[w.have++]=re}}if(w.mode===30)break;if(w.lens[256]===0){y.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,ue={bits:w.lenbits},ne=I(1,w.lens,0,w.nlen,w.lencode,0,w.work,ue),w.lenbits=ue.bits,ne){y.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,ue={bits:w.distbits},ne=I(2,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,ue),w.distbits=ue.bits,ne){y.msg="invalid distances set",w.mode=30;break}if(w.mode=20,S===6)break e;case 20:w.mode=21;case 21:if(6<=z&&258<=X){y.next_out=F,y.avail_out=X,y.next_in=O,y.avail_in=z,w.hold=L,w.bits=K,E(y,B),F=y.next_out,M=y.output,X=y.avail_out,O=y.next_in,k=y.input,z=y.avail_in,L=w.hold,K=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;$=(pe=w.lencode[L&(1<<w.lenbits)-1])>>>16&255,ie=65535&pe,!((Z=pe>>>24)<=K);){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}if($&&!(240&$)){for(te=Z,Y=$,ee=ie;$=(pe=w.lencode[ee+((L&(1<<te+Y)-1)>>te)])>>>16&255,ie=65535&pe,!(te+(Z=pe>>>24)<=K);){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}L>>>=te,K-=te,w.back+=te}if(L>>>=Z,K-=Z,w.back+=Z,w.length=ie,$===0){w.mode=26;break}if(32&$){w.back=-1,w.mode=12;break}if(64&$){y.msg="invalid literal/length code",w.mode=30;break}w.extra=15&$,w.mode=22;case 22:if(w.extra){for(le=w.extra;K<le;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}w.length+=L&(1<<w.extra)-1,L>>>=w.extra,K-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;$=(pe=w.distcode[L&(1<<w.distbits)-1])>>>16&255,ie=65535&pe,!((Z=pe>>>24)<=K);){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}if(!(240&$)){for(te=Z,Y=$,ee=ie;$=(pe=w.distcode[ee+((L&(1<<te+Y)-1)>>te)])>>>16&255,ie=65535&pe,!(te+(Z=pe>>>24)<=K);){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}L>>>=te,K-=te,w.back+=te}if(L>>>=Z,K-=Z,w.back+=Z,64&$){y.msg="invalid distance code",w.mode=30;break}w.offset=ie,w.extra=15&$,w.mode=24;case 24:if(w.extra){for(le=w.extra;K<le;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}w.offset+=L&(1<<w.extra)-1,L>>>=w.extra,K-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){y.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(X===0)break e;if(U=B-X,w.offset>U){if((U=w.offset-U)>w.whave&&w.sane){y.msg="invalid distance too far back",w.mode=30;break}Q=U>w.wnext?(U-=w.wnext,w.wsize-U):w.wnext-U,U>w.length&&(U=w.length),q=w.window}else q=M,Q=F-w.offset,U=w.length;for(X<U&&(U=X),X-=U,w.length-=U;M[F++]=q[Q++],--U;);w.length===0&&(w.mode=21);break;case 26:if(X===0)break e;M[F++]=w.length,X--,w.mode=21;break;case 27:if(w.wrap){for(;K<32;){if(z===0)break e;z--,L|=k[O++]<<K,K+=8}if(B-=X,y.total_out+=B,w.total+=B,B&&(y.adler=w.check=w.flags?b(w.check,M,B,F-B):v(w.check,M,B,F-B)),B=X,(w.flags?L:N(L))!==w.check){y.msg="incorrect data check",w.mode=30;break}K=L=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;K<32;){if(z===0)break e;z--,L+=k[O++]<<K,K+=8}if(L!==(4294967295&w.total)){y.msg="incorrect length check",w.mode=30;break}K=L=0}w.mode=29;case 29:ne=1;break e;case 30:ne=-3;break e;case 31:return-4;case 32:default:return R}return y.next_out=F,y.avail_out=X,y.next_in=O,y.avail_in=z,w.hold=L,w.bits=K,(w.wsize||B!==y.avail_out&&w.mode<30&&(w.mode<27||S!==4))&&C(y,y.output,y.next_out,B-y.avail_out)?(w.mode=31,-4):(D-=y.avail_in,B-=y.avail_out,y.total_in+=D,y.total_out+=B,w.total+=B,w.wrap&&B&&(y.adler=w.check=w.flags?b(w.check,M,B,y.next_out-B):v(w.check,M,B,y.next_out-B)),y.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(D==0&&B===0||S===4)&&ne===0&&(ne=-5),ne)},g.inflateEnd=function(y){if(!y||!y.state)return R;var S=y.state;return S.window&&(S.window=null),y.state=null,0},g.inflateGetHeader=function(y,S){var w;return y&&y.state&&2&(w=y.state).wrap?((w.head=S).done=!1,0):R},g.inflateSetDictionary=function(y,S){var w,k=S.length;return y&&y.state?(w=y.state).wrap!==0&&w.mode!==11?R:w.mode===11&&v(1,S,k,0)!==w.check?-3:C(y,S,k,k)?(w.mode=31,-4):(w.havedict=1,0):R},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(f,p,g){var m=f("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],I=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];p.exports=function(R,N,j,V,H,W,G,P){var A,T,x,C,y,S,w,k,M,O=P.bits,F=0,z=0,X=0,L=0,K=0,D=0,B=0,U=0,Q=0,q=0,Z=null,$=0,ie=new m.Buf16(16),te=new m.Buf16(16),Y=null,ee=0;for(F=0;F<=15;F++)ie[F]=0;for(z=0;z<V;z++)ie[N[j+z]]++;for(K=O,L=15;1<=L&&ie[L]===0;L--);if(L<K&&(K=L),L===0)return H[W++]=20971520,H[W++]=20971520,P.bits=1,0;for(X=1;X<L&&ie[X]===0;X++);for(K<X&&(K=X),F=U=1;F<=15;F++)if(U<<=1,(U-=ie[F])<0)return-1;if(0<U&&(R===0||L!==1))return-1;for(te[1]=0,F=1;F<15;F++)te[F+1]=te[F]+ie[F];for(z=0;z<V;z++)N[j+z]!==0&&(G[te[N[j+z]]++]=z);if(S=R===0?(Z=Y=G,19):R===1?(Z=v,$-=257,Y=b,ee-=257,256):(Z=E,Y=I,-1),F=X,y=W,B=z=q=0,x=-1,C=(Q=1<<(D=K))-1,R===1&&852<Q||R===2&&592<Q)return 1;for(;;){for(w=F-B,M=G[z]<S?(k=0,G[z]):G[z]>S?(k=Y[ee+G[z]],Z[$+G[z]]):(k=96,0),A=1<<F-B,X=T=1<<D;H[y+(q>>B)+(T-=A)]=w<<24|k<<16|M|0,T!==0;);for(A=1<<F-1;q&A;)A>>=1;if(A!==0?(q&=A-1,q+=A):q=0,z++,--ie[F]==0){if(F===L)break;F=N[j+G[z]]}if(K<F&&(q&C)!==x){for(B===0&&(B=K),y+=X,U=1<<(D=F-B);D+B<L&&!((U-=ie[D+B])<=0);)D++,U<<=1;if(Q+=1<<D,R===1&&852<Q||R===2&&592<Q)return 1;H[x=q&C]=K<<24|D<<16|y-W|0}}return q!==0&&(H[y+q]=F-B<<24|64<<16|0),P.bits=K,0}},{"../utils/common":41}],51:[function(f,p,g){p.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(f,p,g){var m=f("../utils/common");function v(Y){for(var ee=Y.length;0<=--ee;)Y[ee]=0}var b=256,E=286,I=30,R=15,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(576);v(W);var G=new Array(60);v(G);var P=new Array(512);v(P);var A=new Array(256);v(A);var T=new Array(29);v(T);var x,C,y,S=new Array(I);function w(Y,ee,re,ne,ue){this.static_tree=Y,this.extra_bits=ee,this.extra_base=re,this.elems=ne,this.max_length=ue,this.has_stree=Y&&Y.length}function k(Y,ee){this.dyn_tree=Y,this.max_code=0,this.stat_desc=ee}function M(Y){return Y<256?P[Y]:P[256+(Y>>>7)]}function O(Y,ee){Y.pending_buf[Y.pending++]=255&ee,Y.pending_buf[Y.pending++]=ee>>>8&255}function F(Y,ee,re){Y.bi_valid>16-re?(Y.bi_buf|=ee<<Y.bi_valid&65535,O(Y,Y.bi_buf),Y.bi_buf=ee>>16-Y.bi_valid,Y.bi_valid+=re-16):(Y.bi_buf|=ee<<Y.bi_valid&65535,Y.bi_valid+=re)}function z(Y,ee,re){F(Y,re[2*ee],re[2*ee+1])}function X(Y,ee){for(var re=0;re|=1&Y,Y>>>=1,re<<=1,0<--ee;);return re>>>1}function L(Y,ee,re){var ne,ue,le=new Array(16),pe=0;for(ne=1;ne<=R;ne++)le[ne]=pe=pe+re[ne-1]<<1;for(ue=0;ue<=ee;ue++){var se=Y[2*ue+1];se!==0&&(Y[2*ue]=X(le[se]++,se))}}function K(Y){var ee;for(ee=0;ee<E;ee++)Y.dyn_ltree[2*ee]=0;for(ee=0;ee<I;ee++)Y.dyn_dtree[2*ee]=0;for(ee=0;ee<19;ee++)Y.bl_tree[2*ee]=0;Y.dyn_ltree[512]=1,Y.opt_len=Y.static_len=0,Y.last_lit=Y.matches=0}function D(Y){8<Y.bi_valid?O(Y,Y.bi_buf):0<Y.bi_valid&&(Y.pending_buf[Y.pending++]=Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0}function B(Y,ee,re,ne){var ue=2*ee,le=2*re;return Y[ue]<Y[le]||Y[ue]===Y[le]&&ne[ee]<=ne[re]}function U(Y,ee,re){for(var ne=Y.heap[re],ue=re<<1;ue<=Y.heap_len&&(ue<Y.heap_len&&B(ee,Y.heap[ue+1],Y.heap[ue],Y.depth)&&ue++,!B(ee,ne,Y.heap[ue],Y.depth));)Y.heap[re]=Y.heap[ue],re=ue,ue<<=1;Y.heap[re]=ne}function Q(Y,ee,re){var ne,ue,le,pe,se=0;if(Y.last_lit!==0)for(;ne=Y.pending_buf[Y.d_buf+2*se]<<8|Y.pending_buf[Y.d_buf+2*se+1],ue=Y.pending_buf[Y.l_buf+se],se++,ne===0?z(Y,ue,ee):(z(Y,(le=A[ue])+b+1,ee),(pe=N[le])!==0&&F(Y,ue-=T[le],pe),z(Y,le=M(--ne),re),(pe=j[le])!==0&&F(Y,ne-=S[le],pe)),se<Y.last_lit;);z(Y,256,ee)}function q(Y,ee){var re,ne,ue,le=ee.dyn_tree,pe=ee.stat_desc.static_tree,se=ee.stat_desc.has_stree,ae=ee.stat_desc.elems,de=-1;for(Y.heap_len=0,Y.heap_max=573,re=0;re<ae;re++)le[2*re]!==0?(Y.heap[++Y.heap_len]=de=re,Y.depth[re]=0):le[2*re+1]=0;for(;Y.heap_len<2;)le[2*(ue=Y.heap[++Y.heap_len]=de<2?++de:0)]=1,Y.depth[ue]=0,Y.opt_len--,se&&(Y.static_len-=pe[2*ue+1]);for(ee.max_code=de,re=Y.heap_len>>1;1<=re;re--)U(Y,le,re);for(ue=ae;re=Y.heap[1],Y.heap[1]=Y.heap[Y.heap_len--],U(Y,le,1),ne=Y.heap[1],Y.heap[--Y.heap_max]=re,Y.heap[--Y.heap_max]=ne,le[2*ue]=le[2*re]+le[2*ne],Y.depth[ue]=(Y.depth[re]>=Y.depth[ne]?Y.depth[re]:Y.depth[ne])+1,le[2*re+1]=le[2*ne+1]=ue,Y.heap[1]=ue++,U(Y,le,1),2<=Y.heap_len;);Y.heap[--Y.heap_max]=Y.heap[1],function(fe,me){var ge,ye,_e,Se,Ie,Ce,Te=me.dyn_tree,Me=me.max_code,Pe=me.stat_desc.static_tree,$e=me.stat_desc.has_stree,Le=me.stat_desc.extra_bits,je=me.stat_desc.extra_base,Xe=me.stat_desc.max_length,it=0;for(Se=0;Se<=R;Se++)fe.bl_count[Se]=0;for(Te[2*fe.heap[fe.heap_max]+1]=0,ge=fe.heap_max+1;ge<573;ge++)Xe<(Se=Te[2*Te[2*(ye=fe.heap[ge])+1]+1]+1)&&(Se=Xe,it++),Te[2*ye+1]=Se,Me<ye||(fe.bl_count[Se]++,Ie=0,je<=ye&&(Ie=Le[ye-je]),Ce=Te[2*ye],fe.opt_len+=Ce*(Se+Ie),$e&&(fe.static_len+=Ce*(Pe[2*ye+1]+Ie)));if(it!==0){do{for(Se=Xe-1;fe.bl_count[Se]===0;)Se--;fe.bl_count[Se]--,fe.bl_count[Se+1]+=2,fe.bl_count[Xe]--,it-=2}while(0<it);for(Se=Xe;Se!==0;Se--)for(ye=fe.bl_count[Se];ye!==0;)Me<(_e=fe.heap[--ge])||(Te[2*_e+1]!==Se&&(fe.opt_len+=(Se-Te[2*_e+1])*Te[2*_e],Te[2*_e+1]=Se),ye--)}}(Y,ee),L(le,de,Y.bl_count)}function Z(Y,ee,re){var ne,ue,le=-1,pe=ee[1],se=0,ae=7,de=4;for(pe===0&&(ae=138,de=3),ee[2*(re+1)+1]=65535,ne=0;ne<=re;ne++)ue=pe,pe=ee[2*(ne+1)+1],++se<ae&&ue===pe||(se<de?Y.bl_tree[2*ue]+=se:ue!==0?(ue!==le&&Y.bl_tree[2*ue]++,Y.bl_tree[32]++):se<=10?Y.bl_tree[34]++:Y.bl_tree[36]++,le=ue,de=(se=0)===pe?(ae=138,3):ue===pe?(ae=6,3):(ae=7,4))}function $(Y,ee,re){var ne,ue,le=-1,pe=ee[1],se=0,ae=7,de=4;for(pe===0&&(ae=138,de=3),ne=0;ne<=re;ne++)if(ue=pe,pe=ee[2*(ne+1)+1],!(++se<ae&&ue===pe)){if(se<de)for(;z(Y,ue,Y.bl_tree),--se!=0;);else ue!==0?(ue!==le&&(z(Y,ue,Y.bl_tree),se--),z(Y,16,Y.bl_tree),F(Y,se-3,2)):se<=10?(z(Y,17,Y.bl_tree),F(Y,se-3,3)):(z(Y,18,Y.bl_tree),F(Y,se-11,7));le=ue,de=(se=0)===pe?(ae=138,3):ue===pe?(ae=6,3):(ae=7,4)}}v(S);var ie=!1;function te(Y,ee,re,ne){F(Y,0+(ne?1:0),3),function(ue,le,pe,se){D(ue),O(ue,pe),O(ue,~pe),m.arraySet(ue.pending_buf,ue.window,le,pe,ue.pending),ue.pending+=pe}(Y,ee,re)}g._tr_init=function(Y){ie||(function(){var ee,re,ne,ue,le,pe=new Array(16);for(ue=ne=0;ue<28;ue++)for(T[ue]=ne,ee=0;ee<1<<N[ue];ee++)A[ne++]=ue;for(A[ne-1]=ue,ue=le=0;ue<16;ue++)for(S[ue]=le,ee=0;ee<1<<j[ue];ee++)P[le++]=ue;for(le>>=7;ue<I;ue++)for(S[ue]=le<<7,ee=0;ee<1<<j[ue]-7;ee++)P[256+le++]=ue;for(re=0;re<=R;re++)pe[re]=0;for(ee=0;ee<=143;)W[2*ee+1]=8,ee++,pe[8]++;for(;ee<=255;)W[2*ee+1]=9,ee++,pe[9]++;for(;ee<=279;)W[2*ee+1]=7,ee++,pe[7]++;for(;ee<=287;)W[2*ee+1]=8,ee++,pe[8]++;for(L(W,287,pe),ee=0;ee<I;ee++)G[2*ee+1]=5,G[2*ee]=X(ee,5);x=new w(W,N,257,E,R),C=new w(G,j,0,I,R),y=new w(new Array(0),V,0,19,7)}(),ie=!0),Y.l_desc=new k(Y.dyn_ltree,x),Y.d_desc=new k(Y.dyn_dtree,C),Y.bl_desc=new k(Y.bl_tree,y),Y.bi_buf=0,Y.bi_valid=0,K(Y)},g._tr_stored_block=te,g._tr_flush_block=function(Y,ee,re,ne){var ue,le,pe=0;0<Y.level?(Y.strm.data_type===2&&(Y.strm.data_type=function(se){var ae,de=4093624447;for(ae=0;ae<=31;ae++,de>>>=1)if(1&de&&se.dyn_ltree[2*ae]!==0)return 0;if(se.dyn_ltree[18]!==0||se.dyn_ltree[20]!==0||se.dyn_ltree[26]!==0)return 1;for(ae=32;ae<b;ae++)if(se.dyn_ltree[2*ae]!==0)return 1;return 0}(Y)),q(Y,Y.l_desc),q(Y,Y.d_desc),pe=function(se){var ae;for(Z(se,se.dyn_ltree,se.l_desc.max_code),Z(se,se.dyn_dtree,se.d_desc.max_code),q(se,se.bl_desc),ae=18;3<=ae&&se.bl_tree[2*H[ae]+1]===0;ae--);return se.opt_len+=3*(ae+1)+5+5+4,ae}(Y),ue=Y.opt_len+3+7>>>3,(le=Y.static_len+3+7>>>3)<=ue&&(ue=le)):ue=le=re+5,re+4<=ue&&ee!==-1?te(Y,ee,re,ne):Y.strategy===4||le===ue?(F(Y,2+(ne?1:0),3),Q(Y,W,G)):(F(Y,4+(ne?1:0),3),function(se,ae,de,fe){var me;for(F(se,ae-257,5),F(se,de-1,5),F(se,fe-4,4),me=0;me<fe;me++)F(se,se.bl_tree[2*H[me]+1],3);$(se,se.dyn_ltree,ae-1),$(se,se.dyn_dtree,de-1)}(Y,Y.l_desc.max_code+1,Y.d_desc.max_code+1,pe+1),Q(Y,Y.dyn_ltree,Y.dyn_dtree)),K(Y),ne&&D(Y)},g._tr_tally=function(Y,ee,re){return Y.pending_buf[Y.d_buf+2*Y.last_lit]=ee>>>8&255,Y.pending_buf[Y.d_buf+2*Y.last_lit+1]=255&ee,Y.pending_buf[Y.l_buf+Y.last_lit]=255&re,Y.last_lit++,ee===0?Y.dyn_ltree[2*re]++:(Y.matches++,ee--,Y.dyn_ltree[2*(A[re]+b+1)]++,Y.dyn_dtree[2*M(ee)]++),Y.last_lit===Y.lit_bufsize-1},g._tr_align=function(Y){F(Y,2,3),z(Y,256,W),function(ee){ee.bi_valid===16?(O(ee,ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0):8<=ee.bi_valid&&(ee.pending_buf[ee.pending++]=255&ee.bi_buf,ee.bi_buf>>=8,ee.bi_valid-=8)}(Y)}},{"../utils/common":41}],53:[function(f,p,g){p.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(f,p,g){(function(m){(function(v,b){if(!v.setImmediate){var E,I,R,N,j=1,V={},H=!1,W=v.document,G=Object.getPrototypeOf&&Object.getPrototypeOf(v);G=G&&G.setTimeout?G:v,E={}.toString.call(v.process)==="[object process]"?function(x){a.nextTick(function(){A(x)})}:function(){if(v.postMessage&&!v.importScripts){var x=!0,C=v.onmessage;return v.onmessage=function(){x=!1},v.postMessage("","*"),v.onmessage=C,x}}()?(N="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",T,!1):v.attachEvent("onmessage",T),function(x){v.postMessage(N+x,"*")}):v.MessageChannel?((R=new MessageChannel).port1.onmessage=function(x){A(x.data)},function(x){R.port2.postMessage(x)}):W&&"onreadystatechange"in W.createElement("script")?(I=W.documentElement,function(x){var C=W.createElement("script");C.onreadystatechange=function(){A(x),C.onreadystatechange=null,I.removeChild(C),C=null},I.appendChild(C)}):function(x){setTimeout(A,0,x)},G.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var C=new Array(arguments.length-1),y=0;y<C.length;y++)C[y]=arguments[y+1];var S={callback:x,args:C};return V[j]=S,E(j),j++},G.clearImmediate=P}function P(x){delete V[x]}function A(x){if(H)setTimeout(A,0,x);else{var C=V[x];if(C){H=!0;try{(function(y){var S=y.callback,w=y.args;switch(w.length){case 0:S();break;case 1:S(w[0]);break;case 2:S(w[0],w[1]);break;case 3:S(w[0],w[1],w[2]);break;default:S.apply(void 0,w)}})(C)}finally{P(x),H=!1}}}}function T(x){x.source===v&&typeof x.data=="string"&&x.data.indexOf(N)===0&&A(+x.data.slice(N.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,i("_process"),typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{},i("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],i("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(i,r,n){(function(a){(function(){var s=/[\\^$.*+?()[\]{}|]/g,o=RegExp(s.source),l=typeof a=="object"&&a&&a.Object===Object&&a,u=typeof self=="object"&&self&&self.Object===Object&&self,d=l||u||Function("return this")(),c=Object.prototype.toString,h=d.Symbol,f=h?h.prototype:void 0,p=f?f.toString:void 0;function g(m){if(typeof m=="string")return m;if(function(b){return typeof b=="symbol"||function(E){return!!E&&typeof E=="object"}(b)&&c.call(b)=="[object Symbol]"}(m))return p?p.call(m):"";var v=m+"";return v=="0"&&1/m==-1/0?"-0":v}r.exports=function(m){var v;return(m=(v=m)==null?"":g(v))&&o.test(m)?m.replace(s,"\\$&"):m}}).call(this)}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(i,r,n){(function(a){(function(){var s="[object Arguments]",o="[object Map]",l="[object Object]",u="[object Set]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,h=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[s]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[o]=v["[object Number]"]=v[l]=v["[object RegExp]"]=v[u]=v["[object String]"]=v["[object WeakMap]"]=!1;var b=typeof a=="object"&&a&&a.Object===Object&&a,E=typeof self=="object"&&self&&self.Object===Object&&self,I=b||E||Function("return this")(),R=typeof n=="object"&&n&&!n.nodeType&&n,N=R&&typeof r=="object"&&r&&!r.nodeType&&r,j=N&&N.exports===R&&b.process,V=function(){try{return j&&j.binding("util")}catch{}}(),H=V&&V.isTypedArray;function W(be,De,ze,Ue){for(var dt=-1,Ze=be?be.length:0;++dt<Ze;){var Je=be[dt];De(Ue,Je,ze(Je),be)}return Ue}function G(be,De){for(var ze=-1,Ue=be?be.length:0;++ze<Ue;)if(De(be[ze],ze,be))return!0;return!1}function P(be){var De=!1;if(be!=null&&typeof be.toString!="function")try{De=!!(be+"")}catch{}return De}function A(be){var De=-1,ze=Array(be.size);return be.forEach(function(Ue,dt){ze[++De]=[dt,Ue]}),ze}function T(be){var De=-1,ze=Array(be.size);return be.forEach(function(Ue){ze[++De]=Ue}),ze}var x,C,y,S=Array.prototype,w=Function.prototype,k=Object.prototype,M=I["__core-js_shared__"],O=(x=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",F=w.toString,z=k.hasOwnProperty,X=k.toString,L=RegExp("^"+F.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=I.Symbol,D=I.Uint8Array,B=k.propertyIsEnumerable,U=S.splice,Q=(C=Object.keys,y=Object,function(be){return C(y(be))}),q=lt(I,"DataView"),Z=lt(I,"Map"),$=lt(I,"Promise"),ie=lt(I,"Set"),te=lt(I,"WeakMap"),Y=lt(Object,"create"),ee=Oe(q),re=Oe(Z),ne=Oe($),ue=Oe(ie),le=Oe(te),pe=K?K.prototype:void 0,se=pe?pe.valueOf:void 0,ae=pe?pe.toString:void 0;function de(be){var De=-1,ze=be?be.length:0;for(this.clear();++De<ze;){var Ue=be[De];this.set(Ue[0],Ue[1])}}function fe(be){var De=-1,ze=be?be.length:0;for(this.clear();++De<ze;){var Ue=be[De];this.set(Ue[0],Ue[1])}}function me(be){var De=-1,ze=be?be.length:0;for(this.clear();++De<ze;){var Ue=be[De];this.set(Ue[0],Ue[1])}}function ge(be){var De=-1,ze=be?be.length:0;for(this.__data__=new me;++De<ze;)this.add(be[De])}function ye(be){this.__data__=new fe(be)}function _e(be,De){var ze=bt(be)||St(be)?function(Je,Wt){for(var Nt=-1,Ft=Array(Je);++Nt<Je;)Ft[Nt]=Wt(Nt);return Ft}(be.length,String):[],Ue=ze.length,dt=!!Ue;for(var Ze in be)!De&&!z.call(be,Ze)||dt&&(Ze=="length"||Lt(Ze,Ue))||ze.push(Ze);return ze}function Se(be,De){for(var ze=be.length;ze--;)if(et(be[ze][0],De))return ze;return-1}function Ie(be,De,ze,Ue){return Te(be,function(dt,Ze,Je){De(Ue,dt,ze(dt),Je)}),Ue}de.prototype.clear=function(){this.__data__=Y?Y(null):{}},de.prototype.delete=function(be){return this.has(be)&&delete this.__data__[be]},de.prototype.get=function(be){var De=this.__data__;if(Y){var ze=De[be];return ze==="__lodash_hash_undefined__"?void 0:ze}return z.call(De,be)?De[be]:void 0},de.prototype.has=function(be){var De=this.__data__;return Y?De[be]!==void 0:z.call(De,be)},de.prototype.set=function(be,De){return this.__data__[be]=Y&&De===void 0?"__lodash_hash_undefined__":De,this},fe.prototype.clear=function(){this.__data__=[]},fe.prototype.delete=function(be){var De=this.__data__,ze=Se(De,be);return!(ze<0)&&(ze==De.length-1?De.pop():U.call(De,ze,1),!0)},fe.prototype.get=function(be){var De=this.__data__,ze=Se(De,be);return ze<0?void 0:De[ze][1]},fe.prototype.has=function(be){return Se(this.__data__,be)>-1},fe.prototype.set=function(be,De){var ze=this.__data__,Ue=Se(ze,be);return Ue<0?ze.push([be,De]):ze[Ue][1]=De,this},me.prototype.clear=function(){this.__data__={hash:new de,map:new(Z||fe),string:new de}},me.prototype.delete=function(be){return It(this,be).delete(be)},me.prototype.get=function(be){return It(this,be).get(be)},me.prototype.has=function(be){return It(this,be).has(be)},me.prototype.set=function(be,De){return It(this,be).set(be,De),this},ge.prototype.add=ge.prototype.push=function(be){return this.__data__.set(be,"__lodash_hash_undefined__"),this},ge.prototype.has=function(be){return this.__data__.has(be)},ye.prototype.clear=function(){this.__data__=new fe},ye.prototype.delete=function(be){return this.__data__.delete(be)},ye.prototype.get=function(be){return this.__data__.get(be)},ye.prototype.has=function(be){return this.__data__.has(be)},ye.prototype.set=function(be,De){var ze=this.__data__;if(ze instanceof fe){var Ue=ze.__data__;if(!Z||Ue.length<199)return Ue.push([be,De]),this;ze=this.__data__=new me(Ue)}return ze.set(be,De),this};var Ce,Te=(Ce=function(be,De){return be&&Me(be,De,zi)},function(be,De){if(be==null)return be;if(!mt(be))return Ce(be,De);for(var ze=be.length,Ue=-1,dt=Object(be);++Ue<ze&&De(dt[Ue],Ue,dt)!==!1;);return be}),Me=function(be){return function(De,ze,Ue){for(var dt=-1,Ze=Object(De),Je=Ue(De),Wt=Je.length;Wt--;){var Nt=Je[be?Wt:++dt];if(ze(Ze[Nt],Nt,Ze)===!1)break}return De}}();function Pe(be,De){for(var ze=0,Ue=(De=vt(De,be)?[De]:rt(De)).length;be!=null&&ze<Ue;)be=be[xe(De[ze++])];return ze&&ze==Ue?be:void 0}function $e(be,De){return be!=null&&De in Object(be)}function Le(be,De,ze,Ue,dt){return be===De||(be==null||De==null||!$t(be)&&!Ii(De)?be!=be&&De!=De:function(Ze,Je,Wt,Nt,Ft,yt){var ai=bt(Ze),bi=bt(Je),Jt="[object Array]",Ci="[object Array]";ai||(Jt=(Jt=kt(Ze))==s?l:Jt),bi||(Ci=(Ci=kt(Je))==s?l:Ci);var Ni=Jt==l&&!P(Ze),or=Ci==l&&!P(Je),rn=Jt==Ci;if(rn&&!Ni)return yt||(yt=new ye),ai||$i(Ze)?Dt(Ze,Je,Wt,Nt,Ft,yt):function(si,Qt,ba,fs,$d,Tr,$n){switch(ba){case"[object DataView]":if(si.byteLength!=Qt.byteLength||si.byteOffset!=Qt.byteOffset)return!1;si=si.buffer,Qt=Qt.buffer;case"[object ArrayBuffer]":return!(si.byteLength!=Qt.byteLength||!fs(new D(si),new D(Qt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return et(+si,+Qt);case"[object Error]":return si.name==Qt.name&&si.message==Qt.message;case"[object RegExp]":case"[object String]":return si==Qt+"";case o:var ya=A;case u:var Il=2&Tr;if(ya||(ya=T),si.size!=Qt.size&&!Il)return!1;var zd=$n.get(si);if(zd)return zd==Qt;Tr|=1,$n.set(si,Qt);var So=Dt(ya(si),ya(Qt),fs,$d,Tr,$n);return $n.delete(si),So;case"[object Symbol]":if(se)return se.call(si)==se.call(Qt)}return!1}(Ze,Je,Jt,Wt,Nt,Ft,yt);if(!(2&Ft)){var vn=Ni&&z.call(Ze,"__wrapped__"),Co=or&&z.call(Je,"__wrapped__");if(vn||Co){var xo=vn?Ze.value():Ze,wo=Co?Je.value():Je;return yt||(yt=new ye),Wt(xo,wo,Nt,Ft,yt)}}return rn?(yt||(yt=new ye),function(si,Qt,ba,fs,$d,Tr){var $n=2&$d,ya=zi(si),Il=ya.length,zd=zi(Qt).length;if(Il!=zd&&!$n)return!1;for(var So=Il;So--;){var Ca=ya[So];if(!($n?Ca in Qt:z.call(Qt,Ca)))return!1}var ny=Tr.get(si);if(ny&&Tr.get(Qt))return ny==Qt;var Wd=!0;Tr.set(si,Qt),Tr.set(Qt,si);for(var Ep=$n;++So<Il;){Ca=ya[So];var jd=si[Ca],Ud=Qt[Ca];if(fs)var ay=$n?fs(Ud,jd,Ca,Qt,si,Tr):fs(jd,Ud,Ca,si,Qt,Tr);if(!(ay===void 0?jd===Ud||ba(jd,Ud,fs,$d,Tr):ay)){Wd=!1;break}Ep||(Ep=Ca=="constructor")}if(Wd&&!Ep){var Gd=si.constructor,Kd=Qt.constructor;Gd==Kd||!("constructor"in si)||!("constructor"in Qt)||typeof Gd=="function"&&Gd instanceof Gd&&typeof Kd=="function"&&Kd instanceof Kd||(Wd=!1)}return Tr.delete(si),Tr.delete(Qt),Wd}(Ze,Je,Wt,Nt,Ft,yt)):!1}(be,De,Le,ze,Ue,dt))}function je(be){return!(!$t(be)||function(De){return!!O&&O in De}(be))&&(Rt(be)||P(be)?L:g).test(Oe(be))}function Xe(be){return typeof be=="function"?be:be==null?br:typeof be=="object"?bt(be)?function(Ue,dt){return vt(Ue)&&Ut(dt)?Zt(xe(Ue),dt):function(Ze){var Je=function(Wt,Nt,Ft){var yt=Wt==null?void 0:Pe(Wt,Nt);return yt===void 0?Ft:yt}(Ze,Ue);return Je===void 0&&Je===dt?function(Wt,Nt){return Wt!=null&&function(Ft,yt,ai){yt=vt(yt,Ft)?[yt]:rt(yt);for(var bi,Jt=-1,Ci=yt.length;++Jt<Ci;){var Ni=xe(yt[Jt]);if(!(bi=Ft!=null&&ai(Ft,Ni)))break;Ft=Ft[Ni]}return bi||!!(Ci=Ft?Ft.length:0)&&Et(Ci)&&Lt(Ni,Ci)&&(bt(Ft)||St(Ft))}(Wt,Nt,$e)}(Ze,Ue):Le(dt,Je,void 0,3)}}(be[0],be[1]):function(Ue){var dt=function(Ze){for(var Je=zi(Ze),Wt=Je.length;Wt--;){var Nt=Je[Wt],Ft=Ze[Nt];Je[Wt]=[Nt,Ft,Ut(Ft)]}return Je}(Ue);return dt.length==1&&dt[0][2]?Zt(dt[0][0],dt[0][1]):function(Ze){return Ze===Ue||function(Je,Wt,Nt,Ft){var yt=Nt.length,ai=yt,bi=!Ft;if(Je==null)return!ai;for(Je=Object(Je);yt--;){var Jt=Nt[yt];if(bi&&Jt[2]?Jt[1]!==Je[Jt[0]]:!(Jt[0]in Je))return!1}for(;++yt<ai;){var Ci=(Jt=Nt[yt])[0],Ni=Je[Ci],or=Jt[1];if(bi&&Jt[2]){if(Ni===void 0&&!(Ci in Je))return!1}else{var rn=new ye;if(Ft)var vn=Ft(Ni,or,Ci,Je,Wt,rn);if(!(vn===void 0?Le(or,Ni,Ft,3,rn):vn))return!1}}return!0}(Ze,Ue,dt)}}(be):vt(De=be)?(ze=xe(De),function(Ue){return Ue==null?void 0:Ue[ze]}):function(Ue){return function(dt){return Pe(dt,Ue)}}(De);var De,ze}function it(be){if(ze=(De=be)&&De.constructor,Ue=typeof ze=="function"&&ze.prototype||k,De!==Ue)return Q(be);var De,ze,Ue,dt=[];for(var Ze in Object(be))z.call(be,Ze)&&Ze!="constructor"&&dt.push(Ze);return dt}function rt(be){return bt(be)?be:wt(be)}function Dt(be,De,ze,Ue,dt,Ze){var Je=2&dt,Wt=be.length,Nt=De.length;if(Wt!=Nt&&!(Je&&Nt>Wt))return!1;var Ft=Ze.get(be);if(Ft&&Ze.get(De))return Ft==De;var yt=-1,ai=!0,bi=1&dt?new ge:void 0;for(Ze.set(be,De),Ze.set(De,be);++yt<Wt;){var Jt=be[yt],Ci=De[yt];if(Ue)var Ni=Je?Ue(Ci,Jt,yt,De,be,Ze):Ue(Jt,Ci,yt,be,De,Ze);if(Ni!==void 0){if(Ni)continue;ai=!1;break}if(bi){if(!G(De,function(or,rn){if(!bi.has(rn)&&(Jt===or||ze(Jt,or,Ue,dt,Ze)))return bi.add(rn)})){ai=!1;break}}else if(Jt!==Ci&&!ze(Jt,Ci,Ue,dt,Ze)){ai=!1;break}}return Ze.delete(be),Ze.delete(De),ai}function It(be,De){var ze,Ue,dt=be.__data__;return((Ue=typeof(ze=De))=="string"||Ue=="number"||Ue=="symbol"||Ue=="boolean"?ze!=="__proto__":ze===null)?dt[typeof De=="string"?"string":"hash"]:dt.map}function lt(be,De){var ze=function(Ue,dt){return Ue==null?void 0:Ue[dt]}(be,De);return je(ze)?ze:void 0}var kt=function(be){return X.call(be)};function Lt(be,De){return!!(De=De??9007199254740991)&&(typeof be=="number"||m.test(be))&&be>-1&&be%1==0&&be<De}function vt(be,De){if(bt(be))return!1;var ze=typeof be;return!(ze!="number"&&ze!="symbol"&&ze!="boolean"&&be!=null&&!fi(be))||c.test(be)||!d.test(be)||De!=null&&be in Object(De)}function Ut(be){return be==be&&!$t(be)}function Zt(be,De){return function(ze){return ze!=null&&ze[be]===De&&(De!==void 0||be in Object(ze))}}(q&&kt(new q(new ArrayBuffer(1)))!="[object DataView]"||Z&&kt(new Z)!=o||$&&kt($.resolve())!="[object Promise]"||ie&&kt(new ie)!=u||te&&kt(new te)!="[object WeakMap]")&&(kt=function(be){var De=X.call(be),ze=De==l?be.constructor:void 0,Ue=ze?Oe(ze):void 0;if(Ue)switch(Ue){case ee:return"[object DataView]";case re:return o;case ne:return"[object Promise]";case ue:return u;case le:return"[object WeakMap]"}return De});var wt=_t(function(be){var De;be=(De=be)==null?"":function(Ue){if(typeof Ue=="string")return Ue;if(fi(Ue))return ae?ae.call(Ue):"";var dt=Ue+"";return dt=="0"&&1/Ue==-1/0?"-0":dt}(De);var ze=[];return h.test(be)&&ze.push(""),be.replace(f,function(Ue,dt,Ze,Je){ze.push(Ze?Je.replace(p,"$1"):dt||Ue)}),ze});function xe(be){if(typeof be=="string"||fi(be))return be;var De=be+"";return De=="0"&&1/be==-1/0?"-0":De}function Oe(be){if(be!=null){try{return F.call(be)}catch{}try{return be+""}catch{}}return""}var Ve,Qe=(Ve=function(be,De,ze){z.call(be,ze)?be[ze].push(De):be[ze]=[De]},function(be,De){var ze=bt(be)?W:Ie,Ue={};return ze(be,Ve,Xe(De),Ue)});function _t(be,De){if(typeof be!="function"||De&&typeof De!="function")throw new TypeError("Expected a function");var ze=function(){var Ue=arguments,dt=De?De.apply(this,Ue):Ue[0],Ze=ze.cache;if(Ze.has(dt))return Ze.get(dt);var Je=be.apply(this,Ue);return ze.cache=Ze.set(dt,Je),Je};return ze.cache=new(_t.Cache||me),ze}function et(be,De){return be===De||be!=be&&De!=De}function St(be){return function(De){return Ii(De)&&mt(De)}(be)&&z.call(be,"callee")&&(!B.call(be,"callee")||X.call(be)==s)}_t.Cache=me;var bt=Array.isArray;function mt(be){return be!=null&&Et(be.length)&&!Rt(be)}function Rt(be){var De=$t(be)?X.call(be):"";return De=="[object Function]"||De=="[object GeneratorFunction]"}function Et(be){return typeof be=="number"&&be>-1&&be%1==0&&be<=9007199254740991}function $t(be){var De=typeof be;return!!be&&(De=="object"||De=="function")}function Ii(be){return!!be&&typeof be=="object"}function fi(be){return typeof be=="symbol"||Ii(be)&&X.call(be)=="[object Symbol]"}var $i=H?function(be){return function(De){return be(De)}}(H):function(be){return Ii(be)&&Et(be.length)&&!!v[X.call(be)]};function zi(be){return mt(be)?_e(be):it(be)}function br(be){return be}r.exports=Qe}).call(this)}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(i,r,n){var a=Object.prototype.toString;r.exports=function(s){return s===!0||s===!1||function(o){return!!o&&typeof o=="object"}(s)&&a.call(s)=="[object Boolean]"}},{}],445:[function(i,r,n){(function(a){(function(){var s="[object Arguments]",o="[object Map]",l="[object Object]",u="[object Set]",d=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[s]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[o]=h["[object Number]"]=h[l]=h["[object RegExp]"]=h[u]=h["[object String]"]=h["[object WeakMap]"]=!1;var f=typeof a=="object"&&a&&a.Object===Object&&a,p=typeof self=="object"&&self&&self.Object===Object&&self,g=f||p||Function("return this")(),m=typeof n=="object"&&n&&!n.nodeType&&n,v=m&&typeof r=="object"&&r&&!r.nodeType&&r,b=v&&v.exports===m,E=b&&f.process,I=function(){try{return E&&E.binding&&E.binding("util")}catch{}}(),R=I&&I.isTypedArray;function N(xe,Oe){for(var Ve=-1,Qe=xe==null?0:xe.length;++Ve<Qe;)if(Oe(xe[Ve],Ve,xe))return!0;return!1}function j(xe){var Oe=-1,Ve=Array(xe.size);return xe.forEach(function(Qe,_t){Ve[++Oe]=[_t,Qe]}),Ve}function V(xe){var Oe=-1,Ve=Array(xe.size);return xe.forEach(function(Qe){Ve[++Oe]=Qe}),Ve}var H,W,G,P=Array.prototype,A=Function.prototype,T=Object.prototype,x=g["__core-js_shared__"],C=A.toString,y=T.hasOwnProperty,S=(H=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",w=T.toString,k=RegExp("^"+C.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=b?g.Buffer:void 0,O=g.Symbol,F=g.Uint8Array,z=T.propertyIsEnumerable,X=P.splice,L=O?O.toStringTag:void 0,K=Object.getOwnPropertySymbols,D=M?M.isBuffer:void 0,B=(W=Object.keys,G=Object,function(xe){return W(G(xe))}),U=$e(g,"DataView"),Q=$e(g,"Map"),q=$e(g,"Promise"),Z=$e(g,"Set"),$=$e(g,"WeakMap"),ie=$e(Object,"create"),te=it(U),Y=it(Q),ee=it(q),re=it(Z),ne=it($),ue=O?O.prototype:void 0,le=ue?ue.valueOf:void 0;function pe(xe){var Oe=-1,Ve=xe==null?0:xe.length;for(this.clear();++Oe<Ve;){var Qe=xe[Oe];this.set(Qe[0],Qe[1])}}function se(xe){var Oe=-1,Ve=xe==null?0:xe.length;for(this.clear();++Oe<Ve;){var Qe=xe[Oe];this.set(Qe[0],Qe[1])}}function ae(xe){var Oe=-1,Ve=xe==null?0:xe.length;for(this.clear();++Oe<Ve;){var Qe=xe[Oe];this.set(Qe[0],Qe[1])}}function de(xe){var Oe=-1,Ve=xe==null?0:xe.length;for(this.__data__=new ae;++Oe<Ve;)this.add(xe[Oe])}function fe(xe){var Oe=this.__data__=new se(xe);this.size=Oe.size}function me(xe,Oe){var Ve=It(xe),Qe=!Ve&&Dt(xe),_t=!Ve&&!Qe&&lt(xe),et=!Ve&&!Qe&&!_t&&Zt(xe),St=Ve||Qe||_t||et,bt=St?function(Et,$t){for(var Ii=-1,fi=Array(Et);++Ii<Et;)fi[Ii]=$t(Ii);return fi}(xe.length,String):[],mt=bt.length;for(var Rt in xe)!Oe&&!y.call(xe,Rt)||St&&(Rt=="length"||_t&&(Rt=="offset"||Rt=="parent")||et&&(Rt=="buffer"||Rt=="byteLength"||Rt=="byteOffset")||Xe(Rt,mt))||bt.push(Rt);return bt}function ge(xe,Oe){for(var Ve=xe.length;Ve--;)if(rt(xe[Ve][0],Oe))return Ve;return-1}function ye(xe){return xe==null?xe===void 0?"[object Undefined]":"[object Null]":L&&L in Object(xe)?function(Oe){var Ve=y.call(Oe,L),Qe=Oe[L];try{Oe[L]=void 0;var _t=!0}catch{}var et=w.call(Oe);return _t&&(Ve?Oe[L]=Qe:delete Oe[L]),et}(xe):function(Oe){return w.call(Oe)}(xe)}function _e(xe){return Ut(xe)&&ye(xe)==s}function Se(xe,Oe,Ve,Qe,_t){return xe===Oe||(xe==null||Oe==null||!Ut(xe)&&!Ut(Oe)?xe!=xe&&Oe!=Oe:function(et,St,bt,mt,Rt,Et){var $t=It(et),Ii=It(St),fi=$t?"[object Array]":je(et),$i=Ii?"[object Array]":je(St),zi=(fi=fi==s?l:fi)==l,br=($i=$i==s?l:$i)==l,be=fi==$i;if(be&&lt(et)){if(!lt(St))return!1;$t=!0,zi=!1}if(be&&!zi)return Et||(Et=new fe),$t||Zt(et)?Te(et,St,bt,mt,Rt,Et):function(Ze,Je,Wt,Nt,Ft,yt,ai){switch(Wt){case"[object DataView]":if(Ze.byteLength!=Je.byteLength||Ze.byteOffset!=Je.byteOffset)return!1;Ze=Ze.buffer,Je=Je.buffer;case"[object ArrayBuffer]":return!(Ze.byteLength!=Je.byteLength||!yt(new F(Ze),new F(Je)));case"[object Boolean]":case"[object Date]":case"[object Number]":return rt(+Ze,+Je);case"[object Error]":return Ze.name==Je.name&&Ze.message==Je.message;case"[object RegExp]":case"[object String]":return Ze==Je+"";case o:var bi=j;case u:var Jt=1&Nt;if(bi||(bi=V),Ze.size!=Je.size&&!Jt)return!1;var Ci=ai.get(Ze);if(Ci)return Ci==Je;Nt|=2,ai.set(Ze,Je);var Ni=Te(bi(Ze),bi(Je),Nt,Ft,yt,ai);return ai.delete(Ze),Ni;case"[object Symbol]":if(le)return le.call(Ze)==le.call(Je)}return!1}(et,St,fi,bt,mt,Rt,Et);if(!(1&bt)){var De=zi&&y.call(et,"__wrapped__"),ze=br&&y.call(St,"__wrapped__");if(De||ze){var Ue=De?et.value():et,dt=ze?St.value():St;return Et||(Et=new fe),Rt(Ue,dt,bt,mt,Et)}}return be?(Et||(Et=new fe),function(Ze,Je,Wt,Nt,Ft,yt){var ai=1&Wt,bi=Me(Ze),Jt=bi.length,Ci=Me(Je).length;if(Jt!=Ci&&!ai)return!1;for(var Ni=Jt;Ni--;){var or=bi[Ni];if(!(ai?or in Je:y.call(Je,or)))return!1}var rn=yt.get(Ze);if(rn&&yt.get(Je))return rn==Je;var vn=!0;yt.set(Ze,Je),yt.set(Je,Ze);for(var Co=ai;++Ni<Jt;){or=bi[Ni];var xo=Ze[or],wo=Je[or];if(Nt)var si=ai?Nt(wo,xo,or,Je,Ze,yt):Nt(xo,wo,or,Ze,Je,yt);if(!(si===void 0?xo===wo||Ft(xo,wo,Wt,Nt,yt):si)){vn=!1;break}Co||(Co=or=="constructor")}if(vn&&!Co){var Qt=Ze.constructor,ba=Je.constructor;Qt==ba||!("constructor"in Ze)||!("constructor"in Je)||typeof Qt=="function"&&Qt instanceof Qt&&typeof ba=="function"&&ba instanceof ba||(vn=!1)}return yt.delete(Ze),yt.delete(Je),vn}(et,St,bt,mt,Rt,Et)):!1}(xe,Oe,Ve,Qe,Se,_t))}function Ie(xe){return!(!vt(xe)||function(Oe){return!!S&&S in Oe}(xe))&&(kt(xe)?k:d).test(it(xe))}function Ce(xe){if(Ve=(Oe=xe)&&Oe.constructor,Qe=typeof Ve=="function"&&Ve.prototype||T,Oe!==Qe)return B(xe);var Oe,Ve,Qe,_t=[];for(var et in Object(xe))y.call(xe,et)&&et!="constructor"&&_t.push(et);return _t}function Te(xe,Oe,Ve,Qe,_t,et){var St=1&Ve,bt=xe.length,mt=Oe.length;if(bt!=mt&&!(St&&mt>bt))return!1;var Rt=et.get(xe);if(Rt&&et.get(Oe))return Rt==Oe;var Et=-1,$t=!0,Ii=2&Ve?new de:void 0;for(et.set(xe,Oe),et.set(Oe,xe);++Et<bt;){var fi=xe[Et],$i=Oe[Et];if(Qe)var zi=St?Qe($i,fi,Et,Oe,xe,et):Qe(fi,$i,Et,xe,Oe,et);if(zi!==void 0){if(zi)continue;$t=!1;break}if(Ii){if(!N(Oe,function(br,be){if(De=be,!Ii.has(De)&&(fi===br||_t(fi,br,Ve,Qe,et)))return Ii.push(be);var De})){$t=!1;break}}else if(fi!==$i&&!_t(fi,$i,Ve,Qe,et)){$t=!1;break}}return et.delete(xe),et.delete(Oe),$t}function Me(xe){return function(Oe,Ve,Qe){var _t=Ve(Oe);return It(Oe)?_t:function(et,St){for(var bt=-1,mt=St.length,Rt=et.length;++bt<mt;)et[Rt+bt]=St[bt];return et}(_t,Qe(Oe))}(xe,wt,Le)}function Pe(xe,Oe){var Ve,Qe,_t=xe.__data__;return((Qe=typeof(Ve=Oe))=="string"||Qe=="number"||Qe=="symbol"||Qe=="boolean"?Ve!=="__proto__":Ve===null)?_t[typeof Oe=="string"?"string":"hash"]:_t.map}function $e(xe,Oe){var Ve=function(Qe,_t){return Qe==null?void 0:Qe[_t]}(xe,Oe);return Ie(Ve)?Ve:void 0}pe.prototype.clear=function(){this.__data__=ie?ie(null):{},this.size=0},pe.prototype.delete=function(xe){var Oe=this.has(xe)&&delete this.__data__[xe];return this.size-=Oe?1:0,Oe},pe.prototype.get=function(xe){var Oe=this.__data__;if(ie){var Ve=Oe[xe];return Ve==="__lodash_hash_undefined__"?void 0:Ve}return y.call(Oe,xe)?Oe[xe]:void 0},pe.prototype.has=function(xe){var Oe=this.__data__;return ie?Oe[xe]!==void 0:y.call(Oe,xe)},pe.prototype.set=function(xe,Oe){var Ve=this.__data__;return this.size+=this.has(xe)?0:1,Ve[xe]=ie&&Oe===void 0?"__lodash_hash_undefined__":Oe,this},se.prototype.clear=function(){this.__data__=[],this.size=0},se.prototype.delete=function(xe){var Oe=this.__data__,Ve=ge(Oe,xe);return!(Ve<0)&&(Ve==Oe.length-1?Oe.pop():X.call(Oe,Ve,1),--this.size,!0)},se.prototype.get=function(xe){var Oe=this.__data__,Ve=ge(Oe,xe);return Ve<0?void 0:Oe[Ve][1]},se.prototype.has=function(xe){return ge(this.__data__,xe)>-1},se.prototype.set=function(xe,Oe){var Ve=this.__data__,Qe=ge(Ve,xe);return Qe<0?(++this.size,Ve.push([xe,Oe])):Ve[Qe][1]=Oe,this},ae.prototype.clear=function(){this.size=0,this.__data__={hash:new pe,map:new(Q||se),string:new pe}},ae.prototype.delete=function(xe){var Oe=Pe(this,xe).delete(xe);return this.size-=Oe?1:0,Oe},ae.prototype.get=function(xe){return Pe(this,xe).get(xe)},ae.prototype.has=function(xe){return Pe(this,xe).has(xe)},ae.prototype.set=function(xe,Oe){var Ve=Pe(this,xe),Qe=Ve.size;return Ve.set(xe,Oe),this.size+=Ve.size==Qe?0:1,this},de.prototype.add=de.prototype.push=function(xe){return this.__data__.set(xe,"__lodash_hash_undefined__"),this},de.prototype.has=function(xe){return this.__data__.has(xe)},fe.prototype.clear=function(){this.__data__=new se,this.size=0},fe.prototype.delete=function(xe){var Oe=this.__data__,Ve=Oe.delete(xe);return this.size=Oe.size,Ve},fe.prototype.get=function(xe){return this.__data__.get(xe)},fe.prototype.has=function(xe){return this.__data__.has(xe)},fe.prototype.set=function(xe,Oe){var Ve=this.__data__;if(Ve instanceof se){var Qe=Ve.__data__;if(!Q||Qe.length<199)return Qe.push([xe,Oe]),this.size=++Ve.size,this;Ve=this.__data__=new ae(Qe)}return Ve.set(xe,Oe),this.size=Ve.size,this};var Le=K?function(xe){return xe==null?[]:(xe=Object(xe),function(Oe,Ve){for(var Qe=-1,_t=Oe==null?0:Oe.length,et=0,St=[];++Qe<_t;){var bt=Oe[Qe];Ve(bt,Qe,Oe)&&(St[et++]=bt)}return St}(K(xe),function(Oe){return z.call(xe,Oe)}))}:function(){return[]},je=ye;function Xe(xe,Oe){return!!(Oe=Oe??9007199254740991)&&(typeof xe=="number"||c.test(xe))&&xe>-1&&xe%1==0&&xe<Oe}function it(xe){if(xe!=null){try{return C.call(xe)}catch{}try{return xe+""}catch{}}return""}function rt(xe,Oe){return xe===Oe||xe!=xe&&Oe!=Oe}(U&&je(new U(new ArrayBuffer(1)))!="[object DataView]"||Q&&je(new Q)!=o||q&&je(q.resolve())!="[object Promise]"||Z&&je(new Z)!=u||$&&je(new $)!="[object WeakMap]")&&(je=function(xe){var Oe=ye(xe),Ve=Oe==l?xe.constructor:void 0,Qe=Ve?it(Ve):"";if(Qe)switch(Qe){case te:return"[object DataView]";case Y:return o;case ee:return"[object Promise]";case re:return u;case ne:return"[object WeakMap]"}return Oe});var Dt=_e(function(){return arguments}())?_e:function(xe){return Ut(xe)&&y.call(xe,"callee")&&!z.call(xe,"callee")},It=Array.isArray,lt=D||function(){return!1};function kt(xe){if(!vt(xe))return!1;var Oe=ye(xe);return Oe=="[object Function]"||Oe=="[object GeneratorFunction]"||Oe=="[object AsyncFunction]"||Oe=="[object Proxy]"}function Lt(xe){return typeof xe=="number"&&xe>-1&&xe%1==0&&xe<=9007199254740991}function vt(xe){var Oe=typeof xe;return xe!=null&&(Oe=="object"||Oe=="function")}function Ut(xe){return xe!=null&&typeof xe=="object"}var Zt=R?function(xe){return function(Oe){return xe(Oe)}}(R):function(xe){return Ut(xe)&&Lt(xe.length)&&!!h[ye(xe)]};function wt(xe){return(Oe=xe)!=null&&Lt(Oe.length)&&!kt(Oe)?me(xe):Ce(xe);var Oe}r.exports=function(xe,Oe){return Se(xe,Oe)}}).call(this)}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(i,r,n){(function(a){(function(){var s=typeof a=="object"&&a&&a.Object===Object&&a,o=typeof self=="object"&&self&&self.Object===Object&&self,l=s||o||Function("return this")(),u=Object.prototype,d=u.hasOwnProperty,c=u.toString,h=l.Symbol,f=h?h.toStringTag:void 0;function p(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":f&&f in Object(g)?function(m){var v=d.call(m,f),b=m[f];try{m[f]=void 0;var E=!0}catch{}var I=c.call(m);return E&&(v?m[f]=b:delete m[f]),I}(g):function(m){return c.call(m)}(g)}r.exports=function(g){if(!function(v){var b=typeof v;return v!=null&&(b=="object"||b=="function")}(g))return!1;var m=p(g);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(i,r,n){r.exports=function(a){return a==null}},{}],448:[function(i,r,n){r.exports=function(a){return a===void 0}},{}],449:[function(i,r,n){(function(a){(function(){var s=/^\[object .+?Constructor\]$/,o=typeof a=="object"&&a&&a.Object===Object&&a,l=typeof self=="object"&&self&&self.Object===Object&&self,u=o||l||Function("return this")();function d(F,z){return!!(F&&F.length)&&function(X,L,K){if(L!=L)return function(U,Q,q,Z){for(var $=U.length,ie=q+(Z?1:-1);Z?ie--:++ie<$;)if(Q(U[ie],ie,U))return ie;return-1}(X,h,K);for(var D=K-1,B=X.length;++D<B;)if(X[D]===L)return D;return-1}(F,z,0)>-1}function c(F,z,X){for(var L=-1,K=F?F.length:0;++L<K;)if(X(z,F[L]))return!0;return!1}function h(F){return F!=F}function f(F,z){return F.has(z)}function p(F){var z=-1,X=Array(F.size);return F.forEach(function(L){X[++z]=L}),X}var g,m=Array.prototype,v=Function.prototype,b=Object.prototype,E=u["__core-js_shared__"],I=(g=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",R=v.toString,N=b.hasOwnProperty,j=b.toString,V=RegExp("^"+R.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=m.splice,W=M(u,"Map"),G=M(u,"Set"),P=M(Object,"create");function A(F){var z=-1,X=F?F.length:0;for(this.clear();++z<X;){var L=F[z];this.set(L[0],L[1])}}function T(F){var z=-1,X=F?F.length:0;for(this.clear();++z<X;){var L=F[z];this.set(L[0],L[1])}}function x(F){var z=-1,X=F?F.length:0;for(this.clear();++z<X;){var L=F[z];this.set(L[0],L[1])}}function C(F){var z=-1,X=F?F.length:0;for(this.__data__=new x;++z<X;)this.add(F[z])}function y(F,z){for(var X,L,K=F.length;K--;)if((X=F[K][0])===(L=z)||X!=X&&L!=L)return K;return-1}function S(F){return!(!O(F)||(z=F,I&&I in z))&&(function(X){var L=O(X)?j.call(X):"";return L=="[object Function]"||L=="[object GeneratorFunction]"}(F)||function(X){var L=!1;if(X!=null&&typeof X.toString!="function")try{L=!!(X+"")}catch{}return L}(F)?V:s).test(function(X){if(X!=null){try{return R.call(X)}catch{}try{return X+""}catch{}}return""}(F));var z}A.prototype.clear=function(){this.__data__=P?P(null):{}},A.prototype.delete=function(F){return this.has(F)&&delete this.__data__[F]},A.prototype.get=function(F){var z=this.__data__;if(P){var X=z[F];return X==="__lodash_hash_undefined__"?void 0:X}return N.call(z,F)?z[F]:void 0},A.prototype.has=function(F){var z=this.__data__;return P?z[F]!==void 0:N.call(z,F)},A.prototype.set=function(F,z){return this.__data__[F]=P&&z===void 0?"__lodash_hash_undefined__":z,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(F){var z=this.__data__,X=y(z,F);return!(X<0)&&(X==z.length-1?z.pop():H.call(z,X,1),!0)},T.prototype.get=function(F){var z=this.__data__,X=y(z,F);return X<0?void 0:z[X][1]},T.prototype.has=function(F){return y(this.__data__,F)>-1},T.prototype.set=function(F,z){var X=this.__data__,L=y(X,F);return L<0?X.push([F,z]):X[L][1]=z,this},x.prototype.clear=function(){this.__data__={hash:new A,map:new(W||T),string:new A}},x.prototype.delete=function(F){return k(this,F).delete(F)},x.prototype.get=function(F){return k(this,F).get(F)},x.prototype.has=function(F){return k(this,F).has(F)},x.prototype.set=function(F,z){return k(this,F).set(F,z),this},C.prototype.add=C.prototype.push=function(F){return this.__data__.set(F,"__lodash_hash_undefined__"),this},C.prototype.has=function(F){return this.__data__.has(F)};var w=G&&1/p(new G([,-0]))[1]==1/0?function(F){return new G(F)}:function(){};function k(F,z){var X,L,K=F.__data__;return((L=typeof(X=z))=="string"||L=="number"||L=="symbol"||L=="boolean"?X!=="__proto__":X===null)?K[typeof z=="string"?"string":"hash"]:K.map}function M(F,z){var X=function(L,K){return L==null?void 0:L[K]}(F,z);return S(X)?X:void 0}function O(F){var z=typeof F;return!!F&&(z=="object"||z=="function")}r.exports=function(F){return F&&F.length?function(z,X,L){var K=-1,D=d,B=z.length,U=!0,Q=[],q=Q;if(L)U=!1,D=c;else if(B>=200){var Z=X?null:w(z);if(Z)return p(Z);U=!1,D=f,q=new C}else q=X?[]:Q;e:for(;++K<B;){var $=z[K],ie=X?X($):$;if($=L||$!==0?$:0,U&&ie==ie){for(var te=q.length;te--;)if(q[te]===ie)continue e;X&&q.push(ie),Q.push($)}else D(q,ie,L)||(q!==Q&&q.push(ie),Q.push($))}return Q}(F):[]}}).call(this)}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(i,r,n){var a=i("inherits"),s=i("hash-base"),o=i("safe-buffer").Buffer,l=new Array(16);function u(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function d(g,m){return g<<m|g>>>32-m}function c(g,m,v,b,E,I,R){return d(g+(m&v|~m&b)+E+I|0,R)+m|0}function h(g,m,v,b,E,I,R){return d(g+(m&b|v&~b)+E+I|0,R)+m|0}function f(g,m,v,b,E,I,R){return d(g+(m^v^b)+E+I|0,R)+m|0}function p(g,m,v,b,E,I,R){return d(g+(v^(m|~b))+E+I|0,R)+m|0}a(u,s),u.prototype._update=function(){for(var g=l,m=0;m<16;++m)g[m]=this._block.readInt32LE(4*m);var v=this._a,b=this._b,E=this._c,I=this._d;v=c(v,b,E,I,g[0],3614090360,7),I=c(I,v,b,E,g[1],3905402710,12),E=c(E,I,v,b,g[2],606105819,17),b=c(b,E,I,v,g[3],3250441966,22),v=c(v,b,E,I,g[4],4118548399,7),I=c(I,v,b,E,g[5],1200080426,12),E=c(E,I,v,b,g[6],2821735955,17),b=c(b,E,I,v,g[7],4249261313,22),v=c(v,b,E,I,g[8],1770035416,7),I=c(I,v,b,E,g[9],2336552879,12),E=c(E,I,v,b,g[10],4294925233,17),b=c(b,E,I,v,g[11],2304563134,22),v=c(v,b,E,I,g[12],1804603682,7),I=c(I,v,b,E,g[13],4254626195,12),E=c(E,I,v,b,g[14],2792965006,17),v=h(v,b=c(b,E,I,v,g[15],1236535329,22),E,I,g[1],4129170786,5),I=h(I,v,b,E,g[6],3225465664,9),E=h(E,I,v,b,g[11],643717713,14),b=h(b,E,I,v,g[0],3921069994,20),v=h(v,b,E,I,g[5],3593408605,5),I=h(I,v,b,E,g[10],38016083,9),E=h(E,I,v,b,g[15],3634488961,14),b=h(b,E,I,v,g[4],3889429448,20),v=h(v,b,E,I,g[9],568446438,5),I=h(I,v,b,E,g[14],3275163606,9),E=h(E,I,v,b,g[3],4107603335,14),b=h(b,E,I,v,g[8],1163531501,20),v=h(v,b,E,I,g[13],2850285829,5),I=h(I,v,b,E,g[2],4243563512,9),E=h(E,I,v,b,g[7],1735328473,14),v=f(v,b=h(b,E,I,v,g[12],2368359562,20),E,I,g[5],4294588738,4),I=f(I,v,b,E,g[8],2272392833,11),E=f(E,I,v,b,g[11],1839030562,16),b=f(b,E,I,v,g[14],4259657740,23),v=f(v,b,E,I,g[1],2763975236,4),I=f(I,v,b,E,g[4],1272893353,11),E=f(E,I,v,b,g[7],4139469664,16),b=f(b,E,I,v,g[10],3200236656,23),v=f(v,b,E,I,g[13],681279174,4),I=f(I,v,b,E,g[0],3936430074,11),E=f(E,I,v,b,g[3],3572445317,16),b=f(b,E,I,v,g[6],76029189,23),v=f(v,b,E,I,g[9],3654602809,4),I=f(I,v,b,E,g[12],3873151461,11),E=f(E,I,v,b,g[15],530742520,16),v=p(v,b=f(b,E,I,v,g[2],3299628645,23),E,I,g[0],4096336452,6),I=p(I,v,b,E,g[7],1126891415,10),E=p(E,I,v,b,g[14],2878612391,15),b=p(b,E,I,v,g[5],4237533241,21),v=p(v,b,E,I,g[12],1700485571,6),I=p(I,v,b,E,g[3],2399980690,10),E=p(E,I,v,b,g[10],4293915773,15),b=p(b,E,I,v,g[1],2240044497,21),v=p(v,b,E,I,g[8],1873313359,6),I=p(I,v,b,E,g[15],4264355552,10),E=p(E,I,v,b,g[6],2734768916,15),b=p(b,E,I,v,g[13],1309151649,21),v=p(v,b,E,I,g[4],4149444226,6),I=p(I,v,b,E,g[11],3174756917,10),E=p(E,I,v,b,g[2],718787259,15),b=p(b,E,I,v,g[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+b|0,this._c=this._c+E|0,this._d=this._d+I|0},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=o.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g},r.exports=u},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(i,r,n){var a=i("bn.js"),s=i("brorand");function o(l){this.rand=l||new s.Rand}r.exports=o,o.create=function(l){return new o(l)},o.prototype._randbelow=function(l){var u=l.bitLength(),d=Math.ceil(u/8);do var c=new a(this.rand.generate(d));while(c.cmp(l)>=0);return c},o.prototype._randrange=function(l,u){var d=u.sub(l);return l.add(this._randbelow(d))},o.prototype.test=function(l,u,d){var c=l.bitLength(),h=a.mont(l),f=new a(1).toRed(h);u||(u=Math.max(1,c/48|0));for(var p=l.subn(1),g=0;!p.testn(g);g++);for(var m=l.shrn(g),v=p.toRed(h);u>0;u--){var b=this._randrange(new a(2),p);d&&d(b);var E=b.toRed(h).redPow(m);if(E.cmp(f)!==0&&E.cmp(v)!==0){for(var I=1;I<g;I++){if((E=E.redSqr()).cmp(f)===0)return!1;if(E.cmp(v)===0)break}if(I===g)return!1}}return!0},o.prototype.getDivisor=function(l,u){var d=l.bitLength(),c=a.mont(l),h=new a(1).toRed(c);u||(u=Math.max(1,d/48|0));for(var f=l.subn(1),p=0;!f.testn(p);p++);for(var g=l.shrn(p),m=f.toRed(c);u>0;u--){var v=this._randrange(new a(2),f),b=l.gcd(v);if(b.cmpn(1)!==0)return b;var E=v.toRed(c).redPow(g);if(E.cmp(h)!==0&&E.cmp(m)!==0){for(var I=1;I<p;I++){if((E=E.redSqr()).cmp(h)===0)return E.fromRed().subn(1).gcd(l);if(E.cmp(m)===0)break}if(I===p)return(E=E.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(i,r,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],453:[function(i,r,n){function a(s,o){if(!s)throw new Error(o||"Assertion failed")}r.exports=a,a.equal=function(s,o,l){if(s!=o)throw new Error(l||"Assertion failed: "+s+" != "+o)}},{}],454:[function(i,r,n){var a=n;function s(l){return l.length===1?"0"+l:l}function o(l){for(var u="",d=0;d<l.length;d++)u+=s(l[d].toString(16));return u}a.toArray=function(l,u){if(Array.isArray(l))return l.slice();if(!l)return[];var d=[];if(typeof l!="string"){for(var c=0;c<l.length;c++)d[c]=0|l[c];return d}if(u==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),c=0;c<l.length;c+=2)d.push(parseInt(l[c]+l[c+1],16));else for(c=0;c<l.length;c++){var h=l.charCodeAt(c),f=h>>8,p=255&h;f?d.push(f,p):d.push(p)}return d},a.zero2=s,a.toHex=o,a.encode=function(l,u){return u==="hex"?o(l):l}},{}],455:[function(i,r,n){r.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(i,r,n){var a=i("asn1.js");n.certificate=i("./certificate");var s=a.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});n.RSAPrivateKey=s;var o=a.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});n.RSAPublicKey=o;var l=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())});n.PublicKey=l;var u=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),d=a.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(u),this.key("subjectPrivateKey").octstr())});n.PrivateKey=d;var c=a.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});n.EncryptedPrivateKey=c;var h=a.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});n.DSAPrivateKey=h,n.DSAparam=a.define("DSAparam",function(){this.int()});var f=a.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(p),this.key("publicKey").optional().explicit(1).bitstr())});n.ECPrivateKey=f;var p=a.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});n.signature=a.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(i,r,n){var a=i("asn1.js"),s=a.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=a.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),u=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),d=a.define("RelativeDistinguishedName",function(){this.setof(o)}),c=a.define("RDNSequence",function(){this.seqof(d)}),h=a.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),f=a.define("Validity",function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))}),p=a.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),g=a.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(h),this.key("validity").use(f),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(u),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(p).optional())}),m=a.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});r.exports=m},{"asn1.js":170}],458:[function(i,r,n){var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=i("evp_bytestokey"),u=i("browserify-aes"),d=i("safe-buffer").Buffer;r.exports=function(c,h){var f,p=c.toString(),g=p.match(a);if(g){var m="aes"+g[1],v=d.from(g[2],"hex"),b=d.from(g[3].replace(/[\r\n]/g,""),"base64"),E=l(h,v.slice(0,8),parseInt(g[1],10)).key,I=[],R=u.createDecipheriv(m,E,v);I.push(R.update(b)),I.push(R.final()),f=d.concat(I)}else{var N=p.match(o);f=d.from(N[2].replace(/[\r\n]/g,""),"base64")}return{tag:p.match(s)[1],data:f}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(i,r,n){var a=i("./asn1"),s=i("./aesid.json"),o=i("./fixProc"),l=i("browserify-aes"),u=i("pbkdf2"),d=i("safe-buffer").Buffer;function c(h){var f;typeof h!="object"||d.isBuffer(h)||(f=h.passphrase,h=h.key),typeof h=="string"&&(h=d.from(h));var p,g,m=o(h,f),v=m.tag,b=m.data;switch(v){case"CERTIFICATE":g=a.certificate.decode(b,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=a.PublicKey.decode(b,"der")),p=g.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=a.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"ENCRYPTED PRIVATE KEY":b=function(E,I){var R=E.algorithm.decrypt.kde.kdeparams.salt,N=parseInt(E.algorithm.decrypt.kde.kdeparams.iters.toString(),10),j=s[E.algorithm.decrypt.cipher.algo.join(".")],V=E.algorithm.decrypt.cipher.iv,H=E.subjectPrivateKey,W=parseInt(j.split("-")[1],10)/8,G=u.pbkdf2Sync(I,R,N,W,"sha1"),P=l.createDecipheriv(j,G,V),A=[];return A.push(P.update(H)),A.push(P.final()),d.concat(A)}(b=a.EncryptedPrivateKey.decode(b,"der"),f);case"PRIVATE KEY":switch(p=(g=a.PrivateKey.decode(b,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:a.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=a.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(b,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(b,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(b,"der")};case"EC PRIVATE KEY":return{curve:(b=a.ECPrivateKey.decode(b,"der")).parameters.value,privateKey:b.privateKey};default:throw new Error("unknown key type "+v)}}r.exports=c,c.signature=a.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(i,r,n){n.pbkdf2=i("./lib/async"),n.pbkdf2Sync=i("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(i,r,n){(function(a){(function(){var s,o,l=i("safe-buffer").Buffer,u=i("./precondition"),d=i("./default-encoding"),c=i("./sync"),h=i("./to-buffer"),f=a.crypto&&a.crypto.subtle,p={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[];function m(){return o||(o=a.process&&a.process.nextTick?a.process.nextTick:a.queueMicrotask?a.queueMicrotask:a.setImmediate?a.setImmediate:a.setTimeout)}function v(b,E,I,R,N){return f.importKey("raw",b,{name:"PBKDF2"},!1,["deriveBits"]).then(function(j){return f.deriveBits({name:"PBKDF2",salt:E,iterations:I,hash:{name:N}},j,R<<3)}).then(function(j){return l.from(j)})}r.exports=function(b,E,I,R,N,j){typeof N=="function"&&(j=N,N=void 0);var V=p[(N=N||"sha1").toLowerCase()];if(V&&typeof a.Promise=="function"){if(u(I,R),b=h(b,d,"Password"),E=h(E,d,"Salt"),typeof j!="function")throw new Error("No callback provided to pbkdf2");(function(H,W){H.then(function(G){m()(function(){W(null,G)})},function(G){m()(function(){W(G)})})})(function(H){if(a.process&&!a.process.browser||!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(g[H]!==void 0)return g[H];var W=v(s=s||l.alloc(8),s,10,128,H).then(function(){return!0}).catch(function(){return!1});return g[H]=W,W}(V).then(function(H){return H?v(b,E,I,R,V):c(b,E,I,R,N)}),j)}else m()(function(){var H;try{H=c(b,E,I,R,N)}catch(W){return j(W)}j(null,H)})}}).call(this)}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(i,r,n){(function(a,s){(function(){var o;s.process&&s.process.browser?o="utf-8":s.process&&s.process.version?o=parseInt(a.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",r.exports=o}).call(this)}).call(this,i("_process"),typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(i,r,n){var a=Math.pow(2,30)-1;r.exports=function(s,o){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>a||o!=o)throw new TypeError("Bad key length")}},{}],464:[function(i,r,n){var a=i("create-hash/md5"),s=i("ripemd160"),o=i("sha.js"),l=i("safe-buffer").Buffer,u=i("./precondition"),d=i("./default-encoding"),c=i("./to-buffer"),h=l.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function p(g,m,v){var b=function(V){function H(W){return o(V).update(W).digest()}return V==="rmd160"||V==="ripemd160"?function(W){return new s().update(W).digest()}:V==="md5"?a:H}(g),E=g==="sha512"||g==="sha384"?128:64;m.length>E?m=b(m):m.length<E&&(m=l.concat([m,h],E));for(var I=l.allocUnsafe(E+f[g]),R=l.allocUnsafe(E+f[g]),N=0;N<E;N++)I[N]=54^m[N],R[N]=92^m[N];var j=l.allocUnsafe(E+v+4);I.copy(j,0,0,E),this.ipad1=j,this.ipad2=I,this.opad=R,this.alg=g,this.blocksize=E,this.hash=b,this.size=f[g]}p.prototype.run=function(g,m){return g.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},r.exports=function(g,m,v,b,E){u(v,b);var I=new p(E=E||"sha1",g=c(g,d,"Password"),(m=c(m,d,"Salt")).length),R=l.allocUnsafe(b),N=l.allocUnsafe(m.length+4);m.copy(N,0,0,m.length);for(var j=0,V=f[E],H=Math.ceil(b/V),W=1;W<=H;W++){N.writeUInt32BE(W,m.length);for(var G=I.run(N,I.ipad1),P=G,A=1;A<v;A++){P=I.run(P,I.ipad2);for(var T=0;T<V;T++)G[T]^=P[T]}G.copy(R,j),j+=V}return R}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(i,r,n){var a=i("safe-buffer").Buffer;r.exports=function(s,o,l){if(a.isBuffer(s))return s;if(typeof s=="string")return a.from(s,o);if(ArrayBuffer.isView(s))return a.from(s.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(i,r,n){(function(a){(function(){a===void 0||!a.version||a.version.indexOf("v0.")===0||a.version.indexOf("v1.")===0&&a.version.indexOf("v1.8.")!==0?r.exports={nextTick:function(s,o,l,u){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var d,c,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(s);case 2:return a.nextTick(function(){s.call(null,o)});case 3:return a.nextTick(function(){s.call(null,o,l)});case 4:return a.nextTick(function(){s.call(null,o,l,u)});default:for(d=new Array(h-1),c=0;c<d.length;)d[c++]=arguments[c];return a.nextTick(function(){s.apply(null,d)})}}}:r.exports=a}).call(this)}).call(this,i("_process"))},{_process:467}],467:[function(i,r,n){var a,s,o=r.exports={};function l(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function d(E){if(a===setTimeout)return setTimeout(E,0);if((a===l||!a)&&setTimeout)return a=setTimeout,setTimeout(E,0);try{return a(E,0)}catch{try{return a.call(null,E,0)}catch{return a.call(this,E,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:l}catch{a=l}try{s=typeof clearTimeout=="function"?clearTimeout:u}catch{s=u}})();var c,h=[],f=!1,p=-1;function g(){f&&c&&(f=!1,c.length?h=c.concat(h):p=-1,h.length&&m())}function m(){if(!f){var E=d(g);f=!0;for(var I=h.length;I;){for(c=h,h=[];++p<I;)c&&c[p].run();p=-1,I=h.length}c=null,f=!1,function(R){if(s===clearTimeout)return clearTimeout(R);if((s===u||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(R);try{s(R)}catch{try{return s.call(null,R)}catch{return s.call(this,R)}}}(E)}}function v(E,I){this.fun=E,this.array=I}function b(){}o.nextTick=function(E){var I=new Array(arguments.length-1);if(arguments.length>1)for(var R=1;R<arguments.length;R++)I[R-1]=arguments[R];h.push(new v(E,I)),h.length!==1||f||d(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(E){return[]},o.binding=function(E){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(E){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(i,r,n){n.publicEncrypt=i("./publicEncrypt"),n.privateDecrypt=i("./privateDecrypt"),n.privateEncrypt=function(a,s){return n.publicEncrypt(a,s,!0)},n.publicDecrypt=function(a,s){return n.privateDecrypt(a,s,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(i,r,n){var a=i("create-hash"),s=i("safe-buffer").Buffer;function o(l){var u=s.allocUnsafe(4);return u.writeUInt32BE(l,0),u}r.exports=function(l,u){for(var d,c=s.alloc(0),h=0;c.length<u;)d=o(h++),c=s.concat([c,a("sha1").update(l).update(d).digest()]);return c.slice(0,u)}},{"create-hash":386,"safe-buffer":494}],470:[function(i,r,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],471:[function(i,r,n){var a=i("parse-asn1"),s=i("./mgf"),o=i("./xor"),l=i("bn.js"),u=i("browserify-rsa"),d=i("create-hash"),c=i("./withPublic"),h=i("safe-buffer").Buffer;r.exports=function(f,p,g){var m;m=f.padding?f.padding:g?1:4;var v,b=a(f),E=b.modulus.byteLength();if(p.length>E||new l(p).cmp(b.modulus)>=0)throw new Error("decryption error");v=g?c(new l(p),b):u(p,b);var I=h.alloc(E-v.length);if(v=h.concat([I,v],E),m===4)return function(R,N){var j=R.modulus.byteLength(),V=d("sha1").update(h.alloc(0)).digest(),H=V.length;if(N[0]!==0)throw new Error("decryption error");var W=N.slice(1,H+1),G=N.slice(H+1),P=o(W,s(G,H)),A=o(G,s(P,j-H-1));if(function(x,C){x=h.from(x),C=h.from(C);var y=0,S=x.length;x.length!==C.length&&(y++,S=Math.min(x.length,C.length));for(var w=-1;++w<S;)y+=x[w]^C[w];return y}(V,A.slice(0,H)))throw new Error("decryption error");for(var T=H;A[T]===0;)T++;if(A[T++]!==1)throw new Error("decryption error");return A.slice(T)}(b,v);if(m===1)return function(R,N,j){for(var V=N.slice(0,2),H=2,W=0;N[H++]!==0;)if(H>=N.length){W++;break}var G=N.slice(2,H-1);if((V.toString("hex")!=="0002"&&!j||V.toString("hex")!=="0001"&&j)&&W++,G.length<8&&W++,W)throw new Error("decryption error");return N.slice(H)}(0,v,g);if(m===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(i,r,n){var a=i("parse-asn1"),s=i("randombytes"),o=i("create-hash"),l=i("./mgf"),u=i("./xor"),d=i("bn.js"),c=i("./withPublic"),h=i("browserify-rsa"),f=i("safe-buffer").Buffer;r.exports=function(p,g,m){var v;v=p.padding?p.padding:m?1:4;var b,E=a(p);if(v===4)b=function(I,R){var N=I.modulus.byteLength(),j=R.length,V=o("sha1").update(f.alloc(0)).digest(),H=V.length,W=2*H;if(j>N-W-2)throw new Error("message too long");var G=f.alloc(N-j-W-2),P=N-H-1,A=s(H),T=u(f.concat([V,G,f.alloc(1,1),R],P),l(A,P)),x=u(A,l(T,H));return new d(f.concat([f.alloc(1),x,T],N))}(E,g);else if(v===1)b=function(I,R,N){var j,V=R.length,H=I.modulus.byteLength();if(V>H-11)throw new Error("message too long");return j=N?f.alloc(H-V-3,255):function(W){for(var G,P=f.allocUnsafe(W),A=0,T=s(2*W),x=0;A<W;)x===T.length&&(T=s(2*W),x=0),(G=T[x++])&&(P[A++]=G);return P}(H-V-3),new d(f.concat([f.from([0,N?1:2]),j,f.alloc(1),R],H))}(E,g,m);else{if(v!==3)throw new Error("unknown padding");if((b=new d(g)).cmp(E.modulus)>=0)throw new Error("data too long for modulus")}return m?h(b,E):c(b,E)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(i,r,n){var a=i("bn.js"),s=i("safe-buffer").Buffer;r.exports=function(o,l){return s.from(o.toRed(a.mont(l.modulus)).redPow(new a(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(i,r,n){r.exports=function(a,s){for(var o=a.length,l=-1;++l<o;)a[l]^=s[l];return a}},{}],475:[function(i,r,n){(function(a,s){(function(){var o=i("safe-buffer").Buffer,l=s.crypto||s.msCrypto;l&&l.getRandomValues?r.exports=function(u,d){if(u>4294967295)throw new RangeError("requested too many random bytes");var c=o.allocUnsafe(u);if(u>0)if(u>65536)for(var h=0;h<u;h+=65536)l.getRandomValues(c.slice(h,h+65536));else l.getRandomValues(c);return typeof d=="function"?a.nextTick(function(){d(null,c)}):c}:r.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,i("_process"),typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(i,r,n){(function(a,s){(function(){function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=i("safe-buffer"),u=i("randombytes"),d=l.Buffer,c=l.kMaxLength,h=s.crypto||s.msCrypto,f=Math.pow(2,32)-1;function p(v,b){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>f||v<0)throw new TypeError("offset must be a uint32");if(v>c||v>b)throw new RangeError("offset out of range")}function g(v,b,E){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>f||v<0)throw new TypeError("size must be a uint32");if(v+b>E||v>c)throw new RangeError("buffer too small")}function m(v,b,E,I){if(a.browser){var R=v.buffer,N=new Uint8Array(R,b,E);return h.getRandomValues(N),I?void a.nextTick(function(){I(null,v)}):v}if(!I)return u(E).copy(v,b),v;u(E,function(j,V){if(j)return I(j);V.copy(v,b),I(null,v)})}h&&h.getRandomValues||!a.browser?(n.randomFill=function(v,b,E,I){if(!(d.isBuffer(v)||v instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof b=="function")I=b,b=0,E=v.length;else if(typeof E=="function")I=E,E=v.length-b;else if(typeof I!="function")throw new TypeError('"cb" argument must be a function');return p(b,v.length),g(E,b,v.length),m(v,b,E,I)},n.randomFillSync=function(v,b,E){if(b===void 0&&(b=0),!(d.isBuffer(v)||v instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return p(b,v.length),E===void 0&&(E=v.length-b),g(E,b,v.length),m(v,b,E)}):(n.randomFill=o,n.randomFillSync=o)}).call(this)}).call(this,i("_process"),typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(i,r,n){var a={};function s(l,u,d){d||(d=Error);var c=function(h){var f,p;function g(m,v,b){return h.call(this,function(E,I,R){return typeof u=="string"?u:u(E,I,R)}(m,v,b))||this}return p=h,(f=g).prototype=Object.create(p.prototype),f.prototype.constructor=f,f.__proto__=p,g}(d);c.prototype.name=d.name,c.prototype.code=l,a[l]=c}function o(l,u){if(Array.isArray(l)){var d=l.length;return l=l.map(function(c){return String(c)}),d>2?"one of ".concat(u," ").concat(l.slice(0,d-1).join(", "),", or ")+l[d-1]:d===2?"one of ".concat(u," ").concat(l[0]," or ").concat(l[1]):"of ".concat(u," ").concat(l[0])}return"of ".concat(u," ").concat(String(l))}s("ERR_INVALID_OPT_VALUE",function(l,u){return'The value "'+u+'" is invalid for option "'+l+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(l,u,d){var c,h,f;if(typeof u=="string"&&(h="not ",u.substr(0,h.length)===h)?(c="must not be",u=u.replace(/^not /,"")):c="must be",function(g,m,v){return(v===void 0||v>g.length)&&(v=g.length),g.substring(v-m.length,v)===m}(l," argument"))f="The ".concat(l," ").concat(c," ").concat(o(u,"type"));else{var p=function(g,m,v){return typeof v!="number"&&(v=0),!(v+m.length>g.length)&&g.indexOf(m,v)!==-1}(l,".")?"property":"argument";f='The "'.concat(l,'" ').concat(p," ").concat(c," ").concat(o(u,"type"))}return f+=". Received type ".concat(typeof d)},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),r.exports.codes=a},{}],478:[function(i,r,n){(function(a){(function(){var s=Object.keys||function(g){var m=[];for(var v in g)m.push(v);return m};r.exports=h;var o=i("./_stream_readable"),l=i("./_stream_writable");i("inherits")(h,o);for(var u=s(l.prototype),d=0;d<u.length;d++){var c=u[d];h.prototype[c]||(h.prototype[c]=l.prototype[c])}function h(g){if(!(this instanceof h))return new h(g);o.call(this,g),l.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||a.nextTick(p,this)}function p(g){g.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,i("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(i,r,n){r.exports=s;var a=i("./_stream_transform");function s(o){if(!(this instanceof s))return new s(o);a.call(this,o)}i("inherits")(s,a),s.prototype._transform=function(o,l,u){u(null,o)}},{"./_stream_transform":481,inherits:440}],480:[function(i,r,n){(function(a,s){(function(){var o;r.exports=P,P.ReadableState=G,i("events").EventEmitter;var l=function(D,B){return D.listeners(B).length},u=i("./internal/streams/stream"),d=i("buffer").Buffer,c=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,f=i("util");h=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g,m,v=i("./internal/streams/buffer_list"),b=i("./internal/streams/destroy"),E=i("./internal/streams/state").getHighWaterMark,I=i("../errors").codes,R=I.ERR_INVALID_ARG_TYPE,N=I.ERR_STREAM_PUSH_AFTER_EOF,j=I.ERR_METHOD_NOT_IMPLEMENTED,V=I.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i("inherits")(P,u);var H=b.errorOrDestroy,W=["error","close","destroy","pause","resume"];function G(D,B,U){o=o||i("./_stream_duplex"),D=D||{},typeof U!="boolean"&&(U=B instanceof o),this.objectMode=!!D.objectMode,U&&(this.objectMode=this.objectMode||!!D.readableObjectMode),this.highWaterMark=E(this,D,"readableHighWaterMark",U),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=D.emitClose!==!1,this.autoDestroy=!!D.autoDestroy,this.destroyed=!1,this.defaultEncoding=D.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,D.encoding&&(p||(p=i("string_decoder/").StringDecoder),this.decoder=new p(D.encoding),this.encoding=D.encoding)}function P(D){if(o=o||i("./_stream_duplex"),!(this instanceof P))return new P(D);var B=this instanceof o;this._readableState=new G(D,this,B),this.readable=!0,D&&(typeof D.read=="function"&&(this._read=D.read),typeof D.destroy=="function"&&(this._destroy=D.destroy)),u.call(this)}function A(D,B,U,Q,q){h("readableAddChunk",B);var Z,$=D._readableState;if(B===null)$.reading=!1,function(ie,te){if(h("onEofChunk"),!te.ended){if(te.decoder){var Y=te.decoder.end();Y&&Y.length&&(te.buffer.push(Y),te.length+=te.objectMode?1:Y.length)}te.ended=!0,te.sync?C(ie):(te.needReadable=!1,te.emittedReadable||(te.emittedReadable=!0,y(ie)))}}(D,$);else if(q||(Z=function(ie,te){var Y;ee=te,d.isBuffer(ee)||ee instanceof c||typeof te=="string"||te===void 0||ie.objectMode||(Y=new R("chunk",["string","Buffer","Uint8Array"],te));var ee;return Y}($,B)),Z)H(D,Z);else if($.objectMode||B&&B.length>0)if(typeof B=="string"||$.objectMode||Object.getPrototypeOf(B)===d.prototype||(B=function(ie){return d.from(ie)}(B)),Q)$.endEmitted?H(D,new V):T(D,$,B,!0);else if($.ended)H(D,new N);else{if($.destroyed)return!1;$.reading=!1,$.decoder&&!U?(B=$.decoder.write(B),$.objectMode||B.length!==0?T(D,$,B,!1):S(D,$)):T(D,$,B,!1)}else Q||($.reading=!1,S(D,$));return!$.ended&&($.length<$.highWaterMark||$.length===0)}function T(D,B,U,Q){B.flowing&&B.length===0&&!B.sync?(B.awaitDrain=0,D.emit("data",U)):(B.length+=B.objectMode?1:U.length,Q?B.buffer.unshift(U):B.buffer.push(U),B.needReadable&&C(D)),S(D,B)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(D){this._readableState&&(this._readableState.destroyed=D)}}),P.prototype.destroy=b.destroy,P.prototype._undestroy=b.undestroy,P.prototype._destroy=function(D,B){B(D)},P.prototype.push=function(D,B){var U,Q=this._readableState;return Q.objectMode?U=!0:typeof D=="string"&&((B=B||Q.defaultEncoding)!==Q.encoding&&(D=d.from(D,B),B=""),U=!0),A(this,D,B,!1,U)},P.prototype.unshift=function(D){return A(this,D,null,!0,!1)},P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(D){p||(p=i("string_decoder/").StringDecoder);var B=new p(D);this._readableState.decoder=B,this._readableState.encoding=this._readableState.decoder.encoding;for(var U=this._readableState.buffer.head,Q="";U!==null;)Q+=B.write(U.data),U=U.next;return this._readableState.buffer.clear(),Q!==""&&this._readableState.buffer.push(Q),this._readableState.length=Q.length,this};function x(D,B){return D<=0||B.length===0&&B.ended?0:B.objectMode?1:D!=D?B.flowing&&B.length?B.buffer.head.data.length:B.length:(D>B.highWaterMark&&(B.highWaterMark=function(U){return U>=1073741824?U=1073741824:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}(D)),D<=B.length?D:B.ended?B.length:(B.needReadable=!0,0))}function C(D){var B=D._readableState;h("emitReadable",B.needReadable,B.emittedReadable),B.needReadable=!1,B.emittedReadable||(h("emitReadable",B.flowing),B.emittedReadable=!0,a.nextTick(y,D))}function y(D){var B=D._readableState;h("emitReadable_",B.destroyed,B.length,B.ended),B.destroyed||!B.length&&!B.ended||(D.emit("readable"),B.emittedReadable=!1),B.needReadable=!B.flowing&&!B.ended&&B.length<=B.highWaterMark,F(D)}function S(D,B){B.readingMore||(B.readingMore=!0,a.nextTick(w,D,B))}function w(D,B){for(;!B.reading&&!B.ended&&(B.length<B.highWaterMark||B.flowing&&B.length===0);){var U=B.length;if(h("maybeReadMore read 0"),D.read(0),U===B.length)break}B.readingMore=!1}function k(D){var B=D._readableState;B.readableListening=D.listenerCount("readable")>0,B.resumeScheduled&&!B.paused?B.flowing=!0:D.listenerCount("data")>0&&D.resume()}function M(D){h("readable nexttick read 0"),D.read(0)}function O(D,B){h("resume",B.reading),B.reading||D.read(0),B.resumeScheduled=!1,D.emit("resume"),F(D),B.flowing&&!B.reading&&D.read(0)}function F(D){var B=D._readableState;for(h("flow",B.flowing);B.flowing&&D.read()!==null;);}function z(D,B){return B.length===0?null:(B.objectMode?U=B.buffer.shift():!D||D>=B.length?(U=B.decoder?B.buffer.join(""):B.buffer.length===1?B.buffer.first():B.buffer.concat(B.length),B.buffer.clear()):U=B.buffer.consume(D,B.decoder),U);var U}function X(D){var B=D._readableState;h("endReadable",B.endEmitted),B.endEmitted||(B.ended=!0,a.nextTick(L,B,D))}function L(D,B){if(h("endReadableNT",D.endEmitted,D.length),!D.endEmitted&&D.length===0&&(D.endEmitted=!0,B.readable=!1,B.emit("end"),D.autoDestroy)){var U=B._writableState;(!U||U.autoDestroy&&U.finished)&&B.destroy()}}function K(D,B){for(var U=0,Q=D.length;U<Q;U++)if(D[U]===B)return U;return-1}P.prototype.read=function(D){h("read",D),D=parseInt(D,10);var B=this._readableState,U=D;if(D!==0&&(B.emittedReadable=!1),D===0&&B.needReadable&&((B.highWaterMark!==0?B.length>=B.highWaterMark:B.length>0)||B.ended))return h("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?X(this):C(this),null;if((D=x(D,B))===0&&B.ended)return B.length===0&&X(this),null;var Q,q=B.needReadable;return h("need readable",q),(B.length===0||B.length-D<B.highWaterMark)&&h("length less than watermark",q=!0),B.ended||B.reading?h("reading or ended",q=!1):q&&(h("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(D=x(U,B))),(Q=D>0?z(D,B):null)===null?(B.needReadable=B.length<=B.highWaterMark,D=0):(B.length-=D,B.awaitDrain=0),B.length===0&&(B.ended||(B.needReadable=!0),U!==D&&B.ended&&X(this)),Q!==null&&this.emit("data",Q),Q},P.prototype._read=function(D){H(this,new j("_read()"))},P.prototype.pipe=function(D,B){var U=this,Q=this._readableState;switch(Q.pipesCount){case 0:Q.pipes=D;break;case 1:Q.pipes=[Q.pipes,D];break;default:Q.pipes.push(D)}Q.pipesCount+=1,h("pipe count=%d opts=%j",Q.pipesCount,B);var q=(!B||B.end!==!1)&&D!==a.stdout&&D!==a.stderr?$:ue;function Z(le,pe){h("onunpipe"),le===U&&pe&&pe.hasUnpiped===!1&&(pe.hasUnpiped=!0,h("cleanup"),D.removeListener("close",re),D.removeListener("finish",ne),D.removeListener("drain",ie),D.removeListener("error",ee),D.removeListener("unpipe",Z),U.removeListener("end",$),U.removeListener("end",ue),U.removeListener("data",Y),te=!0,!Q.awaitDrain||D._writableState&&!D._writableState.needDrain||ie())}function $(){h("onend"),D.end()}Q.endEmitted?a.nextTick(q):U.once("end",q),D.on("unpipe",Z);var ie=function(le){return function(){var pe=le._readableState;h("pipeOnDrain",pe.awaitDrain),pe.awaitDrain&&pe.awaitDrain--,pe.awaitDrain===0&&l(le,"data")&&(pe.flowing=!0,F(le))}}(U);D.on("drain",ie);var te=!1;function Y(le){h("ondata");var pe=D.write(le);h("dest.write",pe),pe===!1&&((Q.pipesCount===1&&Q.pipes===D||Q.pipesCount>1&&K(Q.pipes,D)!==-1)&&!te&&(h("false write response, pause",Q.awaitDrain),Q.awaitDrain++),U.pause())}function ee(le){h("onerror",le),ue(),D.removeListener("error",ee),l(D,"error")===0&&H(D,le)}function re(){D.removeListener("finish",ne),ue()}function ne(){h("onfinish"),D.removeListener("close",re),ue()}function ue(){h("unpipe"),U.unpipe(D)}return U.on("data",Y),function(le,pe,se){if(typeof le.prependListener=="function")return le.prependListener(pe,se);le._events&&le._events[pe]?Array.isArray(le._events[pe])?le._events[pe].unshift(se):le._events[pe]=[se,le._events[pe]]:le.on(pe,se)}(D,"error",ee),D.once("close",re),D.once("finish",ne),D.emit("pipe",U),Q.flowing||(h("pipe resume"),U.resume()),D},P.prototype.unpipe=function(D){var B=this._readableState,U={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return D&&D!==B.pipes||(D||(D=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,D&&D.emit("unpipe",this,U)),this;if(!D){var Q=B.pipes,q=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var Z=0;Z<q;Z++)Q[Z].emit("unpipe",this,{hasUnpiped:!1});return this}var $=K(B.pipes,D);return $===-1||(B.pipes.splice($,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),D.emit("unpipe",this,U)),this},P.prototype.on=function(D,B){var U=u.prototype.on.call(this,D,B),Q=this._readableState;return D==="data"?(Q.readableListening=this.listenerCount("readable")>0,Q.flowing!==!1&&this.resume()):D==="readable"&&(Q.endEmitted||Q.readableListening||(Q.readableListening=Q.needReadable=!0,Q.flowing=!1,Q.emittedReadable=!1,h("on readable",Q.length,Q.reading),Q.length?C(this):Q.reading||a.nextTick(M,this))),U},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(D,B){var U=u.prototype.removeListener.call(this,D,B);return D==="readable"&&a.nextTick(k,this),U},P.prototype.removeAllListeners=function(D){var B=u.prototype.removeAllListeners.apply(this,arguments);return D!=="readable"&&D!==void 0||a.nextTick(k,this),B},P.prototype.resume=function(){var D=this._readableState;return D.flowing||(h("resume"),D.flowing=!D.readableListening,function(B,U){U.resumeScheduled||(U.resumeScheduled=!0,a.nextTick(O,B,U))}(this,D)),D.paused=!1,this},P.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(D){var B=this,U=this._readableState,Q=!1;for(var q in D.on("end",function(){if(h("wrapped end"),U.decoder&&!U.ended){var $=U.decoder.end();$&&$.length&&B.push($)}B.push(null)}),D.on("data",function($){h("wrapped data"),U.decoder&&($=U.decoder.write($)),U.objectMode&&$==null||(U.objectMode||$&&$.length)&&(B.push($)||(Q=!0,D.pause()))}),D)this[q]===void 0&&typeof D[q]=="function"&&(this[q]=function($){return function(){return D[$].apply(D,arguments)}}(q));for(var Z=0;Z<W.length;Z++)D.on(W[Z],this.emit.bind(this,W[Z]));return this._read=function($){h("wrapped _read",$),Q&&(Q=!1,D.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=i("./internal/streams/async_iterator")),g(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),P._fromList=z,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(P.from=function(D,B){return m===void 0&&(m=i("./internal/streams/from")),m(P,D,B)})}).call(this)}).call(this,i("_process"),typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(i,r,n){r.exports=h;var a=i("../errors").codes,s=a.ERR_METHOD_NOT_IMPLEMENTED,o=a.ERR_MULTIPLE_CALLBACK,l=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=a.ERR_TRANSFORM_WITH_LENGTH_0,d=i("./_stream_duplex");function c(g,m){var v=this._transformState;v.transforming=!1;var b=v.writecb;if(b===null)return this.emit("error",new o);v.writechunk=null,v.writecb=null,m!=null&&this.push(m),b(g);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function h(g){if(!(this instanceof h))return new h(g);d.call(this,g),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",f)}function f(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?p(this,null,null):this._flush(function(m,v){p(g,m,v)})}function p(g,m,v){if(m)return g.emit("error",m);if(v!=null&&g.push(v),g._writableState.length)throw new u;if(g._transformState.transforming)throw new l;return g.push(null)}i("inherits")(h,d),h.prototype.push=function(g,m){return this._transformState.needTransform=!1,d.prototype.push.call(this,g,m)},h.prototype._transform=function(g,m,v){v(new s("_transform()"))},h.prototype._write=function(g,m,v){var b=this._transformState;if(b.writecb=v,b.writechunk=g,b.writeencoding=m,!b.transforming){var E=this._readableState;(b.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},h.prototype._read=function(g){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},h.prototype._destroy=function(g,m){d.prototype._destroy.call(this,g,function(v){m(v)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(i,r,n){(function(a,s){(function(){function o(w){var k=this;this.next=null,this.entry=null,this.finish=function(){(function(M,O,F){var z=M.entry;for(M.entry=null;z;){var X=z.callback;O.pendingcb--,X(F),z=z.next}O.corkedRequestsFree.next=M})(k,w)}}var l;r.exports=P,P.WritableState=G;var u={deprecate:i("util-deprecate")},d=i("./internal/streams/stream"),c=i("buffer").Buffer,h=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,p=i("./internal/streams/destroy"),g=i("./internal/streams/state").getHighWaterMark,m=i("../errors").codes,v=m.ERR_INVALID_ARG_TYPE,b=m.ERR_METHOD_NOT_IMPLEMENTED,E=m.ERR_MULTIPLE_CALLBACK,I=m.ERR_STREAM_CANNOT_PIPE,R=m.ERR_STREAM_DESTROYED,N=m.ERR_STREAM_NULL_VALUES,j=m.ERR_STREAM_WRITE_AFTER_END,V=m.ERR_UNKNOWN_ENCODING,H=p.errorOrDestroy;function W(){}function G(w,k,M){l=l||i("./_stream_duplex"),w=w||{},typeof M!="boolean"&&(M=k instanceof l),this.objectMode=!!w.objectMode,M&&(this.objectMode=this.objectMode||!!w.writableObjectMode),this.highWaterMark=g(this,w,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var O=w.decodeStrings===!1;this.decodeStrings=!O,this.defaultEncoding=w.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(F){(function(z,X){var L=z._writableState,K=L.sync,D=L.writecb;if(typeof D!="function")throw new E;if(function(U){U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0}(L),X)(function(U,Q,q,Z,$){--Q.pendingcb,q?(a.nextTick($,Z),a.nextTick(S,U,Q),U._writableState.errorEmitted=!0,H(U,Z)):($(Z),U._writableState.errorEmitted=!0,H(U,Z),S(U,Q))})(z,L,K,X,D);else{var B=C(L)||z.destroyed;B||L.corked||L.bufferProcessing||!L.bufferedRequest||x(z,L),K?a.nextTick(T,z,L,B,D):T(z,L,B,D)}})(k,F)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=w.emitClose!==!1,this.autoDestroy=!!w.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function P(w){var k=this instanceof(l=l||i("./_stream_duplex"));if(!k&&!f.call(P,this))return new P(w);this._writableState=new G(w,this,k),this.writable=!0,w&&(typeof w.write=="function"&&(this._write=w.write),typeof w.writev=="function"&&(this._writev=w.writev),typeof w.destroy=="function"&&(this._destroy=w.destroy),typeof w.final=="function"&&(this._final=w.final)),d.call(this)}function A(w,k,M,O,F,z,X){k.writelen=O,k.writecb=X,k.writing=!0,k.sync=!0,k.destroyed?k.onwrite(new R("write")):M?w._writev(F,k.onwrite):w._write(F,z,k.onwrite),k.sync=!1}function T(w,k,M,O){M||function(F,z){z.length===0&&z.needDrain&&(z.needDrain=!1,F.emit("drain"))}(w,k),k.pendingcb--,O(),S(w,k)}function x(w,k){k.bufferProcessing=!0;var M=k.bufferedRequest;if(w._writev&&M&&M.next){var O=k.bufferedRequestCount,F=new Array(O),z=k.corkedRequestsFree;z.entry=M;for(var X=0,L=!0;M;)F[X]=M,M.isBuf||(L=!1),M=M.next,X+=1;F.allBuffers=L,A(w,k,!0,k.length,F,"",z.finish),k.pendingcb++,k.lastBufferedRequest=null,z.next?(k.corkedRequestsFree=z.next,z.next=null):k.corkedRequestsFree=new o(k),k.bufferedRequestCount=0}else{for(;M;){var K=M.chunk,D=M.encoding,B=M.callback;if(A(w,k,!1,k.objectMode?1:K.length,K,D,B),M=M.next,k.bufferedRequestCount--,k.writing)break}M===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=M,k.bufferProcessing=!1}function C(w){return w.ending&&w.length===0&&w.bufferedRequest===null&&!w.finished&&!w.writing}function y(w,k){w._final(function(M){k.pendingcb--,M&&H(w,M),k.prefinished=!0,w.emit("prefinish"),S(w,k)})}function S(w,k){var M=C(k);if(M&&(function(F,z){z.prefinished||z.finalCalled||(typeof F._final!="function"||z.destroyed?(z.prefinished=!0,F.emit("prefinish")):(z.pendingcb++,z.finalCalled=!0,a.nextTick(y,F,z)))}(w,k),k.pendingcb===0&&(k.finished=!0,w.emit("finish"),k.autoDestroy))){var O=w._readableState;(!O||O.autoDestroy&&O.endEmitted)&&w.destroy()}return M}i("inherits")(P,d),G.prototype.getBuffer=function(){for(var w=this.bufferedRequest,k=[];w;)k.push(w),w=w.next;return k},function(){try{Object.defineProperty(G.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(w){return!!f.call(this,w)||this===P&&w&&w._writableState instanceof G}})):f=function(w){return w instanceof this},P.prototype.pipe=function(){H(this,new I)},P.prototype.write=function(w,k,M){var O,F=this._writableState,z=!1,X=!F.objectMode&&(O=w,c.isBuffer(O)||O instanceof h);return X&&!c.isBuffer(w)&&(w=function(L){return c.from(L)}(w)),typeof k=="function"&&(M=k,k=null),X?k="buffer":k||(k=F.defaultEncoding),typeof M!="function"&&(M=W),F.ending?function(L,K){var D=new j;H(L,D),a.nextTick(K,D)}(this,M):(X||function(L,K,D,B){var U;return D===null?U=new N:typeof D=="string"||K.objectMode||(U=new v("chunk",["string","Buffer"],D)),!U||(H(L,U),a.nextTick(B,U),!1)}(this,F,w,M))&&(F.pendingcb++,z=function(L,K,D,B,U,Q){if(!D){var q=function(te,Y,ee){return te.objectMode||te.decodeStrings===!1||typeof Y!="string"||(Y=c.from(Y,ee)),Y}(K,B,U);B!==q&&(D=!0,U="buffer",B=q)}var Z=K.objectMode?1:B.length;K.length+=Z;var $=K.length<K.highWaterMark;if($||(K.needDrain=!0),K.writing||K.corked){var ie=K.lastBufferedRequest;K.lastBufferedRequest={chunk:B,encoding:U,isBuf:D,callback:Q,next:null},ie?ie.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else A(L,K,!1,Z,B,U,Q);return $}(this,F,X,w,k,M)),z},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var w=this._writableState;w.corked&&(w.corked--,w.writing||w.corked||w.bufferProcessing||!w.bufferedRequest||x(this,w))},P.prototype.setDefaultEncoding=function(w){if(typeof w=="string"&&(w=w.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((w+"").toLowerCase())>-1))throw new V(w);return this._writableState.defaultEncoding=w,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(w,k,M){M(new b("_write()"))},P.prototype._writev=null,P.prototype.end=function(w,k,M){var O=this._writableState;return typeof w=="function"?(M=w,w=null,k=null):typeof k=="function"&&(M=k,k=null),w!=null&&this.write(w,k),O.corked&&(O.corked=1,this.uncork()),O.ending||function(F,z,X){z.ending=!0,S(F,z),X&&(z.finished?a.nextTick(X):F.once("finish",X)),z.ended=!0,F.writable=!1}(this,O,M),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(w){this._writableState&&(this._writableState.destroyed=w)}}),P.prototype.destroy=p.destroy,P.prototype._undestroy=p.undestroy,P.prototype._destroy=function(w,k){k(w)}}).call(this)}).call(this,i("_process"),typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(i,r,n){(function(a){(function(){var s;function o(R,N,j){return(N=function(V){var H=function(W,G){if(typeof W!="object"||W===null)return W;var P=W[Symbol.toPrimitive];if(P!==void 0){var A=P.call(W,G||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(W)}(V,"string");return typeof H=="symbol"?H:String(H)}(N))in R?Object.defineProperty(R,N,{value:j,enumerable:!0,configurable:!0,writable:!0}):R[N]=j,R}var l=i("./end-of-stream"),u=Symbol("lastResolve"),d=Symbol("lastReject"),c=Symbol("error"),h=Symbol("ended"),f=Symbol("lastPromise"),p=Symbol("handlePromise"),g=Symbol("stream");function m(R,N){return{value:R,done:N}}function v(R){var N=R[u];if(N!==null){var j=R[g].read();j!==null&&(R[f]=null,R[u]=null,R[d]=null,N(m(j,!1)))}}function b(R){a.nextTick(v,R)}var E=Object.getPrototypeOf(function(){}),I=Object.setPrototypeOf((o(s={get stream(){return this[g]},next:function(){var R=this,N=this[c];if(N!==null)return Promise.reject(N);if(this[h])return Promise.resolve(m(void 0,!0));if(this[g].destroyed)return new Promise(function(W,G){a.nextTick(function(){R[c]?G(R[c]):W(m(void 0,!0))})});var j,V=this[f];if(V)j=new Promise(function(W,G){return function(P,A){W.then(function(){G[h]?P(m(void 0,!0)):G[p](P,A)},A)}}(V,this));else{var H=this[g].read();if(H!==null)return Promise.resolve(m(H,!1));j=new Promise(this[p])}return this[f]=j,j}},Symbol.asyncIterator,function(){return this}),o(s,"return",function(){var R=this;return new Promise(function(N,j){R[g].destroy(null,function(V){V?j(V):N(m(void 0,!0))})})}),s),E);r.exports=function(R){var N,j=Object.create(I,(o(N={},g,{value:R,writable:!0}),o(N,u,{value:null,writable:!0}),o(N,d,{value:null,writable:!0}),o(N,c,{value:null,writable:!0}),o(N,h,{value:R._readableState.endEmitted,writable:!0}),o(N,p,{value:function(V,H){var W=j[g].read();W?(j[f]=null,j[u]=null,j[d]=null,V(m(W,!1))):(j[u]=V,j[d]=H)},writable:!0}),N));return j[f]=null,l(R,function(V){if(V&&V.code!=="ERR_STREAM_PREMATURE_CLOSE"){var H=j[d];return H!==null&&(j[f]=null,j[u]=null,j[d]=null,H(V)),void(j[c]=V)}var W=j[u];W!==null&&(j[f]=null,j[u]=null,j[d]=null,W(m(void 0,!0))),j[h]=!0}),R.on("readable",b.bind(null,j)),j}}).call(this)}).call(this,i("_process"))},{"./end-of-stream":486,_process:467}],484:[function(i,r,n){function a(f,p){var g=Object.keys(f);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(f);p&&(m=m.filter(function(v){return Object.getOwnPropertyDescriptor(f,v).enumerable})),g.push.apply(g,m)}return g}function s(f){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?a(Object(g),!0).forEach(function(m){o(f,m,g[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(g)):a(Object(g)).forEach(function(m){Object.defineProperty(f,m,Object.getOwnPropertyDescriptor(g,m))})}return f}function o(f,p,g){return(p=u(p))in f?Object.defineProperty(f,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[p]=g,f}function l(f,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,u(m.key),m)}}function u(f){var p=function(g,m){if(typeof g!="object"||g===null)return g;var v=g[Symbol.toPrimitive];if(v!==void 0){var b=v.call(g,m||"default");if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(g)}(f,"string");return typeof p=="symbol"?p:String(p)}var d=i("buffer").Buffer,c=i("util").inspect,h=c&&c.custom||"inspect";r.exports=function(){function f(){(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}var p,g;return p=f,(g=[{key:"push",value:function(m){var v={data:m,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(m){var v={data:m,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var v=this.head,b=""+v.data;v=v.next;)b+=m+v.data;return b}},{key:"concat",value:function(m){if(this.length===0)return d.alloc(0);for(var v,b,E,I=d.allocUnsafe(m>>>0),R=this.head,N=0;R;)v=R.data,b=I,E=N,d.prototype.copy.call(v,b,E),N+=R.data.length,R=R.next;return I}},{key:"consume",value:function(m,v){var b;return m<this.head.data.length?(b=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):b=m===this.head.data.length?this.shift():v?this._getString(m):this._getBuffer(m),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var v=this.head,b=1,E=v.data;for(m-=E.length;v=v.next;){var I=v.data,R=m>I.length?I.length:m;if(R===I.length?E+=I:E+=I.slice(0,m),(m-=R)==0){R===I.length?(++b,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=I.slice(R));break}++b}return this.length-=b,E}},{key:"_getBuffer",value:function(m){var v=d.allocUnsafe(m),b=this.head,E=1;for(b.data.copy(v),m-=b.data.length;b=b.next;){var I=b.data,R=m>I.length?I.length:m;if(I.copy(v,v.length-m,0,R),(m-=R)==0){R===I.length?(++E,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=I.slice(R));break}++E}return this.length-=E,v}},{key:h,value:function(m,v){return c(this,s(s({},v),{},{depth:0,customInspect:!1}))}}])&&l(p.prototype,g),Object.defineProperty(p,"prototype",{writable:!1}),f}()},{buffer:220,util:188}],485:[function(i,r,n){(function(a){(function(){function s(u,d){l(u,d),o(u)}function o(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function l(u,d){u.emit("error",d)}r.exports={destroy:function(u,d){var c=this,h=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return h||f?(d?d(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(l,this,u)):a.nextTick(l,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(p){!d&&p?c._writableState?c._writableState.errorEmitted?a.nextTick(o,c):(c._writableState.errorEmitted=!0,a.nextTick(s,c,p)):a.nextTick(s,c,p):d?(a.nextTick(o,c),d(p)):a.nextTick(o,c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(u,d){var c=u._readableState,h=u._writableState;c&&c.autoDestroy||h&&h.autoDestroy?u.destroy(d):u.emit("error",d)}}}).call(this)}).call(this,i("_process"))},{_process:467}],486:[function(i,r,n){var a=i("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}r.exports=function o(l,u,d){if(typeof u=="function")return o(l,null,u);u||(u={}),d=function(R){var N=!1;return function(){if(!N){N=!0;for(var j=arguments.length,V=new Array(j),H=0;H<j;H++)V[H]=arguments[H];R.apply(this,V)}}}(d||s);var c=u.readable||u.readable!==!1&&l.readable,h=u.writable||u.writable!==!1&&l.writable,f=function(){l.writable||g()},p=l._writableState&&l._writableState.finished,g=function(){h=!1,p=!0,c||d.call(l)},m=l._readableState&&l._readableState.endEmitted,v=function(){c=!1,m=!0,h||d.call(l)},b=function(R){d.call(l,R)},E=function(){var R;return c&&!m?(l._readableState&&l._readableState.ended||(R=new a),d.call(l,R)):h&&!p?(l._writableState&&l._writableState.ended||(R=new a),d.call(l,R)):void 0},I=function(){l.req.on("finish",g)};return function(R){return R.setHeader&&typeof R.abort=="function"}(l)?(l.on("complete",g),l.on("abort",E),l.req?I():l.on("request",I)):h&&!l._writableState&&(l.on("end",f),l.on("close",f)),l.on("end",v),l.on("finish",g),u.error!==!1&&l.on("error",b),l.on("close",E),function(){l.removeListener("complete",g),l.removeListener("abort",E),l.removeListener("request",I),l.req&&l.req.removeListener("finish",g),l.removeListener("end",f),l.removeListener("close",f),l.removeListener("finish",g),l.removeListener("end",v),l.removeListener("error",b),l.removeListener("close",E)}}},{"../../../errors":477}],487:[function(i,r,n){r.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(i,r,n){var a,s=i("../../../errors").codes,o=s.ERR_MISSING_ARGS,l=s.ERR_STREAM_DESTROYED;function u(p){if(p)throw p}function d(p,g,m,v){v=function(I){var R=!1;return function(){R||(R=!0,I.apply(void 0,arguments))}}(v);var b=!1;p.on("close",function(){b=!0}),a===void 0&&(a=i("./end-of-stream")),a(p,{readable:g,writable:m},function(I){if(I)return v(I);b=!0,v()});var E=!1;return function(I){if(!b&&!E)return E=!0,function(R){return R.setHeader&&typeof R.abort=="function"}(p)?p.abort():typeof p.destroy=="function"?p.destroy():void v(I||new l("pipe"))}}function c(p){p()}function h(p,g){return p.pipe(g)}function f(p){return p.length?typeof p[p.length-1]!="function"?u:p.pop():u}r.exports=function(){for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];var v,b=f(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new o("streams");var E=g.map(function(I,R){var N=R<g.length-1;return d(I,N,R>0,function(j){v||(v=j),j&&E.forEach(c),N||(E.forEach(c),b(v))})});return g.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(i,r,n){var a=i("../../../errors").codes.ERR_INVALID_OPT_VALUE;r.exports={getHighWaterMark:function(s,o,l,u){var d=function(c,h,f){return c.highWaterMark!=null?c.highWaterMark:h?c[f]:null}(o,u,l);if(d!=null){if(!isFinite(d)||Math.floor(d)!==d||d<0)throw new a(u?l:"highWaterMark",d);return Math.floor(d)}return s.objectMode?16:16384}}},{"../../../errors":477}],490:[function(i,r,n){r.exports=i("events").EventEmitter},{events:422}],491:[function(i,r,n){(n=r.exports=i("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=i("./lib/_stream_writable.js"),n.Duplex=i("./lib/_stream_duplex.js"),n.Transform=i("./lib/_stream_transform.js"),n.PassThrough=i("./lib/_stream_passthrough.js"),n.finished=i("./lib/internal/streams/end-of-stream.js"),n.pipeline=i("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(i,r,n){var a=function(s){var o=Object.prototype,l=o.hasOwnProperty,u=Object.defineProperty||function(S,w,k){S[w]=k.value},d=typeof Symbol=="function"?Symbol:{},c=d.iterator||"@@iterator",h=d.asyncIterator||"@@asyncIterator",f=d.toStringTag||"@@toStringTag";function p(S,w,k){return Object.defineProperty(S,w,{value:k,enumerable:!0,configurable:!0,writable:!0}),S[w]}try{p({},"")}catch{p=function(w,k,M){return w[k]=M}}function g(S,w,k,M){var O=w&&w.prototype instanceof b?w:b,F=Object.create(O.prototype),z=new x(M||[]);return u(F,"_invoke",{value:G(S,k,z)}),F}function m(S,w,k){try{return{type:"normal",arg:S.call(w,k)}}catch(M){return{type:"throw",arg:M}}}s.wrap=g;var v={};function b(){}function E(){}function I(){}var R={};p(R,c,function(){return this});var N=Object.getPrototypeOf,j=N&&N(N(C([])));j&&j!==o&&l.call(j,c)&&(R=j);var V=I.prototype=b.prototype=Object.create(R);function H(S){["next","throw","return"].forEach(function(w){p(S,w,function(k){return this._invoke(w,k)})})}function W(S,w){var k;u(this,"_invoke",{value:function(M,O){function F(){return new w(function(z,X){(function L(K,D,B,U){var Q=m(S[K],S,D);if(Q.type!=="throw"){var q=Q.arg,Z=q.value;return Z&&typeof Z=="object"&&l.call(Z,"__await")?w.resolve(Z.__await).then(function($){L("next",$,B,U)},function($){L("throw",$,B,U)}):w.resolve(Z).then(function($){q.value=$,B(q)},function($){return L("throw",$,B,U)})}U(Q.arg)})(M,O,z,X)})}return k=k?k.then(F,F):F()}})}function G(S,w,k){var M="suspendedStart";return function(O,F){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(O==="throw")throw F;return y()}for(k.method=O,k.arg=F;;){var z=k.delegate;if(z){var X=P(z,k);if(X){if(X===v)continue;return X}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(M==="suspendedStart")throw M="completed",k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);M="executing";var L=m(S,w,k);if(L.type==="normal"){if(M=k.done?"completed":"suspendedYield",L.arg===v)continue;return{value:L.arg,done:k.done}}L.type==="throw"&&(M="completed",k.method="throw",k.arg=L.arg)}}}function P(S,w){var k=w.method,M=S.iterator[k];if(M===void 0)return w.delegate=null,k==="throw"&&S.iterator.return&&(w.method="return",w.arg=void 0,P(S,w),w.method==="throw")||k!=="return"&&(w.method="throw",w.arg=new TypeError("The iterator does not provide a '"+k+"' method")),v;var O=m(M,S.iterator,w.arg);if(O.type==="throw")return w.method="throw",w.arg=O.arg,w.delegate=null,v;var F=O.arg;return F?F.done?(w[S.resultName]=F.value,w.next=S.nextLoc,w.method!=="return"&&(w.method="next",w.arg=void 0),w.delegate=null,v):F:(w.method="throw",w.arg=new TypeError("iterator result is not an object"),w.delegate=null,v)}function A(S){var w={tryLoc:S[0]};1 in S&&(w.catchLoc=S[1]),2 in S&&(w.finallyLoc=S[2],w.afterLoc=S[3]),this.tryEntries.push(w)}function T(S){var w=S.completion||{};w.type="normal",delete w.arg,S.completion=w}function x(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(A,this),this.reset(!0)}function C(S){if(S){var w=S[c];if(w)return w.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var k=-1,M=function O(){for(;++k<S.length;)if(l.call(S,k))return O.value=S[k],O.done=!1,O;return O.value=void 0,O.done=!0,O};return M.next=M}}return{next:y}}function y(){return{value:void 0,done:!0}}return E.prototype=I,u(V,"constructor",{value:I,configurable:!0}),u(I,"constructor",{value:E,configurable:!0}),E.displayName=p(I,f,"GeneratorFunction"),s.isGeneratorFunction=function(S){var w=typeof S=="function"&&S.constructor;return!!w&&(w===E||(w.displayName||w.name)==="GeneratorFunction")},s.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,I):(S.__proto__=I,p(S,f,"GeneratorFunction")),S.prototype=Object.create(V),S},s.awrap=function(S){return{__await:S}},H(W.prototype),p(W.prototype,h,function(){return this}),s.AsyncIterator=W,s.async=function(S,w,k,M,O){O===void 0&&(O=Promise);var F=new W(g(S,w,k,M),O);return s.isGeneratorFunction(w)?F:F.next().then(function(z){return z.done?z.value:F.next()})},H(V),p(V,f,"Generator"),p(V,c,function(){return this}),p(V,"toString",function(){return"[object Generator]"}),s.keys=function(S){var w=Object(S),k=[];for(var M in w)k.push(M);return k.reverse(),function O(){for(;k.length;){var F=k.pop();if(F in w)return O.value=F,O.done=!1,O}return O.done=!0,O}},s.values=C,x.prototype={constructor:x,reset:function(S){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!S)for(var w in this)w.charAt(0)==="t"&&l.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var S=this.tryEntries[0].completion;if(S.type==="throw")throw S.arg;return this.rval},dispatchException:function(S){if(this.done)throw S;var w=this;function k(L,K){return F.type="throw",F.arg=S,w.next=L,K&&(w.method="next",w.arg=void 0),!!K}for(var M=this.tryEntries.length-1;M>=0;--M){var O=this.tryEntries[M],F=O.completion;if(O.tryLoc==="root")return k("end");if(O.tryLoc<=this.prev){var z=l.call(O,"catchLoc"),X=l.call(O,"finallyLoc");if(z&&X){if(this.prev<O.catchLoc)return k(O.catchLoc,!0);if(this.prev<O.finallyLoc)return k(O.finallyLoc)}else if(z){if(this.prev<O.catchLoc)return k(O.catchLoc,!0)}else{if(!X)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return k(O.finallyLoc)}}}},abrupt:function(S,w){for(var k=this.tryEntries.length-1;k>=0;--k){var M=this.tryEntries[k];if(M.tryLoc<=this.prev&&l.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var O=M;break}}O&&(S==="break"||S==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var F=O?O.completion:{};return F.type=S,F.arg=w,O?(this.method="next",this.next=O.finallyLoc,v):this.complete(F)},complete:function(S,w){if(S.type==="throw")throw S.arg;return S.type==="break"||S.type==="continue"?this.next=S.arg:S.type==="return"?(this.rval=this.arg=S.arg,this.method="return",this.next="end"):S.type==="normal"&&w&&(this.next=w),v},finish:function(S){for(var w=this.tryEntries.length-1;w>=0;--w){var k=this.tryEntries[w];if(k.finallyLoc===S)return this.complete(k.completion,k.afterLoc),T(k),v}},catch:function(S){for(var w=this.tryEntries.length-1;w>=0;--w){var k=this.tryEntries[w];if(k.tryLoc===S){var M=k.completion;if(M.type==="throw"){var O=M.arg;T(k)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(S,w,k){return this.delegate={iterator:C(S),resultName:w,nextLoc:k},this.method==="next"&&(this.arg=void 0),v}},s}(typeof r=="object"?r.exports:{});try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},{}],493:[function(i,r,n){var a=i("buffer").Buffer,s=i("inherits"),o=i("hash-base"),l=new Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0];function g(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(N,j){return N<<j|N>>>32-j}function v(N,j,V,H,W,G,P,A){return m(N+(j^V^H)+G+P|0,A)+W|0}function b(N,j,V,H,W,G,P,A){return m(N+(j&V|~j&H)+G+P|0,A)+W|0}function E(N,j,V,H,W,G,P,A){return m(N+((j|~V)^H)+G+P|0,A)+W|0}function I(N,j,V,H,W,G,P,A){return m(N+(j&H|V&~H)+G+P|0,A)+W|0}function R(N,j,V,H,W,G,P,A){return m(N+(j^(V|~H))+G+P|0,A)+W|0}s(g,o),g.prototype._update=function(){for(var N=l,j=0;j<16;++j)N[j]=this._block.readInt32LE(4*j);for(var V=0|this._a,H=0|this._b,W=0|this._c,G=0|this._d,P=0|this._e,A=0|this._a,T=0|this._b,x=0|this._c,C=0|this._d,y=0|this._e,S=0;S<80;S+=1){var w,k;S<16?(w=v(V,H,W,G,P,N[u[S]],f[0],c[S]),k=R(A,T,x,C,y,N[d[S]],p[0],h[S])):S<32?(w=b(V,H,W,G,P,N[u[S]],f[1],c[S]),k=I(A,T,x,C,y,N[d[S]],p[1],h[S])):S<48?(w=E(V,H,W,G,P,N[u[S]],f[2],c[S]),k=E(A,T,x,C,y,N[d[S]],p[2],h[S])):S<64?(w=I(V,H,W,G,P,N[u[S]],f[3],c[S]),k=b(A,T,x,C,y,N[d[S]],p[3],h[S])):(w=R(V,H,W,G,P,N[u[S]],f[4],c[S]),k=v(A,T,x,C,y,N[d[S]],p[4],h[S])),V=P,P=G,G=m(W,10),W=H,H=w,A=y,y=C,C=m(x,10),x=T,T=k}var M=this._b+W+C|0;this._b=this._c+G+y|0,this._c=this._d+P+A|0,this._d=this._e+V+T|0,this._e=this._a+H+x|0,this._a=M},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var N=a.alloc?a.alloc(20):new a(20);return N.writeInt32LE(this._a,0),N.writeInt32LE(this._b,4),N.writeInt32LE(this._c,8),N.writeInt32LE(this._d,12),N.writeInt32LE(this._e,16),N},r.exports=g},{buffer:220,"hash-base":425,inherits:440}],494:[function(i,r,n){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var a=i("buffer"),s=a.Buffer;function o(u,d){for(var c in u)d[c]=u[c]}function l(u,d,c){return s(u,d,c)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?r.exports=a:(o(a,n),n.Buffer=l),l.prototype=Object.create(s.prototype),o(s,l),l.from=function(u,d,c){if(typeof u=="number")throw new TypeError("Argument must not be a number");return s(u,d,c)},l.alloc=function(u,d,c){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=s(u);return d!==void 0?typeof c=="string"?h.fill(d,c):h.fill(d):h.fill(0),h},l.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return s(u)},l.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(u)}},{buffer:220}],495:[function(i,r,n){(function(a){(function(){var s,o=i("buffer"),l=o.Buffer,u={};for(s in o)o.hasOwnProperty(s)&&s!=="SlowBuffer"&&s!=="Buffer"&&(u[s]=o[s]);var d=u.Buffer={};for(s in l)l.hasOwnProperty(s)&&s!=="allocUnsafe"&&s!=="allocUnsafeSlow"&&(d[s]=l[s]);if(u.Buffer.prototype=l.prototype,d.from&&d.from!==Uint8Array.from||(d.from=function(c,h,f){if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof c);if(c&&c.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);return l(c,h,f)}),d.alloc||(d.alloc=function(c,h,f){if(typeof c!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof c);if(c<0||c>=2*(1<<30))throw new RangeError('The value "'+c+'" is invalid for option "size"');var p=l(c);return h&&h.length!==0?typeof f=="string"?p.fill(h,f):p.fill(h):p.fill(0),p}),!u.kStringMaxLength)try{u.kStringMaxLength=a.binding("buffer").kStringMaxLength}catch{}u.constants||(u.constants={MAX_LENGTH:u.kMaxLength},u.kStringMaxLength&&(u.constants.MAX_STRING_LENGTH=u.kStringMaxLength)),r.exports=u}).call(this)}).call(this,i("_process"))},{_process:467,buffer:220}],496:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0});const a=i("xmlchars/xml/1.0/ed5"),s=i("xmlchars/xml/1.1/ed2"),o=i("xmlchars/xmlns/1.0/ed3");var l=a.isS,u=a.isChar,d=a.isNameStartChar,c=a.isNameChar,h=a.S_LIST,f=a.NAME_RE,p=s.isChar,g=o.isNCNameStartChar,m=o.isNCNameChar,v=o.NC_NAME_RE;const b="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",I={__proto__:null,xml:b,xmlns:E},R={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},N=C=>C===34||C===39,j=[34,39],V=[...j,91,62],H=[...j,60,93],W=[61,63,...h],G=[...h,62,38,60];function P(C,y,S){switch(y){case"xml":S!==b&&C.fail(`xml prefix must be bound to ${b}.`);break;case"xmlns":S!==E&&C.fail(`xmlns prefix must be bound to ${E}.`)}switch(S){case E:C.fail(y===""?`the default namespace may not be set to ${S}.`:`may not assign a prefix (even "xmlns") to the URI ${E}.`);break;case b:switch(y){case"xml":break;case"":C.fail(`the default namespace may not be set to ${S}.`);break;default:C.fail("may not assign the xml namespace to another prefix.")}}}const A=C=>v.test(C),T=C=>f.test(C);n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const x={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(C){this.opt=C??{},this.fragmentOpt=!!this.opt.fragment;const y=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,y){this.nameStartCheck=g,this.nameCheck=m,this.isName=A,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},I);const S=this.opt.additionalNamespaces;S!=null&&(function(w,k){for(const M of Object.keys(k))P(w,M,k[M])}(this,S),Object.assign(this.ns,S))}else this.nameStartCheck=d,this.nameCheck=c,this.isName=T,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var C;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:y}=this;this.state=y?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=y,this.xmlDeclPossible=!y,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:S}=this.opt;if(S===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");S="1.0"}this.setXMLVersion(S),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(R),(C=this.readyHandler)===null||C===void 0||C.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(C,y){this[x[C]]=y}off(C){this[x[C]]=void 0}makeError(C){var y;let S=(y=this.fileName)!==null&&y!==void 0?y:"";return this.trackPosition&&(S.length>0&&(S+=":"),S+=`${this.line}:${this.column}`),S.length>0&&(S+=": "),new Error(S+C)}fail(C){const y=this.makeError(C),S=this.errorHandler;if(S===void 0)throw y;return S(y),this}write(C){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let y=!1;C===null?(y=!0,C=""):typeof C=="object"&&(C=C.toString()),this.carriedFromPrevious!==void 0&&(C=`${this.carriedFromPrevious}${C}`,this.carriedFromPrevious=void 0);let S=C.length;const w=C.charCodeAt(S-1);!y&&(w===13||w>=55296&&w<=56319)&&(this.carriedFromPrevious=C[S-1],S--,C=C.slice(0,S));const{stateTable:k}=this;for(this.chunk=C,this.i=0;this.i<S;)k[this.state].call(this);return this.chunkPosition+=S,y?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:C,i:y}=this;if(this.prevI=y,this.i=y+1,y>=C.length)return-1;const S=C.charCodeAt(y);if(this.column++,S<55296){if(S>=32||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return C.charCodeAt(y+1)===10&&(this.i=y+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const w=65536+1024*(S-55296)+(C.charCodeAt(y+1)-56320);return this.i=y+2,w>1114111&&this.fail("disallowed character."),w}getCode11(){const{chunk:C,i:y}=this;if(this.prevI=y,this.i=y+1,y>=C.length)return-1;const S=C.charCodeAt(y);if(this.column++,S<55296){if(S>31&&S<127||S>159&&S!==8232||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const k=C.charCodeAt(y+1);k!==10&&k!==133||(this.i=y+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const w=65536+1024*(S-55296)+(C.charCodeAt(y+1)-56320);return this.i=y+2,w>1114111&&this.fail("disallowed character."),w}getCodeNorm(){const C=this.getCode();return C===-2?10:C}unget(){this.i=this.prevI,this.column--}captureTo(C){let{i:y}=this;const{chunk:S}=this;for(;;){const w=this.getCode(),k=w===-2,M=k?10:w;if(M===-1||C.includes(M))return this.text+=S.slice(y,this.prevI),M;k&&(this.text+=S.slice(y,this.prevI)+`
`,y=this.i)}}captureToChar(C){let{i:y}=this;const{chunk:S}=this;for(;;){let w=this.getCode();switch(w){case-2:this.text+=S.slice(y,this.prevI)+`
`,y=this.i,w=10;break;case-1:return this.text+=S.slice(y),!1}if(w===C)return this.text+=S.slice(y,this.prevI),!0}}captureNameChars(){const{chunk:C,i:y}=this;for(;;){const S=this.getCode();if(S===-1)return this.name+=C.slice(y),-1;if(!c(S))return this.name+=C.slice(y,this.prevI),S===-2?10:S}}skipSpaces(){for(;;){const C=this.getCodeNorm();if(C===-1||!l(C))return C}}setXMLVersion(C){this.currentXMLVersion=C,C==="1.0"?(this.isChar=u,this.getCode=this.getCode10):(this.isChar=p,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const C=this.i,y=this.skipSpaces();switch(this.prevI!==C&&(this.xmlDeclPossible=!1),y){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var C;const y=this.captureTo(V);switch(y){case 62:(C=this.doctypeHandler)===null||C===void 0||C.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(y),y===91?this.state=4:N(y)&&(this.state=3,this.q=y)}}sDoctypeQuote(){const C=this.q;this.captureToChar(C)&&(this.text+=String.fromCodePoint(C),this.q=null,this.state=2)}sDTD(){const C=this.captureTo(H);C!==-1&&(this.text+=String.fromCodePoint(C),C===93?this.state=2:C===60?this.state=6:N(C)&&(this.state=5,this.q=C))}sDTDQuoted(){const C=this.q;this.captureToChar(C)&&(this.text+=String.fromCodePoint(C),this.state=4,this.q=null)}sDTDOpenWaka(){const C=this.getCodeNorm();switch(this.text+=String.fromCodePoint(C),C){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const C=String.fromCodePoint(this.getCodeNorm()),y=this.openWakaBang+=C;this.text+=C,y!=="-"&&(this.state=y==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const C=this.getCodeNorm();this.text+=String.fromCodePoint(C),this.state=C===45?10:8}sDTDCommentEnded(){const C=this.getCodeNorm();this.text+=String.fromCodePoint(C),C===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const C=this.getCodeNorm();this.text+=String.fromCodePoint(C),C===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:C}=this;const{chunk:y}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=y.slice(C,this.prevI)+`
`,C=this.i;break;case 59:{const{entityReturnState:S}=this,w=this.entity+y.slice(C,this.prevI);let k;this.state=S,w===""?(this.fail("empty entity name."),k="&;"):(k=this.parseEntity(w),this.entity=""),S===13&&this.textHandler===void 0||(this.text+=k);break e}case-1:this.entity+=y.slice(C);break e}}sOpenWaka(){const C=this.getCode();if(d(C))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(C){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var C;const y=this.getCodeNorm();y===45?(this.state=19,(C=this.commentHandler)===null||C===void 0||C.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(y),this.state=17)}sCommentEnded(){const C=this.getCodeNorm();C!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(C),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const C=this.getCodeNorm();C===93?this.state=22:(this.text+="]"+String.fromCodePoint(C),this.state=20)}sCDataEnding2(){var C;const y=this.getCodeNorm();switch(y){case 62:(C=this.cdataHandler)===null||C===void 0||C.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(y),this.state=20}}sPIFirstChar(){const C=this.getCodeNorm();this.nameStartCheck(C)?(this.piTarget+=String.fromCodePoint(C),this.state=24):C===63||l(C)?(this.fail("processing instruction without a target."),this.state=C===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(C),this.state=24)}sPIRest(){const{chunk:C,i:y}=this;for(;;){const S=this.getCodeNorm();if(S===-1)return void(this.piTarget+=C.slice(y));if(!this.nameCheck(S)){this.piTarget+=C.slice(y,this.prevI);const w=S===63;w||l(S)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=w?33:27):this.state=w?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(S));break}}}sPIBody(){if(this.text.length===0){const C=this.getCodeNorm();C===63?this.state=26:l(C)||(this.text=String.fromCodePoint(C))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var C;const y=this.getCodeNorm();if(y===62){const{piTarget:S}=this;S.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(C=this.piHandler)===null||C===void 0||C.call(this,{target:S,body:this.text}),this.piTarget=this.text="",this.state=13}else y===63?this.text+="?":(this.text+="?"+String.fromCodePoint(y),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const C=this.skipSpaces();C!==63?C!==-1&&(this.state=28,this.name=String.fromCodePoint(C)):this.state=33}sXMLDeclName(){const C=this.captureTo(W);if(C===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(C)||C===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=C===61?30:29}}sXMLDeclEq(){const C=this.getCodeNorm();if(C===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(C)||(C!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const C=this.getCodeNorm();if(C===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(C)||(N(C)?this.q=C:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const C=this.captureTo([this.q,63]);if(C===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(C===-1)return;const y=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const S=y;this.xmlDecl.version=S,/^1\.[0-9]+$/.test(S)?this.opt.forceXMLVersion||this.setXMLVersion(S):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(y)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=y;break;case"standalone":y!=="yes"&&y!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=y}this.name="",this.state=32}sXMLDeclSeparator(){const C=this.getCodeNorm();C!==63?(l(C)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var C;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(C=this.xmldeclHandler)===null||C===void 0||C.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var C;const y=this.captureNameChars();if(y===-1)return;const S=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=S.ns=Object.create(null)),(C=this.openTagStartHandler)===null||C===void 0||C.call(this,S),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),y){case 62:this.openTag();break;case 47:this.state=35;break;default:l(y)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const C=this.skipSpaces();C!==-1&&(d(C)?(this.unget(),this.state=37):C===62?this.openTag():C===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const C=this.captureNameChars();C===61?this.state=39:l(C)?this.state=38:C===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):C!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const C=this.skipSpaces();switch(C){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",C===62?this.openTag():d(C)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const C=this.getCodeNorm();N(C)?(this.q=C,this.state=40):l(C)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:C,chunk:y}=this;let{i:S}=this;for(;;)switch(this.getCode()){case C:return this.pushAttrib(this.name,this.text+y.slice(S,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=y.slice(S,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=y.slice(S,this.prevI)+" ",S=this.i;break;case 60:return this.text+=y.slice(S,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=y.slice(S))}}sAttribValueClosed(){const C=this.getCodeNorm();l(C)?this.state=36:C===62?this.openTag():C===47?this.state=35:d(C)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const C=this.captureTo(G);switch(C){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",C===62?this.openTag():this.state=36}}sCloseTag(){const C=this.captureNameChars();C===62?this.closeTag():l(C)?this.state=44:C!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:C,forbiddenState:y}=this;const{chunk:S,textHandler:w}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,w!==void 0){const{text:k}=this,M=S.slice(C,this.prevI);k.length!==0?(w(k+M),this.text=""):M.length!==0&&w(M)}y=0;break e;case 38:this.state=14,this.entityReturnState=13,w!==void 0&&(this.text+=S.slice(C,this.prevI)),y=0;break e;case 93:switch(y){case 0:y=1;break;case 1:y=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:y===2&&this.fail('the string "]]>" is disallowed in char data.'),y=0;break;case-2:w!==void 0&&(this.text+=S.slice(C,this.prevI)+`
`),C=this.i,y=0;break;case-1:w!==void 0&&(this.text+=S.slice(C));break e;default:y=0}this.forbiddenState=y}handleTextOutsideRoot(){let{i:C}=this;const{chunk:y,textHandler:S}=this;let w=!1;e:for(;;){const k=this.getCode();switch(k){case 60:if(this.state=15,S!==void 0){const{text:M}=this,O=y.slice(C,this.prevI);M.length!==0?(S(M+O),this.text=""):O.length!==0&&S(O)}break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=y.slice(C,this.prevI)),w=!0;break e;case-2:S!==void 0&&(this.text+=y.slice(C,this.prevI)+`
`),C=this.i;break;case-1:S!==void 0&&(this.text+=y.slice(C));break e;default:l(k)||(w=!0)}}w&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(C,y){var S;const{prefix:w,local:k}=this.qname(C),M={name:C,prefix:w,local:k,value:y};if(this.attribList.push(M),(S=this.attributeHandler)===null||S===void 0||S.call(this,M),w==="xmlns"){const O=y.trim();this.currentXMLVersion==="1.0"&&O===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[k]=O,P(this,k,O)}else if(C==="xmlns"){const O=y.trim();this.topNS[""]=O,P(this,"",O)}}pushAttribPlain(C,y){var S;const w={name:C,value:y};this.attribList.push(w),(S=this.attributeHandler)===null||S===void 0||S.call(this,w)}end(){var C,y;this.sawRoot||this.fail("document must contain a root element.");const{tags:S}=this;for(;S.length>0;){const k=S.pop();this.fail("unclosed tag: "+k.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:w}=this;return w.length!==0&&((C=this.textHandler)===null||C===void 0||C.call(this,w),this.text=""),this._closed=!0,(y=this.endHandler)===null||y===void 0||y.call(this),this._init(),this}resolve(C){var y,S;let w=this.topNS[C];if(w!==void 0)return w;const{tags:k}=this;for(let M=k.length-1;M>=0;M--)if(w=k[M].ns[C],w!==void 0)return w;return w=this.ns[C],w!==void 0?w:(S=(y=this.opt).resolvePrefix)===null||S===void 0?void 0:S.call(y,C)}qname(C){const y=C.indexOf(":");if(y===-1)return{prefix:"",local:C};const S=C.slice(y+1),w=C.slice(0,y);return(w===""||S===""||S.includes(":"))&&this.fail(`malformed name: ${C}.`),{prefix:w,local:S}}processAttribsNS(){var C;const{attribList:y}=this,S=this.tag;{const{prefix:M,local:O}=this.qname(S.name);S.prefix=M,S.local=O;const F=S.uri=(C=this.resolve(M))!==null&&C!==void 0?C:"";M!==""&&(M==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),F===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(M)}.`),S.uri=M))}if(y.length===0)return;const{attributes:w}=S,k=new Set;for(const M of y){const{name:O,prefix:F,local:z}=M;let X,L;F===""?(X=O==="xmlns"?E:"",L=O):(X=this.resolve(F),X===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(F)}.`),X=F),L=`{${X}}${z}`),k.has(L)&&this.fail(`duplicate attribute: ${L}.`),k.add(L),M.uri=X,w[O]=M}this.attribList=[]}processAttribsPlain(){const{attribList:C}=this,y=this.tag.attributes;for(const{name:S,value:w}of C)y[S]!==void 0&&this.fail(`duplicate attribute: ${S}.`),y[S]=w;this.attribList=[]}openTag(){var C;this.processAttribs();const{tags:y}=this,S=this.tag;S.isSelfClosing=!1,(C=this.openTagHandler)===null||C===void 0||C.call(this,S),y.push(S),this.state=13,this.name=""}openSelfClosingTag(){var C,y,S;this.processAttribs();const{tags:w}=this,k=this.tag;k.isSelfClosing=!0,(C=this.openTagHandler)===null||C===void 0||C.call(this,k),(y=this.closeTagHandler)===null||y===void 0||y.call(this,k),(this.tag=(S=w[w.length-1])!==null&&S!==void 0?S:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:C,name:y}=this;if(this.state=13,this.name="",y==="")return this.fail("weird empty close tag."),void(this.text+="</>");const S=this.closeTagHandler;let w=C.length;for(;w-- >0;){const k=this.tag=C.pop();if(this.topNS=k.ns,S==null||S(k),k.name===y)break;this.fail("unexpected close tag.")}w===0?this.closedRoot=!0:w<0&&(this.fail(`unmatched closing tag: ${y}.`),this.text+=`</${y}>`)}parseEntity(C){if(C[0]!=="#"){const S=this.ENTITIES[C];return S!==void 0?S:(this.fail(this.isName(C)?"undefined entity.":"disallowed character in entity name."),`&${C};`)}let y=NaN;return C[1]==="x"&&/^#x[0-9a-f]+$/i.test(C)?y=parseInt(C.slice(2),16):/^#[0-9]+$/.test(C)&&(y=parseInt(C.slice(1),10)),this.isChar(y)?String.fromCodePoint(y):(this.fail("malformed character entity."),`&${C};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(i,r,n){var a=i("safe-buffer").Buffer;function s(o,l){this._block=a.alloc(o),this._finalSize=l,this._blockSize=o,this._len=0}s.prototype.update=function(o,l){typeof o=="string"&&(l=l||"utf8",o=a.from(o,l));for(var u=this._block,d=this._blockSize,c=o.length,h=this._len,f=0;f<c;){for(var p=h%d,g=Math.min(c-f,d-p),m=0;m<g;m++)u[p+m]=o[f+m];f+=g,(h+=g)%d==0&&this._update(u)}return this._len+=c,this},s.prototype.digest=function(o){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var u=8*this._len;if(u<=4294967295)this._block.writeUInt32BE(u,this._blockSize-4);else{var d=(4294967295&u)>>>0,c=(u-d)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(d,this._blockSize-4)}this._update(this._block);var h=this._hash();return o?h.toString(o):h},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},r.exports=s},{"safe-buffer":494}],498:[function(i,r,n){var a=r.exports=function(s){s=s.toLowerCase();var o=a[s];if(!o)throw new Error(s+" is not supported (we accept pull requests)");return new o};a.sha=i("./sha"),a.sha1=i("./sha1"),a.sha224=i("./sha224"),a.sha256=i("./sha256"),a.sha384=i("./sha384"),a.sha512=i("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(i,r,n){var a=i("inherits"),s=i("./hash"),o=i("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function d(){this.init(),this._w=u,s.call(this,64,56)}function c(f){return f<<30|f>>>2}function h(f,p,g,m){return f===0?p&g|~p&m:f===2?p&g|p&m|g&m:p^g^m}a(d,s),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(f){for(var p,g=this._w,m=0|this._a,v=0|this._b,b=0|this._c,E=0|this._d,I=0|this._e,R=0;R<16;++R)g[R]=f.readInt32BE(4*R);for(;R<80;++R)g[R]=g[R-3]^g[R-8]^g[R-14]^g[R-16];for(var N=0;N<80;++N){var j=~~(N/20),V=0|((p=m)<<5|p>>>27)+h(j,v,b,E)+I+g[N]+l[j];I=E,E=b,b=c(v),v=m,m=V}this._a=m+this._a|0,this._b=v+this._b|0,this._c=b+this._c|0,this._d=E+this._d|0,this._e=I+this._e|0},d.prototype._hash=function(){var f=o.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},r.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(i,r,n){var a=i("inherits"),s=i("./hash"),o=i("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function d(){this.init(),this._w=u,s.call(this,64,56)}function c(p){return p<<5|p>>>27}function h(p){return p<<30|p>>>2}function f(p,g,m,v){return p===0?g&m|~g&v:p===2?g&m|g&v|m&v:g^m^v}a(d,s),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(p){for(var g,m=this._w,v=0|this._a,b=0|this._b,E=0|this._c,I=0|this._d,R=0|this._e,N=0;N<16;++N)m[N]=p.readInt32BE(4*N);for(;N<80;++N)m[N]=(g=m[N-3]^m[N-8]^m[N-14]^m[N-16])<<1|g>>>31;for(var j=0;j<80;++j){var V=~~(j/20),H=c(v)+f(V,b,E,I)+R+m[j]+l[V]|0;R=I,I=E,E=h(b),b=v,v=H}this._a=v+this._a|0,this._b=b+this._b|0,this._c=E+this._c|0,this._d=I+this._d|0,this._e=R+this._e|0},d.prototype._hash=function(){var p=o.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p},r.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(i,r,n){var a=i("inherits"),s=i("./sha256"),o=i("./hash"),l=i("safe-buffer").Buffer,u=new Array(64);function d(){this.init(),this._w=u,o.call(this,64,56)}a(d,s),d.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},d.prototype._hash=function(){var c=l.allocUnsafe(28);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c},r.exports=d},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(i,r,n){var a=i("inherits"),s=i("./hash"),o=i("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=new Array(64);function d(){this.init(),this._w=u,s.call(this,64,56)}function c(m,v,b){return b^m&(v^b)}function h(m,v,b){return m&v|b&(m|v)}function f(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function p(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function g(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}a(d,s),d.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},d.prototype._update=function(m){for(var v,b=this._w,E=0|this._a,I=0|this._b,R=0|this._c,N=0|this._d,j=0|this._e,V=0|this._f,H=0|this._g,W=0|this._h,G=0;G<16;++G)b[G]=m.readInt32BE(4*G);for(;G<64;++G)b[G]=0|(((v=b[G-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+b[G-7]+g(b[G-15])+b[G-16];for(var P=0;P<64;++P){var A=W+p(j)+c(j,V,H)+l[P]+b[P]|0,T=f(E)+h(E,I,R)|0;W=H,H=V,V=j,j=N+A|0,N=R,R=I,I=E,E=A+T|0}this._a=E+this._a|0,this._b=I+this._b|0,this._c=R+this._c|0,this._d=N+this._d|0,this._e=j+this._e|0,this._f=V+this._f|0,this._g=H+this._g|0,this._h=W+this._h|0},d.prototype._hash=function(){var m=o.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},r.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(i,r,n){var a=i("inherits"),s=i("./sha512"),o=i("./hash"),l=i("safe-buffer").Buffer,u=new Array(160);function d(){this.init(),this._w=u,o.call(this,128,112)}a(d,s),d.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},d.prototype._hash=function(){var c=l.allocUnsafe(48);function h(f,p,g){c.writeInt32BE(f,g),c.writeInt32BE(p,g+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),c},r.exports=d},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(i,r,n){var a=i("inherits"),s=i("./hash"),o=i("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);function d(){this.init(),this._w=u,s.call(this,128,112)}function c(I,R,N){return N^I&(R^N)}function h(I,R,N){return I&R|N&(I|R)}function f(I,R){return(I>>>28|R<<4)^(R>>>2|I<<30)^(R>>>7|I<<25)}function p(I,R){return(I>>>14|R<<18)^(I>>>18|R<<14)^(R>>>9|I<<23)}function g(I,R){return(I>>>1|R<<31)^(I>>>8|R<<24)^I>>>7}function m(I,R){return(I>>>1|R<<31)^(I>>>8|R<<24)^(I>>>7|R<<25)}function v(I,R){return(I>>>19|R<<13)^(R>>>29|I<<3)^I>>>6}function b(I,R){return(I>>>19|R<<13)^(R>>>29|I<<3)^(I>>>6|R<<26)}function E(I,R){return I>>>0<R>>>0?1:0}a(d,s),d.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},d.prototype._update=function(I){for(var R=this._w,N=0|this._ah,j=0|this._bh,V=0|this._ch,H=0|this._dh,W=0|this._eh,G=0|this._fh,P=0|this._gh,A=0|this._hh,T=0|this._al,x=0|this._bl,C=0|this._cl,y=0|this._dl,S=0|this._el,w=0|this._fl,k=0|this._gl,M=0|this._hl,O=0;O<32;O+=2)R[O]=I.readInt32BE(4*O),R[O+1]=I.readInt32BE(4*O+4);for(;O<160;O+=2){var F=R[O-30],z=R[O-30+1],X=g(F,z),L=m(z,F),K=v(F=R[O-4],z=R[O-4+1]),D=b(z,F),B=R[O-14],U=R[O-14+1],Q=R[O-32],q=R[O-32+1],Z=L+U|0,$=X+B+E(Z,L)|0;$=($=$+K+E(Z=Z+D|0,D)|0)+Q+E(Z=Z+q|0,q)|0,R[O]=$,R[O+1]=Z}for(var ie=0;ie<160;ie+=2){$=R[ie],Z=R[ie+1];var te=h(N,j,V),Y=h(T,x,C),ee=f(N,T),re=f(T,N),ne=p(W,S),ue=p(S,W),le=l[ie],pe=l[ie+1],se=c(W,G,P),ae=c(S,w,k),de=M+ue|0,fe=A+ne+E(de,M)|0;fe=(fe=(fe=fe+se+E(de=de+ae|0,ae)|0)+le+E(de=de+pe|0,pe)|0)+$+E(de=de+Z|0,Z)|0;var me=re+Y|0,ge=ee+te+E(me,re)|0;A=P,M=k,P=G,k=w,G=W,w=S,W=H+fe+E(S=y+de|0,y)|0,H=V,y=C,V=j,C=x,j=N,x=T,N=fe+ge+E(T=de+me|0,de)|0}this._al=this._al+T|0,this._bl=this._bl+x|0,this._cl=this._cl+C|0,this._dl=this._dl+y|0,this._el=this._el+S|0,this._fl=this._fl+w|0,this._gl=this._gl+k|0,this._hl=this._hl+M|0,this._ah=this._ah+N+E(this._al,T)|0,this._bh=this._bh+j+E(this._bl,x)|0,this._ch=this._ch+V+E(this._cl,C)|0,this._dh=this._dh+H+E(this._dl,y)|0,this._eh=this._eh+W+E(this._el,S)|0,this._fh=this._fh+G+E(this._fl,w)|0,this._gh=this._gh+P+E(this._gl,k)|0,this._hh=this._hh+A+E(this._hl,M)|0},d.prototype._hash=function(){var I=o.allocUnsafe(64);function R(N,j,V){I.writeInt32BE(N,V),I.writeInt32BE(j,V+4)}return R(this._ah,this._al,0),R(this._bh,this._bl,8),R(this._ch,this._cl,16),R(this._dh,this._dl,24),R(this._eh,this._el,32),R(this._fh,this._fl,40),R(this._gh,this._gl,48),R(this._hh,this._hl,56),I},r.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(i,r,n){r.exports=s;var a=i("events").EventEmitter;function s(){a.call(this)}i("inherits")(s,a),s.Readable=i("readable-stream/readable.js"),s.Writable=i("readable-stream/writable.js"),s.Duplex=i("readable-stream/duplex.js"),s.Transform=i("readable-stream/transform.js"),s.PassThrough=i("readable-stream/passthrough.js"),s.Stream=s,s.prototype.pipe=function(o,l){var u=this;function d(v){o.writable&&o.write(v)===!1&&u.pause&&u.pause()}function c(){u.readable&&u.resume&&u.resume()}u.on("data",d),o.on("drain",c),o._isStdio||l&&l.end===!1||(u.on("end",f),u.on("close",p));var h=!1;function f(){h||(h=!0,o.end())}function p(){h||(h=!0,typeof o.destroy=="function"&&o.destroy())}function g(v){if(m(),a.listenerCount(this,"error")===0)throw v}function m(){u.removeListener("data",d),o.removeListener("drain",c),u.removeListener("end",f),u.removeListener("close",p),u.removeListener("error",g),o.removeListener("error",g),u.removeListener("end",m),u.removeListener("close",m),o.removeListener("close",m)}return u.on("error",g),o.on("error",g),u.on("end",m),u.on("close",m),o.on("close",m),o.emit("pipe",u),o}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(i,r,n){var a={}.toString;r.exports=Array.isArray||function(s){return a.call(s)=="[object Array]"}},{}],507:[function(i,r,n){r.exports=i("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(i,r,n){var a=i("process-nextick-args"),s=Object.keys||function(m){var v=[];for(var b in m)v.push(b);return v};r.exports=f;var o=Object.create(i("core-util-is"));o.inherits=i("inherits");var l=i("./_stream_readable"),u=i("./_stream_writable");o.inherits(f,l);for(var d=s(u.prototype),c=0;c<d.length;c++){var h=d[c];f.prototype[h]||(f.prototype[h]=u.prototype[h])}function f(m){if(!(this instanceof f))return new f(m);l.call(this,m),u.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||a.nextTick(g,this)}function g(m){m.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),f.prototype._destroy=function(m,v){this.push(null),this.end(),a.nextTick(v,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(i,r,n){r.exports=o;var a=i("./_stream_transform"),s=Object.create(i("core-util-is"));function o(l){if(!(this instanceof o))return new o(l);a.call(this,l)}s.inherits=i("inherits"),s.inherits(o,a),o.prototype._transform=function(l,u,d){d(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(i,r,n){(function(a,s){(function(){var o=i("process-nextick-args");r.exports=N;var l,u=i("isarray");N.ReadableState=R,i("events").EventEmitter;var d=function(M,O){return M.listeners(O).length},c=i("./internal/streams/stream"),h=i("safe-buffer").Buffer,f=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p=Object.create(i("core-util-is"));p.inherits=i("inherits");var g=i("util"),m=void 0;m=g&&g.debuglog?g.debuglog("stream"):function(){};var v,b=i("./internal/streams/BufferList"),E=i("./internal/streams/destroy");p.inherits(N,c);var I=["error","close","destroy","pause","resume"];function R(M,O){M=M||{};var F=O instanceof(l=l||i("./_stream_duplex"));this.objectMode=!!M.objectMode,F&&(this.objectMode=this.objectMode||!!M.readableObjectMode);var z=M.highWaterMark,X=M.readableHighWaterMark,L=this.objectMode?16:16384;this.highWaterMark=z||z===0?z:F&&(X||X===0)?X:L,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(v||(v=i("string_decoder/").StringDecoder),this.decoder=new v(M.encoding),this.encoding=M.encoding)}function N(M){if(l=l||i("./_stream_duplex"),!(this instanceof N))return new N(M);this._readableState=new R(M,this),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),c.call(this)}function j(M,O,F,z,X){var L,K=M._readableState;return O===null?(K.reading=!1,function(D,B){if(!B.ended){if(B.decoder){var U=B.decoder.end();U&&U.length&&(B.buffer.push(U),B.length+=B.objectMode?1:U.length)}B.ended=!0,W(D)}}(M,K)):(X||(L=function(D,B){var U;Q=B,h.isBuffer(Q)||Q instanceof f||typeof B=="string"||B===void 0||D.objectMode||(U=new TypeError("Invalid non-string/buffer chunk"));var Q;return U}(K,O)),L?M.emit("error",L):K.objectMode||O&&O.length>0?(typeof O=="string"||K.objectMode||Object.getPrototypeOf(O)===h.prototype||(O=function(D){return h.from(D)}(O)),z?K.endEmitted?M.emit("error",new Error("stream.unshift() after end event")):V(M,K,O,!0):K.ended?M.emit("error",new Error("stream.push() after EOF")):(K.reading=!1,K.decoder&&!F?(O=K.decoder.write(O),K.objectMode||O.length!==0?V(M,K,O,!1):P(M,K)):V(M,K,O,!1))):z||(K.reading=!1)),function(D){return!D.ended&&(D.needReadable||D.length<D.highWaterMark||D.length===0)}(K)}function V(M,O,F,z){O.flowing&&O.length===0&&!O.sync?(M.emit("data",F),M.read(0)):(O.length+=O.objectMode?1:F.length,z?O.buffer.unshift(F):O.buffer.push(F),O.needReadable&&W(M)),P(M,O)}Object.defineProperty(N.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(M){this._readableState&&(this._readableState.destroyed=M)}}),N.prototype.destroy=E.destroy,N.prototype._undestroy=E.undestroy,N.prototype._destroy=function(M,O){this.push(null),O(M)},N.prototype.push=function(M,O){var F,z=this._readableState;return z.objectMode?F=!0:typeof M=="string"&&((O=O||z.defaultEncoding)!==z.encoding&&(M=h.from(M,O),O=""),F=!0),j(this,M,O,!1,F)},N.prototype.unshift=function(M){return j(this,M,null,!0,!1)},N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function(M){return v||(v=i("string_decoder/").StringDecoder),this._readableState.decoder=new v(M),this._readableState.encoding=M,this};function H(M,O){return M<=0||O.length===0&&O.ended?0:O.objectMode?1:M!=M?O.flowing&&O.length?O.buffer.head.data.length:O.length:(M>O.highWaterMark&&(O.highWaterMark=function(F){return F>=8388608?F=8388608:(F--,F|=F>>>1,F|=F>>>2,F|=F>>>4,F|=F>>>8,F|=F>>>16,F++),F}(M)),M<=O.length?M:O.ended?O.length:(O.needReadable=!0,0))}function W(M){var O=M._readableState;O.needReadable=!1,O.emittedReadable||(m("emitReadable",O.flowing),O.emittedReadable=!0,O.sync?o.nextTick(G,M):G(M))}function G(M){m("emit readable"),M.emit("readable"),C(M)}function P(M,O){O.readingMore||(O.readingMore=!0,o.nextTick(A,M,O))}function A(M,O){for(var F=O.length;!O.reading&&!O.flowing&&!O.ended&&O.length<O.highWaterMark&&(m("maybeReadMore read 0"),M.read(0),F!==O.length);)F=O.length;O.readingMore=!1}function T(M){m("readable nexttick read 0"),M.read(0)}function x(M,O){O.reading||(m("resume read 0"),M.read(0)),O.resumeScheduled=!1,O.awaitDrain=0,M.emit("resume"),C(M),O.flowing&&!O.reading&&M.read(0)}function C(M){var O=M._readableState;for(m("flow",O.flowing);O.flowing&&M.read()!==null;);}function y(M,O){return O.length===0?null:(O.objectMode?F=O.buffer.shift():!M||M>=O.length?(F=O.decoder?O.buffer.join(""):O.buffer.length===1?O.buffer.head.data:O.buffer.concat(O.length),O.buffer.clear()):F=function(z,X,L){var K;return z<X.head.data.length?(K=X.head.data.slice(0,z),X.head.data=X.head.data.slice(z)):K=z===X.head.data.length?X.shift():L?function(D,B){var U=B.head,Q=1,q=U.data;for(D-=q.length;U=U.next;){var Z=U.data,$=D>Z.length?Z.length:D;if($===Z.length?q+=Z:q+=Z.slice(0,D),(D-=$)===0){$===Z.length?(++Q,U.next?B.head=U.next:B.head=B.tail=null):(B.head=U,U.data=Z.slice($));break}++Q}return B.length-=Q,q}(z,X):function(D,B){var U=h.allocUnsafe(D),Q=B.head,q=1;for(Q.data.copy(U),D-=Q.data.length;Q=Q.next;){var Z=Q.data,$=D>Z.length?Z.length:D;if(Z.copy(U,U.length-D,0,$),(D-=$)===0){$===Z.length?(++q,Q.next?B.head=Q.next:B.head=B.tail=null):(B.head=Q,Q.data=Z.slice($));break}++q}return B.length-=q,U}(z,X),K}(M,O.buffer,O.decoder),F);var F}function S(M){var O=M._readableState;if(O.length>0)throw new Error('"endReadable()" called on non-empty stream');O.endEmitted||(O.ended=!0,o.nextTick(w,O,M))}function w(M,O){M.endEmitted||M.length!==0||(M.endEmitted=!0,O.readable=!1,O.emit("end"))}function k(M,O){for(var F=0,z=M.length;F<z;F++)if(M[F]===O)return F;return-1}N.prototype.read=function(M){m("read",M),M=parseInt(M,10);var O=this._readableState,F=M;if(M!==0&&(O.emittedReadable=!1),M===0&&O.needReadable&&(O.length>=O.highWaterMark||O.ended))return m("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?S(this):W(this),null;if((M=H(M,O))===0&&O.ended)return O.length===0&&S(this),null;var z,X=O.needReadable;return m("need readable",X),(O.length===0||O.length-M<O.highWaterMark)&&m("length less than watermark",X=!0),O.ended||O.reading?m("reading or ended",X=!1):X&&(m("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(M=H(F,O))),(z=M>0?y(M,O):null)===null?(O.needReadable=!0,M=0):O.length-=M,O.length===0&&(O.ended||(O.needReadable=!0),F!==M&&O.ended&&S(this)),z!==null&&this.emit("data",z),z},N.prototype._read=function(M){this.emit("error",new Error("_read() is not implemented"))},N.prototype.pipe=function(M,O){var F=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=M;break;case 1:z.pipes=[z.pipes,M];break;default:z.pipes.push(M)}z.pipesCount+=1,m("pipe count=%d opts=%j",z.pipesCount,O);var X=(!O||O.end!==!1)&&M!==a.stdout&&M!==a.stderr?K:ie;function L(te,Y){m("onunpipe"),te===F&&Y&&Y.hasUnpiped===!1&&(Y.hasUnpiped=!0,m("cleanup"),M.removeListener("close",Z),M.removeListener("finish",$),M.removeListener("drain",D),M.removeListener("error",q),M.removeListener("unpipe",L),F.removeListener("end",K),F.removeListener("end",ie),F.removeListener("data",Q),B=!0,!z.awaitDrain||M._writableState&&!M._writableState.needDrain||D())}function K(){m("onend"),M.end()}z.endEmitted?o.nextTick(X):F.once("end",X),M.on("unpipe",L);var D=function(te){return function(){var Y=te._readableState;m("pipeOnDrain",Y.awaitDrain),Y.awaitDrain&&Y.awaitDrain--,Y.awaitDrain===0&&d(te,"data")&&(Y.flowing=!0,C(te))}}(F);M.on("drain",D);var B=!1,U=!1;function Q(te){m("ondata"),U=!1,M.write(te)!==!1||U||((z.pipesCount===1&&z.pipes===M||z.pipesCount>1&&k(z.pipes,M)!==-1)&&!B&&(m("false write response, pause",z.awaitDrain),z.awaitDrain++,U=!0),F.pause())}function q(te){m("onerror",te),ie(),M.removeListener("error",q),d(M,"error")===0&&M.emit("error",te)}function Z(){M.removeListener("finish",$),ie()}function $(){m("onfinish"),M.removeListener("close",Z),ie()}function ie(){m("unpipe"),F.unpipe(M)}return F.on("data",Q),function(te,Y,ee){if(typeof te.prependListener=="function")return te.prependListener(Y,ee);te._events&&te._events[Y]?u(te._events[Y])?te._events[Y].unshift(ee):te._events[Y]=[ee,te._events[Y]]:te.on(Y,ee)}(M,"error",q),M.once("close",Z),M.once("finish",$),M.emit("pipe",F),z.flowing||(m("pipe resume"),F.resume()),M},N.prototype.unpipe=function(M){var O=this._readableState,F={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return M&&M!==O.pipes||(M||(M=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,M&&M.emit("unpipe",this,F)),this;if(!M){var z=O.pipes,X=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var L=0;L<X;L++)z[L].emit("unpipe",this,{hasUnpiped:!1});return this}var K=k(O.pipes,M);return K===-1||(O.pipes.splice(K,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),M.emit("unpipe",this,F)),this},N.prototype.on=function(M,O){var F=c.prototype.on.call(this,M,O);if(M==="data")this._readableState.flowing!==!1&&this.resume();else if(M==="readable"){var z=this._readableState;z.endEmitted||z.readableListening||(z.readableListening=z.needReadable=!0,z.emittedReadable=!1,z.reading?z.length&&W(this):o.nextTick(T,this))}return F},N.prototype.addListener=N.prototype.on,N.prototype.resume=function(){var M=this._readableState;return M.flowing||(m("resume"),M.flowing=!0,function(O,F){F.resumeScheduled||(F.resumeScheduled=!0,o.nextTick(x,O,F))}(this,M)),this},N.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},N.prototype.wrap=function(M){var O=this,F=this._readableState,z=!1;for(var X in M.on("end",function(){if(m("wrapped end"),F.decoder&&!F.ended){var K=F.decoder.end();K&&K.length&&O.push(K)}O.push(null)}),M.on("data",function(K){m("wrapped data"),F.decoder&&(K=F.decoder.write(K)),F.objectMode&&K==null||(F.objectMode||K&&K.length)&&(O.push(K)||(z=!0,M.pause()))}),M)this[X]===void 0&&typeof M[X]=="function"&&(this[X]=function(K){return function(){return M[K].apply(M,arguments)}}(X));for(var L=0;L<I.length;L++)M.on(I[L],this.emit.bind(this,I[L]));return this._read=function(K){m("wrapped _read",K),z&&(z=!1,M.resume())},this},Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),N._fromList=y}).call(this)}).call(this,i("_process"),typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(i,r,n){r.exports=l;var a=i("./_stream_duplex"),s=Object.create(i("core-util-is"));function o(c,h){var f=this._transformState;f.transforming=!1;var p=f.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));f.writechunk=null,f.writecb=null,h!=null&&this.push(h),p(c);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function l(c){if(!(this instanceof l))return new l(c);a.call(this,c),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",u)}function u(){var c=this;typeof this._flush=="function"?this._flush(function(h,f){d(c,h,f)}):d(this,null,null)}function d(c,h,f){if(h)return c.emit("error",h);if(f!=null&&c.push(f),c._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(c._transformState.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}s.inherits=i("inherits"),s.inherits(l,a),l.prototype.push=function(c,h){return this._transformState.needTransform=!1,a.prototype.push.call(this,c,h)},l.prototype._transform=function(c,h,f){throw new Error("_transform() is not implemented")},l.prototype._write=function(c,h,f){var p=this._transformState;if(p.writecb=f,p.writechunk=c,p.writeencoding=h,!p.transforming){var g=this._readableState;(p.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},l.prototype._read=function(c){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},l.prototype._destroy=function(c,h){var f=this;a.prototype._destroy.call(this,c,function(p){h(p),f.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(i,r,n){(function(a,s,o){(function(){var l=i("process-nextick-args");function u(P){var A=this;this.next=null,this.entry=null,this.finish=function(){(function(T,x,C){var y=T.entry;for(T.entry=null;y;){var S=y.callback;x.pendingcb--,S(C),y=y.next}x.corkedRequestsFree.next=T})(A,P)}}r.exports=R;var d,c=!a.browser&&["v0.10","v0.9."].indexOf(a.version.slice(0,5))>-1?o:l.nextTick;R.WritableState=I;var h=Object.create(i("core-util-is"));h.inherits=i("inherits");var f={deprecate:i("util-deprecate")},p=i("./internal/streams/stream"),g=i("safe-buffer").Buffer,m=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,b=i("./internal/streams/destroy");function E(){}function I(P,A){d=d||i("./_stream_duplex"),P=P||{};var T=A instanceof d;this.objectMode=!!P.objectMode,T&&(this.objectMode=this.objectMode||!!P.writableObjectMode);var x=P.highWaterMark,C=P.writableHighWaterMark,y=this.objectMode?16:16384;this.highWaterMark=x||x===0?x:T&&(C||C===0)?C:y,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var S=P.decodeStrings===!1;this.decodeStrings=!S,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(w){(function(k,M){var O=k._writableState,F=O.sync,z=O.writecb;if(function(L){L.writing=!1,L.writecb=null,L.length-=L.writelen,L.writelen=0}(O),M)(function(L,K,D,B,U){--K.pendingcb,D?(l.nextTick(U,B),l.nextTick(G,L,K),L._writableState.errorEmitted=!0,L.emit("error",B)):(U(B),L._writableState.errorEmitted=!0,L.emit("error",B),G(L,K))})(k,O,F,M,z);else{var X=H(O);X||O.corked||O.bufferProcessing||!O.bufferedRequest||V(k,O),F?c(j,k,O,X,z):j(k,O,X,z)}})(A,w)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function R(P){if(d=d||i("./_stream_duplex"),!(v.call(R,this)||this instanceof d))return new R(P);this._writableState=new I(P,this),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),p.call(this)}function N(P,A,T,x,C,y,S){A.writelen=x,A.writecb=S,A.writing=!0,A.sync=!0,T?P._writev(C,A.onwrite):P._write(C,y,A.onwrite),A.sync=!1}function j(P,A,T,x){T||function(C,y){y.length===0&&y.needDrain&&(y.needDrain=!1,C.emit("drain"))}(P,A),A.pendingcb--,x(),G(P,A)}function V(P,A){A.bufferProcessing=!0;var T=A.bufferedRequest;if(P._writev&&T&&T.next){var x=A.bufferedRequestCount,C=new Array(x),y=A.corkedRequestsFree;y.entry=T;for(var S=0,w=!0;T;)C[S]=T,T.isBuf||(w=!1),T=T.next,S+=1;C.allBuffers=w,N(P,A,!0,A.length,C,"",y.finish),A.pendingcb++,A.lastBufferedRequest=null,y.next?(A.corkedRequestsFree=y.next,y.next=null):A.corkedRequestsFree=new u(A),A.bufferedRequestCount=0}else{for(;T;){var k=T.chunk,M=T.encoding,O=T.callback;if(N(P,A,!1,A.objectMode?1:k.length,k,M,O),T=T.next,A.bufferedRequestCount--,A.writing)break}T===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=T,A.bufferProcessing=!1}function H(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function W(P,A){P._final(function(T){A.pendingcb--,T&&P.emit("error",T),A.prefinished=!0,P.emit("prefinish"),G(P,A)})}function G(P,A){var T=H(A);return T&&(function(x,C){C.prefinished||C.finalCalled||(typeof x._final=="function"?(C.pendingcb++,C.finalCalled=!0,l.nextTick(W,x,C)):(C.prefinished=!0,x.emit("prefinish")))}(P,A),A.pendingcb===0&&(A.finished=!0,P.emit("finish"))),T}h.inherits(R,p),I.prototype.getBuffer=function(){for(var P=this.bufferedRequest,A=[];P;)A.push(P),P=P.next;return A},function(){try{Object.defineProperty(I.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(P){return!!v.call(this,P)||this===R&&P&&P._writableState instanceof I}})):v=function(P){return P instanceof this},R.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},R.prototype.write=function(P,A,T){var x,C=this._writableState,y=!1,S=!C.objectMode&&(x=P,g.isBuffer(x)||x instanceof m);return S&&!g.isBuffer(P)&&(P=function(w){return g.from(w)}(P)),typeof A=="function"&&(T=A,A=null),S?A="buffer":A||(A=C.defaultEncoding),typeof T!="function"&&(T=E),C.ended?function(w,k){var M=new Error("write after end");w.emit("error",M),l.nextTick(k,M)}(this,T):(S||function(w,k,M,O){var F=!0,z=!1;return M===null?z=new TypeError("May not write null values to stream"):typeof M=="string"||M===void 0||k.objectMode||(z=new TypeError("Invalid non-string/buffer chunk")),z&&(w.emit("error",z),l.nextTick(O,z),F=!1),F}(this,C,P,T))&&(C.pendingcb++,y=function(w,k,M,O,F,z){if(!M){var X=function(B,U,Q){return B.objectMode||B.decodeStrings===!1||typeof U!="string"||(U=g.from(U,Q)),U}(k,O,F);O!==X&&(M=!0,F="buffer",O=X)}var L=k.objectMode?1:O.length;k.length+=L;var K=k.length<k.highWaterMark;if(K||(k.needDrain=!0),k.writing||k.corked){var D=k.lastBufferedRequest;k.lastBufferedRequest={chunk:O,encoding:F,isBuf:M,callback:z,next:null},D?D.next=k.lastBufferedRequest:k.bufferedRequest=k.lastBufferedRequest,k.bufferedRequestCount+=1}else N(w,k,!1,L,O,F,z);return K}(this,C,S,P,A,T)),y},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,P.writing||P.corked||P.bufferProcessing||!P.bufferedRequest||V(this,P))},R.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(P,A,T){T(new Error("_write() is not implemented"))},R.prototype._writev=null,R.prototype.end=function(P,A,T){var x=this._writableState;typeof P=="function"?(T=P,P=null,A=null):typeof A=="function"&&(T=A,A=null),P!=null&&this.write(P,A),x.corked&&(x.corked=1,this.uncork()),x.ending||function(C,y,S){y.ending=!0,G(C,y),S&&(y.finished?l.nextTick(S):C.once("finish",S)),y.ended=!0,C.writable=!1}(this,x,T)},Object.defineProperty(R.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),R.prototype.destroy=b.destroy,R.prototype._undestroy=b.undestroy,R.prototype._destroy=function(P,A){this.end(),A(P)}}).call(this)}).call(this,i("_process"),typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{},i("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(i,r,n){var a=i("safe-buffer").Buffer,s=i("util");r.exports=function(){function o(){(function(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(l){var u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},o.prototype.unshift=function(l){var u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},o.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(l){if(this.length===0)return"";for(var u=this.head,d=""+u.data;u=u.next;)d+=l+u.data;return d},o.prototype.concat=function(l){if(this.length===0)return a.alloc(0);for(var u,d,c,h=a.allocUnsafe(l>>>0),f=this.head,p=0;f;)u=f.data,d=h,c=p,u.copy(d,c),p+=f.data.length,f=f.next;return h},o}(),s&&s.inspect&&s.inspect.custom&&(r.exports.prototype[s.inspect.custom]=function(){var o=s.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":520,util:188}],514:[function(i,r,n){var a=i("process-nextick-args");function s(o,l){o.emit("error",l)}r.exports={destroy:function(o,l){var u=this,d=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return d||c?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(s,this,o)):a.nextTick(s,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!l&&h?u._writableState?u._writableState.errorEmitted||(u._writableState.errorEmitted=!0,a.nextTick(s,u,h)):a.nextTick(s,u,h):l&&l(h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(i,r,n){arguments[4][490][0].apply(n,arguments)},{dup:490,events:422}],516:[function(i,r,n){r.exports=i("./readable").PassThrough},{"./readable":517}],517:[function(i,r,n){(n=r.exports=i("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=i("./lib/_stream_writable.js"),n.Duplex=i("./lib/_stream_duplex.js"),n.Transform=i("./lib/_stream_transform.js"),n.PassThrough=i("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(i,r,n){r.exports=i("./readable").Transform},{"./readable":517}],519:[function(i,r,n){r.exports=i("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(i,r,n){arguments[4][217][0].apply(n,arguments)},{buffer:220,dup:217}],521:[function(i,r,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":520}],522:[function(i,r,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":494}],523:[function(i,r,n){(function(a,s){(function(){var o=i("process/browser.js").nextTick,l=Function.prototype.apply,u=Array.prototype.slice,d={},c=0;function h(f,p){this._id=f,this._clearFn=p}n.setTimeout=function(){return new h(l.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new h(l.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(f){f.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(f,p){clearTimeout(f._idleTimeoutId),f._idleTimeout=p},n.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},n._unrefActive=n.active=function(f){clearTimeout(f._idleTimeoutId);var p=f._idleTimeout;p>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},p))},n.setImmediate=typeof a=="function"?a:function(f){var p=c++,g=!(arguments.length<2)&&u.call(arguments,1);return d[p]=!0,o(function(){d[p]&&(g?f.apply(null,g):f.call(null),n.clearImmediate(p))}),p},n.clearImmediate=typeof s=="function"?s:function(f){delete d[f]}}).call(this)}).call(this,i("timers").setImmediate,i("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(i,r,n){(function(a){(function(){function s(o){try{if(!a.localStorage)return!1}catch{return!1}var l=a.localStorage[o];return l!=null&&String(l).toLowerCase()==="true"}r.exports=function(o,l){if(s("noDeprecation"))return o;var u=!1;return function(){if(!u){if(s("throwDeprecation"))throw new Error(l);s("traceDeprecation")?console.trace(l):console.warn(l),u=!0}return o.apply(this,arguments)}}}).call(this)}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(i,r,n){typeof Object.create=="function"?r.exports=function(a,s){a.super_=s,a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:r.exports=function(a,s){a.super_=s;var o=function(){};o.prototype=s.prototype,a.prototype=new o,a.prototype.constructor=a}},{}],526:[function(i,r,n){r.exports=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"}},{}],527:[function(i,r,n){(function(a,s){(function(){var o=/%[sdj%]/g;n.format=function(C){if(!I(C)){for(var y=[],S=0;S<arguments.length;S++)y.push(d(arguments[S]));return y.join(" ")}S=1;for(var w=arguments,k=w.length,M=String(C).replace(o,function(F){if(F==="%%")return"%";if(S>=k)return F;switch(F){case"%s":return String(w[S++]);case"%d":return Number(w[S++]);case"%j":try{return JSON.stringify(w[S++])}catch{return"[Circular]"}default:return F}}),O=w[S];S<k;O=w[++S])b(O)||!j(O)?M+=" "+O:M+=" "+d(O);return M},n.deprecate=function(C,y){if(R(s.process))return function(){return n.deprecate(C,y).apply(this,arguments)};if(a.noDeprecation===!0)return C;var S=!1;return function(){if(!S){if(a.throwDeprecation)throw new Error(y);a.traceDeprecation?console.trace(y):console.error(y),S=!0}return C.apply(this,arguments)}};var l,u={};function d(C,y){var S={seen:[],stylize:h};return arguments.length>=3&&(S.depth=arguments[2]),arguments.length>=4&&(S.colors=arguments[3]),v(y)?S.showHidden=y:y&&n._extend(S,y),R(S.showHidden)&&(S.showHidden=!1),R(S.depth)&&(S.depth=2),R(S.colors)&&(S.colors=!1),R(S.customInspect)&&(S.customInspect=!0),S.colors&&(S.stylize=c),f(S,C,S.depth)}function c(C,y){var S=d.styles[y];return S?"\x1B["+d.colors[S][0]+"m"+C+"\x1B["+d.colors[S][1]+"m":C}function h(C,y){return C}function f(C,y,S){if(C.customInspect&&y&&W(y.inspect)&&y.inspect!==n.inspect&&(!y.constructor||y.constructor.prototype!==y)){var w=y.inspect(S,C);return I(w)||(w=f(C,w,S)),w}var k=function(D,B){if(R(B))return D.stylize("undefined","undefined");if(I(B)){var U="'"+JSON.stringify(B).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(U,"string")}if(E(B))return D.stylize(""+B,"number");if(v(B))return D.stylize(""+B,"boolean");if(b(B))return D.stylize("null","null")}(C,y);if(k)return k;var M=Object.keys(y),O=function(D){var B={};return D.forEach(function(U,Q){B[U]=!0}),B}(M);if(C.showHidden&&(M=Object.getOwnPropertyNames(y)),H(y)&&(M.indexOf("message")>=0||M.indexOf("description")>=0))return p(y);if(M.length===0){if(W(y)){var F=y.name?": "+y.name:"";return C.stylize("[Function"+F+"]","special")}if(N(y))return C.stylize(RegExp.prototype.toString.call(y),"regexp");if(V(y))return C.stylize(Date.prototype.toString.call(y),"date");if(H(y))return p(y)}var z,X="",L=!1,K=["{","}"];return m(y)&&(L=!0,K=["[","]"]),W(y)&&(X=" [Function"+(y.name?": "+y.name:"")+"]"),N(y)&&(X=" "+RegExp.prototype.toString.call(y)),V(y)&&(X=" "+Date.prototype.toUTCString.call(y)),H(y)&&(X=" "+p(y)),M.length!==0||L&&y.length!=0?S<0?N(y)?C.stylize(RegExp.prototype.toString.call(y),"regexp"):C.stylize("[Object]","special"):(C.seen.push(y),z=L?function(D,B,U,Q,q){for(var Z=[],$=0,ie=B.length;$<ie;++$)x(B,String($))?Z.push(g(D,B,U,Q,String($),!0)):Z.push("");return q.forEach(function(te){te.match(/^\d+$/)||Z.push(g(D,B,U,Q,te,!0))}),Z}(C,y,S,O,M):M.map(function(D){return g(C,y,S,O,D,L)}),C.seen.pop(),function(D,B,U){return D.reduce(function(Q,q){return q.indexOf(`
`)>=0,Q+q.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?U[0]+(B===""?"":B+`
 `)+" "+D.join(`,
  `)+" "+U[1]:U[0]+B+" "+D.join(", ")+" "+U[1]}(z,X,K)):K[0]+X+K[1]}function p(C){return"["+Error.prototype.toString.call(C)+"]"}function g(C,y,S,w,k,M){var O,F,z;if((z=Object.getOwnPropertyDescriptor(y,k)||{value:y[k]}).get?F=z.set?C.stylize("[Getter/Setter]","special"):C.stylize("[Getter]","special"):z.set&&(F=C.stylize("[Setter]","special")),x(w,k)||(O="["+k+"]"),F||(C.seen.indexOf(z.value)<0?(F=b(S)?f(C,z.value,null):f(C,z.value,S-1)).indexOf(`
`)>-1&&(F=M?F.split(`
`).map(function(X){return"  "+X}).join(`
`).substr(2):`
`+F.split(`
`).map(function(X){return"   "+X}).join(`
`)):F=C.stylize("[Circular]","special")),R(O)){if(M&&k.match(/^\d+$/))return F;(O=JSON.stringify(""+k)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(O=O.substr(1,O.length-2),O=C.stylize(O,"name")):(O=O.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),O=C.stylize(O,"string"))}return O+": "+F}function m(C){return Array.isArray(C)}function v(C){return typeof C=="boolean"}function b(C){return C===null}function E(C){return typeof C=="number"}function I(C){return typeof C=="string"}function R(C){return C===void 0}function N(C){return j(C)&&G(C)==="[object RegExp]"}function j(C){return typeof C=="object"&&C!==null}function V(C){return j(C)&&G(C)==="[object Date]"}function H(C){return j(C)&&(G(C)==="[object Error]"||C instanceof Error)}function W(C){return typeof C=="function"}function G(C){return Object.prototype.toString.call(C)}function P(C){return C<10?"0"+C.toString(10):C.toString(10)}n.debuglog=function(C){if(R(l)&&(l=a.env.NODE_DEBUG||""),C=C.toUpperCase(),!u[C])if(new RegExp("\\b"+C+"\\b","i").test(l)){var y=a.pid;u[C]=function(){var S=n.format.apply(n,arguments);console.error("%s %d: %s",C,y,S)}}else u[C]=function(){};return u[C]},n.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=m,n.isBoolean=v,n.isNull=b,n.isNullOrUndefined=function(C){return C==null},n.isNumber=E,n.isString=I,n.isSymbol=function(C){return typeof C=="symbol"},n.isUndefined=R,n.isRegExp=N,n.isObject=j,n.isDate=V,n.isError=H,n.isFunction=W,n.isPrimitive=function(C){return C===null||typeof C=="boolean"||typeof C=="number"||typeof C=="string"||typeof C=="symbol"||C===void 0},n.isBuffer=i("./support/isBuffer");var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var C=new Date,y=[P(C.getHours()),P(C.getMinutes()),P(C.getSeconds())].join(":");return[C.getDate(),A[C.getMonth()],y].join(" ")}function x(C,y){return Object.prototype.hasOwnProperty.call(C,y)}n.log=function(){console.log("%s - %s",T(),n.format.apply(n,arguments))},n.inherits=i("inherits"),n._extend=function(C,y){if(!y||!j(y))return C;for(var S=Object.keys(y),w=S.length;w--;)C[S[w]]=y[S[w]];return C}}).call(this)}).call(this,i("_process"),typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"NIL",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return f.default}});var a=p(i("./v1.js")),s=p(i("./v3.js")),o=p(i("./v4.js")),l=p(i("./v5.js")),u=p(i("./nil.js")),d=p(i("./version.js")),c=p(i("./validate.js")),h=p(i("./stringify.js")),f=p(i("./parse.js"));function p(g){return g&&g.__esModule?g:{default:g}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(i,r,n){function a(f){return 14+(f+64>>>9<<4)+1}function s(f,p){const g=(65535&f)+(65535&p);return(f>>16)+(p>>16)+(g>>16)<<16|65535&g}function o(f,p,g,m,v,b){return s((E=s(s(p,f),s(m,b)))<<(I=v)|E>>>32-I,g);var E,I}function l(f,p,g,m,v,b,E){return o(p&g|~p&m,f,p,v,b,E)}function u(f,p,g,m,v,b,E){return o(p&m|g&~m,f,p,v,b,E)}function d(f,p,g,m,v,b,E){return o(p^g^m,f,p,v,b,E)}function c(f,p,g,m,v,b,E){return o(g^(p|~m),f,p,v,b,E)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var h=function(f){if(typeof f=="string"){const p=unescape(encodeURIComponent(f));f=new Uint8Array(p.length);for(let g=0;g<p.length;++g)f[g]=p.charCodeAt(g)}return function(p){const g=[],m=32*p.length;for(let v=0;v<m;v+=8){const b=p[v>>5]>>>v%32&255,E=parseInt("0123456789abcdef".charAt(b>>>4&15)+"0123456789abcdef".charAt(15&b),16);g.push(E)}return g}(function(p,g){p[g>>5]|=128<<g%32,p[a(g)-1]=g;let m=1732584193,v=-271733879,b=-1732584194,E=271733878;for(let I=0;I<p.length;I+=16){const R=m,N=v,j=b,V=E;m=l(m,v,b,E,p[I],7,-680876936),E=l(E,m,v,b,p[I+1],12,-389564586),b=l(b,E,m,v,p[I+2],17,606105819),v=l(v,b,E,m,p[I+3],22,-1044525330),m=l(m,v,b,E,p[I+4],7,-176418897),E=l(E,m,v,b,p[I+5],12,1200080426),b=l(b,E,m,v,p[I+6],17,-1473231341),v=l(v,b,E,m,p[I+7],22,-45705983),m=l(m,v,b,E,p[I+8],7,1770035416),E=l(E,m,v,b,p[I+9],12,-1958414417),b=l(b,E,m,v,p[I+10],17,-42063),v=l(v,b,E,m,p[I+11],22,-1990404162),m=l(m,v,b,E,p[I+12],7,1804603682),E=l(E,m,v,b,p[I+13],12,-40341101),b=l(b,E,m,v,p[I+14],17,-1502002290),v=l(v,b,E,m,p[I+15],22,1236535329),m=u(m,v,b,E,p[I+1],5,-165796510),E=u(E,m,v,b,p[I+6],9,-1069501632),b=u(b,E,m,v,p[I+11],14,643717713),v=u(v,b,E,m,p[I],20,-373897302),m=u(m,v,b,E,p[I+5],5,-701558691),E=u(E,m,v,b,p[I+10],9,38016083),b=u(b,E,m,v,p[I+15],14,-660478335),v=u(v,b,E,m,p[I+4],20,-405537848),m=u(m,v,b,E,p[I+9],5,568446438),E=u(E,m,v,b,p[I+14],9,-1019803690),b=u(b,E,m,v,p[I+3],14,-187363961),v=u(v,b,E,m,p[I+8],20,1163531501),m=u(m,v,b,E,p[I+13],5,-1444681467),E=u(E,m,v,b,p[I+2],9,-51403784),b=u(b,E,m,v,p[I+7],14,1735328473),v=u(v,b,E,m,p[I+12],20,-1926607734),m=d(m,v,b,E,p[I+5],4,-378558),E=d(E,m,v,b,p[I+8],11,-2022574463),b=d(b,E,m,v,p[I+11],16,1839030562),v=d(v,b,E,m,p[I+14],23,-35309556),m=d(m,v,b,E,p[I+1],4,-1530992060),E=d(E,m,v,b,p[I+4],11,1272893353),b=d(b,E,m,v,p[I+7],16,-155497632),v=d(v,b,E,m,p[I+10],23,-1094730640),m=d(m,v,b,E,p[I+13],4,681279174),E=d(E,m,v,b,p[I],11,-358537222),b=d(b,E,m,v,p[I+3],16,-722521979),v=d(v,b,E,m,p[I+6],23,76029189),m=d(m,v,b,E,p[I+9],4,-640364487),E=d(E,m,v,b,p[I+12],11,-421815835),b=d(b,E,m,v,p[I+15],16,530742520),v=d(v,b,E,m,p[I+2],23,-995338651),m=c(m,v,b,E,p[I],6,-198630844),E=c(E,m,v,b,p[I+7],10,1126891415),b=c(b,E,m,v,p[I+14],15,-1416354905),v=c(v,b,E,m,p[I+5],21,-57434055),m=c(m,v,b,E,p[I+12],6,1700485571),E=c(E,m,v,b,p[I+3],10,-1894986606),b=c(b,E,m,v,p[I+10],15,-1051523),v=c(v,b,E,m,p[I+1],21,-2054922799),m=c(m,v,b,E,p[I+8],6,1873313359),E=c(E,m,v,b,p[I+15],10,-30611744),b=c(b,E,m,v,p[I+6],15,-1560198380),v=c(v,b,E,m,p[I+13],21,1309151649),m=c(m,v,b,E,p[I+4],6,-145523070),E=c(E,m,v,b,p[I+11],10,-1120210379),b=c(b,E,m,v,p[I+2],15,718787259),v=c(v,b,E,m,p[I+9],21,-343485551),m=s(m,R),v=s(v,N),b=s(b,j),E=s(E,V)}return[m,v,b,E]}(function(p){if(p.length===0)return[];const g=8*p.length,m=new Uint32Array(a(g));for(let v=0;v<g;v+=8)m[v>>5]|=(255&p[v/8])<<v%32;return m}(f),8*f.length))};n.default=h},{}],530:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=i("./validate.js"))&&a.__esModule?a:{default:a},o=function(l){if(!(0,s.default)(l))throw TypeError("Invalid UUID");let u;const d=new Uint8Array(16);return d[0]=(u=parseInt(l.slice(0,8),16))>>>24,d[1]=u>>>16&255,d[2]=u>>>8&255,d[3]=255&u,d[4]=(u=parseInt(l.slice(9,13),16))>>>8,d[5]=255&u,d[6]=(u=parseInt(l.slice(14,18),16))>>>8,d[7]=255&u,d[8]=(u=parseInt(l.slice(19,23),16))>>>8,d[9]=255&u,d[10]=(u=parseInt(l.slice(24,36),16))/1099511627776&255,d[11]=u/4294967296&255,d[12]=u>>>24&255,d[13]=u>>>16&255,d[14]=u>>>8&255,d[15]=255&u,d};n.default=o},{"./validate.js":541}],532:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(i,r,n){let a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!a&&(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(s)};const s=new Uint8Array(16)},{}],534:[function(i,r,n){function a(l,u,d,c){switch(l){case 0:return u&d^~u&c;case 1:return u^d^c;case 2:return u&d^u&c^d&c;case 3:return u^d^c}}function s(l,u){return l<<u|l>>>32-u}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(l){const u=[1518500249,1859775393,2400959708,3395469782],d=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const p=unescape(encodeURIComponent(l));l=[];for(let g=0;g<p.length;++g)l.push(p.charCodeAt(g))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const c=l.length/4+2,h=Math.ceil(c/16),f=new Array(h);for(let p=0;p<h;++p){const g=new Uint32Array(16);for(let m=0;m<16;++m)g[m]=l[64*p+4*m]<<24|l[64*p+4*m+1]<<16|l[64*p+4*m+2]<<8|l[64*p+4*m+3];f[p]=g}f[h-1][14]=8*(l.length-1)/Math.pow(2,32),f[h-1][14]=Math.floor(f[h-1][14]),f[h-1][15]=8*(l.length-1)&4294967295;for(let p=0;p<h;++p){const g=new Uint32Array(80);for(let R=0;R<16;++R)g[R]=f[p][R];for(let R=16;R<80;++R)g[R]=s(g[R-3]^g[R-8]^g[R-14]^g[R-16],1);let m=d[0],v=d[1],b=d[2],E=d[3],I=d[4];for(let R=0;R<80;++R){const N=Math.floor(R/20),j=s(m,5)+a(N,v,b,E)+I+u[N]+g[R]>>>0;I=E,E=b,b=s(v,30)>>>0,v=m,m=j}d[0]=d[0]+m>>>0,d[1]=d[1]+v>>>0,d[2]=d[2]+b>>>0,d[3]=d[3]+E>>>0,d[4]=d[4]+I>>>0}return[d[0]>>24&255,d[0]>>16&255,d[0]>>8&255,255&d[0],d[1]>>24&255,d[1]>>16&255,d[1]>>8&255,255&d[1],d[2]>>24&255,d[2]>>16&255,d[2]>>8&255,255&d[2],d[3]>>24&255,d[3]>>16&255,d[3]>>8&255,255&d[3],d[4]>>24&255,d[4]>>16&255,d[4]>>8&255,255&d[4]]};n.default=o},{}],535:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=i("./validate.js"))&&a.__esModule?a:{default:a};const o=[];for(let u=0;u<256;++u)o.push((u+256).toString(16).substr(1));var l=function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const c=(o[u[d+0]]+o[u[d+1]]+o[u[d+2]]+o[u[d+3]]+"-"+o[u[d+4]]+o[u[d+5]]+"-"+o[u[d+6]]+o[u[d+7]]+"-"+o[u[d+8]]+o[u[d+9]]+"-"+o[u[d+10]]+o[u[d+11]]+o[u[d+12]]+o[u[d+13]]+o[u[d+14]]+o[u[d+15]]).toLowerCase();if(!(0,s.default)(c))throw TypeError("Stringified UUID is invalid");return c};n.default=l},{"./validate.js":541}],536:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(i("./rng.js")),s=o(i("./stringify.js"));function o(f){return f&&f.__esModule?f:{default:f}}let l,u,d=0,c=0;var h=function(f,p,g){let m=p&&g||0;const v=p||new Array(16);let b=(f=f||{}).node||l,E=f.clockseq!==void 0?f.clockseq:u;if(b==null||E==null){const H=f.random||(f.rng||a.default)();b==null&&(b=l=[1|H[0],H[1],H[2],H[3],H[4],H[5]]),E==null&&(E=u=16383&(H[6]<<8|H[7]))}let I=f.msecs!==void 0?f.msecs:Date.now(),R=f.nsecs!==void 0?f.nsecs:c+1;const N=I-d+(R-c)/1e4;if(N<0&&f.clockseq===void 0&&(E=E+1&16383),(N<0||I>d)&&f.nsecs===void 0&&(R=0),R>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=I,c=R,u=E,I+=122192928e5;const j=(1e4*(268435455&I)+R)%4294967296;v[m++]=j>>>24&255,v[m++]=j>>>16&255,v[m++]=j>>>8&255,v[m++]=255&j;const V=I/4294967296*1e4&268435455;v[m++]=V>>>8&255,v[m++]=255&V,v[m++]=V>>>24&15|16,v[m++]=V>>>16&255,v[m++]=E>>>8|128,v[m++]=255&E;for(let H=0;H<6;++H)v[m+H]=b[H];return p||(0,s.default)(v)};n.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(i("./v35.js")),s=o(i("./md5.js"));function o(u){return u&&u.__esModule?u:{default:u}}var l=(0,a.default)("v3",48,s.default);n.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(d,c,h){function f(p,g,m,v){if(typeof p=="string"&&(p=function(E){E=unescape(encodeURIComponent(E));const I=[];for(let R=0;R<E.length;++R)I.push(E.charCodeAt(R));return I}(p)),typeof g=="string"&&(g=(0,s.default)(g)),g.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let b=new Uint8Array(16+p.length);if(b.set(g),b.set(p,g.length),b=h(b),b[6]=15&b[6]|c,b[8]=63&b[8]|128,m){v=v||0;for(let E=0;E<16;++E)m[v+E]=b[E];return m}return(0,a.default)(b)}try{f.name=d}catch{}return f.DNS=l,f.URL=u,f},n.URL=n.DNS=void 0;var a=o(i("./stringify.js")),s=o(i("./parse.js"));function o(d){return d&&d.__esModule?d:{default:d}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=l;const u="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=u},{"./parse.js":531,"./stringify.js":535}],539:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(i("./rng.js")),s=o(i("./stringify.js"));function o(u){return u&&u.__esModule?u:{default:u}}var l=function(u,d,c){const h=(u=u||{}).random||(u.rng||a.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,d){c=c||0;for(let f=0;f<16;++f)d[c+f]=h[f];return d}return(0,s.default)(h)};n.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(i("./v35.js")),s=o(i("./sha1.js"));function o(u){return u&&u.__esModule?u:{default:u}}var l=(0,a.default)("v5",80,s.default);n.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=i("./regex.js"))&&a.__esModule?a:{default:a},o=function(l){return typeof l=="string"&&s.default.test(l)};n.default=o},{"./regex.js":532}],542:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=i("./validate.js"))&&a.__esModule?a:{default:a},o=function(l){if(!(0,s.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};n.default=o},{"./validate.js":541}],543:[function(i,r,n){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR=`	
\r -퟿-�𐀀-􏿿`,n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function a(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(s){return s>=32&&s<=55295||s===10||s===13||s===9||s>=57344&&s<=65533||s>=65536&&s<=1114111},n.isS=function(s){return s===32||s===10||s===13||s===9},n.isNameStartChar=a,n.isNameChar=function(s){return a(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],544:[function(i,r,n){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR="-퟿-�𐀀-􏿿",n.RESTRICTED_CHAR="-\b\v\f---",n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function a(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(s){return s>=1&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},n.isRestrictedChar=function(s){return s>=1&&s<=8||s===11||s===12||s>=14&&s<=31||s>=127&&s<=132||s>=134&&s<=159},n.isCharAndNotRestricted=function(s){return s===9||s===10||s===13||s>31&&s<127||s===133||s>159&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},n.isS=function(s){return s===32||s===10||s===13||s===9},n.isNameStartChar=a,n.isNameChar=function(s){return a(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],545:[function(i,r,n){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function a(s){return s>=65&&s<=90||s===95||s>=97&&s<=122||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}Object.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=a,n.isNCNameChar=function(s){return a(s)||s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}]},{},[15])(15)})})(n2);var QV=n2.exports,a2={exports:{}};(function(e,t){(function(i,r){r()})(He,function(){function i(u,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,d,c){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){l(h.response,d,c)},h.onerror=function(){console.error("could not download file")},h.send()}function n(u){var d=new XMLHttpRequest;d.open("HEAD",u,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(d)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof He=="object"&&He.global===He?He:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,d,c){var h=s.URL||s.webkitURL,f=document.createElement("a");d=d||u.name||"download",f.download=d,f.rel="noopener",typeof u=="string"?(f.href=u,f.origin===location.origin?a(f):n(f.href)?r(u,d,c):a(f,f.target="_blank")):(f.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(f.href)},4e4),setTimeout(function(){a(f)},0))}:"msSaveOrOpenBlob"in navigator?function(u,d,c){if(d=d||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(i(u,c),d);else if(n(u))r(u,d,c);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){a(h)})}}:function(u,d,c,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return r(u,d,c);var f=u.type==="application/octet-stream",p=/constructor/i.test(s.HTMLElement)||s.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||f&&p||o)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var E=m.result;E=g?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=E:location=E,h=null},m.readAsDataURL(u)}else{var v=s.URL||s.webkitURL,b=v.createObjectURL(u);h?h.location=b:location.href=b,h=null,setTimeout(function(){v.revokeObjectURL(b)},4e4)}});s.saveAs=l.saveAs=l,e.exports=l})})(a2);var e9=a2.exports;function t9(e){const t=new QV.Workbook,i=t.addWorksheet("Employees");ZV({component:e.component,worksheet:i,autoFilterEnabled:!0}).then(()=>{t.xlsx.writeBuffer().then(r=>{e9.saveAs(new Blob([r],{type:"application/octet-stream"}),"jadval.xlsx")})}),e.cancel=!0}var ke={},i9="dxDataGrid",s2=Ot.inherit({_endUpdateCore:function(){},ctor:function(e){var t=this;t._updateLockCount=0,t.component=e,t._actions={},t._actionConfigs={},ve(this.callbackNames()||[],function(i,r){var n=t.callbackFlags(r)||{};n.unique=!0,n.syncStrategy=!0,t[this]=Ht(n)})},init:function(){},callbackNames:function(){},callbackFlags:function(){},publicMethods:function(){},beginUpdate:function(){this._updateLockCount++},endUpdate:function(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())},option:function(e){var t=this.component,i=t._optionCache;return arguments.length===1&&i?(e in i||(i[e]=t.option(e)),i[e]):t.option.apply(t,arguments)},_silentOption:function(e,t){var i=this.component,r=i._optionCache;return r&&(r[e]=t),i._setOptionWithoutOptionChange(e,t)},localize:function(e){var t=this.component._optionCache;return t?(e in t||(t[e]=Ae.format(e)),t[e]):Ae.format(e)},on:function(){return this.component.on.apply(this.component,arguments)},off:function(){return this.component.off.apply(this.component,arguments)},optionChanged:function(e){e.name in this._actions&&(this.createAction(e.name,this._actionConfigs[e.name]),e.handled=!0)},getAction:function(e){return this._actions[e]},setAria:function(e,t,i){var r=i.get(0),n=e!=="role"&&e!=="id"?"aria-":"";r.setAttribute?r.setAttribute(n+e,t):i.attr(n+e,t)},_createComponent:function(){return this.component._createComponent.apply(this.component,arguments)},getController:function(e){return this.component._controllers[e]},createAction:function(e,t){if(We(e)){var i=this.component._createAction(e.bind(this),t);return function(r){i({event:r})}}else this._actions[e]=this.component._createActionByOption(e,t),this._actionConfigs[e]=t},executeAction:function(e,t){var i=this._actions[e];return i&&i(t)},dispose:function(){var e=this;ve(e.callbackNames()||[],function(){e[this].empty()})},addWidgetPrefix:function(e){var t=this.component.NAME;return"dx-"+t.slice(2).toLowerCase()+(e?"-"+e:"")},getWidgetContainerClass:function(){var e=this.component.NAME===i9?null:"container";return this.addWidgetPrefix(e)},elementIsInsideGrid:function(e){var t=e.closest("."+this.getWidgetContainerClass()).parent();return t.is(this.component.$element())}}),$c=s2,r9=$c.inherit({getView:function(e){return this.component._views[e]},getViews:function(){return this.component._views}}),o2=s2.inherit({_isReady:function(){return this.component.isReady()},_endUpdateCore:function(){this.callBase(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))},_invalidate:function(e,t){this._requireRender=!0,this.component._requireResize=ht()&&(this.component._requireResize||e),this._requireReady=this._requireReady||t},_renderCore:function(){},_resizeCore:function(){},_parentElement:function(){return this._$parent},ctor:function(e){this.callBase(e),this.renderCompleted=Ht(),this.resizeCompleted=Ht()},element:function(){return this._$element},getElementHeight:function(){var e=this.element();if(!e)return 0;var t=parseFloat(e.css("marginTop"))||0,i=parseFloat(e.css("marginBottom"))||0,r=e.get(0).offsetHeight;return r+t+i},isVisible:function(){return!0},getTemplate:function(e){return this.component._getTemplate(e)},render:function(e,t){var i=this._$element,r=this.isVisible();!i&&!e||(this._requireReady=!1,i||(i=this._$element=J("<div>").appendTo(e),this._$parent=e),i.toggleClass("dx-hidden",!r),r&&(this.component._optionCache={},this._renderCore(t),this.component._optionCache=void 0,this.renderCompleted.fire(t)))},resize:function(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1},focus:function(e){this.element().get(0).focus({preventScroll:e})}}),XC=1e6,n9=function(e,t){var i=t.modules,r=t.modulesOrder,n=t.controllerTypes||{},a=t.viewTypes||{};t.controllerTypes||(r&&i.sort(function(o,l){var u=r.indexOf(o.name),d=r.indexOf(l.name);return u<0&&(u=XC),d<0&&(d=XC),u-d}),ve(i,function(){var o=this.controllers,l=this.name,u=this.views;o&&ve(o,function(d,c){if(n[d])throw xt.Error("E1001",l,d);if(!(c&&c.subclassOf&&c.subclassOf($c)))throw c.subclassOf($c),xt.Error("E1002",l,d);n[d]=c}),u&&ve(u,function(d,c){if(a[d])throw xt.Error("E1003",l,d);if(!(c&&c.subclassOf&&c.subclassOf(o2)))throw xt.Error("E1004",l,d);a[d]=c})}),ve(i,function(){var o=this.extenders;o&&(o.controllers&&ve(o.controllers,function(l,u){n[l]&&(n[l]=n[l].inherit(u))}),o.views&&ve(o.views,function(l,u){a[l]&&(a[l]=a[l].inherit(u))}))}),t.controllerTypes=n,t.viewTypes=a);var s=function(o){var l={};return ve(o,function(u,d){var c=new d(e);c.name=u,function(h,f,p){var g=p.publicMethods();g&&ve(g,function(m,v){if(p[v])if(!h[v])h[v]=function(){return p[v].apply(p,arguments)};else throw xt.Error("E1005",v);else throw xt.Error("E1006",f,v)})}(e,u,c),l[u]=c}),l};e._controllers=s(n),e._views=s(a)},a9=function(e,t,i){i=i||[],e._controllers&&ve(e._controllers,function(){this[t]&&this[t].apply(this,i)}),e._views&&ve(e._views,function(){this[t]&&this[t].apply(this,i)})};const ni={modules:[],View:o2,ViewController:r9,Controller:$c,registerModule:function(e,t){for(var i=this.modules,r=0;r<i.length;r++)if(i[r].name===e)return;t.name=e,i.push(t),delete this.controllerTypes,delete this.viewTypes},registerModulesOrder:function(e){this.modulesOrder=e},unregisterModule:function(e){this.modules=gr(this.modules,function(t){return t.name!==e}),delete this.controllerTypes,delete this.viewTypes},processModules:n9,callModuleItemsMethod:a9},qe=Ne({},ni,Fe,{modules:[]});var bd="dxdblclick",s9="dxDblClick",YC=Be(zt,s9),ZC=300,o9=Ot.inherit({ctor:function(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick:function(){this._firstClickTarget=null,this._lastClickTimeStamp=-ZC},add:function(){this._handlerCount<=0&&he.on(Re.getDocument(),YC,this._clickHandler.bind(this)),this._handlerCount++},_clickHandler:function(e){var t=e.timeStamp||Date.now(),i=t-this._lastClickTimeStamp,r=i<0,n=!r&&i<ZC;n?(as({type:bd,target:kL(this._firstClickTarget,e.target),originalEvent:e}),this._forgetLastClick()):(this._firstClickTarget=e.target,this._lastClickTimeStamp=t)},remove:function(){this._handlerCount--,this._handlerCount<=0&&(this._forgetLastClick(),he.off(Re.getDocument(),YC))}});Qr(bd,new o9);var JC="dx-column-indicators",l9="dx-group-panel-item";const u9={_applyColumnState:function(e){var t,i=this.option("rtlEnabled"),r=this._getColumnAlignment(e.column.alignment,i),n=ce(!0,{columnAlignment:r},e),a=n.rootElement.hasClass(l9),s=this._createIndicatorContainer(n,a),o=J("<span>").addClass(this._getIndicatorClassName(e.name)),l=(t=this.component)===null||t===void 0?void 0:t.getController("columns"),u=(l==null?void 0:l.getHeaderContentAlignment(r))||r;return n.container=s,n.indicator=o,this._renderIndicator(n),s[(a||!e.showColumnLines)&&u==="left"?"appendTo":"prependTo"](e.rootElement),o},_getIndicatorClassName:Ee,_getColumnAlignment:function(e,t){return t=t||this.option("rtlEnabled"),e&&e!=="center"?e:os(t)},_createIndicatorContainer:function(e,t){var i=this._getIndicatorContainer(e.rootElement),r=e.columnAlignment==="left"?"right":"left";return i.length||(i=J("<div>").addClass(JC)),this.setAria("role","presentation",i),i.css("float",e.showColumnLines&&!t?r:null)},_getIndicatorContainer:function(e){return e&&e.find("."+JC)},_getIndicatorElements:function(e){var t=this._getIndicatorContainer(e);return t&&t.children()},_renderIndicator:function(e){var t=e.container,i=e.indicator;t&&i&&t.append(i)},_updateIndicators:function(e){var t=this.getColumns(),i=this.getColumnElements(),r;if(!(!i||t.length!==i.length))for(var n=0;n<t.length;n++){r=i.eq(n),this._updateIndicator(r,t[n],e);var a=r.parent().data("options");a&&a.cells&&(a.cells[r.index()].column=t[n])}},_updateIndicator:function(e,t,i){if(!t.command)return this._applyColumnState({name:i,rootElement:e,column:t,showColumnLines:this.option("showColumnLines")})}};var QC="scroll-container",d9="scrollable-simulated",h9="group-space",c9="content",f9="table",p9="table-fixed",m9="content-fixed",Ll="dx-row",sm="dx-group-row",g9="dx-group-cell",om="dx-master-detail-row",v9="filter-row",_9="dx-error-row",b9="cell-updated-animation",ex="0.0001px",lm="dxCellHintVisible",y9="dx-field-item-content",C9={render:function(e){e.container.append(e.content)}},x9=function(e,t){var i,r,n;function a(s){return setTimeout(function(){i=r=null},s)}he.on(t,"touchstart touchend",".dx-row",function(s){clearTimeout(n),s.type==="touchstart"?(i=s.target,r=s.currentTarget,n=a(1e3)):n=a()}),he.on(t,[zt,bd,Vt.down].join(" "),".dx-row",e.createAction(function(s){var o=s.event;i&&(o.target=i,o.currentTarget=r),J(o.target).closest("a").length||(s.rowIndex=e.getRowIndex(o.currentTarget),s.rowIndex>=0&&(s.rowElement=ot(J(o.currentTarget)),s.columns=e.getColumns(),o.type===Vt.down?e._rowPointerDown(s):o.type===zt?e._rowClick(s):e._rowDblClick(s)))}))},nh=function(e){return e==="auto"?"":ei(e)?e+"px":e},tx=function(e,t,i){e.style.width=e.style.maxWidth=t.width==="auto"?"":i},w9=function(e,t){if(!(!e||!t)){var i=e.attributes,r=t.attributes,n;for(n=0;n<i.length;n++){var a=i[n].nodeName;t.hasAttribute(a)||e.removeAttribute(a)}for(n=0;n<r.length;n++)e.setAttribute(r[n].nodeName,r[n].nodeValue)}},yd=ni.View.inherit(u9).inherit({_createScrollableOptions:function(){var e=this.option("scrolling"),t=this.option("scrolling.useNative"),i=ce({},e,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return t===void 0&&(t=!0),t==="auto"?(delete i.useNative,delete i.useSimulatedScrollbar):(i.useNative=!!t,i.useSimulatedScrollbar=!t),i},_updateCell:function(e,t){t.rowType&&this._cellPrepared(e,t)},_createCell:function(e){var t=e.column,i=t.alignment||os(this.option("rtlEnabled")),r=Re.createElement("td");r.style.textAlign=i;var n=J(r);return e.rowType==="data"&&t.headerId&&!t.type&&this.component.option("showColumnHeaders")&&this.setAria("describedby",t.headerId,n),t.cssClass&&n.addClass(t.cssClass),t.command==="expand"&&(n.addClass(t.cssClass),n.addClass(this.addWidgetPrefix(h9))),t.colspan>1?n.attr("colSpan",t.colspan):!t.isBand&&t.visibleWidth!=="auto"&&this.option("columnAutoWidth")&&((t.width||t.minWidth)&&(r.style.minWidth=nh(t.minWidth||t.width)),t.width&&tx(r,t,nh(t.width))),n},_createRow:function(e,t){t=t||"tr";var i=J("<".concat(t,">")).addClass(Ll);return this.setAria("role","row",i),i},_isAltRow:function(e){return e&&e.dataIndex%2===1},_createTable:function(e,t){var i=this,r=J("<table>").addClass(i.addWidgetPrefix(f9)).addClass(i.addWidgetPrefix(p9));if(e&&!t?(r.append(i._createColGroup(e)),ri.safari&&r.append(J("<thead>").append("<tr>")),i.setAria("role","presentation",r)):i.setAria("hidden",!0,r),this.setAria("role","presentation",J("<tbody>").appendTo(r)),t)return r;ri.mozilla&&he.on(r,"mousedown","td",function(a){a.ctrlKey&&a.preventDefault()}),i.option("cellHintEnabled")&&he.on(r,"mousemove",".dx-row > td",this.createAction(function(a){var s=a.event,o=J(s.target),l=J(s.currentTarget),u=l.parent(),d=i._columnsController.getVisibleColumns(),c=u.data("options"),h=l.index(),f=c&&c.cells&&c.cells[h],p=f?f.column:d[h],g=u.hasClass("dx-header-row"),m=u.hasClass("dx-data-row"),v=u.hasClass(om),b=u.hasClass(sm),E=u.hasClass(i.addWidgetPrefix(v9)),I=m&&(!p||p.cellTemplate),R=m&&f&&(c.isEditing||f.isEditing||(p==null?void 0:p.showEditorAlways)),N=g&&(!p||p.headerCellTemplate),j=b&&(!p||p.groupIndex&&p.groupCellTemplate),V=!v&&!E&&!R&&!I&&!N&&!j;if(V){o.data(lm)&&(o.removeAttr("title"),o.data(lm,!1));var H=o[0].scrollWidth-o[0].clientWidth;H>0&&!oe(o.attr("title"))&&(o.attr("title",o.text()),o.data(lm,!0))}}));var n=function(a){var s=J(a.currentTarget),o=J(a.target).closest("."+y9),l=s.parent(),u=l.data("options"),d=u&&u.cells&&u.cells[s.index()];if(s.closest("table").is(a.delegateTarget)){var c=ce({},d,{cellElement:ot(s),event:a,eventType:a.type});if(c.rowIndex=i.getRowIndex(l),o.length){var h=o.data("dx-form-item");h.column&&(c.column=h.column,c.columnIndex=i._columnsController.getVisibleIndex(c.column.index))}return c}};return he.on(r,"mouseover",".dx-row > td",function(a){var s=n(a);s&&i.executeAction("onCellHoverChanged",s)}),he.on(r,"mouseout",".dx-row > td",function(a){var s=n(a);s&&i.executeAction("onCellHoverChanged",s)}),he.on(r,zt,".dx-row > td",function(a){var s=n(a);s&&i.executeAction("onCellClick",s)}),he.on(r,bd,".dx-row > td",function(a){var s=n(a);s&&i.executeAction("onCellDblClick",s)}),x9(i,r),r},_rowPointerDown:Ee,_rowClick:Ee,_rowDblClick:Ee,_createColGroup:function(e){for(var t=J("<colgroup>"),i=0;i<e.length;i++)for(var r=e[i].colspan||1,n=0;n<r;n++)t.append(this._createCol(e[i]));return t},_createCol:function(e){var t=e.visibleWidth||e.width;t==="adaptiveHidden"&&(t=ex);var i=J("<col>");return Pp(i,t),i},renderDelayedTemplates:function(e){var t=this._delayedTemplates,i=t.filter(n=>!n.async),r=t.filter(n=>n.async);this._delayedTemplates=[],this._renderDelayedTemplatesCore(i,!1,e),this._renderDelayedTemplatesCoreAsync(r)},_renderDelayedTemplatesCoreAsync:function(e){var t=this;e.length&&ft().setTimeout(function(){t._renderDelayedTemplatesCore(e,!0)})},_renderDelayedTemplatesCore:function(e,t,i){for(var r=new Date;e.length;){var n=e.shift(),a=n.options,s=Re.getDocument();if((!t||J(a.container).closest(s).length)&&(i&&(a.change=i),n.template.render(a)),t&&new Date-r>30){this._renderDelayedTemplatesCoreAsync(e);break}}!e.length&&this._delayedTemplates.length&&this.renderDelayedTemplates()},_processTemplate:function(e){var t;if(e&&e.render&&!Br(e))t={allowRenderToDetachedContainer:e.allowRenderToDetachedContainer,render:function(r){e.render(r.container,r.model,r.change),r.deferred&&r.deferred.resolve()}};else if(We(e))t={render:function(r){var n=e(ot(r.container),r.model,r.change);n&&(n.nodeType||Br(n))&&r.container.append(n),r.deferred&&r.deferred.resolve()}};else{var i=nt(e)?e:J(e).attr("id");i?(this._templatesCache[i]||(this._templatesCache[i]=this.getTemplate(e)),t=this._templatesCache[i]):t=this.getTemplate(e)}return t},renderTemplate:function(e,t,i,r,n){var a=this._processTemplate(t,i),s=i.column,o=i.rowType==="data",l=new we,u={container:e,model:i,deferred:l,onRendered:()=>{l.resolve()}};if(a){i.component=this.component;var d=s&&(s.renderAsync&&o||this.option("renderAsync")&&(s.renderAsync!==!1&&(s.command||s.showEditorAlways)&&o||i.rowType==="filter"));(a.allowRenderToDetachedContainer||r)&&!d?a.render(u):this._delayedTemplates.push({template:a,options:u,async:d}),n&&(n.templateDeferreds=n.templateDeferreds||[],n.templateDeferreds.push(l))}else l.reject();return l.promise()},_getBodies:function(e){return J(e).children("tbody").not(".dx-header").not(".dx-footer")},_needWrapRow:function(e){var t,i=!!this.option().rowTemplate;return i&&!!((t=this._getBodies(e))!==null&&t!==void 0&&t.filter("."+Ll).length)},_wrapRowIfNeed:function(e,t,i){var r=i?e||this._tableElement:this._tableElement||e,n=this._needWrapRow(r);if(n){var a=J("<tbody>").addClass(t.attr("class"));return this.setAria("role","presentation",a),a.append(t)}return t},_appendRow:function(e,t,i){i=i||C9,i.render({content:t,container:e})},_resizeCore:function(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))},_renderCore:function(e){var t=this.element().parent();(!t||t.parent().length)&&this.renderDelayedTemplates(e)},_renderTable:function(e){e=e||{},e.columns=this._columnsController.getVisibleColumns();var t=e.change&&e.change.changeType,i=this._createTable(e.columns,t==="append"||t==="prepend"||t==="update");return this._renderRows(i,e),i},_renderRows:function(e,t){for(var i=this._getRows(t.change),r=t.change&&t.change.columnIndices||[],n=t.change&&t.change.changeTypes||[],a=0;a<i.length;a++)this._renderRow(e,ce({row:i[a],columnIndices:r[a],changeType:n[a]},t))},_renderRow:function(e,t){t.columnIndices||(t.row.cells=[]);var i=this._createRow(t.row),r=this._wrapRowIfNeed(e,i);t.changeType!=="remove"&&this._renderCells(i,t),this._appendRow(e,r);var n=ce({columns:t.columns},t.row);this._addWatchMethod(n,t.row),this._rowPrepared(r,n,t.row)},_needRenderCell:function(e,t){return!t||t.indexOf(e)>=0},_renderCells:function(e,t){for(var i=0,r=t.row,n=t.columns,a=0;a<n.length;a++)this._needRenderCell(a,t.columnIndices)&&this._renderCell(e,ce({column:n[a],columnIndex:i,value:r.values&&r.values[i],oldValue:r.oldValues&&r.oldValues[i]},t)),n[a].colspan>1?i+=n[a].colspan:i++},_updateCells:function(e,t,i){var r=e.children(),n=t.children(),a=this.option("highlightChanges"),s=this.addWidgetPrefix(b9);i.forEach(function(o,l){var u=r.eq(o),d=n.eq(l);u.replaceWith(d),a&&!d.hasClass("dx-command-expand")&&d.addClass(s)}),w9(e.get(0),t.get(0))},_setCellAriaAttributes:function(e,t){if(t.rowType!=="freeSpace"){this.setAria("role","gridcell",e);var i=this._columnsController.getColumnIndexOffset(),r=t.columnIndex+i+1;this.setAria("colindex",r,e)}},_renderCell:function(e,t){var i=this._getCellOptions(t);if(t.columnIndices){if(t.row.cells){var r=t.row.cells.findIndex(a=>a.columnIndex===i.columnIndex);t.row.cells[r]=i}}else t.row.cells.push(i);var n=this._createCell(i);return this._setCellAriaAttributes(n,i),this._renderCellContent(n,i,t),e.get(0).appendChild(n.get(0)),n},_renderCellContent:function(e,t,i){var r=this._getCellTemplate(t);Ke(!r||this.renderTemplate(e,r,t,void 0,i.change)).done(()=>{this._updateCell(e,t)})},_getCellTemplate:function(){},_getRows:function(){return[]},_getCellOptions:function(e){var t={column:e.column,columnIndex:e.columnIndex,rowType:e.row.rowType,isAltRow:this._isAltRow(e.row)};return this._addWatchMethod(t),t},_addWatchMethod:function(e,t){if(this.option("repaintChangesOnly")){var i=[];return t=t||e,t.watch=t.watch||function(r,n,a){var s=r(t.data),o=function(l){l&&a&&a(l);var u=r(t.data);JSON.stringify(s)!==JSON.stringify(u)&&(l&&n(u),s=u)};return i.push(o),function(){var l=i.indexOf(o);l>=0&&i.splice(l,1)}},t.update=t.update||function(r,n){r&&(this.data=e.data=r.data,this.rowIndex=e.rowIndex=r.rowIndex,this.dataIndex=e.dataIndex=r.dataIndex,this.isExpanded=e.isExpanded=r.isExpanded,e.row&&!n&&(e.row=r)),i.forEach(function(a){a(r)})},t!==e&&(e.watch=t.watch.bind(t)),e}},_cellPrepared:function(e,t){t.cellElement=ot(J(e)),this.executeAction("onCellPrepared",t)},_rowPrepared:function(e,t){di(e.get(0),"options",t),t.rowElement=ot(e),this.executeAction("onRowPrepared",t)},_columnOptionChanged:function(e){var t=e.optionNames;if(Fe.checkChanges(t,["width","visibleWidth"])){var i=this._columnsController.getVisibleColumns(),r=Ti(i,function(n){var a=n.visibleWidth||n.width;return oe(a)?a:"auto"});this.setColumnWidths({widths:r,optionNames:t});return}this._requireReady||this.render()},getCellIndex:function(e){var t=e.length?e[0].cellIndex:-1;return t},getTableElements:function(){return this._tableElement||J()},getTableElement:function(){return this._tableElement},setTableElement:function(e){this._tableElement=e},optionChanged:function(e){switch(this.callBase(e),e.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":this._invalidate(!0,!0),e.handled=!0}},init:function(){var e=this;e._scrollLeft=-1,e._columnsController=e.getController("columns"),e._dataController=e.getController("data"),e._delayedTemplates=[],e._templatesCache={},e.createAction("onCellClick"),e.createAction("onRowClick"),e.createAction("onCellDblClick"),e.createAction("onRowDblClick"),e.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),e.createAction("onCellPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),e.createAction("onRowPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering",afterExecute:function(t){e._afterRowPrepared(t)}}),e._columnsController.columnsChanged.add(e._columnOptionChanged.bind(e)),e._dataController&&e._dataController.changed.add(e._handleDataChanged.bind(e))},_afterRowPrepared:Ee,_handleDataChanged:function(){},callbackNames:function(){return["scrollChanged"]},_updateScrollLeftPosition:function(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))},scrollTo:function(e){var t=this.element(),i=t&&t.children("."+this.addWidgetPrefix(QC)).not("."+this.addWidgetPrefix(m9));oe(e)&&oe(e.left)&&this._scrollLeft!==e.left&&(this._scrollLeft=e.left,i&&i.scrollLeft(e.left))},_wrapTableInScrollContainer:function(e){var t=J("<div>"),i=this.option("scrolling.useNative");return(i===!1||i==="auto"&&!Us)&&t.addClass(this.addWidgetPrefix(d9)),he.on(t,"scroll",()=>{var r=t.scrollLeft();r!==this._scrollLeft&&this.scrollChanged.fire({left:r},this.name)}),t.addClass(this.addWidgetPrefix(c9)).addClass(this.addWidgetPrefix(QC)).append(e).appendTo(this.element()),this.setAria("role","presentation",t),t},_updateContent:function(e){this.setTableElement(e),this._wrapTableInScrollContainer(e)},_findContentElement:Ee,_getWidths:function(e){var t=[],i;return e&&ve(e,function(r,n){if(i=n.offsetWidth,n.getBoundingClientRect){var a=vi(n);a.width>i-1&&(i=a.width)}t.push(i)}),t},getColumnWidths:function(e){var t=[],i,r;if((this.option("forceApplyBindings")||Ee)(),e=e||this.getTableElement(),e){i=e.children("tbody:not(.dx-header)").children();for(var n=0;n<i.length;n++){var a=i.eq(n),s=a.get(0).style.display!=="none"&&!a.hasClass("dx-state-invisible");if(!a.is("."+sm)&&!a.is("."+om)&&!a.is("."+_9)&&s){r=a.children("td");break}}t=this._getWidths(r)}return t},getVisibleColumnIndex:function(e,t){return e},setColumnWidths:function(e){var{widths:t,$tableElement:i,columns:r,fixed:n}=e,a,s,o,l,u=this.option("columnAutoWidth");if(i=i||this.getTableElement(),i&&i.length&&t){l=0,a=i.children("colgroup").children("col"),Pp(a,"auto"),r=r||this.getColumns(null,i);for(var d=0;d<r.length;d++){if(u&&!n&&(s=r[d].width,s&&!r[d].command)){s=r[d].visibleWidth||s,s=nh(s),o=nh(r[d].minWidth||s);for(var c=c||i.children().children(".dx-row").not("."+om),h=0;h<c.length;h++){var f=c[h],p=void 0,g=this.getVisibleColumnIndex(d,h);f.classList.contains(sm)?p=f.querySelector("td[aria-colindex='".concat(g+1,"']:not(.").concat(g9,")")):p=f.cells[g],p&&(tx(p,r[d],s),p.style.minWidth=o)}}if(r[d].colspan){l+=r[d].colspan;continue}s=t[l],s==="adaptiveHidden"&&(s=ex),typeof s=="number"&&(s=s.toFixed(3)+"px"),Pp(a.eq(l),oe(s)?s:"auto"),l++}}},getCellElements:function(e){return this._getCellElementsCore(e)},_getCellElementsCore:function(e){var t=this._getRowElements().eq(e);return t.children()},_getCellElement:function(e,t){var i,r=this.getCellElements(e),n=this._getVisibleColumnIndex(r,e,t);if(r.length&&n>=0&&(i=r.eq(n)),i&&i.length)return i},_getRowElement:function(e){var t=this,i=J(),r=t.getTableElements();if(ve(r,function(n,a){i=i.add(t._getRowElements(J(a)).eq(e))}),i.length)return i},getCellElement:function(e,t){return ot(this._getCellElement(e,t))},getRowElement:function(e){var t=this._getRowElement(e),i=[];if(t&&!ot(t).get)for(var r=0;r<t.length;r++)i.push(t[r]);else i=t;return i},_getVisibleColumnIndex:function(e,t,i){if(nt(i)){var r=this._columnsController.columnOption(i,"index");return this._columnsController.getVisibleIndex(r)}return i},getColumnElements:function(){},getColumns:function(e){return this._columnsController.getVisibleColumns(e)},getCell:function(e,t){var i=t||this._getRowElements(),r;if(i.length>0&&e.rowIndex>=0&&(this.option("scrolling.mode")!=="virtual"&&this.option("scrolling.rowRenderingMode")!=="virtual"&&(e.rowIndex=e.rowIndex<i.length?e.rowIndex:i.length-1),r=this.getCellElements(e.rowIndex),r&&r.length>0))return r.eq(r.length>e.columnIndex?e.columnIndex:r.length-1)},getRowsCount:function(){var e=this.getTableElement();return e&&e.length===1?e[0].rows.length:0},_getRowElementsCore:function(e){if(e=e||this.getTableElement(),e){var t=this.option().rowTemplate||this.option("dataRowTemplate"),i=t&&e.find("> tbody."+Ll);return i&&i.length?i:e.find("> tbody > ."+Ll+", > ."+Ll)}return J()},_getRowElements:function(e){return this._getRowElementsCore(e)},getRowIndex:function(e){return this._getRowElements().index(e)},getBoundingRect:function(){},getName:function(){},setScrollerSpacing:function(e){var t=this.element(),i=this.option("rtlEnabled");t&&t.css({paddingLeft:i?e:"",paddingRight:i?"":e})},isScrollbarVisible:function(e){var t=this.element(),i=this._tableElement;return t&&i?e?Pt(i)-ut(t)>0:At(i)-ct(t)>0:!1}}),Gv="dx-state-focused",S9="dx-cell-focus-disabled",E9=".dx-row-focused",l2=".dx-datagrid-rowsview .dx-row",ix="".concat(l2," > td"),u2=".dx-treelist-rowsview .dx-row",rx="".concat(u2," > td"),nx={groupPanel:[".dx-datagrid-group-panel .dx-group-panel-item[tabindex]"],columnHeaders:[".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action",".dx-treelist-headers .dx-header-row > td.dx-treelist-action"],filterRow:[".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input",".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input"],rowsView:["".concat(E9),"".concat(l2,"[tabindex]"),"".concat(ix,"[tabindex]"),"".concat(ix),"".concat(u2,"[tabindex]"),"".concat(rx,"[tabindex]"),"".concat(rx)],footer:[".dx-datagrid-total-footer .dx-datagrid-summary-item",".dx-treelist-total-footer .dx-treelist-summary-item"],filterPanel:[".dx-datagrid-filter-panel .dx-icon-filter",".dx-treelist-filter-panel .dx-icon-filter"],pager:[".dx-datagrid-pager [tabindex]",".dx-treelist-pager [tabindex]"]},um=!1,zc=!1,jo=null;function T9(e,t,i,r,n,a){var s=O9(t,i.originalEvent,a);if(!s){var o=ci(i);o==="enter"||o==="space"?(I9(i.target,t),r&&r({event:i})):o==="tab"?n.addClass(Gv):k0(e,t,i)}}function I9(e,t){var i=J(e),r=i.attr("aria-label"),n=d2(r,t.element()),a=n.index(i);jo=ce({},{ariaLabel:r,index:a},{viewInstance:t})}function d2(e,t){var i=J(t),r;return e?r=i.find('[aria-label="'.concat(e,'"][tabindex]')):r=i.find("[tabindex]"),r}function A9(e){for(var t in e){var i=e[t],r=J(i).first();if(r.length)return r}}function O9(e,t,i){var r={event:t,handled:!1};return i?i(r):e._createActionByOption("onKeyDown")(r),r.handled}function h2(){zc=Re.getDocument().visibilityState==="visible"}function D9(){he.on(Re.getDocument(),"visibilitychange",h2)}function k9(){he.off(Re.getDocument(),"visibilitychange",h2)}function R9(e){zc=!0,e.focus(),zc=!1}function c2(e,t,i,r,n,a){if(t.option("useLegacyKeyboardNavigation"))return Ee;var s=()=>J(t.element()),o=d=>T9(e,t,d,n,s(),a),l=()=>{um=!0,s().removeClass(Gv)},u=()=>{var d=!um&&!zc;d&&s().addClass(Gv),um=!1};return he.on(i,"keydown",r,o),he.on(i,"mousedown",r,l),he.on(i,"focusin",r,u),()=>{he.off(i,"keydown",r,o),he.off(i,"mousedown",r,l),he.off(i,"focusin",r,u)}}function D0(e){if(!e.option("useLegacyKeyboardNavigation")&&jo){var t=jo.viewInstance;if(t){var i=d2(jo.ariaLabel,t.element()),r=i.eq(jo.index);jo=null,he.trigger(r,"focus")}}}function k0(e,t,i){var r=ci(i);if(i.ctrlKey&&(r==="upArrow"||r==="downArrow"))for(var n=Object.keys(nx),a=n.indexOf(e);a>=0&&a<n.length;){a=r==="upArrow"?--a:++a;var s=n[a],o=nx[s],l=A9(o);if(l&&l.length){l.attr("tabindex",t.option("tabindex")||0),he.trigger(l,"focus"),l.removeClass(S9);break}}}function M9(e,t){e.option("useLegacyKeyboardnavigation")||t.attr("tabindex",e.option("tabindex")||0)}var Su=function(e,t,i,r,n){var a=t.getController("keyboardNavigation");t.option("useLegacyKeyboardNavigation")||a&&!a.isKeyboardEnabled()||(t.createAction("onKeyDown"),c2(e,t,i,r,n,s=>{t.executeAction("onKeyDown",s)}))},dm="text-content",B9="headers",P9="nowrap",L9=".dx-row",ax="dx-header-row",F9="dx-column-lines",N9="context-menu-sort-asc",V9="context-menu-sort-desc",H9="context-menu-sort-none",$9="dx-cell-focus-disabled",hm="dx-visibility-hidden",sx="dx-text-content-alignment-",z9="dx-sort-indicator",W9="dx-sort-index-indicator",j9=".dx-header-filter",U9="dx-header-filter-indicator",G9="dx-header-multi-row",f2={defaultOptions:function(){return{showColumnHeaders:!0,cellHintEnabled:!0}},views:{columnHeadersView:yd.inherit(function(){var e=function(i,r,n){var a=J("<div>").addClass(i.addWidgetPrefix(dm));i.setAria("role","presentation",a),t(i,r,n.column,a);var s=i.option("showColumnLines"),o=i.getController("columns").getHeaderContentAlignment(n.column.alignment);return a[s||o==="right"?"appendTo":"prependTo"](r)};function t(i,r,n,a){var s=i._getIndicatorElements(r,!0),o=i._getIndicatorElements(r),l=s&&s.length,u=i._getColumnAlignment(n.alignment),d=".".concat(i._getIndicatorClassName("sort")),c=".".concat(i._getIndicatorClassName("sortIndex")),h=o.filter(d),f=o.children().filter(c);a=a||r.children("."+i.addWidgetPrefix(dm)),a.toggleClass(sx+u,l>0).toggleClass(sx+(u==="left"?"right":"left"),l>0&&n.alignment==="center").toggleClass(z9,!!h.length).toggleClass(W9,!!f.length).toggleClass(U9,!!o.filter("."+i._getIndicatorClassName("headerFilter")).length)}return{_createTable:function(){var i=this.callBase.apply(this,arguments);return he.on(i,"mousedown selectstart",this.createAction(function(r){var n=r.event;n.shiftKey&&n.preventDefault()})),i},_isLegacyKeyboardNavigation(){return this.option("useLegacyKeyboardNavigation")},_getDefaultTemplate:function(i){var r=this;return function(n,a){var s=i.command?n:e(r,n,a),o=i.command!=="expand"&&i.caption;o?s.text(o):i.command&&n.html("&nbsp;")}},_getHeaderTemplate:function(i){return i.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(i)}},_processTemplate:function(i,r){var n=this,a,s=r.column,o=n.callBase(i);return r.rowType==="header"&&o&&s.headerCellTemplate&&!s.command?a={render:function(l){var u=e(n,l.container,l.model);o.render(ce({},l,{container:u}))}}:a=o,a},_handleDataChanged:function(i){i.changeType==="refresh"&&(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())},_renderCell:function(i,r){var n=this.callBase(i,r);return r.row.rowType==="header"&&(n.addClass($9),this._isLegacyKeyboardNavigation()||r.column&&!r.column.type&&n.attr("tabindex",this.option("tabindex")||0)),n},_setCellAriaAttributes:function(i,r){this.callBase(i,r),r.rowType==="header"&&(this.setAria("role","columnheader",i),r.column&&!r.column.command&&!r.column.isBand&&(i.attr("id",r.column.headerId),this.setAria("label",Ae.format("dxDataGrid-ariaColumn")+" "+r.column.caption,i)))},_createRow:function(i){var r=this.callBase.apply(this,arguments);return r.toggleClass(F9,this.option("showColumnLines")),i.rowType==="header"&&(r.addClass(ax),this._isLegacyKeyboardNavigation()||Su("columnHeaders",this,r,"td",this._handleActionKeyDown.bind(this))),r},_handleActionKeyDown:function(i){var r=i.event,n=J(r.target);if(this._lastActionElement=r.target,n.is(j9)){var a=this.getController("headerFilter"),s=n.closest("td"),o=this.getColumnIndexByElement(s);o>=0&&a.showHeaderFilterMenu(o,!1)}else{var l=n.closest(L9);this._processHeaderAction(r,l)}r.preventDefault()},_renderCore:function(){var i=this,r=i.element();i._tableElement&&!i._dataController.isLoaded()&&!i._hasRowElements||(r.addClass(i.addWidgetPrefix(B9)).toggleClass(i.addWidgetPrefix(P9),!i.option("wordWrapEnabled")).empty(),i.setAria("role","presentation",r),i._updateContent(i._renderTable()),i.getRowCount()>1&&r.addClass(G9),i.callBase.apply(i,arguments))},_renderRows:function(){var i=this;(i._dataController.isLoaded()||i._hasRowElements)&&(i.callBase.apply(i,arguments),i._hasRowElements=!0)},_getRowVisibleColumns:function(i){return this._columnsController.getVisibleColumns(i)},_renderRow:function(i,r){r.columns=this._getRowVisibleColumns(r.row.rowIndex),this.callBase(i,r)},_createCell:function(i){var r=i.column,n=this.callBase.apply(this,arguments);return r.rowspan>1&&i.rowType==="header"&&n.attr("rowSpan",r.rowspan),n},_getRows:function(){var i=[],r=this.getRowCount();if(this.option("showColumnHeaders"))for(var n=0;n<r;n++)i.push({rowType:"header",rowIndex:n});return i},_getCellTemplate:function(i){if(i.rowType==="header")return this._getHeaderTemplate(i.column)},_columnOptionChanged:function(i){var r=i.changeTypes,n=i.optionNames;if(r.grouping||r.groupExpanding){r.grouping&&(this._isGroupingChanged=!0);return}this.callBase(i),(n.width||n.visible)&&this.resizeCompleted.fire()},_isElementVisible:function(i){return i&&i.visible},_alignCaptionByCenter:function(i){var r=this._getIndicatorContainer(i,!0);r&&r.length&&(r.filter("."+hm).remove(),r=this._getIndicatorContainer(i),r.clone().addClass(hm).css("float","").insertBefore(i.children("."+this.addWidgetPrefix(dm))))},_updateCell:function(i,r){r.rowType==="header"&&r.column.alignment==="center"&&this._alignCaptionByCenter(i),this.callBase.apply(this,arguments)},_updateIndicator:function(i,r,n){var a=this.callBase.apply(this,arguments);return r.alignment==="center"&&this._alignCaptionByCenter(i),t(this,i,r),a},_getIndicatorContainer:function(i,r){var n=this.callBase(i);return r?n:n.filter(":not(."+hm+")")},_isSortableElement:function(){return!0},getHeadersRowHeight:function(){var i=this.getTableElement(),r=i&&i.find("."+ax);return r&&r.toArray().reduce(function(n,a){return n+ct(a)},0)||0},getHeaderElement:function(i){var r=this.getColumnElements();return r&&r.eq(i)},getColumnElements:function(i,r){var n=this,a,s=n._columnsController,o=n.getRowCount();if(n.option("showColumnHeaders")){if(o>1&&(!oe(i)||oe(r))){var l=[],u=oe(r)?s.getChildrenByBandColumn(r,!0):s.getVisibleColumns();return ve(u,function(d,c){var h=oe(i)?i:s.getRowIndex(c.index);a=n._getCellElement(h,s.getVisibleIndex(c.index,h)),a&&l.push(a.get(0))}),J(l)}else if(!i||i<o)return n.getCellElements(i||0)}},getColumnIndexByElement:function(i){var r=this.getCellIndex(i),n=i.closest(".dx-row"),a=n[0].rowIndex,s=this.getColumns(a)[r];return s?s.index:-1},getVisibleColumnIndex:function(i,r){var n=this.getColumns()[i];return n?this._columnsController.getVisibleIndex(n.index,r):-1},getColumnWidths:function(){var i=this.getColumnElements();return i&&i.length?this._getWidths(i):this.callBase.apply(this,arguments)},allowDragging:function(i,r,n){var a,s=0,o=i&&this._columnsController.getRowIndex(i.index),l=this.getColumns(o===0?0:null),u=(i==null?void 0:i.allowHiding)&&l.length>1,d=function(h){return h.allowReordering||h.allowGrouping||h.allowHiding};for(a=0;a<l.length;a++)d(l[a])&&s++;if(s<=1&&!u)return!1;if(!n)return(this.option("allowColumnReordering")||this._columnsController.isColumnOptionUsed("allowReordering"))&&i&&i.allowReordering;for(a=0;a<n.length;a++){var c=n[a];if(c&&c.allowDragging(i,r))return!0}return!1},getBoundingRect:function(){var i=this.getColumnElements();if(i&&i.length){var r=this.getTableElement().offset();return{top:r.top}}return null},getName:function(){return"headers"},getColumnCount:function(){var i=this.getColumnElements();return i?i.length:0},isVisible:function(){return this.option("showColumnHeaders")},optionChanged:function(i){switch(i.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":this._invalidate(!0,!0),i.handled=!0;break;default:this.callBase(i)}},getHeight:function(){return this.getElementHeight()},getContextMenuItems:function(i){var r=this,n=i.column;if(i.row&&(i.row.rowType==="header"||i.row.rowType==="detailAdaptive")){var a=r.option("sorting");if(a&&a.mode!=="none"&&n&&n.allowSorting){var s=function(o){setTimeout(function(){r._columnsController.changeSortOrder(n.index,o.itemData.value)})};return[{text:a.ascendingText,value:"asc",disabled:n.sortOrder==="asc",icon:N9,onItemClick:s},{text:a.descendingText,value:"desc",disabled:n.sortOrder==="desc",icon:V9,onItemClick:s},{text:a.clearText,value:"none",disabled:!n.sortOrder,icon:H9,onItemClick:s}]}}},getRowCount:function(){return this._columnsController&&this._columnsController.getRowCount()},setRowsOpacity:function(i,r,n){var a=this,s,o,l=a.getRowCount(),u=a._columnsController.getColumns(),d=u&&u[i],c=d&&d.isBand&&d.index,h=function(f,p){p.ownerBand===c&&(o.eq(f).css({opacity:r}),p.isBand&&a.setRowsOpacity(p.index,r,s+1))};if(oe(c))for(n=n||0,s=n;s<l;s++)o=a.getCellElements(s),ve(a.getColumns(s),h)}}}())}};f2.views.columnHeadersView;qe.registerModule("columnHeaders",f2);var p2="number",m2="yyyy/MM/dd",K9="yyyy/MM/dd HH:mm:ss",g2=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,v2=/^(\d{2}):(\d{2})(:(\d{2}))?$/,ox=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],q9=/^(\d{4})\/(\d{2})\/(\d{2})$/,X9=3,_2=function(e,t){var i;return nt(e)&&!t&&(i=Z9(e)),i||Y9(e)};function lr(e){return+e||0}function Y9(e){var t=b2(e)===m2,i=!sr(e)&&Date.parse(e);if(!i&&t){var r=e.match(q9);if(r){var n=new Date(lr(r[1]),lr(r[2]),lr(r[3]));return n.setFullYear(lr(r[1])),n.setMonth(lr(r[2])-1),n.setDate(lr(r[3])),n}}return ei(i)?new Date(i):e}function Z9(e){var t=e.match(g2);if(!t)return t=e.match(v2),t?new Date(0,0,0,lr(t[1]),lr(t[2]),lr(t[4])):void 0;var i=lr(t[1]),r=--t[3],n=t[5],a=0,s=0,o=h=>(i<100&&h.setFullYear(i),h);a=lr(t[14]),s=lr(t[16]),t[13]==="-"&&(a=-a,s=-s);var l=lr(t[6])-a,u=lr(t[8])-s,d=lr(t[10]),c=function(h){return h=h||"",lr(h)*Math.pow(10,X9-h.length)}(t[11]);return t[12]?o(new Date(Date.UTC(i,r,n,l,u,d,c))):o(new Date(i,r,n,l,u,d,c))}var J9=function(e,t){var i=e.match(g2),r="";if(!i)return i=e.match(v2),i?i[3]?"HH:mm:ss":"HH:mm":void 0;for(var n=1;n<ox.length;n++)i[n]&&(r+=ox[n]||i[n]);return i[12]==="Z"&&(r+="'Z'"),i[14]&&(i[15]?r+="xxx":i[16]?r+="xx":r+="x"),r},Q9=function(e){return typeof e=="number"?new Date(e):_2(e,!ii().forceIsoDateParsing)},e7=function(e,t){return t?sr(e)?t===p2?e&&e.valueOf?e.valueOf():null:ZT(t,ru)(e):null:e},b2=function(e){if(typeof e=="number")return p2;if(nt(e)){var t;return ii().forceIsoDateParsing&&(t=J9(e)),t||(e.indexOf(":")>=0?K9:m2)}else if(e)return null};const Fi={dateParser:_2,deserializeDate:Q9,serializeDate:e7,getDateSerializationFormat:b2};var y2=["filterValues","filterType","fixed","fixedPosition"],ah=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","lastSortOrder","sortIndex","groupIndex","filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","added"].concat(y2),t7={visibleWidth:!0,bestFitWidth:!0,bufferedFilterValue:!0},i7="dx-command-expand",lx=Number.MAX_SAFE_INTEGER||9007199254740991,xa="groupExpand",cm=/columns\[(\d+)\]\.?/gi,r7=1,ux={defaultOptions:function(){return{commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:Ae.format("dxDataGrid-trueText"),falseText:Ae.format("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,columnResizingMode:"nextColumn",columnMinWidth:void 0,columnWidth:void 0,adaptColumnWidthByRatio:!0,columns:void 0,regenerateColumnsByVisibleItems:!1,customizeColumns:null,dateSerializationFormat:void 0}},controllers:{columns:ni.Controller.inherit(function(){var e={visible:!0,showInColumnChooser:!0},t={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"],datetime:["=","<>","<",">","<=",">=","between"]},i={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0},r=function(O){O.filterOperations=O.defaultFilterOperations},n=function(O,F,z,X){var L={};if(F){nt(F)&&(F={dataField:F}),O.setName(F);var K={};if(F.command)K=Sn(L,F);else{L=O.getCommonSettings(F),z&&z.name&&z.dataField&&(F=ce({},F,{dataField:z.dataField}));var D=O._createCalculatedColumnOptions(F,X);F.type||(K={headerId:"dx-col-".concat(r7++)}),K=Sn(K,e),Sn(K,L),Sn(K,D),Sn(K,F),Sn(K,{selector:null})}return F.filterOperations===F.defaultFilterOperations&&r(K),K}},a=function O(F,z,X){var L=[];return z&&ve(z,function(K,D){var B=F._columnsUserState&&b(D,F._columnsUserState[K])&&F._columnsUserState[K],U=n(F,D,B,X);U&&(X&&(U.ownerBand=X),L.push(U),U.columns&&(L=L.concat(O(F,U.columns,U)),delete U.columns,U.hasColumns=!0))}),L},s=function(O,F){for(var z=[],X=F[O];X;)z.unshift(X),O=X.index,X=F[O];return z},o=function(O,F,z){var X=[],L=F[O];if(L)for(var K=0;K<L.length;K++){var D=L[K];(!oe(D.groupIndex)||D.showWhenGrouped)&&(X.push(D),z&&D.isBand&&(X=X.concat(o(D.index,F,z))))}return X},l=function(O,F){var z=[],X,L=O.getBandColumnsCache(),K=function(B){return B.ownerBand===F.ownerBand};if(L.isPlain){var D=O._columns.indexOf(F);D>=0&&(z=["columns[".concat(D,"]")])}else for(X=O._columns.filter(K);X.length&&X.indexOf(F)!==-1;)z.unshift("columns[".concat(X.indexOf(F),"]")),F=L.columnParentByIndex[F.index],X=F?O._columns.filter(K):[];return z.join(".")},u=function O(F,z){var X=0,L=F.getChildrenByBandColumn(z,!0);return ve(L,function(K,D){D.isBand?(D.colspan=D.colspan||O(F,D.index),X+=D.colspan||1):X+=1}),X},d=function(O){var F=Xr(O);return F!=="string"&&F!=="boolean"&&F!=="number"&&F!=="date"&&F!=="object"&&(F=void 0),F},c=function(O,F){switch(O){case"date":case"datetime":return Fi.getDateSerializationFormat(F);case"number":if(nt(F))return"string";if(ei(F))return null}},h=function(O,F){O.deserializeValue||(Fe.isDateType(F)&&(O.deserializeValue=function(z){return Fi.deserializeDate(z)},O.serializeValue=function(z){return nt(z)?z:Fi.serializeDate(z,this.serializationFormat)}),F==="number"&&(O.deserializeValue=function(z){var X=parseFloat(z);return isNaN(X)?z:X},O.serializeValue=function(z,X){return X==="filter"?z:oe(z)&&this.serializationFormat==="string"?z.toString():z}))},f=function(O){return O.value===!0?this.trueText||"true":O.value===!1?this.falseText||"false":O.valueText||""},p=function(O){if(O==="boolean")return f},g=function(O){ve(O._columns,function(F,z){z.index=F}),ve(O._columns,function(F,z){at(z.ownerBand)&&(z.ownerBand=z.ownerBand.index)}),ve(O._commandColumns,function(F,z){z.index=-(F+1)})},m=function(O,F){nu(O._columns,"groupIndex",F,function(z){var X=z.grouped;return delete z.grouped,X})},v=function(O,F,z){var X=at(F)?F.rowIndex:null,L=z==="group"?O.getGroupColumns():z==="columnChooser"?O.getChooserColumns():O.getVisibleColumns(X),K;return F=at(F)?F.columnIndex:F,K=L[F],K&&K.type===xa&&(K=O._columns.filter(D=>K.type===D.type)[0]||K),K&&oe(K.index)?K.index:-1};function b(O,F){return O&&F&&F.name===(O.name||O.dataField)&&(F.dataField===O.dataField||O.name)}var E=function(O){var F=O._columnsUserState,z=O._ignoreColumnOptionNames||[],X=O._columns,L={},K=[],D=!0,B=[],U,Q,q;function Z(Y,ee){if(ee)for(var re=0;re<ah.length;re++){var ne=ah[re];z.includes(ne)||(ne==="dataType"?Y[ne]=Y[ne]||ee[ne]:y2.includes(ne)?ne in ee&&(Y[ne]=ee[ne]):(ne==="selectedFilterOperation"&&ee[ne]&&(Y.defaultSelectedFilterOperation=Y[ne]||null),Y[ne]=ee[ne]))}}function $(Y,ee){for(var re=ee.name||ee.dataField,ne=L[re]||0,ue=0;ue<Y.length;ue++)if(b(ee,Y[ue]))if(ne)ne--;else return L[re]=L[re]||0,L[re]++,ue;return-1}if(F){for(q=0;q<X.length;q++)Q=$(F,X[q]),D=D&&Q>=0,B.push(Q);for(q=0;q<X.length;q++)U=X[q],Q=B[q],(O._hasUserState||D)&&Z(U,F[Q]),Q>=0&&oe(F[Q].initialIndex)?K[Q]=U:K.push(U);var ie=!1;for(q=0;q<F.length;q++){var te=F[q];te.added&&$(X,te)<0&&(U=n(O,te.added),Z(U,te),K.push(U),te.added.columns&&(ie=!0))}ie&&(g(O),K=a(O,K)),N(O,K)}},I=function(O,F){g(O),m(O,F),function(z,X){ve(z._columns,function(L,K){oe(K.sortIndex)&&!P(K.sortOrder)&&delete K.sortIndex}),nu(z._columns,"sortIndex",X,function(L){return!oe(L.groupIndex)&&P(L.sortOrder)})}(O,F),k(O),function(z,X){for(var L,K=[],D=z.getBandColumnsCache(),B=[],U=z._columns.filter(Z=>!Z.command),Q=0;Q<U.length;Q++){L=U[Q];var q=s(Q,D.columnParentByIndex);q.length?B.push(L):K.push(L)}nu(B,"visibleIndex",X),nu(K,"visibleIndex",X)}(O,F)},R=function(O){O.resetColumnsCache()};function N(O,F){O._columns=F,R(O),O.updateColumnDataTypes()}var j=function(O,F,z,X){var L=O._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:X};z=z||"all",z=z.split(".")[0];var K=L.changeTypes;F&&!K[F]&&(K[F]=!0,K.length++);var D=L.optionNames;z&&!D[z]&&(D[z]=!0,D.length++),(X===void 0||X!==L.columnIndex)&&delete L.columnIndex,O._columnChanges=L,R(O)},V=function(O){var F=O.option("onColumnsChanging"),z=O._columnChanges,X=["dataField","lookup","dataType","columns"];O.isInitialized()&&!O._updateLockCount&&z&&(F&&(O._updateLockCount++,F(ce({component:O.component},z)),O._updateLockCount--),O._columnChanges=void 0,L=z.optionNames,L&&X.some(K=>L[K])?O.reinit():O.columnsChanged.fire(z));var L},H=function(O,F,z,X){var L=X>=0;if(z>=0)L||(F.lastSortOrder=F.sortOrder);else{var K=O.option("sorting.mode"),D=F.lastSortOrder;if(K==="single"){var B=O._columns.some(U=>U!==F&&oe(U.sortIndex));B&&(D=void 0)}F.sortOrder=D}},W=function(O,F){var z=F.value,X=F.optionName,L=F.prevValue,K=F.fullOptionName,D="".concat(K,".").concat(X);!t7[X]&&O._skipProcessingColumnsChange!==D&&(O._skipProcessingColumnsChange=D,O.component._notifyOptionChanged(D,z,L),O._skipProcessingColumnsChange=!1)},G=function(O,F,z,X,L){var K=Yt(z),D=F.index,B,U,Q;if(arguments.length===3)return K(F,{functionsAsIs:!0});var q=K(F,{functionsAsIs:!0});if(!li(q,X)){z==="groupIndex"||z==="calculateGroupValue"?(U="grouping",H(O,F,X,q)):z==="sortIndex"||z==="sortOrder"||z==="calculateSortValue"?U="sorting":U="columns";var Z=F_(z);Z(F,X,{functionsAsIs:!0});var $=l(O,F);i[z]&&(I(O,F),X=K(F)),(z==="name"||z==="allowEditing")&&O._checkColumns(),!oe(q)&&!oe(X)&&z.indexOf("buffer")!==0&&(L=!0),L?R(O):(!ah.includes(z)&&z!=="visibleWidth"&&(B=O.option("columns"),Q=O.getColumnByPath($,B),nt(Q)&&(Q=B[D]={dataField:Q}),Q&&b(Q,F)&&Z(Q,X,{functionsAsIs:!0})),j(O,U,z,D)),$&&W(O,{fullOptionName:$,optionName:z,value:X,prevValue:q})}};function P(O){return O==="asc"||O==="desc"}var A=function(O,F){var z=this.dataField.split("."),X=z.length-1;this.serializeValue&&(F=this.serializeValue(F));for(var L=0;L<X;L++){var K=z[L];O=O[K]=O[K]||{}}O[z[X]]=F},T=(O,F)=>!!O._columns.filter(z=>z.type===F.type).length,x=function(O,F){var z=O.option("rtlEnabled");return F.command&&!T(O,F)||!F.fixedPosition?z?"right":"left":F.fixedPosition},C=function(O,F,z,X){var L,K=this.getRowCount(),D=O[X]&&O[X].rowspan,B=F.filter(U=>U.type===z);return O.forEach((U,Q)=>{U.type===z&&(L=Q,D=O[Q+1]?O[Q+1].rowspan:K)}),D>1&&(B=Ti(B,function(U){return ce({},U,{rowspan:D})})),B.unshift.apply(B,oe(L)?[L,1]:[X,0]),O.splice.apply(O,B),D||1},y=function(O,F){for(var z=O?O.toString():"0";z.length<F;)z="0"+z;return z},S=(O,F,z,X)=>{for(var L,K,D=F.slice().map(ie=>ce({},ie)),B=O._isColumnFixing(),U=z.slice().map(ie=>ce({fixed:B},ie)),Q=ie=>z.reduce((te,Y,ee)=>{var re=X&&ie.type===xa?"expand":ie.type;return Y.type===re||Y.command===ie.command?ee:te},-1),q=ie=>ie.command!==z[K].command,Z=0;Z<F.length;Z++)if(L=F[Z],K=L&&(L.type||L.command)?Q(L):-1,K>=0)if(X)D[Z]=ce({fixed:B},z[K],L),L.type!==xa&&(U=U.filter(q));else{var $={visibleIndex:L.visibleIndex,index:L.index,headerId:L.headerId,allowFixing:L.groupIndex===0,allowReordering:L.groupIndex===0,groupIndex:L.groupIndex};D[Z]=ce({},L,z[K],L.type===xa&&$)}return F.length&&X&&U.length&&(D=D.concat(U)),D},w=(O,F)=>oe(F.fixed)||!F.type?F.fixed:O._isColumnFixing(),k=O=>{O._bandColumnsCache=void 0},M=(O,F)=>{var z=nt(F)&&F.substr(0,F.indexOf(":")),X;if(F!==void 0)return z&&(F=F.substr(z.length+1)),z?X=O.filter(L=>""+L[z]===F)[0]:["index","name","dataField","caption"].some(L=>(X=O.filter(K=>K[L]===F)[0],!!X)),X};return{_getExpandColumnOptions:function(){return{type:"expand",command:"expand",width:"auto",cssClass:i7,allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1}},_getFirstItems:function(O){var F,z=[];return O&&O.items().length>0&&(F=Fe.normalizeSortingInfo(O.group()).length,z=function X(L,K){if(!L||!K)return L;for(var D=0;D<L.length;D++){var B=X(L[D].items||L[D].collapsedItems,K-1);if(B&&B.length)return B}}(O.items(),F)||[]),z},_endUpdateCore:function(){!this._skipProcessingColumnsChange&&V(this)},init:function(O){var F=this.option("columns");this._commandColumns=this._commandColumns||[],this._columns=this._columns||[],this._isColumnsFromOptions=!!F,this._isColumnsFromOptions?(N(this,F?a(this,F):[]),E(this)):N(this,this._columnsUserState?a(this,this._columnsUserState):this._columns),function(z){var X=z._getExpandColumnOptions();z.addCommandColumn(X)}(this),this._dataSourceApplied?this.applyDataSource(this._dataSource,!0,O):I(this),this._checkColumns()},callbackNames:function(){return["columnsChanged"]},getColumnByPath:function(O,F){var z,X=[];return O.replace(cm,function(L,K){return X.push(parseInt(K)),""}),X.length&&(F?z=X.reduce(function(L,K){return L&&L.columns&&L.columns[K]},{columns:F}):z=function(L,K){var D,B,U=L.getBandColumnsCache(),Q=function(Z){var $=D?D.index:void 0;return Z.ownerBand===$};if(U.isPlain)D=L._columns[K[0]];else{B=L._columns.filter(Q);for(var q=0;q<K.length;q++)D=B[K[q]],D&&(B=L._columns.filter(Q))}return D}(this,X)),z},optionChanged:function(O){var F;switch(O.name){case"adaptColumnWidthByRatio":O.handled=!0;break;case"dataSource":O.value!==O.previousValue&&!this.option("columns")&&(!Array.isArray(O.value)||!Array.isArray(O.previousValue))&&(this._columns=[]);break;case"columns":F=this._skipProcessingColumnsChange,O.handled=!0,this._skipProcessingColumnsChange||(O.name===O.fullName?(this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init()):(this._columnOptionChanged(O),F=!0)),F&&this._updateRequireResize(O);break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"columnHidingEnabled":case"dateSerializationFormat":case"columnResizingMode":case"columnMinWidth":case"columnWidth":O.handled=!0;var z=O.fullName==="columnWidth"&&["width"];this.reinit(z);break;case"rtlEnabled":this.reinit();break;default:this.callBase(O)}},_columnOptionChanged:function(O){var F={},z=this.getColumnByPath(O.fullName),X=O.fullName.replace(cm,"");z&&(X?F[X]=O.value:F=O.value,this._skipProcessingColumnsChange=O.fullName,this.columnOption(z.index,F),this._skipProcessingColumnsChange=!1)},_updateRequireResize:function(O){var F=this.component;O.fullName.replace(cm,"")==="width"&&F._updateLockCount&&(F._requireResize=!0)},publicMethods:function(){return["addColumn","deleteColumn","columnOption","columnCount","clearSorting","clearGrouping","getVisibleColumns","getVisibleColumnIndex"]},applyDataSource:function(O,F,z){var X=O&&O.isLoaded();if(this._dataSource=O,!this._dataSourceApplied||this._dataSourceColumnsCount===0||F||this.option("regenerateColumnsByVisibleItems"))if(X){if(!this._isColumnsFromOptions){var L=function(K,D){for(var B=K._getFirstItems(D),U,Q={},q=[],Z=0;Z<B.length;Z++)if(B[Z])for(U in B[Z])(!We(B[Z][U])||cr.isWrapped(B[Z][U]))&&(Q[U]=!0);for(U in Q)if(U.indexOf("__")!==0){var $=n(K,U);q.push($)}return q}(this,O);L.length&&(N(this,L),this._dataSourceColumnsCount=this._columns.length,E(this))}return this.updateColumns(O,F,z)}else this._dataSourceApplied=!1,I(this);else if(X&&!this.isAllDataTypesDefined(!0)&&this.updateColumnDataTypes(O))return j(this,"columns"),V(this),new we().reject().promise()},reset:function(){this._dataSource=null,this._dataSourceApplied=!1,this._dataSourceColumnsCount=void 0,this.reinit()},resetColumnsCache:function(){this._visibleColumns=void 0,this._fixedColumns=void 0,this._rowCount=void 0,k(this)},reinit:function(O){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=O||null,this.init(),O&&(this._ignoreColumnOptionNames=null)},isInitialized:function(){return!!this._columns.length||!!this.option("columns")},isDataSourceApplied:function(){return this._dataSourceApplied},getCommonSettings:function(O){var F=(!O||!O.type)&&this.option("commonColumnSettings")||{},z=this.option("grouping")||{},X=this.option("groupPanel")||{};return ce({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing")||void 0,allowReordering:this.option("allowColumnReordering"),minWidth:this.option("columnMinWidth"),width:this.option("columnWidth"),autoExpandGroup:z.autoExpandAll,allowCollapsing:z.allowCollapsing,allowGrouping:X.allowColumnDragging&&X.visible||z.contextMenuEnabled},F)},isColumnOptionUsed:function(O){for(var F=0;F<this._columns.length;F++)if(this._columns[F][O])return!0},isAllDataTypesDefined:function(O){var F=this._columns;if(!F.length)return!1;for(var z=0;z<F.length;z++)if(!(!F[z].dataField&&F[z].calculateCellValue===F[z].defaultCalculateCellValue)&&(!F[z].dataType||O&&F[z].deserializeValue&&F[z].serializationFormat===void 0))return!1;return!0},getColumns:function(){return this._columns},isBandColumnsUsed:function(){return this.getColumns().some(function(O){return O.isBand})},getGroupColumns:function(){var O=[];return ve(this._columns,function(){oe(this.groupIndex)&&(O[this.groupIndex]=this)}),O},_shouldReturnVisibleColumns:function(){return!0},_compileVisibleColumns:function(O){return this._visibleColumns=this._visibleColumns||this._compileVisibleColumnsCore(),O=oe(O)?O:this._visibleColumns.length-1,this._visibleColumns[O]||[]},getVisibleColumns:function(O){return this._shouldReturnVisibleColumns()?this._compileVisibleColumns.apply(this,arguments):[]},getFixedColumns:function(O){return this._fixedColumns=this._fixedColumns||this._getFixedColumnsCore(),O=oe(O)?O:this._fixedColumns.length-1,this._fixedColumns[O]||[]},getFilteringColumns:function(){return this.getColumns().filter(O=>(O.dataField||O.name)&&(O.allowFiltering||O.allowHeaderFiltering)).map(O=>{var F=ce(!0,{},O);return oe(F.dataField)||(F.dataField=F.name),F.filterOperations=O.filterOperations!==O.defaultFilterOperations?F.filterOperations:null,F})},getColumnIndexOffset:function(){return 0},_getFixedColumnsCore:function(){var O=[],F=this.getRowCount(),z=this._isColumnFixing(),X={command:"transparent"},L=0,K,D,B;if(z)for(var U=0;U<=F;U++){K=0,B=null,D=null;for(var Q=this.getVisibleColumns(U,!0),q=0;q<Q.length;q++){var Z=Q[q-1],$=Q[q];$.fixed?Z&&Z.fixed&&x(this,Z)!==x(this,$)?oe(D)||(D=q):B=$.fixedPosition:(U===0&&($.isBand&&$.colspan?L+=$.colspan:L++),K++,oe(D)||(D=q))}if(U===0&&(K===0||K>=Q.length))return[];oe(D)||(D=B==="right"?0:Q.length),O[U]=Q.slice(0),X.colspan||(X.colspan=L),O[U].splice(D,K,X)}return O.map(ie=>ie.map(te=>{var Y=Ne({},te);return Y.headerId&&(Y.headerId+="-fixed"),Y}))},_isColumnFixing:function(){var O=this.option("columnFixing.enabled");return!O&&ve(this._columns,function(F,z){if(z.fixed)return O=!0,!1}),O},_getExpandColumnsCore:function(){return this.getGroupColumns()},getExpandColumns:function(){var O=this._getExpandColumnsCore(),F,z=O.filter(D=>D.groupIndex===0)[0],X=z&&z.fixed,L=this._isColumnFixing(),K=this.option("rtlEnabled");return O.length&&(F=this.columnOption("command:expand")),O=Ti(O,D=>ce({},D,{visibleWidth:null,minWidth:null,cellTemplate:oe(D.groupIndex)?null:D.cellTemplate,headerCellTemplate:null,fixed:!oe(D.groupIndex)||!X?L:!0,fixedPosition:K?"right":"left"},F,{index:D.index,type:D.type||xa})),O},getBandColumnsCache:function(){if(!this._bandColumnsCache){var O=this._columns,F={},z={},X=!0;O.forEach(function(L){var K=L.ownerBand,D=at(K)?K.index:K,B=O[D];L.hasColumns&&(X=!1),L.colspan&&(L.colspan=void 0),L.rowspan&&(L.rowspan=void 0),B?z[L.index]=B:D=-1,F[D]=F[D]||[],F[D].push(L)}),this._bandColumnsCache={isPlain:X,columnChildrenByIndex:F,columnParentByIndex:z}}return this._bandColumnsCache},_isColumnVisible:function(O){return O.visible&&this.isParentColumnVisible(O.index)},_compileVisibleColumnsCore:function(){var O=this,F,z=[],X=0,L=0,K=O.getRowCount(),D=[],B=[],U=0,Q,q=O.option("rtlEnabled"),Z=O.getBandColumnsCache(),$=S(O,O.getExpandColumns(),O._columns),ie=S(O,O._columns,O._commandColumns,!0),te=function(Y){var ee;for(ee=0;Y>1;ee++)Y/=10;return ee}(ie.length);for(function(Y,ee,re){for(var ne,ue=0;ue<ee.length;ue++){var le=ee[ue];(le.visible||le.command)&&(le.isBand&&(le.colspan=le.colspan||u(Y,le.index)),(!le.isBand||!le.colspan)&&(ne=Y.getRowCount(),!le.command&&(!oe(le.groupIndex)||le.showWhenGrouped)&&(ne-=s(le.index,re.columnParentByIndex).length),ne>1&&(le.rowspan=ne)))}}(O,ie,Z),F=0;F<K;F++)z[F]=[],B[F]=[{}],D[F]=[{},{},{}];return ve(ie,function(){var Y=this.visibleIndex,ee,re=s(this.index,Z.columnParentByIndex),ne=O._isColumnVisible(this);if(ne&&(!oe(this.groupIndex)||this.showWhenGrouped)){var ue=re.length;if(Y<0?(Y=-Y,ee=B[ue]):(this.fixed=re.length?re[0].fixed:this.fixed,this.fixedPosition=re.length?re[0].fixedPosition:this.fixedPosition,this.fixed?(Q=this.fixedPosition==="right",q&&(!this.command||T(O,this))&&(Q=!Q),Q?ee=D[ue][2]:ee=D[ue][0]):ee=D[ue][1]),re.length)for(Y=y(Y,te),F=re.length-1;F>=0;F--)Y=y(re[F].visibleIndex,te)+Y;ee[Y]=ee[Y]||[],ee[Y].push(this),U++}}),ve(z,function(Y){ov(B[Y],function(re,ne){z[Y].unshift.apply(z[Y],ne)});var ee=z[Y].length;ve(D[Y],function(re,ne){ov(ne,function(ue,le){z[Y].push.apply(z[Y],le)})}),L<Y+1&&(L+=C.call(O,z[Y],$,"detailExpand",ee)),X<Y+1&&(X+=C.call(O,z[Y],$,xa,ee))}),z.push(function Y(ee,re,ne){var ue=[];return re=re||0,ee[re]&&ve(ee[re],function(le,pe){(pe.ownerBand===ne||pe.type===xa)&&(!pe.isBand||!pe.colspan?(!pe.command||re<1)&&ue.push(pe):ue.push.apply(ue,Y(ee,re+1,pe.index)))}),ue}(z)),!U&&O._columns.length&&z[K].push({command:"empty"}),z},getInvisibleColumns:function(O,F){var z=this,X=[],L;return O=O||z._columns,ve(O,function(K,D){if(D.ownerBand===F){if(D.isBand){D.visible?L=z.getInvisibleColumns(z.getChildrenByBandColumn(D.index),D.index):L=z.getChildrenByBandColumn(D.index),L.length&&(X.push(D),X=X.concat(L));return}D.visible||X.push(D)}}),X},getChooserColumns:function(O){var F=O?this.getColumns():this.getInvisibleColumns(),z=F.filter(L=>L.showInColumnChooser),X=this.option("columnChooser.sortOrder");return((L,K)=>{if(K!=="asc"&&K!=="desc")return L;var D=K==="asc"?1:-1;return L.sort(function(B,U){var Q=B.caption||"",q=U.caption||"";return D*Q.localeCompare(q)}),L})(z,X)},allowMoveColumn:function(O,F,z,X){var L=v(this,O,z),K=this._columns[L];return K&&(K.allowReordering||K.allowGrouping||K.allowHiding)?z===X?z==="columnChooser"?!1:(O=at(O)?O.columnIndex:O,F=at(F)?F.columnIndex:F,O!==F&&O+1!==F):z==="group"&&X!=="columnChooser"||X==="group"?K&&K.allowGrouping:z==="columnChooser"||X==="columnChooser"?K&&K.allowHiding:!0:!1},moveColumn:function(O,F,z,X){var L={},K,D=v(this,O,z),B=v(this,F,X),U;if(D>=0){var Q=this._columns[D];if(F=at(F)?F.columnIndex:F,U=B>=0?this._columns[B].groupIndex:-1,oe(Q.groupIndex)&&z==="group"&&(U>Q.groupIndex&&U--,X!=="group"?L.groupIndex=void 0:(K=Q.groupIndex,delete Q.groupIndex,m(this))),X==="group")L.groupIndex=function($,ie,te){var Y=$.getGroupColumns(),ee;if(te>=0)for(ee=0;ee<Y.length;ee++)Y[ee].groupIndex>=te&&Y[ee].groupIndex++;else for(te=0,ee=0;ee<Y.length;ee++)te=Math.max(te,Y[ee].groupIndex+1);return te}(this,0,U),Q.groupIndex=K;else if(F>=0){var q=this._columns[B];!q||Q.ownerBand!==q.ownerBand||w(this,Q)^w(this,q)?L.visibleIndex=lx:L.visibleIndex=q.visibleIndex}var Z=X!=="columnChooser";Q.visible!==Z&&(L.visible=Z),this.columnOption(Q.index,L)}},changeSortOrder:function(O,F){var z={},X=this.option("sorting"),L=X&&X.mode,K=L==="single"||!F,D=L==="single"||L==="multiple",B=this._columns[O];D&&B&&B.allowSorting&&(K&&!oe(B.groupIndex)&&ve(this._columns,function(U){U!==O&&this.sortOrder&&(oe(this.groupIndex)||delete this.sortOrder,delete this.sortIndex)}),P(F)?B.sortOrder!==F&&(z.sortOrder=F):F==="none"?B.sortOrder&&(z.sortIndex=void 0,z.sortOrder=void 0):function(U){if(F==="ctrl"){if(!("sortOrder"in U&&"sortIndex"in U))return!1;z.sortOrder=void 0,z.sortIndex=void 0}else oe(U.groupIndex)||oe(U.sortIndex)?z.sortOrder=U.sortOrder==="desc"?"asc":"desc":z.sortOrder="asc";return!0}(B)),this.columnOption(B.index,z)},getSortDataSourceParameters:function(O){var F=[],z=[];return ve(this._columns,function(){(this.dataField||this.selector||this.calculateCellValue)&&oe(this.sortIndex)&&!oe(this.groupIndex)&&(F[this.sortIndex]=this)}),ve(F,function(){var X=this&&this.sortOrder;if(P(X)){var L={selector:this.calculateSortValue||this.displayField||this.calculateDisplayValue||O&&this.selector||this.dataField||this.calculateCellValue,desc:this.sortOrder==="desc"};this.sortingMethod&&(L.compare=this.sortingMethod.bind(this)),z.push(L)}}),z.length>0?z:null},getGroupDataSourceParameters:function(O){var F=[];return ve(this.getGroupColumns(),function(){var z=this.calculateGroupValue||this.displayField||this.calculateDisplayValue||O&&this.selector||this.dataField||this.calculateCellValue;if(z){var X={selector:z,desc:this.sortOrder==="desc",isExpanded:!!this.autoExpandGroup};this.sortingMethod&&(X.compare=this.sortingMethod.bind(this)),F.push(X)}}),F.length>0?F:null},refresh:function(O){var F=[];return ve(this._columns,function(){var z=this.lookup;if(z&&!this.calculateDisplayValue){if(O&&z.valueMap)return;z.update&&F.push(z.update())}}),Ke.apply(J,F).done(R.bind(null,this))},_updateColumnOptions:function(O,F){O.selector=O.selector||function(L){return O.calculateCellValue(L)},ve(["calculateSortValue","calculateGroupValue","calculateDisplayValue"],function(L,K){var D=O[K];if(We(D))if(D.originalCallback)O[K].context.column=O;else{var B={column:O};O[K]=function(U){return D.call(B.column,U)},O[K].originalCallback=D,O[K].columnIndex=F,O[K].context=B}}),nt(O.calculateDisplayValue)&&(O.displayField=O.calculateDisplayValue,O.calculateDisplayValue=Yt(O.displayField)),O.calculateDisplayValue&&(O.displayValueMap=O.displayValueMap||{}),h(O,O.dataType);var z=O.lookup;z&&h(z,z.dataType);var X=z?z.dataType:O.dataType;X&&(O.alignment=O.alignment||function(L,K){switch(L){case"number":return"right";case"boolean":return"center";default:return os(K)}}(X,this.option("rtlEnabled")),O.format=O.format||Fe.getFormatByDataType(X),O.customizeText=O.customizeText||p(X),O.defaultFilterOperations=O.defaultFilterOperations||!z&&t[X]||[],oe(O.filterOperations)||r(O),O.defaultFilterOperation=O.filterOperations&&O.filterOperations[0]||"=",O.showEditorAlways=oe(O.showEditorAlways)?O.showEditorAlways:X==="boolean"&&!O.cellTemplate&&!O.lookup)},updateColumnDataTypes:function(O){var F=this,z=F.option("dateSerializationFormat"),X=F._getFirstItems(O),L=!1;return ve(F._columns,function(K,D){var B,U,Q,q,Z,$=D.lookup;if(Fe.isDateType(D.dataType)&&D.serializationFormat===void 0&&(D.serializationFormat=z),$&&Fe.isDateType($.dataType)&&D.serializationFormat===void 0&&($.serializationFormat=z),D.calculateCellValue&&X.length){if(!D.dataType||$&&!$.dataType){for(B=0;B<X.length;B++)U=D.calculateCellValue(X[B]),D.dataType||(Z=d(U),Q=Q||Z,Q&&Z&&Q!==Z&&(Q="string")),$&&!$.dataType&&(Z=d(Fe.getDisplayValue(D,U,X[B])),q=q||Z,q&&Z&&q!==Z&&(q="string"));(Q||q)&&(Q&&(D.dataType=Q),$&&q&&($.dataType=q),L=!0)}if(D.serializationFormat===void 0||$&&$.serializationFormat===void 0)for(B=0;B<X.length;B++)U=D.calculateCellValue(X[B],!0),D.serializationFormat===void 0&&(D.serializationFormat=c(D.dataType,U)),$&&$.serializationFormat===void 0&&($.serializationFormat=c($.dataType,$.calculateCellValue(U,!0)))}F._updateColumnOptions(D,K)}),L},_customizeColumns:function(O){var F=this.option("customizeColumns");if(F){var z=O.some(function(X){return at(X.ownerBand)});z&&I(this),F(O),N(this,a(this,O))}},updateColumns:function(O,F,z){if(F||this.updateSortingGrouping(O),!O||O.isLoaded()){var X=O?O.sort()||[]:this.getSortDataSourceParameters(),L=O?O.group()||[]:this.getGroupDataSourceParameters(),K=O==null?void 0:O.lastLoadOptions().filter;z||this._customizeColumns(this._columns),I(this);var D=this._columns;return Ke(this.refresh(!0)).always(()=>{this._columns===D&&(this._updateChanges(O,{sorting:X,grouping:L,filtering:K}),V(this))})}},_updateChanges:function(O,F){O&&(this.updateColumnDataTypes(O),this._dataSourceApplied=!0),Fe.equalSortParameters(F.sorting,this.getSortDataSourceParameters())||j(this,"sorting"),Fe.equalSortParameters(F.grouping,this.getGroupDataSourceParameters())||j(this,"grouping");var z=this.getController("data");z&&!Fe.equalFilterParameters(F.filtering,z.getCombinedFilter())&&j(this,"filtering"),j(this,"columns")},updateSortingGrouping:function(O,F){var z=this,X,L,K=function(Z,$,ie){ve(Z,function(te,Y){if(delete Y[ie],$)for(var ee=0;ee<$.length;ee++){var re=$[ee].selector,ne=$[ee].isExpanded;if(re===Y.dataField||re===Y.name||re===Y.selector||re===Y.calculateCellValue||re===Y.calculateGroupValue||re===Y.calculateDisplayValue){F?Y.sortOrder="sortOrder"in Y?Y.sortOrder:$[ee].desc?"desc":"asc":Y.sortOrder=Y.sortOrder||($[ee].desc?"desc":"asc"),ne!==void 0&&(Y.autoExpandGroup=ne),Y[ie]=ee;break}}})};if(O){X=Fe.normalizeSortingInfo(O.sort());var D=Fe.normalizeSortingInfo(O.group()),B=z.getGroupDataSourceParameters(),U=z.getSortDataSourceParameters(),Q=!Fe.equalSortParameters(D,B,!0),q=!Q&&!Fe.equalSortParameters(D,B);z._columns.length||(ve(D,function(Z,$){z._columns.push($.selector)}),ve(X,function(Z,$){We($.selector)||z._columns.push($.selector)}),N(z,a(z,z._columns))),(F||!B&&!z._hasUserState)&&(Q||q)&&(K(z._columns,D,"groupIndex"),F&&(Q&&j(z,"grouping"),q&&j(z,"groupExpanding"),L=!0)),(F||!U&&!z._hasUserState)&&!Fe.equalSortParameters(X,U)&&(K(z._columns,X,"sortIndex"),F&&(j(z,"sorting"),L=!0)),L&&V(z)}},updateFilter:function(O,F,z,X){if(!Array.isArray(O))return O;if(O=ce([],O),z=O.columnIndex!==void 0?O.columnIndex:z,X=O.filterValue!==void 0?O.filterValue:X,nt(O[0])&&O[0]!=="!"){var L=this.columnOption(O[0]);F?ii().forceIsoDateParsing&&L&&L.serializeValue&&O.length>1&&(O[O.length-1]=L.serializeValue(O[O.length-1],"filter")):L&&L.selector&&(O[0]=L.selector,O[0].columnIndex=L.index)}else We(O[0])&&(O[0].columnIndex=z,O[0].filterValue=X);for(var K=0;K<O.length;K++)O[K]=this.updateFilter(O[K],F,z,X);return O},columnCount:function(){return this._columns?this._columns.length:0},columnOption:function(O,F,z,X){var L=this,K=L._columns.concat(L._commandColumns),D=M(K,O);if(D){if(arguments.length===1)return ce({},D);if(nt(F)){if(arguments.length===2)return G(L,D,F);G(L,D,F,z,X)}else at(F)&&ve(F,function(B,U){G(L,D,B,U,X)});V(L)}},clearSorting:function(){var O=this.columnCount();this.beginUpdate();for(var F=0;F<O;F++)this.columnOption(F,"sortOrder",void 0);this.endUpdate()},clearGrouping:function(){var O=this.columnCount();this.beginUpdate();for(var F=0;F<O;F++)this.columnOption(F,"groupIndex",void 0);this.endUpdate()},getVisibleIndex:function(O,F){for(var z=this.getVisibleColumns(F),X=z.length-1;X>=0;X--)if(z[X].index===O)return X;return-1},getVisibleIndexByColumn:function(O,F){var z=this.getVisibleColumns(F),X=z.filter(L=>L.index===O.index&&L.command===O.command)[0];return z.indexOf(X)},getVisibleColumnIndex:function(O,F){var z=this.columnOption(O,"index");return this.getVisibleIndex(z,F)},addColumn:function(O){var F=n(this,O),z=this._columns.length;this._columns.push(F),F.isBand&&(this._columns=a(this,this._columns),F=this._columns[z]),F.added=O,I(this,F),this.updateColumns(this._dataSource),this._checkColumns()},deleteColumn:function(O){var F=this.columnOption(O);if(F&&F.index>=0){if(X=this._columns,X.forEach(L=>{oe(L.ownerBand)&&(L.ownerBand=X[L.ownerBand])}),this._columns.splice(F.index,1),F.isBand){var z=this.getChildrenByBandColumn(F.index).map(L=>L.index);this._columns=this._columns.filter(L=>z.indexOf(L.index)<0)}I(this),this.updateColumns(this._dataSource)}var X},addCommandColumn:function(O){var F=this._commandColumns.filter(z=>z.command===O.command)[0];F||(F=O,this._commandColumns.push(F))},getUserState:function(){var O=this._columns,F=[],z;function X(L,K){O[z][K]!==void 0&&(F[z][K]=O[z][K])}for(z=0;z<O.length;z++)F[z]={},ve(ah,X);return F},setName:function(O){O.name=O.name||O.dataField||O.type},setUserState:function(O){var F=this._dataSource,z=this.option("stateStoring.ignoreColumnOptionNames");if(O==null||O.forEach(this.setName),!z){z=[];var X=this.getCommonSettings();this.option("columnChooser.enabled")||z.push("visible"),this.option("sorting.mode")==="none"&&z.push("sortIndex","sortOrder"),X.allowGrouping||z.push("groupIndex"),X.allowFixing||z.push("fixed","fixedPosition"),X.allowResizing||z.push("width","visibleWidth");var L=!this.option("filterPanel.visible");!this.option("filterRow.visible")&&L&&z.push("filterValue","selectedFilterOperation"),!this.option("headerFilter.visible")&&L&&z.push("filterValues","filterType")}this._columnsUserState=O,this._ignoreColumnOptionNames=z,this._hasUserState=!!O,j(this,"filtering"),this.init(!0),F&&(F.sort(this.getSortDataSourceParameters()),F.group(this.getGroupDataSourceParameters()))},_checkColumns:function(){var O={},F=!1,z=[];this._columns.forEach(X=>{var L,K=X.name,D=(L=X.columns)===null||L===void 0?void 0:L.length,B=X.allowEditing&&(X.dataField||X.setCellValue)&&!D;K?(O[K]&&z.push('"'.concat(K,'"')),O[K]=!0):B&&(F=!0)}),z.length&&xt.log("E1059",z.join(", ")),F&&xt.log("E1060")},_createCalculatedColumnOptions:function(O,F){var z={},X=O.dataField;if((Array.isArray(O.columns)&&O.columns.length||O.isBand)&&(z.isBand=!0,X=null),X){if(nt(X)){var L=Yt(X);z={caption:zs(X),calculateCellValue:function(K,D){var B=L(K);return this.deserializeValue&&!D?this.deserializeValue(B):B},setCellValue:A,parseValue:function(K){var D,B;return this.dataType==="number"?nt(K)&&this.format?D=function(U,Q){var q=Xt.parse(U);if(ei(q)){var Z=Xt.format(q,Q),$=Xt.format(q,"decimal");if(Z===U||$===U)return q}}(K.trim(),this.format):oe(K)&&ei(K)&&(D=Number(K)):this.dataType==="boolean"?K===this.trueText?D=!0:K===this.falseText&&(D=!1):Fe.isDateType(this.dataType)?(B=gt.parse(K,this.format),B&&(D=B)):D=K,D}}}z.allowFiltering=!0}else z.allowFiltering=!!O.calculateFilterExpression;return z.calculateFilterExpression=function(){return pl.defaultCalculateFilterExpression.apply(this,arguments)},z.createFilterExpression=function(K){var D;return this.calculateFilterExpression&&(D=this.calculateFilterExpression.apply(this,arguments)),We(D)&&(D=[D,"=",!0]),D&&(D.columnIndex=this.index,D.filterValue=K),D},(!X||!nt(X))&&ce(!0,z,{allowSorting:!1,allowGrouping:!1,calculateCellValue:function(){return null}}),F&&(z.allowFixing=!1),O.dataType&&(z.userDataType=O.dataType),O.selectedFilterOperation&&!("defaultSelectedFilterOperation"in z)&&(z.defaultSelectedFilterOperation=O.selectedFilterOperation),O.lookup&&(z.lookup={calculateCellValue:function(K,D){return this.valueExpr&&(K=this.valueMap&&this.valueMap[K]),this.deserializeValue&&!D?this.deserializeValue(K):K},updateValueMap:function(){if(this.valueMap={},this.items)for(var K=Yt(this.valueExpr),D=Yt(this.displayExpr),B=0;B<this.items.length;B++){var U=this.items[B],Q=D(U);this.valueMap[K(U)]=Q,this.dataType=this.dataType||d(Q)}},update:function(){var K=this,D=K.dataSource;if(D)if(We(D)&&!cr.isWrapped(D)&&(D=D({})),Ct(D)||D instanceof Dn||Array.isArray(D)){if(K.valueExpr){var B=Tl(D);return B.paginate=!1,D=new Bn(B),D.load().done(function(U){K.items=U,K.updateValueMap&&K.updateValueMap()})}}else xt.log("E1016");else K.updateValueMap&&K.updateValueMap()}}),z.resizedCallbacks=Ht(),O.resized&&z.resizedCallbacks.add(O.resized.bind(O)),ve(z,function(K){if(We(z[K])&&K.indexOf("default")!==0){var D="default"+K.charAt(0).toUpperCase()+K.substr(1);z[D]=z[K]}}),z},getRowCount:function(){return this._rowCount=this._rowCount||function(O){var F=1,z=O.getBandColumnsCache(),X=z.columnParentByIndex;return O._columns.forEach(function(L){var K=s(L.index,X),D=K.filter(function(B){return!B.visible});L.visible&&!D.length&&(F=Math.max(F,K.length+1))}),F}(this),this._rowCount},getRowIndex:function(O,F){var z=this._columns[O],X=this.getBandColumnsCache();return z&&(F||z.visible&&!(z.command||oe(z.groupIndex)))?s(O,X.columnParentByIndex).length:0},getChildrenByBandColumn:function(O,F){var z=this.getBandColumnsCache(),X=o(O,z.columnChildrenByIndex,!F);return F?X.filter(function(L){return L.visible&&!L.command}).sort(function(L,K){return L.visibleIndex-K.visibleIndex}):X},isParentBandColumn:function(O,F){var z=!1,X=this._columns[O],L=this.getBandColumnsCache(),K=X&&s(O,L.columnParentByIndex);return K&&ve(K,function(D,B){if(B.index===F)return z=!0,!1}),z},isParentColumnVisible:function(O){var F=!0,z=this.getBandColumnsCache(),X=O>=0&&s(O,z.columnParentByIndex);return X&&ve(X,function(L,K){return F=F&&K.visible,F}),F},getColumnId:function(O){return O.command&&O.type===xa?T(this,O)?"type:"+O.type:"command:"+O.command:O.index},getCustomizeTextByDataType:p,getHeaderContentAlignment:function(O){var F=this.option("rtlEnabled");return F?O==="left"?"right":"left":O}}}())}};qe.registerModule("columns",{defaultOptions:function(){return ce(!0,{},ux.defaultOptions(),{commonColumnSettings:{allowExporting:!0}})},controllers:ux.controllers});const n7=qe.Controller.inherit(function(){function e(s,o){if(s&&(s=s.slice(0),o))for(var l=0;l<s.length;l++)s[l]=ce({key:s[l].key},s[l]),s[l].items=e(s[l].items,o-1);return s}function t(s,o,l){var u={reload:!0,fullReload:!0};return o&&(u={sorting:!qe.equalSortParameters(s.sort,o.sort),grouping:!qe.equalSortParameters(s.group,o.group,!0),groupExpanding:!qe.equalSortParameters(s.group,o.group)||o.groupExpand,filtering:!qe.equalFilterParameters(s.filter,o.filter),pageIndex:s.pageIndex!==o.pageIndex,skip:s.skip!==o.skip,take:s.take!==o.take,pageSize:s.pageSize!==o.pageSize,fullReload:l},u.reload=l||u.sorting||u.grouping||u.filtering,u.paging=u.pageIndex||u.pageSize||u.take),u}function i(s,o){var l=qe.normalizeSortingInfo(s.group||s.storeLoadOptions.group||s.loadOptions.group).length,u=[];if(r(u,s,l))return u;o&&function(d,c,h){var f=d.length,{storeLoadOptions:p}=c;if(p.skip!==void 0&&p.take&&!h){var g=[];r(g,c,h,!0);var m=g.length;if(f||m){var v,b;c.skip=(v=c.skip)!==null&&v!==void 0?v:p.skip,c.take=(b=c.take)!==null&&b!==void 0?b:p.take}f&&(p.skip+=f,p.take-=f,c.cachedDataPartBegin=d),m&&(p.take-=m,c.cachedDataPartEnd=g.reverse())}}(u,s,l)}function r(s,o,l,u){var d,c,h,{storeLoadOptions:f}=o,p=(d=(c=o.take)!==null&&c!==void 0?c:f.take)!==null&&d!==void 0?d:0,g=(h=o.cachedData)===null||h===void 0?void 0:h.items;if(p&&g){for(var m,v,b=(m=(v=o.skip)!==null&&v!==void 0?v:f.skip)!==null&&m!==void 0?m:0,E=0;E<p;E++){var I=u?p-1-E:E,R=I+b,N=g[R];if(N===void 0&&R in g)return!0;var j=n(o,N,l,I,p);if(j)s.push(j);else return!1}return!0}return!1}function n(s,o,l,u,d){if(l&&o){var c=u===0&&s.skips||[],h=u===d-1&&s.takes||[];return function f(p,g,m,v){if(g&&p){var b=Ne({},p),E=m[0]||0,I=v[0],R=p.items;if(R){if(I===void 0&&!R[E])return;b.items=[],m.length&&(b.isContinuation=!0),v.length&&(b.isContinuationOnNextPage=!0);for(var N=0;I===void 0?R[N+E]:N<I;N++){var j=R[N+E],V=N+1===I,H=f(j,g-1,N===0?m.slice(1):[],V?v.slice(1):[]);if(H!==void 0)b.items.push(H);else return}}return b}return p}(o,l,c,h)}else return o}function a(s,o,l,u){if(l&&o){var d=Ne({},o);delete d.isContinuation,delete d.isContinuationOnNextPage;var c=u[0]||0;return o.items&&(d.items=(s==null?void 0:s.items)||{},o.items.forEach((h,f)=>{var p=f+c,g=f===0?u.slice(1):[];d.items[p]=a(d.items[p],h,l-1,g)})),d}return o}return{init:function(s,o){var l=this;l._dataSource=s,l._remoteOperations=o||{},l._isLastPage=!s.isLastPage(),l._hasLastPage=!1,l._currentTotalCount=0,l._cachedData={items:{}},l._lastOperationTypes={},l._eventsStrategy=s._eventsStrategy,l._totalCountCorrection=0,l._isLoadingAll=!1,l.changed=Ht(),l.loadingChanged=Ht(),l.loadError=Ht(),l.customizeStoreLoadOptions=Ht(),l.changing=Ht(),l.pushed=Ht(),l._dataChangedHandler=l._handleDataChanged.bind(l),l._customizeStoreLoadOptionsHandler=l._handleCustomizeStoreLoadOptions.bind(l),l._dataLoadedHandler=l._handleDataLoaded.bind(l),l._loadingChangedHandler=l._handleLoadingChanged.bind(l),l._loadErrorHandler=l._handleLoadError.bind(l),l._pushHandler=l._handlePush.bind(l),l._changingHandler=l._handleChanging.bind(l),s.on("changed",l._dataChangedHandler),s.on("customizeStoreLoadOptions",l._customizeStoreLoadOptionsHandler),s.on("customizeLoadResult",l._dataLoadedHandler),s.on("loadingChanged",l._loadingChangedHandler),s.on("loadError",l._loadErrorHandler),s.on("changing",l._changingHandler),s.store().on("beforePush",l._pushHandler),ve(s,function(u,d){!l[u]&&We(d)&&(l[u]=function(){return this._dataSource[u].apply(this._dataSource,arguments)})})},remoteOperations:function(){return this._remoteOperations},dispose:function(s){var o=this._dataSource,l=o.store();o.off("changed",this._dataChangedHandler),o.off("customizeStoreLoadOptions",this._customizeStoreLoadOptionsHandler),o.off("customizeLoadResult",this._dataLoadedHandler),o.off("loadingChanged",this._loadingChangedHandler),o.off("loadError",this._loadErrorHandler),o.off("changing",this._changingHandler),l&&l.off("beforePush",this._pushHandler),s||o.dispose()},refresh:function(s,o){var l=this._dataSource;o.reload&&(this.resetCurrentTotalCount(),this._isLastPage=!l.paginate(),this._hasLastPage=this._isLastPage)},resetCurrentTotalCount:function(){this._currentTotalCount=0,this._totalCountCorrection=0},resetCache:function(){this._cachedStoreData=void 0,this._cachedPagingData=void 0},resetPagesCache:function(){this._cachedData={items:{}}},_needClearStoreDataCache:function(){var s=this.remoteOperations(),o=t(this._lastLoadOptions||{},{}),l=Object.keys(s).every(u=>!o[u]||!s[u]);return!l},push:function(s,o){var l=this.store();this._needClearStoreDataCache()&&(this._cachedStoreData=void 0),this._cachedPagingData=void 0,this.resetPagesCache(!0),this._cachedStoreData&&rl({keyInfo:l,data:this._cachedStoreData,changes:s}),o||this._applyBatch(s),this.pushed.fire(s)},getDataIndexGetter:function(){if(!this._dataIndexGetter){var s,o,l=this.store();this._dataIndexGetter=u=>{var d=o&&o!==this._cachedStoreData;if(!s||d){o=this._cachedStoreData||[],s={};for(var c=0;c<o.length;c++)s[Mn(l.keyOf(o[c]))]=c}return s[Mn(l.keyOf(u))]}}return this._dataIndexGetter},_getKeyInfo:function(){return this.store()},_applyBatch:function(s){var o=this._getKeyInfo(),l=this._dataSource,u=qe.normalizeSortingInfo(this.group()).length,d=this.totalCount(),c=this.option("editing.refreshMode")==="reshape",h=this.option("scrolling.mode")==="virtual",f=this.option("scrolling.legacyMode");s=s.filter(function(v){return!l.paginate()||v.type!=="insert"||v.index!==void 0});var p=()=>u?this.itemsCount():this.items().length,g=p();rl({keyInfo:o,data:this._items,changes:s,groupCount:u,useInsertIndex:!0}),rl({keyInfo:o,data:l.items(),changes:s,groupCount:u,useInsertIndex:!0});var m=this._currentTotalCount>0||!c&&h&&(!f||d===g);m&&(this._totalCountCorrection+=p()-g),s.splice(0,s.length)},_handlePush:function(s){var{changes:o}=s;this.push(o,!0)},_handleChanging:function(s){this.changing.fire(s),this._applyBatch(s.changes)},_needCleanCacheByOperation:function(s,o){var l=["filtering","sorting","paging"],u=l.indexOf(s),d=u>=0?l.slice(u):[s];return d.some(c=>o[c])},_customizeRemoteOperations:function(s,o){var l=this._cachedStoreData,u=this._cachedPagingData,d=this._cachedData;(s.storeLoadOptions.filter&&!s.remoteOperations.filtering||s.storeLoadOptions.sort&&!s.remoteOperations.sorting)&&(s.remoteOperations={filtering:s.remoteOperations.filtering,summary:s.remoteOperations.summary}),o.fullReload?(l=void 0,u=void 0,d={items:{}}):(o.reload?(u=void 0,d={items:{}}):o.groupExpanding&&(d={items:{}}),ve(o,(c,h)=>{h&&this._needCleanCacheByOperation(c,s.remoteOperations)&&(l=void 0,u=void 0)})),u&&(s.remoteOperations.paging=!1),s.cachedStoreData=l,s.cachedPagingData=u,s.cachedData=d,s.isCustomLoading||(this._cachedStoreData=l,this._cachedPagingData=u,this._cachedData=d)},_handleCustomizeStoreLoadOptions(s){var o;this._handleDataLoading(s),((o=s.data)===null||o===void 0?void 0:o.length)!==0&&(s.data=i(s,!0)||s.cachedStoreData)},_handleDataLoading:function(s){var o=this._dataSource,l=this._lastLoadOptions;this.customizeStoreLoadOptions.fire(s),s.delay=this.option("loadingTimeout"),s.originalStoreLoadOptions=s.storeLoadOptions,s.remoteOperations=ce({},this.remoteOperations());var u=!this.isLoaded()&&!this._isRefreshing;this.option("integrationOptions.renderedOnServer")&&!this.isLoaded()&&(s.delay=void 0);var d=ce({pageIndex:this.pageIndex(),pageSize:this.pageSize()},s.storeLoadOptions),c=t(d,l,u);if(this._customizeRemoteOperations(s,c),!s.isCustomLoading){var h=this._isRefreshing;s.pageIndex=o.pageIndex(),s.lastLoadOptions=d,s.operationTypes=c,this._loadingOperationTypes=c,this._isRefreshing=!0,Ke(h||this._isRefreshed||this.refresh(s,c)).done(()=>{this._lastOperationId===s.operationId&&(this._isRefreshed=!0,this.load().always(()=>{this._isRefreshed=!1}))}).fail(()=>{o.cancel(s.operationId)}).always(()=>{this._isRefreshing=!1}),o.cancel(this._lastOperationId),this._lastOperationId=s.operationId,this._isRefreshing&&o.cancel(this._lastOperationId)}this._handleDataLoadingCore(s)},_handleDataLoadingCore:function(s){var o=s.remoteOperations;s.loadOptions={};var l=s.cachedData.extra,u={filter:!o.filtering,sort:!o.sorting,group:!o.grouping,summary:!o.summary,skip:!o.paging,take:!o.paging,requireTotalCount:l&&"totalCount"in l||!o.paging};ve(s.storeLoadOptions,function(d,c){u[d]&&(s.loadOptions[d]=c,delete s.storeLoadOptions[d])}),l&&(s.extra=l)},_handleDataLoaded:function(s){var o=s.loadOptions,l=s.remoteOperations&&!s.remoteOperations.paging,u=s.cachedData,d=s.storeLoadOptions,c=this.option("cacheEnabled")!==!1&&d,h=c&&!s.isCustomLoading&&u&&(!l||d.group),f=c&&l,p=f&&!s.isCustomLoading;if(!o){this._dataSource.cancel(s.operationId);return}l&&(s.skip=o.skip,s.take=o.take,delete o.skip,delete o.take),o.group&&(o.group=s.group||o.group);var g=qe.normalizeSortingInfo(s.group||d.group||o.group).length;s.cachedDataPartBegin&&(s.data=s.cachedDataPartBegin.concat(s.data)),s.cachedDataPartEnd&&(s.data=s.data.concat(s.cachedDataPartEnd)),(!h||!i(s))&&(f&&s.cachedPagingData?s.data=e(s.cachedPagingData,g):(p&&(this._cachedStoreData?s.mergeStoreLoadData&&(s.data=this._cachedStoreData=this._cachedStoreData.concat(s.data)):this._cachedStoreData=e(s.data,qe.normalizeSortingInfo(d.group).length)),new El(s.data).load(o).done(m=>{s.data=m,p&&(this._cachedPagingData=e(s.data,g))}).fail(m=>{s.data=new we().reject(m)})),o.requireTotalCount&&l&&(s.extra=Ct(s.extra)?s.extra:{},s.extra.totalCount=s.data.length),s.extra&&s.extra.totalCount>=0&&(d.requireTotalCount===!1||o.requireTotalCount===!1)&&(s.extra.totalCount=-1),this._handleDataLoadedCore(s),h&&(u.extra=u.extra||ce({},s.extra),Ke(s.data).done(m=>{(function(v,b,E){for(var I,R,N,j,{storeLoadOptions:V}=v,H=(I=(R=v.skip)!==null&&R!==void 0?R:V.skip)!==null&&I!==void 0?I:0,W=(N=(j=v.take)!==null&&j!==void 0?j:V.take)!==null&&N!==void 0?N:0,G=0;G<W;G++){var P=G+H,A=v.cachedData.items,T=G===0&&v.skips||[];A[P]=a(A[P],b[G],E,T)}})(s,m,g)}))),Ke(s.data).done(()=>{s.lastLoadOptions&&(this._lastLoadOptions=s.lastLoadOptions,Object.keys(s.operationTypes).forEach(m=>{this._lastOperationTypes[m]=this._lastOperationTypes[m]||s.operationTypes[m]}))}),s.storeLoadOptions=s.originalStoreLoadOptions},_handleDataLoadedCore:function(s){s.remoteOperations&&!s.remoteOperations.paging&&Array.isArray(s.data)&&(s.skip!==void 0&&(s.data=s.data.slice(s.skip)),s.take!==void 0&&(s.data=s.data.slice(0,s.take)))},_handleLoadingChanged:function(s){this.loadingChanged.fire(s)},_handleLoadError:function(s){this.loadError.fire(s),this.changed.fire({changeType:"loadError",error:s})},_loadPageSize:function(){return this.pageSize()},_handleDataChanged:function(s){var o,l=this._dataSource,u=!1,d=!s||oe(s.changeType),c=this.itemsCount();d&&(this._isLastPage=!c||!this._loadPageSize()||c<this._loadPageSize(),this._isLastPage&&(this._hasLastPage=!0)),l.totalCount()>=0?l.pageIndex()>=this.pageCount()&&(l.pageIndex(this.pageCount()-1),this.pageIndex(l.pageIndex()),this.resetPagesCache(),l.load(),u=!0):d&&(o=l.pageIndex()*this.pageSize()+c,o>this._currentTotalCount&&(this._currentTotalCount=o,(l.pageIndex()===0||!this.option("scrolling.legacyMode"))&&(this._totalCountCorrection=0)),c===0&&l.pageIndex()>=this.pageCount()&&(l.pageIndex(this.pageCount()-1),this.option("scrolling.mode")!=="infinite"&&(l.load(),u=!0))),u||(this._operationTypes=this._lastOperationTypes,this._lastOperationTypes={},this.component._optionCache={},this.changed.fire(s),this.component._optionCache=void 0)},_scheduleCustomLoadCallbacks:function(s){var o=this;o._isCustomLoading=!0,s.always(function(){o._isCustomLoading=!1})},loadingOperationTypes:function(){return this._loadingOperationTypes},operationTypes:function(){return this._operationTypes},lastLoadOptions:function(){return this._lastLoadOptions||{}},isLastPage:function(){return this._isLastPage},_dataSourceTotalCount:function(){return this._dataSource.totalCount()},totalCount:function(){return parseInt((this._currentTotalCount||this._dataSourceTotalCount())+this._totalCountCorrection)},totalCountCorrection:function(){return this._totalCountCorrection},itemsCount:function(){return this._dataSource.items().length},totalItemsCount:function(){return this.totalCount()},pageSize:function(){var s=this._dataSource;return!arguments.length&&!s.paginate()?0:s.pageSize.apply(s,arguments)},pageCount:function(){var s=this.totalItemsCount()-this._totalCountCorrection,o=this.pageSize();return o&&s>0?Math.max(1,Math.ceil(s/o)):1},hasKnownLastPage:function(){return this._hasLastPage||this._dataSource.totalCount()>=0},loadFromStore:function(s,o){var l=this._dataSource,u=new we;if(l)return o=o||l.store(),o.load(s).done(function(d,c){d&&!Array.isArray(d)&&Array.isArray(d.data)&&(c=d,d=d.data),u.resolve(d,c)}).fail(u.reject),u},isCustomLoading:function(){return!!this._isCustomLoading},load:function(s){var o=this,l=o._dataSource,u=new we;if(s){var d=l.store(),c=l.loadOptions(),h={storeLoadOptions:s,isCustomLoading:!0};return ve(d._customLoadOptions()||[],function(f,p){p in h.storeLoadOptions||(h.storeLoadOptions[p]=c[p])}),this._isLoadingAll=s.isLoadingAll,o._scheduleCustomLoadCallbacks(u),l._scheduleLoadCallbacks(u),o._handleCustomizeStoreLoadOptions(h),function(f,p){oe(p)?N_(f,p):f()}(function(){if(!l.store())return u.reject("canceled");Ke(h.data||o.loadFromStore(h.storeLoadOptions)).done(function(f,p){h.data=f,h.extra=p||{},o._handleDataLoaded(h),s.requireTotalCount&&h.extra.totalCount===void 0&&(h.extra.totalCount=d.totalCount(h.storeLoadOptions)),Ke(h.data,h.extra.totalCount).done(function(g,m){h.extra.totalCount=m,u.resolve(g,h.extra)}).fail(u.reject)}).fail(u.reject)},o.option("loadingTimeout")),u.fail(function(){o._eventsStrategy.fireEvent("loadError",arguments)}).always(()=>{this._isLoadingAll=!1}).promise()}else return l.load()},reload:function(s){return s?this._dataSource.reload():this._dataSource.load()},getCachedStoreData:function(){return this._cachedStoreData}}}());var fm=n7;const Cd={extend:function(e){fm=fm.inherit(e)},create:function(e){return new fm(e)}};var dx="_dataSourceOptions",hx="_dataSourceChangedHandler",cx="_dataSourceLoadErrorHandler",fx="_dataSourceLoadingChangedHandler",px="_dataSourceFromUrlLoadMode",mx="_getSpecificDataSourceOption",gx="_normalizeDataSource",xd={postCtor:function(){this.on("disposing",(function(){this._disposeDataSource()}).bind(this))},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){var e=mx in this?this[mx]():this.option("dataSource"),t,i;this._disposeDataSource(),e&&(e instanceof Bn?(this._isSharedDataSource=!0,this._dataSource=e):(t=dx in this?this[dx]():{},i=this._dataSourceType?this._dataSourceType():Bn,e=Tl(e,{fromUrlLoadMode:px in this&&this[px]()}),this._dataSource=new i(ce(!0,{},t,e))),gx in this&&(this._dataSource=this[gx](this._dataSource)),this._addDataSourceHandlers())},_addDataSourceHandlers:function(){hx in this&&this._addDataSourceChangeHandler(),cx in this&&this._addDataSourceLoadErrorHandler(),fx in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this._dataSource.on("loadingChanged",(function(e){this._ready&&this._ready(!e)}).bind(this))},_addDataSourceChangeHandler:function(){var e=this._dataSource;this._proxiedDataSourceChangedHandler=(function(t){this[hx](e.items(),t)}).bind(this),e.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=this[cx].bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=this[fx].bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){if(this._dataSource){var e=this._dataSource;e.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():e.load()}},_loadSingle:function(e,t){return e=e==="this"?this._dataSource.key()||"this":e,this._dataSource.loadSingle(e,t)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource:function(){return this._dataSource||null}},sc=function(e,t){var i=t(e);if(at(i))try{return JSON.stringify(i)}catch{return i}return i},a7=function(e,t,i,r){var n=sc(e,r);return t[i[n]]},s7=function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<t.length;i++)if(e[i]!==t[i])return!1;return!0},C2=function(e,t,i,r){var n={},a={},s=0,o=0,l=[];e.forEach(function(b,E){var I=sc(b,i);n[I]=E}),t.forEach(function(b,E){var I=sc(b,i);a[I]=E});for(var u=Math.max(e.length,t.length),d=0;d<u+s;d++){var c=t[d],h=d-s+o,f=e[h],p=!c||f&&!a7(f,t,a,i);if(p)f&&(l.push({type:"remove",key:i(f),index:d,oldItem:f}),o++,d--);else{var g=sc(c,i),m=n[g],v=e[m];if(!v)s++,l.push({type:"insert",data:c,index:d});else if(m===h)r(v,c)||l.push({type:"update",data:c,key:i(c),index:d,oldItem:v});else return}}return l},x2={defaultOptions:function(){return{loadingTimeout:0,dataSource:null,cacheEnabled:!0,repaintChangesOnly:!1,highlightChanges:!1,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:void 0,pageIndex:void 0}}},controllers:{data:ni.Controller.inherit({}).include(xd).inherit(function(){var e=function(i,r,n){var a=i._dataSource;if(a){if(n!==void 0){var s=i._getPagingOptionValue(r);if(s!==n){r==="pageSize"&&a.pageIndex(0),a[r](n),i._skipProcessingPagingChange=!0,i.option("paging."+r,n),i._skipProcessingPagingChange=!1;var o=a.pageIndex();return i._isPaging=r==="pageIndex",a[r==="pageIndex"?"load":"reload"]().done(()=>{i._isPaging=!1,i.pageChanged.fire(o)})}return we().resolve().promise()}return a[r]()}return 0},t={init:function(){var i=this;i._items=[],i._cachedProcessedItems=null,i._columnsController=i.getController("columns"),i._isPaging=!1,i._currentOperationTypes=null,i._dataChangedHandler=r=>{i._currentOperationTypes=this._dataSource.operationTypes(),i._handleDataChanged(r),i._currentOperationTypes=null},i._columnsChangedHandler=i._handleColumnsChanged.bind(i),i._loadingChangedHandler=i._handleLoadingChanged.bind(i),i._loadErrorHandler=i._handleLoadError.bind(i),i._customizeStoreLoadOptionsHandler=i._handleCustomizeStoreLoadOptions.bind(i),i._changingHandler=i._handleChanging.bind(i),i._dataPushedHandler=i._handleDataPushed.bind(i),i._columnsController.columnsChanged.add(i._columnsChangedHandler),i._isLoading=!1,i._isCustomLoading=!1,i._repaintChangesOnly=void 0,i._changes=[],i.createAction("onDataErrorOccurred"),i.dataErrorOccurred.add(function(r){return i.executeAction("onDataErrorOccurred",{error:r})}),i._refreshDataSource()},_getPagingOptionValue:function(i){return this._dataSource[i]()},callbackNames:function(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged","pushed"]},callbackFlags:function(i){if(i==="dataErrorOccurred")return{stopOnFalse:!0}},publicMethods:function(){return["beginCustomLoading","endCustomLoading","refresh","filter","clearFilter","getCombinedFilter","keyOf","byKey","getDataByKeys","pageIndex","pageSize","pageCount","totalCount","_disposeDataSource","getKeyByRowIndex","getRowIndexByKey","getDataSource","getVisibleRows","repaintRows"]},reset:function(){this._columnsController.reset(),this._items=[],this._refreshDataSource()},_handleDataSourceChange(i){if(i.value===i.previousValue||this.option("columns")&&Array.isArray(i.value)&&Array.isArray(i.previousValue)){var r=i.value!==i.previousValue;if(r){var n=this.store();n&&(n._array=i.value)}return this.needToRefreshOnDataSourceChange(i)&&this.refresh(this.option("repaintChangesOnly")),!0}return!1},needToRefreshOnDataSourceChange:function(i){return!0},optionChanged:function(i){var r=this,n,a;function s(){i.handled=!0}if(i.name==="dataSource"&&i.name===i.fullName&&this._handleDataSourceChange(i)){s();return}switch(i.name){case"cacheEnabled":case"repaintChangesOnly":case"highlightChanges":case"loadingTimeout":s();break;case"remoteOperations":case"keyExpr":case"dataSource":case"scrolling":s(),r.reset();break;case"paging":if(n=r.dataSource(),n&&(a=r._setPagingOptions(n),a)){var o=n.pageIndex();this._isPaging=a.isPageIndexChanged,n.load().done(()=>{this._isPaging=!1,r.pageChanged.fire(o)})}s();break;case"rtlEnabled":r.reset();break;case"columns":n=r.dataSource(),n&&n.isLoading()&&i.name===i.fullName&&(this._useSortingGroupingFromColumns=!0,n.load());break;default:r.callBase(i)}},isReady:function(){return!this._isLoading},getDataSource:function(){return this._dataSource&&this._dataSource._dataSource},getCombinedFilter:function(i){return this.combinedFilter(void 0,i)},combinedFilter:function(i,r){var n=this._dataSource,a=this._columnsController;if(n){i===void 0&&(i=n.filter());var s=this._calculateAdditionalFilter();s&&(a.isDataSourceApplied()||a.isAllDataTypesDefined())&&(i=Fe.combineFilters([s,i])),i=a.updateFilter(i,r||n.remoteOperations().filtering)}return i},waitReady:function(){return this._updateLockCount?(this._readyDeferred=new we,this._readyDeferred):Ke()},_endUpdateCore:function(){var i=this._changes;if(i.length){this._changes=[];var r=i.every(n=>n.repaintChangesOnly);this.updateItems(i.length===1?i[0]:{repaintChangesOnly:r})}this._readyDeferred&&(this._readyDeferred.resolve(),this._readyDeferred=null)},_handleCustomizeStoreLoadOptions:function(i){var r,n=this._columnsController,a=this._dataSource,s=i.storeLoadOptions;i.isCustomLoading&&!s.isLoadingAll||(s.filter=this.combinedFilter(s.filter),((r=s.filter)===null||r===void 0?void 0:r.length)===1&&s.filter[0]==="!"&&(i.data=[],i.extra=i.extra||{},i.extra.totalCount=0),n.isDataSourceApplied()||n.updateColumnDataTypes(a),this._columnsUpdating=!0,n.updateSortingGrouping(a,!this._useSortingGroupingFromColumns),this._columnsUpdating=!1,s.sort=n.getSortDataSourceParameters(),s.group=n.getGroupDataSourceParameters(),a.sort(s.sort),a.group(s.group),s.sort=n.getSortDataSourceParameters(!a.remoteOperations().sorting),i.group=n.getGroupDataSourceParameters(!a.remoteOperations().grouping))},_handleColumnsChanged:function(i){var r=this,n=i.changeTypes,a=i.optionNames,s,o,l;if(n.sorting||n.grouping)r._dataSource&&!r._columnsUpdating&&(r._dataSource.group(r._columnsController.getGroupDataSourceParameters()),r._dataSource.sort(r._columnsController.getSortDataSourceParameters()),r.reload());else if(n.columns&&(o=r._columnsController.columnOption(i.columnIndex,"filterValues"),(a.filterValues||a.filterType&&Array.isArray(o)||a.filterValue||a.selectedFilterOperation||a.allowFiltering)&&(s=r._columnsController.columnOption(i.columnIndex,"filterValue"),(Array.isArray(o)||i.columnIndex===void 0||oe(s)||!a.selectedFilterOperation||a.filterValue)&&(r._applyFilter(),l=!0)),!r._needApplyFilter&&!Fe.checkChanges(a,["width","visibleWidth","filterValue","bufferedFilterValue","selectedFilterOperation","filterValues","filterType"])&&r._columnsController.columnsChanged.add(function d(c){var h;r._columnsController.columnsChanged.remove(d),r.updateItems({repaintChangesOnly:!1,virtualColumnsScrolling:c==null||(h=c.changeTypes)===null||h===void 0?void 0:h.virtualColumnsScrolling})}),oe(a.visible))){var u=r._columnsController.columnOption(i.columnIndex);u&&(oe(u.filterValue)||oe(u.filterValues))&&(r._applyFilter(),l=!0)}!l&&n.filtering&&r.reload()},_handleDataChanged:function(i){var r=this,n=r._dataSource,a=r._columnsController,s=!1;this._useSortingGroupingFromColumns=!1,n&&!r._isDataSourceApplying&&(r._isDataSourceApplying=!0,Ke(r._columnsController.applyDataSource(n)).done(function(){r._isLoading&&r._handleLoadingChanged(!1),s&&i&&i.isDelayed&&(i.isDelayed=!1),r._isDataSourceApplying=!1;var o=r._needApplyFilter;r._needApplyFilter=!1,o&&!r._isAllDataTypesDefined&&(l=r._calculateAdditionalFilter(),l&&l.length)?(xt.log("W1005",r.component.NAME),r._applyFilter()):r.updateItems(i,!0);var l}).fail(function(){r._isDataSourceApplying=!1}),r._isDataSourceApplying&&(s=!0,r._handleLoadingChanged(!0)),r._needApplyFilter=!r._columnsController.isDataSourceApplied(),r._isAllDataTypesDefined=a.isAllDataTypesDefined())},_handleLoadingChanged:function(i){this._isLoading=i,this._fireLoadingChanged()},_handleLoadError:function(i){this.dataErrorOccurred.fire(i)},_handleDataPushed:function(i){this.pushed.fire(i)},fireError:function(){this.dataErrorOccurred.fire(xt.Error.apply(xt,arguments))},_setPagingOptions:function(i){var r=this.option("paging.pageIndex"),n=this.option("paging.pageSize"),a=this.option("paging.enabled"),s=this.option("scrolling.mode"),o=s==="infinite",l=s==="virtual",u=a||l||o,d=!1,c=!1,h=!1;return i.requireTotalCount(!o),a!==void 0&&i.paginate()!==u&&(i.paginate(u),d=!0),n!==void 0&&i.pageSize()!==n&&(i.pageSize(n),c=!0),r!==void 0&&i.pageIndex()!==r&&(i.pageIndex(r),h=!0),d||c||h?{isPaginateChanged:d,isPageSizeChanged:c,isPageIndexChanged:h}:!1},_getSpecificDataSourceOption:function(){var i=this.option("dataSource");return Array.isArray(i)?{store:{type:"array",data:i,key:this.option("keyExpr")}}:i},_initDataSource:function(){var i=this._dataSource;this.callBase();var r=this._dataSource;if(this._useSortingGroupingFromColumns=!0,this._cachedProcessedItems=null,r){var n=this._setPagingOptions(r);this._isPaging=n==null?void 0:n.isPageIndexChanged,this.setDataSource(r)}else i&&this.updateItems()},_loadDataSource:function(){var i=this,r=i._dataSource,n=new we;return Ke(this._columnsController.refresh(!0)).always(function(){r?r.load().done(function(){i._isPaging=!1,n.resolve.apply(n,arguments)}).fail(n.reject):n.resolve()}),n.promise()},_beforeProcessItems:function(i){return i.slice(0)},getRowIndexDelta:function(){return 0},_processItems:function(i,r){var n=this,a=n.getRowIndexDelta(),s=r.changeType,o=n._columnsController.getVisibleColumns(null,s==="loadingAll"),l=n._items,u=s==="append"&&l.length>0?l[l.length-1]:null,d=oe(u==null?void 0:u.dataIndex)?u.dataIndex+1:0,c={visibleColumns:o,dataIndex:d},h=[];return ve(i,function(f,p){oe(p)&&(c.rowIndex=f-a,p=n._processItem(p,c),h.push(p))}),h},_processItem:function(i,r){return i=this._generateDataItem(i,r),i=this._processDataItem(i,r),i.dataIndex=r.dataIndex++,i},_generateDataItem:function(i){return{rowType:"data",data:i,key:this.keyOf(i)}},_processDataItem:function(i,r){return i.values=this.generateDataValues(i.data,r.visibleColumns),i},generateDataValues:function(i,r,n){for(var a=[],s,o=0;o<r.length;o++){var l=r[o];s=n?void 0:null,l.command||(l.calculateCellValue?s=l.calculateCellValue(i):l.dataField&&(s=i[l.dataField])),a.push(s)}return a},_applyChange:function(i){i.changeType==="update"?this._applyChangeUpdate(i):this.items().length&&i.repaintChangesOnly&&i.changeType==="refresh"?this._applyChangesOnly(i):i.changeType==="refresh"&&this._applyChangeFull(i)},_applyChangeFull:function(i){this._items=i.items.slice(0)},_getRowIndices:function(i){var r=i.rowIndices.slice(0),n=this.getRowIndexDelta();r.sort(function(o,l){return o-l});for(var a=0;a<r.length;a++){var s=r[a];i.allowInvisibleRowIndices&&(s+=n),s<0&&(r.splice(a,1),a--)}return r},_applyChangeUpdate:function(i){var r=this,n=i.items,a=r._getRowIndices(i),s=r.getRowIndexDelta(),o=r.option("repaintChangesOnly"),l=-1,u=0,d;i.items=[],i.rowIndices=[],i.columnIndices=[],i.changeTypes=[];var c=function(h,f,p){var g=h&&f&&li(h.key,f.key);return g&&p&&(g=h.rowType===f.rowType&&(f.rowType!=="detail"||h.isEditing===f.isEditing)),g};ve(a,function(h,f){var p;if(f+=u+s,l!==f){l=f;var g=r._items[f],m=r._items[f+1],v=n[f],b=n[f+1],E=c(g,m)||c(v,b);if(v&&(v.rowIndex=f,i.items.push(v)),g&&v&&c(g,v,E))d="update",r._items[f]=v,g.visible!==v.visible?i.items.splice(-1,1,{visible:v.visible}):o&&!i.isFullUpdate&&(p=r._partialUpdateRow(g,v,f-s));else if(v&&!g||b&&c(g,b,E))d="insert",r._items.splice(f,0,v),u++;else if(g&&!v||m&&c(v,m,E))d="remove",r._items.splice(f,1),u--,l=-1;else if(v)d="update",r._items[f]=v;else return;i.rowIndices.push(f-s),i.changeTypes.push(d),i.columnIndices.push(p)}})},_isCellChanged:function(i,r,n,a,s){if(JSON.stringify(i.values[a])!==JSON.stringify(r.values[a]))return!0;function o(l,u){return l.modifiedValues?l.modifiedValues[u]!==void 0:!1}return o(i,a)!==o(r,a)},_getChangedColumnIndices:function(i,r,n,a){var s;if(i.rowType===r.rowType){if(r.rowType!=="group"&&r.rowType!=="groupFooter"&&(s=[],r.rowType!=="detail"))for(var o=0;o<i.values.length;o++)this._isCellChanged(i,r,n,o,a)&&s.push(o);r.rowType==="group"&&r.isExpanded===i.isExpanded&&i.cells&&(s=i.cells.map((l,u)=>{var d;return((d=l.column)===null||d===void 0?void 0:d.type)!=="groupExpand"?u:-1}).filter(l=>l>=0))}return s},_partialUpdateRow:function(i,r,n,a){var s,o=this._getChangedColumnIndices(i,r,n,a);return(s=o)!==null&&s!==void 0&&s.length&&this.option("dataRowTemplate")&&(o=void 0),o&&(i.cells&&i.cells.forEach(function(l,u){var d=o.indexOf(u)>=0;!d&&l&&l.update&&l.update(r)}),r.update=i.update,r.watch=i.watch,r.cells=i.cells,a&&(r.oldValues=i.values),i.update&&i.update(r)),o},_isItemEquals:function(i,r){if(JSON.stringify(i.values)!==JSON.stringify(r.values)||["modified","isNewRow","removed","isEditing"].some(c=>i[c]!==r[c]))return!1;if(i.rowType==="group"||i.rowType==="groupFooter"){var n,a,s,o,l=i.isExpanded===r.isExpanded,u=JSON.stringify(i.summaryCells)===JSON.stringify(r.summaryCells),d=((n=i.data)===null||n===void 0?void 0:n.isContinuation)===((a=r.data)===null||a===void 0?void 0:a.isContinuation)&&((s=i.data)===null||s===void 0?void 0:s.isContinuationOnNextPage)===((o=r.data)===null||o===void 0?void 0:o.isContinuationOnNextPage);if(!l||!u||!d)return!1}return!0},_applyChangesOnly:function(i){var r,n=[],a=[],s=[],o=[],l={},u=(r=i==null?void 0:i.isLiveUpdate)!==null&&r!==void 0?r:!0;function d(p){if(p)return p.rowType+","+JSON.stringify(p.key)}var c=this._items,h=c.slice();i.items.forEach(function(p,g){var m=d(p);l[m]=g,p.rowIndex=g});var f=C2(h,i.items,d,(p,g)=>this._isItemEquals(p,g)?(p.cells&&(p.update&&p.update(g),p.cells.forEach(function(m){m&&m.update&&m.update(g,!0)})),!0):!1);if(!f){this._applyChangeFull(i);return}f.forEach(p=>{switch(p.type){case"update":var g=p.index,m=p.data,v=p.oldItem,b=this._partialUpdateRow(v,m,g,u);n.push(g),s.push("update"),o.push(m),c[g]=m,a.push(b);break;case"insert":n.push(p.index),s.push("insert"),o.push(p.data),a.push(void 0),c.splice(p.index,0,p.data);break;case"remove":n.push(p.index),s.push("remove"),c.splice(p.index,1),o.push(p.oldItem),a.push(void 0)}}),i.repaintChangesOnly=!0,i.changeType="update",i.rowIndices=n,i.columnIndices=a,i.changeTypes=s,i.items=o,h.length&&(i.isLiveUpdate=!0),this._correctRowIndices(p=>{var g=this._rowIndexOffset||0,m=this.getRowIndexOffset(),v=h[p-g],b=d(v),E=l[b];return E>=0?E+m-p:0})},_correctRowIndices:Ee,_afterProcessItems:function(i){return i},_updateItemsCore:function(i){var r,n=this._dataSource,a=i.changeType||"refresh";if(i.changeType=a,n){var s=this._cachedProcessedItems;i.useProcessedItemsCache&&s?r=s:(r=i.items||n.items(),r=this._beforeProcessItems(r),r=this._processItems(r,i),this._cachedProcessedItems=r),r=this._afterProcessItems(r,i),i.items=r;var o=this._items.length===r.length&&this._items;this._applyChange(i);var l=this.getRowIndexDelta();ve(this._items,(u,d)=>{d.rowIndex=u-l,o&&(d.cells=o[u].cells||[]);var c=r[u];c&&(d.loadIndex=c.loadIndex)}),this._rowIndexOffset=this.getRowIndexOffset()}else this._items=[]},_handleChanging:function(i){var r=this.getVisibleRows(),n=this.dataSource();n&&i.changes.forEach(function(a){if(a.type==="insert"&&a.index>=0){for(var s=0,o=0;o<a.index;o++){var l=r[o];l&&(l.rowType==="data"||l.rowType==="group")&&s++}a.index=s}})},updateItems:function(i,r){if(i=i||{},this._repaintChangesOnly!==void 0){var n;i.repaintChangesOnly=(n=i.repaintChangesOnly)!==null&&n!==void 0?n:this._repaintChangesOnly,i.needUpdateDimensions=i.needUpdateDimensions||this._needUpdateDimensions}else if(i.changes)i.repaintChangesOnly=this.option("repaintChangesOnly");else if(r){var a=this.dataSource().operationTypes();i.repaintChangesOnly=a&&!a.grouping&&!a.filtering&&this.option("repaintChangesOnly"),i.isDataChanged=!0,a&&(a.reload||a.paging||a.groupExpanding)&&(i.needUpdateDimensions=!0)}if(this._updateLockCount&&!i.cancel){this._changes.push(i);return}this._updateItemsCore(i),!i.cancel&&this._fireChanged(i)},loadingOperationTypes:function(){var i=this.dataSource();return i&&i.loadingOperationTypes()||{}},_fireChanged:function(i){this._currentOperationTypes&&(i.operationTypes=this._currentOperationTypes,this._currentOperationTypes=null),Oi(()=>{this.changed.fire(i)})},isLoading:function(){return this._isLoading||this._isCustomLoading},_fireLoadingChanged:function(){this.loadingChanged.fire(this.isLoading(),this._loadingText)},_calculateAdditionalFilter:function(){return null},_applyFilter:function(){var i=this._dataSource;if(i)return i.pageIndex(0),this._isFilterApplying=!0,this.reload().done(()=>{this._isFilterApplying&&this.pageChanged.fire()})},resetFilterApplying:function(){this._isFilterApplying=!1},filter:function(i){var r=this._dataSource,n=r&&r.filter();if(arguments.length===0)return n;i=arguments.length>1?Array.prototype.slice.call(arguments,0):i,!Fe.equalFilterParameters(n,i)&&(r&&r.filter(i),this._applyFilter())},clearFilter:function(i){var r=this,n=r._columnsController,a=function(s){for(var o=n.columnCount(),l=0;l<o;l++)n.columnOption(l,s,void 0)};if(r.component.beginUpdate(),arguments.length>0)switch(i){case"dataSource":r.filter(null);break;case"search":r.searchByText("");break;case"header":a("filterValues");break;case"row":a("filterValue")}else r.filter(null),r.searchByText(""),a("filterValue"),a("bufferedFilterValue"),a("filterValues");r.component.endUpdate()},_fireDataSourceChanged:function(){var i=this;i.changed.add(function r(){i.changed.remove(r),i.dataSourceChanged.fire()})},_getDataSourceAdapter:Ee,_createDataSourceAdapterCore:function(i,r){var n=this._getDataSourceAdapter(),a=n.create(this.component);return a.init(i,r),a},isLocalStore:function(i){return i=i||this.store(),i instanceof El},isCustomStore:function(i){return i=i||this.store(),i instanceof zu},_createDataSourceAdapter:function(i){var r=this.option("remoteOperations"),n=i.store(),a={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0};return r&&r.groupPaging&&(r=ce({},a,r)),r==="auto"&&(r=this.isLocalStore(n)||this.isCustomStore(n)?{}:{filtering:!0,sorting:!0,paging:!0}),r===!0&&(r=a),this._createDataSourceAdapterCore(i,r)},setDataSource:function(i){var r=this._dataSource;!i&&r&&(r.cancelAll(),r.changed.remove(this._dataChangedHandler),r.loadingChanged.remove(this._loadingChangedHandler),r.loadError.remove(this._loadErrorHandler),r.customizeStoreLoadOptions.remove(this._customizeStoreLoadOptionsHandler),r.changing.remove(this._changingHandler),r.pushed.remove(this._dataPushedHandler),r.dispose(this._isSharedDataSource)),i&&(i=this._createDataSourceAdapter(i)),this._dataSource=i,i&&(this._fireDataSourceChanged(),this._isLoading=!i.isLoaded(),this._needApplyFilter=!0,this._isAllDataTypesDefined=this._columnsController.isAllDataTypesDefined(),i.changed.add(this._dataChangedHandler),i.loadingChanged.add(this._loadingChangedHandler),i.loadError.add(this._loadErrorHandler),i.customizeStoreLoadOptions.add(this._customizeStoreLoadOptionsHandler),i.changing.add(this._changingHandler),i.pushed.add(this._dataPushedHandler))},items:function(){return this._items},isEmpty:function(){return!this.items().length},pageCount:function(){return this._dataSource?this._dataSource.pageCount():1},dataSource:function(){return this._dataSource},store:function(){var i=this._dataSource;return i&&i.store()},loadAll:function(i){var r=this,n=new we,a=r._dataSource;if(a)if(i){var s={data:i,isCustomLoading:!0,storeLoadOptions:{isLoadingAll:!0},loadOptions:{filter:r.getCombinedFilter(),group:a.group(),sort:a.sort()}};a._handleDataLoaded(s),Ke(s.data).done(function(l){l=r._beforeProcessItems(l),n.resolve(r._processItems(l,{changeType:"loadingAll"}),s.extra&&s.extra.summary)}).fail(n.reject)}else if(a.isLoading())n.reject();else{var o=ce({},a.loadOptions(),{isLoadingAll:!0,requireTotalCount:!1});a.load(o).done(function(l,u){l=r._beforeProcessItems(l),l=r._processItems(l,{changeType:"loadingAll"}),n.resolve(l,u&&u.summary)}).fail(n.reject)}else n.resolve([]);return n},getKeyByRowIndex:function(i,r){var n=this.items(r)[i];if(n)return n.key},getRowIndexByKey:function(i,r){return Fe.getIndexByKey(i,this.items(r))},keyOf:function(i){var r=this.store();if(r)return r.keyOf(i)},byKey:function(i){var r=this.store(),n=this.getRowIndexByKey(i),a;if(r)return n>=0&&(a=new we().resolve(this.items()[n].data)),a||r.byKey(i)},key:function(){var i=this.store();if(i)return i.key()},getRowIndexOffset:function(){return 0},getDataByKeys:function(i){var r=this,n=new we,a=[],s=[];return ve(i,function(o,l){a.push(r.byKey(l).done(function(u){s[o]=u}))}),Ke.apply(J,a).always(function(){n.resolve(s)}),n},pageIndex:function(i){return e(this,"pageIndex",i)},pageSize:function(i){return e(this,"pageSize",i)},beginCustomLoading:function(i){this._isCustomLoading=!0,this._loadingText=i||"",this._fireLoadingChanged()},endCustomLoading:function(){this._isCustomLoading=!1,this._loadingText=void 0,this._fireLoadingChanged()},refresh:function(i){i===!0?i={reload:!0,changesOnly:!0}:i||(i={lookup:!0,selection:!0,reload:!0});var r=this,n=r.getDataSource(),a=i.changesOnly,s=new we,o=function(){r._repaintChangesOnly=!!a};return Ke(!i.lookup||r._columnsController.refresh()).always(function(){i.load||i.reload?(n&&n.on("customizeLoadResult",o),Ke(r.reload(i.reload,a)).always(function(){n&&n.off("customizeLoadResult",o),r._repaintChangesOnly=void 0}).done(s.resolve).fail(s.reject)):(r.updateItems({repaintChangesOnly:i.changesOnly}),s.resolve())}),s.promise()},getVisibleRows:function(){return this.items()},_disposeDataSource:function(){this.setDataSource(null)},dispose:function(){this._disposeDataSource(),this.callBase.apply(this,arguments)},repaintRows:function(i,r){i=Array.isArray(i)?i:[i],(i.length>1||oe(i[0]))&&this.updateItems({changeType:"update",rowIndices:i,isFullUpdate:!r})},skipProcessingPagingChange:function(i){return this._skipProcessingPagingChange&&(i==="paging.pageIndex"||i==="paging.pageSize")},getUserState:function(){return{searchText:this.option("searchPanel.text"),pageIndex:this.pageIndex(),pageSize:this.pageSize()}},getCachedStoreData:function(){return this._dataSource&&this._dataSource.getCachedStoreData()},isLastPageLoaded:function(){var i=this.pageIndex(),r=this.pageCount();return i===r-1}};return Fe.proxyMethod(t,"load"),Fe.proxyMethod(t,"reload"),Fe.proxyMethod(t,"push"),Fe.proxyMethod(t,"itemsCount",0),Fe.proxyMethod(t,"totalItemsCount",0),Fe.proxyMethod(t,"hasKnownLastPage",!0),Fe.proxyMethod(t,"isLoaded",!0),Fe.proxyMethod(t,"totalCount",0),t}())}},o7=x2.controllers.data.inherit({_getDataSourceAdapter:function(){return Cd},_getSpecificDataSourceOption:function(){var e=this.option("dataSource");return e&&!Array.isArray(e)&&this.option("keyExpr")&&xt.log("W1011"),this.callBase()}});qe.registerModule("data",{defaultOptions:x2.defaultOptions,controllers:{data:o7}});var vx="dx-sort",_x="dx-sort-none",l7="dx-sort-up",u7="dx-sort-down",d7="dx-sort-index",bx="dx-sort-index-icon",h7="action";const w2={_applyColumnState:function(e){var t,i,r=this.option("sorting.mode"),n=e.rootElement,a=e.column,s=this._getIndicatorContainer(n);if(e.name==="sort"){n.find("."+vx).remove(),!s.children().length&&s.remove();var o=r!=="none"&&a.allowSorting;if(!oe(a.groupIndex)&&(o||oe(a.sortOrder))){t=a.sortOrder==="asc"?"ascending":"descending",i=this.callBase(e).toggleClass(l7,a.sortOrder==="asc").toggleClass(u7,a.sortOrder==="desc");var l=this.getController&&!!this.getController("columns").columnOption("sortIndex:1");l&&this.option("sorting.showSortIndexes")&&a.sortIndex>=0&&(J("<span>").addClass(bx).text(a.sortIndex+1).appendTo(i),i.addClass(d7)),o&&e.rootElement.addClass(this.addWidgetPrefix(h7))}return oe(a.sortOrder)?this.setAria("sort",t,n):this.setAria("sort","none",n),i}else return this.callBase(e)},_getIndicatorClassName:function(e){return e==="sort"?vx:e==="sortIndex"?bx:this.callBase(e)},_renderIndicator:function(e){var t=e.column,i=e.container,r=e.indicator;if(e.name==="sort"){var n=this.option("rtlEnabled");if(oe(t.sortOrder)||r&&r.addClass(_x),i.children().length&&(!n&&e.columnAlignment==="left"||n&&e.columnAlignment==="right")){i.prepend(r);return}}this.callBase(e)},_updateIndicator:function(e,t,i){if(!(i==="sort"&&oe(t.groupIndex)))return this.callBase.apply(this,arguments)},_getIndicatorElements:function(e,t){var i=this.callBase(e);return t?i:i&&i.not("."+_x)}};var c7="dxDataGridColumnHeadersView",f7=ce({},w2,{_createRow(e){var t=this.callBase(e);return e.rowType==="header"&&he.on(t,Be(zt,c7),"td",this.createAction(i=>{this._processHeaderAction(i.event,t)})),t},_processHeaderAction:function(e,t){if(J(e.currentTarget).parent().get(0)===t.get(0)){var i=this,r=null,n=J(e.currentTarget),a=n.parent().index(),s=-1;[].slice.call(i.getCellElements(a)).some((h,f)=>{if(h===n.get(0))return s=f,!0});var o=i._columnsController.getVisibleColumns(a),l=o[s],u=i.getController("editing"),d=i.option("editing.mode"),c=u&&u.isEditing()&&(d==="batch"||d==="cell");c||!i._isSortableElement(J(e.target))||l&&!oe(l.groupIndex)&&!l.command&&(e.shiftKey?r="shift":Vi(e)&&(r="ctrl"),setTimeout(()=>{i._columnsController.changeSortOrder(l.index,r)}))}},_renderCellContent(e,t){var i=t.column;!i.command&&t.rowType==="header"&&this._applyColumnState({name:"sort",rootElement:e,column:i,showColumnLines:this.option("showColumnLines")}),this.callBase.apply(this,arguments)},_columnOptionChanged(e){var t=e.changeTypes;if(t.length===1&&t.sorting){this._updateIndicators("sort");return}this.callBase(e)},optionChanged(e){switch(e.name){case"sorting":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}}),p7=ce({},w2,{_createGroupPanelItem(e,t){var i=this,r=i.callBase(...arguments);return he.on(r,Be(zt,"dxDataGridHeaderPanel"),i.createAction(()=>{i._processGroupItemAction(t.index)})),i._applyColumnState({name:"sort",rootElement:r,column:{alignment:i.option("rtlEnabled")?"right":"left",allowSorting:t.allowSorting,sortOrder:t.sortOrder==="desc"?"desc":"asc"},showColumnLines:!0}),r},_processGroupItemAction(e){setTimeout(()=>this.getController("columns").changeSortOrder(e))},optionChanged(e){switch(e.name){case"sorting":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}}),m7={defaultOptions:()=>({sorting:{mode:"single",ascendingText:Ae.format("dxDataGrid-sortingAscendingText"),descendingText:Ae.format("dxDataGrid-sortingDescendingText"),clearText:Ae.format("dxDataGrid-sortingClearText"),showSortIndexes:!0}}),extenders:{views:{columnHeadersView:f7,headerPanel:p7}}};qe.registerModule("sorting",m7);var g7=Ot.abstract,v7=Ye.real(),S2="scroll",R0="dxscrollinit",M0="dxscrollstart",B0="dxscroll",P0="dxscrollend",L0="dxscrollstop",F0="dxscrollcancel",E2=Ot.inherit(function(){var e=Be(S2,"dxScrollEmitter");return{ctor:function(t){this._element=t,this._locked=!1,this._proxiedScroll=i=>{this._disposed||this._scroll(i)},he.on(this._element,e,this._proxiedScroll)},_scroll:g7,check:function(t,i){this._locked&&i()},dispose:function(){this._disposed=!0,he.off(this._element,e,this._proxiedScroll)}}}()),T2=E2.inherit({ctor:function(e,t){this.callBase(e),this._timeout=t},_scroll:function(){this._prepare(),this._forget()},_prepare:function(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer:function(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget:function(){var e=this;this._timer=setTimeout(function(){e._clearTimer()},this._timeout)},dispose:function(){this.callBase(),this._clearTimer()}}),yx=T2.inherit({ctor:function(e){this.callBase(e,400),this._lastWheelDirection=null},check:function(e,t){this._checkDirectionChanged(e),this.callBase(e,t)},_checkDirectionChanged:function(e){if(!mr(e)){this._lastWheelDirection=null;return}var t=e.shiftKey||!1,i=this._lastWheelDirection!==null&&t!==this._lastWheelDirection;this._lastWheelDirection=t,this._locked=this._locked&&!i}}),Kv=T2.inherit({ctor:function(e){this.callBase(e,400)}});(function(){var{ios:e,android:t}=v7;(e||t)&&(Kv=E2.inherit({_scroll:function(){this._locked=!0;var i=this;Qn(this._scrollFrame),this._scrollFrame=Bc(function(){i._locked=!1})},check:function(i,r){Qn(this._scrollFrame),Qn(this._checkFrame);var n=this,a=this.callBase;this._checkFrame=Bc(function(){a.call(n,i,r),n._locked=!1})},dispose:function(){this.callBase(),Qn(this._scrollFrame),Qn(this._checkFrame)}}))})();var _7=fd.inherit(function(){var e=Math.round(16.666666666666668);return{ctor:function(t){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new Kv(t),this._wheelLocker=new yx(t)},validate:function(){return!0},configure:function(t){t.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new Kv(t.scrollTarget),this._wheelLocker=new yx(t.scrollTarget)),this.callBase(t)},_init:function(t){this._wheelLocker.check(t,(function(){mr(t)&&this._accept(t)}).bind(this)),this._pointerLocker.check(t,(function(){var i=this.isNative&&Gs(t);!mr(t)&&!i&&this._accept(t)}).bind(this)),this._fireEvent(R0,t),this._prevEventData=mi(t)},move:function(t){this.callBase.apply(this,arguments),t.isScrollingEvent=this.isNative||t.isScrollingEvent},_start:function(t){this._savedEventData=mi(t),this._fireEvent(M0,t),this._prevEventData=mi(t)},_move:function(t){var i=mi(t);this._fireEvent(B0,t,{delta:Ds(this._prevEventData,i)});var r=Ds(this._savedEventData,i);r.time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=mi(t)},_end:function(t){var i=Ds(this._prevEventData,mi(t)),r={x:0,y:0};if(!mr(t)&&i.time<100){var n=Ds(this._savedEventData,this._prevEventData),a=e/n.time;r={x:n.x*a,y:n.y*a}}this._fireEvent(P0,t,{velocity:r})},_stop:function(t){this._fireEvent(L0,t)},cancel:function(t){this.callBase.apply(this,arguments),this._fireEvent(F0,t)},dispose:function(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection:function(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover:function(){if(!this.isNative)return this.callBase.apply(this,arguments)}}}());Sl({emitter:_7,events:[R0,M0,B0,P0,L0,F0]});const Ao={init:R0,start:M0,move:B0,end:P0,stop:L0,cancel:F0,scroll:S2};var b7=Ot.abstract,I2=Ot.inherit({ctor:function(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)},start:function(){this._stopped=!1,this._finished=!1,this._stepCore()},stop:function(){this._stopped=!0,Qn(this._stepAnimationFrame)},_stepCore:function(){if(this._isStopped()){this._stop();return}if(this._isFinished()){this._finished=!0,this._complete();return}this._step(),this._stepAnimationFrame=Bc(this._proxiedStepCore)},_step:b7,_isFinished:Ee,_stop:Ee,_complete:Ee,_isStopped:function(){return this._stopped},inProgress:function(){return!(this._stopped||this._finished)}}),qv="dxScrollbar",A2="dx-scrollable-scrollbar",Cx="".concat(A2,"-active"),y7="dx-scrollable-scroll",C7="dx-scrollable-scroll-content",x7="dx-scrollbar-hoverable",xx="horizontal",w7=15,zn={onScroll:"onScroll",onHover:"onHover",always:"always",never:"never"},qo=null,O2=Hi.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:zn.onScroll,containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})},_init:function(){this.callBase(),this._isHovered=!1},_initMarkup:function(){this._renderThumb(),this.callBase()},_render:function(){this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.$element().toggleClass(x7,this.option("hoverStateEnabled"))},_renderThumb:function(){this._$thumb=J("<div>").addClass(y7),J("<div>").addClass(C7).appendTo(this._$thumb),this.$element().addClass(A2).append(this._$thumb)},isThumb:function(e){return!!this.$element().find(e).length},_isHoverMode:function(){var e=this.option("visibilityMode");return(e===zn.onHover||e===zn.always)&&this.option("expandable")},_renderDirection:function(){var e=this.option("direction");this.$element().addClass("dx-scrollbar-"+e),this._dimension=e===xx?"width":"height",this._prop=e===xx?"left":"top"},_attachPointerDownHandler:function(){he.on(this._$thumb,Be(Vt.down,qv),this.feedbackOn.bind(this))},feedbackOn:function(){this.$element().addClass(Cx),qo=this},feedbackOff:function(){this.$element().removeClass(Cx),qo=null},cursorEnter:function(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)},cursorLeave:function(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions:function(){this._$thumb.css({width:this.option("width"),height:this.option("height")})},_toggleVisibility:function(e){this.option("visibilityMode")===zn.onScroll&&this._$thumb.css("opacity"),e=this._adjustVisibility(e),this.option().visible=e,this._$thumb.toggleClass("dx-state-invisible",!e)},_adjustVisibility:function(e){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case zn.onScroll:break;case zn.onHover:e=e||!!this._isHovered;break;case zn.never:e=!1;break;case zn.always:e=!0}return e},moveTo:function(e){if(!this._isHidden()){Ct(e)&&(e=e[this._prop]||0);var t={};t[this._prop]=this._calculateScrollBarPosition(e),ki(this._$thumb,t)}},_calculateScrollBarPosition:function(e){return-e*this._thumbRatio},_update:function(){var e=Math.round(this.option("containerSize")),t=Math.round(this.option("contentSize")),i=Math.round(this.option("baseContainerSize")),r=Math.round(this.option("baseContentSize"));isNaN(i)&&(i=e,r=t),this._baseContainerToContentRatio=r?i/r:i,this._realContainerToContentRatio=t?e/t:e;var n=Math.round(Math.max(Math.round(e*this._realContainerToContentRatio),w7));this._thumbRatio=(e-n)/(this.option("scaleRatio")*(t-e)),this.option(this._dimension,n/this.option("scaleRatio")),this.$element().css("display",this._needScrollbar()?"":"none")},_isHidden:function(){return this.option("visibilityMode")===zn.never},_needScrollbar:function(){return!this._isHidden()&&this._baseContainerToContentRatio<1},containerToContentRatio:function(){return this._realContainerToContentRatio},_normalizeSize:function(e){return Ct(e)?e[this._dimension]||0:e},_clean:function(){this.callBase(),this===qo&&(qo=null),he.off(this._$thumb,"."+qv)},_optionChanged:function(e){if(!this._isHidden())switch(e.name){case"containerSize":case"contentSize":this.option()[e.name]=this._normalizeSize(e.value),this._update();break;case"baseContentSize":case"baseContainerSize":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;case"scaleRatio":this._update();break;default:this.callBase.apply(this,arguments)}},update:tl(function(){this._adjustVisibility()&&this.option("visible",!0)})});Fn.add(function(){he.subscribeGlobal(Re.getDocument(),Be(Vt.up,qv),function(){qo&&qo.feedbackOff()})});var D2="dxSimulatedScrollable",S7="dxScrollableStrategy",sh=D2+"Cursor",pm=D2+"Keyboard",mm="dx-scrollable-simulated",E7="dx-scrollable-scrollbars-alwaysvisible",T7="dx-scrollable-scrollbar",_n="vertical",ar="horizontal",Wc=.92,k2=.5,R2=1,I7=Math.round(1e3/60),A7=40,O7=500,D7=R2/5,k7=400,R7=k7/I7,M7=(1-Math.pow(Wc,R7))/(1-Wc),Wn={PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home",LEFT:"leftArrow",UP:"upArrow",RIGHT:"rightArrow",DOWN:"downArrow",TAB:"tab"},M2=I2.inherit({ctor:function(e){this.callBase(),this.scroller=e},VELOCITY_LIMIT:R2,_isFinished:function(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step:function(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration:function(){return this.scroller._inBounds()?Wc:k2},_complete:function(){this.scroller._scrollComplete()}}),B7=M2.inherit({VELOCITY_LIMIT:D7,_isFinished:function(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:function(){return Wc},_complete:function(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),B2=Ot.inherit({ctor:function(e){this._initOptions(e),this._initAnimators(),this._initScrollbar()},_initOptions:function(e){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=e.direction===ar?"x":"y",this._prop=e.direction===ar?"left":"top",this._dimension=e.direction===ar?"width":"height",this._scrollProp=e.direction===ar?"scrollLeft":"scrollTop",ve(e,(t,i)=>{this["_"+t]=i})},_initAnimators:function(){this._inertiaAnimator=new M2(this),this._bounceAnimator=new B7(this)},_initScrollbar:function(){this._scrollbar=new O2(J("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()},_visibilityModeNormalize:function(e){return e===!0?"onScroll":e===!1?"never":e},_scrollStep:function(e){var t=this._location;this._location+=e,this._suppressBounce(),this._move(),!(Math.abs(t-this._location)<1)&&he.triggerHandler(this._$container,{type:"scroll"})},_suppressBounce:function(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation:function(e){return e=e!==void 0?e:this._location,Math.max(Math.min(e,this._maxOffset),this._minOffset)},_move:function(e){this._location=e!==void 0?e*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()},_moveContent:function(){var e=this._location;this._$container[this._scrollProp](-e/this._getScaleRatio()),this._moveContentByTranslator(e)},_getScaleRatio:function(){if(ht()&&!this._scaleRatio){var e=this._$element.get(0),t=this._getRealDimension(e,this._dimension),i=this._getBaseDimension(e,this._dimension);this._scaleRatio=Math.round(t/i*100)/100}return this._scaleRatio||1},_getRealDimension:function(e,t){return Math.round(vi(e)[t])},_getBaseDimension:function(e,t){var i="offset"+Nu(t);return e[i]},_moveContentByTranslator:function(e){var t,i=-this._maxScrollPropValue;if(e>0?t=e:e<=i?t=e-i:t=e%1,this._translateOffset!==t){var r={};if(r[this._prop]=t,this._translateOffset=t,t===0){cd(this._$content);return}ki(this._$content,r)}},_moveScrollbar:function(){this._scrollbar.moveTo(this._location)},_scrollComplete:function(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_scrollToBounds:function(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce:function(){var e=this._bounceLocation=this._boundLocation(),t=e-this._location;this._velocity=t/M7},_inBounds:function(e){return e=e!==void 0?e:this._location,this._boundLocation(e)===e},_crossBoundOnNextStep:function(){var e=this._location,t=e+this._velocity;return e<this._minOffset&&t>=this._minOffset||e>this._maxOffset&&t<=this._maxOffset},_initHandler:function(e){this._stopScrolling(),this._prepareThumbScrolling(e)},_stopScrolling:tl(function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()}),_prepareThumbScrolling:function(e){if(!mr(e.originalEvent)){var t=J(e.originalEvent.target),i=this._isScrollbar(t);i&&this._moveToMouseLocation(e),this._thumbScrolling=i||this._isThumb(t),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(t),this._thumbScrolling&&this._scrollbar.feedbackOn()}},_isThumbScrollingHandler:function(e){return this._isThumb(e)},_moveToMouseLocation:function(e){var t=e["page"+this._axis.toUpperCase()]-this._$element.offset()[this._prop],i=this._location+t/this._containerToContentRatio()-ct(this._$container)/2;this._scrollStep(-Math.round(i))},_startHandler:function(){this._showScrollbar()},_moveHandler:function(e){this._crossThumbScrolling||(this._thumbScrolling&&(e[this._axis]=-Math.round(e[this._axis]/this._containerToContentRatio())),this._scrollBy(e))},_scrollBy:function(e){e=e[this._axis],this._inBounds()||(e*=k2),this._scrollStep(e)},_scrollByHandler:function(e){this._scrollBy(e),this._scrollComplete()},_containerToContentRatio:function(){return this._scrollbar.containerToContentRatio()},_endHandler:function(e){return this._completeDeferred=new we,this._velocity=e[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler:function(){this._suppressInertia(),this._inertiaAnimator.start()},_suppressInertia:function(){(!this._inertiaEnabled||this._thumbScrolling)&&(this._velocity=0)},_resetThumbScrolling:function(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler:function(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler:function(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler:function(){this._update(),this._moveToBounds()},_update:function(){return this._stopScrolling(),dr(()=>{this._resetScaleRatio(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),Oi(()=>{this._moveScrollbar(),this._scrollbar.update()})})},_resetScaleRatio:function(){this._scaleRatio=null},_updateLocation:function(){this._location=(Ur(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()},_updateBounds:function(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()},_getMaxOffset:function(){return 0},_getMinOffset:function(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue},_updateScrollbar:dy(function(){var e=this._containerSize(),t=this._contentSize(),i=this._getBaseDimension(this._$container.get(0),this._dimension),r=this._getBaseDimension(this._$content.get(0),this._dimension);Oi(()=>{this._scrollbar.option({containerSize:e,contentSize:t,baseContainerSize:i,baseContentSize:r,scaleRatio:this._getScaleRatio()})})}),_moveToBounds:tl(dy(tl(function(){var e=this._boundLocation(),t=e!==this._location;this._location=e,this._move(),t&&this._scrollAction()}))),_createActionsHandler:function(e){this._scrollAction=e.scroll,this._bounceAction=e.bounce},_showScrollbar:function(){this._scrollbar.option("visible",!0)},_hideScrollbar:function(){this._scrollbar.option("visible",!1)},_containerSize:function(){return this._getRealDimension(this._$container.get(0),this._dimension)},_contentSize:function(){var e=this._$content.css("overflow"+this._axis.toUpperCase())==="hidden",t=this._getRealDimension(this._$content.get(0),this._dimension);if(!e){var i=this._$content[0]["scroll"+Nu(this._dimension)]*this._getScaleRatio();t=Math.max(i,t)}return t},_validateEvent:function(e){var t=J(e.originalEvent.target);return this._isThumb(t)||this._isScrollbar(t)},_isThumb:function(e){return this._scrollByThumb&&this._scrollbar.isThumb(e)},_isScrollbar:function(e){return this._scrollByThumb&&e&&e.is(this._$scrollbar)},_reachedMin:function(){return Math.round(this._location-this._minOffset)<=0},_reachedMax:function(){return Math.round(this._location-this._maxOffset)>=0},_cursorEnterHandler:function(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()},_cursorLeaveHandler:function(){this._scrollbar.cursorLeave()},dispose:Ee}),nn,Oo,P2=Ot.inherit({ctor:function(e){this._init(e)},_init:function(e){this._component=e,this._$element=e.$element(),this._$container=J(e.container()),this._$wrapper=e._$wrapper,this._$content=e.$content(),this.option=e.option.bind(e),this._createActionByOption=e._createActionByOption.bind(e),this._isLocked=e._isLocked.bind(e),this._isDirection=e._isDirection.bind(e),this._allowedDirection=e._allowedDirection.bind(e),this._getMaxOffset=e._getMaxOffset.bind(e)},render:function(){this._$element.addClass(mm),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers:function(){this._scrollers={},this._isDirection(ar)&&this._createScroller(ar),this._isDirection(_n)&&this._createScroller(_n),this._$element.toggleClass(E7,this.option("showScrollbar")==="always")},_createScroller:function(e){this._scrollers[e]=new B2(this._scrollerOptions(e))},_scrollerOptions:function(e){return{direction:e,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}},_applyScaleRatio:function(e){for(var t in this._scrollers){var i=this._getPropByDirection(t);if(oe(e[i])){var r=this._scrollers[t];e[i]*=r._getScaleRatio()}}return e},_isAnyThumbScrolling:function(e){var t=!1;return this._eventHandler("isThumbScrolling",e).done(function(i,r){t=i||r}),t},handleInit:function(e){this._suppressDirections(e),this._eventForUserAction=e,this._eventHandler("init",e)},_suppressDirections:function(e){if(mr(e.originalEvent)){this._prepareDirections(!0);return}this._prepareDirections(),this._eachScroller(function(t,i){var r=J(e.originalEvent.target),n=t._validateEvent(e)||this.option("scrollByContent")&&this._isContent(r);this._validDirections[i]=n})},_isContent:function(e){return!!e.closest(this._$element).length},_prepareDirections:function(e){e=e||!1,this._validDirections={},this._validDirections[ar]=e,this._validDirections[_n]=e},_eachScroller:function(e){e=e.bind(this),ve(this._scrollers,function(t,i){e(i,t)})},handleStart:function(e){this._eventForUserAction=e,this._eventHandler("start").done(this._startAction)},_saveActive:function(){Oo=this},_resetActive:function(){Oo===this&&(Oo=null)},handleMove:function(e){if(this._isLocked()){e.cancel=!0,this._resetActive();return}this._saveActive(),e.preventDefault&&e.preventDefault(),this._adjustDistance(e,e.delta),this._eventForUserAction=e,this._eventHandler("move",e.delta)},_adjustDistance:function(e,t){t.x*=this._validDirections[ar],t.y*=this._validDirections[_n];var i=this._tryGetDevicePixelRatio();i&&mr(e.originalEvent)&&(t.x=Math.round(t.x/i*100)/100,t.y=Math.round(t.y/i*100)/100)},_tryGetDevicePixelRatio:function(){if(ht())return ft().devicePixelRatio},handleEnd:function(e){return this._resetActive(),this._refreshCursorState(e.originalEvent&&e.originalEvent.target),this._adjustDistance(e,e.velocity),this._eventForUserAction=e,this._eventHandler("end",e.velocity).done(this._endAction)},handleCancel:function(e){return this._resetActive(),this._eventForUserAction=e,this._eventHandler("end",{x:0,y:0})},handleStop:function(){this._resetActive(),this._eventHandler("stop")},handleScroll:function(){this._updateRtlConfig(),this._scrollAction()},_attachKeyboardHandler:function(){he.off(this._$element,".".concat(pm)),!this.option("disabled")&&this.option("useKeyboard")&&he.on(this._$element,Be("keydown",pm),this._keyDownHandler.bind(this))},_keyDownHandler:function(e){if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout(()=>{ci(e)===Wn.TAB&&this._eachScroller(i=>{i._updateHandler()})}),!!this._$container.is(Re.getActiveElement())){var t=!0;switch(ci(e)){case Wn.DOWN:this._scrollByLine({y:1});break;case Wn.UP:this._scrollByLine({y:-1});break;case Wn.RIGHT:this._scrollByLine({x:1});break;case Wn.LEFT:this._scrollByLine({x:-1});break;case Wn.PAGE_DOWN:this._scrollByPage(1);break;case Wn.PAGE_UP:this._scrollByPage(-1);break;case Wn.HOME:this._scrollToHome();break;case Wn.END:this._scrollToEnd();break;default:t=!1}t&&(e.stopPropagation(),e.preventDefault())}},_scrollByLine:function(e){var t=this._tryGetDevicePixelRatio(),i=A7;t&&(i=Math.abs(i/t*100)/100),this.scrollBy({top:(e.y||0)*-i,left:(e.x||0)*-i})},_scrollByPage:function(e){var t=this._wheelProp(),i=this._dimensionByProp(t),r={},n=i==="width"?ut:ct;r[t]=e*-n(this._$container),this.scrollBy(r)},_dimensionByProp:function(e){return e==="left"?"width":"height"},_getPropByDirection:function(e){return e===ar?"left":"top"},_scrollToHome:function(){var e=this._wheelProp(),t={};t[e]=0,this._component.scrollTo(t)},_scrollToEnd:function(){var e=this._wheelProp(),t=this._dimensionByProp(e),i={},r=t==="width"?ut:ct;i[e]=r(this._$content)-r(this._$container),this._component.scrollTo(i)},createActions:function(){this._startAction=this._createActionHandler("onStart"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions:function(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})},_createActionHandler:function(e){var t=this._createActionByOption(e);return()=>{t(ce(this._createActionArgs(),arguments))}},_createActionArgs:function(){var{horizontal:e,vertical:t}=this._scrollers,i=this._getScrollOffset();return this._scrollOffset={top:t&&i.top,left:e&&i.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:e&&e._reachedMax(),reachedRight:e&&e._reachedMin(),reachedTop:t&&t._reachedMax(),reachedBottom:t&&t._reachedMin()}},_getScrollOffset(){return{top:-this.location().top,left:-this.location().left}},_eventHandler:function(e){var t=[].slice.call(arguments).slice(1),i=Ti(this._scrollers,r=>r["_"+e+"Handler"].apply(r,t));return Ke.apply(J,i).promise()},location:function(){var e=Ur(this._$content);return e.top-=this._$container.scrollTop(),e.left-=this._$container.scrollLeft(),e},disabledChanged:function(){this._attachCursorHandlers()},_attachCursorHandlers:function(){he.off(this._$element,".".concat(sh)),!this.option("disabled")&&this._isHoverMode()&&(he.on(this._$element,Be("mouseenter",sh),this._cursorEnterHandler.bind(this)),he.on(this._$element,Be("mouseleave",sh),this._cursorLeaveHandler.bind(this)))},_isHoverMode:function(){return this.option("showScrollbar")==="onHover"},_cursorEnterHandler:function(e){e=e||{},e.originalEvent=e.originalEvent||{},!(Oo||e.originalEvent._hoverHandled)&&(nn&&nn._cursorLeaveHandler(),nn=this,this._eventHandler("cursorEnter"),e.originalEvent._hoverHandled=!0)},_cursorLeaveHandler:function(e){nn!==this||Oo===nn||(this._eventHandler("cursorLeave"),nn=null,this._refreshCursorState(e&&e.relatedTarget))},_refreshCursorState:function(e){if(!(!this._isHoverMode()&&(!e||Oo))){var t=J(e),i=t.closest(".".concat(mm,":not(.dx-state-disabled)")),r=i.length&&i.data(S7);nn&&nn!==r&&nn._cursorLeaveHandler(),r&&r._cursorEnterHandler()}},update:function(){var e=this._eventHandler("update").done(this._updateAction);return Ke(e,dr(()=>{var t=this._allowedDirections();return Oi(()=>{var i=t.vertical?"pan-x":"";i=t.horizontal?"pan-y":i,i=t.vertical&&t.horizontal?"none":i,this._$container.css("touchAction",i)}),Ke().promise()}))},_allowedDirections:function(){var e=this.option("bounceEnabled"),t=this._scrollers[_n],i=this._scrollers[ar];return{vertical:t&&(t._minOffset<0||e),horizontal:i&&(i._minOffset<0||e)}},_updateBounds:function(){this._scrollers[ar]&&this._scrollers[ar]._updateBounds()},_isHorizontalAndRtlEnabled:function(){return this.option("rtlEnabled")&&this.option("direction")!==_n},updateRtlPosition:function(e){e&&(this._rtlConfig={scrollRight:0,clientWidth:this._$container.get(0).clientWidth,windowPixelRatio:this._getWindowDevicePixelRatio()}),this._updateBounds(),this._isHorizontalAndRtlEnabled()&&dr(()=>{var t=this._getMaxOffset().left-this._rtlConfig.scrollRight;t<=0&&(t=0,this._rtlConfig.scrollRight=this._getMaxOffset().left),Oi(()=>{this._getScrollOffset().left!==t&&(this._rtlConfig.skipUpdating=!0,this._component.scrollTo({left:t}),this._rtlConfig.skipUpdating=!1)})})},_updateRtlConfig:function(){if(this._isHorizontalAndRtlEnabled()&&!this._rtlConfig.skipUpdating){var{clientWidth:e,scrollLeft:t}=this._$container.get(0),i=this._getWindowDevicePixelRatio();this._rtlConfig.windowPixelRatio===i&&this._rtlConfig.clientWidth===e&&(this._rtlConfig.scrollRight=this._getMaxOffset().left-t),this._rtlConfig.clientWidth=e,this._rtlConfig.windowPixelRatio=i}},_getWindowDevicePixelRatio:function(){return ht()?ft().devicePixelRatio:1},scrollBy:function(e){var t=this._scrollers[_n],i=this._scrollers[ar];t&&(e.top=t._boundLocation(e.top+t._location)-t._location),i&&(e.left=i._boundLocation(e.left+i._location)-i._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:e.left,y:e.top}),this._endAction(),this._updateRtlConfig()},validate:function(e){return mr(e)&&Vi(e)||this.option("disabled")?!1:this.option("bounceEnabled")?!0:mr(e)?this._validateWheel(e):this._validateMove(e)},_validateWheel:function(e){var t=this._scrollers[this._wheelDirection(e)],i=t._reachedMin(),r=t._reachedMax(),n=!i||!r,a=!i&&!r,s=i&&e.delta>0,o=r&&e.delta<0,l=n&&(a||s||o);return l=l||this._validateWheelTimer!==void 0,l&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout(()=>{this._validateWheelTimer=void 0},O7)),l},_validateMove:function(e){return!this.option("scrollByContent")&&!J(e.target).closest(".".concat(T7)).length?!1:this._allowedDirection()},getDirection:function(e){return mr(e)?this._wheelDirection(e):this._allowedDirection()},_wheelProp:function(){return this._wheelDirection()===ar?"left":"top"},_wheelDirection:function(e){switch(this.option("direction")){case ar:return ar;case _n:return _n;default:return e&&e.shiftKey?ar:_n}},dispose:function(){this._resetActive(),nn===this&&(nn=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass(mm),this._eventForUserAction=null,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)},_detachEventHandlers:function(){he.off(this._$element,".".concat(sh)),he.off(this._$container,".".concat(pm))}}),wx="dxNativeScrollable",gm="dx-scrollable-native",P7="dx-scrollable-scrollbar-simulated",L7="dx-scrollable-scrollbars-hidden",Fl="vertical",oh="horizontal",F7=500,N0=Ot.inherit({ctor:function(e){this._init(e)},_init:function(e){this._component=e,this._$element=e.$element(),this._$container=J(e.container()),this._$content=e.$content(),this._direction=e.option("direction"),this._useSimulatedScrollbar=e.option("useSimulatedScrollbar"),this.option=e.option.bind(e),this._createActionByOption=e._createActionByOption.bind(e),this._isLocked=e._isLocked.bind(e),this._isDirection=e._isDirection.bind(e),this._allowedDirection=e._allowedDirection.bind(e),this._getMaxOffset=e._getMaxOffset.bind(e),this._isRtlNativeStrategy=e._isRtlNativeStrategy.bind(e)},render:function(){var e=Ye.real(),t=e.platform;this._$element.addClass(gm).addClass(gm+"-"+t).toggleClass(L7,!this._isScrollbarVisible()),this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._renderScrollbars()},updateRtlPosition:function(e){e&&this.option("rtlEnabled")&&this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._moveScrollbars()},_renderScrollbars:function(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass(P7),this._renderScrollbar(Fl),this._renderScrollbar(oh)},_renderScrollbar:function(e){this._isDirection(e)&&(this._scrollbars[e]=new O2(J("<div>").appendTo(this._$element),{direction:e,expandable:this._component.option("scrollByThumb")}))},handleInit:Ee,handleStart:Ee,handleMove:function(e){if(this._isLocked()){e.cancel=!0;return}this._allowedDirection()&&(e.originalEvent.isScrollingEvent=!0)},handleEnd:Ee,handleCancel:Ee,handleStop:Ee,_eachScrollbar:function(e){e=e.bind(this),ve(this._scrollbars||{},function(t,i){e(i,t)})},createActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs:function(){var{left:e,top:t}=this.location();return{event:this._eventForUserAction,scrollOffset:this._getScrollOffset(),reachedLeft:this._isRtlNativeStrategy()?this._isReachedRight(-e):this._isReachedLeft(e),reachedRight:this._isRtlNativeStrategy()?this._isReachedLeft(-Math.abs(e)):this._isReachedRight(e),reachedTop:this._isDirection(Fl)?Math.round(t)>=0:void 0,reachedBottom:this._isDirection(Fl)?Math.round(Math.abs(t)-this._getMaxOffset().top)>=0:void 0}},_getScrollOffset:function(){var{top:e,left:t}=this.location();return{top:-e,left:this._normalizeOffsetLeft(-t)}},_normalizeOffsetLeft(e){return this._isRtlNativeStrategy()?this._getMaxOffset().left+e:e},_isReachedLeft:function(e){return this._isDirection(oh)?Math.round(e)>=0:void 0},_isReachedRight:function(e){return this._isDirection(oh)?Math.round(Math.abs(e)-this._getMaxOffset().left)>=0:void 0},_isScrollbarVisible:function(){var{showScrollbar:e}=this.option();return e!=="never"&&e!==!1},handleScroll:function(e){this._eventForUserAction=e,this._moveScrollbars(),this._scrollAction(this._createActionArgs())},_moveScrollbars:function(){var{top:e,left:t}=this._getScrollOffset();this._eachScrollbar(function(i){i.moveTo({top:-e,left:-t}),i.option("visible",!0)}),this._hideScrollbars()},_hideScrollbars:function(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout((function(){this._eachScrollbar(function(e){e.option("visible",!1)})}).bind(this),F7)},location:function(){return{left:-this._$container.scrollLeft(),top:-this._$container.scrollTop()}},disabledChanged:Ee,update:function(){this._update(),this._updateAction(this._createActionArgs())},_update:function(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions:function(){this._containerSize={height:ct(this._$container),width:ut(this._$container)},this._componentContentSize={height:ct(this._component.$content()),width:ut(this._component.$content())},this._contentSize={height:ct(this._$content),width:ut(this._$content)}},_updateScrollbars:function(){this._eachScrollbar(function(e,t){var i=t===Fl?"height":"width";e.option({containerSize:this._containerSize[i],contentSize:this._componentContentSize[i]}),e.update()})},_allowedDirections:function(){return{vertical:this._isDirection(Fl)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(oh)&&this._contentSize.width>this._containerSize.width}},dispose:function(){var e=this._$element.get(0).className,t=new RegExp(gm+"\\S*","g");t.test(e)&&this._$element.removeClass(e.match(t).join(" ")),he.off(this._$element,"."+wx),he.off(this._$container,"."+wx),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars:function(){this._eachScrollbar(function(e){e.$element().remove()})},scrollBy:function(e){var t=this.location();this._$container.scrollTop(Math.round(-t.top-e.top)),this._$container.scrollLeft(Math.round(-t.left-e.left))},validate:function(e){return this.option("disabled")||mr(e)&&this._isScrolledInMaxDirection(e)?!1:!!this._allowedDirection()},_isScrolledInMaxDirection(e){var t=this._$container.get(0),i;return e.delta>0?i=e.shiftKey?!t.scrollLeft:!t.scrollTop:e.shiftKey?i=t.scrollLeft>=this._getMaxOffset().left:i=t.scrollTop>=this._getMaxOffset().top,i},getDirection:function(){return this._allowedDirection()}}),L2=function(){return[{device:function(){return!Us},options:{useNative:!1}},{device:function(e){return!Ye.isSimulator()&&Ye.real().deviceType==="desktop"&&e.platform==="generic"},options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:js,showScrollbar:"onHover"}}]};function F2(e,t){for(var i={left:0,top:0},r=t;(n=r)!==null&&n!==void 0&&n.offsetParent&&!r.classList.contains(e);){var n,a=r.offsetParent,s=r.getBoundingClientRect(),o=a.getBoundingClientRect();i.left+=s.left-o.left,i.top+=s.top-o.top,r=r.offsetParent}return i}var jc="vertical",N2="horizontal",vm="both",V2="dx-scrollable-content";function N7(e,t,i,r,n){var a=Ne({top:0,left:0,right:0,bottom:0},n),s=t===jc,o=s?"top":"left",l=s?"bottom":"right",u=s?"height":"width",d=i["offset".concat(Nu(u))],c=i["client".concat(Nu(u))],h=i.getBoundingClientRect()[u],f=e.getBoundingClientRect()[u],p=1;Math.abs(h-d)>1&&(p=h/d);var g=F2(V2,e)[o]/p,m=r[o],v=m-g+a[o],b=m-g-f/p+c-a[l];return v<=0&&b>=0?m:m-(Math.abs(v)>Math.abs(b)?b:v)}var Cn="dxScrollable",V7="dxScrollableStrategy",Sx="dx-scrollable",H7="dx-scrollable-disabled",$7="dx-scrollable-container",z7="dx-scrollable-wrapper",Ex="dx-scrollable-content",bn="vertical",jn="horizontal",_m="both",Mr=Nn.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{disabled:!1,onScroll:null,direction:bn,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,updateManually:!1})},_defaultOptionsRules:function(){return this.callBase().concat(L2(),[{device:function(){return Us&&Ye.real().platform==="android"&&!ri.mozilla},options:{useSimulatedScrollbar:!0}}])},_initOptions:function(e){this.callBase(e),"useSimulatedScrollbar"in e||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar:function(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init:function(){this.callBase(),this._initScrollableMarkup(),this._locked=!1},_visibilityChanged:function(e){e?(this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset):this._savedScrollOffset=this.scrollOffset()},_initScrollableMarkup:function(){var e=this.$element().addClass(Sx),t=this._$container=J("<div>").addClass($7),i=this._$wrapper=J("<div>").addClass(z7),r=this._$content=J("<div>").addClass(Ex);r.append(e.contents()).appendTo(t),t.appendTo(i),i.appendTo(e)},_dimensionChanged:function(){this.update(),this._updateRtlPosition()},_initMarkup:function(){this.callBase(),this._renderDirection()},_render:function(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase(),this._updateRtlPosition(!0)},_updateRtlPosition:function(e){this._strategy.updateRtlPosition(e)},_getMaxOffset:function(){var{scrollWidth:e,clientWidth:t,scrollHeight:i,clientHeight:r}=J(this.container()).get(0);return{left:e-t,top:i-r}},_attachEventHandlers:function(){var e=this._strategy,t={getDirection:e.getDirection.bind(e),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};he.off(this._$wrapper,"."+Cn),he.on(this._$wrapper,Be(Ao.init,Cn),t,this._initHandler.bind(this)),he.on(this._$wrapper,Be(Ao.start,Cn),e.handleStart.bind(e)),he.on(this._$wrapper,Be(Ao.move,Cn),e.handleMove.bind(e)),he.on(this._$wrapper,Be(Ao.end,Cn),e.handleEnd.bind(e)),he.on(this._$wrapper,Be(Ao.cancel,Cn),e.handleCancel.bind(e)),he.on(this._$wrapper,Be(Ao.stop,Cn),e.handleStop.bind(e)),he.off(this._$container,"."+Cn),he.on(this._$container,Be("scroll",Cn),e.handleScroll.bind(e))},_validate:function(e){return this._isLocked()?!1:(this._updateIfNeed(),this._moveIsAllowed(e))},_moveIsAllowed(e){return this._strategy.validate(e)},handleMove(e){this._strategy.handleMove(e)},_prepareDirections(e){this._strategy._prepareDirections(e)},_initHandler:function(){var e=this._strategy;e.handleInit.apply(e,arguments)},_renderDisabledState:function(){this.$element().toggleClass(H7,this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection:function(){this.$element().removeClass("dx-scrollable-"+jn).removeClass("dx-scrollable-"+bn).removeClass("dx-scrollable-"+_m).addClass("dx-scrollable-"+this.option("direction"))},_renderStrategy:function(){this._createStrategy(),this._strategy.render(),this.$element().data(V7,this._strategy)},_createStrategy:function(){this._strategy=this.option("useNative")?new N0(this):new P2(this)},_createActions:function(){this._strategy&&this._strategy.createActions()},_clean:function(){this._strategy&&this._strategy.dispose()},_optionChanged:function(e){switch(e.name){case"onStart":case"onEnd":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":this._invalidate();break;case"disabled":this._renderDisabledState(),this._strategy&&this._strategy.disabledChanged();break;case"updateManually":case"scrollByContent":break;case"width":this.callBase(e),this._updateRtlPosition();break;default:this.callBase(e)}},_resetInactiveDirection:function(){var e=this._getInactiveProp();if(!(!e||!ht())){var t=this.scrollOffset();t[e]=0,this.scrollTo(t)}},_getInactiveProp:function(){var e=this.option("direction");if(e===bn)return"left";if(e===jn)return"top"},_location:function(){return this._strategy.location()},_normalizeLocation:function(e){if(Ct(e)){var t=hi(e.left,e.x),i=hi(e.top,e.y);return{left:oe(t)?-t:void 0,top:oe(i)?-i:void 0}}else{var r=this.option("direction");return{left:r!==bn?-e:void 0,top:r!==jn?-e:void 0}}},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this.option("disabled")||(this._locked=!1)},_isDirection:function(e){var t=this.option("direction");return e===bn?t!==jn:e===jn?t!==bn:t===e},_updateAllowedDirection:function(){var e=this._strategy._allowedDirections();this._isDirection(_m)&&e.vertical&&e.horizontal?this._allowedDirectionValue=_m:this._isDirection(jn)&&e.horizontal?this._allowedDirectionValue=jn:this._isDirection(bn)&&e.vertical?this._allowedDirectionValue=bn:this._allowedDirectionValue=null},_allowedDirection:function(){return this._allowedDirectionValue},$content:function(){return this._$content},content:function(){return ot(this._$content)},container:function(){return ot(this._$container)},scrollOffset:function(){return this._strategy._getScrollOffset()},_isRtlNativeStrategy:function(){var{useNative:e,rtlEnabled:t}=this.option();return e&&t},scrollTop:function(){return this.scrollOffset().top},scrollLeft:function(){return this.scrollOffset().left},clientHeight:function(){return ct(this._$container)},scrollHeight:function(){return At(this.$content())},clientWidth:function(){return ut(this._$container)},scrollWidth:function(){return Pt(this.$content())},update:function(){if(this._strategy)return Ke(this._strategy.update()).done((function(){this._updateAllowedDirection()}).bind(this))},scrollBy:function(e){e=this._normalizeLocation(e),!(!e.top&&!e.left)&&(this._updateIfNeed(),this._strategy.scrollBy(e))},scrollTo:function(e){e=this._normalizeLocation(e),this._updateIfNeed();var t=this._location();this.option("useNative")||(e=this._strategy._applyScaleRatio(e),t=this._strategy._applyScaleRatio(t)),this._isRtlNativeStrategy()&&(t.left=t.left-this._getMaxOffset().left);var i=this._normalizeLocation({left:t.left-hi(e.left,t.left),top:t.top-hi(e.top,t.top)});!i.top&&!i.left||this._strategy.scrollBy(i)},scrollToElement:function(e,t){var i=J(e),r=this.$content().find(e).length,n=i.parents("."+Sx).length-i.parents("."+Ex).length===0;if(!(!r||!n)){var a={top:0,left:0},s=this.option("direction");s!==bn&&(a.left=this.getScrollElementPosition(i,jn,t)),s!==jn&&(a.top=this.getScrollElementPosition(i,bn,t)),this.scrollTo(a)}},getScrollElementPosition:function(e,t,i){var r=this.scrollOffset();return N7(e.get(0),t,J(this.container()).get(0),r,i)},_updateIfNeed:function(){this.option("updateManually")||this.update()},_useTemplates:function(){return!1},isRenovated:function(){return!!Mr.IS_RENOVATED_WIDGET}});Tt(Cn,Mr);var W7="rowsview",j7="content",U7="nowrap",bm="dx-group-row",Tx="dx-group-cell",G7="dx-data-row",lh="dx-freespace-row",K7="dx-row-lines",Ix="dx-column-lines",Ax="dx-row-alt",Ox="dx-last-row-border",q7="dx-empty",X7="row-inserted-animation",Y7=200;function Dx(e){return e?Math.round(e.scrollWidth()-e.clientWidth()):0}var H2={defaultOptions:function(){return{hoverStateEnabled:!1,scrolling:{useNative:"auto"},loadPanel:{enabled:"auto",text:Ae.format("Loading"),width:200,height:90,showIndicator:!0,indicatorSrc:"",showPane:!0},dataRowTemplate:null,columnAutoWidth:!1,noDataText:Ae.format("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}},views:{rowsView:yd.inherit(function(){var e=function(t,i){var r=bu(i.text)&&i.rowType==="data",n=i.text,a=t.get(0);r?Fe.setEmptyText(t):i.column.encodeHtml?a.textContent=n:a.innerHTML=n};return{_getDefaultTemplate:function(t){switch(t.command){case"empty":return function(i){i.html("&nbsp;")};default:return e}},_getDefaultGroupTemplate:function(t){var i=this.option("summary.texts");return function(r,n){var a=n.data,s=n.column.caption+": "+n.text,o=r.get(0);n.summaryItems&&n.summaryItems.length&&(s+=" "+Fe.getGroupRowSummaryText(n.summaryItems,i)),a&&(n.groupContinuedMessage&&n.groupContinuesMessage?s+=" ("+n.groupContinuedMessage+". "+n.groupContinuesMessage+")":n.groupContinuesMessage?s+=" ("+n.groupContinuesMessage+")":n.groupContinuedMessage&&(s+=" ("+n.groupContinuedMessage+")")),r.addClass(Tx),t.encodeHtml?o.textContent=s:o.innerHTML=s}},_update:function(){},_getCellTemplate:function(t){var i=t.column,r;return t.rowType==="group"&&oe(i.groupIndex)&&!i.showWhenGrouped&&!i.command?r=i.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultGroupTemplate(i)}:(t.rowType==="data"||i.command)&&i.cellTemplate?r=i.cellTemplate:r={allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(i)},r},_createRow:function(t){var i=this.callBase.apply(this,arguments);if(t){var r=t.rowType==="group",n=t.rowType==="data";if(n&&i.addClass(G7),n&&this.option("showRowLines")&&i.addClass(K7),this.option("showColumnLines")&&i.addClass(Ix),t.visible===!1&&i.hide(),r){i.addClass(bm);var a=t.isExpanded;this.setAria("role","row",i),this.setAria("expanded",oe(a)&&a.toString(),i)}}return i},_rowPrepared:function(t,i,r){i.rowType==="data"&&(this.option("rowAlternationEnabled")&&(this._isAltRow(r)&&t.addClass(Ax),i.watch&&i.watch(()=>this._isAltRow(r),n=>{t.toggleClass(Ax,n)})),this._setAriaRowIndex(i,t),i.watch&&i.watch(()=>i.rowIndex,()=>this._setAriaRowIndex(i,t))),this.callBase.apply(this,arguments)},_setAriaRowIndex:function(t,i){var r=this.component,n=r.option("scrolling.mode")==="standard"&&!Fe.isVirtualRowRendering(r),a=t.rowIndex+1;n?a=r.pageIndex()*r.pageSize()+a:a+=this._dataController.getRowIndexOffset(),this.setAria("rowindex",a,i)},_afterRowPrepared:function(t){var i=t.args[0],r=this._dataController,n=r.getVisibleRows()[i.rowIndex],a=this.option("integrationOptions.watchMethod");if(!(!i.data||i.rowType!=="data"||i.isNewRow||!this.option("twoWayBindingEnabled")||!a||!n)){var s=a(()=>r.generateDataValues(i.data,i.columns),()=>{r.repaintRows([n.rowIndex],this.option("repaintChangesOnly"))},{deep:!0,skipImmediate:!0});he.on(i.rowElement,Ln,s)}},_renderScrollable:function(t){var i=this.element();if(i.children().length||i.append("<div>"),(t||!this._loadPanel)&&this._renderLoadPanel(i,i.parent(),this._dataController.isLocalStore()),(t||!this.getScrollable())&&this._dataController.isLoaded()){for(var r=this.getColumns(),n=!0,a=0;a<r.length;a++)if(!r[a].width&&!r[a].minWidth){n=!1;break}(this.option("columnAutoWidth")||this._hasHeight||n||this._columnsController._isColumnFixing())&&this._renderScrollableCore(i)}},_handleScroll:function(t){var i=this.option("rtlEnabled"),r=t.component.option("useNative");this._scrollTop=t.scrollOffset.top,this._scrollLeft=t.scrollOffset.left;var n=t.scrollOffset.left;i&&(this._scrollRight=Dx(t.component)-this._scrollLeft,r&&(n=-this._scrollRight),this.isScrollbarVisible(!0)||(this._scrollLeft=-1)),this.scrollChanged.fire(Ne({},t.scrollOffset,{left:n}),this.name)},_renderScrollableCore:function(t){var i=this._createScrollableOptions(),r=this._handleScroll.bind(this);i.onScroll=r,this._scrollable=this._createComponent(t,Mr,i),this._scrollableContainer=this._scrollable&&J(this._scrollable.container())},_renderLoadPanel:Fe.renderLoadPanel,_renderContent:function(t,i){return t.empty().append(i),this._findContentElement()},_updateContent:function(t,i){var r=this,n=r.getTableElement(),a=r._findContentElement(),s=i&&i.changeType,o=[],l=this.option("highlightChanges"),u=this.addWidgetPrefix(X7);switch(s){case"update":ve(i.rowIndices,function(d,c){var h=r._getRowElements(t).eq(d),f=i.changeTypes&&i.changeTypes[d],p=i.items&&i.items[d];o.push(function(){var g=r._getRowElements(),m=g.eq(c);switch(f){case"update":if(p){var v=i.columnIndices&&i.columnIndices[d];oe(p.visible)&&p.visible!==m.is(":visible")?m.toggle(p.visible):v?r._updateCells(m,h,v):m.replaceWith(h)}break;case"insert":if(g.length)m.length?h.insertBefore(m):h.insertAfter(g.last());else if(n){var b=h.is("tbody")?n:n.children("tbody");h.prependTo(b)}l&&i.isLiveUpdate&&h.addClass(u);break;case"remove":m.remove()}})}),ve(o,function(){this()}),t.remove();break;default:r.setTableElement(t),a.addClass(r.addWidgetPrefix(j7)),r._renderContent(a,t)}},_createEmptyRow:function(t,i,r){var n,a=this._createRow(),s=i?this.getFixedColumns():this.getColumns();a.addClass(t).toggleClass(Ix,this.option("showColumnLines"));for(var o=0;o<s.length;o++)n=this._createCell({column:s[o],rowType:"freeSpace",columnIndex:o,columns:s}),ei(r)&&n.css("height",r),a.append(n);return this.setAria("role","presentation",a),a},_appendEmptyRow:function(t,i,r){var n=this._getBodies(t),a=!n.length||i.is("tbody"),s=a?t:n;if(r==="top"){if(s.first().prepend(i),a){var o=s.children("colgroup");s.prepend(o)}}else s.last().append(i)},_renderFreeSpaceRow:function(t,i){var r=this._createEmptyRow(lh);r=this._wrapRowIfNeed(t,r,(i==null?void 0:i.changeType)==="refresh"),this._appendEmptyRow(t,r)},_checkRowKeys:function(t){var i=this,r=i._getRows(t),n=i._dataController.store()&&i._dataController.store().key();n&&r.some(function(a){if(a.rowType==="data"&&a.key===void 0)return i._dataController.fireError("E1046",n),!0})},_needUpdateRowHeight:function(t){return t>0&&!this._rowHeight},_getRowsHeight:function(t){t=t||this._tableElement;var i=t.children("tbody").children().not(".dx-virtual-row").not("."+lh);return i.toArray().reduce(function(r,n){return r+vi(n).height},0)},_updateRowHeight:function(){var t=this.getTableElement(),i=this._dataController.items().length;if(t&&this._needUpdateRowHeight(i)){var r=this._getRowsHeight(t);this._rowHeight=r/i}},_findContentElement:function(){var t=this.element(),i=this.getScrollable();if(t)return i&&(t=J(i.content())),t.children().first()},_getRowElements:function(t){var i=this.callBase(t);return i&&i.not("."+lh)},_getFreeSpaceRowElements:function(t){var i=t||this.getTableElements();return i&&i.children("tbody").children("."+lh)},_getNoDataText:function(){return this.option("noDataText")},_rowClick:function(t){var i=this._dataController.items()[t.rowIndex]||{};this.executeAction("onRowClick",ce({evaluate:function(r){var n=Yt(r);return n(i.data)}},t,i))},_rowDblClick:function(t){var i=this._dataController.items()[t.rowIndex]||{};this.executeAction("onRowDblClick",ce({},t,i))},_getColumnsCountBeforeGroups:function(t){for(var i=0;i<t.length;i++)if(t[i].type==="groupExpand")return i;return 0},_getGroupCellOptions:function(t){var i=this._getColumnsCountBeforeGroups(t.columns),r=(t.row.groupIndex||0)+i;return{columnIndex:r,colspan:t.columns.length-r-1}},_needWrapRow:function(){return this.callBase.apply(this,arguments)||!!this.option("dataRowTemplate")},_renderCells:function(t,i){i.row.rowType==="group"?this._renderGroupedCells(t,i):i.row.values&&this.callBase(t,i)},_renderGroupedCells:function(t,i){for(var r=i.row,n,a=i.columns,s=r.rowIndex,o,l=this._getGroupCellOptions(i),u=0;u<=l.columnIndex;u++)u===l.columnIndex&&a[u].allowCollapsing&&i.scrollingMode!=="infinite"?(o=!!r.isExpanded,n=a[u]):(o=null,n={command:"expand",cssClass:a[u].cssClass}),this._needRenderCell(u,i.columnIndices)&&this._renderCell(t,{value:o,row:r,rowIndex:s,column:n,columnIndex:u,columnIndices:i.columnIndices});var d=os(this.option("rtlEnabled")),c=ce({},a[l.columnIndex],{command:null,type:null,cssClass:null,width:null,showWhenGrouped:!1,alignment:d});l.colspan>1&&(c.colspan=l.colspan),this._needRenderCell(l.columnIndex+1,i.columnIndices)&&this._renderCell(t,{value:r.values[r.groupIndex],row:r,rowIndex:s,column:c,columnIndex:l.columnIndex+1,columnIndices:i.columnIndices})},_renderRows:function(t,i){var r=this.option("scrolling.mode");this.callBase(t,ce({scrollingMode:r},i)),this._checkRowKeys(i.change),this._renderFreeSpaceRow(t,i.change),this._hasHeight||this.updateFreeSpaceRowHeight(t)},_renderDataRowByTemplate(t,i,r){var n=i.row,a=ce({columns:i.columns},n),s=this._createRow(n,"tbody");s.appendTo(t),this.renderTemplate(s,r,a,!0,i.change),this._rowPrepared(s,a,i.row)},_renderRow:function(t,i){var r=i.row,n=this.option().rowTemplate,a=this.option("dataRowTemplate");r.rowType==="data"&&a?this._renderDataRowByTemplate(t,i,a):(r.rowType==="data"||r.rowType==="group")&&!oe(r.groupIndex)&&n?this.renderTemplate(t,n,ce({columns:i.columns},r),!0):this.callBase(t,i)},_renderTable:function(t){var i=this,r=i.callBase(t);return oe(i.getTableElement())?i._renderScrollable():(i.setTableElement(r),i._renderScrollable(!0),i.resizeCompleted.add(function n(){var a=i.getScrollable();a&&i.element().closest(ft().document).length&&(i.resizeCompleted.remove(n),a._visibilityChanged(!0))})),r},_createTable:function(){var t=this.callBase.apply(this,arguments);return(this.option().rowTemplate||this.option().dataRowTemplate)&&t.appendTo(this.component.$element()),t},_renderCore:function(t){var i=this.element();i.addClass(this.addWidgetPrefix(W7)).toggleClass(this.addWidgetPrefix(U7),!this.option("wordWrapEnabled")),i.toggleClass(q7,this._dataController.isEmpty()),this.setAria("role","presentation",i);var r=this._renderTable({change:t});this._updateContent(r,t),this.callBase(t),this._lastColumnWidths=null},_getRows:function(t){return t&&t.items||this._dataController.items()},_getCellOptions:function(t){var i=t.column,r=t.row,n=r.data,a=r&&r.summaryCells,s=t.value,o=Fe.getDisplayValue(i,s,n,r.rowType),l=this.callBase(t);if(l.value=s,l.oldValue=t.oldValue,l.displayValue=o,l.row=r,l.key=r.key,l.data=n,l.rowType=r.rowType,l.values=r.values,l.text=i.command?"":Fe.formatValue(o,i),l.rowIndex=r.rowIndex,l.summaryItems=a&&a[t.columnIndex],l.resized=i.resizedCallbacks,oe(i.groupIndex)&&!i.command){var u=this.option("grouping.texts"),d=this.option("scrolling.mode");d!=="virtual"&&d!=="infinite"&&(l.groupContinuesMessage=n&&n.isContinuationOnNextPage&&u&&u.groupContinuesMessage,l.groupContinuedMessage=n&&n.isContinuation&&u&&u.groupContinuedMessage)}return l},_setRowsOpacityCore:function(t,i,r,n){var a=this._columnsController,s=a.getColumns(),o=s&&s[r],l=o&&o.isBand&&o.index;ve(t,function(u,d){if(!J(d).hasClass(bm))for(var c=0;c<i.length&&!((ei(l)&&a.isParentBandColumn(i[c].index,l)||i[c].index===r)&&(t.eq(u).children().eq(c).css({opacity:n}),!ei(l)));c++);})},_getDevicePixelRatio:function(){return ft().devicePixelRatio},renderNoDataText:Fe.renderNoDataText,getCellOptions:function(t,i){var r=this._dataController.items()[t],n,a;return r&&(nt(i)?a=this._columnsController.columnOption(i):a=this._columnsController.getVisibleColumns()[i],a&&(n=this._getCellOptions({value:a.calculateCellValue(r.data),rowIndex:r.rowIndex,row:r,column:a}))),n},getRow:function(t){if(t>=0){var i=this._getRowElements();if(i.length>t)return J(i[t])}},updateFreeSpaceRowHeight:function(t){var i=this._dataController,r=i.items(!0).length,n=this._findContentElement(),a=this._getFreeSpaceRowElements(t);if(a&&n&&i.totalCount()>=0){var s=!1;if(r>0)if(this._hasHeight)a.hide(),dr(()=>{var u=this.getScrollbarWidth(!0),d=ct(this.element())-u,c=At(n),h=d-c>0,f=this._getRowsHeight(n.children().first()),p=t||this.getTableElements(),g=Math.ceil(parseFloat(p.css("borderTopWidth"))),m=this._getHeightCorrection(),v=d-f-g-m;h&&Oi(()=>{a.css("height",v),s=!0,a.show()}),Oi(()=>this._updateLastRowBorder(s))});else{var o=i.pageSize()-r,l=this.option("scrolling.mode");o>0&&i.pageCount()>1&&l!=="virtual"&&l!=="infinite"&&(Lp(a,o*this._rowHeight),s=!0),!s&&t?Lp(a,0):a.toggle(s),this._updateLastRowBorder(s)}else a.css("height",0),a.show(),this._updateLastRowBorder(!0)}},_getHeightCorrection:function(){var t=ri.webkit&&this._getDevicePixelRatio()>=2,i=ri.chrome&&ri.version>=91,r=ri.mozilla&&ri.version>=70&&!this.option("showRowLines");return t||r||i?1:0},_columnOptionChanged:function(t){var i=t.optionNames;t.changeTypes.grouping||(i.width||i.visibleWidth)&&(this.callBase(t),this._fireColumnResizedCallbacks())},getScrollable:function(){return this._scrollable},init:function(){var t=this,i=t.getController("data");t.callBase(),t._editorFactoryController=t.getController("editorFactory"),t._rowHeight=0,t._scrollTop=0,t._scrollLeft=-1,t._scrollRight=0,t._hasHeight=!1,i.loadingChanged.add(function(r,n){t.setLoading(r,n)}),i.dataSourceChanged.add(function(){t._scrollLeft>=0&&t._handleScroll({component:t.getScrollable(),scrollOffset:{top:t._scrollTop,left:t._scrollLeft}})})},_handleDataChanged:function(t){switch(t.changeType){case"refresh":case"prepend":case"append":case"update":this.render(null,t);break;default:this._update(t)}},publicMethods:function(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement","getRowElement","getScrollable"]},contentWidth:function(){return ut(this.element())-this.getScrollbarWidth()},getScrollbarWidth:function(t){var i=this._scrollableContainer&&this._scrollableContainer.get(0),r=0;i&&(t?(r=i.clientHeight?i.offsetHeight-i.clientHeight:0,r+=(n=this,a=n.getScrollable(),a?Math.ceil(parseFloat(J(a.content()).css("paddingBottom"))):0)):r=i.clientWidth?i.offsetWidth-i.clientWidth:0);var n,a;return r>0?r:0},_fireColumnResizedCallbacks:function(){for(var t=this._lastColumnWidths||[],i=[],r=this.getColumns(),n=0;n<r.length;n++)i[n]=r[n].visibleWidth,r[n].resizedCallbacks&&!oe(r[n].groupIndex)&&t[n]!==i[n]&&r[n].resizedCallbacks.fire(i[n]);this._lastColumnWidths=i},_updateLastRowBorder:function(t){this.option("showBorders")&&this.option("showRowLines")&&!t?this.element().addClass(Ox):this.element().removeClass(Ox)},_updateScrollable:function(){var t=Mr.getInstance(this.element());t&&(t.update(),this._updateHorizontalScrollPosition())},_updateHorizontalScrollPosition:function(){var t=this.getScrollable(),i=t&&t.scrollOffset().left,r=this.option("rtlEnabled");if(r){var n=Dx(t),a=n-i;a!==this._scrollRight&&(this._scrollLeft=n-this._scrollRight)}this._scrollLeft>=0&&i!==this._scrollLeft&&t.scrollTo({x:this._scrollLeft})},_resizeCore:function(){var t=this;t._fireColumnResizedCallbacks(),t._updateRowHeight(),Oi(function(){t._renderScrollable(),t.renderNoDataText(),t.updateFreeSpaceRowHeight(),dr(function(){t._updateScrollable()})})},scrollTo:function(t){var i=this.element(),r=i&&Mr.getInstance(i);r&&r.scrollTo(t)},height:function(t,i){var r=this,n=this.element();if(arguments.length===0)return n?At(n,!0):0;r._hasHeight=i===void 0?t!=="auto":i,oe(t)&&n&&Lp(n,t)},setLoading:function(t,i){var r=this._loadPanel,n=this._dataController,a=this.option("loadPanel")||{},s=n.isLoaded()?a.animation:null,o=this.element();if(ht()&&(!r&&i!==void 0&&n.isLocalStore()&&a.enabled==="auto"&&o&&(this._renderLoadPanel(o,o.parent()),r=this._loadPanel),r)){var l={message:i||a.text,animation:s,visible:t};t&&(l.position=Fe.calculateLoadPanelPosition(o)),clearTimeout(this._hideLoadingTimeoutID),r.option("visible")&&!t?this._hideLoadingTimeoutID=setTimeout(function(){r.option(l)},Y7):r.option(l)}},setRowsOpacity:function(t,i){var r=this._getRowElements().not("."+bm)||[];this._setRowsOpacityCore(r,this.getColumns(),t,i)},_getCellElementsCore:function(t){var i=this.callBase.apply(this,arguments);if(i){var r=i.filter("."+Tx).index();if(r>=0&&i.length>r+1)return i.slice(0,r+1)}return i},_getBoundaryVisibleItemIndex:function(t,i){var r=0,n=0,a=0,s=this._scrollTop,o=this._findContentElement(),l=o&&o.offset().top,u=this.getController("data"),d=u.items(),c=this.getTableElement();if(d.length&&c){var h=this._getRowElements(c).filter(":visible");if(!t){var f=At(this._hasHeight?this.element():ft());s+=f}for(r=0;r<d.length;r++){n=a;var p=J(h).eq(r);if(p.length&&(a=p.offset(),a=(t?a.top:a.top+At(p))-l,a>s)){r&&(i||2*s<Math.round(a+n))&&r--;break}}r&&r===d.length&&r--}return r},getTopVisibleItemIndex:function(t){return this._getBoundaryVisibleItemIndex(!0,t)},getBottomVisibleItemIndex:function(t){return this._getBoundaryVisibleItemIndex(!1,t)},getTopVisibleRowData:function(){var t=this.getTopVisibleItemIndex(),i=this._dataController.items();if(i[t])return i[t].data},_scrollToElement:function(t,i){var r=this.getScrollable();r&&r.scrollToElement(t,i)},optionChanged:function(t){switch(this.callBase(t),t.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"dataRowTemplate":case"twoWayBindingEnabled":this._invalidate(!0,!0),t.handled=!0;break;case"scrolling":this._rowHeight=null,this._tableElement=null,t.handled=!0;break;case"rtlEnabled":this._rowHeight=null,this._tableElement=null;break;case"loadPanel":this._tableElement=null,this._invalidate(!0,t.fullName!=="loadPanel.enabled"),t.handled=!0;break;case"noDataText":this.renderNoDataText(),t.handled=!0}},dispose:function(){clearTimeout(this._hideLoadingTimeoutID),this._scrollable&&this._scrollable.dispose()},setScrollerSpacing:function(){},_restoreErrorRow:function(){}}}())}};H2.views.rowsView;qe.registerModule("rows",H2);var kx="dx-inkripple",Rx="dx-inkripple-wave",$2="dx-inkripple-showing",z2="dx-inkripple-hiding",Z7=2,J7=4e3,ym=300,Q7=1e3,W2=0,j2=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{useHoldAnimation:t,waveSizeCoefficient:i,isCentered:r,wavesNumber:n}=e;return{waveSizeCoefficient:i||Z7,isCentered:r||!1,wavesNumber:n||1,durations:rH(t??!0)}},V0=function(e){var t=j2(e);return{showWave:G2.bind(this,t),hideWave:q2.bind(this,t)}},eH=function(e){var t=e.children("."+kx);return t.length===0&&(t=J("<div>").addClass(kx).appendTo(e)),t},U2=function(e,t){for(var i=eH(J(e)),r=i.children("."+Rx).toArray(),n=r.length;n<t;n++){var a=J("<div>").appendTo(i).addClass(Rx);r.push(a[0])}return J(r)},tH=function(e,t){var i=J(t.element),r=Pt(i),n=At(i),a=parseInt(Math.sqrt(r*r+n*n)),s=Math.min(J7,parseInt(a*e.waveSizeCoefficient)),o,l;if(e.isCentered)o=(r-s)/2,l=(n-s)/2;else{var u=t.event,d=i.offset(),c=u.pageX-d.left,h=u.pageY-d.top;o=c-s/2,l=h-s/2}return{left:o,top:l,height:s,width:s}};function G2(e,t){var i=U2(t.element,e.wavesNumber).eq(t.wave||W2);e.hidingTimeout&&clearTimeout(e.hidingTimeout),K2(i),i.css(tH(e,t)),e.showingTimeout=setTimeout(iH.bind(this,e,i),0)}function iH(e,t){var i=e.durations.showingScale+"ms";t.addClass($2).css("transitionDuration",i)}function rH(e){return{showingScale:e?Q7:ym,hidingScale:ym,hidingOpacity:ym}}function K2(e){e.removeClass(z2).css("transitionDuration","")}function q2(e,t){e.showingTimeout&&clearTimeout(e.showingTimeout);var i=U2(t.element,t.wavesNumber).eq(t.wave||W2),r=e.durations,n=r.hidingScale+"ms, "+r.hidingOpacity+"ms";i.addClass(z2).removeClass($2).css("transitionDuration",n);var a=Math.max(r.hidingScale,r.hidingOpacity);e.hidingTimeout=setTimeout(K2.bind(this,i),a)}var Nl="dx-icon",nH="dx-svg-icon",wd=e=>!e||typeof e!="string"?!1:/^\s*<svg[^>]*>(.|\r?\n)*?<\/svg>\s*$/i.test(e)?"svg":/data:.*base64|\.|[^<\s]\/{1,1}/.test(e)?"image":/^[\w-_]+$/.test(e)?"dxIcon":/^\s?([\w-_]\s?)+$/.test(e)?"fontIcon":!1,Ys=e=>{switch(wd(e)){case"image":return J("<img>").attr("src",e).addClass(Nl);case"fontIcon":return J("<i>").addClass("".concat(Nl," ").concat(e));case"dxIcon":return J("<i>").addClass("".concat(Nl," ").concat(Nl,"-").concat(e));case"svg":return J("<i>").addClass("".concat(Nl," ").concat(nH)).append(e);default:return null}};function aH(e){return class{constructor(){throw new Error("Module '".concat(e,"' not found"))}static getInstance(){}}}var Mx=aH("TextBox");const Zs={_getDefaultOptions:function(){return ce(this.callBase(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})},_initMarkup:function(){this._renderSearch(),this.callBase()},_renderSearch:function(){var e=this.$element(),t=this.option("searchEnabled"),i=this._addWidgetPrefix("search"),r=this._addWidgetPrefix("with-search");if(!t){e.removeClass(r),this._removeSearchBox();return}var n=this._getSearchEditorOptions();this._searchEditor?this._searchEditor.option(n):(e.addClass(r),this._$searchEditorElement=J("<div>").addClass(i).prependTo(e),this._searchEditor=this._createComponent(this._$searchEditorElement,Mx,n))},_removeSearchBox:function(){this._$searchEditorElement&&this._$searchEditorElement.remove(),delete this._$searchEditorElement,delete this._searchEditor},_getSearchEditorOptions:function(){var e=this,t=e.option("searchEditorOptions"),i=Ae.format("Search");return ce({mode:"search",placeholder:i,tabIndex:e.option("tabIndex"),value:e.option("searchValue"),valueChangeEvent:"input",inputAttr:{"aria-label":i},onValueChanged:function(r){var n=e.option("searchTimeout");e._valueChangeDeferred=new we,clearTimeout(e._valueChangeTimeout),e._valueChangeDeferred.done((function(){this.option("searchValue",r.value)}).bind(e)),r.event&&r.event.type==="input"&&n?e._valueChangeTimeout=setTimeout(function(){e._valueChangeDeferred.resolve()},n):e._valueChangeDeferred.resolve()}},t)},_getAriaTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.$element()},_focusTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_updateFocusState:function(e,t){this.option("searchEnabled")&&this._toggleFocusClass(t,this.$element()),this.callBase(e,t)},getOperationBySearchMode:function(e){return e==="equals"?"=":e},_cleanAria:function(e){this.setAria({role:null,activedescendant:null},e),e.attr("tabIndex",null)},_optionChanged:function(e){switch(e.name){case"searchEnabled":case"searchEditorOptions":this._cleanAria(this.option("searchEnabled")?this.$element():this._itemContainer()),this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource){xt.log("W1009");return}e.name==="searchMode"?this._dataSource.searchOperation(this.getOperationBySearchMode(e.value)):this._dataSource[e.name](e.value),this._dataSource.load();break;case"searchTimeout":break;default:this.callBase(e)}},focus:function(){if(!this.option("focusedElement")&&this.option("searchEnabled")){this._searchEditor&&this._searchEditor.focus();return}this.callBase()},_refresh:function(){this._valueChangeDeferred&&this._valueChangeDeferred.resolve(),this.callBase()},setEditorClass:function(e){Mx=e}};var{ios:sH,mac:oH}=Ye.real(),lH=sH||oH,uH=function(e){var t;try{t={start:e.selectionStart,end:e.selectionEnd}}catch{t={start:0,end:0}}return t},dH=function(e,t){var i=Re.getBody();if(!(!i.contains(e)&&!i.contains(e.getRootNode().host)))try{e.selectionStart=t.start,e.selectionEnd=t.end}catch{}},X2=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e=J(e).get(0),!oe(t))return uH(e);!i&&lH&&Re.getActiveElement(e)!==e||dH(e,t)};function hH(){var{android:e,version:t}=Ye.real();return e&&t[0]>4}function cH(){return"onbeforeinput"in Re.createElement("input")&&!ri.chrome||hH()}var Uo=" ",Y2=Ot.inherit({ctor:function(e){this._value=Uo,ce(this,e)},next:function(e){if(!arguments.length)return this._next;this._next=e},text:Ee,value:Ee,rawValue:Ee,handle:Ee,_prepareHandlingArgs:function(e,t){var i,r,n;t=t||{};var a=Object.prototype.hasOwnProperty.call(e,"value")?"value":"text";return e[a]=(i=t.str)!==null&&i!==void 0?i:e[a],e.start=(r=t.start)!==null&&r!==void 0?r:e.start,e.length=(n=t.length)!==null&&n!==void 0?n:e.length,e.index=e.index+1,e},reset:Ee,clear:Ee,first:function(e){return e=e||0,this.next().first(e+1)},isAccepted:function(){return!1},adjustedCaret:function(e,t,i){return t?this._adjustedForward(e,0,i):this._adjustedBackward(e,0,i)},_adjustedForward:Ee,_adjustedBackward:Ee,isValid:Ee}),fH=Y2.inherit({next:Ee,handle:function(){return 0},text:function(){return""},value:function(){return""},first:function(){return 0},rawValue:function(){return""},adjustedCaret:function(){return 0},isValid:function(){return!0}}),Z2=Y2.inherit({text:function(){return(this._value!==Uo?this._value:this.maskChar)+this.next().text()},value:function(){return this._value+this.next().value()},rawValue:function(){return this._value+this.next().rawValue()},handle:function(e){var t=Object.prototype.hasOwnProperty.call(e,"value")?e.value:e.text;if(!t||!t.length||!e.length)return 0;if(e.start)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start-1}));var i=t[0],r=t.substring(1);return this._tryAcceptChar(i,e),this._accepted()?this.next().handle(this._prepareHandlingArgs(e,{str:r,length:e.length-1}))+1:this.handle(this._prepareHandlingArgs(e,{str:r,length:e.length-1}))},clear:function(e){this._tryAcceptChar(Uo,e),this.next().clear(this._prepareHandlingArgs(e))},reset:function(){this._accepted(!1),this.next().reset()},_tryAcceptChar:function(e,t){if(this._accepted(!1),!!this._isAllowed(e,t)){var i=e===Uo?this.maskChar:e;t.fullText=t.fullText.substring(0,t.index)+i+t.fullText.substring(t.index+1),this._accepted(!0),this._value=e}},_accepted:function(e){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!e},first:function(e){return this._value===Uo?e||0:this.callBase(e)},_isAllowed:function(e,t){return e===Uo?!0:this._isValid(e,t)},_isValid:function(e,t){var i=this.allowedChars;return i instanceof RegExp?i.test(e):We(i)?i(e,t.index,t.fullText):Array.isArray(i)?i.includes(e):i===e},isAccepted:function(e){return e===0?this._accepted():this.next().isAccepted(e-1)},_adjustedForward:function(e,t,i){return t>=e?t:this.next()._adjustedForward(e,t+1,i)||t+1},_adjustedBackward:function(e,t){return t>=e-1?e:this.next()._adjustedBackward(e,t+1)||t+1},isValid:function(e){return this._isValid(this._value,e)&&this.next().isValid(this._prepareHandlingArgs(e))}}),Bx=Z2.inherit({value:function(){return this.next().value()},handle:function(e){var t=Object.prototype.hasOwnProperty.call(e,"value"),i=t?e.value:e.text;if(!i.length||!e.length)return 0;if(e.start||t)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start&&e.start-1}));var r=i[0],n=i.substring(1);this._tryAcceptChar(r);var a=this._isAllowed(r)?this._prepareHandlingArgs(e,{str:n,length:e.length-1}):e;return this.next().handle(a)+1},clear:function(e){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(e))},_tryAcceptChar:function(e){this._accepted(this._isValid(e))},_isValid:function(e){return e===this.maskChar},first:function(e){return e=e||0,this.next().first(e+1)},_adjustedForward:function(e,t,i){return t>=e&&i===this.maskChar?t:e===t+1&&this._accepted()?e:this.next()._adjustedForward(e,t+1,i)},_adjustedBackward:function(e,t){return t>=e-1?0:this.next()._adjustedBackward(e,t+1)},isValid:function(e){return this.next().isValid(this._prepareHandlingArgs(e))}}),Ai={valid:"valid",invalid:"invalid",pending:"pending"};class ls{constructor(){this.NAME="base"}defaultMessage(t){return Ae.getFormatter("validation-".concat(this.NAME))(t)}defaultFormattedMessage(t){return Ae.getFormatter("validation-".concat(this.NAME,"-formatted"))(t)}_isValueEmpty(t){return!Sd.required.validate(t,{})}validate(t,i){var r=Array.isArray(t)?t:[t],n=!0;return r.length?r.every(a=>(n=this._validate(a,i),n)):n=this._validate(null,i),n}}class pH extends ls{constructor(){super(),this.NAME="required"}_validate(t,i){return!oe(t)||t===!1?!1:(t=String(t),(i.trim||!oe(i.trim))&&(t=t.trim()),t!=="")}}class mH extends ls{constructor(){super(),this.NAME="numeric"}_validate(t,i){return i.ignoreEmptyValue!==!1&&this._isValueEmpty(t)?!0:i.useCultureSettings&&nt(t)?!isNaN(Xt.parse(t)):ei(t)}}class gH extends ls{constructor(){super(),this.NAME="range"}_validate(t,i){if(i.ignoreEmptyValue!==!1&&this._isValueEmpty(t))return!0;var r=Sd.numeric.validate(t,i),n=oe(t)&&t!=="",a=r?parseFloat(t):n&&t.valueOf(),s=i.min,o=i.max;if(!(r||sr(t))&&!n)return!1;if(oe(s))return oe(o)?a>=s&&a<=o:a>=s;if(oe(o))return a<=o;throw qt.Error("E0101")}}class vH extends ls{constructor(){super(),this.NAME="stringLength"}_validate(t,i){var r;return t=String((r=t)!==null&&r!==void 0?r:""),(i.trim||!oe(i.trim))&&(t=t.trim()),i.ignoreEmptyValue&&this._isValueEmpty(t)?!0:Sd.range.validate(t.length,ce({},i))}}class J2 extends ls{constructor(){super(),this.NAME="custom"}validate(t,i){if(i.ignoreEmptyValue&&this._isValueEmpty(t))return!0;var r=i.validator,n=r&&We(r.option)&&r.option("dataGetter"),a=We(n)&&n(),s={value:t,validator:r,rule:i};return a&&ce(s,a),i.validationCallback(s)}}class _H extends J2{constructor(){super(),this.NAME="async"}validate(t,i){if(oe(i.reevaluate)||ce(i,{reevaluate:!0}),i.ignoreEmptyValue&&this._isValueEmpty(t))return!0;var r=i.validator,n=r&&We(r.option)&&r.option("dataGetter"),a=We(n)&&n(),s={value:t,validator:r,rule:i};a&&ce(s,a);var o=i.validationCallback(s);if(!id(o))throw qt.Error("E0103");return this._getWrappedPromise(Gi(o).promise())}_getWrappedPromise(t){var i=new we;return t.then(function(r){i.resolve(r)},function(r){var n={isValid:!1};oe(r)&&(nt(r)?n.message=r:at(r)&&oe(r.message)&&nt(r.message)&&(n.message=r.message)),i.resolve(n)}),i.promise()}}class bH extends ls{constructor(){super(),this.NAME="compare"}_validate(t,i){if(!i.comparisonTarget)throw qt.Error("E0102");if(i.ignoreEmptyValue&&this._isValueEmpty(t))return!0;ce(i,{reevaluate:!0});var r=i.comparisonTarget(),n=i.comparisonType||"==";switch(n){case"==":return t==r;case"!=":return t!=r;case"===":return t===r;case"!==":return t!==r;case">":return t>r;case">=":return t>=r;case"<":return t<r;case"<=":return t<=r}}}class yH extends ls{constructor(){super(),this.NAME="pattern"}_validate(t,i){if(i.ignoreEmptyValue!==!1&&this._isValueEmpty(t))return!0;var r=i.pattern;return nt(r)&&(r=new RegExp(r)),r.test(t)}}class CH extends ls{constructor(){super(),this.NAME="email"}_validate(t,i){return i.ignoreEmptyValue!==!1&&this._isValueEmpty(t)?!0:Sd.pattern.validate(t,ce({},i,{pattern:/^[\d\w._-]+@[\d\w._-]+\.[\w]+$/i}))}}var Sd={required:new pH,numeric:new mH,range:new gH,stringLength:new vH,custom:new J2,async:new _H,compare:new bH,pattern:new yH,email:new CH},xH=Ot.inherit({ctor(e){this.group=e,this.validators=[],this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo(),this._eventsStrategy=new ao(this)},validate(){var e={isValid:!0,brokenRules:[],validators:[],status:Ai.valid,complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),ve(this.validators,(t,i)=>{var r=i.validate();e.isValid=e.isValid&&r.isValid,r.brokenRules&&(e.brokenRules=e.brokenRules.concat(r.brokenRules)),e.validators.push(i),r.status===Ai.pending&&this._addPendingValidator(i),this._subscribeToChangeEvents(i)}),this._pendingValidators.length?e.status=Ai.pending:(e.status=e.isValid?Ai.valid:Ai.invalid,this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(e)),this._updateValidationInfo(e),ce({},this._validationInfo.result)},_subscribeToChangeEvents(e){e.on("validating",this._onValidatorStatusChanged),e.on("validated",this._onValidatorStatusChanged)},_unsubscribeFromChangeEvents(e){e.off("validating",this._onValidatorStatusChanged),e.off("validated",this._onValidatorStatusChanged)},_unsubscribeFromAllChangeEvents(){ve(this.validators,(e,t)=>{this._unsubscribeFromChangeEvents(t)})},_updateValidationInfo(e){this._validationInfo.result=e,e.status===Ai.pending&&(this._validationInfo.deferred||(this._validationInfo.deferred=new we,this._validationInfo.result.complete=this._validationInfo.deferred.promise()))},_addPendingValidator(e){var t=gr(this._pendingValidators,function(i){return i===e})[0];t||this._pendingValidators.push(e)},_removePendingValidator(e){var t=this._pendingValidators.indexOf(e);t>=0&&this._pendingValidators.splice(t,1)},_orderBrokenRules(e){var t=[];return ve(this.validators,function(i,r){var n=gr(e,function(a){return a.validator===r});n.length&&(t=t.concat(n))}),t},_updateBrokenRules(e){if(this._validationInfo.result){var t=this._validationInfo.result.brokenRules,i=gr(t,function(r){return r.validator!==e.validator});e.brokenRules&&(t=i.concat(e.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(t)}},_onValidatorStatusChanged(e){if(e.status===Ai.pending){this._addPendingValidator(e.validator);return}this._resolveIfComplete(e)},_resolveIfComplete(e){if(this._removePendingValidator(e.validator),this._updateBrokenRules(e),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=this._validationInfo.result.brokenRules.length===0?Ai.valid:Ai.invalid,this._validationInfo.result.isValid=this._validationInfo.result.status===Ai.valid;var t=ce({},this._validationInfo.result,{complete:null}),i=this._validationInfo.deferred;this._validationInfo.deferred=null,this._raiseValidatedEvent(t),i&&setTimeout(()=>{i.resolve(t)})}},_raiseValidatedEvent(e){this._eventsStrategy.fireEvent("validated",[e])},_resetValidationInfo(){this._validationInfo={result:null,deferred:null}},_synchronizeValidationInfo(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)},removeRegisteredValidator(e){var t=this.validators.indexOf(e);t>-1&&(this.validators.splice(t,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:e}))},registerValidator(e){this.validators.includes(e)||(this.validators.push(e),this._synchronizeValidationInfo())},reset(){ve(this.validators,function(e,t){t.reset()}),this._pendingValidators=[],this._resetValidationInfo()},on(e,t){return this._eventsStrategy.on(e,t),this},off(e,t){return this._eventsStrategy.off(e,t),this}}),Gt={groups:[],getGroupConfig(e){var t=gr(this.groups,function(i){return i.group===e});if(t.length)return t[0]},findGroup(e,t){var i,r,n=(i=e.data())===null||i===void 0||(r=i.dxComponents)===null||r===void 0?void 0:r.includes("dxValidationGroup"),a=n&&e.dxValidationGroup("instance");if(a)return a;var s=e.parents(".dx-validationgroup").first();return s.length?s.dxValidationGroup("instance"):t},initGroups(){this.groups=[],this.addGroup()},addGroup(e){var t=this.getGroupConfig(e);return t||(t=new xH(e),this.groups.push(t)),t},removeGroup(e){var t=this.getGroupConfig(e),i=this.groups.indexOf(t);return i>-1&&this.groups.splice(i,1),t},_setDefaultMessage(e){var{rule:t,validator:i,name:r}=e;oe(t.message)||(i.defaultFormattedMessage&&oe(r)?t.message=i.defaultFormattedMessage(r):t.message=i.defaultMessage())},_addBrokenRule(e){var{result:t,rule:i}=e;t.brokenRule||(t.brokenRule=i),t.brokenRules||(t.brokenRules=[]),t.brokenRules.push(i)},validate(e,t,i){var r,n={name:i,value:e,brokenRule:null,brokenRules:null,isValid:!0,validationRules:t,pendingRules:null,status:Ai.valid,complete:null},a=t==null||(r=t[0])===null||r===void 0?void 0:r.validator,s=[];return ve(t||[],(o,l)=>{var u=Sd[l.type],d;if(u){if(oe(l.isValid)&&l.value===e&&!l.reevaluate)return l.isValid?!0:(n.isValid=!1,this._addBrokenRule({result:n,rule:l}),!1);if(l.value=e,l.type==="async")return s.push({rule:l,ruleValidator:u}),!0;if(d=u.validate(e,l),l.isValid=d,d||(n.isValid=!1,this._setDefaultMessage({rule:l,validator:u,name:i}),this._addBrokenRule({result:n,rule:l})),!l.isValid)return!1}else throw qt.Error("E0100")}),n.isValid&&!n.brokenRules&&s.length&&(n=this._validateAsyncRules({value:e,items:s,result:n,name:i})),this._synchronizeGroupValidationInfo(a,n),n.status=n.pendingRules?Ai.pending:n.isValid?Ai.valid:Ai.invalid,n},_synchronizeGroupValidationInfo(e,t){var i;if(e){var r=Gt.getGroupConfig(e._validationGroup);r._updateBrokenRules.call(r,{validator:e,brokenRules:(i=t.brokenRules)!==null&&i!==void 0?i:[]})}},_validateAsyncRules(e){var{result:t,value:i,items:r,name:n}=e,a=[];return ve(r,(s,o)=>{var l=o.ruleValidator.validate(i,o.rule);if(!id(l))this._updateRuleConfig({rule:o.rule,ruleResult:this._getPatchedRuleResult(l),validator:o.ruleValidator,name:n});else{t.pendingRules||(t.pendingRules=[]),t.pendingRules.push(o.rule);var u=l.then(d=>{var c=this._getPatchedRuleResult(d);return this._updateRuleConfig({rule:o.rule,ruleResult:c,validator:o.ruleValidator,name:n}),c});a.push(u)}}),a.length&&(t.complete=Promise.all(a).then(s=>this._getAsyncRulesResult({result:t,values:s}))),t},_updateRuleConfig(e){var{rule:t,ruleResult:i,validator:r,name:n}=e;t.isValid=i.isValid,i.isValid||(oe(i.message)&&nt(i.message)&&i.message.length?t.message=i.message:this._setDefaultMessage({rule:t,validator:r,name:n}))},_getPatchedRuleResult(e){var t;return at(e)?(t=ce({},e),oe(t.isValid)||(t.isValid=!0)):t={isValid:ll(e)?e:!0},t},_getAsyncRulesResult(e){var{values:t,result:i}=e;return ve(t,(r,n)=>{if(n.isValid===!1){i.isValid=n.isValid;var a=i.pendingRules[r];this._addBrokenRule({result:i,rule:a})}}),i.pendingRules=null,i.complete=null,i.status=i.isValid?Ai.valid:Ai.invalid,i},registerValidatorInGroup(e,t){var i=Gt.addGroup(e);i.registerValidator.call(i,t)},_shouldRemoveGroup(e,t){var i=e===void 0,r=e&&e.NAME==="dxValidationGroup";return!i&&!r&&!t.length},removeRegisteredValidator(e,t){var i=Gt.getGroupConfig(e);if(i){i.removeRegisteredValidator.call(i,t);var r=i.validators;this._shouldRemoveGroup(e,r)&&this.removeGroup(e)}},initValidationOptions(e){var t={};return e&&["isValid","validationStatus","validationError","validationErrors"].forEach(i=>{i in e&&ce(t,this.synchronizeValidationOptions({name:i,value:e[i]},e))}),t},synchronizeValidationOptions(e,t){var{name:i,value:r}=e;switch(i){case"validationStatus":var n=r===Ai.valid||r===Ai.pending;return t.isValid!==n?{isValid:n}:{};case"isValid":var{validationStatus:a}=t,s=a;return r&&a===Ai.invalid?s=Ai.valid:!r&&a!==Ai.invalid&&(s=Ai.invalid),s!==a?{validationStatus:s}:{};case"validationErrors":var o=!r||!r.length?null:r[0];return t.validationError!==o?{validationError:o}:{};case"validationError":var{validationErrors:l}=t;if(!r&&l)return{validationErrors:null};if(r&&!l)return{validationErrors:[r]};if(r&&l&&r!==l[0])return l[0]=r,{validationErrors:l.slice()}}return{}},validateGroup(e){var t=Gt.getGroupConfig(e);if(!t)throw qt.Error("E0110");return t.validate()},resetGroup(e){var t=Gt.getGroupConfig(e);if(!t)throw qt.Error("E0110");return t.reset()}};Gt.initGroups();var uh="dx-invalid-message",wH="dx-invalid-message-auto",SH="dx-invalid-message-always",EH="dx-invalid-message-content",TH=100,H0=pn.inherit({_getDefaultOptions(){return ce(this.callBase(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",hideOnOutsideClick:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",container:this.$element(),target:void 0,mode:"auto",validationErrors:void 0,positionRequest:void 0,boundary:void 0,offset:{h:0,v:0},contentId:void 0})},_init(){this.callBase(),this.updateMaxWidth(),this._updatePosition()},_initMarkup(){this.callBase(),this._ensureMessageNotEmpty(),this._updatePositionByTarget(),this._toggleModeClass(),this._updateContentId()},_updatePositionByTarget:function(){var{target:e}=this.option();this.option("position.of",e)},_ensureMessageNotEmpty:function(){this._textMarkup=this._getTextMarkup();var e=this.option("visible")&&this._textMarkup;this._toggleVisibilityClasses(e)},_toggleVisibilityClasses:function(e){e?(this.$element().addClass(uh),this.$wrapper().addClass(uh)):(this.$element().removeClass(uh),this.$wrapper().removeClass(uh))},_updateContentId(){var{container:e,contentId:t}=this.option(),i=t??J(e).attr("aria-describedby");this.$content().addClass(EH).attr("id",i)},_renderInnerHtml(e){var t=e&&J(e);t==null||t.html(this._textMarkup)},_getTextMarkup(){var e,t=(e=this.option("validationErrors"))!==null&&e!==void 0?e:[],i="";return t.forEach(r=>{var n,a=i?"<br />":"";i+=a+P_((n=r==null?void 0:r.message)!==null&&n!==void 0?n:"")}),i},_toggleModeClass(){var e=this.option("mode");this.$wrapper().toggleClass(wH,e==="auto").toggleClass(SH,e==="always")},updateMaxWidth(){var e=this.option("target"),t=Pt(e),i="100%";t&&(i=Math.max(t,TH)),this.option({maxWidth:i})},_updatePosition:function(){var{positionRequest:e,rtlEnabled:t,offset:i,boundary:r}=this.option(),n=os(t),a=e==="below"?[" top"," bottom"]:[" bottom"," top"];t&&(i.h=-i.h),e!=="below"&&(i.v=-i.v),this.option("position",{offset:i,boundary:r,my:n+a[0],at:n+a[1],collision:"none flip"})},_optionChanged(e){var{name:t,value:i}=e;switch(t){case"target":this._updatePositionByTarget(),this.updateMaxWidth(),this.callBase(e);break;case"boundary":this.option("position.boundary",i);break;case"mode":this._toggleModeClass(i);break;case"rtlEnabled":case"offset":case"positionRequest":this._updatePosition();break;case"container":this._updateContentId(),this.callBase(e);break;case"contentId":this._updateContentId();break;case"validationErrors":this._ensureMessageNotEmpty(),this._renderInnerHtml(this.$content());break;default:this.callBase(e)}}});Tt("dxValidationMessage",H0);var Px="dx-invalid-message-auto",IH="dx-state-readonly",AH="dx-invalid",OH="dx-show-invalid-badge",Lx="dx-validation-target",DH="valid",Fx="invalid",kH="editorReadOnly",RH=["outlined","filled","underlined"],Nx={validationMessageMode:"mode",validationMessageOffset:"offset",validationBoundary:"boundary"},mn=Hi.inherit({ctor:function(){this.showValidationMessageTimeout=null,this.validationRequest=Ht(),this.callBase.apply(this,arguments)},_createElement:function(e){this.callBase(e);var t=this.$element();t&&di(t[0],Lx,this)},_initOptions:function(e){this.callBase.apply(this,arguments),this.option(Gt.initValidationOptions(e))},_init:function(){this.callBase(),this._options.cache("validationTooltipOptions",this.option("validationTooltipOptions"));var e=this.$element();e.addClass(OH)},_getDefaultOptions:function(){return ce(this.callBase(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:DH,validationMessageMode:"auto",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})},_attachKeyboardEvents:function(){this.option("readOnly")||this.callBase()},_setOptionsByReference:function(){this.callBase(),ce(this._optionsByReference,{validationError:!0})},_createValueChangeAction:function(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction:function(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction:function(){this._valueChangeActionSuppressed=!1},_initMarkup:function(){var e;this._toggleReadOnlyState(),this._setSubmitElementName(this.option("name")),this.callBase(),this._renderValidationState(),(e=this.option("_onMarkupRendered"))===null||e===void 0||e()},_raiseValueChangeAction:function(e,t){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(e,t))},_valueChangeArgs:function(e,t){return{value:e,previousValue:t,event:this._valueChangeEventInstance}},_saveValueChangeEvent:function(e){this._valueChangeEventInstance=e},_focusInHandler:function(e){var t=this.option("validationMessageMode")==="auto";if(this._canValueBeChangedByClick()&&t){var i,r=(i=this._validationMessage)===null||i===void 0?void 0:i.$wrapper();r==null||r.removeClass(Px),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>r==null?void 0:r.addClass(Px),150)}return this.callBase(e)},_canValueBeChangedByClick:function(){return!1},_getStylingModePrefix:function(){return"dx-editor-"},_renderStylingMode:function(){var e=this.option("stylingMode"),t=this._getStylingModePrefix(),i=RH.map(s=>t+s);i.forEach(s=>this.$element().removeClass(s));var r=t+e;if(i.indexOf(r)===-1){var n=this._getDefaultOptions().stylingMode,a=this._convertRulesToOptions(this._defaultOptionsRules()).stylingMode;r=t+(a||n)}this.$element().addClass(r)},_getValidationErrors:function(){var e=this.option("validationErrors");return!e&&this.option("validationError")&&(e=[this.option("validationError")]),e},_disposeValidationMessage:function(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=void 0,this._validationMessage=void 0)},_toggleValidationClasses:function(e){this.$element().toggleClass(AH,e),this.setAria(Fx,e||void 0)},_renderValidationState:function(){var e=this.option("isValid")&&this.option("validationStatus")!==Fx,t=this._getValidationErrors(),i=this.$element();if(this._toggleValidationClasses(!e),!!ht()&&(this._disposeValidationMessage(),!e&&t)){var{validationMessageMode:r,validationMessageOffset:n,validationBoundary:a,rtlEnabled:s}=this.option();this._$validationMessage=J("<div>").appendTo(i);var o="dx-".concat(new Bi);this.setAria("describedby",o),this._validationMessage=new H0(this._$validationMessage,ce({validationErrors:t,rtlEnabled:s,target:this._getValidationMessageTarget(),visualContainer:i,mode:r,positionRequest:"below",offset:n,boundary:a,contentId:o},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}},_getValidationMessageTarget:function(){return this.$element()},_toggleReadOnlyState:function(){var e=this.option("readOnly");this._toggleBackspaceHandler(e),this.$element().toggleClass(IH,!!e),this.setAria("readonly",e||void 0)},_toggleBackspaceHandler:function(e){var t=this._keyboardEventBindingTarget(),i=Be("keydown",kH);he.off(t,i),e&&he.on(t,i,r=>{ci(r)==="backspace"&&r.preventDefault()})},_dispose:function(){var e=this.$element()[0];di(e,Lx,null),clearTimeout(this.showValidationMessageTimeout),this._disposeValidationMessage(),this.callBase()},_setSubmitElementName:function(e){var t=this._getSubmitElement();t&&(e.length>0?t.attr("name",e):t.removeAttr("name"))},_getSubmitElement:function(){return null},_setValidationMessageOption:function(e){var t,{name:i,value:r}=e,n=Nx[i]?Nx[i]:i;(t=this._validationMessage)===null||t===void 0||t.option(n,r)},_hasActiveElement:Ee,_optionChanged:function(e){var t;switch(e.name){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":e.value!=e.previousValue&&this.validationRequest.fire({value:e.value,editor:this}),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(e.value,e.previousValue),this._saveValueChangeEvent(void 0));break;case"width":this.callBase(e),(t=this._validationMessage)===null||t===void 0||t.updateMaxWidth();break;case"name":this._setSubmitElementName(e.value);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(Gt.synchronizeValidationOptions(e,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessageOffset":this._setValidationMessageOption(e);break;case"rtlEnabled":this._setValidationMessageOption(e),this.callBase(e);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,e);break;default:this.callBase(e)}},blur:function(){this._hasActiveElement()&&wl()},reset:function(){var e=this._getDefaultOptions();this.option("value",e.value)}});mn.isEditor=e=>e instanceof mn;class Vf{constructor(t,i,r){this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=i,this.name=t,this.options=r||{}}_addPlaceMarker(t){this.$placeMarker=J("<div>").appendTo(t)}_addToContainer(t){var{$placeMarker:i,$container:r}=this;i?i.replaceWith(t):t.appendTo(r)}_attachEvents(){throw"Not implemented"}_create(){throw"Not implemented"}_isRendered(){return!!this.instance}_isVisible(){var{editor:t,options:i}=this;return i.visible||!t.option("readOnly")}_isDisabled(){throw"Not implemented"}_shouldRender(){return this._isVisible()&&!this._isRendered()}dispose(){var{instance:t,$placeMarker:i}=this;t&&(t.dispose?t.dispose():t.remove(),this.instance=null),i&&i.remove()}render(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.$container;if(this.$container=t,this._isVisible()){var{instance:i,$element:r}=this._create();this.instance=i,this._attachEvents(i,r)}else this._addPlaceMarker(t)}update(){return this._shouldRender()&&this.render(),!!this.instance}}var MH=Vt.down,BH="dx-state-invisible",PH="dx-clear-button-area",LH="dx-icon-clear",FH="dx-icon",NH="dx-show-clear-button";class VH extends Vf{_create(){var t=J("<span>").addClass(PH).append(J("<span>").addClass(FH).addClass(LH));return this._addToContainer(t),this.update(!0),{instance:t,$element:t}}_isVisible(){var{editor:t}=this;return t._isClearButtonVisible()}_attachEvents(t,i){var{editor:r}=this,n=r.NAME;he.on(i,Be(MH,n),a=>{a.preventDefault(),a.pointerType!=="mouse"&&r._clearValueHandler(a)}),he.on(i,Be(zt,n),a=>r._clearValueHandler(a))}_legacyRender(t,i){t.toggleClass(NH,i)}update(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!t&&super.update();var{editor:i,instance:r}=this,n=i.$element(),a=this._isVisible();r&&r.toggleClass(BH,!a),this._legacyRender(n,a)}}var Wu=Array.isArray;function Uc(e){var t=typeof e;return t==="string"||t==="number"}function Kt(e){return e==null}function ju(e){return e===null||e===!1||e===!0||e===void 0}function _i(e){return typeof e=="function"}function Uu(e){return typeof e=="string"}function HH(e){return typeof e=="number"}function _r(e){return e===null}function $H(e){return e===void 0}function us(e,t){var i={};if(e)for(var r in e)i[r]=e[r];if(t)for(var n in t)i[n]=t[n];return i}function $0(e){return!_r(e)&&typeof e=="object"}var qi={},zH="$F";function z0(e){return e.substr(2).toLowerCase()}function Q2(e,t){e.appendChild(t)}function W0(e,t,i){_r(i)?Q2(e,t):e.insertBefore(t,i)}function WH(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function jH(e,t,i){e.replaceChild(t,i)}function eO(e,t){e.removeChild(t)}function tO(e){for(var t=0;t<e.length;t++)e[t]()}function UH(e,t,i){var r=e.children;return i&4?r.$LI:i&8192?e.childFlags===2?r:r[t?0:r.length-1]:r}function Kr(e,t){for(var i;e;){if(i=e.flags,i&2033)return e.dom;e=UH(e,t,i)}return null}function Ed(e,t){do{var i=e.flags;if(i&2033){eO(t,e.dom);return}var r=e.children;if(i&4&&(e=r.$LI),i&8&&(e=r),i&8192)if(e.childFlags===2)e=r;else{for(var n=0,a=r.length;n<a;++n)Ed(r[n],t);return}}while(e)}function iO(e,t,i){do{var r=e.flags;if(r&2033){W0(t,e.dom,i);return}var n=e.children;if(r&4&&(e=n.$LI),r&8&&(e=n),r&8192)if(e.childFlags===2)e=n;else{for(var a=0,s=n.length;a<s;++a)iO(n[a],t,i);return}}while(e)}function rO(e,t,i){return e.constructor.getDerivedStateFromProps?us(i,e.constructor.getDerivedStateFromProps(t,i)):i}var Gu={v:!1},Vx={componentComparator:null,createVNode:null,renderComplete:null};function Eu(e,t){e.textContent=t}function nO(e,t){return $0(e)&&e.event===t.event&&e.data===t.data}function aO(e,t){for(var i in t)$H(e[i])&&(e[i]=t[i]);return e}function j0(e,t){return!!_i(e)&&(e(t),!0)}var Tu="$";function Hf(e,t,i,r,n,a,s,o){this.childFlags=e,this.children=t,this.className=i,this.dom=null,this.flags=r,this.key=n===void 0?null:n,this.props=a===void 0?null:a,this.ref=s===void 0?null:s,this.type=o}function wi(e,t,i,r,n,a,s,o){var l=n===void 0?1:n,u=new Hf(l,r,i,e,s,a,o,t);return l===0&&oO(u,u.children),u}function GH(e,t,i){if(e&4)return i;var r=(e&32768?t.render:t).defaultHooks;return Kt(r)?i:Kt(i)?r:aO(i,r)}function KH(e,t,i){var r=(e&32768?t.render:t).defaultProps;return Kt(r)?i:Kt(i)?us(r,null):aO(i,r)}function qH(e,t){return e&12?e:t.prototype&&t.prototype.render?4:t.render?32776:8}function ti(e,t,i,r,n){e=qH(e,t);var a=new Hf(1,null,null,e,r,KH(e,t,i),GH(e,t,n),t);return a}function Td(e,t){return new Hf(1,Kt(e)||e===!0||e===!1?"":e,null,16,t,null,null,null)}function _a(e,t,i){var r=wi(8192,8192,null,e,t,null,i,null);switch(r.childFlags){case 1:r.children=$f(),r.childFlags=2;break;case 16:r.children=[Td(e)],r.childFlags=4;break}return r}function Er(e){var t=e.props;if(t){var i=e.flags;i&481&&(t.children!==void 0&&Kt(e.children)&&oO(e,t.children),t.className!==void 0&&(Kt(e.className)&&(e.className=t.className||null),t.className=void 0)),t.key!==void 0&&(e.key=t.key,t.key=void 0),t.ref!==void 0&&(i&8?e.ref=us(e.ref,t.ref):e.ref=t.ref,t.ref=void 0)}return e}function XH(e){var t=e.children,i=e.childFlags;return _a(i===2?Xi(t):t.map(Xi),i,e.key)}function Xi(e){var t=e.flags&-16385,i=e.props;if(t&14&&!_r(i)){var r=i;i={};for(var n in r)i[n]=r[n]}return t&8192?XH(e):new Hf(e.childFlags,e.children,e.className,t,e.key,i,e.ref,e.type)}function $f(){return Td("",null)}function sO(e,t,i,r){for(var n=e.length;i<n;i++){var a=e[i];if(!ju(a)){var s=r+Tu+i;if(Wu(a))sO(a,t,0,s);else{if(Uc(a))a=Td(a,s);else{var o=a.key,l=Uu(o)&&o[0]===Tu;(a.flags&81920||l)&&(a=Xi(a)),a.flags|=65536,l?o.substring(0,r.length)!==r&&(a.key=r+o):_r(o)?a.key=s:a.key=r+o}t.push(a)}}}}function YH(e){switch(e){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case zH:return 8192;default:return 1}}function oO(e,t){var i,r=1;if(ju(t))i=t;else if(Uc(t))r=16,i=t;else if(Wu(t)){for(var n=t.length,a=0;a<n;++a){var s=t[a];if(ju(s)||Wu(s)){i=i||t.slice(0,a),sO(t,i,a,"");break}else if(Uc(s))i=i||t.slice(0,a),i.push(Td(s,Tu+a));else{var o=s.key,l=(s.flags&81920)>0,u=_r(o),d=Uu(o)&&o[0]===Tu;l||u||d?(i=i||t.slice(0,a),(l||d)&&(s=Xi(s)),(u||d)&&(s.key=Tu+a),i.push(s)):i&&i.push(s),s.flags|=65536}}i=i||t,i.length===0?r=1:r=8}else i=t,i.flags|=65536,t.flags&81920&&(i=Xi(t)),r=2;return e.children=i,e.childFlags=r,e}function zf(e){return ju(e)||Uc(e)?Td(e,null):Wu(e)?_a(e,0,null):e.flags&16384?Xi(e):e}var ps="http://www.w3.org/1999/xlink",Cm="http://www.w3.org/XML/1998/namespace",Hx={"xlink:actuate":ps,"xlink:arcrole":ps,"xlink:href":ps,"xlink:role":ps,"xlink:show":ps,"xlink:title":ps,"xlink:type":ps,"xml:base":Cm,"xml:lang":Cm,"xml:space":Cm};function Wf(e){return{onClick:e,onDblClick:e,onFocusIn:e,onFocusOut:e,onKeyDown:e,onKeyPress:e,onKeyUp:e,onMouseDown:e,onMouseMove:e,onMouseUp:e,onTouchEnd:e,onTouchMove:e,onTouchStart:e}}var lO=Wf(0),Xv=Wf(null),uO=Wf(!0);function $x(e,t){var i=t.$EV;return i||(i=t.$EV=Wf(null)),i[e]||++lO[e]===1&&(Xv[e]=n$(e)),i}function dO(e,t){var i=t.$EV;i&&i[e]&&(--lO[e]===0&&(document.removeEventListener(z0(e),Xv[e]),Xv[e]=null),i[e]=null)}function ZH(e,t,i,r){if(_i(i))$x(e,r)[e]=i;else if($0(i)){if(nO(t,i))return;$x(e,r)[e]=i}else dO(e,r)}function JH(e){return _i(e.composedPath)?e.composedPath()[0]:e.target}function hO(e,t,i,r){var n=JH(e);do{if(t&&n.disabled)return;var a=n.$EV;if(a){var s=a[i];if(s&&(r.dom=n,s.event?s.event(s.data,e):s(e),e.cancelBubble))return}n=n.parentNode}while(!_r(n))}function QH(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function e$(){return this.defaultPrevented}function t$(){return this.cancelBubble}function cO(e){var t={dom:document};return e.isDefaultPrevented=e$,e.isPropagationStopped=t$,e.stopPropagation=QH,Object.defineProperty(e,"currentTarget",{configurable:!0,get:function(){return t.dom}}),t}function i$(e){return function(t){if(t.button!==0){t.stopPropagation();return}hO(t,!0,e,cO(t))}}function r$(e){return function(t){hO(t,!1,e,cO(t))}}function n$(e){var t=e==="onClick"||e==="onDblClick"?i$(e):r$(e);return document.addEventListener(z0(e),t),t}function a$(e,t){var i=document.createElement("i");return i.innerHTML=t,i.innerHTML===e.innerHTML}function zx(e,t,i){if(e[t]){var r=e[t];r.event?r.event(r.data,i):r(i)}else{var n=t.toLowerCase();e[n]&&e[n](i)}}function Id(e,t){var i=function(r){var n=this.$V;if(n){var a=n.props||qi,s=n.dom;if(Uu(e))zx(a,e,r);else for(var o=0;o<e.length;++o)zx(a,e[o],r);if(_i(t)){var l=this.$V,u=l.props||qi;t(u,s,!1,l)}}};return Object.defineProperty(i,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),i}function Vs(e,t,i){var r="$"+t,n=e[r];if(n){if(n[1].wrapped)return;e.removeEventListener(n[0],n[1]),e[r]=null}_i(i)&&(e.addEventListener(t,i),e[r]=[t,i])}function U0(e){return e==="checkbox"||e==="radio"}var s$=Id("onInput",G0),o$=Id(["onClick","onChange"],G0);function fO(e){e.stopPropagation()}fO.wrapped=!0;function l$(e,t){U0(t.type)?(Vs(e,"change",o$),Vs(e,"click",fO)):Vs(e,"input",s$)}function G0(e,t){var i=e.type,r=e.value,n=e.checked,a=e.multiple,s=e.defaultValue,o=!Kt(r);i&&i!==t.type&&t.setAttribute("type",i),!Kt(a)&&a!==t.multiple&&(t.multiple=a),!Kt(s)&&!o&&(t.defaultValue=s+""),U0(i)?(o&&(t.value=r),Kt(n)||(t.checked=n)):o&&t.value!==r?(t.defaultValue=r,t.value=r):Kt(n)||(t.checked=n)}function lu(e,t){if(e.type==="option")u$(e,t);else{var i=e.children,r=e.flags;if(r&4)lu(i.$LI,t);else if(r&8)lu(i,t);else if(e.childFlags===2)lu(i,t);else if(e.childFlags&12)for(var n=0,a=i.length;n<a;++n)lu(i[n],t)}}function u$(e,t){var i=e.props||qi,r=e.dom;r.value=i.value,i.value===t||Wu(t)&&t.indexOf(i.value)!==-1?r.selected=!0:(!Kt(t)||!Kt(i.selected))&&(r.selected=i.selected||!1)}var d$=Id("onChange",pO);function h$(e){Vs(e,"change",d$)}function pO(e,t,i,r){var n=!!e.multiple;!Kt(e.multiple)&&n!==t.multiple&&(t.multiple=n);var a=e.selectedIndex;a===-1&&(t.selectedIndex=-1);var s=r.childFlags;if(s!==1){var o=e.value;HH(a)&&a>-1&&t.options[a]&&(o=t.options[a].value),i&&Kt(o)&&(o=e.defaultValue),lu(r,o)}}var c$=Id("onInput",mO),f$=Id("onChange");function p$(e,t){Vs(e,"input",c$),t.onChange&&Vs(e,"change",f$)}function mO(e,t,i){var r=e.value,n=t.value;if(Kt(r)){if(i){var a=e.defaultValue;!Kt(a)&&a!==n&&(t.defaultValue=a,t.value=a)}}else n!==r&&(t.defaultValue=r,t.value=r)}function gO(e,t,i,r,n,a){e&64?G0(r,i):e&256?pO(r,i,n,t):e&128&&mO(r,i,n),a&&(i.$V=t)}function m$(e,t,i){e&64?l$(t,i):e&256?h$(t):e&128&&p$(t,i)}function vO(e){return e.type&&U0(e.type)?!Kt(e.checked):!Kt(e.value)}function Yi(){return{current:null}}function Gc(e){e&&!j0(e,null)&&e.current&&(e.current=null)}function Ad(e,t,i){e&&(_i(e)||e.current!==void 0)&&i.push(function(){!j0(e,t)&&e.current!==void 0&&(e.current=t)})}function un(e,t){la(e),Ed(e,t)}function la(e){var t=e.flags,i=e.children,r;if(t&481){r=e.ref;var n=e.props;Gc(r);var a=e.childFlags;if(!_r(n))for(var s=Object.keys(n),o=0,l=s.length;o<l;o++){var u=s[o];uO[u]&&dO(u,e.dom)}a&12?Ku(i):a===2&&la(i)}else i&&(t&4?(_i(i.componentWillUnmount)&&i.componentWillUnmount(),Gc(e.ref),i.$UN=!0,la(i.$LI)):t&8?(r=e.ref,!Kt(r)&&_i(r.onComponentWillUnmount)&&r.onComponentWillUnmount(Kr(e,!0),e.props||qi),la(i)):t&1024?un(i,e.ref):t&8192&&e.childFlags&12&&Ku(i))}function Ku(e){for(var t=0,i=e.length;t<i;++t)la(e[t])}function oc(e){e.textContent=""}function lc(e,t,i){Ku(i),t.flags&8192?Ed(t,e):oc(e)}function g$(e){var t=e.event;return function(i){t(e.data,i)}}function v$(e,t,i,r){if($0(i)){if(nO(t,i))return;i=g$(i)}Vs(r,z0(e),i)}function _$(e,t,i){if(Kt(t)){i.removeAttribute("style");return}var r=i.style,n,a;if(Uu(t)){r.cssText=t;return}if(!Kt(e)&&!Uu(e)){for(n in t)a=t[n],a!==e[n]&&r.setProperty(n,a);for(n in e)Kt(t[n])&&r.removeProperty(n)}else for(n in t)a=t[n],r.setProperty(n,a)}function b$(e,t,i,r){var n=e&&e.__html||"",a=t&&t.__html||"";n!==a&&!Kt(a)&&!a$(r,a)&&(_r(i)||(i.childFlags&12?Ku(i.children):i.childFlags===2&&la(i.children),i.children=null,i.childFlags=1),r.innerHTML=a)}function Yv(e,t,i,r,n,a,s){switch(e){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":r.autofocus=!!i;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":r[e]=!!i;break;case"defaultChecked":case"value":case"volume":if(a&&e==="value")break;var o=Kt(i)?"":i;r[e]!==o&&(r[e]=o);break;case"style":_$(t,i,r);break;case"dangerouslySetInnerHTML":b$(t,i,s,r);break;default:uO[e]?ZH(e,t,i,r):e.charCodeAt(0)===111&&e.charCodeAt(1)===110?v$(e,t,i,r):Kt(i)?r.removeAttribute(e):n&&Hx[e]?r.setAttributeNS(Hx[e],e,i):r.setAttribute(e,i);break}}function _O(e,t,i,r,n){var a=!1,s=(t&448)>0;s&&(a=vO(i),a&&m$(t,r,i));for(var o in i)Yv(o,null,i[o],r,n,a,null);s&&gO(t,e,r,i,!0,a)}function bO(e,t,i){var r=zf(e.render(t,e.state,i)),n=i;return _i(e.getChildContext)&&(n=us(i,e.getChildContext())),e.$CX=n,r}function yO(e,t,i,r,n,a){var s=new t(i,r),o=s.$N=!!(t.getDerivedStateFromProps||s.getSnapshotBeforeUpdate);if(s.$SVG=n,s.$L=a,e.children=s,s.$BS=!1,s.context=r,s.props===qi&&(s.props=i),o)s.state=rO(s,i,s.state);else if(_i(s.componentWillMount)){s.$BR=!0,s.componentWillMount();var l=s.$PS;if(!_r(l)){var u=s.state;if(_r(u))s.state=l;else for(var d in l)u[d]=l[d];s.$PS=null}s.$BR=!1}return s.$LI=bO(s,i,r),s}function K0(e,t){var i=e.props||qi;return e.flags&32768?e.type.render(i,e.ref,t):e.type(i,t)}function Zi(e,t,i,r,n,a){var s=e.flags|=16384;s&481?xO(e,t,i,r,n,a):s&4?x$(e,t,i,r,n,a):s&8?(w$(e,t,i,r,n,a),SO(e,a)):s&512||s&16?CO(e,t,n):s&8192?C$(e,i,t,r,n,a):s&1024&&y$(e,i,t,n,a)}function y$(e,t,i,r,n){Zi(e.children,e.ref,t,!1,null,n);var a=$f();CO(a,i,r),e.dom=a.dom}function C$(e,t,i,r,n,a){var s=e.children,o=e.childFlags;o&12&&s.length===0&&(o=e.childFlags=2,s=e.children=$f()),o===2?Zi(s,i,t,r,n,a):Hs(s,i,t,r,n,a)}function CO(e,t,i){var r=e.dom=document.createTextNode(e.children);_r(t)||W0(t,r,i)}function xO(e,t,i,r,n,a){var s=e.flags,o=e.props,l=e.className,u=e.childFlags,d=e.dom=WH(e.type,r=r||(s&32)>0),c=e.children;if(!Kt(l)&&l!==""&&(r?d.setAttribute("class",l):d.className=l),u===16)Eu(d,c);else if(u!==1){var h=r&&e.type!=="foreignObject";u===2?(c.flags&16384&&(e.children=c=Xi(c)),Zi(c,d,i,h,null,a)):(u===8||u===4)&&Hs(c,d,i,h,null,a)}_r(t)||W0(t,d,n),_r(o)||_O(e,s,o,d,r),Ad(e.ref,d,a)}function Hs(e,t,i,r,n,a){for(var s=0;s<e.length;++s){var o=e[s];o.flags&16384&&(e[s]=o=Xi(o)),Zi(o,t,i,r,n,a)}}function x$(e,t,i,r,n,a){var s=yO(e,e.type,e.props||qi,i,r,a);Zi(s.$LI,t,s.$CX,r,n,a),wO(e.ref,s,a)}function w$(e,t,i,r,n,a){Zi(e.children=zf(K0(e,i)),t,i,r,n,a)}function S$(e){return function(){e.componentDidMount()}}function wO(e,t,i){Ad(e,t,i),_i(t.componentDidMount)&&i.push(S$(t))}function E$(e,t){return function(){e.onComponentDidMount(Kr(t,!0),t.props||qi)}}function SO(e,t){var i=e.ref;Kt(i)||(j0(i.onComponentWillMount,e.props||qi),_i(i.onComponentDidMount)&&t.push(E$(i,e)))}function T$(e,t,i,r,n,a){la(e),t.flags&e.flags&2033?(Zi(t,null,r,n,null,a),jH(i,t.dom,e.dom)):(Zi(t,i,r,n,Kr(e,!0),a),Ed(e,i))}function pa(e,t,i,r,n,a,s){var o=t.flags|=16384;e.flags!==o||e.type!==t.type||e.key!==t.key||o&2048?e.flags&16384?T$(e,t,i,r,n,s):Zi(t,i,r,n,a,s):o&481?k$(e,t,r,n,o,s):o&4?B$(e,t,i,r,n,a,s):o&8?P$(e,t,i,r,n,a,s):o&16?L$(e,t):o&512?t.dom=e.dom:o&8192?O$(e,t,i,r,n,s):D$(e,t,r,s)}function I$(e,t,i){e!==t&&(e!==""?i.firstChild.nodeValue=t:Eu(i,t))}function A$(e,t){e.textContent!==t&&(e.textContent=t)}function O$(e,t,i,r,n,a){var s=e.children,o=t.children,l=e.childFlags,u=t.childFlags,d=null;u&12&&o.length===0&&(u=t.childFlags=2,o=t.children=$f());var c=(u&2)!==0;if(l&12){var h=s.length;(l&8&&u&8||c||!c&&o.length>h)&&(d=Kr(s[h-1],!1).nextSibling)}q0(l,u,s,o,i,r,n,d,e,a)}function D$(e,t,i,r){var n=e.ref,a=t.ref,s=t.children;if(q0(e.childFlags,t.childFlags,e.children,s,n,i,!1,null,e,r),t.dom=e.dom,n!==a&&!ju(s)){var o=s.dom;eO(n,o),Q2(a,o)}}function k$(e,t,i,r,n,a){var s=t.dom=e.dom,o=e.props,l=t.props,u=!1,d=!1,c;if(r=r||(n&32)>0,o!==l){var h=o||qi;if(c=l||qi,c!==qi){u=(n&448)>0,u&&(d=vO(c));for(var f in c){var p=h[f],g=c[f];p!==g&&Yv(f,p,g,s,r,d,e)}}if(h!==qi)for(var m in h)Kt(c[m])&&!Kt(h[m])&&Yv(m,h[m],null,s,r,d,e)}var v=t.children,b=t.className;e.className!==b&&(Kt(b)?s.removeAttribute("class"):r?s.setAttribute("class",b):s.className=b),n&4096?A$(s,v):q0(e.childFlags,t.childFlags,e.children,v,s,i,r&&t.type!=="foreignObject",null,e,a),u&&gO(n,t,s,c,!1,d);var E=t.ref,I=e.ref;I!==E&&(Gc(I),Ad(E,s,a))}function R$(e,t,i,r,n,a){la(e),Hs(t,i,r,n,Kr(e,!0),a),Ed(e,i)}function q0(e,t,i,r,n,a,s,o,l,u){switch(e){case 2:switch(t){case 2:pa(i,r,n,a,s,o,u);break;case 1:un(i,n);break;case 16:la(i),Eu(n,r);break;default:R$(i,r,n,a,s,u);break}break;case 1:switch(t){case 2:Zi(r,n,a,s,o,u);break;case 1:break;case 16:Eu(n,r);break;default:Hs(r,n,a,s,o,u);break}break;case 16:switch(t){case 16:I$(i,r,n);break;case 2:oc(n),Zi(r,n,a,s,o,u);break;case 1:oc(n);break;default:oc(n),Hs(r,n,a,s,o,u);break}break;default:switch(t){case 16:Ku(i),Eu(n,r);break;case 2:lc(n,l,i),Zi(r,n,a,s,o,u);break;case 1:lc(n,l,i);break;default:var d=i.length|0,c=r.length|0;d===0?c>0&&Hs(r,n,a,s,o,u):c===0?lc(n,l,i):t===8&&e===8?N$(i,r,n,a,s,d,c,o,l,u):F$(i,r,n,a,s,d,c,o,u);break}break}}function M$(e,t,i,r,n){n.push(function(){e.componentDidUpdate(t,i,r)})}function EO(e,t,i,r,n,a,s,o,l){var u=e.state,d=e.props,c=!!e.$N,h=_i(e.shouldComponentUpdate);if(c&&(t=rO(e,i,t!==u?us(u,t):t)),s||!h||h&&e.shouldComponentUpdate(i,t,n)){!c&&_i(e.componentWillUpdate)&&e.componentWillUpdate(i,t,n),e.props=i,e.state=t,e.context=n;var f=null,p=bO(e,i,n);c&&_i(e.getSnapshotBeforeUpdate)&&(f=e.getSnapshotBeforeUpdate(d,u)),pa(e.$LI,p,r,e.$CX,a,o,l),e.$LI=p,_i(e.componentDidUpdate)&&M$(e,d,u,f,l)}else e.props=i,e.state=t,e.context=n}function B$(e,t,i,r,n,a,s){var o=t.children=e.children;if(!_r(o)){o.$L=s;var l=t.props||qi,u=t.ref,d=e.ref,c=o.state;if(!o.$N){if(_i(o.componentWillReceiveProps)){if(o.$BR=!0,o.componentWillReceiveProps(l,r),o.$UN)return;o.$BR=!1}_r(o.$PS)||(c=us(c,o.$PS),o.$PS=null)}EO(o,c,l,i,r,n,!1,a,s),d!==u&&(Gc(d),Ad(u,o,s))}}function P$(e,t,i,r,n,a,s){var o=!0,l=t.props||qi,u=t.ref,d=e.props,c=!Kt(u),h=e.children;if(c&&_i(u.onComponentShouldUpdate)&&(o=u.onComponentShouldUpdate(d,l)),o!==!1){c&&_i(u.onComponentWillUpdate)&&u.onComponentWillUpdate(d,l);var f=zf(K0(t,r));pa(h,f,i,r,n,a,s),t.children=f,c&&_i(u.onComponentDidUpdate)&&u.onComponentDidUpdate(d,l)}else t.children=h}function L$(e,t){var i=t.children,r=t.dom=e.dom;i!==e.children&&(r.nodeValue=i)}function F$(e,t,i,r,n,a,s,o,l){for(var u=a>s?s:a,d=0,c,h;d<u;++d)c=t[d],h=e[d],c.flags&16384&&(c=t[d]=Xi(c)),pa(h,c,i,r,n,o,l),e[d]=c;if(a<s)for(d=u;d<s;++d)c=t[d],c.flags&16384&&(c=t[d]=Xi(c)),Zi(c,i,r,n,o,l);else if(a>s)for(d=u;d<a;++d)un(e[d],i)}function N$(e,t,i,r,n,a,s,o,l,u){var d=a-1,c=s-1,h=0,f=e[h],p=t[h],g,m;e:{for(;f.key===p.key;){if(p.flags&16384&&(t[h]=p=Xi(p)),pa(f,p,i,r,n,o,u),e[h]=p,++h,h>d||h>c)break e;f=e[h],p=t[h]}for(f=e[d],p=t[c];f.key===p.key;){if(p.flags&16384&&(t[c]=p=Xi(p)),pa(f,p,i,r,n,o,u),e[d]=p,d--,c--,h>d||h>c)break e;f=e[d],p=t[c]}}if(h>d){if(h<=c)for(g=c+1,m=g<s?Kr(t[g],!0):o;h<=c;)p=t[h],p.flags&16384&&(t[h]=p=Xi(p)),++h,Zi(p,i,r,n,m,u)}else if(h>c)for(;h<=d;)un(e[h++],i);else V$(e,t,r,a,s,d,c,h,i,n,o,l,u)}function V$(e,t,i,r,n,a,s,o,l,u,d,c,h){var f,p,g,m=0,v=o,b=o,E=a-o+1,I=s-o+1,R=new Int32Array(I+1),N=E===r,j=!1,V=0,H=0;if(n<4||(E|I)<32)for(m=v;m<=a;++m)if(f=e[m],H<I){for(o=b;o<=s;o++)if(p=t[o],f.key===p.key){if(R[o-b]=m+1,N)for(N=!1;v<m;)un(e[v++],l);V>o?j=!0:V=o,p.flags&16384&&(t[o]=p=Xi(p)),pa(f,p,l,i,u,d,h),++H;break}!N&&o>s&&un(f,l)}else N||un(f,l);else{var W={};for(m=b;m<=s;++m)W[t[m].key]=m;for(m=v;m<=a;++m)if(f=e[m],H<I)if(o=W[f.key],o!==void 0){if(N)for(N=!1;m>v;)un(e[v++],l);R[o-b]=m+1,V>o?j=!0:V=o,p=t[o],p.flags&16384&&(t[o]=p=Xi(p)),pa(f,p,l,i,u,d,h),++H}else N||un(f,l);else N||un(f,l)}if(N)lc(l,c,e),Hs(t,l,i,u,d,h);else if(j){var G=H$(R);for(o=G.length-1,m=I-1;m>=0;m--)R[m]===0?(V=m+b,p=t[V],p.flags&16384&&(t[V]=p=Xi(p)),g=V+1,Zi(p,l,i,u,g<n?Kr(t[g],!0):d,h)):o<0||m!==G[o]?(V=m+b,p=t[V],g=V+1,iO(p,l,g<n?Kr(t[g],!0):d)):o--}else if(H!==I)for(m=I-1;m>=0;m--)R[m]===0&&(V=m+b,p=t[V],p.flags&16384&&(t[V]=p=Xi(p)),g=V+1,Zi(p,l,i,u,g<n?Kr(t[g],!0):d,h))}var Un,dh,Wx=0;function H$(e){var t=0,i=0,r=0,n=0,a=0,s=0,o=0,l=e.length;for(l>Wx&&(Wx=l,Un=new Int32Array(l),dh=new Int32Array(l));i<l;++i)if(t=e[i],t!==0){if(r=Un[n],e[r]<t){dh[i]=r,Un[++n]=i;continue}for(a=0,s=n;a<s;)o=a+s>>1,e[Un[o]]<t?a=o+1:s=o;t<e[Un[a]]&&(a>0&&(dh[i]=Un[a-1]),Un[a]=i)}a=n+1;var u=new Int32Array(a);for(s=Un[a-1];a-- >0;)u[a]=s,s=dh[s],Un[a]=0;return u}var $$=typeof document<"u";$$&&window.Node&&(Node.prototype.$EV=null,Node.prototype.$V=null);function z$(e,t,i,r){var n=[],a=t.$V;Gu.v=!0,Kt(a)?Kt(e)||(e.flags&16384&&(e=Xi(e)),Zi(e,t,r,!1,null,n),t.$V=e,a=e):Kt(e)?(un(a,t),t.$V=null):(e.flags&16384&&(e=Xi(e)),pa(a,e,t,r,!1,null,n),a=t.$V=e),tO(n),Gu.v=!1,_i(i)&&i(),_i(Vx.renderComplete)&&Vx.renderComplete(a,t)}function jf(e,t,i,r){i===void 0&&(i=null),r===void 0&&(r=qi),z$(e,t,i,r)}var uc=[],W$=typeof Promise<"u"?Promise.resolve().then.bind(Promise.resolve()):function(e){window.setTimeout(e,0)},Zv=!1;function TO(e,t,i,r){var n=e.$PS;if(_i(t)&&(t=t(n?us(e.state,n):e.state,e.props,e.context)),Kt(n))e.$PS=t;else for(var a in t)n[a]=t[a];if(e.$BR)_i(i)&&e.$L.push(i.bind(e));else{if(!Gu.v&&uc.length===0){AO(e,r),_i(i)&&i.call(e);return}if(uc.indexOf(e)===-1&&uc.push(e),r&&(e.$F=!0),Zv||(Zv=!0,W$(IO)),_i(i)){var s=e.$QU;s||(s=e.$QU=[]),s.push(i)}}}function j$(e){for(var t=e.$QU,i=0;i<t.length;++i)t[i].call(e);e.$QU=null}function IO(){var e;for(Zv=!1;e=uc.shift();)if(!e.$UN){var t=e.$F;e.$F=!1,AO(e,t),e.$QU&&j$(e)}}function AO(e,t){if(t||!e.$BR){var i=e.$PS;e.$PS=null;var r=[];Gu.v=!0,EO(e,us(e.state,i),e.props,Kr(e.$LI,!0).parentNode,e.context,e.$SVG,t,null,r),tO(r),Gu.v=!1}else e.state=e.$PS,e.$PS=null}var Od=function(t,i){this.state=null,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=t||qi,this.context=i||qi};Od.prototype.forceUpdate=function(t){this.$UN||TO(this,{},t,!0)};Od.prototype.setState=function(t,i){this.$UN||this.$BS||TO(this,t,i,!1)};Od.prototype.render=function(t,i,r){return null};const Ra={lockCount:0,lock(){this.lockCount++},callbacks:[],callEffects(){if(this.lockCount--,this.lockCount<0)throw new Error("Unexpected Effect Call");if(this.lockCount===0){const e=this.callbacks;this.callbacks=[],e.forEach(t=>t())}}},xm=(e,t)=>{if(!(e instanceof Object&&t instanceof Object))return e===t;const r=Object.keys(e),n=Object.keys(t);return r.length!==n.length?!1:!r.some(s=>e[s]!==t[s])};class en extends Od{constructor(){super(...arguments),this._pendingContext=this.context}componentWillReceiveProps(t,i){this._pendingContext=i??{}}shouldComponentUpdate(t,i){return!xm(this.props,t)||!xm(this.state,i)||!xm(this.context,this._pendingContext)}}class Vn extends en{constructor(){super(...arguments),this._effects=[]}createEffects(){return[]}updateEffects(){}componentWillMount(){Ra.lock()}componentWillUpdate(t,i,r){Ra.lock()}componentDidMount(){Ra.callbacks.push(()=>{this._effects=this.createEffects()}),Ra.callEffects()}componentDidUpdate(){Ra.callbacks.push(()=>this.updateEffects()),Ra.callEffects()}destroyEffects(){this._effects.forEach(t=>t.dispose())}componentWillUnmount(){this.destroyEffects()}}class Dd extends Vn{constructor(){super(...arguments),this.vDomElement=null}vDomUpdateClasses(){const t=this.vDomElement,i=t.className.length?t.className.split(" "):[],r=i.filter(a=>t.dxClasses.previous.indexOf(a)<0),n=t.dxClasses.previous.filter(a=>i.indexOf(a)<0);r.forEach(a=>{const s=t.dxClasses.removed.indexOf(a);s>-1?t.dxClasses.removed.splice(s,1):t.dxClasses.added.push(a)}),n.forEach(a=>{const s=t.dxClasses.added.indexOf(a);s>-1?t.dxClasses.added.splice(s,1):t.dxClasses.removed.push(a)})}componentDidMount(){const t=Kr(this.$LI,!0);this.vDomElement=t,super.componentDidMount(),t.dxClasses=t.dxClasses||{removed:[],added:[],previous:[]},t.dxClasses.previous=t!=null&&t.className.length?t.className.split(" "):[]}componentDidUpdate(){super.componentDidUpdate();const t=this.vDomElement;t!==null&&(t.dxClasses.added.forEach(i=>t.classList.add(i)),t.dxClasses.removed.forEach(i=>t.classList.remove(i)),t.dxClasses.previous=t.className.length?t.className.split(" "):[])}shouldComponentUpdate(t,i){const r=super.shouldComponentUpdate(t,i);return r&&this.vDomUpdateClasses(),r}}let U$=0;const OO=function(e){const t=U$++;return{id:t,defaultValue:e,Provider:class extends Od{getChildContext(){return Object.assign(Object.assign({},this.context),{[t]:this.props.value||e})}render(){return this.props.children}}}};class oi{constructor(t,i){this.dependency=i,this.effect=t,this.destroy=t()}update(t){const i=this.dependency;t&&(this.dependency=t),(!t||t.some((r,n)=>i[n]!==r))&&(this.dispose(),this.destroy=this.effect())}dispose(){this.destroy&&this.destroy()}}const kd=()=>new oi(()=>{IO()},[]),G$="a runtime error occured! Use Inferno in development environment to find the error.";function K$(e){return e==null}function q$(e){return e===null||e===!1||e===!0||e===void 0}function X$(e){return typeof e=="function"}function Xo(e){return e===null}function Y$(e){throw e||(e=G$),new Error(`Inferno Error: ${e}`)}function Z$(e,t){const i=document.createElement("i");return i.innerHTML=t,i.innerHTML===e.innerHTML}function J$(e){let t,i;for(;e;){if(t=e.flags,t&2033)return e.dom;i=e.children,t&8192?e=e.childFlags===2?i:i[i.length-1]:t&4?e=i.$LI:e=i}return null}function Q$(e,t){return!!(t&&t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html&&Z$(e,t.dangerouslySetInnerHTML.__html))}function ez(e,t,i,r,n,a,s){const o=e.type,l=e.ref,u=e.props||qi;let d;if(a){const c=yO(e,o,u,r,n,s),h=c.$LI;d=qu(h,t,i,c.$CX,n,s),wO(l,c,s)}else{const c=zf(K0(e,r));d=qu(c,t,i,r,n,s),e.children=c,SO(e,s)}return d}function DO(e,t,i,r,n,a){const s=e.childFlags,o=e.children,l=e.props,u=e.flags;if(s!==1){if(s===2)Xo(i)?Zi(o,t,r,n,null,a):(i=qu(o,t,i,r,n,a),i=i?i.nextSibling:null);else if(s===16)Xo(i)?t.appendChild(document.createTextNode(o)):t.childNodes.length!==1||i.nodeType!==3?t.textContent=o:i.nodeValue!==o&&(i.nodeValue=o),i=null;else if(s&12){let d=!1;for(let c=0,h=o.length;c<h;++c){const f=o[c];Xo(i)||d&&(f.flags&16)>0?Zi(f,t,r,n,i,a):(i=qu(f,t,i,r,n,a),i=i?i.nextSibling:null),d=(f.flags&16)>0}}if(!(u&8192)){let d=null;for(;i;)d=i.nextSibling,t.removeChild(i),i=d}}else!Xo(t.firstChild)&&!Q$(t,l)&&(t.textContent="",u&448&&(t.defaultValue=""))}function tz(e,t,i,r,n,a){const s=e.props,o=e.className,l=e.flags,u=e.ref;return n=n||(l&32)>0,i.nodeType!==1?(xO(e,null,r,n,null,a),t.replaceChild(e.dom,i)):(e.dom=i,DO(e,i,i.firstChild,r,n,a),Xo(s)||_O(e,l,s,i,n),K$(o)?i.className!==""&&i.removeAttribute("class"):n?i.setAttribute("class",o):i.className=o,Ad(u,i,a)),e.dom}function kO(e,t,i){if(i.nodeType!==3)t.replaceChild(e.dom=document.createTextNode(e.children),i);else{const r=e.children;i.nodeValue!==r&&(i.nodeValue=r),e.dom=i}return e.dom}function iz(e,t,i,r,n,a){const s=e.children;return e.childFlags===2?(kO(s,t,i),s.dom):(DO(e,t,i,r,n,a),J$(s[s.length-1]))}function qu(e,t,i,r,n,a){const s=e.flags|=16384;return s&14?ez(e,t,i,r,n,(s&4)>0,a):s&481?tz(e,t,i,r,n,a):s&16?kO(e,t,i):s&512?e.dom=i:s&8192?iz(e,t,i,r,n,a):(Y$(),null)}function rz(e,t,i){let r=t.firstChild;if(Xo(r))jf(e,t,i);else{const n=[];for(q$(e)||(r=qu(e,t,r,{},!1,n));r&&(r=r.nextSibling);)t.removeChild(r);if(n.length>0){let a;for(;(a=n.shift())!==void 0;)a()}}t.$V=e,X$(i)&&i()}function jx(e){return e==null}function nz(e){return typeof e=="string"}function Ux(e){return e===void 0}var az={onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function dc(e,t,i){var r=arguments,n,a=null,s=null,o=null,l=0,u,d=arguments.length-2;if(d===1)n=i;else if(d>1)for(n=[];d-- >0;)n[d]=r[d+2];if(nz(e)){if(l=YH(e),!jx(t)){u={};for(var c in t)c==="className"||c==="class"?o=t[c]:c==="key"?s=t.key:c==="children"&&Ux(n)?n=t.children:c==="ref"?a=t.ref:(c==="contenteditable"&&(l|=4096),u[c]=t[c])}}else{if(l=2,Ux(n)||(t||(t={}),t.children=n),!jx(t)){u={};for(var h in t)h==="key"?s=t.key:h==="ref"?a=t.ref:az[h]===1?(a||(a={}),a[h]=t[h]):u[h]=t[h]}return ti(l,e,u,s,a)}return l&8192?_a(d===1?[n]:n,0,s):wi(l,e,o,n,0,u,s,a)}const sz=e=>{var t,i;return((t=e.container)===null||t===void 0?void 0:t.get(0))||((i=e.item)===null||i===void 0?void 0:i.get(0))};function oz(e,t,i){setTimeout(()=>{jf(dc(e,t),sz(t))},0)}const lz=(e,t,i)=>{const r=t[e];return!!r&&typeof r!="string"},uz=new Set(["animationIterationCount","borderImageOutset","borderImageSlice","border-imageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","fillOpacity","flex","flexGrow","flexNegative","flexOrder","flexPositive","flexShrink","floodOpacity","fontWeight","gridColumn","gridRow","lineClamp","lineHeight","opacity","order","orphans","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","tabSize","widows","zIndex","zoom"]),dz=e=>typeof e=="number"?!0:!Number.isNaN(Number(e)),hz=(e,t)=>uz.has(e)?t:`${t}px`,cz=/[A-Z]/g,fz=e=>e.replace(cz,"-$&").toLowerCase();function X0(e){if(e instanceof Object)return Object.entries(e).reduce((t,[i,r])=>(t[fz(i)]=dz(r)?hz(i,r):r,t),{})}var Gx=e=>{var{parentNode:t}=e;t&&(ad(e),t.$V=e.$V,jf(null,t),t.appendChild(e),e.innerHTML="",delete t.$V),delete e.$V};const Do=Jr({createElement:(e,t)=>dc(e,t),remove:Gx,onAfterRender:()=>{Ra.callEffects()},onPreRender:()=>{Ra.lock()},render:(e,t,i,r)=>{if(r)jf(dc(e,t),i);else{var{parentNode:n}=i,a=i==null?void 0:i.nextSibling,s=Re.createElement("div");s.appendChild(i);var o=Re.createDocumentFragment().appendChild(s),l=!!i.$V;l&&Gx(i),rz(dc(e,t),o),i.$V=o.$V,n&&n.insertBefore(i,a)}}});var pz=(e,t)=>Object.keys(e).length!==Object.keys(t).length?!1:Object.keys(e).every(i=>e[i]===t[i]),mz=(e,t)=>{ve(t,(i,r)=>{var n=!1;ve(e,(a,s)=>{r===s&&(n=!0)}),!n&&r.parentNode&&r.parentNode.removeChild(r)})};class Kx extends Vn{constructor(t){super(t),this.renderTemplate=this.renderTemplate.bind(this)}renderTemplate(){var t,i=Kr(this.$LI,!0),r=i.parentNode,n=J(r),a=n.contents(),{data:s,index:o}=(t=this.props.model)!==null&&t!==void 0?t:{data:{}};s&&Object.keys(s).forEach(u=>{s[u]&&Re.isNode(s[u])&&(s[u]=ot(J(s[u])))});var l=J(this.props.template.render(Ne({container:ot(n),transclude:this.props.transclude},{renovated:this.props.renovated},this.props.transclude?{}:{model:s},!this.props.transclude&&Number.isFinite(o)?{index:o}:{})));return BL(J(i),l),()=>{mz(a,n.contents()),r.appendChild(i)}}shouldComponentUpdate(t){var{model:i,template:r}=this.props,{model:n,template:a}=t,s=r===a;if(!s)return!0;if(oe(i)&&oe(n)){var{data:o,index:l}=i,{data:u,index:d}=n;return l!==d||!pz(o,u)}var c=i===n;return!c}createEffects(){return[new oi(this.renderTemplate,[this.props.template,this.props.model])]}updateEffects(){this._effects[0].update([this.props.template,this.props.model])}componentWillUnmount(){}render(){return null}}function wm(e){return Array.isArray(e)?[...e]:Ne({},e)}function RO(e,t,i){var r=i.length>0&&t&&e!==t?wm(t):wm(e),n=i[0];return i.length>1?r[n]=RO(e[n],t==null?void 0:t[n],i.slice(1)):n&&(Ct(e[n])?r[n]=wm(e[n]):r[n]=e[n]),r}function gz(e,t,i,r){var n=t[i],a=e[i],s=e;Ct(n)||i!==r&&Array.isArray(n)?s[i]=RO(n,a,no(r).slice(1)):s[i]=n}var Sm=(e,t)=>i=>{Object.prototype.hasOwnProperty.call(e,i)&&e[i]===void 0&&(e[i]=t(i))};class Rd extends Nn{constructor(t,i){super(t,i),this._shouldRaiseContentReady=!1,this.validateKeyDownHandler()}get _propsInfo(){return{allowNull:[],twoWay:[],elements:[],templates:[],props:[]}}validateKeyDownHandler(){var t=this.getSupportedKeyNames(),i=t.length>0,r=typeof this._viewComponent.prototype.keyDown=="function";if(i&&!r)throw Error("Component's declaration must have 'keyDown' method.")}get viewRef(){var t;return(t=this._viewRef)===null||t===void 0?void 0:t.current}_checkContentReadyOption(t){var i=this._getContentReadyOptions().reduce((r,n)=>(r[n]=!0,r),{});return this._checkContentReadyOption=r=>!!i[r],this._checkContentReadyOption(t)}_getContentReadyOptions(){return["rtlEnabled"]}_fireContentReady(){this._actionsMap.onContentReady({})}_getDefaultOptions(){return ce(!0,super._getDefaultOptions(),this._viewComponent.defaultProps,this._propsInfo.twoWay.reduce((t,i)=>{var[r,n,a]=i;return Ne({},t,{[r]:this._viewComponent.defaultProps[n],[a]:s=>this.option(r,s)})},{}),this._propsInfo.templates.reduce((t,i)=>Ne({},t,{[i]:null}),{}))}_getUnwrappedOption(){var t={};return Object.keys(this.option()).forEach(i=>{t[i]=this.option(i)}),t}_initializeComponent(){var t;super._initializeComponent(),(t=this._templateManager)===null||t===void 0||t.addDefaultTemplates(this.getDefaultTemplates());var i=this._getUnwrappedOption();this._props=this._optionsWithDefaultTemplates(i),this._propsInfo.templates.forEach(r=>{this._componentTemplates[r]=this._createTemplateComponent(this._props[r])}),Object.keys(this._getActionConfigsFull()).forEach(r=>this._addAction(r)),this._viewRef=Yi(),this.defaultKeyHandlers=this._createDefaultKeyHandlers()}_initMarkup(){var t=this.getProps();this._renderWrapper(t)}_renderWrapper(t){var i=this.$element()[0];this._isNodeReplaced||Do.onPreRender(),Do.render(this._viewComponent,t,i,this._isNodeReplaced),this._isNodeReplaced||(this._isNodeReplaced=!0,Do.onAfterRender(),this._shouldRaiseContentReady=!0),this._shouldRaiseContentReady&&(this._fireContentReady(),this._shouldRaiseContentReady=!1)}_silent(t,i){this._options.silent(t,i)}_render(){}_removeWidget(){Do.remove(this.$element()[0])}_dispose(){this._removeWidget(),super._dispose()}get elementAttr(){var t=this.$element()[0];if(!this._elementAttr){var{attributes:i}=t,r=Array.from(i).filter(o=>{var l;return!this._propsInfo.templates.includes(o.name)&&((l=i[o.name])===null||l===void 0?void 0:l.specified)}).reduce((o,l)=>{var{name:u,value:d}=l,c=o,h=u in t;return c[u]=d===""&&h?t[u]:d,c},{});this._elementAttr=r,this._storedClasses=t.getAttribute("class")||""}for(var n=t.style,a={},s=0;s<n.length;s+=1)a[n[s]]=n.getPropertyValue(n[s]);return this._elementAttr.style=a,this._elementAttr.class=this._storedClasses,this._elementAttr}_getAdditionalActionConfigs(){return{onContentReady:{excludeValidators:["disabled","readOnly"]}}}_getAdditionalProps(){return[]}_patchOptionValues(t){var{allowNull:i,elements:r,props:n,twoWay:a}=this._propsInfo,s=Object.keys(this._viewComponent.defaultProps),o=this._getDefaultOptions(),{children:l,onKeyboardHandled:u,ref:d}=t,c=u?(f,p)=>{u(p)}:void 0,h={ref:d,children:l,onKeyDown:c};return[...n,...this._getAdditionalProps()].forEach(f=>{Object.prototype.hasOwnProperty.call(t,f)&&(h[f]=t[f])}),i.forEach(Sm(h,()=>null)),s.forEach(Sm(h,f=>o[f])),a.forEach(f=>{var[p,g]=f;Sm(h,()=>o[g])(p)}),r.forEach(f=>{if(f in h){var p=h[f];Br(p)&&(h[f]=this._patchElementParam(p))}}),h}getSupportedKeyNames(){return[]}prepareStyleProp(t){return typeof t.style=="string"?Ne({},t,{style:{},cssText:t.style}):t}getProps(){var t,i,{elementAttr:r}=this.option(),n=this._patchOptionValues(Ne({},this._props,{ref:this._viewRef,children:this._extractDefaultSlot(),aria:this._aria}));return this._propsInfo.templates.forEach(a=>{n[a]=this._componentTemplates[a]}),this.prepareStyleProp(Ne({},n,this.elementAttr,r,{className:[...((t=this.elementAttr.class)!==null&&t!==void 0?t:"").split(" "),...((i=r==null?void 0:r.class)!==null&&i!==void 0?i:"").split(" ")].filter((a,s,o)=>a&&o.indexOf(a)===s).join(" ").trim(),class:""},this._actionsMap))}_getActionConfigs(){return{}}_getActionConfigsFull(){return Ne({},this._getActionConfigs(),this._getAdditionalActionConfigs())}getDefaultTemplates(){var t=Object.values(this._templatesInfo),i={};return t.forEach(r=>{i[r]="dx-renovation-template-mock"}),i}get _templatesInfo(){return{}}_optionsWithDefaultTemplates(t){var i=Object.entries(this._templatesInfo).reduce((r,n)=>{var a,[s,o]=n;return Ne({},r,{[s]:(a=t[s])!==null&&a!==void 0?a:o})},{});return Ne({},t,i)}_init(){super._init(),this.customKeyHandlers={},this._actionsMap={},this._aria={},this._componentTemplates={}}_createDefaultKeyHandlers(){var t={},i=this.getSupportedKeyNames();return i.forEach(r=>{t[r]=n=>this.viewRef.keyDown(o0.createKeyDownOptions(n))}),t}_addAction(t,i){var r=i;if(!r){var n=this._createActionByOption(t,this._getActionConfigsFull()[t]);r=a=>(Object.keys(a).forEach(s=>{oe(a[s])&&Re.isNode(a[s])&&(a[s]=ot(J(a[s])))}),n(a))}this._actionsMap[t]=r}_optionChanged(t){var{fullName:i,name:r,previousValue:n,value:a}=t;gz(this._props,this.option(),r,i),this._propsInfo.templates.includes(r)&&a!==n&&(this._componentTemplates[r]=this._createTemplateComponent(a)),r&&this._getActionConfigsFull()[r]&&this._addAction(r),this._shouldRaiseContentReady=this._shouldRaiseContentReady||this._checkContentReadyOption(i),super._optionChanged(t),this._invalidate()}_extractDefaultSlot(){return this.option("_hasAnonymousTemplateContent")?Do.createElement(Kx,{template:this._getTemplate(this._templateManager.anonymousTemplateName),transclude:!0,renovated:!0}):null}_createTemplateComponent(t){if(t){var i=this._getTemplate(t);if(!(nt(i)&&i==="dx-renovation-template-mock"))return r=>Do.createElement(Kx,{template:i,model:r})}}_wrapKeyDownHandler(t){return i=>{var{keyName:r,originalEvent:n,which:a}=i,s=this.customKeyHandlers,o=s[r]||s[a];if(o!==void 0){var l=o.bind(this),u=l(n,i);if(!u)return n.cancel=!0,n}return t==null?void 0:t(n,i)}}_toPublicElement(t){return ot(J(t))}_patchElementParam(t){try{var i=J(t),r=i==null?void 0:i.get(0);return r!=null&&r.nodeType?r:t}catch{return t}}repaint(){this._isNodeReplaced=!1,this._shouldRaiseContentReady=!0,this._removeWidget(),this._refresh()}_supportedKeys(){return Ne({},this.defaultKeyHandlers,this.customKeyHandlers)}registerKeyHandler(t,i){this.customKeyHandlers[t]=i}setAria(t,i){this._aria[t]=i,this._initMarkup()}}Rd.IS_RENOVATED_WIDGET=!1;Rd.IS_RENOVATED_WIDGET=!0;class vz extends Rd{get _validationGroupConfig(){return Gt.getGroupConfig(this._findGroup())}getDefaultTemplateNames(){return["content"]}getSupportedKeyNames(){return["space","enter"]}getProps(){var t=super.getProps();t.onClick=r=>{var{event:n}=r;this._clickAction({event:n,validationGroup:this._validationGroupConfig})};var i=wd(t.icon);return i==="svg"&&(t.iconTemplate=this._createTemplateComponent(()=>t.icon)),t}get _templatesInfo(){return{template:"content"}}_toggleActiveState(t,i){var r=this.viewRef;i?r.activate():r.deactivate()}_getSubmitAction(){var t=!0,i="valid";return this._createAction(r=>{var{event:n,submitInput:a}=r;if(t){var s=this._validationGroupConfig;if(s!==void 0&&s!==""){var o=s.validate();i=o.status,o.status==="pending"&&(t=!1,this.option("disabled",!0),o.complete.then(l=>{var{status:u}=l;this.option("disabled",!1),i=u,i==="valid"&&a.click(),t=!0}))}}i!=="valid"&&n.preventDefault(),n.stopPropagation()})}_initializeComponent(){super._initializeComponent(),this._addAction("onSubmit",this._getSubmitAction()),this._clickAction=this._createClickAction()}_initMarkup(){super._initMarkup();var t=this.$element().find(".dx-button-content"),i=t.children().filter(".dx-template-wrapper"),r=t.children().filter(".dx-button-submit-input");i.length&&(i.addClass("dx-button-content"),i.append(r),t.replaceWith(i))}_patchOptionValues(t){return super._patchOptionValues(Ne({},t,{templateData:t._templateData}))}_findGroup(){var t=this.$element(),i=this.option("validationGroup");return i!==void 0&&i!==""?i:Gt.findGroup(t,this._modelByElement(t))}_createClickAction(){return this._createActionByOption("onClick",{excludeValidators:["readOnly"]})}_optionChanged(t){switch(t.name){case"onClick":this._clickAction=this._createClickAction()}super._optionChanged(t)}}function Gr(e){return Object.keys(e).filter(t=>e[t]).join(" ")}var _z=["iconTemplate","position","source"],bz=e=>{var{iconClassName:t,props:{iconTemplate:i,source:r},sourceType:n}=e;return _a([n==="dxIcon"&&wi(1,"i",t),n==="fontIcon"&&wi(1,"i",t),n==="image"&&wi(1,"img",t,null,1,{alt:"",src:r}),i&&wi(1,"i",t,i({}),0)],0)},yz={position:"left",source:""},Cz=e=>e&&(e.defaultProps?t=>Er(ti(2,e,Ne({},t))):e);class MO extends en{constructor(t){super(t),this.state={}}get sourceType(){return wd(this.props.source)}get cssClass(){return this.props.position!=="left"?"dx-icon-right":""}get iconClassName(){var t={"dx-icon":!0,[this.cssClass]:!!this.cssClass},{source:i}=this.props;return this.sourceType==="dxIcon"?Gr(Ne({},t,{["dx-icon-".concat(i)]:!0})):this.sourceType==="fontIcon"?Gr(Ne({},t,{[String(i)]:!!i})):this.sourceType==="image"?Gr(t):this.sourceType==="svg"?Gr(Ne({},t,{"dx-svg-icon":!0})):""}get restAttributes(){var t=this.props,i=ui(t,_z);return i}render(){var t=this.props;return bz({props:Ne({},t,{iconTemplate:Cz(t.iconTemplate)}),sourceType:this.sourceType,cssClass:this.cssClass,iconClassName:this.iconClassName,restAttributes:this.restAttributes})}}MO.defaultProps=yz;var xz=["config"],wz=e=>Er(wi(1,"div","dx-inkripple",null,1,Ne({},e.restAttributes))),Sz={config:Object.freeze({})};class BO extends en{constructor(t){super(t),this.state={},this.__getterCache={},this.hideWave=this.hideWave.bind(this),this.showWave=this.showWave.bind(this)}get getConfig(){return this.__getterCache.getConfig!==void 0?this.__getterCache.getConfig:this.__getterCache.getConfig=(()=>{var{config:t}=this.props;return j2(t)})()}get restAttributes(){var t=this.props,i=ui(t,xz);return i}hideWave(t){q2(this.getConfig,t)}showWave(t){G2(this.getConfig,t)}componentWillUpdate(t,i,r){this.props.config!==t.config&&(this.__getterCache.getConfig=void 0)}render(){var t=this.props;return wz({props:Ne({},t),getConfig:this.getConfig,restAttributes:this.restAttributes})}}BO.defaultProps=Sz;function lo(e){return(t,i,r,n)=>{var a=n?Be(e,n):e;if(i)return he.on(t,a,r,i),()=>{he.off(t,a,i)}}}var Ez=lo(zt),Tz=lo("dxactive"),Iz=lo("dxinactive"),Az=lo("dxhoverstart"),Oz=lo("dxhoverend"),Dz=lo("focusin"),kz=lo("focusout"),Uf={className:"",activeStateEnabled:!1,disabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,tabIndex:0,visible:!0},Gf=OO(void 0),Rz=["children","rtlEnabled"],Mz=e=>e.props.children,Bz={};class PO extends en{constructor(t){super(t),this.state={},this.__getterCache={}}getChildContext(){return Ne({},this.context,{ConfigContext:this.config})}get config(){return this.__getterCache.config!==void 0?this.__getterCache.config:this.__getterCache.config=(()=>({rtlEnabled:this.props.rtlEnabled}))()}get restAttributes(){var t=this.props,i=ui(t,Rz);return i}componentWillUpdate(t,i,r){this.props.rtlEnabled!==t.rtlEnabled&&(this.__getterCache.config=void 0)}render(){var t=this.props;return Mz({props:Ne({},t),config:this.config,restAttributes:this.restAttributes})}}PO.defaultProps=Bz;function Pz(e,t){return e!==void 0?e:(t==null?void 0:t.rtlEnabled)!==void 0?t.rtlEnabled:ii().rtlEnabled}function Lz(e,t){var i=oe(e),r=oe(ii().rtlEnabled)&&!i&&!oe(t==null?void 0:t.rtlEnabled);return i&&e!==(t==null?void 0:t.rtlEnabled)||r}var Fz=["_feedbackHideTimeout","_feedbackShowTimeout","accessKey","activeStateEnabled","activeStateUnit","addWidgetClass","aria","children","className","classes","cssText","disabled","focusStateEnabled","height","hint","hoverStateEnabled","name","onActive","onClick","onDimensionChanged","onFocusIn","onFocusOut","onHoverEnd","onHoverStart","onInactive","onKeyDown","onRootElementRendered","onVisibilityChange","rootElementRef","rtlEnabled","tabIndex","visible","width"],Nz=400,Vz=30,Hz=e=>Object.keys(e).reduce((t,i)=>e[i]?Ne({},t,{[i==="role"||i==="id"?i:"aria-".concat(i)]:String(e[i])}):t,{}),$z=e=>{var t=Er(wi(1,"div",e.cssClasses,e.props.children,0,Ne({},e.attributes,{tabIndex:e.tabIndex,title:e.props.hint,style:X0(e.styles)}),null,e.widgetElementRef));return e.shouldRenderConfigProvider?ti(2,PO,{rtlEnabled:e.rtlEnabled,children:t}):t},Kc=Object.create(Object.prototype,Ne(Object.getOwnPropertyDescriptors(Uf),Object.getOwnPropertyDescriptors({_feedbackHideTimeout:Nz,_feedbackShowTimeout:Vz,cssText:"",aria:Object.freeze({}),classes:"",name:"",addWidgetClass:!0})));class Kf extends Dd{constructor(t){super(t),this.widgetElementRef=Yi(),this.state={active:!1,focused:!1,hovered:!1},this.setRootElementRef=this.setRootElementRef.bind(this),this.activeEffect=this.activeEffect.bind(this),this.inactiveEffect=this.inactiveEffect.bind(this),this.clickEffect=this.clickEffect.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.focusInEffect=this.focusInEffect.bind(this),this.focusOutEffect=this.focusOutEffect.bind(this),this.hoverStartEffect=this.hoverStartEffect.bind(this),this.hoverEndEffect=this.hoverEndEffect.bind(this),this.keyboardEffect=this.keyboardEffect.bind(this),this.resizeEffect=this.resizeEffect.bind(this),this.windowResizeEffect=this.windowResizeEffect.bind(this),this.visibilityEffect=this.visibilityEffect.bind(this),this.checkDeprecation=this.checkDeprecation.bind(this),this.applyCssTextEffect=this.applyCssTextEffect.bind(this)}get config(){return"ConfigContext"in this.context?this.context.ConfigContext:Gf}createEffects(){return[new oi(this.setRootElementRef,[]),new oi(this.activeEffect,[this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),new oi(this.inactiveEffect,[this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),new oi(this.clickEffect,[this.props.disabled,this.props.name,this.props.onClick]),new oi(this.focusInEffect,[this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),new oi(this.focusOutEffect,[this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),new oi(this.hoverStartEffect,[this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),new oi(this.hoverEndEffect,[this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),new oi(this.keyboardEffect,[this.props.focusStateEnabled,this.props.onKeyDown]),new oi(this.resizeEffect,[this.props.name,this.props.onDimensionChanged]),new oi(this.windowResizeEffect,[this.props.onDimensionChanged]),new oi(this.visibilityEffect,[this.props.name,this.props.onVisibilityChange]),new oi(this.checkDeprecation,[this.props.height,this.props.width]),new oi(this.applyCssTextEffect,[this.props.cssText]),kd()]}updateEffects(){var t,i,r,n,a,s,o,l,u,d,c,h,f;(t=this._effects[1])===null||t===void 0||t.update([this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),(i=this._effects[2])===null||i===void 0||i.update([this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),(r=this._effects[3])===null||r===void 0||r.update([this.props.disabled,this.props.name,this.props.onClick]),(n=this._effects[4])===null||n===void 0||n.update([this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),(a=this._effects[5])===null||a===void 0||a.update([this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),(s=this._effects[6])===null||s===void 0||s.update([this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),(o=this._effects[7])===null||o===void 0||o.update([this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),(l=this._effects[8])===null||l===void 0||l.update([this.props.focusStateEnabled,this.props.onKeyDown]),(u=this._effects[9])===null||u===void 0||u.update([this.props.name,this.props.onDimensionChanged]),(d=this._effects[10])===null||d===void 0||d.update([this.props.onDimensionChanged]),(c=this._effects[11])===null||c===void 0||c.update([this.props.name,this.props.onVisibilityChange]),(h=this._effects[12])===null||h===void 0||h.update([this.props.height,this.props.width]),(f=this._effects[13])===null||f===void 0||f.update([this.props.cssText])}setRootElementRef(){var{onRootElementRendered:t,rootElementRef:i}=this.props;i&&(i.current=this.widgetElementRef.current),t==null||t(this.widgetElementRef.current)}activeEffect(){var{_feedbackShowTimeout:t,activeStateEnabled:i,activeStateUnit:r,disabled:n,onActive:a}=this.props,s=r;if(i&&!n)return Tz(this.widgetElementRef.current,o=>{this.setState(l=>({active:!0})),a==null||a(o)},{timeout:t,selector:s},"UIFeedback")}inactiveEffect(){var{_feedbackHideTimeout:t,activeStateEnabled:i,activeStateUnit:r,onInactive:n}=this.props,a=r;if(i)return Iz(this.widgetElementRef.current,s=>{this.state.active&&(this.setState(o=>({active:!1})),n==null||n(s))},{timeout:t,selector:a},"UIFeedback")}clickEffect(){var{disabled:t,name:i,onClick:r}=this.props,n=i;if(r&&!t)return sC.on(this.widgetElementRef.current,r,{namespace:n}),()=>sC.off(this.widgetElementRef.current,{namespace:n})}focusInEffect(){var{disabled:t,focusStateEnabled:i,name:r,onFocusIn:n}=this.props,a="".concat(r,"Focus");if(i&&!t)return Dz(this.widgetElementRef.current,s=>{s.isDefaultPrevented()||(this.setState(o=>({focused:!0})),n==null||n(s))},null,a)}focusOutEffect(){var{focusStateEnabled:t,name:i,onFocusOut:r}=this.props,n="".concat(i,"Focus");if(t)return kz(this.widgetElementRef.current,a=>{!a.isDefaultPrevented()&&this.state.focused&&(this.setState(s=>({focused:!1})),r==null||r(a))},null,n)}hoverStartEffect(){var{activeStateUnit:t,disabled:i,hoverStateEnabled:r,onHoverStart:n}=this.props,a=t;if(r&&!i)return Az(this.widgetElementRef.current,s=>{!this.state.active&&this.setState(o=>({hovered:!0})),n==null||n(s)},{selector:a},"UIFeedback")}hoverEndEffect(){var{activeStateUnit:t,hoverStateEnabled:i,onHoverEnd:r}=this.props,n=t;if(i)return Oz(this.widgetElementRef.current,a=>{this.state.hovered&&(this.setState(s=>({hovered:!1})),r==null||r(a))},{selector:n},"UIFeedback")}keyboardEffect(){var{focusStateEnabled:t,onKeyDown:i}=this.props;if(t&&i){var r=ja.on(this.widgetElementRef.current,this.widgetElementRef.current,n=>i(n));return()=>ja.off(r)}}resizeEffect(){var t="".concat(this.props.name,"VisibilityChange"),{onDimensionChanged:i}=this.props;if(i)return Rc.on(this.widgetElementRef.current,i,{namespace:t}),()=>Rc.off(this.widgetElementRef.current,{namespace:t})}windowResizeEffect(){var{onDimensionChanged:t}=this.props;if(t)return Ws.add(t),()=>{Ws.remove(t)}}visibilityEffect(){var{name:t,onVisibilityChange:i}=this.props,r="".concat(t,"VisibilityChange");if(i)return Mc.on(this.widgetElementRef.current,()=>i(!0),()=>i(!1),{namespace:r}),()=>Mc.off(this.widgetElementRef.current,{namespace:r})}checkDeprecation(){var{height:t,width:i}=this.props;We(i)&&qt.log("W0017","width"),We(t)&&qt.log("W0017","height")}applyCssTextEffect(){var{cssText:t}=this.props;t!==""&&(this.widgetElementRef.current.style.cssText=t)}get shouldRenderConfigProvider(){var{rtlEnabled:t}=this.props;return Lz(t,this.config)}get rtlEnabled(){var{rtlEnabled:t}=this.props;return Pz(t,this.config)}get attributes(){var{aria:t,disabled:i,focusStateEnabled:r,visible:n}=this.props,a=r&&!i&&this.props.accessKey;return Ne({},ce({},a&&{accessKey:a}),Hz(Ne({},t,{disabled:i,hidden:!n})),ce({},this.restAttributes))}get styles(){var{height:t,width:i}=this.props,r=this.restAttributes.style||{},n=hl("width",We(i)?i():i),a=hl("height",We(t)?t():t);return Ne({},r,{height:a??r.height,width:n??r.width})}get cssClasses(){var{activeStateEnabled:t,addWidgetClass:i,className:r,classes:n,disabled:a,focusStateEnabled:s,hoverStateEnabled:o,onVisibilityChange:l,visible:u}=this.props,d=!!s&&!a,c=!!o&&!a,h=!!t&&!a,f={"dx-widget":!!i,[String(n)]:!!n,[String(r)]:!!r,"dx-state-disabled":!!a,"dx-state-invisible":!u,"dx-state-focused":!!this.state.focused&&d,"dx-state-active":!!this.state.active&&h,"dx-state-hover":!!this.state.hovered&&c&&!this.state.active,"dx-rtl":!!this.rtlEnabled,"dx-visibility-change-handler":!!l};return Gr(f)}get tabIndex(){var{disabled:t,focusStateEnabled:i,tabIndex:r}=this.props,n=i&&!t;return n?r:void 0}get restAttributes(){var t=this.props,i=ui(t,Fz);return i}focus(){nc.trigger(this.widgetElementRef.current)}blur(){var t=Re.getActiveElement();this.widgetElementRef.current===t&&t.blur()}activate(){this.setState(t=>({active:!0}))}deactivate(){this.setState(t=>({active:!1}))}render(){var t=this.props;return $z({props:Ne({},t),active:this.state.active,focused:this.state.focused,hovered:this.state.hovered,widgetElementRef:this.widgetElementRef,config:this.config,shouldRenderConfigProvider:this.shouldRenderConfigProvider,rtlEnabled:this.rtlEnabled,attributes:this.attributes,styles:this.styles,cssClasses:this.cssClasses,tabIndex:this.tabIndex,restAttributes:this.restAttributes})}}Kf.defaultProps=Kc;var zz=["accessKey","activeStateEnabled","children","className","disabled","focusStateEnabled","height","hint","hoverStateEnabled","icon","iconPosition","iconTemplate","onClick","onKeyDown","onSubmit","pressed","rtlEnabled","stylingMode","tabIndex","template","templateData","text","type","useInkRipple","useSubmitBehavior","visible","width"],Wz=["outlined","text","contained"],jz=e=>{var{icon:t,iconPosition:i,stylingMode:r,text:n,type:a}=e,s=r&&Wz.includes(r),o={"dx-button":!0,["dx-button-mode-".concat(s?r:"contained")]:!0,["dx-button-".concat(a??"normal")]:!0,"dx-button-has-text":!!n,"dx-button-has-icon":!!t,"dx-button-icon-right":i!=="left"};return Gr(o)},Uz=e=>{var{children:t,iconPosition:i,iconTemplate:r,template:n,text:a}=e.props,s=!e.props.template&&!t&&a!=="",o=i==="left",l=!e.props.template&&!t&&(e.iconSource||e.props.iconTemplate)&&ti(2,MO,{source:e.iconSource,position:i,iconTemplate:r});return Er(ti(2,Kf,Ne({accessKey:e.props.accessKey,activeStateEnabled:e.props.activeStateEnabled,aria:e.aria,className:e.props.className,classes:e.cssClasses,disabled:e.props.disabled,focusStateEnabled:e.props.focusStateEnabled,height:e.props.height,hint:e.props.hint,hoverStateEnabled:e.props.hoverStateEnabled,onActive:e.onActive,onClick:e.onWidgetClick,onInactive:e.onInactive,onKeyDown:e.keyDown,rtlEnabled:e.props.rtlEnabled,tabIndex:e.props.tabIndex,visible:e.props.visible,width:e.props.width},e.restAttributes,{children:wi(1,"div","dx-button-content",[e.props.template&&n({data:e.buttonTemplateData}),!e.props.template&&t,o&&l,s&&wi(1,"span","dx-button-text",a,0),!o&&l,e.props.useSubmitBehavior&&wi(64,"input","dx-button-submit-input",null,1,{type:"submit",tabIndex:-1},null,e.submitInputRef),e.props.useInkRipple&&ti(2,BO,{config:e.inkRippleConfig},null,e.inkRippleRef)],0,null,null,e.contentRef)}),null,e.widgetRef))},Gz=Object.create(Object.prototype,Ne(Object.getOwnPropertyDescriptors(Uf),Object.getOwnPropertyDescriptors({activeStateEnabled:!0,hoverStateEnabled:!0,icon:"",iconPosition:"left",stylingMode:"contained",text:"",type:"normal",useInkRipple:!1,useSubmitBehavior:!1,templateData:Object.freeze({})}))),LO=EL([{device:()=>Ye.real().deviceType==="desktop"&&!Ye.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>Ei(gn()),options:{useInkRipple:!0}}]),qx=e=>e&&(e.defaultProps?t=>Er(ti(2,e,Ne({},t))):e);let qc=class extends Dd{constructor(t){super(t),this.state={},this.contentRef=Yi(),this.inkRippleRef=Yi(),this.submitInputRef=Yi(),this.widgetRef=Yi(),this.__getterCache={},this.focus=this.focus.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.submitEffect=this.submitEffect.bind(this),this.onActive=this.onActive.bind(this),this.onInactive=this.onInactive.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[new oi(this.submitEffect,[this.props.onSubmit,this.props.useSubmitBehavior]),kd()]}updateEffects(){var t;(t=this._effects[0])===null||t===void 0||t.update([this.props.onSubmit,this.props.useSubmitBehavior])}submitEffect(){var{onSubmit:t,useSubmitBehavior:i}=this.props;if(i&&t)return oC.on(this.submitInputRef.current,r=>t({event:r,submitInput:this.submitInputRef.current}),{namespace:"UIFeedback"}),()=>oC.off(this.submitInputRef.current,{namespace:"UIFeedback"})}onActive(t){var{useInkRipple:i}=this.props;i&&this.inkRippleRef.current.showWave({element:this.contentRef.current,event:t})}onInactive(t){var{useInkRipple:i}=this.props;i&&this.inkRippleRef.current.hideWave({element:this.contentRef.current,event:t})}onWidgetClick(t){var{onClick:i,useSubmitBehavior:r}=this.props;i==null||i({event:t}),r&&this.submitInputRef.current.click()}keyDown(t){var{onKeyDown:i}=this.props,{keyName:r,originalEvent:n,which:a}=t,s=i==null?void 0:i(t);if(s!=null&&s.cancel)return s;(r==="space"||a==="space"||r==="enter"||a==="enter")&&(n.preventDefault(),this.onWidgetClick(n))}get aria(){var{icon:t,text:i}=this.props,r=(i??"")||Ae.format(Fu(t,!0))||t;return!i&&t&&wd(t)==="image"&&(r=t.includes("base64")?"Base64":t.replace(/.+\/([^.]+)\..+$/,"$1")),Ne({role:"button"},r?{label:r}:{})}get cssClasses(){return jz(this.props)}get iconSource(){var{icon:t,type:i}=this.props;return t||i==="back"?(t??"")||"back":""}get inkRippleConfig(){return this.__getterCache.inkRippleConfig!==void 0?this.__getterCache.inkRippleConfig:this.__getterCache.inkRippleConfig=(()=>{var{icon:t,text:i,type:r}=this.props;return!i&&t||r==="back"?{isCentered:!0,useHoldAnimation:!1,waveSizeCoefficient:1}:{}})()}get buttonTemplateData(){var{icon:t,templateData:i,text:r}=this.props;return Ne({icon:t,text:r},i)}get restAttributes(){var t=this.props,i=ui(t,zz);return i}focus(){this.widgetRef.current.focus()}activate(){this.widgetRef.current.activate()}deactivate(){this.widgetRef.current.deactivate()}componentWillUpdate(t,i,r){super.componentWillUpdate(),(this.props.icon!==t.icon||this.props.text!==t.text||this.props.type!==t.type)&&(this.__getterCache.inkRippleConfig=void 0)}render(){var t=this.props;return Uz({props:Ne({},t,{template:qx(t.template),iconTemplate:qx(t.iconTemplate)}),contentRef:this.contentRef,submitInputRef:this.submitInputRef,inkRippleRef:this.inkRippleRef,widgetRef:this.widgetRef,onActive:this.onActive,onInactive:this.onInactive,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,aria:this.aria,cssClasses:this.cssClasses,iconSource:this.iconSource,inkRippleConfig:this.inkRippleConfig,buttonTemplateData:this.buttonTemplateData,restAttributes:this.restAttributes})}};qc.defaultProps=Object.create(Object.prototype,Ne(Object.getOwnPropertyDescriptors(Gz),Object.getOwnPropertyDescriptors(Ne({},cl(LO)))));var Xx=[];function Kz(e){Xx.push(e),qc.defaultProps=Object.create(Object.prototype,Ne(Object.getOwnPropertyDescriptors(qc.defaultProps),Object.getOwnPropertyDescriptors(cl(LO)),Object.getOwnPropertyDescriptors(cl(Xx))))}class Ji extends vz{getProps(){var t=super.getProps();return t.onKeyDown=this._wrapKeyDownHandler(t.onKeyDown),t}focus(){var t;return(t=this.viewRef)===null||t===void 0?void 0:t.focus(...arguments)}activate(){var t;return(t=this.viewRef)===null||t===void 0?void 0:t.activate(...arguments)}deactivate(){var t;return(t=this.viewRef)===null||t===void 0?void 0:t.deactivate(...arguments)}_getActionConfigs(){return{onClick:{excludeValidators:["readOnly"]},onSubmit:{}}}get _propsInfo(){return{twoWay:[],allowNull:[],elements:["onSubmit"],templates:["template","iconTemplate"],props:["activeStateEnabled","hoverStateEnabled","icon","iconPosition","onClick","onSubmit","pressed","stylingMode","template","iconTemplate","text","type","useInkRipple","useSubmitBehavior","templateData","className","accessKey","disabled","focusStateEnabled","height","hint","onKeyDown","rtlEnabled","tabIndex","visible","width"]}}get _viewComponent(){return qc}}Tt("dxButton",Ji);Ji.defaultOptions=Kz;var Yx="dx-custom-button-hovered";class qz extends Vf{_attachEvents(t,i){var{editor:r}=this;he.on(i,c0,()=>{r.$element().addClass(Yx)}),he.on(i,kf,()=>{r.$element().removeClass(Yx)}),he.on(i,zt,n=>{n.stopPropagation()})}_create(){var{editor:t}=this,i=J("<div>");this._addToContainer(i);var r=t._createComponent(i,Ji,ce({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(t)}));return{$element:i,instance:r}}_prepareIntegrationOptions(t){return ce({},t.option("integrationOptions"),{skipTemplates:["content"]})}update(){var t=super.update();return this.instance&&this.instance.option("disabled",this._isDisabled()),t}_isVisible(){var{editor:t}=this;return t.option("visible")}_isDisabled(){var t=this.options.disabled!==void 0;return t?this.instance?this.instance.option("disabled"):this.options.disabled:this.editor.option("readOnly")}}var Xz="dx-texteditor-buttons-container";function Yz(e){(()=>{if(!e||typeof e!="object"||Array.isArray(e))throw xt.Error("E1053")})(),(()=>{if(!("name"in e))throw xt.Error("E1054")})(),(()=>{var{name:t}=e;if(typeof t!="string")throw xt.Error("E1055")})(),(()=>{var{location:t}=e;"location"in e&&t!=="after"&&t!=="before"&&(e.location="after")})()}function Zx(e,t){if(e.indexOf(t)!==-1)throw xt.Error("E1055",t);e.push(t)}function Zz(e,t){return!!t.find(i=>i.name===e)}class Jz{constructor(t,i){this.buttons=[],this.defaultButtonsInfo=i,this.editor=t}_compileButtonInfo(t){var i=[];return t.map(r=>{var n=typeof r=="string";n||Yz(r);var a=n||Zz(r.name,this.defaultButtonsInfo);if(a){var s=this.defaultButtonsInfo.find(l=>{var{name:u}=l;return u===r||u===r.name});if(!s)throw xt.Error("E1056",this.editor.NAME,r);return Zx(i,r),s}else{var{name:o}=r;return Zx(i,o),ce(r,{Ctor:qz})}})}_createButton(t){var{Ctor:i,options:r,name:n}=t,a=new i(n,this.editor,r);return this.buttons.push(a),a}_renderButtons(t,i,r){var n=null,a=t?this._compileButtonInfo(t):this.defaultButtonsInfo;return a.forEach(s=>{var{location:o="after"}=s;o===r&&this._createButton(s).render((()=>(n=n||J("<div>").addClass(Xz),r==="before"?i.prepend(n):i.append(n),n))())}),n}clean(){this.buttons.forEach(t=>t.dispose()),this.buttons=[]}getButton(t){var i=this.buttons.find(r=>{var{name:n}=r;return n===t});return i&&i.instance}renderAfterButtons(t,i){return this._renderButtons(t,i,"after")}renderBeforeButtons(t,i){return this._renderButtons(t,i,"before")}updateButtons(t){this.buttons.forEach(i=>{(!t||t.indexOf(i.name)!==-1)&&i.update()})}}var Jx="dx-texteditor-label",Qx="dx-texteditor-with-label",ew="dx-texteditor-with-floating-label",tw="dx-texteditor-with-before-buttons",Qz="dx-label-before",eW="dx-label",tW="dx-label-after";class iW{constructor(t){var{$editor:i,text:r,mode:n,mark:a,containsButtonsBefore:s,containerWidth:o,beforeWidth:l}=t;this._props={$editor:i,text:r,mode:n,mark:a,containsButtonsBefore:s,containerWidth:o,beforeWidth:l},this._id="".concat(Jx,"-").concat(new Bi),this._render(),this._toggleMarkupVisibility()}_isVisible(){return!!this._props.text&&this._props.mode!=="hidden"}_render(){this._$before=J("<div>").addClass(Qz),this._$labelSpan=J("<span>"),this._$label=J("<div>").addClass(eW).append(this._$labelSpan),this._$after=J("<div>").addClass(tW),this._$root=J("<div>").addClass(Jx).attr("id",this._id).append(this._$before).append(this._$label).append(this._$after),this._updateMark(),this._updateText(),this._updateBeforeWidth(),this._updateMaxWidth()}_toggleMarkupVisibility(){var t=this._isVisible();this._updateEditorBeforeButtonsClass(t),this._updateEditorLabelClass(t),t?this._$root.appendTo(this._props.$editor):this._$root.detach()}_updateEditorLabelClass(t){if(this._props.$editor.removeClass(ew).removeClass(Qx),t){var i=this._props.mode==="floating"?ew:Qx;this._props.$editor.addClass(i)}}_updateEditorBeforeButtonsClass(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._isVisible();if(this._props.$editor.removeClass(tw),t){var i=this._props.containsButtonsBefore?tw:"";this._props.$editor.addClass(i)}}_updateMark(){this._$labelSpan.attr("data-mark",this._props.mark)}_updateText(){this._$labelSpan.text(this._props.text)}_updateBeforeWidth(){this._$before.css({width:this._props.beforeWidth})}_updateMaxWidth(){this._$label.css({maxWidth:this._props.containerWidth})}$element(){return this._$root}isVisible(){return this._isVisible()}getId(){if(this._isVisible())return this._id}updateMode(t){this._props.mode=t,this._toggleMarkupVisibility()}updateText(t){this._props.text=t,this._updateText(),this._toggleMarkupVisibility()}updateMark(t){this._props.mark=t,this._updateMark()}updateContainsButtonsBefore(t){this._props.containsButtonsBefore=t,this._updateEditorBeforeButtonsClass()}updateBeforeWidth(t){this._props.beforeWidth=t,this._updateBeforeWidth()}updateMaxWidth(t){this._props.containerWidth=t,this._updateMaxWidth()}}var iw=ft(),rW={observe:Ee,unobserve:Ee,disconnect:Ee};class nW{constructor(){if(!ht()||!iw.ResizeObserver)return rW;this._callbacksMap=new Map,this._observer=new iw.ResizeObserver(t=>{t.forEach(i=>{var r;(r=this._callbacksMap.get(i.target))===null||r===void 0||r(i)})})}observe(t,i){this._callbacksMap.set(t,i),this._observer.observe(t)}unobserve(t){this._callbacksMap.delete(t),this._observer.unobserve(t)}disconnect(){this._callbacksMap.clear(),this._observer.disconnect()}}var Xc=new nW,aW="dx-texteditor",sW="dx-texteditor-input-container",FO="dx-texteditor-input",oW="."+FO,lW="dx-texteditor-container",uW="dx-texteditor-buttons-container",rw="dx-placeholder",dW="dx-texteditor-empty",hW="dx-state-invisible",cW="dx-pending-indicator",nw="dx-validation-pending",fW="dx-valid",hh=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],pW=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"],mW=iW;function aw(e){if(oe(e)&&!Array.isArray(e))throw xt.Error("E1053")}var gW=mn.inherit({ctor:function(e,t){t&&aw(t.buttons),this._buttonCollection=new Jz(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._labelContainerElement=null,this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return ce(this.callBase(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:function(e){return oe(e)&&e!==!1?e:""},stylingMode:ii().editorStylingMode||"outlined",showValidationMark:!0,label:"",labelMode:"static",labelMark:""})},_defaultOptionsRules:function(){var e=gn();return this.callBase().concat([{device:function(){return Ei(e)},options:{stylingMode:ii().editorStylingMode||"filled",labelMode:"floating"}}])},_getDefaultButtons:function(){return[{name:"clear",Ctor:VH}]},_isClearButtonVisible:function(){return this.option("showClearButton")&&!this.option("readOnly")},_input:function(){return this.$element().find(oW).first()},_isFocused:function(){return Ya(this._input())||this.callBase()},_inputWrapper:function(){return this.$element()},_buttonsContainer:function(){return this._inputWrapper().find("."+uW).eq(0)},_isControlKey:function(e){return pW.indexOf(e)!==-1},_renderStylingMode:function(){this.callBase(),this._updateButtonsStyling(this.option("stylingMode"))},_initMarkup:function(){this.$element().addClass(aW),this._renderInput(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),this.callBase(),this._renderValue(),this._renderLabel()},_render:function(){this.callBase(),this._refreshValueChangeEvent(),this._renderEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()},_renderInput:function(){this._$buttonsContainer=this._$textEditorContainer=J("<div>").addClass(lW).appendTo(this.$element()),this._$textEditorInputContainer=J("<div>").addClass(sW).appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput()),this._renderButtonContainers()},_getInputContainer(){return this._$textEditorInputContainer},_renderPendingIndicator:function(){this.$element().addClass(nw);var e=this._getInputContainer(),t=J("<div>").addClass(cW).appendTo(e);this._pendingIndicator=this._createComponent(t,Rr)},_disposePendingIndicator:function(){this._pendingIndicator&&(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass(nw))},_renderValidationState:function(){this.callBase();var e=this.option("validationStatus")==="pending",t=this.$element();e?(!this._pendingIndicator&&this._renderPendingIndicator(),this._showValidMark=!1):(this.option("validationStatus")==="invalid"&&(this._showValidMark=!1),!this._showValidMark&&this.option("showValidationMark")===!0&&(this._showValidMark=this.option("validationStatus")==="valid"&&!!this._pendingIndicator),this._disposePendingIndicator()),t.toggleClass(fW,!!this._showValidMark)},_renderButtonContainers:function(){var e=this.option("buttons");this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(e,this._$buttonsContainer),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(e,this._$buttonsContainer)},_cleanButtonContainers:function(){var e,t;(e=this._$beforeButtonsContainer)===null||e===void 0||e.remove(),(t=this._$afterButtonsContainer)===null||t===void 0||t.remove(),this._buttonCollection.clean()},_clean(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._unobserveLabelContainerResize(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,this._$buttonsContainer=null,this.callBase()},_createInput:function(){var e=J("<input>");return this._applyInputAttributes(e,this.option("inputAttr")),e},_setSubmitElementName:function(e){var t=this.option("inputAttr.name");return this.callBase(e||t||"")},_applyInputAttributes:function(e,t){var i=ce(this._getDefaultAttributes(),t);e.attr(i).addClass(FO).css("minHeight",this.option("height")?"0":"")},_getDefaultAttributes:function(){var e={autocomplete:"off"},{ios:t,mac:i}=Ye.real();return(t||i)&&(e.placeholder=" "),e},_updateButtons:function(e){this._buttonCollection.updateButtons(e)},_updateButtonsStyling:function(e){ve(this.option("buttons"),(t,i)=>{var{options:r,name:n}=i;if(r&&!r.stylingMode&&this.option("visible")){var a=this.getButton(n);a.option&&a.option("stylingMode",e==="underlined"?"text":"contained")}})},_renderValue:function(){var e=this._renderInputValue();return e.promise()},_renderInputValue:function(e){var t;e=(t=e)!==null&&t!==void 0?t:this.option("value");var i=this.option("text"),r=this.option("displayValue"),n=this.option("displayValueFormatter");return r!==void 0&&e!==null?i=n(r):oe(i)||(i=n(e)),this.option("text",i),this._input().val()!==(oe(i)?i:"")?this._renderDisplayText(i):this._toggleEmptinessEventHandler(),new we().resolve()},_renderDisplayText:function(e){this._input().val(e),this._toggleEmptinessEventHandler()},_isValueValid:function(){if(this._input().length){var e=this._input().get(0).validity;if(e)return e.valid}return!0},_toggleEmptiness:function(e){this.$element().toggleClass(dW,e),this._togglePlaceholder(e)},_togglePlaceholder:function(e){this.$element().find(".".concat(rw)).eq(0).toggleClass(hW,!e)},_renderProps:function(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()},_toggleDisabledState:function(e){this.callBase.apply(this,arguments);var t=this._input();t.prop("disabled",e)},_toggleTabIndex:function(){var e=this._input(),t=this.option("disabled"),i=this.option("focusStateEnabled");t||!i?e.attr("tabIndex",-1):e.removeAttr("tabIndex")},_toggleReadOnlyState:function(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue:function(){return this.option("readOnly")},_toggleSpellcheckState:function(){this._input().prop("spellcheck",this.option("spellcheck"))},_unobserveLabelContainerResize:function(){this._labelContainerElement&&(Xc.unobserve(this._labelContainerElement),this._labelContainerElement=null)},_getLabelContainer:function(){return this._input()},_getLabelContainerWidth:function(){return ut(this._getLabelContainer())},_getLabelBeforeWidth:function(){var e=this._$beforeButtonsContainer&&ut(this._$beforeButtonsContainer);return e??0},_updateLabelWidth:function(){this._label.updateBeforeWidth(this._getLabelBeforeWidth()),this._label.updateMaxWidth(this._getLabelContainerWidth())},_setLabelContainerAria:function(){this.setAria("labelledby",this._label.getId(),this._getLabelContainer())},_renderLabel:function(){this._unobserveLabelContainerResize(),this._labelContainerElement=J(this._getLabelContainer()).get(0);var{label:e,labelMode:t,labelMark:i}=this.option(),r={$editor:this.$element(),text:e,mark:i,mode:t,containsButtonsBefore:!!this._$beforeButtonsContainer,containerWidth:this._getLabelContainerWidth(),beforeWidth:this._getLabelBeforeWidth()};this._label=new mW(r),this._setLabelContainerAria(),this._labelContainerElement&&Xc.observe(this._labelContainerElement,this._updateLabelWidth.bind(this))},_renderPlaceholder:function(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()},_renderPlaceholderMarkup:function(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);var e=this._input(),t=this.option("placeholder"),i=this._$placeholder=J("<div>").attr("data-dx_placeholder",t);i.insertAfter(e),i.addClass(rw)},_attachPlaceholderEvents:function(){var e=Be(Vt.up,this.NAME);he.on(this._$placeholder,e,()=>{he.trigger(this._input(),"focus")}),this._toggleEmptinessEventHandler()},_placeholder:function(){return this._$placeholder||J()},_clearValueHandler:function(e){var t=this._input();e.stopPropagation(),this._saveValueChangeEvent(e),this._clearValue(),!this._isFocused()&&he.trigger(t,"focus"),he.trigger(t,"input")},_clearValue:function(){this.reset()},_renderEvents:function(){var e=this._input();ve(hh,(t,i)=>{if(this.hasActionSubscription("on"+i)){var r=this._createActionByOption("on"+i,{excludeValidators:["readOnly"]});he.on(e,Be(i.toLowerCase(),this.NAME),n=>{this._disposed||r({event:n})})}})},_refreshEvents:function(){var e=this._input();ve(hh,(t,i)=>{he.off(e,Be(i.toLowerCase(),this.NAME))}),this._renderEvents()},_keyPressHandler:function(){this.option("text",this._input().val())},_keyDownHandler:function(e){var t=this._input(),i=e.ctrlKey&&ci(e)==="enter",r=t.val()!==this.option("value");i&&r&&he.trigger(t,"change")},_renderValueChangeEvent:function(){var e=Be(this._renderValueEventName(),"".concat(this.NAME,"TextChange")),t=Be(this.option("valueChangeEvent"),"".concat(this.NAME,"ValueChange")),i=Be("keydown","".concat(this.NAME,"TextChange")),r=this._input();he.on(r,e,this._keyPressHandler.bind(this)),he.on(r,t,this._valueChangeEventHandler.bind(this)),he.on(r,i,this._keyDownHandler.bind(this))},_cleanValueChangeEvent:function(){var e=".".concat(this.NAME,"ValueChange"),t=".".concat(this.NAME,"TextChange");he.off(this._input(),e),he.off(this._input(),t)},_refreshValueChangeEvent:function(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:function(){return"input change keypress"},_focusTarget:function(){return this._input()},_focusEventTarget:function(){return this.element()},_isInput:function(e){return e===this._input().get(0)},_preventNestedFocusEvent:function(e){if(e.isDefaultPrevented())return!0;var t=this._isNestedTarget(e.relatedTarget);return e.type==="focusin"?t=t&&this._isNestedTarget(e.target)&&!this._isInput(e.target):t||this._toggleFocusClass(!1,this.$element()),t&&e.preventDefault(),t},_isNestedTarget:function(e){return!!this.$element().find(e).length},_focusClassTarget:function(){return this.$element()},_focusInHandler:function(e){this._preventNestedFocusEvent(e),this.callBase.apply(this,arguments)},_focusOutHandler:function(e){this._preventNestedFocusEvent(e),this.callBase.apply(this,arguments)},_toggleFocusClass:function(e,t){this.callBase(e,this._focusClassTarget(t))},_hasFocusClass:function(e){return this.callBase(J(e||this.$element()))},_renderEmptinessEvent:function(){var e=this._input();he.on(e,"input blur",this._toggleEmptinessEventHandler.bind(this))},_toggleEmptinessEventHandler:function(){var e=this._input().val(),t=(e===""||e===null)&&this._isValueValid();this._toggleEmptiness(t)},_valueChangeEventHandler:function(e,t){this.option("readOnly")||(this._saveValueChangeEvent(e),this.option("value",arguments.length>1?t:this._input().val()),this._saveValueChangeEvent(void 0))},_renderEnterKeyAction:function(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),he.off(this._input(),"keyup.onEnterKey.dxTextEditor"),he.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))},_enterKeyHandlerUp:function(e){this._disposed||ci(e)==="enter"&&this._enterKeyAction({event:e})},_updateValue:function(){this._options.silent("text",null),this._renderValue()},_dispose:function(){this._enterKeyAction=void 0,this.callBase()},_getSubmitElement:function(){return this._input()},_hasActiveElement:function(){return this._input().is(Re.getActiveElement())},_optionChanged:function(e){var{name:t,fullName:i,value:r}=e,n=t.replace("on","");if(hh.includes(n)){this._refreshEvents();return}switch(t){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":this.callBase(e),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder();break;case"label":this._label.updateText(r),this._setLabelContainerAria();break;case"labelMark":this._label.updateMark(r);break;case"labelMode":this._label.updateMode(r),this._setLabelContainerAria();break;case"width":this.callBase(e),this._label.updateMaxWidth(this._getLabelContainerWidth());break;case"readOnly":case"disabled":this._updateButtons(),this.callBase(e);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":break;case"value":this._updateValue(),this.callBase(e);break;case"inputAttr":this._applyInputAttributes(this._input(),this.option(t));break;case"stylingMode":this._renderStylingMode(),this._updateLabelWidth();break;case"buttons":i===t&&aw(r),this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")),this._updateLabelWidth(),this._label.updateContainsButtonsBefore(!!this._$beforeButtonsContainer);break;case"visible":this.callBase(e),r&&this.option("buttons")&&(this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")));break;case"displayValueFormatter":this._invalidate();break;case"showValidationMark":break;default:this.callBase(e)}},_renderInputType:function(){this._setInputType(this.option("mode"))},_setInputType:function(e){var t=this._input();e==="search"&&(e="text");try{t.prop("type",e)}catch{t.prop("type","text")}},getButton(e){return this._buttonCollection.getButton(e)},focus:function(){he.trigger(this._input(),"focus")},reset:function(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());var e=this._getDefaultOptions();this.option("value")===e.value?(this._options.silent("text",""),this._renderValue()):this.option("value",e.value)},on:function(e,t){var i=this.callBase(e,t),r=e.charAt(0).toUpperCase()+e.substr(1);return hh.indexOf(r)>=0&&this._refreshEvents(),i}}),Em="dxMask",vW="blur beforedeactivate",_W=" ";class NO{constructor(t){this.editor=t,this.DIRECTION={FORWARD:"forward",BACKWARD:"backward"},this.NAME=this._getStrategyName()}_getStrategyName(){return"base"}editorOption(){return this.editor.option(...arguments)}editorInput(){return this.editor._input()}editorCaret(t){if(!t)return this.editor._caret();this.editor._caret(t)}getHandler(t){var i=this["_".concat(t,"Handler")]||function(){};return i.bind(this)}attachEvents(){var t=this.editorInput();this.getHandleEventNames().forEach(i=>{var r=Be(i.toLowerCase(),Em);he.on(t,r,this.getEventHandler(i))}),this._attachChangeEventHandlers()}getHandleEventNames(){return["focusIn","focusOut","keyDown","input","paste","cut","drop"]}getEventHandler(t){return this["_".concat(t,"Handler")].bind(this)}detachEvents(){he.off(this.editorInput(),".".concat(Em))}_attachChangeEventHandlers(){this.editorOption("valueChangeEvent").split(" ").includes("change")&&he.on(this.editorInput(),Be(vW,Em),(function(t){this._suppressCaretChanging(this._changeHandler,[t]),this._changeHandler(t)}).bind(this.editor))}_focusInHandler(){if(this.editor._showMaskPlaceholder(),this.editor._direction(this.DIRECTION.FORWARD),!this.editor._isValueEmpty()&&this.editorOption("isValid"))this.editor._adjustCaret();else{var t=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout((function(){this._caret({start:t,end:t})}).bind(this.editor),0)}}_focusOutHandler(t){this.editor._changeHandler(t),this.editorOption("showMaskMode")==="onFocus"&&this.editor._isValueEmpty()&&(this.editorOption("text",""),this.editor._renderDisplayText(""))}_cutHandler(t){var i=this.editorCaret(),r=this.editorInput().val().substring(i.start,i.end);this.editor._maskKeyHandler(t,()=>xv(t,r))}_dropHandler(){this._clearDragTimer(),this._dragTimer=setTimeout((function(){this.option("value",this._convertToValue(this._input().val()))}).bind(this.editor))}_clearDragTimer(){clearTimeout(this._dragTimer)}_keyDownHandler(){this._keyPressHandled=!1}_pasteHandler(t){var{editor:i}=this;this._keyPressHandled=!0;var r=this.editorCaret();i._maskKeyHandler(t,()=>{var n=xv(t),a=i._maskRulesChain.text().substring(r.end),s=i._handleChain({text:n,start:r.start,length:n.length}),o=r.start+s;i._handleChain({text:a,start:o,length:a.length}),i._caret({start:o,end:o})})}_autoFillHandler(t){var{editor:i}=this,r=this.editorInput().val();this._inputHandlerTimer=setTimeout(()=>{this._keyPressHandled=!0,this._isAutoFill()&&(this._keyPressHandled=!0,i._maskKeyHandler(t,()=>{i._handleChain({text:r,start:0,length:r.length})}),i._validateMask())})}_isAutoFill(){var t=this.editor._input(),i=!1;if(ri.webkit){var r=t.get(0);i=r&&r.matches(":-webkit-autofill")}return i}runWithoutEventProcessing(t){var i=this._keyPressHandled;this._keyPressHandled=!0,t(),this._keyPressHandled=i}_backspaceHandler(){}_delHandler(t){var{editor:i}=this;this._keyPressHandled=!0,i._maskKeyHandler(t,()=>!i._hasSelection()&&i._handleKey(_W))}clean(){this._clearDragTimer(),clearTimeout(this._backspaceHandlerTimeout),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}}var bW="deleteContentBackward",yW=" ";class CW extends NO{_getStrategyName(){return"default"}getHandleEventNames(){return[...super.getHandleEventNames(),"keyPress"]}_keyPressHandler(t){if(!this._keyPressHandled&&(this._keyPressHandled=!0,!this.editor._isControlKeyFired(t))){var{editor:i}=this;i._maskKeyHandler(t,()=>i._handleKey(kc(t)))}}_inputHandler(t){if(this._backspaceInputHandled(t.originalEvent&&t.originalEvent.inputType)&&this._handleBackspaceInput(t),t.originalEvent&&this._autoFillHandler(t),!this._keyPressHandled){this._keyPressHandled=!0;var i=this.editorInput().val(),r=this.editorCaret();if(r.end){r.start=r.end-1;var n=i.substring(0,r.start)+i.substring(r.end),a=i[r.start],{editor:s}=this;this.editorInput().val(n),s._caret({start:r.start,end:r.start}),s._maskKeyHandler(t,()=>s._handleKey(a))}}}_backspaceHandler(t){var{editor:i}=this;this._keyPressHandled=!0;var r=(n,a)=>{n&&(i._direction(this.DIRECTION.FORWARD),i._adjustCaret());var s=this.editorCaret();return new Promise(o=>{clearTimeout(this._backspaceHandlerTimeout),this._backspaceHandlerTimeout=setTimeout(function(){a(s),o()})})};i._maskKeyHandler(t,()=>i._hasSelection()?r(!0,n=>{i._displayMask(n),i._maskRulesChain.reset()}):i._tryMoveCaretBackward()?r(!1,n=>{this.editorCaret(n)}):(i._handleKey(yW,this.DIRECTION.BACKWARD),r(!0,n=>{i._displayMask(n),i._maskRulesChain.reset()})))}_backspaceInputHandled(t){return t===bW&&!this._keyPressHandled}_handleBackspaceInput(t){var{start:i,end:r}=this.editorCaret();this.editorCaret({start:i+1,end:r+1}),this._backspaceHandler(t)}}var xW="deleteContentBackward";class wW extends NO{_getStrategyName(){return"inputEvents"}getHandleEventNames(){return[...super.getHandleEventNames(),"beforeInput"]}_beforeInputHandler(){this._prevCaret=this.editorCaret()}_inputHandler(t){var{originalEvent:i}=t;if(i){var{inputType:r,data:n}=i,a=this.editorCaret();if(r===xW){var s=this._prevCaret.end-this._prevCaret.start||1;this.editor.setBackwardDirection(),this._updateEditorMask({start:a.start,length:s,text:this._getEmptyString(s)})}else{var o,l,u;if(!a.end)return;this._autoFillHandler(i),this.editorCaret(a);var d=((o=this._prevCaret)===null||o===void 0?void 0:o.end)-((l=this._prevCaret)===null||l===void 0?void 0:l.start),c=n+(d?this._getEmptyString(d-n.length):"");this.editor.setForwardDirection();var h=this._updateEditorMask({start:(u=this._prevCaret)===null||u===void 0?void 0:u.start,length:d||c.length,text:c});h||this.editorCaret(this._prevCaret)}}}_getEmptyString(t){return Array(t+1).join(" ")}_updateEditorMask(t){var i=t.text.length,r=this.editor._handleChain(t);if(this.editor.isForwardDirection()){var{start:n,end:a}=this.editorCaret(),s=r-i;n<=r&&r>1&&this.editorCaret({start:n+s,end:a+s}),this.editor.isForwardDirection()&&this.editor._adjustCaret()}return this.editor._displayMask(),!!r}}var SW=function(){return{}},ch=X2,sw=" ",EW="\\",ow="dx-texteditor-masked",Tm="forward",TW="backward",IW={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:function(e){return fh(e)},l:function(e){return fh(e)||uw(e)},C:/\S/,c:/./,A:function(e){return fh(e)||lw(e)},a:function(e){return fh(e)||lw(e)||uw(e)}};function lw(e){return/[0-9]/.test(e)}function fh(e){var t=e.charCodeAt();return 64<t&&t<91||96<t&&t<123||t>127}function uw(e){return e===" "}var Y0=gW.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:Ae.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})},_supportedKeys:function(){var e=this,t={backspace:e._maskStrategy.getHandler("backspace"),del:e._maskStrategy.getHandler("del"),enter:e._changeHandler},i=e.callBase();return ve(t,function(r,n){var a=i[r];i[r]=function(s){e.option("mask")&&n.call(e,s),a&&a(s)}}),i},_getSubmitElement:function(){return this.option("mask")?this._$hiddenElement:this.callBase()},_init:function(){this.callBase(),this._initMaskStrategy()},_initMaskStrategy:function(){this._maskStrategy=cH()?new wW(this):new CW(this)},_initMarkup:function(){this._renderHiddenElement(),this.callBase()},_attachMouseWheelEventHandlers:function(){var e=this._onMouseWheel!==Ee;if(e){var t=this._input(),i=Be(dd,this.NAME),r=this._createAction((function(n){var{event:a}=n;Ya(t)&&!Vi(a)&&(this._onMouseWheel(a),a.preventDefault(),a.stopPropagation())}).bind(this));he.off(t,i),he.on(t,i,function(n){r({event:n})})}},_onMouseWheel:Ee,_render:function(){this._renderMask(),this.callBase(),this._attachMouseWheelEventHandlers()},_renderHiddenElement:function(){this.option("mask")&&(this._$hiddenElement=J("<input>").attr("type","hidden").appendTo(this._inputWrapper()))},_removeHiddenElement:function(){this._$hiddenElement&&this._$hiddenElement.remove()},_renderMask:function(){this.$element().removeClass(ow),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass(ow),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())},_suppressCaretChanging:function(e,t){ch=SW;try{e.apply(this,t)}finally{ch=X2}},_changeHandler:function(e){var t=this._input(),i=t.val();if(i!==this._changedValue){this._changedValue=i;var r=Na(e,{type:"change"});he.trigger(t,r)}},_parseMask:function(){this._maskRules=ce({},IW,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule:function(e){var t=this.option("mask");if(e>=t.length)return new fH;var i=t[e],r=i===EW,n=r?new Bx({maskChar:t[e+1]}):this._getMaskRule(i);return n.next(this._parseMaskRule(e+1+r)),n},_getMaskRule:function(e){var t;return ve(this._maskRules,function(i,r){if(i===e)return t={pattern:i,allowedChars:r},!1}),oe(t)?new Z2(ce({maskChar:this.option("maskChar")},t)):new Bx({maskChar:e})},_renderMaskedValue:function(){if(this._maskRulesChain){var e=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());var t={length:e.length};t[this._isMaskedValueMode()?"text":"value"]=e,this._handleChain(t),this._displayMask()}},_replaceSelectedText:function(e,t,i){if(i===void 0)return e;var r=e.slice(0,t.start),n=e.slice(t.end),a=r+i+n;return a},_isMaskedValueMode:function(){return this.option("useMaskedValue")},_displayMask:function(e){e=e||this._caret(),this._renderValue(),this._caret(e)},_isValueEmpty:function(){return bu(this._value)},_shouldShowMask:function(){var e=this.option("showMaskMode");return e==="onFocus"?Ya(this._input())||!this._isValueEmpty():!0},_showMaskPlaceholder:function(){if(this._shouldShowMask()){var e=this._maskRulesChain.text();this.option("text",e),this.option("showMaskMode")==="onFocus"&&this._renderDisplayText(e)}},_renderValue:function(){if(this._maskRulesChain&&(this._showMaskPlaceholder(),this._$hiddenElement)){var e=this._maskRulesChain.value(),t=bu(e)?"":this._getPreparedValue();this._$hiddenElement.val(t)}return this.callBase()},_getPreparedValue:function(){return this._convertToValue().replace(/\s+$/,"")},_valueChangeEventHandler:function(e){if(!this._maskRulesChain){this.callBase.apply(this,arguments);return}this._saveValueChangeEvent(e),this.option("value",this._getPreparedValue())},_isControlKeyFired:function(e){return this._isControlKey(ci(e))||Vi(e)},_handleChain:function(e){var t=this._maskRulesChain.handle(this._normalizeChainArguments(e));return this._value=this._maskRulesChain.value(),this._textValue=this._maskRulesChain.text(),t},_normalizeChainArguments:function(e){return e=e||{},e.index=0,e.fullText=this._maskRulesChain.text(),e},_convertToValue:function(e){return this._isMaskedValueMode()?e=this._replaceMaskCharWithEmpty(e||this._textValue||""):e=e||this._value||"",e},_replaceMaskCharWithEmpty:function(e){return e.replace(new RegExp(this.option("maskChar"),"g"),sw)},_maskKeyHandler:function(e,t){if(!this.option("readOnly")){this.setForwardDirection(),e.preventDefault(),this._handleSelection();var i=this._input().val(),r=()=>{i!==this._input().val()&&this._maskStrategy.runWithoutEventProcessing(()=>he.trigger(this._input(),"input"))},n=t();n?n.then(r):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),r())}},_handleKey:function(e,t){this._direction(t||Tm),this._adjustCaret(e),this._handleKeyChain(e),this._moveCaret()},_handleSelection:function(){if(this._hasSelection()){var e=this._caret(),t=new Array(e.end-e.start+1).join(sw);this._handleKeyChain(t)}},_handleKeyChain:function(e){var t=this._caret(),i=this.isForwardDirection()?t.start:t.start-1,r=this.isForwardDirection()?t.end:t.end-1,n=i===r?1:r-i;this._handleChain({text:e,start:i,length:n})},_tryMoveCaretBackward:function(){this.setBackwardDirection();var e=this._caret().start;return this._adjustCaret(),!e||e!==this._caret().start},_adjustCaret:function(e){var t=this._caret().start,i=this.isForwardDirection(),r=this._maskRulesChain.adjustedCaret(t,i,e);this._caret({start:r,end:r})},_moveCaret:function(){var e=this._caret().start,t=e+(this.isForwardDirection()?0:-1),i=this._maskRulesChain.isAccepted(t)?e+(this.isForwardDirection()?1:-1):e;this._caret({start:i,end:i})},_caret:function(e,t){var i=this._input();if(i.length){if(!arguments.length)return ch(i);ch(i,e,t)}},_hasSelection:function(){var e=this._caret();return e.start!==e.end},_direction:function(e){if(!arguments.length)return this._typingDirection;this._typingDirection=e},setForwardDirection:function(){this._direction(Tm)},setBackwardDirection:function(){this._direction(TW)},isForwardDirection:function(){return this._direction()===Tm},_clean:function(){this._maskStrategy&&this._maskStrategy.clean(),this.callBase()},_validateMask:function(){if(this._maskRulesChain){var e=bu(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:e,validationError:e?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}},_updateHiddenElement:function(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement()),this._setSubmitElementName(this.option("name"))},_updateMaskOption:function(){this._updateHiddenElement(),this._renderMask(),this._validateMask()},_processEmptyMask:function(e){if(!e){var t=this.option("value");this.option({text:t,isValid:!0}),this.validationRequest.fire({value:t,editor:this}),this._renderValue()}},_optionChanged:function(e){switch(e.name){case"mask":this._updateMaskOption(),this._processEmptyMask(e.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(e),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:this.callBase(e)}}});Tt("dxTextEditor",Y0);var AW=ft(),OW=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"],DW="dx-textbox",dw="dx-searchbox",kW="dx-icon",RW="dx-icon-search",Md=Y0.inherit({ctor:function(e,t){t&&(this._showClearButton=t.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return ce(this.callBase(),{value:"",mode:"text",maxLength:null})},_initMarkup:function(){this.$element().addClass(DW),this.callBase(),this.setAria("role","textbox")},_renderInputType:function(){this.callBase(),this._renderSearchMode()},_useTemplates:function(){return!1},_renderProps:function(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp:function(){var e=this._getMaxLength();e&&e>0?this._input().attr("maxLength",e):this._input().removeAttr("maxLength")},_renderSearchMode:function(){var e=this._$element;this.option("mode")==="search"?(e.addClass(dw),this._renderSearchIcon(),this._showClearButton===void 0&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(e.removeClass(dw),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",this._showClearButton===void 0?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon:function(){var e=J("<div>").addClass(kW).addClass(RW);e.prependTo(this._input().parent()),this._$searchIcon=e},_getLabelContainerWidth:function(){if(this._$searchIcon){var e=this._input().parent();return ut(e)-this._getLabelBeforeWidth()}return this.callBase()},_getLabelBeforeWidth:function(){var e=this.callBase();return this._$searchIcon&&(e+=Pt(this._$searchIcon)),e},_optionChanged:function(e){switch(e.name){case"maxLength":this._toggleMaxLengthProp();break;case"mode":this.callBase(e),this._updateLabelWidth();break;case"mask":this.callBase(e),this._toggleMaxLengthProp();break;default:this.callBase(e)}},_onKeyDownCutOffHandler:function(e){var t=this._getMaxLength();if(t&&!e.ctrlKey&&!this._hasSelection()){var i=J(e.target),r=ci(e);return this._cutOffExtraChar(i),i.val().length<t||OW.includes(r)||AW.getSelection().toString()!==""}else return!0},_onChangeCutOffHandler:function(e){var t=J(e.target);this.option("maxLength")&&this._cutOffExtraChar(t)},_cutOffExtraChar:function(e){var t=this._getMaxLength(),i=e.val();t&&i.length>t&&e.val(i.substr(0,t))},_getMaxLength:function(){var e=!!this.option("mask");return e?null:this.option("maxLength")}});Tt("dxTextBox",Md);var MW=Ot.inherit({ctor:function(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes:function(e,t){var i=this;ve(e,function(r,n){var a=oe(t)?t:i._getParentId(n),s=i._convertItemToNode(n,a);i._dataStructure.push(s),i._checkForDuplicateId(s.internalFields.key),i._indexByKey[s.internalFields.key]=i._dataStructure.length-1,i._itemHasChildren(n)&&i._convertItemsToNodes(i._dataAccessors.getters.items(n),s.internalFields.key)})},_checkForDuplicateId:function(e){if(oe(this._indexByKey[e]))throw xt.Error("E1040",e)},_getParentId:function(e){return this._dataType==="plain"?this._dataAccessors.getters.parentKey(e):void 0},_itemHasChildren:function(e){if(this._dataType!=="plain"){var t=this._dataAccessors.getters.items(e);return t&&t.length}},_getUniqueKey:function(e){var t=this._dataAccessors.getters.key,i=t(e),r=t&&(i||i===0)&&_u(i);return r?i:this.getItemsCount()},_convertItemToNode:function(e,t){this._itemsCount++,e.visible!==!1&&this._visibleItemsCount++;var i={internalFields:{disabled:this._dataAccessors.getters.disabled(e,{defaultValue:!1}),expanded:this._dataAccessors.getters.expanded(e,{defaultValue:!1}),selected:this._dataAccessors.getters.selected(e,{defaultValue:!1}),key:this._getUniqueKey(e),parentKey:oe(t)?t:this._rootValue,item:this._makeObjectFromPrimitive(e),childrenKeys:[]}};return ce(i,e),delete i.items,i},setChildrenKeys:function(){var e=this;ve(this._dataStructure,function(t,i){if(i.internalFields.parentKey!==e._rootValue){var r=e.getParentNode(i);r&&r.internalFields.childrenKeys.push(i.internalFields.key)}})},_makeObjectFromPrimitive:function(e){if(_u(e)){var t=e;e={},this._dataAccessors.setters.key(e,t)}return e},_convertToPublicNode:function(e,t){if(!e)return null;var i={text:this._dataAccessors.getters.display(e),key:e.internalFields.key,selected:e.internalFields.selected,expanded:e.internalFields.expanded,disabled:e.internalFields.disabled,parent:t||null,itemData:e.internalFields.item,children:[],items:[]};return i.parent&&(i.parent.children.push(i),i.parent.items.push(i)),i},convertToPublicNodes:function(e,t){if(!e.length)return[];var i=this,r=[];return ve(e,function(n,a){a=_u(a)?i._getByKey(a):a;var s=i._convertToPublicNode(a,t);s.children=i.convertToPublicNodes(a.internalFields.childrenKeys,s),r.push(s),a.internalFields.publicNode=s}),r},setDataAccessors:function(e){this._dataAccessors=e},_getByKey:function(e){return this._dataStructure[this.getIndexByKey(e)]||null},getParentNode:function(e){return this._getByKey(e.internalFields.parentKey)},getByKey:function(e,t){if(t==null)return null;var i=null,r=this,n=function(a,s){return ve(a,function(o,l){var u=l.internalFields&&l.internalFields.key||r._dataAccessors.getters.key(l);if(u.toString()===s.toString())return i=l,!1}),i};return n(e,t)},getItemsCount:function(){return this._itemsCount},getVisibleItemsCount:function(){return this._visibleItemsCount},updateIndexByKey:function(){var e=this;this._indexByKey={},ve(this._dataStructure,function(t,i){e._checkForDuplicateId(i.internalFields.key),e._indexByKey[i.internalFields.key]=t})},updateChildrenKeys:function(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys:function(){this._indexByKey={},ve(this._dataStructure,function(e,t){t.internalFields.childrenKeys=[]})},getIndexByKey:function(e){return this._indexByKey[e]},createPlainStructure:function(e,t,i){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=t,this._dataType=i,this._indexByKey={},this._convertItemsToNodes(e),this.setChildrenKeys(),this._dataStructure}}),ko="expanded",ms="selected",BW="disabled";Zs.setEditorClass(Md);var PW=Ot.inherit({ctor:function(e){this.options={},ce(this.options,this._defaultOptions(),e),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},setOption:function(e,t){this.options[e]=t,e==="recursiveSelection"&&this._updateSelection()},_defaultOptions:function(){return{dataAccessors:void 0,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new MW,onNodeChanged:Ee,sort:null}},_createInternalDataStructure:function(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection:function(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(ms)},_updateExpansion:function(e){this.options.recursiveExpansion&&(e?this._updateOneBranch(e):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray(ko)},_updateNodesKeysArray:function(e){var t=this,i=[];return ve(t._getDataBySelectionMode(),function(r,n){t._isNodeVisible(n)&&n.internalFields[e]&&(e===ko||t.options.multipleSelection?i.push(n.internalFields.key):(i.length&&t.toggleSelection(i[0],!1,!0),i=[n.internalFields.key]))}),i},_getDataBySelectionMode:function(){return this.options.multipleSelection?this.getData():this.getFullData()},_isNodeVisible:function(e){return e.internalFields.item.visible!==!1},_getByKey:function(e,t){return e===this._dataStructure?this.options.dataConverter._getByKey(t):this.options.dataConverter.getByKey(e,t)},_setChildrenSelection:function(){var e=this;ve(this._dataStructure,function(t,i){if(i.internalFields.childrenKeys.length){var r=i.internalFields.selected;r===!0&&e._toggleChildrenSelection(i,r)}})},_setParentSelection:function(){var e=this;ve(this._dataStructure,function(t,i){var r=e.options.dataConverter.getParentNode(i);r&&i.internalFields.parentKey!==e.options.rootValue&&e._iterateParents(i,function(n){var a=e._calculateSelectedState(n);e._setFieldState(n,ms,a)})})},_setParentExpansion:function(){var e=this;ve(this._dataStructure,function(t,i){i.internalFields.expanded&&e._updateOneBranch(i.internalFields.key)})},_updateOneBranch:function(e){var t=this,i=this.getNodeByKey(e);t._iterateParents(i,function(r){t._setFieldState(r,ko,!0)})},_iterateChildren:function(e,t,i,r){if(We(i)){var n=this,a=e.internalFields.key;r=r||[],r.indexOf(a)===-1&&(r.push(a),ve(e.internalFields.childrenKeys,function(s,o){var l=n.getNodeByKey(o);i(l),l.internalFields.childrenKeys.length&&t&&n._iterateChildren(l,t,i,r)}))}},_iterateParents:function(e,t,i){if(!(e.internalFields.parentKey===this.options.rootValue||!We(t))){i=i||[];var r=e.internalFields.key;if(i.indexOf(r)===-1){i.push(r);var n=this.options.dataConverter.getParentNode(e);n&&(t(n),n.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(n,t,i))}}},_calculateSelectedState:function(e){for(var t=e.internalFields.childrenKeys.length,i=0,r=0,n=!1,a=0;a<=t-1;a++){var s=this.getNodeByKey(e.internalFields.childrenKeys[a]),o=s.internalFields.item.visible===!1,l=s.internalFields.selected;if(o){r++;continue}l?i++:l===void 0&&(i+=.5)}return i&&(n=i===t-r?!0:void 0),n},_toggleChildrenSelection:function(e,t){var i=this;this._iterateChildren(e,!0,function(r){i._isNodeVisible(r)&&i._setFieldState(r,ms,t)})},_setFieldState:function(e,t,i){e.internalFields[t]!==i&&(e.internalFields[t]=i,e.internalFields.publicNode&&(e.internalFields.publicNode[t]=i),this.options.dataAccessors.setters[t](e.internalFields.item,i),this.options.onNodeChanged(e))},_markChildren:function(e){var t=this;ve(e,function(i,r){var n=t.getIndexByKey(r),a=t.getNodeByKey(r);t._dataStructure[n]=0,a.internalFields.childrenKeys.length&&t._markChildren(a.internalFields.childrenKeys)})},_removeNode:function(e){var t=this.getNodeByKey(e);this._dataStructure[this.getIndexByKey(e)]=0,this._markChildren(t.internalFields.childrenKeys);var i=this,r=0,n=ce([],this._dataStructure);ve(n,function(a,s){s||(i._dataStructure.splice(a-r,1),r++)})},_addNode:function(e){var t=this.options.dataConverter,i=t._convertItemToNode(e,this.options.dataAccessors.getters.parentKey(e));this._dataStructure=this._dataStructure.concat(i),this._initialDataStructure=this._initialDataStructure.concat(i),t._dataStructure=t._dataStructure.concat(i)},_updateFields:function(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys:function(){return this._selectedNodesKeys},getExpandedNodesKeys:function(){return this._expandedNodesKeys},getData:function(){return this._dataStructure},getFullData:function(){return this._initialDataStructure},getNodeByItem:function(e){var t=null;return ve(this._dataStructure,function(i,r){if(r.internalFields.item===e)return t=r,!1}),t},getNodesByItems:function(e){var t=this,i=[];return ve(e,function(r,n){var a=t.getNodeByItem(n);a&&i.push(a)}),i},getNodeByKey:function(e,t){return this._getByKey(t||this._getDataBySelectionMode(),e)},getTreeNodes:function(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount:function(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount:function(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:function(e){return e.internalFields.publicNode},getRootNodes:function(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes:function(e){return vr(this._dataStructure).filter(["internalFields.parentKey",e]).toArray()},getIndexByKey:function(e){return this.options.dataConverter.getIndexByKey(e)},addItem:function(e){this._addNode(e),this._updateFields()},removeItem:function(e){this._removeNode(e),this._updateFields()},toggleSelection:function(e,t,i){var r=this._isSingleModeUnselect(t),n=this._getByKey(i||r?this._initialDataStructure:this._dataStructure,e);this._setFieldState(n,ms,t),this.options.recursiveSelection&&!i&&(t?this._setChildrenSelection():this._toggleChildrenSelection(n,t),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(ms)},_isSingleModeUnselect:function(e){return!this.options.multipleSelection&&!e},toggleNodeDisabledState:function(e,t){var i=this.getNodeByKey(e);this._setFieldState(i,BW,t)},toggleSelectAll:function(e){if(oe(e)){var t=this,i=t._selectedNodesKeys[t._selectedNodesKeys.length-1],r=t._isSingleModeUnselect(e)?this._initialDataStructure:this._dataStructure;ve(r,function(n,a){t._isNodeVisible(a)&&t._setFieldState(a,ms,e)}),t._selectedNodesKeys=t._updateNodesKeysArray(ms),!e&&t.options.selectionRequired&&t.toggleSelection(i,!0)}},isAllSelected:function(){return this.getSelectedNodesKeys().length?this.getSelectedNodesKeys().length===this.getVisibleItemsCount()?!0:void 0:!1},toggleExpansion:function(e,t){var i=this.getNodeByKey(e);this._setFieldState(i,ko,t),t&&this._updateExpansion(e),this._expandedNodesKeys=this._updateNodesKeysArray(ko)},isFiltered:function(e){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[e]).length},_createCriteria:function(e,t,i){var r=[];return Array.isArray(e)?(ve(e,function(n,a){r.push([a,i,t],"or")}),r.pop(),r):[e,i,t]},_filterDataStructure:function(e,t){var i=this.options.searchExpr||this.options.dataAccessors.getters.display,r=Zs.getOperationBySearchMode(this.options.searchMode),n=this._createCriteria(i,e,r);return t=t||this._initialDataStructure,vr(t).filter(n).toArray()},search:function(e){var t=this,i=this._filterDataStructure(e),r=this.options.dataConverter;return function n(a,s){for(var o=a.length;s<o;){var l=a[s];if(l.internalFields.parentKey===t.options.rootValue){s++;continue}var u=r.getParentNode(l);if(!u){xt.log("W1007",l.internalFields.parentKey,l.internalFields.key),s++;continue}if(u.internalFields.expanded||t._setFieldState(u,ko,!0),a.includes(u)){s++;continue}a.splice(s,0,u),n(a,s)}}(i,0),this.options.sort&&(i=fa.queryByOptions(vr(i),{sort:this.options.sort}).toArray()),r._indexByKey={},ve(i,function(n,a){a.internalFields.childrenKeys=[],r._indexByKey[a.internalFields.key]=n}),r._dataStructure=i,r.setChildrenKeys(),r._dataStructure}}),LW="dx-state-invisible",FW="dx-state-disabled",NW="dx-item-content-placeholder",VW=function(e,t,i){var r=function(a){n!==a&&(i(a,n),n=a)},n;return{dispose:e(t,r),force:function(){r(t())}}},uo=Ot.inherit({ctor:function(e,t,i){this._$element=e,this._options=t,this._rawData=i,wI(e,this,this._dispose),this._render()},_render:function(){var e=J("<div>").addClass(NW);this._$element.append(e),this._watchers=[],this._renderWatchers()},_renderWatchers:function(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))},_startWatcher:function(e,t){var i=this._rawData,r=this._options.fieldGetter(e),n=VW(this._options.watchMethod(),function(){return r(i)},(function(a,s){this._dirty=!0,t(a,s)}).bind(this));this._watchers.push(n)},setDataField:function(){if(this._dirty=!1,ve(this._watchers,function(e,t){t.force()}),this._dirty)return!0},_renderDisabled:function(e,t){this._$element.toggleClass(FW,!!e),this._updateOwnerFocus(e)},_updateOwnerFocus:function(e){var t=this._options.owner;t&&e&&t._resetItemFocus(this._$element)},_renderVisible:function(e,t){this._$element.toggleClass(LW,e!==void 0&&!e)},_dispose:function(){ve(this._watchers,function(e,t){t.dispose()})}});uo.getInstance=function(e){return SI(e,this)};var hw=Math.abs,Z0="dxhold",HW=750,cw=5,$W=Df.inherit({start:function(e){this._startEventData=mi(e),this._startTimer(e)},_startTimer:function(e){var t="timeout"in this?this.timeout:HW;this._holdTimer=setTimeout((function(){this._requestAccept(e),this._fireEvent(Z0,e,{target:e.target}),this._forgetAccept()}).bind(this),t)},move:function(e){this._touchWasMoved(e)&&this._cancel(e)},_touchWasMoved:function(e){var t=Ds(this._startEventData,mi(e));return hw(t.x)>cw||hw(t.y)>cw},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()},dispose:function(){this._stopTimer()}});Sl({emitter:$W,bubble:!0,events:[Z0]});const Ja={name:Z0};var J0="dxContexMenu",zW=Be("contextmenu",J0),WW=Be(Ja.name,J0),Q0="dxcontextmenu",jW=Ot.inherit({setup:function(e){var t=J(e);he.on(t,zW,this._contextMenuHandler.bind(this)),(js||Ye.isSimulator())&&he.on(t,WW,this._holdHandler.bind(this))},_holdHandler:function(e){Gs(e)&&!Ye.isSimulator()||this._fireContextMenu(e)},_contextMenuHandler:function(e){this._fireContextMenu(e)},_fireContextMenu:function(e){return as({type:Q0,originalEvent:e})},teardown:function(e){he.off(e,"."+J0)}});Qr(Q0,new jW);var VO=Q0,UW=function(e,t,i,r,n){var a,s=((o,l,u)=>l(()=>o,u))(e,t,function(o){if(a&&a(),_u(o)){n(o);return}a=function(l,u,d,c,h){var f={},p=d.slice(),g=d.map(function(m){var v=c[m];return u(v?()=>v(l):()=>l[m],function(b){if(f[m]=b,p.length){var E=p.indexOf(m);E>=0&&p.splice(E,1)}p.length||h(f)})});return function(){g.forEach(m=>m())}}(o,t,i,r,n)});return function(){a&&a(),s&&s()}};class ho extends oo{constructor(t,i,r,n){super(),this._render=t,this._fields=i,this._fieldsMap=n||{},this._watchMethod=r}_renderCore(t){var i=J(t.container),r=UW(t.model,this._watchMethod,this._fields,this._fieldsMap,n=>{i.empty(),this._render(i,n,t.model)});return he.on(i,Ln,r),i.contents()}}var GW="dx-collection",ph="dx-item",fw="-content",pw="dx-item-content-placeholder",KW="dxItemData",qW="dxItemIndex",XW="tmpl-",YW="dxItem",ZW="dx-item-selected",JW="dx-item-response-wait",QW="dx-empty-collection",mw="dx-template-wrapper",ej=/^([^.]+\[\d+\]\.)+([\w.]+)$/,tj="item",Im="up",Am="down",gw="left",vw="right",ij="pageup",rj="pagedown",_w="last",bw="first",HO=Hi.inherit({_activeStateUnit:"."+ph,_supportedKeys:function(){var e=function(i){var r=J(this.option("focusedElement"));r.length&&this._itemClickHandler(ce({},i,{target:r.get(0),currentTarget:r.get(0)}))},t=function(i,r){Vi(r)||(r.preventDefault(),r.stopPropagation(),this._moveFocus(i,r))};return ce(this.callBase(),{space:function(i){i.preventDefault(),e.call(this,i)},enter:e,leftArrow:t.bind(this,gw),rightArrow:t.bind(this,vw),upArrow:t.bind(this,Im),downArrow:t.bind(this,Am),pageUp:t.bind(this,Im),pageDown:t.bind(this,Am),home:t.bind(this,bw),end:t.bind(this,_w)})},_getDefaultOptions:function(){return ce(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:Ae.format("dxCollectionWidget-noDataText"),dataSource:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null,displayExpr:void 0,disabledExpr:function(e){return e?e.disabled:void 0},visibleExpr:function(e){return e?e.visible:void 0}})},_init:function(){this._compileDisplayGetter(),this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_compileDisplayGetter:function(){var e=this.option("displayExpr");this._displayGetter=e?Yt(this.option("displayExpr")):void 0},_initTemplates:function(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),this.callBase()},_getAnonymousTemplateName:function(){return tj},_initDefaultItemTemplate:function(){var e=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new ho((function(t,i){Ct(i)?this._prepareDefaultItemTemplate(i,t):(e&&We(e.text)&&(i=e.text(i)),t.text(String(hi(i,""))))}).bind(this),this._getBindableFields(),this.option("integrationOptions.watchMethod"),e)})},_getBindableFields:function(){return["text","html"]},_getFieldsMap:function(){if(this._displayGetter)return{text:this._displayGetter}},_prepareDefaultItemTemplate:function(e,t){oe(e.text)&&t.text(e.text),oe(e.html)&&t.html(e.html)},_initItemsFromMarkup:function(){var e=WI(this.$element(),YW);if(!(!e.length||this.option("items").length)){var t=e.map(i=>{var{element:r,options:n}=i,a=/\S/.test(r.innerHTML)&&!n.template;return a?n.template=this._prepareItemTemplate(r):J(r).remove(),n});this.option("items",t)}},_prepareItemTemplate:function(e){var t=XW+new Bi,i=J(e).detach().clone().removeAttr("data-options").addClass(mw);return this._saveTemplate(t,i),t},_dataSourceOptions:function(){return{paginate:!1}},_cleanRenderedItems:function(){this._renderedItemsCount=0},_focusTarget:function(){return this.$element()},_focusInHandler:function(e){if(this.callBase.apply(this,arguments),!!this._isFocusTarget(e.target)){var t=J(this.option("focusedElement"));if(t.length)this._setFocusedItem(t);else{var i=this._getActiveItem();i.length&&this.option("focusedElement",ot(i))}}},_focusOutHandler:function(){this.callBase.apply(this,arguments);var e=J(this.option("focusedElement"));this._updateFocusedItemState(e,!1)},_getActiveItem:function(e){var t=J(this.option("focusedElement"));if(t.length)return t;var i=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,r=this._getActiveElement(),n=r.length-1;return i<0&&(i=e?n:0),r.eq(i)},_moveFocus:function(e){var t=this._getAvailableItems(),i;switch(e){case ij:case Im:i=this._prevItem(t);break;case rj:case Am:i=this._nextItem(t);break;case vw:i=this.option("rtlEnabled")?this._prevItem(t):this._nextItem(t);break;case gw:i=this.option("rtlEnabled")?this._nextItem(t):this._prevItem(t);break;case bw:i=t.first();break;case _w:i=t.last();break;default:return!1}i.length!==0&&this.option("focusedElement",ot(i))},_getVisibleItems:function(e){return e=e||this._itemElements(),e.filter(":visible")},_getAvailableItems:function(e){return this._getVisibleItems(e).not(".dx-state-disabled")},_prevItem:function(e){var t=this._getActiveItem(),i=e.index(t),r=e.last(),n=J(e[i-1]),a=this.option("loopItemFocus");return n.length===0&&a&&(n=r),n},_nextItem:function(e){var t=this._getActiveItem(!0),i=e.index(t),r=e.first(),n=J(e[i+1]),a=this.option("loopItemFocus");return n.length===0&&a&&(n=r),n},_selectFocusedItem:function(e){this.selectItem(e)},_updateFocusedItemState:function(e,t,i){var r=J(e);r.length&&(this._refreshActiveDescendant(),this._refreshItemId(r,i),this._toggleFocusClass(t,r)),this._updateParentActiveDescendant()},_refreshActiveDescendant:function(e){this.setAria("activedescendant",oe(this.option("focusedElement"))?this.getFocusedItemId():null,e)},_refreshItemId:function(e,t){!t&&this.option("focusedElement")?this.setAria("id",this.getFocusedItemId(),e):this.setAria("id",null,e)},_setFocusedItem:function(e){!e||!e.length||(this._updateFocusedItemState(e,!0),this.onFocusedItemChanged(this.getFocusedItemId()),this.option("selectOnFocus")&&this._selectFocusedItem(e))},_findItemElementByItem:function(e){var t=J(),i=this;return this.itemElements().each(function(){var r=J(this);if(r.data(i._itemDataKey())===e)return t=r,!1}),t},_getIndexByItem:function(e){return this.option("items").indexOf(e)},_itemOptionChanged:function(e,t,i,r){var n=this._findItemElementByItem(e);if(n.length){this.constructor.ItemClass.getInstance(n).setDataField(t,i)||this._refreshItem(n,e);var a=t==="disabled"&&i;a&&this._resetItemFocus(n)}},_resetItemFocus(e){e.is(this.option("focusedElement"))&&this.option("focusedElement",null)},_refreshItem:function(e){var t=this._getItemData(e),i=e.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+i,t,null,e)},_updateParentActiveDescendant:Ee,_optionChanged:function(e){if(e.name==="items"){var t=e.fullName.match(ej);if(t&&t.length){var i=t[t.length-1],r=e.fullName.replace("."+i,""),n=this.option(r);this._itemOptionChanged(n,i,e.value,e.previousValue);return}}switch(e.name){case"items":case"_itemAttributes":case"itemTemplateProperty":case"useItemTextAsTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":this._renderEmptyMessage();break;case"itemTemplate":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"focusedElement":this._updateFocusedItemState(e.previousValue,!1,!0),this._setFocusedItem(J(e.value));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;case"visibleExpr":case"disabledExpr":this._invalidate();break;default:this.callBase(e)}},_invalidate:function(){return this.option("focusedElement",null),this.callBase.apply(this,arguments)},_loadNextPage:function(){var e=this._dataSource;return this._expectNextPageLoading(),e.pageIndex(1+e.pageIndex()),e.load()},_expectNextPageLoading:function(){this._startIndexForAppendedItems=0},_expectLastItemLoading:function(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading:function(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler:function(e){var t=this.option("items");this._initialized&&t&&this._shouldAppendItems()?(this._renderedItemsCount=t.length,(!this._isLastPage()||this._startIndexForAppendedItems!==-1)&&(this.option().items=t.concat(e.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",e.slice())},_refreshContent:function(){this._prepareContent(),this._renderContent()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems:function(){return this._startIndexForAppendedItems!=null&&this._allowDynamicItemsAppend()},_allowDynamicItemsAppend:function(){return!1},_clean:function(){this._cleanFocusState(),this._cleanItemContainer()},_cleanItemContainer:function(){J(this._itemContainer()).empty()},_dispose:function(){this.callBase(),clearTimeout(this._itemFocusTimeout)},_refresh:function(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer:function(){return this.$element()},_itemClass:function(){return ph},_itemContentClass:function(){return this._itemClass()+fw},_selectedItemClass:function(){return ZW},_itemResponseWaitClass:function(){return JW},_itemSelector:function(){return"."+this._itemClass()},_itemDataKey:function(){return KW},_itemIndexKey:function(){return qW},_itemElements:function(){return this._itemContainer().find(this._itemSelector())},_initMarkup:function(){this.callBase(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass(GW),this._prepareContent()},_prepareContent:tl(function(){this._renderContentImpl()}),_renderContent:function(){this._fireContentReadyAction()},_render:function(){this.callBase(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_attachClickEvent:function(){var e=this._itemSelector(),t=Be(zt,this.NAME),i=Be(Vt.down,this.NAME),r=this,n=new Sr(function(a){var s=a.event;r._itemPointerDownHandler(s)});he.off(this._itemContainer(),t,e),he.off(this._itemContainer(),i,e),he.on(this._itemContainer(),t,e,(function(a){this._itemClickHandler(a)}).bind(this)),he.on(this._itemContainer(),i,e,function(a){n.execute({element:J(a.target),event:a})})},_itemClickHandler:function(e,t,i){this._itemDXEventHandler(e,"onItemClick",t,i)},_itemPointerDownHandler:function(e){this.option("focusStateEnabled")&&(this._itemFocusHandler=(function(){if(clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=null,!e.isDefaultPrevented()){var t=J(e.target),i=t.closest(this._itemElements()),r=this._closestFocusable(t);i.length&&this._isFocusTarget(r==null?void 0:r.get(0))&&this.option("focusedElement",ot(i))}}).bind(this),this._itemFocusTimeout=setTimeout(this._forcePointerDownFocus.bind(this)))},_closestFocusable:function(e){if(e.is(Sv))return e;for(e=e.parent();e.length&&!Re.isDocument(e.get(0));){if(e.is(Sv))return e;e=e.parent()}},_forcePointerDownFocus:function(){this._itemFocusHandler&&this._itemFocusHandler()},_updateFocusState:function(){this.callBase.apply(this,arguments),this._forcePointerDownFocus()},_attachHoldEvent:function(){var e=this._itemContainer(),t=this._itemSelector(),i=Be(Ja.name,this.NAME);he.off(e,i,t),he.on(e,i,t,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))},_getHoldTimeout:function(){return this.option("itemHoldTimeout")},_shouldFireHoldEvent:function(){return this.hasActionSubscription("onItemHold")},_itemHoldHandler:function(e){this._shouldFireHoldEvent()?this._itemDXEventHandler(e,"onItemHold"):e.cancel=!0},_attachContextMenuEvent:function(){var e=this._itemContainer(),t=this._itemSelector(),i=Be(VO,this.NAME);he.off(e,i,t),he.on(e,i,t,this._itemContextMenuHandler.bind(this))},_shouldFireContextMenuEvent:function(){return this.hasActionSubscription("onItemContextMenu")},_itemContextMenuHandler:function(e){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(e,"onItemContextMenu"):e.cancel=!0},_renderContentImpl:function(){var e=this.option("items")||[];this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e)},_renderItems:function(e){e.length&&ve(e,(function(t,i){this._renderItem(this._renderedItemsCount+t,i)}).bind(this)),this._renderEmptyMessage()},_renderItem:function(e,t,i,r){var n,a=(n=e==null?void 0:e.item)!==null&&n!==void 0?n:e;i=i||this._itemContainer();var s=this._renderItemFrame(a,t,i,r);this._setElementData(s,t,a),s.attr(this.option("_itemAttributes")),this._attachItemClickEvent(t,s);var o=this._getItemContent(s),l=this._renderItemContent({index:a,itemData:t,container:ot(o),contentClass:this._itemContentClass(),defaultTemplateName:this.option("itemTemplate")}),u=this;return Ke(l).done(function(d){u._postprocessRenderItem({itemElement:s,itemContent:d,itemData:t,itemIndex:a}),u._executeItemRenderAction(e,t,ot(s))}),s},_getItemContent:function(e){var t=e.find("."+pw);return t.removeClass(pw),t},_attachItemClickEvent:function(e,t){!e||!e.onClick||he.on(t,zt,(function(i){this._itemEventHandlerByHandler(t,e.onClick,{event:i})}).bind(this))},_renderItemContent:function(e){var t=this._getItemTemplateName(e),i=this._getTemplate(t);this._addItemContentClasses(e);var r=J(this._createItemByTemplate(i,e));return r.hasClass(mw)?this._renderItemContentByNode(e,r):e.container},_renderItemContentByNode:function(e,t){return J(e.container).replaceWith(t),e.container=ot(t),this._addItemContentClasses(e),t},_addItemContentClasses:function(e){var t=[ph+fw,e.contentClass];J(e.container).addClass(t.join(" "))},_appendItemToContainer:function(e,t,i){t.appendTo(e)},_renderItemFrame:function(e,t,i,r){var n=J("<div>");if(new this.constructor.ItemClass(n,this._itemOptions(),t||{}),r&&r.length?r.replaceWith(n):this._appendItemToContainer.call(this,i,n,e),this.option("useItemTextAsTitle")){var a=this._displayGetter?this._displayGetter(t):t;n.attr("title",a)}return n},_itemOptions:function(){var e=this;return{watchMethod:function(){return e.option("integrationOptions.watchMethod")},owner:e,fieldGetter:function(t){var i=e.option(t+"Expr"),r=Yt(i);return r}}},_postprocessRenderItem:Ee,_executeItemRenderAction:function(e,t,i){this._getItemRenderAction()({itemElement:i,itemIndex:e,itemData:t})},_setElementData:function(e,t,i){e.addClass([ph,this._itemClass()].join(" ")).data(this._itemDataKey(),t).data(this._itemIndexKey(),i)},_createItemRenderAction:function(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"})},_getItemRenderAction:function(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName:function(e){var t=e.itemData,i=e.templateProperty||this.option("itemTemplateProperty"),r=t&&t[i];return r||e.defaultTemplateName},_createItemByTemplate:function(e,t){return e.render({model:t.itemData,container:t.container,index:t.index})},_emptyMessageContainer:function(){return this._itemContainer()},_renderEmptyMessage:function(e){e=e||this.option("items");var t=this.option("noDataText"),i=!t||e&&e.length||this._isDataSourceLoading();i&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),i||(this._$noData=this._$noData||J("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer()).html(t),this.setAria("label",t)),this.$element().toggleClass(QW,!i)},_itemDXEventHandler:function(e,t,i,r){this._itemEventHandler(e.target,t,ce(i,{event:e}),r)},_itemEventHandler:function(e,t,i,r){var n=this._createActionByOption(t,ce({validatingTargetName:"itemElement"},r));return this._itemEventHandlerImpl(e,n,i)},_itemEventHandlerByHandler:function(e,t,i,r){var n=this._createAction(t,ce({validatingTargetName:"itemElement"},r));return this._itemEventHandlerImpl(e,n,i)},_itemEventHandlerImpl:function(e,t,i){var r=this._closestItemElement(J(e)),n=ce({},i);return t(ce(i,this._extendActionArgs(r),n))},_extendActionArgs:function(e){return{itemElement:ot(e),itemIndex:this._itemElements().index(e),itemData:this._getItemData(e)}},_closestItemElement:function(e){return J(e).closest(this._itemSelector())},_getItemData:function(e){return J(e).data(this._itemDataKey())},_getSummaryItemsWidth:function(e,t){var i=0;return e&&ve(e,function(r,n){i+=Pt(n,t||!1)}),i},getFocusedItemId:function(){return this._focusedItemId||(this._focusedItemId="dx-"+new Bi),this._focusedItemId},itemElements:function(){return this._itemElements()},itemsContainer:function(){return this._itemContainer()}}).include(xd);HO.ItemClass=uo;var yr=Ot.abstract,nj=Ot.inherit({ctor:function(e){this._collectionWidget=e},getIndexByItemData:yr,getItemDataByIndex:yr,getKeysByItems:yr,getItemsByKeys:yr,itemsGetter:yr,getKeyByIndex:function(e){var t=this._denormalizeItemIndex(e);return this.getKeysByItems([this.getItemDataByIndex(t)])[0]},_equalKeys:function(e,t){return this._collectionWidget._isKeySpecified()?li(e,t):e===t},beginCache:function(){this._cache={}},endCache:function(){this._cache=null},getIndexByKey:yr,getNormalizedIndex:function(e){return this._isNormalizedItemIndex(e)?e:this._isItemIndex(e)?this._normalizeItemIndex(e):this._isNode(e)?this._getNormalizedItemIndex(e):this._normalizeItemIndex(this.getIndexByItemData(e))},getIndex:function(e){return this._isNormalizedItemIndex(e)?this._denormalizeItemIndex(e):this._isItemIndex(e)?e:this._isNode(e)?this._denormalizeItemIndex(this._getNormalizedItemIndex(e)):this.getIndexByItemData(e)},getItemElement:function(e){if(this._isNormalizedItemIndex(e))return this._getItemByNormalizedIndex(e);if(this._isItemIndex(e))return this._getItemByNormalizedIndex(this._normalizeItemIndex(e));if(this._isNode(e))return J(e);var t=this._normalizeItemIndex(this.getIndexByItemData(e));return this._getItemByNormalizedIndex(t)},_isNode:e=>Re.isNode(e&&Br(e)?e.get(0):e),deleteItemAtIndex:yr,itemPlacementFunc:function(e,t){return this._itemsFromSameParent(e,t)&&e<t?"after":"before"},moveItemAtIndexToIndex:yr,_isNormalizedItemIndex:function(e){return typeof e=="number"&&Math.round(e)===e},_isItemIndex:yr,_getNormalizedItemIndex:yr,_normalizeItemIndex:yr,_denormalizeItemIndex:yr,_getItemByNormalizedIndex:yr,_itemsFromSameParent:yr}),eb=nj.inherit({_getPlainItems:function(){return this._collectionWidget.option("items")||[]},getIndexByItemData:function(e){var t=this._collectionWidget.keyOf.bind(this._collectionWidget);return t?this.getIndexByKey(t(e)):this._getPlainItems().indexOf(e)},getItemDataByIndex:function(e){return this._getPlainItems()[e]},deleteItemAtIndex:function(e){this._getPlainItems().splice(e,1)},itemsGetter:function(){return this._getPlainItems()},getKeysByItems:function(e){var t=this._collectionWidget.keyOf.bind(this._collectionWidget),i=e;if(t){i=[];for(var r=0;r<e.length;r++)i.push(t(e[r]))}return i},getIndexByKey:function(e){var t=this._cache,i=t&&t.keys||this.getKeysByItems(this._getPlainItems());if(t&&!t.keys&&(t.keys=i),typeof e=="object"){for(var r=0,n=i.length;r<n;r++)if(this._equalKeys(e,i[r]))return r}else return i.indexOf(e);return-1},getItemsByKeys:function(e,t){return(t||e).slice()},moveItemAtIndexToIndex:function(e,t){var i=this._getPlainItems(),r=i[e];i.splice(e,1),i.splice(t,0,r)},_isItemIndex:function(e){return typeof e=="number"&&Math.round(e)===e},_getNormalizedItemIndex:function(e){return this._collectionWidget._itemElements().index(e)},_normalizeItemIndex:function(e){return e},_denormalizeItemIndex:function(e){return e},_getItemByNormalizedIndex:function(e){return e>-1?this._collectionWidget._itemElements().eq(e):null},_itemsFromSameParent:function(){return!0}});const $O=Ot.inherit({ctor:function(e){this.options=e,this._setOption("disabledItemKeys",[]),this._clearItemKeys()},_clearItemKeys:function(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])},validate:Ee,_setOption:function(e,t){this.options[e]=t},onSelectionChanged:function(){var e=this.options.addedItemKeys,t=this.options.removedItemKeys,i=this.options.addedItems,r=this.options.removedItems,n=this.options.selectedItems,a=this.options.selectedItemKeys,s=this.options.onSelectionChanged||Ee;this._clearItemKeys(),s({selectedItems:n,selectedItemKeys:a,addedItemKeys:e,removedItemKeys:t,addedItems:i,removedItems:r})},equalKeys:function(e,t){return this.options.equalByReference&&at(e)&&at(t)?e===t:li(e,t)},getSelectableItems:function(e){return e.filter(function(t){return!(t!=null&&t.disabled)})},_clearSelection:function(e,t,i,r){return e=e||[],e=Array.isArray(e)?e:[e],this.validate(),this.selectedItemKeys(e,t,i,r)},_removeTemplateProperty:function(e){return Array.isArray(e)?e.map(t=>this._removeTemplateProperty(t)):(at(e)&&delete e.template,e)},_loadFilteredData:function(e,t,i,r){var n=encodeURI(JSON.stringify(this._removeTemplateProperty(e))).length,a=this.options.maxFilterLengthInRequest&&n>this.options.maxFilterLengthInRequest,s=new we,o={filter:a?void 0:e,select:a?this.options.dataFields():i||this.options.dataFields()};return e&&e.length===0?s.resolve([]):this.options.load(o).done(function(l){var u=Ct(l)?l.data:l;t&&!r?u=u.filter(t):a&&(u=vr(u).filter(e).toArray()),s.resolve(u)}).fail(s.reject.bind(s)),s},updateSelectedItemKeyHash:function(e){for(var t=0;t<e.length;t++){var i=Mn(e[t]);if(!at(i)){this.options.keyHashIndices[i]=this.options.keyHashIndices[i]||[];var r=this.options.keyHashIndices[i];r.push(t)}}},_isAnyItemSelected:function(e){for(var t=0;t<e.length;t++)if(this.options.isItemSelected(e[t]))return;return!1},_getFullSelectAllState:function(){var e=this.options.plainItems(),t=this.options.filter(),i=this.options.ignoreDisabledItems?this.options.selectedItems:this.options.selectedItems.filter(a=>!(a!=null&&a.disabled));t&&(i=vr(i).filter(t).toArray());var r=i.length,n=e.length-this.getSelectableItems(e).length;if(!r)return this._isAnyItemSelected(e);if(r>=this.options.totalCount()-n)return!0},_getVisibleSelectAllState:function(){for(var e=this.getSelectableItems(this.options.plainItems()),t=!1,i=!1,r=0;r<e.length;r++){var n=e[r],a=this.options.getItemData(n),s=this.options.keyOf(a);this.options.isSelectableItem(n)&&(this.isItemKeySelected(s)?t=!0:i=!0)}return t?i?void 0:!0:!1}}),aj=$O.inherit({getSelectedItems:function(){return this._loadFilteredData(this.options.selectionFilter)},getSelectedItemKeys:function(){var e=new we,t=this,i=this.options.key(),r=nt(i)?[i]:i;return this._loadFilteredData(this.options.selectionFilter,null,r).done(function(n){var a=n.map(function(s){return t.options.keyOf(s)});e.resolve(a)}).fail(e.reject),e.promise()},selectedItemKeys:function(e,t,i,r){if(r){var n=this.options.filter(),a=!n||JSON.stringify(n)===JSON.stringify(this.options.selectionFilter)&&i;a?this._setOption("selectionFilter",i?[]:null):this._addSelectionFilter(i,n,r)}else{t||this._setOption("selectionFilter",[]);for(var s=0;s<e.length;s++)i?this.removeSelectedItem(e[s]):this.addSelectedItem(e[s])}return this.onSelectionChanged(),new we().resolve()},setSelectedItems:function(e){this._setOption("selectionFilter",null);for(var t=0;t<e.length;t++)this.addSelectedItem(e[t])},isItemDataSelected:function(e){return this.isItemKeySelected(e)},isItemKeySelected:function(e){var t=this.options.selectionFilter;return t?!!vr([e]).filter(t).toArray().length:!0},_getKeyExpr:function(){var e=this.options.key();return Array.isArray(e)&&e.length===1?e[0]:e},_normalizeKey:function(e){var t=this.options.key();return Array.isArray(t)&&t.length===1?e[t[0]]:e},_getFilterByKey:function(e){var t=this._getKeyExpr(),i=[t,"=",this._normalizeKey(e)];if(Array.isArray(t)){i=[];for(var r=0;r<t.length;r++)i.push([t[r],"=",e[t[r]]]),r!==t.length-1&&i.push("and")}return i},addSelectedItem:function(e){var t=this._getFilterByKey(e);this._addSelectionFilter(!1,t)},removeSelectedItem:function(e){var t=this._getFilterByKey(e);this._addSelectionFilter(!0,t)},validate:function(){var e=this.options.key;if(e&&e()===void 0)throw xt.Error("E1042","Deferred selection")},_findSubFilter:function(e,t){if(!e)return-1;for(var i=JSON.stringify(t),r=0;r<e.length;r++){var n=e[r];if(n&&JSON.stringify(n)===i)return r}return-1},_isLastSubFilter:function(e,t){return e&&t?this._findSubFilter(e,t)===e.length-1||this._findSubFilter([e],t)===0:!1},_addFilterOperator:function(e,t){return e.length>1&&nt(e[1])&&e[1]!==t&&(e=[e]),e.length&&e.push(t),e},_denormalizeFilter:function(e){return e&&nt(e[0])&&(e=[e]),e},_isOnlyNegativeFiltersLeft:function(e){return e.every((t,i)=>i%2===0?Array.isArray(t)&&t[0]==="!":t==="and")},_addSelectionFilter:function(e,t,i){var r=e?["!",t]:t,n=e?"and":"or",a=!0,s=this.options.selectionFilter||[];if(s=this._denormalizeFilter(s),s&&s.length){var o=this._removeSameFilter(s,t,e,i),l=this._removeSameFilter(s,t,!e),u=e&&(o!==-1||l!==-1)&&this._isOnlyNegativeFiltersLeft(s);u&&(s=[]);var d=this._isKeyFilter(t)&&this._hasKeyFiltersOnlyStartingFromIndex(s,l);a=t.length&&!d,a&&(s=this._addFilterOperator(s,n))}a&&s.push(r),s=this._normalizeFilter(s),this._setOption("selectionFilter",!e&&!s.length?null:s)},_normalizeFilter:function(e){return e&&e.length===1&&(e=e[0]),e},_removeFilterByIndex:function(e,t,i){var r=e[1];t>0?e.splice(t-1,2):e.splice(t,2),i&&r==="and"&&e.splice(0,e.length)},_isSimpleKeyFilter:function(e,t){return e.length===3&&e[0]===t&&e[1]==="="},_isKeyFilter:function(e){if(e.length===2&&e[0]==="!")return this._isKeyFilter(e[1]);var t=this._getKeyExpr();if(Array.isArray(t)){if(e.length!==2*t.length-1)return!1;for(var i=0;i<t.length;i++)if(i>0&&e[2*i-1]!=="and"||!this._isSimpleKeyFilter(e[2*i],t[i]))return!1;return!0}return this._isSimpleKeyFilter(e,t)},_hasKeyFiltersOnlyStartingFromIndex:function(e,t){if(t>=0){for(var i=t;i<e.length;i++)if(typeof e[i]!="string"&&!this._isKeyFilter(e[i]))return!1;return!0}return!1},_removeSameFilter:function(e,t,i,r){if(t=i?["!",t]:t,JSON.stringify(t)===JSON.stringify(e))return e.splice(0,e.length),0;var n=this._findSubFilter(e,t);if(n>=0)return this._removeFilterByIndex(e,n,r),n;for(var a=0;a<e.length;a++)if(Array.isArray(e[a])&&e[a].length>2){var s=this._removeSameFilter(e[a],t,!1,r);if(s>=0)return e[a].length?e[a].length===1&&(e[a]=e[a][0]):this._removeFilterByIndex(e,a,r),s}return-1},getSelectAllState:function(){var e=this.options.filter(),t=this.options.selectionFilter;if(!t)return!0;if(!t.length)return!1;if(!(!e||!e.length)){if(t=this._denormalizeFilter(t),this._isLastSubFilter(t,e))return!0;if(this._isLastSubFilter(t,["!",e]))return!1}}});var sj=function(e,t){this.getLocalFilter=function(s,o,l,u){return o=o===void 0?li:o,n.bind(this,o,s,l,u)},this.getExpr=function(s){if(s){var o;return e.forEach(function(l,u){o=o||[];var d;u>0&&o.push(t?"and":"or"),nt(s)?d=a(s,l):d=function(c,h){for(var f=[],p=0,g=c.length;p<g;p++){var m=c[p],v=h&&h[m],b=a(m,v);if(!b)break;p>0&&f.push(t?"or":"and"),f.push(b)}return f}(s,l),o.push(d)}),o&&o.length===1&&(o=o[0]),o}},this.getCombinedFilter=function(s,o){var l=this.getExpr(s),u=l;return t&&o&&(l?(u=[],u.push(l),u.push(o)):u=o),u};var i,r=function(s,o,l){return Array.isArray(l)?s.map(u=>o(u)):s};function n(s,o,l,u,d){var c=o(d),h,f;if(!l&&(h=Mn(c),!at(h))){var p=function(g,m){if(!i){i={};for(var v=r(e,g,m),b=0;b<v.length;b++)i[Mn(v[b])]=!0}return i}(o,u);return p[h]?!t:!!t}for(f=0;f<e.length;f++)if(s(e[f],c))return!t;return!!t}function a(s,o){if(o!==void 0)return[s,t?"<>":"=",o]}};const oj=$O.inherit({ctor:function(e){this.callBase(e),this._initSelectedItemKeyHash()},_initSelectedItemKeyHash:function(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})},getSelectedItemKeys:function(){return this.options.selectedItemKeys.slice(0)},getSelectedItems:function(){return this.options.selectedItems.slice(0)},_preserveSelectionUpdate:function(e,t){var i=this.options.keyOf,r,n,a;if(i){var s=t&&e.length>1&&!this.options.equalByReference;for(s&&(r={}),a=0;a<e.length;a++){var o=e[a],l=i(o);t?(n=this.removeSelectedItem(l,r,o==null?void 0:o.disabled),r&&n>=0&&(r[n]=!0)):this.addSelectedItem(l,o)}s&&this._batchRemoveSelectedItems(r)}},_batchRemoveSelectedItems:function(e){var t=this.options.selectedItemKeys.slice(0),i=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(var r=0;r<t.length;r++)e[r]||(this.options.selectedItemKeys.push(t[r]),this.options.selectedItems.push(i[r]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_loadSelectedItemsCore:function(e,t,i,r){var n=new we,a=this.options.key();if(!e.length&&!i)return n.resolve([]),n;if(i&&t&&!r)return n.resolve(this.getSelectedItems()),n;var s=new sj(e,i),o=s.getCombinedFilter(a,r),l=[];if(t){var u=this.options.selectedItems;l=o&&e.length!==u.length?vr(u).filter(o).toArray():u.slice(0)}var d=l.length?l:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData),c=s.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,a);return d=d.filter(c),l.length||!i&&d.length===e.length?n.resolve(d):n=this._loadFilteredData(o,c,null,i),n},_replaceSelectionUpdate:function(e){var t=[],i=this.options.keyOf;if(i){for(var r=0;r<e.length;r++){var n=e[r],a=i(n);t.push(a)}this.setSelectedItems(t,e)}},_warnOnIncorrectKeys:function(e){for(var t=this.options.allowNullValue,i=0;i<e.length;i++){var r=e[i];(!t||r!==null)&&!this.isItemKeySelected(r)&&xt.log("W1002",r)}},_isMultiSelectEnabled:function(){var e=this.options.mode;return e==="all"||e==="multiple"},_requestInProgress:function(){var e;return((e=this._lastLoadDeferred)===null||e===void 0?void 0:e.state())==="pending"},_concatRequestsItems:function(e,t,i,r){var n,a=t?e:[];return r?n=r:n=Jy(e,this.options.selectedItemKeys),{addedItems:i.added.concat(n),removedItems:i.removed.concat(a),keys:e}},_collectLastRequestData:function(e,t,i,r){var n=t&&i,a={added:[],removed:[]},s=this._isMultiSelectEnabled(),o=s?this._lastRequestData:{};return s&&(this._shouldMergeWithLastRequest&&(n?(this._lastLoadDeferred.reject(),o={}):s7(e,this.options.selectedItemKeys)||(a.added=o.addedItems,a.removed=o.removedItems,t||this._lastLoadDeferred.reject())),o=this._concatRequestsItems(e,t,a,this._shouldMergeWithLastRequest?void 0:r)),o},_updateKeysByLastRequestData:function(e,t,i){var r=e;if(this._isMultiSelectEnabled()&&this._shouldMergeWithLastRequest&&!t&&!i){var n,a;r=Jy(e.concat((n=this._lastRequestData)===null||n===void 0?void 0:n.addedItems),(a=this._lastRequestData)===null||a===void 0?void 0:a.removedItems),r=$L(r)}return r},_loadSelectedItems:function(e,t,i,r){var n=this,a=new we,s=n.options.filter();return this._shouldMergeWithLastRequest=this._requestInProgress(),this._lastRequestData=this._collectLastRequestData(e,t,i,r),Ke(n._lastLoadDeferred).always(function(){var o=n._updateKeysByLastRequestData(e,t,i);n._shouldMergeWithLastRequest=!1,n._loadSelectedItemsCore(o,t,i,s).done(a.resolve).fail(a.reject)}),n._lastLoadDeferred=a,a},selectedItemKeys:function(e,t,i,r,n){var a=this,s=a._loadSelectedItems(e,i,r,n);return s.done(function(o){t?a._preserveSelectionUpdate(o,i):a._replaceSelectionUpdate(o),a.onSelectionChanged()}),s},addSelectedItem:function(e,t){if(oe(t)&&!this.options.ignoreDisabledItems&&t.disabled){this.options.disabledItemKeys.indexOf(e)===-1&&this.options.disabledItemKeys.push(e);return}var i=this._getKeyHash(e);this._indexOfSelectedItemKey(i)===-1&&(!at(i)&&this.options.keyHashIndices&&(this.options.keyHashIndices[i]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(e),this.options.addedItemKeys.push(e),this.options.addedItems.push(t),this.options.selectedItems.push(t))},_getSelectedIndexByKey:function(e,t){for(var i=this.options.selectedItemKeys,r=0;r<i.length;r++)if((!t||!t[r])&&this.equalKeys(i[r],e))return r;return-1},_getSelectedIndexByHash:function(e,t){var i=this.options.keyHashIndices[e];return i&&i.length>1&&t&&(i=i.filter(function(r){return!t[r]})),i&&i[0]>=0?i[0]:-1},_indexOfSelectedItemKey:function(e,t){var i;return this.options.equalByReference?i=this.options.selectedItemKeys.indexOf(e):at(e)?i=this._getSelectedIndexByKey(e,t):i=this._getSelectedIndexByHash(e,t),i},_shiftSelectedKeyIndices:function(e){for(var t=e;t<this.options.selectedItemKeys.length;t++){var i=this.options.selectedItemKeys[t],r=Mn(i),n=this.options.keyHashIndices[r];if(n)for(var a=0;a<n.length;a++)n[a]>e&&n[a]--}},removeSelectedItem:function(e,t,i){if(!(!this.options.ignoreDisabledItems&&i)){var r=this._getKeyHash(e),n=!!t,a=this._indexOfSelectedItemKey(r,t);if(a<0||(this.options.removedItemKeys.push(e),this.options.removedItems.push(this.options.selectedItems[a]),n)||(this.options.selectedItemKeys.splice(a,1),this.options.selectedItems.splice(a,1),at(r)||!this.options.keyHashIndices))return a;var s=this.options.keyHashIndices[r];return s&&(s.shift(),s.length||delete this.options.keyHashIndices[r],this._shiftSelectedKeyIndices(a)),a}},_updateAddedItemKeys:function(e,t){for(var i=0;i<e.length;i++)this.isItemKeySelected(e[i])||(this.options.addedItemKeys.push(e[i]),this.options.addedItems.push(t[i]))},_updateRemovedItemKeys:function(e,t,i){for(var r=0;r<t.length;r++)this.isItemKeySelected(t[r])||(this.options.removedItemKeys.push(t[r]),this.options.removedItems.push(i[r]))},_isItemSelectionInProgress:function(e,t){var i=t&&this._lastRequestData&&this._requestInProgress();if(i){var r,n=(r=this._lastRequestData.addedItems)!==null&&r!==void 0?r:[];return n.includes(e)}else return!1},_getKeyHash:function(e){return this.options.equalByReference?e:Mn(e)},setSelectedItems:function(e,t){this._updateAddedItemKeys(e,t);var i=this.options.selectedItemKeys,r=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(e)),this._setOption("selectedItemKeys",e),this._setOption("selectedItems",t),this._updateRemovedItemKeys(e,i,r)},isItemDataSelected:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.options.keyOf(e);return this.isItemKeySelected(i,t)},isItemKeySelected:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this._isItemSelectionInProgress(e,t.checkPending);if(!i){var r=this._getKeyHash(e),n=this._indexOfSelectedItemKey(r);i=n!==-1}return i},getSelectAllState:function(e){return e?this._getVisibleSelectAllState():this._getFullSelectAllState()}}),zO=Ot.inherit({ctor:function(e){this.options=ce(this._getDefaultOptions(),e,{selectedItemKeys:e.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new aj(this.options):new oj(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_getDefaultOptions:function(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:Ee,key:Ee,keyOf:function(e){return e},load:function(){return new we().resolve([])},totalCount:function(){return-1},isSelectableItem:function(){return!0},isItemSelected:function(){return!1},getItemData:function(e){return e},dataFields:Ee,filter:Ee}},validate:function(){this._selectionStrategy.validate()},getSelectedItemKeys:function(){return this._selectionStrategy.getSelectedItemKeys()},getSelectedItems:function(){return this._selectionStrategy.getSelectedItems()},selectionFilter:function(e){if(e===void 0)return this.options.selectionFilter;var t=this.options.selectionFilter!==e&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(e);this.options.selectionFilter=e,t&&this.onSelectionChanged()},setSelection:function(e,t){return this.selectedItemKeys(e,!1,!1,!1,t)},select:function(e){return this.selectedItemKeys(e,!0)},deselect:function(e){return this.selectedItemKeys(e,!0,!0)},selectedItemKeys:function(e,t,i,r,n){var a;return e=(a=e)!==null&&a!==void 0?a:[],e=Array.isArray(e)?e:[e],this.validate(),this._selectionStrategy.selectedItemKeys(e,t,i,r,n)},clearSelection:function(){return this.selectedItemKeys([])},_addSelectedItem:function(e,t){this._selectionStrategy.addSelectedItem(t,e)},_removeSelectedItem:function(e){this._selectionStrategy.removeSelectedItem(e)},_setSelectedItems:function(e,t){this._selectionStrategy.setSelectedItems(e,t)},onSelectionChanged:function(){this._selectionStrategy.onSelectionChanged()},changeItemSelection:function(e,t,i){var r,n,a,s=this.options.plainItems(),o=s[e],l,u=(r=(n=this.options).allowLoadByRange)===null||r===void 0?void 0:r.call(n),d,c=!1,h=!1,f=b=>b>=0&&!s.filter(E=>E.loadIndex===b).length;if(u&&(d=o.loadIndex-e,e=o.loadIndex,c=f(this._focusedItemIndex),oe(this._shiftFocusedItemIndex)&&(h=f(this._shiftFocusedItemIndex))),!this.isSelectable()||!this.isDataItem(o))return!1;var p=this.options.getItemData(o),g=this.options.keyOf(p);if(t=t||{},t.shift&&this.options.mode==="multiple"&&this._focusedItemIndex>=0)c||h?(a=e!==this._shiftFocusedItemIndex||this._focusedItemIndex!==this._shiftFocusedItemIndex,a&&(l=this.changeItemSelectionWhenShiftKeyInVirtualPaging(e))):a=this.changeItemSelectionWhenShiftKeyPressed(e,s,d);else if(t.control){if(this._resetItemSelectionWhenShiftKeyPressed(),!i){var m=this._selectionStrategy.isItemDataSelected(p);this.options.mode==="single"&&this.clearSelectedItems(),m?this._removeSelectedItem(g):this._addSelectedItem(p,g)}a=!0}else{this._resetItemSelectionWhenShiftKeyPressed();var v=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],g);(this.options.selectedItemKeys.length!==1||!v)&&(this._setSelectedItems([g],[p]),a=!0)}if(a)return Ke(l).done(()=>{this._focusedItemIndex=e,!i&&this.onSelectionChanged()}),!0},isDataItem:function(e){return this.options.isSelectableItem(e)},isSelectable:function(){return this.options.mode==="single"||this.options.mode==="multiple"},isItemDataSelected:function(e){return this._selectionStrategy.isItemDataSelected(e,{checkPending:!0})},isItemSelected:function(e,t){return this._selectionStrategy.isItemKeySelected(e,t)},_resetItemSelectionWhenShiftKeyPressed:function(){delete this._shiftFocusedItemIndex},_resetFocusedItemIndex:function(){this._focusedItemIndex=-1},changeItemSelectionWhenShiftKeyInVirtualPaging:function(e){var t=this.options.getLoadOptions(e,this._focusedItemIndex,this._shiftFocusedItemIndex),i=new we,r=t.skip;return this.options.load(t).done(n=>{this.changeItemSelectionWhenShiftKeyPressed(e,n,r),i.resolve()}),i.promise()},changeItemSelectionWhenShiftKeyPressed:function(e,t,i){var r=!1,n,a=oe(i),s=a?this._focusedItemIndex-i:this._focusedItemIndex,o=this.options.keyOf,l=t[s],u=this.options.getItemData(l),d=o(u),c=l&&this.isItemDataSelected(u);oe(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex);var h,f,p,g;if(this._shiftFocusedItemIndex!==this._focusedItemIndex)for(n=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,p=a?this._focusedItemIndex-i:this._focusedItemIndex,g=a?this._shiftFocusedItemIndex-i:this._shiftFocusedItemIndex,s=p;s!==g;s+=n)(a||this.isDataItem(t[s]))&&(f=o(this.options.getItemData(t[s])),this._removeSelectedItem(f),r=!0);if(e!==this._shiftFocusedItemIndex)for(n=e<this._shiftFocusedItemIndex?1:-1,p=a?e-i:e,g=a?this._shiftFocusedItemIndex-i:this._shiftFocusedItemIndex,s=p;s!==g;s+=n)(a||this.isDataItem(t[s]))&&(h=this.options.getItemData(t[s]),f=o(h),this._addSelectedItem(h,f),r=!0);return(a||this.isDataItem(l))&&!c&&(this._addSelectedItem(u,d),r=!0),r},clearSelectedItems:function(){this._setSelectedItems([],[])},selectAll:function(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)},deselectAll:function(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)},_onePageSelectAll:function(e){for(var t=this._selectionStrategy.getSelectableItems(this.options.plainItems()),i=0;i<t.length;i++){var r=t[i];if(this.isDataItem(r)){var n=this.options.getItemData(r),a=this.options.keyOf(n),s=this.isItemSelected(a);!s&&!e&&this._addSelectedItem(n,a),s&&e&&this._removeSelectedItem(a)}}return this.onSelectionChanged(),new we().resolve()},getSelectAllState:function(e){return this._selectionStrategy.getSelectAllState(e)}});var Om="dxItemDeleting",hc=-1,an=function(e){return e!==hc},co=HO.inherit({_setOptionsByReference:function(){this.callBase(),ce(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions:function(){return ce(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectionByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:hc,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},ctor:function(e,t){this._userOptions=t||{},this.callBase(e,t)},_init:function(){this._initEditStrategy(),this.callBase(),this._initKeyGetter(),this._initSelectionModule()},_initKeyGetter:function(){this._keyGetter=Yt(this.option("keyExpr"))},_getKeysByItems:function(e){return this._editStrategy.getKeysByItems(e)},_getItemsByKeys:function(e,t){return this._editStrategy.getItemsByKeys(e,t)},_getKeyByIndex:function(e){return this._editStrategy.getKeyByIndex(e)},_getIndexByKey:function(e){return this._editStrategy.getIndexByKey(e)},_getIndexByItemData:function(e){return this._editStrategy.getIndexByItemData(e)},_isKeySpecified:function(){return!!(this._dataSource&&this._dataSource.key())},_getCombinedFilter:function(){return this._dataSource&&this._dataSource.filter()},key:function(){return this.option("keyExpr")?this.option("keyExpr"):this._dataSource&&this._dataSource.key()},keyOf:function(e){var t=e,i=this._dataSource&&this._dataSource.store();return this.option("keyExpr")?t=this._keyGetter(e):i&&(t=i.keyOf(e)),t},_nullValueSelectionSupported:function(){return!1},_initSelectionModule:function(){var e=this,t=e._editStrategy.itemsGetter;this._selection=new zO({allowNullValue:this._nullValueSelectionSupported(),mode:this.option("selectionMode"),maxFilterLengthInRequest:this.option("maxFilterLengthInRequest"),equalByReference:!this._isKeySpecified(),onSelectionChanged:function(i){(i.addedItemKeys.length||i.removedItemKeys.length)&&(e.option("selectedItems",e._getItemsByKeys(i.selectedItemKeys,i.selectedItems)),e._updateSelectedItems(i))},filter:e._getCombinedFilter.bind(e),totalCount:function(){var i=e.option("items"),r=e._dataSource;return r&&r.totalCount()>=0?r.totalCount():e._getItemsCount(i)},key:e.key.bind(e),keyOf:e.keyOf.bind(e),load:function(i){if(e._dataSource){var r=e._dataSource.loadOptions();i.customQueryParams=r.customQueryParams,i.userData=e._dataSource._userData}var n=e._dataSource&&e._dataSource.store();return n?n.load(i).done(function(a){if(!e._disposed){var s=QA(a).data;e._dataSource._applyMapFunction(s)}}):new we().resolve(this.plainItems())},dataFields:function(){return e._dataSource&&e._dataSource.select()},plainItems:t.bind(e._editStrategy)})},_getItemsCount:function(e){return e.reduce((t,i)=>t+(i.items?this._getItemsCount(i.items):1),0)},_initEditStrategy:function(){var e=eb;this._editStrategy=new e(this)},_getSelectedItemIndices:function(e){var t=this,i=[];return e=e||this._selection.getSelectedItemKeys(),t._editStrategy.beginCache(),ve(e,function(r,n){var a=t._getIndexByKey(n);an(a)&&i.push(a)}),t._editStrategy.endCache(),i},_initMarkup:function(){this._rendering=!0,(!this._dataSource||!this._dataSource.isLoading())&&this._syncSelectionOptions().done(()=>this._normalizeSelectedItems()),this.callBase()},_render:function(){this.callBase(),this._rendering=!1},_fireContentReadyAction:function(){this._rendering=!1,this._rendered=!0,this.callBase.apply(this,arguments)},_syncSelectionOptions:function(e){e=e||this._chooseSelectOption();var t,i,r,n;switch(e){case"selectedIndex":t=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),oe(t)?(this._setOptionWithoutOptionChange("selectedItems",[t]),this._setOptionWithoutOptionChange("selectedItem",t),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([t]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break;case"selectedItems":if(n=this.option("selectedItems")||[],i=n.length?this._editStrategy.getIndexByItemData(n[0]):hc,this.option("selectionRequired")&&!an(i))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",n[0]),this._setOptionWithoutOptionChange("selectedIndex",i),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(n));break;case"selectedItem":if(t=this.option("selectedItem"),i=this._editStrategy.getIndexByItemData(t),this.option("selectionRequired")&&!an(i))return this._syncSelectionOptions("selectedIndex");oe(t)?(this._setOptionWithoutOptionChange("selectedItems",[t]),this._setOptionWithoutOptionChange("selectedIndex",i),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([t]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",hc));break;case"selectedItemKeys":if(r=this.option("selectedItemKeys"),this.option("selectionRequired")){var a=this._getIndexByKey(r[0]);if(!an(a))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(r)}return new we().resolve().promise()},_chooseSelectOption:function(){var e="selectedIndex",t=(function(i){var r=this.option(i),n=oe(r)&&r.length;return n||i in this._userOptions}).bind(this);return t("selectedItems")?e="selectedItems":t("selectedItem")?e="selectedItem":t("selectedItemKeys")&&(e="selectedItemKeys"),e},_compareKeys:function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<t.length;i++)if(e[i]!==t[i])return!1;return!0},_normalizeSelectedItems:function(){if(this.option("selectionMode")==="none")this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if(this.option("selectionMode")==="single"){var e=this.option("selectedItems");if(e.length>1||!e.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length){var t=this._selection.getSelectedItems(),i=e[0]===void 0?t[0]:e[0];return i===void 0&&(i=this._editStrategy.itemsGetter()[0]),this.option("grouped")&&i&&i.items&&(i.items=[i.items[0]]),this._selection.setSelection(this._getKeysByItems([i])),this._setOptionWithoutOptionChange("selectedItems",[i]),this._syncSelectionOptions("selectedItems")}else this._selection.setSelection(this._getKeysByItems(e))}else{var r=this._getKeysByItems(this.option("selectedItems")),n=this._selection.getSelectedItemKeys();this._compareKeys(n,r)||this._selection.setSelection(r)}return new we().resolve().promise()},_itemClickHandler:function(e){var t=new we().resolve(),i=this.callBase;this._createAction((function(r){var n;t=(n=this._itemSelectHandler(r.event))!==null&&n!==void 0?n:t}).bind(this),{validatingTargetName:"itemElement"})({itemElement:J(e.currentTarget),event:e}),t.always(()=>{i.apply(this,arguments)})},_itemSelectHandler:function(e){var t,i;if(this.option("selectionByClick")){var r=e.currentTarget;return this.isItemSelected(r)?this.unselectItem(e.currentTarget):i=this.selectItem(e.currentTarget),(t=i)===null||t===void 0?void 0:t.promise()}},_selectedItemElement:function(e){return this._itemElements().eq(e)},_postprocessRenderItem:function(e){if(this.option("selectionMode")!=="none"){var t=J(e.itemElement),i=this._editStrategy.getNormalizedIndex(t),r=this._isItemSelected(i);this._processSelectableItem(t,r)}},_processSelectableItem:function(e,t){e.toggleClass(this._selectedItemClass(),t),this._setAriaSelected(e,String(t))},_updateSelectedItems:function(e){var t=this,i=e.addedItemKeys,r=e.removedItemKeys;if(t._rendered&&(i.length||r.length)){var n=t._selectionChangePromise;if(!t._rendering){var a=[],s,o=[];t._editStrategy.beginCache();for(var l=0;l<i.length;l++)s=t._getIndexByKey(i[l]),a.push(s),t._addSelection(s);for(var u=0;u<r.length;u++)s=t._getIndexByKey(r[u]),o.push(s),t._removeSelection(s);t._editStrategy.endCache(),t._updateSelection(a,o)}Ke(n).done(function(){t._fireSelectionChangeEvent(e.addedItems,e.removedItems)})}},_fireSelectionChangeEvent:function(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:e,removedItems:t})},_updateSelection:Ee,_setAriaSelected:function(e,t){this.setAria("selected",t,e)},_removeSelection:function(e){var t=this._editStrategy.getItemElement(e);an(e)&&(this._processSelectableItem(t,!1),he.triggerHandler(t,"stateChanged",!1))},_addSelection:function(e){var t=this._editStrategy.getItemElement(e);an(e)&&(this._processSelectableItem(t,!0),he.triggerHandler(t,"stateChanged",!0))},_isItemSelected:function(e){var t=this._getKeyByIndex(e);return this._selection.isItemSelected(t,{checkPending:!0})},_optionChanged:function(e){switch(e.name){case"selectionMode":this._invalidate();break;case"dataSource":(!e.value||Array.isArray(e.value)&&!e.value.length)&&this.option("selectedItemKeys",[]),this.callBase(e);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(e.name).done(()=>this._normalizeSelectedItems());break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"selectionByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":break;default:this.callBase(e)}},_clearSelectedItems:function(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_waitDeletingPrepare:function(e){if(e.data(Om))return new we().resolve().promise();e.data(Om,!0);var t=new we,i={cancel:!1},r=this._itemEventHandler(e,"onItemDeleting",i,{excludeValidators:["disabled","readOnly"]});return Ke(r).always((function(n){var a=!r,s=!a&&r.state()==="resolved",o=!!arguments.length,l=a||s&&!o||s&&n;Ke(Gi(i.cancel)).always(function(){e.data(Om,!1)}).done(function(u){l&&!u?t.resolve():t.reject()}).fail(t.reject)}).bind(this)),t.promise()},_deleteItemFromDS:function(e){if(!this._dataSource)return new we().resolve().promise();var t=new we,i=this.option("disabled"),r=this._dataSource.store();if(this.option("disabled",!0),!r.remove)throw xt.Error("E1011");return r.remove(r.keyOf(this._getItemData(e))).done(function(n){n!==void 0?t.resolve():t.reject()}).fail(function(){t.reject()}),t.always((function(){this.option("disabled",i)}).bind(this)),t},_tryRefreshLastPage:function(){var e=new we;return this._isLastPage()||this.option("grouped")?e.resolve():this._refreshLastPage().done(function(){e.resolve()}),e.promise()},_refreshLastPage:function(){return this._expectLastItemLoading(),this._dataSource.load()},_updateSelectionAfterDelete:function(e){var t=this._getKeyByIndex(e);this._selection.deselect([t])},_updateIndicesAfterIndex:function(e){for(var t=this._itemElements(),i=e+1;i<t.length;i++)J(t[i]).data(this._itemIndexKey(),i-1)},_simulateOptionChange:function(e){var t=this.option(e);t instanceof Bn||this._optionChangedAction({name:e,fullName:e,value:t})},isItemSelected:function(e){return this._isItemSelected(this._editStrategy.getNormalizedIndex(e))},selectItem:function(e){if(this.option("selectionMode")!=="none"){var t=this._editStrategy.getNormalizedIndex(e);if(an(t)){var i=this._getKeyByIndex(t);if(!this._selection.isItemSelected(i)){if(this.option("selectionMode")==="single")return this._selection.setSelection([i]);var r=this.option("selectedItemKeys")||[];return this._selection.setSelection([...r,i],[i])}}}},unselectItem:function(e){var t=this._editStrategy.getNormalizedIndex(e);if(an(t)){var i=this._selection.getSelectedItemKeys();if(!(this.option("selectionRequired")&&i.length<=1)){var r=this._getKeyByIndex(t);this._selection.isItemSelected(r,{checkPending:!0})&&this._selection.deselect([r])}}},_deleteItemElementByIndex:function(e){this._updateSelectionAfterDelete(e),this._updateIndicesAfterIndex(e),this._editStrategy.deleteItemAtIndex(e)},_afterItemElementDeleted:function(e,t){var i=this._dataSource?"dataSource":"items";this._simulateOptionChange(i),this._itemEventHandler(e,"onItemDeleted",t,{beforeExecute:function(){e.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()},deleteItem:function(e){var t=this,i=new we,r=this._editStrategy.getItemElement(e),n=this._editStrategy.getNormalizedIndex(e),a=this._itemResponseWaitClass();return an(n)?this._waitDeletingPrepare(r).done(function(){r.addClass(a);var s=t._extendActionArgs(r);t._deleteItemFromDS(r).done(function(){t._deleteItemElementByIndex(n),t._afterItemElementDeleted(r,s),t._tryRefreshLastPage().done(function(){i.resolveWith(t)})}).fail(function(){r.removeClass(a),i.rejectWith(t)})}).fail(function(){i.rejectWith(t)}):i.rejectWith(t),i.promise()},reorderItem:function(e,t){var i=new we,r=this,n=this._editStrategy,a=n.getItemElement(e),s=n.getItemElement(t),o=n.getNormalizedIndex(e),l=n.getNormalizedIndex(t),u=this._dataSource?"dataSource":"items",d=an(o)&&an(l)&&o!==l;return d?i.resolveWith(this):i.rejectWith(this),i.promise().done(function(){s[n.itemPlacementFunc(o,l)](a),n.moveItemAtIndexToIndex(o,l),this._updateIndicesAfterIndex(o),r.option("selectedItems",r._getItemsByKeys(r._selection.getSelectedItemKeys(),r._selection.getSelectedItems())),u==="items"&&r._simulateOptionChange(u),r._itemEventHandler(a,"onItemReordered",{fromIndex:n.getIndex(o),toIndex:n.getIndex(l)},{excludeValidators:["disabled","readOnly"]})})}}),lj="dx-state-disabled",WO=co.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataSource:function(){this.callBase(),this._dataSource&&this._dataSource.paginate(!1)},_initDataAdapter:function(){var e=this._createDataAdapterAccessors();this._dataAdapter=new PW(ce({dataAccessors:{getters:e.getters,setters:e.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:Ee,_initDynamicTemplates:function(){var e=this;this._templateManager.addDefaultTemplates({item:new ho((function(t,i){t.html(i.html).append(this._getIconContainer(i)).append(this._getTextContainer(i)).append(this._getPopoutContainer(i)),e._addContentClasses(i,t.parent())}).bind(this),["text","html","items","icon"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})})},_getIconContainer:function(e){return e.icon?Ys(e.icon):void 0},_getTextContainer:function(e){return J("<span>").text(e.text)},_getPopoutContainer:Ee,_addContentClasses:Ee,_initAccessors:function(){var e=this;ve(this._getAccessors(),function(t,i){e._compileAccessor(i)}),this._compileDisplayGetter()},_getAccessors:function(){return["key","selected","items","disabled","parentId","expanded"]},_getChildNodes:function(e){var t=this,i=[];return ve(e.internalFields.childrenKeys,function(r,n){var a=t._dataAdapter.getNodeByKey(n);i.push(a)}),i},_hasChildren:function(e){return e&&e.internalFields.childrenKeys.length},_compileAccessor:function(e){var t="_"+e+"Getter",i="_"+e+"Setter",r=this.option(e+"Expr");if(r){if(We(r)){this[i]=function(n,a){n[r()]=a},this[t]=function(n){return n[r()]};return}}else{this[t]=Ee,this[i]=Ee;return}this[t]=Yt(r),this[i]=F_(r)},_createDataAdapterAccessors:function(){var e=this,t={getters:{},setters:{}};return ve(this._getAccessors(),function(i,r){var n="_"+r+"Getter",a="_"+r+"Setter",s=r==="parentId"?"parentKey":r;t.getters[s]=e[n],t.setters[s]=e[a]}),t.getters.display=this._displayGetter?this._displayGetter:i=>i.text,t},_initMarkup:function(){this.callBase(),this._addWidgetClass()},_addWidgetClass:function(){this._focusTarget().addClass(this._widgetClass())},_widgetClass:Ee,_renderItemFrame:function(e,t){var i=this.callBase.apply(this,arguments);return i.toggleClass(lj,!!this._disabledGetter(t)),i},_optionChanged:function(e){switch(e.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(e);break;default:this.callBase(e)}}});class uj extends eb{_getPlainItems(){return Ti(this._collectionWidget.option("items"),function t(i){return i.items?[i].concat(Ti(i.items,t)):i})}_stringifyItem(t){return JSON.stringify(t,(i,r)=>i==="template"?this._getTemplateString(r):r)}_getTemplateString(t){var i;return typeof t=="object"?i=J(t).text():i=t.toString(),i}}var Bd="dx-menu",dj=Bd+"-no-icons",hj="dx-menu-base",qr=Bd+"-item",cj=qr+"-content",Dm=qr+"-selected",yw=qr+"-wrapper",fj=Bd+"-items-container",pj=qr+"-expanded",mj=Bd+"-separator",gj=Bd+"-last-group-item",vj=qr+"-has-text",_j=qr+"-has-icon",bj=qr+"-has-submenu",jO=qr+"-popout",yj=jO+"-container",Cj=qr+"-text",xj="single",wj={show:50,hide:300};class tb extends WO{_getDefaultOptions(){return ce(super._getDefaultOptions(),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}_itemDataKey(){return"dxMenuItemDataKey"}_itemClass(){return qr}_setAriaSelected(){}_selectedItemClass(){return Dm}_widgetClass(){return hj}_focusTarget(){return this._itemContainer()}_clean(){this.option("focusedElement",null),super._clean()}_supportedKeys(){return ce(super._supportedKeys(),{space:()=>{var t=J(this.option("focusedElement"));!t.length||!this._isSelectionEnabled()||this.selectItem(t[0])},pageUp:Ee,pageDown:Ee})}_isSelectionEnabled(){return this.option("selectionMode")===xj}_init(){this._activeStateUnit=".".concat(qr),super._init(),this._renderSelectedItem(),this._initActions()}_getTextContainer(t){var i=t.text,r=J("<span>").addClass(Cj),n=Ct(t)?i:String(t);return i&&r.text(n)}_getPopoutContainer(t){var i=t.items,r;if(i&&i.length){var n=J("<div>").addClass(jO);r=J("<span>").addClass(yj).append(n)}return r}_getDataAdapterOptions(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}_selectByItem(t){if(t){var i=this._dataAdapter.getNodeByItem(t);this._dataAdapter.toggleSelection(i.internalFields.key,!0)}}_renderSelectedItem(){var t=this._dataAdapter.getSelectedNodesKeys(),i=t.length&&t[0],r=this.option("selectedItem");if(!i){this._selectByItem(r);return}var n=this._dataAdapter.getNodeByKey(i);if(n.selectable!==!1){if(!r){this.option("selectedItem",n.internalFields.item);return}r!==n.internalFields.item&&(this._dataAdapter.toggleSelection(i,!1),this._selectByItem(r))}}_initActions(){}_initMarkup(){super._initMarkup(),this.option("useInkRipple")&&this._renderInkRipple()}_renderInkRipple(){this._inkRipple=V0()}_toggleActiveState(t,i,r){if(super._toggleActiveState.apply(this,arguments),!!this._inkRipple){var n={element:t,event:r};i?this._inkRipple.showWave(n):this._inkRipple.hideWave(n)}}_getShowSubmenuMode(){var t=this.option("showSubmenuMode");return t=at(t)?t.name:t,this._isDesktopDevice()?t:"onClick"}_initSelectedItems(){}_isDesktopDevice(){return Ye.real().deviceType==="desktop"}_initEditStrategy(){var t=uj;this._editStrategy=new t(this)}_addCustomCssClass(t){t.addClass(this.option("cssClass"))}_itemWrapperSelector(){return".".concat(yw)}_hoverStartHandler(t){var i=this._getItemElementByEventArgs(t);!i||this._isItemDisabled(i)||(t.stopPropagation(),this._getShowSubmenuMode()==="onHover"&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,i),this._getSubmenuDelay("show"))))}_getAvailableItems(t){return super._getAvailableItems(t).filter(function(){return J(this).css("visibility")!=="hidden"})}_isItemDisabled(t){return this._disabledGetter(t.data(this._itemDataKey()))}_showSubmenu(t){this._addExpandedClass(t)}_addExpandedClass(t){J(t).addClass(pj)}_getSubmenuDelay(t){var{delay:i}=this.option("showSubmenuMode");return oe(i)?at(i)?i[t]:i:wj[t]}_getItemElementByEventArgs(t){var i=J(t.target);if(i.hasClass(this._itemClass())||i.get(0)===t.currentTarget)return i;for(;!i.hasClass(this._itemClass());)if(i=i.parent(),i.hasClass("dx-submenu"))return null;return i}_hoverEndHandler(){clearTimeout(this._showSubmenusTimeout)}_hasSubmenu(t){return t&&t.internalFields.childrenKeys.length}_renderContentImpl(){this._renderItems(this._dataAdapter.getRootNodes())}_renderItems(t,i){if(t.length){this.hasIcons=!1;var r=this._renderContainer(this.$element(),i),n=-1,a=-1;ve(t,(s,o)=>{var l=o.visible!==!1;l&&n<0&&(n=s);var u=n<s&&(o.beginGroup||s===a);u&&(a=l?s:s+1),s===a&&n<s&&this._renderSeparator(r),this._renderItem(s,o,r)}),this.hasIcons||r.addClass(dj)}}_renderContainer(t){var i=J("<ul>");return this.setAria("role","none",i),i.appendTo(t).addClass(fj)}_createDOMElement(t){var i=J("<li>");return this.setAria("role","none",i),i.appendTo(t).addClass(yw)}_renderItem(t,i,r,n){var a=this.option("items"),s=n||this._createDOMElement(r);a[t+1]&&a[t+1].beginGroup&&s.addClass(gj);var o=super._renderItem(t,i.internalFields.item,s);i.internalFields.item===this.option("selectedItem")&&o.addClass(Dm),o.attr("tabIndex",-1),this._hasSubmenu(i)&&this.setAria("haspopup","true",o)}_renderItemFrame(t,i,r){var n=r.children(".".concat(qr));return n.length?n:super._renderItemFrame.apply(this,arguments)}_refreshItem(t,i){var r=this._dataAdapter.getNodeByItem(i),n=t.data(this._itemIndexKey()),a=t.closest("ul"),s=t.closest("li");this._renderItem(n,r,a,s)}_addContentClasses(t,i){var r=t.text?!!t.text.length:!1,n=!!t.icon,a=t.items?!!t.items.length:!1;i.toggleClass(vj,r),i.toggleClass(_j,n),this.hasIcons||(this.hasIcons=n),i.toggleClass(bj,a)}_getItemContent(t){var i=super._getItemContent(t);return i.length||(i=t.children(".".concat(cj))),i}_postprocessRenderItem(t){var i=J(t.itemElement),r=this._dataAdapter.getSelectedNodesKeys();if(!r.length||!this._selectedGetter(t.itemData)||!this._isItemSelectable(t.itemData)){this._setAriaSelected(i,"false");return}var n=this._dataAdapter.getNodeByItem(t.itemData);n.internalFields.key===r[0]?(i.addClass(this._selectedItemClass()),this._setAriaSelected(i,"true")):this._setAriaSelected(i,"false")}_isItemSelectable(t){return t.selectable!==!1}_renderSeparator(t){J("<li>").appendTo(t).addClass(mj)}_itemClickHandler(t){if(!t._skipHandling){var i=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(t,"onItemClick",{},{afterExecute:i.bind(this)}),t._skipHandling=!0}}_updateSubmenuVisibilityOnClick(t){this._updateSelectedItemOnClick(t),this._getShowSubmenuMode()==="onClick"&&this._addExpandedClass(t.args[0].itemElement)}_updateSelectedItemOnClick(t){var i=t.args?t.args[0]:t;if(this._isItemSelectionAllowed(i.itemData)){var r=this._dataAdapter.getSelectedNodesKeys(),n=r.length&&this._dataAdapter.getNodeByKey(r[0]);n&&this._toggleItemSelection(n,!1),!n||n.internalFields.item!==i.itemData?this.selectItem(i.itemData):(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null))}}_isItemSelectionAllowed(t){var i=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&i&&this._isItemSelectable(t)&&!this._itemsGetter(t)}_isContainerEmpty(){return this._itemContainer().is(":empty")}_syncSelectionOptions(){return GT()}_optionChanged(t){switch(t.name){case"showSubmenuMode":break;case"selectedItem":var i=this._dataAdapter.getNodeByItem(t.value),r=this._dataAdapter.getSelectedNodesKeys()[0];if(i&&i.internalFields.key!==r){if(i.selectable===!1)break;r&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(r),!1),this._toggleItemSelection(i,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:super._optionChanged(t)}}_toggleItemSelection(t,i){var r=this._getElementByItem(t.internalFields.item);r&&J(r).toggleClass(Dm),this._dataAdapter.toggleSelection(t.internalFields.key,i)}_getElementByItem(t){var i;return ve(this._itemElements(),(r,n)=>J(n).data(this._itemDataKey())!==t?!0:(i=n,!1)),i}_updateSelectedItems(t,i){(t||i)&&this._fireSelectionChangeEvent(i,t)}_fireSelectionChangeEvent(t,i){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[t],removedItems:[i]})}selectItem(t){var i=t.nodeType?this._getItemData(t):t,r=this._dataAdapter.getSelectedNodesKeys()[0],n=this.option("selectedItem"),a=this._dataAdapter.getNodeByItem(i);a.internalFields.key!==r&&(r&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(r),!1),this._toggleItemSelection(a,!0),this._updateSelectedItems(n,i),this._setOptionWithoutOptionChange("selectedItem",i))}unselectItem(t){var i=t.nodeType?this._getItemData(t):t,r=this._dataAdapter.getNodeByItem(i),n=this.option("selectedItem");r.internalFields.selected&&(this._toggleItemSelection(r,!1),this._updateSelectedItems(n,null),this._setOptionWithoutOptionChange("selectedItem",null))}}tb.ItemClass=uo;var UO="dx-menu",Iu=UO+"-item",Ro=Iu+"-expanded",Sj="dx-menu-phone-overlay",mh=UO+"-items-container",Cw=Iu+"-wrapper",Cr="dx-submenu",Ej="dx-context-menu",Tj="dx-has-context-menu",Ij="dx-state-disabled",Aj="dx-state-focused",xw="dx-state-hover",Oj="dx-overlay-content",GO="up",KO="down",Dj="left",kj="right",qO="first",XO="last",ww=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],Rj=[GO,KO,qO,XO],Sw="dxcontextmenu",Mj=ft();class ib extends tb{getShowEvent(t){var i=null;return at(t)?t.name!==null&&(i=t.name||Sw):i=t,i}getShowDelay(t){return at(t)&&t.delay}_getDefaultOptions(){return ce(super._getDefaultOptions(),{showEvent:Sw,hideOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>!ht(),options:{animation:null}}])}_setDeprecatedOptions(){super._setDeprecatedOptions(),ce(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.2",alias:"hideOnOutsideClick"}})}_initActions(){this._actions={},ve(ww,(t,i)=>{this._actions[i]=this._createActionByOption(i)||Ee})}_setOptionsByReference(){super._setOptionsByReference(),ce(this._optionsByReference,{animation:!0,selectedItem:!0})}_focusInHandler(){}_itemContainer(){return this._overlay?this._overlay.$content():J()}_eventBindingTarget(){return this._itemContainer()}itemsContainer(){return this._overlay?this._overlay.$content():void 0}_supportedKeys(){return ce(super._supportedKeys(),{space:()=>{var t=J(this.option("focusedElement"));this.hide(),!(!t.length||!this._isSelectionEnabled())&&this.selectItem(t[0])},escape:this.hide})}_getActiveItem(){var t=this._getAvailableItems(),i=t.filter(".".concat(Aj)),r=t.filter(".".concat(xw)),n=r.closest(".".concat(mh));return n.find(".".concat(Iu)).index(i)>=0?i:r.length?r:super._getActiveItem()}_moveFocus(t){var i=this._getItemsByLocation(t),r=this._getActiveItem(!0),n=this.itemsContainer().find(".".concat(xw)),a=J(this.option("focusedElement")),s=!!(a.length||n.length),o;switch(t){case GO:o=s?this._prevItem(i):r,this._setFocusedElement(o),r.is(i.first())&&this._actions.onLeftFirstItem(r);break;case KO:o=s?this._nextItem(i):r,this._setFocusedElement(o),r.is(i.last())&&this._actions.onLeftLastItem(r);break;case kj:o=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(i,t),this._setFocusedElement(o);break;case Dj:o=this.option("rtlEnabled")?this._expandSubmenuHandler(i,t):this._hideSubmenuHandler(),this._setFocusedElement(o);break;case qO:o=i.first(),this._setFocusedElement(o);break;case XO:o=i.last(),this._setFocusedElement(o);break;default:return super._moveFocus(t)}}_setFocusedElement(t){t&&t.length!==0&&this.option("focusedElement",ot(t))}_getItemsByLocation(t){var i=this._getActiveItem(!0),r;return Rj.includes(t)&&(r=i.closest(".".concat(mh)).children().children()),r=this._getAvailableItems(r),r}_getAriaTarget(){return this.$element()}_refreshActiveDescendant(){if(oe(this._overlay)){var t=this._overlay.$content();super._refreshActiveDescendant(t)}}_hideSubmenuHandler(){var t=this._getActiveItem(!0),i=t.parents(".".concat(Ro)).first();return i.length?(this._hideSubmenusOnSameLevel(i),this._hideSubmenu(t.closest(".".concat(Cr))),i):(this._actions.onCloseRootSubmenu(t),t)}_expandSubmenuHandler(t,i){var r=this._getActiveItem(!0),n=this._getItemData(r),a=this._dataAdapter.getNodeByItem(n),s=this._hasSubmenu(a),o=r.children(".".concat(Cr));if(s&&!r.hasClass(Ij))return(!o.length||o.css("visibility")==="hidden")&&this._showSubmenu(r),this._nextItem(this._getItemsByLocation(i));this._actions.onExpandLastSubmenu(r)}_clean(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),super._clean()}_initMarkup(){this.$element().addClass(Tj),super._initMarkup()}_render(){super._render(),this._renderVisibility(this.option("visible")),this._addWidgetClass()}_renderContentImpl(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}_attachKeyboardEvents(){!this._keyboardListenerId&&this._focusTarget().length&&super._attachKeyboardEvents()}_renderContextMenuOverlay(){if(!this._overlay){var t=this._getOverlayOptions();this._overlay=this._createComponent(J("<div>").appendTo(this._$element),pn,t);var i=this._overlay.$content();i.addClass(Ej),this._addCustomCssClass(i),this._addPlatformDependentClass(i),this._attachContextMenuEvent()}}preventShowingDefaultContextMenuAboveOverlay(){var t=this._itemContainer(),i=Be(VO,this.NAME);he.off(t,i,".".concat(Cr)),he.on(t,i,".".concat(Cr),(r=>{r.stopPropagation(),r.preventDefault(),he.off(t,i,".".concat(Cr))}).bind(this))}_itemContextMenuHandler(t){super._itemContextMenuHandler(t),t.stopPropagation()}_addPlatformDependentClass(t){Ye.current().phone&&t.addClass(Sj)}_detachShowContextMenuEvents(t){var i=this.getShowEvent(this.option("showEvent"));if(i){var r=Be(i,this.NAME);this._showContextMenuEventHandler?he.off(Re.getDocument(),r,t,this._showContextMenuEventHandler):he.off(J(t),r)}}_attachShowContextMenuEvents(){var t=this._getTarget(),i=this.getShowEvent(this.option("showEvent"));if(i){var r=Be(i,this.NAME),n=this._createAction(s=>{var o=this.getShowDelay(this.option("showEvent"));o?setTimeout(()=>this._show(s.event),o):this._show(s.event)},{validatingTargetName:"target"}),a=s=>n({event:s,target:J(s.currentTarget)});n=this._createAction(n),Br(t)||t.nodeType||Si(t)?(this._showContextMenuEventHandler=void 0,he.on(t,r,a)):(this._showContextMenuEventHandler=a,he.on(Re.getDocument(),r,t,this._showContextMenuEventHandler))}}_hoverEndHandler(t){super._hoverEndHandler(t),t.stopPropagation()}_renderDimensions(){}_renderContainer(t,i){var r=i||this._itemContainer();t=J("<div>"),t.appendTo(r).addClass(Cr).css("visibility",i?"hidden":"visible"),t.parent().hasClass(Oj)||this._addCustomCssClass(t);var n=super._renderContainer(t);return i?n:this.option("width")?n.css("minWidth",this.option("width")):this.option("height")?n.css("minHeight",this.option("height")):n}_renderSubmenuItems(t,i){this._renderItems(this._getChildNodes(t),i),this._actions.onSubmenuCreated({itemElement:ot(i),itemData:t.internalFields.item,submenuElement:ot(i.children(".".concat(Cr)))})}_getOverlayOptions(){var t=this.option("position"),i={focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,hideOnOutsideClick:r=>this._hideOnOutsideClickHandler(r),propagateOutsideClick:!0,hideOnParentScroll:!0,deferRendering:!1,position:{at:t.at,my:t.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this),visualContainer:Mj};return i}_overlayShownActionHandler(t){this._actions.onShown(t)}_overlayHidingActionHandler(t){this._actions.onHiding(t),t.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}_overlayHiddenActionHandler(t){this._actions.onHidden(t)}_shouldHideOnOutsideClick(t){var{closeOnOutsideClick:i,hideOnOutsideClick:r}=this.option();return We(r)?r(t):We(i)?i(t):r||i}_hideOnOutsideClickHandler(t){if(!this._shouldHideOnOutsideClick(t))return!1;if(Re.isDocument(t.target))return!0;var i=this._getActiveItemsContainer(t.target),r=this._getItemsContainers(),n=this._searchActiveItem(t.target),a=this.$element().parents(".".concat(Iu)),s=n[0]===a[0]&&n.length&&a.length,o=this._isIncludeOverlay(i,r)&&n.length;return o||s?(this._getShowSubmenuMode()==="onClick"&&this._hideAllShownChildSubmenus(n),!1):!0}_getActiveItemsContainer(t){return J(t).closest(".".concat(mh))}_getItemsContainers(){return this._overlay.$content().find(".".concat(mh))}_searchActiveItem(t){return J(t).closest(".".concat(Iu)).eq(0)}_isIncludeOverlay(t,i){var r=!1;return ve(i,(n,a)=>{t.is(a)&&!r&&(r=!0)}),r}_hideAllShownChildSubmenus(t){var i=t.find(".".concat(Cr)),r=ce([],this._shownSubmenus);i.length>0&&ve(r,(n,a)=>{var s=this._searchActiveItem(a.context).parent();s.parent().is(t.parent().parent())&&!s.is(t.parent())&&this._hideSubmenu(a)})}_showSubmenu(t){var i=this._dataAdapter.getNodeByItem(this._getItemData(t));if(this._hideSubmenusOnSameLevel(t),!!this._hasSubmenu(i)){var r=t.children(".".concat(Cr)),n=r.length;super._showSubmenu(t),n||this._renderSubmenuItems(i,t),this._isSubmenuVisible(r)||this._drawSubmenu(t)}}_hideSubmenusOnSameLevel(t){var i=t.parent(".".concat(Cw)).siblings().find(".".concat(Ro));i.length&&(i.removeClass(Ro),this._hideSubmenu(i.find(".".concat(Cr))))}_hideSubmenuGroup(t){this._isSubmenuVisible(t)&&this._hideSubmenuCore(t)}_isSubmenuVisible(t){return t.css("visibility")==="visible"}_drawSubmenu(t){var i=this.option("animation")?this.option("animation").show:{},r=t.children(".".concat(Cr)),n=this._getSubmenuPosition(t);this._overlay&&this._overlay.option("visible")&&(oe(this._shownSubmenus)||(this._shownSubmenus=[]),this._shownSubmenus.includes(r)||this._shownSubmenus.push(r),i&&pi.stop(r),Ki.setup(r,n),i&&(Ct(i.to)&&(i.to.position=n),this._animate(r,i)),r.css("visibility","visible"))}_animate(t,i){pi.animate(t,i)}_getSubmenuPosition(t){var i=this.option("submenuDirection").toLowerCase(),r=t.parent(".".concat(Cw)),n={collision:"flip",of:r,offset:{h:0,v:-1}};switch(i){case"left":n.at="left top",n.my="right top";break;case"right":n.at="right top",n.my="left top";break;default:this.option("rtlEnabled")?(n.at="left top",n.my="right top"):(n.at="right top",n.my="left top")}return n}_updateSubmenuVisibilityOnClick(t){if(t.args.length){var i=t.args[0].itemData,r=this._dataAdapter.getNodeByItem(i);if(r){var n=J(t.args[0].itemElement),a=n.find(".".concat(Cr)),s=this._hasSubmenu(r)&&!a.length;if(s&&(this._renderSubmenuItems(r,n),a=n.find(".".concat(Cr))),!(n.context===a.context&&a.css("visibility")==="visible")){this._updateSelectedItemOnClick(t);var o=i&&i.closeMenuOnClick===!1;if(!(!i||i.disabled||o))if(a.length===0){var l=J(n.parents(".".concat(Cr))[0]);this._hideSubmenu(l),!t.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(a)&&this._hideSubmenu(a),this._showSubmenu(n)}}}}_hideSubmenu(t){var i=ce([],this._shownSubmenus);ve(i,(r,n)=>{(t.is(n)||Wa(t[0],n[0]))&&(n.parent().removeClass(Ro),this._hideSubmenuCore(n))})}_hideSubmenuCore(t){var i=this._shownSubmenus.indexOf(t),r=this.option("animation")?this.option("animation").hide:null;i>=0&&this._shownSubmenus.splice(i,1),this._stopAnimate(t),r&&this._animate(t,r),t.css("visibility","hidden")}_stopAnimate(t){pi.stop(t,!0)}_hideAllShownSubmenus(){var t=ce([],this._shownSubmenus),i=this._overlay.$content().find(".".concat(Ro));i.removeClass(Ro),ve(t,(r,n)=>{this._hideSubmenu(n)})}_visibilityChanged(t){t&&this._renderContentImpl()}_optionChanged(t){if(ww.includes(t.name)){this._initActions();return}switch(t.name){case"visible":this._renderVisibility(t.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":t.previousValue&&this._detachShowContextMenuEvents(t.previousValue),this._invalidate();break;case"closeOnOutsideClick":case"hideOnOutsideClick":break;default:super._optionChanged(t)}}_renderVisibility(t){return t?this._show():this._hide()}_toggleVisibility(){}_show(t){var i={jQEvent:t},r=new we().reject().promise();if(this._actions.onShowing(i),i.cancel)return r;var n=this._positionContextMenu(t);if(n){var a;this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionWithoutOptionChange("visible",!0),this._overlay.option("position",n),r=this._overlay.show(),t&&t.stopPropagation(),this._setAriaAttributes(),(t==null||(a=t.originalEvent)===null||a===void 0?void 0:a.type)===Ja.name&&this.preventShowingDefaultContextMenuAboveOverlay()}return r}_setAriaAttributes(){this._overlayContentId="dx-".concat(new Bi),this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}_cleanAriaAttributes(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}_getTarget(){return this.option("target")||this.option("position").of||J(Re.getDocument())}_getContextMenuPosition(){return ce({},this.option("position"),{of:this._getTarget()})}_positionContextMenu(t){var i=this._getContextMenuPosition(),r=this._isInitialOptionValue("position"),n=this._createActionByOption("onPositioning",a);t&&t.preventDefault&&r&&(i.of=t);var a={position:i,event:t};return n(a),a.cancel?i=null:a.event&&(a.event.cancel=!0,t.preventDefault()),i}_refresh(){if(!ht())super._refresh();else if(this._overlay){var t=this._overlay.option("position");super._refresh(),this._overlay&&this._overlay.option("position",t)}else super._refresh()}_hide(){var t;return this._overlay&&(t=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),t||new we().reject().promise()}toggle(t){var i=this.option("visible");return t=t===void 0?!i:t,this._renderVisibility(t)}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}}Tt("dxContextMenu",ib);var Bj="dx-context-menu",Pj={columnHeadersView:"header",rowsView:"content",footerView:"footer",headerPanel:"headerPanel"},Lj=["columnHeadersView","rowsView","footerView","headerPanel"],Fj=ni.ViewController.inherit({init:function(){this.createAction("onContextMenuPreparing")},getContextMenuItems:function(e){if(!e)return!1;var t=this,i=J(e.target),r,n,a,s;return ve(Lj,function(){var o=t.getView(this);if(r=o&&o.element(),r&&(r.is(i)||r.find(i).length)){var l,u;a=i.closest(".dx-row > td, .dx-row > tr"),n=a.parent();var d=o.getRowIndex(n),c=a[0]&&a[0].cellIndex,h=n.data("options"),f={event:e,targetElement:ot(i),target:Pj[this],rowIndex:d,row:o._getRows()[d],columnIndex:c,column:h==null||(l=h.cells)===null||l===void 0||(u=l[c])===null||u===void 0?void 0:u.column};if(f.items=o.getContextMenuItems&&o.getContextMenuItems(f),t.executeAction("onContextMenuPreparing",f),t._contextMenuPrepared(f),s=f.items,s)return!1}}),s},_contextMenuPrepared:Ee}),Nj=ni.View.inherit({_renderCore:function(){var e=this,t=e.element().addClass(Bj);this.setAria("role","presentation",t),this._createComponent(t,ib,{onPositioning:function(i){var r=i.event,n=i.component,a=e.getController("contextMenu").getContextMenuItems(r);a?(n.option("items",a),r.stopPropagation()):i.cancel=!0},onItemClick:function(i){i.itemData.onItemClick&&i.itemData.onItemClick(i)},cssClass:e.getWidgetContainerClass(),target:e.component.$element()})}}),Vj={defaultOptions:function(){return{onContextMenuPreparing:null}},controllers:{contextMenu:Fj},views:{contextMenuView:Nj}};qe.registerModule("contextMenu",Vj);var Vl="dx-error-row",Ew="dx-error-message",Hj="dx-closebutton",$j="action",zj=ni.ViewController.inherit({init:function(){this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView")},_createErrorRow:function(e,t){var i=this,r,n,a=this._renderErrorMessage(e);return t?(r=J("<tr>").addClass(Vl),n=J("<div>").addClass(Hj).addClass(i.addWidgetPrefix($j)),he.on(n,zt,i.createAction(function(s){var o=s.event,l,u=J(o.currentTarget).closest("."+Vl).index();o.stopPropagation(),ve(t,function(d,c){l=J(c).children("tbody").children("tr").eq(u),i.removeErrorRow(l)}),i.getController("resizing")&&i.getController("resizing").fireContentReadyAction()})),J("<td>").attr({colSpan:i.getController("columns").getVisibleColumns().length,role:"presentation"}).prepend(n).append(a).appendTo(r),r):a},_renderErrorMessage:function(e){var t=e.url?e.message.replace(e.url,""):e.message||e,i=J("<div>").addClass(Ew).text(t);return e.url&&J("<a>").attr("href",e.url).text(e.url).appendTo(i),i},renderErrorRow:function(e,t,i){var r=this,n,a;if(i)return i.find("."+Ew).remove(),n=r._createErrorRow(e),i.prepend(n),n;var s=t>=0||!r._columnHeadersView.isVisible()?r._rowsView:r._columnHeadersView,o=s.getTableElements();ve(o,function(u,d){if(n=r._createErrorRow(e,o),a=a||n,t>=0){var c=s._getRowElements(J(d)).eq(t);r.removeErrorRow(c.next()),n.insertAfter(c)}else{var h=J(d).children("tbody"),f=h.children("tr");r._columnHeadersView.isVisible()?(r.removeErrorRow(f.last()),J(d).append(n)):(r.removeErrorRow(f.first()),h.first().prepend(n))}});var l=r.getController("resizing");return l&&l.fireContentReadyAction(),a},removeErrorRow:function(e){if(!e){var t=this._columnHeadersView&&this._columnHeadersView.element();if(e=t&&t.find("."+Vl),!e||!e.length){var i=this._rowsView.element();e=i&&i.find("."+Vl)}}e&&e.hasClass(Vl)&&e.remove()},optionChanged:function(e){switch(e.name){case"errorRowEnabled":e.handled=!0;break;default:this.callBase(e)}}}),Wj={defaultOptions:function(){return{errorRowEnabled:!0}},controllers:{errorHandling:zj},extenders:{controllers:{data:{init:function(){var e=this,t=e.getController("errorHandling");e.callBase(),e.dataErrorOccurred.add(function(i,r){e.option("errorRowEnabled")&&t.renderErrorRow(i,void 0,r)}),e.changed.add(function(i){if(!(i&&i.changeType==="loadError")){var r=e.getController("errorHandling"),n=e.getController("editing");n&&!n.hasChanges()&&r&&r.removeErrorRow()}})}}}}};qe.registerModule("errorHandling",Wj);var Tw="borders",jj="table-fixed",Uj="important-margin",YO="dx-gridbase-container",gh="adaptiveHidden",rb=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","filterPanelView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView","filterBuilderView"],Hl=function(e){return nt(e)&&e.slice(-1)==="%"},Gj=function(e){return nt(e)&&e.slice(-2)==="px"},Kj=function(e){var t=e.get(0).clientHeight,i=parseFloat(e.css("paddingTop")),r=parseFloat(e.css("paddingBottom"));return t-i-r},ZO=function(e,t){var i=e._rowsView.contentWidth(),r=e._getTotalWidth(t,i);return i-r},qj=function(e,t,i,r){return ZO(e,r.map(function(n,a){return a===t?i:n}))},Xj=function(e,t){R9(e),Fe.setSelectionRange(e,t)},Yj=ni.ViewController.inherit({_initPostRenderHandlers:function(){var e=this._dataController;this._refreshSizesHandler||(this._refreshSizesHandler=t=>{e.changed.remove(this._refreshSizesHandler);var i=t&&t.templateDeferreds||[];Ke.apply(this,i).done(()=>{this._refreshSizes(t)})},e.changed.add(()=>{e.changed.add(this._refreshSizesHandler)}))},_refreshSizes:function(e){var t,i=this,r=e&&e.changeType,n=e&&e.isDelayed,a=i._dataController.items();if(!e||r==="refresh"||r==="prepend"||r==="append")n||(t=i.resize());else if(r==="update"){var s;if(((s=e.changeTypes)===null||s===void 0?void 0:s.length)===0)return;(a.length>1||e.changeTypes[0]!=="insert")&&!(a.length===0&&e.changeTypes[0]==="remove")&&!e.needUpdateDimensions?dr(()=>Oi(()=>dr(()=>{i._setScrollerSpacing(i._hasHeight),i._rowsView.resize()}))):t=i.resize()}r&&r!=="updateSelection"&&r!=="updateFocusedRow"&&r!=="pageIndex"&&!n&&Ke(t).done(function(){i._setAriaRowColCount(),i.fireContentReadyAction()})},fireContentReadyAction:function(){this.component._fireContentReadyAction()},_setAriaRowColCount:function(){var e=this.component;e.setAria({rowCount:this._dataController.totalItemsCount(),colCount:e.columnCount()},e.$element().children("."+YO))},_getBestFitWidths:function(){var e,t=this._rowsView,i=this._columnHeadersView,r=t.getColumnWidths();if(!((e=r)!==null&&e!==void 0&&e.length)){var n,a=i.getTableElement();i.setTableElement((n=t.getTableElement())===null||n===void 0?void 0:n.children(".dx-header")),r=i.getColumnWidths(),i.setTableElement(a)}return r},_setVisibleWidths:function(e,t){var i=this._columnsController;i.beginUpdate(),ve(e,function(r,n){var a=i.getColumnId(n);i.columnOption(a,"visibleWidth",t[r])}),i.endUpdate()},_toggleBestFitModeForView:function(e,t,i){if(!(!e||!e.isVisible())){var r=this._rowsView.getTableElements(),n=e.getTableElements();ve(r,(a,s)=>{var o,l=J(s),u=n.eq(a);u&&u.length&&(i?o=u.children("tbody").appendTo(l):o=l.children("."+t).appendTo(u),o.toggleClass(t,i),o.toggleClass(this.addWidgetPrefix("best-fit"),i))})}},_toggleBestFitMode:function(e){var t=this._rowsView.getTableElement(),i=this._rowsView.getTableElements().eq(1);t&&(t.css("tableLayout",e?"auto":"fixed"),t.children("colgroup").css("display",e?"none":""),i.toggleClass(this.addWidgetPrefix(jj),!e),this._toggleBestFitModeForView(this._columnHeadersView,"dx-header",e),this._toggleBestFitModeForView(this._footerView,"dx-footer",e),this._toggleContentMinHeight(e),this._needStretch()&&(t.get(0).style.width=e?"auto":""))},_toggleContentMinHeight:function(e){if(this.option("wordWrapEnabled")){var t=this._rowsView.getScrollable(),i=this._rowsView._findContentElement();(t==null?void 0:t.option("useNative"))===!1&&i.css({minHeight:e?Fe.getContentHeightLimit(ri):""})}},_synchronizeColumns:function(){var e=this._columnsController,t=e.getVisibleColumns(),i=this.option("columnAutoWidth"),r=this._needBestFit(),n=!1,a,s=!1,o=[],l,u;!r&&ve(t,function(c,h){if(h.width==="auto")return r=!0,!1}),ve(t,function(c,h){if(h.minWidth)return n=!0,!1}),this._setVisibleWidths(t,[]),r&&(l=Re.getActiveElement(),u=Fe.getSelectionRange(l),this._toggleBestFitMode(!0),a=!0);var d=this.component.$element();d&&d[0]&&this._maxWidth&&(delete this._maxWidth,d[0].style.maxWidth=""),dr(()=>{if(r?(o=this._getBestFitWidths(),ve(t,function(h,f){var p=e.getColumnId(f);e.columnOption(p,"bestFitWidth",o[h],!0)})):n&&(o=this._getBestFitWidths()),ve(t,function(h){var f=this.width;f!=="auto"&&(oe(f)?o[h]=ei(f)||Gj(f)?parseFloat(f):f:i||(o[h]=void 0))}),a&&(this._toggleBestFitMode(!1),a=!1,l&&l!==Re.getActiveElement())){var c=vi(l).bottom<0;c||Xj(l,u)}s=this._correctColumnWidths(o,t),i&&(function(){var h;ve(t,function(f,p){p.type==="groupExpand"&&(h=o[f])}),ve(t,function(f,p){p.type==="groupExpand"&&h&&(o[f]=h)})}(),this._needStretch()&&this._processStretch(o,t)),Oi(()=>{(r||s)&&this._setVisibleWidths(t,o)})})},_needBestFit:function(){return this.option("columnAutoWidth")},_needStretch:function(){return this._columnsController.getVisibleColumns().some(e=>e.width==="auto"&&!e.command)},_getAverageColumnsWidth:function(e){var t=ZO(this,e),i=e.filter(function(r){return r===void 0}).length;return t/i},_correctColumnWidths:function(e,t){var i=this,r,n=!1,a=!1,s=!1,o=i.component.$element(),l=i._hasWidth,u=function(){var m=r,v=t[m],b=e[m]===gh,E=e[m],I=v.minWidth;if(I){if(E===void 0){var R=i._getAverageColumnsWidth(e);E=R}else if(Hl(E)){var N=qj(i,m,I,e);N<0&&(E=-1)}}var j=i._getRealColumnWidth(m,e.map(function(V,H){return m===H?E:V}));I&&!b&&j<I&&(e[m]=I,s=!0,r=-1),oe(v.width)||(a=!0),Hl(v.width)&&(n=!0)};for(r=0;r<t.length;r++)u();if(!a&&e.length){var d=i._rowsView.element(),c=i._rowsView.contentWidth(),h=i._rowsView.getScrollbarWidth(),f=i._getTotalWidth(e,c);if(f<c){var p=Fe.getLastResizableColumnIndex(t,e);if(p>=0&&(e[p]="auto",s=!0,l===!1&&!n)){var g=i.option("showBorders")?Math.ceil(Pt(d)-gv(d)):0;i._maxWidth=f+h+g,o.css("maxWidth",i._maxWidth)}}}return s},_processStretch:function(e,t){var i=this._rowsView.contentWidth(),r=this._getTotalWidth(e,i),n={length:0};if(e.length){ve(t,function(u){(this.width||e[u]===gh)&&(n[u]=!0,n.length++)});var a=i-r,s=Math.floor(a/(e.length-n.length)),o=a-s*(e.length-n.length);if(a>=0)for(var l=0;l<e.length;l++)n[l]||(e[l]+=s,o>0&&(o<1?(e[l]+=o,o=0):(e[l]++,o--)))}},_getRealColumnWidth:function(e,t,i){var r=1,n=t[e];if(!Hl(n))return parseFloat(n);var a=t.reduce((u,d,c)=>Hl(d)?u+parseFloat(d):u,0),s=t.reduce((u,d)=>!d||d===gh||Hl(d)?u:u+parseFloat(d),0);i=i||this._rowsView.contentWidth();var o=i-s,l=a*i/100;return s>0&&l+s>=i&&(r=l>o?o/l:1),parseFloat(n)*i*r/100},_getTotalWidth:function(e,t){for(var i=0,r=0;r<e.length;r++){var n=e[r];n&&n!==gh&&(i+=this._getRealColumnWidth(r,e,t))}return Math.ceil(i)},updateSize:function(e){var t,i,r=J(e),n=this.addWidgetPrefix(Uj);this._hasHeight===void 0&&r&&r.is(":visible")&&ut(r)&&(t=r.children("."+this.getWidgetContainerClass()),t.length&&t.detach(),this._hasHeight=!!Kj(r),i=ut(r),r.addClass(n),this._hasWidth=ut(r)===i,r.removeClass(n),t.length&&t.appendTo(r))},publicMethods:function(){return["resize","updateDimensions"]},resize:function(){return!this.component._requireResize&&this.updateDimensions()},updateDimensions:function(e){var t=this;if(t._initPostRenderHandlers(),!!t._checkSize(e)){var i=t._resizeDeferred,r=t._resizeDeferred=new we;return Ke(i).always(function(){Oi(function(){t._dataController.isLoaded()&&t._synchronizeColumns(),t._resetGroupElementHeight(),dr(function(){Oi(function(){dr(function(){t._updateDimensionsCore()})})})}).done(r.resolve).fail(r.reject)}),r.promise()}},_resetGroupElementHeight:function(){var e=this.component.$element().children().get(0),t=this._rowsView.getScrollable();e&&e.style.height&&(!t||!t.scrollTop())&&(e.style.height="")},_checkSize:function(e){var t=this.component.$element();return!(e&&(this._lastWidth===ut(t)&&this._lastHeight===ct(t)&&this._devicePixelRatio===ft().devicePixelRatio||!t.is(":visible")))},_setScrollerSpacingCore:function(e){var t=this,i=e?t._rowsView.getScrollbarWidth():0,r=t._rowsView.getScrollbarWidth(!0);Oi(function(){t._columnHeadersView&&t._columnHeadersView.setScrollerSpacing(i),t._footerView&&t._footerView.setScrollerSpacing(i),t._rowsView.setScrollerSpacing(i,r)})},_setScrollerSpacing:function(e){this.option("scrolling.useNative")===!0?Oi(()=>{dr(()=>{this._setScrollerSpacingCore(e)})}):this._setScrollerSpacingCore(e)},_updateDimensionsCore:function(){var e=this,t=e._dataController,i=e._rowsView,r=e.component.$element(),n=r.children().get(0),a=r&&(r.get(0).clientHeight||ct(r)),s=parseInt(r.css("maxHeight")),o=s&&a>=s,l=e.option("height")||r.get(0).style.height,u=e.getController("editorFactory"),d=o&&n.scrollHeight===n.offsetHeight,c;e.updateSize(r);var h=e._hasHeight||o;l&&e._hasHeight^l!=="auto"&&(c=J("<div>"),Lr(c,l),c.appendTo(r),e._hasHeight=!!ct(c),c.remove()),Oi(function(){if(i.height(null,h),o&&!d&&J(n).css("height",s),!t.isLoaded()){i.setLoading(t.isLoading());return}dr(function(){e._updateLastSizes(r),e._setScrollerSpacing(h),ve(rb,function(f,p){var g=e.getView(p);g&&g.resize()}),u&&u.resize()})})},_updateLastSizes:function(e){this._lastWidth=ut(e),this._lastHeight=ct(e),this._devicePixelRatio=ft().devicePixelRatio},optionChanged:function(e){switch(e.name){case"width":case"height":this.component._renderDimensions(),this.resize();case"renderAsync":e.handled=!0;return;default:this.callBase(e)}},init:function(){this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._footerView=this.getView("footerView"),this._rowsView=this.getView("rowsView")}}),Zj=ni.ViewController.inherit({_scrollChangedHandler:function(e,t,i){for(var r=0;r<e.length;r++)e[r]&&e[r].name!==i&&e[r].scrollTo({left:t.left,top:t.top})},init:function(){for(var e=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")],t=0;t<e.length;t++){var i=e[t];i&&i.scrollChanged.add(this._scrollChangedHandler.bind(this,e))}}}),Jj=ni.View.inherit({_endUpdateCore:function(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())},_getWidgetAriaLabel:function(){return"dxDataGrid-ariaDataGrid"},init:function(){this._resizingController=this.getController("resizing"),this._dataController=this.getController("data")},getView:function(e){return this.component._views[e]},element:function(){return this._groupElement},optionChanged:function(e){oe(this._groupElement)&&e.name==="showBorders"?(this._groupElement.toggleClass(this.addWidgetPrefix(Tw),!!e.value),e.handled=!0):this.callBase(e)},_renderViews:function(e){var t=this;ve(rb,function(i,r){var n=t.getView(r);n&&n.render(e)})},_getTableRoleName:function(){return"grid"},render:function(e){var t=!this._groupElement,i=this._groupElement||J("<div>").addClass(this.getWidgetContainerClass());i.addClass(YO),i.toggleClass(this.addWidgetPrefix(Tw),!!this.option("showBorders")),this.setAria("role","presentation",e),this.component.setAria({role:this._getTableRoleName(),label:Ae.format(this._getWidgetAriaLabel())},i),this._rootElement=e||this._rootElement,t&&(this._groupElement=i,ht()&&this.getController("resizing").updateSize(e),i.appendTo(e)),this._renderViews(i)},update:function(){var e=this._rootElement,t=this._groupElement,i=this.getController("resizing");e&&t&&(i.resize(),this._dataController.isLoaded()&&this._resizingController.fireContentReadyAction())}}),Qj={defaultOptions:function(){return{showBorders:!1,renderAsync:!1}},controllers:{resizing:Yj,synchronizeScrolling:Zj},views:{gridView:Jj},VIEW_NAMES:rb};qe.registerModule("gridView",Qj);var qf="dxswipestart",Xf="dxswipe",Pd="dxswipeend",eU={defaultItemSizeFunc:function(){return ut(this.getElement())},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(e){var t=mi(e);return(t.x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,e)},isFastSwipe:function(e){var t=mi(e);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(t.x-this._tickData.x)>=t.time-this._tickData.time}},tU={defaultItemSizeFunc:function(){return ct(this.getElement())},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(e){var t=mi(e);return(t.y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,e)},isFastSwipe:function(e){var t=mi(e);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(t.y-this._tickData.y)>=t.time-this._tickData.time}},iU={horizontal:eU,vertical:tU},rU=fd.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(e){this.callBase(e),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return iU[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(e){this._tickData=mi(e)},_start:function(e){this._savedEventData=mi(e),e=this._fireEvent(qf,e),e.cancel||(this._maxLeftOffset=e.maxLeftOffset,this._maxRightOffset=e.maxRightOffset,this._maxTopOffset=e.maxTopOffset,this._maxBottomOffset=e.maxBottomOffset)},_move:function(e){var t=this._getStrategy(),i=mi(e),r=t.calcOffsetRatio.call(this,e);r=this._fitOffset(r,this.elastic),i.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=i),this._fireEvent(Xf,e,{offset:r}),e.preventDefault()},_end:function(e){var t=this._getStrategy(),i=t.calcOffsetRatio.call(this,e),r=t.isFastSwipe.call(this,e),n=i,a=this._calcTargetOffset(i,r);n=this._fitOffset(n,this.elastic),a=this._fitOffset(a,!1),this._fireEvent(Pd,e,{offset:n,targetOffset:a})},_fitOffset:function(e,t){var i=this._getStrategy(),r=i.getBounds.call(this);return e<-r[0]?t?(-2*r[0]+e)/3:-r[0]:e>r[1]?t?(2*r[1]+e)/3:r[1]:e},_calcTargetOffset:function(e,t){var i;return t?(i=Math.ceil(Math.abs(e)),e<0&&(i=-i)):i=Math.round(e),i}});Sl({emitter:rU,events:[qf,Xf,Pd]});var Iw="dx-list-item-badge-container",nU="dx-list-item-badge",aU="dx-badge",km="dx-list-item-chevron-container",sU="dx-list-item-chevron",oU=uo.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))},_renderBadge:function(e){if(this._$element.children("."+Iw).remove(),!!e){var t=J("<div>").addClass(Iw).append(J("<div>").addClass(nU).addClass(aU).text(e)),i=this._$element.children("."+km).first();i.length>0?t.insertBefore(i):t.appendTo(this._$element)}},_renderShowChevron:function(e){if(this._$element.children("."+km).remove(),!!e){var t=J("<div>").addClass(km),i=J("<div>").addClass(sU);t.append(i).appendTo(this._$element)}}}),Aw="dx-scrollview-pull-down-loading",Rm="dx-scrollview-pull-down-ready",lU="dx-scrollview-pull-down-image",uU="dx-scrollview-pull-down-indicator",dU="dx-scrollview-pull-down-text",hU="dx-scrollview-pull-down-text-visible",vh=0,$l=1,_h=2,Mm=3,cU=400,fU=N0.inherit({_init:function(e){this.callBase(e),this._$topPocket=e._$topPocket,this._$pullDown=e._$pullDown,this._$refreshingText=e._$refreshingText,this._$scrollViewContent=J(e.content()),this._$container=J(e.container()),this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=Ht(),this.releaseCallbacks=Ht(),this.reachBottomCallbacks=Ht()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var e=J("<div>").addClass(lU),t=J("<div>").addClass(uU),i=new Rr(J("<div>")).$element(),r=this._$pullDownText=J("<div>").addClass(dU);this._$pullingDownText=J("<div>").text(this.option("pullingDownText")).appendTo(r),this._$pulledDownText=J("<div>").text(this.option("pulledDownText")).appendTo(r),this._$refreshingText=J("<div>").text(this.option("refreshingText")).appendTo(r),this._$pullDown.empty().append(e).append(t.append(i)).append(r)},_releaseState:function(){this._state=vh,this._refreshPullDownText()},_refreshPullDownText:function(){var e=this,t=[{element:this._$pullingDownText,visibleState:vh},{element:this._$pulledDownText,visibleState:$l},{element:this._$refreshingText,visibleState:_h}];ve(t,function(i,r){var n=e._state===r.visibleState?"addClass":"removeClass";r.element[n](hU)})},update:function(){this.callBase(),this._setTopPocketOffset()},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var e=this._$scrollViewContent.get(0),t=this._$container.get(0);this._bottomBoundary=Math.max(e.clientHeight-t.clientHeight,0)},_allowedDirections:function(){var e=this.callBase();return e.vertical=e.vertical||this._pullDownEnabled,e},_setTopPocketOffset:function(){this._$topPocket.css({top:-this._topPocketSize})},handleEnd:function(){this.callBase(),this._complete()},handleStop:function(){this.callBase(),this._complete()},_complete:function(){this._state===$l&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout((function(){this._pullDownRefreshing()}).bind(this),400))},_setPullDownOffset:function(e){ki(this._$topPocket,{top:e}),ki(this._$scrollViewContent,{top:e})},handleScroll:function(e){if(this.callBase(e),this._state!==_h){var t=this.location().top,i=(this._location||0)-t;this._location=t,this._isPullDown()?this._pullDownReady():i>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isPullDown:function(){return this._pullDownEnabled&&this._location>=this._topPocketSize},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this._state!==Mm&&(this._state=Mm,this.reachBottomCallbacks.fire())},_pullDownReady:function(){this._state!==$l&&(this._state=$l,this._$pullDown.addClass(Rm),this._refreshPullDownText())},_stateReleased:function(){this._state!==vh&&(this._$pullDown.removeClass(Aw).removeClass(Rm),this._releaseState())},_pullDownRefreshing:function(){this._state!==_h&&(this._state=_h,this._$pullDown.addClass(Aw).removeClass(Rm),this._refreshPullDownText(),this.pullDownCallbacks.fire())},pullDownEnable:function(e){e&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=e},reachBottomEnable:function(e){this._reachBottomEnabled=e},pendingRelease:function(){this._state=$l},release:function(){var e=new we;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._state===Mm&&(this._state=vh),this._releaseTimeout=setTimeout((function(){this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),e.resolve()}).bind(this),cU),e.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),Ow="dx-scrollview-pull-down-loading",pU="dx-scrollview-pull-down-indicator",mU="dx-scrollview-pull-down-refreshing",gU="dx-icon-pulldown",Bm=0,vU=1,Dw=2,Pm=4,bh=5,_U=N0.inherit({_init:function(e){this.callBase(e),this._$topPocket=e._$topPocket,this._$pullDown=e._$pullDown,this._$scrollViewContent=J(e.content()),this._$container=J(e.container()),this._initCallbacks(),this._location=0},_initCallbacks:function(){this.pullDownCallbacks=Ht(),this.releaseCallbacks=Ht(),this.reachBottomCallbacks=Ht()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var e=J("<div>").addClass(pU),t=new Rr(J("<div>")).$element();this._$icon=J("<div>").addClass(gU),this._$pullDown.empty().append(this._$icon).append(e.append(t))},_releaseState:function(){this._state=Bm,this._releasePullDown(),this._updateDimensions()},_releasePullDown:function(){this._$pullDown.css({opacity:0})},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var e=this._$scrollViewContent.get(0),t=this._$container.get(0);this._bottomBoundary=Math.max(e.clientHeight-t.clientHeight,0)},_allowedDirections:function(){var e=this.callBase();return e.vertical=e.vertical||this._pullDownEnabled,e},handleInit:function(e){this.callBase(e),this._state===Bm&&this._location===0&&(this._startClientY=mi(e.originalEvent).y,this._state=Pm)},handleMove:function(e){this.callBase(e),this._deltaY=mi(e.originalEvent).y-this._startClientY,this._state===Pm&&(this._pullDownEnabled&&this._deltaY>0?this._state=bh:this._complete()),this._state===bh&&(e.preventDefault(),this._movePullDown())},_movePullDown:function(){var e=this._getPullDownHeight(),t=Math.min(3*e,this._deltaY+this._getPullDownStartPosition()),i=180*t/e/3;this._$pullDown.css({opacity:1}).toggleClass(mU,t<e),ki(this._$pullDown,{top:t}),this._$icon.css({transform:"rotate("+i+"deg)"})},_isPullDown:function(){return this._pullDownEnabled&&this._state===bh&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()},_getPullDownHeight:function(){return Math.round(.05*At(this._$element))},_getPullDownStartPosition:function(){return-Math.round(1.5*At(this._$pullDown))},handleEnd:function(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()},handleStop:function(){this._complete()},_complete:function(){(this._state===Pm||this._state===bh)&&this._releaseState()},handleScroll:function(e){if(this.callBase(e),this._state!==Dw){var t=this.location().top,i=this._location-t;this._location=t,i>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this.reachBottomCallbacks.fire()},_stateReleased:function(){this._state!==Bm&&(this._$pullDown.removeClass(Ow),this._releaseState())},_pullDownRefreshing:function(){this._state=Dw,this._pullDownRefreshHandler()},_pullDownRefreshHandler:function(){this._refreshPullDown(),this.pullDownCallbacks.fire()},_refreshPullDown:function(){this._$pullDown.addClass(Ow),ki(this._$pullDown,{top:this._getPullDownHeight()})},pullDownEnable:function(e){this._$topPocket.toggle(e),this._pullDownEnabled=e},reachBottomEnable:function(e){this._reachBottomEnabled=e},pendingRelease:function(){this._state=vU},release:function(){var e=new we;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout((function(){this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),e.resolve()}).bind(this),800),e.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),bU=Math,kw="dx-scrollview-pull-down-loading",Lm="dx-scrollview-pull-down-ready",yU="dx-scrollview-pull-down-image",CU="dx-scrollview-pull-down-indicator",xU="dx-scrollview-pull-down-text",wU="dx-scrollview-pull-down-text-visible",zl=0,Wl=1,Fm=2,Nm=3,SU=B2.inherit({ctor:function(){this._topPocketSize=0,this._bottomPocketSize=0,this.callBase.apply(this,arguments),this._initCallbacks(),this._releaseState()},_releaseState:function(){this._state=zl,this._refreshPullDownText()},_refreshPullDownText:function(){var e=this,t=[{element:this._$pullingDownText,visibleState:zl},{element:this._$pulledDownText,visibleState:Wl},{element:this._$refreshingText,visibleState:Fm}];ve(t,function(i,r){var n=e._state===r.visibleState?"addClass":"removeClass";r.element[n](wU)})},_initCallbacks:function(){this.pullDownCallbacks=Ht(),this.releaseCallbacks=Ht(),this.reachBottomCallbacks=Ht()},_updateBounds:function(){var e=this._direction!=="horizontal";if(e){this._topPocketSize=this._$topPocket.get(0).clientHeight,this._bottomPocketSize=this._$bottomPocket.get(0).clientHeight;var t=this._$container.get(0),i=this._$content.get(0);this._bottomBoundary=Math.max(i.clientHeight-this._bottomPocketSize-t.clientHeight,0)}this.callBase()},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})},_moveContent:function(){this.callBase(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():this._state!==zl&&this._stateReleased()},_moveScrollbar:function(){this._scrollbar.moveTo(this._topPocketSize+this._location)},_isPullDown:function(){return this._pullDownEnabled&&this._location>=0},_isReachBottom:function(){var e=this._$container.get(0);return this._reachBottomEnabled&&Math.round(this._bottomBoundary-Math.ceil(e.scrollTop))<=1},_scrollComplete:function(){this._inBounds()&&this._state===Wl?this._pullDownRefreshing():this._inBounds()&&this._state===Nm?this._reachBottomLoading():this.callBase()},_reachBottomReady:function(){this._state!==Nm&&(this._state=Nm,this._minOffset=this._getMinOffset())},_getMaxOffset:function(){return-this._topPocketSize},_getMinOffset:function(){return bU.min(this.callBase(),-this._topPocketSize)},_reachBottomLoading:function(){this.reachBottomCallbacks.fire()},_pullDownReady:function(){this._state!==Wl&&(this._state=Wl,this._maxOffset=0,this._$pullDown.addClass(Lm),this._refreshPullDownText())},_stateReleased:function(){this._state!==zl&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass(kw).removeClass(Lm),this.releaseCallbacks.fire())},_pullDownRefreshing:function(){this._state!==Fm&&(this._state=Fm,this._$pullDown.addClass(kw).removeClass(Lm),this._refreshPullDownText(),this.pullDownCallbacks.fire())},_releaseHandler:function(){return this._state===zl&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=N_(this._release.bind(this)),this._releaseTask.promise},_release:function(){this._stateReleased(),this._scrollComplete()},_reachBottomEnablingHandler:function(e){this._reachBottomEnabled!==e&&(this._reachBottomEnabled=e,this._updateBounds())},_pullDownEnablingHandler:function(e){this._pullDownEnabled!==e&&(this._pullDownEnabled=e,this._considerTopPocketChange(),this._updateHandler())},_considerTopPocketChange:function(){this._location-=ct(this._$topPocket)||-this._topPocketSize,this._maxOffset=0,this._move()},_pendingReleaseHandler:function(){this._state=Wl},dispose:function(){this._releaseTask&&this._releaseTask.abort(),this.callBase()}}),EU=P2.inherit({_init:function(e){this.callBase(e),this._$pullDown=e._$pullDown,this._$topPocket=e._$topPocket,this._$bottomPocket=e._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=Ht(),this.releaseCallbacks=Ht(),this.reachBottomCallbacks=Ht()},render:function(){this._renderPullDown(),this.callBase()},_renderPullDown:function(){var e=J("<div>").addClass(yU),t=J("<div>").addClass(CU),i=new Rr(J("<div>")).$element(),r=this._$pullDownText=J("<div>").addClass(xU);this._$pullingDownText=J("<div>").text(this.option("pullingDownText")).appendTo(r),this._$pulledDownText=J("<div>").text(this.option("pulledDownText")).appendTo(r),this._$refreshingText=J("<div>").text(this.option("refreshingText")).appendTo(r),this._$pullDown.empty().append(e).append(t.append(i)).append(r)},pullDownEnable:function(e){this._eventHandler("pullDownEnabling",e)},reachBottomEnable:function(e){this._eventHandler("reachBottomEnabling",e)},_createScroller:function(e){var t=this,i=t._scrollers[e]=new SU(t._scrollerOptions(e));i.pullDownCallbacks.add(function(){t.pullDownCallbacks.fire()}),i.releaseCallbacks.add(function(){t.releaseCallbacks.fire()}),i.reachBottomCallbacks.add(function(){t.reachBottomCallbacks.fire()})},_scrollerOptions:function(e){return ce(this.callBase(e),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})},pendingRelease:function(){this._eventHandler("pendingRelease")},release:function(){return this._eventHandler("release").done(this._updateAction)},location:function(){var e=this.callBase();return e.top+=ct(this._$topPocket),e},dispose:function(){ve(this._scrollers,function(){this.dispose()}),this.callBase()}}),fo="dx-scrollview",TU=fo+"-content",IU=fo+"-top-pocket",AU=fo+"-bottom-pocket",OU=fo+"-pull-down",nb=fo+"-scrollbottom",DU=nb+"-indicator",kU=nb+"-text",RU=fo+"-loadpanel",MU={pullDown:fU,swipeDown:_U,simulated:EU},BU=!ht(),PU={finishLoading:Ee,release:Ee,refresh:Ee,scrollOffset:()=>({top:0,left:0}),_optionChanged:function(e){if(e.name!=="onUpdated")return this.callBase.apply(this,arguments)}},ab=Mr.inherit(BU?PU:{_getDefaultOptions:function(){return ce(this.callBase(),{pullingDownText:Ae.format("dxScrollView-pullingDownText"),pulledDownText:Ae.format("dxScrollView-pulledDownText"),refreshingText:Ae.format("dxScrollView-refreshingText"),reachBottomText:Ae.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var e=Ye.real();return e.platform==="android"},options:{refreshStrategy:"swipeDown"}},{device:function(){return Ei()},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])},_init:function(){this.callBase(),this._loadingIndicatorEnabled=!0},_initScrollableMarkup:function(){this.callBase(),this.$element().addClass(fo),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()},_initContent:function(){var e=J("<div>").addClass(TU);this._$content.wrapInner(e)},_initTopPocket:function(){var e=this._$topPocket=J("<div>").addClass(IU),t=this._$pullDown=J("<div>").addClass(OU);e.append(t),this._$content.prepend(e)},_initBottomPocket:function(){var e=this._$bottomPocket=J("<div>").addClass(AU),t=this._$reachBottom=J("<div>").addClass(nb),i=J("<div>").addClass(DU),r=new Rr(J("<div>")).$element(),n=this._$reachBottomText=J("<div>").addClass(kU);this._updateReachBottomText(),t.append(i.append(r)).append(n),e.append(t),this._$content.append(e)},_initLoadPanel:function(){var e=J("<div>").addClass(RU).appendTo(this.$element()),t={shading:!1,delay:400,message:this.option("refreshingText"),position:{of:this.$element()}};this._loadPanel=this._createComponent(e,Pf,t)},_updateReachBottomText:function(){this._$reachBottomText.text(this.option("reachBottomText"))},_createStrategy:function(){var e=this.option("useNative")?this.option("refreshStrategy"):"simulated",t=MU[e];this._strategy=new t(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))},_createActions:function(){this.callBase(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()},_tryRefreshPocketState:function(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))},on:function(e){var t=this.callBase.apply(this,arguments);return(e==="pullDown"||e==="reachBottom")&&this._tryRefreshPocketState(),t},_pullDownEnable:function(e){if(arguments.length===0)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(e),this._strategy.pullDownEnable(e),this._pullDownEnabled=e)},_reachBottomEnable:function(e){if(arguments.length===0)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(e),this._strategy.reachBottomEnable(e),this._reachBottomEnabled=e)},_pullDownHandler:function(){this._loadingIndicator(!1),this._pullDownLoading()},_loadingIndicator:function(e){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=e},_pullDownLoading:function(){this.startLoading(),this._pullDownAction()},_reachBottomHandler:function(){this._loadingIndicator(!1),this._reachBottomLoading()},_reachBottomLoading:function(){this.startLoading(),this._reachBottomAction()},_releaseHandler:function(){this.finishLoading(),this._loadingIndicator(!0)},_optionChanged:function(e){switch(e.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:this.callBase(e)}},content:function(){return ot(this._$content.children().eq(1))},release:function(e){return e!==void 0&&this.toggleLoading(!e),this._strategy.release()},toggleLoading:function(e){this._reachBottomEnable(e)},refresh:function(){this.hasActionSubscription("onPullDown")&&(this._strategy.pendingRelease(),this._pullDownLoading())},startLoading:function(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()},finishLoading:function(){this._loadPanel.hide(),this._unlock()},_dispose:function(){this._strategy.dispose(),this.callBase(),this._loadPanel&&this._loadPanel.$element().remove()}});Tt("dxScrollView",ab);var yh="__dx_key__";const sb=co.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{repaintChangesOnly:!1})},ctor:function(){this.callBase.apply(this,arguments),this._customizeStoreLoadOptions=e=>{var t=this._dataSource;t&&!t.isLoaded()&&(this._correctionIndex=0),this._correctionIndex&&e.storeLoadOptions&&(e.storeLoadOptions.skip+=this._correctionIndex)},this._dataSource&&this._dataSource.on("customizeStoreLoadOptions",this._customizeStoreLoadOptions)},reload:function(){this._correctionIndex=0},_init:function(){this.callBase(),this._refreshItemsCache(),this._correctionIndex=0},_findItemElementByKey:function(e){var t=J(),i=this.key();return this.itemElements().each((r,n)=>{var a=J(n),s=this._getItemData(a);if(i?pd(i,this.keyOf(s),e):this._isItemEquals(s,e))return t=a,!1}),t},_dataSourceChangedHandler:function(e,t){t!=null&&t.changes?this._modifyByChanges(t.changes):(this.callBase(e,t),this._refreshItemsCache())},_isItemEquals:function(e,t){e&&e[yh]&&(e=e.data);try{return JSON.stringify(e)===JSON.stringify(t)}catch{return e===t}},_isItemStrictEquals:function(e,t){return this._isItemEquals(e,t)},_shouldAddNewGroup:function(e,t){var i=!1;return this.option("grouped")&&(e.length||(i=!0),ve(e,(r,n)=>{n.type==="insert"&&(i=!0,ve(t,(a,s)=>{if(n.data.key!==void 0&&n.data.key===s.key)return i=!1,!1}))})),i},_partialRefresh:function(){if(this.option("repaintChangesOnly")){var e=C2(this._itemsCache,this._editStrategy.itemsGetter(),t=>t&&t[yh]!==void 0?t[yh]:this.keyOf(t),this._isItemStrictEquals.bind(this));if(e&&this._itemsCache.length&&!this._shouldAddNewGroup(e,this._itemsCache))return this._modifyByChanges(e,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1},_refreshItemsCache:function(){if(this.option("repaintChangesOnly")){var e=this._editStrategy.itemsGetter();try{this._itemsCache=ce(!0,[],e),this.key()||(this._itemsCache=this._itemsCache.map((t,i)=>({[yh]:e[i],data:t})))}catch{this._itemsCache=ce([],e)}}},_dispose:function(){this._dataSource&&this._dataSource.off("customizeStoreLoadOptions",this._customizeStoreLoadOptions),this.callBase()},_updateByChange:function(e,t,i,r){if(r)this._renderItem(i.index,i.data,null,this._findItemElementByKey(i.key));else{var n=t[Xs(e,t,i.key)];n&&S0(e,t,i.key,i.data).done(()=>{this._renderItem(t.indexOf(n),n,null,this._findItemElementByKey(i.key))})}},_insertByChange:function(e,t,i,r){Ke(r||E0(e,t,i.data,i.index)).done(()=>{var n;this._beforeItemElementInserted(i);var a=this._getItemContainer(i.data);this._renderItem((n=i.index)!==null&&n!==void 0?n:t.length,i.data,a),this._afterItemElementInserted(),this._correctionIndex++})},_getItemContainer:function(e){return this._itemContainer()},_updateSelectionAfterRemoveByChange:function(e){var t=this.option("selectedIndex");t>e?this.option("selectedIndex",t-1):t===e&&this.option("selectedItems").length===1?this.option("selectedItems",[]):this._normalizeSelectedItems()},_beforeItemElementInserted:function(e){var t=this.option("selectedIndex");e.index<=t&&this.option("selectedIndex",t+1)},_afterItemElementInserted:Ee,_removeByChange:function(e,t,i,r){var n=r?i.index:Xs(e,t,i.key),a=r?i.oldItem:t[n];if(a){var s=this._findItemElementByKey(i.key),o=this._extendActionArgs(s);this._waitDeletingPrepare(s).done(()=>{r?(this._updateIndicesAfterIndex(n-1),this._afterItemElementDeleted(s,o),this._updateSelectionAfterRemoveByChange(n)):(this._deleteItemElementByIndex(n),this._afterItemElementDeleted(s,o))}),this._correctionIndex--}},_modifyByChanges:function(e,t){var i=this._editStrategy.itemsGetter(),r={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},n=this._dataSource,a=n&&n.paginate(),s=n&&n.group();(a||s)&&(e=e.filter(o=>o.type!=="insert"||o.index!==void 0)),e.forEach(o=>this["_".concat(o.type,"ByChange")](r,i,o,t)),this._renderedItemsCount=i.length,this._refreshItemsCache(),this._fireContentReadyAction()},_appendItemToContainer:function(e,t,i){var r=e.children(this._itemSelector()).get(i);Re.insertElement(e.get(0),t.get(0),r)},_optionChanged:function(e){switch(e.name){case"items":var t=this._partialRefresh(e.value);t||this.callBase(e);break;case"dataSource":(!this.option("repaintChangesOnly")||!e.value)&&this.option("items",[]),this.callBase(e);break;case"repaintChangesOnly":break;default:this.callBase(e)}}});var LU=e=>Array.isArray(e)&&e.every(t=>{var i=Object.keys(t).length===2,r="key"in t&&"items"in t;return i&&r&&Array.isArray(t.items)});const JO={_getSpecificDataSourceOption:function(){var e=this.option("dataSource"),t=!1,i={};return this._getGroupedOption()&&LU(e)&&(i=e.reduce((r,n)=>{var a=n.items.map(s=>(at(s)||(s={text:s},t=!0),"key"in s||(s.key=n.key),s));return r.concat(a)},[]),e={store:{type:"array",data:i},group:{selector:"key",keepInitialKeyOrder:!0}},t&&(e.searchExpr="text")),e}};function QO(e){return e?Number(e.replace("px","")):0}function FU(e){var t,i;return e&&ht()?(t=(i=ft()).getComputedStyle)===null||t===void 0?void 0:t.call(i,e):null}function NU(e,t){var i=FU(e);return i?QO(i["margin".concat(Nu(t))]):0}var VU="dx-list",cc="dx-list-item",HU="."+cc,$U="dx-list-item-icon-container",zU="dx-list-item-icon",Mo="dx-list-group",Vm="dx-list-group-header",Ch="dx-list-group-body",WU="dx-list-collapsible-groups",Rw="dx-list-group-collapsed",jU="dx-list-group-header-indicator",UU="dx-has-next",GU="dx-list-next-button",Mw="dx-wrap-item-text",KU=".dx-list-select-all",qU="dxListItemData",Bw=70,XU=Yt("items"),ob=sb.inherit({_activeStateUnit:[HU,KU].join(","),_supportedKeys:function(){var e=this,t=function(r){var n=i(r),a=n.is(e.option("focusedElement"));a&&(function(s,o){var l=s.position().top;o==="prev"&&(l=s.position().top-ct(e.$element())+At(s)),e.scrollTo(l)}(n,r),n=i(r)),e.option("focusedElement",ot(n)),e.scrollToItem(n)};function i(r){var n=e.scrollTop(),a=ct(e.$element()),s=J(e.option("focusedElement")),o=!0;if(!s.length)return J();for(;o;){var l=s[r]();if(!l.length)break;var u=l.position().top+At(l)/2;o=u<a+n&&u>n,o&&(s=l)}return s}return ce(this.callBase(),{leftArrow:Ee,rightArrow:Ee,pageUp:function(){return t("prev"),!1},pageDown:function(){return t("next"),!1}})},_getDefaultOptions:function(){return ce(this.callBase(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:Ae.format("dxList-pullingDownText"),pulledDownText:Ae.format("dxList-pulledDownText"),refreshingText:Ae.format("dxList-refreshingText"),pageLoadingText:Ae.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:Ae.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},_listAttributes:{role:"listbox"},useInkRipple:!1,wrapItemText:!1,_swipeEnabled:!0,showChevronExpr:function(e){return e?e.showChevron:void 0},badgeExpr:function(e){return e?e.badge:void 0}})},_defaultOptionsRules:function(){var e=gn();return this.callBase().concat(L2(),[{device:function(){return!Us},options:{useNativeScrolling:!1}},{device:function(t){return!Us&&!Ye.isSimulator()&&Ye.real().deviceType==="desktop"&&t.platform==="generic"},options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Ei(e)},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:"",useInkRipple:!0}}])},_visibilityChanged:function(e){e&&this._updateLoadingState(!0)},_itemClass:function(){return cc},_itemDataKey:function(){return qU},_itemContainer:function(){return this._$container},_saveSelectionChangeEvent:function(e){this._selectionChangeEventInstance=e},_getSelectionChangeEvent:function(){return this._selectionChangeEventInstance},_refreshItemElements:function(){this.option("grouped")?this._itemElementsCache=this._itemContainer().children("."+Mo).children("."+Ch).children(this._itemSelector()):this._itemElementsCache=this._itemContainer().children(this._itemSelector())},_modifyByChanges:function(){this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},reorderItem:function(e,t){var i=this.callBase(e,t);return i.done(function(){this._refreshItemElements()})},deleteItem:function(e){var t=this.callBase(e);return t.done(function(){this._refreshItemElements()})},_itemElements:function(){return this._itemElementsCache},_itemSelectHandler:function(e){if(!(this.option("selectionMode")==="single"&&this.isItemSelected(e.currentTarget)))return this.callBase(e)},_allowDynamicItemsAppend:function(){return!0},_resetDataSourcePageIndex:function(){var e=this.getDataSource();e&&e.pageIndex()!==0&&(e.pageIndex(0),e.load())},_init:function(){this.callBase(),this._resetDataSourcePageIndex(),this._$container=this.$element(),this._initScrollView(),this._feedbackShowTimeout=Bw,this._createGroupRenderAction()},_scrollBottomMode:function(){return this.option("pageLoadMode")==="scrollBottom"},_nextButtonMode:function(){return this.option("pageLoadMode")==="nextButton"},_dataSourceOptions:function(){var e=this._scrollBottomMode(),t=this._nextButtonMode();return ce(this.callBase(),{paginate:hi(e||t,!0)})},_getGroupedOption:function(){return this.option("grouped")},_getGroupContainerByIndex:function(e){return this._itemContainer().find(".".concat(Mo)).eq(e).find(".".concat(Ch))},_dataSourceFromUrlLoadMode:function(){return"raw"},_initScrollView:function(){var e=this.option("scrollingEnabled"),t=e&&this.option("pullRefreshEnabled"),i=e&&this._scrollBottomMode()&&!!this._dataSource;this._scrollView=this._createComponent(this.$element(),YU(),{height:this.option("height"),width:this.option("width"),disabled:this.option("disabled")||!e,onScroll:this._scrollHandler.bind(this),onPullDown:t?this._pullDownHandler.bind(this):null,onReachBottom:i?this._scrollBottomHandler.bind(this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=J(this._scrollView.content()),this.option("wrapItemText")&&this._$container.addClass(Mw),this._createScrollViewActions()},_createScrollViewActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")},_scrollHandler:function(e){this._scrollAction&&this._scrollAction(e)},_initTemplates:function(){this._templateManager.addDefaultTemplates({group:new ho(function(e,t){Ct(t)?t.key&&e.text(t.key):e.text(String(t))},["key"],this.option("integrationOptions.watchMethod"))}),this.callBase()},_prepareDefaultItemTemplate:function(e,t){if(this.callBase(e,t),e.icon){var i=Ys(e.icon).addClass(zU),r=J("<div>").addClass($U);r.append(i),t.prepend(r)}},_getBindableFields:function(){return["text","html","icon"]},_updateLoadingState:function(e){var t=this._scrollBottomMode()&&e&&!this._isDataSourceLoading()&&!this._isLastPage();this._shouldContinueLoading(t)?this._infiniteDataLoading():(this._scrollView.release(!t&&!this._isDataSourceLoading()),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1))},_shouldRenderNextButton:function(){return this._nextButtonMode()&&this._dataSource&&this._dataSource.isLoaded()},_isDataSourceFirstLoadCompleted:function(e){return oe(e)&&(this._isFirstLoadCompleted=e),this._isFirstLoadCompleted},_dataSourceLoadingChangedHandler:function(e){this._loadIndicationSuppressed()||(e&&this.option("indicateLoading")?this._showLoadingIndicatorTimer=setTimeout((function(){var t=!this._itemElements().length,i=!t||this._isDataSourceFirstLoadCompleted();if(i){var r;(r=this._scrollView)===null||r===void 0||r.startLoading()}}).bind(this)):(clearTimeout(this._showLoadingIndicatorTimer),this._scrollView&&this._scrollView.finishLoading()),e||this._isDataSourceFirstLoadCompleted(!1))},_dataSourceChangedHandler:function(){!this._shouldAppendItems()&&ht()&&this._scrollView&&this._scrollView.scrollTo(0),this.callBase.apply(this,arguments),this._isDataSourceFirstLoadCompleted(!0)},_refreshContent:function(){this._prepareContent(),this._fireContentReadyAction()},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_loadIndicationSuppressed:function(e){if(!arguments.length)return this._isLoadIndicationSuppressed;this._isLoadIndicationSuppressed=e},_scrollViewIsFull:function(){var e=this._scrollView;return!e||ct(e.content())>ct(e.container())},_pullDownHandler:function(e){this._pullRefreshAction(e),this._dataSource&&!this._isDataSourceLoading()?(this._clearSelectedItems(),this._dataSource.pageIndex(0),this._dataSource.reload()):this._updateLoadingState()},_shouldContinueLoading:function(e){var t,i,r=ct(this._scrollView.content())-ct(this._scrollView.container())<((t=(i=this._scrollView.scrollOffset())===null||i===void 0?void 0:i.top)!==null&&t!==void 0?t:0);return e&&(!this._scrollViewIsFull()||r)},_infiniteDataLoading:function(){var e=this.$element().is(":visible");e&&(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(()=>{this._loadNextPage()}))},_scrollBottomHandler:function(e){this._pageLoadingAction(e),!this._isDataSourceLoading()&&!this._isLastPage()?this._loadNextPage():this._updateLoadingState()},_renderItems:function(e){this.option("grouped")?(ve(e,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),Ei()&&this.attachGroupHeaderInkRippleEvents()):this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},_attachGroupCollapseEvent:function(){var e=Be(zt,this.NAME),t="."+Vm,i=this.$element(),r=this.option("collapsibleGroups");i.toggleClass(WU,r),he.off(i,e,t),r&&he.on(i,e,t,(function(n){this._createAction((function(a){var s=J(a.event.currentTarget).parent();this._collapseGroupHandler(s),this.option("focusStateEnabled")&&this.option("focusedElement",ot(s.find("."+cc).eq(0)))}).bind(this),{validatingTargetName:"element"})({event:n})}).bind(this))},_collapseGroupHandler:function(e,t){var i=new we;if(e.hasClass(Rw)===t)return i.resolve();var r=e.children("."+Ch),n=At(r),a=0;return n===0&&(Lr(r,"auto"),a=At(r)),e.toggleClass(Rw,t),pi.animate(r,{type:"custom",from:{height:n},to:{height:a},duration:200,complete:(function(){this.updateDimensions(),this._updateLoadingState(),i.resolve()}).bind(this)}),i.promise()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())},_initMarkup:function(){this._itemElementsCache=J(),this.$element().addClass(VU),this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.setAria("role",this.option("_listAttributes").role)},_renderInkRipple:function(){this._inkRipple=V0()},_toggleActiveState:function(e,t,i){this.callBase.apply(this,arguments);var r=this;if(this._inkRipple){var n={element:e,event:i};t?Ei()?this._inkRippleTimer=setTimeout(function(){r._inkRipple.showWave(n)},Bw/2):r._inkRipple.showWave(n):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(n))}},_postprocessRenderItem:function(e){this._refreshItemElements(),this.callBase.apply(this,arguments),this.option("_swipeEnabled")&&this._attachSwipeEvent(J(e.itemElement))},_attachSwipeEvent:function(e){var t=Be(Pd,this.NAME);he.on(e,t,this._itemSwipeEndHandler.bind(this))},_itemSwipeEndHandler:function(e){this._itemDXEventHandler(e,"onItemSwipe",{direction:e.offset<0?"left":"right"})},_nextButtonHandler:function(e){this._pageLoadingAction(e);var t=this._dataSource;t&&!t.isLoading()&&(this._scrollView.toggleLoading(!0),this._$nextButton.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())},_renderGroup:function(e,t){var i=J("<div>").addClass(Mo).appendTo(this._itemContainer()),r=J("<div>").addClass(Vm).appendTo(i),n=this.option("groupTemplate"),a=this._getTemplate(t.template||n,t,e,r),s={index:e,itemData:t,container:ot(r)};this._createItemByTemplate(a,s),Ei()&&J("<div>").addClass(jU).prependTo(r),this._renderingGroupIndex=e;var o=J("<div>").addClass(Ch).appendTo(i);ve(XU(t)||[],(function(l,u){this._renderItem({group:e,item:l},u,o)}).bind(this)),this._groupRenderAction({groupElement:ot(i),groupIndex:e,groupData:t})},downInkRippleHandler:function(e){this._toggleActiveState(J(e.currentTarget),!0,e)},upInkRippleHandler:function(e){this._toggleActiveState(J(e.currentTarget),!1)},attachGroupHeaderInkRippleEvents:function(){var e="."+Vm,t=this.$element();this._downInkRippleHandler=this._downInkRippleHandler||this.downInkRippleHandler.bind(this),this._upInkRippleHandler=this._upInkRippleHandler||this.upInkRippleHandler.bind(this);var i=[t,"dxpointerdown",e,this._downInkRippleHandler],r=[t,"dxpointerup dxpointerout",e,this._upInkRippleHandler];he.off(...i),he.on(...i),he.off(...r),he.on(...r)},_createGroupRenderAction:function(){this._groupRenderAction=this._createActionByOption("onGroupRendered")},_clean:function(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),delete this._inkRipple,this.callBase.apply(this,arguments)},_dispose:function(){this._isDataSourceFirstLoadCompleted(!1),clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),this.callBase()},_toggleDisabledState:function(e){this.callBase(e),this._scrollView.option("disabled",e||!this.option("scrollingEnabled"))},_toggleNextButton:function(e){var t=this._dataSource,i=this._getNextButton();this.$element().toggleClass(UU,e),e&&t&&t.isLoaded()&&i.appendTo(this._itemContainer()),e||i.detach()},_getNextButton:function(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton},_createNextButton:function(){var e=J("<div>").addClass(GU),t=J("<div>").appendTo(e);return this._createComponent(t,Ji,{text:this.option("nextButtonText"),onClick:this._nextButtonHandler.bind(this),type:Ei()?"default":void 0,integrationOptions:{}}),e},_moveFocus:function(){this.callBase.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))},_refresh:function(){if(!ht())this.callBase();else{var e=this._scrollView.scrollTop();this.callBase(),e&&this._scrollView.scrollTo(e)}},_optionChanged:function(e){switch(e.name){case"pageLoadMode":this._toggleNextButton(e.value),this._initScrollView();break;case"dataSource":this.callBase(e),this._initScrollView(),this._isDataSourceFirstLoadCompleted(!1);break;case"items":this.callBase(e),this._isDataSourceFirstLoadCompleted(!1);break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"useNativeScrolling":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState();break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions();break;case"grouped":case"collapsibleGroups":case"groupTemplate":this._invalidate();break;case"wrapItemText":this._$container.toggleClass(Mw,e.value);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":this.callBase(e),this._scrollView.option(e.name,e.value),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":this.callBase(e),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),this.callBase(e);break;case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"_swipeEnabled":case"_listAttributes":break;default:this.callBase(e)}},_extendActionArgs:function(e){if(!this.option("grouped"))return this.callBase(e);var t=e.closest("."+Mo),i=t.find("."+cc);return ce(this.callBase(e),{itemIndex:{group:t.index(),item:i.index(e)}})},expandGroup:function(e){var t=new we,i=this._itemContainer().find("."+Mo).eq(e);return this._collapseGroupHandler(i,!1).done((function(){t.resolveWith(this)}).bind(this)),t.promise()},collapseGroup:function(e){var t=new we,i=this._itemContainer().find("."+Mo).eq(e);return this._collapseGroupHandler(i,!0).done((function(){t.resolveWith(this)}).bind(this)),t},updateDimensions:function(){var e=this,t=new we;return e._scrollView?e._scrollView.update().done(function(){!e._scrollViewIsFull()&&e._updateLoadingState(!0),t.resolveWith(e)}):t.resolveWith(e),t.promise()},reload:function(){this.callBase(),this.scrollTo(0),this._pullDownHandler()},repaint:function(){this.scrollTo(0),this.callBase()},scrollTop:function(){return this._scrollView.scrollOffset().top},clientHeight:function(){return this._scrollView.clientHeight()},scrollHeight:function(){return this._scrollView.scrollHeight()},scrollBy:function(e){this._scrollView.scrollBy(e)},scrollTo:function(e){this._scrollView.scrollTo(e)},scrollToItem:function(e){var t=this._editStrategy.getItemElement(e),i=t==null?void 0:t.get(0);this._scrollView.scrollToElement(i,{bottom:NU(i,"bottom")})},_dimensionChanged:function(){this.updateDimensions()}}).include(JO);ob.ItemClass=oU;function YU(){return ab}var Hm="dx-toolbar-menu-action",ZU="dx-toolbar-hidden-button",JU="dx-toolbar-hidden-button-group",Pw="dx-toolbar-menu-section",Lw="dx-toolbar-menu-last-section",eD=ob.inherit({_activeStateUnit:"."+Hm,_initMarkup:function(){this._renderSections(),this.callBase()},_getSections:function(){return this._itemContainer().children()},_itemElements:function(){return this._getSections().children(this._itemSelector())},_renderSections:function(){var e=this,t=this._itemContainer();ve(["before","center","after","menu"],function(){var i="_$"+this+"Section",r=e[i];r||(e[i]=r=J("<div>").addClass(Pw)),r.appendTo(t)})},_renderItems:function(){this.callBase.apply(this,arguments),this._updateSections()},_updateSections:function(){var e=this.$element().find("."+Pw);e.removeClass(Lw),e.not(":empty").eq(-1).addClass(Lw)},_renderItem:function(e,t,i,r){var n=t.location||"menu",a=this["_$"+n+"Section"],s=this.callBase(e,t,a,r);return this._getItemTemplateName({itemData:t})&&s.addClass("dx-toolbar-menu-custom"),(n==="menu"||t.widget==="dxButton"||t.widget==="dxButtonGroup"||t.isAction)&&s.addClass(Hm),t.widget==="dxButton"&&s.addClass(ZU),t.widget==="dxButtonGroup"&&s.addClass(JU),s.addClass(t.cssClass),s},_getItemTemplateName:function(e){var t=this.callBase(e),i=e.itemData,r=i&&i.menuItemTemplate;return r||t},_itemClickHandler:function(e,t,i){J(e.target).closest("."+Hm).length&&this.callBase(e,t,i)},_clean:function(){this._getSections().empty(),this.callBase()}});Tt("dxToolbarMenu",eD);var xh=5;class QU{constructor(t){this.init(t)}init(t){var{dragEnabled:i,handle:r,draggableElement:n,positionController:a}=t;this._positionController=a,this._draggableElement=n,this._handle=r,this._dragEnabled=i,this.unsubscribe(),i&&this.subscribe()}moveDown(t){this._moveTo(xh,0,t)}moveUp(t){this._moveTo(-xh,0,t)}moveLeft(t){this._moveTo(0,-xh,t)}moveRight(t){this._moveTo(0,xh,t)}subscribe(){var t=this._getEventNames();he.on(this._handle,t.startEventName,i=>{this._dragStartHandler(i)}),he.on(this._handle,t.updateEventName,i=>{this._dragUpdateHandler(i)}),he.on(this._handle,t.endEventName,i=>{this._dragEndHandler(i)})}unsubscribe(){var t=this._getEventNames();he.off(this._handle,t.startEventName),he.off(this._handle,t.updateEventName),he.off(this._handle,t.endEventName)}_getEventNames(){var t=Be(Ks,"overlayDrag"),i=Be(Za,"overlayDrag"),r=Be(qs,"overlayDrag");return{startEventName:t,updateEventName:i,endEventName:r}}_dragStartHandler(t){var i=this._getAllowedOffsets();this._prevOffset={x:0,y:0},t.targetElements=[],t.maxTopOffset=i.top,t.maxBottomOffset=i.bottom,t.maxLeftOffset=i.left,t.maxRightOffset=i.right}_dragUpdateHandler(t){var i={top:t.offset.y-this._prevOffset.y,left:t.offset.x-this._prevOffset.x};this._moveByOffset(i),this._prevOffset=t.offset}_dragEndHandler(t){this._positionController.dragHandled(),this._positionController.detectVisualPositionChange(t)}_moveTo(t,i,r){if(this._dragEnabled){r.preventDefault(),r.stopPropagation();var n=this._fitOffsetIntoAllowedRange(t,i);this._moveByOffset(n),this._dragEndHandler(r)}}_fitOffsetIntoAllowedRange(t,i){var r=this._getAllowedOffsets();return{top:rr(t,-r.top,r.bottom),left:rr(i,-r.left,r.right)}}_getContainerDimensions(){var t=Re.getDocument(),i=this._positionController.$dragResizeContainer.get(0),r=Pt(i),n=At(i);return Si(i)&&(n=Math.max(t.body.clientHeight,n),r=Math.max(t.body.clientWidth,r)),{width:r,height:n}}_getContainerPosition(){var t=this._positionController.$dragResizeContainer.get(0);return Si(t)?{top:0,left:0}:vv(t)}_getElementPosition(){return vv(this._draggableElement)}_getInnerDelta(){var t=this._getContainerDimensions(),i=this._getElementDimensions();return{x:t.width-i.width,y:t.height-i.height}}_getOuterDelta(){var{width:t,height:i}=this._getElementDimensions(),r=this._positionController.outsideDragFactor;return{x:t*r,y:i*r}}_getFullDelta(){var t=this._getInnerDelta(),i=this._getOuterDelta();return{x:t.x+i.x,y:t.y+i.y}}_getElementDimensions(){return{width:this._draggableElement.offsetWidth,height:this._draggableElement.offsetHeight}}_getAllowedOffsets(){var t=this._getFullDelta(),i=t.y>=0&&t.x>=0;if(!i)return{top:0,bottom:0,left:0,right:0};var r=this._getElementPosition(),n=this._getContainerPosition(),a=this._getOuterDelta();return{top:r.top-n.top+a.y,bottom:-r.top+n.top+t.y,left:r.left-n.left+a.x,right:-r.left+n.left+t.x}}_moveByOffset(t){var i=Ur(this._draggableElement),r={left:i.left+t.left,top:i.top+t.top};ki(this._draggableElement,r)}}var Yf="dxResizable",eG="dx-resizable",tG="dx-resizable-resizing",wh="dx-resizable-handle",iG="dx-resizable-handle-top",rG="dx-resizable-handle-bottom",nG="dx-resizable-handle-left",aG="dx-resizable-handle-right",Sh="dx-resizable-handle-corner",sG=Be(Ks,Yf),oG=Be(Za,Yf),lG=Be(qs,Yf),uG={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},tD=Nn.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{handles:"all",step:"1",stepPrecision:"simple",area:void 0,minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,onResizeStart:null,onResize:null,onResizeEnd:null,roundStepValue:!0,keepAspectRatio:!0})},_init:function(){this.callBase(),this.$element().addClass(eG)},_initMarkup:function(){this.callBase(),this._renderHandles()},_render:function(){this.callBase(),this._renderActions()},_renderActions:function(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")},_renderHandles:function(){this._handles=[];var e=this.option("handles");if(!(e==="none"||!e)){var t=e==="all"?["top","bottom","left","right"]:e.split(" "),i={};ve(t,(r,n)=>{i[n]=!0,this._renderHandle(n)}),i.bottom&&i.right&&this._renderHandle("corner-bottom-right"),i.bottom&&i.left&&this._renderHandle("corner-bottom-left"),i.top&&i.right&&this._renderHandle("corner-top-right"),i.top&&i.left&&this._renderHandle("corner-top-left"),this._attachEventHandlers()}},_renderHandle:function(e){var t=J("<div>").addClass(wh).addClass(wh+"-"+e).appendTo(this.$element());this._handles.push(t)},_attachEventHandlers:function(){if(!this.option("disabled")){var e={};e[sG]=this._dragStartHandler.bind(this),e[oG]=this._dragHandler.bind(this),e[lG]=this._dragEndHandler.bind(this),this._handles.forEach(t=>{he.on(t,e,{direction:"both",immediate:!0})})}},_detachEventHandlers:function(){this._handles.forEach(e=>{he.off(e)})},_toggleEventHandlers:function(e){e?this._attachEventHandlers():this._detachEventHandlers()},_getElementSize:function(){var e=this.$element();return e.css("boxSizing")==="border-box"?{width:Pt(e),height:At(e)}:{width:ut(e),height:ct(e)}},_dragStartHandler:function(e){var t=this.$element();if(t.is(".dx-state-disabled, .dx-state-disabled *")){e.cancel=!0;return}this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(e),this._elementLocation=Ur(t),this._elementSize=this._getElementSize(),this._renderDragOffsets(e),this._resizeStartAction({event:e,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),e.targetElements=null},_toggleResizingClass:function(e){this.$element().toggleClass(tG,e)},_renderDragOffsets:function(e){var t=this._getArea();if(t){var i=J(e.target).closest("."+wh),r=Pt(i),n=At(i),a=i.offset(),s=t.offset,o=this._getAreaScrollOffset();e.maxLeftOffset=this._leftMaxOffset=a.left-s.left-o.scrollX,e.maxRightOffset=this._rightMaxOffset=s.left+t.width-a.left-r+o.scrollX,e.maxTopOffset=this._topMaxOffset=a.top-s.top-o.scrollY,e.maxBottomOffset=this._bottomMaxOffset=s.top+t.height-a.top-n+o.scrollY}},_getBorderWidth:function(e,t){if(Si(e.get(0)))return 0;var i=e.css(uG[t]);return parseInt(i)||0},_proportionate:function(e,t){var i=this._elementSize,r=e==="x"?i.width/i.height:i.height/i.width;return t*r},_getProportionalDelta:function(e){var{x:t,y:i}=e,r=this._proportionate("y",t);if(r>=i)return{x:t,y:r};var n=this._proportionate("x",i);return n>=t?{x:n,y:i}:{x:0,y:0}},_getDirectionName:function(e){var t=this._movingSides;return e==="x"?t.left?"left":"right":t.top?"top":"bottom"},_fitIntoArea:function(e,t){var i,r=this._getDirectionName(e);return Math.min(t,(i=this["_".concat(r,"MaxOffset")])!==null&&i!==void 0?i:1/0)},_fitDeltaProportionally:function(e){var t=Ne({},e),i=this._elementSize,{minWidth:r,minHeight:n,maxWidth:a,maxHeight:s}=this.option(),o=()=>i.width+t.x,l=()=>i.height+t.y,u=p=>t[p]===this._fitIntoArea(p,t[p]),d=()=>na(o(),r,a)&&u("x"),c=()=>na(l(),n,s)&&u("y");if(!d()){var h=this._fitIntoArea("x",rr(o(),r,a)-i.width);t={x:h,y:this._proportionate("y",h)}}if(!c()){var f=this._fitIntoArea("y",rr(l(),n,s)-i.height);t={x:this._proportionate("x",f),y:f}}return d()&&c()?t:{x:0,y:0}},_fitDelta:function(e){var{x:t,y:i}=e,r=this._elementSize,{minWidth:n,minHeight:a,maxWidth:s,maxHeight:o}=this.option();return{x:rr(r.width+t,n,s)-r.width,y:rr(r.height+i,a,o)-r.height}},_getDeltaByOffset:function(e){var t=this._movingSides,i=this._isCornerHandler(t)&&this.option("keepAspectRatio"),r={x:e.x*(t.left?-1:1),y:e.y*(t.top?-1:1)};if(i){var n=this._getProportionalDelta(r),a=this._fitDeltaProportionally(n);r=a}else{var s=this._fitDelta(r),o=this._roundByStep(s);r=o}return r},_updatePosition:function(e,t){var{width:i,height:r}=t,n=this._elementLocation,a=this._movingSides,s=this.$element(),o=this._getElementSize(),l=e.y*(a.top?-1:1)-((o.height||r)-r),u=e.x*(a.left?-1:1)-((o.width||i)-i);ki(s,{top:n.top+(a.top?l:0),left:n.left+(a.left?u:0)})},_dragHandler:function(e){var t=this._getOffset(e),i=this._getDeltaByOffset(t),r=this._updateDimensions(i);this._updatePosition(i,r),this._triggerResizeAction(e,r)},_updateDimensions:function(e){var t=u=>u.substring(u.length-2)==="px",i=this.option("stepPrecision")==="strict",r=this._elementSize,n=r.width+e.x,a=r.height+e.y,s=this.$element().get(0).style,o=e.x||i||t(s.width),l=e.y||i||t(s.height);return o&&this.option({width:n}),l&&this.option({height:a}),{width:o?n:r.width,height:l?a:r.height}},_triggerResizeAction:function(e,t){var{width:i,height:r}=t;this._resizeAction({event:e,width:this.option("width")||i,height:this.option("height")||r,handles:this._movingSides}),An(this.$element())},_isCornerHandler:e=>Object.values(e).reduce((t,i)=>t^i,0)===0,_getOffset:function(e){var t=e.offset,i=this._movingSides;return!i.left&&!i.right&&(t.x=0),!i.top&&!i.bottom&&(t.y=0),t},_roundByStep:function(e){return this.option("stepPrecision")==="strict"?this._roundStrict(e):this._roundNotStrict(e)},_getSteps:function(){return V_(this.option("step"),!this.option("roundStepValue"))},_roundNotStrict:function(e){var t=this._getSteps();return{x:e.x-e.x%t.h,y:e.y-e.y%t.v}},_roundStrict:function(e){var t=this._movingSides,i={x:e.x*(t.left?-1:1),y:e.y*(t.top?-1:1)},r=this._getSteps(),n=this._elementLocation,a=this._elementSize,s=t.left?n.left:n.left+a.width,o=t.top?n.top:n.top+a.height,l=(s+i.x)%r.h,u=(o+i.y)%r.v,d=Math.sign||(v=>(v=+v,v===0||isNaN(v)?v:v>0?1:-1)),c=(v,b)=>(1+.2*d(b))%1*v,h=(v,b)=>Math.abs(v)<.2*b,f=i.x-l,p=i.y-u;l>c(r.h,i.x)&&(f+=r.h),u>c(r.v,i.y)&&(p+=r.v);var g=(t.left||t.right)&&!h(i.x,r.h)?f:0,m=(t.top||t.bottom)&&!h(i.y,r.v)?p:0;return{x:g*(t.left?-1:1),y:m*(t.top?-1:1)}},_getMovingSides:function(e){var t=J(e.target),i=t.hasClass(Sh+"-top-left"),r=t.hasClass(Sh+"-top-right"),n=t.hasClass(Sh+"-bottom-left"),a=t.hasClass(Sh+"-bottom-right");return{top:t.hasClass(iG)||i||r,left:t.hasClass(nG)||i||n,bottom:t.hasClass(rG)||n||a,right:t.hasClass(aG)||r||a}},_getArea:function(){var e=this.option("area");return We(e)&&(e=e.call(this)),Ct(e)?this._getAreaFromObject(e):this._getAreaFromElement(e)},_getAreaScrollOffset:function(){var e=this.option("area"),t=!We(e)&&!Ct(e),i={scrollY:0,scrollX:0};if(t){var r=J(e)[0];Si(r)&&(i.scrollX=r.pageXOffset,i.scrollY=r.pageYOffset)}return i},_getAreaFromObject:function(e){var t={width:e.right-e.left,height:e.bottom-e.top,offset:{left:e.left,top:e.top}};return this._correctAreaGeometry(t),t},_getAreaFromElement:function(e){var t=J(e),i;return t.length&&(i={width:gv(t),height:Oc(t),offset:ce({top:0,left:0},Si(t[0])?{}:t.offset())},this._correctAreaGeometry(i,t)),i},_correctAreaGeometry:function(e,t){var i=t?this._getBorderWidth(t,"left"):0,r=t?this._getBorderWidth(t,"top"):0;e.offset.left+=i+this._getBorderWidth(this.$element(),"left"),e.offset.top+=r+this._getBorderWidth(this.$element(),"top"),e.width-=Pt(this.$element())-gv(this.$element()),e.height-=At(this.$element())-Oc(this.$element())},_dragEndHandler:function(e){var t=this.$element();this._resizeEndAction({event:e,width:Pt(t),height:At(t),handles:this._movingSides}),this._toggleResizingClass(!1)},_renderWidth:function(e){this.option("width",rr(e,this.option("minWidth"),this.option("maxWidth")))},_renderHeight:function(e){this.option("height",rr(e,this.option("minHeight"),this.option("maxHeight")))},_optionChanged:function(e){switch(e.name){case"disabled":this._toggleEventHandlers(!e.value),this.callBase(e);break;case"handles":this._invalidate();break;case"minWidth":case"maxWidth":ht()&&this._renderWidth(Pt(this.$element()));break;case"minHeight":case"maxHeight":ht()&&this._renderHeight(At(this.$element()));break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":case"keepAspectRatio":break;default:this.callBase(e)}},_clean:function(){this.$element().find("."+wh).remove()},_useTemplates:function(){return!1}});Tt(Yf,tD);var dG=co.inherit({_initMarkup(){this._deferredItems=[],this.callBase()},_renderItemContent(e){var t=new we,i=new we;this._deferredItems[e.index]=i;var r=this.callBase.call(this,e);return i.done(()=>{t.resolve(r)}),t.promise()},_createItemByTemplate(e,t){return e.render({model:t.itemData,container:t.container,index:t.index,onRendered:()=>{this._deferredItems[t.index].resolve()}})},_postProcessRenderItems:Ee,_renderItemsAsync(){var e=new we;return Ke.apply(this,this._deferredItems).done(()=>{this._postProcessRenderItems(),e.resolve()}),e.promise()},_clean(){this.callBase(),this._deferredItems=[]}}),iD="dx-toolbar",$m="dx-toolbar-before",hG="dx-toolbar-center",Fw="dx-toolbar-after",cG="dx-toolbar-mini",fG="dx-toolbar-item",rD="dx-toolbar-label",pG="dx-toolbar-button",mG="dx-toolbar-items-container",gG="dx-toolbar-group",Nw="dx-toolbar-compact",Eh="."+rD,Vw="dx-toolbar-multiline",Hw="text",vG="default",_G="contained",bG="dxToolbarItemDataKey",nD=dG.inherit({compactMode:!1,ctor:function(e,t){this._userOptions=t||{},this.callBase(e,t),"height"in this._userOptions&&qt.log("W0001",this.NAME,"height","20.1","Functionality associated with this option is not intended for the Toolbar widget.")},_getSynchronizableOptionsForCreateComponent:function(){return this.callBase().filter(e=>e!=="disabled")},_initTemplates:function(){this.callBase();var e=new ho((function(t,i,r){Ct(i)?(i.text&&t.text(i.text).wrapInner("<div>"),i.html&&t.html(i.html),i.widget==="dxDropDownButton"&&(i.options=i.options||{},oe(i.options.stylingMode)||(i.options.stylingMode=this.option("useFlatButtons")?Hw:_G)),i.widget==="dxButton"&&(this.option("useFlatButtons")&&(i.options=i.options||{},i.options.stylingMode=i.options.stylingMode||Hw),this.option("useDefaultButtons")&&(i.options=i.options||{},i.options.type=i.options.type||vG))):t.text(String(i)),this._getTemplate("dx-polymorph-widget").render({container:t,model:r,parent:this})}).bind(this),["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:e,menuItem:e})},_getDefaultOptions:function(){return ce(this.callBase(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1,multiline:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ei()},options:{useFlatButtons:!0}}])},_itemContainer:function(){return this._$toolbarItemsContainer.find(["."+$m,"."+hG,"."+Fw].join(","))},_itemClass:function(){return fG},_itemDataKey:function(){return bG},_buttonClass:function(){return pG},_dimensionChanged:function(){this._arrangeItems(),this._applyCompactMode()},_initMarkup:function(){this._renderToolbar(),this._renderSections(),this.callBase(),this.setAria("role","toolbar")},_waitParentAnimationFinished:function(){var e=this.$element();return new Promise(t=>{var i=()=>{clearTimeout(this._waitParentAnimationTimeout),this._waitParentAnimationTimeout=setTimeout(()=>(()=>{var r=!0;return e.parents().each((n,a)=>{if(pi.isAnimating(J(a)))return r=!1,!1}),r&&t(),r})()||i(),15)};i()})},_render:function(){this.callBase(),this._renderItemsAsync(),Ei()&&Promise.all([this._waitParentAnimationFinished(),this._checkWebFontForLabelsLoaded()]).then(this._dimensionChanged.bind(this))},_postProcessRenderItems:function(){this._arrangeItems()},_renderToolbar:function(){this.$element().addClass(iD).toggleClass(Vw,this.option("multiline")),this._$toolbarItemsContainer=J("<div>").addClass(mG).appendTo(this.$element())},_renderSections:function(){var e=this._$toolbarItemsContainer,t=this;ve(["before","center","after"],function(){var i="dx-toolbar-"+this,r=e.find("."+i);r.length||(t["_$"+this+"Section"]=r=J("<div>").addClass(i).appendTo(e))})},_checkWebFontForLabelsLoaded:function(){var e=this.$element().find(Eh),t=[];return e.each((i,r)=>{var n=J(r).text(),a=J(r).css("fontWeight");t.push(bL(n,a))}),Promise.all(t)},_arrangeItems:function(e){e=e||ut(this.$element()),this._$centerSection.css({margin:"0 auto",float:"none"});var t=vi(this._$beforeSection.get(0)),i=vi(this._$afterSection.get(0));this._alignCenterSection(t,i,e);var r=this._$toolbarItemsContainer.find(Eh).eq(0),n=r.parent();if(r.length){var a=t.width?t.width:r.position().left,s=n.hasClass($m)?0:a,o=n.hasClass(Fw)?0:i.width,l=0;n.children().not(Eh).each(function(){l+=Pt(this)});var u=e-l,d=Math.max(u-s-o,0);if(n.hasClass($m))this._alignSection(this._$beforeSection,d);else{var c=Pt(r)-ut(r);r.css("maxWidth",d-c)}}},_alignCenterSection:function(e,t,i){this._alignSection(this._$centerSection,i-e.width-t.width);var r=this.option("rtlEnabled"),n=r?t:e,a=r?e:t,s=vi(this._$centerSection.get(0));(n.right>s.left||s.right>a.left)&&this._$centerSection.css({marginLeft:n.width,marginRight:a.width,float:n.width>a.width?"none":"right"})},_alignSection:function(e,t){var i=e.find(Eh),r=i.toArray();t-=this._getCurrentLabelsPaddings(r);var n=this._getCurrentLabelsWidth(r),a=Math.abs(n-t);t<n?(r=r.reverse(),this._alignSectionLabels(r,a,!1)):this._alignSectionLabels(r,a,!0)},_alignSectionLabels:function(e,t,i){for(var r=function(u){return vi(u).width},n=0;n<e.length;n++){var a=J(e[n]),s=Math.ceil(r(e[n])),o=void 0;i&&a.css("maxWidth","inherit");var l=Math.ceil(i?r(e[n]):s);if(l<t)o=i?l:0,t-=l;else{o=i?s+t:s-t,a.css("maxWidth",o);break}a.css("maxWidth",o)}},_applyCompactMode:function(){var e=this.$element();e.removeClass(Nw),this.option("compactMode")&&this._getSummaryItemsWidth(this.itemElements(),!0)>ut(e)&&e.addClass(Nw)},_getCurrentLabelsWidth:function(e){var t=0;return e.forEach(function(i,r){t+=Pt(i)}),t},_getCurrentLabelsPaddings:function(e){var t=0;return e.forEach(function(i,r){t+=Pt(i)-ut(i)}),t},_renderItem:function(e,t,i,r){var n=t.location||"center",a=i||this["_$"+n+"Section"],s=!!(t.text||t.html),o=this.callBase(e,t,a,r);return o.toggleClass(this._buttonClass(),!s).toggleClass(rD,s).addClass(t.cssClass),o},_renderGroupedItems:function(){var e=this;ve(this.option("items"),function(t,i){var r=i.items,n=J("<div>").addClass(gG),a=i.location||"center";!r||!r.length||(ve(r,function(s,o){e._renderItem(s,o,n,null)}),e._$toolbarItemsContainer.find(".dx-toolbar-"+a).append(n))})},_renderItems:function(e){var t=this.option("grouped")&&e.length&&e[0].items;t?this._renderGroupedItems():this.callBase(e)},_getToolbarItems:function(){return this.option("items")||[]},_renderContentImpl:function(){var e=this._getToolbarItems();this.$element().toggleClass(cG,e.length===0),this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e),this._applyCompactMode()},_renderEmptyMessage:Ee,_clean:function(){this._$toolbarItemsContainer.children().empty(),this.$element().empty()},_visibilityChanged:function(e){e&&this._arrangeItems()},_isVisible:function(){return ut(this.$element())>0&&ct(this.$element())>0},_getIndexByItem:function(e){return this._getToolbarItems().indexOf(e)},_itemOptionChanged:function(e,t,i){this.callBase.apply(this,[e,t,i]),this._arrangeItems()},_optionChanged:function(e){var t=e.name;switch(t){case"width":this.callBase.apply(this,arguments),this._dimensionChanged();break;case"multiline":this.$element().toggleClass(Vw,e.value);break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:this.callBase.apply(this,arguments)}},_dispose:function(){this.callBase(),clearTimeout(this._waitParentAnimationTimeout)}});Tt("dxToolbarBase",nD);var yG=["fullScreen","forceApplyBindings","dragOutsideBoundary","dragAndResizeArea","outsideDragFactor"],zm=ft();class CG extends y0{constructor(t){var{fullScreen:i,forceApplyBindings:r,dragOutsideBoundary:n,dragAndResizeArea:a,outsideDragFactor:s}=t,o=ui(t,yG);super(o),this._props=Ne({},this._props,{fullScreen:i,forceApplyBindings:r,dragOutsideBoundary:n,dragAndResizeArea:a,outsideDragFactor:s}),this._$dragResizeContainer=void 0,this._outsideDragFactor=void 0,this._lastPositionBeforeFullScreen=void 0,this._updateDragResizeContainer(),this._updateOutsideDragFactor()}set fullScreen(t){this._props.fullScreen=t,t?this._fullScreenEnabled():this._fullScreenDisabled()}get $dragResizeContainer(){return this._$dragResizeContainer}get outsideDragFactor(){return this._outsideDragFactor}set dragAndResizeArea(t){this._props.dragAndResizeArea=t,this._updateDragResizeContainer()}set dragOutsideBoundary(t){this._props.dragOutsideBoundary=t,this._updateDragResizeContainer(),this._updateOutsideDragFactor()}set outsideDragFactor(t){this._props.outsideDragFactor=t,this._updateOutsideDragFactor()}updateContainer(t){super.updateContainer(t),this._updateDragResizeContainer()}dragHandled(){this.restorePositionOnNextRender(!1)}resizeHandled(){this.restorePositionOnNextRender(!1)}positionContent(){if(this._props.fullScreen)ki(this._$content,{top:0,left:0}),this.detectVisualPositionChange();else{var t,i;(t=(i=this._props).forceApplyBindings)===null||t===void 0||t.call(i),!this._shouldRenderContentInitialPosition&&this._lastPositionBeforeFullScreen?(ki(this._$content,this._lastPositionBeforeFullScreen),this._lastPositionBeforeFullScreen=void 0,this.detectVisualPositionChange()):super.positionContent()}}_updateOutsideDragFactor(){this._outsideDragFactor=this._getOutsideDragFactor()}_getOutsideDragFactor(){return this._props.dragOutsideBoundary?1:this._props.outsideDragFactor}_updateDragResizeContainer(){this._$dragResizeContainer=this._getDragResizeContainer()}_getDragResizeContainer(){if(this._props.dragOutsideBoundary)return J(zm);if(this._props.dragAndResizeArea)return J(this._props.dragAndResizeArea);var t=AI().get(0)||this._props.container;return t?this._$markupContainer:J(zm)}_getVisualContainer(){return this._props.fullScreen?J(zm):super._getVisualContainer()}_fullScreenEnabled(){this.restorePositionOnNextRender(!1),this._lastPositionBeforeFullScreen=this._visualPosition}_fullScreenDisabled(){this.restorePositionOnNextRender(!1)}}var xG=ft(),Wm="dx-popup",wG="dx-popup-wrapper",SG="dx-popup-fullscreen",EG="dx-popup-fullscreen-width",TG="dx-popup-normal",IG="dx-popup-content",AG="dx-state-disabled",OG="dx-popup-draggable",$w="dx-popup-title",DG="dx-closebutton",zw="dx-popup-bottom",kG="dx-has-close-button",RG="dx-template-wrapper",MG="dx-popup-flex-height",BG="dx-popup-inherit-height",Ww=["cancel","clear","done"],PG="default",LG="normal",FG="text",NG="contained",VG=ri.safari&&YI(ri.version,[11])<0,wa={static:"",inherit:BG,flex:MG},HG=e=>{var t=Ye.current(),i=t.platform,r="bottom",n="before";if(i==="ios")switch(e){case"cancel":r="top";break;case"clear":r="top",n="after";break;case"done":n="after"}else if(i==="android")switch(e){case"cancel":case"done":n="after"}return{toolbar:r,location:n}},Hn=pn.inherit({_supportedKeys:function(){return ce(this.callBase(),{upArrow:e=>{var t;(t=this._drag)===null||t===void 0||t.moveUp(e)},downArrow:e=>{var t;(t=this._drag)===null||t===void 0||t.moveDown(e)},leftArrow:e=>{var t;(t=this._drag)===null||t===void 0||t.moveLeft(e)},rightArrow:e=>{var t;(t=this._drag)===null||t===void 0||t.moveRight(e)}})},_getDefaultOptions:function(){return ce(this.callBase(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragOutsideBoundary:!1,dragEnabled:!1,dragAndResizeArea:void 0,outsideDragFactor:0,onResizeStart:null,onResize:null,onResizeEnd:null,resizeEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})},_defaultOptionsRules:function(){var e=gn();return this.callBase().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:function(t){return Ye.real().deviceType==="desktop"&&t.platform==="generic"},options:{dragEnabled:!0}},{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Ei(e)},options:{useDefaultToolbarButtons:!0,useFlatToolbarButtons:!0,showCloseButton:!1}}])},_iosAnimation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}},_androidAnimation:function(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}},_init:function(){this.callBase(),this._updateResizeCallbackSkipCondition(),this.$element().addClass(Wm),this.$wrapper().addClass(wG),this._$popupContent=this._$content.wrapInner(J("<div>").addClass(IG)).children().eq(0)},_render:function(){var e=this.option("fullScreen");this._toggleFullScreenClass(e),this.callBase()},_toggleFullScreenClass:function(e){this.$overlayContent().toggleClass(SG,e).toggleClass(TG,!e)},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new Fs,bottom:new Fs})},_getActionsList:function(){return this.callBase().concat(["onResizeStart","onResize","onResizeEnd"])},_contentResizeHandler:function(e){this._shouldSkipContentResize(e)||this._renderGeometry({shouldOnlyReposition:!0})},_doesShowAnimationChangeDimensions:function(){var e=this.option("animation");return["to","from"].some(t=>{var i,r=e==null||(i=e.show)===null||i===void 0?void 0:i[t];return at(r)&&("width"in r||"height"in r)})},_updateResizeCallbackSkipCondition(){var e=this._doesShowAnimationChangeDimensions();this._shouldSkipContentResize=t=>e&&this._showAnimationProcessing||this._areContentDimensionsRendered(t)},_observeContentResize:function(e){if(this.option("useResizeObserver")){var t=this._$content.get(0);e?Xc.observe(t,i=>{this._contentResizeHandler(i)}):Xc.unobserve(t)}},_renderContentImpl:function(){this._renderTitle(),this.callBase(),this._renderResize(),this._renderBottom()},_renderTitle:function(){var e=this._getToolbarItems("top"),t=this.option("title"),i=this.option("showTitle");if(i&&t&&e.unshift({location:Ye.current().ios?"center":"before",text:t}),i||e.length>0){this._$title&&this._$title.remove();var r=J("<div>").addClass($w).insertBefore(this.$content());this._$title=this._renderTemplateByType("titleTemplate",e,r).addClass($w),this._renderDrag(),this._executeTitleRenderAction(this._$title),this._$title.toggleClass(kG,this._hasCloseButton())}else this._$title&&this._$title.detach()},_renderTemplateByType:function(e,t,i,r){var{rtlEnabled:n,useDefaultToolbarButtons:a,useFlatToolbarButtons:s,disabled:o}=this.option(),l=this._getTemplateByOption(e),u=l instanceof Fs;if(u){var d=ce({},this.option("integrationOptions"),{skipTemplates:["content","title"]}),c=ce(r,{items:t,rtlEnabled:n,useDefaultButtons:a,useFlatButtons:s,disabled:o,integrationOptions:d});this._getTemplate("dx-polymorph-widget").render({container:i,model:{widget:"dxToolbarBase",options:c}});var h=i.children("div");return i.replaceWith(h),h}else{var f=J(l.render({container:ot(i)}));return f.hasClass(RG)&&(i.replaceWith(f),i=f),i}},_renderVisibilityAnimate:function(e){return this._observeContentResize(e),this.callBase(e)},_executeTitleRenderAction:function(e){this._getTitleRenderAction()({titleElement:ot(e)})},_getTitleRenderAction:function(){return this._titleRenderAction||this._createTitleRenderAction()},_createTitleRenderAction:function(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]})},_getCloseButton:function(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}},_getCloseButtonRenderer:function(){return(e,t,i)=>{var r=J("<div>").addClass(DG);this._createComponent(r,Ji,{icon:"close",onClick:this._createToolbarItemAction(void 0),stylingMode:"text",integrationOptions:{}}),J(i).append(r)}},_getToolbarItems:function(e){var t=this.option("toolbarItems"),i=[];this._toolbarItemClasses=[];var r=Ye.current().platform,n=0;return ve(t,(a,s)=>{var o=oe(s.shortcut),l=o?HG(s.shortcut):s;if(o&&r==="ios"&&n<2&&(l.toolbar="top",n++),l.toolbar=s.toolbar||l.toolbar||"top",l&&l.toolbar===e){o&&ce(l,{location:s.location},this._getToolbarItemByAlias(s));var u=r==="generic";s.shortcut==="done"&&u||s.shortcut==="cancel"&&!u?i.unshift(l):i.push(l)}}),e==="top"&&this._hasCloseButton()&&i.push(this._getCloseButton()),i},_hasCloseButton(){return this.option("showCloseButton")&&this.option("showTitle")},_getLocalizationKey:e=>e.toLowerCase()==="done"?"OK":Fu(e,!0),_getToolbarItemByAlias:function(e){var t=this,i=e.shortcut;if(!Ww.includes(i))return!1;var r=ce({text:Ae.format(this._getLocalizationKey(i)),onClick:this._createToolbarItemAction(e.onClick),integrationOptions:{},type:t.option("useDefaultToolbarButtons")?PG:LG,stylingMode:t.option("useFlatToolbarButtons")?FG:NG},e.options||{}),n=Wm+"-"+i;return this._toolbarItemClasses.push(n),{template:function(a,s,o){var l=J("<div>").addClass(n).appendTo(o);t._createComponent(l,Ji,r)}}},_createToolbarItemAction:function(e){return this._createAction(e,{afterExecute:function(t){t.component.hide()}})},_renderBottom:function(){var e=this._getToolbarItems("bottom");if(e.length){this._$bottom&&this._$bottom.remove();var t=J("<div>").addClass(zw).insertAfter(this.$content());this._$bottom=this._renderTemplateByType("bottomTemplate",e,t,{compactMode:!0}).addClass(zw),this._toggleClasses()}else this._$bottom&&this._$bottom.detach()},_toggleDisabledState:function(e){this.callBase(...arguments),this.$content().toggleClass(AG,!!e)},_toggleClasses:function(){var e=Ww;ve(e,(t,i)=>{var r=Wm+"-"+i;this._toolbarItemClasses.includes(r)?(this.$wrapper().addClass(r+"-visible"),this._$bottom.addClass(r)):(this.$wrapper().removeClass(r+"-visible"),this._$bottom.removeClass(r))})},_toggleFocusClass(e,t){if(this.callBase(e,t),e&&!P8(this._zIndex)){var i=bA(this._zIndexInitValue());Nv(this._zIndex),this._zIndex=i,this._$wrapper.css("zIndex",i),this._$content.css("zIndex",i)}},_getPositionControllerConfig(){var{fullScreen:e,forceApplyBindings:t,dragOutsideBoundary:i,dragAndResizeArea:r,outsideDragFactor:n}=this.option();return ce({},this.callBase(),{fullScreen:e,forceApplyBindings:t,dragOutsideBoundary:i,dragAndResizeArea:r,outsideDragFactor:n})},_initPositionController(){this._positionController=new CG(this._getPositionControllerConfig())},_getDragTarget:function(){return this.topToolbar()},_renderGeometry:function(e){var{visible:t,useResizeObserver:i}=this.option();if(t&&ht()){var r=this._showAnimationProcessing,n=r&&!(e!=null&&e.forceStopAnimation)&&i;this._isAnimationPaused=n||void 0,this._stopAnimation(),e!=null&&e.shouldOnlyReposition?this._positionController.positionContent():this._renderGeometryImpl(e==null?void 0:e.isDimensionChange),n&&(this._animateShowing(),this._isAnimationPaused=void 0)}},_cacheDimensions:function(){this.option("useResizeObserver")&&(this._renderedDimensions={width:parseInt(ut(this._$content),10),height:parseInt(ct(this._$content),10)})},_renderGeometryImpl:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;e||this._resetContentHeight(),this.callBase(),this._cacheDimensions(),this._setContentHeight()},_resetContentHeight:function(){var e=this._getOptionValue("height");e==="auto"&&this.$content().css({height:"auto",maxHeight:"none"})},_renderDrag:function(){var e=this._getDragTarget(),t=this.option("dragEnabled");if(e){var i={dragEnabled:t,handle:e.get(0),draggableElement:this._$content.get(0),positionController:this._positionController};this._drag?this._drag.init(i):this._drag=new QU(i),this.$overlayContent().toggleClass(OG,t)}},_renderResize:function(){this._resizable=this._createComponent(this._$content,tD,{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:e=>{this._resizeEndHandler(e),this._observeContentResize(!0)},onResize:e=>{this._setContentHeight(),this._actions.onResize(e)},onResizeStart:e=>{this._observeContentResize(!1),this._actions.onResizeStart(e)},minHeight:100,minWidth:100,area:this._positionController.$dragResizeContainer,keepAspectRatio:!1})},_resizeEndHandler:function(e){var t=this._resizable.option("width"),i=this._resizable.option("height");t&&this._setOptionWithoutOptionChange("width",t),i&&this._setOptionWithoutOptionChange("height",i),this._cacheDimensions(),this._positionController.resizeHandled(),this._positionController.detectVisualPositionChange(e.event),this._actions.onResizeEnd(e)},_setContentHeight:function(){(this.option("forceApplyBindings")||Ee)();var e=this.$overlayContent().get(0),t=this._chooseHeightStrategy(e);this.$content().css(this._getHeightCssStyles(t,e)),this._setHeightClasses(this.$overlayContent(),t)},_heightStrategyChangeOffset:function(e,t){return e===wa.flex?-t:0},_chooseHeightStrategy:function(e){var t=e.style.width==="auto"||e.style.width==="",i=wa.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(t||VG?i=wa.inherit:i=wa.flex),i},_getHeightCssStyles:function(e,t){var i={},r=this._getOptionValue("maxHeight",t),n=this._getOptionValue("minHeight",t),a=this._splitPopupHeight(),s=a.header+a.footer+a.contentVerticalOffsets+a.popupVerticalOffsets+this._heightStrategyChangeOffset(e,a.popupVerticalPaddings);if(e===wa.static){if(!this._isAutoHeight()||r||n){var o=this.option("fullScreen")?Math.min(vi(t).height,ft().innerHeight):vi(t).height,l=o-s;i={height:Math.max(0,l),minHeight:"auto",maxHeight:"auto"}}}else{var u=J(this._positionController.$visualContainer).get(0),d=N5(r,-s,u),c=V5(n,-s,u);i={height:"auto",minHeight:c,maxHeight:d}}return i},_setHeightClasses:function(e,t){var i="";for(var r in wa)wa[r]!==t&&(i+=" "+wa[r]);e.removeClass(i).addClass(t)},_isAutoHeight:function(){return this.$overlayContent().get(0).style.height==="auto"},_splitPopupHeight:function(){var e=this.topToolbar(),t=this.bottomToolbar();return{header:By(e&&e.get(0)),footer:By(t&&t.get(0)),contentVerticalOffsets:Np(this.$overlayContent().get(0),!0),popupVerticalOffsets:Np(this.$content().get(0),!0),popupVerticalPaddings:Np(this.$content().get(0),!1)}},_isAllWindowCovered:function(){return this.callBase()||this.option("fullScreen")},_renderDimensions:function(){this.option("fullScreen")?this.$overlayContent().css({width:"100%",height:"100%",minWidth:"",maxWidth:"",minHeight:"",maxHeight:""}):this.callBase(),ht()&&this._renderFullscreenWidthClass()},_dimensionChanged:function(){this._renderGeometry({isDimensionChange:!0})},_clean:function(){this.callBase(),this._observeContentResize(!1)},_renderFullscreenWidthClass:function(){this.$overlayContent().toggleClass(EG,Pt(this.$overlayContent())===ut(xG))},refreshPosition:function(){this._renderPosition()},_optionChanged:function(e){var t,i=e.value;switch(e.name){case"disabled":this.callBase(e),this._renderTitle(),this._renderBottom();break;case"animation":this._updateResizeCallbackSkipCondition();break;case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry(),An(this.$overlayContent());break;case"bottomTemplate":this._renderBottom(),this._renderGeometry(),An(this.$overlayContent());break;case"container":if(this.callBase(e),this.option("resizeEnabled")){var r;(r=this._resizable)===null||r===void 0||r.option("area",this._positionController.$dragResizeContainer)}break;case"width":case"height":this.callBase(e),(t=this._resizable)===null||t===void 0||t.option(e.name,e.value);break;case"onTitleRendered":this._createTitleRenderAction(e.value);break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":var n=!e.fullName.match(/^toolbarItems((\[\d+\])(\.(options|visible).*)?)?$/);this._renderTitle(),this._renderBottom(),n&&(this._renderGeometry(),An(this.$overlayContent()));break;case"dragEnabled":this._renderDrag();break;case"dragAndResizeArea":this._positionController.dragAndResizeArea=i,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer),this._positionController.positionContent();break;case"dragOutsideBoundary":this._positionController.dragOutsideBoundary=i,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer);break;case"outsideDragFactor":this._positionController.outsideDragFactor=i;break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"autoResizeEnabled":this._renderGeometry(),An(this.$overlayContent());break;case"fullScreen":this._positionController.fullScreen=e.value,this._toggleFullScreenClass(e.value),this._toggleSafariScrolling(),this._renderGeometry(),An(this.$overlayContent());break;case"showCloseButton":this._renderTitle();break;default:this.callBase(e)}},bottomToolbar:function(){return this._$bottom},topToolbar:function(){return this._$title},$content:function(){return this._$popupContent},content:function(){return ot(this.$content())},$overlayContent:function(){return this._$content}});Tt("dxPopup",Hn);var $G={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},zG=["shading","target","$arrow"],Gn={left:-1,top:-1,center:0,right:1,bottom:1},aD={top:{my:"bottom center",at:"top center",collision:"fit flip"},bottom:{my:"top center",at:"bottom center",collision:"fit flip"},right:{my:"left center",at:"right center",collision:"flip fit"},left:{my:"right center",at:"left center",collision:"flip fit"}},WG={h:10,v:10};class jG extends y0{constructor(t){var{shading:i,target:r,$arrow:n}=t,a=ui(t,zG);super(a),this._props=Ne({},this._props,{shading:i,target:r}),this._$arrow=n,this._positionSide=void 0,this.updatePosition(this._props.position)}positionWrapper(){this._props.shading&&this._$wrapper.css({top:0,left:0})}updateTarget(t){this._props.target=t,this.updatePosition(this._props.position)}_renderBoundaryOffset(){}_getContainerPosition(){var t=V_(this._position.offset||""),{h:i,v:r}=t,n=this._isVerticalSide(),a=this._isHorizontalSide();if(n||a){var s=this._isPopoverInside(),o=(s?-1:1)*Gn[this._positionSide],l=n?ct(this._$arrow):ut(this._$arrow),u=this._getContentBorderWidth(this._positionSide),d=o*(l-u);n?r+=d:i+=d}return ce({},this._position,{offset:i+" "+r})}_getContentBorderWidth(t){var i=this._$content.css($G[t]);return parseInt(i)||0}_isPopoverInside(){var t=Ki.setup.normalizeAlign(this._position.my),i=Ki.setup.normalizeAlign(this._position.at);return t.h===i.h&&t.v===i.v}_isVerticalSide(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._positionSide;return t==="top"||t==="bottom"}_isHorizontalSide(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._positionSide;return t==="left"||t==="right"}_getDisplaySide(t){var i=Ki.setup.normalizeAlign(t.my),r=Ki.setup.normalizeAlign(t.at),n=Gn[i.h]===Gn[r.h]&&Gn[i.v]===Gn[r.v]?-1:1,a=Math.abs(Gn[i.h]-n*Gn[r.h]),s=Math.abs(Gn[i.v]-n*Gn[r.v]);return a>s?r.h:r.v}_normalizePosition(t){var i={of:this._props.target,boundaryOffset:WG},r;return oe(t)?r=ce(!0,{},i,this._positionToObject(t)):r=i,this._positionSide=this._getDisplaySide(r),r}_positionToObject(t){return nt(t)?ce({},aD[t]):t}}var UG="dx-popover",GG="dx-popover-wrapper",KG="dx-popover-arrow",qG="dx-popover-without-title",jw={left:"right",top:"bottom",right:"left",bottom:"top",center:"center"},sD=function(e){return at(e)?e.name:e},oD=function(e,t){var i=e.option(t);return sD(i)},XG=function(e,t){var i=e.option(t);return at(i)&&i.delay},jm=function(e,t){var{target:i,shading:r,disabled:n,hideEvent:a}=e.option(),s=nt(i),o=r&&t==="hide",l=o?null:oD(e,"".concat(t,"Event"));if(o&&a&&xt.log("W1020"),!(!l||n)){var u=Be(l,e.NAME),d=e._createAction((function(){var p=XG(e,t+"Event");this._clearEventsTimeouts(),p?this._timeouts[t]=setTimeout(function(){e[t]()},p):e[t]()}).bind(e),{validatingTargetName:"target"}),c=function(p){d({event:p,target:J(p.currentTarget)})},h="_"+t+"EventHandler";if(s)e[h]=c,he.on(Re.getDocument(),u,i,c);else{var f=ot(J(i));e[h]=void 0,he.on(f,u,c)}}},Um=function(e,t,i,r){var n=r||oD(e,i+"Event");if(n){n=Be(n,e.NAME);var a="_"+i+"EventHandler";e[a]?he.off(Re.getDocument(),n,t,e[a]):he.off(ot(J(t)),n)}},lD=Hn.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{target:void 0,shading:!1,position:ce({},aD.bottom),hideOnOutsideClick:!0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",from:1,to:0}},showTitle:!1,width:"auto",height:"auto",dragEnabled:!1,resizeEnabled:!1,fullScreen:!1,hideOnParentScroll:!0,arrowPosition:"",arrowOffset:0,_fixWrapperPosition:!0})},_defaultOptionsRules:function(){return[{device:{platform:"ios"},options:{arrowPosition:{boundaryOffset:{h:20,v:-10},collision:"fit"}}},{device:function(){return!ht()},options:{animation:null}}]},_init:function(){this.callBase(),this._renderArrow(),this._timeouts={},this.$element().addClass(UG),this.$wrapper().addClass(GG)},_render:function(){this.callBase.apply(this,arguments),this._detachEvents(this.option("target")),this._attachEvents()},_detachEvents:function(e){Um(this,e,"show"),Um(this,e,"hide")},_attachEvents:function(){jm(this,"show"),jm(this,"hide")},_renderArrow:function(){this._$arrow=J("<div>").addClass(KG).prependTo(this.$overlayContent())},_documentDownHandler:function(e){return this._isOutsideClick(e)?this.callBase(e):!0},_isOutsideClick:function(e){return!J(e.target).closest(this.option("target")).length},_animate:function(e){e&&e.to&&typeof e.to=="object"&&ce(e.to,{position:this._getContainerPosition()}),this.callBase.apply(this,arguments)},_stopAnimation:function(){this.callBase.apply(this,arguments)},_renderTitle:function(){this.$wrapper().toggleClass(qG,!this.option("showTitle")),this.callBase()},_renderPosition:function(){this.callBase(),this._renderOverlayPosition(),this._actions.onPositioned()},_renderOverlayPosition:function(){this._resetOverlayPosition(),this._updateContentSize();var e=this._getContainerPosition(),t=Ki.setup(this.$overlayContent(),e),i=this._getSideByLocation(t);this._togglePositionClass("dx-position-"+i),this._toggleFlippedClass(t.h.flip,t.v.flip);var r=this._isHorizontalSide()||this._isVerticalSide();r&&this._renderArrowPosition(i)},_resetOverlayPosition:function(){this._setContentHeight(!0),this._togglePositionClass("dx-position-"+this._positionController._positionSide),ki(this.$overlayContent(),{left:0,top:0}),this._$arrow.css({top:"auto",right:"auto",bottom:"auto",left:"auto"})},_updateContentSize:function(){if(this.$content()){var e=Ki.calculate(this.$overlayContent(),this._getContainerPosition());if(e.h.oversize>0&&this._isHorizontalSide()&&!e.h.fit){var t=ut(this.$overlayContent())-e.h.oversize;sd(this.$overlayContent(),t)}if(e.v.oversize>0&&this._isVerticalSide()&&!e.v.fit){var i=ct(this.$overlayContent())-e.v.oversize,r=ct(this.$content())-e.v.oversize;Lr(this.$overlayContent(),i),Lr(this.$content(),r)}}},_getContainerPosition:function(){return this._positionController._getContainerPosition()},_hideOnParentScrollTarget:function(){return J(this._positionController._position.of||this.callBase())},_getSideByLocation:function(e){var t=e.v.flip,i=e.h.flip;return this._isVerticalSide()&&t||this._isHorizontalSide()&&i||this._isPopoverInside()?jw[this._positionController._positionSide]:this._positionController._positionSide},_togglePositionClass:function(e){this.$wrapper().removeClass("dx-position-left dx-position-right dx-position-top dx-position-bottom").addClass(e)},_toggleFlippedClass:function(e,t){this.$wrapper().toggleClass("dx-popover-flipped-horizontal",e).toggleClass("dx-popover-flipped-vertical",t)},_renderArrowPosition:function(e){var t=vi(this._$arrow.get(0)),i=-(this._isVerticalSide(e)?t.height:t.width);this._$arrow.css(jw[e],i);var r=this._isVerticalSide(e)?"left":"top",n=this._isVerticalSide(e)?"width":"height",a=J(this._positionController._position.of),s=Ki.offset(a)||{top:0,left:0},o=Ki.offset(this.$overlayContent()),l=t[n],u=o[r],d=vi(this.$overlayContent().get(0))[n],c=s[r],h=a.get(0),f=h&&!h.preventDefault?vi(h)[n]:0,p=Math.max(u,c),g=Math.min(u+d,c+f),m;this.option("arrowPosition")==="start"?m=p-u:this.option("arrowPosition")==="end"?m=g-u-l:m=(p+g)/2-u-l/2;var v=this._positionController._getContentBorderWidth(e),b=rr(m-v+this.option("arrowOffset"),v,d-l-2*v);this._$arrow.css(r,b)},_isPopoverInside:function(){return this._positionController._isPopoverInside()},_setContentHeight:function(e){e&&this.callBase()},_getPositionControllerConfig(){var{shading:e,target:t}=this.option();return ce({},this.callBase(),{target:t,shading:e,$arrow:this._$arrow})},_initPositionController(){this._positionController=new jG(this._getPositionControllerConfig())},_renderWrapperDimensions:function(){this.option("shading")&&this.$wrapper().css({width:"100%",height:"100%"})},_isVerticalSide:function(e){return this._positionController._isVerticalSide(e)},_isHorizontalSide:function(e){return this._positionController._isHorizontalSide(e)},_clearEventTimeout:function(e){clearTimeout(this._timeouts[e])},_clearEventsTimeouts:function(){this._clearEventTimeout("show"),this._clearEventTimeout("hide")},_clean:function(){this._detachEvents(this.option("target")),this.callBase.apply(this,arguments)},_optionChanged:function(e){switch(e.name){case"arrowPosition":case"arrowOffset":this._renderGeometry();break;case"fullScreen":e.value&&this.option("fullScreen",!1);break;case"target":e.previousValue&&this._detachEvents(e.previousValue),this._positionController.updateTarget(e.value),this._invalidate();break;case"showEvent":case"hideEvent":var t=e.name.substring(0,4),i=sD(e.previousValue);this.hide(),Um(this,this.option("target"),t,i),jm(this,t);break;case"visible":this._clearEventTimeout(e.value?"show":"hide"),this.callBase(e);break;default:this.callBase(e)}},show:function(e){return e&&this.option("target",e),this.callBase()}});Tt("dxPopover",lD);var YG="dx-list-item",Uw="dx-list-group",lb=20,ZG=(1<<lb)-1,Gw=function(e){return(e.group<<lb)+e.item},gs=function(e){return{group:e>>lb,item:e&ZG}},JG=eb.inherit({_groupElements:function(){return this._collectionWidget._itemContainer().find("."+Uw)},_groupItemElements:function(e){return e.find("."+YG)},getIndexByItemData:function(e){var t=this._collectionWidget.option("items"),i=!1;return e?(e.items&&e.items.length&&(e=e.items[0]),ve(t,function(r,n){if(!n.items||(ve(n.items,function(a,s){return s!==e?!0:(i={group:r,item:a},!1)}),i))return!1}),i):!1},getItemDataByIndex:function(e){var t=this._collectionWidget.option("items");return ei(e)?this.itemsGetter()[e]:e&&t[e.group]&&t[e.group].items[e.item]||null},itemsGetter:function(){for(var e=[],t=this._collectionWidget.option("items"),i=0;i<t.length;i++)t[i]&&t[i].items?e=e.concat(t[i].items):e.push(t[i]);return e},deleteItemAtIndex:function(e){var t=gs(e),i=this._collectionWidget.option("items")[t.group].items;i.splice(t.item,1)},getKeysByItems:function(e){var t=[],i;for(i=0;i<e.length;i++)e[i]&&e[i].items?t=t.concat(e[i].items):t.push(e[i]);var r=[];for(i=0;i<t.length;i++)r.push(this._collectionWidget.keyOf(t[i]));return r},getIndexByKey:function(e,t){var i=t||this._collectionWidget.option("items"),r=-1,n=this;return ve(i,function(a,s){if(s.items&&(ve(s.items,function(o,l){var u=n._collectionWidget.keyOf(l);if(n._equalKeys(u,e))return r={group:a,item:o},!1}),r!==-1))return!1}),r},_getGroups:function(e){var t=this._collectionWidget.getDataSource(),i=t&&t.group();return i?fa.queryByOptions(vr(e),{group:i}).toArray():this._collectionWidget.option("items")},getItemsByKeys:function(e,t){var i=[],r=this._getGroups(t),n={},a=s=>{var o=this.getIndexByKey(s,r),l=o&&r[o.group];if(l)return{groupKey:l.key,item:l.items[o.item]}};return ve(e,function(s,o){var l=a(o);if(l){var u=l.groupKey,d=l.item,c=n[u];c||(c={key:u,items:[]},n[u]=c,i.push(c)),c.items.push(d)}}),i},moveItemAtIndexToIndex:function(e,t){var i=this._collectionWidget.option("items"),r=gs(e),n=gs(t),a=i[r.group].items,s=i[n.group].items,o=a[r.item];a.splice(r.item,1),s.splice(n.item,0,o)},_isItemIndex:function(e){return e&&ei(e.group)&&ei(e.item)},_getNormalizedItemIndex:function(e){var t=J(e),i=t.closest("."+Uw);return i.length?Gw({group:this._groupElements().index(i),item:this._groupItemElements(i).index(t)}):-1},_normalizeItemIndex:function(e){return Gw(e)},_denormalizeItemIndex:function(e){return gs(e)},_getItemByNormalizedIndex:function(e){var t=gs(e),i=this._groupElements().eq(t.group);return this._groupItemElements(i).eq(t.item)},_itemsFromSameParent:function(e,t){return gs(e).group===gs(t).group}}),uD={};function QG(e,t,i){var r=uD,n={};n[e]=r[e]?r[e]:{},n[e][t]=i,ce(r,n)}var dD=[],Zf=function(e,t,i){dD.push({enabled:e,decoratorType:t,decoratorSubType:i})};Zf(function(){return this.option("menuItems").length},function(){return"menu"},function(){return this.option("menuMode")});Zf(function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")},function(){var e=this.option("itemDeleteMode");return e==="toggle"||e==="slideButton"||e==="swipe"||e==="static"?"delete":"menu"},function(){var e=this.option("itemDeleteMode");return e==="slideItem"&&(e="slide"),e});Zf(function(){return this.option("selectionMode")!=="none"&&this.option("showSelectionControls")},function(){return"selection"},function(){return"default"});Zf(function(){return this.option("itemDragging.allowReordering")||this.option("itemDragging.allowDropInsideItem")||this.option("itemDragging.group")},function(){return"reorder"},function(){return"default"});var eK="dx-list-item-before-bag",tK="dx-list-item-after-bag",iK="beforeBag",rK="afterBag",nK="modifyElement",aK="afterRender",sK="getExcludedSelectors",oK=Ot.inherit({ctor:function(e){this._list=e,this._fetchRequiredDecorators()},dispose:function(){this._decorators&&this._decorators.length&&ve(this._decorators,function(e,t){t.dispose()})},_fetchRequiredDecorators:function(){this._decorators=[],ve(dD,(function(e,t){var i=t.enabled.call(this._list);if(i){var r=t.decoratorType.call(this._list),n=t.decoratorSubType.call(this._list),a=this._createDecorator(r,n);this._decorators.push(a)}}).bind(this))},_createDecorator:function(e,t){var i=this._findDecorator(e,t);return new i(this._list)},_findDecorator:function(e,t){var i,r=(i=uD[e])===null||i===void 0?void 0:i[t];if(!r)throw xt.Error("E1012",e,t);return r},modifyItemElement:function(e){var t=J(e.itemElement),i={$itemElement:t};this._prependBeforeBags(t,i),this._appendAfterBags(t,i),this._applyDecorators(nK,i)},afterItemsRendered:function(){this._applyDecorators(aK)},_prependBeforeBags:function(e,t){var i=this._collectDecoratorsMarkup(iK,t,eK);e.prepend(i)},_appendAfterBags:function(e,t){var i=this._collectDecoratorsMarkup(rK,t,tK);e.append(i)},_collectDecoratorsMarkup:function(e,t,i){var r=J("<div>");return ve(this._decorators,function(){var n=J("<div>").addClass(i);this[e](ce({$container:n},t)),n.children().length&&r.append(n)}),r.children()},_applyDecorators:function(e,t){ve(this._decorators,function(){this[e](t)})},_handlerExists:function(e){if(!this._decorators)return!1;for(var t=this._decorators,i=t.length,r=0;r<i;r++)if(t[r][e]!==Ee)return!0;return!1},_eventHandler:function(e,t,i){if(!this._decorators)return!1;for(var r=!1,n=this._decorators,a=n.length,s=0;s<a&&(r=n[s][e](t,i),!r);s++);return r},handleClick:function(e,t){return this._eventHandler("handleClick",e,t)},handleKeyboardEvents:function(e,t){return this._eventHandler("handleKeyboardEvents",e,t)},handleEnterPressing:function(e){return this._eventHandler("handleEnterPressing",e)},contextMenuHandlerExists:function(){return this._handlerExists("handleContextMenu")},handleContextMenu:function(e,t){return this._eventHandler("handleContextMenu",e,t)},getExcludedItemSelectors:function(){var e=[];return this._applyDecorators(sK,e),e.join(",")}}),lK="dx-list-item-selected",uK="dx-list-item-response-wait",dK=ob.inherit({_supportedKeys(){var e=this,t=this.callBase(),i=(r,n)=>{var a=this._editStrategy,s=this.option("focusedElement"),o=a.getNormalizedIndex(s),l=o===this._getLastItemIndex();if(!(l&&this._isDataSourceLoading()))if(r.shiftKey&&e.option("itemDragging.allowReordering")){var u=o+(n?-1:1),d=a.getItemElement(u);this.reorderItem(s,d),this.scrollToItem(s),r.preventDefault()}else{var c=this._editProvider,h=c.handleKeyboardEvents(o,n);h||(n?t.upArrow(r):t.downArrow(r))}};return ce({},t,{del:r=>{e.option("allowItemDeleting")&&(r.preventDefault(),e.deleteItem(e.option("focusedElement")))},upArrow:r=>i(r,!0),downArrow:r=>i(r),enter:function(r){this._editProvider.handleEnterPressing(r)||t.enter.apply(this,arguments)},space:function(r){this._editProvider.handleEnterPressing(r)||t.space.apply(this,arguments)}})},_updateSelection(){this._editProvider.afterItemsRendered(),this.callBase()},_getLastItemIndex(){return this._itemElements().length-1},_refreshItemElements(){this.callBase();var e=this._editProvider.getExcludedItemSelectors();e.length&&(this._itemElementsCache=this._itemElementsCache.not(e))},_isItemStrictEquals:function(e,t){var i=e&&e.__dx_key__;return i&&!this.key()&&this._selection.isItemSelected(i)?!1:this.callBase(e,t)},_getDefaultOptions(){return ce(this.callBase(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:Ae.format("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",itemDragging:{}})},_defaultOptionsRules(){return this.callBase().concat([{device:e=>e.platform==="ios",options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])},_init(){this.callBase(),this._initEditProvider()},_initDataSource(){this.callBase(),this._isPageSelectAll()||this._dataSource&&this._dataSource.requireTotalCount(!0)},_isPageSelectAll(){return this.option("selectAllMode")==="page"},_initEditProvider(){this._editProvider=new oK(this)},_disposeEditProvider(){this._editProvider&&this._editProvider.dispose()},_refreshEditProvider(){this._disposeEditProvider(),this._initEditProvider()},_initEditStrategy(){this.option("grouped")?this._editStrategy=new JG(this):this.callBase()},_initMarkup(){this._refreshEditProvider(),this.callBase()},_renderItems(){this.callBase(...arguments),this._editProvider.afterItemsRendered()},_selectedItemClass:()=>lK,_itemResponseWaitClass:()=>uK,_itemClickHandler(e){var t=J(e.currentTarget);if(!t.is(".dx-state-disabled, .dx-state-disabled *")){var i=this._editProvider.handleClick(t,e);i||(this._saveSelectionChangeEvent(e),this.callBase(...arguments))}},_shouldFireContextMenuEvent(){return this.callBase(...arguments)||this._editProvider.contextMenuHandlerExists()},_itemHoldHandler(e){var t=J(e.currentTarget);if(!t.is(".dx-state-disabled, .dx-state-disabled *")){var i=ud(e)&&this._editProvider.handleContextMenu(t,e);if(i){e.handledByEditProvider=!0;return}this.callBase(...arguments)}},_getItemContainer:function(e){if(this.option("grouped")){var t,i=(t=this._editStrategy.getIndexByItemData(e))===null||t===void 0?void 0:t.group;return this._getGroupContainerByIndex(i)}else return this.callBase(e)},_itemContextMenuHandler(e){var t=J(e.currentTarget);if(!t.is(".dx-state-disabled, .dx-state-disabled *")){var i=!e.handledByEditProvider&&this._editProvider.handleContextMenu(t,e);if(i){e.preventDefault();return}this.callBase(...arguments)}},_postprocessRenderItem(e){this.callBase(...arguments),this._editProvider.modifyItemElement(e)},_clean(){this._disposeEditProvider(),this.callBase()},focusListItem(e){var t=this._editStrategy.getItemElement(e);this.option("focusedElement",t),this.focus(),this.scrollToItem(this.option("focusedElement"))},_optionChanged(e){switch(e.name){case"selectAllMode":this._initDataSource(),this._dataSource.pageIndex(0),this._dataSource.load();break;case"grouped":this._clearSelectedItems(),delete this._renderingGroupIndex,this._initEditStrategy(),this.callBase(e);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:this.callBase(e)}},selectAll(){return this._selection.selectAll(this._isPageSelectAll())},unselectAll(){return this._selection.deselectAll(this._isPageSelectAll())},isSelectAll(){return this._selection.getSelectAllState(this._isPageSelectAll())},getFlatIndexByItemElement(e){return this._itemElements().index(e)},getItemElementByFlatIndex(e){var t=this._itemElements();return e<0||e>=t.length?J():t.eq(e)},getItemByIndex(e){return this._editStrategy.getItemDataByIndex(e)}}),po=dK.inherit(Zs).inherit({_addWidgetPrefix:function(e){return"dx-list-"+e},_getCombinedFilter:function(){var e,t,i=this._dataSource;return i&&(t={filter:i.filter()},i._addSearchFilter(t),e=t.filter),e},_initDataSource:function(){var e=this.option("searchValue"),t=this.option("searchExpr"),i=this.option("searchMode");this.callBase(),this._dataSource&&(e&&e.length&&this._dataSource.searchValue(e),i.length&&this._dataSource.searchOperation(Zs.getOperationBySearchMode(i)),t&&this._dataSource.searchExpr(t))}});Tt("dxList",po);var hK="dx-buttongroup",cK=["dxAutocomplete","dxButton","dxCheckBox","dxDateBox","dxMenu","dxSelectBox","dxTabs","dxTextBox","dxButtonGroup","dxDropDownButton"],fK=function(e){var t=e.data&&e.data(),i=t&&t.dxComponents,r=i&&i[0];return r&&t[r]};function Yc(e,t){var i;if(e){var r=e._findItemElementByItem(t);if(r.length){var n=e._getItemData(r),a=!!((i=n.options)!==null&&i!==void 0&&i.disabled||n.disabled||e.option("disabled")),{widget:s}=n;if(s&&cK.indexOf(s)!==-1){var o=r.find(s.toLowerCase().replace("dx",".dx-"));if(o.length){var l,u,d=fK(o),c=s==="dxDropDownButton"?d._focusTarget().find(".".concat(hK)):(d==null||(l=d._focusTarget)===null||l===void 0?void 0:l.call(d))||J(d.element()),h=(u=n.options)===null||u===void 0?void 0:u.tabIndex;a?c.attr("tabIndex",-1):c.attr("tabIndex",h||0)}}}}}var pK=ft(),mK="dx-dropdownmenu",gK="dx-dropdownmenu-popup",vK="dx-dropdownmenu-popup-wrapper",_K="dx-dropdownmenu-list",bK="dx-dropdownmenu-button",yK={popupWidth:"width",popupHeight:"height",popupMaxHeight:"maxHeight",popupAutoResizeEnabled:"autoResizeEnabled"},CK={buttonIcon:"icon",buttonText:"text",buttonWidth:"width",buttonHeight:"height",buttonTemplate:"template"},hD=Hi.inherit({_supportedKeys:function(){var e={};return(!this.option("opened")||!this._list.option("focusedElement"))&&(e=this._button._supportedKeys()),ce(this.callBase(),e,{tab:function(){this._popup&&this._popup.hide()}})},_getDefaultOptions:function(){return ce(this.callBase(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",buttonText:"",buttonIcon:"overflow",buttonWidth:void 0,buttonHeight:void 0,buttonTemplate:"content",onButtonClick:null,usePopover:!1,popupWidth:"auto",popupHeight:"auto",activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,selectionMode:"none",selectedItemKeys:[],deferRendering:!1,popupPosition:{my:"top center",at:"bottom center",collision:"fit flip",offset:{v:1}},popupAnimation:void 0,onItemRendered:null,menuWidget:po,popupMaxHeight:void 0,closeOnClick:!0,useInkRipple:!1,container:void 0,popupAutoResizeEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{usePopover:!0}},{device:{platform:"generic"},options:{popupPosition:{offset:{v:4}}}},{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}},{device:{platform:"android"},options:{popupPosition:{my:"top "+(this.option("rtlEnabled")?"left":"right"),at:"top "+(this.option("rtlEnabled")?"left":"right"),collision:"flipfit"},popupAnimation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}},{device:function(){return Ei()},options:{useInkRipple:!0}}])},_initOptions:function(e){Ye.current().platform==="android"&&(e.popupPosition||(e.popupPosition={at:(e.usePopover?"bottom ":"top ")+(e.rtlEnabled?"left":"right")})),this.callBase(e)},_dataSourceOptions:function(){return{paginate:!1}},_init:function(){this.callBase(),this.$element().addClass(mK),this._initDataSource(),this._initItemClickAction(),this._initButtonClickAction()},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initButtonClickAction:function(){this._buttonClickAction=this._createActionByOption("onButtonClick")},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new Af("content")}),this.callBase()},_initMarkup:function(){this._renderButton(),this.callBase()},_render:function(){this.callBase(),this.setAria({role:"menubar",haspopup:!0,expanded:this.option("opened")})},_renderContentImpl:function(){this.option("opened")&&this._renderPopup()},_clean:function(){this._cleanFocusState(),this._popup&&(this._popup.$element().remove(),delete this._$popup)},_renderButton:function(){var e=this.$element().addClass(bK),t=this._buttonOptions();this._button=this._createComponent(e,Ji,t)},_toggleActiveState:function(e,t,i){this._button._toggleActiveState(e,t,i)},_buttonOptions:function(){return{text:this.option("buttonText"),icon:this.option("buttonIcon"),width:this.option("buttonWidth"),height:this.option("buttonHeight"),useInkRipple:this.option("useInkRipple"),template:this.option("buttonTemplate"),hoverStateEnabled:!1,focusStateEnabled:!1,onClick:(function(e){this.option("opened",!this.option("opened")),this._buttonClickAction(e)}).bind(this)}},_toggleMenuVisibility:function(e){var t=e===void 0?!this._popup.option("visible"):e;e&&this._renderPopup(),this._popup.toggle(t),this.setAria("expanded",t)},_renderPopup:function(){if(!this._$popup){var e=this._$popup=J("<div>").appendTo(this.$element()),t=this._popupOptions();this._popup=this._createComponent(e,lD,t)}},_popupOptions:function(){var e=!this.option("usePopover");return{onInitialized:function(t){t.component.$wrapper().addClass(vK).toggleClass(gK,e)},deferRendering:!1,contentTemplate:(function(t){this._renderList(t)}).bind(this),position:this.option("popupPosition"),animation:this.option("popupAnimation"),onOptionChanged:(function(t){t.name==="visible"&&this.option("opened",t.value)}).bind(this),target:this.$element(),height:this.option("popupHeight"),width:this.option("popupWidth"),maxHeight:this.option("popupMaxHeight"),container:this.option("container"),autoResizeEnabled:this.option("popupAutoResizeEnabled")}},_renderList:function(e){var t=J(e),i=this._listOptions();t.addClass(_K),this._list=this._createComponent(t,this.option("menuWidget"),i),this._list._getAriaTarget=(function(){return this.$element()}).bind(this),this._setListDataSource();var r=.5*ct(pK);ct(t)>r&&Lr(t,r)},_itemOptionChanged:function(e,t,i){var r;(r=this._list)===null||r===void 0||r._itemOptionChanged(e,t,i),Yc(this._list,e)},_listOptions:function(){return{pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",selectionMode:this.option("selectionMode"),selectedItemKeys:this.option("selectedItemKeys"),itemTemplate:this.option("itemTemplate"),onItemClick:(function(e){this.option("closeOnClick")&&this.option("opened",!1),this._itemClickAction(e)}).bind(this),tabIndex:-1,focusStateEnabled:this.option("focusStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),onItemRendered:this.option("onItemRendered"),_itemAttributes:{role:"menuitem"}}},_setListDataSource:function(){this._list&&this._list.option("dataSource",this._dataSource||this.option("items")),delete this._deferRendering},_getKeyboardListeners(){return this.callBase().concat([this._list])},_toggleVisibility:function(e){this.callBase(e),this._button.option("visible",e)},_optionChanged:function(e){var t=e.name,i=e.value;switch(t){case"items":case"dataSource":this.option("deferRendering")&&!this.option("opened")?this._deferRendering=!0:(this._refreshDataSource(),this._setListDataSource());break;case"itemTemplate":this._list&&this._list.option(t,this._getTemplate(i));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"buttonIcon":case"buttonText":case"buttonWidth":case"buttonHeight":case"buttonTemplate":this._button.option(CK[t],i),this._renderPopup();break;case"popupWidth":case"popupHeight":case"popupMaxHeight":case"popupAutoResizeEnabled":this._popup.option(yK[t],i);break;case"usePopover":case"menuWidget":case"useInkRipple":this._invalidate();break;case"focusStateEnabled":case"activeStateEnabled":this._list&&this._list.option(t,i),this.callBase(e);break;case"selectionMode":case"selectedItemKeys":case"onItemRendered":this._list&&this._list.option(t,i);break;case"opened":this._deferRendering&&(this._refreshDataSource(),this._setListDataSource()),this._toggleMenuVisibility(i),this._updateFocusableItemsTabIndex();break;case"deferRendering":case"popupPosition":case"closeOnClick":break;case"container":this._popup&&this._popup.option(e.name,e.value);break;case"disabled":this._list&&this._updateFocusableItemsTabIndex();break;default:this.callBase(e)}},_updateFocusableItemsTabIndex(){this.option("items").forEach(e=>Yc(this._list,e))},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)}}).include(xd);Tt("dxDropDownMenu",hD);var xK="dx-state-invisible",wK="dx-toolbar-menu-container",SK=10;class EK{constructor(t){this._toolbar=t}render(){if(this._hasVisibleMenuItems()){this._renderMenuButtonContainer();var t=J("<div>").appendTo(this._dropDownMenuContainer());this._dropDownMenu=this._toolbar._createComponent(t,hD,this._dropDownMenuOptions()),this.renderMenuItems()}}renderMenuItems(){this._dropDownMenu||this.render(),this._dropDownMenu&&this._dropDownMenu.option("items",this._getMenuItems()),this._dropDownMenu&&!this._dropDownMenu.option("items").length&&this._dropDownMenu.close()}_renderMenuButtonContainer(){var t=this._toolbar._$afterSection;this._$menuButtonContainer=J("<div>").appendTo(t).addClass(this._toolbar._buttonClass()).addClass(wK)}_getMenuItemTemplate(){return this._toolbar._getTemplateByOption("menuItemTemplate")}_dropDownMenuOptions(){var t=this._toolbar._createActionByOption("onItemClick"),i=2*SK;return{disabled:this._toolbar.option("disabled"),itemTemplate:this._getMenuItemTemplate.bind(this),onItemClick:(function(r){t(r)}).bind(this),deferRendering:!0,container:this._toolbar.option("menuContainer"),popupMaxHeight:Ye.current().platform==="android"?Re.getDocumentElement().clientHeight-i:void 0,menuWidget:eD,onOptionChanged:r=>{var{name:n,value:a}=r;n==="opened"&&this._toolbar.option("overflowMenuVisible",a),n==="items"&&this._updateMenuVisibility(a)},popupPosition:{at:"bottom right",my:"top right"}}}_updateMenuVisibility(t){var i=t||this._getMenuItems(),r=i.length&&this._hasVisibleMenuItems(i);this._toggleMenuVisibility(r)}_getMenuItems(){return this._toolbar._getMenuItems()}_hasVisibleMenuItems(t){var i=t||this._toolbar.option("items"),r=!1,n=Yt("visible"),a=Yt("locateInMenu");return ve(i,function(s,o){var l=n(o,{functionsAsIs:!0}),u=a(o,{functionsAsIs:!0});(l!==!1&&(u==="auto"||u==="always")||o.location==="menu")&&(r=!0)}),r}_toggleMenuVisibility(t){this._dropDownMenuContainer()&&this._dropDownMenuContainer().toggleClass(xK,!t)}_dropDownMenuContainer(){return this._$menuButtonContainer}widgetOption(t,i){this._dropDownMenu&&this._dropDownMenu.option(t,i)}itemOption(t,i,r){if(i==="disabled"||i==="options.disabled"){var n;(n=this._dropDownMenu)===null||n===void 0||n._itemOptionChanged(t,i,r)}else this.renderMenuItems()}}var Th="dx-toolbar-item-auto-hide",TK="dx-toolbar-text-auto-hide",Gm="dx-toolbar-item-invisible",cD=nD.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{menuItemTemplate:"menuItem",menuContainer:void 0,overflowMenuVisible:!1})},updateDimensions:function(){this._dimensionChanged()},_dimensionChanged:function(e){e!=="height"&&(this.callBase(),this._menu.renderMenuItems())},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({actionSheetItem:new Af("item")})},_initMarkup:function(){this.callBase(),this._updateFocusableItemsTabIndex(),this._renderMenu()},_postProcessRenderItems:function(){this._hideOverflowItems(),this._menu._updateMenuVisibility(),this.callBase(),Oi(()=>{this._menu.renderMenuItems()})},_renderItem:function(e,t,i,r){var n=this.callBase(e,t,i,r);return t.locateInMenu==="auto"&&n.addClass(Th),t.widget==="dxButton"&&t.showText==="inMenu"&&n.toggleClass(TK),n},_getItemsWidth:function(){return this._getSummaryItemsWidth([this._$beforeSection,this._$centerSection,this._$afterSection])},_hideOverflowItems:function(e){var t=this.$element().find("."+Th);if(t.length){e=e||ut(this.$element()),J(t).removeClass(Gm);for(var i=this._getItemsWidth();t.length&&e<i;){var r=t.eq(-1);i-=Pt(r),r.addClass(Gm),t.splice(-1,1)}}},_getMenuItems:function(){var e=this,t=gr(this.option("items")||[],function(n){return e._isMenuItem(n)}),i=this._itemContainer().children("."+Th+"."+Gm).not(".dx-state-invisible");this._restoreItems=this._restoreItems||[];var r=[].slice.call(i).map(n=>{var a=e._getItemData(n),s=J(n),o=s.children();return ce({menuItemTemplate:function(){e._restoreItems.push({container:s,item:o});var l=J("<div>").addClass(Th);return l.append(o)}},a)});return[...r,...t]},_getToolbarItems:function(){var e=this;return gr(this.option("items")||[],function(t){return!e._isMenuItem(t)})},_renderMenu:function(){this._renderMenuStrategy(),Oi(()=>{this._menu.render()})},_renderMenuStrategy:function(){this._menu||(this._menu=new EK(this))},_arrangeItems:function(){if(!this.$element().is(":hidden")){this._$centerSection.css({margin:"0 auto",float:"none"}),ve(this._restoreItems||[],function(t,i){J(i.container).append(i.item)}),this._restoreItems=[];var e=ut(this.$element());this._hideOverflowItems(e),this.callBase(e)}},_itemOptionChanged:function(e,t,i){this._isMenuItem(e)?this._menu.itemOption(e,t,i):this._isToolbarItem(e)?this.callBase(e,t,i):(this.callBase(e,t,i),this._menu.renderMenuItems()),(t==="disabled"||t==="options.disabled")&&Yc(this,e),t==="location"&&this.repaint()},_updateFocusableItemsTabIndex(){this._getToolbarItems().forEach(e=>Yc(this,e))},_isMenuItem:function(e){return e.location==="menu"||e.locateInMenu==="always"},_isToolbarItem:function(e){return e.location===void 0||e.locateInMenu==="never"},_optionChanged:function(e){var{name:t,value:i}=e;switch(t){case"menuItemTemplate":this._changeMenuOption("itemTemplate",this._getTemplate(i));break;case"onItemClick":this._changeMenuOption(t,i),this.callBase.apply(this,arguments);break;case"menuContainer":this._changeMenuOption("container",i);break;case"overflowMenuVisible":this._changeMenuOption("opened",i);break;case"disabled":this._changeMenuOption("disabled",i),this.callBase.apply(this,arguments),this._updateFocusableItemsTabIndex();break;default:this.callBase.apply(this,arguments)}},_changeMenuOption:function(e,t){this._menu.widgetOption(e,t)}});Tt("dxToolbar",cD);var IK="header-panel",Kw="toolbar-button",AK="-ariaToolbar",qw=["addRowButton","applyFilterButton","columnChooserButton","exportButton","groupPanel","revertButton","saveButton","searchPanel"],OK=yd.inherit({_getToolbarItems:function(){return[]},_getButtonContainer:function(){return J("<div>").addClass(this.addWidgetPrefix(Kw))},_getToolbarButtonClass:function(e){var t=e?" "+e:"";return this.addWidgetPrefix(Kw)+t},_getToolbarOptions:function(){var e=this.option("toolbar"),t={toolbarOptions:{items:this._getToolbarItems(),visible:e==null?void 0:e.visible,disabled:e==null?void 0:e.disabled,onItemRendered:function(n){var a=n.itemData.onItemRendered;a&&a(n)}}},i=e==null?void 0:e.items;if(t.toolbarOptions.items=this._normalizeToolbarItems(t.toolbarOptions.items,i),this.executeAction("onToolbarPreparing",t),t.toolbarOptions&&!oe(t.toolbarOptions.visible)){var r=t.toolbarOptions.items;t.toolbarOptions.visible=!!(r!=null&&r.length)}return t.toolbarOptions},_normalizeToolbarItems(e,t){e.forEach(s=>{if(!qw.includes(s.name))throw new Error("Default toolbar item '".concat(s.name,"' is not added to DEFAULT_TOOLBAR_ITEM_NAMES"))});var i={location:"after"},r=Array.isArray(t);if(!oe(t))return e;r||(t=[t]);var n={};e.forEach(s=>{n[s.name]=s});var a=t.map(s=>(nt(s)&&(s={name:s}),oe(s.name)&&(oe(n[s.name])?s=ce(!0,{},n[s.name],s):qw.includes(s.name)&&(s=Ne({},s,{visible:!1}))),ce(!0,{},i,s)));return r?a:a[0]},_renderCore:function(){if(this._toolbar)this._toolbar.option(this._toolbarOptions);else{var e=this.element();e.addClass(this.addWidgetPrefix(IK));var t=Ae.format(this.component.NAME+AK),i=J("<div>").attr("aria-label",t).appendTo(e);this._toolbar=this._createComponent(i,cD,this._toolbarOptions)}},_columnOptionChanged:Ee,_handleDataChanged:function(){this._requireReady&&this.render()},init:function(){this.callBase(),this.createAction("onToolbarPreparing",{excludeValidators:["disabled","readOnly"]})},render:function(){this._toolbarOptions=this._getToolbarOptions(),this.callBase.apply(this,arguments)},setToolbarItemDisabled:function(e,t){var i=this._toolbar;if(i){var r=i.option("items")||[],n=r.indexOf(r.filter(function(s){return s.name===e})[0]);if(n>=0){var a="items["+n+"]";i.option(a+".options")?i.option(a+".options.disabled",t):i.option(a+".disabled",t)}}},updateToolbarDimensions:function(){var e;(e=this._toolbar)===null||e===void 0||e.updateDimensions()},getHeaderPanel:function(){return this.element()},getHeight:function(){return this.getElementHeight()},optionChanged:function(e){if(e.name==="onToolbarPreparing"&&(this._invalidate(),e.handled=!0),e.name==="toolbar"&&(e.handled=!0,this._toolbar)){var t=no(e.fullName),i=e.fullName.replace(/^toolbar\./,"");if(t.length===1){var r=this._getToolbarOptions();this._toolbar.option(r)}else if(t[1]==="items")if(t.length===2){var n=this._getToolbarOptions();this._toolbar.option("items",n.items)}else if(t.length===3){var a=this._normalizeToolbarItems(this._getToolbarItems(),e.value);this._toolbar.option(i,a)}else t.length>=4&&this._toolbar.option(i,e.value);else this._toolbar.option(i,e.value)}this.callBase(e)},isVisible:function(){return this._toolbarOptions&&this._toolbarOptions.visible},allowDragging:Ee}),fD={defaultOptions:function(){return{}},views:{headerPanel:OK},extenders:{controllers:{resizing:{_updateDimensionsCore:function(){this.callBase.apply(this,arguments),this.getView("headerPanel").updateToolbarDimensions()}}}}};fD.views.headerPanel;qe.registerModule("headerPanel",fD);var DK=".dx-row",kK="Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.";qe.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","grouping","editing","editingRowBased","editingFormBased","editingCellBased","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var ub=Hi.inherit({_activeStateUnit:DK,_getDefaultOptions:function(){var e=this.callBase();return ve(qe.modules,function(){We(this.defaultOptions)&&ce(!0,e,this.defaultOptions())}),e},_setDeprecatedOptions:function(){this.callBase(),ce(this._deprecatedOptions,{useKeyboard:{since:"19.2",alias:"keyboardNavigation.enabled"},rowTemplate:{since:"21.2",message:'Use the "dataRowTemplate" option instead'}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{showRowLines:!0}},{device:function(){return Ei()},options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0},selection:{showCheckBoxesMode:"always"}}},{device:function(){return ri.webkit},options:{loadingTimeout:30,loadPanel:{animation:{show:{easing:"cubic-bezier(1, 0, 1, 0)",duration:500,from:{opacity:0},to:{opacity:1}}}}}},{device:function(e){return e.deviceType!=="desktop"},options:{grouping:{expandMode:"rowClick"}}}])},_init:function(){this.callBase(),qe.processModules(this,qe),qe.callModuleItemsMethod(this,"init")},_clean:Ee,_optionChanged:function(e){qe.callModuleItemsMethod(this,"optionChanged",[e]),e.handled||this.callBase(e)},_dimensionChanged:function(){this.updateDimensions(!0)},_visibilityChanged:function(e){e&&this.updateDimensions()},_initMarkup:function(){this.callBase.apply(this,arguments),this.getView("gridView").render(this.$element())},_renderContentImpl:function(){this.getView("gridView").update()},_renderContent:function(){var e=this;Oi(function(){e._renderContentImpl()})},_getTemplate:function(e){var t=e;return nt(t)&&t[0]==="#"&&(t=J(e),rd.warn(kK)),this.callBase(t)},_dispose:function(){this.callBase(),qe.callModuleItemsMethod(this,"dispose")},isReady:function(){return this.getController("data").isReady()},beginUpdate:function(){this.callBase(),qe.callModuleItemsMethod(this,"beginUpdate")},endUpdate:function(){qe.callModuleItemsMethod(this,"endUpdate"),this.callBase()},getController:function(e){return this._controllers[e]},getView:function(e){return this._views[e]},focus:function(e){this.getController("keyboardNavigation").focus(e)}});ub.registerModule=qe.registerModule.bind(qe);Tt("dxDataGrid",ub);var RK=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,MK=function e(t){t&&ve(t,function(i,r){if(Ct(r)||Array.isArray(r))e(r);else if(typeof r=="string"){var n=RK.exec(r);n&&(t[i]=new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6])))}})},BK=ni.ViewController.inherit(function(){var e=function(i){var r=i.type==="sessionStorage"?TI():ft().localStorage;if(!r)throw new Error("E1007");return r},t=function(i){return oe(i.storageKey)?i.storageKey:"storage"};return{_loadState:function(){var i=this.option("stateStoring");if(i.type==="custom")return i.customLoad&&i.customLoad();try{return JSON.parse(e(i).getItem(t(i)))}catch(r){xt.log(r.message)}},_saveState:function(i){var r=this.option("stateStoring");if(r.type==="custom"){r.customSave&&r.customSave(i);return}try{e(r).setItem(t(r),JSON.stringify(i))}catch(n){xt.log(n.message)}},publicMethods:function(){return["state"]},isEnabled:function(){return this.option("stateStoring.enabled")},init:function(){var i=this;return i._state={},i._isLoaded=!1,i._isLoading=!1,i._windowUnloadHandler=function(){i._savingTimeoutID!==void 0&&i._saveState(i.state())},he.on(ft(),"unload",i._windowUnloadHandler),i},isLoaded:function(){return this._isLoaded},isLoading:function(){return this._isLoading},load:function(){this._isLoading=!0;var i=Gi(this._loadState());return i.always(()=>{this._isLoaded=!0,this._isLoading=!1}).done(r=>{r!==null&&!Yr(r)&&this.state(r)}),i},state:function(i){var r=this;if(arguments.length)r._state=ce({},i),MK(r._state);else return ce(!0,{},r._state)},save:function(){var i=this;clearTimeout(i._savingTimeoutID),i._savingTimeoutID=setTimeout(function(){i._saveState(i.state()),i._savingTimeoutID=void 0},i.option("stateStoring.savingTimeout"))},optionChanged:function(i){switch(i.name){case"stateStoring":this.isEnabled()&&!this.isLoading()&&this.load(),i.handled=!0;break;default:this.callBase(i)}},dispose:function(){clearTimeout(this._savingTimeoutID),he.off(ft(),"unload",this._windowUnloadHandler)}}}()),PK=e=>{var t=e.getView("pagerView"),i=e.getController("data"),r={allowedPageSizes:t?t.getPageSizes():void 0,filterPanel:{filterEnabled:e.option("filterPanel.filterEnabled")},filterValue:e.option("filterValue"),focusedRowKey:e.option("focusedRowEnabled")?e.option("focusedRowKey"):void 0};return ce(r,i.getUserState())},LK=e=>{var t=e.getController("columns"),i=e.getController("selection"),r=e.getController("export"),n=e.getController("data");t&&t.columnsChanged.add(function(){e.updateState({columns:t.getUserState()})}),i&&i.selectionChanged.add(function(a){e.updateState({selectedRowKeys:a.selectedRowKeys,selectionFilter:a.selectionFilter})}),n&&(e._initialPageSize=e.option("paging.pageSize"),e._initialFilterValue=e.option("filterValue"),n.changed.add(function(){var a=PK(e);e.updateState(a)})),r&&r.selectionOnlyChanged.add(function(){e.updateState({exportSelectionOnly:r.selectionOnly()})})},FK=null,NK=(e,t)=>{var i=e.getController("filterSync"),r=e.getController("columns"),n=t.columns||t.filterValue!==void 0;return i?n?t.filterValue||i.getFilterValueFromColumns(t.columns):e._initialFilterValue||i.getFilterValueFromColumns(r.getColumns()):FK},VK={defaultOptions:function(){return{stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}},controllers:{stateStoring:BK},extenders:{views:{rowsView:{init:function(){var e=this,t=e.getController("data");e.callBase(),t.stateLoaded.add(function(){if(t.isLoaded()&&!t.getDataSource()){e.setLoading(!1),e.renderNoDataText();var i=e.component.getView("columnHeadersView");i&&i.render(),e.component._fireContentReadyAction()}})}}},controllers:{stateStoring:{init:function(){this.callBase.apply(this,arguments),LK(this)},isLoading:function(){return this.callBase()||this.getController("data").isStateLoading()},state:function(e){var t=this.callBase.apply(this,arguments);return e!==void 0&&this.applyState(ce(!0,{},e)),t},updateState:function(e){if(this.isEnabled()){var t=this.state(),i=ce({},t,e),r=Mn(t),n=Mn(i);li(r,n)||(e=ce(!0,{},e),ce(this._state,e),this.save())}else ce(this._state,e)},applyState:function(e){var t=e.allowedPageSizes,i=e.searchText,r=e.selectedRowKeys,n=e.selectionFilter,a=this.getController("export"),s=this.getController("columns"),o=this.getController("data"),l=this.option("scrolling.mode"),u=l==="virtual"||l==="infinite",d=this.option("pager.visible")===!0&&this.option("pager.showPageSizeSelector");this.component.beginUpdate(),s&&s.setUserState(e.columns),a&&a.selectionOnly(e.exportSelectionOnly),this.option("selection.deferred")||this.option("selectedRowKeys",r||[]),this.option("selectionFilter",n),t&&this.option("pager.allowedPageSizes")==="auto"&&(this.option("pager").allowedPageSizes=t),this.option("focusedRowEnabled")&&(this.option("focusedRowIndex",-1),this.option("focusedRowKey",e.focusedRowKey||null)),this.component.endUpdate(),this.option("searchPanel.text",i||""),this.option("filterValue",NK(this,e)),this.option("filterPanel.filterEnabled",e.filterPanel?e.filterPanel.filterEnabled:!0),this.option("paging.pageIndex",e.pageIndex||0),this.option("paging.pageSize",(!u||d)&&oe(e.pageSize)?e.pageSize:this._initialPageSize),o&&o.reset()}},columns:{_shouldReturnVisibleColumns:function(){var e=this.callBase.apply(this,arguments),t=this.getController("stateStoring");return e&&(!t.isEnabled()||t.isLoaded())}},data:{callbackNames:function(){return this.callBase().concat(["stateLoaded"])},_refreshDataSource:function(){var e=this.callBase,t=this.getController("stateStoring");if(t.isEnabled()&&!t.isLoaded()){clearTimeout(this._restoreStateTimeoutID);var i=new we;return this._restoreStateTimeoutID=setTimeout(()=>{t.load().always(()=>{this._restoreStateTimeoutID=null}).done(()=>{e.call(this),this.stateLoaded.fire(),i.resolve()}).fail(r=>{this.stateLoaded.fire(),this._handleLoadError(r||"Unknown error"),i.reject()})}),i.promise()}else this.isStateLoading()||e.call(this)},isLoading:function(){var e=this.getController("stateStoring");return this.callBase()||e.isLoading()},isStateLoading:function(){return oe(this._restoreStateTimeoutID)},isLoaded:function(){return this.callBase()&&!this.isStateLoading()},dispose:function(){clearTimeout(this._restoreStateTimeoutID),this.callBase()}},selection:{_fireSelectionChanged:function(e){var t=this.getController("stateStoring"),i=this.option("selection.deferred");t.isLoading()&&i||this.callBase.apply(this,arguments)}}}}};qe.registerModule("stateStoring",VK);var pD="dx-editor-cell",HK="dx-row",Xw="dx-selection",vs="dx-select-checkbox",$K="dx-select-checkboxes-hidden",mD="dx-command-select",zK="dx-selection-disabled",gD="dx-data-row",On="selection.showCheckBoxesMode",Au="selection.mode",Yw=function(e,t){var i=e.getController("selection"),r=e.getView("rowsView"),n=J(t.target).closest("."+gD),a=r.getRowIndex(n);a<0||(e.option(On)==="onLongTap"?i.isSelectionWithCheckboxes()?i.stopSelectionWithCheckboxes():i.startSelectionWithCheckboxes():(e.option(On)==="onClick"&&i.startSelectionWithCheckboxes(),e.option(On)!=="always"&&i.changeItemSelection(a,{control:!0})))},WK=qe.Controller.inherit(function(){var e=(i,r)=>{var n=r.component,a=n.getView("rowsView");n.option("renderAsync")&&!n.option("selection.deferred")&&(r.value=n.isRowSelected(r.row.key)),a.renderSelectCheckBoxContainer(J(i),r)},t=(i,r)=>{var n=r.column,a=J(i),s=r.component.getView("columnHeadersView");a.addClass(pD),s._renderSelectAllCheckBox(a,n),s._attachSelectAllCheckBoxClickEvent(a)};return{init:function(){var{deferred:i,selectAllMode:r,mode:n}=this.option("selection")||{};this.option("scrolling.mode")==="infinite"&&!i&&n==="multiple"&&r==="allPages"&&xt.log("W1018"),this._dataController=this.getController("data"),this._selectionMode=n,this._isSelectionWithCheckboxes=!1,this._selection=this._createSelection(),this._updateSelectColumn(),this.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]}),this._dataController&&this._dataController.pushed.add(this._handleDataPushed.bind(this))},_handleDataPushed:function(i){var r=i.filter(n=>n.type==="remove").map(n=>n.key);r.length&&this.deselectRows(r)},_getSelectionConfig:function(){var i=this._dataController,r=this.getController("columns"),n=this.option("selection")||{},a=n.deferred,s=this.option("scrolling.mode"),o=s==="virtual"||s==="infinite",l=this.option("selection.allowSelectAll"),u=this.option("scrolling.legacyMode");return{selectedKeys:this.option("selectedRowKeys"),mode:this._selectionMode,deferred:a,maxFilterLengthInRequest:n.maxFilterLengthInRequest,selectionFilter:this.option("selectionFilter"),ignoreDisabledItems:!0,allowLoadByRange:function(){var d=r.getGroupColumns().length>0;return o&&!u&&!d&&l&&!a},key:function(){return i==null?void 0:i.key()},keyOf:function(d){return i==null?void 0:i.keyOf(d)},dataFields:function(){var d;return(d=i.dataSource())===null||d===void 0?void 0:d.select()},load:function(d){var c;return((c=i.dataSource())===null||c===void 0?void 0:c.load(d))||new we().resolve([])},plainItems:function(){return i.items(!0)},isItemSelected:function(d){return d.selected},isSelectableItem:function(d){return(d==null?void 0:d.rowType)==="data"&&!d.isNewRow},getItemData:function(d){return(d==null?void 0:d.oldData)||(d==null?void 0:d.data)||d},filter:function(){return i.getCombinedFilter(a)},totalCount:()=>i.totalCount(),getLoadOptions:function(d,c,h){var f,p,{sort:g,filter:m}=(f=(p=i.dataSource())===null||p===void 0?void 0:p.lastLoadOptions())!==null&&f!==void 0?f:{},v=Math.min(d,c),b=Math.max(d,c);oe(h)&&(v=Math.min(h,v),b=Math.max(h,b));var E=b-v+1;return{skip:v,take:E,filter:m,sort:g}},onSelectionChanged:this._updateSelectedItems.bind(this)}},_updateSelectColumn:function(){var i=this.getController("columns"),r=this.isSelectColumnVisible();i.addCommandColumn({type:"selection",command:"select",visible:r,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:mD,width:"auto",cellTemplate:e,headerCellTemplate:t}),i.columnOption("command:select","visible",r)},_createSelection:function(){var i=this._getSelectionConfig();return new zO(i)},_fireSelectionChanged:function(i){var r=this.option("selection.deferred")?{selectionFilter:this.option("selectionFilter")}:{selectedRowKeys:this.option("selectedRowKeys")};this.selectionChanged.fire(r),i&&this.executeAction("onSelectionChanged",i)},_updateCheckboxesState:function(i){var r=i.isDeferredMode,n=i.selectionFilter,a=i.selectedItemKeys,s=i.removedItemKeys;this.option(On)==="onClick"&&((r?n&&function(o,l){var u=0,d=o._dataController.store(),c=d&&d.key(),h=Array.isArray(c);if(!l.length)return!1;if(h&&Array.isArray(l[0])&&l[1]==="and"){for(var f=0;f<l.length;f++)if(Array.isArray(l[f])){if(l[f][0]!==c[u]||l[f][1]!=="=")return!0;u++}return!1}return c!==l[0]}(this,n):a.length>1)?this.startSelectionWithCheckboxes():(r?n&&!n.length:a.length===0&&s.length)&&this.stopSelectionWithCheckboxes())},_updateSelectedItems:function(i){var r,n=this.option("selection.deferred"),a=this._selection.selectionFilter(),s=this._dataController,o=s.items(!0),l=s.items();if(o){var u=this.isSelectionWithCheckboxes(),d=this.getChangedItemIndexes(o),c=this.getChangedItemIndexes(l);this._updateCheckboxesState({selectedItemKeys:i.selectedItemKeys,removedItemKeys:i.removedItemKeys,selectionFilter:a,isDeferredMode:n}),(d.length||u!==this.isSelectionWithCheckboxes())&&s.updateItems({changeType:"updateSelection",itemIndexes:c}),n?(this.option("selectionFilter",a),r={}):(i.addedItemKeys.length||i.removedItemKeys.length)&&(this._selectedItemsInternalChange=!0,this.option("selectedRowKeys",i.selectedItemKeys.slice(0)),this._selectedItemsInternalChange=!1,r={selectedRowsData:i.selectedItems.slice(0),selectedRowKeys:i.selectedItemKeys.slice(0),currentSelectedRowKeys:i.addedItemKeys.slice(0),currentDeselectedRowKeys:i.removedItemKeys.slice(0)}),this._fireSelectionChanged(r)}},getChangedItemIndexes:function(i){for(var r=[],n=this.option("selection.deferred"),a=0,s=i.length;a<s;a++){var o=i[a],l=this.isRowSelected(n?o.data:o.key);this._selection.isDataItem(o)&&o.isSelected!==l&&r.push(a)}return r},callbackNames:function(){return["selectionChanged"]},optionChanged:function(i){switch(this.callBase(i),i.name){case"selection":var r=this._selectionMode;if(this.init(),i.fullName!=="selection.showCheckBoxesMode"){var n=this._selectionMode,a=this.option("selectedRowKeys");r!==n&&(n==="single"?a.length>1&&(a=[a[0]]):n!=="multiple"&&(a=[])),this.selectRows(a).always(()=>{this._fireSelectionChanged()})}this.getController("columns").updateColumns(),i.handled=!0;break;case"selectionFilter":this._selection.selectionFilter(i.value),i.handled=!0;break;case"selectedRowKeys":var s=i.value||[];Array.isArray(s)&&!this._selectedItemsInternalChange&&(this.component.getDataSource()||!s.length)&&this.selectRows(s),i.handled=!0}},publicMethods:function(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]},isRowSelected:function(i){return this._selection.isItemSelected(i)},isSelectColumnVisible:function(){return this.option(Au)==="multiple"&&(this.option(On)==="always"||this.option(On)==="onClick"||this._isSelectionWithCheckboxes)},_isOnePageSelectAll:function(){return this.option("selection.selectAllMode")==="page"},isSelectAll:function(){return this._selection.getSelectAllState(this._isOnePageSelectAll())},selectAll:function(){return this.option(On)==="onClick"&&this.startSelectionWithCheckboxes(),this._selection.selectAll(this._isOnePageSelectAll())},deselectAll:function(){return this._selection.deselectAll(this._isOnePageSelectAll())},clearSelection:function(){return this.selectedItemKeys([])},refresh:function(){var i=this.option("selectedRowKeys")||[];return!this.option("selection.deferred")&&i.length?this.selectedItemKeys(i):new we().resolve().promise()},selectedItemKeys:function(i,r,n,a){return this._selection.selectedItemKeys(i,r,n,a)},getSelectedRowKeys:function(){return this._selection.getSelectedItemKeys()},selectRows:function(i,r){return this.selectedItemKeys(i,r)},deselectRows:function(i){return this.selectedItemKeys(i,!0,!0)},selectRowsByIndexes:function(i){var r=this._dataController.items(),n=[];return Array.isArray(i)||(i=Array.prototype.slice.call(arguments,0)),ve(i,function(){var a=r[this];a&&a.rowType==="data"&&n.push(a.key)}),this.selectRows(n)},getSelectedRowsData:function(){return this._selection.getSelectedItems()},changeItemSelection:function(i,r,n){r=r||{},this.isSelectionWithCheckboxes()&&(r.control=!0);var a=i+this._dataController.getRowIndexOffset()-this._dataController.getRowIndexOffset(!0);return this._selection.changeItemSelection(a,r,n)},focusedItemIndex:function(i){if(oe(i))this._selection._focusedItemIndex=i;else return this._selection._focusedItemIndex},isSelectionWithCheckboxes:function(){return this.option(Au)==="multiple"&&(this.option(On)==="always"||this._isSelectionWithCheckboxes)},startSelectionWithCheckboxes:function(){return this.option(Au)==="multiple"&&!this.isSelectionWithCheckboxes()?(this._isSelectionWithCheckboxes=!0,this._updateSelectColumn(),!0):!1},stopSelectionWithCheckboxes:function(){return this._isSelectionWithCheckboxes?(this._isSelectionWithCheckboxes=!1,this._updateSelectColumn(),!0):!1}}}()),jK={defaultOptions:function(){return{selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0,selectAllMode:"allPages",maxFilterLengthInRequest:1500,deferred:!1},selectionFilter:[],selectedRowKeys:[]}},controllers:{selection:WK},extenders:{controllers:{data:{init:function(){var e=this.getController("selection"),t=this.option("selection.deferred");this.callBase.apply(this,arguments),t&&e._updateCheckboxesState({isDeferredMode:!0,selectionFilter:this.option("selectionFilter")})},_loadDataSource:function(){var e=this;return e.callBase().done(function(){e.getController("selection").refresh()})},_processDataItem:function(e,t){var i=this,r=i.getController("selection"),n=r.isSelectColumnVisible(),a=t.isDeferredSelection=t.isDeferredSelection===void 0?this.option("selection.deferred"):t.isDeferredSelection,s=this.callBase.apply(this,arguments);if(s.isSelected=r.isRowSelected(a?s.data:s.key),n&&s.values){for(var o=0;o<t.visibleColumns.length;o++)if(t.visibleColumns[o].command==="select"){s.values[o]=s.isSelected;break}}return s},refresh:function(e){var t=this,i=new we;return this.callBase.apply(this,arguments).done(function(){!e||e.selection?t.getController("selection").refresh().done(i.resolve).fail(i.reject):i.resolve()}).fail(i.reject),i.promise()},_handleDataChanged:function(e){this.callBase.apply(this,arguments),(!e||e.changeType==="refresh")&&!this._repaintChangesOnly&&this.getController("selection").focusedItemIndex(-1)},_applyChange:function(e){if(e&&e.changeType==="updateSelection"){e.items.forEach((t,i)=>{var r=this._items[i];r&&(r.isSelected=t.isSelected,r.values=t.values)});return}return this.callBase.apply(this,arguments)},_endUpdateCore:function(){var e=this._changes,t=e.length>1&&e.every(r=>r.changeType==="updateSelection");if(t){var i=e.map(r=>r.itemIndexes||[]).reduce((r,n)=>r.concat(n));this._changes=[{changeType:"updateSelection",itemIndexes:i}]}this.callBase.apply(this,arguments)}},contextMenu:{_contextMenuPrepared:function(e){var t=e.event;t.originalEvent&&t.originalEvent.type!=="dxhold"||e.items&&e.items.length>0||Yw(this,t)}}},views:{columnHeadersView:{init:function(){this.callBase(),this.getController("selection").selectionChanged.add(this._updateSelectAllValue.bind(this))},_updateSelectAllValue:function(){var e=this.element(),t=e&&e.find("."+vs);if(e&&t.length&&this.option("selection.mode")==="multiple"){var i=this.getController("selection").isSelectAll(),r=i!==!1,n=this.option("selection.allowSelectAll")?!this.getController("data").isEmpty():r;t.dxCheckBox("instance").option({visible:n,value:i})}},_handleDataChanged:function(e){this.callBase(e),(!e||e.changeType==="refresh"||e.repaintChangesOnly&&e.changeType==="update")&&this._updateSelectAllValue()},_renderSelectAllCheckBox:function(e,t){var i=this,r=i.getController("selection"),n=i.getController("data").isEmpty(),a=J("<div>").appendTo(e).addClass(vs);return i.setAria("label",Ae.format("dxDataGrid-ariaSelectAll"),a),i.getController("editorFactory").createEditor(a,ce({},t,{parentType:"headerRow",dataType:"boolean",value:r.isSelectAll(),editorOptions:{visible:!n&&(i.option("selection.allowSelectAll")||r.isSelectAll()!==!1)},tabIndex:i.option("useLegacyKeyboardNavigation")?-1:i.option("tabIndex")||0,setValue:function(s,o){var l=i.option("selection.allowSelectAll");o.component.option("visible",l||o.component.option("value")!==!1),!(!o.event||r.isSelectAll()===s)&&(o.value&&!l?o.component.option("value",!1):o.value?r.selectAll():r.deselectAll(),o.event.preventDefault())}})),a},_attachSelectAllCheckBoxClickEvent:function(e){he.on(e,zt,this.createAction(function(t){var i=t.event;J(i.target).closest("."+vs).length||he.trigger(J(i.currentTarget).children("."+vs),zt),i.preventDefault()}))}},rowsView:{renderSelectCheckBoxContainer:function(e,t){t.rowType==="data"&&!t.row.isNewRow?(e.addClass(pD),this._attachCheckBoxClickEvent(e),this._renderSelectCheckBox(e,t)):Fe.setEmptyText(e)},_renderSelectCheckBox:function(e,t){var i=J("<div>").addClass(vs).appendTo(e);return this.setAria("label",Ae.format("dxDataGrid-ariaSelectRow"),i),this.getController("editorFactory").createEditor(i,ce({},t.column,{parentType:"dataRow",dataType:"boolean",lookup:null,value:t.value,setValue:function(r,n){var a;(n==null||(a=n.event)===null||a===void 0?void 0:a.type)==="keydown"&&he.trigger(n.element,zt,n)},row:t.row})),i},_attachCheckBoxClickEvent:function(e){he.on(e,zt,this.createAction(function(t){var i=this.getController("selection"),r=t.event,n=this.getRowIndex(J(r.currentTarget).closest("."+HK));n>=0&&(i.startSelectionWithCheckboxes(),i.changeItemSelection(n,{shift:r.shiftKey}),J(r.target).closest("."+vs).length&&this.getController("data").updateItems({changeType:"updateSelection",itemIndexes:[n]}))}))},_update:function(e){var t=this,i=t.getTableElements();e.changeType==="updateSelection"?i.length>0&&(ve(i,function(r,n){ve(e.itemIndexes||[],function(a,s){var o;if(e.items[s]&&(o=t._getRowElements(J(n)).eq(s),o.length)){var l=e.items[s].isSelected;o.toggleClass(Xw,l===void 0?!1:l).find("."+vs).dxCheckBox("option","value",l),t.setAria("selected",l,o)}})}),t._updateCheckboxesClass()):t.callBase(e)},_createTable:function(){var e=this,t=e.option("selection.mode"),i=e.callBase.apply(e,arguments);return t!=="none"&&((e.option(On)==="onLongTap"||!js)&&he.on(i,Be(Ja.name,"dxDataGridRowsView"),"."+gD,e.createAction(function(r){Yw(e.component,r.event),r.event.stopPropagation()})),he.on(i,"mousedown selectstart",e.createAction(function(r){var n=r.event;n.shiftKey&&n.preventDefault()}))),i},_createRow:function(e){var t=this.callBase.apply(this,arguments);if(e){var i=e.isSelected;i&&t.addClass(Xw);var r=this.option(Au);r!=="none"&&this.setAria("selected",i,t)}return t},_rowClick:function(e){var t=e.event,i=J(t.target).closest("."+zK).length;this.isClickableElement(J(t.target))||(!i&&(this.option(Au)!=="multiple"||this.option(On)!=="always")&&this.getController("selection").changeItemSelection(e.rowIndex,{control:Vi(t),shift:t.shiftKey})&&(t.preventDefault(),e.handled=!0),this.callBase(e))},isClickableElement:function(e){var t=e.closest("."+mD).length;return!!t},_renderCore:function(e){this.callBase(e),this._updateCheckboxesClass()},_updateCheckboxesClass:function(){var e=this.getTableElements(),t=this.getController("selection"),i=t.isSelectColumnVisible()&&!t.isSelectionWithCheckboxes();ve(e,function(r,n){J(n).toggleClass($K,i)})}}}}};qe.registerModule("selection",jK);var Zw="dx-invalid-message-auto",Jw="dx-validation-target";let db=class extends Rd{getProps(){var t=super.getProps();return t.onFocusIn=()=>{var i=this.option("validationMessageMode")==="auto";if(i){var r=J(".dx-invalid-message.dx-overlay-wrapper");r==null||r.removeClass(Zw),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>{r==null||r.addClass(Zw)},150)}},t.saveValueChangeEvent=i=>{this._valueChangeEventInstance=i},t}_createElement(t){super._createElement(t),this.showValidationMessageTimeout=void 0,this.validationRequest=Ht(),di(this.$element()[0],Jw,this)}_render(){var t;(t=this.option("_onMarkupRendered"))===null||t===void 0||t()}_initializeComponent(){super._initializeComponent(),this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}_initOptions(t){super._initOptions(t),this.option(Gt.initValidationOptions(t))}_getDefaultOptions(){return ce(super._getDefaultOptions(),{validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})}_bindInnerWidgetOptions(t,i){var r=ce({},t.option()),n=()=>this._silent(i,r);n(),t.on("optionChanged",n)}_raiseValidation(t,i){var r=!oe(t)&&!oe(i);t!==i&&!r&&this.validationRequest.fire({value:t,editor:this})}_raiseValueChangeAction(t,i){var r;(r=this._valueChangeAction)===null||r===void 0||r.call(this,{element:this.$element(),previousValue:i,value:t,event:this._valueChangeEventInstance}),this._valueChangeEventInstance=void 0}_optionChanged(t){var{name:i,previousValue:r,value:n}=t;switch(i&&this._getActionConfigs()[i]!==void 0&&this._addAction(i),i){case"value":this._raiseValidation(n,r),this._raiseValueChangeAction(n,r);break;case"onValueChanged":this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]});break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(Gt.synchronizeValidationOptions(t,this.option()))}super._optionChanged(t)}reset(){var{value:t}=this._getDefaultOptions();this.option({value:t})}_dispose(){super._dispose(),di(this.element(),Jw,null),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout)}};var UK=mn.isEditor,vD=e=>UK(e)||e instanceof db;db.isEditor=vD;mn.isEditor=vD;let GK=class extends db{_useTemplates(){return!1}_isFocused(){var t=this.$element()[0];return t.classList.contains("dx-state-focused")}getSupportedKeyNames(){return["space"]}getProps(){var t=super.getProps();return t.value!==null&&(t.value=!!t.value),t}};var KK=["dataSource","selectedRowKeys"],qK={integrationOptions:!0};function jl(e,t,i){return{path:e,value:t,previousValue:i}}function Qw(e,t,i,r,n,a){if(!qK[r]){var s=Xr(t),o=Xr(i);if(t!==i)if(s!==o)e.push(jl(r,i,t));else if(s==="object")if(!Ct(i))e.push(jl(r,i,t));else{var l=e1(t,i,n,a);e.push(...l.map(c=>Ne({},c,{path:"".concat(r,".").concat(c.path)})))}else if(s==="array"){var u=a.some(c=>n.includes(c));if(u&&t!==i)e.push(jl(r,i,t));else if(t.length!==i.length)e.push(jl(r,i,t));else{var d=e1(t,i,n,a);[].push.apply(e,d.map(c=>Ne({},c,{path:"".concat(r).concat(c.path)})))}}else e.push(jl(r,i,t))}}var _D=e=>(t,i,r,n)=>{var a=[],s=Array.isArray(t)?o=>{Qw(a,t[o],i[o],"[".concat(o,"]"),"".concat(r,".").concat(o),n)}:o=>{Qw(a,t[o],i[o],o,"".concat(r,".").concat(o),n)};return e(t).forEach(s),Object.keys(i).filter(o=>!Object.prototype.hasOwnProperty.call(t,o)&&t[o]!==i[o]).forEach(o=>{a.push({path:o,value:i[o],previousValue:t[o]})}),a},e1=_D(e=>Object.keys(e)),XK={key:!0,ref:!0,children:!0,style:!0},YK=_D(e=>Object.keys(e).filter(t=>!XK[t]));function ZK(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:KK;return YK(e,t,"",i)}var JK=["valueChange"],QK=["componentProps","componentType","rootElementRef","templateNames"],bD=e=>Object.keys(e).reduce((t,i)=>(e[i]!==void 0&&(t[i]=e[i]),t),{}),eq=e=>{var{props:{componentProps:{className:t}},restAttributes:i,widgetRef:r}=e;return bD(wi(1,"div",t,null,1,Ne({},i),null,r))},tq={};class Jf extends Vn{constructor(t){super(t),this.state={},this.widgetRef=Yi(),this.getInstance=this.getInstance.bind(this),this.setupWidget=this.setupWidget.bind(this),this.setRootElementRef=this.setRootElementRef.bind(this),this.updateWidget=this.updateWidget.bind(this)}get config(){return"ConfigContext"in this.context?this.context.ConfigContext:Gf}createEffects(){return[new oi(this.setupWidget,[]),new oi(this.setRootElementRef,[]),new oi(this.updateWidget,[this.props.componentProps,this.config,this.props.templateNames])]}updateEffects(){var t;(t=this._effects[2])===null||t===void 0||t.update([this.props.componentProps,this.config,this.props.templateNames])}setupWidget(){var t=new this.props.componentType(this.widgetRef.current,this.properties);return this.instance=t,()=>{t.dispose(),this.instance=null}}setRootElementRef(){var{rootElementRef:t}=this.props;t&&(t.current=this.widgetRef.current)}updateWidget(){var t=this.getInstance();if(t){var i=ZK(this.prevProps||{},this.properties);i.length&&(t.beginUpdate(),i.forEach(r=>{var{path:n,value:a}=r;t.option(n,a)}),t.endUpdate()),this.prevProps=this.properties}}get properties(){var t,i=bD(this.props.componentProps),{valueChange:r}=i,n=ui(i,JK),a=Ne({rtlEnabled:!!((t=this.config)!==null&&t!==void 0&&t.rtlEnabled),isRenovated:!0},n);r&&(a.onValueChanged=o=>{var{value:l}=o;return r(l)});var s=this.props.templateNames;return s.forEach(o=>{lz(o,a)&&(a[o]=(l,u,d)=>{oz(this.props.componentProps[o],{item:l,index:u,container:d})})}),a}get restAttributes(){var t=this.props,i=ui(t,QK);return i}getInstance(){return this.instance}render(){var t=this.props;return eq({props:Ne({},t),widgetRef:this.widgetRef,config:this.config,properties:this.properties,restAttributes:this.restAttributes})}}Jf.defaultProps=tq;var iq=["accessKey","activeStateEnabled","boundary","className","contentId","disabled","focusStateEnabled","height","hint","hoverStateEnabled","mode","offset","onClick","onKeyDown","positionRequest","rtlEnabled","tabIndex","target","validationErrors","visible","visualContainer","width"],rq=e=>{var{componentProps:t,restAttributes:i}=e;return Er(ti(2,Jf,Ne({componentType:H0,componentProps:t,templateNames:[]},i)))},nq=Object.create(Object.prototype,Ne(Object.getOwnPropertyDescriptors(Uf),Object.getOwnPropertyDescriptors({mode:"auto",offset:Object.freeze({h:0,v:0}),isReactComponentWrapper:!0})));class yD extends en{constructor(t){super(t),this.state={}}get componentProps(){return this.props}get restAttributes(){var t=this.props,i=ui(t,iq);return i}render(){var t=this.props;return rq({props:Ne({},t),componentProps:this.componentProps,restAttributes:this.restAttributes})}}yD.defaultProps=nq;var aq=["accessKey","activeStateEnabled","aria","children","className","classes","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationStatus","value","valueChange","visible","width"],sq=e=>{var{classes:t,isValid:i,readOnly:r}=e,n={"dx-state-readonly":!!r,"dx-invalid":!i,["".concat(t)]:!!t};return Gr(n)},oq=e=>{var{aria:t,cssClasses:i,isValidationMessageVisible:r,onFocusIn:n,props:{accessKey:a,activeStateEnabled:s,children:o,className:l,disabled:u,focusStateEnabled:d,height:c,hint:h,hoverStateEnabled:f,onClick:p,onKeyDown:g,rtlEnabled:m,tabIndex:v,validationMessageMode:b,visible:E,width:I},restAttributes:R,rootElementRef:N,validationErrors:j,validationMessageGuid:V,validationMessageTarget:H,widgetRef:W}=e;return Er(ti(2,Kf,Ne({rootElementRef:N,aria:t,classes:i,activeStateEnabled:s,focusStateEnabled:d,hoverStateEnabled:f,accessKey:a,className:l,rtlEnabled:m,hint:h,disabled:u,height:c,width:I,onFocusIn:n,onClick:p,onKeyDown:g,tabIndex:v,visible:E},R,{children:_a([o,r&&ti(2,yD,{validationErrors:j,mode:b,positionRequest:"below",rtlEnabled:m,target:H,boundary:H,visualContainer:H,contentId:V})],0)}),null,W))},Wi=Object.create(Object.prototype,Ne(Object.getOwnPropertyDescriptors(Uf),Object.getOwnPropertyDescriptors({readOnly:!1,name:"",validationError:null,validationErrors:null,validationMessageMode:"auto",validationStatus:"valid",isValid:!0,defaultValue:null,valueChange:()=>{}}))),lq={get readOnly(){return Wi.readOnly},get name(){return Wi.name},get validationError(){return Wi.validationError},get validationErrors(){return Wi.validationErrors},get validationMessageMode(){return Wi.validationMessageMode},get validationStatus(){return Wi.validationStatus},get isValid(){return Wi.isValid},get defaultValue(){return Wi.defaultValue},get valueChange(){return Wi.valueChange},get className(){return Wi.className},get activeStateEnabled(){return Wi.activeStateEnabled},get disabled(){return Wi.disabled},get focusStateEnabled(){return Wi.focusStateEnabled},get hoverStateEnabled(){return Wi.hoverStateEnabled},get tabIndex(){return Wi.tabIndex},get visible(){return Wi.visible},get aria(){return Kc.aria},get classes(){return Kc.classes}};class CD extends Dd{constructor(t){super(t),this.widgetRef=Yi(),this.rootElementRef=Yi(),this.__getterCache={},this.state={validationMessageGuid:"dx-".concat(new Bi),isValidationMessageVisible:!1,value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.updateValidationMessageVisibility=this.updateValidationMessageVisibility.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onFocusIn=this.onFocusIn.bind(this)}createEffects(){return[new oi(this.updateValidationMessageVisibility,[this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors]),kd()]}updateEffects(){var t;(t=this._effects[0])===null||t===void 0||t.update([this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors])}updateValidationMessageVisibility(){this.setState(t=>({isValidationMessageVisible:this.shouldShowValidationMessage}))}onFocusIn(t){var{onFocusIn:i}=this.props;i==null||i(t)}get cssClasses(){return"".concat(sq(Ne({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})))}get shouldShowValidationMessage(){var t,{isValid:i,validationStatus:r}=this.props,n=(t=this.validationErrors)!==null&&t!==void 0?t:[],a=i&&r!=="invalid";return!a&&n.length>0}get aria(){var{isValid:t,readOnly:i}=this.props,r={readonly:i?"true":"false",invalid:t?"false":"true"};return this.shouldShowValidationMessage&&(r.describedBy=this.state.validationMessageGuid),Ne({},r,this.props.aria)}get validationErrors(){return this.__getterCache.validationErrors!==void 0?this.__getterCache.validationErrors:this.__getterCache.validationErrors=(()=>{var{validationError:t,validationErrors:i}=this.props,r=i&&[...i];return!r&&t&&(r=[Ne({},t)]),r})()}get validationMessageTarget(){var t;return(t=this.rootElementRef)===null||t===void 0?void 0:t.current}get restAttributes(){var t=Ne({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),i=ui(t,aq);return i}focus(){this.widgetRef.current.focus()}blur(){this.widgetRef.current.blur()}componentWillUpdate(t,i,r){super.componentWillUpdate(),(this.props.validationError!==t.validationError||this.props.validationErrors!==t.validationErrors)&&(this.__getterCache.validationErrors=void 0)}render(){var t=this.props;return oq({props:Ne({},t,{value:this.props.value!==void 0?this.props.value:this.state.value}),validationMessageGuid:this.state.validationMessageGuid,isValidationMessageVisible:this.state.isValidationMessageVisible,rootElementRef:this.rootElementRef,widgetRef:this.widgetRef,onFocusIn:this.onFocusIn,cssClasses:this.cssClasses,shouldShowValidationMessage:this.shouldShowValidationMessage,aria:this.aria,validationErrors:this.validationErrors,validationMessageTarget:this.validationMessageTarget,restAttributes:this.restAttributes})}}CD.defaultProps=lq;function xD(e){var t,i=ft();return e?(t=i.getComputedStyle)===null||t===void 0?void 0:t.call(i,e):null}var uq=[[22,16],[18,16]],dq=[[[12,8],[20,18]],[[16,10],[16,14]]];function wD(){var e=gn();return{isMaterialTheme:Ei(e),isCompactTheme:vL(e)}}function hq(){var{isCompactTheme:e,isMaterialTheme:t}=wD();return uq[+t][+e]}function cq(e){var{isCompactTheme:t,isMaterialTheme:i}=wD();return dq[+e][+i][+t]}function fq(e,t){var i=cq(t),r=hq(),n=i/r;return Math.ceil(n*e)}var pq=["isChecked","size"],mq=e=>{var{cssStyles:t,elementRef:i}=e;return wi(1,"span","dx-checkbox-icon",null,1,{style:X0(t)},null,i)},gq={isChecked:!1};class SD extends Vn{constructor(t){super(t),this.state={},this.elementRef=Yi(),this.__getterCache={},this.updateFontSize=this.updateFontSize.bind(this),this.setIconFontSize=this.setIconFontSize.bind(this),this.getIconSize=this.getIconSize.bind(this),this.getComputedIconSize=this.getComputedIconSize.bind(this)}createEffects(){return[new oi(this.updateFontSize,[this.props.isChecked,this.props.size])]}updateEffects(){var t;(t=this._effects[0])===null||t===void 0||t.update([this.props.isChecked,this.props.size])}updateFontSize(){var{isChecked:t,size:i}=this.props;if(ht()&&i){var r=this.getIconSize(i),n=fq(r,t);this.setIconFontSize(n)}}setIconFontSize(t){var i=this.elementRef.current;i.style.fontSize="".concat(t,"px")}getIconSize(t){return ei(t)?t:t.endsWith("px")?parseInt(t,10):this.getComputedIconSize()}getComputedIconSize(){var t=this.elementRef.current,i=xD(t),r=parseInt(i==null?void 0:i.width,10);return r}get cssStyles(){return this.__getterCache.cssStyles!==void 0?this.__getterCache.cssStyles:this.__getterCache.cssStyles=(()=>{var{size:t}=this.props,i=hl("width",t),r=hl("height",t);return{height:r,width:i}})()}get restAttributes(){var t=this.props,i=ui(t,pq);return i}componentWillUpdate(t,i,r){super.componentWillUpdate(),this.props.size!==t.size&&(this.__getterCache.cssStyles=void 0)}render(){var t=this.props;return mq({props:Ne({},t),elementRef:this.elementRef,setIconFontSize:this.setIconFontSize,getIconSize:this.getIconSize,getComputedIconSize:this.getComputedIconSize,cssStyles:this.cssStyles,restAttributes:this.restAttributes})}}SD.defaultProps=gq;var vq=["accessKey","activeStateEnabled","aria","className","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","iconSize","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","saveValueChangeEvent","tabIndex","text","validationError","validationErrors","validationMessageMode","validationStatus","value","valueChange","visible","width"],_q=e=>{var{text:t,value:i}=e,r=i,n=r===null,a={"dx-checkbox":!0,"dx-checkbox-checked":r===!0,"dx-checkbox-has-text":!!t,"dx-checkbox-indeterminate":n};return Gr(a)},bq=e=>{var{aria:t,cssClasses:i,editorRef:r,keyDown:n,onWidgetClick:a,props:{accessKey:s,activeStateEnabled:o,className:l,disabled:u,focusStateEnabled:d,height:c,hint:h,hoverStateEnabled:f,iconSize:p,isValid:g,name:m,onFocusIn:v,readOnly:b,rtlEnabled:E,tabIndex:I,text:R,validationError:N,validationErrors:j,validationMessageMode:V,validationStatus:H,value:W,visible:G,width:P},restAttributes:A}=e;return Er(ti(2,CD,Ne({aria:t,classes:i,onClick:a,onKeyDown:n,accessKey:s,activeStateEnabled:o,focusStateEnabled:d,hoverStateEnabled:f,className:l,disabled:u,readOnly:b,hint:h,height:c,width:P,rtlEnabled:E,tabIndex:I,visible:G,validationError:N,validationErrors:j,validationMessageMode:V,validationStatus:H,isValid:g,onFocusIn:v},A,{children:_a([Er(wi(64,"input",null,null,1,Ne({type:"hidden",value:"".concat(W)},m&&{name:m}))),wi(1,"div","dx-checkbox-container",[ti(2,SD,{size:p,isChecked:W===!0}),R&&wi(1,"span","dx-checkbox-text",R,0)],0)],4)}),null,r))},nr=Object.create(Object.prototype,Ne(Object.getOwnPropertyDescriptors(Wi),Object.getOwnPropertyDescriptors({text:"",activeStateEnabled:!0,hoverStateEnabled:!0,get focusStateEnabled(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},defaultValue:!1,valueChange:()=>{}}))),yq={get text(){return nr.text},get activeStateEnabled(){return nr.activeStateEnabled},get hoverStateEnabled(){return nr.hoverStateEnabled},get focusStateEnabled(){return nr.focusStateEnabled},get defaultValue(){return nr.defaultValue},get valueChange(){return nr.valueChange},get readOnly(){return nr.readOnly},get name(){return nr.name},get validationError(){return nr.validationError},get validationErrors(){return nr.validationErrors},get validationMessageMode(){return nr.validationMessageMode},get validationStatus(){return nr.validationStatus},get isValid(){return nr.isValid},get className(){return nr.className},get disabled(){return nr.disabled},get tabIndex(){return nr.tabIndex},get visible(){return nr.visible},get aria(){return Kc.aria}};let Zc=class extends Dd{constructor(t){super(t),this.editorRef=Yi(),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[kd()]}onWidgetClick(t){var i,{readOnly:r,saveValueChangeEvent:n}=this.props,a=(i=this.props.value!==void 0?this.props.value:this.state.value)!==null&&i!==void 0?i:!1;if(!r){n==null||n(t);var s;this.setState(o=>(s=!a,{value:s})),this.props.valueChange(s)}}keyDown(t){var{onKeyDown:i}=this.props,{keyName:r,originalEvent:n,which:a}=t,s=i==null?void 0:i(t);if(s!=null&&s.cancel)return s;(r==="space"||a==="space")&&(n.preventDefault(),this.onWidgetClick(n))}get cssClasses(){return _q(Ne({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}))}get aria(){var t=(this.props.value!==void 0?this.props.value:this.state.value)===!0,i=(this.props.value!==void 0?this.props.value:this.state.value)===null,r={role:"checkbox",checked:i?"mixed":"".concat(t)};return Ne({},r,this.props.aria)}get restAttributes(){var t=Ne({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),i=ui(t,vq);return i}focus(){this.editorRef.current.focus()}blur(){this.editorRef.current.blur()}render(){var t=this.props;return bq({props:Ne({},t,{value:this.props.value!==void 0?this.props.value:this.state.value}),editorRef:this.editorRef,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,cssClasses:this.cssClasses,aria:this.aria,restAttributes:this.restAttributes})}};function Cq(e){var t=["value"];return Object.keys(e).reduce((i,r)=>{var n=e[r],a=t.some(s=>s===r)?"default"+r.charAt(0).toUpperCase()+r.slice(1):r;return i[a]=n,i},{})}Zc.defaultProps=yq;var t1=[];function xq(e){t1.push(e),Zc.defaultProps=Object.create(Object.prototype,Ne(Object.getOwnPropertyDescriptors(Zc.defaultProps),Object.getOwnPropertyDescriptors(Cq(cl(t1)))))}class Js extends GK{getProps(){var t=super.getProps();return t.onKeyDown=this._wrapKeyDownHandler(t.onKeyDown),t}focus(){var t;return(t=this.viewRef)===null||t===void 0?void 0:t.focus(...arguments)}blur(){var t;return(t=this.viewRef)===null||t===void 0?void 0:t.blur(...arguments)}_getActionConfigs(){return{onFocusIn:{},onClick:{}}}get _propsInfo(){return{twoWay:[["value","defaultValue","valueChange"]],allowNull:["defaultValue","validationError","validationErrors","value"],elements:[],templates:[],props:["text","iconSize","activeStateEnabled","hoverStateEnabled","focusStateEnabled","saveValueChangeEvent","defaultValue","valueChange","readOnly","name","validationError","validationErrors","validationMessageMode","validationStatus","isValid","onFocusIn","className","accessKey","disabled","height","hint","onClick","onKeyDown","rtlEnabled","tabIndex","visible","width","aria","value"]}}get _viewComponent(){return Zc}}Tt("dxCheckBox",Js);Js.defaultOptions=xq;var ds="dx-treeview",pr="".concat(ds,"-node"),Kn="".concat(pr,"-container"),Km="".concat(pr,"-loadindicator"),_s="".concat(pr,"-container-opened"),Ul="".concat(pr,"-is-leaf"),tr="".concat(ds,"-item"),wq="".concat(tr,"-with-checkbox"),Sq="".concat(tr,"-without-checkbox"),Eq="".concat(tr,"-data"),Gl="".concat(ds,"-toggle-item-visibility"),Tq="".concat(ds,"-loadindicator"),Iq="".concat(ds,"-loadindicator-wrapper"),qm="".concat(ds,"-toggle-item-visibility-opened"),Xm="".concat(ds,"-select-all-item"),i1="dx-state-invisible",Kl="dx-state-disabled",Aq="dx-state-selected",Ym="dxTreeView_expand",Ih="data-item-id",Oq=WO.inherit({_supportedKeys:function(e){var t=n=>{var a=J(this.option("focusedElement"));if(a.length){n.target=a,n.currentTarget=a,this._itemClickHandler(n,a.children("."+tr));var s=this._getEventNameByOption(this.option("expandEvent")),o=s===Be(zt,Ym);o&&this._expandEventHandler(n)}},i=n=>{n.preventDefault();var a=J(this.option("focusedElement")),s=this._getCheckBoxInstance(a);if(!s.option("disabled")){var o=s.option("value");this._updateItemSelection(!o,a.find("."+tr).get(0),!0)}},r=function(n,a){if(this.option("expandAllEnabled")){a.preventDefault();var s=J(this.option("focusedElement"));if(s.length){var o=this._getItemData(s.find(".".concat(tr)));this._toggleExpandedNestedItems([o],n)}}};return ce(this.callBase(),{enter:this._showCheckboxes()?i:t,space:this._showCheckboxes()?i:t,asterisk:r.bind(this,!0),minus:r.bind(this,!1)})},_toggleExpandedNestedItems:function(e,t){if(e)for(var i=0,r=e.length;i<r;i++){var n=e[i],a=this._dataAdapter.getNodeByItem(n);this._toggleExpandedState(a,t),this._toggleExpandedNestedItems(n.items,t)}},_getNodeElement:function(e,t){var i=this._encodeString(e.internalFields.key);if(t)return t.$nodeByKey||(t.$nodeByKey={},this.$element().find(".".concat(pr)).each(function(){var n=J(this),a=n.attr(Ih);t.$nodeByKey[a]=n})),t.$nodeByKey[i]||J();var r=this.$element().get(0).querySelector("[".concat(Ih,'="').concat(i,'"]'));return J(r)},_activeStateUnit:"."+tr,_widgetClass:function(){return ds},_getDefaultOptions:function(){var e=ce(this.callBase(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",selectAllText:Ae.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",useNativeScrolling:!0,virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null});return ce(!0,e,{integrationOptions:{useDeferUpdateForTemplates:!1}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!Us},options:{useNativeScrolling:!1}}])},_initSelectedItems:Ee,_syncSelectionOptions:GT,_fireSelectionChanged:function(){var e=this._selectionChangePromise;Ke(e).done((function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}).bind(this))},_createSelectAllValueChangedAction:function(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})},_fireSelectAllValueChanged:function(e){this._selectAllValueChangedAction({value:e})},_checkBoxModeChange:function(e,t){if(t==="none"||e==="none"){this.repaint();return}var i=this._$selectAllItem&&this._$selectAllItem.length;switch(e){case"selectAll":i||(this._createSelectAllValueChangedAction(),this._renderSelectAllItem());break;case"normal":i&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}},_removeSelection:function(){var e=this;ve(this._dataAdapter.getFullData(),function(t,i){e._hasChildren(i)&&e._dataAdapter.toggleSelection(i.internalFields.key,!1,!0)})},_optionChanged:function(e){var{name:t,value:i,previousValue:r}=e;switch(t){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",i);break;case"showCheckBoxesMode":this._checkBoxModeChange(i,r);break;case"scrollDirection":this.getScrollable().option("direction",i);break;case"useNativeScrolling":this.getScrollable().option("useNative",i);break;case"items":delete this._$selectAllItem,this.callBase(e);break;case"dataSource":this.callBase(e),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._initExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":break;case"selectionMode":this._initDataAdapter(),this.callBase(e);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",e.value),this.repaint();break;default:this.callBase(e)}},_initDataSource:function(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done((function(e){e&&e.length&&this.option("items",e)}).bind(this)):(this.callBase(),this._isVirtualMode()&&this._initVirtualMode())},_initVirtualMode:function(){var e=this._filter;e.custom||(e.custom=this._dataSource.filter()),e.internal||(e.internal=[this.option("parentIdExpr"),this.option("rootValue")])},_useCustomChildrenLoader:function(){return We(this.option("createChildren"))&&this._isDataStructurePlain()},_loadChildrenByCustomLoader:function(e){var t=this.option("createChildren").call(this,e);return Array.isArray(t)?new we().resolve(t).promise():t&&We(t.then)?Gi(t):new we().resolve([]).promise()},_combineFilter:function(){return!this._filter.custom||!this._filter.custom.length?this._filter.internal:[this._filter.custom,this._filter.internal]},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this._filter={},this.callBase(),this._initStoreChangeHandlers()},_dataSourceChangedHandler:function(e){var t=this.option("items");this._initialized&&this._isVirtualMode()&&t.length||this.option("items",e)},_removeTreeViewLoadIndicator:function(){this._treeViewLoadIndicator&&(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)},_createTreeViewLoadIndicator:function(){return this._treeViewLoadIndicator=J("<div>").addClass(Tq),this._createComponent(this._treeViewLoadIndicator,Rr,{}),this._treeViewLoadIndicator},_dataSourceLoadingChangedHandler:function(e){var t;if(this._isVirtualMode()&&(t=this._combineFilter(),this._dataSource.filter(t)),e&&!this._dataSource.isLoaded()){this.option("items",[]);var i=J("<div>").addClass(Iq);this._createTreeViewLoadIndicator().appendTo(i),this.itemsContainer().append(i),this._isVirtualMode()&&this._dataSource.filter()!==t&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()},_initStoreChangeHandlers:function(){this.option("dataStructure")==="plain"&&this._dataSource&&this._dataSource.store().on("inserted",e=>{this.option().items=this.option("items").concat(e),this._dataAdapter.addItem(e),this._dataAdapter.isFiltered(e)&&this._updateLevel(this._parentIdGetter(e))}).on("removed",e=>{var t=this._dataAdapter.getNodeByKey(e);oe(t)&&(this.option("items")[this._dataAdapter.getIndexByKey(t.internalFields.key)]=0,this._markChildrenItemsToRemove(t),this._removeItems(),this._dataAdapter.removeItem(e),this._updateLevel(this._parentIdGetter(t)))})},_markChildrenItemsToRemove:function(e){var t=e.internalFields.childrenKeys;ve(t,(i,r)=>{this.option("items")[this._dataAdapter.getIndexByKey(r)]=0,this._markChildrenItemsToRemove(this._dataAdapter.getNodeByKey(r))})},_removeItems:function(){var e=ce(!0,[],this.option("items")),t=0;ve(e,(i,r)=>{r||(this.option("items").splice(i-t,1),t++)})},_updateLevel:function(e){var t=this._getContainerByParentKey(e);this._renderItems(t,this._dataAdapter.getChildrenNodes(e))},_getOldContainer:function(e){if(e.length)return e.children(".".concat(Kn));var t=this.getScrollable();return t?J(t.content()).children():J()},_getContainerByParentKey:function(e){var t=this._dataAdapter.getNodeByKey(e),i=t?this._getNodeElement(t):[];this._getOldContainer(i).remove();var r=this._renderNodeContainer(i);if(this._isRootLevel(e)){var n=this.getScrollable();n||this._renderScrollableContainer(),J(n.content()).append(r)}return r},_isRootLevel:function(e){return e===this.option("rootValue")},_getAccessors:function(){var e=this.callBase();return e.push("hasItems"),e},_getDataAdapterOptions:function(){return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:this._dataSource&&this._dataSource.sort()}},_initMarkup:function(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),this.callBase(),this.setAria("role","tree")},_renderContentImpl:function(){var e=this._renderNodeContainer();J(this.getScrollable().content()).append(e),!(!this.option("items")||!this.option("items").length)&&(this._renderItems(e,this._dataAdapter.getRootNodes()),this._initExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(e)))},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")},_isDataStructurePlain:function(){return this.option("dataStructure")==="plain"},_fireContentReadyAction:function(){var e=this.getDataSource(),t=e&&!e.isLoaded(),i=this.getScrollable();i&&ht()&&i.update(),t||this.callBase(),i&&ht()&&i.update()},_renderScrollableContainer:function(){this._scrollable=this._createComponent(J("<div>").appendTo(this.$element()),Mr,{useNative:this.option("useNativeScrolling"),direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer:function(e){var t=J("<ul>").addClass(Kn);if(this.setAria("role","group",t),e&&e.length){var i=this._getItemData(e.children("."+tr));this._expandedGetter(i)&&t.addClass(_s),t.appendTo(e)}return t},_createDOMElement:function(e,t){var i=J("<li>").addClass(pr).attr(Ih,this._encodeString(t.internalFields.key)).prependTo(e);return this.setAria({role:"treeitem",label:this._displayGetter(t.internalFields.item)||"",expanded:t.internalFields.expanded||!1,level:this._getLevel(e)},i),i},_getLevel:function(e){var t=e.parent();return t.hasClass("dx-scrollable-content")?1:parseInt(t.attr("aria-level"))+1},_showCheckboxes:function(){return this.option("showCheckBoxesMode")!=="none"},_selectAllEnabled:function(){return this.option("showCheckBoxesMode")==="selectAll"&&!this._isSingleSelection()},_renderItems:function(e,t){for(var i=t.length-1,r=i;r>=0;r--)this._renderItem(r,t[r],e);this._renderedItemsCount+=t.length},_renderItem:function(e,t,i){var r=this._createDOMElement(i,t),n=t.internalFields,a=this._showCheckboxes();r.addClass(a?wq:Sq),r.toggleClass(i1,n.item.visible===!1),a&&this._renderCheckBox(r,t),this.setAria("selected",n.selected,r),this._toggleSelectedClass(r,n.selected),this.callBase(this._renderedItemsCount+e,n.item,r),n.item.visible!==!1&&this._renderChildren(r,t)},_setAriaSelected:function(){},_renderChildren:function(e,t){if(!this._hasChildren(t)){this._addLeafClass(e);return}this._renderToggleItemVisibilityIcon(e,t),!(this.option("deferRendering")&&!t.internalFields.expanded)&&this._loadSublevel(t).done(i=>{this._renderSublevel(e,this._getActualNode(t),i)})},_getActualNode:function(e){return this._dataAdapter.getNodeByKey(e.internalFields.key)},_hasChildren:function(e){return this._isVirtualMode()||this._useCustomChildrenLoader()?this._hasItemsGetter(e.internalFields.item)!==!1:this.callBase(e)},_loadSublevel:function(e){var t=new we,i=this._getChildNodes(e);return i.length?t.resolve(i):this._loadNestedItems(e).done(r=>{t.resolve(this._dataAdapter.getNodesByItems(r))}),t.promise()},_renderSublevel:function(e,t,i){var r=this._renderNodeContainer(e,t),n=i.filter(s=>t.internalFields.childrenKeys.indexOf(s.internalFields.key)!==-1);if(this._renderItems(r,n),n.length&&!t.internalFields.selected){var a=n[0];this._updateParentsState(a,this._getNodeElement(a))}this._normalizeIconState(e,n.length),t.internalFields.expanded&&r.addClass(_s)},_executeItemRenderAction:function(e,t,i){var r=this._getNode(i);this._getItemRenderAction()({itemElement:i,itemIndex:e,itemData:t,node:this._dataAdapter.getPublicNode(r)})},_addLeafClass:function(e){e.addClass(Ul)},_expandEventHandler:function(e){var t=J(e.currentTarget.parentNode);t.hasClass(Ul)||this._toggleExpandedState(e.currentTarget,void 0,e)},_initExpandEvent:function(){var e=this._getEventNameByOption(this.option("expandEvent")),t=this._itemContainer(),i=this._itemSelector();he.off(t,"."+Ym,i),he.on(t,e,i,this._expandEventHandler.bind(this))},_getEventNameByOption:function(e){var t=e==="click"?zt:bd;return Be(t,Ym)},_getNode:function(e){if(!oe(e))return null;if(e.internalFields)return e;if(_u(e))return this._dataAdapter.getNodeByKey(e);var t=J(e).get(0);return t?Re.isElementNode(t)?this._getNodeByElement(t):this._dataAdapter.getNodeByItem(t):null},_getNodeByElement:function(e){var t=J(e).closest("."+pr),i=this._decodeString(t.attr(Ih));return this._dataAdapter.getNodeByKey(i)},_toggleExpandedState:function(e,t,i){var r=this._getNode(e);if(!r)return new we().reject().promise();if(r.internalFields.disabled)return new we().reject().promise();var n=r.internalFields.expanded;if(n===t)return new we().resolve().promise();if(this._hasChildren(r)){var a=this._getNodeElement(r);if(a.find(".".concat(Km,":not(.").concat(i1,")")).length)return new we().reject().promise();this._createLoadIndicator(a)}return oe(t)||(t=!n),this._dataAdapter.toggleExpansion(r.internalFields.key,t),this._updateExpandedItemsUI(r,t,i)},_createLoadIndicator:function(e){var t=e.children("."+Gl),i=e.children(".".concat(Kn));t.hasClass(qm)||i.not(":empty").length||(this._createComponent(J("<div>").addClass(Km),Rr,{}).$element().appendTo(e),t.hide())},_renderToggleItemVisibilityIcon:function(e,t){var i=J("<div>").addClass(Gl).appendTo(e);t.internalFields.expanded&&(i.addClass(qm),e.parent().addClass(_s)),t.internalFields.disabled&&i.addClass(Kl),this._renderToggleItemVisibilityIconClick(i,t)},_renderToggleItemVisibilityIconClick:function(e,t){var i=Be(zt,this.NAME);he.off(e,i),he.on(e,i,r=>{this._toggleExpandedState(t.internalFields.key,void 0,r)})},_updateExpandedItemsUI:function(e,t,i){var r=this._getNodeElement(e),n=!r.length||t&&r.is(":hidden");if(this.option("expandNodesRecursive")&&n){var a=this._getNode(e.internalFields.parentKey);a&&this._updateExpandedItemsUI(a,t,i)}var s=r.children("."+Gl),o=r.children(".".concat(Kn));s.toggleClass(qm,t);var l=o.length>0,u=new we;return!t||l&&!o.is(":empty")?(this._animateNodeContainer(e,t,i,u),u.promise()):e.internalFields.childrenKeys.length===0&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(e,t,i,u),u.promise()):(this._renderSublevel(r,e,this._getChildNodes(e)),this._fireContentReadyAction(),this._animateNodeContainer(e,t,i,u),u.promise())},_loadNestedItemsWithUpdate:function(e,t,i,r){var n=this._getNodeElement(e);this._loadNestedItems(e).done(a=>{var s=this._getActualNode(e);if(this._renderSublevel(n,s,this._dataAdapter.getNodesByItems(a)),!a||!a.length){r.resolve();return}this._fireContentReadyAction(),this._animateNodeContainer(s,t,i,r)})},_loadNestedItems:function(e){if(this._useCustomChildrenLoader()){var t=this._dataAdapter.getPublicNode(e);return this._loadChildrenByCustomLoader(t).done(i=>{this._areNodesExists(i)||this._appendItems(i)})}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),e.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done(i=>{this._areNodesExists(i)||this._appendItems(i)})):new we().resolve([]).promise()},_areNodesExists:function(e,t){var i=this.keyOf(e[0]),r=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(i,r)},_appendItems:function(e){this.option().items=this.option("items").concat(e),this._initDataAdapter()},_animateNodeContainer:function(e,t,i,r){var n=this._getNodeElement(e),a=n.children(".".concat(Kn));e&&r&&a.length===0&&r.resolve(),a.addClass(_s);var s=ct(a);pi.stop(a,!0),pi.animate(a,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:t?0:s},to:{maxHeight:t?s:0},complete:(function(){a.css("maxHeight","none"),a.toggleClass(_s,t),this.setAria("expanded",t,n),this.getScrollable().update(),this._fireExpandedStateUpdatedEvent(t,e,i),r&&r.resolve()}).bind(this)})},_fireExpandedStateUpdatedEvent:function(e,t,i){if(this._hasChildren(t)){var r=e?"onItemExpanded":"onItemCollapsed";if(oe(i))this._itemDXEventHandler(i,r,{node:this._dataAdapter.getPublicNode(t)});else{var n=this._getNodeElement(t);this._itemEventHandler(n,r,{event:i,node:this._dataAdapter.getPublicNode(t)})}}},_normalizeIconState:function(e,t){var i=e.find(".".concat(Km));if(i.length){var r;(r=Rr.getInstance(i))===null||r===void 0||r.option("visible",!1)}var n=e.find(".".concat(Gl));if(t){n.show();return}n.removeClass(Gl),e.addClass(Ul)},_emptyMessageContainer:function(){var e=this.getScrollable();return e?J(e.content()):this.callBase()},_renderContent:function(){var e=this.option("items");e&&e.length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem:function(e){e=e||this.$element().find(".".concat(Kn)).first(),this._$selectAllItem=J("<div>").addClass(Xm);var t=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,Js,{value:t,text:this.option("selectAllText"),onValueChanged:this._onSelectAllCheckboxValueChanged.bind(this)}),this._toggleSelectedClass(this._$selectAllItem,t),e.before(this._$selectAllItem)},_onSelectAllCheckboxValueChanged:function(e){this._toggleSelectAll(e),this._fireSelectAllValueChanged(e.value)},_toggleSelectAll:function(e){this._dataAdapter.toggleSelectAll(e.value),this._updateItemsUI(),this._fireSelectionChanged()},_renderCheckBox:function(e,t){var i=J("<div>").appendTo(e);this._createComponent(i,Js,{value:t.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,disabled:this._disabledGetter(t)})},_toggleSelectedClass:function(e,t){e.toggleClass(Aq,!!t)},_toggleNodeDisabledState:function(e,t){var i=this._getNodeElement(e),r=i.find("."+tr).eq(0);if(this._dataAdapter.toggleNodeDisabledState(e.internalFields.key,t),r.toggleClass(Kl,!!t),this._showCheckboxes()){var n=this._getCheckBoxInstance(i);n.option("disabled",!!t)}},_itemOptionChanged:function(e,t,i){var r=this._dataAdapter.getNodeByItem(e);t===this.option("disabledExpr")&&this._toggleNodeDisabledState(r,i)},_changeCheckboxValue:function(e){var t=J(e.element).parent("."+pr),i=t.children("."+tr),r=this._getItemData(i),n=this._getNodeByElement(i),a=e.value;n&&n.internalFields.selected===a||this._updateItemSelection(a,r,e.event)},_isSingleSelection:function(){return this.option("selectionMode")==="single"},_isRecursiveSelection:function(){return this.option("selectNodesRecursive")&&this.option("selectionMode")!=="single"},_isLastSelectedBranch:function(e,t,i){var r=t.indexOf(e.key);return r>=0&&t.splice(r,1),i&&ve(e.children,(function(n,a){this._isLastSelectedBranch(a,t,!0)}).bind(this)),e.parent&&this._isLastSelectedBranch(e.parent,t),t.length===0},_isLastRequired:function(e){var t=this.option("selectionRequired"),i=this._isSingleSelection(),r=this.getSelectedNodeKeys();if(t)return i?r.length===1:this._isLastSelectedBranch(e.internalFields.publicNode,r.slice(),!0)},_updateItemSelection:function(e,t,i){var r=this._getNode(t);if(!r||r.visible===!1)return!1;if(r.internalFields.selected===e)return!0;if(!e&&this._isLastRequired(r)){if(this._showCheckboxes()){var n=this._getNodeElement(r);this._getCheckBoxInstance(n).option("value",!0)}return!1}if(e&&this._isSingleSelection()){var a=this.getSelectedNodeKeys();ve(a,(l,u)=>{this._dataAdapter.toggleSelection(u,!1),this._updateItemsUI(),this._fireItemSelectionChanged(this._getNode(u))})}this._dataAdapter.toggleSelection(r.internalFields.key,e);var s=this._dataAdapter.isAllSelected(),o=this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value")!==s;return this._updateItemsUI(),this._fireItemSelectionChanged(r,i),this._fireSelectionChanged(),o&&this._fireSelectAllValueChanged(s),!0},_fireItemSelectionChanged:function(e,t){var i=t||this._findItemElementByItem(e.internalFields.item),r=t?this._itemDXEventHandler:this._itemEventHandler;r.call(this,i,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(e),itemData:e.internalFields.item})},_getCheckBoxInstance:function(e){return e.children(".dx-checkbox").dxCheckBox("instance")},_updateItemsUI:function(){var e={};if(ve(this._dataAdapter.getData(),(i,r)=>{var n=this._getNodeElement(r,e),a=r.internalFields.selected;n.length&&(this._toggleSelectedClass(n,a),this.setAria("selected",a,n),this._showCheckboxes()&&this._getCheckBoxInstance(n).option("value",a))}),this._selectAllEnabled()){var t=this._$selectAllItem.dxCheckBox("instance");t.option("onValueChanged",void 0),t.option("value",this._dataAdapter.isAllSelected()),t.option("onValueChanged",this._onSelectAllCheckboxValueChanged.bind(this))}},_updateParentsState:function(e,t){if(t){var i=this._dataAdapter.getNodeByKey(e.internalFields.parentKey),r=J(t.parents("."+pr)[0]);if(this._showCheckboxes()){var n=i.internalFields.selected;this._getCheckBoxInstance(r).option("value",n),this._toggleSelectedClass(r,n)}i.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(i,r)}},_itemEventHandlerImpl:function(e,t,i){var r=J(e).closest("."+pr).children("."+tr);return t(ce(this._extendActionArgs(r),i))},_itemContextMenuHandler:function(e){this._createEventHandler("onItemContextMenu",e)},_itemHoldHandler:function(e){this._createEventHandler("onItemHold",e)},_createEventHandler:function(e,t){var i=this._getNodeByElement(t.currentTarget);this._itemDXEventHandler(t,e,{node:this._dataAdapter.getPublicNode(i)})},_itemClass:function(){return tr},_itemDataKey:function(){return Eq},_attachClickEvent:function(){var e="."+this._itemClass(),t="."+pr+", ."+Xm,i=Be(zt,this.NAME),r=Be(Vt.down,this.NAME),n=this._itemContainer(),a=this;he.off(n,i,e),he.off(n,r,t),he.on(n,i,e,function(s){a._itemClickHandler(s,J(this))}),he.on(n,r,t,function(s){a._itemPointerDownHandler(s)})},_itemClickHandler:function(e,t){var i=this._getItemData(t),r=this._getNodeByElement(t);this._itemDXEventHandler(e,"onItemClick",{node:this._dataAdapter.getPublicNode(r)}),this.option("selectByClick")&&!e.isDefaultPrevented()&&this._updateItemSelection(!r.internalFields.selected,i,e)},_updateSelectionToFirstItem:function(e,t){for(var i=t;i>=0;){var r=J(e[i]);this._updateItemSelection(!0,r.find("."+tr).get(0)),i--}},_updateSelectionToLastItem:function(e,t){for(var i=e.length,r=t;r<i;){var n=J(e[r]);this._updateItemSelection(!0,n.find("."+tr).get(0)),r++}},_focusInHandler:function(e){if(this._updateFocusState(e,!0),this.option("focusedElement")){clearTimeout(this._setFocusedItemTimeout),this._setFocusedItemTimeout=setTimeout(()=>{this._setFocusedItem(J(this.option("focusedElement")))});return}var t=this._getActiveItem();this.option("focusedElement",ot(t.closest("."+pr)))},_setFocusedItem:function(e){!e||!e.length||e.children().hasClass(Kl)||this.callBase(e)},_itemPointerDownHandler:function(e){if(this.option("focusStateEnabled")){var t=J(e.target).closest("."+pr+", ."+Xm);if(t.length){var i=t.hasClass(Kl)?null:t;this.option("focusedElement",ot(i))}}},_findNonDisabledNodes:function(e){return e.not(function(){return J(this).children("."+tr).hasClass(Kl)})},_moveFocus:function(e,t){var i="up",r="down",n="first",a="last",s=this.option("rtlEnabled")?"right":"left",o=this.option("rtlEnabled")?"left":"right";this.$element().find(".".concat(Kn)).each(function(){pi.stop(this,!0)});var l=this._findNonDisabledNodes(this._nodeElements());if(!(!l||!l.length))switch(e){case i:var u=this._prevItem(l);this.option("focusedElement",ot(u));var d=this._getNodeItemElement(u);this.getScrollable().scrollToElement(d),t.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,d);break;case r:var c=this._nextItem(l);this.option("focusedElement",ot(c));var h=this._getNodeItemElement(c);this.getScrollable().scrollToElement(h),t.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,h);break;case n:var f=l.first();t.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(l,l.index(this._prevItem(l))),this.option("focusedElement",ot(f)),this.getScrollable().scrollToElement(this._getNodeItemElement(f));break;case a:var p=l.last();t.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(l,l.index(this._nextItem(l))),this.option("focusedElement",ot(p)),this.getScrollable().scrollToElement(this._getNodeItemElement(p));break;case o:this._expandFocusedContainer();break;case s:this._collapseFocusedContainer();break;default:this.callBase.apply(this,arguments);return}},_getNodeItemElement:function(e){return e.find("."+tr).get(0)},_nodeElements:function(){return this.$element().find("."+pr).not(":hidden")},_expandFocusedContainer:function(){var e=J(this.option("focusedElement"));if(!(!e.length||e.hasClass(Ul))){var t=e.find(".".concat(Kn)).eq(0);if(t.hasClass(_s)){var i=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));this.option("focusedElement",ot(i)),this.getScrollable().scrollToElement(this._getNodeItemElement(i));return}var r=this._getNodeByElement(e.children("."+tr));this._toggleExpandedState(r,!0)}},_getClosestNonDisabledNode:function(e){do e=e.parent().closest("."+pr);while(e.children(".dx-treeview-item.dx-state-disabled").length);return e},_collapseFocusedContainer:function(){var e=J(this.option("focusedElement"));if(e.length){var t=e.find(".".concat(Kn)).eq(0);if(!e.hasClass(Ul)&&t.hasClass(_s)){var i=this._getNodeByElement(e.children("."+tr));this._toggleExpandedState(i,!1)}else{var r=this._getClosestNonDisabledNode(e);r.length&&this.option("focusedElement",ot(r)),this.getScrollable().scrollToElement(this._getNodeItemElement(r))}}},_encodeString:function(e){return nt(e)?encodeURI(e):e},_decodeString:function(e){return nt(e)?decodeURI(e):e},getScrollable:function(){return this._scrollable},updateDimensions:function(){var e=new we,t=this.getScrollable();return t?t.update().done(()=>{e.resolveWith(this)}):e.resolveWith(this),e.promise()},selectItem:function(e){return this._updateItemSelection(!0,e)},unselectItem:function(e){return this._updateItemSelection(!1,e)},expandItem:function(e){return this._toggleExpandedState(e,!0)},collapseItem:function(e){return this._toggleExpandedState(e,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},getSelectedNodes:function(){return this.getSelectedNodeKeys().map(e=>{var t=this._dataAdapter.getNodeByKey(e);return this._dataAdapter.getPublicNode(t)})},getSelectedNodesKeys:function(){return xt.log("W0002","dxTreeView","getSelectedNodesKeys","20.1","Use the 'getSelectedNodeKeys' method instead"),this.getSelectedNodeKeys()},getSelectedNodeKeys:function(){return this._dataAdapter.getSelectedNodesKeys()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})},expandAll:function(){var e=this._dataAdapter;ve(e.getData(),(t,i)=>e.toggleExpansion(i.internalFields.key,!0)),this.repaint()},collapseAll:function(){ve(this._dataAdapter.getExpandedNodesKeys(),(function(e,t){this._toggleExpandedState(t,!1)}).bind(this))},scrollToItem:function(e){var t=this._getNode(e);if(!t)return new we().reject().promise();for(var i=[],r=t.internalFields.publicNode.parent;r!=null;)r.expanded||i.push(r.key),r=r.parent;var n=new we;return this._expandNodes(i.reverse()).always(()=>{var a=this._getNodeElement(t);a&&a.length?(this.scrollToElementTopLeft(a.get(0)),n.resolve()):n.reject()}),n.promise()},scrollToElementTopLeft:function(e){var t=this.getScrollable(),{scrollDirection:i,rtlEnabled:r}=this.option(),n={top:0,left:0},a=F2(V2,e);if(i!==jc){var s=J(t.container()).get(0);n.left=r?a.left+e.offsetWidth-s.clientWidth:a.left}i!==N2&&(n.top=a.top),t.scrollTo(n)},_expandNodes:function(e){if(!e||e.length===0)return new we().resolve().promise();var t=new we,i=e.map(r=>this.expandItem(r));return Ke.apply(J,i).done(()=>t.resolve()).fail(()=>t.reject()),t.promise()},_dispose:function(){this.callBase(),clearTimeout(this._setFocusedItemTimeout)}});Zs.setEditorClass(Md);var ED="dx-treeview",Dq="".concat(ED,"-node-container"),Ld=Oq.inherit(Zs).inherit({_addWidgetPrefix:function(e){return"".concat(ED,"-").concat(e)},_optionChanged:function(e){switch(e.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer(),this.option("focusedElement",null);break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(e)}},_updateDataAdapter:function(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)},_getDataAdapterOptions:function(){return ce(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_updateSearch:function(){if(this._searchEditor){var e=this._getSearchEditorOptions();this._searchEditor.option(e)}},_repaintContainer:function(){var e=this.$element().find(".".concat(Dq)).first(),t;e.length&&(e.empty(),t=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(t),this._renderItems(e,t),this._fireContentReadyAction())},_itemContainer:function(e){return this._scrollable&&e?J(this._scrollable.content()):this.callBase()},_addWidgetClass:function(){this.$element().addClass(this._widgetClass())},_clean:function(){this.callBase(),this._removeSearchBox()}});Tt("dxTreeView",Ld);var kq="column-chooser",TD="column-chooser-button",r1="notouch-action",Rq="column-chooser-list",Mq="column-chooser-plain",Bq="column-chooser-mode-drag",Pq="column-chooser-mode-select",ID="column-chooser",n1="dx-column-chooser-item",Lq=".dx-treeview-node",Fq=".dx-checkbox",Nq=300,a1=function(e,t){var i=[],r=e.option("columnChooser.mode")==="select";return t.length&&ve(t,function(n,a){var s={text:a.caption,cssClass:a.cssClass,allowHiding:a.allowHiding,expanded:!0,id:a.index,disabled:!1,disableCheckBox:a.allowHiding===!1,parentId:oe(a.ownerBand)?a.ownerBand:null};r&&(s.selected=a.visible),i.push(s)}),i},Vq=ni.ViewController.inherit({renderShowColumnChooserButton:function(e){var t=this,i=t.addWidgetPrefix(TD),r=t.option("columnChooser.enabled"),n=e.find("."+i),a;r?n.length?n.show():(a=J("<div>").addClass(i).appendTo(e),t._createComponent(a,Ji,{icon:ID,onClick:function(){t.getView("columnChooserView").showColumnChooser()},hint:t.option("columnChooser.title"),integrationOptions:{}})):n.hide()},getPosition:function(){var e=this.getView("rowsView");return{my:"right bottom",at:"right bottom",of:e&&e.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}}),Hq=yd.inherit({_resizeCore:Ee,_isWinDevice:function(){return!!Ye.real().win},_updateList:function(e){var t,i=this._popupContainer.$content(),r=this.option("columnChooser.mode")==="select",n=this._columnChooserList,a=this._columnsController.getChooserColumns(r);if(this._popupContainer.setAria({role:"dialog",label:Ae.format("dxDataGrid-columnChooserTitle")}),r&&n&&e&&e.changeType==="selection"){t=a1(this,a);for(var s=0;s<t.length;s++){var o=t[s].selected,l=t[s].id;l===e.columnIndex&&(o?n.selectItem(l,o):n.unselectItem(l,o))}}else(!r||!n||e==="full")&&(this._popupContainer.$wrapper().toggleClass(this.addWidgetPrefix(Bq),!r).toggleClass(this.addWidgetPrefix(Pq),r),t=a1(this,a),this._renderTreeView(i,t))},_initializePopupContainer:function(){var e=this,t=e.element().addClass(e.addWidgetPrefix(kq)),i=e.option("columnChooser"),r=gn(),n=$I(r),a=Ei(r),s={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,resizeEnabled:!0,copyRootClassesToWrapper:!0,_ignoreCopyRootClassesToWrapperDeprecation:!0,toolbarItems:[{text:i.title,toolbar:"top",location:n||a?"before":"center"}],position:e.getController("columnChooser").getPosition(),width:i.width,height:i.height,rtlEnabled:e.option("rtlEnabled"),onHidden:function(){e._isWinDevice()&&J("body").removeClass(e.addWidgetPrefix(r1))},container:i.container};n||a?ce(s,{showCloseButton:!0}):s.toolbarItems[s.toolbarItems.length]={shortcut:"cancel"},oe(this._popupContainer)?this._popupContainer.option(s):(e._popupContainer=e._createComponent(t,Hn,s),e._popupContainer.on("optionChanged",function(o){o.name==="visible"&&e.renderCompleted.fire()}))},_renderCore:function(e){this._popupContainer&&this._updateList(e)},_renderTreeView:function(e,t){var i=this,r=this.option("columnChooser"),n=r.mode==="select",a={items:t,dataStructure:"plain",activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,itemTemplate:"item",showCheckBoxesMode:"none",rootValue:null,searchEnabled:r.allowSearch,searchTimeout:r.searchTimeout,onItemRendered:function(l){if(l.itemData.disableCheckBox){var u=J(l.itemElement).closest(Lq),d;if(u.length&&(d=u.find(Fq),d.length)){var c=d.data("dxCheckBox");c&&c.option("disabled",!0)}}}},s=e.find(".dx-scrollable").data("dxScrollable"),o=s&&s.scrollTop();n&&!this._columnsController.isBandColumnsUsed()&&e.addClass(this.addWidgetPrefix(Mq)),a.onContentReady=function(l){dr(function(){if(o){var u=J(l.element).find(".dx-scrollable").data("dxScrollable");u&&u.scrollTo({y:o})}i.renderCompleted.fire()})},this._isWinDevice()&&(a.useNativeScrolling=!1),ce(a,n?this._prepareSelectModeConfig():this._prepareDragModeConfig()),this._columnChooserList?(a.searchEnabled||(a.searchValue=""),this._columnChooserList.option(a)):(this._columnChooserList=this._createComponent(e,Ld,a),e.addClass(this.addWidgetPrefix(Rq)))},_prepareDragModeConfig:function(){var e=this.option("columnChooser");return{noDataText:e.emptyPanelText,activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,itemTemplate:function(t,i,r){J(r).text(t.text).parent().addClass(t.cssClass).addClass(n1)}}},_prepareSelectModeConfig:function(){var e=this;return{selectNodesRecursive:!1,showCheckBoxesMode:"normal",onItemSelectionChanged:function(t){var i=e._columnsController.getVisibleColumns().filter(function(n){return!n.command}),r=i.length===1&&!t.itemData.selected;r?t.component.selectItem(t.itemElement):setTimeout(function(){e._columnsController.columnOption(t.itemData.id,"visible",t.itemData.selected)},Nq)}}},_columnOptionChanged:function(e){var t=e.changeTypes,i=e.optionNames,r=this.option("columnChooser.mode")==="select";if(this.callBase(e),r){var n=i.visible&&i.length===1&&e.columnIndex!==void 0,a=i.showInColumnChooser||i.caption||i.visible||t.columns&&i.all;n?this.render(null,{changeType:"selection",columnIndex:e.columnIndex}):a&&this.render(null,"full")}},optionChanged:function(e){switch(e.name){case"columnChooser":this._initializePopupContainer(),this.render(null,"full");break;default:this.callBase(e)}},getColumnElements:function(){var e=[],t,i=this.option("columnChooser.mode")==="select",r=this._columnsController.getChooserColumns(i),n=this._popupContainer&&this._popupContainer.$content(),a=n&&n.find(".dx-treeview-node");return a&&r.forEach(function(s){t=a.filter("[data-item-id = '"+s.index+"']");var o=t.length?t.children("."+n1).get(0):null;e.push(o)}),J(e)},getName:function(){return"columnChooser"},getColumns:function(){return this._columnsController.getChooserColumns()},allowDragging:function(e,t){var i=e&&e.allowHiding&&(t!=="columnChooser"||!e.visible&&this._columnsController.isParentColumnVisible(e.index));return this.isColumnChooserVisible()&&i},getBoundingRect:function(){var e=this._popupContainer&&this._popupContainer.$overlayContent();if(e&&e.is(":visible")){var t=e.offset();return{left:t.left,top:t.top,right:t.left+Pt(e),bottom:t.top+At(e)}}return null},showColumnChooser:function(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show(),this._isWinDevice()&&J("body").addClass(this.addWidgetPrefix(r1))},hideColumnChooser:function(){this._popupContainer&&this._popupContainer.hide()},isColumnChooserVisible:function(){var e=this._popupContainer;return e&&e.option("visible")},publicMethods:function(){return["showColumnChooser","hideColumnChooser"]}}),hb={defaultOptions:function(){return{columnChooser:{enabled:!1,allowSearch:!1,searchTimeout:500,mode:"dragAndDrop",width:250,height:260,title:Ae.format("dxDataGrid-columnChooserTitle"),emptyPanelText:Ae.format("dxDataGrid-columnChooserEmptyText"),container:void 0}}},controllers:{columnChooser:Vq},views:{columnChooserView:Hq},extenders:{views:{headerPanel:{_getToolbarItems:function(){var e=this.callBase();return this._appendColumnChooserItem(e)},_appendColumnChooserItem:function(e){var t=this,i=t.option("columnChooser.enabled");if(i){var r=t.option("columnChooser.title"),n={widget:"dxButton",options:{icon:ID,onClick:function(){t.component.getView("columnChooserView").showColumnChooser()},hint:r,text:r,onInitialized:function(a){J(a.element).addClass(t._getToolbarButtonClass(t.addWidgetPrefix(TD)))},elementAttr:{"aria-haspopup":"dialog"}},showText:"inMenu",location:"after",name:"columnChooserButton",locateInMenu:"auto",sortIndex:40};e.push(n)}return e},optionChanged:function(e){switch(e.name){case"columnChooser":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}},isVisible:function(){var e=this.option("columnChooser.enabled");return this.callBase()||e}}},controllers:{columns:{allowMoveColumn:function(e,t,i,r){var n=this.option("columnChooser.mode"),a=n==="select"&&r==="columnChooser";return a?!1:this.callBase(e,t,i,r)}}}}};hb.controllers.columnChooser;hb.views.columnChooserView;qe.registerModule("columnChooser",hb);function AD(e,t,i){for(var r=ca(t.group),n=[],a=i?e.length-1:0;a<e.length;a++){for(var s=[],o=0;o<=a;o++){var l=r[o].selector;if(a===o&&(e[o]===null||e[o]===!1||e[o]===!0))e[o]===!1?s.push([l,"=",r[o].desc?!0:null]):(e[o]?!r[o].desc:r[o].desc)?s.push([l,"<>",e[o]]):(s.push([l,"<>",null]),s.push([l,"=",null]));else{var u=[l,a===o?r[o].desc?">":"<":"=",e[o]];u[1]==="<"?s.push([u,"or",[l,"=",null]]):s.push(u)}}n.push(qe.combineFilters(s))}return n=qe.combineFilters(n,"or"),qe.combineFilters([n,t.filter])}var OD=Ot.inherit(function(){var e=function(i,r){var n=i.hash;return n&&n[JSON.stringify(r)]},t=function(i,r){var n=0,a=i.length-1;if(!i.length)return 0;do{var s=a+n>>1;i[s].offset>r?a=s:n=s}while(a-n>1);var o;for(o=n;o<=a&&!(i[o].offset>r);o++);return o};return{ctor:function(i){this._dataSource=i,this.reset()},reset:function(){this._groupsInfo=[],this._totalCountCorrection=0},totalCountCorrection:function(){return this._totalCountCorrection},updateTotalItemsCount:function(i){this._totalCountCorrection=i||0},isGroupItemCountable:function(i){return!this._isVirtualPaging()||!i.isContinuation},_isVirtualPaging:function(){var i=this._dataSource.option("scrolling.mode");return i==="virtual"||i==="infinite"},itemsCount:function(){var i=this._dataSource,r=i._dataSource,n=qe.normalizeSortingInfo(r.group()||[]).length,a=function s(o,l,u){var d=0;if(l)if(!u)d=l.length;else for(var c=0;c<l.length;c++)o.isGroupItemCountable(l[c])&&d++,d+=s(o,l[c].items,u-1);return d}(this,r.items(),n);return a},foreachGroups:function(i,r,n,a,s){var o=this;return function l(u,d,c,h){var f=[];function p(E,I,R,N){var j=I&&E(I,R);return j&&N.push(j),j}for(var g=0;g<u.length;g++){if(h.push(u[g].data),!c&&p(d,u[g].data,h,f)===!1)return!1;if(!u[g].data||u[g].data.isExpanded||n){var m=u[g].children,v=m.length&&l(m,d,c,h);if(v&&f.push(v),v===!1)return!1}if(c&&p(d,u[g].data,h,f)===!1)return!1;(!u[g].data||u[g].data.offset!==u[g].offset)&&(a=!0),h.pop()}var b=s&&h.slice(0);return a&&Ke.apply(J,f).always(function(){o._updateGroupInfoOffsets(u,b)})}(o._groupsInfo,i,r,[])},_updateGroupInfoOffsets:function(i,r){r=r||[];for(var n=0;n<i.length;n++){var a=i[n];if(a.data&&a.data.offset!==a.offset){a.offset=a.data.offset;for(var s=0;s<r.length;s++)r[s].offset=a.offset}}i.sort(function(o,l){return o.offset-l.offset})},findGroupInfo:function(i){for(var r,n=this._groupsInfo,a=0;n&&a<i.length;a++)r=e(n,i[a]),n=r&&r.children;return r&&r.data},addGroupInfo:function(i){for(var r,n=i.path,a=this._groupsInfo,s=0;s<n.length;s++){if(r=e(a,n[s]),!r){r={key:n[s],offset:i.offset,data:{offset:i.offset,isExpanded:!0,path:n.slice(0,s+1)},children:[]};var o=t(a,i.offset);a.splice(o,0,r),a.hash=a.hash||{},a.hash[JSON.stringify(r.key)]=r}s===n.length-1&&(r.data=i,r.offset!==i.offset&&this._updateGroupInfoOffsets(a)),a=r.children}},allowCollapseAll:function(){return!0},refresh:function(i){var r=i.storeLoadOptions,n=ca(r.group||[]),a="_group"in this?ca(this._group||[]):n,s=Math.min(a.length,n.length);this._group=r.group;for(var o=0;o<s;o++)if(a[o].selector!==n[o].selector){s=o;break}s?function l(u,d,c){for(var h=0;h<u.length;h++)d+1>=c?u[h].children=[]:l(u[h].children,d+1,c)}(this._groupsInfo,0,s):this.reset()},handleDataLoading:function(){},handleDataLoaded:function(i,r){r(i)},handleDataLoadedCore:function(i,r){r(i)}}}());function ks(e,t){for(var i=ca(t.group),r=[],n=0;n<e.length;n++)r.push([i[n].selector,"=",e[n]]);return t.filter&&r.push(t.filter),Fe.combineFilters(r)}var Zm=function(e,t){var i=new we,r=ce({skip:0,take:1,requireTotalCount:!0},t);return e.load(r).done(function(n,a){i.resolve(a&&a.totalCount)}).fail(i.reject.bind(i)),i},s1=OD.inherit(function(){var e=function(a,s,o){return a.foreachGroups(function(l){if(!l.isExpanded)return s(l)},!1,!1,o,!0)},t=function(a,s){var o=0,l=s||0;return s&&(e(a,function(u){if(u.offset-o>=s)return!1;o+=u.count-1}),l+=o),l},i=function(a,s){if(a.length!==s.length)return!1;for(var o=0;o<a.length;o++)if(!pd(null,a[o],s[o]))return!1;return!0},r=function a(s,o,l,u,d){if(o){for(var c=0;c<o.length;c++){var h=o[c];if("key"in h&&h.items!==void 0){l.push(h.key),d&&i(d.path,l)&&!h.isContinuation&&(d.offset=u);var f=s.findGroupInfo(l);f&&!h.isContinuation&&(f.offset=u),f&&!f.isExpanded?u+=f.count:u=a(s,h.items,l,u,d),l.pop()}else u++}return u}},n=function a(s,o){var l=s.count||s.items.length;if(!s.count&&o>1){l=0;for(var u=0;u<s.items.length;u++)l+=a(s.items[u],o-1)}return l};return{handleDataLoading:function(a){var s=a.storeLoadOptions,o=[],l=0,u=!1,d,c=a.loadOptions.group,h=0;if(function(p,g){if(g.group){var m=qe.normalizeSortingInfo(g.group),v=qe.normalizeSortingInfo(p.sort);p.sort=fa.arrangeSortingInfo(m,v),delete g.group}}(s,a.loadOptions),a.group=a.group||c,!a.isCustomLoading){var f=ce({},s);f.skip=t(this,s.skip),f.skip&&f.take&&c&&(f.skip--,f.take++,u=!0),f.take&&c&&(d=f.take,f.take++),e(this,function(p){if(p.offset>=f.skip+f.take+h)return!1;p.offset>=f.skip+h&&p.count&&(h+=p.count-1,o.push(p),l+=p.count)}),ve(o,function(){f.filter=function(p,g,m){for(var v=qe.normalizeSortingInfo(m||g.group),b=[],E=0;E<p.length;E++){for(var I=[],R=0;R<=E;R++)I.push([v[R].selector,E===R?"<>":"=",p[R]]);b.push(qe.combineFilters(I))}return b=qe.combineFilters(b,"or"),qe.combineFilters([b,g.filter])}(this.path,f,c)}),a.storeLoadOptions=f,a.collapsedGroups=o,a.collapsedItemsCount=l,a.skip=f.skip||0,a.skipFirstItem=u,a.take=d}},handleDataLoaded:function(a,s){var o=a.collapsedGroups,l=qe.normalizeSortingInfo(a.group),u=l.length;function d(p,g,m,v,b){if(!(!p||!g.length||!m.length)){var E,I,R=Pi(g[0],!0);for(I=0;I<p.length&&(E=Pi(p[I].key,!0),!(b>=v.offset||R===E));I++)b+=n(p[I],m.length);(!p.length||R!==E)&&p.splice(I,0,{key:g[0],items:[],count:g.length===1?v.count:void 0}),d(p[I].items,g.slice(1),m.slice(1),v,b)}}if(a.collapsedItemsCount&&a.extra&&a.extra.totalCount>=0&&(a.extra._totalCountWasIncreasedByCollapsedItems||(a.extra.totalCount+=a.collapsedItemsCount,a.extra._totalCountWasIncreasedByCollapsedItems=!0)),s(a),u){var c=a.data,h=vr(c);if(fa.multiLevelGroup(h,l).enumerate().done(function(p){c=p}),o)for(var f=0;f<o.length;f++)d(c,o[f].path,l,o[f],a.skip);a.isCustomLoading||function p(g,m,v,b,E,I){for(var R=0,N=!1,j=0;j<m.length;j++){var V=m[j];if(V.items!==void 0){v.push(V.key);var H=g.findGroupInfo(v);if(H&&!H.isExpanded)V.collapsedItems=V.items,V.items=null,b+=H.count,I--,I<0&&R++,E&&(N=!0);else if(V.items){var W=p(g,V.items,v,b,E,I);E&&(W.offset-b>1?V.isContinuation=!0:N=!0),b=W.offset,I=W.take,I<0&&(V.items.length?V.isContinuationOnNextPage=!0:R++)}v.pop()}else E&&(N=!0),b++,I--,I<0&&R++;E=!1}return N&&m.splice(0,1),R&&m.splice(-R,R),{offset:b,take:I}}(this,c,[],a.skip,a.skipFirstItem,a.take),a.data=c}},isGroupItemCountable:function(a){return a.items===null},updateTotalItemsCount:function(){var a=0;e(this,function(s){s.count&&(a-=s.count-1)}),this.callBase(a)},changeRowExpand:function(a){var s=this,o=s._dataSource,l=o.beginPageIndex?o.beginPageIndex():o.pageIndex(),u=o.items(),d=t(s,l*o.pageSize()),c=s.findGroupInfo(a),h;return c&&!c.isExpanded?h=new we().resolve(c.count):h=Zm(o,{filter:ks(a,{filter:o.filter(),group:o.group()})}),Ke(h).done(function(f){f=parseInt(f.length?f[0]:f),c?(r(s,u,[],d),c.isExpanded=!c.isExpanded,c.count=f):(c={offset:-1,count:f,path:a,isExpanded:!1},r(s,u,[],d,c),c.offset>=0&&s.addGroupInfo(c)),s.updateTotalItemsCount()}).fail(function(){o._eventsStrategy.fireEvent("loadError",arguments)})},allowCollapseAll:function(){return!1},refresh:function(a,s){var o=this,l=a.storeLoadOptions,u=o._dataSource;if(this.callBase.apply(this,arguments),s.reload)return e(o,function(d){var c=Zm(u,{filter:ks(d.path,l)}),h=Zm(u,{filter:AD(d.path,l)});return Ke(h,c).done(function(f,p){f=parseInt(f.length?f[0]:f),p=parseInt(p.length?p[0]:p),d.offset=f,d.count!==p&&(d.count=p,o.updateTotalItemsCount())})},!0)}}}());function Jm(e,t,i,r){if(r=r||0,t>1&&i>0){var n=e-Math.floor(e/t)*t||t;return n+=i-r-2,n<0&&(n+=t),Math.floor(n/(t-r-1))}return 0}var o1=OD.inherit(function(){var e=function(c,h,f){return c.foreachGroups(function(p,g){if(p.isExpanded)return h(p,g)},!0,!1,f,f)},t=function c(h,f,p,g,m,v,b){var E;if(g.items=g.items||[],g.paths=g.paths||[],g.count=g.count||0,g.lastCount=g.lastCount||0,!!p)for(var I=0;I<f.length;I++){var R=f[I];if(R.items!==void 0){if(m.push(R.key),v)E=!0;else{var N=h.findGroupInfo(m);E=N&&N.isExpanded}E?R.items?c(h,R.items,p-1,g,m,v,b):p===1&&R.count&&(!v||b)&&(g.items.push(R),g.paths.push(m.slice(0)),g.count+=g.lastCount,g.lastCount=R.count):(R.collapsedItems=R.items,R.items=null),m.pop()}}},i=function(c,h,f,p,g){var m=c.findGroupInfo(p),v;m?(f?m.count=h.count>0?h.count:h.items&&h.items.length||0:h.count=m.count||h.count,m.offset=g):(f&&(v=h.count>0?h.count:h.items.length),c.addGroupInfo({isExpanded:c._isGroupExpanded(p.length-1),path:p.slice(0),offset:g,count:v||0}))},r=function c(h,f,p,g,m,v,b){var E=f.group?f.group.length:0,I=E===g,R=f.remoteOperations.paging,N=0,j=0,V;if(m=m||0,v=v||[],R&&!b&&(N=m===0?f.skip||0:f.skips[m-1]||0),m>=g)return p.length;for(var H=0;H<p.length;H++){var W=p[H];if(W){if(v.push(W.key),!W.count&&!W.items||W.items===void 0||(i(h,W,I,v,N+H),V=W.items?c(h,f,W.items,g,m+1,v,H):W.count||-1,V<0))return-1;j+=V,v.pop()}}return j},n=function(c,h){return c&&c.length&&c[h]&&!!c[h].isExpanded},a=function(c,h,f){for(var p,g=f,m=0;m<c.length;m++)p=c[m].offset+1,m>0&&(p+=c[m-1].childrenTotalCount,h&&(p+=Jm(g,h,p,m-1)*m)),g+=p;return g};function s(c,h,f,p){var g=h.items[p],m=c.skips&&c.skips[f],v=c.takes&&c.takes[f],b=p===h.items.length-1,E=p===0,I=E&&m||0,R=g.count>v+I;E&&m!==void 0&&(g.isContinuation=!0),b&&v!==void 0&&R&&(g.isContinuationOnNextPage=!0)}function o(c){return!Array.isArray(c)}function l(c){o(c.data)||(c.data=new we)}function u(c,h,f,p,g,m){h.isCustomLoading||(p={},t(c,m,f,p,[]),function(b,E,I){var R=I-1,N=b.group?b.group.length:0;E.skip=b.skips&&b.skips[R],b.takes&&b.takes[R]!==void 0&&(N===I?E.take=E.count?E.count-(E.skip||0):0:E.take=0,E.take+=b.takes[R])}(h,p,f));var v=h.group?h.group.length:0;p.paths.length&&v-f>0?(l(h),function(b,E,I,R,N,j){var V=E.group||[],H=V[N+1],W=[];ve(I.paths,function(G){var P={requireTotalCount:!1,requireGroupCount:!0,group:[H],groupSummary:E.storeLoadOptions.groupSummary,filter:ks(I.paths[G],{filter:E.storeLoadOptions.filter,group:V}),select:E.storeLoadOptions.select};G===0&&(P.skip=I.skip||0),G===I.paths.length-1&&(P.take=I.take);var A=P.take===0?[]:b._dataSource.loadFromStore(P);Ke(A).done(function(T){var x=I.items[G];s(E,I,N,G),x.items=T}),W.push(A)}),Ke.apply(null,W).done(function(){r(b,E,j,R+1),u(b,E,R+1,I,N+1,j)})}(c,h,p,f,g,m)):p.paths.length&&h.storeLoadOptions.group?(l(h),function(b,E,I,R){var N=[],j=E.group||[];ve(I.paths,function(G,P){N.push(ks(P,{group:E.isCustomLoading?E.storeLoadOptions.group:j}))});var V=E.storeLoadOptions.filter;E.storeLoadOptions.isLoadingAll||(V=qe.combineFilters([V,qe.combineFilters(N,"or")]));var H=ce({},E.storeLoadOptions,{requireTotalCount:!1,requireGroupCount:!1,group:null,sort:j.concat(qe.normalizeSortingInfo(E.storeLoadOptions.sort||[])),filter:V}),W=b._dataSource.isLastLevelGroupItemsPagingLocal();W||(H.skip=I.skip,H.take=I.take),Ke(I.take===0?[]:b._dataSource.loadFromStore(H)).done(function(G,P){W&&(G=b._dataSource.sortLastLevelGroupItems(G,j,I.paths),G=I.skip?G.slice(I.skip):G,G=I.take?G.slice(0,I.take):G),ve(I.items,function(A,T){var x=T.count-(A===0&&I.skip||0),C=G.splice(0,x);s(E,I,j.length-1,A),T.items=C}),E.data.resolve(R)}).fail(E.data.reject)}(c,h,p,m)):o(h.data)&&h.data.resolve(m)}var d=function(c,h){var f=new we,p=!!(h.group&&h.group.length),g=ce({skip:0,take:1,requireGroupCount:p,requireTotalCount:!p},h,{group:p?h.group:null});return c.load(g).done(function(m,v){var b=v&&(p?v.groupCount:v.totalCount);if(!isFinite(b)){f.reject(Mi.Error(p?"E4022":"E4021"));return}f.resolve(b)}).fail(f.reject.bind(f)),f};return{updateTotalItemsCount:function(c){var h=0,f=c.extra&&c.extra.totalCount||0,p=c.extra&&c.extra.groupCount||0,g=this._dataSource.pageSize(),m=this._isVirtualPaging();e(this,function(v){v.childrenTotalCount=0}),e(this,function(v,b){var E=a(b,m?0:g,h),I=v.count+v.childrenTotalCount;m||(I+=Jm(E,g,I,b.length-1)),b[b.length-2]?b[b.length-2].childrenTotalCount+=I:h+=I}),this.callBase(h-f+p)},_isGroupExpanded:function(c){var h=this._dataSource.group();return n(h,c)},_updatePagingOptions:function(c,h){var f=this._isVirtualPaging(),p=this._dataSource.pageSize(),g=[],m=[],v=0,b=0;c.take&&(e(this,function(E){E.childrenTotalCount=0,E.skipChildrenTotalCount=0}),e(this,function(E,I){var R,N=0,j=0,V=a(I,f?0:p,b),H=0,W=0,G=E.count+E.childrenTotalCount,P=G;h&&h(E,V);var A=c.skip-V;V<=c.skip+c.take&&G&&(R=c.take,f||(H=Jm(V,p,G,I.length-1),G+=H*I.length,P+=H,p&&A>=0&&(N=I.length,j=I.length-1,W=Math.floor(A/p))),A>=0?(V+G>c.skip&&g.unshift(A-W*N-E.skipChildrenTotalCount),V+G>=c.skip+R&&m.unshift(R-N-E.childrenTotalCount+E.skipChildrenTotalCount)):V+G>=c.skip+R&&m.unshift(R+A-E.childrenTotalCount)),V<=c.skip&&(I[I.length-2]?I[I.length-2].skipChildrenTotalCount+=Math.min(P,A+1-W*j):v+=Math.min(P,A+1)),V<=c.skip+R&&(G=Math.min(P,A+R-(W+1)*j),I[I.length-2]?I[I.length-2].childrenTotalCount+=G:b+=G)}),c.skip-=v,c.take-=b-v),c.skips=g,c.takes=m},changeRowExpand:function(c){var h=this.findGroupInfo(c),f=this._dataSource,p=f.remoteOperations().groupPaging,g=qe.normalizeSortingInfo(f.group());return h?(h.isExpanded=!h.isExpanded,p&&h.isExpanded&&c.length<g.length?d(f,{filter:ks(c,{filter:f.lastLoadOptions().filter,group:f.group()}),group:[g[c.length]],select:f.select()}).done(function(m){h.count=m}):new we().resolve()):new we().reject()},handleDataLoading:function(c){var h=c.storeLoadOptions,f=qe.normalizeSortingInfo(h.group||c.loadOptions.group);if(!(c.isCustomLoading||!f.length)){if(c.remoteOperations.grouping){var p=this._dataSource.remoteOperations().paging;h.group=qe.normalizeSortingInfo(h.group),h.group.forEach(function(g,m){var v=m===h.group.length-1;g.isExpanded=!p||!v})}c.group=c.group||f,c.remoteOperations.paging?(c.skip=h.skip,c.take=h.take,h.requireGroupCount=!0,h.group=f.slice(0,1),this._updatePagingOptions(c),h.skip=c.skip,h.take=c.take):(c.skip=c.loadOptions.skip,c.take=c.loadOptions.take,this._updatePagingOptions(c))}},handleDataLoadedCore:function(c,h){var f=qe.normalizeSortingInfo(c.storeLoadOptions.group||c.loadOptions.group).length,p=c.group?c.group.length:0,g,m={};if(c.isCustomLoading)h(c),t(this,c.data,f,m,[],c.isCustomLoading,c.storeLoadOptions.isLoadingAll);else{if(c.remoteOperations.paging||this.foreachGroups(function(v){v.count=0}),g=r(this,c,c.data,f),g<0){c.data=new we().reject(xt.Error("E1037"));return}if(c.remoteOperations.paging||f&&c.extra&&c.loadOptions.requireTotalCount&&(c.extra.totalCount=g,c.extra.groupCount=c.data.length),p&&c.storeLoadOptions.requireGroupCount&&!isFinite(c.extra.groupCount)){c.data=new we().reject(Mi.Error("E4022"));return}this.updateTotalItemsCount(c),c.remoteOperations.paging||this._updatePagingOptions(c),h(c),c.remoteOperations.paging||this._processPaging(c,f)}u(this,c,f,m,0,c.data)},_processSkips:function(c,h,f){if(f){var p=c[0],g=h[0],m=p&&p.items;g!==void 0&&(p.isContinuation=!0,m&&(p.items=m.slice(g),this._processSkips(p.items,h.slice(1),f-1)))}},_processTakes:function(c,h,f,p,g){if(!(!p||!c)){g=g||[];var m=c[c.length-1],v=m&&m.items,b=f[0],E=h[0];if(m){var I=m.count-(m.isContinuation&&E||0)||v.length;b!==void 0&&I>b&&(m.isContinuationOnNextPage=!0,g.forEach(function(R){R.isContinuationOnNextPage=!0}),v&&(v=v.slice(0,b),m.items=v)),g.push(m),this._processTakes(v,h.slice(1),f.slice(1),p-1,g)}}},_processPaging:function(c,h){this._processSkips(c.data,c.skips,h),this._processTakes(c.data,c.skips,c.takes,h)},isLastLevelGroupItemsPagingLocal:function(){return!1},sortLastLevelGroupItems:function(c){return c},refresh:function(c,h){var f=this,p=f._dataSource,g=c.storeLoadOptions,m=c.group||c.storeLoadOptions.group,v=qe.normalizeSortingInfo(f._group),b,E;function I(R,N){N.length===E+1&&(R.isExpanded=b)}for(E=0;E<v.length;E++)b=n(m,E),n(f._group,E)!==b&&f.foreachGroups(I);if(f.callBase.apply(this,arguments),m&&c.remoteOperations.paging&&h.reload)return e(f,function(R){var N=d(p,{filter:ks(R.path,{filter:g.filter,group:m}),group:m.slice(R.path.length),select:g.select}),j=d(p,{filter:AD(R.path,{filter:g.filter,group:m},!0),group:m.slice(R.path.length-1,R.path.length),select:g.select});return Ke(j,N).done(function(V,H){V=parseInt(V.length?V[0]:V),H=parseInt(H.length?H[0]:H),R.offset=V,R.count!==H&&(R.count=H,f.updateTotalItemsCount(c))})},!0)}}}()),Qm="dx-datagrid-group-panel",$q="dx-group-panel-message",Ah="dx-group-panel-item",l1="dx-toolbar-label",zq="dx-toolbar-item",Wq="dx-datagrid-expand",jq="dx-group-row",Uq=".dx-header-filter",Gq={init:function(){this.callBase.apply(this,arguments),this._initGroupingHelper()},_initGroupingHelper:function(e){var t=this._grouping,i=this.option("grouping.autoExpandAll"),r=this.option("focusedRowEnabled"),n=e?e.remoteOperations:this.remoteOperations(),a=n.filtering&&n.sorting&&n.paging;a&&!n.grouping&&(i||!r)?(!t||t instanceof o1)&&(this._grouping=new s1(this)):(!t||t instanceof s1)&&(this._grouping=new o1(this))},totalItemsCount:function(){var e=this.callBase();return e>0&&this._dataSource.group()&&this._dataSource.requireTotalCount()?e+this._grouping.totalCountCorrection():e},itemsCount:function(){return this._dataSource.group()?this._grouping.itemsCount()||0:this.callBase.apply(this,arguments)},allowCollapseAll:function(){return this._grouping.allowCollapseAll()},isGroupItemCountable:function(e){return this._grouping.isGroupItemCountable(e)},isRowExpanded:function(e){var t=this._grouping.findGroupInfo(e);return t?t.isExpanded:!this._grouping.allowCollapseAll()},collapseAll:function(e){return this._collapseExpandAll(e,!1)},expandAll:function(e){return this._collapseExpandAll(e,!0)},_collapseExpandAll:function(e,t){var i=this._dataSource,r=i.group(),n=qe.normalizeSortingInfo(r||[]);if(n.length){for(var a=0;a<n.length;a++)e===void 0||e===a?n[a].isExpanded=t:r&&r[a]&&(n[a].isExpanded=r[a].isExpanded);i.group(n),this._grouping.foreachGroups(function(s,o){(e===void 0||e===o.length-1)&&(s.isExpanded=t)},!1,!0),this.resetPagesCache()}return!0},refresh:function(){return this.callBase.apply(this,arguments),this._grouping.refresh.apply(this._grouping,arguments)},changeRowExpand:function(e){var t=this._dataSource;if(t.group())return t.beginLoading(),this._lastLoadOptions&&(this._lastLoadOptions.groupExpand=!0),this._changeRowExpandCore(e).always(function(){t.endLoading()})},_changeRowExpandCore:function(e){return this._grouping.changeRowExpand(e)},_hasGroupLevelsExpandState:function(e,t){if(e&&Array.isArray(e)){for(var i=0;i<e.length;i++)if(e[i].isExpanded===t)return!0}},_customizeRemoteOperations:function(e,t){var i=e.remoteOperations;e.storeLoadOptions.group?(i.grouping&&!e.isCustomLoading&&(!i.groupPaging||this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!0))&&(i.paging=!1),!i.grouping&&(!i.sorting||!i.filtering||e.isCustomLoading||this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!1))&&(i.paging=!1)):!e.isCustomLoading&&i.paging&&t.grouping&&this.resetCache(),this.callBase.apply(this,arguments)},_handleDataLoading:function(e){return this.callBase(e),this._initGroupingHelper(e),this._grouping.handleDataLoading(e)},_handleDataLoaded:function(e){return this._grouping.handleDataLoaded(e,this.callBase.bind(this))},_handleDataLoadedCore:function(e){return this._grouping.handleDataLoadedCore(e,this.callBase.bind(this))}};Cd.extend(Gq);var Kq={init:function(){this.callBase(),this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed")},_beforeProcessItems:function(e){var t=this._columnsController.getGroupColumns();return e=this.callBase(e),e.length&&t.length&&(e=this._processGroupItems(e,t.length)),e},_processItem:function(e,t){return oe(e.groupIndex)&&nt(e.rowType)&&e.rowType.indexOf("group")===0?(e=this._processGroupItem(e,t),t.dataIndex=0):e=this.callBase.apply(this,arguments),e},_processGroupItem:function(e){return e},_processGroupItems:function(e,t,i){var r=this._columnsController.getGroupColumns(),n=r[r.length-t];if(!i){var a=this.option("scrolling.mode");i={collectContinuationItems:a!=="virtual"&&a!=="infinite",resultItems:[],path:[],values:[]}}var s=i.resultItems;if(i.data&&(i.collectContinuationItems||!i.data.isContinuation)&&s.push({rowType:"group",data:i.data,groupIndex:i.path.length-1,isExpanded:!!i.data.items,key:i.path.slice(0),values:i.values.slice(0)}),e)if(t===0)s.push.apply(s,e);else for(var o=0;o<e.length;o++){var l=e[o];l&&"items"in l?(i.data=l,i.path.push(l.key),i.values.push(n&&n.deserializeValue&&!n.calculateDisplayValue?n.deserializeValue(l.key):l.key),this._processGroupItems(l.items,t-1,i),i.data=void 0,i.path.pop(),i.values.pop()):s.push(l)}return s},publicMethods:function(){return this.callBase().concat(["collapseAll","expandAll","isRowExpanded","expandRow","collapseRow"])},collapseAll:function(e){var t=this._dataSource;t&&t.collapseAll(e)&&(t.pageIndex(0),t.reload())},expandAll:function(e){var t=this._dataSource;t&&t.expandAll(e)&&(t.pageIndex(0),t.reload())},changeRowExpand:function(e){var t=this,i=t.isRowExpanded(e),r={key:e,expanded:i};return t.executeAction(i?"onRowCollapsing":"onRowExpanding",r),r.cancel?new we().resolve():Ke(t._changeRowExpandCore(e)).done(function(){r.expanded=!i,t.executeAction(i?"onRowCollapsed":"onRowExpanded",r)})},_changeRowExpandCore:function(e){var t=this,i=this._dataSource,r=new we;return i?Ke(i.changeRowExpand(e)).done(function(){t.load().done(r.resolve).fail(r.reject)}).fail(r.reject):r.resolve(),r},isRowExpanded:function(e){var t=this._dataSource;return t&&t.isRowExpanded(e)},expandRow:function(e){return this.isRowExpanded(e)?new we().resolve():this.changeRowExpand(e)},collapseRow:function(e){return this.isRowExpanded(e)?this.changeRowExpand(e):new we().resolve()},optionChanged:function(e){e.name==="grouping"&&(e.name="dataSource"),this.callBase(e)}},cb=function(e,t){var i=this._columnsController;switch(t.itemData.value){case"group":var r=i._dataSource.group()||[];i.columnOption(e.dataField,"groupIndex",r.length);break;case"ungroup":i.columnOption(e.dataField,"groupIndex",-1);break;case"ungroupAll":this.component.clearGrouping()}},qq={_getToolbarItems:function(){var e=this.callBase();return this._appendGroupingItem(e)},_appendGroupingItem:function(e){if(this._isGroupPanelVisible()){var t=!1,i={template:()=>{var r=J("<div>").addClass(Qm);return this._updateGroupPanelContent(r),Su("groupPanel",this,r,void 0,this._handleActionKeyDown.bind(this)),r},name:"groupPanel",onItemRendered:()=>{t&&this.renderCompleted.fire(),t=!0},location:"before",locateInMenu:"never",sortIndex:1};e.push(i)}return e},_handleActionKeyDown:function(e){var t=e.event,i=J(t.target),r=i.closest(".".concat(Ah)).index(),n=this._columnsController.getGroupColumns()[r],a=n&&n.index;i.is(Uq)?this.getController("headerFilter").showHeaderFilterMenu(a,!0):this._processGroupItemAction(a),t.preventDefault()},_isGroupPanelVisible:function(){var e=this.option("groupPanel"),t;return e&&(t=e.visible,t==="auto"&&(t=Ye.current().deviceType==="desktop")),t},_renderGroupPanelItems:function(e,t){var i=this;e.empty(),ve(t,function(r,n){i._createGroupPanelItem(e,n)}),D0(this)},_createGroupPanelItem:function(e,t){var i=J("<div>").addClass(t.cssClass).addClass(Ah).data("columnData",t).appendTo(e).text(t.caption);return M9(this,i),i},_columnOptionChanged:function(e){if(!this._requireReady&&!qe.checkChanges(e.optionNames,["width","visibleWidth"])){var t=this.element(),i=t&&t.find("."+Qm);i&&i.length&&(this._updateGroupPanelContent(i),this.renderCompleted.fire())}this.callBase()},_updateGroupPanelContent:function(e){var t=this.getController("columns").getGroupColumns(),i=this.option("groupPanel");this._renderGroupPanelItems(e,t),i.allowColumnDragging&&!t.length&&(J("<div>").addClass($q).text(i.emptyPanelText).appendTo(e),e.closest("."+zq).addClass(l1),e.closest("."+l1).css("maxWidth","none"),this.updateToolbarDimensions())},allowDragging:function(e){var t=this.option("groupPanel");return this._isGroupPanelVisible()&&t.allowColumnDragging&&e&&e.allowGrouping},getColumnElements:function(){var e=this.element();return e&&e.find("."+Ah)},getColumns:function(){return this.getController("columns").getGroupColumns()},getBoundingRect:function(){var e=this.element();if(e&&e.find("."+Qm).length){var t=e.offset();return{top:t.top,bottom:t.top+ct(e)}}return null},getName:function(){return"group"},getContextMenuItems:function(e){var t=this.option("grouping.contextMenuEnabled"),i=J(e.targetElement).closest("."+Ah),r;if(i.length&&(e.column=i.data("columnData")),t&&e.column){var n=e.column,a=oe(n.allowGrouping)?n.allowGrouping:!0;if(a){var s=oe(n.groupIndex)&&n.groupIndex>-1,o=this.option("grouping.texts"),l=cb.bind(this,n);r=[{text:o.ungroup,value:"ungroup",disabled:!s,onItemClick:l},{text:o.ungroupAll,value:"ungroupAll",onItemClick:l}]}}return r},isVisible:function(){return this.callBase()||this._isGroupPanelVisible()},optionChanged:function(e){e.name==="groupPanel"?(this._invalidate(),e.handled=!0):this.callBase(e)}},Xq={getContextMenuItems:function(e){var t=this.option("grouping.contextMenuEnabled"),i;if(t&&e.row&&e.row.rowType==="group"){var r=this._columnsController,n=r.columnOption("groupIndex:"+e.row.groupIndex);if(n&&n.allowGrouping){var a=this.option("grouping.texts"),s=cb.bind(this,n);i=[],i.push({text:a.ungroup,value:"ungroup",onItemClick:s},{text:a.ungroupAll,value:"ungroupAll",onItemClick:s})}}return i},_rowClick:function(e){var t=this.option("grouping.expandMode"),i=this.option("scrolling.mode"),r=i!=="infinite"&&t==="rowClick"&&J(e.event.target).closest("."+jq).length,n=J(e.event.target).closest("."+Wq).length;(r||n)&&this._changeGroupRowState(e),this.callBase(e)},_changeGroupRowState:function(e){var t=this.getController("data"),i=t.items()[e.rowIndex],r=this._columnsController.columnOption("groupIndex:"+i.groupIndex,"allowCollapsing");(i.rowType==="data"||i.rowType==="group"&&r!==!1)&&(t.changeRowExpand(i.key,!0),e.event.preventDefault(),e.handled=!0)}},Yq={getContextMenuItems:function(e){var t=this.option("grouping.contextMenuEnabled"),i=this.callBase(e);if(t&&e.row&&(e.row.rowType==="header"||e.row.rowType==="detailAdaptive")){var r=e.column;if(!r.command&&(!oe(r.allowGrouping)||r.allowGrouping)){var n=this.option("grouping.texts"),a=oe(r.groupIndex)&&r.groupIndex>-1,s=cb.bind(this,r);i=i||[],i.push({text:n.groupByThisColumn,value:"group",beginGroup:!0,disabled:a,onItemClick:s}),r.showWhenGrouped&&i.push({text:n.ungroup,value:"ungroup",disabled:!a,onItemClick:s}),i.push({text:n.ungroupAll,value:"ungroupAll",onItemClick:s})}}return i}};qe.registerModule("grouping",{defaultOptions:function(){return{grouping:{autoExpandAll:!0,allowCollapsing:!0,contextMenuEnabled:!1,expandMode:"buttonClick",texts:{groupContinuesMessage:Ae.format("dxDataGrid-groupContinuesMessage"),groupContinuedMessage:Ae.format("dxDataGrid-groupContinuedMessage"),groupByThisColumn:Ae.format("dxDataGrid-groupHeaderText"),ungroup:Ae.format("dxDataGrid-ungroupHeaderText"),ungroupAll:Ae.format("dxDataGrid-ungroupAllText")}},groupPanel:{visible:!1,emptyPanelText:Ae.format("dxDataGrid-groupPanelEmptyText"),allowColumnDragging:!0}}},extenders:{controllers:{data:Kq,columns:{_getExpandColumnOptions:function(){var e=this.callBase.apply(this,arguments);return e.cellTemplate=qe.getExpandCellTemplate(),e}},editing:{_isProcessedItem:function(e){return oe(e.groupIndex)&&nt(e.rowType)&&e.rowType.indexOf("group")===0}}},views:{headerPanel:qq,rowsView:Xq,columnHeadersView:Yq}}});var Zq="dx-master-detail-cell",u1="dx-master-detail-row",Jq="dx-cell-focus-disabled",Qq="dx-row-lines",eX={defaultOptions:function(){return{masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}},extenders:{controllers:{columns:{_getExpandColumnsCore:function(){var e=this.callBase();return this.option("masterDetail.enabled")&&e.push({type:"detailExpand",cellTemplate:Fe.getExpandCellTemplate()}),e}},data:function(){var e=function(t){t._expandedItems=[],t._isExpandAll=t.option("masterDetail.autoExpandAll")};return{init:function(){e(this),this.callBase()},expandAll:function(t){var i=this;t<0?(i._isExpandAll=!0,i._expandedItems=[],i.updateItems()):i.callBase.apply(i,arguments)},collapseAll:function(t){var i=this;t<0?(i._isExpandAll=!1,i._expandedItems=[],i.updateItems()):i.callBase.apply(i,arguments)},isRowExpanded:function(t){var i=this,r=Fe.getIndexByKey(t,i._expandedItems);return Array.isArray(t)?i.callBase.apply(i,arguments):!!(i._isExpandAll^(r>=0&&i._expandedItems[r].visible))},_getRowIndicesForExpand:function(t){var i=this.getRowIndexByKey(t);return[i,i+1]},_changeRowExpandCore:function(t){var i=this,r;if(Array.isArray(t))r=i.callBase.apply(i,arguments);else{var n=Fe.getIndexByKey(t,i._expandedItems);if(n>=0){var a=i._expandedItems[n].visible;i._expandedItems[n].visible=!a}else i._expandedItems.push({key:t,visible:!0});i.updateItems({changeType:"update",rowIndices:i._getRowIndicesForExpand(t)}),r=new we().resolve()}return r},_processDataItem:function(t,i){var r=this,n=r.callBase.apply(r,arguments);return n.isExpanded=r.isRowExpanded(n.key),i.detailColumnIndex===void 0&&(i.detailColumnIndex=-1,ve(i.visibleColumns,function(a,s){if(s.command==="expand"&&!oe(s.groupIndex))return i.detailColumnIndex=a,!1})),i.detailColumnIndex>=0&&(n.values[i.detailColumnIndex]=n.isExpanded),n},_processItems:function(t,i){var r=this,n=i.changeType,a=[];return t=r.callBase.apply(r,arguments),n==="loadingAll"?t:(n==="refresh"&&(r._expandedItems=gr(r._expandedItems,function(s){return s.visible})),ve(t,function(s,o){a.push(o);var l=Fe.getIndexByKey(o.key,r._expandedItems);o.rowType==="data"&&(o.isExpanded||l>=0)&&!o.isNewRow&&a.push({visible:o.isExpanded,rowType:"detail",key:o.key,data:o.data,values:[]})}),a)},optionChanged:function(t){var i,r;if(t.name==="masterDetail"){switch(t.name="dataSource",t.fullName){case"masterDetail":var n=t.value||{},a=t.previousValue||{};i=n.enabled!==a.enabled,r=n.autoExpandAll!==a.autoExpandAll;break;case"masterDetail.template":e(this);break;case"masterDetail.enabled":i=!0;break;case"masterDetail.autoExpandAll":r=!0}(i||r)&&e(this)}this.callBase(t)}}}(),resizing:{fireContentReadyAction:function(){this.callBase.apply(this,arguments),this._updateParentDataGrids(this.component.$element())},_updateParentDataGrids:function(e){var t=e.closest("."+u1);t.length&&Ke(this._updateMasterDataGrid(t,e)).done(()=>{this._updateParentDataGrids(t.parent())})},_updateMasterDataGrid:function(e,t){var i=J(e).data("options"),r=J(e).closest("."+this.getWidgetContainerClass()).parent().data("dxDataGrid");if(i&&r)return this._updateMasterDataGridCore(r,i)},_updateMasterDataGridCore:function(e,t){var i=we();if(e.getView("rowsView").isFixedColumns())this._updateFixedMasterDetailGrids(e,t.rowIndex,J(t.rowElement)).done(i.resolve);else{if(e.option("scrolling.useNative")===!0){e.updateDimensions().done(()=>i.resolve(!0));return}var r=e.getScrollable();r?r==null||r.update().done(()=>i.resolve()):i.resolve()}return i.promise()},_updateFixedMasterDetailGrids:function(e,t,i){var r=we(),n=J(e.getRowElement(t)),a=J(e.getView("rowsView").getTableElements()),s=(n==null?void 0:n.length)===2&&ct(n.eq(0))!==ct(n.eq(1)),o=(a==null?void 0:a.length)===2&&ct(a.eq(0))!==ct(a.eq(1));if(s||o){var l=ut(i);return e.updateDimensions().done(()=>{var u=this.option("columnAutoWidth")&&e.option("scrolling.useNative")===!0,d=u&&l!==ut(i);u&&d?this.updateDimensions().done(()=>r.resolve(!0)):r.resolve(!0)}),r.promise()}return we().resolve()},_toggleBestFitMode:function(e){if(this.callBase.apply(this,arguments),this.option("masterDetail.template")){var t=this._rowsView.getTableElement();t&&t.find(".dx-master-detail-cell").css("maxWidth",e?0:"")}}}},views:{rowsView:{_getCellTemplate:function(e){var t=this,i=e.column,r=t.getController("editing"),n=r&&r.isEditRow(e.rowIndex),a;return i.command==="detail"&&!n?a=t.option("masterDetail.template")||{allowRenderToDetachedContainer:!1,render:t._getDefaultTemplate(i)}:a=t.callBase.apply(t,arguments),a},_isDetailRow:function(e){return e&&e.rowType&&e.rowType.indexOf("detail")===0},_createRow:function(e){var t=this.callBase.apply(this,arguments);return e&&this._isDetailRow(e)&&(this.option("showRowLines")&&t.addClass(Qq),t.addClass(u1),oe(e.visible)&&t.toggle(e.visible)),t},_renderCells:function(e,t){var i=t.row,r,n=this._columnsController.getVisibleColumns();i.rowType&&this._isDetailRow(i)?this._needRenderCell(0,t.columnIndices)&&(r=this._renderCell(e,{value:null,row:i,rowIndex:i.rowIndex,column:{command:"detail"},columnIndex:0,change:t.change}),r.addClass(Jq).addClass(Zq).attr("colSpan",n.length)):this.callBase.apply(this,arguments)}}}}};qe.registerModule("masterDetail",eX);var fc=function(e){for(var t=0,i=0,r=0;r<e.length;++r)if(e[r]==="'"&&t++,e[r]==="."&&(++i,t%2===0))return{occurrence:i,index:r};return{occurrence:1,index:-1}},Jv=function(e,t,i){for(var r=-1;i--&&r++<e.length;)r=e.indexOf(t,r);return r},Qv=function(e,t){return t===-1?[e]:[e.slice(0,t),e.slice(t+1)]},tX=function(e,t){return e&&qT(e/100,t)},Jc=function(e,t){if(typeof t=="string"){var i=t.split(";"),r=Xt.getSign(e,t);i[1]=i[1]||"-"+i[0],t=i[r<0?1:0],t=(s=t,s.replace(/'([^']*)'/g,o=>o.split("").map(()=>" ").join("").substr(2)));var n=/^[^#0.,]*/.exec(t)[0].length,a=/[^#0.,]*$/.exec(t)[0].length;return{start:n,end:e.length-a}}else return{start:0,end:e.length};var s},d1=function(e,t){var i=Xt.getDecimalSeparator(),r=new RegExp("[^0-9"+$a(i)+"]","g"),n=t.slice(0,e);return n.replace(r,"").length},h1=function(e){return e.split("").reverse().join("")},c1=function(e,t){if(!e)return-1;for(var i=/[0-9]/g,r=1,n=null,a=i.exec(t);a;){if(n=a.index,r>=e)return n;r++,a=i.exec(t)}return n===null?t.length:n},iX=function(e){return e.replace(/[^0-9e]+$/,"")},Rs=function(e,t){return e.start===void 0&&(e={start:e,end:e}),{start:e.start+t,end:e.end+t}},rX=function(e,t,i,r){i=Rs(i,0);var n=Xt.getDecimalSeparator(),a=nX(e),s=fc(r).occurrence,o=a?0:Jv(e,n,s),l=Jv(t,n,s),u=Qv(e,o),d=Qv(t,l),c=o!==-1&&i.start>o;if(c){var h=i.start-o-1,f=d1(h,u[1]),p=d[1]?l+1+c1(f,d[1])+1:t.length;return La(p,t,r)}else{var g=iX(d[0]),m=u[0].length-i.start,v=d1(m,h1(u[0])),b=c1(v,h1(g)),E=g.length-(b+1);return La(E,t,r)}};function nX(e){return e.length===1&&!!e.match(/^[,.][0-9]*$/g)}var aX=function(e,t,i){e=Rs(e,0);var r=La(e,t,i);return e.start>=r.start&&e.end<=r.end};function La(e,t,i){e=Rs(e,0);var r=Jc(t,i),n={start:rr(e.start,r.start,r.end),end:rr(e.end,r.start,r.end)};return n}var sX=function(e,t,i){var r=Jc(e,i),n=Jc(t,i);return n.start-r.start},oX="dx-numberbox-spin",lX="dx-numberbox-spin-button",uX=100,DD="dxNumberBox",f1=Be(Vt.up,DD),p1=Be(Vt.cancel,DD),Bo=Hi.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var e=oX+"-"+this.option("direction");this.$element().addClass(lX).addClass(e),this._spinIcon=J("<div>").addClass(e+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var e=Be(Vt.down,this.NAME),t=this.$element();he.off(t,e),he.on(t,e,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(e){e.preventDefault(),this._clearTimer(),he.on(this.$element(),Ja.name,(function(){this._feedBackDeferred=new we,DF(this._feedBackDeferred),this._spinChangeHandler({event:e}),this._holdTimer=setInterval(this._spinChangeHandler,uX,{event:e})}).bind(this));var t=Re.getDocument();he.on(t,f1,this._clearTimer.bind(this)),he.on(t,p1,this._clearTimer.bind(this)),this._spinChangeHandler({event:e})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){he.off(this.$element(),Ja.name);var e=Re.getDocument();he.off(e,f1),he.off(e,p1),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(e){switch(e.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(e)}}}),dX="dx-numberbox-spin",hX="dx-numberbox-spin-container",cX="dx-numberbox-spin-touch-friendly";class fX extends Vf{_attachEvents(t,i){var{editor:r}=this,n=Be(Vt.down,r.NAME),a=i.children(),s=r._createAction(o=>r._spinButtonsPointerDownHandler(o));he.off(i,n),he.on(i,n,o=>s({event:o})),Bo.getInstance(a.eq(0)).option("onChange",o=>r._spinUpChangeHandler(o)),Bo.getInstance(a.eq(1)).option("onChange",o=>r._spinDownChangeHandler(o))}_create(){var{editor:t}=this,i=J("<div>").addClass(hX),r=J("<div>").appendTo(i),n=J("<div>").appendTo(i),a=this._getOptions();return this._addToContainer(i),t._createComponent(r,Bo,ce({direction:"up"},a)),t._createComponent(n,Bo,ce({direction:"down"},a)),this._legacyRender(t.$element(),this._isTouchFriendly(),a.visible),{instance:i,$element:i}}_getOptions(){var{editor:t}=this,i=this._isVisible(),r=t.option("disabled");return{visible:i,disabled:r}}_isVisible(){var{editor:t}=this;return super._isVisible()&&t.option("showSpinButtons")}_isTouchFriendly(){var{editor:t}=this;return t.option("showSpinButtons")&&t.option("useLargeSpinButtons")}_legacyRender(t,i,r){t.toggleClass(cX,i),t.toggleClass(dX,r)}update(){var t=super.update();if(t){var{editor:i,instance:r}=this,n=i.$element(),a=this._isVisible(),s=this._isTouchFriendly(),o=r.children(),l=Bo.getInstance(o.eq(0)),u=Bo.getInstance(o.eq(1)),d=this._getOptions();l.option(d),u.option(d),this._legacyRender(n,s,a)}}}var pX=Math,mX="dx-numberbox",gX=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],vX="NumberBoxForceValueChange",_X=Y0.inherit({_supportedKeys:function(){return ce(this.callBase(),{upArrow:function(e){Vi(e)||(e.preventDefault(),e.stopPropagation(),this._spinUpChangeHandler(e))},downArrow:function(e){Vi(e)||(e.preventDefault(),e.stopPropagation(),this._spinDownChangeHandler(e))},enter:function(){}})},_getDefaultOptions:function(){return ce(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:Ae.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_useTemplates:function(){return!1},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:fX}])},_isSupportInputMode:function(){var e=parseFloat(ri.version);return ri.chrome&&e>=66||ri.safari&&e>=12},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ye.real().generic&&!Ye.isSimulator()},options:{useLargeSpinButtons:!1}},{device:(function(){return Ye.real().deviceType!=="desktop"&&!this._isSupportInputMode()}).bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass(mX),this.callBase()},_getDefaultAttributes:function(){var e=this.callBase();return e.inputmode="decimal",e},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=J("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(e){this._getSubmitElement().val(MP(e))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(e){this.callBase(e);var t=kc(e),i=/[\d.,eE\-+]/.test(t);if(!i){var r=ci(e);return Vi(e)||r&&gX.includes(r)?void 0:(e.preventDefault(),!1)}this._keyPressed=!0},_onMouseWheel:function(e){e.delta>0?this._spinValueChange(1,e):this._spinValueChange(-1,e)},_renderValue:function(){var e=this._input().val(),t=this.option("value");(!e.length||Number(e)!==t)&&(this._forceValueRender(),this._toggleEmptinessEventHandler());var i=oe(t)?null:Ae.format("dxNumberBox-noDataText");return this.setAria({valuenow:hi(t,""),valuetext:i}),this.option("text",this._input().val()),this._updateButtons(),new we().resolve()},_forceValueRender:function(){var e=this.option("value"),t=Number(e),i=isNaN(t)?"":this._applyDisplayValueFormatter(e);this._renderDisplayText(i)},_applyDisplayValueFormatter:function(e){return this.option("displayValueFormatter")(e)},_renderProps:function(){this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:hi(this.option("min"),""),valuemax:hi(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var e=this._input();!this.option("useLargeSpinButtons")&&Re.getActiveElement()!==e[0]&&he.trigger(e,"focus")},_spinUpChangeHandler:function(e){this.option("readOnly")||this._spinValueChange(1,e.event||e)},_spinDownChangeHandler:function(e){this.option("readOnly")||this._spinValueChange(-1,e.event||e)},_spinValueChange:function(e,t){var i=parseFloat(this.option("step"));if(i!==0){var r=parseFloat(this._normalizeInputValue())||0;r=this._correctRounding(r,i*e);var n=this.option("min"),a=this.option("max");oe(n)&&(r=Math.max(n,r)),oe(a)&&(r=Math.min(a,r)),this._saveValueChangeEvent(t),this.option("value",r)}},_correctRounding:function(e,t){var i=/[,.](.*)/,r=i.test(e),n=i.test(t);if(r||n){var a=r?i.exec(e)[0].length:0,s=n?i.exec(t)[0].length:0,o=pX.max(a,s);return e=this._round(e+t,o),e}return e+t},_round:function(e,t){t=t||0;var i=Math.pow(10,t);return e*=i,e=Math.round(e)/i,e},_renderValueChangeEvent:function(){this.callBase();var e=Be("focusout",vX);he.off(this.element(),e),he.on(this.element(),e,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if(this.option("mode")!=="number"){var e=this._input(),t=this._applyDisplayValueFormatter(this.option("value"));e.val(null),e.val(t)}},_valueChangeEventHandler:function(e){var t=this._input(),i=this._normalizeText(),r=this._parseValue(i),n=i!=="."&&i!=="-";if(this._isValueValid()&&!this._validateValue(r)){t.val(this._applyDisplayValueFormatter(r));return}n&&this.callBase(e,isNaN(r)?null:r),this._applyValueBoundaries(i,r),this.validationRequest.fire({value:r,editor:this})},_applyValueBoundaries:function(e,t){var i=this._isValueIncomplete(e),r=this._isValueInRange(e);!i&&!r&&t!==null&&Number(e)!==t&&this._input().val(this._applyDisplayValueFormatter(t))},_replaceCommaWithPoint:function(e){return e.replace(",",".")},_inputIsInvalid:function(){var e=this.option("mode")==="number",t=this._input().get(0).validity;return e&&t&&t.badInput},_renderDisplayText:function(e){this._inputIsInvalid()||this.callBase(e)},_isValueIncomplete:function(e){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(e)},_isValueInRange:function(e){return na(e,this.option("min"),this.option("max"))},_isNumber:function(e){return this._parseValue(e)!==null},_validateValue:function(e){var t=this._normalizeText(),i=this._isValueValid(),r=!0,n=this._isNumber(t);return isNaN(Number(e))&&(r=!1),!e&&i?r=!0:!n&&!i&&(r=!1),this.option({isValid:r,validationError:r?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),r},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var e=this._input().val().trim();return this._replaceCommaWithPoint(e)},_parseValue:function(e){var t=parseFloat(e);return isNaN(t)?null:rr(t,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},reset:function(){this.option("value")===null?(this.option("text",""),this._renderValue()):this.option("value",null)},_optionChanged:function(e){switch(e.name){case"value":this._validateValue(e.value),this._setSubmitValue(e.value),this.callBase(e),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(e)}}}),eg="dxNumberFormatter",Oh=1,tg=-1,m1="-",ql="minus",bX="input",g1=0,Qc=_X.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(e){return e==="del"},_supportedKeys:function(){return this._useMaskBehavior()?ce(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,tg),rightArrow:this._arrowHandler.bind(this,Oh),home:this._moveCaretToBoundaryEventHandler.bind(this,Oh),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,tg)}):this.callBase()},_getTextSeparatorIndex:function(e){var t=Xt.getDecimalSeparator(),i=fc(this.option("format")).occurrence;return Jv(e,t,i)},_focusInHandler:function(e){this._preventNestedFocusEvent(e)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout((function(){this._caretTimeout=void 0;var t=this._caret();if(t.start===t.end&&this._useMaskBehavior()){var i=this._getInputVal(),r=this._getTextSeparatorIndex(i);r>=0?this._caret({start:r,end:r}):this._moveCaretToBoundaryEventHandler(tg,e)}}).bind(this),g1)),this.callBase(e)},_focusOutHandler:function(e){var t=!this._preventNestedFocusEvent(e);t&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(e),t&&(this._focusOutOccurs=!1)},_hasValueBeenChanged(e){var t=this._getFormatPattern(),i=this.option("value"),r=this._format(i,t)||"";return r!==e},_updateFormattedValue:function(){var e=this._getInputVal();this._hasValueBeenChanged(e)&&(this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&he.trigger(this._input(),"change"))},_arrowHandler:function(e,t){if(this._useMaskBehavior()){var i=this._getInputVal(),r=this._getFormatPattern(),n=Rs(this._caret(),e);aX(n,i,r)||(n=e===Oh?n.end:n.start,t.preventDefault(),this._caret(La(n,i,r)))}},_moveCaretToBoundary:function(e){var t=Jc(this._getInputVal(),this._getFormatPattern()),i=Rs(e===Oh?t.start:t.end,0);this._caret(i)},_moveCaretToBoundaryEventHandler:function(e,t){!this._useMaskBehavior()||t&&t.shiftKey||(this._moveCaretToBoundary(e),t&&t.preventDefault())},_shouldMoveCaret:function(e,t){var i=Xt.getDecimalSeparator(),r=e.charAt(t.end)===i,n=(this._lastKey===i||this._lastKey==="."||this._lastKey===",")&&r;return n},_getInputVal:function(){return Xt.convertDigits(this._input().val(),!0)},_keyboardHandler:function(e){if(this.clearCaretTimeout(),this._lastKey=Xt.convertDigits(kc(e),!0),this._lastKeyName=ci(e),!this._shouldHandleKey(e.originalEvent))return this.callBase(e);var t=this._getInputVal(),i=this._caret(),r=this._lastKeyName===ql?"":this._lastKey,n=this._tryParse(t,i,r);return this._shouldMoveCaret(t,i)&&(this._moveCaret(1),e.originalEvent.preventDefault()),n===void 0?this._lastKeyName!==ql&&e.originalEvent.preventDefault():this._parsedValue=n,this.callBase(e)},_keyPressHandler:function(e){this._useMaskBehavior()||this.callBase(e)},_removeHandler:function(e){var t=this._caret(),i=this._getInputVal(),r=t.start,n=t.end;this._lastKey=kc(e),this._lastKeyName=ci(e);var a=this._isDeleteKey(this._lastKeyName),s=!a;if(r===n){var o=r,l=s&&o>0||a&&o<i.length;if(l)a&&n++,s&&r--;else{e.preventDefault();return}}var u=i.slice(r,n);if(this._isStub(u)){this._moveCaret(a?1:-1),(this._parsedValue<0||1/this._parsedValue===-1/0)&&(this._revertSign(e),this._setTextByParsedValue()),e.preventDefault();return}var d=Xt.getDecimalSeparator();if(u===d){var c=i.indexOf(d);this._isNonStubAfter(c+1)&&(this._moveCaret(a?1:-1),e.preventDefault());return}if(n-r<i.length){var h=this._replaceSelectedText(i,{start:r,end:n},""),f=h.search(/[0-9]/)<0;if(f&&this._isValueInRange(0)){this._parsedValue=this._parsedValue<0||1/this._parsedValue===-1/0?-0:0;return}}var p=this._tryParse(i,{start:r,end:n},"");p===void 0?e.preventDefault():this._parsedValue=p},_isPercentFormat:function(){var e=this._getFormatPattern(),t=e.replace(/'[^']+'/g,"");return t.indexOf("%")!==-1},_parse:function(e,t){var i=this.option("format"),r=We(i.parser),n=r?i.parser:Xt.parse,a=0;if(!r){var s=fc(t).index,o=this._getTextSeparatorIndex(e),l=s!==-1?s:t.length,u=o!==-1?o:e.length;u>l&&t.indexOf("#")===-1&&(a=u-l)}return e=e.substr(a),n(e,t)},_format:function(e,t){var i=this.option("format"),r=(i==null?void 0:i.formatter)||i,n=We(r)?r:Xt.format,a=e===null?"":n(e,t);return a},_getFormatPattern:function(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat:function(){var e=this.option("format"),t=We(e==null?void 0:e.parser),i=nt(e)&&(e.indexOf("0")>=0||e.indexOf("#")>=0),r=e==="exponential"||(e==null?void 0:e.type)==="exponential",n=t||i||r;this._currentFormat=n?e:JP(a=>{var s=this._format(a,e);return Xt.convertDigits(s,!0)})},_getFormatForSign:function(e){var t=this._getFormatPattern();if(nt(t)){var i=t.split(";"),r=Xt.getSign(e,t);return i[1]=i[1]||"-"+i[0],r<0?i[1]:i[0]}else{var n=Xt.getSign(e);return n<0?"-":""}},_removeStubs:function(e,t){var i=this._getFormatForSign(e),r=Xt.getThousandsSeparator(),n=this._getStubs(i),a=e;if(n.length){var s=n[0],o=new RegExp("("+$a(n[1]||"")+")$","g"),l=new RegExp("[-"+$a(t?"":r)+"]","g");a=a.replace(s,"").replace(o,"").replace(l,"")}return a},_getStubs:function(e){var t=/[^']([#0.,]+)/g.exec(e),i=t&&t[0].trim();return e.split(i).map(function(r){return r.replace(/'/g,"")})},_truncateToPrecision:function(e,t){if(oe(e)){var i=e.toString(),r=i.indexOf(".");if(i&&r>-1){var n=parseFloat(i.substr(0,r+t+1));return isNaN(n)?e:n}}return e},_tryParse:function(e,t,i){var r=this._replaceSelectedText(e,t,i),n=this._getFormatPattern(),a=t.start!==t.end,s=this._getParsedValue(r,n),o=!n.parser&&this._getPrecisionLimits(r).max,l=s!==this._parsedValue,u=Xt.getDecimalSeparator(),d=i===u&&o===0,c=!a&&!l&&i!==m1&&!this._isValueIncomplete(r)&&this._isStub(i);if(!(d||c)&&(this._removeStubs(r)===""&&(s=Math.abs(0*this._parsedValue)),!isNaN(s))){var h=s===null?this._parsedValue:s;return s=o?this._truncateToPrecision(h,o):s,!n.parser&&this._isPercentFormat()?tX(s,o):s}},_getParsedValue:function(e,t){var i=Xt.getSign(e,(t==null?void 0:t.formatter)||t),r=this._removeStubs(e,!0),n=this._parse(r,t),a=n<0?-1:1,s=ei(n)&&i!==a?i*n:n;return s},_isValueIncomplete:function(e){if(!this._useMaskBehavior())return this.callBase(e);var t=this._caret(),i=Xt.getDecimalSeparator(),r=this._getTextSeparatorIndex(e),n=r>=0&&r<t.start,a=this._removeStubs(e,!0).split(i);if(!n||a.length!==2)return!1;var s=a[1].length,o=this._getFormatPattern(),l=!!o.parser,u=!l&&this._getPrecisionLimits(this._getFormatPattern(),e),d=l?!0:na(s,u.min,u.max),c=a[1].charAt(s-1)==="0";return d&&(c||!s)},_isValueInRange:function(e){var t=hi(this.option("min"),-1/0),i=hi(this.option("max"),1/0);return na(e,t,i)},_setInputText:function(e){var t=Xt.convertDigits(e,!0),i=rX(this._getInputVal(),t,this._caret(),this._getFormatPattern());this._input().val(e),this._toggleEmptinessEventHandler(),this._formattedValue=e,this._focusOutOccurs||this._caret(i)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var e=this.option("mode")==="number",t=Ye.real().deviceType==="desktop";this._useMaskBehavior()&&e?this._setInputType(t||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(e){return nt(e)&&e.length===1},_moveCaret:function(e){if(e){var t=Rs(this._caret(),e),i=La(t,this._getInputVal(),this._getFormatPattern());this._caret(i)}},_shouldHandleKey:function(e){var t=ci(e),i=Vi(e)||e.altKey||e.shiftKey||!this._isChar(t),r=t===ql,n=this._useMaskBehavior();return n&&!i&&!r},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){he.off(this._input(),"."+eg)},_isInputFromPaste:function(e){var t=e.originalEvent&&e.originalEvent.inputType;return oe(t)?t==="insertFromPaste":this._isValuePasted},_attachFormatterEvents:function(){var e=this._input();he.on(e,Be(bX,eg),(function(t){this._formatValue(t),this._isValuePasted=!1}).bind(this)),he.on(e,Be("dxclick",eg),(function(){this._caretTimeout||(this._caretTimeout=setTimeout((function(){this._caretTimeout=void 0,this._caret(La(this._caret(),this._getInputVal(),this._getFormatPattern()))}).bind(this),g1))}).bind(this)),he.on(e,"dxdblclick",(function(){this.clearCaretTimeout()}).bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(e){var t=this._getInputVal().slice(e);return t&&!this._isStub(t,!0)},_isStub:function(e,t){var i=$a(Xt.getDecimalSeparator()),r="^[^0-9"+i+"]+$",n=new RegExp(r,"g");return n.test(e)&&(t||this._isChar(e))},_parseValue:function(e){return this._useMaskBehavior()?this._parsedValue:this.callBase(e)},_getPrecisionLimits:function(e){var t=this._getFormatForSign(e),i=fc(t).index,r=(Qv(t,i)[1]||"").replace(/[^#0]/g,""),n=r.replace(/^(0*)#*/,"$1").length,a=r.length;return{min:n,max:a}},_revertSign:function(e){if(this._useMaskBehavior()){var t=this._caret();if(t.start!==t.end)if(ci(e)===ql){this._applyRevertedSign(e,t,!0);return}else this._caret(La(0,this._getInputVal(),this._getFormatPattern()));this._applyRevertedSign(e,t)}},_applyRevertedSign:function(e,t,i){var r=-1*hi(this._parsedValue,null);if(this._isValueInRange(r)&&(this._parsedValue=r,i)){var n=this._getFormatPattern(),a=this._getInputVal();this._setTextByParsedValue(),e.preventDefault();var s=this._getInputVal(),o=sX(a,s,n);t=Rs(t,o);var l=La(t,s,n);this._caret(l)}},_removeMinusFromText:function(e,t){var i=this._lastKeyName===ql&&e.charAt(t.start-1)===m1;return i?this._replaceSelectedText(e,{start:t.start-1,end:t.start},""):e},_setTextByParsedValue:function(){var e=this._getFormatPattern(),t=this._parseValue(),i=this._format(t,e)||"";this._setInputText(i)},_formatValue:function(e){var t=this._getInputVal(),i=this._caret(),r=this._removeMinusFromText(t,i),n=r!==t;if(t=r,!this._isInputFromPaste(e)&&this._isValueIncomplete(r)){this._formattedValue=t,n&&this._setTextByParsedValue();return}var a=Xt.convertDigits(this._formattedValue,!0)!==t;if(a){var s=this._tryParse(t,i,"");oe(s)&&(this._parsedValue=s)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_updateParsedValue:function(){var e=this._getInputVal();this._parsedValue=this._tryParse(e,this._caret())},_adjustParsedValue:function(){if(this._useMaskBehavior()){var e=this._removeStubs(this._getInputVal()),t=e?this._parseValue():null;if(!ei(t)){this._parsedValue=t;return}this._parsedValue=rr(t,this.option("min"),this.option("max"))}},_valueChangeEventHandler:function(e){if(!this._useMaskBehavior())return this.callBase(e);var t=this._caret();this._saveValueChangeEvent(e),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),t&&this._caret(t)},_optionChanged:function(e){switch(e.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),this.callBase(e);break;default:this.callBase(e)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}});Tt("dxNumberBox",Qc);var yX="dx-dropdowneditor-button",CX="dx-dropdowneditor-button-visible",xX="dxDropDownEditor-selectLabel";let wX=class extends Vf{constructor(t,i,r){super(t,i,r),this.currentTemplate=null}_attachEvents(t){var{editor:i}=this;t.option("onClick",r=>{!i.option("openOnFieldClick")&&i._openHandler(r)}),he.on(t.$element(),"mousedown",r=>{i.$element().is(".dx-state-focused")&&r.preventDefault()})}_create(){var{editor:t}=this,i=J("<div>"),r=this._getOptions();this._addToContainer(i);var n=t._createComponent(i,Ji,ce({},r,{elementAttr:{"aria-label":Ae.format(xX)}}));return this._legacyRender(t.$element(),i,r.visible),{$element:i,instance:n}}_getOptions(){var{editor:t}=this,i=this._isVisible(),r=t.option("readOnly"),n={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:r,visible:i};return this._addTemplate(n),n}_isVisible(){var{editor:t}=this;return super._isVisible()&&t.option("showDropDownButton")}_legacyRender(t,i,r){t.toggleClass(CX,r),i&&i.removeClass("dx-button").addClass(yX)}_isSameTemplate(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}_addTemplate(t){this._isSameTemplate()||(t.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}update(){var t=super.update();if(t){var{editor:i,instance:r}=this,n=i.$element(),a=this._getOptions();r==null||r.option(a),this._legacyRender(n,r==null?void 0:r.$element(),a.visible)}}};var ef=function(e){if(ht())return Pt(e)},fb=function(e){return e===null&&(e=void 0),typeof e=="function"&&(e=e()),e},SX="dx-dropdowneditor",v1="dx-dropdowneditor-input-wrapper",EX="dx-dropdowneditor-icon",Dh="dx-dropdowneditor-overlay",TX="dx-dropdowneditor-overlay-flipped",IX="dx-dropdowneditor-active",AX="dx-dropdowneditor-field-clickable",OX="dx-dropdowneditor-field-template-wrapper",_1=Ye.current().platform==="ios",pb=Md.inherit({_supportedKeys:function(){return ce({},this.callBase(),{tab:function(e){if(this.option("opened")){if(this.option("applyValueMode")==="instantly"){this.close();return}var t=e.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();t&&he.trigger(t,"focus"),e.preventDefault()}},escape:function(e){return this.option("opened")&&e.preventDefault(),this.close(),!0},upArrow:function(e){return!Vi(e)&&(e.preventDefault(),e.stopPropagation(),e.altKey)?(this.close(),!1):!0},downArrow:function(e){return!Vi(e)&&(e.preventDefault(),e.stopPropagation(),e.altKey)?(this._validatedOpening(),!1):!0},enter:function(e){return this.option("opened")&&(e.preventDefault(),this._valueChangeEventHandler(e)),!0}})},_getDefaultButtons:function(){return this.callBase().concat([{name:"dropDown",Ctor:wX}])},_getDefaultOptions:function(){return ce(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:Ae.format("OK"),cancelButtonText:Ae.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1})},_useTemplates:function(){return!0},_getDefaultPopupPosition:function(e){var t=os(e);return{offset:{h:0,v:-1},my:t+" top",at:t+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){var t=e.platform==="generic";return t},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.$element().find("."+v1).first()},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._updatePopupPosition(this.option("rtlEnabled")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_updatePopupPosition:function(e){var{my:t,at:i}=this._getDefaultPopupPosition(e),r=this.option("popupPosition");this.option("popupPosition",ce({},r,{my:t,at:i}))},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this._renderSubmitElement(),this.callBase(),this.$element().addClass(SX),this.setAria("role","combobox")},_render:function(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this._wrapInput(),this._setDefaultAria()},_wrapInput:function(){this._$container=this.$element().wrapInner(J("<div>").addClass(v1)).children().eq(0)},_setDefaultAria:function(){this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this._isEditable()||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate:function(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderMask:function(){this.option("fieldTemplate")||this.callBase()},_renderField:function(){var e=this._getFieldTemplate();e&&this._renderTemplatedField(e,this._fieldRenderData())},_renderPlaceholder:function(){var e=!!this._getFieldTemplate();e||this.callBase()},_renderValue:function(){this.option("useHiddenSubmitElement")&&this._setSubmitValue();var e=this.callBase();e.always(this._renderField.bind(this))},_renderTemplatedField:function(e,t){var i;this._fieldRenderQueueLength=((i=this._fieldRenderQueueLength)!==null&&i!==void 0?i:0)+1;var r=Ya(this._input()),n=this._$container;this._detachKeyboardEvents(),this._refreshButtonsContainer(),this._detachWrapperContent(),this._detachFocusEvents(),n.empty();var a=J("<div>").addClass(OX).appendTo(n);e.render({model:t,container:ot(a),onRendered:()=>{if(this._fieldRenderQueueLength--,this._fieldRenderQueueLength===0){var s=this._input();if(!s.length)throw xt.Error("E1010");this._integrateInput(),r&&he.trigger(s,"focus")}}}),this._attachWrapperContent(n)},_detachWrapperContent(){var e,t,i,r=this.option("useHiddenSubmitElement");r&&((e=this._$submitElement)===null||e===void 0||e.detach());var n=(t=this._$beforeButtonsContainer)===null||t===void 0?void 0:t[0].parentNode,a=(i=this._$afterButtonsContainer)===null||i===void 0?void 0:i[0].parentNode;n==null||n.removeChild(this._$beforeButtonsContainer[0]),a==null||a.removeChild(this._$afterButtonsContainer[0])},_attachWrapperContent(e){var t,i=this.option("useHiddenSubmitElement");e.prepend(this._$beforeButtonsContainer),i&&((t=this._$submitElement)===null||t===void 0||t.appendTo(e)),e.append(this._$afterButtonsContainer)},_refreshButtonsContainer(){this._$buttonsContainer=this.$element().children().eq(0)},_integrateInput:function(){this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent()},_refreshEmptinessEvent:function(){he.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()},_fieldRenderData:function(){return this.option("value")},_initTemplates:function(){this._templateManager.addDefaultTemplates({dropDownButton:new fl(function(e){var t=J("<div>").addClass(EX);J(e.container).append(t)})}),this.callBase()},_renderOpenHandler:function(){var e=this._inputWrapper(),t=Be(zt,this.NAME),i=this.option("openOnFieldClick");he.off(e,t),he.on(e,t,this._getInputClickHandler(i)),this.$element().toggleClass(AX,i),i&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler:function(){_1&&(this._detachFocusOutEvents(),he.on(this._inputWrapper(),Be("focusout",this.NAME),e=>{var t=e.relatedTarget,i=this.content?J(this.content()).closest("."+Dh):this._$popup;if(t&&this.option("opened")){var r=J(t).closest("."+Dh,i).length===0;r&&this.close()}}))},_detachFocusOutEvents:function(){_1&&he.off(this._inputWrapper(),Be("focusout",this.NAME))},_getInputClickHandler:function(e){return e?t=>{this._executeOpenAction(t)}:t=>{this._focusInput()}},_openHandler:function(){this._toggleOpenState()},_executeOpenAction:function(e){this._openOnFieldClickAction({event:e})},_keyboardEventBindingTarget:function(){return this._input()},_focusInput:function(){return this.option("disabled")?!1:(this.option("focusStateEnabled")&&!Ya(this._input())&&(this._resetCaretPosition(),he.trigger(this._input(),"focus")),!0)},_resetCaretPosition:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this._input().get(0);if(t){var{value:i}=t,r=oe(i)&&(e||this._isEditable())?i.length:0;this._caret({start:r,end:r},!0)}},_isEditable:function(){return this.option("acceptCustomValue")},_toggleOpenState:function(e){this._focusInput()&&(this.option("readOnly")||(e=arguments.length?e:!this.option("opened"),this.option("opened",e)))},_renderOpenedState:function(){var e=this.option("opened");e&&this._createPopup(),this.$element().toggleClass(IX,e),this._setPopupOption("visible",e),this.setAria({expanded:e}),this.setAria("owns",e?this._popupContentId:void 0,this.$element())},_createPopup:function(){this._$popup||(this._$popup=J("<div>").addClass(Dh).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent())},_renderPopupContent:Ee,_renderPopup:function(){var e=ce(this._popupConfig(),this._options.cache("dropDownOptions"));this._popup=this._createComponent(this._$popup,Hn,e),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_setPopupContentId(e){this._popupContentId="dx-"+new Bi,this.setAria("id",this._popupContentId,e)},_contentReadyHandler:Ee,_popupConfig:function(){return{onInitialized:this._popupInitializedHandler(),position:ce(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:()=>ef(this.$element()),height:"auto",shading:!1,wrapperAttr:{class:Dh},hideOnParentScroll:!0,hideOnOutsideClick:e=>this._closeOutsideDropDownHandler(e),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null}},_popupInitializedHandler:function(){return this.option("onPopupInitialized")?e=>{this._popupInitializedAction({popup:e.component})}:null},_dimensionChanged:function(){var e=fb(this.option("dropDownOptions.width"));e===void 0&&this._setPopupOption("width",()=>ef(this.$element()))},_popupPositionedHandler:function(e){var t,i,{labelMode:r,stylingMode:n}=this.option(),a=this._popup.$overlayContent(),s=(t=e.position)===null||t===void 0||(i=t.v)===null||i===void 0?void 0:i.flip,o=r!=="hidden"&&n==="outlined";if(e.position&&a.toggleClass(TX,s),s&&o&&this._label.isVisible()){var l=this._label.$element();ki(a,{top:Ur(a).top-parseInt(l.css("fontSize"))})}},_popupShowingHandler:Ee,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){var e;this._openAction(),(e=this._validationMessage)===null||e===void 0||e.option("positionRequest",this._getValidationMessagePositionRequest())},_popupHiddenHandler:function(){var e;this._closeAction(),(e=this._validationMessage)===null||e===void 0||e.option("positionRequest",this._getValidationMessagePositionRequest())},_getValidationMessagePositionRequest:function(){var e="below";if(this._popup&&this._popup.option("visible")){var{top:t}=Ki.setup(this.$element()),{top:i}=Ki.setup(this._popup.$content());e=t+this.option("popupPosition").offset.v>i?"below":"above"}return e},_closeOutsideDropDownHandler:function(e){var{target:t}=e,i=J(t),r=this.getButton("dropDown"),n=r&&r.$element(),a=!!i.closest(this.$element()).length,s=!!i.closest(n).length,o=!a&&!s;return o},_clean:function(){delete this._openOnFieldClickAction,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(e,t){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems:function(){return this.option("applyValueMode")==="useButtons"?this._popupToolbarItemsConfig():[]},_getFirstPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-done.dx-button")},_getLastPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-cancel.dx-button")},_popupElementTabHandler:function(e){var t=J(e.currentTarget);(e.shiftKey&&t.is(this._getFirstPopupElement())||!e.shiftKey&&t.is(this._getLastPopupElement()))&&(he.trigger(this._input(),"focus"),e.preventDefault())},_popupElementEscHandler:function(){he.trigger(this._input(),"focus"),this.close()},_popupButtonInitializedHandler:function(e){e.component.registerKeyHandler("tab",this._popupElementTabHandler.bind(this)),e.component.registerKeyHandler("escape",this._popupElementEscHandler.bind(this))},_popupToolbarItemsConfig:function(){var e=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}}];return this._applyButtonsLocation(e)},_applyButtonsLocation:function(e){var t=this.option("buttonsLocation"),i=e;if(t!=="default"){var r=Cl(t);ve(i,function(n,a){ce(a,{toolbar:r[0],location:r[1]})})}return i},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_popupOptionChanged:function(e){var t=Hi.getOptionsFromContainer(e);this._setPopupOption(t);var i=Object.keys(t);(i.indexOf("width")!==-1||i.indexOf("height")!==-1)&&this._dimensionChanged()},_renderSubmitElement:function(){this.option("useHiddenSubmitElement")&&(this._$submitElement=J("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue:function(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement:function(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose:function(){this._detachFocusOutEvents(),this.callBase()},_optionChanged:function(e){var t;switch(e.name){case"width":case"height":this.callBase(e),(t=this._popup)===null||t===void 0||t.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":oe(e.value)?this._renderField():this._invalidate();break;case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(e),this._options.cache("dropDownOptions",this.option("dropDownOptions"));break;case"popupPosition":break;case"deferRendering":ht()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(e.value),this.callBase(e);break;default:this.callBase(e)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},field:function(){return ot(this._input())},content:function(){return this._popup?this._popup.content():null}});Tt("dxDropDownEditor",pb);var b1=ce({},xd,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new Bn({store:new El(this.option("items")),pageSize:0}))},_compileDisplayGetter:function(){this._displayGetter=Yt(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=Yt(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(e){var t=new we;return e=this._unwrappedValue(e),oe(e)?(this._loadSingle(this._valueGetterExpr(),e).done((function(i){this._isValueEquals(this._valueGetter(i),e)?t.resolve(i):t.reject()}).bind(this)).fail(function(){t.reject()}),this._loadValueDeferred=t,t.promise()):t.reject().promise()},_rejectValueLoading:function(){var e;(e=this._loadValueDeferred)===null||e===void 0||e.reject({shouldSkipCallback:!0})},_getCurrentValue:function(){return this.option("value")},_unwrappedValue:function(e){var t;return e=(t=e)!==null&&t!==void 0?t:this._getCurrentValue(),e&&this._dataSource&&this._valueGetterExpr()==="this"&&(e=this._getItemKey(e)),cr.unwrap(e)},_getItemKey:function(e){var t=this._dataSource.key();if(Array.isArray(t)){for(var i={},r=0,n=t.length;r<n;r++)i[t[r]]=e[t[r]];return i}return t&&typeof e=="object"&&(e=e[t]),e},_isValueEquals:function(e,t){var i=this._dataSource&&this._dataSource.key(),r=this._compareValues(e,t);return!r&&i&&oe(e)&&oe(t)&&(Array.isArray(i)?r=this._compareByCompositeKey(e,t,i):r=this._compareByKey(e,t,i)),r},_compareByCompositeKey:function(e,t,i){var r=at;if(!r(e)||!r(t))return!1;for(var n=0,a=i.length;n<a;n++)if(e[i[n]]!==t[i[n]])return!1;return!0},_compareByKey:function(e,t,i){var r=cr.unwrap,n=hi(r(e[i]),e),a=hi(r(t[i]),t);return this._compareValues(n,a)},_compareValues:function(e,t){return Pi(e,!0)===Pi(t,!0)},_initDynamicTemplates:Ee,_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr:function(){var e=this.option("valueExpr"),t=nt(e)&&e!=="this"||We(e);return t?e:null},_dataExpressionOptionChanged:function(e){switch(e.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}}),y1=ft(),DX=".dx-list-item",kX="dxListItemData",RX="dx-dropdownlist-popup-wrapper",MX="input",BX=["startswith","contains","endwith","notcontains"],C1=Ye.real().platform!=="android",kD=pb.inherit({_supportedKeys:function(){var e=this.callBase();return ce({},e,{tab:function(t){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(t);var i=J(this._list.option("focusedElement"));i.length&&this._setSelectedElement(i)}e.tab.apply(this,arguments)},space:Ee,home:Ee,end:Ee})},_allowSelectItemByTab:function(){return this.option("opened")&&this.option("applyValueMode")==="instantly"},_setSelectedElement:function(e){var t=this._valueGetter(this._list._getItemData(e));this._setValue(t)},_setValue:function(e){this.option("value",e)},_getDefaultOptions:function(){return ce(this.callBase(),ce(b1._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:Ae.format("dxCollectionWidget-noDataText"),onSelectionChanged:null,onItemClick:Ee,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference:function(){this.callBase(),ce(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_setListFocusedElementOptionChange:function(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)},_initItems:function(){var e=this.option().items;e&&!e.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new Af("item")})},_isEditable:function(){return this.callBase()||this.option("searchEnabled")},_saveFocusOnWidget:function(e){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange:function(e,t,i){return e>i?t:e<t?i:e},_items:function(){var e=this._getPlainItems(!this._list&&this._dataSource.items()),t=new vr(e).filter("disabled","<>",!0).toArray();return t},_calcNextItem:function(e){var t=this._items(),i=this._fitIntoRange(this._getSelectedIndex()+e,0,t.length-1);return t[i]},_getSelectedIndex:function(){var e=this._items(),t=this.option("selectedItem"),i=-1;return ve(e,(function(r,n){if(this._isValueEquals(n,t))return i=r,!1}).bind(this)),i},_createPopup:function(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());var e=this._popup.$content();he.off(e,"mouseup"),he.on(e,"mouseup",this._saveFocusOnWidget.bind(this))},_updateCustomBoundaryContainer:function(){var e=this.option("dropDownOptions.container"),t=e&&J(e);if(t&&t.length&&!Si(t.get(0))){var i=[].slice.call(t.parents());i.unshift(t.get(0)),ve(i,(function(r,n){if(n===J("body").get(0))return!1;if(y1.getComputedStyle(n).overflowY==="hidden")return this._$customBoundaryContainer=J(n),!1}).bind(this))}},_popupWrapperClass:function(){return RX},_renderInputValue:function(){var e=this._getCurrentValue();return this._rejectValueLoading(),this._loadInputValue(e,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,e))},_loadInputValue:function(e,t){return this._loadItem(e).always(t)},_getItemFromPlain:function(e,t){var i,r;return t&&typeof e!="object"&&(t.itemByValue||(t.itemByValue={},i=this._getPlainItems(),i.forEach(function(n){t.itemByValue[this._valueGetter(n)]=n},this)),r=t.itemByValue[e]),r||(i=this._getPlainItems(),r=gr(i,(function(n){return this._isValueEquals(this._valueGetter(n),e)}).bind(this))[0]),r},_loadItem:function(e,t){var i=this._getItemFromPlain(e,t);return i!==void 0?new we().resolve(i).promise():this._loadValue(e)},_getPlainItems:function(e){var t=[];e=e||this.option("items")||this._dataSource.items()||[];for(var i=0;i<e.length;i++)e[i]&&e[i].items?t=t.concat(e[i].items):t.push(e[i]);return t},_updateActiveDescendant(){var e,t=this.option("opened"),i=(e=this._list)===null||e===void 0?void 0:e.getFocusedItemId(),r=J("#".concat(i)).length>0,n=t&&r&&i;this.setAria({activedescendant:n||null})},_setSelectedItem:function(e){var t=this._displayValue(e);this.option("selectedItem",hi(e,null)),this.option("displayValue",t)},_displayValue:function(e){return this._displayGetter(e)},_refreshSelected:function(){var e={};this._listItemElements().each((function(t,i){var r=J(i),n=this._valueGetter(r.data(kX)),a=this._isSelectedValue(n,e);a?this._list.selectItem(r):this._list.unselectItem(r)}).bind(this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){!this.option("focusStateEnabled")||!this._list||this._list.option("focusedElement",null)},_isSelectedValue:function(e){return this._isValueEquals(e,this.option("value"))},_validateSearchMode:function(){var e=this.option("searchMode"),t=e.toLowerCase();if(!BX.includes(t))throw xt.Error("E1019",e)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._setListDataSource(),this._renderInputValue().fail((function(){this._isCustomValueAllowed()||this._clearSelectedItem()}).bind(this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},reset:function(){this.callBase(),this._clearFilter(),this._clearSelectedItem()},_listItemElements:function(){return this._$list?this._$list.find(DX):J()},_popupConfig:function(){return ce(this.callBase(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})},_renderPopupContent:function(){this.callBase(),this._renderList()},_getKeyboardListeners(){var e=this._canListHaveFocus();return this.callBase().concat([!e&&this._list])},_setAriaTargetForList:function(){this._list._getAriaTarget=this._getAriaTarget.bind(this)},_renderList:function(){this._listId="dx-"+new Bi()._value;var e=this._$list=J("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._list=this._createComponent(e,po,this._listConfig()),this._refreshList(),this._setAriaTargetForList(),this._list.option("_listAttributes",{role:"combobox"}),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()},_renderPreventBlurOnListClick:function(){var e=Be("mousedown","dxDropDownList");he.off(this._$list,e),he.on(this._$list,e,t=>t.preventDefault())},_renderOpenedState:function(){this.callBase(),this._list&&this._updateActiveDescendant(),this.setAria({controls:this._list&&this._listId,owns:this._popup&&this._popupContentId})},_setDefaultAria:function(){this.setAria({haspopup:"listbox",autocomplete:"list"})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){var e=!!this._list.option("dataSource");return e!==this._needPassDataSourceToList()},_isDesktopDevice:function(){return Ye.real().deviceType==="desktop"},_listConfig:function(){var e={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),hoverStateEnabled:this._isDesktopDevice()?this.option("hoverStateEnabled"):!1,focusStateEnabled:this._isDesktopDevice()?this.option("focusStateEnabled"):!1};return this._canListHaveFocus()||(e.tabIndex=null),e},_canListHaveFocus:()=>!1,_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){return{paginate:!1}},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._dimensionChanged(),this._contentReadyAction()},_setListOption:function(e,t){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(e){this._listItemClickHandler(e),this._itemClickAction(e)},_listItemClickHandler:Ee,_setListDataSource:function(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_needClearFilter:function(){return this._canKeepDataSource()?!1:this._needPassDataSourceToList()},_canKeepDataSource:function(){var e,t=this._isMinSearchLengthExceeded();return((e=this._dataSource)===null||e===void 0?void 0:e.isLoaded())&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!t&&!this._isLastMinSearchLengthExceeded},_searchValue:function(){return this._input().val()||""},_getSearchEvent:function(){return Be(MX,this.NAME+"Search")},_getCompositionStartEvent:function(){return Be("compositionstart",this.NAME+"CompositionStart")},_getCompositionEndEvent:function(){return Be("compositionend",this.NAME+"CompositionEnd")},_getSetFocusPolicyEvent:function(){return Be("input",this.NAME+"FocusPolicy")},_renderEvents:function(){this.callBase(),he.on(this._input(),this._getSetFocusPolicyEvent(),()=>{this._setFocusPolicy()}),this._shouldRenderSearchEvent()&&(he.on(this._input(),this._getSearchEvent(),e=>{this._searchHandler(e)}),C1&&(he.on(this._input(),this._getCompositionStartEvent(),()=>{this._isTextCompositionInProgress(!0)}),he.on(this._input(),this._getCompositionEndEvent(),e=>{this._isTextCompositionInProgress(void 0),this._searchHandler(e,this._searchValue())})))},_shouldRenderSearchEvent:function(){return this.option("searchEnabled")},_refreshEvents:function(){he.off(this._input(),this._getSearchEvent()),he.off(this._input(),this._getSetFocusPolicyEvent()),C1&&(he.off(this._input(),this._getCompositionStartEvent()),he.off(this._input(),this._getCompositionEndEvent())),this.callBase()},_isTextCompositionInProgress:function(e){if(arguments.length)this._isTextComposition=e;else return this._isTextComposition},_searchHandler:function(e,t){if(!this._isTextCompositionInProgress()){if(!this._isMinSearchLengthExceeded()){this._searchCanceled();return}var i=this.option("searchTimeout");i?(this._clearSearchTimer(),this._searchTimer=setTimeout(()=>{this._searchDataSource(t)},i)):this._searchDataSource(t)}},_searchCanceled:function(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._searchValue();this._filterDataSource(e)},_filterDataSource:function(e){this._clearSearchTimer();var t=this._dataSource;t&&(t.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),t.searchOperation(this.option("searchMode")),t.searchValue(e),t.load().done(this._dataSourceFiltered.bind(this,e)))},_clearFilter:function(){var e=this._dataSource;e&&e.searchValue()&&e.searchValue(null)},_dataSourceFiltered:function(){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup:function(){return this._hasItemsToShow()},_refreshPopupVisibility:function(){if(!(this.option("readOnly")||!this._searchValue())){var e=this._shouldOpenPopup();e&&!this._isFocused()||(this.option("opened",e),e&&this._dimensionChanged())}},_dataSourceChangedHandler:function(e){this._dataSource.pageIndex()===0?this.option().items=e:this.option().items=this.option().items.concat(e)},_hasItemsToShow:function(){var e=this._dataSource&&this._dataSource.items()||[],t=e.length,i=this._needPassDataSourceToList();return!!(i&&t)},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._dimensionChanged()},_dimensionChanged:function(){this.callBase(arguments),this._popup&&this._updatePopupDimensions()},_needPopupRepaint:function(){if(!this._dataSource)return!1;var e=this._dataSource.pageIndex(),t=oe(this._pageIndex)&&e<=this._pageIndex||this._dataSource.isLastPage()&&!this._list._scrollViewIsFull();return this._pageIndex=e,t},_updatePopupDimensions:function(){this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions()},_getMaxHeight:function(){var e=this.$element(),t=this._$customBoundaryContainer,i=e.offset().top-(t?t.offset().top:0),r=At(y1),n=t?Math.min(At(t),r):r,a=Math.max(i,n-i-At(e));return Math.min(.5*n,a)},_clean:function(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_setSubmitValue:function(){var e=this.option("value"),t=this._shouldUseDisplayValue(e)?this._displayGetter(e):e;this._getSubmitElement().val(t)},_shouldUseDisplayValue:function(e){return this.option("valueExpr")==="this"&&at(e)},_optionChanged:function(e){switch(this._dataExpressionOptionChanged(e),e.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(e.name,e.value),this.callBase(e);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"useItemTextAsTitle":this._setListOption(e.name);break;case"displayValue":this.option("text",e.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":e.previousValue!==e.value&&this._selectionChangedAction({selectedItem:e.value});break;default:this.callBase(e)}}}).include(b1,JO);Tt("dxDropDownList",kD);var PX="dx-radiobutton",x1="dx-radiobutton-icon",LX="dx-radiobutton-icon-dot",FX="dx-radiobutton-checked",NX="dx-radiobutton-icon-checked",RD=mn.inherit({_supportedKeys:function(){return ce(this.callBase(),{space:function(e){e.preventDefault(),this._clickAction({event:e})}})},_getDefaultOptions:function(){return ce(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1})},_canValueBeChangedByClick:function(){return!0},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this.$element().addClass(PX)},_initMarkup:function(){this.callBase(),this._renderIcon(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")},_renderIcon:function(){this._$icon=J("<div>").addClass(x1),J("<div>").addClass(LX).appendTo(this._$icon),this.$element().append(this._$icon)},_renderCheckedState:function(e){this.$element().toggleClass(FX,e).find("."+x1).toggleClass(NX,e),this.setAria("checked",e)},_renderClick:function(){var e=Be(zt,this.NAME);this._clickAction=this._createAction((function(t){this._clickHandler(t.event)}).bind(this)),he.off(this.$element(),e),he.on(this.$element(),e,(function(t){this._clickAction({event:t})}).bind(this))},_clickHandler:function(e){this._saveValueChangeEvent(e),this.option("value",!0)},_optionChanged:function(e){switch(e.name){case"value":this._renderCheckedState(e.value),this.callBase(e);break;default:this.callBase(e)}}});Tt("dxRadioButton",RD);var mb="dxListEditDecorator",VX=Be(qf,mb),HX=Be(Xf,mb),$X=Be(Pd,mb),zX=Ot.inherit({ctor:function(e){this._list=e,this._init()},_init:Ee,_shouldHandleSwipe:!1,_attachSwipeEvent:function(e){var t={itemSizeFunc:(function(){return this._clearSwipeCache&&(this._itemWidthCache=ut(this._list.$element()),this._clearSwipeCache=!1),this._itemWidthCache}).bind(this)};he.on(e.$itemElement,VX,t,this._itemSwipeStartHandler.bind(this)),he.on(e.$itemElement,HX,this._itemSwipeUpdateHandler.bind(this)),he.on(e.$itemElement,$X,this._itemSwipeEndHandler.bind(this))},_itemSwipeStartHandler:function(e){var t=J(e.currentTarget);if(t.is(".dx-state-disabled, .dx-state-disabled *")){e.cancel=!0;return}clearTimeout(this._list._inkRippleTimer),this._swipeStartHandler(t,e)},_itemSwipeUpdateHandler:function(e){var t=J(e.currentTarget);this._swipeUpdateHandler(t,e)},_itemSwipeEndHandler:function(e){var t=J(e.currentTarget);this._swipeEndHandler(t,e),this._clearSwipeCache=!0},beforeBag:Ee,afterBag:Ee,_commonOptions:function(){return{activeStateEnabled:this._list.option("activeStateEnabled"),hoverStateEnabled:this._list.option("hoverStateEnabled"),focusStateEnabled:this._list.option("focusStateEnabled")}},modifyElement:function(e){this._shouldHandleSwipe&&(this._attachSwipeEvent(e),this._clearSwipeCache=!0)},afterRender:Ee,handleClick:Ee,handleKeyboardEvents:Ee,handleEnterPressing:Ee,handleContextMenu:Ee,_swipeStartHandler:Ee,_swipeUpdateHandler:Ee,_swipeEndHandler:Ee,visibilityChange:Ee,getExcludedSelectors:Ee,dispose:Ee}),w1="dx-list-select-decorator-enabled",WX="dx-list-select-all",jX="dx-list-select-all-checkbox",UX="dx-list-select-all-label",GX="dx-list-select-checkbox-container",KX="dx-list-select-checkbox",qX="dx-list-select-radiobutton-container",XX="dx-list-select-radiobutton",YX="dx-state-focused",S1=Be(zt,"dxListEditDecorator");QG("selection","default",zX.inherit({_init:function(){this.callBase.apply(this,arguments);var e=this._list.option("selectionMode");this._singleStrategy=e==="single",this._containerClass=this._singleStrategy?qX:GX,this._controlClass=this._singleStrategy?XX:KX,this._controlWidget=this._singleStrategy?RD:Js,this._list.$element().addClass(w1)},beforeBag:function(e){var t=e.$itemElement,i=e.$container.addClass(this._containerClass),r=J("<div>").addClass(this._controlClass).appendTo(i);new this._controlWidget(r,ce(this._commonOptions(),{value:this._isSelected(t),focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:(function(n){n.event&&this._list._saveSelectionChangeEvent(n.event),this._processCheckedState(t,n.value),n.event&&n.event.stopPropagation()}).bind(this)}))},modifyElement:function(e){this.callBase.apply(this,arguments);var t=e.$itemElement,i=this._controlWidget.getInstance(t.find("."+this._controlClass));he.on(t,"stateChanged",(function(r,n){i.option("value",n)}).bind(this))},_updateSelectAllState:function(){this._$selectAll&&this._selectAllCheckBox.option("value",this._list.isSelectAll())},afterRender:function(){this._list.option("selectionMode")==="all"&&(this._$selectAll?this._updateSelectAllState():this._renderSelectAll())},handleKeyboardEvents:function(e,t){var i=!t,r=this._list,n=this._$selectAll,a=r._getLastItemIndex(),s=t&&e===0||i&&e===a,o=!!n;return o&&s?(r.option("focusedElement",n),r.scrollToItem(r.option("focusedElement")),!0):!1},handleEnterPressing:function(e){if(this._$selectAll&&this._$selectAll.hasClass(YX))return e.target=this._$selectAll.get(0),this._list._saveSelectionChangeEvent(e),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value")),!0},_renderSelectAll:function(){var e=this._$selectAll=J("<div>").addClass(WX),t=this._list,i=t._supportedKeys().downArrow.bind(t);this._selectAllCheckBox=t._createComponent(J("<div>").addClass(jX).appendTo(e),Js,{focusStateEnabled:!1,hoverStateEnabled:!1}),this._selectAllCheckBox.registerKeyHandler("downArrow",i),J("<div>").addClass(UX).text(this._list.option("selectAllText")).appendTo(e),this._list.itemsContainer().prepend(e),this._updateSelectAllState(),this._attachSelectAllHandler()},_attachSelectAllHandler:function(){this._selectAllCheckBox.option("onValueChanged",this._selectAllHandler.bind(this)),he.off(this._$selectAll,S1),he.on(this._$selectAll,S1,this._selectAllClickHandler.bind(this))},_selectAllHandler:function(e){e.event&&e.event.stopPropagation();var t=this._selectAllCheckBox.option("value");e.event&&this._list._saveSelectionChangeEvent(e.event),t===!0?this._selectAllItems():t===!1&&this._unselectAllItems(),this._list._createActionByOption("onSelectAllValueChanged")({value:t})},_checkSelectAllCapability:function(){var e=this._list,t=e.getDataSource();return e.option("selectAllMode")==="allPages"&&e.option("grouped")&&(!t||!t.group())?(xt.log("W1010"),!1):!0},_selectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.selectAll(this._list.option("selectAllMode")==="page")},_unselectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.deselectAll(this._list.option("selectAllMode")==="page")},_selectAllClickHandler:function(e){this._list._saveSelectionChangeEvent(e),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value"))},_isSelected:function(e){return this._list.isItemSelected(e)},_processCheckedState:function(e,t){t?this._list.selectItem(e):this._list.unselectItem(e)},dispose:function(){this._disposeSelectAll(),this._list.$element().removeClass(w1),this.callBase.apply(this,arguments)},_disposeSelectAll:function(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)}}));var ZX=".dx-state-disabled",JX="dx-selectbox",QX="dx-selectbox-popup",eY="dx-selectbox-container",E1="dx-selectbox-popup-wrapper",gb=kD.inherit({_supportedKeys:function(){var e=this,t=this.callBase(),i=function(n){var a=this._isEditable();a?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(n.preventDefault(),this.reset()),this._savedTextRemoveEvent=n,this._preventSubstitution=!0},r=function(){e.option("searchEnabled")&&e._valueSubstituted()&&e._searchHandler()};return ce({},t,{tab:function(){this.option("opened")&&this.option("applyValueMode")==="instantly"&&this._resetCaretPosition(!0),t.tab&&t.tab.apply(this,arguments),this._cancelSearchIfNeed()},upArrow:function(n){if(t.upArrow&&t.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(n),!0},downArrow:function(n){if(t.downArrow&&t.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(n),!0},leftArrow:function(){r(),t.leftArrow&&t.leftArrow.apply(this,arguments)},rightArrow:function(){r(),t.rightArrow&&t.rightArrow.apply(this,arguments)},home:function(){r(),t.home&&t.home.apply(this,arguments)},end:function(){r(),t.end&&t.end.apply(this,arguments)},escape:function(){var n=t.escape&&t.escape.apply(this,arguments);return this._cancelEditing(),n??!0},enter:function(n){var a=this.option("opened"),s=this._input().val().trim(),o=s&&this._list&&!this._list.option("focusedElement");if(!s&&oe(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(n),this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return n.preventDefault(),o&&(a&&this._toggleOpenState(),this._valueChangeEventHandler(n)),a;if(t.enter&&t.enter.apply(this,arguments))return a}},space:function(n){var a=this.option("opened"),s=this.option("searchEnabled"),o=this.option("acceptCustomValue");if(!(!a||s||o))return n.preventDefault(),this._valueChangeEventHandler(n),!0},backspace:i,del:i})},_getDefaultOptions:function(){return ce(this.callBase(),{placeholder:Ae.format("Select"),fieldTemplate:null,valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating:function(e){oe(e.customItem)||(e.customItem=e.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})},_init:function(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup:function(){this.$element().addClass(JX),this._renderTooltip(),this.callBase(),this._$container.addClass(eY)},_createPopup:function(){this.callBase(),this._popup.$element().addClass(QX),this._popup.$overlayContent().attr("tabindex",-1)},_popupWrapperClass:function(){return this.callBase()+" "+E1},_cancelEditing:function(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement:function(){var e,t=this._searchValue();if(!t){this._focusListElement(null);return}var{items:i,selectedItem:r}=this.option(),n=this._list._itemElements(),a=(e=i==null?void 0:i.indexOf(r))!==null&&e!==void 0?e:-1,s=a!==-1&&!this._isCustomItemSelected()?n.eq(a):null;this._focusListElement(s)},_renderFocusedElement:function(){if(this._list){var e=this._searchValue();if(!e||this.option("acceptCustomValue")){this._focusListElement(null);return}var t=this._list._itemElements(),i=t.not(ZX).eq(0);this._focusListElement(i)}},_focusListElement:function(e){this._preventInputValueRender=!0,this._list.option("focusedElement",ot(e)),delete this._preventInputValueRender},_scrollToSelectedItem:function(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler:function(){this.callBase();var e=this._dataSource&&this._dataSource.paginate();e&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue:function(){return this._renderInputValue(),this._setSubmitValue(),new we().resolve()},_renderInputValue:function(){return this.callBase().always((function(){this._renderInputValueAsync()}).bind(this))},_renderInputValueAsync:function(){this._renderTooltip(),this._renderInputValueImpl().always((function(){this._refreshSelected()}).bind(this))},_renderInputValueImpl:function(){return this._renderField(),new we().resolve()},_setNextItem:function(e){var t=this._calcNextItem(e),i=this._valueGetter(t);this._setValue(i)},_setNextValue:function(e){var t=this._dataSource.isLoaded()?new we().resolve():this._dataSource.load();t.done((function(){var i=this._getSelectedIndex(),r=this._dataSource.pageSize(),n=this._dataSource.isLastPage(),a=i===this._items().length-1;this._saveValueChangeEvent(e);var s=ci(e)==="downArrow"?1:-1;r&&!n&&a&&s>0?(this._popup||this._createPopup(),this._dataSource.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,s))):this._setNextItem(s)}).bind(this))},_setSelectedItem:function(e){var t=!this._isCustomValueAllowed()&&e===void 0;this.callBase(t?null:e),!t&&(!this._isEditable()||this._isCustomItemSelected())&&this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed:function(){return this.option("acceptCustomValue")||this.callBase()},_displayValue:function(e){return e=!oe(e)&&this._isCustomValueAllowed()?this.option("value"):e,this.callBase(e)},_listConfig:function(){var e=ce(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&ce(e,{showSelectionControls:!0,selectionByClick:!0}),e},_listFocusedItemChangeHandler:function(e){if(!this._preventInputValueRender){var t=e.component,i=J(t.option("focusedElement")),r=t._getItemData(i);this._updateField(r)}},_updateField:function(e){var t=this._getTemplateByOption("fieldTemplate");if(!(t&&this.option("fieldTemplate"))){var i=this._displayGetter(e);this.option("text",i),this._renderDisplayText(i);return}this._renderField()},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):Ee},_selectionChangeHandler:function(e){ve(e.addedItems||[],(function(t,i){this._setValue(this._valueGetter(i))}).bind(this))},_getActualSearchValue:function(){return this._dataSource.searchValue()},_toggleOpenState:function(e){if(!this.option("disabled")){if(e=arguments.length?e:!this.option("opened"),!e&&!this._shouldClearFilter()&&this._restoreInputText(!0),this._wasSearch()&&e){this._wasSearch(!1);var t=this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded();if(t&&this._dataSource){if(this._searchTimer)return;var i=this._getActualSearchValue();i&&this._wasSearch(!0),this._filterDataSource(i||null)}else this._setListOption("items",[])}e&&this._scrollToSelectedItem(),this.callBase(e)}},_renderTooltip:function(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._dimensionChanged()},_isValueEqualInputText:function(){var e=this.option("selectedItem");if(e===null)return!1;var t=this._displayGetter(e),i=t?String(t):"",r=this._searchValue();return i===r},_popupHidingHandler:function(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_popupHiddenHandler:function(){this.callBase(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))},_restoreInputText:function(e){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always((function(){var{acceptCustomValue:t,text:i,selectedItem:r}=this.option();if(t){!e&&!this._isValueChanging&&(this._updateField(r??this._createCustomItem(i)),this._clearFilter());return}if(this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")){this._clearTextValue();return}this._isValueEqualInputText()||this._renderInputValue().always((function(n){var a=hi(n,r);this._setSelectedItem(a),this._updateField(a),this._clearFilter()}).bind(this))}).bind(this))},_focusOutHandler:function(e){if(!this._preventNestedFocusEvent(e)){var t=this._isOverlayNestedTarget(e.relatedTarget);t||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(e)}e.target=this._input().get(0),this.callBase(e)},_cancelSearchIfNeed:function(e){var{searchEnabled:t}=this.option(),i=this._isOverlayNestedTarget(e==null?void 0:e.relatedTarget),r=this._wasSearch()&&t&&!i;if(r){var n,a=(n=this._popup)===null||n===void 0?void 0:n._hideAnimationProcessing;this._clearSearchTimer(),a?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}},_shouldCancelSearch:function(e){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=e},_isOverlayNestedTarget:function(e){return!!J(e).closest(".".concat(E1)).length},_clearTextValue:function(){this.option("selectedItem")&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent},_shouldOpenPopup:function(){return this._needPassDataSourceToList()&&this._wasSearch()},_isFocused:function(){var e=Re.getActiveElement();return this.callBase()&&J(e).closest(this._input()).length>0},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_fieldRenderData:function(){var e=this._list&&this.option("opened")&&J(this._list.option("focusedElement"));return e&&e.length?this._list._getItemData(e):this.option("selectedItem")},_isSelectedValue:function(e){return this._isValueEquals(e,this.option("value"))},_shouldCloseOnItemClick:function(){return!(this.option("showSelectionControls")&&this.option("selectionMode")!=="single")},_listItemClickHandler:function(e){var t=this._getCurrentValue();this._focusListElement(J(e.itemElement)),this._saveValueChangeEvent(e.event),this._completeSelection(this._valueGetter(e.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&t===this._valueGetter(e.itemData)&&this._updateField(e.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()},_shouldClearFilter:function(){return this._wasSearch()},_completeSelection:function(e){this._setValue(e)},_loadItem:function(e,t){var i=this,r=new we;return this.callBase(e,t).done((function(n){r.resolve(n)}).bind(this)).fail((function(n){if(!(n!=null&&n.shouldSkipCallback)){var a=i.option("selectedItem");i.option("acceptCustomValue")&&e===i._valueGetter(a)?r.resolve(a):r.reject()}}).bind(this)),r.promise()},_loadInputValue:function(e,t){return this._loadItemDeferred=this._loadItem(e).always(t),this._loadItemDeferred},_isCustomItemSelected:function(){var e=this.option("selectedItem"),t=this._searchValue(),i=this._displayGetter(e);return!i||t!==i.toString()},_valueChangeEventHandler:function(e){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(e))},_initCustomItemCreatingAction:function(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem:function(e){var t={text:e},i=this._customItemCreatingAction(t),r=hi(i,t.customItem);return oe(i)&&qt.log("W0015","onCustomItemCreating","customItem"),r},_customItemAddedHandler:function(e){var t=this._searchValue(),i=this._createCustomItem(t);if(this._saveValueChangeEvent(e),i===void 0)throw this._renderValue(),qt.Error("E0121");id(i)?Gi(i).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(i)},_setCustomItem:function(e){this._disposed||(e=e||null,this.option("selectedItem",e),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(e)),this._renderDisplayText(this._displayGetter(e)),this._isValueChanging=!1)},_clearValueHandler:function(e){return this._preventFiltering=!0,this.callBase(e),this._searchCanceled(),!1},_wasSearch:function(e){if(!arguments.length)return!!this._wasSearchValue;this._wasSearchValue=e},_searchHandler:function(){if(this._preventFiltering){delete this._preventFiltering;return}this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(arguments)},_dataSourceFiltered:function(e){this.callBase(),e!==null&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted:function(){var e=this._input().get(0),t=this._searchValue().length,i=e.selectionStart===0&&e.selectionEnd===t,r=e.selectionStart!==e.selectionEnd,n=t===e.selectionEnd;return this._wasSearch()&&r&&!i&&n&&this._shouldSubstitutionBeRendered()},_shouldSubstitutionBeRendered:function(){return!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&this.option("searchMode")==="startswith"},_renderInputSubstitution:function(){if(!this._shouldSubstitutionBeRendered()){delete this._preventSubstitution;return}var e=this._list&&this._getPlainItems(this._list.option("items"))[0];if(e){var t=this._input(),i=t.val().length;if(i!==0){var r=t.get(0),n=this._displayGetter(e).toString();r.value=n,this._caret({start:i,end:n.length})}}},_dispose:function(){this._renderInputValueAsync=Ee,delete this._loadItemDeferred,this.callBase()},_optionChanged:function(e){switch(e.name){case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:this.callBase(e)}}});Tt("dxSelectBox",gb);var T1=e=>e.getMonth()+1,I1=(e,t)=>{var i=e.getDate(),r=Xu("M",e),n=rr(parseInt(t),r.min,r.max);e.setMonth(n-1,1);var{min:a,max:s}=Xu("dM",e),o=rr(i,a,s);e.setDate(o)},tY={a:e=>e.getHours()<12?0:1,E:"getDay",y:"getFullYear",M:T1,L:T1,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"},iY=ce({},T6(),{a:(e,t)=>{var i=e.getHours(),r=i>=12;r!==!!parseInt(t)&&e.setHours((i+12)%24)},d:(e,t)=>{var i=Xu("dM",e).max;t>i&&e.setMonth(e.getMonth()+1),e.setDate(t)},h:(e,t)=>{var i=e.getHours()>=12;e.setHours(+t%12+(i?12:0))},M:I1,L:I1,E:(e,t)=>{t<0||e.setDate(e.getDate()-e.getDay()+parseInt(t))},y:(e,t)=>{var i=e.getFullYear(),r=String(t).length,n=String(Xu("y",e).max).length,a=parseInt(String(i).substr(0,n-r)+t);e.setFullYear(a)}}),rY=e=>tY[e]||(()=>e),nY=(e,t)=>{for(var i=t.regexp.exec(e),r=0,n=0,a=[],s=function(l){r=n,n=r+i[l].length;var u=t.patterns[l-1].replace(/^'|'$/g,""),d=rY(u[0]);a.push({index:l-1,isStub:u===i[l],caret:{start:r,end:n},pattern:u,text:i[l],limits:function(){for(var c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];return Xu(u[0],...h)},setter:iY[u[0]]||Ee,getter:d})},o=1;o<i.length;o++)s(o);return a},Xu=(e,t,i)=>{var r={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:0,max:23},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1}};return r[i||e]||r.getAmPm},aY=(e,t)=>{for(var i=0;i<e.length;i++){var r=e[i].caret.end>=t;if(!e[i].isStub&&r)return i}return null},ig=["year","day","month","day"],A1=["hours","minutes","seconds","milliseconds"],MD=6e4,BD=60*MD*24,sY=365*BD,oY=function(e){var t=typeof e;return t==="string"?"format":t==="object"&&e.type!==void 0?e.type:null},jt={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:MD,ONE_DAY:BD,ONE_YEAR:sY,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:function(){var e=new Date;return new Date(e.getFullYear()+50,e.getMonth(),e.getDate(),23,59,59)}(),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:ig},time:{getStandardPattern:function(){return"HH:mm"},components:A1},datetime:{getStandardPattern:function(){var e;return function(){var t=J("<input>").attr("type","datetime");t.val("2000-01-01T01:01Z"),t.val()&&(e="yyyy-MM-ddTHH:mmZ")}(),e||(e="yyyy-MM-ddTHH:mm:ssZ"),jt.FORMATS_INFO.datetime.getStandardPattern=function(){return e},e},components:[...ig,...A1]},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:[...ig,"hours","minutes","seconds"]}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(e,t){var i=jt.FORMATS_INFO[t].getStandardPattern();return Fi.serializeDate(e,i)},fromStandardDateFormat:function(e){var t=Fi.dateParser(e);return sr(t)?t:void 0},getMaxMonthDay:function(e,t){return new Date(e,t+1,0).getDate()},mergeDates:function(e,t,i){if(!t)return t||null;if(!e||isNaN(e.getTime())){var r=new Date(null);e=new Date(r.getFullYear(),r.getMonth(),r.getDate())}var n=new Date(e.valueOf()),a=jt.FORMATS_INFO[i];return ve(a.components,function(){var s=jt.DATE_COMPONENTS_INFO[this];n[s.setter](t[s.getter]())}),n},getLongestCaptionIndex:function(e){var t=0,i=0,r;for(r=0;r<e.length;++r)e[r].length>i&&(t=r,i=e[r].length);return t},formatUsesMonthName:function(e){return gt.formatUsesMonthName(e)},formatUsesDayName:function(e){return gt.formatUsesDayName(e)},getLongestDate:function(e,t,i){var r=oY(e),n=9;(!r||jt.formatUsesMonthName(r))&&(n=jt.getLongestCaptionIndex(t));var a=new Date(1888,n,21,23,59,59,999);if(!r||jt.formatUsesDayName(r)){var s=a.getDate()-a.getDay()+jt.getLongestCaptionIndex(i);a.setDate(s)}return a},normalizeTime:function(e){e.setSeconds(0),e.setMilliseconds(0)}};jt.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(e,t){var i=new Date(t.getTime());return i.setFullYear(e),gt.format(i,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(e,t){var i=new Date(t.getTime());return i.setDate(e),gt.format(i,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(e){return gt.getMonthNames()[e]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(e){return gt.format(new Date(0,0,0,e),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(e){return gt.format(new Date(0,0,0,0,e),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(e){return gt.format(new Date(0,0,0,0,0,e),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(e){return gt.format(new Date(0,0,0,0,0,0,e),"millisecond")},startValue:0,endValue:999}};var PD="dxSwipeable",lY="dx-swipeable",uY={onStart:qf,onUpdated:Xf,onEnd:Pd,onCancel:"dxswipecancel"},tf=Nn.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{elastic:!0,immediate:!1,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass(lY),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),!this.option("disabled")){var e=this.NAME;this._createEventData(),ve(uY,(function(t,i){var r=this._createActionByOption(t,{context:this});i=Be(i,e),he.on(this.$element(),i,this._eventData,function(n){return r({event:n})})}).bind(this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate")}},_detachEventHandlers:function(){he.off(this.$element(),"."+PD)},_optionChanged:function(e){switch(e.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(e)}},_useTemplates:function(){return!1}});od(tf,PD);var dY="dx-calendar-navigator",hY="dx-calendar-navigator-previous-month",cY="dx-calendar-navigator-next-month",fY="dx-calendar-navigator-previous-view",pY="dx-calendar-navigator-next-view",mY="dx-calendar-disabled-navigator-link",gY="dx-calendar-caption-button",vY=Hi.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{onClick:null,onCaptionClick:null,text:""})},_init:function(){this.callBase(),this._initActions()},_initActions:function(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")},_initMarkup:function(){this.callBase(),this.$element().addClass(dY),this._renderButtons(),this._renderCaption()},_renderButtons:function(){var e=this,t=this.option("rtlEnabled")?-1:1;this._prevButton=this._createComponent(J("<a>"),Ji,{focusStateEnabled:!1,icon:"chevronleft",onClick:function(a){e._clickAction({direction:-t,event:a})},integrationOptions:{}});var i=this._prevButton.$element().addClass(fY).addClass(hY);this._nextButton=this._createComponent(J("<a>"),Ji,{focusStateEnabled:!1,icon:"chevronright",onClick:function(a){e._clickAction({direction:t,event:a})},integrationOptions:{}});var r=this._nextButton.$element().addClass(pY).addClass(cY);this._caption=this._createComponent(J("<a>").addClass(gY),Ji,{focusStateEnabled:!1,onClick:function(a){e._captionClickAction({event:a})},integrationOptions:{}});var n=this._caption.$element();this.$element().append(i,n,r)},_renderCaption:function(){this._caption.option("text",this.option("text"))},toggleButton:function(e,t){var i="_"+e+"Button",r=this[i];r&&(r.option("disabled",t),r.$element().toggleClass(mY,t))},_optionChanged:function(e){switch(e.name){case"text":this._renderCaption();break;default:this.callBase(e)}}}),{abstract:Sa}=Hi,_Y="dx-calendar-other-view",bY="dx-calendar-cell",O1="dx-calendar-empty-cell",yY="dx-calendar-today",D1="dx-calendar-selected-date",rg="dx-calendar-contoured-date",k1=Be(zt,"dxCalendar"),R1="dxDateValueKey",kh=Hi.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return ce(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:()=>new Date})},_initMarkup:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderEvents()},_createTable:function(){return this._$table=J("<table>"),this.setAria({label:Ae.format("dxCalendar-ariaWidgetName"),role:"grid"},this._$table),this._$table},_renderBody:function(){this.$body=J("<tbody>").appendTo(this._$table);for(var e={cellDate:this._getFirstCellData(),prevCellDate:null},t=0,i=this.option("rowCount");t<i;t++){e.row=this._createRow();for(var r=0,n=this.option("colCount");r<n;r++)this._renderCell(e,r)}},_createRow:function(){var e=Re.createElement("tr");return this.setAria("role","row",J(e)),this.$body.get(0).appendChild(e),e},_appendCell:function(e,t){this._appendMethodName||this._cacheAppendMethodName(),J(e)[this._appendMethodName](t)},_cacheAppendMethodName:function(e){this._appendMethodName=e??this.option("rtlEnabled")?"prepend":"append"},_createCell:function(e){var t=Re.createElement("td"),i=J(t);return t.className=this._getClassNameByDate(e),t.setAttribute("data-value",Fi.serializeDate(e,st.getShortDateFormat())),di(t,R1,e),this.setAria({role:"gridcell",label:this.getCellAriaLabel(e)},i),{cell:t,$cell:i}},_renderCell:function(e,t){var{cellDate:i,prevCellDate:r,row:n}=e;r&&st.fixTimezoneGap(r,i),e.prevCellDate=i;var{cell:a,$cell:s}=this._createCell(i),o=this.option("cellTemplate");this._appendCell(n,a),o?o.render(this._prepareCellTemplateData(i,t,s)):a.innerHTML=this._getCellText(i),e.cellDate=this._getNextCellData(i)},_getClassNameByDate:function(e){var t=bY;return this._isTodayCell(e)&&(t+=" ".concat(yY)),(this._isDateOutOfRange(e)||this.isDateDisabled(e))&&(t+=" ".concat(O1)),this._isOtherView(e)&&(t+=" ".concat(_Y)),t},_prepareCellTemplateData:function(e,t,i){return{model:{text:this._getCellText(e),date:e,view:this._getViewName()},container:ot(i),index:t}},_renderEvents:function(){this._createCellClickAction(),he.off(this._$table,k1),he.on(this._$table,k1,"td",e=>{J(e.currentTarget).hasClass(O1)||this._cellClickAction({event:e,value:J(e.currentTarget).data(R1)})})},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_createDisabledDatesHandler:function(){var e=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(e)?this._getDefaultDisabledDatesHandler(e):e||Ee},_getDefaultDisabledDatesHandler:function(e){return Ee},_isTodayCell:Sa,_isDateOutOfRange:Sa,isDateDisabled:function(e){var t={date:e,view:this._getViewName()};return this._disabledDatesHandler(t)},_isOtherView:Sa,_getCellText:Sa,_getFirstCellData:Sa,_getNextCellData:Sa,_renderContouredDate:function(e){if(this.option("focusStateEnabled")){e=e||this.option("contouredDate");var t=this._getContouredCell(),i=this._getCellByDate(e);t.removeClass(rg),i.addClass(rg)}},_getContouredCell:function(){return this._$table.find(".".concat(rg))},_changeValue:function(e){if(e){var t=this.option("value"),i=t?new Date(t):new Date;i.setDate(e.getDate()),i.setMonth(e.getMonth()),i.setFullYear(e.getFullYear()),i.setDate(e.getDate()),this.option("value",i)}else this.option("value",null)},_renderValue:function(){if(this.option("allowValueSelection")){var e=this.option("value"),t=this._getCellByDate(e);this._selectedCell&&this._selectedCell.removeClass(D1),t.addClass(D1),this._selectedCell=t}},getCellAriaLabel:function(e){return this._getCellText(e)},_getFirstAvailableDate:function(){var e=this.option("date"),t=this.option("min");return e=st.getFirstDateView(this._getViewName(),e),new Date(t&&e<t?t:e)},_getCellByDate:Sa,isBoundary:Sa,_optionChanged:function(e){var{name:t,value:i}=e;switch(t){case"value":this._renderValue();break;case"contouredDate":this._renderContouredDate(i);break;case"onCellClick":this._createCellClickAction();break;case"disabledDates":case"cellTemplate":this._invalidate();break;case"rtlEnabled":this._cacheAppendMethodName(i),this.callBase(e);break;case"_todayDate":this._renderBody();break;default:this.callBase(e)}}}),CY="dx-calendar-other-month",xY="dx-calendar-other-view",wY={month:kh.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return ce(this.callBase(),{firstDayOfWeek:void 0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find(".".concat(xY)).addClass(CY)},_renderFocusTarget:Ee,getCellAriaLabel:function(e){return gt.format(e,"longdate")},_renderHeader:function(){var e=J("<tr>"),t=J("<thead>").append(e);this._$table.prepend(t);for(var i=0,r=this.option("colCount");i<r;i++)this._renderHeaderCell(i,e)},_renderHeaderCell:function(e,t){var{full:i,abbreviated:r}=this._getDayCaption(this._getFirstDayOfWeek()+e),n=J("<th>").attr({scope:"col",abbr:i}).text(r);this._appendCell(t,n)},getNavigatorCaption:function(){return gt.format(this.option("date"),"monthandyear")},_isTodayCell:function(e){var t=this.option("_todayDate")();return st.sameDate(e,t)},_isDateOutOfRange:function(e){var t=this.option("min"),i=this.option("max");return!st.dateInRange(e,t,i,"date")},_isOtherView:function(e){return e.getMonth()!==this.option("date").getMonth()},_getCellText:function(e){return gt.format(e,"d")},_getDayCaption:function(e){var t=this.option("colCount"),i=e%t;return{full:gt.getDayNames()[i],abbreviated:gt.getDayNames("abbreviated")[i]}},_getFirstCellData:function(){var e=st.getFirstMonthDate(this.option("date")),t=this._getFirstDayOfWeek()-e.getDay(),i=this.option("colCount");return t>=0&&(t-=i),e.setDate(e.getDate()+t),e},_getNextCellData:function(e){return e=new Date(e),e.setDate(e.getDate()+1),e},_getFirstDayOfWeek:function(){return oe(this.option("firstDayOfWeek"))?this.option("firstDayOfWeek"):gt.firstDayOfWeekIndex()},_getCellByDate:function(e){return this._$table.find("td[data-value='".concat(Fi.serializeDate(e,st.getShortDateFormat()),"']"))},isBoundary:function(e){return st.sameMonthAndYear(e,this.option("min"))||st.sameMonthAndYear(e,this.option("max"))},_getDefaultDisabledDatesHandler:function(e){return function(t){var i=e.some(function(r){return st.sameDate(r,t.date)});if(i)return!0}}}),year:kh.inherit({_getViewName:function(){return"year"},_isTodayCell:function(e){var t=this.option("_todayDate")();return st.sameMonthAndYear(e,t)},_isDateOutOfRange:function(e){return!st.dateInRange(e,st.getFirstMonthDate(this.option("min")),st.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_getCellText:function(e){return gt.getMonthNames("abbreviated")[e.getMonth()]},_getFirstCellData:function(){var e=this.option("date"),t=new Date(e);return t.setDate(1),t.setMonth(0),t},_getNextCellData:function(e){return e=new Date(e),e.setMonth(e.getMonth()+1),e},_getCellByDate:function(e){var t=new Date(e);return t.setDate(1),this._$table.find("td[data-value='".concat(Fi.serializeDate(t,st.getShortDateFormat()),"']"))},getCellAriaLabel:function(e){return gt.format(e,"monthandyear")},getNavigatorCaption:function(){return gt.format(this.option("date"),"yyyy")},isBoundary:function(e){return st.sameYear(e,this.option("min"))||st.sameYear(e,this.option("max"))}}),decade:kh.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(e){var t=this.option("_todayDate")();return st.sameYear(e,t)},_isDateOutOfRange:function(e){var t=this.option("min"),i=this.option("max");return!st.dateInRange(e.getFullYear(),t&&t.getFullYear(),i&&i.getFullYear())},_isOtherView:function(e){var t=new Date(e);return t.setMonth(1),!st.sameDecade(t,this.option("date"))},_getCellText:function(e){return gt.format(e,"yyyy")},_getFirstCellData:function(){var e=st.getFirstYearInDecade(this.option("date"))-1;return st.createDateWithFullYear(e,0,1)},_getNextCellData:function(e){return e=new Date(e),e.setFullYear(e.getFullYear()+1),e},getNavigatorCaption:function(){var e=this.option("date"),t=st.getFirstYearInDecade(e),i=new Date(e),r=new Date(e);return i.setFullYear(t),r.setFullYear(t+9),gt.format(i,"yyyy")+"-"+gt.format(r,"yyyy")},_isValueOnCurrentView:function(e,t){return st.sameDecade(e,t)},_getCellByDate:function(e){var t=new Date(e);return t.setDate(1),t.setMonth(0),this._$table.find("td[data-value='".concat(Fi.serializeDate(t,st.getShortDateFormat()),"']"))},isBoundary:function(e){return st.sameDecade(e,this.option("min"))||st.sameDecade(e,this.option("max"))}}),century:kh.inherit({_getViewName:function(){return"century"},_isTodayCell:function(e){var t=this.option("_todayDate")();return st.sameDecade(e,t)},_isDateOutOfRange:function(e){var t=st.getFirstYearInDecade(e),i=st.getFirstYearInDecade(this.option("min")),r=st.getFirstYearInDecade(this.option("max"));return!st.dateInRange(t,i,r)},_isOtherView:function(e){var t=new Date(e);return t.setMonth(1),!st.sameCentury(t,this.option("date"))},_getCellText:function(e){var t=gt.format(e,"yyyy"),i=new Date(e);return i.setFullYear(i.getFullYear()+9),t+" - "+gt.format(i,"yyyy")},_getFirstCellData:function(){var e=st.getFirstDecadeInCentury(this.option("date"))-10;return st.createDateWithFullYear(e,0,1)},_getNextCellData:function(e){return e=new Date(e),e.setFullYear(e.getFullYear()+10),e},_getCellByDate:function(e){var t=new Date(e);return t.setDate(1),t.setMonth(0),t.setFullYear(st.getFirstYearInDecade(t)),this._$table.find("td[data-value='".concat(Fi.serializeDate(t,st.getShortDateFormat()),"']"))},getNavigatorCaption:function(){var e=this.option("date"),t=st.getFirstDecadeInCentury(e),i=new Date(e),r=new Date(e);return i.setFullYear(t),r.setFullYear(t+99),gt.format(i,"yyyy")+"-"+gt.format(r,"yyyy")},isBoundary:function(e){return st.sameCentury(e,this.option("min"))||st.sameCentury(e,this.option("max"))}})},SY="dx-calendar",EY="dx-calendar-body",TY="dx-calendar-cell",IY="dx-calendar-footer",AY="dx-calendar-today-button",OY="dx-calendar-with-footer",DY="dx-calendar-views-wrapper",M1="dx-calendar-view",kY="dx-state-focused",ng=250,RY=.6,MY=1,BY="yyyy-MM-dd",PY="dxDateValueKey",Po={month:3,year:2,decade:1,century:0},er={MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century"};function LY(e){return e.hasClass(kY)}var LD=mn.inherit({_activeStateUnit:"."+TY,_getDefaultOptions:function(){return ce(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,zoomLevel:er.MONTH,maxZoomLevel:er.MONTH,minZoomLevel:er.CENTURY,showTodayButton:!1,cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:()=>new Date})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return ce(this.callBase(),{rightArrow:function(e){e.preventDefault(),Vi(e)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow:function(e){e.preventDefault(),Vi(e)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow:function(e){if(e.preventDefault(),Vi(e))this._navigateUp();else{if(pi.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow:function(e){if(e.preventDefault(),Vi(e))this._navigateDown();else{if(pi.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home:function(e){e.preventDefault();var t=this.option("zoomLevel"),i=this.option("currentDate"),r=this._dateOption("min");if(!this._view.isDateDisabled(i)){var n=st.sameView(t,i,r)?r:st.getViewFirstCellDate(t,i);this._moveToClosestAvailableDate(n)}},end:function(e){e.preventDefault();var t=this.option("zoomLevel"),i=this.option("currentDate"),r=this._dateOption("max");if(!this._view.isDateDisabled(i)){var n=st.sameView(t,i,r)?r:st.getViewLastCellDate(t,i);this._moveToClosestAvailableDate(n)}},pageUp:function(e){e.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown:function(e){e.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab:Ee,enter:function(e){if(!this._isMaxZoomLevel())this._navigateDown();else if(!this._view.isDateDisabled(this.option("currentDate"))){var t=this._updateTimeComponent(this.option("currentDate"));this._dateValue(t,e)}}})},_getSerializationFormat:function(e){var t=this.option(e||"value");if(this.option("dateSerializationFormat"))return this.option("dateSerializationFormat");if(ei(t))return"number";if(nt(t))return Fi.getDateSerializationFormat(t)},_convertToDate:function(e,t){return Fi.deserializeDate(e)},_dateValue:function(e,t){if(t){if(t.type==="keydown"){var i=this._view._getContouredCell().get(0);t.target=i}this._saveValueChangeEvent(t)}this._dateOption("value",e)},_dateOption:function(e,t){if(arguments.length===1)return this._convertToDate(this.option(e),e);var i=this._getSerializationFormat(e);this.option(e,Fi.serializeDate(t,i))},_shiftDate:function(e,t,i,r){switch(e){case er.MONTH:t.setDate(t.getDate()+i*r);break;case er.YEAR:t.setMonth(t.getMonth()+i*r);break;case er.DECADE:t.setFullYear(t.getFullYear()+i*r);break;case er.CENTURY:t.setFullYear(t.getFullYear()+10*i*r)}},_moveCurrentDateByOffset:function(e){var t=this.option("currentDate"),i=new Date(t),r=this.option("zoomLevel");this._shiftDate(r,i,e,1);for(var n=this._getMaxDate(),a=this._getMinDate(),s=this._areDatesInNeighborView(r,i,t),o=na(i,a,n)&&s,l=new Date(i);o;){if(!this._view.isDateDisabled(l)){i=l;break}this._shiftDate(r,l,e,1),s=this._areDatesInNeighborView(r,l,t),o=na(l,a,n)&&s}this._view.isDateDisabled(t)||this._view.isDateDisabled(i)?this._waitRenderView(e>0?1:-1):this.option("currentDate",i)},_areDatesInSameView(e,t,i){switch(e){case er.MONTH:return t.getMonth()===i.getMonth();case er.YEAR:return t.getYear()===i.getYear();case er.DECADE:return parseInt(t.getYear()/10)===parseInt(i.getYear()/10);case er.CENTURY:return parseInt(t.getYear()/100)===parseInt(i.getYear()/100)}},_areDatesInNeighborView(e,t,i){switch(e){case er.MONTH:return r=t.getMonth(),n=i.getMonth(),a=Math.abs(r-n),Math.min(a,12-a)<=1;case er.YEAR:return Math.abs(t.getYear()-i.getYear())<=1;case er.DECADE:return Math.abs(t.getYear()-i.getYear())<=10;case er.CENTURY:return Math.abs(t.getYear()-i.getYear())<=100}var r,n,a},_moveToClosestAvailableDate:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.option("currentDate"),t=new Date(e),i=this.option("zoomLevel"),r=!this._isDateNotAvailable(t),n=r,a=r,s,o,l=new Date(t),u=new Date(t);do{if(n){t=l;break}if(a){t=u;break}this._shiftDate(i,l,1,1),this._shiftDate(i,u,1,-1),s=this._areDatesInSameView(i,l,e),o=this._areDatesInSameView(i,u,e),n=s&&!this._isDateNotAvailable(l),a=o&&!this._isDateNotAvailable(u)}while(s||o);this.option("currentDate",t)},_isDateNotAvailable:function(e){var t=this._getMaxDate(),i=this._getMinDate();return!na(e,i,t)||this._view.isDateDisabled(e)},_init:function(){this.callBase(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_correctZoomLevel:function(){var e=this.option("minZoomLevel"),t=this.option("maxZoomLevel"),i=this.option("zoomLevel");Po[t]<Po[e]||(Po[i]>Po[t]?this.option("zoomLevel",t):Po[i]<Po[e]&&this.option("zoomLevel",e))},_initCurrentDate:function(){var e=this._getNormalizedDate(this._dateOption("value"))||this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",e)},_getNormalizedDate:function(e){return e=st.normalizeDate(e,this._getMinDate(),this._getMaxDate()),oe(e)?this._getDate(e):e},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates:function(){this._templateManager.addDefaultTemplates({cell:new fl(function(e){var t=e.model;J(e.container).append(J("<span>").text(t&&t.text||String(t)))})}),this.callBase()},_updateCurrentDate:function(e){pi.isAnimating(this._$viewsWrapper)&&pi.stop(this._$viewsWrapper,!0);var t=this._getMinDate(),i=this._getMaxDate();if(t>i){this.option("currentDate",new Date);return}var r=this._getNormalizedDate(e);if(e.getTime()!==r.getTime()){this.option("currentDate",new Date(r));return}var n=this._getViewsOffset(this._view.option("date"),r);n!==0&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(n=0),this._view&&n!==0&&!this._suppressNavigation?this._navigate(n,r):(this._renderNavigator(),this._setViewContoured(r),this._updateAriaId(r))},_setViewContoured:function(e){(this.option("skipFocusCheck")||LY(this._focusTarget()))&&this._view.option("contouredDate",e)},_getMinDate:function(){return this.min?this.min:(this.min=this._dateOption("min")||new Date(1e3,0),this.min)},_getMaxDate:function(){return this.max?this.max:(this.max=this._dateOption("max")||new Date(3e3,0),this.max)},_getViewsOffset:function(e,t){var i=this.option("zoomLevel");if(i===er.MONTH)return this._getMonthsOffset(e,t);var r;switch(i){case er.CENTURY:r=100;break;case er.DECADE:r=10;break;default:r=1}return parseInt(t.getFullYear()/r)-parseInt(e.getFullYear()/r)},_getMonthsOffset:function(e,t){var i=t.getFullYear()-e.getFullYear(),r=t.getMonth()-e.getMonth();return 12*i+r},_waitRenderView:function(e){if(!this._alreadyViewRender){this._alreadyViewRender=!0;var t=this._getDateByOffset(e*this._getRtlCorrection());this._moveToClosestAvailableDate(t),this._waitRenderViewTimeout=setTimeout(()=>{this._alreadyViewRender=!1})}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(e,t){var i;t=this._getDate((i=t)!==null&&i!==void 0?i:this.option("currentDate"));var r=t.getDate(),n=st.getDifferenceInMonth(this.option("zoomLevel"))*e;t.setDate(1),t.setMonth(t.getMonth()+n);var a=st.getLastMonthDate(t).getDate();return t.setDate(r>a?a:r),t},_focusTarget:function(){return this.$element()},_initMarkup:function(){this._renderSubmitElement(),this.callBase();var e=this.$element();e.addClass(SY),this._renderBody(),e.append(this.$body),this._renderViews(),this._renderNavigator(),e.append(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._updateAriaSelected(),this._updateAriaId(),this._moveToClosestAvailableDate()},_render:function(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){this._$viewsWrapper||(this.$body=J("<div>").addClass(EY),this._$viewsWrapper=J("<div>").addClass(DY),this.$body.append(this._$viewsWrapper))},_getKeyboardListeners(){return this.callBase().concat([this._view])},_renderViews:function(){this.$element().addClass(M1+"-"+this.option("zoomLevel"));var e=this.option("currentDate");if(this._view=this._renderSpecificView(e),ht()){var t=this._getDateByOffset(-1,e);this._beforeView=this._isViewAvailable(t)?this._renderSpecificView(t):null;var i=this._getDateByOffset(1,e);i.setDate(1),this._afterView=this._isViewAvailable(i)?this._renderSpecificView(i):null}this._translateViews()},_renderSpecificView:function(e){var t=wY[this.option("zoomLevel")],i=J("<div>").appendTo(this._$viewsWrapper),r=this._viewConfig(e);return this._createComponent(i,t,r)},_viewConfig:function(e){var t=this.option("disabledDates");return t=We(t)?this._injectComponent(t.bind(this)):t,{date:e,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:this.option("firstDayOfWeek"),value:this._dateOption("value"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:t,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:this.option("_todayDate")}},_injectComponent:function(e){var t=this;return function(i){return ce(i,{component:t}),e(i)}},_isViewAvailable:function(e){var t=this.option("zoomLevel"),i=st.getViewMinBoundaryDate(t,this._getMinDate()),r=st.getViewMaxBoundaryDate(t,this._getMaxDate());return st.dateInRange(e,i,r)},_translateViews:function(){ki(this._view.$element(),{left:0,top:0}),this._beforeView&&ki(this._beforeView.$element(),{left:this._getViewPosition(-1),top:0}),this._afterView&&ki(this._afterView.$element(),{left:this._getViewPosition(1),top:0})},_getViewPosition:function(e){var t=this.option("rtlEnabled")?-1:1;return 100*e*t+"%"},_cellClickHandler:function(e){var t=this.option("zoomLevel"),i=st.getViewDown(t),r=this._isMaxZoomLevel();if(i&&!r)this._navigateDown(e.event.currentTarget);else{var n=this._updateTimeComponent(e.value);this._dateValue(n,e.event),this._cellClickAction(e)}},_updateTimeComponent:function(e){var t=new Date(e),i=this._dateOption("value");return i&&(t.setHours(i.getHours()),t.setMinutes(i.getMinutes()),t.setSeconds(i.getSeconds()),t.setMilliseconds(i.getMilliseconds())),t},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(e){var t=this.option("zoomLevel");if(!this._isMaxZoomLevel()){var i=st.getViewDown(t);if(i){var r=this._view.option("contouredDate")||this._view.option("date");e&&(r=J(e).data(PY)),this._isOtherViewCellClicked=!0,this.option("currentDate",r),this.option("zoomLevel",i),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))}}},_renderNavigator:function(){this._navigator||(this._navigator=new vY(J("<div>"),this._navigatorConfig())),this._navigator.option("text",this._view.getNavigatorCaption()),this._updateButtonsVisibility()},_navigatorConfig:function(){return{text:this._view.getNavigatorCaption(),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),rtlEnabled:this.option("rtlEnabled")}},_navigatorClickHandler:function(e){var t=this._getDateByOffset(e.direction,this.option("currentDate"));this._moveToClosestAvailableDate(t)},_navigateUp:function(){var e=this.option("zoomLevel"),t=st.getViewUp(e);!t||this._isMinZoomLevel(e)||(this.option("zoomLevel",t),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))},_isMinZoomLevel:function(e){var t=this._getMinDate(),i=this._getMaxDate();return st.sameView(e,t,i)||this.option("minZoomLevel")===e},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!oe(this._getRequiredView("next"))),this._navigator.toggleButton("prev",!oe(this._getRequiredView("prev")))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),tf,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler:function(e){pi.stop(this._$viewsWrapper,!0),e.event.maxLeftOffset=this._getRequiredView("next")?1:0,e.event.maxRightOffset=this._getRequiredView("prev")?1:0},_getRequiredView:function(e){var t,i=this.option("rtlEnabled");return e==="next"?t=i?this._beforeView:this._afterView:e==="prev"&&(t=i?this._afterView:this._beforeView),t},_swipeUpdateHandler:function(e){var t=e.event.offset;ki(this._$viewsWrapper,{left:t*this._viewWidth(),top:0}),this._updateNavigatorCaption(t)},_swipeEndHandler:function(e){var t=e.event.targetOffset,i=t?t/Math.abs(t):0;if(i===0){this._animateWrapper(0,ng);return}var r=this._getDateByOffset(-i*this._getRtlCorrection());this._isDateInInvalidRange(r)&&(i>=0?r=new Date(this._getMinDate()):r=new Date(this._getMaxDate())),this.option("currentDate",r)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=ut(this.$element())),this._viewWidthValue},_updateNavigatorCaption:function(e){e*=this._getRtlCorrection();var t=this._view;e>.5&&this._beforeView?t=this._beforeView:e<-.5&&this._afterView&&(t=this._afterView),this._navigator.option("text",t.getNavigatorCaption())},_isDateInInvalidRange:function(e){if(!this._view.isBoundary(e)){var t=this._getMinDate(),i=this._getMaxDate(),r=st.normalizeDate(e,t,i);return r===t||r===i}},_renderFooter:function(){var e=this.option("showTodayButton");if(e){var t=this._createComponent(J("<a>"),Ji,{focusStateEnabled:!1,text:Ae.format("dxCalendar-todayButtonText"),onClick:(function(i){this._toTodayView(i)}).bind(this),integrationOptions:{}}).$element().addClass(AY);this._$footer=J("<div>").addClass(IY).append(t),this.$element().append(this._$footer)}this.$element().toggleClass(OY,e)},_renderSubmitElement:function(){this._$submitElement=J("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(e){var t=this._convertToDate(e);this._getSubmitElement().val(Fi.serializeDate(t,BY))},_getSubmitElement:function(){return this._$submitElement},_animateShowView:function(){return pi.stop(this._view.$element(),!0),this._popAnimationView(this._view,RY,MY,ng).promise()},_popAnimationView:function(e,t,i,r){return pi.animate(e.$element(),{type:"pop",from:{scale:t,opacity:t},to:{scale:i,opacity:i},duration:r})},_navigate:function(e,t){if(e!==0&&Math.abs(e)!==1&&this._isViewAvailable(t)){var i=this._renderSpecificView(t);e>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=i):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=i),this._translateViews()}var r=this._getRtlCorrection(),n=e>0?1:e<0?-1:0,a=-r*n*this._viewWidth(),s=this._$viewsWrapper.position().left;s!==a&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(e,t):this._animateWrapper(a,ng).done(this._wrapperAnimationEndHandler.bind(this,e,t)))},_animateWrapper:function(e,t){return pi.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:e},duration:t})},_getDate:e=>new Date(e),_toTodayView:function(e){this._saveValueChangeEvent(e.event);var t=new Date;if(this._isMaxZoomLevel()){this._dateOption("value",t);return}this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._dateOption("value",t),this._animateShowView(),this._preventViewChangeAnimation=!1},_wrapperAnimationEndHandler:function(e,t){this._rearrangeViews(e),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(t),this._updateAriaId(t)},_rearrangeViews:function(e){if(e!==0){var t,i,r;if(e<0?(t=1,i="_beforeView",r="_afterView"):(t=-1,i="_afterView",r="_beforeView"),!!this[i]){var n=this[i].option("date");this[r]&&this[r].$element().remove(),e===t?this[r]=this._view:(this[r]=this._renderSpecificView(this._getDateByOffset(t,n)),this._view.$element().remove()),this._view=this[i];var a=this._getDateByOffset(-t,n);this[i]=this._isViewAvailable(a)?this._renderSpecificView(a):null}}},_resetLocation:function(){ki(this._$viewsWrapper,{left:0,top:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._beforeView,delete this._afterView},_dispose:function(){clearTimeout(this._waitRenderViewTimeout),this.callBase()},_refreshViews:function(){this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_focusInHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",this.option("currentDate"))},_focusOutHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",null)},_updateViewsValue:function(e){var t=e?new Date(e):null;this._view.option("value",t),this._beforeView&&this._beforeView.option("value",t),this._afterView&&this._afterView.option("value",t)},_updateAriaSelected:function(e,t){var i;e=(i=e)!==null&&i!==void 0?i:this._dateOption("value");var r=this._view._getCellByDate(t),n=this._view._getCellByDate(e);this.setAria("selected",void 0,r),this.setAria("selected",!0,n),e&&this.option("currentDate").getTime()===e.getTime()&&this._updateAriaId(e)},_updateAriaId:function(e){var t;e=(t=e)!==null&&t!==void 0?t:this.option("currentDate");var i="dx-"+new Bi,r=this._view._getCellByDate(e);this.setAria("id",i,r),this.setAria("activedescendant",i),this._onContouredChanged(i)},_suppressingNavigation:function(e,t){this._suppressNavigation=!0,e.apply(this,t),delete this._suppressNavigation},_optionChanged:function(e){var t=e.value,i=e.previousValue;switch(e.name){case"width":this.callBase(e),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(i)),this._updateCurrentDate(t);break;case"zoomLevel":this.$element().removeClass(M1+"-"+i),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":t=this._convertToDate(t),i=this._convertToDate(i),this._updateAriaSelected(t,i),this.option("currentDate",oe(t)?new Date(t):new Date),this._updateViewsValue(t),this._setSubmitValue(t),this.callBase(e);break;case"onCellClick":this._view.option("onCellClick",t);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"skipFocusCheck":break;case"_todayDate":this._refreshViews();break;default:this.callBase(e)}},getContouredDate:function(){return this._view.option("contouredDate")}});Tt("dxCalendar",LD);var Rh=Ot.abstract,Qf=Ot.inherit({ctor:function(e){this.dateBox=e},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(e){e=e||J("<div>"),this._widget=this._createWidget(e),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(e){var t=this._getWidgetName(),i=this._getWidgetOptions();return this.dateBox._createComponent(e,t,i)},_getWidgetOptions:Rh,_getWidgetName:Rh,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:Rh,supportedKeys:Ee,getKeyboardListener:Ee,customizeButtons:Ee,getParsedText:function(e,t){var i=gt.parse(e,t);return i||gt.parse(e)},renderInputMinMax:Ee,renderOpenedState:function(){this._updateValue()},popupConfig:Rh,_dimensionChanged:function(){var e;(e=this._getPopup())===null||e===void 0||e.repaint()},renderPopupContent:function(){var e=this._getPopup();this._renderWidget();var t=e.$content().parent();he.off(t,"mousedown"),he.on(t,"mousedown",this._preventFocusOnPopup.bind(this))},getFirstPopupElement:Ee,getLastPopupElement:Ee,_preventFocusOnPopup:function(e){e.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:Ee,popupHiddenHandler:Ee,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:Ee,getDefaultDate:function(){return new Date},textChangedHandler:Ee,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var e=this._getPopup();e&&e.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}}),FD=Qf.inherit({NAME:"Calendar",supportedKeys:function(){var e=function(t){return this.option("opened")?(t.preventDefault(),!0):!1};return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:(function(t){if(this.dateBox.option("opened"))if(t.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){var i=this._getContouredValue(),r=this._lastActionElement,n=this._closeDropDownByEnter();return n&&i&&r==="calendar"&&this.dateBoxValue(i,t),n&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(t),!n}else return!0;else this.dateBox._valueChangeEventHandler(t)}).bind(this),home:e,end:e}},getDisplayFormat:function(e){return e||"shortdate"},_closeDropDownByEnter:()=>!0,_getWidgetName:function(){return LD},_getContouredValue:function(){return this._widget._view.option("contouredDate")},getKeyboardListener(){return this._widget},_getWidgetOptions:function(){var e=this.dateBox.option("disabledDates");return ce(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),tabIndex:null,disabledDates:We(e)?this._injectComponent(e.bind(this.dateBox)):e,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0})},_injectComponent:function(e){var t=this;return function(i){return ce(i,{component:t.dateBox}),e(i)}},_refreshActiveDescendant:function(e){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",e.actionValue)},popupConfig:function(e){var t=e.toolbarItems,i=this.dateBox.option("buttonsLocation"),r=[];return i!=="default"?r=Cl(i):r=["bottom","center"],this.dateBox.option("applyValueMode")==="useButtons"&&this._isCalendarVisible()&&t.unshift({widget:"dxButton",toolbar:r[0],location:r[1]==="after"?"before":r[1],options:{onInitialized:(function(n){n.component.registerKeyHandler("escape",this._escapeHandler.bind(this))}).bind(this),onClick:n=>{this._widget._toTodayView(n)},text:Ae.format("dxCalendar-todayButtonText"),type:"today"}}),ce(!0,e,{toolbarItems:t,position:{collision:"flipfit flip"},width:"auto"})},_isCalendarVisible:function(){return Yr(this.dateBox.option("calendarOptions"))||this.dateBox.option("calendarOptions.visible")!==!1},_escapeHandler:function(){this.dateBox.close(),this.dateBox.focus()},_valueChangedHandler:function(e){var t=e.value,i=e.previousValue;st.sameDate(t,i)&&st.sameHoursAndMinutes(t,i)||this.dateBox.option("applyValueMode")==="instantly"&&this.dateBoxValue(this.getValue(),e.event)},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(e){var t=this.dateBox;t.option("applyValueMode")==="instantly"&&(t.option("opened",!1),this.dateBoxValue(this.getValue(),e.event))}});class FY{constructor(t){this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=t??jc}get isHorizontal(){return this.direction===N2||this.direction===vm}get isVertical(){return this.direction===jc||this.direction===vm}get isBoth(){return this.direction===vm}}function NY(e,t){if(Ct(e)){var i=hi(e.left,e.x),r=hi(e.top,e.y);return{left:oe(i)?i:void 0,top:oe(r)?r:void 0}}var{isHorizontal:n,isVertical:a}=new FY(t);return{left:n&&oe(e)?e:void 0,top:a&&oe(e)?e:void 0}}var VY="dx-dateviewroller",HY="dx-state-active",$Y="dx-dateviewroller-current",B1="dx-dateview-item",zY="dx-dateview-item-selected",WY="dx-dateview-item-selected-frame",jY="dx-dateview-item-selected-border";class ND extends Mr{_getDefaultOptions(){return ce(super._getDefaultOptions(),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}_init(){super._init(),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}_render(){super._render(),this._renderSelectedItemFrame(),this.$element().addClass(VY),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}_renderSelectedIndexChanged(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}_renderWheelEvent(){he.on(J(this.container()),"dxmousewheel",t=>{this._isWheelScrolled=!0})}_renderContainerClick(){if(this.option("showOnClick")){var t=Be(zt,this.NAME),i=this._createActionByOption("onClick");he.off(J(this.container()),t),he.on(J(this.container()),t,function(r){i({event:r})})}}_renderItems(){var t=this.option("items")||[],i=J();J(this.content()).empty(),t.forEach(function(r){i=i.add(J("<div>").addClass(B1).append(r))}),J(this.content()).append(i),this._$items=i,this.update()}_renderSelectedItemFrame(){J("<div>").addClass(WY).append(J("<div>").addClass(jY)).appendTo(J(this.container()))}_renderSelectedValue(t){var i=this._fitIndex(t??this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(i)}),this._renderActiveStateItem()}_fitIndex(t){var i=this.option("items")||[],r=i.length;return t>=r?r-1:t<0?0:t}_getItemPosition(t){return Math.round(this._itemHeight()*t)}_renderItemsClick(){var t=this._getItemSelector(),i=Be(zt,this.NAME);he.off(this.$element(),i,t),he.on(this.$element(),i,t,this._itemClickHandler.bind(this))}_getItemSelector(){return"."+B1}_itemClickHandler(t){this.option("selectedIndex",this._itemElementIndex(t.currentTarget))}_itemElementIndex(t){return this._itemElements().index(t)}_itemElements(){return this.$element().find(this._getItemSelector())}_renderActiveStateItem(){var t=this.option("selectedIndex");ve(this._$items,function(i){J(this).toggleClass(zY,t===i)})}_shouldScrollToNeighborItem(){return Ye.real().deviceType==="desktop"&&this._isWheelScrolled}_moveTo(t){var{top:i,left:r}=NY(t),n=this.scrollOffset(),a={x:n.left-r,y:n.top-i};if(this._isVisible()&&(a.x||a.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){var s=this;pi.stop(J(this.content())),pi.animate(J(this.content()),{duration:200,type:"slide",to:{top:Math.floor(a.y)},complete(){cd(J(s.content())),s.handleMove({delta:a})}}),delete this._animation}else this.handleMove({delta:a})}_validate(t){return this._moveIsAllowed(t)}_fitSelectedIndexInRange(t){var i=this.option("items").length;return Math.max(Math.min(t,i-1),0)}_isInNullNeighborhood(t){return-.1<=t&&t<=.1}_getSelectedIndexAfterScroll(t){var i=this.scrollOffset().top,r=t*this._itemHeight(),n=i-r;if(this._isInNullNeighborhood(n))return t;var a=n>0?1:-1,s=this._fitSelectedIndexInRange(t+a);return s}_getNewSelectedIndex(t){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(t);this._animation=!0;var i=this.scrollOffset().top/this._itemHeight();return Math.round(i)}_endActionHandler(){var t=this.option("selectedIndex"),i=this._getNewSelectedIndex(t);i===t?this._renderSelectedValue(i):this.option("selectedIndex",i),this._isWheelScrolled=!1}_itemHeight(){var t=this._$items.first();return ct(t)}_toggleActive(t){this.$element().toggleClass(HY,t)}_isVisible(){return J(this.container()).is(":visible")}_fireSelectedIndexChanged(t,i){this._selectedIndexChanged({value:t,previousValue:i,event:void 0})}_visibilityChanged(t){super._visibilityChanged(t),this._visibilityChangedHandler(t)}_visibilityChangedHandler(t){t&&(this._visibilityTimer=setTimeout(()=>{this._renderSelectedValue(this.option("selectedIndex"))})),this.toggleActiveState(!1)}toggleActiveState(t){this.$element().toggleClass($Y,t)}_refreshSelectedIndex(){var t=this.option("selectedIndex"),i=this._fitIndex(t);i===t?this._renderActiveStateItem():this.option("selectedIndex",i)}_optionChanged(t){switch(t.name){case"selectedIndex":this._fireSelectedIndexChanged(t.value,t.previousValue),this._renderSelectedValue(t.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:super._optionChanged(t)}}_dispose(){clearTimeout(this._visibilityTimer),super._dispose()}}Tt("dxDateViewRoller",ND);var ag="dx-dateview",UY="dx-dateview-compact",GY="dx-dateview-wrapper",KY="dx-dateview-rollers",qY="dx-dateviewroller",P1={date:"date",datetime:"datetime",time:"time"},xr={year:"year",month:"month",day:"day",hours:"hours"},VD=mn.inherit({_valueOption:function(){var e=this.option("value"),t=new Date(e);return!e||isNaN(t)?this._getDefaultDate():t},_getDefaultDate:function(){var e=new Date;return this.option("type")===P1.date?new Date(e.getFullYear(),e.getMonth(),e.getDate()):e},_getDefaultOptions:function(){return ce(this.callBase(),{minDate:jt.MIN_DATEVIEW_DEFAULT_DATE,maxDate:jt.MAX_DATEVIEW_DEFAULT_DATE,type:P1.date,value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){return e.deviceType!=="desktop"},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass(ag),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(e,t){this.$element().addClass(ag+"-"+e),t&&this.$element().removeClass(ag+"-"+t)},_toggleCompactClass:function(){this.$element().toggleClass(UY,this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=J("<div>").addClass(GY),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=J("<div>").addClass(KY)),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var e=this;ve(e._rollerConfigs,function(t){var i=J("<div>").appendTo(e._$rollersContainer).addClass(qY+"-"+e._rollerConfigs[t].type);e._rollers[e._rollerConfigs[t].type]=e._createComponent(i,ND,{items:e._rollerConfigs[t].displayItems,selectedIndex:e._rollerConfigs[t].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart:function(r){var n=r.component;n._toggleActive(!0),e._setActiveRoller(e._rollerConfigs[t],n.option("selectedIndex"))},onEnd:function(r){var n=r.component;n._toggleActive(!1)},onClick:function(r){var n=r.component;n._toggleActive(!0),e._setActiveRoller(e._rollerConfigs[t],n.option("selectedIndex")),e._setRollerState(e._rollerConfigs[t],n.option("selectedIndex")),n._toggleActive(!1)},onSelectedIndexChanged:function(r){var n=r.component;e._setRollerState(e._rollerConfigs[t],n.option("selectedIndex"))}})}),e._$rollersContainer.appendTo(e._wrapper())},_createRollerConfigs:function(e){var t=this;e=e||t.option("type"),t._rollerConfigs={},gt.getFormatParts(jt.FORMATS_MAP[e]).forEach(function(i){t._createRollerConfig(i)})},_createRollerConfig:function(e){for(var t=jt.DATE_COMPONENTS_INFO[e],i=this._calculateRollerConfigValueRange(e),r=i.startValue,n=i.endValue,a=t.formatter,s=this._getCurrentDate(),o={type:e,setValue:t.setter,valueItems:[],displayItems:[],getIndex:function(u){return u[t.getter]()-r}},l=r;l<=n;l++)o.valueItems.push(l),o.displayItems.push(a(l,s));o.selectedIndex=o.getIndex(s),this._rollerConfigs[e]=o},_setActiveRoller:function(e){var t=e&&this._rollers[e.type];ve(this._rollers,function(){this.toggleActiveState(this===t)})},_updateRollersPosition:function(){var e=this;ve(this._rollers,function(t){var i=e._rollerConfigs[t].getIndex(e._getCurrentDate());this.option("selectedIndex",i)})},_setRollerState:function(e,t){if(t!==e.selectedIndex){var i=e.valueItems[t],r=e.setValue,n=new Date(this._getCurrentDate()),a=n.getDate(),s=this.option("minDate"),o=this.option("maxDate");e.type===xr.month?a=Math.min(a,jt.getMaxMonthDay(n.getFullYear(),i)):e.type===xr.year&&(a=Math.min(a,jt.getMaxMonthDay(i,n.getMonth()))),n.setDate(a),n[r](i);var l=st.normalizeDate(n,s,o);n=jt.mergeDates(l,n,"time"),n=st.normalizeDate(n,s,o),this.option("value",n),e.selectedIndex=t}e.type===xr.year&&this._refreshRollers(),e.type===xr.month&&(this._refreshRoller(xr.day),this._refreshRoller(xr.hours))},_refreshRoller:function(e){var t=this._rollers[e];if(t){this._createRollerConfig(e);var i=this._rollerConfigs[e];(e===xr.day||i.displayItems.toString()!==t.option("items").toString())&&t.option({items:i.displayItems,selectedIndex:i.selectedIndex})}},_getCurrentDate:function(){var e=this._valueOption(),t=this.option("minDate"),i=this.option("maxDate");return st.normalizeDate(e,t,i)},_calculateRollerConfigValueRange:function(e){var t=this._getCurrentDate(),i=this.option("minDate"),r=this.option("maxDate"),n=st.sameYear(t,i),a=n&&t.getMonth()===i.getMonth(),s=st.sameYear(t,r),o=s&&t.getMonth()===r.getMonth(),l=a&&t.getDate()===i.getDate(),u=o&&t.getDate()===r.getDate(),d=jt.DATE_COMPONENTS_INFO[e],c=d.startValue,h=d.endValue;return e===xr.year&&(c=i.getFullYear(),h=r.getFullYear()),e===xr.month&&(n&&(c=i.getMonth()),s&&(h=r.getMonth())),e===xr.day&&(h=jt.getMaxMonthDay(t.getFullYear(),t.getMonth()),n&&a&&(c=i.getDate()),s&&o&&(h=r.getDate())),e===xr.hours&&(c=l?i.getHours():c,h=u?r.getHours():h),{startValue:c,endValue:h}},_refreshRollers:function(){this._refreshRoller(xr.month),this._refreshRoller(xr.day),this._refreshRoller(xr.hours)},_optionChanged:function(e){switch(e.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(e.value,e.previousValue);break;case"visible":this.callBase(e),e.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(e)}},_clean:function(){this.callBase(),delete this._$rollersContainer}});Tt("dxDateView",VD);var XY=ft(),YY=Qf.inherit({NAME:"DateView",getDefaultOptions:function(){return ce(this.callBase(),{openOnFieldClick:!0,applyButtonText:Ae.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat:function(e){return e||jt.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(e){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:e.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(t){var i=t.platform;return i==="generic"||i==="ios"},options:{width:"auto",height:"auto"}},{device:function(t){var i=t.platform,r=t.phone;return i==="generic"&&r},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:XY}}}]}},_renderWidget:function(){if(Tf(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly")){this._widget&&(this._widget.$element().remove(),this._widget=null);return}var e=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var t=J("<div>").appendTo(e.$content());this._widget=this._createWidget(t)}this._widget.$element().appendTo(this._getWidgetContainer())},_getWidgetName:function(){return VD},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*jt.ONE_YEAR),onDisposing:(function(){this._widget=null}).bind(this)}}}),ZY=Qf.inherit({NAME:"Native",popupConfig:function(e){return ce({},e,{width:"auto"})},getParsedText:function(e){return e?this.dateBox.option("type")==="datetime"?new Date(e.replace(/-/g,"/").replace("T"," ").split(".")[0]):jt.fromStandardDateFormat(e):null},renderPopupContent:Ee,_getWidgetName:Ee,_getWidgetOptions:Ee,_getDateBoxType:function(){var e=this.dateBox.option("type");return jt.SUPPORTED_FORMATS.includes(e)?e==="datetime"&&!Tf(e)&&(e="datetime-local"):e="date",e},customizeButtons:function(){var e=this.dateBox.getButton("dropDown");Ye.real().android&&e&&e.on("click",(function(){this.dateBox._input().get(0).click()}).bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(e){var t=this._getDateBoxType();return e||jt.FORMATS_MAP[t]},renderInputMinMax:function(e){e.attr({min:Fi.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:Fi.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}}),L1="dx-box",F1=".dx-box",JY="dx-box-item",Yo="dxBoxItemData",HD={row:"minWidth",col:"minHeight"},$D={row:"maxWidth",col:"maxHeight"},e_=1,N1={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},V1={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},QY={row:"row",col:"column"},Lo=(e,t,i)=>{if(i=hl(t,i),e.style[rs(t)]=i,!ht()){if(i===""||!oe(i))return;var r=Y_(t),n=r+": "+i+";";e.attributes.style?e.attributes.style.value.indexOf(n)<0&&(e.attributes.style.value+=" "+n):e.setAttribute("style",n)}},eZ="dxBox",sg="dxupdate."+eZ,H1="dx-box-fallback-item",tZ={row:"nowrap",col:"normal"},Ts={row:{name:"width",getter:ut,setter:sd},col:{name:"height",getter:ct,setter:Lr}},Mh={row:Ts.col,col:Ts.row},Bh={row:"marginLeft",col:"marginTop"},og={row:"marginRight",col:"marginBottom"},lg={row:"marginTop",col:"marginLeft"},$1={row:"marginBottom",col:"marginRight"},iZ={marginLeft:"marginRight",marginRight:"marginLeft"};class rZ extends uo{_renderVisible(t,i){super._renderVisible(t),oe(i)&&this._options.fireItemStateChangedAction({name:"visible",state:t,oldState:i})}}class nZ{constructor(t,i){this._$element=t,this._option=i,this.initSize=Ee,this.update=Ee}renderBox(){this._$element.css({display:tc("flexDirection")+"flex"}),Lo(this._$element.get(0),"flexDirection",QY[this._option("direction")])}renderAlign(){this._$element.css({justifyContent:this._normalizedAlign()})}_normalizedAlign(){var t=this._option("align");return t in N1?N1[t]:t}renderCrossAlign(){this._$element.css({alignItems:this._normalizedCrossAlign()})}_normalizedCrossAlign(){var t=this._option("crossAlign");return t in V1?V1[t]:t}renderItems(t){var i=tc("flexDirection"),r=this._option("direction");ve(t,function(){var n=J(this),a=n.data(Yo);n.css({display:i+"flex"}).css($D[r],a.maxSize||"none").css(HD[r],a.minSize||"0"),Lo(n.get(0),"flexBasis",a.baseSize||0),Lo(n.get(0),"flexGrow",a.ratio),Lo(n.get(0),"flexShrink",oe(a.shrink)?a.shrink:e_),n.children().each((s,o)=>{J(o).css({width:"auto",height:"auto",display:tc("flexDirection")+"flex",flexBasis:0}),Lo(o,"flexGrow",1),Lo(o,"flexDirection",J(o)[0].style.flexDirection||"column")})})}}class aZ{constructor(t,i){this._$element=t,this._option=i}renderBox(){this._$element.css({fontSize:0,whiteSpace:tZ[this._option("direction")],verticalAlign:"top"}),he.off(this._$element,sg),he.on(this._$element,sg,this.update.bind(this))}renderAlign(){var t=this._$items;if(t){var i=this._option("align"),r=this.totalItemSize,n=this._option("direction"),a=Ts[n].getter(this._$element),s=a-r,o=0;switch(this._setItemsMargins(t,n,0),i){case"start":break;case"end":o=s,t.first().css(this._chooseMarginSide(Bh[n]),o);break;case"center":o=.5*s,t.first().css(this._chooseMarginSide(Bh[n]),o),t.last().css(this._chooseMarginSide(og[n]),o);break;case"space-between":o=.5*s/(t.length-1),this._setItemsMargins(t,n,o),t.first().css(this._chooseMarginSide(Bh[n]),0),t.last().css(this._chooseMarginSide(og[n]),0);break;case"space-around":o=.5*s/t.length,this._setItemsMargins(t,n,o)}}}_setItemsMargins(t,i,r){t.css(this._chooseMarginSide(Bh[i]),r).css(this._chooseMarginSide(og[i]),r)}renderCrossAlign(){var t=this._$items;if(t){var i=this._option("crossAlign"),r=this._option("direction"),n=Mh[r].getter(this._$element),a=this;switch(i){case"start":break;case"end":ve(t,function(){var s=J(this),o=Mh[r].getter(s),l=n-o;s.css(a._chooseMarginSide(lg[r]),l)});break;case"center":ve(t,function(){var s=J(this),o=Mh[r].getter(s),l=.5*(n-o);s.css(a._chooseMarginSide(lg[r]),l).css(a._chooseMarginSide($1[r]),l)});break;case"stretch":t.css(a._chooseMarginSide(lg[r]),0).css(a._chooseMarginSide($1[r]),0).css(Mh[r].name,"100%")}}}_chooseMarginSide(t){return this._option("rtlEnabled")&&iZ[t]||t}renderItems(t){this._$items=t;var i=this._option("direction"),r=0,n=0,a=0;ve(t,(u,d)=>{var c=J(d);c.css({display:"inline-block",verticalAlign:"top"}),Ts[i].setter(c,"auto"),c.removeClass(H1);var h=c.data(Yo),f=h.ratio||0,p=this._baseSize(c),g=oe(h.shrink)?h.shrink:e_;r+=f,n+=g*p,a+=p});var s=this._boxSize()-a,o=u=>{var d=u.data(Yo),c=this._baseSize(u),h=s>=0?d.ratio||0:(oe(d.shrink)?d.shrink:e_)*c,f=s>=0?r:n,p=f?Math.round(s*h/f):0;return c+p},l=0;ve(t,(u,d)=>{var c=J(d),h=J(d).data(Yo),f=o(c);l+=f,c.css($D[i],h.maxSize||"none").css(HD[i],h.minSize||"0").css(Ts[i].name,f),c.addClass(H1)}),this.totalItemSize=l}_baseSize(t){var i=J(t).data(Yo);return i.baseSize==null?0:i.baseSize==="auto"?this._contentSize(t):this._parseSize(i.baseSize)}_contentSize(t){return Ts[this._option("direction")].getter(J(t))}_parseSize(t){return String(t).match(/.+%$/)?.01*parseFloat(t)*this._boxSizeValue:t}_boxSize(t){if(!arguments.length)return this._boxSizeValue=this._boxSizeValue||this._totalBaseSize(),this._boxSizeValue;this._boxSizeValue=t}_totalBaseSize(){var t=0;return ve(this._$items,(i,r)=>{t+=this._baseSize(r)}),t}initSize(){this._boxSize(Ts[this._option("direction")].getter(this._$element))}update(){if(!(!this._$items||this._$element.is(":hidden"))){this._$items.detach(),this.initSize(),this._$element.append(this._$items),this.renderItems(this._$items),this.renderAlign(),this.renderCrossAlign();var t=this._$element.get(0);this._$items.find(F1).each(function(){t===J(this).parent().closest(F1).get(0)&&he.triggerHandler(this,sg)})}}}class Qa extends co{_getDefaultOptions(){return ce(super._getDefaultOptions(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_layoutStrategy:"flex",_queue:void 0})}_itemClass(){return JY}_itemDataKey(){return Yo}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this.$element().addClass("".concat(L1,"-").concat(this.option("_layoutStrategy"))),this._initLayout(),this._initBoxQueue()}_initLayout(){this._layout=this.option("_layoutStrategy")==="fallback"?new aZ(this.$element(),this.option.bind(this)):new nZ(this.$element(),this.option.bind(this))}_initBoxQueue(){this._queue=this.option("_queue")||[]}_queueIsNotEmpty(){return this.option("_queue")?!1:!!this._queue.length}_pushItemToQueue(t,i){this._queue.push({$item:t,config:i})}_shiftItemFromQueue(){return this._queue.shift()}_initMarkup(){this.$element().addClass(L1),this._layout.renderBox(),super._initMarkup(),this._renderAlign(),this._renderActions()}_renderActions(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}_renderAlign(){this._layout.renderAlign(),this._layout.renderCrossAlign()}_renderItems(t){for(this._layout.initSize(),super._renderItems(t);this._queueIsNotEmpty();){var i=this._shiftItemFromQueue();this._createComponent(i.$item,Qa,ce({_layoutStrategy:this.option("_layoutStrategy"),itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},i.config))}this._layout.renderItems(this._itemElements()),clearTimeout(this._updateTimer),this._updateTimer=setTimeout(()=>{this._isUpdated||this._layout.update(),this._isUpdated=!1,this._updateTimer=null})}_renderItemContent(t){var i=t.itemData&&t.itemData.node;return i?this._renderItemContentByNode(t,i):super._renderItemContent(t)}_postprocessRenderItem(t){var i=t.itemData.box;i&&this._pushItemToQueue(t.itemContent,i)}_createItemByTemplate(t,i){return i.itemData.box?t.source?t.source():J():super._createItemByTemplate(t,i)}_visibilityChanged(t){t&&this._dimensionChanged()}_dimensionChanged(){this._updateTimer||(this._isUpdated=!0,this._layout.update())}_dispose(){clearTimeout(this._updateTimer),super._dispose.apply(this,arguments)}_itemOptionChanged(t,i,r,n){i==="visible"&&this._onItemStateChanged({name:i,state:r,oldState:n!==!1}),super._itemOptionChanged(t,i,r)}_optionChanged(t){switch(t.name){case"_layoutStrategy":case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:super._optionChanged(t)}}_itemOptions(){var t=super._itemOptions();return t.fireItemStateChangedAction=i=>{this._onItemStateChanged(i)},t}repaint(){this._dimensionChanged()}}Qa.ItemClass=rZ;Tt("dxBox",Qa);var sZ="dx-timeview",oZ="dx-timeview-clock",lZ="dx-timeview-field",uZ="dx-timeview-hourarrow",dZ="dx-timeview-time-separator",hZ="dx-timeview-format12",ug=-1,dg=1,cZ="dx-timeview-minutearrow",z1=function(e,t,i){fZ(e,t,i)},fZ=function(e,t,i){e.css("transform","rotate("+t+"deg) translate(0,"+i+"px)")},zD=mn.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5,stylingMode:void 0})},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass(sZ)},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var e=J("<div>").appendTo(this.$element()),t=[];this.option("_showClock")&&t.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),t.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(e,Qa,{height:"100%",width:"100%",direction:"col",items:t})},_renderClock:function(e,t,i){this._$hourArrow=J("<div>").addClass(uZ),this._$minuteArrow=J("<div>").addClass(cZ);var r=J(i);r.addClass(oZ).append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",r)},_updateClock:function(){var e=this._getValue(),t=e.getHours()/12*360+e.getMinutes()/60*30,i=e.getMinutes()/60*360;z1(this._$hourArrow,t,this.option("_arrowOffset")),z1(this._$minuteArrow,i,this.option("_arrowOffset"))},_getBoxItems:function(e){var t=[{ratio:0,shrink:0,baseSize:"auto",template:()=>this._hourBox.$element()},{ratio:0,shrink:0,baseSize:"auto",template:J("<div>").addClass(dZ).text(gt.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:()=>this._minuteBox.$element()}];return e&&t.push({ratio:0,shrink:0,baseSize:"auto",template:()=>this._format12.$element()}),t},_renderField:function(){var e=!this.option("use24HourFormat");return this._createHourBox(e),this._createMinuteBox(),e&&this._createFormat12Box(),this._createComponent(J("<div>").addClass(lZ),Qa,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(e)}).$element()},_createHourBox:function(e){var t=this._hourBox=this._createComponent(J("<div>"),Qc,ce({min:-1,max:e?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:i=>this._keyboardHandler(i)},this._getNumberBoxConfig()));t.setAria("label","hours")},_isPM:function(){return!this.option("use24HourFormat")&&this._format12.option("value")===1},_onHourBoxValueChanged:function(e){var{value:t,component:i}=e,r=this._getValue(),n=new Date(r),a=this._convertMaxHourToMin(t);i.option("value",a),this._isPM()&&(a+=12),n.setHours(a),jt.normalizeTime(n),this.option("value",n)},_convertMaxHourToMin:function(e){var t=this.option("use24HourFormat")?24:12;return(t+e)%t},_createMinuteBox:function(){var e=this._minuteBox=this._createComponent(J("<div>"),Qc,ce({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:t=>this._keyboardHandler(t),onValueChanged:t=>{var{value:i,component:r}=t,n=(60+i)%60;r.option("value",n);var a=new Date(this._getValue());a.setMinutes(n),jt.normalizeTime(a),this.option("value",a)}},this._getNumberBoxConfig()));e.setAria("label","minutes")},_createFormat12Box:function(){var e=gt.getPeriodNames(),t=this._format12=this._createComponent(J("<div>").addClass(hZ),gb,{items:[{value:ug,text:e[0]},{value:dg,text:e[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:i=>this._keyboardHandler(i),onValueChanged:i=>{var{value:r}=i,n=this._getValue().getHours(),a=new Date(this._getValue()),s=(n+12*r)%24;a.setHours(s),this.option("value",a)},value:this._getValue().getHours()>=12?dg:ug,stylingMode:this.option("stylingMode")});t.setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var e=this._getValue(),t=e.getHours(),i=t>=12,r=i?dg:ug;this._silentEditorValueUpdate(this._format12,r)}},_silentEditorValueUpdate:function(e,t){e&&(e._suppressValueChangeAction(),e.option("value",t),e._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(e){return(e<10?"0":"")+e},stylingMode:this.option("stylingMode")}},_normalizeHours:function(e){return this.option("use24HourFormat")?e:e%12||12},_updateField:function(){var e=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,e),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(e){e&&this._updateTime()},_optionChanged:function(e){switch(e.name){case"value":this._updateTime(),this.callBase(e);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(e)}}});Tt("dxTimeView",zD);var pZ=ft(),mZ=573,gZ="dx-datebox-adaptivity-mode",W1="dx-datebox-datetime-time-side",vZ=FD.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return ce(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},_closeDropDownByEnter:function(){return st.sameDate(this._getContouredValue(),this.widgetOption("value"))},getDisplayFormat:function(e){return e||"shortdateshorttime"},_is24HourFormat:function(){return gt.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_getContouredValue:function(){var e=this.callBase();return this._updateDateTime(e)},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent(J("<div>"),zD,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")}),this._timeView.registerKeyHandler("escape",this._escapeHandler.bind(this))},renderOpenedState:function(){this.callBase();var e=this._getPopup();e&&e.$wrapper().toggleClass(gZ,this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout((function(){this._getPopup()&&this._getPopup().repaint()}).bind(this),0)},isAdaptivityChanged:function(){var e=this._isShrinkView(),t=this._currentAdaptiveMode;return e!==t?(this._currentAdaptiveMode=e,t!==void 0):this.callBase()},_updateValue:function(e){var t=this.dateBoxValue();!t&&!e&&(t=new Date,jt.normalizeTime(t)),this.callBase(),this._timeView&&(t&&this._timeView.option("value",t),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return ut(pZ)<=mZ},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var e=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||e.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),e},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var e=this._getPopup().$content();this._box=this.dateBox._createComponent(J("<div>").appendTo(e),Qa,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:(function(t,i,r){var n=J("<div>");switch(t.name){case"calendar":n.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass(W1),n.append(this._timeView.$element()));break;case"time":n.append(this._timeView.$element()),J(r).addClass(W1)}return n}).bind(this)}),this._attachTabHandler()},popupConfig:function(e){var t=this.callBase(e),i=ce(t,{width:"auto",onShowing:(function(){if(this._box.option("_layoutStrategy")==="fallback"){var r=this._getPopup().$content().find(".dx-timeview-clock").css("minWidth");this._timeView.$element().css("maxWidth",r)}}).bind(this)});return i},getFirstPopupElement:function(){return this._timeView._hourBox.$element().find("input")},_attachTabHandler:function(){var e=this.dateBox;this._timeView._hourBox.registerKeyHandler("tab",function(t){t.shiftKey&&(t.preventDefault(),e.focus())})},_preventFocusOnPopup:function(e){J(e.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},_updateDateTime:function(e){var t=this._timeView.option("value");return e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e},getValue:function(){var e,t=(e=this._widget.option("value"))!==null&&e!==void 0?e:this._widget.getContouredDate();return t=t?new Date(t):new Date,this._updateDateTime(t)},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}}),_Z=ft(),bZ="date",yZ={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)},CZ=Qf.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){var{opened:e,applyValueMode:t}=this.option();e&&t==="instantly"&&this.close()},space:Ee,home:Ee,end:Ee}},getDefaultOptions:function(){return ce(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(e){return e||"shorttime"},popupConfig:function(e){return e},getValue:function(){var e=this._widget.option("selectedIndex");if(e===-1)return this.dateBox.option("value");var t=this._widgetItems[e];return this._getDateByItemData(t)},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},popupShowingHandler:function(){this.dateBox._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return po},_getWidgetOptions:function(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(e){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",e.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var e=this.dateBoxValue(),t=this._getDateIndex(e);t===-1?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",t)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(e){for(var t=-1,i=0,r=this._widgetItems.length;i<r;i++)if(this._areDatesEqual(e,this._widgetItems[i])){t=i;break}return t},_areDatesEqual:function(e,t){return sr(e)&&sr(t)&&e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()},_getTimeListItems:function(){var e=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),t=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),i=this.dateBox.dateOption("value")||null,r=t-e,n=e.getMinutes()%this.dateBox.option("interval");return r<0?[]:(r>jt.ONE_DAY&&(r=jt.ONE_DAY),i-e<jt.ONE_DAY?this._getRangeItems(e,new Date(e),r):(e=this._getBoundaryDate("min"),e.setMinutes(n),i&&Math.abs(i-t)<jt.ONE_DAY&&(r=(60*t.getHours()+Math.abs(t.getMinutes()-n))*jt.ONE_MINUTE),this._getRangeItems(e,new Date(e),r)))},_getRangeItems:function(e,t,i){for(var r=[],n=this.dateBox.option("interval");t-e<=i;)r.push(new Date(t)),t.setMinutes(t.getMinutes()+n);return r},_getBoundaryDate:function(e){var t=yZ[e],i=new Date(hi(this.dateBox.dateOption("value"),0));return new Date(i.getFullYear(),i.getMonth(),i.getDate(),t.getHours(),t.getMinutes())},_timeListItemTemplate:function(e){var t=this.dateBox.option("displayFormat");return gt.format(e,this.getDisplayFormat(t))},_listItemClickHandler:function(e){if(this.dateBox.option("applyValueMode")!=="useButtons"){var t=this._getDateByItemData(e.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(t,e.event)}},_getDateByItemData:function(e){var t=this.dateBox.option("value"),i=e.getHours(),r=e.getMinutes(),n=e.getSeconds(),a=e.getFullYear(),s=e.getMonth(),o=e.getDate();return t?(this.dateBox.option("dateSerializationFormat")?t=Fi.deserializeDate(t):t=new Date(t),t.setHours(i),t.setMinutes(r),t.setSeconds(n),t.setFullYear(a),t.setMonth(s),t.setDate(o)):t=new Date(a,s,o,i,r,0,0),t},getKeyboardListener:function(){return this._widget},_updatePopupHeight:function(){var e=fb(this.dateBox.option("dropDownOptions.height"));if(e===void 0||e==="auto"){this.dateBox._setPopupOption("height","auto");var t=At(this._widget.$element()),i=.45*ct(_Z);this.dateBox._setPopupOption("height",Math.min(t,i))}this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(e,t){var i=this.callBase(e,t);return i&&(i=jt.mergeDates(i,new Date(null),bZ)),i}}),Xl=ft(),Yl="dx-datebox",xZ="dx-auto-width",wZ="dx-show-invalid-badge",SZ="dx-clear-button-area",Ph="dx-datebox-wrapper",EZ="dx-dropdowneditor-overlay",Ir={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},Hr={date:"date",datetime:"datetime",time:"time"},Zl={calendar:"Calendar",dateView:"DateView",native:"Native",calendarWithTime:"CalendarWithTime",list:"List"},TZ={Calendar:FD,DateView:YY,Native:ZY,CalendarWithTime:vZ,List:CZ},IZ=pb.inherit({_supportedKeys:function(){return ce(this.callBase(),this._strategy.supportedKeys())},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return ce(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,pickerType:Ir.calendar,invalidDateMessage:Ae.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:Ae.format("validation-range"),applyButtonText:Ae.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var e=Ye.real(),t=e.platform;return t==="ios"||t==="android"},options:{pickerType:Ir.native}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(e){this._userOptions=ce({},e),this.callBase(e),this._updatePickerOptions()},_updatePickerOptions:function(){var e=this.option("pickerType"),t=this.option("type");e===Ir.list&&(t===Hr.datetime||t===Hr.date)&&(e=Ir.calendar),t===Hr.time&&e===Ir.calendar&&(e=Ir.list),this.option("showDropDownButton",Ye.real().platform!=="generic"||e!==Ir.native),this._pickerType=e},_init:function(){this._initStrategy(),this.option(ce({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(e){return e.charAt(0).toLowerCase()+e.substr(1)},_initStrategy:function(){var e=this._getStrategyName(this._getFormatType()),t=TZ[e];this._strategy&&this._strategy.NAME===e||(this._strategy=new t(this))},_getFormatType:function(){var e=this.option("type"),t=/h|m|s/g.test(e),i=/d|M|Y/g.test(e),r="";return i&&(r+=Hr.date),t&&(r+=Hr.time),r},_getStrategyName:function(e){var t=this._pickerType;return t===Ir.rollers?Zl.dateView:t===Ir.native?Zl.native:e===Hr.date?Zl.calendar:e===Hr.datetime?Zl.calendarWithTime:Zl.list},_initMarkup:function(){this.$element().addClass(Yl),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){this.callBase(),this.$element().toggleClass(xZ,!this.option("width")),this._dimensionChanged()},_dimensionChanged:function(){if(this.callBase(arguments),this._popup){var e,t;(e=(t=this._strategy)._updatePopupHeight)===null||e===void 0||e.call(t)}},_refreshFormatClass:function(){var e=this.$element();ve(Hr,function(t,i){e.removeClass(Yl+"-"+i)}),e.addClass(Yl+"-"+this.option("type"))},_refreshPickerTypeClass:function(){var e=this.$element();ve(Ir,function(t,i){e.removeClass(Yl+"-"+i)}),e.addClass(Yl+"-"+this._pickerType)},_formatValidationIcon:function(){if(ht()){var e=this._input().get(0),t=this.option("rtlEnabled"),i=this._getClearButtonWidth(),r=this._getLongestElementDimensions(),n=parseFloat(Xl.getComputedStyle(e).width)-i,a=r.width>n,s=e.style;this.$element().toggleClass(wZ,!a),a?(this._storedPadding===void 0&&(this._storedPadding=t?r.leftPadding:r.rightPadding),t?s.paddingLeft=0:s.paddingRight=0):t?s.paddingLeft=this._storedPadding+"px":s.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var e=0;if(this._isClearButtonVisible()&&this._input().val()===""){var t=this.$element().find("."+SZ).get(0);e=parseFloat(Xl.getComputedStyle(t).width)}return e},_getLongestElementDimensions:function(){var e=this._strategy.getDisplayFormat(this.option("displayFormat")),t=gt.format(jt.getLongestDate(e,gt.getMonthNames(),gt.getDayNames()),e),i=this._input(),r=i.get(0),n=RL(i,t),a=this._storedPadding!==void 0,s=a?this._storedPadding:0;n.appendTo(this.$element());var o=parseFloat(Xl.getComputedStyle(n.get(0)).width),l=parseFloat(Xl.getComputedStyle(r).paddingRight),u=parseFloat(Xl.getComputedStyle(r).paddingLeft),d=o+u+l+s;return n.remove(),{width:d,leftPadding:u,rightPadding:l}},_getKeyboardListeners(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup:function(){this.callBase(),this._popup.$wrapper().addClass(Ph),this._renderPopupWrapper()},_popupConfig:function(){var e=this.callBase();return ce(this._strategy.popupConfig(e),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var e=this.$element(),t=ce({},Hr,Ir);ve(t,(function(i,r){e.removeClass(Ph+"-"+r)}).bind(this)),this._popup.$wrapper().addClass(Ph+"-"+this.option("type")).addClass(Ph+"-"+this._pickerType).addClass(EZ)}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_getFirstPopupElement:function(){return this._strategy.getFirstPopupElement()||this.callBase()},_getLastPopupElement:function(){return this._strategy.getLastPopupElement()||this.callBase()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupShownHandler:function(){this.callBase(),this._strategy.renderOpenedState()},_popupHiddenHandler:function(){this.callBase(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(e){e&&this._formatValidationIcon()},_clearValueHandler:function(e){this.option("text",""),this.callBase(e)},_readOnlyPropValue:function(){if(this._pickerType===Ir.rollers)return!0;var e=Ye.real().platform,t=this._isNativeType()&&(e==="ios"||e==="android");return t?this.option("readOnly"):this.callBase()},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var e=this.dateOption("value");return this.option("text",this._getDisplayedText(e)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var e=this.dateOption("value"),t=this.option("dateSerializationFormat"),i=jt.SUBMIT_FORMATS_MAP[this.option("type")],r=t?Fi.serializeDate(e,t):jt.toStandardDateFormat(e,i);this._getSubmitElement().val(r)},_getDisplayedText:function(e){var t=this.option("mode"),i;if(t==="text"){var r=this._strategy.getDisplayFormat(this.option("displayFormat"));i=gt.format(e,r)}else{var n=this._getFormatByMode(t);n?i=gt.format(e,n):i=jt.toStandardDateFormat(e,t)}return i},_getFormatByMode:function(e){return Tf(e)?null:jt.FORMATS_MAP[e]},_valueChangeEventHandler:function(e){var{text:t,type:i,validationError:r}=this.option(),n=this.dateOption("value");if(t===this._getDisplayedText(n)){(!r||r.editorSpecific)&&(this._applyInternalValidation(n),this._applyCustomValidation(n));return}var a=this._getParsedDate(t),s=n??this._getDateByDefault(),o=jt.mergeDates(s,a,i),l=a&&i==="time"?o:a;if(this._applyInternalValidation(l).isValid){var u=this._getDisplayedText(o);s&&o&&s.getTime()===o.getTime()&&u!==t?this._renderValue():this.dateValue(o,e)}},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(e){var t=this._strategy.getDisplayFormat(this.option("displayFormat")),i=this._strategy.getParsedText(e,t);return i??void 0},_applyInternalValidation(e){var t=this.option("text"),i=!!t&&e!==null,r=!!e&&sr(e)&&!isNaN(e.getTime()),n=r&&st.dateInRange(e,this.dateOption("min"),this.dateOption("max"),this.option("type")),a=!i&&!e||n,s="";return r?n||(s=this.option("dateOutOfRangeMessage")):s=this.option("invalidDateMessage"),this.option({isValid:a,validationError:a?null:{editorSpecific:!0,message:s}}),{isValid:a,isDate:r}},_applyCustomValidation:function(e){this.validationRequest.fire({editor:this,value:this._serializeDate(e)})},_isValueChanged:function(e){var t=this.dateOption("value"),i=t&&t.getTime(),r=e&&e.getTime();return i!==r},_isTextChanged:function(e){var t=this.option("text"),i=e&&this._getDisplayedText(e)||"";return t!==i},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()},_getPopupTitle:function(){var e=this.option("placeholder");if(e)return e;var t=this.option("type");return t===Hr.time?Ae.format("dxDateBox-simulatedDataPickerTitleTime"):t===Hr.date||t===Hr.datetime?Ae.format("dxDateBox-simulatedDataPickerTitleDate"):""},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(e){var t=this._strategy.getValue();this.dateValue(t,e.event),this.callBase()},_dispose:function(){var e;this.callBase(),(e=this._strategy)===null||e===void 0||e.dispose()},_isNativeType:function(){return this._pickerType===Ir.native},_updatePopupTitle:function(){var e;(e=this._popup)===null||e===void 0||e.option("title",this._getPopupTitle())},_optionChanged:function(e){switch(e.name){case"showClearButton":case"buttons":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:e.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:e.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this.callBase.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":var t=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),t||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(e.value),this.callBase.apply(this,arguments);break;case"isValid":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var e=this.option("value");if(this.option("dateSerializationFormat")&&ii().forceIsoDateParsing)return this.option("dateSerializationFormat");if(ei(e))return"number";if(nt(e))return Fi.getDateSerializationFormat(e)},_updateValue:function(e){this.callBase(),this._applyInternalValidation(e??this.dateOption("value"))},dateValue:function(e,t){var i=this._isValueChanged(e);return i&&t&&this._saveValueChangeEvent(t),i||(this._isTextChanged(e)?this._updateValue(e):this.option("text")===""&&this._applyCustomValidation(e)),this.dateOption("value",e)},dateOption:function(e,t){if(arguments.length===1)return Fi.deserializeDate(this.option(e));this.option(e,this._serializeDate(t))},_serializeDate:function(e){var t=this._getSerializationFormat();return Fi.serializeDate(e,t)},_clearValue:function(){var e=this.option("value");this.callBase(),e===null&&this._applyCustomValidation(null)},reset:function(){var e=this.option("value");this.callBase(),e===null&&this._applyInternalValidation(null)}}),Fo="dateBoxMask",Ea=1,No=-1,AZ=IZ.inherit({_supportedKeys(e){var t=this.callBase(e),i=n=>{var a=t[ci(n)];return a&&a.apply(this,[n])},r=(n,a)=>this._shouldUseOriginalHandler(n)?i.apply(this,[n]):a.apply(this,[n]);return ce({},t,{del:n=>r(n,a=>{this._revertPart(Ea),this._isAllSelected()||a.preventDefault()}),backspace:n=>r(n,a=>{this._revertPart(No),this._isAllSelected()||a.preventDefault()}),home:n=>r(n,a=>{this._selectFirstPart(),a.preventDefault()}),end:n=>r(n,a=>{this._selectLastPart(),a.preventDefault()}),escape:n=>r(n,a=>{this._revertChanges(a)}),enter:n=>r(n,a=>{this._enterHandler(a)}),leftArrow:n=>r(n,a=>{this._selectNextPart(No),a.preventDefault()}),rightArrow:n=>r(n,a=>{this._selectNextPart(Ea),a.preventDefault()}),upArrow:n=>r(n,a=>{this._upDownArrowHandler(Ea),a.preventDefault()}),downArrow:n=>r(n,a=>{this._upDownArrowHandler(No),a.preventDefault()})})},_shouldUseOriginalHandler(e){var t=this.option("opened")&&e&&["backspace","del"].indexOf(ci(e))===-1;return!this._useMaskBehavior()||t||e&&e.altKey},_upDownArrowHandler(e){this._setNewDateIfEmpty();var t=this._getActivePartValue(this._initialMaskValue),i=this._getActivePartValue(),r=i-t;this._loadMaskValue(this._initialMaskValue),this._partIncrease(r+e,!0)},_getDefaultOptions(){return ce(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey(e){var{originalEvent:t,alt:i}=e,r=t.data||t.key;return typeof r=="string"&&r.length===1&&!i&&!Vi(t)},_isSingleDigitKey(e){var t,i=(t=e.originalEvent)===null||t===void 0?void 0:t.data;return(i==null?void 0:i.length)===1&&parseInt(i,10)},_useBeforeInputEvent:function(){return Ye.real().android},_keyInputHandler(e,t){var i=this._input().val();this._processInputKey(t),e.preventDefault();var r=i!==this._input().val();r&&he.trigger(this._input(),"input")},_keyboardHandler(e){var t=e.originalEvent.key,i=this.callBase(e);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(ri.chrome&&e.key==="Process"&&e.code.indexOf("Digit")===0?(t=e.code.replace("Digit",""),this._processInputKey(t),this._maskInputHandler=()=>{this._renderSelectedPart()}):this._isSingleCharKey(e)&&this._keyInputHandler(e.originalEvent,t)),i},_maskBeforeInputHandler(e){this._maskInputHandler=null;var{inputType:t}=e.originalEvent;t==="insertCompositionText"&&(this._maskInputHandler=()=>{this._renderSelectedPart()});var i=t==="deleteContentBackward",r=t==="deleteContentForward";if(i||r){var n=i?No:Ea;this._maskInputHandler=()=>{this._revertPart(),this._selectNextPart(n)}}if(!(!this._useMaskBehavior()||!this._isSingleCharKey(e))){var a=e.originalEvent.data;return this._keyInputHandler(e,a),!0}},_keyPressHandler(e){var{originalEvent:t}=e;(t==null?void 0:t.inputType)==="insertCompositionText"&&this._isSingleDigitKey(e)&&(this._processInputKey(t.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(e),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey(e){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(e))?this._searchString(e):this._searchNumber(e)},_isAllSelected(){var e=this._caret();return e.end-e.start===this.option("text").length},_getFormatPattern(){if(this._formatPattern)return this._formatPattern;var e=this._strategy.getDisplayFormat(this.option("displayFormat")),t=nt(e)&&!gt._getPatternByFormat(e);return t?this._formatPattern=e:this._formatPattern=wf(function(i){return gt.format(i,e)}),this._formatPattern},_setNewDateIfEmpty(){if(!this._maskValue){var e=this.option("type")==="time"?new Date(null):new Date;this._maskValue=e,this._initialMaskValue=e,this._renderDateParts()}},_partLimitsReached(e){var t=String(e).length,i=this._getActivePartProp("pattern").length,r=i===1,n=r?t:Math.min(i,t),a=this._searchValue.length===n,s=parseInt(this._searchValue+"0")>e;return a||s},_searchNumber(e){var{max:t}=this._getActivePartLimits(),i=String(t).length;this._searchValue=(this._searchValue+e).substr(-i),isNaN(this._searchValue)&&(this._searchValue=e),this._setActivePartValue(this._searchValue),this._partLimitsReached(t)&&this._selectNextPart(Ea)},_searchString(e){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var t=this._getActivePartProp("limits")(this._maskValue),i=this._searchValue+e.toLowerCase(),r=t.max-t.min,n=0;n<=r;n++)if(this._loadMaskValue(this._initialMaskValue),this._partIncrease(n+1),this._getActivePartProp("text").toLowerCase().indexOf(i)===0){this._searchValue=i;return}this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(e))}},_clearSearchValue(){this._searchValue=""},_revertPart:function(e){if(!this._isAllSelected()){var t=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(t),this._selectNextPart(e)}this._clearSearchValue()},_useMaskBehavior(){return this.option("useMaskBehavior")&&this.option("mode")==="text"},_prepareRegExpInfo(){this._regExpInfo=QT(this._getFormatPattern(),gt);var e=this._regExpInfo.regexp,t=e.source,i=e.flags,r=new RegExp(/(\{[0-9]+,?[0-9]*\})/),n=t.split(r).map(a=>r.test(a)?a:Xt.convertDigits(a,!1)).join("");this._regExpInfo.regexp=new RegExp(n,i)},_initMaskState(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts(){if(this._useMaskBehavior()){var e=this.option("text")||this._getDisplayedText(this._maskValue);e&&(this._dateParts=nY(e,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}},_detachMaskEvents(){he.off(this._input(),"."+Fo)},_attachMaskEvents(){he.on(this._input(),Be("dxclick",Fo),this._maskClickHandler.bind(this)),he.on(this._input(),Be("paste",Fo),this._maskPasteHandler.bind(this)),he.on(this._input(),Be("drop",Fo),()=>{this._renderSelectedPart()}),he.on(this._input(),Be("compositionend",Fo),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&he.on(this._input(),Be("beforeinput",Fo),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(No))},_selectFirstPart(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(Ea))},_onMouseWheel(e){this._useMaskBehavior()&&this._partIncrease(e.delta>0?Ea:No,e)},_selectNextPart(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!(!this.option("text")||this._disposed)){e&&(this._initialMaskValue=new Date(this._maskValue));var t=rr(this._activePartIndex+e,0,this._dateParts.length-1);if(this._dateParts[t].isStub){var i=t===0&&e<0||t===this._dateParts.length-1&&e>0;if(i)t=this._activePartIndex;else{this._selectNextPart(e>=0?e+1:e-1);return}}this._activePartIndex!==t&&this._clearSearchValue(),this._activePartIndex=t,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern(){if(this._getActivePartProp("pattern")[0]==="d")return"dM"},_getActivePartLimits(e){var t=this._getActivePartProp("limits");return t(this._maskValue,e&&this._getRealLimitsPattern())},_getActivePartValue(e){e=e||this._maskValue;var t=this._getActivePartProp("getter");return We(t)?t(e):e[t]()},_addLeadingZeroes(e){var t=this._searchValue.match(/^0+/),i=this._getActivePartLimits(),r=String(i.max).length;return((t&&t[0]||"")+String(e)).substr(-r)},_setActivePartValue(e,t){t=t||this._maskValue;var i=this._getActivePartProp("setter"),r=this._getActivePartLimits();e=na(e,r.min,r.max)?e:e%10,e=this._addLeadingZeroes(rr(e,r.min,r.max)),We(i)?i(t,e):t[i](e),this._renderDisplayText(this._getDisplayedText(t)),this._renderDateParts()},_getActivePartProp(e){if(!(!this._dateParts||!this._dateParts[this._activePartIndex]))return this._dateParts[this._activePartIndex][e]},_loadMaskValue(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dateOption("value");this._maskValue=e&&new Date(e),this._initialMaskValue=e&&new Date(e)},_saveMaskValue(){var e=this._maskValue&&new Date(this._maskValue);e&&this.option("type")==="date"&&e.setHours(0,0,0,0),this._initialMaskValue=new Date(e),this.dateOption("value",e)},_revertChanges(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText(e){this.callBase(e),this._useMaskBehavior()&&this.option("text",e)},_partIncrease(e,t){this._setNewDateIfEmpty();var{max:i,min:r}=this._getActivePartLimits(t),n=i-r;n===1&&n++;var a=e+this._getActivePartValue();a>i?a=this._applyLimits(a,{limitBase:r,limitClosest:i,limitDelta:n}):a<r&&(a=this._applyLimits(a,{limitBase:i,limitClosest:r,limitDelta:n})),this._setActivePartValue(a)},_applyLimits(e,t){var{limitBase:i,limitClosest:r,limitDelta:n}=t,a=(e-r)%n;return a?i+a-1*dl(a):r},_maskClickHandler(){this._loadMaskValue(this._maskValue),this.option("text")&&(this._activePartIndex=aY(this._dateParts,this._caret().start),this._isAllSelected()||(oe(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))},_maskCompositionEndHandler(e){this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=()=>{this._renderSelectedPart()}},_maskPasteHandler(e){var t=this._replaceSelectedText(this.option("text"),this._caret(),xv(e)),i=gt.parse(t,this._getFormatPattern());i&&this._isDateValid(i)&&(this._maskValue=i,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),e.preventDefault()},_isDateValid:e=>sr(e)&&!isNaN(e),_isValueDirty(){var e=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(e&&e.getTime())},_fireChangeEvent(){this._clearSearchValue(),this._isValueDirty()&&he.trigger(this._input(),"change")},_enterHandler(e){this._fireChangeEvent(),this._selectNextPart(Ea),e.preventDefault()},_focusOutHandler(e){var t=this._useMaskBehavior()&&!e.isDefaultPrevented();t?(this._fireChangeEvent(),this.callBase(e),this._selectFirstPart(e)):this.callBase(e)},_valueChangeEventHandler(e){var t=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(e),t?this._maskValue===null&&this._loadMaskValue(t):this._maskValue=null,this._saveMaskValue()):this.callBase(e)},_optionChanged(e){switch(e.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(e),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(e),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(e)}},_clearMaskState(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},reset(){this._clearMaskState(),this._activePartIndex=0,this.callBase()},_clean(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}});Tt("dxDateBox",AZ);var{isWrapped:OZ}=cr,DZ="checkbox-size",kZ="dx-editor-inline-block",WD=function(){var e=function(a,s){return ce(a,{readOnly:s.readOnly,placeholder:s.placeholder,inputAttr:{id:s.id},tabIndex:s.tabIndex},s.editorOptions)},t=function(){return ri.mozilla||Ye.real().ios},i=function(a){var s={},o=t(),l=a.sharedData||s;return e({placeholder:a.placeholder,width:a.width,value:a.value,onValueChanged:function(u){var d=a.parentType==="filterRow"||a.parentType==="searchPanel",c=u.event&&(u.event.type==="input"||u.event.type==="keyup"),h=function(f,p){a&&a.setValue(f.value,p)};clearTimeout(s.valueChangeTimeout),c&&d?l.valueChangeTimeout=s.valueChangeTimeout=setTimeout(function(){h(u,s.valueChangeTimeout!==l.valueChangeTimeout)},oe(a.updateValueTimeout)?a.updateValueTimeout:0):h(u)},onKeyDown:function(u){o&&ci(u.event)==="enter"&&he.trigger(J(u.component._input()),"change")},valueChangeEvent:"change"+(a.parentType==="filterRow"?" keyup input":"")},a)},r=function(a){a.parentType==="filterRow"||a.parentType==="filterBuilder"?n(ce(a,{lookup:{displayExpr:function(s){if(s===!0)return a.trueText||"true";if(s===!1)return a.falseText||"false"},dataSource:[!0,!1]}})):function(s){s.editorName="dxCheckBox",s.editorOptions=e({elementAttr:{id:s.id},value:oe(s.value)?s.value:void 0,hoverStateEnabled:!s.readOnly,focusStateEnabled:!s.readOnly,activeStateEnabled:!1,onValueChanged:function(o){s.setValue&&s.setValue(o.value,o)}},s)}(a)};function n(a){var s=a.lookup,o,l,u,d=a.parentType==="filterRow";if(s){o=Yt(s.displayExpr),l=s.dataSource,We(l)&&!OZ(l)&&(l=l(a.row||{}),function(h){if(h.row&&h.row.watch&&h.parentType==="dataRow"){var f=h.editorOptions||{};h.editorOptions=f;var p,g=f.onInitialized;f.onInitialized=function(b){g&&g.apply(this,arguments),p=b.component,p.on("disposing",v)};var m,v=h.row.watch(()=>(m=h.lookup.dataSource(h.row),m&&m.filter),()=>{p.option("dataSource",m)},b=>{h.row=b})}}(a)),(at(l)||Array.isArray(l))&&(l=Tl(l),d&&(u=l.postProcess,l.postProcess=function(h){return this.pageIndex()===0&&(h=h.slice(0),h.unshift(null)),u?u.call(this,h):h}));var c=!!(s.allowClearing&&!d);a.editorName="dxSelectBox",a.editorOptions=e({searchEnabled:!0,value:a.value,valueExpr:a.lookup.valueExpr,searchExpr:a.lookup.searchExpr||a.lookup.displayExpr,allowClearing:c,showClearButton:c,displayExpr:function(h){return h===null?a.showAllText:o(h)},dataSource:l,onValueChanged:function(h){var f=[h.value];!d&&f.push(h.component.option("text")),a.setValue.apply(this,f)}},a)}}return{createEditor:function(a,s){if(s.cancel=!1,s.editorElement=ot(a),oe(s.tabIndex)||(s.tabIndex=this.option("tabIndex")),s.lookup)n(s);else switch(s.dataType){case"date":case"datetime":(function(o){o.editorName="dxDateBox",o.editorOptions=e({value:o.value,onValueChanged:function(l){o.setValue(l.value)},onKeyDown:function(l){var{component:u,event:d}=l,c=u.option("useMaskBehavior");(t()||c)&&ci(d)==="enter"&&(u.blur(),u.focus())},displayFormat:o.format,type:o.dataType,dateSerializationFormat:null,width:o.parentType==="filterBuilder"?void 0:"auto"},o)})(s);break;case"boolean":r(s);break;case"number":(function(o){var l=i(o);l.value=oe(o.value)?o.value:null,o.editorName="dxNumberBox",o.editorOptions=l})(s);break;default:(function(o){var l=i(o),u=o.parentType==="searchPanel";o.editorType&&o.editorType!=="dxTextBox"?l.value=o.value:l.value=(d=o.value,oe(d)?d.toString():"");var d;l.valueChangeEvent+=u?" keyup input search":"",l.mode=l.mode||(u?"search":"text"),o.editorName="dxTextBox",o.editorOptions=l})(s)}s.parentType==="dataRow"&&s.editorType&&(s.editorName=s.editorType),this.executeAction("onEditorPreparing",s),!s.cancel&&(s.parentType==="dataRow"&&!s.isOnForm&&!oe(s.editorOptions.showValidationMark)&&(s.editorOptions.showValidationMark=!1),function(o,l){var u=J(l.editorElement);if(l.editorName&&l.editorOptions&&u[l.editorName]){if((l.editorName==="dxCheckBox"||l.editorName==="dxSwitch")&&(l.isOnForm||(u.addClass(o.addWidgetPrefix(DZ)),u.parent().addClass(kZ))),o._createComponent(u,l.editorName,l.editorOptions),l.editorName==="dxDateBox"){var d=u.dxDateBox("instance"),c=d._supportedKeys().enter;d.registerKeyHandler("enter",h=>(d.option("opened")&&c(h),!0))}l.editorName==="dxTextArea"&&u.dxTextArea("instance").registerKeyHandler("enter",function(h){ci(h)==="enter"&&!h.ctrlKey&&!h.shiftKey&&h.stopPropagation()})}}(this,s),this.executeAction("onEditorPrepared",s))}}}(),RZ="dx-editor-inline-block",hg="dx-cell-focus-disabled",j1="focus-overlay",MZ="content",cg="dx-focused",BZ="dx-row",jD="dxDataGridEditorFactory",U1=Be([Vt.down,"focusin",zt].join(" "),jD),fg="dx-hidden",PZ=ni.ViewController.inherit({_getFocusedElement:function(e){var t=this.option("focusedRowEnabled")?"tr[tabindex]:focus":"tr[tabindex]:not(.dx-data-row):focus",i="td[tabindex]:focus, ".concat(t,", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus, .dx-dropdownbutton .dx-buttongroup:focus"),r=e.find(i);return this.elementIsInsideGrid(r)&&r},_getFocusCellSelector:function(){return".dx-row > td"},_updateFocusCore:function(){var e=this.component&&this.component.$element(),t,i;if(e){var r=this._getFocusedElement(e);if(r&&r.length&&(!r.hasClass(hg)&&!r.hasClass(BZ)&&(t=r.closest(this._getFocusCellSelector()+", ."+hg),i=t.get(0)!==r.get(0)&&t.hasClass(RZ),r=t),r.length&&!r.hasClass(hg))){this.focus(r,i);return}}this.loseFocus()},_updateFocus:function(e){var t=this,i=e&&e.event&&J(e.event.target).hasClass(t.addWidgetPrefix(j1));t._isFocusOverlay=t._isFocusOverlay||i,clearTimeout(t._updateFocusTimeoutID),t._updateFocusTimeoutID=setTimeout(function(){delete t._updateFocusTimeoutID,t._isFocusOverlay||t._updateFocusCore(),t._isFocusOverlay=!1})},_updateFocusOverlaySize:function(e,t){e.hide();var i=Ki.calculate(e,ce({collision:"fit"},t));i.h.oversize>0&&Py(e,Pt(e)-i.h.oversize),i.v.oversize>0&&Ly(e,At(e)-i.v.oversize),e.show()},callbackNames:function(){return["focused"]},focus:function(e,t){var i=this;if(e===void 0)return i._$focusedElement;e&&(e.is(i._$focusedElement)||i._$focusedElement&&i._$focusedElement.removeClass(cg),i._$focusedElement=e,clearTimeout(i._focusTimeoutID),i._focusTimeoutID=setTimeout(function(){delete i._focusTimeoutID,i.renderFocusOverlay(e,t),e.addClass(cg),i.focused.fire(e)}))},refocus:function(){var e=this.focus();this.focus(e)},renderFocusOverlay:function(e,t){if(Fe.isElementInCurrentGrid(this,e)){if(this._$focusOverlay||(this._$focusOverlay=J("<div>").addClass(this.addWidgetPrefix(j1))),t)this._$focusOverlay.addClass(fg);else if(e.length){var i=ri.mozilla?"right bottom":"left top",r=e.closest("."+this.addWidgetPrefix(MZ)),n=vi(e.get(0));this._$focusOverlay.removeClass(fg).appendTo(r),Ly(this._$focusOverlay,n.bottom-n.top+1),Py(this._$focusOverlay,n.right-n.left+1);var a={precise:!0,my:i,at:i,of:e,boundary:r.length&&r};this._updateFocusOverlaySize(this._$focusOverlay,a),Ki.setup(this._$focusOverlay,a),this._$focusOverlay.css("visibility","visible")}}},resize:function(){var e=this._$focusedElement;e&&this.focus(e)},loseFocus:function(){this._$focusedElement&&this._$focusedElement.removeClass(cg),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass(fg)},init:function(){this.createAction("onEditorPreparing",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this._updateFocusHandler=this._updateFocusHandler||this.createAction(this._updateFocus.bind(this)),he.on(Re.getDocument(),U1,this._updateFocusHandler),this._attachContainerEventHandlers()},_attachContainerEventHandlers:function(){var e=this,t=e.component&&e.component.$element();t&&he.on(t,Be("keydown",jD),function(i){ci(i)==="tab"&&e._updateFocusHandler(i)})},dispose:function(){clearTimeout(this._focusTimeoutID),clearTimeout(this._updateFocusTimeoutID),he.off(Re.getDocument(),U1,this._updateFocusHandler)}}).include(WD),LZ={defaultOptions:function(){return{}},controllers:{editorFactory:PZ}};qe.registerModule("editorFactory",LZ);var pg=ft(),FZ={text:"OK",onClick:function(){return!0}},mo="dx-dialog",NZ="".concat(mo,"-wrapper"),VZ="".concat(mo,"-root"),HZ="".concat(mo,"-content"),$Z="".concat(mo,"-message"),zZ="".concat(mo,"-buttons"),WZ="".concat(mo,"-button"),G1="dx-button",jZ=r0.inherit({ctor:function(e,t){this.callBase(t)},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{width:276}}])}}),UZ=function(e){var t,i=new we,r=new jZ().option();e=ce(r,e);var n=J("<div>").addClass(mo).appendTo(Xa()),a="message"in e,s="messageHtml"in e;a&&xt.log("W1013");var o=String(s?e.messageHtml:e.message),l=J("<div>").addClass($Z).html(o),u=[];ve(e.buttons||[FZ],function(){var h=new Sr(this.onClick,{context:d});u.push({toolbar:"bottom",location:Ye.current().android?"after":"center",widget:"dxButton",options:ce({},this,{onClick:function(){var f=h.execute(...arguments);c(f)}})})});var d=new Hn(n,ce({title:(t=e.title)!==null&&t!==void 0?t:"",showTitle:hi(e.showTitle,!0),dragEnabled:hi(e.dragEnabled,!0),height:"auto",width:e.width,showCloseButton:e.showCloseButton||!1,ignoreChildEvents:!1,container:n,visualContainer:pg,onContentReady:function(h){h.component.$content().addClass(HZ).append(l)},onShowing:function(h){h.component.bottomToolbar().addClass(zZ).find(".".concat(G1)).addClass(WZ),wl()},onShown:function(h){var f=h.component.bottomToolbar().find(".".concat(G1)).first();he.trigger(f,"focus")},onHiding:function(){i.reject()},toolbarItems:u,animation:{show:{type:"pop",duration:400},hide:{type:"pop",duration:400,to:{opacity:0,scale:0},from:{opacity:1,scale:1}}},rtlEnabled:ii().rtlEnabled,position:{boundaryOffset:{h:10,v:0}}},e.popupOptions));d.$wrapper().addClass(NZ),e.position&&d.option("position",e.position),d.$wrapper().addClass(VZ);function c(h){i.resolve(h),d.hide().done(function(){d.$element().remove()})}return{show:function(){if(Ye.real().platform==="android"){var h=ct(pg)>ut(pg),f=h?"80%":"60%";d.option({width:f})}return d.show(),i.promise()},hide:c}},GZ=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,r=Ct(e)?e:{title:t,messageHtml:e,showTitle:i,buttons:[{text:Ae.format("Yes"),onClick:function(){return!0}},{text:Ae.format("No"),onClick:function(){return!1}}],dragEnabled:i};return UZ(r).show()},KZ="dx-editor-cell",qZ="dx-row",K1="dx-selection",UD="edit-form",xn="insert",Ta="remove",pc="editing.popup",mg="editing.form",ln="editing.editRowKey",uu="editing.editColumnName",GD="targetComponent",KD="input:not([type='hidden'])",qD="[tabindex], "+KD,t_="batch",ml="row",XD="cell",ep="form",vb="popup",q1="first",Lh="last",X1="pageBottom",gg="pageTop",Y1="viewportBottom",YD="viewportTop",XZ=[t_,ml,XD,ep,vb],YZ=[ml,ep,vb],ZZ=[ml,ep],JZ="readonly",QZ="dx-link",eJ="dx-selection",tJ="dx-edit-button",ZD="dx-command-edit",Z1=ZD+"-with-icons",Ia="__DX_INSERT_INDEX__",iJ="dx-row-inserted",rJ="dx-row-modified",J1="dx-cell-modified",nJ="dxDataGridEditing",aJ="dx-cell-focus-disabled",Jl="update",sJ="click",oJ={save:"dx-link-save",cancel:"dx-link-cancel",edit:"dx-link-edit",undelete:"dx-link-undelete",delete:"dx-link-delete",add:"dx-link-add"},lJ={save:"save",cancel:"revert",edit:"edit",undelete:"revert",delete:"trash",add:"add"},uJ={edit:"editRow",delete:"deleteRow",undelete:"undeleteRow",save:"saveEditData",cancel:"cancelEditData",add:"addRowByRowIndex"},dJ={add:"allowAdding",edit:"allowUpdating",delete:"allowDeleting"},hJ=["edit","save","cancel","delete","undelete"],Yn="editing.changes",Fh=function(e){return function(t){var i=t instanceof Error?t:new Error(t&&String(t)||"Unknown error");e.reject(i)}},JD=function(e,t){return t.isEditing||e&&t.column.allowEditing},Q1=function(e,t){var i=!!t.column.command,r=JD(e,t),n=!i&&(r||t.column.showEditorAlways);return t.rowType==="data"&&n},cJ=ni.ViewController.inherit(function(){var e=(i,r)=>{var n=-1;return i.some((a,s)=>{if(t(a)===r)return n=s,!0}),n};function t(i){return at(i)?i.name:i}return{init:function(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._rowsView=this.getView("rowsView"),this._lastOperation=null,this._deferreds&&this._deferreds.forEach(i=>i.reject("cancel")),this._deferreds=[],this._dataChangedHandler||(this._dataChangedHandler=this._handleDataChanged.bind(this),this._dataController.changed.add(this._dataChangedHandler)),this._saveEditorHandler||(this.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceling",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceled",{excludeValidators:["disabled","readOnly"]})),this._updateEditColumn(),this._updateEditButtons(),this._internalState||(this._internalState=[]),this.component._optionsByReference[ln]=!0,this.component._optionsByReference[Yn]=!0},getEditMode:function(){var i=this.option("editing.mode");return XZ.indexOf(i)!==-1?i:ml},_getDefaultEditorTemplate:function(){return(i,r)=>{var n=J("<div>").appendTo(i);this.getController("editorFactory").createEditor(n,ce({},r.column,{value:r.value,setValue:r.setValue,row:r.row,parentType:"dataRow",width:null,readOnly:!r.setValue,isOnForm:r.isOnForm,id:r.id}))}},_getNewRowPosition:function(){var i=this.option("editing.newRowPosition"),r=this.option("scrolling.mode");if(r==="virtual")switch(i){case gg:return YD;case X1:return Y1;default:return i}return i},getChanges:function(){return this.option(Yn)},getInsertRowCount:function(){var i=this.option(Yn);return i.filter(r=>r.type==="insert").length},resetChanges:function(){var i=this.getChanges(),r=i==null?void 0:i.length;r&&this._silentOption(Yn,[])},_getInternalData:function(i){return this._internalState.filter(r=>li(r.key,i))[0]},_addInternalData:function(i){var r=this._getInternalData(i.key);return r?ce(r,i):(this._internalState.push(i),i)},_getOldData:function(i){var r;return(r=this._getInternalData(i))===null||r===void 0?void 0:r.oldData},getUpdatedData:function(i){var r=this._dataController.keyOf(i),n=this.getChanges(),a=Fe.getIndexByKey(r,n);return n[a]?Va(i,n[a].data):i},getInsertedData:function(){return this.getChanges().filter(i=>i.data&&i.type===xn).map(i=>i.data)},getRemovedData:function(){return this.getChanges().filter(i=>this._getOldData(i.key)&&i.type===Ta).map(i=>this._getOldData(i.key))},_fireDataErrorOccurred:function(i){if(i!=="cancel"){var r=this.getPopupContent();this._dataController.dataErrorOccurred.fire(i,r)}},_needToCloseEditableCell:Ee,_closeEditItem:Ee,_handleDataChanged:Ee,_isDefaultButtonVisible:function(i,r){var n=!0;switch(i.name){case"delete":n=this.allowDeleting(r);break;case"undelete":n=!1}return n},_isButtonVisible:function(i,r){var n=i.visible;return oe(n)?We(n)?n.call(i,{component:r.component,row:r.row,column:r.column}):n:this._isDefaultButtonVisible(i,r)},_isButtonDisabled:function(i,r){var n=i.disabled;return We(n)?n.call(i,{component:r.component,row:r.row,column:r.column}):!!n},_getButtonConfig:function(i,r){var n=at(i)?i:{},a=t(i),s=(c=>{var h=c.component.option("editing.texts")||{};return{save:h.saveRowChanges,cancel:h.cancelRowChanges,edit:h.editRow,undelete:h.undeleteRow,delete:h.deleteRow,add:h.addRowToNode}})(r),o=uJ[a],l=this.option("editing"),u=dJ[a],d=u?l[u]:!0;return ce({name:a,text:s[a],cssClass:oJ[a]},{onClick:o&&(c=>{var h=c.event;h.stopPropagation(),h.preventDefault(),setTimeout(()=>{r.row&&d&&this[o]&&this[o](r.row.rowIndex)})})},n)},_getEditingButtons:function(i){var r,n=!!i.column.buttons,a=(i.column.buttons||[]).slice();return n?(r=e(a,"edit"),r>=0&&(e(a,"save")<0&&a.splice(r+1,0,"save"),e(a,"cancel")<0&&a.splice(e(a,"save")+1,0,"cancel")),r=e(a,"delete"),r>=0&&e(a,"undelete")<0&&a.splice(r+1,0,"undelete")):a=hJ.slice(),a.map(s=>this._getButtonConfig(s,i))},_renderEditingButtons:function(i,r,n,a){r.forEach(s=>{this._isButtonVisible(s,n)&&this._createButton(i,s,n,a)})},_getEditCommandCellTemplate:function(){return(i,r,n)=>{var a=J(i);if(r.rowType==="data"){var s=this._getEditingButtons(r);this._renderEditingButtons(a,s,r,n),r.watch&&r.watch(()=>s.map(o=>this._isButtonVisible(o,r)),()=>{a.empty(),this._renderEditingButtons(a,s,r)})}else Fe.setEmptyText(a)}},isRowBasedEditMode:function(){var i=this.getEditMode();return YZ.indexOf(i)!==-1},getFirstEditableColumnIndex:function(){var i=this.getController("columns"),r,n=i.getVisibleColumns();return ve(n,function(a,s){if(s.allowEditing)return r=a,!1}),r},getFirstEditableCellInRow:function(i){var r=this.getView("rowsView");return r&&r._getCellElement(i||0,this.getFirstEditableColumnIndex())},getFocusedCellInRow:function(i){return this.getFirstEditableCellInRow(i)},getIndexByKey:function(i,r){return Fe.getIndexByKey(i,r)},hasChanges:function(i){for(var r=this.getChanges(),n=!1,a=0;a<(r==null?void 0:r.length);a++)if(r[a].type&&(!oe(i)||this._dataController.getRowIndexByKey(r[a].key)===i)){n=!0;break}return n},dispose:function(){this.callBase(),clearTimeout(this._inputFocusTimeoutID),he.off(Re.getDocument(),Vt.up,this._pointerUpEditorHandler),he.off(Re.getDocument(),Vt.down,this._pointerDownEditorHandler),he.off(Re.getDocument(),zt,this._saveEditorHandler)},optionChanged:function(i){if(i.name==="editing"){var r=i.fullName;r===ln?this._handleEditRowKeyChange(i):r===Yn?this._handleChangesChange(i):i.handled||(this._columnsController.reinit(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey()),i.handled=!0}else this.callBase(i)},_handleEditRowKeyChange:function(i){var r=this._dataController.getRowIndexByKey(i.value),n=this._getEditRowIndexCorrection(),a=this._dataController.getRowIndexByKey(i.previousValue)+n;oe(i.value)?i.value!==i.previousValue&&this._editRowFromOptionChanged(r,a):this.cancelEditData()},_handleChangesChange:function(i){var r=this._dataController,n=i.value;!i.value.length&&!i.previousValue.length||(n.forEach(a=>{if(a.type==="insert")this._addInsertInfo(a);else{var s,o=r.items(),l=r.getRowIndexByKey(a.key);this._addInternalData({key:a.key,oldData:(s=o[l])===null||s===void 0?void 0:s.data})}}),r.updateItems({repaintChangesOnly:!0,isLiveUpdate:!1}))},publicMethods:function(){return["addRow","deleteRow","undeleteRow","editRow","saveEditData","cancelEditData","hasEditData"]},refresh:function(){oe(this._pageIndex)&&this._refreshCore.apply(this,arguments)},_refreshCore:Ee,isEditing:function(){var i=oe(this.option(ln));return i},isEditRow:function(){return!1},_setEditRowKey:function(i,r){r?this._silentOption(ln,i):this.option(ln,i)},_setEditRowKeyByIndex:function(i,r){var n=this._dataController.getKeyByRowIndex(i);if(n===void 0){this._dataController.fireError("E1043");return}this._setEditRowKey(n,r)},getEditRowIndex:function(){return this._getVisibleEditRowIndex()},getEditFormRowIndex:function(){return-1},isEditRowByIndex(i){var r=this._dataController.getKeyByRowIndex(i),n=oe(r)&&li(this.option(ln),r);return n&&this._getVisibleEditRowIndex()===i},isEditCell:function(i,r){return this.isEditRowByIndex(i)&&this._getVisibleEditColumnIndex()===r},getPopupContent:Ee,_isProcessedItem:function(i){return!1},_getInsertRowIndex:function(i,r,n){var a=-1,s=this._dataController,o=this._getInsertAfterOrBeforeKey(r);return!oe(o)&&i.length===0?a=0:oe(o)&&i.some((l,u)=>{var d=n||this._isProcessedItem(l);if(at(l)&&(d||oe(l[Ia])?li(l.key,o)&&(a=u):li(s.keyOf(l),o)&&(a=u)),a>=0){var c=i[a+1];return c&&(c.rowType==="detail"||c.rowType==="detailAdaptive")&&oe(r.insertAfterKey)?void 0:(oe(r.insertAfterKey)&&(a+=1),!0)}}),a},_generateNewItem:function(i){var r,n={key:i},a=(r=this._getInternalData(i))===null||r===void 0?void 0:r.insertInfo;return a!=null&&a[Ia]&&(n[Ia]=a[Ia]),n},_getLoadedRowIndex:function(i,r,n){var a=this._getInsertRowIndex(i,r,n),s=this._dataController;if(a<0){var o=this._getNewRowPosition(),l=s.pageIndex(),u=this._getInsertAfterOrBeforeKey(r);o!==Lh&&l===0&&!oe(u)?a=0:o===Lh&&s.isLastPageLoaded()&&(a=i.length)}return a},processItems:function(i,r){var n=r.changeType;this.update(n);var a=this.getChanges();return a.forEach(s=>{var o,l=s.type===xn;if(l){var u=s.key,d=(o=this._getInternalData(u))===null||o===void 0?void 0:o.insertInfo;(!oe(u)||!oe(d))&&(d=this._addInsertInfo(s),u=d.key);var c=this._getLoadedRowIndex(i,s),h=this._generateNewItem(u);c>=0&&i.splice(c,0,h)}}),i},processDataItem:function(i,r,n){var a=r.visibleColumns,s=i.data[Ia]?i.data.key:i.key,o=this.getChanges(),l=Fe.getIndexByKey(s,o);i.isEditing=!1,l>=0&&this._processDataItemCore(i,o[l],s,a,n)},_processDataItemCore:function(i,r,n,a,s){var{data:o,type:l}=r;switch(l){case xn:i.isNewRow=!0,i.key=n,i.data=o;break;case Jl:i.modified=!0,i.oldData=i.data,i.data=Va(i.data,o),i.modifiedValues=s(o,a,!0);break;case Ta:i.removed=!0}},_initNewRow:function(i){if(this.executeAction("onInitNewRow",i),i.promise){var r=new we;return Ke(Gi(i.promise)).done(r.resolve).fail(Fh(r)).fail(n=>this._fireDataErrorOccurred(n)),r}},_createInsertInfo:function(){var i={};return i[Ia]=this._getInsertIndex(),i},_addInsertInfo:function(i,r){var n,a,{key:s}=i;if(oe(s)||(s=String(new Bi),i.key=s),a=(n=this._getInternalData(s))===null||n===void 0?void 0:n.insertInfo,!oe(a)){var o=this._getInsertAfterOrBeforeKey(i);a=this._createInsertInfo(),oe(o)||this._setInsertAfterOrBeforeKey(i,r)}return this._addInternalData({insertInfo:a,key:s}),{insertInfo:a,key:s}},_setInsertAfterOrBeforeKey:function(i,r){var n=this._dataController,a=n.items(!0),s=this.getView("rowsView"),o=this._getNewRowPosition();switch(o){case q1:case Lh:break;case gg:case X1:if(a.length){var l=o===gg?0:a.length-1;i[l===0?"insertBeforeKey":"insertAfterKey"]=a[l].key}break;default:var u=o===Y1,d=u?s==null?void 0:s.getBottomVisibleItemIndex():s==null?void 0:s.getTopVisibleItemIndex(),c=n.getVisibleRows()[d];c&&(!c.isEditing&&c.rowType==="detail"||c.rowType==="detailAdaptive")&&d++;var h=n.getKeyByRowIndex(d);oe(h)&&(i.insertBeforeKey=h)}},_getInsertIndex:function(){var i=0;return this.getChanges().forEach(r=>{var n,a=(n=this._getInternalData(r.key))===null||n===void 0?void 0:n.insertInfo;oe(a)&&r.type===xn&&a[Ia]>i&&(i=a[Ia])}),i+1},_getInsertAfterOrBeforeKey:function(i){var r;return(r=i.insertAfterKey)!==null&&r!==void 0?r:i.insertBeforeKey},_getPageIndexToInsertRow:function(){var i=this._getNewRowPosition(),r=this._dataController,n=r.pageIndex(),a=r.pageCount()-1;return i===q1&&n!==0?0:i===Lh&&n!==a?a:-1},addRow:function(i){var r=this._dataController,n=r.store();return n?this._addRow(i):(r.fireError("E1052",this.component.NAME),new we().reject())},_addRow:function(i){var r=this._dataController,n=r.store(),a=n&&n.key(),s={data:{}},o=this._getVisibleEditRowIndex(),l=new we;return this.refresh({allowCancelEditing:!0}),this._allowRowAdding()?(a||(s.data.__KEY__=String(new Bi)),Ke(this._initNewRow(s,i)).done(()=>{this._allowRowAdding()?Ke(this._addRowCore(s.data,i,o)).done(l.resolve).fail(l.reject):l.reject("cancel")}).fail(l.reject),l.promise()):(Ke(this._navigateToNewRow(o)).done(l.resolve).fail(l.reject),l.promise())},_allowRowAdding:function(){var i=this._getInsertIndex();return!(i>1)},_addRowCore:function(i,r,n){var a={data:i,type:xn},s=this._getVisibleEditRowIndex(),o=this._addInsertInfo(a,r),l=o.key;return this._setEditRowKey(l,!0),this._addChange(a),this._navigateToNewRow(n,a,s)},_navigateToNewRow:function(i,r,n){var a,s,o=new we,l=this._dataController,u=this.getController("focus");if(n=(a=n)!==null&&a!==void 0?a:-1,r=(s=r)!==null&&s!==void 0?s:this.getChanges().filter(p=>p.type===xn)[0],!r)return o.reject("cancel").promise();var d=this._getPageIndexToInsertRow(),c=this._getLoadedRowIndex(l.items(),r,!0),h=p=>{Ke(u==null?void 0:u.navigateToRow(p)).done(()=>{c=l.getRowIndexByKey(r.key),o.resolve()})},f=this._getInsertAfterOrBeforeKey(r);return d>=0?l.pageIndex(d).done(()=>{h(r.key)}).fail(o.reject):c<0&&oe(f)?h(f):(l.updateItems({changeType:"update",rowIndices:[i,n,c]}),c=l.getRowIndexByKey(r.key),c<0?h(r.key):o.resolve()),o.done(()=>{this._showAddedRow(c),this._afterInsertRow(r.key)}),o.promise()},_showAddedRow:function(i){this._focusFirstEditableCellInRow(i)},_beforeFocusElementInRow:Ee,_focusFirstEditableCellInRow:function(i){var r=this._dataController,n=r.getKeyByRowIndex(i),a=this.getFirstEditableCellInRow(i);this._editCellInProgress=!0,this._delayedInputFocus(a,()=>{i=r.getRowIndexByKey(n),this._editCellInProgress=!1,this._beforeFocusElementInRow(i)})},_isEditingStart:function(i){return this.executeAction("onEditingStart",i),i.cancel},_beforeUpdateItems:Ee,_getVisibleEditColumnIndex:function(){var i=this.option(uu);return oe(i)?this._columnsController.getVisibleColumnIndex(i):-1},_setEditColumnNameByIndex:function(i,r){var n,a=this._columnsController.getVisibleColumns();this._setEditColumnName((n=a[i])===null||n===void 0?void 0:n.name,r)},_setEditColumnName:function(i,r){r?this._silentOption(uu,i):this.option(uu,i)},_resetEditColumnName:function(){this._setEditColumnName(null,!0)},_getEditColumn:function(){var i=this.option(uu);return this._getColumnByName(i)},_getColumnByName:function(i){var r=this._columnsController.getVisibleColumns(),n;return oe(i)&&r.some(a=>{if(a.name===i)return n=a,!0}),n},_getVisibleEditRowIndex:function(i){var r=this._dataController,n=this.option(ln),a=r.getRowIndexByKey(n);return a===-1?a:a+this._getEditRowIndexCorrection(i)},_getEditRowIndexCorrection:function(i){var r=i?this._getColumnByName(i):this._getEditColumn(),n=(r==null?void 0:r.visibleWidth)==="adaptiveHidden";return n?1:0},_resetEditRowKey:function(){this._setEditRowKey(null,!0)},_resetEditIndices:function(){this._resetEditColumnName(),this._resetEditRowKey()},editRow:function(i){var r,n=this._dataController,a=n.items(),s=a[i],o={data:s&&s.data,cancel:!1},l=this._getVisibleEditRowIndex();if(s){if(i===l)return!0;if(s.key===void 0){this._dataController.fireError("E1043");return}s.isNewRow||(o.key=s.key),!this._isEditingStart(o)&&(this.resetChanges(),this.init(),this._resetEditColumnName(),this._pageIndex=n.pageIndex(),this._addInternalData({key:s.key,oldData:(r=s.oldData)!==null&&r!==void 0?r:s.data}),this._setEditRowKey(s.key))}},_editRowFromOptionChanged:function(i,r){var n=[r,i];this._beforeUpdateItems(n,i,r),this._editRowFromOptionChangedCore(n,i)},_editRowFromOptionChangedCore:function(i,r,n){this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:i,cancel:n})},_focusEditorIfNeed:Ee,_showEditPopup:Ee,_repaintEditPopup:Ee,_getEditPopupHiddenHandler:function(){return i=>{this.isEditing()&&this.cancelEditData()}},_getPopupEditFormTemplate:Ee,_getSaveButtonConfig:function(){return{text:this.option("editing.texts.saveRowChanges"),onClick:this.saveEditData.bind(this)}},_getCancelButtonConfig:function(){return{text:this.option("editing.texts.cancelRowChanges"),onClick:this.cancelEditData.bind(this)}},_removeInternalData:function(i){var r=this._getInternalData(i),n=this._internalState.indexOf(r);n>-1&&this._internalState.splice(n,1)},_updateInsertAfterOrBeforeKeys:function(i,r){var n=i[r];i.forEach(a=>{var s=this._getInsertAfterOrBeforeKey(a);li(s,n.key)&&(a[oe(a.insertAfterKey)?"insertAfterKey":"insertBeforeKey"]=this._getInsertAfterOrBeforeKey(n))})},_removeChange:function(i){if(i>=0){var r=[...this.getChanges()],n=r[i].key;this._removeInternalData(n),this._updateInsertAfterOrBeforeKeys(r,i),r.splice(i,1),this._silentOption(Yn,r),li(this.option(ln),n)&&this._resetEditIndices()}},executeOperation:function(i,r){this._lastOperation&&this._lastOperation.reject(),this._lastOperation=i,this.waitForDeferredOperations().done(()=>{i.state()!=="rejected"&&(r(),this._lastOperation=null)}).fail(()=>{i.reject(),this._lastOperation=null})},waitForDeferredOperations:function(){return Ke(...this._deferreds)},_processCanceledEditingCell:Ee,_repaintEditCell:function(i,r,n){this._needFocusEditor=!0,!i||!i.showEditorAlways||r&&!r.showEditorAlways?(this._editCellInProgress=!0,this.getController("editorFactory").loseFocus(),this._dataController.updateItems({changeType:"update",rowIndices:[n,this._getVisibleEditRowIndex()]})):i!==r&&this._dataController.updateItems({changeType:"update",rowIndices:[]})},_delayedInputFocus:function(i,r,n){var a=()=>{if(r&&r(),i){var s=i.find(qD).first();Fe.focusAndSelectElement(this,s)}this._beforeFocusCallback=null};Ye.real().ios||Ye.real().android?a():(this._beforeFocusCallback&&this._beforeFocusCallback(),clearTimeout(this._inputFocusTimeoutID),n&&(this._beforeFocusCallback=r),this._inputFocusTimeoutID=setTimeout(a))},_focusEditingCell:function(i,r,n){var a=this.getView("rowsView"),s=this._getVisibleEditColumnIndex();r=r||a&&a._getCellElement(this._getVisibleEditRowIndex(),s),r&&this._delayedInputFocus(r,i,n)},deleteRow:function(i){this._checkAndDeleteRow(i)},_checkAndDeleteRow:function(i){var r=this.option("editing"),n=r==null?void 0:r.texts,a=r==null?void 0:r.confirmDelete,s=n==null?void 0:n.confirmDeleteMessage,o=this._dataController.items()[i],l=!this.isEditing()||o.isNewRow;if(o&&l)if(!a||!s)this._deleteRowCore(i);else{var u=n&&n.confirmDeleteTitle,d=oe(u)&&u.length>0;GZ(s,u,d).done(c=>{c&&this._deleteRowCore(i)})}},_deleteRowCore:function(i){var r=this._dataController,n=r.items()[i],a=n&&n.key,s=this._getVisibleEditRowIndex();this.refresh();var o=this.getChanges(),l=Fe.getIndexByKey(a,o);return l>=0?o[l].type===xn?this._removeChange(l):this._addChange({key:a,type:Ta}):this._addChange({key:a,oldData:n.data,type:Ta}),this._afterDeleteRow(i,s)},_afterDeleteRow:function(i,r){return this.saveEditData()},undeleteRow:function(i){var r=this._dataController,n=r.items()[i],a=this._getVisibleEditRowIndex(),s=n&&n.key,o=this.getChanges();if(n){var l=Fe.getIndexByKey(s,o);if(l>=0){var{data:u}=o[l];Yr(u)?this._removeChange(l):this._addChange({key:s,type:Jl}),r.updateItems({changeType:"update",rowIndices:[a,i]})}}},_fireOnSaving:function(){var i={cancel:!1,promise:null,changes:[...this.getChanges()]};this.executeAction("onSaving",i);var r=new we;return Ke(Gi(i.promise)).done(()=>{r.resolve(i)}).fail(n=>{this._fireDataErrorOccurred(n),r.resolve({cancel:!0})}),r},_executeEditingAction:function(i,r,n){if(this.component._disposed)return null;var a=new we;return this.executeAction(i,r),Ke(Gi(r.cancel)).done(function(s){s?setTimeout(function(){a.resolve("cancel")}):n(r).done(a.resolve).fail(Fh(a))}).fail(Fh(a)),a},_processChanges:function(i,r,n,a){var s=this._dataController.store();ve(a,(o,l)=>{var u=this._getOldData(l.key),{data:d,type:c}=l,h=Ne({},l),f,p;if(!this._beforeSaveEditData(l,o)){switch(c){case Ta:p={data:u,key:l.key,cancel:!1},f=this._executeEditingAction("onRowRemoving",p,function(){return s.remove(l.key).done(function(m){n.push({type:"remove",key:m})})});break;case xn:p={data:d,cancel:!1},f=this._executeEditingAction("onRowInserting",p,function(){return s.insert(p.data).done(function(m,v){oe(v)&&(h.key=v),m&&at(m)&&m!==p.data&&(h.data=m),n.push({type:"insert",data:m,index:0})})});break;case Jl:p={newData:d,oldData:u,key:l.key,cancel:!1},f=this._executeEditingAction("onRowUpdating",p,function(){return s.update(l.key,p.newData).done(function(m,v){m&&at(m)&&m!==p.newData&&(h.data=m),n.push({type:"update",key:v,data:m})})})}if(a[o]=h,f){var g=new we;f.always(function(m){r.push({key:l.key,result:m})}).always(g.resolve),i.push(g.promise())}}})},_processRemoveIfError:function(i,r){var n=i[r];return(n==null?void 0:n.type)===Ta&&r>=0&&i.splice(r,1),!0},_processRemove:function(i,r,n){var a=i[r];if(!n||!a||a.type===Ta)return this._processRemoveCore(i,r,!n||!a)},_processRemoveCore:function(i,r){return r>=0&&i.splice(r,1),!0},_processSaveEditDataResult:function(i){for(var r=!1,n=[...this.getChanges()],a=n.length,s=0;s<i.length;s++){var o=i[s].result,l=o==="cancel",u=Fe.getIndexByKey(i[s].key,n),d=n[u],c=o&&o instanceof Error;if(c){if(d&&this._addInternalData({key:d.key,error:o}),this._fireDataErrorOccurred(o),this._processRemoveIfError(n,u))break}else this._processRemove(n,u,l)&&(r=!l)}return n.length<a&&this._silentOption(Yn,n),r},_fireSaveEditDataEvents:function(i){ve(i,(r,n)=>{var{data:a,key:s,type:o}=n,l=this._addInternalData({key:s}),u={key:s,data:a};switch(l.error&&(u.error=l.error),o){case Ta:this.executeAction("onRowRemoved",ce({},u,{data:l.oldData}));break;case xn:this.executeAction("onRowInserted",u);break;case Jl:this.executeAction("onRowUpdated",u)}}),this.executeAction("onSaved",{changes:i})},saveEditData:function(){var i=new we;return this.waitForDeferredOperations().done(()=>{if(this.isSaving()){this._resolveAfterSave(i);return}Ke(this._beforeSaveEditData()).done(r=>{if(r){this._resolveAfterSave(i,{cancel:r});return}this._saving=!0;var n={};this._saveEditDataInner(n).always(()=>{this._saving=!1,n.needFocusEditCell&&this._focusEditingCell()}).done(i.resolve).fail(i.reject)}).fail(i.reject)}).fail(i.reject),i.promise()},_resolveAfterSave:function(i){var{cancel:r,error:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ke(this._afterSaveEditData(r)).done(function(){i.resolve(n)}).fail(i.reject)},_saveEditDataInner:function(i){var r=[],n=[],a=[],s=this._dataController,o=s.dataSource(),l=new we;return Ke(this._fireOnSaving()).done(u=>{var{cancel:d,changes:c}=u;if(d)return l.resolve().promise();if(this._processChanges(n,r,a,c),n.length)return o==null||o.beginLoading(),Ke(...n).done(()=>{this._processSaveEditDataResult(r)?this._endSaving(a,c,l):(o==null||o.endLoading(),l.resolve())}).fail(h=>{o==null||o.endLoading(),l.resolve(h)}),l.always(()=>{i.needFocusEditCell=!0}).promise();this._cancelSaving(l)}).fail(l.reject),l.promise()},_beforeEndSaving:function(i){this._resetEditIndices()},_endSaving:function(i,r,n){var a=this._dataController.dataSource();this._beforeEndSaving(r),a==null||a.endLoading(),this._refreshDataAfterSave(i,r,n)},_cancelSaving:function(i){this.executeAction("onSaved",{changes:[]}),this._resolveAfterSave(i)},_refreshDataAfterSave:function(i,r,n){var a=this._dataController,s=this.option("editing.refreshMode"),o=s!=="reshape"&&s!=="repaint";o||a.push(i),Ke(a.refresh({selection:o,reload:o,load:s==="reshape",changesOnly:this.option("repaintChangesOnly")})).always(()=>{this._fireSaveEditDataEvents(r)}).done(()=>{this._resolveAfterSave(n)}).fail(l=>{this._resolveAfterSave(n,{error:l})})},isSaving:function(){return this._saving},_updateEditColumn:function(){var i=this._isEditColumnVisible(),r=this.option("editing.useIcons"),n=ZD+(r?" "+Z1:"");this._columnsController.addCommandColumn({type:"buttons",command:"edit",visible:i,cssClass:n,width:"auto",alignment:"center",cellTemplate:this._getEditCommandCellTemplate(),fixedPosition:"right"}),this._columnsController.columnOption("command:edit",{visible:i,cssClass:n})},_isEditColumnVisible:function(){var i=this.option("editing");return i.allowDeleting},_isEditButtonDisabled:function(){var i=this.hasChanges(),r=oe(this.option("editing.editRowKey"));return!(r||i)},_updateEditButtons:function(){var i=this.getView("headerPanel"),r=this._isEditButtonDisabled();i&&(i.setToolbarItemDisabled("saveButton",r),i.setToolbarItemDisabled("revertButton",r))},_applyModified:function(i){i&&i.addClass(J1)},_beforeCloseEditCellInBatchMode:Ee,cancelEditData:function(){var i=this.getChanges(),r={cancel:!1,changes:i};this.executeAction("onEditCanceling",r),r.cancel||(this._cancelEditDataCore(),this.executeAction("onEditCanceled",{changes:i}))},_cancelEditDataCore:function(){var i=this._getVisibleEditRowIndex();this._beforeCancelEditData(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey(),this._afterCancelEditData(i)},_afterCancelEditData:function(i){var r=this._dataController;r.updateItems({repaintChangesOnly:this.option("repaintChangesOnly")})},_hideEditPopup:Ee,hasEditData:function(){return this.hasChanges()},update:function(i){var r=this._dataController;r&&this._pageIndex!==r.pageIndex()&&(i==="refresh"&&this.refresh({isPageChanged:!0}),this._pageIndex=r.pageIndex()),this._updateEditButtons()},_getRowIndicesForCascadeUpdating:function(i,r){return r?[]:[i.rowIndex]},addDeferred:function(i){this._deferreds.indexOf(i)<0&&(this._deferreds.push(i),i.always(()=>{var r=this._deferreds.indexOf(i);r>=0&&this._deferreds.splice(r,1)}))},_prepareChange:function(i,r,n){var a,s={},o=(a=i.row)===null||a===void 0?void 0:a.data,l=i.key,u=new we;if(l!==void 0){i.value=r;var d=Gi(i.column.setCellValue(s,r,ce(!0,{},o),n));d.done(function(){u.resolve({data:s,key:l,oldData:o,type:Jl})}).fail(Fh(u)).fail(c=>this._fireDataErrorOccurred(c)),oe(n)&&i.column.displayValueMap&&(i.column.displayValueMap[r]=n),this._updateRowValues(i),this.addDeferred(u)}return u},_updateRowValues:function(i){if(i.values){var r=this._dataController,n=r.getRowIndexByKey(i.key),a=r.getVisibleRows()[n];a&&(i.values=a.values),i.values[i.columnIndex]=i.value}},updateFieldValue:function(i,r,n,a){var s=i.key,o=new we;return s===void 0&&this._dataController.fireError("E1043"),i.column.setCellValue?this._prepareChange(i,r,n).done(l=>{Ke(this._applyChange(i,l,a)).always(()=>{o.resolve()})}):o.resolve(),o.promise()},_focusPreviousEditingCellIfNeed:function(i){if(this.hasEditData()&&!this.isEditCell(i.rowIndex,i.columnIndex))return this._focusEditingCell(),this._updateEditRow(i.row,!0),!0},_needUpdateRow:function(i){var r=this._columnsController.getVisibleColumns();i||(i=this._getEditColumn());var n=i&&i.setCellValue!==i.defaultSetCellValue,a=r.some(s=>s.calculateCellValue!==s.defaultCalculateCellValue);return n||a},_applyChange:function(i,r,n){var a=Ne({},i,{forceUpdateRow:n});return this._addChange(r,a),this._updateEditButtons(),this._applyChangeCore(i,a.forceUpdateRow)},_applyChangeCore:function(i,r){var n=i.column.setCellValue!==i.column.defaultSetCellValue,a=i.row;a&&(r||n?this._updateEditRow(a,r,n):a.update&&a.update())},_updateEditRowCore:function(i,r,n){this._dataController.updateItems({changeType:"update",rowIndices:this._getRowIndicesForCascadeUpdating(i,r)})},_updateEditRow:function(i,r,n){r?this._updateRowImmediately(i,r,n):this._updateRowWithDelay(i,n)},_updateRowImmediately:function(i,r,n){this._updateEditRowCore(i,!r,n),this._validateEditFormAfterUpdate(i,n),r||this._focusEditingCell()},_updateRowWithDelay:function(i,r){var n=new we;this.addDeferred(n),setTimeout(()=>{var a=J(Re.getActiveElement()),s=this._rowsView.getCellIndex(a,i.rowIndex),o=a.get(0),l=Fe.getSelectionRange(o);if(this._updateEditRowCore(i,!1,r),this._validateEditFormAfterUpdate(i,r),s>=0){var u=this._rowsView._getCellElement(i.rowIndex,s);this._delayedInputFocus(u,()=>{setTimeout(()=>{o=Re.getActiveElement(),l.selectionStart>=0&&Fe.setSelectionRange(o,l)})})}n.resolve()})},_validateEditFormAfterUpdate:Ee,_addChange:function(i,r){var n,a=r==null?void 0:r.row,s=[...this.getChanges()],o=Fe.getIndexByKey(i.key,s);o<0&&(o=s.length,this._addInternalData({key:i.key,oldData:i.oldData}),delete i.oldData,s.push(i));var l=Ne({},s[o]);return l&&(i.data&&(l.data=Va(l.data,i.data)),(!l.type||!i.data)&&i.type&&(l.type=i.type),a&&(a.oldData=this._getOldData(a.key),a.data=Va(a.data,i.data))),s[o]=l,this._silentOption(Yn,s),r&&l!==((n=this.getChanges())===null||n===void 0?void 0:n[o])&&(r.forceUpdateRow=!0),l},_getFormEditItemTemplate:function(i,r){return r.editCellTemplate||this._getDefaultEditorTemplate()},getColumnTemplate:function(i){var r=i.column,n=i.row&&i.row.rowIndex,a,s=this.isRowBasedEditMode(),o=this.isEditRow(n),l=this.isEditCell(n,i.columnIndex),u;if((r.showEditorAlways||r.setCellValue&&(o&&r.allowEditing||l))&&(i.rowType==="data"||i.rowType==="detailAdaptive")&&!r.command){var d=this.allowUpdating(i);((d||o)&&r.allowEditing||l)&&(o||!s)&&(r.showEditorAlways&&!s&&(u={cancel:!1,key:i.row.isNewRow?void 0:i.row.key,data:i.row.data,column:r},this._isEditingStart(u)),(!u||!u.cancel)&&(i.setValue=(c,h)=>{this.updateFieldValue(i,c,h)})),a=r.editCellTemplate||this._getDefaultEditorTemplate()}else r.command==="detail"&&i.rowType==="detail"&&o&&(a=this===null||this===void 0?void 0:this.getEditFormTemplate(i));return a},_createButton:function(i,r,n,a){var s=lJ[r.name],o=this.option("editing.useIcons"),l=this.option("useLegacyColumnButtonTemplate"),u=J("<a>").attr("href","#").addClass(QZ).addClass(r.cssClass);if(r.template&&l)this._rowsView.renderTemplate(i,r.template,n,!0);else{if(r.template)u=J("<span>").addClass(r.cssClass);else if(o&&s||r.icon){s=r.icon||s;var d=wd(s);d==="image"||d==="svg"?u=Ys(s).addClass(r.cssClass):u.addClass("dx-icon"+(d==="dxIcon"?"-":" ")+s).attr("title",r.text),u.addClass("dx-link-icon"),i.addClass(Z1);var c=this.getButtonLocalizationNames()[r.name];c&&u.attr("aria-label",Ae.format(c))}else u.text(r.text);oe(r.hint)&&u.attr("title",r.hint),this._isButtonDisabled(r,n)?u.addClass("dx-state-disabled"):(!r.template||r.onClick)&&he.on(u,Be("click",nJ),this.createAction(function(h){var f;(f=r.onClick)===null||f===void 0||f.call(r,ce({},h,{row:n.row,column:n.column})),h.event.preventDefault(),h.event.stopPropagation()})),i.append(u,"&nbsp;"),r.template&&this._rowsView.renderTemplate(u,r.template,n,!0,a)}},getButtonLocalizationNames:()=>({edit:"dxDataGrid-editingEditRow",save:"dxDataGrid-editingSaveRowChanges",delete:"dxDataGrid-editingDeleteRow",undelete:"dxDataGrid-editingUndeleteRow",cancel:"dxDataGrid-editingCancelRowChanges"}),prepareButtonItem:function(i,r,n,a){var s=this.option("editing.texts")||{},o={revert:s.cancelAllChanges,save:s.saveAllChanges,addRow:s.addRow},l={revert:"cancel",save:"save",addRow:"addrow"}[r],u=o[r],d=(l==="save"||l==="cancel")&&this._isEditButtonDisabled();return{widget:"dxButton",options:{onInitialized:c=>{J(c.element).addClass(i._getToolbarButtonClass(tJ+" "+this.addWidgetPrefix(l)+"-button"))},icon:"edit-button-"+l,disabled:d,onClick:()=>{setTimeout(()=>{this[n]()})},text:u,hint:u},showText:"inMenu",name:r+"Button",location:"after",locateInMenu:"auto",sortIndex:a}},prepareEditButtons:function(i){var r=this.option("editing")||{},n=[];return r.allowAdding&&n.push(this.prepareButtonItem(i,"addRow","addRow",20)),n},highlightDataCell:function(i,r){this.shouldHighlightCell(r)&&i.addClass(J1)},_afterInsertRow:Ee,_beforeSaveEditData:function(i){if(i&&!oe(i.key)&&oe(i.type))return!0},_afterSaveEditData:Ee,_beforeCancelEditData:Ee,_allowEditAction:function(i,r){var n=this.option("editing."+i);return We(n)&&(n=n({component:this.component,row:r.row})),n},allowUpdating:function(i,r){var n=this.option("editing.startEditAction")||sJ,a=arguments.length>1?n===r||r==="down":!0;return a&&this._allowEditAction("allowUpdating",i)},allowDeleting:function(i){return this._allowEditAction("allowDeleting",i)},isCellModified:function(i){var r=i.columnIndex,n=i.row&&(i.row.isNewRow?i.row.values:i.row.modifiedValues);return!!n&&n[r]!==void 0},isNewRowInEditMode:function(){var i=this._getVisibleEditRowIndex(),r=this._dataController.items();return i>=0?r[i].isNewRow:!1},shouldHighlightCell:function(i){var r=this.isCellModified(i);return r&&i.column.setCellValue&&(this.getEditMode()!==ml||!i.row.isEditing)}}}()),fJ={defaultOptions:function(){return{editing:{mode:"row",refreshMode:"full",newRowPosition:YD,allowAdding:!1,allowUpdating:!1,allowDeleting:!1,useIcons:!1,selectTextOnEditStart:!1,confirmDelete:!0,texts:{editRow:Ae.format("dxDataGrid-editingEditRow"),saveAllChanges:Ae.format("dxDataGrid-editingSaveAllChanges"),saveRowChanges:Ae.format("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:Ae.format("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:Ae.format("dxDataGrid-editingCancelRowChanges"),addRow:Ae.format("dxDataGrid-editingAddRow"),deleteRow:Ae.format("dxDataGrid-editingDeleteRow"),undeleteRow:Ae.format("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:Ae.format("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:""},form:{colCount:2},popup:{},startEditAction:"click",editRowKey:null,editColumnName:null,changes:[]},useLegacyColumnButtonTemplate:!1}},controllers:{editing:cJ},extenders:{controllers:{data:{init:function(){this._editingController=this.getController("editing"),this.callBase()},reload:function(e,t){return!t&&this._editingController.refresh(),this.callBase.apply(this,arguments)},repaintRows:function(){if(!this.getController("editing").isSaving())return this.callBase.apply(this,arguments)},_updateEditRow:function(e){var t=this.option(ln),i=Fe.getIndexByKey(t,e),r=e[i];if(r){var n;r.isEditing=!0,(n=this._updateEditItem)===null||n===void 0||n.call(this,r)}},_updateItemsCore:function(e){this.callBase(e),this._updateEditRow(this.items(!0))},_applyChangeUpdate:function(e){this._updateEditRow(e.items),this.callBase(e)},_applyChangesOnly:function(e){this._updateEditRow(e.items),this.callBase(e)},_processItems:function(e,t){return e=this._editingController.processItems(e,t),this.callBase(e,t)},_processDataItem:function(e,t){return this._editingController.processDataItem(e,t,this.generateDataValues),this.callBase(e,t)},_processItem:function(e,t){return e=this.callBase(e,t),e.isNewRow&&(t.dataIndex--,delete e.dataIndex),e},_getChangedColumnIndices:function(e,t,i,r){if(!(e.isNewRow!==t.isNewRow||e.removed!==t.removed))return this.callBase.apply(this,arguments)},_isCellChanged:function(e,t,i,r,n){var a=this.getController("editing"),s=e.cells&&e.cells[r],o=a&&a.isEditCell(i,r);return n&&o?!1:s&&s.column&&!s.column.showEditorAlways&&s.isEditing!==o?!0:this.callBase.apply(this,arguments)},needToRefreshOnDataSourceChange:function(e){var t=this.getController("editing"),i=Array.isArray(e.value)&&e.value===e.previousValue&&t.isSaving();return!i},_handleDataSourceChange(e){var t=this.callBase(e),i=this.option("editing.changes"),r=e.value;if(Array.isArray(r)&&i.length){var n=r.map(l=>this.keyOf(l)),a=i.filter(l=>l.type==="insert"||n.some(u=>li(l.key,u)));a.length!==i.length&&this.option("editing.changes",a);var s=this.option("editing.editRowKey"),o=a.some(l=>l.type==="insert"&&li(s,l.key));!o&&n.every(l=>!li(s,l))&&this.option("editing.editRowKey",null)}return t}}},views:{rowsView:{init:function(){this.callBase(),this._editingController=this.getController("editing")},getCellIndex:function(e,t){if(!e.is("td")&&t>=0){var i=this.getCellElements(t),r=-1;return ve(i,function(n,a){J(a).find(e).length&&(r=n)}),r}return this.callBase.apply(this,arguments)},publicMethods:function(){return this.callBase().concat(["cellValue"])},_getCellTemplate:function(e){var t=this._editingController.getColumnTemplate(e);return t||this.callBase(e)},_createRow:function(e){var t=this.callBase.apply(this,arguments);if(e){var i=!!e.removed,r=!!e.isNewRow,n=!!e.modified;r&&t.addClass(iJ),n&&t.addClass(rJ),(r||i)&&t.removeClass(eJ)}return t},_getColumnIndexByElement:function(e){for(var t=e.closest("table"),i=this.getTableElements();t.length&&!i.filter(t).length;)e=t.closest("td"),t=e.closest("table");return this._getColumnIndexByElementCore(e)},_getColumnIndexByElementCore:function(e){var t=e.closest("."+qZ+"> td:not(.dx-master-detail-cell)");return this.getCellIndex(t)},_editCellByClick:function(e,t){var i=this._editingController,r=J(e.event.target),n=this._getColumnIndexByElement(r),a=this._dataController.items()[e.rowIndex],s=i.allowUpdating({row:a},t)||a&&a.isNewRow,o=this._columnsController.getVisibleColumns()[n],l=i.isEditCell(e.rowIndex,n),u=s&&o&&(o.allowEditing||l),d=this.option("editing.startEditAction")||"click";if(t==="down")return(Ye.real().ios||Ye.real().android)&&!l&&wl(),o&&o.showEditorAlways&&u&&i.editCell(e.rowIndex,n);if(t==="click"&&d==="dblClick"&&!l){var c=a==null?void 0:a.isNewRow;i.closeEditCell(!1,c)}if(u&&t===d)return i.editCell(e.rowIndex,n)||i.isEditRow(e.rowIndex)},_rowPointerDown:function(e){this._pointerDownTimeout=setTimeout(()=>{this._editCellByClick(e,"down")})},_rowClick:function(e){var t=J(e.rowElement).hasClass(this.addWidgetPrefix(UD));e.event[GD]=this.component,!this._editCellByClick(e,"click")&&!t&&this.callBase.apply(this,arguments)},_rowDblClick:function(e){this._editCellByClick(e,"dblClick")||this.callBase.apply(this,arguments)},_cellPrepared:function(e,t){var i,r=this._editingController,n=!!t.column.command,a=t.setValue,s=r.isEditRow(t.rowIndex),o=JD(s,t);if(Q1(s,t)){var l=t.column.alignment;e.toggleClass(this.addWidgetPrefix(JZ),!a).toggleClass(aJ,!a),l&&e.find(KD).first().css("textAlign",l)}o&&this._editCellPrepared(e);var u=!!((i=t.column)!==null&&i!==void 0&&i.cellTemplate);t.column&&!n&&(!u||r.shouldHighlightCell(t))&&r.highlightDataCell(e,t),this.callBase.apply(this,arguments)},_editCellPrepared:Ee,_formItemPrepared:Ee,_getCellOptions:function(e){var t=this.callBase(e);return t.isEditing=this._editingController.isEditCell(t.rowIndex,t.columnIndex),t},_createCell:function(e){var t=this.callBase(e),i=this._editingController.isEditRow(e.rowIndex);return Q1(i,e)&&t.addClass(KZ),t},cellValue:function(e,t,i,r){var n=this.getCellOptions(e,t);if(n){if(i===void 0)return n.value;this._editingController.updateFieldValue(n,i,r,!0)}},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._pointerDownTimeout)},_renderCore:function(){this.callBase.apply(this,arguments),this._editingController._focusEditorIfNeed()}},headerPanel:{_getToolbarItems:function(){var e=this.callBase(),t=this.getController("editing").prepareEditButtons(this);return t.concat(e)},optionChanged:function(e){var t=e.fullName;switch(e.name){case"editing":var i=[pc,Yn,uu,ln],r=t&&!i.some(n=>n===t);r&&this._invalidate(),this.callBase(e);break;case"useLegacyColumnButtonTemplate":e.handled=!0;break;default:this.callBase(e)}},isVisible:function(){var e=this.getController("editing").option("editing");return this.callBase()||(e==null?void 0:e.allowAdding)}}}}};qe.registerModule("editing",ce(!0,{},fJ,{extenders:{controllers:{data:{_changeRowExpandCore:function(e){var t=this._editingController;return Array.isArray(e)&&t&&t.refresh(),this.callBase.apply(this,arguments)}}}}}));var eS="dx-edit-row",pJ={extenders:{controllers:{editing:{isRowEditMode:function(){return this.getEditMode()===ml},_afterCancelEditData:function(e){var t=this._dataController;this.isRowBasedEditMode()&&e>=0?t.updateItems({changeType:"update",rowIndices:[e,e+1]}):this.callBase.apply(this,arguments)},_isDefaultButtonVisible:function(e,t){var i=this.isRowBasedEditMode(),r=t.row&&t.row.rowIndex===this._getVisibleEditRowIndex();if(i)switch(e.name){case"edit":return!r&&this.allowUpdating(t);case"delete":return this.callBase.apply(this,arguments)&&!r;case"save":case"cancel":return r;default:return this.callBase.apply(this,arguments)}return this.callBase.apply(this,arguments)},isEditRow:function(e){return this.isRowBasedEditMode()&&this.isEditRowByIndex(e)},_cancelSaving:function(){this.isRowBasedEditMode()&&(this.hasChanges()||this._cancelEditDataCore()),this.callBase.apply(this,arguments)},_refreshCore:function(e){var{allowCancelEditing:t}=e??{};if(this.isRowBasedEditMode()){var i=this.getChanges().filter(r=>r.type==="update").length>0;this.init(),t&&i&&this._cancelEditDataCore()}this.callBase.apply(this,arguments)},_isEditColumnVisible:function(){var e=this.callBase.apply(this,arguments),t=this.option("editing"),i=this.isRowEditMode(),r=t.allowUpdating||t.allowAdding;return e||i&&r},_focusEditorIfNeed:function(){var e=this.getEditMode();if(this._needFocusEditor){if(ZZ.indexOf(e)!==-1){var t=this.getFocusedCellInRow(this._getVisibleEditRowIndex());this._delayedInputFocus(t,()=>{t&&this.component.focus(t)})}this._needFocusEditor=!1}}},data:{_getChangedColumnIndices:function(e,t,i,r){var n=this.getController("editing");if(!(n.isRowBasedEditMode()&&e.isEditing!==t.isEditing))return this.callBase.apply(this,arguments)}}},views:{rowsView:{_createRow:function(e){var t=this.callBase.apply(this,arguments);if(e){var i=this._editingController,r=i.isEditRow(e.rowIndex);r&&(t.addClass(eS),t.removeClass(K1),e.rowType==="detail"&&t.addClass(this.addWidgetPrefix(UD)))}return t},_update:function(e){this.callBase(e),e.changeType==="updateSelection"&&this.getTableElements().children("tbody").children("."+eS).removeClass(K1)}}}}};qe.registerModule("editingRowBased",pJ);class QD{constructor(){this._map={}}_findWidgetInstance(t){var i;return ve(this._map,function(r,n){var{widgetInstance:a,item:s}=n;if(t(s))return i=a,!1}),i}_findFieldByCondition(t,i){var r;return ve(this._map,function(n,a){if(t(a))return r=i==="guid"?n:a[i],!1}),r}clear(){this._map={}}removeItemsByItems(t){ve(t.getItems(),i=>this.removeItemByKey(i))}removeItemByKey(t){delete this._map[t]}add(t){var i=t.guid||new Bi;return this._map[i]=t,i}addItemsOrExtendFrom(t){t.each((i,r)=>{this._map[i]?(r.widgetInstance&&(this._map[i].widgetInstance=r.widgetInstance),this._map[i].$itemContainer=r.$itemContainer):this.add({item:r.item,widgetInstance:r.widgetInstance,guid:i,$itemContainer:r.$itemContainer})})}extendRunTimeItemInfoByKey(t,i){this._map[t]&&(this._map[t]=ce(this._map[t],i))}findWidgetInstanceByItem(t){return this._findWidgetInstance(i=>i===t)}findGroupOrTabLayoutManagerByPath(t){return this._findFieldByCondition(i=>{var{path:r}=i;return r===t},"layoutManager")}findKeyByPath(t){return this._findFieldByCondition(i=>{var{path:r}=i;return r===t},"guid")}findWidgetInstanceByName(t){return this._findWidgetInstance(i=>t===i.name)}findWidgetInstanceByDataField(t){return this._findWidgetInstance(i=>t===(nt(i)?i:i.dataField))}findItemContainerByItem(t){for(var i in this._map)if(this._map[i].item===t)return this._map[i].$itemContainer;return null}findItemIndexByItem(t){return this._findFieldByCondition(i=>{var{item:r}=i;return r===t},"itemIndex")}findPreparedItemByItem(t){return this._findFieldByCondition(i=>{var{item:r}=i;return r===t},"preparedItem")}getItems(){return this._map}each(t){ve(this._map,function(i,r){t(i,r)})}removeItemsByPathStartWith(t){var i=Object.keys(this._map),r=i.filter(n=>this._map[n].path?this._map[n].path.indexOf(t,0)>-1:!1);r.forEach(n=>this.removeItemByKey(n))}}var Nh={move(e,t){ki(e,{left:t})}},vg={moveTo(e,t,i,r){pi.animate(e,{type:"slide",to:{left:t},duration:i,complete:r})},complete(e){pi.stop(e,!0)}},mJ="dx-multiview",gJ="dx-multiview-wrapper",vJ="dx-multiview-item-container",tS="dx-multiview-item",_J="dx-multiview-item-hidden",bJ="dxMultiViewItemData",yJ=200,iS=e=>+e,CJ=e=>Ur(e).left,ek=sb.inherit({_activeStateUnit:"."+tS,_supportedKeys:function(){return ce(this.callBase(),{pageUp:Ee,pageDown:Ee})},_getDefaultOptions:function(){return ce(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,_itemAttributes:{role:"tabpanel"},loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectionByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return tS},_itemDataKey:function(){return bJ},_itemContainer:function(){return this._$itemContainer},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_itemWidth:function(){return this._itemWidthValue||(this._itemWidthValue=ut(this._$wrapper)),this._itemWidthValue},_clearItemWidthCache:function(){delete this._itemWidthValue},_itemsCount:function(){return this.option("items").length},_normalizeIndex:function(e){var t=this._itemsCount();return e<0&&(e+=t),e>=t&&(e-=t),e},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_init:function(){this.callBase.apply(this,arguments);var e=this.$element();e.addClass(mJ),this._$wrapper=J("<div>").addClass(gJ),this._$wrapper.appendTo(e),this._$itemContainer=J("<div>").addClass(vJ),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._initSwipeable()},_initMarkup:function(){this._deferredItems=[],this.callBase();var e=this._getSelectedItemIndices();this._updateItemsVisibility(e[0])},_afterItemElementDeleted:function(e,t){this.callBase(e,t),this._deferredItems&&this._deferredItems.splice(t.itemIndex,1)},_beforeItemElementInserted:function(e){this.callBase.apply(this,arguments),this._deferredItems&&this._deferredItems.splice(e.index,0,null)},_executeItemRenderAction:function(e,t,i){e=(this.option("items")||[]).indexOf(t),this.callBase(e,t,i)},_renderItemContent:function(e){var t=new we,i=this,r=this.callBase,n=new we;return n.done(function(){var a=r.call(i,e);t.resolve(a)}),this._deferredItems[e.index]=n,this.option("deferRendering")||n.resolve(),t.promise()},_render:function(){this.callBase(),Oi(()=>{var e=this._getSelectedItemIndices();this._updateItems(e[0])})},_updateItems:function(e,t){this._updateItemsPosition(e,t),this._updateItemsVisibility(e,t)},_modifyByChanges:function(){this.callBase.apply(this,arguments);var e=this._getSelectedItemIndices();this._updateItemsVisibility(e[0])},_updateItemsPosition:function(e,t){var i=this._itemElements(),r=oe(t)?-this._animationDirection(t,e):void 0,n=i.eq(e);Nh.move(n,0),oe(t)&&Nh.move(i.eq(t),100*r+"%")},_updateItemsVisibility:function(e,t){var i=this._itemElements();i.each((function(r,n){var a=J(n),s=r!==e&&r!==t;s||this._renderSpecificItem(r),a.toggleClass(_J,s),this.setAria("hidden",s||void 0,a)}).bind(this))},_renderSpecificItem:function(e){var t=this._itemElements().eq(e),i=t.find(this._itemContentClass()).length>0;oe(e)&&!i&&(this._deferredItems[e].resolve(),An(t))},_refreshItem:function(e,t){this.callBase(e,t),this._updateItemsVisibility(this.option("selectedIndex"))},_setAriaSelected:Ee,_updateSelection:function(e,t){var i=e[0],r=t[0];vg.complete(this._$itemContainer),this._updateItems(r,i);var n=this._animationDirection(i,r);this._animateItemContainer(n*this._itemWidth(),(function(){Nh.move(this._$itemContainer,0),this._updateItems(i),ut(this._$itemContainer)}).bind(this))},_animateItemContainer:function(e,t){var i=this.option("animationEnabled")?yJ:0;vg.moveTo(this._$itemContainer,e,i,t)},_animationDirection:function(e,t){var i=CJ(this._$itemContainer),r=(t-e)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection(),n=i!==0,a=n?i:r;return dl(a)},_getSwipeDisabledState(){return!this.option("swipeEnabled")||this._itemsCount()<=1},_initSwipeable(){this._createComponent(this.$element(),tf,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:e=>this._swipeStartHandler(e.event),onUpdated:e=>this._swipeUpdateHandler(e.event),onEnd:e=>this._swipeEndHandler(e.event)})},_swipeStartHandler:function(e){vg.complete(this._$itemContainer);var t=this.option("selectedIndex"),i=this.option("loop"),r=this._itemsCount()-1,n=this.option("rtlEnabled");e.maxLeftOffset=iS(i||(n?t>0:t<r)),e.maxRightOffset=iS(i||(n?t<r:t>0)),this._swipeDirection=null},_swipeUpdateHandler:function(e){var t=e.offset,i=dl(t)*this._getRTLSignCorrection();if(Nh.move(this._$itemContainer,t*this._itemWidth()),i!==this._swipeDirection){this._swipeDirection=i;var r=this.option("selectedIndex"),n=this._normalizeIndex(r-i);this._updateItems(r,n)}},_swipeEndHandler:function(e){var t=e.targetOffset*this._getRTLSignCorrection();if(t){this.option("selectedIndex",this._normalizeIndex(this.option("selectedIndex")-t));var i=this.itemElements().filter(".dx-item-selected");this.option("focusStateEnabled")&&this.option("focusedElement",ot(i))}else this._animateItemContainer(0,Ee)},_getItemFocusLoopSignCorrection:function(){return this._itemFocusLooped?-1:1},_moveFocus:function(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem:function(e){var t=this.callBase.apply(this,arguments);return this._itemFocusLooped=t.is(e.last()),t},_nextItem:function(e){var t=this.callBase.apply(this,arguments);return this._itemFocusLooped=t.is(e.first()),t},_dimensionChanged:function(){this._clearItemWidthCache()},_visibilityChanged:function(e){e&&this._dimensionChanged()},_updateSwipeDisabledState(){var e=this._getSwipeDisabledState();tf.getInstance(this.$element()).option("disabled",e)},_optionChanged:function(e){var t=e.value;switch(e.name){case"loop":this.option("loopItemFocus",t);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this.callBase(e);break;default:this.callBase(e)}}});Tt("dxMultiView",ek);var xJ="dx-tabs-item-badge",rS="dx-badge",wJ=uo.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this))},_renderBadge:function(e){if(this._$element.children("."+rS).remove(),!!e){var t=J("<div>").addClass(xJ).addClass(rS).text(e);this._$element.append(t)}}}),nS="dx-tabs-expanded";function tk(e){return e.scrollWidth-e.clientWidth}function SJ(e,t){return Math.round(e)<=t}function EJ(e,t,i){return Math.round(tk(e)-t)<=i}var TJ="dx-tabs",IJ="dx-tabs-wrapper",aS="dx-tabs-stretched",AJ="dx-tabs-scrollable",sS="dx-tabs-nav-buttons",oS="dx-overflow-hidden",lS="dx-tab",OJ="dx-tab-selected",DJ="dx-tabs-nav-button",kJ="dx-tabs-nav-button-left",RJ="dx-tabs-nav-button-right",MJ="dx-tab-text",BJ="dxTabData",uS="chevronnext",dS="chevronprev",PJ=100,hS=5,LJ=300,cS=30,_b=sb.inherit({_activeStateUnit:"."+lS,_getDefaultOptions:function(){return ce(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:function(e){return e?e.badge:void 0},_itemAttributes:{role:"tab"}})},_defaultOptionsRules:function(){var e=gn();return this.callBase().concat([{device:function(){return Ye.real().deviceType!=="desktop"},options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Ei(e)},options:{useInkRipple:!0,selectOnFocus:!1}}])},_init:function(){this.callBase(),this.setAria("role","tablist"),this.$element().addClass(TJ),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=PJ},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new ho((function(e,t){Ct(t)?this._prepareDefaultItemTemplate(t,e):e.text(String(t));var i=Ys(t.icon);i&&i.prependTo(e),e.wrapInner(J("<span>").addClass(MJ))}).bind(this),["text","html","icon"],this.option("integrationOptions.watchMethod"))})},_createItemByTemplate:function(e,t){var{itemData:i,container:r,index:n}=t;return this._deferredTemplates[n]=new we,e.render({model:i,container:r,index:n,onRendered:()=>this._deferredTemplates[n].resolve()})},_itemClass:function(){return lS},_selectedItemClass:function(){return OJ},_itemDataKey:function(){return BJ},_initMarkup:function(){this._deferredTemplates=[],this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass(oS)},_render:function(){this.callBase(),this._deferRenderScrolling()},_deferRenderScrolling(){Ke.apply(this,this._deferredTemplates).done(()=>this._renderScrolling())},_renderScrolling:function(){var e=[aS,nS,oS];if(this.$element().removeClass(e.join(" ")),this.option("scrollingEnabled")&&this._isItemsWidthExceeded()){this._scrollable||(this._renderScrollable(),this._renderNavButtons());var t=this.getScrollable();if(t.update(),this.option("rtlEnabled")){var i=tk(J(this.getScrollable().container()).get(0));t.scrollTo({left:i})}this._updateNavButtonsVisibility(),this._scrollToItem(this.option("selectedItem"))}this.option("scrollingEnabled")&&this._isItemsWidthExceeded()||(this._cleanScrolling(),this._needStretchItems()&&!this._isItemsWidthExceeded()&&this.$element().addClass(aS),this.$element().removeClass(sS).addClass(nS))},_isItemsWidthExceeded:function(){var e=this._getSummaryItemsWidth(this._getVisibleItems(),!0);return e-1>ut(this.$element())},_needStretchItems:function(){var e=this._getVisibleItems(),t=ut(this.$element()),i=[];ve(e,(n,a)=>{i.push(Pt(a,!0))});var r=Math.max.apply(null,i);return r>t/e.length},_cleanNavButtons:function(){!this._leftButton||!this._rightButton||(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling:function(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple:function(){this._inkRipple=V0()},_toggleActiveState:function(e,t,i){if(this.callBase.apply(this,arguments),!!this._inkRipple){var r={element:e,event:i};t?this._inkRipple.showWave(r):this._inkRipple.hideWave(r)}},_renderMultiple:function(){this.option("selectionMode")==="multiple"&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this._$wrapper=J("<div>").addClass(IJ),this.$element().append(this._$wrapper)},_itemContainer:function(){return this._$wrapper},_renderScrollable:function(){var e=this.$element().wrapInner(J("<div>").addClass(AJ)).children();this._scrollable=this._createComponent(e,Mr,{direction:"horizontal",showScrollbar:"never",useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:()=>{this._updateNavButtonsVisibility()}}),this.$element().append(this._scrollable.$element())},_scrollToItem:function(e){if(this._scrollable){var t=this._editStrategy.getItemElement(e);this._scrollable.scrollToElement(t)}},_renderNavButtons:function(){if(this.$element().toggleClass(sS,this.option("showNavButtons")),!!this.option("showNavButtons")){var e=this.option("rtlEnabled");this._leftButton=this._createNavButton(-cS,e?uS:dS);var t=this._leftButton.$element();t.addClass(kJ),this.$element().prepend(t),this._rightButton=this._createNavButton(cS,e?dS:uS);var i=this._rightButton.$element();i.addClass(RJ),this.$element().append(i)}},_updateNavButtonsVisibility:function(){var e=this.getScrollable();this._leftButton&&this._leftButton.option("disabled",SJ(e.scrollLeft(),1)),this._rightButton&&this._rightButton.option("disabled",EJ(J(e.container()).get(0),e.scrollLeft(),1))},_updateScrollPosition:function(e,t){this._scrollable.update(),this._scrollable.scrollBy(e/t)},_createNavButton:function(e,t){var i=this,r=i._createAction(function(){i._holdInterval=setInterval(function(){i._updateScrollPosition(e,hS)},hS)}),n=Be(Ja.name,"dxNavButton"),a=Be(Vt.up,"dxNavButton"),s=Be(Vt.out,"dxNavButton"),o=this._createComponent(J("<div>").addClass(DJ),Ji,{focusStateEnabled:!1,icon:t,onClick:function(){i._updateScrollPosition(e,1)},integrationOptions:{}}),l=o.$element();return he.on(l,n,{timeout:LJ},(function(u){r({event:u})}).bind(this)),he.on(l,a,function(){i._clearInterval()}),he.on(l,s,function(){i._clearInterval()}),o},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_updateSelection:function(e){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(e[0]),{left:1,right:1})},_visibilityChanged:function(e){e&&this._dimensionChanged()},_dimensionChanged:function(){this._renderScrolling()},_itemSelectHandler:function(e){this.option("selectionMode")==="single"&&this.isItemSelected(e.currentTarget)||this.callBase(e)},_clean:function(){this._deferredTemplates=[],this._cleanScrolling(),this.callBase()},_optionChanged:function(e){switch(e.name){case"useInkRipple":case"scrollingEnabled":case"showNavButtons":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(e.name,e.value);break;case"width":this.callBase(e),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),this.callBase(e);break;case"badgeExpr":this._invalidate();break;default:this.callBase(e)}},_afterItemElementInserted(){this.callBase(),this._deferRenderScrolling()},_afterItemElementDeleted(e,t){this.callBase(e,t),this._renderScrolling()},getScrollable(){return this._scrollable}});_b.ItemClass=wJ;Tt("dxTabs",_b);class FJ extends uo{_renderWatchers(){return this._startWatcher("badge",Ee),super._renderWatchers()}}var NJ="dx-tabpanel",VJ="dx-tabpanel-tabs",HJ="dx-tabpanel-container",$J="dx-tab-text",bb=ek.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:function(e){return e?e.badge:void 0}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!js},options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}}])},_init:function(){this.callBase(),this.$element().addClass(NJ),this.setAria("role","tabpanel")},_initMarkup:function(){this.callBase(),this._createTitleActions(),this._renderLayout()},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new ho(function(e,t){if(Ct(t)){var i=Ys(t.icon);i&&e.append(i),oe(t.title)&&!Ct(t.title)&&e.append(Re.createTextNode(t.title))}else oe(t)&&e.text(String(t));e.wrapInner(J("<span>").addClass($J))},["title","icon"],this.option("integrationOptions.watchMethod"))})},_createTitleActions:function(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()},_createTitleClickAction:function(){this._titleClickAction=this._createActionByOption("onTitleClick")},_createTitleHoldAction:function(){this._titleHoldAction=this._createActionByOption("onTitleHold")},_createTitleRenderedAction:function(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")},_renderContent:function(){var e=this;this.callBase(),this.option("templatesRenderAsynchronously")&&(this._resizeEventTimer=setTimeout(function(){e._updateLayout()},0))},_renderLayout:function(){if(this._tabs){this._updateLayout();return}var e=this.$element();this._$tabContainer=J("<div>").addClass(VJ).appendTo(e);var t=J("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(t,_b,this._tabConfig()),this._$container=J("<div>").addClass(HJ).appendTo(e),this._$container.append(this._$wrapper),this._updateLayout()},_updateLayout:function(){if(ht()){var e=At(this._$tabContainer);this._$container.css({marginTop:-e,paddingTop:e})}},_refreshActiveDescendant:function(){if(this._tabs){var e=this._tabs,t=e.itemElements(),i=J(t[e.option("selectedIndex")]),r=this.getFocusedItemId();this.setAria("controls",void 0,J(t)),this.setAria("controls",r,i)}},_tabConfig:function(){return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),repaintChangesOnly:this.option("repaintChangesOnly"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),badgeExpr:this.option("badgeExpr"),onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:(function(e){this.option("selectedIndex",e.component.option("selectedIndex")),this._refreshActiveDescendant()}).bind(this),onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),noDataText:null,scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:(function(e){if(e.name==="focusedElement")if(e.value){var t=J(e.value),i=this._itemElements().eq(t.index());this.option("focusedElement",ot(i))}else this.option("focusedElement",e.value)}).bind(this),onFocusIn:(function(e){this._focusInHandler(e.event)}).bind(this),onFocusOut:(function(e){this._isFocusOutHandlerExecuting||this._focusOutHandler(e.event)}).bind(this)}},_renderFocusTarget:function(){this._focusTarget().attr("tabIndex",-1)},_updateFocusState:function(e,t){this.callBase(e,t),e.target===this._tabs._focusTarget().get(0)&&this._toggleFocusClass(t,this._focusTarget())},_focusOutHandler:function(e){this._isFocusOutHandlerExecuting=!0,this.callBase.apply(this,arguments),this._tabs._focusOutHandler(e),this._isFocusOutHandlerExecuting=!1},_setTabsOption:function(e,t){this._tabs&&this._tabs.option(e,t)},_visibilityChanged:function(e){e&&(this._tabs._dimensionChanged(),this._updateLayout())},registerKeyHandler:function(e,t){this.callBase(e,t),this._tabs&&this._tabs.registerKeyHandler(e,t)},repaint:function(){this.callBase(),this._tabs.repaint()},_optionChanged:function(e){var t=e.name,i=e.value,r=e.fullName;switch(t){case"dataSource":this.callBase(e);break;case"items":this._setTabsOption(t,this.option(t)),this._updateLayout(),this.option("repaintChangesOnly")||this._tabs.repaint(),this.callBase(e);break;case"width":this.callBase(e),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":if(this._setTabsOption(r,i),this.callBase(e),this.option("focusStateEnabled")===!0){var n=this.option("selectedIndex"),a=this._itemElements().eq(n);this.option("focusedElement",ot(a))}break;case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(r,i),this.callBase(e);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(r,i);break;case"focusedElement":var s=i&&J(i).index(),o=i&&this._tabs._itemElements().eq(s);this._setTabsOption("focusedElement",ot(o)),this.callBase(e);break;case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",i);break;case"badgeExpr":this._invalidate();break;default:this.callBase(e)}},_clean:function(){clearTimeout(this._resizeEventTimer),this.callBase()}});bb.ItemClass=FJ;Tt("dxTabPanel",bb);class go{constructor(t){this._options=t,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}findInstance(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}findItemContainer(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}findPreparedItem(){return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)}tryExecute(){Ot.abstract()}}var i_=(e,t)=>"".concat(t?"tabs":"items","[").concat(e,"]"),ik=(e,t)=>oe(e)&&oe(t)?"".concat(e,".").concat(t):e||t,r_=e=>e?e.replace(/\s/g,""):void 0,zJ=(e,t)=>e?e.dataField===t||e.name===t||r_(e.title)===t||e.itemType==="group"&&r_(e.caption)===t:!1,du=(e,t)=>"".concat(e,".").concat(t),fS=e=>{var t=e.split(".");return t[t.length-1].replace(/\[\d+]/,"")},WJ=e=>{for(var t=e.split("."),i=[...t],r=t.length-1;r>=0;r--){if(rk(t[r]))return i.join(".");i.splice(r,1)}return""},rk=e=>e.indexOf("tabs")>-1,nk=(e,t,i)=>{var r=e.indexOf(t);if(r>-1)return i_(r,i);for(var n=0;n<e.length;n++){var a=e[n],s=a.tabs||a.items;if(s){var o=nk(s,t,a.tabs);if(o)return ik(i_(n,i),o)}}};function jJ(e){var{form:t,$formElement:i,formOptions:r,items:n,validationGroup:a,extendedLayoutManagerOptions:s,onFieldDataChanged:o,onContentReady:l,onDisposing:u,onFieldItemRendered:d}=e,c={form:t,items:n,$formElement:i,validationGroup:a,onFieldDataChanged:o,onContentReady:l,onDisposing:u,onFieldItemRendered:d,validationBoundary:r.scrollingEnabled?i:void 0,scrollingEnabled:r.scrollingEnabled,showRequiredMark:r.showRequiredMark,showOptionalMark:r.showOptionalMark,requiredMark:r.requiredMark,optionalMark:r.optionalMark,requiredMessage:r.requiredMessage,screenByWidth:r.screenByWidth,layoutData:r.formData,labelLocation:r.labelLocation,customizeItem:r.customizeItem,minColWidth:r.minColWidth,showColonAfterLabel:r.showColonAfterLabel,onEditorEnterKey:r.onEditorEnterKey,labelMode:r.labelMode},h=ce(c,{isRoot:s.isRoot,colCount:s.colCount,alignItemLabels:s.alignItemLabels,cssItemClass:s.cssItemClass,colCountByScreen:s.colCountByScreen,onLayoutChanged:s.onLayoutChanged,width:s.width});return h}class UJ extends go{tryExecute(){var{value:t}=this._options,i=this.findInstance();return i?(i.option(t),!0):!1}}class pS extends go{tryExecute(){var t=this.findInstance();if(t){var{optionName:i,item:r,value:n}=this._options,a=this._itemsRunTimeInfo.findItemIndexByItem(r);if(a>=0)return t.option(du("items[".concat(a,"]"),i),n),!0}return!1}}class GJ extends go{tryExecute(){return!1}}class KJ extends go{tryExecute(){var t=this.findPreparedItem();return t!=null&&t._prepareGroupItemTemplate&&t._renderGroupContentTemplate?(t._prepareGroupItemTemplate(this._options.item.template),t._renderGroupContentTemplate(),!0):!1}}class qJ extends go{tryExecute(){var t=this.findInstance();if(t){var{value:i}=this._options;return t.option("dataSource",i),!0}return!1}}class XJ extends go{tryExecute(){var{item:t}=this._options,i=this.findInstance(),r=i&&di(i.$element()[0],"dxValidator");if(r&&t){var n=o=>o.type==="required",a=(r.option("validationRules")||[]).some(n),s=(t.validationRules||[]).some(n);if(!a&&!s||a&&s)return r.option("validationRules",t.validationRules),!0}return!1}}class YJ extends go{tryExecute(){var t=this.findItemContainer(),{previousValue:i,value:r}=this._options;return t?(t.removeClass(i).addClass(r),!0):!1}}var ZJ=(e,t)=>{switch(e){case"editorOptions":case"buttonOptions":return new UJ(t);case"validationRules":return new XJ(t);case"cssClass":return new YJ(t);case"badge":case"disabled":case"icon":case"tabTemplate":case"title":return new pS(ce(t,{optionName:e}));case"tabs":return new qJ(t);case"template":var i,r,n,a=(i=t==null||(r=t.item)===null||r===void 0?void 0:r.itemType)!==null&&i!==void 0?i:(n=t.itemsRunTimeInfo.findPreparedItemByItem(t==null?void 0:t.item))===null||n===void 0?void 0:n.itemType;return a==="simple"?new GJ(t):a==="group"?new KJ(t):new pS(ce(t,{optionName:e}));default:return null}},JJ=ft(),ak="dx-responsivebox",mS=ak+"-screen-",QJ="dx-box-item",gS="dxBoxItemData",eQ=1920,sk=co.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{rows:[],cols:[],screenByWidth:null,singleColumnScreen:"",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,onLayoutChanged:null,currentScreenFactor:void 0,_layoutStrategy:void 0})},_init:function(){this.option("screenByWidth")||this._options.silent("screenByWidth",j_),this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction:function(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:function(){return QJ},_itemDataKey:function(){return gS},_initMarkup:function(){this.callBase(),this.$element().addClass(ak),this._updateRootBox()},_updateRootBox:function(){clearTimeout(this._updateTimer),this._updateTimer=setTimeout((function(){this._$root&&he.triggerHandler(this._$root,"dxupdate")}).bind(this))},_renderItems:function(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_itemOptionChanged:function(e){var t=this._findItemElementByItem(e);t.length&&(this._refreshItem(t,e),this._clearItemNodeTemplates(),this._update(!0))},_setScreenSize:function(){var e=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass(mS+e),this.option("currentScreenFactor",e)},_removeScreenSizeClass:function(){var e=this.option("currentScreenFactor");e&&this.$element().removeClass(mS+e)},_prepareGrid:function(){var e=this._grid=[];this._prepareRowsAndCols(),ve(this._rows,(function(){var t=[];e.push(t),ve(this._cols,(function(){t.push(this._createEmptyCell())}).bind(this))}).bind(this))},getSingleColumnRows:function(){var e=this.option("rows"),t=this._screenItems.length;if(e.length){for(var i=this._filterByScreen(e),r=[],n=0;n<t;n++){var a=this._defaultSizeConfig();n<i.length&&oe(i[n].shrink)&&(a.shrink=i[n].shrink),r.push(a)}return r}else return this._defaultSizeConfig(t)},_prepareRowsAndCols:function(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen:function(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems:function(){this._screenItems.sort(function(e,t){return e.location.row-t.location.row||e.location.col-t.location.col}),ve(this._screenItems,function(e,t){ce(t.location,{row:e,col:0,rowspan:1,colspan:1})})},_sizesByScreen:function(e){return Ti(this._filterByScreen(e),(function(t){return ce(this._defaultSizeConfig(),t)}).bind(this))},_createDefaultSizeConfig:function(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}},_defaultSizeConfig:function(e){var t=this._createDefaultSizeConfig();if(!arguments.length)return t;for(var i=[],r=0;r<e;r++)i.push(t);return i},_filterByScreen:function(e){var t=this._screenRegExp();return gr(e,function(i){return!i.screen||t.test(i.screen)})},_screenRegExp:function(){var e=this._getCurrentScreen();return new RegExp("(^|\\s)"+e+"($|\\s)","i")},_getCurrentScreen:function(){var e=this._screenWidth();return this.option("screenByWidth")(e)},_screenWidth:function(){return ht()?ut(JJ):eQ},_createEmptyCell:function(){return{item:{},location:{colspan:1,rowspan:1}}},_spreadItems:function(){ve(this._screenItems,(function(e,t){var i=t.location||{},r=i.col,n=i.row,a=this._grid[n],s=a&&a[r];this._occupyCells(s,t)}).bind(this))},_itemsByScreen:function(){return this.option("items").reduce((e,t)=>{var i=t.location||{};return i=Ct(i)?[i]:i,this._filterByScreen(i).forEach(r=>{e.push({item:t,location:ce({rowspan:1,colspan:1},r)})}),e},[])},_occupyCells:function(e,t){!e||this._isItemCellOccupied(e,t)||(ce(e,t),this._markSpanningCell(e))},_isItemCellOccupied:function(e,t){if(!Yr(e.item))return!0;var i=!1;return this._loopOverSpanning(t.location,function(r){i=i||!Yr(r.item)}),i},_loopOverSpanning:function(e,t){var i=e.row+e.rowspan-1,r=e.col+e.colspan-1,n=Math.min(i,this._rows.length-1),a=Math.min(r,this._cols.length-1);e.rowspan-=i-n,e.colspan-=r-a;for(var s=e.row;s<=n;s++)for(var o=e.col;o<=a;o++)(s!==e.row||o!==e.col)&&t(this._grid[s][o])},_markSpanningCell:function(e){this._loopOverSpanning(e.location,function(t){ce(t,{item:e.item,spanningCell:e})})},_linkNodeToItem:function(){ve(this._itemElements(),function(e,t){var i=J(t),r=i.data(gS);r.box||(r.node=i.children())})},_layoutItems:function(){var e=this._grid.length,t=e&&this._grid[0].length;if(!(!e&&!t)){var i=this._layoutBlock({direction:"col",row:{start:0,end:e-1},col:{start:0,end:t-1}}),r=this._prepareBoxConfig(i.box||{direction:"row",items:[ce(i,{ratio:1})]});ce(r,this._rootBoxConfig(r.items)),this._$root=J("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,Qa,r)}},_rootBoxConfig:function(e){var t=ve(e,(function(i,r){this._needApplyAutoBaseSize(r)&&ce(r,{baseSize:"auto"})}).bind(this));return ce({width:"100%",height:"100%",items:t,itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")},{_layoutStrategy:this.option("_layoutStrategy")})},_needApplyAutoBaseSize:function(e){return!e.baseSize&&(!e.minSize||e.minSize==="auto")&&(!e.maxSize||e.maxSize==="auto")},_prepareBoxConfig:function(e){return ce(e||{},{crossAlign:"stretch",onItemStateChanged:this.option("onItemStateChanged")})},_layoutBlock:function(e){return this._isSingleItem(e)?this._itemByCell(e.row.start,e.col.start):this._layoutDirection(e)},_isSingleItem:function(e){var t=this._grid[e.row.start][e.col.start].location,i=e.row.end-e.row.start===t.rowspan-1,r=e.col.end-e.col.start===t.colspan-1;return i&&r},_itemByCell:function(e,t){var i=this._grid[e][t];return i.spanningCell?null:i.item},_layoutDirection:function(e){for(var t=[],i=e.direction,r=this._crossDirection(i),n;n=this._nextBlock(e);){if(this._isBlockIndivisible(e.prevBlockOptions,n))throw xt.Error("E1025");var a=this._layoutBlock({direction:r,row:n.row,col:n.col,prevBlockOptions:e});a&&(ce(a,this._blockSize(n,r)),t.push(a)),e[r].start=n[r].end+1}return{box:this._prepareBoxConfig({direction:i,items:t})}},_isBlockIndivisible:function(e,t){return e&&e.col.start===t.col.start&&e.col.end===t.col.end&&e.row.start===t.row.start&&e.row.end===t.row.end},_crossDirection:function(e){return e==="col"?"row":"col"},_nextBlock:function(e){var t=e.direction,i=this._crossDirection(t),r=e[t].start,n=e[t].end,a=e[i].start;if(a>e[i].end)return null;for(var s=1,o=a;o<a+s;o++){for(var l=1,u=r;u<=n;u++){var d=this._cellByDirection(t,u,o);l=Math.max(l,d.location[i+"span"])}var c=o+l,h=a+s;c>h&&(s+=c-h)}var f={};return f[t]={start:r,end:n},f[i]={start:a,end:a+s-1},f},_cellByDirection:function(e,t,i){return e==="col"?this._grid[i][t]:this._grid[t][i]},_blockSize:function(e,t){for(var i=t==="row"?"auto":0,r=t==="row"?this._rows:this._cols,n=ce(this._createDefaultSizeConfig(),{ratio:0}),a=e[t].start;a<=e[t].end;a++){var s=r[a];n.ratio+=s.ratio,n.baseSize+=s.baseSize,n.minSize+=s.minSize,n.maxSize+=s.maxSize,oe(s.shrink)&&(n.shrink=s.shrink)}return n.minSize=n.minSize?n.minSize:i,n.maxSize=n.maxSize?n.maxSize:"auto",this._isSingleColumnScreen()&&(n.baseSize="auto"),n},_update:function(e){var t=this._$root;this._renderItems(),t&&(e?t.remove():(t.detach(),this._saveAssistantRoot(t))),this._layoutChangedAction(),this._updateRootBox()},_saveAssistantRoot:function(e){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(e)},_dispose:function(){clearTimeout(this._updateTimer),this._clearItemNodeTemplates(),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots:function(){this._assistantRoots&&ve(this._assistantRoots,function(e,t){J(t).remove()})},_clearItemNodeTemplates:function(){ve(this.option("items"),function(){delete this.node})},_toggleVisibility:function(e){this.callBase(e),e&&this._updateRootBox()},_attachClickEvent:Ee,_optionChanged:function(e){switch(e.name){case"rows":case"cols":case"screenByWidth":case"_layoutStrategy":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":this.callBase(e),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(e);break;case"currentScreenFactor":break;default:this.callBase(e)}},_dimensionChanged:function(){this._getCurrentScreen()!==this.option("currentScreenFactor")&&this._update()},repaint:function(){this._update()}});Tt("dxResponsiveBox",sk);var tQ="dx-widget",iQ="dx-form",_g="dx-form-group",rQ="dx-form-group-caption",vS="dx-col-",ok="dx-field-item",_S="dx-layout-manager-one-col",lk="dx-field-item-label-content",nQ="dx-layout-manager",uk="dx-field-item-label",n_="dx-field-item-content",aQ="dx-single-column-item-content",dk="dx-root-simple-item",sQ="dx-form-group-content",oQ="dx-field-item-has-group",lQ="dx-field-item-has-tabs",uQ="dx-form-group-with-caption",bS="dx-field-item-tab",yS="dx-group-colcount-",CS="group-col-count",dQ="dx-form-validation-summary",hQ="dx-form-styling-mode-underlined",a_="simple",cQ=Ot.inherit({ctor(e,t){this.editor=e,this.validator=t,this.validationRequestsCallbacks=[];var i=r=>{this.validationRequestsCallbacks.forEach(n=>n(r))};e.validationRequest.add(i),e.on("disposing",function(){e.validationRequest.remove(i)})},getValue(){return this.editor.option("value")},getCurrentValidationError(){return this.editor.option("validationError")},bypass(){return this.editor.option("disabled")},applyValidationResults(e){this.editor.option({validationErrors:e.brokenRules,validationStatus:e.status})},reset(){this.editor.reset()},focus(){this.editor.focus()}}),fQ="dx-validator",xS="valid",pQ="invalid",bg="pending",tp=Nn.inherit({_initOptions:function(e){this.callBase.apply(this,arguments),this.option(Gt.initValidationOptions(e))},_getDefaultOptions(){return ce(this.callBase(),{validationRules:[]})},_init(){this.callBase(),this._initGroupRegistration(),this.focused=Ht(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}},_initGroupRegistration(){var e=this._findGroup();this._groupWasInit||this.on("disposing",function(t){Gt.removeRegisteredValidator(t.component._validationGroup,t.component)}),(!this._groupWasInit||this._validationGroup!==e)&&(Gt.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=e,Gt.registerValidatorInGroup(e,this))},_setOptionsByReference(){this.callBase(),ce(this._optionsByReference,{validationGroup:!0})},_getEditor(){var e=this.$element()[0];return di(e,"dx-validation-target")},_initAdapter(){var e=this._getEditor(),t=this.option("adapter");if(!t){if(e){t=new cQ(e,this),t.validationRequestsCallbacks.push(r=>{this._validationInfo.skipValidation||this.validate(r)}),this.option("adapter",t);return}throw xt.Error("E0120")}var i=t.validationRequestsCallbacks;i&&i.push(r=>{this.validate(r)})},_toggleRTLDirection(e){var t,i,r,n=(t=(i=this.option("adapter"))===null||i===void 0||(r=i.editor)===null||r===void 0?void 0:r.option("rtlEnabled"))!==null&&t!==void 0?t:e;this.callBase(n)},_initMarkup(){this.$element().addClass(fQ),this.callBase()},_render(){this.callBase(),this._toggleAccessibilityAttributes()},_toggleAccessibilityAttributes(){var e=this._getEditor();if(e){var t=this.option("validationRules")||[],i=t.some(r=>{var{type:n}=r;return n==="required"})||null;e.isInitialized()&&e.setAria("required",i),e.option("_onMarkupRendered",()=>{e.setAria("required",i)})}},_visibilityChanged(e){e&&this._initGroupRegistration()},_optionChanged(e){switch(e.name){case"validationGroup":this._initGroupRegistration();return;case"validationRules":this._resetValidationRules(),this._toggleAccessibilityAttributes(),this.option("isValid")!==void 0&&this.validate();return;case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(Gt.synchronizeValidationOptions(e,this.option()));break;default:this.callBase(e)}},_getValidationRules(){return this._validationRules||(this._validationRules=Ti(this.option("validationRules"),(e,t)=>ce({},e,{validator:this,index:t}))),this._validationRules},_findGroup(){var e=this.$element();return this.option("validationGroup")||Gt.findGroup(e,this._modelByElement(e))},_resetValidationRules(){delete this._validationRules},validate(e){var t=this.option("adapter"),i=this.option("name"),r=t.bypass&&t.bypass(),n=e&&e.value!==void 0?e.value:t.getValue(),a=t.getCurrentValidationError&&t.getCurrentValidationError(),s=this._getValidationRules(),o=this._validationInfo&&this._validationInfo.result;if(o&&o.status===bg&&o.value===n)return ce({},o);var l;return r?l={isValid:!0,status:xS}:a&&a.editorSpecific?(a.validator=this,l={isValid:!1,status:pQ,brokenRule:a,brokenRules:[a]}):l=Gt.validate(n,s,i),l.id=new Bi().toString(),this._applyValidationResult(l,t),l.complete&&l.complete.then(u=>{u.id===this._validationInfo.result.id&&this._applyValidationResult(u,t)}),ce({},this._validationInfo.result)},reset(){var e=this.option("adapter"),t={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:xS,complete:null};this._validationInfo.skipValidation=!0,e.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(t,e)},_updateValidationResult(e){if(!this._validationInfo.result||this._validationInfo.result.id!==e.id){var t=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=ce({},e,{complete:t})}else for(var i in e)i!=="id"&&i!=="complete"&&(this._validationInfo.result[i]=e[i])},_applyValidationResult(e,t){var i=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(e.validator=this,this._updateValidationResult(e),t.applyValidationResults&&t.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),this._validationInfo.result.status===bg){this._validationInfo.deferred||(this._validationInfo.deferred=new we,this._validationInfo.result.complete=this._validationInfo.deferred.promise()),this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);return}this._validationInfo.result.status!==bg&&(i(e),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(e),this._validationInfo.deferred=null))},focus(){var e=this.option("adapter");e&&e.focus&&e.focus()},_useTemplates:function(){return!1}});Tt("dxValidator",tp);var mQ=["dxTagBox","dxRangeSlider"],gQ=["dxCalendar","dxCheckBox","dxHtmlEditor","dxRadioGroup","dxRangeSlider","dxSlider","dxSwitch"];function vQ(e){var{$parent:t,rootElementCssClassList:i,formOrLayoutManager:r,createComponentCallback:n,useFlexLayout:a,item:s,template:o,name:l,formLabelLocation:u,requiredMessageTemplate:d,validationGroup:c,editorValue:h,canAssignUndefinedValueToEditor:f,editorValidationBoundary:p,editorStylingMode:g,showColonAfterLabel:m,managerLabelLocation:v,itemId:b,managerMarkOptions:E,labelMode:I}=e,R=oe(s.isRequired)?s.isRequired:!!yQ(s.validationRules),N=s.itemType===a_,j=s.helpText?"dx-"+new Bi:null,V=CQ({item:s,id:b,isRequired:R,managerMarkOptions:E,showColonAfterLabel:m,labelLocation:v,formLabelMode:I}),H=V.visible&&V.text,{location:W,labelID:G}=V,P=W!=="top"&&(!!s.helpText&&!a||["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"].includes(s.editorType)),A=bQ({editorType:s.editorType,editorValue:h,defaultEditorName:s.dataField,canAssignUndefinedValueToEditor:f,externalEditorOptions:s.editorOptions,editorInputId:b,editorValidationBoundary:p,editorStylingMode:g,formLabelMode:I,labelText:V.textWithoutColon,labelMark:V.markOptions.showRequiredMark?String.fromCharCode(160)+V.markOptions.requiredMark:""}),T=V.markOptions.showOptionalMark&&!V.visible&&A.labelMode!=="hidden"&&!oe(s.helpText),x=T?V.markOptions.optionalMark:s.helpText;return{$parent:t,rootElementCssClassList:i,formOrLayoutManager:r,createComponentCallback:n,useFlexLayout:a,labelOptions:V,labelNeedBaselineAlign:P,labelLocation:W,needRenderLabel:H,item:s,isSimpleItem:N,isRequired:R,template:o,helpID:j,labelID:G,name:l,helpText:x,formLabelLocation:u,requiredMessageTemplate:d,validationGroup:c,editorOptions:A}}function _Q(e){var{showRequiredMark:t,requiredMark:i,showOptionalMark:r,optionalMark:n}=e;return!t&&!r?"":String.fromCharCode(160)+(t?i:n)}function hk(e,t){var{showRequiredMark:i,requiredMark:r,showOptionalMark:n,optionalMark:a}=e;return{showRequiredMark:i&&t,requiredMark:r,showOptionalMark:n&&!t,optionalMark:a}}function bQ(e){var{editorType:t,defaultEditorName:i,editorValue:r,canAssignUndefinedValueToEditor:n,externalEditorOptions:a,editorInputId:s,editorValidationBoundary:o,editorStylingMode:l,formLabelMode:u,labelText:d,labelMark:c}=e,h={};(r!==void 0||n)&&(h.value=r),mQ.indexOf(t)!==-1&&(h.value=h.value||[]);var f=a==null?void 0:a.labelMode;oe(f)||(f=u==="outside"?"hidden":u);var p=(a==null?void 0:a.stylingMode)||l,g=ce(!0,h,a,{inputAttr:{id:s},validationBoundary:o,stylingMode:p,label:d,labelMode:f,labelMark:c});return a&&(g.dataSource&&(g.dataSource=a.dataSource),g.items&&(g.items=a.items)),i&&!g.name&&(g.name=i),g}function yQ(e){var t;return e&&e.length&&ve(e,function(i,r){if(r.type==="required")return t=!0,!1}),t}function CQ(e){var{item:t,id:i,isRequired:r,managerMarkOptions:n,showColonAfterLabel:a,labelLocation:s,formLabelMode:o}=e,l=gQ.includes(t.editorType),u=ce({showColon:a,location:s,id:i,visible:o==="outside"||l&&o!=="hidden",isRequired:r},t?t.label:{},{markOptions:hk(n,r)});return["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor"].includes(t.editorType)&&(u.labelID="dx-label-".concat(new Bi)),!u.text&&t.dataField&&(u.text=zs(t.dataField)),u.text&&(u.textWithoutColon=u.text,u.text+=u.showColon?":":""),u}var xQ=["$FIELD_ITEM_LABEL_CONTENT_CLASS"],wQ="dx-layout-manager-hidden-label",SQ="dx-field-item-required-mark",ck="dx-field-item-label-location-",EQ="dx-field-item-optional-mark",fk="dx-field-item-label-text";function pk(e){var{text:t,id:i,location:r,alignment:n,labelID:a=null,markOptions:s={}}=e;return!oe(t)||t.length<=0?null:J("<label>").addClass(uk+" "+ck+r).attr("for",i).attr("id",a).css("textAlign",n).append(J("<span>").addClass(lk).append(J("<span>").addClass(fk).text(t),TQ(s)))}function TQ(e){var t=_Q(e);return t===""?null:J("<span>").addClass(e.showRequiredMark?SQ:EQ).text(t)}function IQ(e,t,i){var r="".concat(t," > .").concat(uk,":not(.").concat(ck,"top) > .").concat(lk),n=e.find(r),a=n.length,s,o,l=0;for(o=0;o<a;o++)s=AQ({$FIELD_ITEM_LABEL_CONTENT_CLASS:n[o],location:"left",markOptions:i}),s>l&&(l=s);for(o=0;o<a;o++)n[o].style.width=l+"px"}function AQ(e){var{$FIELD_ITEM_LABEL_CONTENT_CLASS:t}=e,i=ui(e,xQ),r=J("<div>").addClass(tQ).addClass(wQ).appendTo("body");i.text=" ";var n=pk(i).appendTo(r),a=n.find("."+fk)[0];a.innerHTML=OQ(t);var s=a.offsetWidth;return r.remove(),s}function OQ(e){var t=e.children.length,i,r="",n;for(n=0;n<t;n++)i=e.children[n],r+=bu(i.innerText)?i.innerHTML:i.innerText;return r}var DQ="dx-flex-layout",kQ="dx-field-item-optional",RQ="dx-field-item-required",mk="dx-field-item-content-wrapper",MQ="dx-field-item-content-location-",BQ="dx-field-item-label-align",PQ="dx-field-item-help-text",LQ="dx-label-v-align",FQ="dx-label-h-align",NQ="dx-template-wrapper",s_="dx-validation-target",VQ="dx-invalid";function HQ(e){var{$parent:t,rootElementCssClassList:i,formOrLayoutManager:r,createComponentCallback:n,useFlexLayout:a,labelOptions:s,labelNeedBaselineAlign:o,labelLocation:l,needRenderLabel:u,formLabelLocation:d,item:c,editorOptions:h,isSimpleItem:f,isRequired:p,template:g,helpID:m,labelID:v,name:b,helpText:E,requiredMessageTemplate:I,validationGroup:R}=e,N=J("<div>").addClass(i.join(" ")).appendTo(t);N.addClass(p?RQ:kQ),f&&a&&N.addClass(DQ),f&&o&&N.addClass(BQ);var j=J("<div>");j.data("dx-form-item",c),j.addClass(n_).addClass(MQ+{right:"left",left:"right",top:"bottom"}[d]);var V=u?pk(s):null;V?(N.append(V),(l==="top"||l==="left")&&N.append(j),l==="right"&&N.prepend(j),l==="top"?N.addClass(LQ):N.addClass(FQ),(c.editorType==="dxCheckBox"||c.editorType==="dxSwitch")&&he.on(V,zt,function(){he.trigger(j.children(),zt)})):N.append(j);var H;if(g)g.render({container:ot(j),model:{dataField:c.dataField,editorType:c.editorType,editorOptions:h,component:r,name:c.name},onRendered(){var w=wS(j),k=$Q(w);SS(k)}});else{var W=J("<div>").appendTo(j);try{H=n(W,c.editorType,h),H.setAria("describedby",m),v&&H.setAria("labelledby",v),H.setAria("required",p)}catch(w){xt.log("E1035",w.message)}}var G=wS(j),P=G&&G.data(s_);if(P){var A=c.label&&c.label.text,T=A?null:b,x=A?c.label.text:T&&zs(T),C;if(f)if(c.validationRules)C=c.validationRules;else{var y=fn(I,x||"");C=c.isRequired?[{type:"required",message:y}]:null}Array.isArray(C)&&C.length&&n(G,tp,{validationRules:C,validationGroup:R,dataGetter:function(){return{formItem:c}}}),SS(P)}if(E&&f){var S=j.parent();S.append(J("<div>").addClass(mk).append(j).append(J("<div>").addClass(PQ).attr("id",m).text(E)))}return{$fieldEditorContainer:j,$rootElement:N,widgetInstance:H}}function wS(e){var t=e.children().first();return t.hasClass(NQ)?t.children().first():t}function $Q(e){var t,i;return(e==null?void 0:e.data(s_))||(e==null||(t=e.parent)===null||t===void 0||(i=t.call(e))===null||i===void 0?void 0:i.data(s_))}function SS(e){if(e&&Ei()){var t=".".concat(mk),i=r=>{var{element:n,component:a}=r,{isValid:s,validationMessageMode:o}=a.option();J(n).parents(t).toggleClass(VQ,s===!1&&(a._isFocused()||o==="always"))};e.on("optionChanged",r=>{r.name==="isValid"&&i(r)}),e.on("focusIn",i).on("focusOut",i).on("enterKey",i)}}var zQ="dx-field-button-item";function WQ(e){var{item:t,$parent:i,rootElementCssClassList:r,validationGroup:n,createComponentCallback:a}=e,s=J("<div>").appendTo(i).addClass(r.join(" ")).addClass(zQ).css("textAlign",jQ(t.horizontalAlignment));i.css("justifyContent",UQ(t.verticalAlignment));var o=J("<div>").appendTo(s);return{$rootElement:s,buttonInstance:a(o,"dxButton",ce({validationGroup:n},t.buttonOptions))}}function jQ(e){return oe(e)?e:"right"}function UQ(e){switch(e){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}}var GQ="dx-field-empty-item";function ES(e){var{$parent:t,rootElementCssClassList:i}=e;return J("<div>").addClass(GQ).html("&nbsp;").addClass(i.join(" ")).appendTo(t)}var KQ="dxTextBox",qQ="dx-first-row",XQ="dx-last-row",YQ="dx-first-col",ZQ="dx-last-col",yg="flex",JQ="fallback",QQ=Hi.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,colCountByScreen:void 0,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",labelMode:"outside",optionalMark:Ae.format("dxForm-optionalMark"),requiredMessage:Ae.getFormatter("dxForm-requiredMessage")})},_setOptionsByReference:function(){this.callBase(),ce(this._optionsByReference,{layoutData:!0,validationGroup:!0})},_init:function(){var e=this.option("layoutData");this.callBase(),this._itemWatchers=[],this._itemsRunTimeInfo=new QD,this._updateReferencedOptions(e),this._initDataAndItems(e)},_dispose:function(){this.callBase(),this._cleanItemWatchers()},_initDataAndItems:function(e){this._syncDataWithItems(),this._updateItems(e)},_syncDataWithItems:function(){var e=this.option("layoutData"),t=this.option("items");oe(t)&&t.forEach(i=>{if(i.dataField&&this._getDataByField(i.dataField)===void 0){var r;i.editorOptions&&(r=i.editorOptions.value),(oe(r)||i.dataField in e)&&this._updateFieldValue(i.dataField,r)}})},_getDataByField:function(e){return e?this.option("layoutData."+e):null},_isCheckboxUndefinedStateEnabled:function(e){var{allowIndeterminateState:t,editorType:i,dataField:r}=e;if(t===!0&&i==="dxCheckBox"){var n=["layoutData",...r.split(".")],a=n.pop(),s=this.option(n.join("."));return s&&a in s}return!1},_updateFieldValue:function(e,t){var i=this.option("layoutData"),r=t;!cr.isWrapped(i[e])&&oe(e)?this.option("layoutData."+e,r):cr.isWritableWrapped(i[e])&&(r=We(r)?r():r,i[e](r)),this._triggerOnFieldDataChanged({dataField:e,value:r})},_triggerOnFieldDataChanged:function(e){this._createActionByOption("onFieldDataChanged")(e)},_updateItems:function(e){var t=this,i=this.option("items"),r=oe(i),n=t.option("customizeItem"),a=r?i:this._generateItemsByData(e);if(oe(a)){var s=[];ve(a,function(o,l){t._isAcceptableItem(l)&&(l=t._processItem(l),n&&n(l),at(l)&&cr.unwrap(l.visible)!==!1&&s.push(l))}),(!t._itemWatchers.length||!r)&&t._updateItemWatchers(a),this._setItems(s),this._sortItems()}},_cleanItemWatchers:function(){this._itemWatchers.forEach(function(e){e()}),this._itemWatchers=[]},_updateItemWatchers:function(e){var t=this,i=t._getWatch();e.forEach(function(r){at(r)&&oe(r.visible)&&We(i)&&t._itemWatchers.push(i(function(){return cr.unwrap(r.visible)},function(){t._updateItems(t.option("layoutData")),t.repaint()},{skipImmediate:!0}))})},_generateItemsByData:function(e){var t=[];return oe(e)&&ve(e,function(i){t.push({dataField:i})}),t},_isAcceptableItem:function(e){var t=e.dataField||e,i=this._getDataByField(t);return!(We(i)&&!cr.isWrapped(i))},_processItem:function(e){if(typeof e=="string"&&(e={dataField:e}),typeof e=="object"&&!e.itemType&&(e.itemType=a_),!oe(e.editorType)&&oe(e.dataField)){var t=this._getDataByField(e.dataField);e.editorType=oe(t)?this._getEditorTypeByDataType(Xr(t)):KQ}if(e.editorType==="dxCheckBox"){var i;e.allowIndeterminateState=(i=e.allowIndeterminateState)!==null&&i!==void 0?i:!0}return e},_getEditorTypeByDataType:function(e){switch(e){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems:function(){nu(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes:function(){this._items.sort(function(e,t){var i=e.visibleIndex,r=t.visibleIndex,n;return i>r?n=1:i<r?n=-1:n=0,n})},_initMarkup:function(){this._itemsRunTimeInfo.clear(),this.$element().addClass(nQ),this.callBase(),this._renderResponsiveBox()},_hasBrowserFlex:function(){return rs(yg)===yg},_renderResponsiveBox:function(){var e=[];if(this._items&&this._items.length){var t=this._getColCount(),i=J("<div>").appendTo(this.$element());this._prepareItemsWithMerging(t);var r=this._generateLayoutItems();this._responsiveBox=this._createComponent(i,sk,this._getResponsiveBoxConfig(r,t,e)),ht()||this._renderTemplates(e)}},_itemStateChangedHandler:function(e){this._refresh()},_renderTemplates:function(e){var t=this;ve(e,function(i,r){switch(r.itemType){case"empty":ES(r);break;case"button":t._renderButtonItem(r);break;default:t._renderFieldItem(r)}})},_getResponsiveBoxConfig:function(e,t,i){var r=this,n=r.option("colCountByScreen"),a=n&&n.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),_layoutStrategy:r._hasBrowserFlex()?yg:JQ,onLayoutChanged:function(){var s=r.option("onLayoutChanged"),o=r.isSingleColumnMode();s&&(r.$element().toggleClass(_S,o),s(o))},onContentReady:function(s){ht()&&r._renderTemplates(i),r.option("onLayoutChanged")&&r.$element().toggleClass(_S,r.isSingleColumnMode(s.component))},itemTemplate:function(s,o,l){if(s.location){var u=J(l),d=s.location.row*t,c=r._items[s.location.col+d];if(c){var h=[c.cssClass];u.toggleClass(aQ,r.isSingleColumnMode(this)),s.location.row===0&&h.push(qQ),s.location.col===0&&h.push(YQ),c.itemType===a_&&r.option("isRoot")&&u.addClass(dk);var f=s.location.col===t-1||s.location.col+s.location.colspan===t,p=r._getRowsCount(),g=s.location.row===p-1;f&&h.push(ZQ),g&&h.push(XQ),c.itemType!=="empty"&&(h.push(ok),h.push(r.option("cssItemClass")),oe(c.col)&&h.push("dx-col-"+c.col)),i.push({itemType:c.itemType,item:c,$parent:u,rootElementCssClassList:h})}}},cols:r._generateRatio(t),rows:r._generateRatio(r._getRowsCount(),!0),dataSource:e,screenByWidth:r.option("screenByWidth"),singleColumnScreen:a?!1:"xs"}},_getColCount:function(){var e=this.option("colCount"),t=this.option("colCountByScreen");if(t){var i=this.option("form").getTargetScreenFactor();i||(i=ht()?nI(this.option("screenByWidth")):"lg"),e=t[i]||e}if(e==="auto"){if(this._cashedColCount)return this._cashedColCount;this._cashedColCount=e=this._getMaxColCount()}return e<1?1:e},_getMaxColCount:function(){if(!ht())return 1;var e=this.option("minColWidth"),t=ut(this.$element()),i=this._items.length,r=Math.floor(t/e)||1;return i<r?i:r},isCachedColCountObsolete:function(){return this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount},_prepareItemsWithMerging:function(e){var t=this._items.slice(0),i,r,n=[],a,s;for(s=0;s<t.length;s++)if(i=t[s],n.push(i),(this.option("alignItemLabels")||i.alignItemLabels||i.colSpan)&&(i.col=this._getColByIndex(n.length-1,e)),i.colSpan>1&&i.col+i.colSpan<=e){for(r=[],a=0;a<i.colSpan-1;a++)r.push({merged:!0});n=n.concat(r)}else delete i.colSpan;this._setItems(n)},_getColByIndex:function(e,t){return e%t},_setItems:function(e){this._items=e,this._cashedColCount=null},_generateLayoutItems:function(){var e=this._items,t=this._getColCount(),i=[],r,n;for(n=0;n<e.length;n++)if(r=e[n],!r.merged){var a={location:{row:parseInt(n/t),col:this._getColByIndex(n,t)}};oe(r.disabled)&&(a.disabled=r.disabled),oe(r.visible)&&(a.visible=r.visible),oe(r.colSpan)&&(a.location.colspan=r.colSpan),oe(r.rowSpan)&&(a.location.rowspan=r.rowSpan),i.push(a)}return i},_renderEmptyItem:function(e){ES({$container:e})},_renderButtonItem:function(e){var{item:t,$parent:i,rootElementCssClassList:r}=e,{$rootElement:n,buttonInstance:a}=WQ({item:t,$parent:i,rootElementCssClassList:r,validationGroup:this.option("validationGroup"),createComponentCallback:this._createComponent.bind(this)});this._itemsRunTimeInfo.add({item:t,widgetInstance:a,guid:t.guid,$itemContainer:n})},_renderFieldItem:function(e){var t,{item:i,$parent:r,rootElementCssClassList:n}=e,a=this._getDataByField(i.dataField),s=!1;if(a===void 0){var{allowIndeterminateState:o,editorType:l,dataField:u}=i;s=this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:o,editorType:l,dataField:u})}var d=i.dataField||i.name,{$fieldEditorContainer:c,widgetInstance:h,$rootElement:f}=HQ(vQ({$parent:r,rootElementCssClassList:n,item:i,name:d,editorValue:a,canAssignUndefinedValueToEditor:s,formOrLayoutManager:this._getFormOrThis(),createComponentCallback:this._createComponent.bind(this),useFlexLayout:this._hasBrowserFlex(),formLabelLocation:this.option("labelLocation"),requiredMessageTemplate:this.option("requiredMessage"),validationGroup:this.option("validationGroup"),editorValidationBoundary:this.option("validationBoundary"),editorStylingMode:this.option("form")&&this.option("form").option("stylingMode"),showColonAfterLabel:this.option("showColonAfterLabel"),managerLabelLocation:this.option("labelLocation"),template:i.template?this._getTemplate(i.template):null,itemId:this.option("form")&&this.option("form").getItemID(d),managerMarkOptions:this._getMarkOptions(),labelMode:this.option("labelMode")}));(t=this.option("onFieldItemRendered"))===null||t===void 0||t(),h&&i.dataField&&this._bindDataField(h,i.dataField,i.editorType,c),this._itemsRunTimeInfo.add({item:i,widgetInstance:h,guid:i.guid,$itemContainer:f})},_getMarkOptions:function(){return{showRequiredMark:this.option("showRequiredMark"),requiredMark:this.option("requiredMark"),showOptionalMark:this.option("showOptionalMark"),optionalMark:this.option("optionalMark")}},_getFormOrThis:function(){return this.option("form")||this},_bindDataField:function(e,t,i,r){var n=this._getFormOrThis();e.on("enterKey",function(a){n._createActionByOption("onEditorEnterKey")(ce(a,{dataField:t}))}),this._createWatcher(e,r,t),this.linkEditorToDataField(e,t,i)},_createWatcher:function(e,t,i){var r=this,n=r._getWatch();if(We(n)){var a=n(function(){return r._getDataByField(i)},function(){var s=r._getDataByField(i);if(e.NAME==="dxTagBox"){var o=e.option("value");if(s!==o&&function(l,u){if(!Array.isArray(l)||!Array.isArray(u)||l.length!==u.length)return!1;for(var d=0;d<l.length;d++)if(l[d]!==u[d])return!1;return!0}(s,o))return}e.option("value",s)},{deep:!0,skipImmediate:!0});he.on(t,Ln,a)}},_getWatch:function(){if(!oe(this._watch)){var e=this.option("form");this._watch=e&&e.option("integrationOptions.watchMethod")}return this._watch},_createComponent:function(e,t,i){var r=this.option("readOnly"),n=this.callBase(e,t,i);return r&&n.option("readOnly",r),this.on("optionChanged",function(a){a.name==="readOnly"&&!oe(i.readOnly)&&n.option(a.name,a.value)}),n},_generateRatio:function(e,t){var i=[],r,n;for(n=0;n<e;n++)r={ratio:1},t&&(r.baseSize="auto"),i.push(r);return i},_getRowsCount:function(){return Math.ceil(this._items.length/this._getColCount())},_updateReferencedOptions:function(e){var t=this.option("layoutData");at(t)&&Object.getOwnPropertyNames(t).forEach(i=>delete this._optionsByReference["layoutData."+i]),at(e)&&Object.getOwnPropertyNames(e).forEach(i=>this._optionsByReference["layoutData."+i]=!0)},_resetWidget(e){this._disableEditorValueChangedHandler=!0,e.reset(),this._disableEditorValueChangedHandler=!1,e.option("isValid",!0)},_optionChanged(e){if(e.fullName.search("layoutData.")!==0)switch(e.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":this._updateReferencedOptions(e.value),this.option("items")?Yr(e.value)||this._itemsRunTimeInfo.each((t,i)=>{if(oe(i.item)){var r=i.item.dataField;if(r&&oe(i.widgetInstance)){var n=Yt(r),a=n(e.value),{allowIndeterminateState:s,editorType:o}=i.item;a!==void 0||this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:s,editorType:o,dataField:r})?i.widgetInstance.option("value",a):this._resetWidget(i.widgetInstance)}}}):(this._initDataAndItems(e.value),this._invalidate());break;case"items":this._cleanItemWatchers(),this._initDataAndItems(e.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":case"labelMode":case"requiredMessage":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":this._resetColCount();break;case"minColWidth":this.option("colCount")==="auto"&&this._resetColCount();break;case"readOnly":break;case"width":this.callBase(e),this.option("colCount")==="auto"&&this._resetColCount();break;case"onFieldDataChanged":break;default:this.callBase(e)}},_resetColCount:function(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField(e,t){this.on("optionChanged",i=>{i.fullName==="layoutData.".concat(t)&&e._setOptionWithoutOptionChange("value",i.value)}),e.on("valueChanged",i=>{var r=at(i.value)||Array.isArray(i.value);!this._disableEditorValueChangedHandler&&!(r&&i.value===i.previousValue)&&this._updateFieldValue(t,i.value)})},_dimensionChanged:function(){this.option("colCount")==="auto"&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")},updateData:function(e,t){var i=this;at(e)?ve(e,function(r,n){i._updateFieldValue(r,n)}):typeof e=="string"&&i._updateFieldValue(e,t)},getEditor:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)||this._itemsRunTimeInfo.findWidgetInstanceByName(e)},isSingleColumnMode:function(e){var t=this._responsiveBox||e;if(t)return t.option("currentScreenFactor")===t.option("singleColumnScreen")},getItemsRunTimeInfo:function(){return this._itemsRunTimeInfo}});Tt("dxLayoutManager",QQ);var yb="dx-validationsummary",eee=yb+"-item",tee=yb+"-item-data",gk=co.inherit({_getDefaultOptions(){return ce(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference(){this.callBase(),ce(this._optionsByReference,{validationGroup:!0})},_init(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration(){var e=this.$element(),t=this.option("validationGroup")||Gt.findGroup(e,this._modelByElement(e)),i=Gt.addGroup(t);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=t,this.groupSubscription=this._groupValidationHandler.bind(this),i.on("validated",this.groupSubscription)},_unsubscribeGroup(){var e=Gt.getGroupConfig(this._validationGroup);e&&e.off("validated",this.groupSubscription)},_getOrderedItems(e,t){var i=[];return ve(e,function(r,n){var a=gr(t,function(s){if(s.validator===n)return!0});a.length&&(i=i.concat(a))}),i},_groupValidationHandler(e){var t=this._getOrderedItems(e.validators,Ti(e.brokenRules,function(i){return{text:i.message,validator:i.validator,index:i.index}}));this.validators=e.validators,ve(this.validators,(i,r)=>{if(r._validationSummary!==this){var n=this._itemValidationHandler.bind(this);r.on("validated",n),r.on("disposing",function(){r.off("validated",n),r._validationSummary=null,n=null}),r._validationSummary=this}}),this.option("items",t)},_itemValidationHandler(e){for(var{isValid:t,validator:i,brokenRules:r}=e,n=this.option("items"),a=!1,s=0,o=function(){var u=n[s];if(u.validator===i){var d=gr(r||[],function(c){return c.index===u.index})[0];if(t||!d)return n.splice(s,1),a=!0,"continue";d.message!==u.text&&(u.text=d.message,a=!0)}s++};s<n.length;)var l=o();ve(r,function(u,d){var c=gr(n,function(h){return h.validator===i&&h.index===d.index})[0];c||(n.push({text:d.message,validator:i,index:d.index}),a=!0)}),a&&(n=this._getOrderedItems(this.validators,n),this.option("items",n))},_initMarkup(){this.$element().addClass(yb),this.callBase()},_optionChanged(e){switch(e.name){case"validationGroup":this._initGroupRegistration();break;default:this.callBase(e)}},_itemClass:()=>eee,_itemDataKey:()=>tee,_postprocessRenderItem(e){he.on(e.itemElement,"click",function(){e.itemData.validator&&e.itemData.validator.focus&&e.itemData.validator.focus()})},_dispose(){this.callBase(),this._unsubscribeGroup()},refreshValidationGroup(){this._initGroupRegistration()}});Tt("dxValidationSummary",gk);var TS="dx-validationgroup",iee="dx-validator",ree="dx-validationsummary";class nee extends Nn{_getDefaultOptions(){return super._getDefaultOptions()}_init(){super._init(),Gt.addGroup(this)}_initMarkup(){var t=this.$element();t.addClass(TS),t.find(".".concat(iee)).each(function(i,r){tp.getInstance(J(r))._initGroupRegistration()}),t.find(".".concat(ree)).each(function(i,r){gk.getInstance(J(r)).refreshValidationGroup()}),super._initMarkup()}validate(){return Gt.validateGroup(this)}reset(){return Gt.resetGroup(this)}_dispose(){Gt.removeGroup(this),this.$element().removeClass(TS),super._dispose()}_useTemplates(){return!1}}Tt("dxValidationGroup",nee);var IS="dx-state-focused",aee=["items","isRequired","validationRules","visible"],Cb=Hi.inherit({_init:function(){this.callBase(),this._cachedColCountOptions=[],this._itemsRunTimeInfo=new QD,this._groupsColCount=[],this._attachSyncSubscriptions()},_getDefaultOptions:function(){return ce(this.callBase(),{formID:"dx-"+new Bi,formData:{},colCount:1,screenByWidth:j_,colCountByScreen:void 0,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,alignRootItemLabels:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:Ae.format("dxForm-optionalMark"),requiredMessage:Ae.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,items:void 0,scrollingEnabled:!1,validationGroup:void 0,stylingMode:ii().editorStylingMode,labelMode:"outside"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ei()},options:{showColonAfterLabel:!1,labelLocation:"top"}}])},_setOptionsByReference:function(){this.callBase(),ce(this._optionsByReference,{formData:!0,validationGroup:!0})},_getGroupColCount:function(e){return parseInt(e.attr(CS))},_applyLabelsWidthByCol:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,n=i.inOneColumn?ok:vS+t,a=i.excludeTabbed?":not(.".concat(bS,")"):"";IQ(e,".".concat(n).concat(a),r)},_applyLabelsWidth:function(e,t,i,r,n){r=i?1:r||this._getGroupColCount(e);var a={excludeTabbed:t,inOneColumn:i},s;for(s=0;s<r;s++)this._applyLabelsWidthByCol(e,s,a,n)},_getGroupElementsInColumn:function(e,t,i){var r=oe(i)?"."+yS+i:"",n="."+vS+t+" > ."+n_+" > ."+_g+r;return e.find(n)},_applyLabelsWidthWithGroups:function(e,t,i,r){if(this.option("alignRootItemLabels")===!0)for(var n=e.find(".".concat(dk)),a=0;a<t;a++)this._applyLabelsWidthByCol(n,a,i,r);var s=this.option("alignItemLabelsInAllGroups");if(s)this._applyLabelsWidthWithNestedGroups(e,t,i,r);else{var o=this.$element().find("."+_g),l;for(l=0;l<o.length;l++)this._applyLabelsWidth(o.eq(l),i,void 0,void 0,r)}},_applyLabelsWidthWithNestedGroups:function(e,t,i,r){var n={excludeTabbed:i},a,s,o,l;for(a=0;a<t;a++)for(l=this._getGroupElementsInColumn(e,a),this._applyLabelsWidthByCol(l,0,n,r),s=0;s<this._groupsColCount.length;s++){l=this._getGroupElementsInColumn(e,a,this._groupsColCount[s]);var u=this._getGroupColCount(l);for(o=1;o<u;o++)this._applyLabelsWidthByCol(l,o,n,r)}},_labelLocation:function(){return this.option("labelLocation")},_alignLabelsInColumn:function(e){var{layoutManager:t,inOneColumn:i,$container:r,excludeTabbed:n,items:a}=e;if(!(!ht()||this._labelLocation()==="top")){var s=hk(t._getMarkOptions());i?this._applyLabelsWidth(r,n,!0,void 0,s):this._checkGrouping(a)?this._applyLabelsWidthWithGroups(r,t._getColCount(),n,s):this._applyLabelsWidth(r,n,!1,t._getColCount(),s)}},_prepareFormData:function(){oe(this.option("formData"))||this.option("formData",{})},_setStylingModeClass:function(){this.option("stylingMode")==="underlined"&&this.$element().addClass(hQ)},_initMarkup:function(){Gt.addGroup(this._getValidationGroup()),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass(iQ),this._setStylingModeClass(),this.callBase(),this.setAria("role","form",this.$element()),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor()},_getCurrentScreenFactor:function(){return ht()?nI(this.option("screenByWidth")):"lg"},_clearCachedInstances:function(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]},_alignLabels:function(e,t){this._alignLabelsInColumn({$container:this.$element(),layoutManager:e,excludeTabbed:!0,items:this.option("items"),inOneColumn:t}),An(this.$element().find(".".concat(iD)))},_clean:function(){this._clearValidationSummary(),this.callBase(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0},_renderScrollable:function(){var e=this.option("useNativeScrolling");this._scrollable=new Mr(this.$element(),{useNative:!!e,useSimulatedScrollbar:!e,useKeyboard:!1,direction:"both",bounceEnabled:!1})},_getContent:function(){return this.option("scrollingEnabled")?J(this._scrollable.content()):this.$element()},_clearValidationSummary:function(){var e;(e=this._$validationSummary)===null||e===void 0||e.remove(),this._$validationSummary=void 0,this._validationSummary=void 0},_renderValidationSummary:function(){this._clearValidationSummary(),this.option("showValidationSummary")&&(this._$validationSummary=J("<div>").addClass(dQ).appendTo(this._getContent()),this._validationSummary=this._$validationSummary.dxValidationSummary({validationGroup:this._getValidationGroup()}).dxValidationSummary("instance"))},_prepareItems(e,t,i,r){if(e){for(var n=[],a=0;a<e.length;a++){var s=e[a],o=ik(i,i_(a,r)),l={item:s,itemIndex:a,path:o},u=this._itemsRunTimeInfo.add(l);if(nt(s)&&(s={dataField:s}),at(s)){var d=Ne({},s);l.preparedItem=d,d.guid=u,this._tryPrepareGroupItem(d),this._tryPrepareTabbedItem(d,o),this._tryPrepareItemTemplate(d),t&&(d.cssItemClass=bS),d.items&&(d.items=this._prepareItems(d.items,t,o)),n.push(d)}else n.push(s)}return n}},_tryPrepareGroupItem:function(e){e.itemType==="group"&&(e.alignItemLabels=hi(e.alignItemLabels,!0),e._prepareGroupItemTemplate=t=>{e.template&&(e.groupContentTemplate=this._getTemplate(t)),e.template=this._itemGroupTemplate.bind(this,e)},e._prepareGroupItemTemplate(e.template))},_tryPrepareTabbedItem:function(e,t){e.itemType==="tabbed"&&(e.template=this._itemTabbedTemplate.bind(this,e),e.tabs=this._prepareItems(e.tabs,!0,t,!0))},_tryPrepareItemTemplate:function(e){e.template&&(e.template=this._getTemplate(e.template))},_checkGrouping:function(e){if(e)for(var t=0;t<e.length;t++){var i=e[t];if(i.itemType==="group")return!0}},_renderLayout:function(){var e=this,t=e.option("items"),i=e._getContent();t=e._prepareItems(t),e._rootLayoutManager=e._renderLayoutManager(i,this._createLayoutManagerOptions(t,{isRoot:!0,colCount:e.option("colCount"),alignItemLabels:e.option("alignItemLabels"),screenByWidth:this.option("screenByWidth"),colCountByScreen:this.option("colCountByScreen"),onLayoutChanged:function(r){e._alignLabels.bind(e)(e._rootLayoutManager,r)},onContentReady:function(r){e._alignLabels(r.component,r.component.isSingleColumnMode())}}))},_tryGetItemsForTemplate:function(e){return e.items||[]},_itemTabbedTemplate:function(e,t,i){var r=J("<div>").appendTo(i),n=ce({},e.tabPanelOptions,{dataSource:e.tabs,onItemRendered:o=>Dc(o.itemElement),itemTemplate:(o,l,u)=>{var d=J(u),c=hi(o.alignItemLabels,!0),h=this._renderLayoutManager(d,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(o),{colCount:o.colCount,alignItemLabels:c,screenByWidth:this.option("screenByWidth"),colCountByScreen:o.colCountByScreen,cssItemClass:o.cssItemClass,onLayoutChanged:f=>{this._alignLabelsInColumn({$container:d,layoutManager:h,items:o.items,inOneColumn:f})}}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(o.guid,{layoutManager:h}),c&&this._alignLabelsInColumn({$container:d,layoutManager:h,items:o.items,inOneColumn:h.isSingleColumnMode()})}}),a=(o,l)=>{Array.isArray(o)&&o.forEach(u=>this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(u.guid,{widgetInstance:l}))},s=this._createComponent(r,bb,n);J(i).parent().addClass(lQ),s.on("optionChanged",o=>{o.fullName==="dataSource"&&a(o.value,o.component)}),a([{guid:e.guid},...e.tabs],s)},_itemGroupTemplate:function(e,t,i){var r=J("<div>").toggleClass(uQ,oe(e.caption)&&e.caption.length).addClass(_g).appendTo(i);J(i).parent().addClass(oQ);var n,a;e.caption&&J("<span>").addClass(rQ).text(e.caption).appendTo(r);var s=J("<div>").addClass(sQ).appendTo(r);e.groupContentTemplate?(e._renderGroupContentTemplate=()=>{s.empty();var o={formData:this.option("formData"),component:this};e.groupContentTemplate.render({model:o,container:ot(s)})},e._renderGroupContentTemplate()):(a=this._renderLayoutManager(s,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(e),{colCount:e.colCount,colCountByScreen:e.colCountByScreen,alignItemLabels:e.alignItemLabels,cssItemClass:e.cssItemClass})),this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(e.guid,{layoutManager:a}),n=a._getColCount(),this._groupsColCount.includes(n)||this._groupsColCount.push(n),r.addClass(yS+n),r.attr(CS,n))},_createLayoutManagerOptions:function(e,t){return jJ({form:this,formOptions:this.option(),$formElement:this.$element(),items:e,validationGroup:this._getValidationGroup(),extendedLayoutManagerOptions:t,onFieldDataChanged:i=>{this._isDataUpdating||this._triggerOnFieldDataChanged(i)},onContentReady:i=>{this._itemsRunTimeInfo.addItemsOrExtendFrom(i.component._itemsRunTimeInfo),t.onContentReady&&t.onContentReady(i)},onDisposing:i=>{var{component:r}=i,n=r.getItemsRunTimeInfo();this._itemsRunTimeInfo.removeItemsByItems(n)},onFieldItemRendered:()=>{var i;(i=this._validationSummary)===null||i===void 0||i.refreshValidationGroup()}})},_renderLayoutManager:function(e,t){var i={lg:t.colCount,md:t.colCount,sm:t.colCount,xs:1};this._cachedColCountOptions.push({colCountByScreen:ce(i,t.colCountByScreen)});var r=J("<div>");r.appendTo(e);var n=this._createComponent(r,"dxLayoutManager",t);return n.on("autoColCountChanged",()=>{this._clearAutoColCountChangedTimeout(),this.autoColCountChangedTimeoutId=setTimeout(()=>!this._disposed&&this._refresh(),0)}),this._cachedLayoutManagers.push(n),n},_getValidationGroup:function(){return this.option("validationGroup")||this},_createComponent:function(e,t,i){return i=i||{},this._extendConfig(i,{readOnly:this.option("readOnly")}),this.callBase(e,t,i)},_attachSyncSubscriptions:function(){var e=this;e.on("optionChanged",function(t){var i=t.fullName;i==="formData"&&(oe(t.value)||e._options.silent("formData",t.value={}),e._triggerOnFieldDataChangedByDataSet(t.value)),e._cachedLayoutManagers.length&&ve(e._cachedLayoutManagers,function(r,n){i==="formData"&&(e._isDataUpdating=!0,n.option("layoutData",t.value),e._isDataUpdating=!1),(t.name==="readOnly"||t.name==="disabled")&&n.option(i,t.value)})})},_optionChanged:function(e){var t=e.fullName.split(".");t.length>1&&t[0].search("items")!==-1&&this._itemsOptionChangedHandler(e)||t.length>1&&t[0].search("formData")!==-1&&this._formDataOptionChangedHandler(e)||this._defaultOptionChangedHandler(e)},_defaultOptionChangedHandler:function(e){switch(e.name){case"formData":this.option("items")?Yr(e.value)&&this._resetValues():this._invalidate();break;case"onFieldDataChanged":break;case"items":case"colCount":case"onEditorEnterKey":case"labelLocation":case"labelMode":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":this.option("colCount")==="auto"&&this._invalidate();break;case"alignRootItemLabels":case"readOnly":break;case"width":this.callBase(e),this._rootLayoutManager.option(e.name,e.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"visible":this.callBase(e),e.value&&Dc(this.$element());break;case"validationGroup":Gt.removeGroup(e.previousValue||this),this._invalidate();break;default:this.callBase(e)}},_itemsOptionChangedHandler:function(e){var t=e.fullName.split("."),i=e.value,r=this._getItemPath(t),n=this.option(r),a=e.fullName.replace(r+".",""),s=a.split(".")[0].replace(/\[\d+]/,""),o=this._tryCreateItemOptionAction(s,n,n[s],e.previousValue,r),l=this._tryExecuteItemOptionAction(o)||this._tryChangeLayoutManagerItemOption(e.fullName,i);if(!l&&n){this._changeItemOption(n,a,i);var u=this._generateItemsFromData(this.option("items"));this.option("items",u),l=!0}return l},_formDataOptionChangedHandler:function(e){var t=e.fullName.split("."),i=e.value,r=t.slice(1).join("."),n=this.getEditor(r);return n?n.option("value",i):this._triggerOnFieldDataChanged({dataField:r,value:i}),!0},_tryCreateItemOptionAction:function(e,t,i,r,n){return e==="tabs"&&(this._itemsRunTimeInfo.removeItemsByPathStartWith("".concat(n,".tabs")),i=this._prepareItems(i,!0,n,!0)),ZJ(e,{item:t,value:i,previousValue:r,itemsRunTimeInfo:this._itemsRunTimeInfo})},_tryExecuteItemOptionAction:function(e){return e&&e.tryExecute()},_updateValidationGroupAndSummaryIfNeeded:function(e){var t=fS(e);if(aee.indexOf(t)>-1&&(Gt.addGroup(this._getValidationGroup()),this.option("showValidationSummary"))){var i;(i=this._validationSummary)===null||i===void 0||i.refreshValidationGroup()}},_setLayoutManagerItemOption(e,t,i,r){if(this._updateLockCount>0){!e._updateLockCount&&e.beginUpdate();var n=this._itemsRunTimeInfo.findKeyByPath(r);this.postponedOperations.add(n,()=>(!e._disposed&&e.endUpdate(),new we().resolve()))}var a=s=>{if(s.component.off("contentReady",a),rk(r)){var o=WJ(r),l=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(o);l&&this._alignLabelsInColumn({items:l.option("items"),layoutManager:l,$container:l.$element(),inOneColumn:l.isSingleColumnMode()})}else this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())};e.on("contentReady",a),e.option(t,i),this._updateValidationGroupAndSummaryIfNeeded(t)},_tryChangeLayoutManagerItemOption(e,t){var i=e.split("."),r=fS(e);if(r==="items"&&i.length>1){var n=this._getItemPath(i),a=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(n);if(a){this._itemsRunTimeInfo.removeItemsByItems(a.getItemsRunTimeInfo());var s=this._prepareItems(t,!1,n);return this._setLayoutManagerItemOption(a,r,s,n),!0}}else if(i.length>2){var o=i.length-2,l=this._getItemPath(i.slice(0,o)),u=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(l);if(u){var d=du(i[o],r);if(r==="editorType"&&u.option(d)!==t)return!1;if(r==="visible"){var c=this.option(du(l,"items"));if(c&&c.length){var h=u.option("items");c.forEach((f,p)=>{var g=h[p];g.visibleIndex=f.visibleIndex})}}return this._setLayoutManagerItemOption(u,d,t,l),!0}}return!1},_tryChangeLayoutManagerItemOptions(e,t){var i;return this.beginUpdate(),ve(t,(r,n)=>{if(i=this._tryChangeLayoutManagerItemOption(du(e,r),n),!i)return!1}),this.endUpdate(),i},_getItemPath:function(e){var t=e[0],i;for(i=1;i<e.length&&e[i].search(/items\[\d+]|tabs\[\d+]/)!==-1;i++)t+="."+e[i];return t},_triggerOnFieldDataChanged:function(e){this._createActionByOption("onFieldDataChanged")(e)},_triggerOnFieldDataChangedByDataSet:function(e){var t=this;e&&at(e)&&ve(e,function(i,r){t._triggerOnFieldDataChanged({dataField:i,value:r})})},_updateFieldValue:function(e,t){if(oe(this.option("formData"))){var i=this.getEditor(e);if(this.option("formData."+e,t),i){var r=i.option("value");r!==t&&i.option("value",t)}}},_generateItemsFromData:function(e){var t=this.option("formData"),i=[];return!e&&oe(t)&&ve(t,function(r){i.push({dataField:r})}),e&&ve(e,function(r,n){at(n)?i.push(n):i.push({dataField:n})}),i},_getItemByField:function(e,t){var i=this,r=at(e)?e:i._getFieldParts(e),n=r.fieldName,a=r.fieldPath,s;return t.length&&ve(t,function(o,l){var u=l.itemType;if(a.length){var d=a.slice();l=i._getItemByFieldPath(d,n,l)}else if(u==="group"&&!(l.caption||l.name)||u==="tabbed"&&!l.name){var c=i._getSubItemField(u);l.items=i._generateItemsFromData(l.items),l=i._getItemByField({fieldName:n,fieldPath:a},l[c])}if(zJ(l,n))return s=l,!1}),s},_getFieldParts:function(e){for(var t=e,i=t.indexOf("."),r=[];i!==-1;)r.push(t.substr(0,i)),t=t.substr(i+1),i=t.indexOf(".");return{fieldName:t,fieldPath:r.reverse()}},_getItemByFieldPath:function(e,t,i){var r=i.itemType,n=this._getSubItemField(r),a=r==="group"||r==="tabbed"||i.title,s;do if(a){var o=i.name||i.caption||i.title,l=oe(o),u=r_(o),d=void 0;if(i[n]=this._generateItemsFromData(i[n]),l&&(d=e.pop()),!e.length&&(s=this._getItemByField(t,i[n]),s))break;(!l||l&&u===d)&&e.length&&(s=this._searchItemInEverySubItem(e,t,i[n]))}else break;while(e.length&&!oe(s));return s},_getSubItemField:function(e){return e==="tabbed"?"tabs":"items"},_searchItemInEverySubItem:function(e,t,i){var r=this,n;return ve(i,function(a,s){if(n=r._getItemByFieldPath(e.slice(),t,s),n)return!1}),n||(n=!1),n},_changeItemOption:function(e,t,i){at(e)&&(e[t]=i)},_dimensionChanged:function(){var e=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==e&&(this._isColCountChanged(this._lastMarkupScreenFactor,e)&&(this._targetScreenFactor=e,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=e)},_isColCountChanged:function(e,t){var i=!1;return ve(this._cachedColCountOptions,function(r,n){if(n.colCountByScreen[e]!==n.colCountByScreen[t])return i=!0,!1}),i},_refresh:function(){var e="."+IS+" input, ."+IS+" textarea";he.trigger(this.$element().find(e),"change"),this.callBase()},_resetValues:function(){this._itemsRunTimeInfo.each(function(e,t){oe(t.widgetInstance)&&mn.isEditor(t.widgetInstance)&&(t.widgetInstance.reset(),t.widgetInstance.option("isValid",!0))}),Gt.resetGroup(this._getValidationGroup())},_updateData:function(e,t,i){var r=this,n=i?t:e;at(n)?ve(n,function(a,s){r._updateData(i?e+"."+a:a,s,at(s))}):nt(e)&&r._updateFieldValue(e,t)},registerKeyHandler:function(e,t){this.callBase(e,t),this._itemsRunTimeInfo.each(function(i,r){oe(r.widgetInstance)&&r.widgetInstance.registerKeyHandler(e,t)})},_focusTarget:function(){return this.$element().find("."+n_+" [tabindex]").first()},_visibilityChanged:function(){},_clearAutoColCountChangedTimeout:function(){this.autoColCountChangedTimeoutId&&(clearTimeout(this.autoColCountChangedTimeoutId),this.autoColCountChangedTimeoutId=void 0)},_dispose:function(){this._clearAutoColCountChangedTimeout(),Gt.removeGroup(this._getValidationGroup()),this.callBase()},resetValues:function(){this._resetValues()},updateData:function(e,t){this._updateData(e,t)},getEditor:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)||this._itemsRunTimeInfo.findWidgetInstanceByName(e)},getButton:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByName(e)},updateDimensions:function(){var e=this,t=new we;return e._scrollable?e._scrollable.update().done(function(){t.resolveWith(e)}):t.resolveWith(e),t.promise()},itemOption:function(e,t,i){var r=this._generateItemsFromData(this.option("items")),n=this._getItemByField(e,r),a=nk(r,n);if(n)switch(arguments.length){case 1:return n;case 3:var s=this._tryCreateItemOptionAction(t,n,i,n[t],a);this._changeItemOption(n,t,i);var o=du(a,t);!this._tryExecuteItemOptionAction(s)&&!this._tryChangeLayoutManagerItemOption(o,i)&&this.option("items",r);break;default:if(at(t)&&!this._tryChangeLayoutManagerItemOptions(a,t)){var l;ve(t,(u,d)=>{var c=this._tryCreateItemOptionAction(u,n,d,n[u],a);this._changeItemOption(n,u,d),!l&&!this._tryExecuteItemOptionAction(c)&&(l=!0)}),l&&this.option("items",r)}}},validate:function(){return Gt.validateGroup(this._getValidationGroup())},getItemID:function(e){return"dx_"+this.option("formID")+"_"+(e||new Bi)},getTargetScreenFactor:function(){return this._targetScreenFactor}});Tt("dxForm",Cb);var see=!!Mr.IS_RENOVATED_WIDGET,AS="edit-form-item",oee="edit-popup",lee="edit-popup-form",uee=see?"dx-scrollable":"dx-scrollable-container",dee="dx-button",hee="form-buttons-container",cee=e=>{var t,i=e.column;return e.isCustomEditorType?e.editorType:(t=i.formItem)===null||t===void 0?void 0:t.editorType},vk=(e,t)=>{e.forEach(i=>{i.items||i.tabs?vk(i.items||i.tabs,t):t(i)})},fee={extenders:{controllers:{editing:{init:function(){this._editForm=null,this._updateEditFormDeferred=null,this.callBase.apply(this,arguments)},isFormOrPopupEditMode:function(){return this.isPopupEditMode()||this.isFormEditMode()},isPopupEditMode:function(){var e=this.option("editing.mode");return e===vb},isFormEditMode:function(){var e=this.option("editing.mode");return e===ep},getFirstEditableColumnIndex:function(){var e=this._firstFormItem;if(this.isFormEditMode()&&e){var t=this.option(ln),i=this._dataController.getRowIndexByKey(t),r=this._rowsView.getCellElements(i);return this._rowsView._getEditFormEditorVisibleIndex(r,e.column)}return this.callBase.apply(this,arguments)},getEditFormRowIndex:function(){return this.isFormOrPopupEditMode()?this._getVisibleEditRowIndex():this.callBase.apply(this,arguments)},_isEditColumnVisible:function(){var e=this.callBase.apply(this,arguments),t=this.option("editing");return this.isFormOrPopupEditMode()&&t.allowUpdating||e},_handleDataChanged:function(e){if(this.isPopupEditMode()){var t,i,r=this.option("editing.editRowKey"),n=e==null||(t=e.items)===null||t===void 0?void 0:t.some(s=>li(s.key,r)),a=((i=e.changeTypes)===null||i===void 0?void 0:i.length)&&e.changeTypes.every(s=>s==="insert");(e.changeType==="refresh"||n)&&!a&&this._repaintEditPopup()}this.callBase.apply(this,arguments)},getPopupContent:function(){var e,t=(e=this._editPopup)===null||e===void 0?void 0:e.option("visible");if(this.isPopupEditMode()&&t)return this._$popupContent},_showAddedRow:function(e){this.isPopupEditMode()?this._showEditPopup(e):this.callBase.apply(this,arguments)},_cancelEditDataCore:function(){this.callBase.apply(this,arguments),this.isPopupEditMode()&&this._hideEditPopup()},_updateEditRowCore:function(e,t,i){var r=this._editForm;if(this.isPopupEditMode())if(this.option("repaintChangesOnly")){var n;(n=e.update)===null||n===void 0||n.call(e,e),this._rowsView.renderDelayedTemplates()}else r&&(this._updateEditFormDeferred=new we().done(()=>r.repaint()),this._updateLockCount||this._updateEditFormDeferred.resolve());else this.callBase.apply(this,arguments)},_showEditPopup:function(e,t){var i=Ye.current().deviceType!=="desktop",r=ce({showTitle:!1,fullScreen:i,copyRootClassesToWrapper:!0,_ignoreCopyRootClassesToWrapperDeprecation:!0,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getSaveButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getCancelButtonConfig()}],contentTemplate:this._getPopupEditFormTemplate(e)},this.option(pc));if(!this._editPopup){var n=J("<div>").appendTo(this.component.$element()).addClass(this.addWidgetPrefix(oee));this._editPopup=this._createComponent(n,Hn,{copyRootClassesToWrapper:!0,_ignoreCopyRootClassesToWrapperDeprecation:!0}),this._editPopup.on("hiding",this._getEditPopupHiddenHandler()),this._editPopup.on("shown",a=>{if(he.trigger(a.component.$content().find(qD).not(".".concat(uee)).first(),"focus"),t){var s;(s=this._editForm)===null||s===void 0||s.repaint()}})}this._editPopup.option(r),this._editPopup.show(),this.callBase.apply(this,arguments)},_getPopupEditFormTemplate:function(e){var t=this.component.getVisibleRows()[e],i={row:t,values:t.values,rowType:t.rowType,key:t.key,rowIndex:e};return this._rowsView._addWatchMethod(i,t),r=>{var n=this.getEditFormTemplate(),a=this._createComponent(J("<div>").appendTo(r),Mr);this._$popupContent=J(a.content()),n(this._$popupContent,i,{isPopupForm:!0}),this._rowsView.renderDelayedTemplates()}},_repaintEditPopup:function(){var e=this._getVisibleEditRowIndex();if(e>=0){var t,i,r=(t=this._editPopup)===null||t===void 0?void 0:t.option("animation");(i=this._editPopup)===null||i===void 0||i.option("animation",null),this._showEditPopup(e,!0),r!==void 0&&this._editPopup.option("animation",r)}},_hideEditPopup:function(){var e;(e=this._editPopup)===null||e===void 0||e.option("visible",!1)},optionChanged:function(e){if(e.name==="editing"&&this.isFormOrPopupEditMode()){var t=e.fullName;t.indexOf(mg)===0?(this._handleFormOptionChange(e),e.handled=!0):t.indexOf(pc)===0&&(this._handlePopupOptionChange(e),e.handled=!0)}this.callBase.apply(this,arguments)},_handleFormOptionChange:function(e){var t;if(this.isFormEditMode()){var i=this._getVisibleEditRowIndex();i>=0&&this._dataController.updateItems({changeType:"update",rowIndices:[i]})}else(t=this._editPopup)!==null&&t!==void 0&&t.option("visible")&&e.fullName.indexOf(mg)===0&&this._repaintEditPopup()},_handlePopupOptionChange:function(e){var t=this._editPopup;if(t){var i=e.fullName.slice(pc.length+1);i?t.option(i,e.value):t.option(e.value)}},renderFormEditTemplate:function(e,t,i,r,n){var a=this,s=J(r),o=t.column,l=cee(t),u=e==null?void 0:e.row.data,d=i.component,{label:c,labelMark:h,labelMode:f}=i.editorOptions||{},p=ce({},e,{data:u,cellElement:null,isOnForm:!0,item:t,id:d.getItemID(t.name||t.dataField),column:ce({},o,{editorType:l,editorOptions:ce({label:c,labelMark:h,labelMode:f},o.editorOptions,t.editorOptions)}),columnIndex:o.index,setValue:!n&&o.allowEditing&&function(m){a.updateFieldValue(p,m)}});p.value=o.calculateCellValue(u);var g=this._getFormEditItemTemplate.bind(this)(p,o);return this._rowsView.renderTemplate(s,g,p,!!s.closest(ft().document).length).done(()=>{this._rowsView._updateCell(s,p)}),p},getFormEditorTemplate:function(e,t){var i=this.component.columnOption(t.dataField);return(r,n)=>{var a,s,o=J(n);(a=(s=e.row).watch)===null||a===void 0||a.call(s,function(){return i.selector(e.row.data)},()=>{var l,u=o.find(".dx-widget").first(),d=u.data("dxValidator"),c=(l=d)===null||l===void 0?void 0:l.option();o.contents().remove(),e=this.renderFormEditTemplate.bind(this)(e,t,r,o),u=o.find(".dx-widget").first(),d=u.data("dxValidator"),c&&!d&&u.dxValidator({validationRules:c.validationRules,validationGroup:c.validationGroup,dataGetter:c.dataGetter})}),e=this.renderFormEditTemplate.bind(this)(e,t,r,o)}},getEditFormOptions:function(e){var t,i=(t=this._getValidationGroupsInForm)===null||t===void 0?void 0:t.call(this,e),r=this.option("editing.form.customizeItem"),n=this.addWidgetPrefix(AS),a=this.option("editing.form.items"),s={};if(a)vk(a,l=>{var u=(l==null?void 0:l.name)||(l==null?void 0:l.dataField);u&&(s[u]=!!l.editorType)});else{var o=this.getController("columns").getColumns();a=[],ve(o,function(l,u){!u.isBand&&!u.type&&a.push({column:u,name:u.name,dataField:u.dataField})})}return ce({},i,{items:a,formID:"dx-"+new Bi,customizeItem:l=>{var u,d=l.name||l.dataField;if((l.column||d)&&(u=l.column||this._columnsController.columnOption(l.name?"name:"+l.name:"dataField:"+l.dataField)),u){if(l.label=l.label||{},l.label.text=l.label.text||u.caption,u.dataType==="boolean"&&l.label.visible===void 0){var c=this.option("editing.form.labelMode");(c==="floating"||c==="static")&&(l.label.visible=!0)}l.template=l.template||this.getFormEditorTemplate(e,l),l.column=u,l.isCustomEditorType=s[d],u.formItem&&ce(l,u.formItem),l.isRequired===void 0&&u.validationRules&&(l.isRequired=u.validationRules.some(function(f){return f.type==="required"}),l.validationRules=[]);var h=oe(l.visible)?l.visible:!0;!this._firstFormItem&&h&&(this._firstFormItem=l)}r==null||r.call(this,l),l.cssClass=nt(l.cssClass)?l.cssClass+" "+n:n}})},getEditFormTemplate:function(){return(e,t,i)=>{var r=this.option(mg),n=this.getEditFormOptions(t),a=J("<div>").appendTo(e),s=i==null?void 0:i.isPopupForm;if(this._firstFormItem=void 0,s&&a.addClass(this.addWidgetPrefix(lee)),this._editForm=this._createComponent(a,Cb,ce({},r,n)),!s){var o=J("<div>").addClass(this.addWidgetPrefix(hee)).appendTo(e);this._createComponent(J("<div>").appendTo(o),Ji,this._getSaveButtonConfig()),this._createComponent(J("<div>").appendTo(o),Ji,this._getCancelButtonConfig())}this._editForm.on("contentReady",()=>{var l;this._rowsView.renderDelayedTemplates(),(l=this._editPopup)===null||l===void 0||l.repaint()})}},getEditForm:function(){return this._editForm},_endUpdateCore:function(){var e;(e=this._updateEditFormDeferred)===null||e===void 0||e.resolve()},_beforeEndSaving:function(){if(this.callBase.apply(this,arguments),this.isPopupEditMode()){var e;(e=this._editPopup)===null||e===void 0||e.hide()}},_processDataItemCore:function(e,t){var{type:i}=t;this.isPopupEditMode()&&i===xn&&(e.visible=!1),this.callBase.apply(this,arguments)},_editRowFromOptionChangedCore:function(e,t){var i=this.isPopupEditMode();this.callBase(e,t,i),i&&this._showEditPopup(t)}},data:{_updateEditItem:function(e){this._editingController.isFormEditMode()&&(e.rowType="detail")},_getChangedColumnIndices:function(e,t,i,r){if(!(r===!1&&t.isEditing&&this._editingController.isFormEditMode()))return this.callBase.apply(this,arguments)}}},views:{rowsView:{_renderCellContent:function(e,t){t.rowType==="data"&&this._editingController.isPopupEditMode()&&t.row.visible===!1||this.callBase.apply(this,arguments)},getCellElements:function(e){var t=this.callBase(e),i=this._editingController,r=i.getEditForm(),n=i.getEditFormRowIndex();return n===e&&t&&r?r.$element().find("."+this.addWidgetPrefix(AS)+", ."+dee):t},_getVisibleColumnIndex:function(e,t,i){var r=this._editingController.getEditFormRowIndex();if(r===t&&nt(i)){var n=this._columnsController.columnOption(i);return this._getEditFormEditorVisibleIndex(e,n)}return this.callBase.apply(this,arguments)},_getEditFormEditorVisibleIndex:function(e,t){var i=-1;return ve(e,function(r,n){var a=J(n).find(".dx-field-item-content").data("dx-form-item");if(a!=null&&a.column&&t&&a.column.index===t.index)return i=r,!1}),i},_isFormItem:function(e){var t=e.rowType==="detail"||e.rowType==="detailAdaptive",i=e.rowType==="data"&&this._editingController.isPopupEditMode();return(t||i)&&e.item},_updateCell:function(e,t){this._isFormItem(t)?this._formItemPrepared(t,e):this.callBase(e,t)}}}}};qe.registerModule("editingFormBased",fee);var pee="focus-overlay",mee="addrow-button",gee="dx-dropdowneditor-overlay",vee="dx-editor-cell",_ee="dx-row",bee="dx-cell-modified",yee="dx-data-row",Cee="dx-row-removed",xee="editing.editRowKey",OS="editing.editColumnName",wee="remove";const See={extenders:{controllers:{editing:{init:function(){var e=!this._saveEditorHandler;if(this.callBase.apply(this,arguments),e){var t,i;this._pointerUpEditorHandler=()=>{var r;i=(r=this.getController("columnsResizer"))===null||r===void 0?void 0:r.isResizing()},this._pointerDownEditorHandler=r=>t=J(r.target),this._saveEditorHandler=this.createAction(function(r){var n=r.event,a=J(n.target),s=n[GD],o=this.component;if(t&&t.is("input")&&!t.is(a))return;function l(g){if(!g)return!1;var m=g.closest(".".concat(gee)),v=o.$element();return m.length>0&&v.closest(m).length===0}if(this.isCellOrBatchEditMode()&&!this._editCellInProgress){var u=l(a)||l(s==null?void 0:s.$element()),d=!!a.closest(ft().document).length,c=s&&!s._disposed&&s!==this.component,h=!!a.closest(".".concat(this.addWidgetPrefix(mee))).length,f=a.hasClass(this.addWidgetPrefix(pee)),p=this.isCellEditMode();!i&&!u&&!f&&!(h&&p&&this.isEditing())&&(d||c)&&this._closeEditItem.bind(this)(a)}}),he.on(Re.getDocument(),Vt.up,this._pointerUpEditorHandler),he.on(Re.getDocument(),Vt.down,this._pointerDownEditorHandler),he.on(Re.getDocument(),zt,this._saveEditorHandler)}},isCellEditMode:function(){return this.option("editing.mode")===XD},isBatchEditMode:function(){return this.option("editing.mode")===t_},isCellOrBatchEditMode:function(){return this.isCellEditMode()||this.isBatchEditMode()},_needToCloseEditableCell:function(e){var t=this.component.$element(),i=this.isEditing(),r=!t||!!e.closest(t).length;if(r){var n=e.closest("."+yee).length;if(n){var a=this.getView("rowsView"),s=e.closest("."+_ee+"> td"),o=a.getRowIndex(s.parent()),l=a.getCellElements(o).index(s),u=this._columnsController.getVisibleColumns(),d=u[l]&&u[l].allowEditing;i=i&&!d&&!this.isEditCell(o,l)}}return i||this.callBase.apply(this,arguments)},_closeEditItem:function(e){this._needToCloseEditableCell(e)&&this.closeEditCell()},_focusEditorIfNeed:function(){if(this._needFocusEditor&&this.isCellOrBatchEditMode()){var e,t=this._getVisibleEditColumnIndex(),i=(e=this._rowsView)===null||e===void 0?void 0:e._getCellElement(this._getVisibleEditRowIndex(),t);i&&!i.find(":focus").length?this._focusEditingCell(()=>{this._editCellInProgress=!1},i,!0):this._editCellInProgress=!1,this._needFocusEditor=!1}else this.callBase.apply(this,arguments)},isEditing:function(){if(this.isCellOrBatchEditMode()){var e=oe(this.option(xee)),t=oe(this.option(OS));return e&&t}return this.callBase.apply(this,arguments)},_handleEditColumnNameChange:function(e){var t=this._getVisibleEditRowIndex(e.previousValue);if(this.isCellOrBatchEditMode()&&t!==-1&&oe(e.value)&&e.value!==e.previousValue){var i=this._columnsController.getVisibleColumnIndex(e.value),r=this._columnsController.getVisibleColumnIndex(e.previousValue);this._editCellFromOptionChanged(i,r,t)}},_addRow:function(e,t){if(this.isCellEditMode()&&this.hasChanges()){var i=new we;return this.saveEditData().done(()=>{this.hasChanges()?i.reject("cancel"):this.addRow(e).done(i.resolve).fail(i.reject)}),i.promise()}return this.callBase.apply(this,arguments)},editCell:function(e,t){return this._editCell({rowIndex:e,columnIndex:t})},_editCell:function(e){var t=new we,i;return this.executeOperation(t,()=>{i=this._editCellCore(e),Ke(i).done(t.resolve).fail(t.reject)}),i!==void 0?i:t.promise()},_editCellCore:function(e){var t=this._dataController,i=oe(e.oldColumnIndex)||oe(e.oldRowIndex),{columnIndex:r,rowIndex:n,column:a,item:s}=this._getNormalizedEditCellOptions(e),o={data:s==null?void 0:s.data,cancel:!1,column:a};if(s.key===void 0){this._dataController.fireError("E1043");return}if(a&&(s.rowType==="data"||s.rowType==="detailAdaptive")&&!s.removed&&this.isCellOrBatchEditMode()){if(!i&&this.isEditCell(n,r))return!0;var l=n+t.getRowIndexOffset();return Ke(this._beforeEditCell(n,r,s)).done(u=>{u||this._prepareEditCell(o,s,r,l)||this._processCanceledEditingCell()})}return!1},_beforeEditCell:function(e,t,i){if(this.isCellEditMode()&&!i.isNewRow&&this.hasChanges()){var r=new we;return this.saveEditData().always(()=>{r.resolve(this.hasChanges())}),r}},publicMethods:function(){var e=this.callBase.apply(this,arguments);return e.concat(["editCell","closeEditCell"])},_getNormalizedEditCellOptions:function(e){var{oldColumnIndex:t,oldRowIndex:i,columnIndex:r,rowIndex:n}=e,a=this._columnsController,s=a.getVisibleColumns(),o=this._dataController.items(),l=o[n],u;oe(t)?u=s[t]:u=this._getEditColumn(),oe(i)||(i=this._getVisibleEditRowIndex()),nt(r)&&(r=a.columnOption(r,"index"),r=a.getVisibleIndex(r));var d=s[r];return{oldColumn:u,columnIndex:r,oldRowIndex:i,rowIndex:n,column:d,item:l}},_prepareEditCell:function(e,t,i,r){if(t.isNewRow||(e.key=t.key),this._isEditingStart(e))return!1;if(this._pageIndex=this._dataController.pageIndex(),this._setEditRowKey(t.key),this._setEditColumnNameByIndex(i),!e.column.showEditorAlways){var n;this._addInternalData({key:t.key,oldData:(n=t.oldData)!==null&&n!==void 0?n:t.data})}return!0},closeEditCell:function(e,t){var i=Ke(),r=this._getVisibleEditRowIndex();if(this.isCellOrBatchEditMode()){var n=new we;i=new we,this.executeOperation(n,()=>{this._closeEditCellCore(e,r,t).always(i.resolve)})}return i.promise()},_closeEditCellCore:function(e,t,i){var r=this._dataController,n=new we,a=n.promise();if(this.isCellEditMode()&&this.hasChanges()){if(!i)return this.saveEditData().done(o=>{if(!this.hasChanges()){this.closeEditCell(!!o).always(n.resolve);return}n.resolve()}),a}else if(this._resetEditRowKey(),this._resetEditColumnName(),t>=0){var s=[t];this._beforeCloseEditCellInBatchMode(s),e||r.updateItems({changeType:"update",rowIndices:s})}return n.resolve(),a},_resetModifiedClassCells:function(e){if(this.isBatchEditMode()){var t=this._columnsController.getVisibleColumns().length;e.forEach(i=>{var{key:r}=i,n=this._dataController.getRowIndexByKey(r);if(n!==-1)for(var a=0;a<t;a++)this._rowsView._getCellElement(n,a).removeClass(bee)})}},_prepareChange:function(e,t,i){var r=J(e.cellElement);return this.isBatchEditMode()&&e.key!==void 0&&this._applyModified(r,e),this.callBase.apply(this,arguments)},_cancelSaving:function(){var e=this._dataController;this.isCellOrBatchEditMode()&&(this.isBatchEditMode()&&this._resetEditIndices(),e.updateItems()),this.callBase.apply(this,arguments)},optionChanged:function(e){var t=e.fullName;e.name==="editing"&&t===OS?(this._handleEditColumnNameChange(e),e.handled=!0):this.callBase(e)},_editCellFromOptionChanged:function(e,t,i){var r=this._columnsController.getVisibleColumns();e>-1&&Oi(()=>{this._repaintEditCell(r[e],r[t],i)})},_handleEditRowKeyChange:function(e){if(this.isCellOrBatchEditMode()){var t=this._getVisibleEditColumnIndex(),i=this._getEditRowIndexCorrection(),r=this._dataController.getRowIndexByKey(e.previousValue)+i;if(oe(e.value)&&e.value!==e.previousValue){var n;(n=this._editCellFromOptionChanged)===null||n===void 0||n.call(this,t,t,r)}}else this.callBase.apply(this,arguments)},deleteRow:function(e){if(this.isCellEditMode()&&this.isEditing()){var t=this._dataController.items()[e].isNewRow,i=this._dataController.getKeyByRowIndex(e);this.closeEditCell(null,t).always(()=>{e=this._dataController.getRowIndexByKey(i),this._checkAndDeleteRow(e)})}else this.callBase.apply(this,arguments)},_checkAndDeleteRow:function(e){this.isBatchEditMode()?this._deleteRowCore(e):this.callBase.apply(this,arguments)},_refreshCore:function(e){var{isPageChanged:t}=e??{},i=this.isBatchEditMode()||t&&this.option("scrolling.mode")!=="virtual";this.isCellOrBatchEditMode()?i&&(this._resetEditColumnName(),this._resetEditRowKey()):this.callBase.apply(this,arguments)},_allowRowAdding:function(e){return this.isBatchEditMode()?!0:this.callBase.apply(this,arguments)},_afterDeleteRow:function(e,t){var i=this._dataController;return this.isBatchEditMode()?(i.updateItems({changeType:"update",rowIndices:[t,e]}),new we().resolve()):this.callBase.apply(this,arguments)},_updateEditRow:function(e,t,i){this.isCellOrBatchEditMode()?this._updateRowImmediately(e,t,i):this.callBase.apply(this,arguments)},_isDefaultButtonVisible:function(e,t){if(this.isCellOrBatchEditMode()){var i=this.isBatchEditMode();switch(e.name){case"save":case"cancel":case"edit":return!1;case"delete":return this.callBase.apply(this,arguments)&&(!i||!t.row.removed);case"undelete":return i&&this.allowDeleting(t)&&t.row.removed;default:return this.callBase.apply(this,arguments)}}return this.callBase.apply(this,arguments)},_isRowDeleteAllowed:function(){var e=this.callBase.apply(this,arguments);return e||this.isBatchEditMode()},_beforeEndSaving:function(e){if(this.isCellEditMode()){var t;((t=e[0])===null||t===void 0?void 0:t.type)!=="update"&&this.callBase.apply(this,arguments)}else this.isBatchEditMode()&&this._resetModifiedClassCells(e),this.callBase.apply(this,arguments)},prepareEditButtons:function(e){var t=this.option("editing")||{},i=this.callBase.apply(this,arguments);return(t.allowUpdating||t.allowAdding||t.allowDeleting)&&this.isBatchEditMode()&&(i.push(this.prepareButtonItem(e,"save","saveEditData",21)),i.push(this.prepareButtonItem(e,"revert","cancelEditData",22))),i},_saveEditDataInner:function(){var e,t=this._dataController.getVisibleRows()[this.getEditRowIndex()],i=this._getEditColumn(),r=i==null?void 0:i.showEditorAlways,n=this.isCellEditMode()&&!(t!=null&&t.isNewRow),a;return n&&r&&(a=new we,this.addDeferred(a)),this.callBase.apply(this,arguments).always((e=a)===null||e===void 0?void 0:e.resolve)},_applyChange:function(e,t,i){var r=this.isCellEditMode()&&e.row&&!e.row.isNewRow,n=e.column.showEditorAlways,a=e.column.setCellValue!==e.column.defaultSetCellValue,s=n&&!i&&r&&this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex);if(s){this._focusEditingCell(),this._updateEditRow(e.row,!0,a);return}return this.callBase.apply(this,arguments)},_applyChangeCore:function(e,t){var i=e.column.showEditorAlways,r=this.isCellEditMode()&&e.row&&!e.row.isNewRow;if(i&&!t){if(r)return this._setEditRowKey(e.row.key,!0),this._setEditColumnNameByIndex(e.columnIndex,!0),this.saveEditData();if(this.isBatchEditMode())return t=this._needUpdateRow(e.column),this.callBase(e,t)}return this.callBase.apply(this,arguments)},_processDataItemCore:function(e,t){var{data:i,type:r}=t;this.isBatchEditMode()&&r===wee&&(e.data=Va(e.data,i)),this.callBase.apply(this,arguments)},_processRemoveCore:function(e,t,i){if(!(this.isBatchEditMode()&&!i))return this.callBase.apply(this,arguments)},_processRemoveIfError:function(){if(!this.isBatchEditMode())return this.callBase.apply(this,arguments)},_beforeFocusElementInRow:function(e){this.callBase.apply(this,arguments);var t=e>=0?e:0,i=this.getFirstEditableColumnIndex();i>=0&&this.editCell(t,i)}}},views:{rowsView:{_createTable:function(){var e=this.callBase.apply(this,arguments),t=this._editingController;return t.isCellOrBatchEditMode()&&this.option("editing.allowUpdating")&&he.on(e,Be(Ja.name,"dxDataGridRowsView"),"td:not(."+vee+")",this.createAction(()=>{t.isEditing()&&t.closeEditCell()})),e},_createRow:function(e){var t=this.callBase.apply(this,arguments);if(e){var i=this._editingController,r=!!e.removed;i.isBatchEditMode()&&r&&t.addClass(Cee)}return t}},headerPanel:{isVisible:function(){var e=this.getController("editing").option("editing");return this.callBase()||e&&(e.allowUpdating||e.allowDeleting)&&e.mode===t_}}}}};qe.registerModule("editingCellBased",See);var _k="invalid",Vh="revert-tooltip",Eee="rowsview",Tee="dx-invalid-message",Cg="invalid-message",Iee="dx-invalid-message-always",Aee="dx-revert-button",bk="validator",xg="dx-pending-indicator",DS="dx-validation-pending",kS="content",RS="__DX_INSERT_INDEX__",Oee=2,Dee="row",kee="form",wg="batch",hu="cell",Ree="popup",Mee="dx-group-cell",yk=[Ree,kee],Bee="transparent",Or={valid:"valid",invalid:"invalid",pending:"pending"},cu="insert",Pee="remove",fu="cancel",pu=function(e){return oe(e)&&e!==fu},MS=function(e,t){return e!==void 0||e===void 0&&t&&!t.isNewRow},Lee=ni.Controller.inherit({init:function(){this._editingController=this.getController("editing"),this.createAction("onRowValidating"),this._validationState||this.initValidationState()},initValidationState(){this._validationState=[],this._validationStateCache={}},_rowIsValidated:function(e){var t=this._getValidationData(e==null?void 0:e.key);return!!t&&!!t.validated},_getValidationData:function(e,t){var i=Mn(e),r=at(i),n;return r?n=this._validationState.filter(a=>li(a.key,e))[0]:n=this._validationStateCache[i],!n&&t&&(n={key:e,isValid:!0},this._validationState.push(n),r||(this._validationStateCache[i]=n)),n},_getBrokenRules:function(e,t){var i;return t?i=t.brokenRules||t.brokenRule&&[t.brokenRule]:i=e.brokenRules||[],i},_rowValidating:function(e,t){var i=new we,r=this._editingController.getChangeByKey(e==null?void 0:e.key),n=this._getBrokenRules(e,t),a=t?t.isValid:e.isValid,s={brokenRules:n,isValid:a,key:r.key,newData:r.data,oldData:this._editingController._getOldData(r.key),promise:null,errorText:this.getHiddenValidatorsErrorText(n)};return this.executeAction("onRowValidating",s),Ke(Gi(s.promise)).always(function(){e.isValid=s.isValid,e.errorText=s.errorText,i.resolve(s)}),i.promise()},getHiddenValidatorsErrorText:function(e){var t=[];return ve(e,function(i,r){var n=r.column,a=n&&n.groupIndex!==void 0&&!n.showWhenGrouped,s=n&&n.visible;!r.validator.$element().parent().length&&(!s||a)&&t.push(r.message)}),t.join(", ")},validate:function(e){var t=!0,i=this._editingController,r=new we,n=[],a=i.getEditMode();if(e=e||a===Dee,this._isValidationInProgress)return r.resolve(!1).promise();if(this._isValidationInProgress=!0,e){i.addDeferred(r);var s=i.getChanges();ve(s,(l,u)=>{var{type:d,key:c}=u;if(d!=="remove"){var h=this._getValidationData(c,!0),f=this.validateGroup(h);n.push(f),f.done(p=>{h.validated=!0,t=t&&p.isValid})}})}else if(this._currentCellValidator){var o=this.validateGroup(this._currentCellValidator._findGroup());n.push(o),o.done(l=>{t=l.isValid})}return Ke(...n).done(()=>{this._isValidationInProgress=!1,r.resolve(t)}),r.promise()},validateGroup:function(e){var t,i=new we,r=e&&Gt.getGroupConfig(e),n;return r!=null&&r.validators.length&&(this.resetRowValidationResults(e),n=Gt.validateGroup(e)),Ke(((t=n)===null||t===void 0?void 0:t.complete)||n).done(a=>{Ke(this._rowValidating(e,a)).done(i.resolve)}),i.promise()},isRowDataModified:e=>!Yr(e.data),updateValidationState:function(e){var t=this._editingController.getEditMode(),i=e.key,r=this._getValidationData(i,!0);if(yk.indexOf(t)===-1){if(e.type===cu&&!this.isRowDataModified(e)){r.isValid=!0;return}this.setDisableApplyValidationResults(!0);var n=Gt.getGroupConfig(r);if(n){var a=Gt.validateGroup(r);Ke(a.complete||a).done(s=>{r.isValid=s.isValid,r.brokenRules=s.brokenRules})}else(!r.brokenRules||!r.brokenRules.length)&&(r.isValid=!0);this.setDisableApplyValidationResults(!1)}else r.isValid=!0},setValidator:function(e){this._currentCellValidator=e},renderCellPendingIndicator:function(e){var t=e.find("."+xg);if(!t.length){var i=e;t=J("<div>").appendTo(i).addClass(xg),this._createComponent(t,Rr),e.addClass(DS)}},disposeCellPendingIndicator:function(e){var t=e.find("."+xg);if(t.length){var i=Rr.getInstance(t);i&&(i.dispose(),i.$element().remove()),e.removeClass(DS)}},validationStatusChanged:function(e){var t=e.validator,i=t.option("validationGroup"),r=t.option("dataGetter")().column;this.updateCellValidationResult({rowKey:i.key,columnIndex:r.index,validationResult:e})},validatorInitialized:function(e){e.component.on("validating",this.validationStatusChanged.bind(this)),e.component.on("validated",this.validationStatusChanged.bind(this))},validatorDisposing:function(e){var t=e.component,i=t.option("validationGroup"),r=t.option("dataGetter")().column,n=this.getCellValidationResult({rowKey:i==null?void 0:i.key,columnIndex:r.index});pu(n)&&n.status===Or.pending&&this.cancelCellValidationResult({change:i,columnIndex:r.index})},applyValidationResult:function(e,t){var i=t.validator,r=i.option("validationGroup"),n=i.option("dataGetter")().column;if(t.brokenRules&&t.brokenRules.forEach(u=>{u.columnIndex=n.index,u.column=n}),e){var a=this.getCellValidationResult({rowKey:r.key,columnIndex:n.index}),s=pu(a)&&a.disabledPendingId===t.id;if(this._disableApplyValidationResults||s)return;if(t.status===Or.invalid){var o=e.find(":focus");Ya(o)||(he.trigger(o,"focus"),he.trigger(o,Vt.down))}var l=!n.editCellTemplate&&this.getController("editorFactory").getEditorInstance(e);t.status===Or.pending?l?l.option("validationStatus",Or.pending):this.renderCellPendingIndicator(e):l?l.option("validationStatus",Or.valid):this.disposeCellPendingIndicator(e),e.toggleClass(this.addWidgetPrefix(_k),t.status===Or.invalid)}},_syncInternalEditingData:function(e){var t,i=this._editingController,r=i.getChangeByKey(e.key),n=i._getOldData(e.key),a=(t=e.row)===null||t===void 0?void 0:t.oldData;r&&a&&!n&&i._addInternalData({key:e.key,oldData:a})},createValidator:function(e,t){var i=this._editingController,r=e.column,n=r.showEditorAlways;if(!(oe(r.command)||!r.validationRules||!Array.isArray(r.validationRules)||!r.validationRules.length)){var a=i.getIndexByKey(e.key,i.getChanges()),s=a>-1;if(!s){if(!n){var o=this.getController("columns"),l=(o==null?void 0:o.getVisibleColumns())||[];n=l.some(function(b){return b.showEditorAlways})}var u=li(this.option("editing.editRowKey"),e.key),d=i.isCellOrBatchEditMode()&&i.allowUpdating({row:e.row});if(s=u||d&&n,d&&n){var c,h;i._addInternalData({key:e.key,oldData:(c=(h=e.row)===null||h===void 0?void 0:h.oldData)!==null&&c!==void 0?c:e.data})}}if(s){if(t&&!t.length){xt.log("E1050");return}this._syncInternalEditingData(e);var f=this._getValidationData(e.key,!0),p=()=>{var b=i.getChangeByKey(f==null?void 0:f.key),E=r.calculateCellValue((b==null?void 0:b.data)||{});return E!==void 0?E:e.value},g=t&&t.hasClass("dx-widget");t&&t.addClass(this.addWidgetPrefix(bk));var m=new tp(t||J("<div>"),{name:r.caption,validationRules:ce(!0,[],r.validationRules),validationGroup:f,adapter:g?null:{getValue:p,applyValidationResults:b=>{this.applyValidationResult(t,b)}},dataGetter:function(){var b=f==null?void 0:f.key,E=i.getChangeByKey(b),I=i._getOldData(b);return{data:Va(I,E==null?void 0:E.data),column:r}},onInitialized:this.validatorInitialized.bind(this),onDisposing:this.validatorDisposing.bind(this)});if(g){var v=m.option("adapter");v&&(v.getValue=p,v.validationRequestsCallbacks=[],v.bypass=()=>e.row.isNewRow&&!this._isValidationInProgress&&!i.isCellModified(e))}return m}}},setDisableApplyValidationResults:function(e){this._disableApplyValidationResults=e},getDisableApplyValidationResults:function(){return this._disableApplyValidationResults},isCurrentValidatorProcessing:function(e){var{rowKey:t,columnIndex:i}=e;return this._currentCellValidator&&li(this._currentCellValidator.option("validationGroup").key,t)&&this._currentCellValidator.option("dataGetter")().column.index===i},validateCell:function(e){var t={rowKey:e.option("validationGroup").key,columnIndex:e.option("dataGetter")().column.index},i=this.getCellValidationResult(t),r=pu(i);r||(i=e.validate());var n=new we,a=e.option("adapter");return r&&i.status===Or.pending&&(this.updateCellValidationResult(t),a.applyValidationResults(i)),Ke(i.complete||i).done(s=>{r&&a.applyValidationResults(s),n.resolve(s)}),n.promise()},updateCellValidationResult:function(e){var{rowKey:t,columnIndex:i,validationResult:r}=e,n=this._getValidationData(t);if(n){n.validationResults||(n.validationResults={});var a;if(r){if(a=ce({},r),n.validationResults[i]=a,r.status===Or.pending&&(this._editingController.getEditMode()===hu&&(a.deferred=new we,a.complete.always(()=>{a.deferred.resolve()}),this._editingController.addDeferred(a.deferred)),this._disableApplyValidationResults)){a.disabledPendingId=r.id;return}}else a=n.validationResults[i];a&&a.disabledPendingId&&delete a.disabledPendingId}},getCellValidationResult:function(e){var t,{rowKey:i,columnIndex:r}=e,n=this._getValidationData(i,!0);return n==null||(t=n.validationResults)===null||t===void 0?void 0:t[r]},removeCellValidationResult:function(e){var{change:t,columnIndex:i}=e,r=this._getValidationData(t==null?void 0:t.key);r&&r.validationResults&&(this.cancelCellValidationResult({change:t,columnIndex:i}),delete r.validationResults[i])},cancelCellValidationResult:function(e){var{change:t,columnIndex:i}=e,r=this._getValidationData(t.key);if(t&&r.validationResults){var n=r.validationResults[i];n&&(n.deferred&&n.deferred.reject(fu),r.validationResults[i]=fu)}},resetRowValidationResults:function(e){e&&(e.validationResults&&delete e.validationResults,delete e.validated)},isInvalidCell:function(e){var{rowKey:t,columnIndex:i}=e,r=this.getCellValidationResult({rowKey:t,columnIndex:i});return pu(r)&&r.status===Or.invalid},getCellValidator:function(e){var{rowKey:t,columnIndex:i}=e,r=this._getValidationData(t),n=r&&Gt.getGroupConfig(r),a=n&&n.validators;return a&&a.filter(s=>{var o=s.option("dataGetter")().column;return o?o.index===i:!1})[0]},setCellValidationStatus:function(e){var t=this.getCellValidationResult({rowKey:e.key,columnIndex:e.column.index});oe(t)?e.validationStatus=t!==fu?t.status:fu:delete e.validationStatus}}),Fee={defaultOptions:function(){return{editing:{texts:{validationCancelChanges:Ae.format("dxDataGrid-validationCancelChanges")}}}},controllers:{validating:Lee},extenders:{controllers:{editing:{_addChange:function(e){var t=this.callBase.apply(this,arguments),i=this.getController("validating");return t&&e.type!==Pee&&i.updateValidationState(t),t},_handleChangesChange:function(e){this.callBase.apply(this,arguments);var t=this.getController("validating");e.value.forEach(i=>{t._getValidationData(i.key)===void 0&&t.updateValidationState(i)})},_updateRowAndPageIndices:function(){var e=this,t=e.getView("rowsView").getTopVisibleItemIndex(),i=t;ve(e.getChanges(),(r,n)=>{var{key:a,type:s}=n,o=this.getController("validating")._getValidationData(a);o&&!o.isValid&&o.pageIndex!==e._pageIndex&&(o.pageIndex=e._pageIndex,s===cu?o.rowIndex=t:o.rowIndex=i,i++)})},_getValidationGroupsInForm:function(e){var t=this.getController("validating"),i=t._getValidationData(e.key,!0);return{validationGroup:i}},_validateEditFormAfterUpdate:function(e,t){t&&this._editForm&&this._editForm.validate(),this.callBase.apply(this,arguments)},_prepareEditCell:function(e){var t=this.callBase.apply(this,arguments),i=this.getController("validating");return t&&e.column.showEditorAlways&&i.updateValidationState({key:e.key}),t},processItems:function(e,t){var i=this.getChanges(),r=this.getController("data"),n=this.getController("validating");e=this.callBase(e,t);var a=e.length,s=function(o,l){var u={key:o.key},d=function(h,f){var p=-1,g=h.type===cu,m=h.key;return ve(f,function(v,b){if(li(m,g?b.key:r.keyOf(b)))return p=v,!1}),p}(o,e);if(!(d>=0)){l.rowIndex=l.rowIndex>a?l.rowIndex%a:l.rowIndex;var c=l.rowIndex;u[RS]=1,e.splice(c,0,u)}};return this.getEditMode()===wg&&t!=="prepend"&&t!=="append"&&i.forEach(o=>{var l=o.key,u=n._getValidationData(l);u&&o.type&&u.pageIndex===this._pageIndex&&(o==null?void 0:o.pageIndex)!==this._pageIndex&&s(o,u)}),e},processDataItem:function(e){var t=e.data[RS],i=t?e.data.key:e.key,r=this.getEditMode();if(r===wg&&t&&i){var n=this.getChanges(),a=Fe.getIndexByKey(i,n);if(a>=0){var s=n[a];if(s.type!==cu){var o=this._getOldData(s.key);e.data=ce(!0,{},o,s.data),e.key=i}}}this.callBase.apply(this,arguments)},_createInvisibleColumnValidators:function(e){var t=this,i=this.getController("validating"),r=this.getController("columns"),n=r.getColumns(),a=r.getInvisibleColumns().filter(u=>!u.isBand),s=r.getGroupColumns().filter(u=>!u.showWhenGrouped&&a.indexOf(u)===-1),o=[],l=(u,d)=>this._dataController.getRowIndexByKey(d)>=0&&a.indexOf(u)<0;return a.push(...s),yk.indexOf(this.getEditMode())===-1&&ve(n,function(u,d){e.forEach(function(c){var h;if(!l(d,c.key)){if(c.type===cu)h=c.data;else if(c.type==="update"){var f=t._getOldData(c.key);h=Va(f,c.data)}if(h){var p=i.createValidator({column:d,key:c.key,value:d.calculateCellValue(h)});p&&o.push(p)}}})}),function(){o.forEach(function(u){u.dispose()})}},_beforeSaveEditData:function(e,t){var i=this.callBase.apply(this,arguments),r=this.getController("validating"),n=r._getValidationData(e==null?void 0:e.key);if(e){var a=e.type==="remove"||n.isValid;i=i||!a}else{var s=this._createInvisibleColumnValidators(this.getChanges());i=new we,this.executeOperation(i,()=>{r.validate(!0).done(o=>{switch(s(),this._updateRowAndPageIndices(),this.getEditMode()){case hu:o||this._focusEditingCell();break;case wg:o||(this._resetEditRowKey(),this._resetEditColumnName(),this.getController("data").updateItems())}i.resolve(!o)})})}return i.promise?i.promise():i},_beforeEditCell:function(e,t,i){var r=this.callBase(e,t,i);if(this.getEditMode()===hu){var n=this._rowsView._getCellElement(e,t),a=n&&n.data("dxValidator"),s=n&&n.closest(".dx-row").data("options"),o=a&&a.option("adapter").getValue();if(a&&MS(o,s)){var l=this.getController("validating"),u=new we;return Ke(l.validateCell(a),r).done((d,c)=>{u.resolve(d.status===Or.valid&&c)}),u.promise()}else if(!a)return r}},_afterSaveEditData:function(e){var t,i=this.getEditMode()===hu;if(ve(this.getChanges(),(l,u)=>{var d=this._showErrorRow(u);t=t||d}),t){var r=this._rowsView.getScrollable();r&&(r.update(),r.scrollToElement(t))}if(e&&i&&this._needUpdateRow()){var n=this.getEditRowIndex();this._dataController.updateItems({changeType:"update",rowIndices:[n]}),this._focusEditingCell()}else if(!e){var a=!0;if(i){var s=this.getController("columns").getColumns(),o=s.filter(l=>{var u;return l.showEditorAlways&&((u=l.validationRules)===null||u===void 0?void 0:u.length)>0}).length>0;a=!o}a&&this.getController("validating").initValidationState()}},_handleDataChanged:function(e){var t=this.getController("validating")._validationState;this.option("scrolling.mode")==="standard"&&this.resetRowAndPageIndices(),e.changeType==="prepend"&&ve(t,function(i,r){r.rowIndex+=e.items.length}),this.callBase(e)},resetRowAndPageIndices:function(){var e=this.getController("validating")._validationState;ve(e,(t,i)=>{i.pageIndex!==this._pageIndex&&(delete i.pageIndex,delete i.rowIndex)})},_beforeCancelEditData:function(){this.getController("validating").initValidationState(),this.callBase()},_showErrorRow:function(e){var t,i=this.getController("errorHandling"),r=this.getController("data").items(),n=this.getIndexByKey(e.key,r),a=this.getController("validating")._getValidationData(e.key);if(!(a!=null&&a.isValid)&&a!==null&&a!==void 0&&a.errorText&&n>=0)return t=this.getPopupContent(),i&&i.renderErrorRow(a==null?void 0:a.errorText,n,t)},updateFieldValue:function(e){var t=this.getController("validating"),i=new we;return t.removeCellValidationResult({change:this.getChangeByKey(e.key),columnIndex:e.column.index}),this.callBase.apply(this,arguments).done(()=>{var r=t.getCellValidator({rowKey:e.key,columnIndex:e.column.index});Ke(r&&t.validateCell(r)).done(n=>{this.getController("editorFactory").refocus(),i.resolve(n)})}),i.promise()},highlightDataCell:function(e,t){this.callBase.apply(this,arguments);var i=this.getController("validating");i.setCellValidationStatus(t);var r=!!t.setValue,n=this.isCellModified(t),a=oe(t.validationStatus),s=n&&t.column.setCellValue||r&&!n&&!(t.row.isNewRow||!a);if(s){var o=e.data("dxValidator");o&&Ke(this.getController("validating").validateCell(o)).done(()=>{i.setCellValidationStatus(t)})}},getChangeByKey:function(e){var t=this.getChanges();return t[Fe.getIndexByKey(e,t)]},isCellModified:function(e){var t=this.callBase(e),i=this.getChangeByKey(e.key),r=!!e.row&&this.getController("validating").isInvalidCell({rowKey:e.key,columnIndex:e.column.index});return t||this.getController("validating")._rowIsValidated(i)&&r}},editorFactory:{_showRevertButton:function(e){if(!(!e||!e.length)){var t=this._rowsView.element().find("."+this.addWidgetPrefix(Vh)),i=e.closest(".".concat(this.addWidgetPrefix(kS)));t&&t.remove(),t=J("<div>").addClass(this.addWidgetPrefix(Vh)).appendTo(e);var r={animation:null,visible:!0,width:"auto",height:"auto",shading:!1,container:i,propagateOutsideClick:!0,hideOnOutsideClick:!1,copyRootClassesToWrapper:!0,_ignoreCopyRootClassesToWrapperDeprecation:!0,contentTemplate:()=>{var n=J("<div>").addClass(Aee),a={icon:"revert",hint:this.option("editing.texts.validationCancelChanges"),onClick:()=>{this._editingController.cancelEditData()}};return new Ji(n,a).$element()},position:{my:"left top",at:"right top",offset:"1 0",collision:"flip",boundaryOffset:"0 0",boundary:this._rowsView.element(),of:e},onPositioned:this._positionedHandler.bind(this)};return new pn(t,r)}},_hideFixedGroupCell:function(e,t){var i,r,n=this._rowsView.isFixedColumns(),a=this._editingController.isFormOrPopupEditMode();if(n&&!a){var s=e.closest(".dx-row").next().data("options");s&&s.rowType==="group"&&(i=J(this._rowsView.getRowElement(s.rowIndex)).last(),r=i.find("."+Mee),r.length&&r.get(0).style.visibility!=="hidden"&&(r.css("visibility","hidden"),t.onDisposing=function(){r.css("visibility","")}))}},_positionedHandler:function(e,t){if(!e.component.__skipPositionProcessing){var i=J(e.element).hasClass(this.addWidgetPrefix(Vh)),r=!i&&this._rowsView.updateFreeSpaceRowHeight(),n=this._normalizeValidationMessagePositionAndMaxWidth(e,i,t);e.component.__skipPositionProcessing=!!(r||n),n?e.component.option(n):r&&e.component.repaint()}},_showValidationMessage:function(e,t,i,r){var n=e.find(".dx-dropdowneditor-overlay").data("dxPopup"),a=n&&n.option("visible"),s=a?"top right":"top "+i,o=a?"top left":"bottom "+i,l=e.closest(".".concat(this.addWidgetPrefix(kS))),u="";t&&t.forEach(function(f){u+=(u.length?"<br/>":"")+P_(f)});var d=this.addWidgetPrefix(Cg);this._rowsView.element().find("."+d).remove();var c=J("<div>").addClass(Tee).addClass(Iee).addClass(d).html(u).appendTo(e),h={container:l,shading:!1,width:"auto",height:"auto",visible:!0,animation:!1,propagateOutsideClick:!0,hideOnOutsideClick:!1,copyRootClassesToWrapper:!0,_ignoreCopyRootClassesToWrapperDeprecation:!0,position:{collision:"flip",boundary:this._rowsView.element(),boundaryOffset:"0 0",offset:{x:0,y:!a&&ri.mozilla?-1:0},my:s,at:o,of:e},onPositioned:f=>{this._positionedHandler(f,a),this._shiftValidationMessageIfNeed(f.component.$content(),r&&r.$content(),e)}};this._hideFixedGroupCell(e,h),new pn(c,h)},_normalizeValidationMessagePositionAndMaxWidth:function(e,t,i){var r=this._columnsController.getFixedColumns();if(!(!r||!r.length)){var n,a=!t&&(s=this,o=e.element,l=J(o).closest("tr").index(),u=J(s._rowsView.getRowElement(l)).first().children().filter(":not(.dx-hidden-cell)"),s._rowsView._getWidths(u).reduce((g,m)=>g+m,0)),s,o,l,u,d=e.component.$content(),c=Pt(d,!0),h=!t&&c>a,f=this._rowsView.getCellIndex(J(e.element).closest("td")),p=function(g){var m,v;return g.some((b,E)=>{if(b.command===Bee)return m=E===0?-1:E,v=E===g.length-1?-1:E+b.colspan-1,!0}),{startColumnIndex:m,endColumnIndex:v}}(r);return!t&&(f===p.startColumnIndex||h)?n={collision:"none flip",my:"top left",at:i?"top right":"bottom left"}:f===p.endColumnIndex&&(n={collision:"none flip",my:"top right",at:t||i?"top left":"bottom right"},t&&(n.offset="-1 0")),n&&{position:n,maxWidth:h?a-2:void 0}}},_shiftValidationMessageIfNeed:function(e,t,i){if(t){var r=e.offset(),n=t.offset();if(r.top===n.top&&r.left+ut(e)>n.left){var a=ut(t)+Oee;e.css("left",n.left<i.offset().left?-a:a)}}},_getTooltipsSelector:function(){var e=this.addWidgetPrefix(Cg),t=this.addWidgetPrefix(Vh);return".dx-editor-cell ."+t+", .dx-editor-cell ."+e+", .dx-cell-modified ."+e},init:function(){this.callBase(),this._editingController=this.getController("editing"),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView")},loseFocus:function(e){e||this.getController("validating").setValidator(null),this.callBase()},updateCellState:function(e,t,i){var r,n=e==null?void 0:e.closest(this._getFocusCellSelector()),a=n!=null&&n.is("td")?n:null,s=n==null?void 0:n.closest(".dx-row").data("options"),o=s?this.getController("editing").getChangeByKey(s.key):null,l=a&&this.getController("columns").getVisibleColumns()[a.index()],u=(o==null||(r=o.data)===null||r===void 0?void 0:r[l==null?void 0:l.name])!==void 0&&!this._editingController.isSaving(),d;((t==null?void 0:t.status)===Or.invalid||u)&&this._editingController.getEditMode()===hu&&(d=this._showRevertButton(n));var c=t&&t.status===Or.invalid;if(c&&a&&l&&t&&t.brokenRules){var h=[];t.brokenRules.forEach(function(f){f.message&&h.push(f.message)}),h.length&&this._showValidationMessage(n,h,l.alignment||"left",d)}!i&&this._rowsView.element()&&this._rowsView.updateFreeSpaceRowHeight()},focus:function(e,t){if(!arguments.length)return this.callBase();var i=e&&e.closest("."+this.addWidgetPrefix(Eee)).find(this._getTooltipsSelector());if(i&&i.remove(),e!=null&&e.hasClass("dx-row"))return this.callBase(e,t);var r=e==null?void 0:e.closest(this._getFocusCellSelector()),n=this.callBase,a=r&&(r.data("dxValidator")||e.find("."+this.addWidgetPrefix(bk)).eq(0).data("dxValidator")),s=r&&r.closest(".dx-row").data("options"),o=this.getController("editing"),l=s?o.getChangeByKey(s.key):null,u,d=this.getController("validating");if(a){d.setValidator(a);var c=a.option("adapter").getValue();if(MS(c,s)||d._rowIsValidated(l))return o.waitForDeferredOperations().done(()=>{Ke(d.validateCell(a)).done(h=>{u=h;var f=u.validator.option("dataGetter")().column;l&&f&&!d.isCurrentValidatorProcessing({rowKey:l.key,columnIndex:f.index})||(u.status===Or.invalid&&(t=!0),this.updateCellState(e,u,t),n.call(this,e,t))})}),this.callBase(e,t)}return this.updateCellState(e,u,t),this.callBase(e,t)},getEditorInstance:function(e){var t=e.find(".dx-texteditor").eq(0);return Fe.getWidgetInstance(t)}},data:{_isCellChanged:function(e,t,i,r,n){var a,s,o=(a=e.cells)===null||a===void 0?void 0:a[r],l=o&&o.validationStatus,u=this.getController("validating"),d=u.getCellValidationResult({rowKey:e.key,columnIndex:r}),c=u._getValidationData(e.key),h=pu(d)?d.status:d,f=JSON.stringify(t.modifiedValues)!==JSON.stringify(e.modifiedValues),p=J(o==null?void 0:o.cellElement).hasClass(this.addWidgetPrefix(_k)),g=e.isEditing!==t.isEditing,m=o==null||(s=o.column.validationRules)===null||s===void 0?void 0:s.length;return g&&m||l!==h&&f||c.isValid&&p?!0:this.callBase.apply(this,arguments)}}},views:{rowsView:{updateFreeSpaceRowHeight:function(e){var t,i,r,n=this.element(),a=n&&n.find("."+this.addWidgetPrefix(Cg)+" .dx-overlay-content");if(this.callBase(e),a&&a.length&&(t=this._getRowElements(),r=this._getFreeSpaceRowElements(e),i=r.first(),i&&t.length===1&&(!i.is(":visible")||At(a)>At(i))))return r.show(),Lr(r,At(a)),!0},_formItemPrepared:function(e,t){this.callBase.apply(this,arguments),dr(()=>{var i=t.find(".dx-widget").first(),r=i.length&&!i.children().length;r||this.getController("validating").createValidator(e,i)})},_cellPrepared:function(e,t){this.getController("editing").isFormOrPopupEditMode()||this.getController("validating").createValidator(t,e),this.callBase.apply(this,arguments)},_restoreErrorRow:function(e){var t=this.getController("editing");t&&t.hasChanges()&&this._getRowElements(e).each((i,r)=>{var n=J(r).data("options");if(n){var a=t.getChangeByKey(n.key);a&&t._showErrorRow(a)}})}}}}};qe.registerModule("validating",Fee);var Sg="scrolling.legacyMode",Ck=e=>e.option("scrolling.loadTwoPagesOnStart")||e._controller.isVirtual()||e._controller.getViewportItemIndex()>0,mc=e=>e._cache.length?e._cache[0].pageIndex:-1,o_=e=>e._cache.length?e._cache[e._cache.length-1].pageIndex:-1,rf=(e,t,i)=>{e._isChangedFiring=!0,t(i),e._isChangedFiring=!1},BS=(e,t,i)=>{if(e._isDelayChanged)return e._isDelayChanged=!1,rf(e,t,i),!0},Nee=e=>{var t=e._dataOptions.pageSize(),i=e.option("scrolling.preventPreload");if(i)return 0;var r=e._controller.viewportSize();if(e._controller.isVirtualMode()&&e.option("scrolling.removeInvisiblePages")){r=0;for(var n=e._controller.viewportSize()*e._controller.viewportItemSize(),a=e._controller.getContentOffset(),s=e._controller.getViewportPosition(),o=e._controller.virtualItemsCount(),l=e._dataOptions.totalItemsCount(),u=o.begin;u<l&&!(a>=s+n);u++){var d=e._controller.getItemSizes()[u]||e._controller.viewportItemSize();a+=d,a>=s&&r++}}return t&&r>0?Math.ceil(r/t):1},gc=(e,t)=>{var i=e.option("scrolling.preloadEnabled"),r=Nee(e),n=e._controller.isAppendMode();return r&&(t?r=i?1:0:(i&&r++,(n||!Ck(e))&&r--)),r},Vee=e=>{var t=-1,i=mc(e),r=e._dataOptions;if(i<0)t=e._pageIndex;else if(!e._cache[e._pageIndex-i])t=e._pageIndex;else if(i>=0&&e._controller.viewportSize()>=0){if(i>0){var n=o_(e)+1===r.pageCount()&&e._cache.length<gc(e)+1,a=n||e._pageIndex===i&&gc(e,!0);a&&(t=i-1)}if(t<0){var s=i+e._cache.length<=e._pageIndex+gc(e);s&&(t=i+e._cache.length)}}return e._loadingPageIndexes[t]&&(t=-1),t},Hee=(e,t)=>{var i=e._dataOptions;if(t===e.pageIndex()||!i.isLoading()&&t<i.pageCount()||!i.hasKnownLastPage()&&t===i.pageCount())return i.pageIndex(t),e._loadingPageIndexes[t]=!0,Ke(i.load()).always(()=>{e._loadingPageIndexes[t]=!1})},PS=(e,t,i,r,n)=>{var a=e._dataOptions,s=a.items().slice(),o=at(i)?i:void 0,l=i==="prepend",u=a.viewportItems();i&&nt(i)&&!e._isDelayChanged&&(o={changeType:i,items:s},n&&(o.removeCount=n.itemsCount,o.removeCount&&a.correctCount&&(o.removeCount=a.correctCount(u,o.removeCount,l))));var d=n?n.itemsLength:0;d&&a.correctCount&&(d=a.correctCount(u,d,l)),i==="append"?(u.push.apply(u,s),n&&u.splice(0,d)):l?(u.unshift.apply(u,s),n&&u.splice(-d)):e._dataOptions.viewportItems(s),a.updateLoading(),e._lastPageIndex=e.pageIndex(),e._isDelayChanged=r,r||rf(e,t,o)};class $ee{constructor(t,i){this._controller=t,this._dataOptions=i,this._pageIndex=this._lastPageIndex=i.pageIndex(),this._cache=[],this._loadingPageIndexes={}}option(){return this._controller.option.apply(this._controller,arguments)}viewportItemIndexChanged(t){var i=this._dataOptions.pageSize(),r=this._dataOptions.pageCount(),n=this._controller.isVirtualMode(),a=this._controller.isAppendMode(),s=this._dataOptions.totalItemsCount(),o;if(i&&(n||a)&&s>=0){var l=this._controller.viewportSize();if(l&&t+l>=s&&!this._controller.isVirtual())if(this._dataOptions.hasKnownLastPage()){o=r-1;var u=s%i;o>0&&u>0&&u<l&&o--}else o=r;else{o=Math.floor(t/i);var d=r-1;o=Math.max(o,0),o=Math.min(o,d)}return this.pageIndex(o),this.load()}}pageIndex(t){var i=this._controller.isVirtualMode(),r=this._controller.isAppendMode();return this.option(Sg)!==!1&&(i||r)?(t!==void 0&&(this._pageIndex=t),this._pageIndex):this._dataOptions.pageIndex(t)}beginPageIndex(t){var i=mc(this);return i<0&&(i=t!==void 0?t:this.pageIndex()),i}endPageIndex(){var t=o_(this);return t>0?t:this._lastPageIndex}pageSize(){return this._dataOptions.pageSize()}load(){var t=this._dataOptions,i,r=this._controller.isVirtualMode(),n=this._controller.isAppendMode();if(this.option(Sg)!==!1&&(r||n)){var a=Vee(this);if(a>=0){var s=Hee(this,a);s&&(i=new we,s.done(()=>{var o=this._delayDeferred;o?o.done(i.resolve).fail(i.reject):i.resolve()}).fail(i.reject),t.updateLoading())}}else i=t.load();return!i&&this._lastPageIndex!==this.pageIndex()&&this._dataOptions.onChanged({changeType:"pageIndex"}),i||new we().resolve()}loadIfNeed(){var t=this._controller.isVirtualMode(),i=this._controller.isAppendMode();if((t||i)&&!this._dataOptions.isLoading()&&(!this._isChangedFiring||this._controller.isVirtual())){var r=this._controller.getViewportPosition();r>0?this._controller._setViewportPositionCore(r):this.load()}}handleDataChanged(t,i){var r=this._dataOptions,n=this._cache.length,a,s,o=this._controller.isVirtualMode(),l=this._controller.isAppendMode();if(i&&i.changes)rf(this,t,i);else if(this.option(Sg)!==!1&&(o||l)){var u=mc(this);if(u>=0&&(o&&u+this._cache.length!==r.pageIndex()&&u-1!==r.pageIndex()&&(n=0,this._cache=[]),l)){if(r.pageIndex()===0)this._cache=[];else if(r.pageIndex()<o_(this)){rf(this,t,{changeType:"append",items:[]});return}}var d={pageIndex:r.pageIndex(),itemsLength:r.items(!0).length,itemsCount:this.itemsCount(!0)};this.option("scrolling.removeInvisiblePages")&&o?s=this._cache.length>Math.max(gc(this)+(this.option("scrolling.preloadEnabled")?1:0),2):BS(this,t,{isDelayed:!0});var c;u===r.pageIndex()+1?(s&&(c=this._cache.pop()),a="prepend",this._cache.unshift(d)):(s&&(c=this._cache.shift()),a="append",this._cache.push(d));var h=o&&n===0&&Ck(this);PS(this,t,this._cache.length>1?a:void 0,h,c),this._delayDeferred=this.load().done(()=>{BS(this,t)&&this.load()})}else PS(this,t,i)}getDelayDeferred(){return this._delayDeferred}itemsCount(t){var i=0,r=this._controller.isVirtualMode();return!t&&r?this._cache.forEach(n=>{i+=n.itemsCount}):i=this._dataOptions.itemsCount(),i}virtualItemsCount(){var t=mc(this);t<0&&(t=this._dataOptions.pageIndex());var i=t*this._dataOptions.pageSize(),r=this._cache.length*this._dataOptions.pageSize(),n=Math.max(0,this._dataOptions.totalItemsCount()-r-i);return{begin:i,end:n}}reset(){this._loadingPageIndexes={},this._cache=[]}}var zee="infinite",xk="virtual",Hh="scrolling.legacyMode",LS=e=>e.option("scrolling.mode")===xk||e._isVirtual,Wee=e=>e.option("scrolling.mode")===zee&&!e._isVirtual;function wk(e,t,i){var r,n=[],a=[];i=i||e;function s(u){var d=u.element?u.$element():u,c=Ki.offset(d);return c?u.scrollTop()-(c.top-e.offset().top):e.offset().top}var o={on:function(u,d,c){u.on("scroll",c)},off:function(u,d,c){u.off("scroll",c)}};function l(u){var d=u.get(0).nodeName==="#document",c=u.data("dxScrollable"),h=o;if(!(!c&&(c=d&&J(ft())||u.css("overflowY")==="auto"&&u,h=he,!c))){var f=function(p){return function(){var g=p.scrollTop()-s(p);g=g>0?g:0,t(g)}}(c);h.on(c,"scroll",f),n.push(function(p){var g=s(c),m=c.scrollTo?"scrollTo":"scrollTop";p-g>=0&&c[m](p+g)}),a.push(function(){h.off(c,"scroll",f)})}}for(r=i.parent();r.length;r=r.parent())l(r);return{scrollTo:function(u){ve(n,function(d,c){c(u)})},dispose:function(){ve(a,function(u,d){d()})}}}var Sk=Ot.inherit(function(){var e={ctor:function(t,i,r){this._dataOptions=i,this.component=t,this._viewportSize=t.option(Hh)===!1?15:0,this._viewportItemSize=20,this._viewportItemIndex=0,this._position=0,this._isScrollingBack=!1,this._contentSize=0,this._itemSizes={},this._sizeRatio=1,this._isVirtual=r,this.positionChanged=Ht(),this._dataLoader=new $ee(this,this._dataOptions)},getItemSizes:function(){return this._itemSizes},option:function(){return this.component.option.apply(this.component,arguments)},isVirtual:function(){return this._isVirtual},virtualItemsCount:function(){if(LS(this)){var t=this._dataOptions,i=t.totalItemsCount();if(this.option(Hh)===!1&&i!==-1){var r=this.getViewportParams(),n=t.loadedOffset(),a=t.loadedItemCount(),s=Math.max(r.skip,n),o=Math.min(r.take,a),l=Math.max(i-(s+o),0);return{begin:s,end:l}}return this._dataLoader.virtualItemsCount.apply(this._dataLoader,arguments)}},getScrollingTimeout:function(){var t=this.option("scrolling.renderAsync"),i=0;if(!oe(t))i=Math.min(this.option("scrolling.timeout")||0,this._dataOptions.changingDuration()),i<this.option("scrolling.renderingThreshold")&&(i=this.option("scrolling.minTimeout")||0);else if(t){var r;i=(r=this.option("scrolling.timeout"))!==null&&r!==void 0?r:0}return i},setViewportPosition:function(t){var i=new we,r=this.getScrollingTimeout();return clearTimeout(this._scrollTimeoutID),r>0?this._scrollTimeoutID=setTimeout(()=>{this._setViewportPositionCore(t),i.resolve()},r):(this._setViewportPositionCore(t),i.resolve()),i.promise()},getViewportPosition:function(){return this._position},getItemIndexByPosition:function(t,i,r){var n;t=(n=t)!==null&&n!==void 0?n:this._position;for(var a=this.getItemSize(),s=0,o=0,l=Object.keys(this._itemSizes).concat(-1),u=0;u<l.length&&s<t;u++){var d=parseInt(l[u]),c=(t-s)/a;if(d<0||o+c<d){o+=c,this._sizeRatio<1&&oe(i)&&(o=i+r/this._viewportItemSize);break}else c=d-o,s+=c*a,o+=c;var h=this._itemSizes[d];s+=h,o+=s<t?1:(t-s+h)/h}return Math.round(50*o)/50},isScrollingBack:function(){return this._isScrollingBack},_setViewportPositionCore:function(t){var i=this._position||0;this._position=t,i!==this._position&&(this._isScrollingBack=this._position<i);var r=this.getItemIndexByPosition(),n=this.setViewportItemIndex(r);return this.positionChanged.fire(),n},setContentItemSizes:function(t){var i=this.virtualItemsCount();if(this._contentSize=t.reduce((a,s)=>a+s,0),i){t.forEach((a,s)=>{this._itemSizes[i.begin+s]=a});var r=(i.begin+i.end+this.itemsCount())*this._viewportItemSize,n=Fe.getContentHeightLimit(ri);r>n?this._sizeRatio=n/r:this._sizeRatio=1}},getItemSize:function(){return this._viewportItemSize*this._sizeRatio},getItemOffset:function(t,i){var r=this.virtualItemsCount(),n=t;if(!r)return 0;var a=0,s=this._dataOptions.totalItemsCount();return Object.keys(this._itemSizes).forEach(o=>{n&&(i?o>=s-t:o<t)&&(a+=this._itemSizes[o],n--)}),Math.floor(a+n*this._viewportItemSize*this._sizeRatio)},getContentOffset:function(t){var i=t==="end",r=this.virtualItemsCount();return r?this.getItemOffset(i?r.end:r.begin,i):0},getVirtualContentSize:function(){var t=this.virtualItemsCount();return t?this.getContentOffset("begin")+this.getContentOffset("end")+this._contentSize:0},getViewportItemIndex:function(){return this._viewportItemIndex},setViewportItemIndex:function(t){if(this._viewportItemIndex=t,this.option(Hh)!==!1)return this._dataLoader.viewportItemIndexChanged.apply(this._dataLoader,arguments)},viewportItemSize:function(t){return t!==void 0&&(this._viewportItemSize=t),this._viewportItemSize},viewportSize:function(t){return t!==void 0&&(this._viewportSize=t),this._viewportSize},viewportHeight:function(t,i){var r=i??this._position,n=this.getItemIndexByPosition(r),a=this.getItemIndexByPosition(r+t,n,t);this.viewportSize(Math.ceil(a-n)),!oe(i)&&this._viewportItemIndex!==n&&this._setViewportPositionCore(r)},reset:function(t){this._dataLoader.reset(),t||(this._itemSizes={})},subscribeToWindowScrollEvents:function(t){this._windowScroll=this._windowScroll||wk(t,i=>{this.viewportItemSize()&&this.setViewportPosition(i)})},dispose:function(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null},scrollTo:function(t){this._windowScroll&&this._windowScroll.scrollTo(t)},isVirtualMode:function(){return LS(this)},isAppendMode:function(){return Wee(this)},getViewportParams:function(){var t,i=this.option("scrolling.mode")===xk,r=this._dataOptions.totalItemsCount(),n=this._dataOptions.hasKnownLastPage(),a=n&&this._viewportItemIndex>r?r:this._viewportItemIndex,s=this._viewportSize+a,o=this.option("scrolling.prerenderedRowChunkSize")||1,l=this.isScrollingBack(),u=(t=this.option("scrolling.prerenderedRowCount"))!==null&&t!==void 0?t:1,d=l?u:0,c=l?0:u,h=Math.floor(Math.max(0,a-d)/o)*o,f=Math.ceil((s+c-h)/o)*o;if(i){var p=Math.max(0,r-h);f=Math.min(f,p)}return{skip:h,take:f}},itemsCount:function(){var t=0;return this.option(Hh)?t=this._dataLoader.itemsCount.apply(this._dataLoader,arguments):t=this._dataOptions.itemsCount(),t}};return["pageIndex","beginPageIndex","endPageIndex","pageSize","load","loadIfNeed","handleDataChanged","getDelayDeferred"].forEach(function(t){e[t]=function(){return this._dataLoader[t].apply(this._dataLoader,arguments)}}),e}()),FS="bottom-load-panel",jee="table-content",Uee="group-space",Gee="content",NS="dx-freespace-row",Kee="dx-column-lines",$h="dx-virtual-row",qee="dx-row-inserted",Xee="infinite",Yee="virtual",Ek=300,Mt="scrolling.legacyMode",Eg="paging.pageIndex",hr=function(e){return e.option("scrolling.mode")===Yee},kn=function(e){return e.option("scrolling.mode")===Xee},yn=function(e){return hr(e)||kn(e)},VS=function(e,t,i,r){for(var n=0;n<t+1;n++){var a=e[i?e.length-1-n:n];a&&!r(a,n===t,i)&&t++}return t},vc=function(e,t){return e.rowType==="data"&&!e.isNewRow||e.rowType==="group"&&t.isGroupItemCountable(e.data)},Zee=function(e){return e.forEach(function(t,i){t.rowIndex=i}),e},Jee=function(){var e=function(i){var r=i._virtualScrollController.beginPageIndex(-1);hr(i)&&(r<0||i.viewportSize()>=0&&i.getViewportItemIndex()>=0&&(r*i.pageSize()>i.getViewportItemIndex()||r*i.pageSize()+i.itemsCount()<i.getViewportItemIndex()+i.viewportSize())&&i._dataSource.isLoading()?i._isLoading||(i._isLoading=!0,i.loadingChanged.fire(!0)):i._isLoading&&(i._isLoading=!1,i.loadingChanged.fire(!1)))},t={init:function(){this.callBase.apply(this,arguments),this._items=[],this._totalCount=-1,this._isLoaded=!0,this._loadPageCount=1,this._virtualScrollController=new Sk(this.component,this._getVirtualScrollDataOptions())},_getVirtualScrollDataOptions:function(){var i=this;return{pageSize:function(){return i.pageSize()},totalItemsCount:function(){return i.totalItemsCount()},hasKnownLastPage:function(){return i.hasKnownLastPage()},pageIndex:function(r){return i._dataSource.pageIndex(r)},isLoading:function(){return i._dataSource.isLoading()&&!i.isCustomLoading()},pageCount:function(){return i.pageCount()},load:function(){return i._dataSource.load()},updateLoading:function(){e(i)},itemsCount:function(){return i.itemsCount(!0)},items:function(){return i._dataSource.items()},viewportItems:function(r){return r&&(i._items=r),i._items},onChanged:function(r){i.changed.fire(r)},changingDuration:function(r){return i.isLoading()?Ek:i._renderTime||0}}},_handleLoadingChanged:function(i){if(this.option(Mt)===!1){this.callBase.apply(this,arguments);return}(!hr(this)||this._isLoadingAll)&&(this._isLoading=i,this.callBase.apply(this,arguments)),i?this._startLoadTime=new Date:this._startLoadTime=void 0},_handleLoadError:function(){this.option(Mt)!==!1&&(this._isLoading=!1,this.loadingChanged.fire(!1)),this.callBase.apply(this,arguments)},_handleDataChanged:function(i){if(this.option(Mt)===!1){this._items=this._dataSource.items().slice(),this._totalCount=this._dataSourceTotalCount(!0),this.callBase.apply(this,arguments);return}var r=this.callBase.bind(this);this._virtualScrollController.handleDataChanged(r,i)},_customizeRemoteOperations:function(i,r){var n=this.option(Mt)===!1,a=this.option("scrolling.renderAsync");oe(a)||(a=this._renderTime>=this.option("scrolling.renderingThreshold")),(hr(this)||kn(this)&&n)&&!r.reload&&(r.skip||n)&&!a&&(i.delay=void 0),this.callBase.apply(this,arguments)},items:function(){return this._items},_dataSourceTotalCount:function(i){return this.option(Mt)===!1&&hr(this)&&!i?this._totalCount:this.callBase()},itemsCount:function(i){return i||this.option(Mt)===!1?this.callBase():this._virtualScrollController.itemsCount()},load:function(i){return this.option(Mt)===!1||i?this.callBase(i):this._virtualScrollController.load()},isLoading:function(){return this.option(Mt)===!1?this._dataSource.isLoading():this._isLoading},isLoaded:function(){return this._dataSource.isLoaded()&&this._isLoaded},resetPagesCache:function(i){i||this._virtualScrollController.reset(!0),this.callBase.apply(this,arguments)},_changeRowExpandCore:function(){var i=this.callBase.apply(this,arguments);return this.option(Mt)===!1||(this.resetPagesCache(),e(this)),i},reload:function(){this._dataSource.pageIndex(this.pageIndex());var i=this._virtualScrollController;if(this.option(Mt)!==!1&&i){var r=new we;return this.callBase.apply(this,arguments).done(function(n){var a=i.getDelayDeferred();a?a.done(r.resolve).fail(r.reject):r.resolve(n)}).fail(r.reject),r}else return this.callBase.apply(this,arguments)},refresh:function(i,r){if(this.option(Mt)!==!1){var n=i.storeLoadOptions,a=this._dataSource;r.reload?(this._virtualScrollController.reset(),a.items().length=0,this._isLoaded=!1,e(this),this._isLoaded=!0,kn(this)?(this.pageIndex(0),a.pageIndex(0),n.pageIndex=0,i.pageIndex=0,n.skip=0):(a.pageIndex(this.pageIndex()),a.paginate()&&(i.pageIndex=this.pageIndex(),n.skip=this.pageIndex()*this.pageSize()))):kn(this)&&n.skip&&this._totalCountCorrection<0&&(n.skip+=this._totalCountCorrection)}return this.callBase.apply(this,arguments)},dispose:function(){this._virtualScrollController.dispose(),this.callBase.apply(this,arguments)},loadPageCount:function(i){if(!oe(i))return this._loadPageCount;this._loadPageCount=i},_handleDataLoading:function(i){var r=this.loadPageCount(),n=this.pageSize(),a=this.option(Mt)===!1,s=i.storeLoadOptions,o=oe(s.take);i.loadPageCount=r,!i.isCustomLoading&&a&&o&&r>1&&n>0&&(s.take=r*n),this.callBase.apply(this,arguments)},_loadPageSize:function(){return this.callBase.apply(this,arguments)*this.loadPageCount()}};return["beginPageIndex","endPageIndex","pageIndex"].forEach(function(i){t[i]=function(){if(this.option(Mt)===!1){var r=this._dataSource;return r.pageIndex.apply(r,arguments)}var n=this._virtualScrollController;return n[i].apply(n,arguments)}}),["virtualItemsCount","getContentOffset","getVirtualContentSize","setContentItemSizes","setViewportPosition","getViewportItemIndex","setViewportItemIndex","getItemIndexByPosition","viewportSize","viewportItemSize","getItemSize","getItemSizes","loadIfNeed"].forEach(function(i){t[i]=function(){var r=this._virtualScrollController;return r[i].apply(r,arguments)}}),t}(),Qee=function(){var e=function(t,i){var r=t.toArray().map(s=>J(s).parent("."+i).get(0)).filter(s=>s);r.length&&(t=J(r));for(var n=i===NS?t.length-1:t.length,a=0;a<n;a++)t.eq(a).remove()};return{init:function(){var t,i=this.getController("data");this.callBase(),i.pageChanged.add(r=>{var n=this._scrollTop;this.scrollToPage(r??i.pageIndex()),this.option(Mt)===!1&&this._scrollTop===n&&i.updateViewport()}),i.dataSourceChanged.add(()=>{!this._scrollTop&&this._scrollToCurrentPageOnResize()}),(t=i.stateLoaded)===null||t===void 0||t.add(()=>{this._scrollToCurrentPageOnResize()}),this._scrollToCurrentPageOnResize()},_scrollToCurrentPageOnResize:function(){var t=this.getController("data");if(t.pageIndex()>0){var i=()=>{this.resizeCompleted.remove(i),this.scrollToPage(t.pageIndex())};this.resizeCompleted.add(i)}},scrollToPage:function(t){var i=this._dataController,r=i?i.pageSize():0,n;if(hr(this)||kn(this)){var a=i.getItemSize(),s=i.getItemSizes(),o=t*r;n=o*a;for(var l in s)l<o&&(n+=s[l]-a)}else n=0;this.scrollTo({y:n,x:this._scrollLeft})},renderDelayedTemplates:function(t){this._updateContentPosition(!0),this.callBase.apply(this,arguments)},_renderCore:function(t){var i=new Date;this.callBase.apply(this,arguments);var r=this._dataController._dataSource;if(r&&t){var n=t.items?t.items.length:20,a=this._dataController.viewportSize()||20;Fe.isVirtualRowRendering(this)&&n>0&&this.option(Mt)!==!1?r._renderTime=(new Date-i)*a/n:r._renderTime=new Date-i}},_getRowElements:function(t){var i=this.callBase(t);return i&&i.not("."+$h)},_removeRowsElements:function(t,i,r){var n=this._getRowElements(t).toArray();r==="append"?n=n.slice(0,i):n=n.slice(-i);var a=this.getController("errorHandling");n.map(s=>{var o=J(s);a&&a.removeErrorRow(o.next()),o.remove()})},_updateContent:function(t,i){var r,n=this._findContentElement(),a=i&&i.changeType,s=n.children().first();if(a==="append"||a==="prepend"){var o=this._getBodies(t);o.length===1?this._getBodies(s)[a==="append"?"append":"prepend"](o.children()):o[a==="append"?"appendTo":"prependTo"](s),t.remove(),r=this._getFreeSpaceRowElements(s),e(r,NS),i.removeCount&&this._removeRowsElements(s,i.removeCount,a),this._restoreErrorRow(s)}else this.callBase.apply(this,arguments),a==="update"&&this._restoreErrorRow(s);this._updateBottomLoading()},_addVirtualRow:function(t,i,r,n){if(n){var a=this._createEmptyRow($h,i,n);a=this._wrapRowIfNeed(t,a),this._appendEmptyRow(t,a,r)}},_updateContentItemSizes:function(){var t=this._getRowHeights(),i=this._correctRowHeights(t);this._dataController.setContentItemSizes(i)},_updateViewportSize:function(t,i){oe(t)||(t=this._hasHeight?At(this.element()):At(ft())),this._dataController.viewportHeight(t,i)},_getRowHeights:function(){var t,i,r=(t=this.getController("editing"))===null||t===void 0||(i=t.isPopupEditMode)===null||i===void 0?void 0:i.call(t),n=this._getRowElements(this._tableElement).toArray();return r&&(n=n.filter(a=>!J(a).hasClass(qee))),n.map(a=>vi(a).height)},_correctRowHeights:function(t){for(var i=this._dataController,r=i._dataSource,n=[],a=i.getVisibleRows(),s=0,o=!0,l=-1,u=0;u<t.length;u++){var d=a[u];oe(d)&&(this.option(Mt)===!1?(l>=0&&l!==d.loadIndex&&(n.push(s),s=0),l=d.loadIndex):vc(d,r)&&(o?o=!1:(n.push(s),s=0)),s+=t[u])}return s>0&&n.push(s),n},_updateContentPosition:function(t){var i=this._dataController,r=this._rowHeight||20;if(i.viewportItemSize(r),hr(this)||Fe.isVirtualRowRendering(this)){t||this._updateContentItemSizes();var n=i.getContentOffset("begin"),a=i.getContentOffset("end"),s=this.getTableElements(),o=s.children("tbody").children("."+$h);e(o,$h),s.each((l,u)=>{var d=l>0,c=this._isFixedTableRendering;this._isFixedTableRendering=d,this._addVirtualRow(J(u),d,"top",n),this._addVirtualRow(J(u),d,"bottom",a),this._isFixedTableRendering=c})}},_isTableLinesDisplaysCorrect:function(t){var i=t.find("."+Kee).length>0;return i===this.option("showColumnLines")},_isColumnElementsEqual:function(t,i){var r=t.length===i.length;return r&&ve(t,function(n,a){if(a.style.width!==i[n].style.width)return r=!1,r}),r},_getCellClasses:function(t){var i=[],r=t.cssClass,n=t.command==="expand";return r&&i.push(r),n&&i.push(this.addWidgetPrefix(Uee)),i},_findBottomLoadPanel:function(t){var i=t||this.element(),r=i&&i.find("."+this.addWidgetPrefix(FS));if(r&&r.length)return r},_updateBottomLoading:function(){var t=hr(this),i=kn(this),r=!this._dataController.hasKnownLastPage()&&this._dataController.isLoaded()&&(t||i),n=this._findContentElement(),a=this._findBottomLoadPanel(n);r?a||J("<div>").addClass(this.addWidgetPrefix(FS)).append(this._createComponent(J("<div>"),Rr).$element()).appendTo(n):a&&a.remove()},_handleScroll:function(t){var i=this.option(Mt)===!0,r=t.scrollOffset.top===0;(this._hasHeight||!i&&r)&&this._rowHeight&&(this._scrollTop=t.scrollOffset.top,hr(this)&&this.option(Mt)===!1&&(this._updateContentItemSizes(),this._updateViewportSize(null,this._scrollTop)),this._dataController.setViewportPosition(t.scrollOffset.top)),this.callBase.apply(this,arguments)},_needUpdateRowHeight:function(t){return this.callBase.apply(this,arguments)||t>0&&kn(this)&&!Fe.isVirtualRowRendering(this)},_updateRowHeight:function(){if(this.callBase.apply(this,arguments),this._rowHeight){this._updateContentPosition();var t=this._hasHeight?At(this.element()):At(ft()),i=this._dataController;this.option(Mt)===!1?(this._updateViewportSize(t),i.updateViewport()):i.viewportSize(Math.ceil(t/this._rowHeight))}},updateFreeSpaceRowHeight:function(){var t=this.callBase.apply(this,arguments);return t&&this._updateContentPosition(),t},setLoading:function(t,i){var r=this._dataController,n=r.pageIndex()>0&&r.isLoaded()&&!!this._findBottomLoadPanel();this.option(Mt)===!1&&t&&r.isViewportChanging()||(n&&(t=!1),this.callBase.call(this,t,i))},_resizeCore:function(){var t=this,i=t.element();t.callBase(),t.component.$element()&&!t._windowScroll&&i.closest(ft().document).length&&(t._windowScroll=wk(i,function(r){!t._hasHeight&&t._rowHeight&&t._dataController.setViewportPosition(r)},t.component.$element()),t.on("disposing",function(){t._windowScroll.dispose()})),this.option(Mt)!==!1&&t.loadIfNeed()},loadIfNeed:function(){var t,i=this._dataController;i==null||(t=i.loadIfNeed)===null||t===void 0||t.call(i)},setColumnWidths:function(t){var i=this.getScrollable(),r;this.callBase.apply(this,arguments),this.option("scrolling.mode")==="virtual"&&(r=i?J(i.content()):this.element(),this.callBase(t,r.children("."+this.addWidgetPrefix(Gee)).children(":not(."+this.addWidgetPrefix(jee)+")")))},_restoreErrorRow:function(){if(this.option(Mt)===!1){var t=this.getController("errorHandling");t==null||t.removeErrorRow()}this.callBase.apply(this,arguments)},dispose:function(){clearTimeout(this._scrollTimeoutID),this.callBase()}}}(),Tk={defaultOptions:function(){return{scrolling:{timeout:300,updateTimeout:300,minTimeout:0,renderingThreshold:100,removeInvisiblePages:!0,rowPageSize:5,prerenderedRowChunkSize:1,mode:"standard",preloadEnabled:!1,rowRenderingMode:"standard",loadTwoPagesOnStart:!1,legacyMode:!1,prerenderedRowCount:1}}},extenders:{dataSourceAdapter:Jee,controllers:{data:function(){var e={_refreshDataSource:function(){var t=this.callBase.apply(this,arguments)||new we().resolve().promise();return t.done(this.initVirtualRows.bind(this)),t},_loadDataSource:function(){if(this._rowsScrollController&&yn(this)){var t,{loadPageCount:i}=oe(this._loadViewportParams)?this.getLoadPageParams():{};i>=1&&((t=this._dataSource)===null||t===void 0||t.loadPageCount(i))}return this.callBase.apply(this,arguments)},getRowPageSize:function(){var t=this.option("scrolling.rowPageSize"),i=this.pageSize();return i&&i<t?i:t},reload:function(){var t=this._rowsScrollController||this._dataSource,i=t&&t.getItemIndexByPosition(),r=this.callBase.apply(this,arguments);return r&&r.done(()=>{if(hr(this)||Fe.isVirtualRowRendering(this)){var n=this.getRowIndexOffset(),a=Math.floor(i)-n,s=this.component,o=s.getScrollable&&s.getScrollable(),l=this.dataSource().operationTypes().sorting;if(o&&!l&&a>=0){var u=s.getRowElement(a),d=u&&u[0]&&J(u[0]),c=d&&d.position().top,h=ri.chrome&&ri.version>=91,f=ri.mozilla||h?1:0;c>f&&(c=Math.round(c+At(d)*(i%1)),o.scrollTo({y:c}))}}})},initVirtualRows:function(){var t=Fe.isVirtualRowRendering(this);if(this._allItems=null,this._loadViewportParams=null,this.option("scrolling.mode")!=="virtual"&&t!==!0||t===!1||this.option(Mt)!==!1&&!this.option("scrolling.rowPageSize")){this._visibleItems=null,this._rowsScrollController=null;return}var i=!hr(this)&&this.pageIndex()>=this.pageCount()?this.pageCount()-1:this.pageIndex();this._rowPageIndex=Math.ceil(i*this.pageSize()/this.getRowPageSize()),this._visibleItems=this.option(Mt)===!1?null:[],this._viewportChanging=!1,this._needUpdateViewportAfterLoading=!1,this._rowsScrollController||(this._rowsScrollController=new Sk(this.component,this._getRowsScrollDataOptions(),!0),this._rowsScrollController.positionChanged.add(()=>{var r;if(this.option(Mt)===!1){this._viewportChanging=!0,this.loadViewport(),this._viewportChanging=!1;return}(r=this._dataSource)===null||r===void 0||r.setViewportItemIndex(this._rowsScrollController.getViewportItemIndex())})),this.option(Mt)===!1&&this._updateLoadViewportParams(),this.isLoaded()&&this.option(Mt)!==!1&&this._rowsScrollController.load()},isViewportChanging:function(){return this._viewportChanging},_getRowsScrollDataOptions:function(){var t=this,i=function(r){return vc(r,t._dataSource)};return{pageSize:function(){return t.getRowPageSize()},loadedOffset:function(){var r;return hr(t)&&((r=t._dataSource)===null||r===void 0?void 0:r.lastLoadOptions().skip)||0},loadedItemCount:function(){return t._itemCount},totalItemsCount:function(){return yn(t)?t.totalItemsCount():t.option(Mt)===!1?t._itemCount:t._items.filter(i).length},hasKnownLastPage:function(){return t.option(Mt)===!1?t.hasKnownLastPage():!0},pageIndex:function(r){return r!==void 0&&(t._rowPageIndex=r),t._rowPageIndex},isLoading:function(){return t.isLoading()},pageCount:function(){var r=Math.ceil(this.totalItemsCount()/this.pageSize());return r||1},load:function(){t._rowsScrollController.pageIndex()>=this.pageCount()&&(t._rowPageIndex=this.pageCount()-1,t._rowsScrollController.pageIndex(t._rowPageIndex)),!(!this.items().length&&this.totalItemsCount())&&t._rowsScrollController.handleDataChanged(r=>{r=r||{},r.changeType=r.changeType||"refresh",r.items=r.items||t._visibleItems,t._visibleItems.forEach((n,a)=>{n.rowIndex=a}),t._fireChanged(r)})},updateLoading:function(){},itemsCount:function(){return this.items(!0).length},correctCount:function(r,n,a){return VS(r,n,a,(s,o,l)=>s.isNewRow?o&&!l:o&&l?!s.isNewRow:i(s))},items:function(r){var n=t._items;if(t.option(Mt)){var a=t.dataSource(),s=a==null?void 0:a.virtualItemsCount(),o=s?s.begin:0,l=t.getRowPageSize(),u=t._rowPageIndex*l-o,d=l;if(u<0)return[];u&&(u=this.correctCount(n,u),n=n.slice(u)),d&&(d=this.correctCount(n,d),n=n.slice(0,d))}return r?n.filter(i):n},viewportItems:function(r){return r&&t.option(Mt)!==!1&&(t._visibleItems=r),t._visibleItems},onChanged:function(){},changingDuration:function(r){var n=t.dataSource();return n!=null&&n.isLoading()&&t.option(Mt)!==!1?Ek:(n==null?void 0:n._renderTime)||0}}},_updateItemsCore:function(t){var i=this.getRowIndexDelta();if(this.callBase.apply(this,arguments),this.option(Mt)===!1&&Fe.isVirtualRowRendering(this)){t.changeType==="update"&&t.rowIndices.length===0&&t.cancelEmptyChanges&&(t.cancel=!0);return}var r=this._rowsScrollController;if(r){var n=this._visibleItems,a=t.changeType==="refresh"||t.isLiveUpdate;if(t.changeType==="append"&&t.items&&!t.items.length)return;a||t.changeType==="append"||t.changeType==="prepend"?(t.cancel=!0,a&&r.reset(!0),r.load()):(t.changeType==="update"?t.rowIndices.forEach((s,o)=>{var l=t.changeTypes[o],u=t.items[o];l==="update"?n[s]=u:l==="insert"?n.splice(s,0,u):l==="remove"&&n.splice(s,1)}):(n.forEach((s,o)=>{n[o]=this._items[o+i]||n[o]}),t.items=n),Zee(n))}},_updateLoadViewportParams:function(){var t=this._rowsScrollController.getViewportParams(),i=this.pageSize();if(t&&!yn(this)&&i>0){var r=this.pageIndex()*i;t.skip+=r}this._loadViewportParams=t},_processItems:function(t){var i=this.callBase.apply(this,arguments);if(this.option(Mt)===!1){var r,n=this._dataSource,a=(r=n==null?void 0:n.lastLoadOptions().skip)!==null&&r!==void 0?r:0,s,o,l,u=!1;i.forEach(d=>{var c=d.rowType,h=vc(d,n),f=c==="group"&&(s||h||o!=="group"&&a>0),p=c==="data"&&h&&(s||o!=="group");if(!d.isNewRow&&oe(s)){var g=l&&!u;(f||p)&&!g&&a++}(f||p)&&(u=!0),d.loadIndex=a,s=h,o=c,l=d.isNewRow})}return i},_afterProcessItems:function(t){if(this._itemCount=t.filter(s=>vc(s,this._dataSource)).length,oe(this._loadViewportParams)){this._updateLoadViewportParams();var i=t;if(this._allItems=t,t.length){var{skipForCurrentPage:r}=this.getLoadPageParams(!0),n=t[0].loadIndex+r,a=this._loadViewportParams.take;i=t.filter(s=>{var o=s.isNewRow&&s.loadIndex>=n-1,l=s.isNewRow&&s.loadIndex===n&&a===0,u=s.loadIndex>=n||o,d=s.loadIndex<n+a||l;return u&&d})}return i}return this.callBase.apply(this,arguments)},_applyChange:function(t){var i=this,r=t.items,n=t.changeType,a=t.removeCount;if(a){var s=n==="prepend";a=VS(i._items,a,s,function(o,l){return o.rowType==="data"&&!o.isNewRow||o.rowType==="group"&&(i._dataSource.isGroupItemCountable(o.data)||l)}),t.removeCount=a}switch(n){case"prepend":i._items.unshift.apply(i._items,r),a&&i._items.splice(-a);break;case"append":i._items.push.apply(i._items,r),a&&i._items.splice(0,a);break;default:i.callBase(t)}},items:function(t){return t?this._allItems||this._items:this._visibleItems||this._items},getRowIndexDelta:function(){var t=0;if(this.option(Mt)){var i=this._visibleItems;i&&i[0]&&(t=this._items.indexOf(i[0]))}return t<0?0:t},getRowIndexOffset:function(t){var i=0,r=this.dataSource(),n=this._rowsScrollController,a=this.option(Mt)===!1,s=yn(this);if(n&&!t)if(a&&oe(this._loadViewportParams)){var{skipForCurrentPage:o,pageIndex:l}=this.getLoadPageParams(!0),u=this.items(!0);if(i=s?l*this.pageSize():0,u.length){var d=u[0].loadIndex;i+=u.filter(h=>h.loadIndex<d+o).length}}else i=n.beginPageIndex()*n.pageSize();else if(s&&a&&r){var c;i=(c=r.lastLoadOptions().skip)!==null&&c!==void 0?c:0}else hr(this)&&r&&(i=r.beginPageIndex()*r.pageSize());return i},viewportSize:function(){var t=this._rowsScrollController,i=this._dataSource,r=t==null?void 0:t.viewportSize.apply(t,arguments);return this.option(Mt)===!1?r:i==null?void 0:i.viewportSize.apply(i,arguments)},viewportHeight:function(t,i){var r;(r=this._rowsScrollController)===null||r===void 0||r.viewportHeight(t,i)},viewportItemSize:function(){var t=this._rowsScrollController,i=this._dataSource,r=t==null?void 0:t.viewportItemSize.apply(t,arguments);return this.option(Mt)===!1?r:i==null?void 0:i.viewportItemSize.apply(i,arguments)},setViewportPosition:function(){var t=this._rowsScrollController,i=this._dataSource;this._isPaging=!1,t?t.setViewportPosition.apply(t,arguments):i==null||i.setViewportPosition.apply(i,arguments)},setContentItemSizes:function(t){var i=this._rowsScrollController,r=this._dataSource,n=i==null?void 0:i.setContentItemSizes(t);return this.option(Mt)===!1?n:r==null?void 0:r.setContentItemSizes(t)},getPreloadedRowCount:function(){var t=this.option("scrolling.preloadedRowCount"),i=this.option("scrolling.preloadEnabled");if(oe(t))return t;var r=this.viewportSize();return i?2*r:r},getLoadPageParams:function(t){var i,r,n=this.pageSize(),a=this._loadViewportParams,s=(i=this._dataSource)===null||i===void 0?void 0:i.lastLoadOptions(),o=(s==null?void 0:s.pageIndex)||0,l=(s==null?void 0:s.take)||0,u=this._rowsScrollController.isScrollingBack(),d=u?this.getPreloadedRowCount():0,c=u?0:this.getPreloadedRowCount(),h=((r=this._dataSource)===null||r===void 0?void 0:r.totalCountCorrection())||0,f=Math.max(0,a.skip-d),p=t?o:Math.floor(n?f/n:0),g=p*n,m=a.skip-g,v=a.take+m+c-h,b=t?l:v,E=Math.ceil(n?b/n:0);return{pageIndex:p,loadPageCount:Math.max(1,E),skipForCurrentPage:Math.max(0,m)}},_updateVisiblePageIndex:function(t){if(this._rowsScrollController){if(oe(t)){this._silentOption(Eg,t),this.pageChanged.fire();return}var i=this._rowsScrollController.getViewportItemIndex(),r=Math.floor(i/this.pageSize());this.pageIndex()!==r&&(this._silentOption(Eg,r),this.updateItems({changeType:"pageIndex"}))}},_getChangedLoadParams:function(){var t=this.getLoadPageParams(!0),{pageIndex:i,loadPageCount:r}=this.getLoadPageParams(),n=this._pageIndexIsValid(i),a=null;return!this._isLoading&&n&&(i!==t.pageIndex||r!==t.loadPageCount)&&(a={pageIndex:i,loadPageCount:r}),a},_pageIndexIsValid:function(t){var i=!0;return(kn(this)&&this.hasKnownLastPage()||hr(this))&&(i=t*this.pageSize()<this.totalItemsCount()),i},_loadItems:function(t,i){var r,n,a=yn(this),s=this._dataSource,o=this._getChangedLoadParams(),l=(r=s==null?void 0:s.loadPageCount())!==null&&r!==void 0?r:0,u=this.pageSize()*l,d=(n=s==null?void 0:s.pageIndex())!==null&&n!==void 0?n:0,c=(o==null?void 0:o.pageIndex)===d,h=kn(this)&&this.totalItemsCount()<u,f=this.option("editing.refreshMode")==="repaint",p=(o==null?void 0:o.pageIndex)>d,g=!1;if(!s||a&&t&&(f&&i||p||c&&h))return g;if(a&&this._isLoading&&(this._needUpdateViewportAfterLoading=!0),a&&o){g=!0,s.pageIndex(o.pageIndex),s.loadPageCount(o.loadPageCount),this._repaintChangesOnly=!0,this._needUpdateDimensions=!0;var m=this._viewportChanging;this.load().always(()=>{this._repaintChangesOnly=void 0,this._needUpdateDimensions=void 0}).done(()=>{var v=this.pageCount()>0&&this.pageIndex()===this.pageCount()-1;(m||v)&&this._updateVisiblePageIndex(),this._needUpdateViewportAfterLoading&&(this._needUpdateViewportAfterLoading=!1,this.loadViewport({checkLoadedParamsOnly:!0}))})}return g},loadViewport:function(t){var{checkLoadedParamsOnly:i,checkLoading:r,viewportIsNotFilled:n}=t??{},a=yn(this);if(a||Fe.isVirtualRowRendering(this)){this._updateLoadViewportParams();var s=this._loadItems(r,!n);!s&&!(this._isLoading&&r)&&!i&&this.updateItems({repaintChangesOnly:!0,needUpdateDimensions:!0,useProcessedItemsCache:!0,cancelEmptyChanges:!0})}},updateViewport:function(){var t,i,r=this.viewportSize(),n=this.items().length,a=r>n,s=(t=(i=this._loadViewportParams)===null||i===void 0?void 0:i.take)!==null&&t!==void 0?t:0,o=this._rowsScrollController,l=o==null?void 0:o.getViewportParams().take;(a||s<l)&&!this._isPaging&&n&&this.loadViewport({checkLoading:!0,viewportIsNotFilled:a})},loadIfNeed:function(){if(this.option(Mt)!==!1){var t=this._rowsScrollController;t&&t.loadIfNeed();var i=this._dataSource;return i&&i.loadIfNeed()}},getItemSize:function(){var t=this._rowsScrollController;if(t)return t.getItemSize.apply(t,arguments);var i=this._dataSource;return i&&i.getItemSize.apply(i,arguments)},getItemSizes:function(){var t=this._rowsScrollController;if(t)return t.getItemSizes.apply(t,arguments);var i=this._dataSource;return i&&i.getItemSizes.apply(i,arguments)},getContentOffset:function(){var t=this._rowsScrollController;if(t)return t.getContentOffset.apply(t,arguments);var i=this._dataSource;return i&&i.getContentOffset.apply(i,arguments)},refresh:function(t){var i=this._dataSource;return i&&t&&t.load&&kn(this)&&i.resetCurrentTotalCount(),this.callBase.apply(this,arguments)},dispose:function(){var t=this._rowsScrollController;t&&t.dispose(),this.callBase.apply(this,arguments)},topItemIndex:function(){var t;return(t=this._loadViewportParams)===null||t===void 0?void 0:t.skip},bottomItemIndex:function(){var t=this._loadViewportParams;return t&&t.skip+t.take},virtualItemsCount:function(){var t=this._rowsScrollController;if(t)return t.virtualItemsCount.apply(t,arguments);var i=this._dataSource;return i==null?void 0:i.virtualItemsCount.apply(i,arguments)},pageIndex:function(t){var i=yn(this),r=this._rowsScrollController;if(this.option(Mt)===!1&&i&&r&&t===void 0){var n;return(n=this.option(Eg))!==null&&n!==void 0?n:0}return this.callBase.apply(this,arguments)},_fireChanged:function(t){this.callBase.apply(this,arguments);var{operationTypes:i}=t;if(this.option(Mt)===!1&&yn(this)&&i){var{fullReload:r,pageIndex:n}=i;t.isDataChanged&&!r&&n&&this._updateVisiblePageIndex(this._dataSource.pageIndex())}},_getPagingOptionValue:function(t){var i=this.callBase.apply(this,arguments);return this.option(Mt)===!1&&yn(this)&&(i=this[t]()),i},isEmpty:function(){return this.option(Mt)===!1?!this.items(!0).length:this.callBase(this,arguments)},isLastPageLoaded:function(){var t=!1;if(this.option(Mt)===!1&&yn(this)){var{pageIndex:i,loadPageCount:r}=this.getLoadPageParams(!0),n=this.pageCount();t=i+r>=n}else t=this.callBase.apply(this,arguments);return t},reset:function(){this._itemCount=0,this._allItems=null,this.callBase.apply(this,arguments)},_applyFilter:function(){var t;(t=this._dataSource)===null||t===void 0||t.loadPageCount(1),this.callBase.apply(this,arguments)}};return Fe.proxyMethod(e,"getVirtualContentSize"),Fe.proxyMethod(e,"setViewportItemIndex"),e}(),resizing:{_updateMasterDataGridCore:function(e){return Ke(this.callBase.apply(this,arguments)).done(t=>{var i=hr(e)&&e.option(Mt)===!1;if(!t&&i){var r=e.getScrollable();r&&e.updateDimensions()}})},resize:function(){var e=this,t=e.callBase,i;if(hr(e)||Fe.isVirtualRowRendering(e)){clearTimeout(e._resizeTimeout);var r=new Date-e._lastTime,n=e.option("scrolling.updateTimeout");e._lastTime&&r<n?(i=new we,e._resizeTimeout=setTimeout(function(){t.apply(e).done(i.resolve).fail(i.reject),e._lastTime=new Date},n),e._lastTime=new Date):(i=t.apply(e),e._dataController.isLoaded()&&(e._lastTime=new Date))}else i=t.apply(e);return i},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._resizeTimeout)}}},views:{rowsView:Qee}}};qe.registerModule("virtualScrolling",Tk);Cd.extend(Tk.extenders.dataSourceAdapter);var ete=.9,Ik=(e,t)=>{var i=J(ft()),{top:r}=e.offset(),n;if(ei(t)){if(t<r)return r-t;n=Oc(i)-t+i.scrollTop()}else{var a=r-i.scrollTop(),s=Oc(i)-a-At(e);n=Math.max(a,s)}return n*ete},tte="dx-context-menu-content-delimiter",ite="dx-submenu";class Tg extends ib{_getDefaultOptions(){return ce(super._getDefaultOptions(),{orientation:"horizontal",tabIndex:null,onHoverStart:Ee})}_initDataAdapter(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter||super._initDataAdapter()}_renderContentImpl(){this._renderContextMenuOverlay(),super._renderContentImpl();var t=this._dataAdapter.getNodeByKey(this.option("_parentKey"));t&&this._renderItems(this._getChildNodes(t)),this._renderDelimiter()}_renderDelimiter(){this.$contentDelimiter=J("<div>").appendTo(this._itemContainer()).addClass(tte)}_getOverlayOptions(){return ce(super._getOverlayOptions(),{onPositioned:this._overlayPositionedActionHandler.bind(this)})}_overlayPositionedActionHandler(t){this._showDelimiter(t)}_hoverEndHandler(t){super._hoverEndHandler(t),this._toggleFocusClass(!1,t.currentTarget)}_isMenuHorizontal(){return this.option("orientation")==="horizontal"}_hoverStartHandler(t){var i=this.option("onHoverStart");i(t),super._hoverStartHandler(t),this._toggleFocusClass(!0,t.currentTarget)}_drawSubmenu(t){this._actions.onShowing({rootItem:ot(t),submenu:this}),super._drawSubmenu(t),this._actions.onShown({rootItem:ot(t),submenu:this})}_hideSubmenu(t){this._actions.onHiding({cancel:!0,rootItem:ot(t),submenu:this}),super._hideSubmenu(t),this._actions.onHidden({rootItem:ot(t),submenu:this})}_showDelimiter(t){if(this.$contentDelimiter){var i=this._itemContainer().children(".".concat(ite)).eq(0),r=this.option("position").of,n={of:i},a=t.position,s=a.v.location,o=a.h.location,l=r.offset(),u=Math.round(l.left),d=Math.round(l.top),c=ut(r),h=ct(r),f=ut(i),p=ct(i);this.$contentDelimiter.css("display","block"),sd(this.$contentDelimiter,this._isMenuHorizontal()?c<f?c-2:f:2),Lr(this.$contentDelimiter,this._isMenuHorizontal()?2:h<p?h-2:p),this._isMenuHorizontal()?s>d?Math.round(o)===u?(n.offset="1 -1",n.at=n.my="left top"):(n.offset="-1 -1",n.at=n.my="right top"):(Lr(this.$contentDelimiter,5),Math.round(o)===u?(n.offset="1 4",n.at=n.my="left bottom"):(n.offset="-1 2",n.at=n.my="right bottom")):o>u?Math.round(s)===d?(n.offset="-1 1",n.at=n.my="left top"):(n.offset="-1 -1",n.at=n.my="left bottom"):Math.round(s)===d?(n.offset="1 1",n.at=n.my="right top"):(n.offset="1 -1",n.at=n.my="right bottom"),Ki.setup(this.$contentDelimiter,n)}}_getContextMenuPosition(){return this.option("position")}isOverlayVisible(){return this._overlay.option("visible")}getOverlayContent(){return this._overlay.$content()}}var vo="dx-menu",rte=vo+"-vertical",HS=vo+"-horizontal",l_=vo+"-item",$S=vo+"-items-container",Ig=l_+"-expanded",_c="dx-context-menu",Ag=_c+"-container-border",nte="dx-context-menu-content-delimiter",ate="dx-submenu",ste="dx-state-disabled",zS="dx-state-hover",ote="dx-state-active",bc=vo+"-adaptive-mode",WS=vo+"-hamburger-button",lte=bc+"-overlay-wrapper",ute="up",dte="down",hte="left",cte="right",Ql="showSubmenu",Vo="nextItem",Aa="prevItem",fte={show:50,hide:300},jS=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","onItemContextMenu","onItemClick","onSelectionChanged","onItemRendered"];class u_ extends tb{_getDefaultOptions(){return ce(super._getDefaultOptions(),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null,adaptivityEnabled:!1})}_setOptionsByReference(){super._setOptionsByReference(),ce(this._optionsByReference,{animation:!0,selectedItem:!0})}_itemElements(){var t=super._itemElements(),i=this._submenuItemElements();return t.add(i)}_submenuItemElements(){var t=[],i=".".concat(l_),r=this._submenus.length&&this._submenus[0];return r&&r.itemsContainer()&&(t=r.itemsContainer().find(i)),t}_focusTarget(){return this.$element()}_isMenuHorizontal(){return this.option("orientation")==="horizontal"}_moveFocus(t){var i=this._getAvailableItems(),r=this._isMenuHorizontal(),n=this._getActiveItem(!0),a,s,o,l;switch(t){case ute:s=r?Ql:this._getItemsNavigationOperation(Aa),a=r?n:i,o=this._getKeyboardNavigationAction(s,a),l=o();break;case dte:s=r?Ql:this._getItemsNavigationOperation(Vo),a=r?n:i,o=this._getKeyboardNavigationAction(s,a),l=o();break;case cte:s=r?this._getItemsNavigationOperation(Vo):Ql,a=r?i:n,o=this._getKeyboardNavigationAction(s,a),l=o();break;case hte:s=r?this._getItemsNavigationOperation(Aa):Ql,a=r?i:n,o=this._getKeyboardNavigationAction(s,a),l=o();break;default:return super._moveFocus(t)}l&&l.length!==0&&this.option("focusedElement",ot(l))}_getItemsNavigationOperation(t){var i=t;return this.option("rtlEnabled")&&(i=t===Aa?Vo:Aa),i}_getKeyboardNavigationAction(t,i){var r=Ee;switch(t){case Ql:i.hasClass(ste)||(r=this._showSubmenu.bind(this,i));break;case Vo:r=this._nextItem.bind(this,i);break;case Aa:r=this._prevItem.bind(this,i)}return r}_clean(){super._clean(),this.option("templatesRenderAsynchronously")&&clearTimeout(this._resizeEventTimer)}_visibilityChanged(t){t&&(this._menuItemsWidth||this._updateItemsWidthCache(),this._dimensionChanged())}_isAdaptivityEnabled(){return this.option("adaptivityEnabled")&&this.option("orientation")==="horizontal"}_updateItemsWidthCache(){var t=this.$element().find("ul").first().children("li").children(".".concat(l_));this._menuItemsWidth=this._getSummaryItemsWidth(t,!0)}_dimensionChanged(){if(this._isAdaptivityEnabled()){var t=Pt(this.$element());this._toggleAdaptiveMode(this._menuItemsWidth>t)}}_init(){super._init(),this._submenus=[]}_initActions(){this._actions={},ve(jS,(t,i)=>{this._actions[i]=this._createActionByOption(i)})}_initMarkup(){this._visibleSubmenu=null,this.$element().addClass(vo),super._initMarkup(),this._addCustomCssClass(this.$element()),this.setAria("role","menubar")}_render(){super._render(),this._initAdaptivity()}_renderHamburgerButton(){return this._hamburger=new Ji(J("<div>").addClass(WS),{icon:"menu",activeStateEnabled:!1,onClick:this._toggleTreeView.bind(this)}),this._hamburger.$element()}_toggleTreeView(t){Ct(t)&&(t=!this._overlay.option("visible")),this._overlay.option("visible",t),this._toggleHamburgerActiveState(t)}_toggleHamburgerActiveState(t){this._hamburger&&this._hamburger.$element().toggleClass(ote,t)}_toggleAdaptiveMode(t){var i=this.$element().find(".".concat(HS)),r=this.$element().find(".".concat(bc));t?this._hideVisibleSubmenu():(this._treeView&&this._treeView.collapseAll(),this._overlay&&this._toggleTreeView(t)),i.toggle(!t),r.toggle(t)}_removeAdaptivity(){this._$adaptiveContainer&&(this._toggleAdaptiveMode(!1),this._$adaptiveContainer.remove(),this._$adaptiveContainer=null,this._treeView=null,this._hamburger=null,this._overlay=null)}_treeviewItemClickHandler(t){this._actions.onItemClick(t),t.node.children.length||this._toggleTreeView(!1)}_getAdaptiveOverlayOptions(){var t=this.option("rtlEnabled"),i=t?"right":"left";return{_ignoreFunctionValueDeprecation:!0,maxHeight:()=>Ik(this.$element()),deferRendering:!1,shading:!1,animation:!1,hideOnParentScroll:!0,onHidden:()=>{this._toggleHamburgerActiveState(!1)},height:"auto",hideOnOutsideClick:r=>!J(r.target).closest(".".concat(WS)).length,position:{collision:"flipfit",at:"bottom "+i,my:"top "+i,of:this._hamburger.$element()}}}_getTreeViewOptions(){var t={};return ve(["rtlEnabled","width","accessKey","activeStateEnabled","animation","dataSource","disabled","displayExpr","displayExpr","focusStateEnabled","hint","hoverStateEnabled","itemsExpr","items","itemTemplate","selectedExpr","selectionMode","tabIndex","visible"],(i,r)=>{t[r]=this.option(r)}),ve(["onItemContextMenu","onSelectionChanged","onItemRendered"],(i,r)=>{t[r]=n=>{this._actions[r](n)}}),ce(t,{dataSource:this.getDataSource(),animationEnabled:!!this.option("animation"),onItemClick:this._treeviewItemClickHandler.bind(this),onItemExpanded:i=>{this._overlay.repaint(),this._actions.onSubmenuShown(i)},onItemCollapsed:i=>{this._overlay.repaint(),this._actions.onSubmenuHidden(i)},selectNodesRecursive:!1,selectByClick:this.option("selectByClick"),expandEvent:"click"})}_initAdaptivity(){if(this._isAdaptivityEnabled()){this._$adaptiveContainer=J("<div>").addClass(bc);var t=this._renderHamburgerButton();this._treeView=this._createComponent(J("<div>"),Ld,this._getTreeViewOptions()),this._overlay=this._createComponent(J("<div>"),pn,this._getAdaptiveOverlayOptions()),this._overlay.$content().append(this._treeView.$element()).addClass(bc).addClass(this.option("cssClass")),this._overlay.$wrapper().addClass(lte),this._$adaptiveContainer.append(t),this._$adaptiveContainer.append(this._overlay.$element()),this.$element().append(this._$adaptiveContainer),this._updateItemsWidthCache(),this._dimensionChanged()}}_getDelay(t){var i=this.option("showFirstSubmenuMode").delay;return oe(i)?at(i)?i[t]:i:fte[t]}_keyboardHandler(t){return super._keyboardHandler(t,!!this._visibleSubmenu)}_renderContainer(){var t=J("<div>");return t.appendTo(this.$element()).addClass(this._isMenuHorizontal()?HS:rte),super._renderContainer(t)}_renderSubmenuItems(t,i){var r=this._createSubmenu(t,i);return this._submenus.push(r),this._renderBorderElement(i),r}_getKeyboardListeners(){return super._getKeyboardListeners().concat(this._visibleSubmenu)}_createSubmenu(t,i){var r=J("<div>").addClass(_c).appendTo(i),n=this._getChildNodes(t),a=this._createComponent(r,Tg,ce(this._getSubmenuOptions(),{_dataAdapter:this._dataAdapter,_parentKey:t.internalFields.key,items:n,onHoverStart:this._clearTimeouts.bind(this),position:this.getSubmenuPosition(i)}));return this._attachSubmenuHandlers(i,a),a}_getSubmenuOptions(){var t=J("<div>"),i=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),target:t,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),cssClass:this.option("cssClass"),selectByClick:this.option("selectByClick"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),showSubmenuMode:this.option("showSubmenuMode"),displayExpr:this.option("displayExpr"),disabledExpr:this.option("disabledExpr"),selectedExpr:this.option("selectedExpr"),itemsExpr:this.option("itemsExpr"),onFocusedItemChanged:r=>{r.component.option("visible")&&this.option("focusedElement",r.component.option("focusedElement"))},onSelectionChanged:this._nestedItemOnSelectionChangedHandler.bind(this),onItemClick:this._nestedItemOnItemClickHandler.bind(this),onItemRendered:this._nestedItemOnItemRenderedHandler.bind(this),onLeftFirstItem:i?null:this._moveMainMenuFocus.bind(this,Aa),onLeftLastItem:i?null:this._moveMainMenuFocus.bind(this,Vo),onCloseRootSubmenu:this._moveMainMenuFocus.bind(this,i?Aa:null),onExpandLastSubmenu:i?this._moveMainMenuFocus.bind(this,Vo):null}}_getShowFirstSubmenuMode(){if(!this._isDesktopDevice())return"onClick";var t=this.option("showFirstSubmenuMode");return at(t)?t.name:t}_moveMainMenuFocus(t){var i=this._getAvailableItems(),r=i.length,n=i.filter(".".concat(Ig)).eq(0),a=i.index(n);this._hideSubmenu(this._visibleSubmenu),a+=t===Aa?-1:1,a>=r?a=0:a<0&&(a=r-1);var s=i.eq(a);this.option("focusedElement",ot(s))}_nestedItemOnSelectionChangedHandler(t){var i=t.addedItems.length&&t.addedItems[0],r=Tg.getInstance(t.element),n=this._actions.onSelectionChanged;n(t),i&&this._clearSelectionInSubmenus(i[0],r),this._clearRootSelection(),this._setOptionWithoutOptionChange("selectedItem",i)}_clearSelectionInSubmenus(t,i){var r=!arguments.length;ve(this._submenus,(n,a)=>{var s=a._itemContainer(),o=!s.is(i&&i._itemContainer()),l=s.find(".".concat(this._selectedItemClass()));if(o&&l.length||r){l.removeClass(this._selectedItemClass());var u=this._getItemData(l);u&&(u.selected=!1),a._clearSelectedItems()}})}_clearRootSelection(){var t=this.$element().find(".".concat($S)).first().children().children().filter(".".concat(this._selectedItemClass()));if(t.length){var i=this._getItemData(t);i.selected=!1,t.removeClass(this._selectedItemClass())}}_nestedItemOnItemClickHandler(t){this._actions.onItemClick(t)}_nestedItemOnItemRenderedHandler(t){this._actions.onItemRendered(t)}_attachSubmenuHandlers(t,i){var r=i.getOverlayContent(),n=r.find(".".concat(ate)),a=Be(kf,this.NAME+"_submenu");i.option({onShowing:this._submenuOnShowingHandler.bind(this,t,i),onShown:this._submenuOnShownHandler.bind(this,t,i),onHiding:this._submenuOnHidingHandler.bind(this,t,i),onHidden:this._submenuOnHiddenHandler.bind(this,t,i)}),ve(n,(s,o)=>{he.off(o,a),he.on(o,a,null,this._submenuMouseLeaveHandler.bind(this,t))})}_submenuOnShowingHandler(t,i){var r=t.children(".".concat(Ag));this._actions.onSubmenuShowing({rootItem:ot(t),submenu:i}),r.show(),t.addClass(Ig)}_submenuOnShownHandler(t,i){this._actions.onSubmenuShown({rootItem:ot(t),submenu:i})}_submenuOnHidingHandler(t,i,r){var n=t.children(".".concat(Ag)),a=r;a.rootItem=ot(t),a.submenu=i,this._actions.onSubmenuHiding(a),r=a,r.cancel||(this._visibleSubmenu===i&&(this._visibleSubmenu=null),n.hide(),t.removeClass(Ig))}_submenuOnHiddenHandler(t,i){this._actions.onSubmenuHidden({rootItem:ot(t),submenu:i})}_submenuMouseLeaveHandler(t,i){var r=J(i.relatedTarget).parents(".".concat(_c))[0],n=this._getSubmenuByRootElement(t).getOverlayContent()[0];this.option("hideSubmenuOnMouseLeave")&&r!==n&&(this._clearTimeouts(),setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")))}_hideSubmenuAfterTimeout(){if(this._visibleSubmenu){var t=J(this._visibleSubmenu.$element().context).hasClass(zS),i=this._visibleSubmenu.getOverlayContent().find(".".concat(zS)).length,r=this._visibleSubmenu.getOverlayContent().get(0).querySelector(":hover");!r&&!i&&!t&&this._visibleSubmenu.hide()}}_getSubmenuByRootElement(t){if(!t)return!1;var i=t.children(".".concat(_c));return i.length&&Tg.getInstance(i)}getSubmenuPosition(t){var i=this._isMenuHorizontal(),r=this.option("submenuDirection").toLowerCase(),n=this.option("rtlEnabled"),a={collision:"flip",of:t};switch(r){case"leftortop":a.at="left top",a.my=i?"left bottom":"right top";break;case"rightorbottom":a.at=i?"left bottom":"right top",a.my="left top";break;default:i?(a.at=n?"right bottom":"left bottom",a.my=n?"right top":"left top"):(a.at=n?"left top":"right top",a.my=n?"right top":"left top")}return a}_renderBorderElement(t){J("<div>").appendTo(t).addClass(Ag).hide()}_itemPointerDownHandler(t){var i=J(t.target),r=i.closest(this._itemElements());if(r.hasClass("dx-menu-item-has-submenu")){this.option("focusedElement",null);return}super._itemPointerDownHandler(t)}_hoverStartHandler(t){var i=Be(Vt.move,this.NAME),r=this._getItemElementByEventArgs(t),n=this._dataAdapter.getNodeByItem(this._getItemData(r)),a=oe(t.buttons)&&t.buttons===1||!oe(t.buttons)&&t.which===1;if(!this._isItemDisabled(r)){if(he.off(r,i),!this._hasChildren(n)){this._showSubmenuTimer=setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide"));return}if(this._getShowFirstSubmenuMode()==="onHover"&&!a){var s=this._getSubmenuByElement(r);this._clearTimeouts(),s.isOverlayVisible()||(he.on(r,i,this._itemMouseMoveHandler.bind(this)),this._showSubmenuTimer=this._getDelay("hide"))}}}_hoverEndHandler(t){var i=this._getItemElementByEventArgs(t),r=J(t.relatedTarget);super._hoverEndHandler(t),this._clearTimeouts(),!this._isItemDisabled(i)&&(r.hasClass(nte)||this.option("hideSubmenuOnMouseLeave")&&!r.hasClass($S)&&(this._hideSubmenuTimer=setTimeout(()=>{this._hideSubmenuAfterTimeout()},this._getDelay("hide"))))}_hideVisibleSubmenu(){return this._visibleSubmenu?(this._hideSubmenu(this._visibleSubmenu),!0):!1}_showSubmenu(t){var i=this._getSubmenuByElement(t);this._visibleSubmenu!==i&&this._hideVisibleSubmenu(),i&&(this._clearTimeouts(),this.focus(),i.show(),this.option("focusedElement",i.option("focusedElement"))),this._visibleSubmenu=i,this._hoveredRootItem=t}_hideSubmenu(t){t&&t.hide(),this._visibleSubmenu===t&&(this._visibleSubmenu=null),this._hoveredRootItem=null}_itemMouseMoveHandler(t){if(!(t.pointers&&t.pointers.length)){var i=J(t.currentTarget);oe(this._showSubmenuTimer)&&(this._clearTimeouts(),this._showSubmenuTimer=setTimeout(()=>{var r=this._getSubmenuByElement(i);r&&!r.isOverlayVisible()&&this._showSubmenu(i)},this._getDelay("show")))}}_clearTimeouts(){clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer)}_getSubmenuByElement(t,i){var r=this._getSubmenuByRootElement(t);if(r)return r;i=i||this._getItemData(t);var n=this._dataAdapter.getNodeByItem(i);return this._hasChildren(n)&&this._renderSubmenuItems(n,t)}_updateSubmenuVisibilityOnClick(t){var i=t.args.length&&t.args[0];if(!(!i||this._disabledGetter(i.itemData))){var r=J(i.itemElement),n=this._getSubmenuByElement(r,i.itemData);if(this._updateSelectedItemOnClick(t),this._visibleSubmenu)if(this._visibleSubmenu===n){this.option("showFirstSubmenuMode")==="onClick"&&this._hideSubmenu(this._visibleSubmenu);return}else this._hideSubmenu(this._visibleSubmenu);if(n&&!n.isOverlayVisible()){this._showSubmenu(r);return}}}_optionChanged(t){if(jS.indexOf(t.name)>=0){this._initActions();return}switch(t.name){case"orientation":case"submenuDirection":this._invalidate();break;case"showFirstSubmenuMode":case"hideSubmenuOnMouseLeave":break;case"showSubmenuMode":this._changeSubmenusOption(t.name,t.value);break;case"adaptivityEnabled":t.value?this._initAdaptivity():this._removeAdaptivity();break;case"width":this._isAdaptivityEnabled()&&(this._treeView.option(t.name,t.value),this._overlay.option(t.name,t.value)),super._optionChanged(t),this._dimensionChanged();break;case"animation":this._isAdaptivityEnabled()&&this._treeView.option("animationEnabled",!!t.value),super._optionChanged(t);break;default:this._isAdaptivityEnabled()&&(t.name===t.fullName||t.name==="items")&&this._treeView.option(t.fullName,t.value),super._optionChanged(t)}}_changeSubmenusOption(t,i){ve(this._submenus,(r,n)=>{n.option(t,i)})}selectItem(t){this._hideSubmenu(this._visibleSubmenu),super.selectItem(t)}unselectItem(t){this._hideSubmenu(this._visibleSubmenu),super.selectItem(t)}}Tt("dxMenu",u_);var Og={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal",default:"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},US={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",between:"between"},pte=700,Ak=1,Ou="filter-row",zh="filter-range-overlay",Wh="filter-range-start",mte="filter-range-end",GS="dx-menu",KS="dx-editor-with-menu",bs="dx-editor-container",d_="dx-editor-cell",gte="dx-filter-menu",vte="dx-apply-button",Dg="dx-highlight-outline",qS="dx-focused",_te="dx-cell-focus-disabled",kg="dx-filter-range-content",Rg="dx-filter-modified",eu="input:not([type='hidden'])",bte=["date","datetime","number"];function Zo(e){return e.option("filterRow.applyFilter")==="onClick"}var Mg=function(e){var t=e&&e.children(),i=t&&t.data("dxComponents"),r=i&&i.length&&t.data(i[0]);if(r instanceof mn)return r},yte=function(){var e=function(a,s){var o="",l="",u=t(a,s),d=Fe.getFormatOptionsByColumn(s,"filterRow");return Array.isArray(u)?(o=Fe.formatValue(u[0],d),l=Fe.formatValue(u[1],d),l!==""&&(o+=" - "+l)):oe(u)&&(o=Fe.formatValue(u,d)),o};function t(a,s){if(s)return Zo(a)&&s.bufferedFilterValue!==void 0?s.bufferedFilterValue:s.filterValue}var i=function(a,s){if(s)return Zo(a)&&s.bufferedSelectedFilterOperation!==void 0?s.bufferedSelectedFilterOperation:s.selectedFilterOperation},r=function(a,s,o){var l=a._columnsController.columnOption(s),u=t(a,l),d=o.closest("."+a.addWidgetPrefix(zh)).length,c=o.hasClass(a.addWidgetPrefix(Wh));return u&&Array.isArray(u)&&i(a,l)==="between"?c?u[0]:u[1]:!d&&function(h,f){return f&&bte.indexOf(f.dataType)>=0&&Array.isArray(h)?!1:h!==void 0}(u,l)?u:null},n=function(a,s){var o=s.value===""?null:s.value,l=s.container,u=a._columnsController.columnOption(s.column.index),d=r(a,u.index,l);if(!(!oe(d)&&!oe(o))){a._applyFilterViewController.setHighLight(l,d!==o);var c=Zo(a)?"bufferedFilterValue":"filterValue",h=function(g,m,v,b){if(i(g,v)==="between"){var E=t(g,v);return b.hasClass(g.addWidgetPrefix(Wh))?[m,Array.isArray(E)?E[1]:void 0]:[Array.isArray(E)?E[0]:E,m]}return m}(a,o,u,l),f=i(a,u)==="between",p=s.notFireEvent||f&&Array.isArray(h)&&h.indexOf(void 0)>=0;a._columnsController.columnOption(u.index,c,h,p)}};return{_updateEditorValue:function(a,s){var o=Mg(s);o&&o.option("value",r(this,a.index,s))},_columnOptionChanged:function(a){var s=a.optionNames,o,l,u,d;if(Fe.checkChanges(s,["filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","filterValues","filterType"])&&a.columnIndex!==void 0){var c=this._columnsController.getVisibleIndex(a.columnIndex),h=this._columnsController.columnOption(a.columnIndex);if(o=this._getCellElement(this.element().find("."+this.addWidgetPrefix(Ou)).index(),c)||J(),l=o.find("."+bs).first(),s.filterValue||s.bufferedFilterValue){this._updateEditorValue(h,l);var f=o.find("."+this.addWidgetPrefix(zh)).data("dxOverlay");f&&(u=f.$content().find("."+bs),this._updateEditorValue(h,u.first()),this._updateEditorValue(h,u.last())),(!f||!f.option("visible"))&&this._updateFilterRangeContent(o,e(this,h))}(s.selectedFilterOperation||s.bufferedSelectedFilterOperation)&&c>=0&&h&&(d=o.find("."+GS),d.length&&(this._updateFilterOperationChooser(d,h,l),i(this,h)==="between"?this._renderFilterRangeContent(o,h):l.find("."+kg).length&&(this._renderEditor(l,this._getEditorOptions(l,h)),this._hideFilterRange())));return}this.callBase(a)},_renderCore:function(){this._filterRangeOverlayInstance=null,this.callBase.apply(this,arguments)},_resizeCore:function(){this.callBase.apply(this,arguments),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.repaint()},isFilterRowVisible:function(){return this._isElementVisible(this.option("filterRow"))},isVisible:function(){return this.callBase()||this.isFilterRowVisible()},init:function(){this.callBase(),this._applyFilterViewController=this.getController("applyFilter")},_initFilterRangeOverlay:function(a,s){var o=this,l={},u=a.find(".dx-editor-container"),d=J("<div>").addClass(o.addWidgetPrefix(zh)).appendTo(a);return o._createComponent(d,pn,{height:"auto",shading:!1,showTitle:!1,focusStateEnabled:!1,hideOnOutsideClick:!0,copyRootClassesToWrapper:!0,_ignoreCopyRootClassesToWrapperDeprecation:!0,animation:!1,position:{my:"top",at:"top",of:u.length&&u||a,offset:"0 -1"},contentTemplate:function(c){var h,f=J("<div>").addClass(bs+" "+o.addWidgetPrefix(Wh)).appendTo(c);return s=o._columnsController.columnOption(s.index),h=o._getEditorOptions(f,s),h.sharedData=l,o._renderEditor(f,h),he.on(f.find(eu),"keydown",function(p){var g=a.find("[tabindex]").not(p.target).first();ci(p)==="tab"&&p.shiftKey&&(p.preventDefault(),o._hideFilterRange(),g.length||(g=a.prev().find("[tabindex]").last()),he.trigger(g,"focus"))}),f=J("<div>").addClass(bs+" "+o.addWidgetPrefix(mte)).appendTo(c),h=o._getEditorOptions(f,s),h.sharedData=l,o._renderEditor(f,h),he.on(f.find(eu),"keydown",function(p){ci(p)==="tab"&&!p.shiftKey&&(p.preventDefault(),o._hideFilterRange(),he.trigger(a.next().find("[tabindex]").first(),"focus"))}),J(c).addClass(o.getWidgetContainerClass())},onShown:function(c){var h=c.component.$content().find("."+bs).first();he.trigger(h.find(eu),"focus")},onHidden:function(){s=o._columnsController.columnOption(s.index),a.find("."+GS).parent().addClass(KS),i(o,s)==="between"&&(o._updateFilterRangeContent(a,e(o,s)),o.component.updateDimensions())}})},_updateFilterRangeOverlay:function(a){var s=this._filterRangeOverlayInstance;s&&s.option(a)},_showFilterRange:function(a,s){var o=a.children("."+this.addWidgetPrefix(zh)),l=o.length&&o.data("dxOverlay");!l&&s&&(l=this._initFilterRangeOverlay(a,s)),l.option("visible")||(this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.hide(),this._filterRangeOverlayInstance=l,this._updateFilterRangeOverlay({width:Pt(a,!0)+Ak}),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.show())},_hideFilterRange:function(){var a=this._filterRangeOverlayInstance;a&&a.hide()},getFilterRangeOverlayInstance:function(){return this._filterRangeOverlayInstance},_createRow:function(a){var s=this.callBase(a);return a.rowType==="filter"&&(s.addClass(this.addWidgetPrefix(Ou)),this.option("useLegacyKeyboardNavigation")||he.on(s,"keydown",o=>k0("filterRow",this,o))),s},_getRows:function(){var a=this.callBase();return this.isFilterRowVisible()&&a.push({rowType:"filter"}),a},_renderFilterCell:function(a,s){var o=s.column,l=J(a);this.component.option("showColumnHeaders")&&this.setAria("describedby",o.headerId,l),this.setAria("label",Ae.format("dxDataGrid-ariaFilterCell"),l),l.addClass(d_);var u=J("<div>").appendTo(l),d=J("<div>").addClass(bs).appendTo(u);if(i(this,o)==="between")this._renderFilterRangeContent(l,o);else{var c=this._getEditorOptions(d,o);this._renderEditor(d,c)}var h=o.alignment;h&&h!=="center"&&l.find(eu).first().css("textAlign",o.alignment),o.filterOperations&&o.filterOperations.length&&this._renderFilterOperationChooser(u,o,d)},_renderCellContent:function(a,s){var o=this,l=s.column;if(s.rowType==="filter"){if(l.command)a.html("&nbsp;");else if(l.allowFiltering){o.renderTemplate(a,o._renderFilterCell.bind(o),s).done(()=>{o._updateCell(a,s)});return}}this.callBase.apply(this,arguments)},_getEditorOptions:function(a,s){var o=this,l={editorOptions:{inputAttr:o._getFilterInputAccessibilityAttributes(s)}},u=ce(l,s,{value:r(o,s.index,a),parentType:"filterRow",showAllText:o.option("filterRow.showAllText"),updateValueTimeout:o.option("filterRow.applyFilter")==="onClick"?0:pte,width:null,setValue:function(d,c){n(o,{column:s,value:d,container:a,notFireEvent:c})}});return i(o,s)==="between"&&(a.hasClass(o.addWidgetPrefix(Wh))?u.placeholder=o.option("filterRow.betweenStartText"):u.placeholder=o.option("filterRow.betweenEndText")),u},_getFilterInputAccessibilityAttributes:function(a){var s=Ae.format("dxDataGrid-ariaFilterCell");return this.component.option("showColumnHeaders")?{"aria-label":s,"aria-describedby":a.headerId}:{"aria-label":s}},_renderEditor:function(a,s){a.empty();var o=J("<div>").appendTo(a),l=this.getController("editorFactory"),u=this.getController("data").dataSource(),d=this.getController("applyFilter");if(s.lookup&&this.option("syncLookupFilterValues")){d.setCurrentColumnForFiltering(s);var c=this.getController("data").getCombinedFilter();d.setCurrentColumnForFiltering(null);var h=Fe.getWrappedLookupDataSource(s,u,c),f=Ne({},s,{lookup:Ne({},s.lookup,{dataSource:h})});return l.createEditor(o,f)}else return l.createEditor(o,s)},_renderFilterRangeContent:function(a,s){var o=this,l=a.find("."+bs).first();l.empty();var u=J("<div>").addClass(kg).attr("tabindex",this.option("tabIndex"));he.on(u,"focusin",function(){o._showFilterRange(a,s)}),u.appendTo(l),o._updateFilterRangeContent(a,e(o,s))},_updateFilterRangeContent:function(a,s){var o=a.find("."+kg);o.length&&(s===""?o.html("&nbsp;"):o.text(s))},_updateFilterOperationChooser:function(a,s,o){var l=this,u,d=function(){var c=u_.getInstance(a);c&&c.option("focusedElement",null),u&&l._focusEditor(o)};l._createComponent(a,u_,{integrationOptions:{},activeStateEnabled:!1,selectionMode:"single",cssClass:l.getWidgetContainerClass()+" "+_te+" "+gte,showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,items:[{disabled:!(s.filterOperations&&s.filterOperations.length),icon:Og[i(l,s)||"default"],selectable:!1,items:l._getFilterOperationMenuItems(s)}],onItemClick:function(c){var h=c.itemData.name,f=i(l,s),p=!1,g=Zo(l),m={};if(!(c.itemData.items||h&&h===f)){if(h?(m[g?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=h,(h==="between"||f==="between")&&(p=h==="between",m[g?"bufferedFilterValue":"filterValue"]=null)):(m[g?"bufferedFilterValue":"filterValue"]=null,m[g?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=s.defaultSelectedFilterOperation||null),l._columnsController.columnOption(s.index,m),l._applyFilterViewController.setHighLight(o,!0),!h){var v=Mg(o);v&&v.NAME==="dxDateBox"&&!v.option("isValid")&&(v.reset(),v.option("isValid",!0))}p?l._showFilterRange(o.closest("."+d_),s):l._focusEditor(o)}},onSubmenuShowing:function(){u=l._isEditorFocused(o),l.getController("editorFactory").loseFocus()},onSubmenuHiding:function(){he.trigger(a,"blur"),d()},onContentReady:function(c){he.on(a,"blur",()=>{var h=c.component;h._hideSubmenuAfterTimeout(),d()})},rtlEnabled:l.option("rtlEnabled")})},_isEditorFocused:function(a){return a.hasClass(qS)||a.parents("."+qS).length},_focusEditor:function(a){this.getController("editorFactory").focus(a),he.trigger(a.find(eu),"focus")},_renderFilterOperationChooser:function(a,s,o){var l;this.option("filterRow.showOperationChooser")&&(a.addClass(KS),l=J("<div>").prependTo(a),this._updateFilterOperationChooser(l,s,o))},_getFilterOperationMenuItems:function(a){var s=this,o=[{}],l=s.option("filterRow"),u=l&&l.operationDescriptions||{};if(a.filterOperations&&a.filterOperations.length){var d=a.filterOperations.filter(function(c){return oe(US[c])});o=Ti(d,function(c){var h=US[c];return{name:c,selected:(i(s,a)||a.defaultFilterOperation)===c,text:u[h],icon:Og[c]}}),o.push({name:null,text:l&&l.resetOperationText,icon:Og.default})}return o},_handleDataChanged:function(a){var s,o;this.callBase.apply(this,arguments),((s=a.operationTypes)!==null&&s!==void 0&&s.filtering||(o=a.operationTypes)!==null&&o!==void 0&&o.fullReload)&&this.updateLookupDataSource()},updateLookupDataSource:function(){if(this.option("syncLookupFilterValues")&&this.element()){var a=this._columnsController.getVisibleColumns(),s=this._dataController.dataSource(),o=this._applyFilterViewController,l=this.element().find("."+this.addWidgetPrefix(Ou)).index();l!==-1&&a.forEach((u,d)=>{if(!(!u.lookup||u.calculateCellValue!==u.defaultCalculateCellValue)){var c=this._getCellElement(l,d),h=Mg(c==null?void 0:c.find(".dx-editor-container"));if(h){o.setCurrentColumnForFiltering(u);var f=this._dataController.getCombinedFilter();o.setCurrentColumnForFiltering(null);var p=Fe.getWrappedLookupDataSource(u,s,f);h.option("dataSource",p)}}})}},optionChanged:function(a){switch(a.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),a.handled=!0;break;case"syncLookupFilterValues":a.value?this.updateLookupDataSource():this.render(),a.handled=!0;break;default:this.callBase(a)}}}}(),Cte={skipCalculateColumnFilters:function(){return!1},_calculateAdditionalFilter:function(){if(this.skipCalculateColumnFilters())return this.callBase();var e=[this.callBase()],t=this._columnsController.getVisibleColumns(null,!0),i=this.getController("applyFilter");return ve(t,function(){var r,n=((r=i.getCurrentColumnForFiltering())===null||r===void 0?void 0:r.index)===this.index;if(this.allowFiltering&&this.calculateFilterExpression&&oe(this.filterValue)&&!n){var a=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow");e.push(a)}}),Fe.combineFilters(e)}},xte=ni.ViewController.inherit({_getHeaderPanel:function(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel},setHighLight:function(e,t){Zo(this)&&(e&&e.toggleClass(Dg,t)&&e.closest("."+d_).toggleClass(Rg,t),this._getHeaderPanel().enableApplyButton(t))},applyFilter:function(){var e=this.getController("columns"),t=e.getColumns();e.beginUpdate();for(var i=0;i<t.length;i++){var r=t[i];r.bufferedFilterValue!==void 0&&(e.columnOption(i,"filterValue",r.bufferedFilterValue),r.bufferedFilterValue=void 0),r.bufferedSelectedFilterOperation!==void 0&&(e.columnOption(i,"selectedFilterOperation",r.bufferedSelectedFilterOperation),r.bufferedSelectedFilterOperation=void 0)}e.endUpdate(),this.removeHighLights()},removeHighLights:function(){if(Zo(this)){var e=this.getView("columnHeadersView").element();e.find("."+this.addWidgetPrefix(Ou)+" ."+Dg).removeClass(Dg),e.find("."+this.addWidgetPrefix(Ou)+" ."+Rg).removeClass(Rg),this._getHeaderPanel().enableApplyButton(!1)}},setCurrentColumnForFiltering:function(e){this._currentColumn=e},getCurrentColumnForFiltering:function(){return this._currentColumn}}),wte={defaultOptions:function(){return{syncLookupFilterValues:!0,filterRow:{visible:!1,showOperationChooser:!0,showAllText:Ae.format("dxDataGrid-filterRowShowAllText"),resetOperationText:Ae.format("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:Ae.format("dxDataGrid-applyFilterText"),operationDescriptions:{equal:Ae.format("dxDataGrid-filterRowOperationEquals"),notEqual:Ae.format("dxDataGrid-filterRowOperationNotEquals"),lessThan:Ae.format("dxDataGrid-filterRowOperationLess"),lessThanOrEqual:Ae.format("dxDataGrid-filterRowOperationLessOrEquals"),greaterThan:Ae.format("dxDataGrid-filterRowOperationGreater"),greaterThanOrEqual:Ae.format("dxDataGrid-filterRowOperationGreaterOrEquals"),startsWith:Ae.format("dxDataGrid-filterRowOperationStartsWith"),contains:Ae.format("dxDataGrid-filterRowOperationContains"),notContains:Ae.format("dxDataGrid-filterRowOperationNotContains"),endsWith:Ae.format("dxDataGrid-filterRowOperationEndsWith"),between:Ae.format("dxDataGrid-filterRowOperationBetween"),isBlank:Ae.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:Ae.format("dxFilterBuilder-filterOperationIsNotBlank")},betweenStartText:Ae.format("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:Ae.format("dxDataGrid-filterRowOperationBetweenEndText")}}},controllers:{applyFilter:xte},extenders:{controllers:{data:Cte,columnsResizer:{_startResizing:function(){var e=this;if(e.callBase.apply(e,arguments),e.isResizing()){var t=e._columnHeadersView.getFilterRangeOverlayInstance();if(t){var i=t.$element().closest("td").index();(i===e._targetPoint.columnIndex||i===e._targetPoint.columnIndex+1)&&t.$content().hide()}}},_endResizing:function(){var e=this,t;if(e.isResizing()){var i=e._columnHeadersView.getFilterRangeOverlayInstance();i&&(t=i.$element().closest("td"),e._columnHeadersView._updateFilterRangeOverlay({width:Pt(t,!0)+Ak}),i.$content().show())}e.callBase.apply(e,arguments)}},editing:{updateFieldValue(e){return e.column.lookup&&(this._needUpdateLookupDataSource=!0),this.callBase.apply(this,arguments)},_afterSaveEditData(e){if(this._needUpdateLookupDataSource&&!e){var t;(t=this.getView("columnHeadersView"))===null||t===void 0||t.updateLookupDataSource()}return this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)},_afterCancelEditData(){return this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)}}},views:{columnHeadersView:yte,headerPanel:{_getToolbarItems:function(){var e=this.callBase(),t=this._prepareFilterItem(e);return t.concat(e)},_prepareFilterItem:function(){var e=this,t=[];if(e._isShowApplyFilterButton()){var i=e.option("filterRow.applyFilterText"),r=e._columnsController.getColumns(),n=!r.filter(function(s){return s.bufferedFilterValue!==void 0}).length,a={widget:"dxButton",options:{icon:"apply-filter",disabled:n,onClick:function(){e._applyFilterViewController.applyFilter()},hint:i,text:i,onInitialized:function(s){J(s.element).addClass(e._getToolbarButtonClass(vte))}},showText:"inMenu",name:"applyFilterButton",location:"after",locateInMenu:"auto",sortIndex:10};t.push(a)}return t},_isShowApplyFilterButton:function(){var e=this.option("filterRow");return e&&e.visible&&e.applyFilter==="onClick"},init:function(){this.callBase(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")},enableApplyButton:function(e){this.setToolbarItemDisabled("applyFilterButton",!e)},isVisible:function(){return this.callBase()||this._isShowApplyFilterButton()},optionChanged:function(e){e.name==="filterRow"?(this._invalidate(),e.handled=!0):this.callBase(e)}}}}};qe.registerModule("filterRow",wte);Zs.setEditorClass(Md);var XS="dx-header-filter",Ste="dx-header-filter-menu",Ete="text";function Ok(e){e=e||[];for(var t=0;t<e.length;t++)e[t].selected=!1,Ok(e[t].items)}function YS(e,t){if(!e.component.option("searchValue")){var i=J(e.element).find(".dx-list-select-all-checkbox").data("dxCheckBox");i&&t&&t.length&&i.option("value",void 0)}}function Tte(e,t){var i=t.headerFilter;return i&&oe(i.allowSearch)?i.allowSearch:e.option("headerFilter.allowSearch")}function Ite(e,t,i){if(t^i){if(e.selected=!0,i&&e.items){for(var r=0;r<e.items.length;r++)if(!e.items[r].selected){e.selected=void 0;break}}}else(i||e.selected)&&(e.selected=!1,Ok(e.items))}var Ate=ni.View.inherit({getPopupContainer:function(){return this._popupContainer},getListContainer:function(){return this._listContainer},applyHeaderFilter:function(e){var t=this.getListContainer(),i=t.option("searchValue"),r=!i&&!e.isFilterBuilder&&t.$element().find(".dx-checkbox").eq(0).hasClass("dx-checkbox-checked"),n=[];r?(e.type==="tree"&&(e.filterType="exclude"),Array.isArray(e.filterValues)&&(e.filterValues=[])):e.type==="tree"&&(e.filterType&&(e.filterType="include"),function a(s,o,l){ve(o,function(u,d){if(d.selected!==void 0&&!!d.selected^l){var c=t._getNode(d),h=t._hasChildren(c),f=h&&d.items&&d.items.some(p=>p.selected);if(!i||!f){s.push(d.value);return}}d.items&&d.items.length&&a(s,d.items,l)})}(n,t.option("items"),!1),e.filterValues=n),e.filterValues&&!e.filterValues.length&&(e.filterValues=null),e.apply(),this.hideHeaderFilterMenu()},showHeaderFilterMenu:function(e,t){if(t){this._initializePopupContainer(t);var i=this.getPopupContainer();this.hideHeaderFilterMenu(),this.updatePopup(e,t),i.show()}},hideHeaderFilterMenu:function(){var e=this.getPopupContainer();e&&e.hide()},updatePopup:function(e,t){var i=this.option("showColumnLines"),r=t.alignment==="right"^!i?"left":"right";this._popupContainer.setAria({role:"dialog",label:Ae.format("dxDataGrid-headerFilterLabel")}),this._popupContainer&&(this._cleanPopupContent(),this._popupContainer.option("position",{my:r+" top",at:r+" bottom",of:e,collision:"flip fit"}))},_getSearchExpr:function(e){var t=e.lookup,i=e.useDefaultSearchExpr,r=e.headerFilter&&e.headerFilter.dataSource;if(i||oe(r)&&!We(r))return Ete;if(t)return t.displayExpr||"this";if(e.dataSource){var n=e.dataSource.group;if(Array.isArray(n)&&n.length>0)return n[0].selector;if(We(n)&&!e.remoteFiltering)return n}return e.dataField||e.selector},_cleanPopupContent:function(){this._popupContainer&&this._popupContainer.$content().empty()},_initializePopupContainer:function(e){var t=this,i=t.element(),r=t.option("headerFilter"),n=e.headerFilter&&e.headerFilter.width||r&&r.width,a=e.headerFilter&&e.headerFilter.height||r&&r.height,s={width:n,height:a,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,hideOnParentScroll:!1,dragEnabled:!1,hideOnOutsideClick:!0,focusStateEnabled:!1,copyRootClassesToWrapper:!0,_ignoreCopyRootClassesToWrapperDeprecation:!0,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:r.texts.ok,onClick:function(){t.applyHeaderFilter(e)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:r.texts.cancel,onClick:function(){t.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing:function(o){o.component.$content().parent().addClass("dx-dropdowneditor-overlay"),t._initializeListContainer(e),e.onShowing&&e.onShowing(o)},onShown:function(){t.getListContainer().focus()},onHidden:e.onHidden,onInitialized:function(o){var l=o.component;l.option("animation",l._getDefaultOptions().animation)}};oe(t._popupContainer)?t._popupContainer.option(s):t._popupContainer=t._createComponent(i,Hn,s)},_initializeListContainer:function(e){var t=this,i=t._popupContainer.$content(),r={searchEnabled:Tte(t,e),searchTimeout:t.option("headerFilter.searchTimeout"),searchMode:e.headerFilter&&e.headerFilter.searchMode||"",dataSource:e.dataSource,onContentReady:function(){t.renderCompleted.fire()},itemTemplate:function(a,s,o){var l=J(o);return e.encodeHtml?l.text(a.text):l.html(a.text)}};function n(a){a.fullName==="searchValue"&&!e.isFilterBuilder&&t.option("headerFilter.hideSelectAllOnSearch")!==!1&&(e.type==="tree"?a.component.option("showCheckBoxesMode",a.value?"normal":"selectAll"):a.component.option("selectionMode",a.value?"multiple":"all"))}e.type==="tree"?t._listContainer=t._createComponent(J("<div>").appendTo(i),Ld,ce(r,{showCheckBoxesMode:e.isFilterBuilder?"normal":"selectAll",onOptionChanged:n,keyExpr:"id"})):t._listContainer=t._createComponent(J("<div>").appendTo(i),po,ce(r,{searchExpr:t._getSearchExpr(e),pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:e.isFilterBuilder?"multiple":"all",onOptionChanged:n,onSelectionChanged:function(a){var s=a.component.option("items"),o=a.component.option("selectedItems");if(!a.component._selectedItemsUpdating&&!a.component.option("searchValue")&&!e.isFilterBuilder){var l=e.filterValues||[],u=e.filterType==="exclude";o.length===0&&s.length&&(l.length<=1||u&&l.length===s.length-1)?(e.filterType="include",e.filterValues=[]):o.length===s.length&&(e.filterType="exclude",e.filterValues=[])}ve(s,function(d,c){var h=Fe.getIndexByKey(c,o,null)>=0,f=!!c.selected;if(f!==h){c.selected=h,e.filterValues=e.filterValues||[];var p=Fe.getIndexByKey(c.value,e.filterValues,null);p>=0&&e.filterValues.splice(p,1),h^e.filterType==="exclude"&&e.filterValues.push(c.value)}}),YS(a,e.filterValues)},onContentReady:function(a){var s=a.component,o=s.option("items"),l=[];ve(o,function(){this.selected&&l.push(this)}),s._selectedItemsUpdating=!0,s.option("selectedItems",l),s._selectedItemsUpdating=!1,YS(a,e.filterValues)}}))},_renderCore:function(){this.element().addClass(Ste)}}),ip=function(e){return oe(e.allowHeaderFiltering)?e.allowHeaderFiltering:e.allowFiltering},Dk={_applyColumnState:function(e){var t,i=e.rootElement,r=e.column;if(e.name==="headerFilter"){if(i.find("."+XS).remove(),ip(r)){t=this.callBase(e).toggleClass("dx-header-filter-empty",this._isHeaderFilterEmpty(r)),this.option("useLegacyKeyboardNavigation")||t.attr("tabindex",this.option("tabindex")||0);var n=Ae.format("dxDataGrid-headerFilterIndicatorLabel",r.caption);t.attr("aria-label",n),t.attr("aria-haspopup","dialog"),t.attr("role","button")}return t}return this.callBase(e)},_isHeaderFilterEmpty:function(e){return!e.filterValues||!e.filterValues.length},_getIndicatorClassName:function(e){return e==="headerFilter"?XS:this.callBase(e)},_renderIndicator:function(e){var t=e.container,i=e.indicator;if(e.name==="headerFilter"){var r=this.option("rtlEnabled");if(t.children().length&&(!r&&e.columnAlignment==="right"||r&&e.columnAlignment==="left")){t.prepend(i);return}}this.callBase(e)},optionChanged:function(e){if(e.name==="headerFilter"){var t=this.name==="columnHeadersView";this._invalidate(t,t),e.handled=!0}else this.callBase(e)}},Ote={month:function(e){return gt.getMonthNames()[e-1]},quarter:function(e){return gt.format(new Date(2e3,3*e-1),"quarter")}};function kk(e,t,i){return t=t||[],i=i||[],e.forEach(r=>{if(oe(r.key)){var n=t.length===1;if(t.push(n?r.key-1:r.key),r.items)kk(r.items,t,i);else{var a=new Date(Date.UTC.apply(Date,t));i.push(a)}t.pop()}else i.push(null)}),i}function Dte(e,t){var i=kk(e),r=vr(i),n=Fe.getHeaderFilterGroupParameters(Ne({},t,{calculateCellValue:a=>a}));return fa.queryByOptions(r,{group:n}).toArray()}function kte(e){return(e==null?void 0:e.slice(-1))==="Z"||(e==null?void 0:e.slice(-3))==="'Z'"}var Rte=ni.ViewController.inherit({init:function(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")},_updateSelectedState:function(e,t){for(var i=e.length,r=t.filterType==="exclude";i--;){var n=e[i];"items"in e[i]&&this._updateSelectedState(e[i].items,t),Ite(n,Fe.getIndexByKey(e[i].value,t.filterValues,null)>-1,r)}},_normalizeGroupItem:function(e,t,i){var r,n,a=i.path,s=i.valueSelector,o=i.displaySelector,l=i.column;return s&&o?(r=s(e),n=o(e)):(r=e.key,n=r),at(e)?e=ce({},e):e={},a.push(r),a.length===1?e.value=a[0]:e.value=a.join("/"),e.text=this.getHeaderItemText(n,l,t,i.headerFilterOptions),e},getHeaderItemText:function(e,t,i,r){var n=Fe.formatValue(e,function(a,s,o){var l=pl.getGroupInterval(s),u=Fe.getFormatOptionsByColumn(s,"headerFilter");return l&&(u.groupInterval=l[o],Fe.isDateType(s.dataType)?u.format=Ote[l[o]]:s.dataType==="number"&&(u.getDisplayFormat=function(){var d={format:s.format,target:"headerFilter"},c=Fe.formatValue(a,d),h=a+l[o],f=Fe.formatValue(h,d);return c&&f?c+" - "+f:""})),u}(e,t,i));return n||(n=r.texts.emptyValue),n},_processGroupItems:function(e,t,i,r){var n,a,s=r.column,o=s.lookup,l=r.level;i=i||[],t=t||0,o&&(n=Yt(o.displayExpr),a=Yt(o.valueExpr));for(var u=0;u<e.length;u++)e[u]=this._normalizeGroupItem(e[u],t,{column:r.column,headerFilterOptions:r.headerFilterOptions,displaySelector:n,valueSelector:a,path:i}),"items"in e[u]&&(t===l||!oe(e[u].value)?delete e[u].items:this._processGroupItems(e[u].items,t+1,i,r)),i.pop()},getDataSource:function(e){var t,i=this._dataController.dataSource(),r=i==null?void 0:i.remoteOperations().grouping,n=Fe.getHeaderFilterGroupParameters(e,r),a=(t=e.headerFilter)===null||t===void 0?void 0:t.dataSource,s=this.option("headerFilter"),o=!1,l={component:this.component};if(i){if(oe(a)&&!We(a))l.dataSource=Tl(a);else if(e.lookup)if(o=!0,this.option("syncLookupFilterValues")){this._currentColumn=e;var u=this._dataController.getCombinedFilter();this._currentColumn=null,l.dataSource=Fe.getWrappedLookupDataSource(e,i,u)}else l.dataSource=Fe.normalizeLookupDataSource(e.lookup);else{var d=Array.isArray(n)?n.length-1:0;this._currentColumn=e;var c=this._dataController.getCombinedFilter();this._currentColumn=null,l.dataSource={filter:c,group:n,useDefaultSearch:!0,load:p=>{var g=new we;return p.dataField=e.dataField||e.name,i.load(p).done(function(m){var v=r&&kte(e.serializationFormat)&&d>3;v&&(m=Dte(m,e)),f._processGroupItems(m,null,null,{level:d,column:e,headerFilterOptions:s}),g.resolve(m)}).fail(g.reject),g}}}We(a)&&a.call(e,l);var h=l.dataSource.postProcess,f=this;return l.dataSource.postProcess=function(p){var g=p;return o&&(this.pageIndex()===0&&!this.searchValue()&&(g=g.slice(0),g.unshift(null)),f._processGroupItems(g,null,null,{level:0,column:e,headerFilterOptions:s})),g=h&&h.call(this,g)||g,f._updateSelectedState(g,e),g},l.dataSource}},getCurrentColumn:function(){return this._currentColumn},showHeaderFilterMenu:function(e,t){var i=this._columnsController,r=ce(!0,{},this._columnsController.getColumns()[e]);if(r){var n=i.getVisibleIndex(e),a=t?this.getView("headerPanel"):this.getView("columnHeadersView"),s=s||a.getColumnElements().eq(t?r.groupIndex:n);this.showHeaderFilterMenuBase({columnElement:s,column:r,applyFilter:!0,apply:function(){i.columnOption(e,{filterValues:this.filterValues,filterType:this.filterType})}})}},showHeaderFilterMenuBase:function(e){var t=this,i=e.column;if(i){var r=pl.getGroupInterval(i),n=t._dataController.dataSource(),a=n&&n.remoteOperations().filtering;ce(e,i,{type:r&&r.length>1?"tree":"list",remoteFiltering:a,onShowing:function(s){var o=s.component.$overlayContent().dxResizable("instance");o&&o.option("onResizeEnd",function(l){var u=t.getController("columns"),d=u.columnOption(e.dataField,"headerFilter");d=d||{},d.width=l.width,d.height=l.height,u.columnOption(e.dataField,"headerFilter",d,!0)})},onHidden:()=>D0(this)}),e.dataSource=t.getDataSource(e),e.isFilterBuilder&&(e.dataSource.filter=null,e.alignment="right"),t._headerFilterView.showHeaderFilterMenu(e.columnElement,e)}},hideHeaderFilterMenu:function(){this._headerFilterView.hideHeaderFilterMenu()}}),Mte=ce({},Dk,{_renderCellContent:function(e,t){var i=this,r,n=t.column;!n.command&&ip(n)&&i.option("headerFilter.visible")&&t.rowType==="header"&&(r=i._applyColumnState({name:"headerFilter",rootElement:e,column:n,showColumnLines:i.option("showColumnLines")}),r&&i._subscribeToIndicatorEvent(r,n,"headerFilter")),this.callBase.apply(this,arguments)},_subscribeToIndicatorEvent:function(e,t,i){var r=this;i==="headerFilter"&&he.on(e,zt,r.createAction(function(n){n.event.stopPropagation(),r.getController("headerFilter").showHeaderFilterMenu(t.index,!1)}))},_updateIndicator:function(e,t,i){var r=this.callBase(e,t,i);r&&this._subscribeToIndicatorEvent(r,t,i)},_updateHeaderFilterIndicators:function(){this.option("headerFilter.visible")&&this._updateIndicators("headerFilter")},_needUpdateFilterIndicators:function(){return!0},_columnOptionChanged:function(e){var t=e.optionNames;if(Fe.checkChanges(t,["filterValues","filterType"])){this._needUpdateFilterIndicators()&&this._updateHeaderFilterIndicators();return}this.callBase(e)}}),Bte=ce({},Dk,{_createGroupPanelItem:function(e,t){var i=this,r=i.callBase.apply(i,arguments),n;return!t.command&&ip(t)&&i.option("headerFilter.visible")&&(n=i._applyColumnState({name:"headerFilter",rootElement:r,column:{alignment:os(i.option("rtlEnabled")),filterValues:t.filterValues,allowHeaderFiltering:!0},showColumnLines:!0}),n&&he.on(n,zt,i.createAction(function(a){var s=a.event;s.stopPropagation(),i.getController("headerFilter").showHeaderFilterMenu(t.index,!0)}))),r}}),Pte={skipCalculateColumnFilters:function(){return!1},_calculateAdditionalFilter:function(){if(this.skipCalculateColumnFilters())return this.callBase();var e=[this.callBase()],t=this._columnsController.getVisibleColumns(null,!0),i=this.getController("headerFilter"),r=i.getCurrentColumn();return ve(t,function(n,a){var s;if(!(r&&r.index===a.index)&&ip(a)&&a.calculateFilterExpression&&Array.isArray(a.filterValues)&&a.filterValues.length){var o=[];ve(a.filterValues,function(l,u){Array.isArray(u)?s=u:(a.deserializeValue&&!Fe.isDateType(a.dataType)&&a.dataType!=="number"&&(u=a.deserializeValue(u)),s=a.createFilterExpression(u,"=","headerFilter")),s&&(s.columnIndex=a.index),o.push(s)}),o=Fe.combineFilters(o,"or"),e.push(a.filterType==="exclude"?["!",o]:o)}}),Fe.combineFilters(e)}},Lte={defaultOptions:function(){return{syncLookupFilterValues:!0,headerFilter:{visible:!1,width:252,height:325,allowSearch:!1,searchTimeout:500,texts:{emptyValue:Ae.format("dxDataGrid-headerFilterEmptyValue"),ok:Ae.format("dxDataGrid-headerFilterOK"),cancel:Ae.format("dxDataGrid-headerFilterCancel")}}}},controllers:{headerFilter:Rte},views:{headerFilterView:Ate},extenders:{controllers:{data:Pte},views:{columnHeadersView:Mte,headerPanel:Bte}}};qe.registerModule("headerFilter",Lte);var rp="dx-filterbuilder-range",Fte=rp+"-start",Nte=rp+"-end",Vte=rp+"-separator",Rk="–";function Hte(e,t){var i=J("<div>").addClass(Fte),r=J("<div>").addClass(Nte),n=e.value||[],a=function(o){return o&&o.length>0?o[0]:null},s=function(o){return o&&o.length===2?o[1]:null};t.append(i),t.append(J("<span>").addClass(Vte).text(Rk)),t.append(r),t.addClass(rp),this._editorFactory.createEditor.call(this,i,ce({},e.field,e,{value:a(n),parentType:"filterBuilder",setValue:function(o){n=[o,s(n)],e.setValue(n)}})),this._editorFactory.createEditor.call(this,r,ce({},e.field,e,{value:s(n),parentType:"filterBuilder",setValue:function(o){n=[a(n),o],e.setValue(n)}}))}function ZS(e,t){return{name:"between",caption:e,icon:"range",valueSeparator:Rk,dataTypes:["number","date","datetime"],editorTemplate:Hte.bind(t),notForLookup:!0}}var $te={"=":"equal","<>":"notequal","<":"less","<=":"lessorequal",">":"greater",">=":"greaterorequal",notcontains:"doesnotcontain",contains:"contains",startswith:"startswith",endswith:"endswith",isblank:"isblank",isnotblank:"isnotblank"},zte={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",isblank:"isBlank",isnotblank:"isNotBlank",between:"between"};const Mk={getIconByFilterOperation:function(e){return $te[e]},getNameByFilterOperation:function(e){return zte[e]}};var xb="string",JS="icon-none",es="and",wb="=",Wte="<>",jte={number:["=","<>","<",">","<=",">=","isblank","isnotblank"],string:["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"],date:["=","<>","<",">","<=",">=","isblank","isnotblank"],datetime:["=","<>","<",">","<=",">=","isblank","isnotblank"],boolean:["=","<>","isblank","isnotblank"],object:["isblank","isnotblank"]},Ute={date:"shortDate",datetime:"shortDateShortTime"},Gte=["=","<>","isblank","isnotblank"],Kte=["caption","customizeText","dataField","dataType","editorTemplate","falseText","editorOptions","filterOperations","format","lookup","trueText","calculateFilterExpression","name"],qte="dx-filterbuilder",Bk=qte+"-text",Xte=Bk+"-part",Pk=Bk+"-separator",Yte=Pk+"-empty";function Zte(e,t){var i=e.format||Ute[e.dataType];return FA.format(t,i)}function Qs(e){return e&&e.length>1&&e[0]==="!"&&!Qi(e)}function hs(e){return Qs(e)?e[1]:e}function Jte(e,t){return Qs(e)?e[1]=t:e=t,e}function Qte(e,t){(function(i){return i.indexOf("!")!==-1})(t)?Qs(e)||function(i){var r=i.slice(0);i.length=0,i.push("!",r)}(e):Qs(e)&&function(i){var r=hs(i);i.length=0,[].push.apply(i,r)}(e)}function eie(e,t){Qte(e,t);var i=hs(e),r;return t=function(n){return n.indexOf("!")===-1?n:n.substring(1)}(t),function(n,a){for(r=0;r<n.length;r++)Array.isArray(n[r])||(n[r]=a)}(i,t),e}function tie(e,t){var i=_o(e);return t.filter(function(r){return r.value===i})[0]}function Lk(e){if(Qi(e))return es;for(var t="",i=0;i<e.length;i++){var r=e[i];if(!Array.isArray(r)){if(t&&t!==r)throw new Mi.Error("E4019");r!=="!"&&(t=r)}}return t}function _o(e){var t=hs(e),i=Lk(t);return i||(i=es),t!==e&&(i="!"+i),i}function iie(e){return e.lookup&&Gte||jte[e.dataType||xb]}function rie(e){return Array.isArray(e)&&e.length}function Fk(e){var t=rie(e.filterOperations)?e.filterOperations:iie(e);return ce([],t)}function h_(e,t){var i=Mk.getNameByFilterOperation(e);return t&&t[i]?t[i]:i}function nie(e,t){for(var i=0;i<t.length;i++)if(t[i].value===e)return t[i];throw new xt.Error("E1048",e)}function ua(e,t){var i=e.filter(function(r){return r.name===t});return i.length?i[0]:null}function aie(e,t,i){var r=Fk(e),n=!!e.lookup;return i.forEach(function(a){if(!e.filterOperations&&r.indexOf(a.name)===-1){var s=a&&a.dataTypes,o=n?!!a.notForLookup:!1;!o&&s&&s.indexOf(e.dataType||xb)>=0&&r.push(a.name)}}),r.map(function(a){var s=ua(i,a);return s?{icon:s.icon||JS,text:s.caption||zs(s.name),value:s.name,isCustom:!0}:{icon:Mk.getIconByFilterOperation(a)||JS,text:h_(a,t),value:a}})}function Sb(e){return e.defaultFilterOperation||Fk(e)[0]}function sie(e,t){var i=[e.dataField,"",""],r=Sb(e);return f_(i,r,t),i}function c_(e,t){var i=hs(e),r=i.indexOf(t);return i.splice(r,1),i.length!==1&&i.splice(r,1),e}function Nk(e){var t=Eb(e),i=t?Tb(e):e;return t?["!",[i]]:[i]}function nf(e,t){var i=hs(t),r=_o(i);return i.length===1?i.unshift(e):i.push(e,r),t}function af(e,t){for(var i=0;i<t.length;i++)if(t[i].name===e||t[i].dataField.toLowerCase()===e.toLowerCase())return t[i];var r=jk(t,!0).filter(function(n){return n.dataField.toLowerCase()===e.toLowerCase()});if(r.length>0)return r[0];throw new xt.Error("E1047",e)}function cs(e){return Array.isArray(e)?e.length<2||Array.isArray(e[0])||Array.isArray(e[1]):!1}function Qi(e){return Array.isArray(e)?e.length>1&&!Array.isArray(e[0])&&!Array.isArray(e[1]):!1}function QS(e,t,i){i=i||es;for(var r=Lk(e).toLowerCase()||i,n=[],a=0;a<e.length;a++)cs(e[a])?(n.push(Ib(e[a],t,i)),n=Pg(n,r)):Qi(e[a])&&(n.push(sf(e[a],t)),n=Pg(n,r));return n.length===0&&(n=Pg(n,r)),n}function oie(e,t){var i=ua(t,e[1]);return i&&i.name===e[1]}function sf(e,t){return oie(e,t)||e.length<3&&(e[2]=e[1],e[1]=wb),e}function Eb(e){return e.indexOf("not")!==-1}function Tb(e){return e.substring(3).toLowerCase()}function Bg(e,t){var i=Eb(t);return t=i?Tb(t):t,i?["!",e,t]:[e,t]}function Pg(e,t){var i=Eb(t);t=i?Tb(t):t,e.push(t);var r=e;return i&&(r=["!",r]),r}function Ib(e,t,i){return i=i||es,e?(e=ce(!0,[],e),Qi(e)?Bg(sf(e,t),i):Qs(e)?["!",Qi(e[1])?Bg(sf(e[1],t),i):Qs(e[1])?Bg(Ib(e[1],t),i):QS(e[1],t,i)]:QS(e,t,i)):Nk(i)}function lie(e){return e.reduce(function(t,i){if(oe(i.dataField)){var r={};for(var n in i)i[n]&&Kte.indexOf(n)>-1&&(r[n]=i[n]);r.defaultCalculateFilterExpression=pl.defaultCalculateFilterExpression,oe(r.dataType)||(r.dataType=xb),oe(r.trueText)||(r.trueText=Ae.format("dxDataGrid-trueText")),oe(r.falseText)||(r.falseText=Ae.format("dxDataGrid-falseText")),t.push(r)}return t},[])}function eE(e,t,i,r){var n=af(e[0],t),a=sf(e,i),s=i.length&&ua(i,a[1]);return s&&s.calculateFilterExpression?s.calculateFilterExpression.apply(s,[a[2],n,t]):n.createFilterExpression?n.createFilterExpression.apply(n,[a[2],a[1],r]):n.calculateFilterExpression?n.calculateFilterExpression.apply(n,[a[2],a[1],r]):n.defaultCalculateFilterExpression.apply(n,[a[2],a[1],r])}function gl(e,t,i,r){if(!oe(e))return null;if(Qs(e)){var n=gl(e[1],t,i,r);return["!",n]}var a=hs(e);if(Qi(a))return eE(a,t,i,r)||null;for(var s=[],o,l=_o(a),u=0;u<a.length;u++)cs(a[u])?(o=gl(a[u],t,i,r),o&&(u&&s.push(l),s.push(o))):Qi(a[u])&&(o=eE(a[u],t,i,r),o&&(s.length&&s.push(l),s.push(o)));return s.length===1&&(s=s[0]),s.length?s:null}function Du(e){var t=hs(e),i;if(t.length===0)return null;var r=[];for(i=0;i<t.length;i++)if(cs(t[i])){var n=Du(t[i]);n?t[i]=n:r.push(t[i])}else Qi(t[i])&&(die(t[i])||r.push(t[i]));for(i=0;i<r.length;i++)c_(t,r[i]);return t.length===1||(t.splice(t.length-1,1),t.length===1&&(e=Jte(e,t[0])),e.length===0)?null:e}function Vk(e,t,i){if(t===""){i("");return}var r=e.lookup;if(r.items)i(r.calculateCellValue(t)||"");else{var n=We(r.dataSource)?r.dataSource({}):r.dataSource,a=new Bn(n);a.loadSingle(r.valueExpr,t).done(function(s){var o="";s&&(o=r.displayExpr?Yt(r.displayExpr)(s):s),e.customizeText&&(o=e.customizeText({value:t,valueText:o})),i(o)}).fail(function(){i("")})}}function Hk(e,t,i,r,n){var a;return t===!0?a=e.trueText||Ae.format("dxDataGrid-trueText"):t===!1?a=e.falseText||Ae.format("dxDataGrid-falseText"):a=Zte(e,t),e.customizeText&&(a=e.customizeText.call(e,{value:t,valueText:a,target:r})),i&&i.customizeText&&(a=i.customizeText.call(i,{value:t,valueText:a,field:e,target:r},n)),a}function uie(e,t,i,r){var n={values:t};return t.map(a=>Hk(e,a,i,r,n))}function Lg(e){return e===""||e===null}function $k(e,t,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"filterBuilder";if(Lg(t))return"";if(Array.isArray(t)){var n=new we;return Ke.apply(this,uie(e,t,i,r)).done(function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var l=s.some(u=>!Lg(u))?s.map(u=>Lg(u)?"?":u):"";n.resolve(l)}),n}else return Hk(e,t,i,r)}function tE(e,t){return e.some(function(i){return i.dataField===t})}function zk(e,t,i){var r=i.dataField;Ab(r)&&(i.parentId=Uk(r),!tE(t,i.parentId)&&!tE(e,i.parentId)&&zk(e,t,{id:i.parentId,dataType:"object",dataField:i.parentId,caption:Wk(i.parentId,!0),filterOperations:["isblank","isnotblank"]})),t.push(i)}function Wk(e,t){var i="";if(t)e=e.substring(e.lastIndexOf(".")+1);else if(Ab(e))return e.split(".").forEach(function(r,n,a){i+=zs(r),n!==a.length-1&&(i+=".")}),i;return zs(e)}function jk(e,t){for(var i=[],r=0;r<e.length;r++){var n=ce(!0,{caption:Wk(e[r].dataField,t)},e[r]);n.id=n.name||n.dataField,t?zk(e,i,n):i.push(n)}return i}function Ab(e){return e.lastIndexOf(".")!==-1}function Uk(e){return e.substring(0,e.lastIndexOf("."))}function Gk(e,t){if(Ab(e.dataField)){for(var i=Uk(e.dataField),r=0;r<t.length;r++)if(t[r].dataField===i)return Gk(t[r],t)+"."+e.caption}return e.caption}function f_(e,t,i){var r=ua(i,t);return r?(r.hasValue===!1?(e[1]=t,e.length=2):(e[1]=t,e[2]=""),e):(t==="isblank"?(e[1]=wb,e[2]=null):t==="isnotblank"?(e[1]=Wte,e[2]=null):(r=ua(i,e[1]),(r||e.length===2||e[2]===null)&&(e[2]=""),e[1]=t),e)}function iE(e){var t;return e[2]===null?e[1]===wb?t="isblank":t="isnotblank":t=e[1],t}function die(e){return e[2]!==""}function hie(e,t,i){var r=ce(!0,[],e),n=-1;return r.some(function(a,s){if(a.name==="between")return n=s,!0}),n!==-1?r[n]=ce(ZS(t,i),r[n]):r.unshift(ZS(t,i)),r}function Yu(e,t){return e[0]===t}function p_(e,t){if(!e||e.length===0)return null;if(Qi(e)){var i=Yu(e,t);return i?null:e}else return Kk(e,[t],!1)}function Kk(e,t,i){var r=[];return e.forEach(function(n){Qi(n)?Yu(n,t[0])?i?(r.push(t),i=!1):r.splice(r.length-1,1):r.push(n):(r.length||cs(n))&&r.push(n)}),r.length===0?null:(i&&(r.push(es),r.push(t)),r.length===1?r[0]:r)}function rE(e,t){if(e===null||e.length===0)return t;if(Qi(e))return Yu(e,t[0])?t:[e,es,t];var i=_o(e);return i!==es?[t,"and",e]:Kk(e,t,!0)}function cie(e,t){if(e===null||e.length===0)return[];if(Qi(e))return Yu(e,t)?[e]:[];var i=_o(e);if(i!==es)return[];var r=e.filter(function(n){return Qi(n)&&Yu(n,t)});return r}function qk(e,t){return e===null||e.length===0?!1:Qi(e)?e[0]===t:e.some(function(i){return(Qi(i)||cs(i))&&qk(i,t)})}var m_=function(e,t,i){if(Array.isArray(t)){var r=t.length-1;e.empty(),t.forEach((n,a)=>{J("<span>").addClass(Xte).text(n).appendTo(e),a!==r&&J("<span>").addClass(Pk).text(i&&i.valueSeparator?i.valueSeparator:"|").addClass(Yte).appendTo(e)})}else t?e.text(t):e.text(Ae.format("dxFilterBuilder-enterValueText"))};function Xk(e){var t=function(r,n){return n?n+"/"+r:r},i=e&&e.getController("headerFilter");return{dataTypes:["string","date","datetime","number","boolean","object"],calculateFilterExpression:function(r,n,a){var s=[],o=r.length-1;return r&&r.forEach(function(l,u){if(Qi(l)||cs(l)){var d=gl(l,a,[],"headerFilter");s.push(d)}else s.push(gl([n.dataField,"=",l],a,[],"headerFilter"));u!==o&&s.push("or")}),s.length===1&&(s=s[0]),s},editorTemplate:function(r,n){var a=J("<div>").addClass("dx-filterbuilder-item-value-text").appendTo(n),s=ce(!0,{},e.columnOption(r.field.dataField));return m_(a,r.text&&r.text.split("|")),s.filterType="include",s.filterValues=r.value?r.value.slice():[],i.showHeaderFilterMenuBase({columnElement:a,column:s,apply:function(){o=this.filterValues,r.setValue(o);var o;i.hideHeaderFilterMenu(),r.closeEditor()},onHidden:function(){r.closeEditor()},isFilterBuilder:!0}),n},customizeText:function(r,n){n=n||{};var a=r.value,s=e.columnOption(r.field.dataField),o=s&&s.headerFilter,l=s&&s.lookup,u=n.values||[a];if(o&&o.dataSource||l&&l.dataSource){var d=new we,c=n.items||new we;if(!n.items){s=ce({},s,{filterType:"include",filterValues:u});var h=i.getDataSource(s);h.paginate=!1;var f=new Bn(h),p=f.store().key();if(p){var{values:g}=n;if(g&&g.length>1){var m=g.reduce((b,E)=>(b.length&&b.push("or"),b.push([p,"=",E]),b),[]);f.filter(m)}else f.filter([p,"=",r.value])}else r.field.calculateDisplayValue&&xt.log("W1017");n.items=c,f.load().done(c.resolve)}return c.done(b=>{var E=u.indexOf(r.value);d.resolve(function I(R,N){var j=[];return R.forEach(function(V){if(V.items){var H=I(V.items,t(V.text,N));j=j.concat(H)}V.selected&&j.push(t(V.text,N))}),j}(b)[E])}),d}else{var v=i.getHeaderItemText(a,s,0,e.option("headerFilter"));return v}}}}function fie(e){return ce(Xk(e),{name:"anyof",icon:"selectall",caption:Ae.format("dxFilterBuilder-filterOperationAnyOf")})}function pie(e){var t=Xk(e);return ce({},t,{calculateFilterExpression:function(i,r,n){var a=t.calculateFilterExpression(i,r,n);return!a||a.length===0?null:a[0]==="!"?a:["!",a]},name:"noneof",icon:"unselectall",caption:Ae.format("dxFilterBuilder-filterOperationNoneOf")})}var mie=["=","<>","<","<=",">",">=","notcontains","contains","startswith","endswith","between"],nE="include",ku="exclude";function wn(e){return e.name||e.dataField}function gie(e){e.forEach(t=>{var i=wn(t);if(!oe(i)&&t.allowFiltering)throw new xt.Error("E1049",t.caption)})}var vie=ni.Controller.inherit(function(){var e=function(){return{filterType:nE,filterValues:void 0}},t=function(s){var o=s.filterValues||[];return!pl.getGroupInterval(s)&&!(s.headerFilter&&s.headerFilter.dataSource)||o.length===1&&o[0]===null},i=function(s){var o=s.filterValue;if(oe(o)){var l=s.selectedFilterOperation||s.defaultFilterOperation||Sb(s),u=[wn(s),l,s.filterValue];return u}else return null},r=function(s){var o,l,u=s.filterValues;return u?(u.length===1&&t(s)&&!Array.isArray(u[0])?(s.filterType===ku?o="<>":o="=",l=u[0]):(s.filterType===ku?o="noneof":o="anyof",l=u),[wn(s),o,l]):null},n=function(s,o,l){var u=function(d,c){if(!d)return e();var h,f=d[1],p=d[2],g=Array.isArray(p);if(!g&&!t(c))return e();switch(f){case"anyof":case"=":h=nE;break;case"noneof":case"<>":h=ku;break;default:return e()}return{filterType:h,filterValues:g?p:[p]}}(l,o);s.columnOption(wn(o),u)},a=function(s,o,l){var u,d=l==null?void 0:l[1],c=l==null?void 0:l[2],h=o.filterOperations||o.defaultFilterOperations;(!h||h.indexOf(d)>=0||d===o.defaultFilterOperation)&&mie.indexOf(d)>=0&&c!==null?(d===o.defaultFilterOperation&&!oe(o.selectedFilterOperation)&&(d=o.selectedFilterOperation),u={filterValue:c,selectedFilterOperation:d}):u={filterValue:void 0,selectedFilterOperation:void 0},s.columnOption(wn(o),u)};return{syncFilterValue:function(){var s=this,o=s.getController("columns"),l=o.getFilteringColumns();this._skipSyncColumnOptions=!0,l.forEach(function(u){var d=cie(s.option("filterValue"),wn(u));if(d.length===1){var c=d[0];n(o,u,c),a(o,u,c)}else oe(u.filterValues)&&n(o,u),oe(u.filterValue)&&a(o,u)}),this._skipSyncColumnOptions=!1},_initSync:function(){var s=this.getController("columns").getColumns(),o=this.getController("data"),l=o.pageIndex();if(gie(s),!this.option("filterValue")){var u=this.getController("columns").getFilteringColumns(),d=this.getFilterValueFromColumns(u);this.option("filterValue",d)}this.syncFilterValue(),o.pageIndex(l)},init:function(){var s=this.getController("data");s.isFilterSyncActive()&&(this.getController("columns").isAllDataTypesDefined()?this._initSync():s.dataSourceChanged.add(()=>this._initSync()))},_getSyncFilterRow:function(s,o){var l=i(o);return oe(l)?rE(s,l):p_(s,wn(o))},_getSyncHeaderFilter:function(s,o){var l=r(o);return l?rE(s,l):p_(s,wn(o))},getFilterValueFromColumns:function(s){if(!this.getController("data").isFilterSyncActive())return null;var o=["and"];return s&&s.forEach(l=>{var u=r(l),d=i(l);u&&nf(u,o),d&&nf(d,o)}),Du(o)},syncFilterRow:function(s,o){this.option("filterValue",this._getSyncFilterRow(this.option("filterValue"),s))},syncHeaderFilter:function(s){this.option("filterValue",this._getSyncHeaderFilter(this.option("filterValue"),s))},getCustomFilterOperations:function(){var s=this.option("filterBuilder.customOperations")||[];return[fie(this.component),pie(this.component)].concat(s)},publicMethods:function(){return["getCustomFilterOperations"]}}}()),_ie={isFilterSyncActive:function(){var e=this.option("filterSyncEnabled");return e==="auto"?this.option("filterPanel.visible"):e},skipCalculateColumnFilters:function(){return oe(this.option("filterValue"))&&this.isFilterSyncActive()},_calculateAdditionalFilter:function(){if(this.option("filterPanel.filterEnabled")===!1)return this.callBase();var e=[this.callBase()],t=this.getController("columns").getFilteringColumns(),i=this.option("filterValue");if(this.isFilterSyncActive()){var r=this.getController("headerFilter").getCurrentColumn();r&&i&&(i=p_(i,wn(r)))}var n=this.getController("filterSync").getCustomFilterOperations(),a=gl(i,t,n,"filterBuilder");return a&&e.push(a),Fe.combineFilters(e)},_parseColumnPropertyName:function(e){var t=e.match(/.*\.(.*)/);return t?t[1]:null},clearFilter:function(e){this.component.beginUpdate(),arguments.length>0?(e==="filterValue"&&this.option("filterValue",null),this.callBase(e)):(this.option("filterValue",null),this.callBase()),this.component.endUpdate()},optionChanged:function(e){switch(e.name){case"filterValue":this._applyFilter(),this.isFilterSyncActive()&&this.getController("filterSync").syncFilterValue(),e.handled=!0;break;case"filterSyncEnabled":e.handled=!0;break;case"columns":if(this.isFilterSyncActive()){var t=this.getController("columns").getColumnByPath(e.fullName),i=this.getController("filterSync");if(t&&!i._skipSyncColumnOptions){var r=this._parseColumnPropertyName(e.fullName);i._skipSyncColumnOptions=!0,r==="filterType"?(ku===e.value||ku===e.previousValue)&&i.syncHeaderFilter(t):r==="filterValues"?i.syncHeaderFilter(t):["filterValue","selectedFilterOperation"].indexOf(r)>-1&&i.syncFilterRow(t,t.filterValue),i._skipSyncColumnOptions=!1}}this.callBase(e);break;default:this.callBase(e)}}},bie={_isHeaderFilterEmpty:function(e){return this.getController("data").isFilterSyncActive()?!qk(this.option("filterValue"),wn(e)):this.callBase(e)},_needUpdateFilterIndicators:function(){return!this.getController("data").isFilterSyncActive()},optionChanged:function(e){e.name==="filterValue"?this._updateHeaderFilterIndicators():this.callBase(e)}},yie={defaultOptions:function(){return{filterValue:null,filterSyncEnabled:"auto"}},controllers:{filterSync:vie},extenders:{controllers:{data:_ie},views:{columnHeadersView:bie}}};qe.registerModule("filterSync",yie);var Fr="dx-filterbuilder",vl=Fr+"-group",aE=vl+"-item",sE=vl+"-content",Cie=vl+"-operations",xie=vl+"-operation",g_=Fr+"-action",oE=g_+"-icon",wie="dx-icon-plus",Sie="dx-icon-remove",tu=Fr+"-text",Eie=Fr+"-item-field",Tie=Fr+"-item-operation",lE=Fr+"-item-value",Iie=Fr+"-item-value-text",Aie=Fr+"-overlay",Oie=Fr+"-operations",Die=Fr+"-fields",kie=Fr+"-add-condition",jh="dx-state-active",Rie=Fr+"-menu-custom-operation",uE="filterBuilder",Mie="dx-state-disabled",dE="tab",Fg="enter",hE="escape",Bie=[{name:"onEditorPreparing",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onEditorPrepared",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onValueChanged",config:{excludeValidators:["disabled","readOnly"]}}],cE={and:"and",or:"or",notAnd:"!and",notOr:"!or"},Pie=Ot.inherit(WD),Yk=Hi.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{onEditorPreparing:null,onEditorPrepared:null,onValueChanged:null,fields:[],groupOperations:["and","or","notAnd","notOr"],maxGroupLevel:void 0,value:null,allowHierarchicalFields:!1,groupOperationDescriptions:{and:Ae.format("dxFilterBuilder-and"),or:Ae.format("dxFilterBuilder-or"),notAnd:Ae.format("dxFilterBuilder-notAnd"),notOr:Ae.format("dxFilterBuilder-notOr")},customOperations:[],closePopupOnTargetScroll:!0,filterOperationDescriptions:{between:Ae.format("dxFilterBuilder-filterOperationBetween"),equal:Ae.format("dxFilterBuilder-filterOperationEquals"),notEqual:Ae.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:Ae.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:Ae.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:Ae.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:Ae.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:Ae.format("dxFilterBuilder-filterOperationStartsWith"),contains:Ae.format("dxFilterBuilder-filterOperationContains"),notContains:Ae.format("dxFilterBuilder-filterOperationNotContains"),endsWith:Ae.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:Ae.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:Ae.format("dxFilterBuilder-filterOperationIsNotBlank")}})},_optionChanged:function(e){switch(e.name){case"closePopupOnTargetScroll":break;case"onEditorPreparing":case"onEditorPrepared":case"onValueChanged":this._initActions();break;case"customOperations":this._initCustomOperations(),this._invalidate();break;case"fields":case"maxGroupLevel":case"groupOperations":case"allowHierarchicalFields":case"groupOperationDescriptions":case"filterOperationDescriptions":this._invalidate();break;case"value":if(e.value!==e.previousValue){var t=this._disableInvalidateForValue;t||(this._initModel(),this._invalidate()),this._disableInvalidateForValue=!1,this.executeAction("onValueChanged",{value:e.value,previousValue:e.previousValue}),this._disableInvalidateForValue=t}break;default:this.callBase(e)}},getFilterExpression:function(){var e=this._getNormalizedFields(),t=ce(!0,[],this._model);return gl(Du(t),e,this._customOperations,uE)},_getNormalizedFields:function(){return lie(this.option("fields"))},_updateFilter:function(){this._disableInvalidateForValue=!0;var e=ce(!0,[],this._model),t=Du(e),i=Du(this._getModel(this.option("value")));JSON.stringify(i)!==JSON.stringify(t)&&this.option("value",t),this._disableInvalidateForValue=!1,this._fireContentReadyAction()},_init:function(){this._initCustomOperations(),this._initModel(),this._initEditorFactory(),this._initActions(),this.callBase()},_initEditorFactory:function(){this._editorFactory=new Pie},_initCustomOperations:function(){this._customOperations=hie(this.option("customOperations"),this.option("filterOperationDescriptions.between"),this)},_getDefaultGroupOperation:function(){var e,t;return(e=(t=this.option("groupOperations"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:cE.and},_getModel:function(e){return Ib(e,this._customOperations,this._getDefaultGroupOperation())},_initModel:function(){this._model=this._getModel(this.option("value"))},_initActions:function(){var e=this;e._actions={},Bie.forEach(function(t){var i=ce({},t.config);e._actions[t.name]=e._createActionByOption(t.name,i)})},executeAction:function(e,t){var i=this._actions[e];return i&&i(t)},_initMarkup:function(){this.$element().addClass(Fr),this.callBase(),this._createGroupElementByCriteria(this._model).appendTo(this.$element())},_createConditionElement:function(e,t){return J("<div>").addClass(vl).append(this._createConditionItem(e,t))},_createGroupElementByCriteria:function(e,t){for(var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=this._createGroupElement(e,t,i),n=r.find("."+sE),a=hs(e),s=0;s<a.length;s++){var o=a[s];cs(o)?this._createGroupElementByCriteria(o,e,i+1).appendTo(n):Qi(o)&&this._createConditionElement(o,e).appendTo(n)}return r},_createGroupElement:function(e,t,i){var r=J("<div>").addClass(aE),n=J("<div>").addClass(sE),a=J("<div>").addClass(vl).append(r).append(n);return t!=null&&this._createRemoveButton(()=>{c_(t,e),a.remove(),this._updateFilter()}).appendTo(r),this._createGroupOperationButton(e).appendTo(r),this._createAddButton(()=>{var s=Nk(this._getDefaultGroupOperation());nf(s,e),this._createGroupElement(s,e,i+1).appendTo(n),this._updateFilter()},()=>{var s=this.option("fields")[0],o=sie(s,this._customOperations);nf(o,e),this._createConditionElement(o,e).appendTo(n),this._updateFilter()},i).appendTo(r),a},_createButton:function(e){return J("<div>").text(e)},_createGroupOperationButton:function(e){var t=this._getGroupOperations(e),i=tie(e,t),r=i.text,n=t&&t.length<2?this._createButton(r).addClass(Mie):this._createButtonWithMenu({caption:r,menu:{items:t,displayExpr:"text",keyExpr:"value",onItemClick:a=>{i!==a.itemData&&(eie(e,a.itemData.value),n.text(a.itemData.text),i=a.itemData,this._updateFilter())},onContentReady:function(a){a.component.selectItem(i)},cssClass:Cie}});return n.addClass(tu).addClass(xie).attr("tabindex",0)},_createButtonWithMenu:function(e){var t=this,i=function(){t.$element().find("."+jh).removeClass(jh),t.$element().find(".dx-overlay .dx-treeview").remove(),t.$element().find(".dx-overlay").remove()},r=this.option("rtlEnabled"),n=r?"right":"left",a=this._createButton(e.caption);ce(e.menu,{focusStateEnabled:!0,selectionMode:"single",onItemClick:(s=e.menu.onItemClick,function(o){s(o),o.event.type==="dxclick"&&i()}),onHiding:function(o){a.removeClass(jh)},position:{my:n+" top",at:n+" bottom",offset:"0 1",of:a,collision:"flip"},animation:null,onHidden:function(){i()},cssClass:Aie+" "+e.menu.cssClass,rtlEnabled:r});var s;return e.popup={onShown:function(o){var l=J(o.component.content()).find(".dx-treeview"),u=l.dxTreeView("instance");he.on(l,"keyup keydown",function(d){var c=ci(d);(d.type==="keydown"&&c===dE||d.type==="keyup"&&(c===hE||c===Fg))&&(o.component.hide(),he.trigger(e.menu.position.of,"focus"))}),u.focus(),u.option("focusedElement",null)}},this._subscribeOnClickAndEnterKey(a,function(){i(),t._createPopupWithTreeView(e,t.$element()),a.addClass(jh)}),a},_hasValueButton:function(e){var t=ua(this._customOperations,e[1]);return t?t.hasValue!==!1:e[2]!==null},_createOperationButtonWithMenu:function(e,t){var i=this,r=aie(t,this.option("filterOperationDescriptions"),this._customOperations),n=nie(iE(e),r),a=this._createButtonWithMenu({caption:n.text,menu:{items:r,displayExpr:"text",onItemRendered:function(s){s.itemData.isCustom&&J(s.itemElement).addClass(Rie)},onContentReady:function(s){s.component.selectItem(n)},onItemClick:s=>{if(n!==s.itemData){n=s.itemData,f_(e,n.value,i._customOperations);var o=a.siblings().filter("."+lE);i._hasValueButton(e)?(o.length!==0&&o.remove(),i._createValueButton(e,t).appendTo(a.parent())):o.remove(),a.html(n.text),this._updateFilter()}},cssClass:Oie}}).addClass(tu).addClass(Tie).attr("tabindex",0);return a},_createOperationAndValueButtons:function(e,t,i){this._createOperationButtonWithMenu(e,t).appendTo(i),this._hasValueButton(e)&&this._createValueButton(e,t).appendTo(i)},_createFieldButtonWithMenu:function(e,t,i){var r=this,n=this.option("allowHierarchicalFields"),a=jk(e,n),s=af(i.name||i.dataField,a),o=function(u,d){return n?Gk(u,d):u.caption},l=this._createButtonWithMenu({caption:o(s,a),menu:{items:a,dataStructure:"plain",keyExpr:"id",parentId:"parentId",displayExpr:"caption",onItemClick:u=>{if(s!==u.itemData){s=u.itemData,t[0]=s.name||s.dataField,t[2]=s.dataType==="object"?null:"",f_(t,Sb(s),r._customOperations),l.siblings().filter("."+tu).remove(),r._createOperationAndValueButtons(t,s,l.parent());var d=o(s,u.component.option("items"));l.html(d),this._updateFilter()}},onContentReady:function(u){u.component.selectItem(s)},cssClass:Die}}).addClass(tu).addClass(Eie).attr("tabindex",0);return l},_createConditionItem:function(e,t){var i=J("<div>").addClass(aE),r=this._getNormalizedFields(),n=af(e[0],r);return this._createRemoveButton(()=>{c_(t,e);var a=i.parent().children().length===1;a?i.parent().remove():i.remove(),this._updateFilter()}).appendTo(i),this._createFieldButtonWithMenu(r,e,n).appendTo(i),this._createOperationAndValueButtons(e,n,i),i},_getGroupOperations:function(e){var t=this.option("groupOperations"),i=this.option("groupOperationDescriptions");return(!t||!t.length)&&(t=[_o(e).replace("!","not")]),t.map(r=>({text:i[r],value:cE[r]}))},_createRemoveButton:function(e){var t=J("<div>").addClass(oE).addClass(Sie).addClass(g_).attr("tabindex",0);return this._subscribeOnClickAndEnterKey(t,e),t},_createAddButton:function(e,t,i){var r,n=this.option("maxGroupLevel");return oe(n)&&i>=n?(r=this._createButton(),this._subscribeOnClickAndEnterKey(r,t)):r=this._createButtonWithMenu({menu:{items:[{caption:Ae.format("dxFilterBuilder-addCondition"),click:t},{caption:Ae.format("dxFilterBuilder-addGroup"),click:e}],displayExpr:"caption",onItemClick:function(a){a.itemData.click()},cssClass:kie}}),r.addClass(oE).addClass(wie).addClass(g_).attr("tabindex",0)},_createValueText:function(e,t,i){var r=this,n=J("<div>").html("&nbsp;").addClass(Iie).attr("tabindex",0).appendTo(i),a=e[2],s=ua(r._customOperations,e[1]);return!s&&t.lookup?Vk(t,a,function(o){m_(n,o)}):Ke($k(t,a,s)).done(o=>{m_(n,o,s)}),r._subscribeOnClickAndEnterKey(n,function(o){o.type==="keyup"&&o.stopPropagation(),r._createValueEditorWithEvents(e,t,i)}),n},_updateConditionValue:function(e,t,i){var r=e[2]!==t;r&&(e[2]=t),i(),this._updateFilter()},_addDocumentKeyUp:function(e,t){var i=!1,r=!1,n=Re.getDocument(),a=o=>{if(i||r){r=!1;return}t(o)};he.on(n,"keyup",a);var s=e.find("input");he.on(s,"compositionstart",()=>{i=!0}),he.on(s,"compositionend",()=>{i=!1,r=!0}),he.on(s,"keydown",o=>{o.which!==229&&(r=!1)}),this._documentKeyUpHandler=a},_addDocumentClick:function(e,t){var i=Re.getDocument(),r=n=>{this._isFocusOnEditorParts(e,n.target)||(he.trigger(e.find("input"),"change"),t())};he.on(i,"dxpointerdown",r),this._documentClickHandler=r},_isFocusOnEditorParts:function(e,t){var i=t||Re.getActiveElement();return J(i).closest(e.children()).length||J(i).closest(".dx-dropdowneditor-overlay").length},_removeEvents:function(){var e=Re.getDocument();oe(this._documentKeyUpHandler)&&he.off(e,"keyup",this._documentKeyUpHandler),oe(this._documentClickHandler)&&he.off(e,"dxpointerdown",this._documentClickHandler)},_dispose:function(){this._removeEvents(),this.callBase()},_createValueEditorWithEvents:function(e,t,i){var r=e[2],n=()=>(i.empty(),this._removeEvents(),this._createValueText(e,t,i)),a=()=>{this._updateConditionValue(e,r,function(){n()})},s={value:r===""?null:r,filterOperation:iE(e),setValue:function(l){r=l===null?"":l},closeEditor:a,text:i.text()};i.empty();var o=this._createValueEditor(i,t,s);he.trigger(o.find("input").not(":hidden").eq(0),"focus"),this._removeEvents(),this._addDocumentClick(o,a),this._addDocumentKeyUp(o,l=>{var u=ci(l);if(u===dE){if(this._isFocusOnEditorParts(o))return;this._updateConditionValue(e,r,function(){n(),l.shiftKey&&he.trigger(i.prev(),"focus")})}u===hE&&he.trigger(n(),"focus"),u===Fg&&this._updateConditionValue(e,r,function(){he.trigger(n(),"focus")})}),this._fireContentReadyAction()},_createValueButton:function(e,t){var i=J("<div>").addClass(tu).addClass(lE);return this._createValueText(e,t,i),i},_createValueEditor:function(e,t,i){var r=J("<div>").attr("tabindex",0).appendTo(e),n=ua(this._customOperations,i.filterOperation),a=n&&n.editorTemplate?n.editorTemplate:t.editorTemplate;if(a){var s=this._getTemplate(a);s.render({model:ce({field:t},i),container:r})}else this._editorFactory.createEditor.call(this,r,ce({},t,i,{parentType:uE}));return r},_createPopupWithTreeView:function(e,t){var i=this,r=J("<div>").addClass(e.menu.cssClass).appendTo(t);this._createComponent(r,Hn,{wrapperAttr:{class:e.menu.cssClass},onHiding:e.menu.onHiding,onHidden:e.menu.onHidden,rtlEnabled:e.menu.rtlEnabled,position:e.menu.position,animation:e.menu.animation,contentTemplate:function(n){var a=J("<div>").appendTo(n);i._createComponent(a,Ld,e.menu),this.repaint()},_ignoreFunctionValueDeprecation:!0,maxHeight:function(){return Ik(e.menu.position.of)},visible:!0,focusStateEnabled:!1,hideOnParentScroll:this.option("closePopupOnTargetScroll"),hideOnOutsideClick:!0,onShown:e.popup.onShown,shading:!1,width:"auto",height:"auto",showTitle:!1})},_subscribeOnClickAndEnterKey:function(e,t){he.on(e,"dxclick",t),he.on(e,"keyup",function(i){ci(i)===Fg&&t(i)})}});Tt("dxFilterBuilder",Yk);var Lie=ni.View.inherit({_renderCore:function(){this._updatePopupOptions()},_updatePopupOptions:function(){this.option("filterBuilderPopup.visible")?this._initPopup():this._filterBuilderPopup&&this._filterBuilderPopup.hide()},_disposePopup:function(){this._filterBuilderPopup&&(this._filterBuilderPopup.dispose(),this._filterBuilderPopup=void 0),this._filterBuilder&&(this._filterBuilder.dispose(),this._filterBuilder=void 0)},_initPopup:function(){var e=this;e._disposePopup(),e._filterBuilderPopup=e._createComponent(e.element(),Hn,ce({title:Ae.format("dxDataGrid-filterBuilderPopupTitle"),contentTemplate:function(t){return e._getPopupContentTemplate(t)},onOptionChanged:function(t){t.name==="visible"&&e.option("filterBuilderPopup.visible",t.value)},toolbarItems:e._getPopupToolbarItems()},e.option("filterBuilderPopup"),{onHidden:function(t){D0(e),e._disposePopup()}}))},_getPopupContentTemplate:function(e){var t=J(e),i=J("<div>").appendTo(J(e));this._filterBuilder=this._createComponent(i,Yk,ce({value:this.option("filterValue"),fields:this.getController("columns").getFilteringColumns()},this.option("filterBuilder"),{customOperations:this.getController("filterSync").getCustomFilterOperations()})),this._createComponent(t,ab,{direction:"both"})},_getPopupToolbarItems:function(){var e=this;return[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:Ae.format("OK"),onClick:function(t){var i=e._filterBuilder.option("value");e.option("filterValue",i),e._filterBuilderPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:Ae.format("Cancel"),onClick:function(t){e._filterBuilderPopup.hide()}}}]},optionChanged:function(e){switch(e.name){case"filterBuilder":case"filterBuilderPopup":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}}),Fie={defaultOptions:function(){return{filterBuilder:{groupOperationDescriptions:{and:Ae.format("dxFilterBuilder-and"),or:Ae.format("dxFilterBuilder-or"),notAnd:Ae.format("dxFilterBuilder-notAnd"),notOr:Ae.format("dxFilterBuilder-notOr")},filterOperationDescriptions:{between:Ae.format("dxFilterBuilder-filterOperationBetween"),equal:Ae.format("dxFilterBuilder-filterOperationEquals"),notEqual:Ae.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:Ae.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:Ae.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:Ae.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:Ae.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:Ae.format("dxFilterBuilder-filterOperationStartsWith"),contains:Ae.format("dxFilterBuilder-filterOperationContains"),notContains:Ae.format("dxFilterBuilder-filterOperationNotContains"),endsWith:Ae.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:Ae.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:Ae.format("dxFilterBuilder-filterOperationIsNotBlank")}},filterBuilderPopup:{}}},views:{filterBuilderView:Lie}};qe.registerModule("filterBuilder",Fie);var Fd="filter-panel",Nie=Fd+"-text",Vie=Fd+"-checkbox",Hie=Fd+"-clear-filter",$ie=Fd+"-left",zie="filterPanel",Wie=ni.View.inherit({isVisible:function(){return this.option("filterPanel.visible")&&this.getController("data").dataSource()},init:function(){this.getController("data").dataSourceChanged.add(()=>this.render())},_renderCore:function(){var e=this.element();e.empty().addClass(this.addWidgetPrefix(Fd));var t=J("<div>").addClass(this.addWidgetPrefix($ie)).appendTo(e);this.option("filterValue")||this._filterValueBuffer?(t.append(this._getCheckElement()).append(this._getFilterElement()).append(this._getTextElement()),e.append(this._getRemoveButtonElement())):t.append(this._getFilterElement()).append(this._getTextElement())},_getCheckElement:function(){var e=this,t=J("<div>").addClass(this.addWidgetPrefix(Vie));return e._createComponent(t,Js,{value:e.option("filterPanel.filterEnabled"),onValueChanged:function(i){e.option("filterPanel.filterEnabled",i.value)}}),t.attr("title",this.option("filterPanel.texts.filterEnabledHint")),t},_getFilterElement:function(){var e=this,t=J("<div>").addClass("dx-icon-filter");return he.on(t,"click",()=>e._showFilterBuilder()),Su("filterPanel",e,t,void 0,()=>e._showFilterBuilder()),e._addTabIndexToElement(t),t},_getTextElement:function(){var e=this,t=J("<div>").addClass(e.addWidgetPrefix(Nie)),i,r=e.option("filterValue");return r?Ke(e.getFilterText(r,e.getController("filterSync").getCustomFilterOperations())).done(function(n){var a=e.option("filterPanel.customizeText");if(a){var s=a({component:e.component,filterValue:r,text:n});typeof s=="string"&&(n=s)}t.text(n)}):(i=e.option("filterPanel.texts.createFilter"),t.text(i)),he.on(t,"click",()=>e._showFilterBuilder()),Su("filterPanel",e,t,void 0,()=>e._showFilterBuilder()),e._addTabIndexToElement(t),t},_showFilterBuilder:function(){this.option("filterBuilderPopup.visible",!0)},_getRemoveButtonElement:function(){var e=this,t=()=>e.option("filterValue",null),i=J("<div>").addClass(e.addWidgetPrefix(Hie)).text(e.option("filterPanel.texts.clearFilter"));return he.on(i,"click",t),Su("filterPanel",this,i,void 0,t),e._addTabIndexToElement(i),i},_addTabIndexToElement:function(e){if(!this.option("useLegacyKeyboardNavigation")){var t=this.option("tabindex")||0;e.attr("tabindex",t)}},optionChanged:function(e){switch(e.name){case"filterValue":this._invalidate(),this.option("filterPanel.filterEnabled",!0),e.handled=!0;break;case"filterPanel":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}},_getConditionText:function(e,t,i){var r="[".concat(e,"] ").concat(t);return oe(i)&&(r+=i),r},_getValueMaskedText:function(e){return Array.isArray(e)?"('".concat(e.join("', '"),"')"):" '".concat(e,"'")},_getValueText:function(e,t,i){var r=new we,n=t&&t.customizeText;if(oe(i)||n)if(!n&&e.lookup)Vk(e,i,s=>{r.resolve(this._getValueMaskedText(s))});else{var a=Array.isArray(i)?i:Fe.getDisplayValue(e,i);Ke($k(e,a,t,zie)).done(s=>{r.resolve(this._getValueMaskedText(s))})}else r.resolve("");return r.promise()},getConditionText:function(e,t){var i=this,r=e[1],n=new we,a=ua(t.customOperations,r),s,o=af(e[0],t.columns),l=o.caption||"",u=e[2];return a?s=a.caption||zs(a.name):u===null?s=h_(r==="="?"isblank":"isnotblank",t.filterOperationDescriptions):s=h_(r,t.filterOperationDescriptions),this._getValueText(o,a,u).done(d=>{n.resolve(i._getConditionText(l,s,d))}),n},getGroupText:function(e,t,i){var r=this,n=new we,a=[],s=_o(e);return e.forEach(o=>{Qi(o)?a.push(r.getConditionText(o,t)):cs(o)&&a.push(r.getGroupText(o,t,!0))}),Ke.apply(this,a).done(function(){for(var o,l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];if(s[0]==="!"){var c=t.groupOperationDescriptions["not"+s.substring(1,2).toUpperCase()+s.substring(2)].split(" ");o="".concat(c[0]," ").concat(u[0])}else o=u.join(" ".concat(t.groupOperationDescriptions[s]," "));i&&(o="(".concat(o,")")),n.resolve(o)}),n},getFilterText:function(e,t){var i={customOperations:t,columns:this.getController("columns").getFilteringColumns(),filterOperationDescriptions:this.option("filterBuilder.filterOperationDescriptions"),groupOperationDescriptions:this.option("filterBuilder.groupOperationDescriptions")};return Qi(e)?this.getConditionText(e,i):this.getGroupText(e,i)}}),jie={defaultOptions:function(){return{filterPanel:{visible:!1,filterEnabled:!0,texts:{createFilter:Ae.format("dxDataGrid-filterPanelCreateFilter"),clearFilter:Ae.format("dxDataGrid-filterPanelClearFilter"),filterEnabledHint:Ae.format("dxDataGrid-filterPanelFilterEnabledHint")}}}},views:{filterPanelView:Wie},extenders:{controllers:{data:{optionChanged:function(e){switch(e.name){case"filterPanel":this._applyFilter(),e.handled=!0;break;default:this.callBase(e)}}}}}};qe.registerModule("filterPanel",jie);var fE="search-panel",pE="search-text",Uie="header-panel",Gie=700;function mE(e){return oe(e.allowSearch)?e.allowSearch:e.allowFiltering}function gE(e,t){var i=e.lookup;return e.parseValue?i?e.parseValue.call(i,t):e.parseValue(t):t}var Kie={defaultOptions:function(){return{searchPanel:{visible:!1,width:160,placeholder:Ae.format("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,highlightCaseSensitive:!1,text:"",searchVisibleColumnsOnly:!1}}},extenders:{controllers:{data:{publicMethods:function(){return this.callBase().concat(["searchByText"])},_calculateAdditionalFilter:function(){var e=this.callBase(),t=function(i,r){var n,a,s=i._columnsController.getColumns(),o=i.option("searchPanel.searchVisibleColumnsOnly"),l,u=[];if(!r)return null;function d(h){for(var f=Yt(l.valueExpr),p=0;p<h.length;p++){var g=f(h[p]);u.push(a.createFilterExpression(g,null,"search"))}}for(n=0;n<s.length;n++)if(a=s[n],!(o&&!a.visible)&&mE(a)&&a.calculateFilterExpression){l=a.lookup;var c=gE(a,r);l&&l.items?vr(l.items).filter(a.createFilterExpression.call({dataField:l.displayExpr,dataType:l.dataType,calculateFilterExpression:a.calculateFilterExpression},c,null,"search")).enumerate().done(d):c!==void 0&&u.push(a.createFilterExpression(c,null,"search"))}return u.length===0?["!"]:Fe.combineFilters(u,"or")}(this,this.option("searchPanel.text"));return Fe.combineFilters([e,t])},searchByText:function(e){this.option("searchPanel.text",e)},optionChanged:function(e){switch(e.fullName){case"searchPanel.text":case"searchPanel":this._applyFilter(),e.handled=!0;break;default:this.callBase(e)}}}},views:{headerPanel:function(){var e=function(t){return t.option("searchPanel")};return{_getToolbarItems:function(){var t=this.callBase();return this._prepareSearchItem(t)},_prepareSearchItem:function(t){var i=this,r=i.getController("data"),n=e(i);if(n&&n.visible){var a={template:function(s,o,l){var u=J("<div>").addClass(i.addWidgetPrefix(fE)).appendTo(l);i.getController("editorFactory").createEditor(u,{width:n.width,placeholder:n.placeholder,parentType:"searchPanel",value:i.option("searchPanel.text"),updateValueTimeout:Gie,setValue:function(d){r.searchByText(d)},editorOptions:{inputAttr:{"aria-label":Ae.format("".concat(i.component.NAME,"-ariaSearchInGrid"))}}}),i.resize()},name:"searchPanel",location:"after",locateInMenu:"never",sortIndex:40};t.push(a)}return t},getSearchTextEditor:function(){var t=this,i=t.element(),r=i.find("."+t.addWidgetPrefix(fE)).filter(function(){return J(this).closest("."+t.addWidgetPrefix(Uie)).is(i)});return r.length?r.dxTextBox("instance"):null},isVisible:function(){var t=e(this);return this.callBase()||t&&t.visible},optionChanged:function(t){if(t.name==="searchPanel"){if(t.fullName==="searchPanel.text"){var i=this.getSearchTextEditor();i&&i.option("value",t.value)}else this._invalidate();t.handled=!0}else this.callBase(t)}}}(),rowsView:{init:function(){this.callBase.apply(this,arguments),this._searchParams=[]},_getFormattedSearchText:function(e,t){var i=gE(e,t),r=Fe.getFormatOptionsByColumn(e,"search");return Fe.formatValue(i,r)},_getStringNormalizer:function(){var e=this.option("searchPanel.highlightCaseSensitive");return function(t){return e?t:t.toLowerCase()}},_findHighlightingTextNodes:function(e,t,i){var r,n=t.parent(),a,s=this._getStringNormalizer(),o=s(i),l=[];if(!n.length)n=J("<div>").append(t);else if(e)if(e.groupIndex>=0&&!e.showWhenGrouped)a=t;else{var u=this._columnsController.getVisibleIndex(e.index);a=n.children("td").eq(u).find("*")}return a=(r=a)!==null&&r!==void 0&&r.length?a:n.find("*"),a.each(function(d,c){for(var h=J(c).contents(),f=0;f<h.length;f++){var p=h.get(f);if(p.nodeType===3){var g=s(p.textContent||p.nodeValue);g.indexOf(o)>-1&&l.push(p)}}}),l},_highlightSearchTextCore:function(e,t){var i=J("<span>").addClass(this.addWidgetPrefix(pE)),r=e.text(),n=e[0],a=this._getStringNormalizer(),s=a(r).indexOf(a(t));if(s>=0)return n.textContent?n.textContent=r.substr(0,s):n.nodeValue=r.substr(0,s),e.after(i.text(r.substr(s,t.length))),e=J(Re.createTextNode(r.substr(s+t.length))).insertAfter(i),this._highlightSearchTextCore(e,t)},_highlightSearchText:function(e,t,i){var r=this,n=this._getStringNormalizer(),a=r.option("searchPanel.text");if(t&&i&&(a=a&&r._getFormattedSearchText(i,a)),a&&r.option("searchPanel.highlightSearchText")){var s=r._findHighlightingTextNodes(i,e,a);s.forEach(o=>{t?n(J(o).text())===n(a)&&J(o).replaceWith(J("<span>").addClass(r.addWidgetPrefix(pE)).text(J(o).text())):r._highlightSearchTextCore(J(o),a)})}},_renderCore:function(){this.callBase.apply(this,arguments),(this.option().rowTemplate||this.option("dataRowTemplate"))&&(this.option("templatesRenderAsynchronously")?(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout((function(){this._highlightSearchText(this.getTableElement())}).bind(this))):this._highlightSearchText(this.getTableElement()))},_updateCell:function(e,t){var i=t.column,r=i.lookup&&i.lookup.dataType||i.dataType,n=r!=="string";mE(i)&&!t.isOnForm&&(this.option("templatesRenderAsynchronously")?(this._searchParams.length||(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout((function(){this._searchParams.forEach((function(a){this._highlightSearchText.apply(this,a)}).bind(this)),this._searchParams=[]}).bind(this))),this._searchParams.push([e,n,i])):this._highlightSearchText(e,n,i)),this.callBase(e,t)},dispose:function(){clearTimeout(this._highlightTimer),this.callBase()}}}}};qe.registerModule("search",Kie);class qie extends Rd{_optionChanged(t){switch(t.name){case"pageIndex":var i=this.option("pageIndexChanged");i&&i(t.value);break;case"pageSize":var r=this.option("pageSizeChanged");r&&r(t.value)}super._optionChanged(t)}}function of(e,t){var i,r=(i=xD(t))!==null&&i!==void 0?i:{};return QO(r[e])}function mu(e){return of("width",e)}function Zk(e){return of("minWidth",e)}var Xie=["contentTemplate","pagerProps"],Yie=e=>{var{contentAttributes:t,infoTextRef:i,infoTextVisible:r,isLargeDisplayMode:n,pageSizesRef:a,pagesRef:s,parentRef:o,props:{contentTemplate:l}}=e;return l(Ne({rootElementRef:o,pageSizesRef:a,infoTextRef:i,pagesRef:s,infoTextVisible:r,isLargeDisplayMode:n},t))};function Zie(e){var{pageSizes:t,pages:i,parent:r}=e;return r-(t+i)>0}function Jie(e){var{info:t,pageSizes:i,pages:r,parent:n}=e,a=i+r+t;return n-a>0}function Qie(e){var{info:t,pageSizes:i,pages:r,parent:n}=e,a=mu(n),s=mu(i),o=mu(t),l=mu(r);return{parent:a,pageSizes:s,info:o+of("marginLeft",t)+of("marginRight",t),pages:l}}var ere={},tre=e=>e&&(e.defaultProps?t=>Er(ti(2,e,Ne({},t))):e);class Jk extends Vn{constructor(t){super(t),this.parentRef=Yi(),this.pageSizesRef=Yi(),this.infoTextRef=Yi(),this.pagesRef=Yi(),this.actualIsLargeDisplayMode=!0,this.actualInfoTextVisible=!0,this.state={infoTextVisible:!0,isLargeDisplayMode:!0},this.subscribeToResize=this.subscribeToResize.bind(this),this.effectUpdateChildProps=this.effectUpdateChildProps.bind(this),this.updateAdaptivityProps=this.updateAdaptivityProps.bind(this)}createEffects(){return[new oi(this.subscribeToResize,[this.state.infoTextVisible,this.state.isLargeDisplayMode]),new oi(this.effectUpdateChildProps,[this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])]}updateEffects(){var t,i;(t=this._effects[0])===null||t===void 0||t.update([this.state.infoTextVisible,this.state.isLargeDisplayMode]),(i=this._effects[1])===null||i===void 0||i.update([this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])}subscribeToResize(){var t=()=>{this.parentWidth>0&&this.updateAdaptivityProps()};return Ws.add(t),()=>{Ws.remove(t)}}effectUpdateChildProps(){this.parentWidth>0&&this.updateAdaptivityProps()}get contentAttributes(){var{className:t,displayMode:i,gridCompatibility:r,hasKnownLastPage:n,infoText:a,label:s,lightModeEnabled:o,maxPagesCount:l,onKeyDown:u,pageCount:d,pageIndex:c,pageIndexChange:h,pageSize:f,pageSizeChange:p,pageSizes:g,pagesCountText:m,pagesNavigatorVisible:v,rtlEnabled:b,showInfo:E,showNavigationButtons:I,showPageSizes:R,totalCount:N,visible:j}=this.props.pagerProps;return Ne({},this.restAttributes,{pageSize:f,pageIndex:c,pageIndexChange:h,pageSizeChange:p,gridCompatibility:r,className:t,showInfo:E,infoText:a,lightModeEnabled:o,displayMode:i,maxPagesCount:l,pageCount:d,pagesCountText:m,visible:j,hasKnownLastPage:n,pagesNavigatorVisible:v,showPageSizes:R,pageSizes:g,rtlEnabled:b,showNavigationButtons:I,totalCount:N,onKeyDown:u,label:s})}get parentWidth(){return this.parentRef.current?mu(this.parentRef.current):0}updateAdaptivityProps(){var t=Qie({parent:this.parentRef.current,pageSizes:this.pageSizesRef.current,info:this.infoTextRef.current,pages:this.pagesRef.current});if(!(this.actualInfoTextVisible!==this.state.infoTextVisible||this.actualIsLargeDisplayMode!==this.state.isLargeDisplayMode)){var i=!oe(this.elementsWidth);i&&(this.elementsWidth={}),(i||this.state.isLargeDisplayMode)&&(this.elementsWidth.pageSizes=t.pageSizes,this.elementsWidth.pages=t.pages),(i||this.state.infoTextVisible)&&(this.elementsWidth.info=t.info),this.actualIsLargeDisplayMode=Zie(Ne({parent:t.parent},{pageSizes:this.elementsWidth.pageSizes,pages:this.elementsWidth.pages})),this.actualInfoTextVisible=Jie(Ne({},t,{info:this.elementsWidth.info})),this.setState(r=>({infoTextVisible:this.actualInfoTextVisible})),this.setState(r=>({isLargeDisplayMode:this.actualIsLargeDisplayMode}))}}get restAttributes(){var t=this.props,i=ui(t,Xie);return i}render(){var t=this.props;return Yie({props:Ne({},t,{contentTemplate:tre(t.contentTemplate)}),infoTextVisible:this.state.infoTextVisible,isLargeDisplayMode:this.state.isLargeDisplayMode,parentRef:this.parentRef,pageSizesRef:this.pageSizesRef,infoTextRef:this.infoTextRef,pagesRef:this.pagesRef,contentAttributes:this.contentAttributes,parentWidth:this.parentWidth,updateAdaptivityProps:this.updateAdaptivityProps,restAttributes:this.restAttributes})}}Jk.defaultProps=ere;var Qk={gridCompatibility:!0,showInfo:!1,displayMode:"adaptive",maxPagesCount:10,pageCount:10,visible:!0,hasKnownLastPage:!0,pagesNavigatorVisible:"auto",showPageSizes:!0,pageSizes:Object.freeze([5,10]),showNavigationButtons:!1,totalCount:0,get label(){return Ae.format("dxPager-ariaLabel")}},ire=Object.create(Object.prototype,Ne(Object.getOwnPropertyDescriptors(Qk),Object.getOwnPropertyDescriptors({defaultPageSize:5,pageSizeChange:()=>{},defaultPageIndex:1,pageIndexChange:()=>{}}))),Ui=Object.create(Object.prototype,Ne(Object.getOwnPropertyDescriptors(Qk),Object.getOwnPropertyDescriptors({pageSize:5,pageIndex:1}))),rre=["infoText","pageCount","pageIndex","rootElementRef","totalCount"],eR="dx-info",nre=e=>{var{props:{rootElementRef:t},text:i}=e;return wi(1,"div",eR,i,0,null,null,t)},are={get pageIndex(){return Ui.pageIndex},get pageCount(){return Ui.pageCount},get totalCount(){return Ui.totalCount}};class tR extends en{constructor(t){super(t),this.state={}}get infoText(){var t;return((t=this.props.infoText)!==null&&t!==void 0?t:"")||Ae.getFormatter("dxPager-infoText")()}get text(){var{pageCount:t,pageIndex:i,totalCount:r}=this.props;return fn(this.infoText,(i+1).toString(),t.toString(),r.toString())}get restAttributes(){var t=this.props,i=ui(t,rre);return i}render(){var t=this.props;return nre({props:Ne({},t),infoText:this.infoText,text:this.text,restAttributes:this.restAttributes})}}tR.defaultProps=are;var sre=OO(void 0),ore=["children","className","label","onClick","selected","tabIndex"],lre=e=>{var{props:{children:t,className:i,label:r,selected:n,tabIndex:a},widgetRef:s}=e;return wi(1,"div",i,t,0,{tabIndex:a,role:"button","aria-label":r,"aria-current":n?"page":void 0},null,s)},ure={className:"",label:"",tabIndex:0,selected:!1};class Zu extends Vn{constructor(t){super(t),this.state={},this.widgetRef=Yi(),this.keyboardEffect=this.keyboardEffect.bind(this),this.subscribeToClick=this.subscribeToClick.bind(this)}get keyboardContext(){return"KeyboardActionContext"in this.context?this.context.KeyboardActionContext:sre}createEffects(){return[new oi(this.keyboardEffect,[this.keyboardContext,this.props.onClick]),new oi(this.subscribeToClick,[this.props.onClick])]}updateEffects(){var t,i;(t=this._effects[0])===null||t===void 0||t.update([this.keyboardContext,this.props.onClick]),(i=this._effects[1])===null||i===void 0||i.update([this.props.onClick])}keyboardEffect(){return this.keyboardContext.registerKeyboardAction(this.widgetRef.current,this.props.onClick)}subscribeToClick(){return Ez(this.widgetRef.current,this.props.onClick)}get restAttributes(){var t=this.props,i=ui(t,ore);return i}render(){var t=this.props;return lre({props:Ne({},t),widgetRef:this.widgetRef,keyboardContext:this.keyboardContext,restAttributes:this.restAttributes})}}Zu.defaultProps=ure;var dre="dx-pager",hre="dx-light-mode",cre="dx-pages",fre="dx-page-indexes",pre="dx-page",iR="dx-selection",rR="dx-page-size",mre="dx-page-sizes",gre="".concat(rR," ").concat(iR),vre="dx-first-child",_re=["className","index","onClick","selected"],bre=e=>{var{className:t,label:i,props:{onClick:r,selected:n},value:a}=e;return ti(2,Zu,{className:t,label:i,onClick:r,selected:n,children:a})},yre={index:0,selected:!1,className:pre};class Ob extends en{constructor(t){super(t),this.state={}}get label(){return fn(Ae.getFormatter("dxPager-page"),this.value)}get value(){return this.props.index+1}get className(){var{selected:t}=this.props;return Gr({["".concat(this.props.className)]:!!this.props.className,[iR]:!!t})}get restAttributes(){var t=this.props,i=ui(t,_re);return i}render(){var t=this.props;return bre({props:Ne({},t),label:this.label,value:this.value,className:this.className,restAttributes:this.restAttributes})}}Ob.defaultProps=yre;var Cre=["pageIndexes"],xre=["maxPagesCount","pageCount","pageIndex","pageIndexChange"],wre="dx-separator",Sre=e=>{var{pages:t}=e,i=t.map(r=>{var{key:n,pageProps:a}=r;return a?ti(2,Ob,{index:a.index,selected:a.selected,onClick:a.onClick},n):wi(1,"div",wre,". . .",16,null,n)});return _a(i,0)},ys=4;function vE(e,t,i){return e===1?"high":e+t===i-1?"low":"both"}function nR(e,t,i){var r=[],n=[];switch(i){case"none":r=[...e];break;case"both":r=[0,"low",...e,"high",t-1],n=e.slice(1,-1);break;case"high":r=[0,...e,"high",t-1],n=e.slice(0,-1);break;case"low":r=[0,"low",...e,t-1],n=e.slice(1)}return{slidingWindowIndexes:e,indexesForReuse:n,pageIndexes:r}}function _E(e,t,i,r){for(var n=[],a=0;a<t;a+=1)n.push(a+e);return nR(n,i,r)}var Ere={get pageIndex(){return Ui.pageIndex},get maxPagesCount(){return Ui.maxPagesCount},get pageCount(){return Ui.pageCount}};class aR extends en{constructor(t){super(t),this.state={},this.canReuseSlidingWindow=this.canReuseSlidingWindow.bind(this),this.generatePageIndexes=this.generatePageIndexes.bind(this),this.isSlidingWindowMode=this.isSlidingWindowMode.bind(this),this.onPageClick=this.onPageClick.bind(this)}get config(){return"ConfigContext"in this.context?this.context.ConfigContext:Gf}get slidingWindowState(){var t=this.slidingWindowStateHolder;return t||{indexesForReuse:[],slidingWindowIndexes:[]}}canReuseSlidingWindow(t,i){var{indexesForReuse:r}=this.slidingWindowState,n=r.slice(-1)[0]<t-1,a=r.includes(i);return n&&a}generatePageIndexes(){var{pageCount:t,pageIndex:i}=this.props,r=0,{slidingWindowIndexes:n}=this.slidingWindowState;i===n[0]?r=i-1:i===n[n.length-1]?r=i+2-ys:i<ys?r=1:i>=t-ys?r=t-ys-1:r=i-1;var a=ys,s=vE(r,a,t),o=_E(r,a,t,s),{pageIndexes:l}=o,u=ui(o,Cre);return this.slidingWindowStateHolder=u,l}isSlidingWindowMode(){var{maxPagesCount:t,pageCount:i}=this.props;return i<=ys||i<=t}onPageClick(t){this.props.pageIndexChange(t)}get pageIndexes(){var{pageCount:t}=this.props;if(this.isSlidingWindowMode())return _E(0,t,t,"none").pageIndexes;if(this.canReuseSlidingWindow(t,this.props.pageIndex)){var{slidingWindowIndexes:i}=this.slidingWindowState,r=vE(i[0],ys,t);return nR(i,t,r).pageIndexes}return this.generatePageIndexes()}get pages(){var t,{pageIndex:i}=this.props,r=a=>{var s=a==="low"||a==="high"?null:{index:a,onClick:()=>this.onPageClick(a),selected:i===a};return{key:a.toString(),pageProps:s}},n=(t=this.config)!==null&&t!==void 0&&t.rtlEnabled?[...this.pageIndexes].reverse():this.pageIndexes;return n.map(a=>r(a))}get restAttributes(){var t=this.props,i=ui(t,xre);return i}render(){var t=this.props;return Sre({props:Ne({},t),config:this.config,pageIndexes:this.pageIndexes,pages:this.pages,restAttributes:this.restAttributes})}}aR.defaultProps=Ere;var al={hoverStateEnabled:!0,activeStateEnabled:!0,get focusStateEnabled(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()}},lf={label:"",get labelMode(){return Ei(gn())?"floating":"static"}},Tre=["accessKey","activeStateEnabled","className","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","invalidValueMessage","isValid","label","labelMode","max","min","mode","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","showSpinButtons","step","tabIndex","useLargeSpinButtons","validationError","validationErrors","validationMessageMode","validationStatus","value","valueChange","visible","width"],Ire=0,Are=e=>{var{componentProps:t,restAttributes:i}=e;return Er(ti(2,Jf,Ne({componentType:Qc,componentProps:t,templateNames:[]},i)))},$r=Object.create(Object.prototype,Ne(Object.getOwnPropertyDescriptors(Wi),Object.getOwnPropertyDescriptors({defaultValue:Ire,isReactComponentWrapper:!0}))),Ore={get defaultValue(){return $r.defaultValue},get readOnly(){return $r.readOnly},get name(){return $r.name},get validationError(){return $r.validationError},get validationErrors(){return $r.validationErrors},get validationMessageMode(){return $r.validationMessageMode},get validationStatus(){return $r.validationStatus},get isValid(){return $r.isValid},get className(){return $r.className},get activeStateEnabled(){return al.activeStateEnabled},get disabled(){return $r.disabled},get focusStateEnabled(){return al.focusStateEnabled},get hoverStateEnabled(){return al.hoverStateEnabled},get tabIndex(){return $r.tabIndex},get visible(){return $r.visible},get label(){return lf.label},get labelMode(){return lf.labelMode},isReactComponentWrapper:!0};class sR extends en{constructor(t){super(t),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue}}get componentProps(){return Ne({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})}get restAttributes(){var t=Ne({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),i=ui(t,Tre);return i}render(){var t=this.props;return Are({props:Ne({},t,{value:this.props.value!==void 0?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}sR.defaultProps=Ore;var Dre=10;function oR(e,t){return e+Dre*Math.max(...t).toString().length}var kre=["pageCount","pageIndex","pageIndexChange","pagesCountText"],Rre="".concat(eR,"  dx-info-text"),lR="dx-page-index",Mre="dx-light-pages",Bre="dx-pages-count",Pre=e=>{var{pageIndexRef:t,pagesCountText:i,props:{pageCount:r},selectLastPageIndex:n,value:a,valueChange:s,width:o}=e;return wi(1,"div",Mre,[ti(2,sR,{className:lR,min:1,max:r,width:o,value:a,valueChange:s}),wi(1,"span",Rre,i,0),ti(2,Ob,{className:Bre,selected:!1,index:r-1,onClick:n})],4,null,null,t)},Lre={get pageIndex(){return Ui.pageIndex},get pageCount(){return Ui.pageCount}};class uR extends Vn{constructor(t){super(t),this.pageIndexRef=Yi(),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this),this.selectLastPageIndex=this.selectLastPageIndex.bind(this),this.valueChange=this.valueChange.bind(this)}createEffects(){return[new oi(this.updateWidth,[this.state.minWidth])]}updateEffects(){var t;(t=this._effects[0])===null||t===void 0||t.update([this.state.minWidth])}updateWidth(){var t,i=(t=this.pageIndexRef.current)===null||t===void 0?void 0:t.querySelector(".".concat(lR));this.setState(r=>({minWidth:i&&Zk(i)||r.minWidth}))}get value(){return this.props.pageIndex+1}get width(){var{pageCount:t}=this.props;return oR(this.state.minWidth,[t])}get pagesCountText(){var t;return((t=this.props.pagesCountText)!==null&&t!==void 0?t:"")||Ae.getFormatter("dxPager-pagesCountText")()}selectLastPageIndex(){this.props.pageIndexChange(this.props.pageCount-1)}valueChange(t){this.props.pageIndexChange(t-1)}get restAttributes(){var t=this.props,i=ui(t,kre);return i}render(){var t=this.props;return Pre({props:Ne({},t),pageIndexRef:this.pageIndexRef,value:this.value,width:this.width,pagesCountText:this.pagesCountText,selectLastPageIndex:this.selectLastPageIndex,valueChange:this.valueChange,restAttributes:this.restAttributes})}}uR.defaultProps=Lre;var Fre=["hasKnownLastPage","isLargeDisplayMode","maxPagesCount","pageCount","pageIndex","pageIndexChange","pagesCountText","showNavigationButtons","totalCount"],Uh="dx-navigate-button",bE="dx-prev-button",yE="dx-next-button",CE="dx-button-disable",Nre=()=>Ae.getFormatter("dxPager-nextPage")(),Vre=()=>Ae.getFormatter("dxPager-prevPage")(),Hre={nextEnabledClass:"".concat(Uh," ").concat(yE),prevEnabledClass:"".concat(Uh," ").concat(bE),nextDisabledClass:"".concat(CE," ").concat(Uh," ").concat(yE),prevDisabledClass:"".concat(CE," ").concat(Uh," ").concat(bE)},$re={next:"prev",prev:"next"},zre=e=>{var{nextButtonProps:t,pageIndexChange:i,prevButtonProps:r,props:{isLargeDisplayMode:n,maxPagesCount:a,pageCount:s,pageIndex:o,pagesCountText:l},renderNextButton:u,renderPrevButton:d}=e;return _a([d&&ti(2,Zu,{label:Vre(),className:r.className,tabIndex:r.tabIndex,onClick:r.navigate}),n&&ti(2,aR,{maxPagesCount:a,pageCount:s,pageIndex:o,pageIndexChange:i}),!n&&ti(2,uR,{pageCount:s,pageIndex:o,pageIndexChange:i,pagesCountText:l}),u&&ti(2,Zu,{label:Nre(),className:t.className,tabIndex:t.tabIndex,onClick:t.navigate})],0)};function Wre(e){return e==="next"?1:-1}var jre={isLargeDisplayMode:!0},Ure={get pageIndex(){return Ui.pageIndex},get maxPagesCount(){return Ui.maxPagesCount},get pageCount(){return Ui.pageCount},get hasKnownLastPage(){return Ui.hasKnownLastPage},get showNavigationButtons(){return Ui.showNavigationButtons},get totalCount(){return Ui.totalCount},get isLargeDisplayMode(){return jre.isLargeDisplayMode}};class dR extends en{constructor(t){super(t),this.state={},this.__getterCache={},this.pageIndexChange=this.pageIndexChange.bind(this),this.getButtonProps=this.getButtonProps.bind(this),this.canNavigateToPage=this.canNavigateToPage.bind(this),this.getNextPageIndex=this.getNextPageIndex.bind(this),this.canNavigateTo=this.canNavigateTo.bind(this),this.navigateToPage=this.navigateToPage.bind(this)}get config(){return"ConfigContext"in this.context?this.context.ConfigContext:Gf}pageIndexChange(t){this.canNavigateToPage(t)&&this.props.pageIndexChange(t)}getButtonProps(t){var i,r=(i=this.config)!==null&&i!==void 0&&i.rtlEnabled?$re[t]:t,n=this.canNavigateTo(r),a=Hre["".concat(t).concat(n?"Enabled":"Disabled","Class")];return{className:a,tabIndex:n?0:-1,navigate:()=>this.navigateToPage(r)}}canNavigateToPage(t){return this.props.hasKnownLastPage?t>=0&&t<=this.props.pageCount-1:t>=0}getNextPageIndex(t){return this.props.pageIndex+Wre(t)}canNavigateTo(t){return this.canNavigateToPage(this.getNextPageIndex(t))}navigateToPage(t){this.pageIndexChange(this.getNextPageIndex(t))}get renderPrevButton(){var{isLargeDisplayMode:t,showNavigationButtons:i}=this.props;return!t||i}get renderNextButton(){return this.renderPrevButton||!this.props.hasKnownLastPage}get prevButtonProps(){return this.__getterCache.prevButtonProps!==void 0?this.__getterCache.prevButtonProps:this.__getterCache.prevButtonProps=(()=>this.getButtonProps("prev"))()}get nextButtonProps(){return this.__getterCache.nextButtonProps!==void 0?this.__getterCache.nextButtonProps:this.__getterCache.nextButtonProps=(()=>this.getButtonProps("next"))()}get restAttributes(){var t=this.props,i=ui(t,Fre);return i}componentWillUpdate(t,i,r){(this.context.ConfigContext!==r.ConfigContext||this.props.hasKnownLastPage!==t.hasKnownLastPage||this.props.pageCount!==t.pageCount||this.props.pageIndex!==t.pageIndex||this.props.pageIndexChange!==t.pageIndexChange)&&(this.__getterCache.prevButtonProps=void 0),(this.context.ConfigContext!==r.ConfigContext||this.props.hasKnownLastPage!==t.hasKnownLastPage||this.props.pageCount!==t.pageCount||this.props.pageIndex!==t.pageIndex||this.props.pageIndexChange!==t.pageIndexChange)&&(this.__getterCache.nextButtonProps=void 0)}render(){var t=this.props;return zre({props:Ne({},t),config:this.config,pageIndexChange:this.pageIndexChange,renderPrevButton:this.renderPrevButton,renderNextButton:this.renderNextButton,prevButtonProps:this.prevButtonProps,nextButtonProps:this.nextButtonProps,restAttributes:this.restAttributes})}}dR.defaultProps=Ure;var Gre=["accessKey","activeStateEnabled","className","dataSource","defaultValue","disabled","displayExpr","focusStateEnabled","height","hint","hoverStateEnabled","isValid","label","labelMode","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationStatus","value","valueChange","valueExpr","visible","width"],Kre=e=>{var{componentProps:t,restAttributes:i}=e;return Er(ti(2,Jf,Ne({componentType:gb,componentProps:t,templateNames:["dropDownButtonTemplate","groupTemplate","itemTemplate"]},i)))},zr=Object.create(Object.prototype,Ne(Object.getOwnPropertyDescriptors(Wi),Object.getOwnPropertyDescriptors({defaultValue:null,isReactComponentWrapper:!0}))),qre={get defaultValue(){return zr.defaultValue},get readOnly(){return zr.readOnly},get name(){return zr.name},get validationError(){return zr.validationError},get validationErrors(){return zr.validationErrors},get validationMessageMode(){return zr.validationMessageMode},get validationStatus(){return zr.validationStatus},get isValid(){return zr.isValid},get className(){return zr.className},get activeStateEnabled(){return al.activeStateEnabled},get disabled(){return zr.disabled},get focusStateEnabled(){return al.focusStateEnabled},get hoverStateEnabled(){return al.hoverStateEnabled},get tabIndex(){return zr.tabIndex},get visible(){return zr.visible},get label(){return lf.label},get labelMode(){return lf.labelMode},isReactComponentWrapper:!0};class hR extends en{constructor(t){super(t),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue}}get componentProps(){return Ne({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})}get restAttributes(){var t=Ne({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),i=ui(t,Gre);return i}render(){var t=this.props;return Kre({props:Ne({},t,{value:this.props.value!==void 0?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}hR.defaultProps=qre;var Xre=["pageSize","pageSizeChange","pageSizes","parentRef"],Yre=e=>{var{props:{pageSize:t,pageSizeChange:i,pageSizes:r},width:n}=e;return ti(2,hR,{displayExpr:"text",valueExpr:"value",dataSource:r,value:t,valueChange:i,width:n})},Zre={get pageSize(){return Ui.pageSize}};class cR extends Vn{constructor(t){super(t),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this)}createEffects(){return[new oi(this.updateWidth,[this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes])]}updateEffects(){var t;(t=this._effects[0])===null||t===void 0||t.update([this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes])}updateWidth(){this.setState(t=>({minWidth:Zk(this.props.parentRef.current)||t.minWidth}))}get width(){return oR(this.state.minWidth,this.props.pageSizes.map(t=>t.value))}get restAttributes(){var t=this.props,i=ui(t,Xre);return i}render(){var t=this.props;return Yre({props:Ne({},t),width:this.width,restAttributes:this.restAttributes})}}cR.defaultProps=Zre;var Jre=["pageSize","pageSizeChange","pageSizes"],Qre=e=>{var{pageSizesText:t}=e;return _a(t.map(i=>{var{className:r,click:n,label:a,text:s}=i;return ti(2,Zu,{className:r,label:a,onClick:n,children:s},s)}),0)},ene={get pageSize(){return Ui.pageSize}};class fR extends en{constructor(t){super(t),this.state={},this.__getterCache={},this.onPageSizeChange=this.onPageSizeChange.bind(this)}get pageSizesText(){return this.__getterCache.pageSizesText!==void 0?this.__getterCache.pageSizesText:this.__getterCache.pageSizesText=(()=>{var{pageSize:t,pageSizes:i}=this.props;return i.map((r,n)=>{var{text:a,value:s}=r,o=s===t,l=Gr({[o?gre:rR]:!0,[vre]:n===0});return{className:l,click:this.onPageSizeChange(s),label:"Display ".concat(s," items on page"),text:a}})})()}onPageSizeChange(t){return()=>(this.props.pageSizeChange(t),this.props.pageSize)}get restAttributes(){var t=this.props,i=ui(t,Jre);return i}componentWillUpdate(t,i,r){(this.props.pageSize!==t.pageSize||this.props.pageSizes!==t.pageSizes||this.props.pageSizeChange!==t.pageSizeChange)&&(this.__getterCache.pageSizesText=void 0)}render(){var t=this.props;return Qre({props:Ne({},t),pageSizesText:this.pageSizesText,restAttributes:this.restAttributes})}}fR.defaultProps=ene;var tne=["isLargeDisplayMode","pageSize","pageSizeChange","pageSizes","rootElementRef"],ine=e=>{var{htmlRef:t,normalizedPageSizes:i,props:{isLargeDisplayMode:r,pageSize:n,pageSizeChange:a}}=e;return wi(1,"div",mre,[r&&ti(2,fR,{pageSizes:i,pageSize:n,pageSizeChange:a}),!r&&ti(2,cR,{parentRef:t,pageSizes:i,pageSize:n,pageSizeChange:a})],0,null,null,t)};function rne(){return Ae.getFormatter("dxPager-pageSizesAllText")()}var nne={isLargeDisplayMode:!0},ane={get pageSize(){return Ui.pageSize},get pageSizes(){return Ui.pageSizes},get isLargeDisplayMode(){return nne.isLargeDisplayMode}};class pR extends Vn{constructor(t){super(t),this.state={},this.htmlRef=Yi(),this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this)}createEffects(){return[new oi(this.setRootElementRef,[])]}setRootElementRef(){var{rootElementRef:t}=this.props;t&&(t.current=this.htmlRef.current)}get normalizedPageSizes(){return this.__getterCache.normalizedPageSizes!==void 0?this.__getterCache.normalizedPageSizes:this.__getterCache.normalizedPageSizes=(()=>{var{pageSizes:t}=this.props;return t.map(i=>i==="all"||i===0?{text:rne(),value:0}:{text:String(i),value:i})})()}get restAttributes(){var t=this.props,i=ui(t,tne);return i}componentWillUpdate(t,i,r){super.componentWillUpdate(),this.props.pageSizes!==t.pageSizes&&(this.__getterCache.normalizedPageSizes=void 0)}render(){var t=this.props;return ine({props:Ne({},t),htmlRef:this.htmlRef,normalizedPageSizes:this.normalizedPageSizes,restAttributes:this.restAttributes})}}pR.defaultProps=ane;var sne=["className","displayMode","gridCompatibility","hasKnownLastPage","infoText","infoTextRef","infoTextVisible","isLargeDisplayMode","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pageSizesRef","pagesCountText","pagesNavigatorVisible","pagesRef","rootElementRef","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"],one=e=>{var{aria:t,classes:i,infoVisible:r,isLargeDisplayMode:n,pageIndexSelectorVisible:a,pagesContainerVisibility:s,pagesContainerVisible:o,props:{hasKnownLastPage:l,infoText:u,infoTextRef:d,maxPagesCount:c,pageCount:h,pageIndex:f,pageIndexChange:p,pageSize:g,pageSizeChange:m,pageSizes:v,pageSizesRef:b,pagesCountText:E,pagesRef:I,rtlEnabled:R,showNavigationButtons:N,showPageSizes:j,totalCount:V,visible:H},restAttributes:W,widgetRootElementRef:G}=e;return Er(ti(2,Kf,Ne({rootElementRef:G,rtlEnabled:R,classes:i,visible:H,aria:t},W,{children:[j&&ti(2,pR,{rootElementRef:b,isLargeDisplayMode:n,pageSize:g,pageSizeChange:m,pageSizes:v}),o&&wi(1,"div",cre,[r&&ti(2,tR,{rootElementRef:d,infoText:u,pageCount:h,pageIndex:f,totalCount:V}),a&&wi(1,"div",fre,ti(2,dR,{hasKnownLastPage:l,isLargeDisplayMode:n,maxPagesCount:c,pageCount:h,pageIndex:f,pageIndexChange:p,pagesCountText:E,showNavigationButtons:N,totalCount:V}),2,null,null,I)],0,{style:X0({visibility:s})})]})))},lne=Object.create(Object.prototype,Ne(Object.getOwnPropertyDescriptors(Ui),Object.getOwnPropertyDescriptors({infoTextVisible:!0,isLargeDisplayMode:!0})));class mR extends Vn{constructor(t){super(t),this.state={},this.widgetRootElementRef=Yi(),this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this),this.createFakeInstance=this.createFakeInstance.bind(this)}createEffects(){return[new oi(this.setRootElementRef,[])]}getChildContext(){return Ne({},this.context,{KeyboardActionContext:this.keyboardAction})}setRootElementRef(){var{rootElementRef:t}=this.props;t&&(t.current=this.widgetRootElementRef.current)}createFakeInstance(){return{option:()=>!1,element:()=>this.widgetRootElementRef.current,_createActionByOption:()=>t=>{var i,r;(i=(r=this.props).onKeyDown)===null||i===void 0||i.call(r,t)}}}get keyboardAction(){return this.__getterCache.keyboardAction!==void 0?this.__getterCache.keyboardAction:this.__getterCache.keyboardAction=(()=>({registerKeyboardAction:(t,i)=>{var r=this.createFakeInstance();return c2("pager",r,t,void 0,i)}}))()}get infoVisible(){var{infoTextVisible:t,showInfo:i}=this.props;return i&&t}get pageIndexSelectorVisible(){return this.props.pageSize!==0}get normalizedDisplayMode(){var{displayMode:t,lightModeEnabled:i}=this.props;return t==="adaptive"&&i!==void 0?i?"compact":"full":t}get pagesContainerVisible(){return!!this.props.pagesNavigatorVisible&&this.props.pageCount>0}get pagesContainerVisibility(){if(this.props.pagesNavigatorVisible==="auto"&&this.props.pageCount===1&&this.props.hasKnownLastPage)return"hidden"}get isLargeDisplayMode(){var t=this.normalizedDisplayMode,i=!1;return t==="adaptive"?i=this.props.isLargeDisplayMode:i=t==="full",i}get classes(){var t={["".concat(this.props.className)]:!!this.props.className,[dre]:!0,[hre]:!this.isLargeDisplayMode};return Gr(t)}get aria(){return{role:"navigation",label:this.props.label}}get restAttributes(){var t=this.props,i=ui(t,sne);return i}componentWillUpdate(t,i,r){super.componentWillUpdate(),this.props.onKeyDown!==t.onKeyDown&&(this.__getterCache.keyboardAction=void 0)}render(){var t=this.props;return one({props:Ne({},t),widgetRootElementRef:this.widgetRootElementRef,keyboardAction:this.keyboardAction,infoVisible:this.infoVisible,pageIndexSelectorVisible:this.pageIndexSelectorVisible,pagesContainerVisible:this.pagesContainerVisible,pagesContainerVisibility:this.pagesContainerVisibility,isLargeDisplayMode:this.isLargeDisplayMode,classes:this.classes,aria:this.aria,restAttributes:this.restAttributes})}}mR.defaultProps=lne;var une=["className","defaultPageIndex","defaultPageSize","displayMode","gridCompatibility","hasKnownLastPage","infoText","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pagesCountText","pagesNavigatorVisible","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"],dne=e=>{var{pagerProps:t,restAttributes:i}=e;return Er(ti(2,Jk,Ne({contentTemplate:mR,pagerProps:t},i)))};let gR=class extends Dd{constructor(t){super(t),this.__getterCache={},this.state={pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.props.defaultPageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.props.defaultPageIndex},this.pageIndexChange=this.pageIndexChange.bind(this),this.pageSizeChange=this.pageSizeChange.bind(this)}createEffects(){return[kd()]}pageIndexChange(t){if(this.props.gridCompatibility){var i;this.setState(n=>(i=t+1,{pageIndex:i})),this.props.pageIndexChange(i)}else{var r;this.setState(n=>(r=t,{pageIndex:r})),this.props.pageIndexChange(r)}}get pageIndex(){return this.props.gridCompatibility?(this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex)-1:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}pageSizeChange(t){var i;this.setState(r=>(i=t,{pageSize:i})),this.props.pageSizeChange(i)}get className(){return this.props.gridCompatibility?Gr({"dx-datagrid-pager":!0,["".concat(this.props.className)]:!!this.props.className}):this.props.className}get pagerProps(){return this.__getterCache.pagerProps!==void 0?this.__getterCache.pagerProps:this.__getterCache.pagerProps=(()=>Ne({},Ne({},this.props,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),{className:this.className,pageIndex:this.pageIndex,pageIndexChange:t=>this.pageIndexChange(t),pageSizeChange:t=>this.pageSizeChange(t)}))()}get restAttributes(){var t=Ne({},this.props,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),i=ui(t,une);return i}componentWillUpdate(t,i,r){super.componentWillUpdate(),(this.props!==t||this.props.gridCompatibility!==t.gridCompatibility||this.props.className!==t.className||this.state.pageIndex!==i.pageIndex||this.props.pageIndex!==t.pageIndex||this.props.pageIndexChange!==t.pageIndexChange||this.props.pageSizeChange!==t.pageSizeChange)&&(this.__getterCache.pagerProps=void 0)}render(){var t=this.props;return dne({props:Ne({},t,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),pageIndexChange:this.pageIndexChange,pageIndex:this.pageIndex,pageSizeChange:this.pageSizeChange,className:this.className,pagerProps:this.pagerProps,restAttributes:this.restAttributes})}};gR.defaultProps=ire;class vR extends qie{getProps(){var t=super.getProps();return t.onKeyDown=this._wrapKeyDownHandler(t.onKeyDown),t}get _propsInfo(){return{twoWay:[["pageSize","defaultPageSize","pageSizeChange"],["pageIndex","defaultPageIndex","pageIndexChange"]],allowNull:[],elements:[],templates:[],props:["defaultPageSize","pageSizeChange","defaultPageIndex","pageIndexChange","gridCompatibility","className","showInfo","infoText","lightModeEnabled","displayMode","maxPagesCount","pageCount","pagesCountText","visible","hasKnownLastPage","pagesNavigatorVisible","showPageSizes","pageSizes","rtlEnabled","showNavigationButtons","totalCount","label","onKeyDown","pageSize","pageIndex"]}}get _viewComponent(){return gR}}Tt("dxPager",vR);var hne="pager",cne=10,xE=function(e){return 1+(parseInt(e.pageIndex())||0)},fne=ni.View.inherit({init:function(){var e=this.getController("data");e.changed.add(t=>{if(t&&t.repaintChangesOnly){var i=this._pager;i?i.option({pageIndex:xE(e),pageSize:e.pageSize(),pageCount:e.pageCount(),totalCount:e.totalCount(),hasKnownLastPage:e.hasKnownLastPage()}):this.render()}else(!t||t.changeType!=="update"&&t.changeType!=="updateSelection"&&t.changeType!=="updateFocusedRow")&&(this._pager=null,this.render())})},_renderCore:function(){var e=this.element().addClass(this.addWidgetPrefix(hne)),t=this.option("pager")||{},i=this.getController("data"),r=this.getController("keyboardNavigation"),n={maxPagesCount:cne,pageIndex:xE(i),pageCount:i.pageCount(),pageSize:i.pageSize(),showPageSizes:t.showPageSizeSelector,showInfo:t.showInfo,displayMode:t.displayMode,pagesNavigatorVisible:t.visible,showNavigationButtons:t.showNavigationButtons,label:t.label,pageSizes:this.getPageSizes(),totalCount:i.totalCount(),hasKnownLastPage:i.hasKnownLastPage(),pageIndexChanged:function(a){i.pageIndex()!==a-1&&i.pageIndex(a-1)},pageSizeChanged:function(a){i.pageSize(a)},onKeyDown:a=>r&&r.executeAction("onKeyDown",a),useLegacyKeyboardNavigation:this.option("useLegacyKeyboardNavigation"),useKeyboard:this.option("keyboardNavigation.enabled")};if(oe(t.infoText)&&(n.infoText=t.infoText),this._pager){this._pager.repaint();return}ht()?this._pager=this._createComponent(e,vR,n):e.addClass("dx-pager").html('<div class="dx-pages"><div class="dx-page"></div></div>')},getPager:function(){return this._pager},getPageSizes:function(){var e=this.getController("data"),t=this.option("pager"),i=t&&t.allowedPageSizes,r=e.pageSize();return(!oe(this._pageSizes)||!this._pageSizes.includes(r))&&(this._pageSizes=[],t&&(Array.isArray(i)?this._pageSizes=i:i&&r>1&&(this._pageSizes=[Math.floor(r/2),r,2*r]))),this._pageSizes},isVisible:function(){var e=this.getController("data"),t=this.option("pager"),i=t&&t.visible,r=this.option("scrolling");return i==="auto"&&(r&&(r.mode==="virtual"||r.mode==="infinite")?i=!1:i=e.pageCount()>1||e.isLoaded()&&!e.hasKnownLastPage()),i},getHeight:function(){return this.getElementHeight()},optionChanged:function(e){var t=e.name,i=t==="pager",r=t==="paging",n=t==="dataSource",a=t==="scrolling",s=this.getController("data");if(i||r||a||n){if(e.handled=!0,s.skipProcessingPagingChange(e.fullName))return;(i||r)&&(this._pageSizes=null),n||(this._pager=null,this._invalidate(),ht()&&i&&this.component&&this.component.resize())}},dispose:function(){this._pager=null}}),pne={defaultOptions:function(){return{pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto",label:Ae.format("dxPager-ariaLabel")}}},views:{pagerView:fne}};qe.registerModule("pager",pne);var mne="columns-separator",wE="columns-separator-transparent",SE="drag-header",gne="text-content",v_="drag-action",EE="tracker",TE="drop-highlight",IE="dx-block-separator",AE="dx-header-row",vne="dx-widget",_ne="dx-drag-command-cell",wr="dxDataGridResizingReordering",bne=10,OE=5,Ng=.5,Ru=function(e){return e.option("allowColumnResizing")||e.getController("columns").isColumnOptionUsed("allowResizing")},_R=function(e){return e.option("allowColumnReordering")||e.getController("columns").isColumnOptionUsed("allowReordering")},yne=ni.View.inherit({_renderCore:function(){this.callBase(),this.element().addClass(this.addWidgetPrefix(EE)),this.hide()},_unsubscribeFromCallback:function(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},_subscribeToCallback:function(){var e=this;e._positionChanged=function(t){var i=e.element();i&&i.hasClass(e.addWidgetPrefix(EE))&&(i.css({top:t.top}),Lr(i,t.height))},this._tablePositionController.positionChanged.add(e._positionChanged)},optionChanged:function(e){e.name==="allowColumnResizing"&&(this._unsubscribeFromCallback(),e.value&&(this._subscribeToCallback(),this._invalidate())),this.callBase(e)},init:function(){this.callBase(),this._tablePositionController=this.getController("tablePosition"),this._subscribeToCallback()},isVisible:function(){return Ru(this)},show:function(){this.element().show()},hide:function(){this.element()&&this.element().hide()},setHeight:function(e){Lr(this.element(),e)},dispose:function(){this._unsubscribeFromCallback(),this.callBase()}}),bR=ni.View.inherit({_renderSeparator:function(){},_renderCore:function(e){this.callBase(e),this._isShown=!0,this._renderSeparator(),this.hide()},show:function(){this._isShown=!0},hide:function(){this._isShown=!1},height:function(e){var t=this.element();if(t)if(oe(e))Lr(t,e);else return ct(t)},width:function(e){var t=this.element();if(t)if(oe(e))sd(t,e);else return ut(t)}}),Cne=bR.inherit({_renderSeparator:function(){this.callBase();var e=this.element();e.addClass(this.addWidgetPrefix(mne))},_subscribeToCallback:function(){var e=this,t;e._positionChanged=function(i){t=e.element(),t&&(t.css({top:i.top}),Lr(t,i.height))},e._tablePositionController.positionChanged.add(e._positionChanged)},_unsubscribeFromCallback:function(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},_init:function(){this._isTransparent=Ru(this),this.isVisible()&&this._subscribeToCallback()},isVisible:function(){return this.option("showColumnHeaders")&&(_R(this)||Ru(this))},optionChanged:function(e){e.name==="allowColumnResizing"&&(e.value?(this._init(),this._invalidate(),this.hide(!0)):(this._unsubscribeFromCallback(),this._isTransparent=Ru(this),this.hide(!0))),this.callBase(e)},init:function(){this.callBase(),this._tablePositionController=this.getController("tablePosition"),this._init()},show:function(){var e=this.element();e&&!this._isShown&&(this._isTransparent?e.removeClass(this.addWidgetPrefix(wE)):e.show()),this.callBase()},hide:function(e){var t=this.element(),i=this.addWidgetPrefix(wE);t&&(this._isShown||e)&&(this._isTransparent?(t.addClass(i),t.css("left",""),t.show()):(t.hasClass(i)&&t.removeClass(i),t.hide())),this.callBase()},moveByX:function(e){var t=this.element();t&&t.css("left",e===null?0:e-this._parentElement().offset().left)},changeCursor:function(e){e=oe(e)?e:"";var t=this.element();t&&t.css("cursor",e)},dispose:function(){this._unsubscribeFromCallback(),this.callBase()}}),xne=bR.inherit({init:function(){var e=this;this.callBase(),this.getController("data").loadingChanged.add(function(t){t||e.hide()})},_renderSeparator:function(){this.callBase(),this.element().addClass(IE).html("&nbsp;")},hide:function(){var e=this._parentElement(),t=this.element();t&&this._isShown&&t.css("display","none"),e&&!e.children("."+IE).length&&e.prepend(this.element()),this.callBase()},isVisible:function(){var e=this.option("groupPanel"),t=this.option("columnChooser");return e&&e.visible||t&&t.enabled},show:function(e){var t=this.element(),i=function(r){pi.stop(t,!0),pi.animate(t,{type:"slide",from:{width:0,display:r.display},to:r,duration:300,easing:"swing"})};if(t&&!this._isShown)switch(e){case"group":i({width:"50px",display:"inline-block"});break;case"columnChooser":i({width:"100%",display:"block"});break;default:t.css("display","")}this.callBase()}}),wne=ni.View.inherit({_isDragging:!1,isDragging:function(){return this._isDragging},_getDraggingPanelByPos:function(e){var t;return ve(this._dragOptions.draggingPanels,function(i,r){if(r){var n=r.getBoundingRect();if(n&&(n.bottom===void 0||e.y<n.bottom)&&(n.top===void 0||e.y>n.top)&&(n.left===void 0||e.x>n.left)&&(n.right===void 0||e.x<n.right))return t=r,!1}}),t},_renderCore:function(){this.element().addClass(this.addWidgetPrefix(SE)+" "+this.addWidgetPrefix(gne)+" "+vne).hide()},_resetTargetColumnOptions:function(){var e=this._dropOptions;e.targetColumnIndex=-1,delete e.targetColumnElement,delete e.isLast,delete e.posX,delete e.posY},_getVisibleIndexObject:function(e,t){return oe(e)?{columnIndex:t,rowIndex:e}:t},dispose:function(){var e=this.element();this._dragOptions=null,e&&e.parent().find("."+this.addWidgetPrefix(SE)).remove()},isVisible:function(){var e=this.getController("columns"),t=e.getCommonSettings();return this.option("showColumnHeaders")&&(_R(this)||t.allowGrouping||t.allowHiding)},init:function(){var e=this;this.callBase(),this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer"),this.getController("data").loadingChanged.add(function(t){var i=e.element();!t&&i&&i.hide()})},dragHeader:function(e){var t=e.columnElement,i=!!e.sourceColumn.type;this._isDragging=!0,this._dragOptions=e,this._dropOptions={sourceIndex:e.index,sourceColumnIndex:this._getVisibleIndexObject(e.rowIndex,e.columnIndex),sourceColumnElement:e.columnElement,sourceLocation:e.sourceLocation};var r=Re.getDocument();this._onSelectStart=r.onselectstart,r.onselectstart=function(){return!1},this._controller.drag(this._dropOptions),this.element().css({textAlign:t&&t.css("textAlign"),height:t&&(i&&t.get(0).clientHeight||ct(t)),width:t&&(i&&t.get(0).clientWidth||ut(t)),whiteSpace:t&&t.css("whiteSpace")}).addClass(this.addWidgetPrefix(v_)).toggleClass(_ne,i).text(i?"":e.sourceColumn.caption),this.element().appendTo(yA.getSwatchContainer(t))},moveHeader:function(e){var t=e.event,i=t.data.that,r=mi(t),n=i._columnsResizerViewController?i._columnsResizerViewController.isResizing():!1,a=i._dragOptions;if(i._isDragging&&!n){var s=i.element(),o=Math.abs(r.x-a.columnElement.offset().left-a.deltaX),l=Math.abs(r.y-a.columnElement.offset().top-a.deltaY);if(s.is(":visible")||o>OE||l>OE){s.show();var u=r.x-a.deltaX,d=r.y-a.deltaY;s.css({left:u,top:d}),i.dockHeader(r)}t.preventDefault()}},dockHeader:function(e){var t=this._getDraggingPanelByPos(e),i=this._controller,r=this._dropOptions,n=this._dragOptions;if(t){var a=this.option("rtlEnabled"),s=t.getName()==="columnChooser",o=s?"y":"x",l=t.getName(),u=l==="headers"?n.rowIndex:void 0,d=n.sourceColumn,c=t.getColumnElements(u,d==null?void 0:d.ownerBand)||[],h=n.pointsByTarget=n.pointsByTarget||{},f=l==="columnChooser"?[]:h[l]||i._generatePointsByColumns(ce({},n,{targetDraggingPanel:t,columns:t.getColumns(u),columnElements:c,isVerticalOrientation:s,startColumnIndex:l==="headers"&&J(c[0]).index()}));if(h[l]=f,r.targetLocation=l,f.length>0)for(var p=0;p<f.length;p++){var g=f[p+1]&&(f[p][o]+f[p+1][o])/2;if(g===void 0||(a&&o==="x"?e[o]>g:e[o]<g)){r.targetColumnIndex=this._getVisibleIndexObject(u,f[p].columnIndex),c[p]?(r.targetColumnElement=c.eq(p),r.isLast=!1):(r.targetColumnElement=c.last(),r.isLast=!0),r.posX=f[p].x,r.posY=f[p].y,i.dock(r);break}}else this._resetTargetColumnOptions(),i.dock(r)}},dropHeader:function(e){var t=e.event,i=t.data.that,r=i._controller;i.element().hide(),r&&i._isDragging&&r.drop(i._dropOptions),i.element().appendTo(i._parentElement()),i._dragOptions=null,i._dropOptions=null,i._isDragging=!1,Re.getDocument().onselectstart=i._onSelectStart||null}}),Vg=function(e){return e.option("columnResizingMode")!=="widget"},Sne=ni.ViewController.inherit({_isHeadersRowArea:function(e){if(this._columnHeadersView){var t=this._columnHeadersView.element();if(t){var i=t.offset().top,r=this._columnHeadersView.getHeadersRowHeight();return e>=i&&e<=i+r}}return!1},_isRtlParentStyle:function(){var e;return this.option("rtlEnabled")&&((e=this._$parentContainer)===null||e===void 0?void 0:e.parent().css("direction"))==="rtl"},_pointCreated:function(e,t,i){var r=Vg(this),n=this.option("rtlEnabled"),a=this._isRtlParentStyle(),s=!r&&n&&!a?0:1;if(e.index>=s&&e.index<t+(!r&&(!n||a)?1:0)){e.columnIndex-=s;var o=i[e.columnIndex]||{},l=i[e.columnIndex+1]||{};return!(r?o.allowResizing&&l.allowResizing:o.allowResizing)}return!0},_getTargetPoint:function(e,t,i){if(e){for(var r=0;r<e.length;r++)if(!(e[r].x===e[0].x&&e[r+1]&&e[r].x===e[r+1].x)&&e[r].x-i<=t&&t<=e[r].x+i)return e[r]}return null},_moveSeparator:function(e){var t,i=e.event,r=i.data,n=r._columnsSeparatorView.width(),a=Vg(r),s=n/2,o=r._$parentContainer.offset(),l=o.left,u=mi(i),d=r.option("rtlEnabled"),c=this._isRtlParentStyle(),h=(t=r._draggingHeaderView)===null||t===void 0?void 0:t.isDragging();if(r._isResizing&&r._resizingInfo){if((l<=u.x||!a&&c)&&(!a||u.x<=l+ut(r._$parentContainer))&&r._updateColumnsWidthIfNeeded(u.x)){var f=r._columnHeadersView.getColumnElements().eq(r._resizingInfo.currentColumnIndex),p=f[0];if(p){var g=p.getBoundingClientRect().width;r._columnsSeparatorView.moveByX(f.offset().left+((a||c)&&d?0:g)),r._tablePositionController.update(r._targetPoint.y),i.preventDefault()}}}else h||(r._isHeadersRowArea(u.y)?(r._previousParentOffset&&(r._previousParentOffset.left!==o.left||r._previousParentOffset.top!==o.top)&&r.pointsByColumns(null),r._targetPoint=r._getTargetPoint(r.pointsByColumns(),u.x,n),r._previousParentOffset=o,r._isReadyResizing=!1,r._targetPoint?(r._columnsSeparatorView.changeCursor("col-resize"),r._columnsSeparatorView.moveByX(r._targetPoint.x-s),r._tablePositionController.update(r._targetPoint.y),r._isReadyResizing=!0,i.preventDefault()):(r._columnsSeparatorView.changeCursor(),r._columnsSeparatorView.moveByX(null))):(r.pointsByColumns(null),r._isReadyResizing=!1,r._columnsSeparatorView.changeCursor(),r._columnsSeparatorView.moveByX(null)))},_endResizing:function(e){var t=e.event,i=t.data;i._isResizing&&(i.pointsByColumns(null),i._resizingInfo=null,i._columnsSeparatorView.hide(),i._columnsSeparatorView.changeCursor(),i._trackerView.hide(),i._isReadyResizing=!1,i._isResizing=!1)},_getNextColumnIndex:function(e){return e+1},_setupResizingInfo:function(e){var t=this._targetPoint.columnIndex,i=this._getNextColumnIndex(t),r=this._columnHeadersView.getHeaderElement(t),n=this._columnHeadersView.getHeaderElement(i);this._resizingInfo={startPosX:e,currentColumnIndex:t,currentColumnWidth:r&&r.length>0?vi(r[0]).width:0,nextColumnIndex:i,nextColumnWidth:n&&n.length>0?vi(n[0]).width:0}},_startResizing:function(e){var t=e.event,i=t.data,r=mi(t);if(ud(t)&&(i._isHeadersRowArea(r.y)?(i._targetPoint=i._getTargetPoint(i.pointsByColumns(),r.x,bne),i._targetPoint&&(i._columnsSeparatorView.moveByX(i._targetPoint.x-i._columnsSeparatorView.width()/2),i._isReadyResizing=!0)):i._isReadyResizing=!1),i._isReadyResizing){i._setupResizingInfo(r.x),i._isResizing=!0,i._tablePositionController.update(i._targetPoint.y),i._columnsSeparatorView.show(),i._trackerView.show();var n=i.component.getScrollable();n&&i._isRtlParentStyle()&&(i._scrollRight=ut(n.$content())-ut(n.container())-n.scrollLeft()),t.preventDefault(),t.stopPropagation()}this.isResizing()&&this.getController("editorFactory").loseFocus()},_generatePointsByColumns:function(){var e=this,t=e._columnsController?e._columnsController.getVisibleColumns():[],i=e._columnHeadersView.getColumnElements(),r=[];i&&i.length>0&&(r=Fe.getPointsByColumns(i,function(n){return e._pointCreated(n,i.length,t)})),e._pointsByColumns=r},_unsubscribeFromEvents:function(){this._moveSeparatorHandler&&he.off(Re.getDocument(),Be(Vt.move,wr),this._moveSeparatorHandler),this._startResizingHandler&&he.off(this._$parentContainer,Be(Vt.down,wr),this._startResizingHandler),this._endResizingHandler&&(he.off(this._columnsSeparatorView.element(),Be(Vt.up,wr),this._endResizingHandler),he.off(Re.getDocument(),Be(Vt.up,wr),this._endResizingHandler))},_subscribeToEvents:function(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing),he.on(Re.getDocument(),Be(Vt.move,wr),this,this._moveSeparatorHandler),he.on(this._$parentContainer,Be(Vt.down,wr),this,this._startResizingHandler),he.on(this._columnsSeparatorView.element(),Be(Vt.up,wr),this,this._endResizingHandler),he.on(Re.getDocument(),Be(Vt.up,wr),this,this._endResizingHandler)},_updateColumnsWidthIfNeeded:function(e){var t,i,r=this._rowsView.contentWidth(),n=this._resizingInfo,a=this._columnsController,s=a.getVisibleColumns(),o=this._columnsSeparatorView.width(),l=Vg(this),u=l&&this.option("adaptColumnWidthByRatio")&&!this.option("columnAutoWidth"),d=this.option("rtlEnabled"),c=this._isRtlParentStyle(),h=s[n.currentColumnIndex],f=s[n.nextColumnIndex];function p(V){return nt(V)&&V.slice(-1)==="%"}function g(V,H,W,G){if(V){var P=V.width;P&&(G=p(P)),G?(a.columnOption(V.index,"visibleWidth",H),a.columnOption(V.index,"width",(H/W*100).toFixed(3)+"%")):(a.columnOption(V.index,"visibleWidth",null),a.columnOption(V.index,"width",H))}}t=e-n.startPosX,(l||c)&&d&&(t=-t);var{cellWidth:m,nextCellWidth:v}=function(V){var H,W,G,P=n.currentColumnWidth+V,A=h&&h.minWidth||o,T={};return P>=A?T.cellWidth=P:(T.cellWidth=A,G=!0),l&&(W=n.nextColumnWidth-V,H=f&&f.minWidth||o,W>=H?G?T.nextCellWidth=n.nextColumnWidth-(V+A-P):T.nextCellWidth=W:(T.nextCellWidth=H,T.cellWidth=n.currentColumnWidth+(V-H+W))),T}(t);if(i=h.width!==m,i){if(a.beginUpdate(),m=Math.floor(m),r=function(V,H){var W=H.every(P=>P.width);if(W){var G=H.reduce((P,A)=>(p(A.width)&&(P+=parseFloat(A.width)),P),0);G>100&&(V=V/G*100)}return V}(r,s),g(h,m,r,u),l)v=Math.floor(v),g(f,v,r,u);else{var b=this._columnHeadersView.getColumnWidths();b[n.currentColumnIndex]=m;var E=b.reduce((V,H)=>V+H,0)>this._rowsView.contentWidth();if(!E){var I=Fe.getLastResizableColumnIndex(s);I>=0&&a.columnOption(s[I].index,"visibleWidth","auto")}for(var R=0;R<b.length;R++)s[R]&&s[R]!==h&&s[R].width===void 0&&a.columnOption(s[R].index,"width",b[R])}if(a.endUpdate(),!l){this.component.updateDimensions();var N=this.component.getScrollable();if(N&&c){var j=ut(N.$content())-ut(N.container())-this._scrollRight;N.scrollTo({left:j})}}}return i},_subscribeToCallback:function(e,t){e.add(t),this._subscribesToCallbacks.push({callback:e,handler:t})},_unsubscribeFromCallbacks:function(){for(var e=0;e<this._subscribesToCallbacks.length;e++){var t=this._subscribesToCallbacks[e];t.callback.remove(t.handler)}this._subscribesToCallbacks=[]},_unsubscribes:function(){this._unsubscribeFromEvents(),this._unsubscribeFromCallbacks()},_init:function(){var e=this,t=function(){e._isResizing||e.pointsByColumns(null)},i=function(a){e._scrollLeft!==a.left&&(e._scrollLeft=a.left,e.pointsByColumns(null))};e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._columnHeadersView=e.getView("columnHeadersView"),e._trackerView=e.getView("trackerView"),e._rowsView=e.getView("rowsView"),e._columnsController=e.getController("columns"),e._tablePositionController=e.getController("tablePosition"),e._$parentContainer=e.component.$element(),e._draggingHeaderView=e.component.getView("draggingHeaderView"),e._subscribeToCallback(e._columnHeadersView.renderCompleted,t),e._subscribeToCallback(e._columnHeadersView.resizeCompleted,t),e._subscribeToCallback(e._columnsSeparatorView.renderCompleted,function(){e._unsubscribeFromEvents(),e._subscribeToEvents()}),e._subscribeToCallback(e._rowsView.renderCompleted,function(){e._rowsView.scrollChanged.remove(i),e._rowsView.scrollChanged.add(i)});var r=e._rowsView.getScrollbarWidth()!==0,n=0;e._subscribeToCallback(e.getController("tablePosition").positionChanged,function(a){if(e._isResizing&&!e._rowsView.isResizing){var s=e._rowsView.getScrollbarWidth()!==0;r!==s||n&&n!==a.height?(r=s,n=a.height,e.component.updateDimensions()):e._rowsView.updateFreeSpaceRowHeight()}n=a.height})},optionChanged:function(e){this.callBase(e),e.name==="allowColumnResizing"&&(e.value?(this._init(),this._subscribeToEvents()):this._unsubscribes())},isResizing:function(){return this._isResizing},init:function(){this._subscribesToCallbacks=[],Ru(this)&&this._init()},pointsByColumns:function(e){if(e!==void 0)this._pointsByColumns=e;else return this._pointsByColumns||this._generatePointsByColumns(),this._pointsByColumns},dispose:function(){this._unsubscribes(),this.callBase()}}),Ene=ni.ViewController.inherit({update:function(e){var t={},i=this._columnHeadersView.element(),r=i&&i.offset(),n=r&&r.top||0,a=oe(e)?Math.abs(e-n):0,s=this._columnHeadersView?this._columnHeadersView.getHeight():0,o=this._rowsView.getScrollbarWidth(!0),l=this._rowsView?this._rowsView.height()-o:0,u=this.component.getController("columnsResizer"),d=this.component.getView("draggingHeaderView");t.height=s;var c=u.isResizing()!==!1||d.isDragging();c&&(t.height+=l-a),e!==null&&i&&i.length&&(t.top=i[0].offsetTop+a),this.positionChanged.fire(t)},init:function(){var e=this;e.callBase(),e._columnHeadersView=this.getView("columnHeadersView"),e._rowsView=this.getView("rowsView"),e._pagerView=this.getView("pagerView"),e._rowsView.resizeCompleted.add(function(){if(e.option("allowColumnResizing")){var t=e.getController("columnsResizer")._targetPoint;e.update(t?t.y:null)}})},ctor:function(e){this.callBase(e),this.positionChanged=Ht()}}),Tne=ni.ViewController.inherit({_generatePointsByColumns:function(e){var t=this;return Fe.getPointsByColumns(e.columnElements,function(i){return t._pointCreated(i,e.columns,e.targetDraggingPanel.getName(),e.sourceColumn)},e.isVerticalOrientation,e.startColumnIndex)},_pointCreated:function(e,t,i,r){var n=t[e.columnIndex],a=t[e.columnIndex-1];switch(i){case"columnChooser":return!0;case"headers":return r&&!r.allowReordering||(!n||!n.allowReordering)&&(!a||!a.allowReordering);default:return t.length===0}},_subscribeToEvents:function(e,t){var i=this;ve(t,function(r,n){if(n)for(var a,s=n.getRowCount?n.getRowCount():1,o=n.getName(),l=function(c,h){if(h){var f=J(h),p=a[c];n.allowDragging(p,o,t)&&(f.addClass(i.addWidgetPrefix(v_)),he.on(f,Be(Ks,wr),i.createAction(function(g){var m=g.event,v=mi(m);e.dragHeader({deltaX:v.x-J(m.currentTarget).offset().left,deltaY:v.y-J(m.currentTarget).offset().top,sourceColumn:p,index:p.index,columnIndex:c,columnElement:f,sourceLocation:o,draggingPanels:t,rowIndex:i._columnsController.getRowIndex(p.index,!0)})})),he.on(f,Be(Za,wr),{that:e},i.createAction(e.moveHeader)),he.on(f,Be(qs,wr),{that:e},i.createAction(e.dropHeader)))}},u=0;u<s;u++){var d=n.getColumnElements(u)||[];d.length&&(a=n.getColumns(u)||[],ve(d,l))}})},_unsubscribeFromEvents:function(e,t){var i=this;ve(t,function(r,n){if(n){var a=n.getColumnElements()||[];ve(a,function(s,o){var l=J(o);he.off(l,Be(Ks,wr)),he.off(l,Be(Za,wr)),he.off(l,Be(qs,wr)),l.removeClass(i.addWidgetPrefix(v_))})}})},_getSeparator:function(e){return e==="headers"?this._columnsSeparatorView:this._blockSeparatorView},hideSeparators:function(e){var t=this._blockSeparatorView,i=this._columnsSeparatorView;this._animationColumnIndex=null,t&&t.hide(),e!=="block"&&i&&i.hide()},init:function(){var e=this;e.callBase(),e._columnsController=e.getController("columns"),e._columnHeadersView=e.getView("columnHeadersView"),e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._draggingHeaderView=e.getView("draggingHeaderView"),e._rowsView=e.getView("rowsView"),e._blockSeparatorView=e.getView("blockSeparatorView"),e._headerPanelView=e.getView("headerPanel"),e._columnChooserView=e.getView("columnChooserView");var t=function(){if(e._draggingHeaderView){var i=[e._columnChooserView,e._columnHeadersView,e._headerPanelView];e._unsubscribeFromEvents(e._draggingHeaderView,i),e._subscribeToEvents(e._draggingHeaderView,i)}};e._columnHeadersView.renderCompleted.add(t),e._headerPanelView&&e._headerPanelView.renderCompleted.add(t),e._columnChooserView&&e._columnChooserView.renderCompleted.add(t)},allowDrop:function(e){return this._columnsController.allowMoveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)},drag:function(e){var t=e.sourceIndex,i=e.sourceLocation,r=e.sourceColumnElement,n=this._columnHeadersView,a=this._rowsView;r&&(r.css({opacity:Ng}),i==="headers"&&(n&&n.setRowsOpacity(t,Ng),a&&a.setRowsOpacity(t,Ng)))},dock:function(e){var t=this,i=at(e.targetColumnIndex)?e.targetColumnIndex.columnIndex:e.targetColumnIndex,r=e.sourceLocation,n=e.targetLocation,a=t._getSeparator(n),s=i>=0;t._columnHeadersView.element().find("."+AE).toggleClass(t.addWidgetPrefix(TE),r!=="headers"&&n==="headers"&&!s),a&&(t.allowDrop(e)&&s?n==="group"||n==="columnChooser"?function(){t._animationColumnIndex!==i&&(t.hideSeparators(),a.element()[e.isLast?"insertAfter":"insertBefore"](e.targetColumnElement),t._animationColumnIndex=i,a.show(n))}():(t.hideSeparators("block"),t.getController("tablePosition").update(e.posY),a.moveByX(e.posX-a.width()),a.show()):t.hideSeparators())},drop:function(e){var t=e.sourceColumnElement;if(t&&(t.css({opacity:""}),this._columnHeadersView.setRowsOpacity(e.sourceIndex,""),this._rowsView.setRowsOpacity(e.sourceIndex,""),this._columnHeadersView.element().find("."+AE).removeClass(this.addWidgetPrefix(TE))),this.allowDrop(e)){var i=this._getSeparator(e.targetLocation);i&&i.hide(),this._columnsController.moveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}},dispose:function(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])}}),bo={views:{columnsSeparatorView:Cne,blockSeparatorView:xne,draggingHeaderView:wne,trackerView:yne},controllers:{draggingHeader:Tne,tablePosition:Ene,columnsResizer:Sne},extenders:{views:{rowsView:{_needUpdateRowHeight:function(e){var t=this.option("wordWrapEnabled"),i=this.getController("columnsResizer"),r=i.isResizing();return this.callBase.apply(this,arguments)||e>0&&t&&r}}},controllers:{editorFactory:{renderFocusOverlay:function(){if(!this.getController("columnsResizer").isResizing())return this.callBase.apply(this,arguments)}}}}};bo.views.draggingHeaderView;bo.controllers.draggingHeader;bo.views.columnsSeparatorView;bo.controllers.tablePosition;bo.controllers.columnsResizer;bo.views.trackerView;qe.registerModule("columnsResizingReordering",bo);var Hg="rowsview",DE="edit-form",Ine="group-footer",Ho="dx-row",Ane="dx-data-row",One="dx-group-row",Dne="dx-header-row",kne="edit-form-item",Rne="dx-master-detail-row",yR="dx-freespace-row",Mne="dx-virtual-row",kE="dx-master-detail-cell",CR="dx-editor-cell",Bne="dx-dropdowneditor-overlay",Gh="dx-command-expand",xR="dx-command-select",Pne="dx-command-edit",RE="[class^=dx-command]",Kh="dx-cell-focus-disabled",Lne="dxDateBox",ME="dx-state-focused",Fne="dx-widget",Nne="dx-revert-button",$g="delete",yc="input:not([type='hidden']), textarea, a, select, button, [tabindex], .dx-checkbox",BE="".concat(yc,", .dx-dropdowneditor-icon"),Vne="row",wR="form",PE="batch",LE="cell",FE="row",NE="cell",VE="columnHeadersView",Hne=["shift","control","alt"];function Jo(e){return e&&e.hasClass(One)}function Cc(e){return e&&e.hasClass(Rne)}function iu(e){return e&&!Jo(e)&&!Cc(e)}function $ne(e){return!e||e.hasClass(yR)||e.hasClass(Mne)}function gu(e){return e.length&&e[0].tagName==="TD"}function HE(e,t){return!e._isRowEditMode()&&t&&!t.hasClass(xR)&&t.hasClass(CR)}function Wr(e){return oe(e)&&e.length>0}function SR(){return Ye.current().deviceType!=="desktop"}function $E(e){return!!e.parent(".".concat(Dne)).length}function zne(e,t){var i=e.option("rtlEnabled"),r=!1;return i?r=!(t.fixedPosition==="right"||oe(t.command)&&!oe(t.fixedPosition)):r=!(!oe(t.fixedPosition)||t.fixedPosition==="left"),r}function Wne(e){var t=e.getController("keyboardNavigation");return t._isVirtualScrolling()?e.option("focusedRowIndex")===t.getRowIndex():!1}var jne=ni.ViewController.inherit({init:function(){this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._editingController=this.getController("editing"),this._headerPanel=this.getView("headerPanel"),this._columnsController=this.getController("columns"),this._editorFactory=this.getController("editorFactory"),this.isKeyboardEnabled()&&(D9(),this._updateFocusTimeout=null,this._fastEditingStarted=!1,this._focusedCellPosition={},this._canceledCellPosition=null,this._editorFactory.focused.add(e=>{this.setupFocusedView(),this._isNeedScroll&&e.is(":visible")&&this._focusedView&&this._focusedView.getScrollable&&(this._focusedView._scrollToElement(e),this._isNeedScroll=!1)}),this._initViewHandlers(),this._initDocumentHandlers(),this.createAction("onKeyDown"))},_initViewHandlers:function(){var e=this.getView("rowsView"),t=i=>{var r=J(i.target),n=J(i.relatedTarget).closest(e.element()).length,a=r.hasClass("dx-link");if(a&&!n&&this._isEventInCurrentGrid(i)){var s=this._getFocusedCell();s=Wr(s)?s:e.getCellElements(0).filter("[tabindex]").eq(0),r.closest(s).length||(i.preventDefault(),he.trigger(s,"focus"))}};e.renderCompleted.add(i=>{var r=e.element(),n=!i||i.changeType==="refresh",a=this._focusedView&&this._focusedView.name===e.name,s=!1,o=i&&(i.changeType==="append"||i.changeType==="prepend"),l=J(":focus"),u=!l.length||l.closest(r).length;he.off(r,"focusin",t),he.on(r,"focusin",t),this._initPointerEventHandler(),this._initKeyDownHandler(),this._setRowsViewAttributes(),a&&u&&(s=this._isNeedFocus?!o:this._isHiddenFocus&&n&&!(i!=null&&i.virtualColumnsScrolling),s&&this._updateFocus(!0))})},_initDocumentHandlers:function(){var e=Re.getDocument();this._documentClickHandler=this.createAction(t=>{var i=J(t.event.target),r=this._isEventInCurrentGrid(t.event)&&i.closest(".".concat(this.addWidgetPrefix(Hg))).length,n=i.closest(".".concat(Bne)).length,a=this.getController("columnsResizer"),s=!!a&&a.isResizing();if(!r&&!n&&!s){var o=this._focusedView?i.parents().filter(this._focusedView.element()).length>0:!1;!o&&this._resetFocusedCell(!0),this._resetFocusedView()}}),he.on(e,Be(Vt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)},_setRowsViewAttributes:function(){var e=this._getRowsViewElement(),t=!this._dataController.getVisibleRows().length;t&&this._applyTabIndexToElement(e)},_initPointerEventHandler:function(){var e=SR()?zt:Vt.down,t=".".concat(Ho," > td, .").concat(Ho),i=this._getRowsViewElement();oe(this._pointerEventAction)||(this._pointerEventAction=this.createAction(this._pointerEventHandler)),he.off(i,Be(e,"dxDataGridKeyboardNavigation"),this._pointerEventAction),he.on(i,Be(e,"dxDataGridKeyboardNavigation"),t,this._pointerEventAction)},_initKeyDownHandler:function(){var e=this._getRowsViewElement();ja.off(this._keyDownListener),this._keyDownListener=ja.on(e,null,t=>this._keyDownHandler(t))},dispose:function(){this.callBase(),this._resetFocusedView(),ja.off(this._keyDownListener),he.off(Re.getDocument(),Be(Vt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),clearTimeout(this._updateFocusTimeout),k9()},optionChanged:function(e){switch(e.name){case"keyboardNavigation":case"useLegacyKeyboardNavigation":e.handled=!0;break;default:this.callBase(e)}},isRowFocusType:function(){return this.focusType===FE},isCellFocusType:function(){return this.focusType===NE},setRowFocusType:function(){this.option("focusedRowEnabled")&&(this.focusType=FE)},setCellFocusType:function(){this.focusType=NE},_keyDownHandler:function(e){var t=!0;this._isNeedFocus=!0,this._isNeedScroll=!0;var i=this._processOnKeyDown(e),r=this._editingController.isEditing(),n=e.originalEvent;if(n.isDefaultPrevented()){this._isNeedFocus=!1,this._isNeedScroll=!1;return}if(Hne.indexOf(e.keyName)<0&&this._updateFocusedCellPositionByTarget(n.target),!i){switch(e.keyName){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(e,r),i=!0;break;case"upArrow":case"downArrow":e.ctrl?k0("rowsView",this,n):this._upDownKeysHandler(e,r),i=!0;break;case"pageUp":case"pageDown":this._pageUpDownKeyHandler(e),i=!0;break;case"space":i=this._spaceKeyHandler(e,r);break;case"A":Vi(e.originalEvent)?(this._ctrlAKeyHandler(e,r),i=!0):i=this._beginFastEditing(e.originalEvent);break;case"tab":this._tabKeyHandler(e,r),i=!0;break;case"enter":this._enterKeyHandler(e,r),i=!0;break;case"escape":this._escapeKeyHandler(e,r),i=!0;break;case"F":Vi(e.originalEvent)?(this._ctrlFKeyHandler(e),i=!0):i=this._beginFastEditing(e.originalEvent);break;case"F2":this._f2KeyHandler(),i=!0;break;case"del":case"backspace":this._isFastEditingAllowed()&&!this._isFastEditingStarted()&&(i=this._beginFastEditing(n,!0))}!i&&!this._beginFastEditing(n)&&(this._isNeedFocus=!1,this._isNeedScroll=!1,t=!1),t&&n.stopPropagation()}},_processOnKeyDown:function(e){var t=e.originalEvent,i={handled:!1,event:t};return this.executeAction("onKeyDown",i),e.ctrl=t.ctrlKey,e.alt=t.altKey,e.shift=t.shiftKey,!!i.handled},_closeEditCell:function(){setTimeout(()=>{this._editingController.closeEditCell()})},_leftRightKeysHandler:function(e,t){var i=this.getVisibleRowIndex(),r=e.originalEvent,n=this._focusedView&&this._focusedView.getRow(i),a=this._getDirectionCodeByKey(e.keyName),s=this._isFastEditingStarted(),o=(!t||s)&&iu(n);if(o){this.setCellFocusType(),s&&this._closeEditCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(a);var l=this._getNextCell(a);Wr(l)&&this._arrowKeysHandlerFocusCell(r,l,a),r&&r.preventDefault()}},_upDownKeysHandler:function(e,t){var i,r,n=this.getVisibleRowIndex(),a=this._focusedView&&this._focusedView.getRow(n),s=e.originalEvent,o=e.keyName==="upArrow",l=this._dataController.dataSource(),u=(i=this._editingController)===null||i===void 0||(r=i.isEditRowByIndex)===null||r===void 0?void 0:r.call(i,n),d=this._isFastEditingStarted(),c=(!u||!t||d)&&a&&!Cc(a);if(c){if(d&&this._closeEditCell(),!this._navigateNextCell(s,e.keyName)&&this._isVirtualRowRender()&&o&&l&&!l.isLoading()){var h=At(a),f=this._focusedCellPosition.rowIndex-1;this._scrollBy(0,-h,f,s)}s&&s.preventDefault()}},_pageUpDownKeyHandler:function(e){var t=this._dataController.pageIndex(),i=this._dataController.pageCount(),r=this.option("paging.enabled"),n=e.keyName==="pageUp",a=n?-1:1,s=this.getView("rowsView").getScrollable();r&&!this._isVirtualScrolling()?(n?t>0:t<i-1)&&!this._isVirtualScrolling()&&(this._dataController.pageIndex(t+a),e.originalEvent.preventDefault()):s&&ct(s.container())<ct(s.$content())&&(this._scrollBy(0,ct(s.container())*a),e.originalEvent.preventDefault())},_spaceKeyHandler:function(e,t){var i=this.getVisibleRowIndex(),r=J(e.originalEvent&&e.originalEvent.target);if(this.option("selection")&&this.option("selection").mode!=="none"&&!t){var n=this._getElementType(r)==="row"&&this.isRowFocusType()&&iu(r),a=r.hasClass(xR);return a&&this.option("selection.showCheckBoxesMode")==="onClick"&&this._selectionController.startSelectionWithCheckboxes(),n||r.parent().hasClass(Ane)||r.hasClass(this.addWidgetPrefix(Hg))?(this._selectionController.changeItemSelection(i,{shift:e.shift,control:e.ctrl}),e.originalEvent.preventDefault(),!0):!1}else return this._beginFastEditing(e.originalEvent)},_ctrlAKeyHandler:function(e,t){!t&&!e.alt&&this.option("selection.mode")==="multiple"&&this.option("selection.allowSelectAll")&&(this._selectionController.selectAll(),e.originalEvent.preventDefault())},_tabKeyHandler:function(e,t){var i=this.option("editing"),r=e.shift?"previous":"next",n=oe(this._focusedCellPosition)&&!Yr(this._focusedCellPosition),a=!n||!e.shift&&this._isLastValidCell(this._focusedCellPosition)||e.shift&&this._isFirstValidCell(this._focusedCellPosition),s=e.originalEvent.target,o=this._focusedView&&this._focusedView.element();if(!this._handleTabKeyOnMasterDetailCell(s,r)){if(J(o).addClass(ME),i&&s&&!a)if(J(s).hasClass(this.addWidgetPrefix(Hg))&&this._resetFocusedCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(r),t){if(!this._editingCellTabHandler(e,r))return}else this._targetCellTabHandler(e,r)&&(a=!0);a?(this._editorFactory.loseFocus(),this._editingController.isEditing()&&!this._isRowEditMode()&&(this._resetFocusedCell(!0),this._resetFocusedView(),this._closeEditCell())):e.originalEvent.preventDefault()}},_getMaxHorizontalOffset:function(){var e=this.component.getScrollable(),t=this.getView("rowsView"),i=e?e.scrollWidth()-ut(t.element()):0;return i},_isColumnRendered:function(e){var t=this._columnsController.getVisibleColumns(null,!0),i=this._columnsController.getVisibleColumns(),r=t[e],n=!1;return r&&(n=i.indexOf(r)>=0),n},_isFixedColumn:function(e){var t=this._columnsController.getVisibleColumns(null,!0),i=t[e];return!!i&&!!i.fixed},_isColumnVirtual:function(e){var t=e-this._columnsController.getColumnIndexOffset(),i=this._columnsController.getVisibleColumns(),r=i[t];return!!r&&r.command==="virtual"},_processVirtualHorizontalPosition:function(e){var t=this.component.getScrollable(),i=this.getColumnIndex(),r,n=0,a=!1;switch(e){case"next":case"nextInRow":var s=this._getVisibleColumnCount();r=i+1,n=this.option("rtlEnabled")?this._getMaxHorizontalOffset():0,e==="next"?a=s===r||this._isFixedColumn(i)&&!this._isColumnRendered(r):a=s>r&&this._isFixedColumn(i)&&!this._isColumnRendered(r);break;case"previous":case"previousInRow":if(r=i-1,n=this.option("rtlEnabled")?0:this._getMaxHorizontalOffset(),e==="previous"){var o=this._columnsController.getColumnIndexOffset(),l=r<0&&o===0;a=l||this._isFixedColumn(i)&&!this._isColumnRendered(r)}else a=r>=0&&this._isFixedColumn(i)&&!this._isColumnRendered(r)}a?t.scrollTo({left:n}):oe(r)&&oe(e)&&this._isColumnVirtual(r)&&(n=this._getHorizontalScrollPositionOffset(e),n!==0&&t.scrollBy({left:n,top:0}))},_getHorizontalScrollPositionOffset:function(e){var t=0,i=this._getCell(this._focusedCellPosition),r=i&&Pt(i);if(r>0){var n=this.option("rtlEnabled")?-1:1;t=e==="nextInRow"||e==="next"?r*n:r*n*-1}return t},_editingCellTabHandler:function(e,t){var i=e.originalEvent.target,r=this._getCellElementFromTarget(i),n,a=e.originalEvent,s=this._getElementType(i);if(r.is(RE))return!this._targetCellTabHandler(e,t);this._updateFocusedCellPosition(r);var o=this._getNextCellByTabKey(a,t,s);if(r=o.$cell,!r||this._handleTabKeyOnMasterDetailCell(r,t))return!1;var l=this._columnsController,u=this.getView("rowsView").getCellIndex(r),d=u+l.getColumnIndexOffset(),c=l.getVisibleColumns(null,!0)[d],h=r.parent(),f=this._getRowIndex(h),p=this._dataController.items()[f],g=this._editingController;if(c&&c.allowEditing){var m=!p||p.rowType==="data";n=g.allowUpdating({row:p})?m:p&&p.isNewRow}return n||this._closeEditCell(),this._focusCell(r,!o.isHighlighted)&&(!this._isRowEditMode()&&n?this._editFocusedCell():this._focusInteractiveElement(r,e.shift)),!0},_targetCellTabHandler:function(e,t){var i=e.originalEvent,r=i.target,n=this._getCellElementFromTarget(r),a=this._getInteractiveElement(n,!e.shift),s=!1,o;if(!HE(this,n)&&a.length&&r!==a.get(0))s=!0;else{this._focusedCellPosition.rowIndex===void 0&&J(r).hasClass(Ho)&&this._updateFocusedCellPosition(n),o=this._getElementType(r),this.isRowFocusType()&&(this.setCellFocusType(),o==="row"&&iu(J(r))&&(r=this.getFirstValidCellInRow(J(r)),o=this._getElementType(r)));var l=this._getNextCellByTabKey(i,t,o);if(n=l.$cell,!n||(n=this._checkNewLineTransition(i,n),!n))return!1;this._focusCell(n,!l.isHighlighted),HE(this,n)||this._focusInteractiveElement(n,e.shift)}return s},_getNextCellByTabKey:function(e,t,i){var r=this._getNextCell(t,i),n=r&&this._fireFocusedCellChanging(e,r,!0);return!n||n.cancel?{}:(n.$newCellElement&&(r=n.$newCellElement),{$cell:r,isHighlighted:n.isHighlighted})},_checkNewLineTransition:function(e,t){var i=this.getVisibleRowIndex(),r=t.parent();if(i!==this._getRowIndex(r)){var n=this._getCellPosition(t),a=this._fireFocusedRowChanging(e,r);if(a.cancel)return;a.rowIndexChanged&&(this.setFocusedColumnIndex(n.columnIndex),t=this._getFocusedCell())}return t},_enterKeyHandler:function(e,t){var i=this._getFocusedCell(),r=this.getVisibleRowIndex(),n=this._focusedView&&this._focusedView.getRow(r);if(this.option("grouping.allowCollapsing")&&Jo(n)||this.option("masterDetail.enabled")&&i&&i.hasClass(Gh)){var a=this._dataController.getKeyByRowIndex(r),s=this._dataController.items()[r];a!==void 0&&s&&s.data&&!s.data.isContinuation&&this._dataController.changeRowExpand(a)}else this._processEnterKeyForDataCell(e,t)},_processEnterKeyForDataCell:function(e,t){var i=this._getEnterKeyDirection(e),r=this._allowEditingOnEnterKey();t||!r&&i?(this._handleEnterKeyEditingCell(e.originalEvent),i==="next"||i==="previous"?this._targetCellTabHandler(e,i):(i==="upArrow"||i==="downArrow")&&this._navigateNextCell(e.originalEvent,i)):r&&this._startEditing(e)},_getEnterKeyDirection:function(e){var t=this.option("keyboardNavigation.enterKeyDirection"),i=e.shift;if(t==="column")return i?"upArrow":"downArrow";if(t==="row")return i?"previous":"next"},_handleEnterKeyEditingCell:function(e){var t=e.target,i=this._getCellElementFromTarget(t),r=this._isRowEditMode();this._updateFocusedCellPosition(i),r?(this._focusEditFormCell(i),setTimeout(this._editingController.saveEditData.bind(this._editingController))):(he.trigger(J(t),"change"),this._closeEditCell(),e.preventDefault())},_escapeKeyHandler:function(e,t){var i=this._getCellElementFromTarget(e.originalEvent.target);t&&(this._updateFocusedCellPosition(i),this._isRowEditMode()?(this._focusEditFormCell(i),this._editingController.cancelEditData(),this._dataController.items().length===0&&(this._resetFocusedCell(),this._editorFactory.loseFocus())):this._editingController.getEditMode()==="cell"?this._editingController.cancelEditData():this._closeEditCell(),e.originalEvent.preventDefault())},_ctrlFKeyHandler:function(e){if(this.option("searchPanel.visible")){var t=this._headerPanel.getSearchTextEditor();t&&(t.focus(),e.originalEvent.preventDefault())}},_f2KeyHandler:function(){var e=this._editingController.isEditing(),t=this.getVisibleRowIndex(),i=this._focusedView&&this._focusedView.getRow(t);!e&&iu(i)&&this._startEditing()},_navigateNextCell:function(e,t){var i=this._getNextCell(t),r=this._getDirectionCodeByKey(t),n=i&&this._isCellValid(i),a=n?this._arrowKeysHandlerFocusCell(e,i,r):!1;return a},_arrowKeysHandlerFocusCell:function(e,t,i){var r=i==="prevRow"||i==="nextRow",n=this._fireFocusChangingEvents(e,t,r,!0);return t=n.$newCellElement,!n.cancel&&this._isCellValid(t)?(this._focus(t,!n.isHighlighted),!0):!1},_beginFastEditing:function(e,t){if(!this._isFastEditingAllowed()||e.altKey||e.ctrlKey||this._editingController.isEditing())return!1;if(t)this._startEditing(e,$g);else{var i=e.key,r=e.keyCode||e.which,n=i||r&&String.fromCharCode(r);n&&(n.length===1||n===$g)&&this._startEditing(e,n)}return!0},_pointerEventHandler:function(e){var t=e.event||e,i=J(t.currentTarget),r=this.getView("rowsView"),n=r&&r.element(),a=i.parent(),s=J(t.target).is(yc),o=!!J(t.target).closest(".".concat(Nne)).length,l=i.hasClass(Gh);this._isEventInCurrentGrid(t)&&(!o&&(this._isCellValid(i,!s)||l)?(i=this._isInsideEditForm(i)?J(t.target):i,this._focusView(),J(n).removeClass(ME),a.hasClass(yR)?(this._updateFocusedCellPosition(i),this._applyTabIndexToElement(this._focusedView.element()),this._focusedView.focus(!0)):this._isMasterDetailCell(i)?this._updateFocusedCellPosition(i):this._clickTargetCellHandler(t,i)):i.is("td")&&this._resetFocusedCell())},_clickTargetCellHandler:function(e,t){var i=this.getView("rowsView").getCellIndex(t),r=this._columnsController.getVisibleColumns()[i],n=this._isCellEditMode();this.setCellFocusType();var a=this._fireFocusChangingEvents(e,t,!0);if(t=a.$newCellElement,a.cancel)this.setRowFocusType(),this.setFocusedRowIndex(a.prevRowIndex),this._editingController.isEditing()&&n&&this._closeEditCell();else{if(a.resetFocusedRow){this.getController("focus")._resetFocusedRow();return}if(a.rowIndexChanged&&(t=this._getFocusedCell()),!a.isHighlighted&&!n&&this.setRowFocusType(),this._updateFocusedCellPosition(t),this._allowRowUpdating()&&n&&r&&r.allowEditing)this._isNeedFocus=!1,this._isHiddenFocus=!1;else{t=this._getFocusedCell();var s=e&&J(e.target).closest(BE+", td"),o=s&&s.not(t).is(BE),l=!!r&&!r.command&&t.hasClass(CR),u=!l&&(!a.isHighlighted||o);this._focus(t,u,o)}}},_allowRowUpdating:function(){var e=this.getVisibleRowIndex(),t=this._dataController.items()[e];return this._editingController.allowUpdating({row:t},"click")},focus:function(e){var t,i=this.option("focusedRowEnabled"),r=gu(J(e));e||(t=".dx-datagrid-rowsview .dx-row[tabindex]",i||(t+=", .dx-datagrid-rowsview .dx-row > td[tabindex]"),e=this.component.$element().find(t).first()),e&&this._focusElement(J(e),r)},getFocusedView:function(){return this._focusedView},setupFocusedView:function(){this.isKeyboardEnabled()&&!oe(this._focusedView)&&this._focusView()},_focusElement:function(e,t){var i=J(this._getRowsViewElement()),r=e.closest(i),n=this.isRowFocusType(),a={};!r.length||gu(e)&&!this._isCellValid(e)||(this._focusView(),this._isNeedFocus=!0,this._isNeedScroll=!0,(gu(e)||Jo(e))&&(this.setCellFocusType(),a=this._fireFocusChangingEvents(null,e,!1,t),e=a.$newCellElement,n&&!a.isHighlighted&&this.setRowFocusType()),a.cancel||(this._focus(e,!a.isHighlighted),this._focusInteractiveElement(e)))},_getFocusedViewByElement:function(e){var t=this.getFocusedView(),i=t&&J(t.element());return e&&e.closest(i).length!==0},_focusView:function(){this._focusedView=this.getView("rowsView")},_resetFocusedView:function(){this.setRowFocusType(),this._focusedView=null},_focusInteractiveElement:function(e,t){if(e){var i=this._getInteractiveElement(e,t);Fe.focusAndSelectElement(this,i)}},_focus:function(e,t,i){var r=e&&!e.hasClass(Ho)?e.closest(".".concat(Ho)):e;if(!(r&&$ne(r))){var n=this._focusedView,a=n&&n.element(),s;this._isHiddenFocus=t;var o=Jo(r)||this.isRowFocusType();o?(s=r,n&&this.setFocusedRowIndex(this._getRowIndex(r))):gu(e)&&(s=e,this._updateFocusedCellPosition(e)),s&&(a&&a.find(".dx-row[tabindex], .dx-row > td[tabindex]").not(s).removeClass(Kh).removeAttr("tabindex"),he.one(s,"blur",l=>{l.relatedTarget&&s.removeClass(Kh)}),i||(this._applyTabIndexToElement(s),he.trigger(s,"focus")),t?(s.addClass(Kh),o&&e.addClass(Kh)):this._editorFactory.focus(s))}},_updateFocus:function(e){this._updateFocusTimeout=setTimeout(()=>{var t=this._editingController,i=t.getEditMode()===LE,r=t.getEditMode()===PE;if(i&&t.hasChanges()||r&&t.isNewRowInEditMode()){t._focusEditingCell();return}var n=this._getFocusedCell(),a=t.isEditing();if(n&&!(this._isMasterDetailCell(n)&&!this._isRowEditMode())){if(this._hasSkipRow(n.parent())){var s=this._focusedCellPosition&&this._focusedCellPosition.rowIndex>0?"upArrow":"downArrow";n=this._getNextCell(s)}if(Wr(n))if(n.is("td")||n.hasClass(this.addWidgetPrefix(kne))){var o=n.is(RE),l=n.find(":focus"),u=Wr(l);if((e||!o)&&this._editorFactory.focus()){if(o&&u){Fe.focusAndSelectElement(this,l);return}!u&&this._focus(n)}else!u&&(this._isNeedFocus||this._isHiddenFocus)&&this._focus(n,this._isHiddenFocus);a&&this._focusInteractiveElement.bind(this)(n)}else he.trigger(n,"focus")}})},_getFocusedCell:function(){return J(this._getCell(this._focusedCellPosition))},_updateFocusedCellPositionByTarget:function(e){var t,i=this._getElementType(e);if(i==="row"&&oe((t=this._focusedCellPosition)===null||t===void 0?void 0:t.columnIndex)){var r=J(e);this._focusedView&&Jo(r)&&this.setFocusedRowIndex(this._getRowIndex(r))}else this._updateFocusedCellPosition(this._getCellElementFromTarget(e))},_updateFocusedCellPosition:function(e,t){var i=this._getCellPosition(e,t);return i&&(!e.length||i.rowIndex>=0&&i.columnIndex>=0)&&this.setFocusedCellPosition(i.rowIndex,i.columnIndex),i},_getFocusedColumnIndexOffset:function(e){var t=0,i=this._columnsController.getVisibleColumns()[e];return i&&i.fixed?t=this._getFixedColumnIndexOffset(i):e>=0&&(t=this._columnsController.getColumnIndexOffset()),t},_getFixedColumnIndexOffset:function(e){var t=zne(this,e)?this._getVisibleColumnCount()-this._columnsController.getVisibleColumns().length:0;return t},_getCellPosition:function(e,t){var i,r=Wr(e)&&e.closest("tr"),n=this.getView("rowsView");if(Wr(r)){var a=this._getRowIndex(r);return i=n.getCellIndex(e,a),i+=this._getFocusedColumnIndexOffset(i),t&&(i=t==="previous"?i-1:i+1,i=this._applyColumnIndexBoundaries(i)),{rowIndex:a,columnIndex:i}}},_focusCell:function(e,t){if(this._isCellValid(e))return this._focus(e,t),!0},_focusEditFormCell:function(e){e.hasClass(kE)&&this._editorFactory.focus(e,!0)},_resetFocusedCell:function(e){var t,i=this._getFocusedCell();Wr(i)&&i.removeAttr("tabindex"),this._isNeedFocus=!1,this._isNeedScroll=!1,this._focusedCellPosition={},clearTimeout(this._updateFocusTimeout),(t=this._focusedView)===null||t===void 0||t.renderFocusState({preventScroll:e})},restoreFocusableElement:function(e,t){var i,r,n=oe(e),a=this.getView("rowsView"),s=a.element(),o=this._focusedCellPosition.columnIndex,l=this._dataController.getRowIndexOffset();e=n?e:a.getTopVisibleItemIndex()+l,n?(r=a.getRow(e-l),i=this._fireFocusedRowChanging(t,r),!i.cancel&&i.rowIndexChanged&&(e=i.newRowIndex)):(this._editorFactory.loseFocus(),this._applyTabIndexToElement(s),he.trigger(s,"focus")),(!n||!i.cancel)&&this.setFocusedCellPosition(e,o),n&&this._updateFocus()},_getNewPositionByCode:function(e,t,i){var r=e.columnIndex,n=e.rowIndex,a;if(e.rowIndex===void 0&&i==="next")return{columnIndex:0,rowIndex:0};switch(i){case"nextInRow":case"next":a=this._getVisibleColumnCount(),r<a-1&&t!=="row"&&this._hasValidCellAfterPosition({columnIndex:r,rowIndex:n})?r++:!this._isLastRow(n)&&i==="next"&&(r=0,n++);break;case"previousInRow":case"previous":r>0&&t!=="row"&&this._hasValidCellBeforePosition({columnIndex:r,rowIndex:n})?r--:n>0&&i==="previous"&&(n--,a=this._getVisibleColumnCount(),r=a-1);break;case"upArrow":n=n>0?n-1:n;break;case"downArrow":n=this._isLastRow(n)?n:n+1}return{columnIndex:r,rowIndex:n}},setFocusedCellPosition:function(e,t){this.setFocusedRowIndex(e),this.setFocusedColumnIndex(t)},setFocusedRowIndex:function(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.rowIndex=e},setFocusedColumnIndex:function(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.columnIndex=e},getRowIndex:function(){return this._focusedCellPosition?this._focusedCellPosition.rowIndex:-1},getColumnIndex:function(){return this._focusedCellPosition?this._focusedCellPosition.columnIndex:-1},getVisibleRowIndex:function(){var e=this._focusedCellPosition&&this._focusedCellPosition.rowIndex;return!oe(e)||e<0?-1:e-this._dataController.getRowIndexOffset()},getVisibleColumnIndex:function(){var e=this._focusedCellPosition&&this._focusedCellPosition.columnIndex;return oe(e)?e-this._columnsController.getColumnIndexOffset():-1},_applyColumnIndexBoundaries:function(e){var t=this._getVisibleColumnCount();return e<0?e=0:e>=t&&(e=t-1),e},_isCellByPositionValid:function(e){var t=J(this._getCell(e));return this._isCellValid(t)},_isLastRow:function(e){var t=this._dataController,i=t.items().filter(r=>r.visible!==!1);return this._isVirtualRowRender()?e>=t.getMaxRowIndex():e===i.length-1},_isFirstValidCell:function(e){var t=!1;return e.rowIndex===0&&e.columnIndex>=0&&(t=t||!this._hasValidCellBeforePosition(e)),t},_hasValidCellBeforePosition:function(e){for(var t=e.columnIndex,i=!1;t>0&&!i;){var r={columnIndex:--t,rowIndex:e.rowIndex};i=this._isCellByPositionValid(r)}return i},_hasValidCellAfterPosition:function(e){for(var t=e.columnIndex,i=!1,r=this._getVisibleColumnCount();t<r-1&&!i;){var n={columnIndex:++t,rowIndex:e.rowIndex};i=this._isCellByPositionValid(n)}return i},_isLastValidCell:function(e){var t=e.columnIndex>=0?e.columnIndex+1:0,i=e.rowIndex,r={columnIndex:t,rowIndex:i},n=this._dataController.getVisibleRows(),a=n&&n[i],s=this._isLastRow(i);return s?a&&a.rowType==="group"&&e.columnIndex>0||e.columnIndex===this._getVisibleColumnCount()-1?!0:this._isCellByPositionValid(r)?!1:this._isLastValidCell(r):!1},_isCellValid:function(e,t){if(Wr(e)){var i=this.getView("rowsView"),r=e.parent(),n=this._columnsController,a=i.getCellIndex(e)+n.getColumnIndexOffset(),s=n.getVisibleColumns(null,!0)[a],o=this._getVisibleColumnCount(),l=this._editingController,u=Cc(r),d=s&&s.showWhenGrouped,c=s&&!e.hasClass(Gh)&&iu(r);if(this._isMasterDetailCell(e))return!0;if(o>a&&(!u&&s&&(!oe(s.groupIndex)||d&&c)||parseInt(e.attr("colspan"))>1)){var h=this._dataController.items(),f=i.getRowIndex(r),p=h[f],g=l&&this._isCellEditMode()&&l.isEditing(),m=l&&l.isEditRow(f),v=m||g;return s.command?this._isLegacyNavigation()?!v&&s.command==="expand":g?!1:m?s.command!=="select":!v:g&&p&&p.rowType!=="data"?!1:!v||s.allowEditing||t}}},getFirstValidCellInRow:function(e,t){var i=e.find("> td"),r,n;t=t||0;for(var a=t;a<i.length;++a)if(r=i.eq(a),this._isCellValid(r)){n=r;break}return n},_getNextCell:function(e,t,i){var r=i||this._focusedCellPosition,n=this.isRowFocusType(),a=n||["next","previous"].includes(e),s,o;if(this._focusedView&&r){var l=this._getNewPositionByCode(r,t,e);s=J(this._getCell(l));var u=e==="previous"?this._isFirstValidCell(l):this._isLastValidCell(l);if(Wr(s)&&!this._isCellValid(s)&&this._isCellInRow(l,a)&&!u&&(n?s=this.getFirstValidCellInRow(s.parent(),l.columnIndex):s=this._getNextCell(e,"cell",l)),o=Wr(s)&&s.parent(),this._hasSkipRow(o)){var d=this._getRowIndex(o);if(!this._isLastRow(d))s=this._getNextCell(e,"row",{columnIndex:r.columnIndex,rowIndex:d});else return null}return Wr(s)?s:null}return null},_startEditing:function(e,t){var i=this._focusedCellPosition,r=this.getVisibleRowIndex(),n=this.getVisibleColumnIndex(),a=this._dataController.items()[r],s=this._columnsController.getVisibleColumns()[n];this._isAllowEditing(a,s)&&(this._isRowEditMode()?this._editingController.editRow(r):i&&this._startEditCell(e,t))},_isAllowEditing:function(e,t){return this._editingController.allowUpdating({row:e})&&t&&t.allowEditing},_editFocusedCell:function(){var e=this.getVisibleRowIndex(),t=this.getVisibleColumnIndex();return this._editingController.editCell(e,t)},_startEditCell:function(e,t){this._fastEditingStarted=oe(t);var i=this._editFocusedCell();if(this._isFastEditingStarted()){if(i===!0)this._editingCellHandler(e,t);else if(i&&i.done){var r=t!==$g?t:"";i.done(()=>this._editingCellHandler(e,r))}}},_editingCellHandler:function(e,t){var i,r,n=this._getFocusedCell().find(yc).eq(0),a=Na(e,{type:"keydown",target:n.get(0)}),s=Na(e,{type:"keypress",target:n.get(0)}),o=Na(e,{type:"input",target:n.get(0)});if(o.originalEvent&&(o.originalEvent=Na(o.originalEvent,{data:t})),(i=(r=n.get(0)).select)===null||i===void 0||i.call(r),he.trigger(n,a),!a.isDefaultPrevented()&&(he.trigger(n,s),!s.isDefaultPrevented())){var l=ri.mozilla?25:0;setTimeout(()=>{n.val(t);var u=n.closest(".".concat(Fne));he.off(u,"focusout"),he.one(u,"focusout",function(){he.trigger(n,"change")}),he.trigger(n,o)},l)}},_fireFocusChangingEvents:function(e,t,i,r){var n={},a=this._getCellPosition(t)||{};return this.isCellFocusType()&&(n=this._fireFocusedCellChanging(e,t,r),n.cancel||(a.columnIndex=n.newColumnIndex,a.rowIndex=n.newRowIndex,r=n.isHighlighted,t=J(this._getCell(a)))),!n.cancel&&i&&t&&(n=this._fireFocusedRowChanging(e,t.parent()),n.cancel||(a.rowIndex=n.newRowIndex,n.isHighlighted=r)),n.$newCellElement=J(this._getCell(a)),n.$newCellElement.length||(n.$newCellElement=t),n},_fireFocusedCellChanging:function(e,t,i){var r=this.option("focusedColumnIndex"),n=this.option("focusedRowIndex"),a=this._getCellPosition(t),s=a?a.columnIndex:-1,o=a?a.rowIndex:-1,l={cellElement:t,prevColumnIndex:r,prevRowIndex:n,newColumnIndex:s,newRowIndex:o,rows:this._dataController.getVisibleRows(),columns:this._columnsController.getVisibleColumns(),event:e,isHighlighted:i||!1,cancel:!1};return this._canceledCellPosition=null,this.executeAction("onFocusedCellChanging",l),(l.newColumnIndex!==s||l.newRowIndex!==o)&&(l.$newCellElement=J(this._getCell({columnIndex:l.newColumnIndex,rowIndex:l.newRowIndex}))),l.cancel&&(this._canceledCellPosition={rowIndex:o,columnIndex:s}),l},_fireFocusedCellChanged:function(e,t,i){var r=this._dataController,n=this.getView("rowsView").getCellIndex(e),a=this._getRowIndex(e&&e.parent()),s=Math.min(a-r.getRowIndexOffset(),r.items().length-1),o=this._editingController.isEditCell(s,n),l=r.items()[s];!o&&(t!==n||i!==a)&&this.executeAction("onFocusedCellChanged",{cellElement:e,columnIndex:n,rowIndex:a,row:l,column:this._columnsController.getVisibleColumns()[n]})},_fireFocusedRowChanging:function(e,t){var i=this._getRowIndex(t),r=this._dataController,n=this.option("focusedRowIndex"),a=r.loadingOperationTypes(),s={rowElement:t,prevRowIndex:n,newRowIndex:i,event:e,rows:r.getVisibleRows(),cancel:!1};return!r||r.isLoading()&&(a.reload||a.paging)?(s.cancel=!0,s):(this.option("focusedRowEnabled")&&(this.executeAction("onFocusedRowChanging",s),!s.cancel&&s.newRowIndex!==i&&(s.resetFocusedRow=s.newRowIndex<0,s.resetFocusedRow||this.setFocusedRowIndex(s.newRowIndex),s.rowIndexChanged=!0)),s)},_fireFocusedRowChanged:function(e){var t,i=this.option("focusedRowKey"),r=this.getController("focus"),n=r==null?void 0:r.getFocusedRowIndexByKey(i);if(this.option("focusedRowEnabled")){if(n>=0){var a=this._dataController;t=n>=0&&a.getVisibleRows()[n-a.getRowIndexOffset()]}this.executeAction("onFocusedRowChanged",{rowElement:e,rowIndex:n,row:t})}},_isEventInCurrentGrid:function(e){return Fe.isElementInCurrentGrid(this,J(e.target))},_isRowEditMode:function(){var e=this._editingController.getEditMode();return e===Vne||e===wR},_isCellEditMode:function(){var e=this._editingController.getEditMode();return e===LE||e===PE},_isFastEditingAllowed:function(){return this._isCellEditMode()&&this.option("keyboardNavigation.editOnKeyPress")},_getInteractiveElement:function(e,t){var i=e.find(yc).filter(":visible");return t?i.last():i.first()},_applyTabIndexToElement:function(e){var t=this.option("tabIndex")||0;e.attr("tabindex",oe(t)?t:0)},_getCell:function(e){if(this._focusedView&&e){var t=this._dataController.getRowIndexOffset(),i=this._columnsController.getVisibleColumns(null,!0)[e.columnIndex],r=i&&i.fixed?this._getFixedColumnIndexOffset(i):this._columnsController.getColumnIndexOffset(),n=e.rowIndex>=0?e.rowIndex-t:-1,a=e.columnIndex>=0?e.columnIndex-r:-1;return this._focusedView.getCell({rowIndex:n,columnIndex:a})}},_getRowIndex:function(e){var t=this.getView("rowsView"),i=t.getRowIndex(e);return i>=0&&(i+=this._dataController.getRowIndexOffset()),i},_hasSkipRow:function(e){var t=e&&e.get(0);return t&&(t.style.display==="none"||e.hasClass(this.addWidgetPrefix(Ine))||Cc(e)&&!e.hasClass(this.addWidgetPrefix(DE)))},_allowEditingOnEnterKey:function(){return this.option("keyboardNavigation.enterKeyAction")==="startEdit"},_isLegacyNavigation:function(){return this.option("useLegacyKeyboardNavigation")},_getDirectionCodeByKey:function(e){var t;switch(e){case"upArrow":t="prevRow";break;case"downArrow":t="nextRow";break;case"leftArrow":t=this.option("rtlEnabled")?"nextInRow":"previousInRow";break;case"rightArrow":t=this.option("rtlEnabled")?"previousInRow":"nextInRow"}return t},_isVirtualScrolling:function(){var e=this.option("scrolling.mode");return e==="virtual"||e==="infinite"},_isVirtualRowRender:function(){return this._isVirtualScrolling()||Fe.isVirtualRowRendering(this)},_isVirtualColumnRender:function(){return this.option("scrolling.columnRenderingMode")==="virtual"},_scrollBy:function(e,t,i,r){var n=this,a=this.getView("rowsView").getScrollable();return n._focusedCellPosition&&a.on("scroll",function s(){a.off("scroll",s),setTimeout(n.restoreFocusableElement.bind(n,i,r))}),a.scrollBy({left:e,top:t})},_isInsideEditForm:function(e){var t=J(e).closest("."+this.addWidgetPrefix(DE));return t.length&&this.elementIsInsideGrid(t)},_isMasterDetailCell:function(e){var t=J(e).closest("."+kE);return t.length&&this.elementIsInsideGrid(t)},_processNextCellInMasterDetail:function(e){!this._isInsideEditForm(e)&&e&&this._applyTabIndexToElement(e)},_handleTabKeyOnMasterDetailCell:function(e,t){if(this._isMasterDetailCell(e)){this._updateFocusedCellPosition(J(e),t);var i=this._getNextCell(t,"row");return this._processNextCellInMasterDetail(i),!0}return!1},_getElementType:function(e){return J(e).is("tr")?"row":"cell"},_isFastEditingStarted:function(){return this._isFastEditingAllowed()&&this._fastEditingStarted},_getVisibleColumnCount:function(){return this._columnsController.getVisibleColumns(null,!0).length},_isCellInRow:function(e,t){var i=e.columnIndex,r=this._getVisibleColumnCount();return t?i>=0&&i<=r-1:i>0&&i<r-1},_getCellElementFromTarget:function(e){var t=this._getElementType(e),i=J(e),r;return t==="cell"?r=i.closest(".".concat(Ho," > td")):r=i.children().not("."+Gh).first(),r},_getRowsViewElement:function(){var e=this.getView("rowsView");return e&&e.element()},isKeyboardEnabled:function(){return this.option("keyboardNavigation.enabled")},_processCanceledEditCellPosition:function(e,t){if(this._canceledCellPosition){var i=this._canceledCellPosition.rowIndex===e&&this._canceledCellPosition.columnIndex===t;return this._canceledCellPosition=null,i}},updateFocusedRowIndex:function(){var e=this._dataController,t=this.getVisibleRowIndex(),i=e.items(),r=i.length?i.length-1:-1,n=e.getRowIndexOffset();r>=0&&t>r&&this.setFocusedRowIndex(r+n)}}),Une={defaultOptions:function(){return{useLegacyKeyboardNavigation:!1,keyboardNavigation:{enabled:!0,enterKeyAction:"startEdit",enterKeyDirection:"none",editOnKeyPress:!1}}},controllers:{keyboardNavigation:jne},extenders:{views:{rowsView:{_rowClick:function(e){var t=this.getController("editing").getEditRowIndex(),i=this.getController("keyboardNavigation"),r=i.isKeyboardEnabled();t===e.rowIndex&&i.setCellFocusType();var n=(SR()||!r)&&this.option("focusedRowEnabled");n&&this._triggerPointerDownEventHandler(e,!r),this.callBase.apply(this,arguments)},_triggerPointerDownEventHandler:function(e,t){var i=e.event.originalEvent;if(i){var r=this.getController("keyboardNavigation"),n=J(i.target),a=this.getCellIndex(n),s=this.getController("columns").getVisibleColumns()[a],o=this.getController("data").items()[e.rowIndex];if(r._isAllowEditing(o,s)||t){var l=Na(i,{currentTarget:i.target});r._pointerEventHandler(l)}}},renderFocusState:function(e){var{preventScroll:t,pageSizeChanged:i}=e??{},r=this.getController("keyboardNavigation"),n=this.element();n&&!Ya(n)&&n.attr("tabindex",null),i&&r.updateFocusedRowIndex();var a=r.getVisibleRowIndex();(!oe(a)||a<0)&&(a=0);var s=this.getCellElements(a);r.isKeyboardEnabled()&&s.length&&this.updateFocusElementTabIndex(s,t)},updateFocusElementTabIndex:function(e){var t=this.getController("keyboardNavigation"),i=e.eq(0).parent();if(Jo(i))t._applyTabIndexToElement(i);else{var r=t.getColumnIndex();(!oe(r)||r<0)&&(r=0),this._updateFocusedCellTabIndex(e,r)}},_updateFocusedCellTabIndex:function(e,t){var i=this.getController("keyboardNavigation"),r=e?e.length:-1,n=function(o){var l=i._isMasterDetailCell(o),u=i._isCellValid(o);if(!l&&u&&gu(o))return i._applyTabIndexToElement(o),i.setCellFocusType(),!0},a=e.filter("[aria-colindex='".concat(t+1,"']"));if(a.length)n(a);else{r<=t&&(t=r-1);for(var s=t;s<r&&!n(J(e[s]));++s);}},renderDelayedTemplates:function(e){this.callBase.apply(this,arguments),this._renderFocusByChange(e)},_renderFocusByChange(e){var{operationTypes:t,repaintChangesOnly:i}=e??{},{fullReload:r,pageSize:n}=t??{};if(!e||!i||r||n){var a=Wne(this);this.renderFocusState({preventScroll:a,pageSizeChanged:n})}},_renderCore:function(e){this.callBase.apply(this,arguments),this._renderFocusByChange(e)},_editCellPrepared:function(e){var t=this._getEditorInstance(e),i=this.getController("keyboardNavigation"),r=i&&i._isFastEditingStarted();t&&r&&this._handleEditingNavigationMode(t),this.callBase.apply(this,arguments)},_handleEditingNavigationMode:function(e){["downArrow","upArrow"].forEach(function(i){var r=e._supportedKeys()[i];e.registerKeyHandler(i,n=>{var a=e._input().attr("aria-expanded")==="true";if(a)return r&&r.call(e,n)})}),e.registerKeyHandler("leftArrow",Ee),e.registerKeyHandler("rightArrow",Ee);var t=e.NAME===Lne&&e.option("useMaskBehavior");t&&e.registerKeyHandler("enter",Ee)},_getEditorInstance:function(e){var t=e.find(".dx-texteditor").eq(0);return Fe.getWidgetInstance(t)}}},controllers:{editing:{editCell:function(e,t){var i=this.getController("keyboardNavigation");if(i._processCanceledEditCellPosition(e,t))return!1;var r=this.callBase(e,t);return r&&i.setupFocusedView(),r},editRow:function(e){var t=this.getController("keyboardNavigation"),i=t.getVisibleColumnIndex(),r=this._columnsController.getVisibleColumns()[i];(r&&r.type||this.option("editing.mode")===wR)&&t._resetFocusedCell(),this.callBase(e)},addRow:function(e){var t=this.getController("keyboardNavigation");return t.setupFocusedView(),t.setCellFocusType(),this.callBase.apply(this,arguments)},getFocusedCellInRow:function(e){var t=this.getController("keyboardNavigation"),i=this.callBase(e);if(t.isKeyboardEnabled()&&t._focusedCellPosition.rowIndex===e){var r=t._getFocusedCell();Wr(r)&&!r.hasClass(Pne)&&(i=r)}return i},_processCanceledEditingCell:function(){this.closeEditCell().done(()=>{var e=this.getController("keyboardNavigation");e._updateFocus()})},init:function(){this.callBase(),this._keyboardNavigationController=this.getController("keyboardNavigation")},closeEditCell:function(){var e=this._keyboardNavigationController;e._fastEditingStarted=!1;var t=this.callBase.apply(this,arguments);return e._updateFocus(),t},_delayedInputFocus:function(){this._keyboardNavigationController._isNeedScroll=!0,this.callBase.apply(this,arguments)},_isEditingStart:function(){var e=this.getController("keyboardNavigation"),t=this.callBase.apply(this,arguments);if(t&&!e._isNeedFocus){var i=e._getFocusedCell();e._focus(i,!0)}return t}},data:{_correctRowIndices:function(e){var t=this,i=t.getController("keyboardNavigation"),r=t.getController("editorFactory"),n=i._focusedCellPosition;if(t.callBase.apply(t,arguments),n&&n.rowIndex>=0){var a=e(n.rowIndex);a&&(n.rowIndex+=a,r.refocus())}},getMaxRowIndex:function(){var e=this.items().length-1,t=this.virtualItemsCount();if(t){var i=this.getRowIndexOffset();e+=i+t.end}return e}},adaptiveColumns:{_showHiddenCellsInView:function(e){var{viewName:t,$cells:i,isCommandColumn:r}=e;this.callBase.apply(this,arguments),t===VE&&!r&&i.each((n,a)=>{var s=J(a);$E(s)&&s.attr("tabindex",0)})},_hideVisibleCellInView:function(e){var{viewName:t,$cell:i,isCommandColumn:r}=e;this.callBase.apply(this,arguments),t===VE&&!r&&$E(i)&&i.removeAttr("tabindex")}}}}};qe.registerModule("keyboardNavigation",Une);function __(e,t,i,r){var n=0;if(e<t)for(;n<i.items.length;n++)__(e+1,t,i.items[n],r);e===t&&r(i)}function qh(e,t){var i;if("map"in e)return e.map(t);var r=new Array(e.length);for(i in e)r[i]=t(e[i],i);return r}function Gne(e){return e!==e||e===""||e===null||e===void 0}function Kne(e){return e===C0.count}function zE(e){var t=Yt(e.selector),i="skipEmptyValues"in e?e.skipEmptyValues:!0,r=e.aggregator;if(typeof r=="string"&&(r=C0[r],!r))throw Mi.Error("E4001",e.aggregator);return{selector:t,aggregator:r,skipEmptyValues:i}}const qne=Ot.inherit({ctor:function(e){this._data=e.data,this._groupLevel=e.groupLevel||0,this._totalAggregates=qh(e.totalAggregates||[],zE),this._groupAggregates=qh(e.groupAggregates||[],zE),this._totals=[]},calculate:function(){this._totalAggregates.length&&this._calculateTotals(0,{items:this._data}),this._groupAggregates.length&&this._groupLevel>0&&this._calculateGroups({items:this._data})},totalAggregates:function(){return this._totals},_aggregate:function(e,t,i){for(var r=t.items?t.items.length:0,n=0;n<e.length;n++){if(Kne(e[n].aggregator)){i[n]=(i[n]||0)+r;continue}for(var a=0;a<r;a++)this._accumulate(n,e[n],i,t.items[a])}},_calculateTotals:function(e,t){if(e===0&&(this._totals=this._seed(this._totalAggregates)),e===this._groupLevel)this._aggregate(this._totalAggregates,t,this._totals);else for(var i=0;i<t.items.length;i++)this._calculateTotals(e+1,t.items[i]);e===0&&(this._totals=this._finalize(this._totalAggregates,this._totals))},_calculateGroups:function(e){var t=this._groupLevel,i=t+1,r=this._seed.bind(this,this._groupAggregates),n=this._aggregate.bind(this,this._groupAggregates),a=this._finalize.bind(this,this._groupAggregates);function s(o){o.aggregates=r(i-1),i===t?n(o,o.aggregates):__(i,t,o,function(l){n(l,o.aggregates)}),o.aggregates=a(o.aggregates)}for(;--i>0;)__(0,i,e,s)},_seed:function(e,t){return qh(e,function(i){var r=i.aggregator,n="seed"in r?We(r.seed)?r.seed(t):r.seed:NaN;return n})},_accumulate:function(e,t,i,r){var n=t.selector(r),a=t.aggregator,s=t.skipEmptyValues;s&&Gne(n)||(i[e]!==i[e]?i[e]=n:i[e]=a.step(i[e],n))},_finalize:function(e,t){return qh(e,function(i,r){var n=i.aggregator.finalize;return n?n(t[r]):t[r]})}});var Xne="dx-datagrid-total-footer",Yne="dx-datagrid-summary-item",Zne="dx-datagrid-text-content",Jne="dx-datagrid-group-footer",Qne="dx-datagrid-group-text-content",eae="dx-datagrid-nowrap",tae="dx-footer-row",zg="groupFooter",ER="totalFooter",TR=function(e,t){var i=J(e),r=t.column,n=t.summaryItems,a=[];if(!r.command&&n){for(var s=0;s<n.length;s++){var o=n[s];a.push(J("<div>").css("textAlign",o.alignment||r.alignment).addClass(Yne).addClass(Zne).addClass(o.cssClass).toggleClass(Qne,t.rowType==="group").text(qe.getSummaryText(o,t.summaryTexts)))}i.append(a)}},IR=function(e,t){var i=e.option("summary.texts")||{};return{totalItem:t.row,summaryItems:t.row.summaryCells[t.columnIndex],summaryTexts:i}},Wg=function(e){return e.summary||e.aggregates||[]},b_=function(e){return e.option("summary.recalculateWhileEditing")},iae=yd.inherit({_getRows:function(){return this._dataController.footerItems()},_getCellOptions:function(e){return ce(this.callBase(e),IR(this,e))},_renderCellContent:function(e,t){TR(e,t),this.callBase.apply(this,arguments)},_renderCore:function(e){var t=!1,i=this._dataController.footerItems()[0];(!e||!e.columnIndices)&&(this.element().empty().addClass(Xne).toggleClass(eae,!this.option("wordWrapEnabled")),t=!0),i&&i.summaryCells&&i.summaryCells.length&&(this._updateContent(this._renderTable({change:e}),e),t&&this._updateScrollLeftPosition())},_updateContent:function(e,t){if(t&&t.changeType==="update"&&t.columnIndices){var i=this.getTableElement().find(".dx-row"),r=e.find(".dx-row");this._updateCells(i,r,t.columnIndices[0])}else return this.callBase.apply(this,arguments)},_rowClick:function(e){var t=this._dataController.footerItems()[e.rowIndex]||{};this.executeAction("onRowClick",ce({},e,t))},_columnOptionChanged:function(e){var t=e.optionNames;e.changeTypes.grouping||(t.width||t.visibleWidth)&&this.callBase(e)},_handleDataChanged:function(e){var t=e.changeType;e.changeType==="update"&&e.repaintChangesOnly?e.totalColumnIndices?e.totalColumnIndices.length&&this.render(null,{changeType:"update",columnIndices:[e.totalColumnIndices]}):this.render():(t==="refresh"||t==="append"||t==="prepend")&&this.render()},_createRow:function(e){var t=this.callBase.apply(this,arguments);return e.rowType===ER&&t.addClass(tae),t},getHeight:function(){return this.getElementHeight()},isVisible:function(){return!!this._dataController.footerItems().length}}),rae={init:function(){this.callBase.apply(this,arguments),this._totalAggregates=[],this._summaryGetter=Ee},summaryGetter:function(e){if(!arguments.length)return this._summaryGetter;We(e)&&(this._summaryGetter=e)},summary:function(e){if(!arguments.length)return this._summaryGetter();this._summaryGetter=function(){return e}},totalAggregates:function(){return this._totalAggregates},isLastLevelGroupItemsPagingLocal:function(){var e=this.summary(),t=e&&e.sortByGroups();return t&&t.length},sortLastLevelGroupItems:function(e,t,i){var r=fa.multiLevelGroup(vr(e),t).toArray(),n=[];return i.forEach(function(a){(function s(o,l,u,d){d=d||[];for(var c=0;c<o.length;c++)d.push(o[c].key),l===1?u(d,o[c].items):s(o[c].items,l-1,u,d),d.pop()})(r,t.length,function(s,o){a.toString()===s.toString()&&(n=n.concat(o))})}),n}},nae=function(){var e=function(i,r,n,a){var s;if(b_(i)){var o=i.getController("editing");if(o){var l=o.getInsertedData();l.length&&(n=function d(c,h,f){return f?d(c,h.map(p=>({items:[p]}),f-1)):c.concat(h)}(n,l,a));var u=o.getRemovedData();u.length&&(n=function d(c,h,f){return f?c.map(p=>{var g={},m=d(p.items||[],h,f-1);return Object.defineProperty(g,"aggregates",{get:()=>p.aggregates,set:v=>{p.aggregates=v}}),ce(g,p,{items:m})}):c.filter(p=>h.indexOf(p)<0)}(n,u,a))}}return r&&(s=new qne({totalAggregates:r.totalAggregates,groupAggregates:r.groupAggregates,data:n,groupLevel:a}),s.calculate()),s?s.totalAggregates():[]},t=function(i,r,n){var a=n&&n.sortByGroups&&n.sortByGroups();return a&&a.length?function s(o,l,u){if(!o||!l.length)return o;var d=l[0],c=u[0],h;return d&&c&&c.length&&(h=vr(o),ve(c,function(f){f===0?h=h.sortBy(this.selector,this.desc):h=h.thenBy(this.selector,this.desc)}),h.enumerate().done(function(f){o=f})),l=l.slice(1),u=u.slice(1),l.length&&u.length&&ve(o,function(){this.items=s(this.items,l,u)}),o}(i,r,a):i};return{_customizeRemoteOperations:function(i){var r=this.summary();r&&(i.remoteOperations.summary?(!i.isCustomLoading||i.storeLoadOptions.isLoadingAll)&&(i.storeLoadOptions.group&&(i.remoteOperations.grouping?i.storeLoadOptions.groupSummary=r.groupAggregates:r.groupAggregates.length&&(i.remoteOperations.paging=!1)),i.storeLoadOptions.totalSummary=r.totalAggregates):(r.totalAggregates.length||r.groupAggregates.length&&i.storeLoadOptions.group)&&(i.remoteOperations.paging=!1)),this.callBase.apply(this,arguments);var n=i.cachedData.extra;n&&n.summary&&!i.isCustomLoading&&(i.storeLoadOptions.totalSummary=void 0)},_handleDataLoadedCore:function(i){var r=ca(i.storeLoadOptions.group||i.loadOptions.group||[]),n=i.remoteOperations||{},a=this.summaryGetter()(n);if(!i.isCustomLoading||i.storeLoadOptions.isLoadingAll){if(n.summary)!n.paging&&r.length&&a&&(n.grouping||e(this,{groupAggregates:a.groupAggregates},i.data,r.length),i.data=t(i.data,r,a));else if(!n.paging&&a){var s,o,l=i.operationTypes||{},u=Object.keys(l).some(c=>l[c]);if(!u||!((s=i.cachedData)!==null&&s!==void 0&&(o=s.extra)!==null&&o!==void 0&&o.summary)||r.length&&a.groupAggregates.length){var d=e(this,a,i.data,r.length);i.extra=Ct(i.extra)?i.extra:{},i.extra.summary=d,i.cachedData&&(i.cachedData.extra=i.extra)}i.data=t(i.data,r,a)}}i.isCustomLoading||(this._totalAggregates=i.extra&&i.extra.summary||this._totalAggregates),this.callBase(i)}}}();Cd.extend(rae);Cd.extend(nae);qe.registerModule("summary",{defaultOptions:function(){return{summary:{groupItems:void 0,totalItems:void 0,calculateCustomSummary:void 0,skipEmptyValues:!0,recalculateWhileEditing:!1,texts:{sum:Ae.format("dxDataGrid-summarySum"),sumOtherColumn:Ae.format("dxDataGrid-summarySumOtherColumn"),min:Ae.format("dxDataGrid-summaryMin"),minOtherColumn:Ae.format("dxDataGrid-summaryMinOtherColumn"),max:Ae.format("dxDataGrid-summaryMax"),maxOtherColumn:Ae.format("dxDataGrid-summaryMaxOtherColumn"),avg:Ae.format("dxDataGrid-summaryAvg"),avgOtherColumn:Ae.format("dxDataGrid-summaryAvgOtherColumn"),count:Ae.format("dxDataGrid-summaryCount")}},sortByGroupSummaryInfo:void 0}},views:{footerView:iae},extenders:{controllers:{data:{_isDataColumn:function(e){return e&&(!oe(e.groupIndex)||e.showWhenGrouped)},_isGroupFooterVisible:function(){for(var e=this.option("summary.groupItems")||[],t=0;t<e.length;t++){var i=e[t],r=this._columnsController.columnOption(i.showInColumn||i.column);if(i.showInGroupFooter&&this._isDataColumn(r))return!0}return!1},_processGroupItems:function(e,t,i){var r=i&&i.data,n=this.callBase.apply(this,arguments);return i&&(i.isGroupFooterVisible===void 0&&(i.isGroupFooterVisible=this._isGroupFooterVisible()),r&&r.items&&i.isGroupFooterVisible&&(i.collectContinuationItems||!r.isContinuationOnNextPage)&&n.push({rowType:zg,key:i.path.slice(),data:r,groupIndex:i.path.length-1,values:[]})),n},_processGroupItem:function(e,t){var i=this;if(t.summaryGroupItems||(t.summaryGroupItems=i.option("summary.groupItems")||[]),e.rowType==="group"){var r=-1,n=-1;ve(t.visibleColumns,function(a){var s=t.visibleColumns[a-1];e.groupIndex===this.groupIndex&&(r=this.index),a>0&&s.command==="expand"&&this.command!=="expand"&&(n=this.index)}),e.summaryCells=this._calculateSummaryCells(t.summaryGroupItems,Wg(e.data),t.visibleColumns,function(a,s){return a.showInGroupFooter?-1:a.alignByColumn&&s&&!oe(s.groupIndex)&&s.index!==n?s.index:r},!0)}return e.rowType===zg&&(e.summaryCells=this._calculateSummaryCells(t.summaryGroupItems,Wg(e.data),t.visibleColumns,function(a,s){return a.showInGroupFooter&&i._isDataColumn(s)?s.index:-1})),e},_calculateSummaryCells:function(e,t,i,r,n){var a=this,s=[],o={};return ve(e,function(l,u){var d=a._columnsController.columnOption(u.column),c=u.showInColumn&&a._columnsController.columnOption(u.showInColumn)||d,h=r(u,c);if(h>=0){o[h]||(o[h]=[]);var f=t[l];if(f===f){var p;oe(u.valueFormat)?p=u.valueFormat:u.summaryType!=="count"&&(p=qe.getFormatByDataType(d&&d.dataType)),o[h].push(ce({},u,{value:nt(f)&&d&&d.deserializeValue?d.deserializeValue(f):f,valueFormat:p,columnCaption:d&&d.index!==h?d.caption:void 0}))}}}),Yr(o)||i.forEach((l,u)=>{var d=i[u-1],c=n&&((d==null?void 0:d.command)==="expand"||l.command==="expand")?d==null?void 0:d.index:l.index;s.push(o[c]||[])}),s},_getSummaryCells:function(e,t){var i=this,r=i._columnsController;return i._calculateSummaryCells(e,t,r.getVisibleColumns(),function(n,a){return i._isDataColumn(a)?a.index:-1})},_updateItemsCore:function(e){var t,i=this._dataSource,r=this._footerItems,n=r&&r[0]&&r[0].summaryCells,a=this.option("summary.totalItems");if(this._footerItems=[],i&&a&&a.length){var s=i.totalAggregates();t=this._getSummaryCells(a,s),e&&e.repaintChangesOnly&&n&&(e.totalColumnIndices=t.map(function(o,l){return JSON.stringify(o)!==JSON.stringify(n[l])?l:-1}).filter(o=>o>=0)),t.length&&this._footerItems.push({rowType:ER,summaryCells:t})}this.callBase(e)},_prepareUnsavedDataSelector:function(e){if(b_(this)){var t=this.getController("editing");if(t)return function(i){return i=t.getUpdatedData(i),e(i)}}return e},_prepareAggregateSelector:function(e,t){return e=this._prepareUnsavedDataSelector(e),t==="avg"||t==="sum"?function(i){var r=e(i);return oe(r)?Number(r):r}:e},_getAggregates:function(e,t){var i=this,r=i.getController("columns"),n=i.option("summary.calculateCustomSummary"),a=i.option("summary.skipEmptyValues");return Ti(e||[],function(s){var o=r.columnOption(s.column),l=o&&o.calculateCellValue?o.calculateCellValue.bind(o):Yt(o?o.dataField:s.column),u=s.summaryType||"count",d=oe(s.skipEmptyValues)?s.skipEmptyValues:a;if(t)return{selector:s.column,summaryType:u};var c=i._prepareAggregateSelector(l,u);if(u==="custom"){n||(xt.log("E1026"),n=function(){});var h={component:i.component,name:s.name};n(h),h.summaryProcess="calculate",u={seed:function(f){return h.summaryProcess="start",h.totalValue=void 0,h.groupIndex=f,delete h.value,n(h),h.totalValue},step:function(f,p){return h.summaryProcess="calculate",h.totalValue=f,h.value=p,n(h),h.totalValue},finalize:function(f){return h.summaryProcess="finalize",h.totalValue=f,delete h.value,n(h),h.totalValue}}}return{selector:c,aggregator:u,skipEmptyValues:d}})},_addSortInfo:function(e,t,i,r){if(t){var n=t.groupIndex;r=r||t.sortOrder,oe(n)&&(e[n]=e[n]||[],e[n].push({selector:i,desc:r==="desc"}))}},_findSummaryItem:function(e,t){var i=-1;return oe(t)&&ve(e||[],function(r){if(this.name===t||r===t||this.summaryType===t||this.column===t||(n=this,a=n.summaryType,s=n.column,(a&&s&&a+"_"+s)===t))return i=r,!1;var n,a,s}),i},_getSummarySortByGroups:function(e,t){var i=this,r=i._columnsController,n=r.getGroupColumns(),a=[];if(!(!t||!t.length))return ve(e||[],function(){var s=this.sortOrder,o=this.groupColumn,l=i._findSummaryItem(t,this.summaryItem);if(!(l<0)){var u=function(d){return Wg(d)[l]};oe(o)?(o=r.columnOption(o),i._addSortInfo(a,o,u,s)):ve(n,function(d,c){i._addSortInfo(a,c,u,s)})}}),a},_createDataSourceAdapterCore:function(e,t){var i=this,r=this.callBase(e,t);return r.summaryGetter(function(n){return i._getSummaryOptions(n||t)}),r},_getSummaryOptions:function(e){var t=this,i=t.option("summary.groupItems"),r=t.option("summary.totalItems"),n=t.option("sortByGroupSummaryInfo"),a=t._getAggregates(i,e&&e.grouping&&e.summary),s=t._getAggregates(r,e&&e.summary);if(a.length||s.length)return{groupAggregates:a,totalAggregates:s,sortByGroups:function(){return t._getSummarySortByGroups(n,i)}}},publicMethods:function(){var e=this.callBase();return e.push("getTotalSummaryValue"),e},getTotalSummaryValue:function(e){var t=this._findSummaryItem(this.option("summary.totalItems"),e),i=this._dataSource.totalAggregates();if(i.length&&t>-1)return i[t]},optionChanged:function(e){(e.name==="summary"||e.name==="sortByGroupSummaryInfo")&&(e.name="dataSource"),this.callBase(e)},init:function(){this._footerItems=[],this.callBase()},footerItems:function(){return this._footerItems}},editing:{_refreshSummary:function(){b_(this)&&!this.isSaving()&&this._dataController.refresh({load:!0,changesOnly:!0})},_addChange:function(e){var t=this.callBase.apply(this,arguments);return e.type&&this._refreshSummary(),t},_removeChange:function(){var e=this.callBase.apply(this,arguments);return this._refreshSummary(),e},cancelEditData:function(){var e=this.callBase.apply(this,arguments);return this._refreshSummary(),e}}},views:{rowsView:{_createRow:function(e){var t=this.callBase.apply(this,arguments);return e&&t.addClass(e.rowType===zg?Jne:""),t},_renderCells:function(e,t){this.callBase.apply(this,arguments),t.row.rowType==="group"&&t.row.summaryCells&&t.row.summaryCells.length&&this._renderGroupSummaryCells(e,t)},_hasAlignByColumnSummaryItems:function(e,t){return!oe(t.columns[e].groupIndex)&&t.row.summaryCells[e].length},_getAlignByColumnCellCount:function(e,t){for(var i=0,r=1;r<e;r++){var n=t.row.summaryCells.length-r;i=this._hasAlignByColumnSummaryItems(n,t)?r:i}return i},_renderGroupSummaryCells:function(e,t){var i=e.children().last(),r=Number(i.attr("colSpan"))||1,n=this._getAlignByColumnCellCount(r,t);this._renderGroupSummaryCellsCore(i,t,r,n)},_renderGroupSummaryCellsCore:function(e,t,i,r){if(r>0){e.attr("colSpan",i-r);for(var n=0;n<r;n++){var a=t.columns.length-r+n;this._renderCell(e.parent(),ce({column:t.columns[a],columnIndex:this._getSummaryCellIndex(a,t.columns)},t))}}},_getSummaryCellIndex:function(e){return e},_getCellTemplate:function(e){return!e.column.command&&!oe(e.column.groupIndex)&&e.summaryItems&&e.summaryItems.length?TR:this.callBase(e)},_getCellOptions:function(e){var t=this.callBase(e);return e.row.summaryCells?ce(t,IR(this,e)):t}}}}});var WE="content",Mu="content-fixed",aae="dx-master-detail-cell",jE="dx-first-cell",sae="dx-last-cell",UE="dx-state-hover",GE="dx-col-fixed",oae="dx-fixed-columns",jg="dx-pointer-events-none",Is="transparent",KE="dx-group-row",lae="dx-master-detail-row",ia=function(e){var t=-1;return ve(e,function(i,r){if(r.command===Is)return t=i,!1}),t},AR=function(e,t,i){var r=0;if(e&&t&&i)for(var n=0;n<e.length;n++)e[n].command===Is?r+=e[n].colspan:(t[r]<i[n]&&(t[r]=i[n]),r++);return t},Db={init:function(){this.callBase(),this._isFixedTableRendering=!1,this._isFixedColumns=!1},_createCol:function(e){return this.callBase(e).toggleClass(GE,!!(this._isFixedTableRendering&&(e.fixed||e.command&&e.command!==Is)))},_correctColumnIndicesForFixedColumns:function(e,t){var i=ia(e),r=e[i].colspan,n=t&&t.columnIndices;n&&(t.columnIndices=n.map(function(a){if(a)return a.map(function(s){return s<i?s:s>=i+r?s-r+1:-1}).filter(function(s){return s>=0})}))},_partialUpdateFixedTable(e){var t=this._fixedTableElement,i=this._getRowElementsCore(t),r=t.children("colgroup");r.replaceWith(this._createColGroup(e));for(var n=0;n<i.length;n++)this._partialUpdateFixedRow(J(i[n]),e)},_partialUpdateFixedRow(e,t){var i=e.get(0).childNodes,r=ia(t),n=t[r],a=this._columnsController.getColumnIndexOffset(),s,o=a+1,l=n.colspan;if(e.hasClass(lae)){var u;i[0].setAttribute("colspan",(u=this._columnsController.getVisibleColumns())===null||u===void 0?void 0:u.length);return}e.hasClass(KE)&&(s=this._getGroupCellOptions({row:e.data("options"),columns:this._columnsController.getVisibleColumns()}),l=s.colspan-Math.max(0,i.length-(s.columnIndex+2)));for(var d=0;d<i.length;d++){var c=s?d===s.columnIndex+1:d===r;i[d].setAttribute("aria-colindex",o),c?(i[d].setAttribute("colspan",l),o+=l):o++}},_renderTable:function(e){var t,i=this.getFixedColumns();this._isFixedColumns=!!i.length;var r=this.callBase(e);if(this._isFixedColumns){var n=e==null?void 0:e.change;if(this._isFixedTableRendering=!0,n!=null&&n.virtualColumnsScrolling&&this.option("scrolling.legacyMode")!==!0)this._partialUpdateFixedTable(i);else{var a=n==null?void 0:n.columnIndices;this._correctColumnIndicesForFixedColumns(i,n),t=this._createTable(i),this._renderRows(t,ce({},e,{columns:i})),this._updateContent(t,n),a&&(n.columnIndices=a)}this._isFixedTableRendering=!1}else this._fixedTableElement&&this._fixedTableElement.parent().remove(),this._fixedTableElement=null;return r},_renderRow:function(e,t){var i,r=t.row.cells;if(this.callBase.apply(this,arguments),this._isFixedTableRendering&&r&&r.length){i=0;var n=t.row.cells||[];r=r.slice(),t.row.cells=r;for(var a=0;a<n.length;a++){if(n[a].column&&n[a].column.command===Is){i=(n[a].column.colspan||1)-1;continue}r[a+i]=n[a]}}},_createCell:function(e){var t=this,i=e.column,r=i&&i.command,n=e.rowType,a=t.callBase.apply(t,arguments),s,o,l;(t._isFixedTableRendering||n==="filter")&&(s=t.getFixedColumns(),l=ia(s),o=s[l-1]),t._isFixedTableRendering?r===Is&&(a.addClass(jg).toggleClass(jE,l===0||o&&o.command==="expand").toggleClass(sae,s.length&&l===s.length-1),n!=="freeSpace"&&Fe.setEmptyText(a)):n==="filter"&&a.toggleClass(jE,e.columnIndex===l);var u=t.option("rowAlternationEnabled")&&e.isAltRow;return ri.mozilla&&e.column.fixed&&e.rowType!=="group"&&!u&&a.addClass(GE),a},_wrapTableInScrollContainer:function(){var e=this.callBase.apply(this,arguments);return this._isFixedTableRendering&&e.addClass(this.addWidgetPrefix(Mu)),e},_renderCellContent:function(e,t){var i,r=t.column,n=this._isFixedTableRendering,a=t.rowType==="group"&&oe(r.groupIndex);if(n&&a&&!r.command&&!r.groupCellTemplate&&e.css("pointerEvents","none"),!n&&this._isFixedColumns){if(i=r.fixed||r.command&&r.fixed!==!1,a&&(i=!1,t.row.summaryCells&&t.row.summaryCells.length)){var s=this._columnsController.getVisibleColumns(),o=this._getAlignByColumnCellCount?this._getAlignByColumnCellCount(r.colspan,{columns:s,row:t.row,isFixed:!0}):0;if(o>0){var l=ia(this._columnsController.getFixedColumns());i=s.length-o<l}}if(i)if(r.command&&r.type!=="buttons"||t.rowType==="group"){e.html("&nbsp;").addClass(r.cssClass);return}else e.addClass("dx-hidden-cell")}r.command!==Is&&this.callBase.apply(this,arguments)},_getCellElementsCore:function(e){var t=this.callBase.apply(this,arguments),i=t.parent().hasClass(KE),r=this.name==="columnHeadersView"?e:void 0;if(this._fixedTableElement&&t){var n=this.getFixedColumns(r),a=this._getRowElements(this._fixedTableElement).eq(e).children("td");ve(a,(s,o)=>{if(i)t[s]&&o.style.visibility!=="hidden"&&(t[s]=o);else{var l=n[s];if(l)if(l.command===Is)a.eq(s).hasClass(aae)&&(t[s]=o||t[s]);else{var u=this._columnsController.getVisibleIndexByColumn(l,r);t[u]=o||t[u]}}})}return t},getColumnWidths:function(){var e,t=this.callBase(),i=this.getFixedColumns();return this._fixedTableElement&&t.length&&(e=this.callBase(this._fixedTableElement)),AR(i,t,e)},getTableElement:function(){var e=this._isFixedTableRendering?this._fixedTableElement:this.callBase();return e},setTableElement:function(e){this._isFixedTableRendering?this._fixedTableElement=e.addClass(jg):this.callBase(e)},getColumns:function(e,t){return t=t||this.getTableElement(),this._isFixedTableRendering||t&&t.closest("table").parent("."+this.addWidgetPrefix(Mu)).length?this.getFixedColumns(e):this.callBase(e,t)},getRowIndex:function(e){var t=this._fixedTableElement;return t&&t.find(e).length?this._getRowElements(t).index(e):this.callBase(e)},getTableElements:function(){var e=this.callBase.apply(this,arguments);return this._fixedTableElement&&(e=J([e.get(0),this._fixedTableElement.get(0)])),e},getFixedColumns:function(e){return this._columnsController.getFixedColumns(e)},getFixedColumnsOffset:function(){var e={left:0,right:0},t;if(this._fixedTableElement){t=this.getTransparentColumnElement();var i=t.position();e={left:i.left,right:Pt(this.element(),!0)-(Pt(t,!0)+i.left)}}return e},getTransparentColumnElement:function(){return this._fixedTableElement&&this._fixedTableElement.find("."+jg).first()},getFixedTableElement:function(){return this._fixedTableElement},isFixedColumns:function(){return this._isFixedColumns},_resizeCore:function(){this.callBase(),this.synchronizeRows()},setColumnWidths:function(e){var t,i=this._columnsController.getVisibleColumns(),r=e.widths,n=r&&r.length&&oe(i[0].visibleWidth),a=e.optionNames,s=a&&a.width,o=!1;if(this.callBase.apply(this,arguments),this._fixedTableElement){var l=r&&r.some(function(u){return u==="auto"});o=l&&(!n||!this.isScrollbarVisible(!0)),o&&(t=i),this.callBase(ce({},e,{$tableElement:this._fixedTableElement,columns:t,fixed:!0}))}(n||s&&this.option("wordWrapEnabled"))&&this.synchronizeRows()},_createColGroup:function(e){if(this._isFixedTableRendering&&!this.option("columnAutoWidth")){var t=this._columnsController.getVisibleColumns(),i=t.filter(function(r){return!r.width}).length;i&&(e=t)}return this.callBase(e)},_getClientHeight:function(e){var t=e.getBoundingClientRect&&vi(e);return t&&t.height?t.height:e.clientHeight},synchronizeRows:function(){var e=[],t=[],i,r,n,a;if(this._isFixedColumns&&this._tableElement&&this._fixedTableElement){var s=this._getClientHeight(this._tableElement.get(0)),o=this._getClientHeight(this._fixedTableElement.get(0));if(r=this._getRowElements(this._tableElement),n=this._getRowElements(this._fixedTableElement),a=this._findContentElement(),s!==o){for(a&&a.css("height",s),r.css("height",""),n.css("height",""),i=0;i<r.length;i++)e.push(this._getClientHeight(r.get(i))),t.push(this._getClientHeight(n.get(i)));for(i=0;i<r.length;i++){var l=e[i],u=t[i];l>u?n.eq(i).css("height",l):l<u&&r.eq(i).css("height",u)}a&&a.css("height","")}}},setScrollerSpacing:function(e){var t=this.option("rtlEnabled");this.callBase(e),this.element().children("."+this.addWidgetPrefix(Mu)).css({paddingLeft:t?e:"",paddingRight:t?"":e})}},uae=ce({},Db,{_getRowVisibleColumns:function(e){return this._isFixedTableRendering?this.getFixedColumns(e):this.callBase(e)},getContextMenuItems:function(e){var t=e.column,i=this.option("columnFixing"),r=this.callBase(e);if(e.row&&e.row.rowType==="header"&&i.enabled===!0&&t&&t.allowFixing){var n=a=>{switch(a.itemData.value){case"none":this._columnsController.columnOption(t.index,"fixed",!1);break;case"left":this._columnsController.columnOption(t.index,{fixed:!0,fixedPosition:"left"});break;case"right":this._columnsController.columnOption(t.index,{fixed:!0,fixedPosition:"right"})}};r=r||[],r.push({text:i.texts.fix,beginGroup:!0,items:[{text:i.texts.leftPosition,value:"left",disabled:t.fixed&&(!t.fixedPosition||t.fixedPosition==="left"),onItemClick:n},{text:i.texts.rightPosition,value:"right",disabled:t.fixed&&t.fixedPosition==="right",onItemClick:n}]},{text:i.texts.unfix,value:"none",disabled:!t.fixed,onItemClick:n})}return r},getFixedColumnElements:function(e){if(oe(e))return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(e).children();var t=this.getColumnElements(),i=this.getTransparentColumnElement();if(t&&i&&i.length){var r=ia(this.getFixedColumns());t.splice(r,i.get(0).colSpan,i.get(0))}return t},getColumnWidths:function(){var e,t=this.callBase(),i=this.getFixedColumnElements(),r=this.getFixedColumns();return this._fixedTableElement&&(i&&i.length?e=this._getWidths(i):e=this.callBase(this._fixedTableElement)),AR(r,t,e)}}),dae=ce({},Db,{_detachHoverEvents:function(){this._fixedTableElement&&he.off(this._fixedTableElement,"mouseover mouseout",".dx-data-row"),this._tableElement&&he.off(this._tableElement,"mouseover mouseout",".dx-data-row")},_attachHoverEvents:function(){var e=this,t=function(i){he.on(i,"mouseover mouseout",".dx-data-row",e.createAction(function(r){var n=r.event,a=e.getRowIndex(J(n.target).closest(".dx-row")),s=n.type==="mouseover";a>=0&&(e._tableElement&&e._getRowElements(e._tableElement).eq(a).toggleClass(UE,s),e._fixedTableElement&&e._getRowElements(e._fixedTableElement).eq(a).toggleClass(UE,s))}))};e._fixedTableElement&&e._tableElement&&(t(e._fixedTableElement),t(e._tableElement))},_findContentElement:function(){var e=this,t,i,r=e.addWidgetPrefix(WE),n=e.element(),a=ri.mozilla?60:0;if(n&&e._isFixedTableRendering){t=n.children("."+r);var s=e.getScrollable();return!t.length&&s&&(t=J("<div>").addClass(r),he.on(t,"scroll",function(o){clearTimeout(e._fixedScrollTimeout),e._fixedScrollTimeout=setTimeout(function(){i=J(o.target).scrollTop(),s.scrollTo({y:i})},a)}),he.on(t,dd,function(o){var l=J(o.target).closest(".dx-scrollable"),u=!1;if(s&&s.$element().is(l))u=!0;else{var d=l.length&&Mr.getInstance(l.get(0)),c=d&&d.scrollHeight()-d.clientHeight()>0;u=d&&!c}if(u&&(i=s.scrollTop(),s.scrollTo({y:i-o.delta}),s.scrollTop()>0&&s.scrollTop()+s.clientHeight()<s.scrollHeight()+e.getScrollbarWidth()))return!1}),t.appendTo(n)),t}return e.callBase()},_updateScrollable:function(){this.callBase();var e=this.getScrollable();if(!(e!=null&&e._disposed)){var t=e&&e.scrollOffset().top;this._updateFixedTablePosition(t)}},_renderContent:function(e,t){return this._isFixedTableRendering?e.empty().addClass(this.addWidgetPrefix(WE)+" "+this.addWidgetPrefix(Mu)).append(t):this.callBase(e,t)},_getGroupCellOptions:function(e){return this._isFixedTableRendering?this.callBase(ce({},e,{columns:this._columnsController.getVisibleColumns()})):this.callBase(e)},_renderGroupedCells:function(e,t){return this.callBase(e,ce({},t,{columns:this._columnsController.getVisibleColumns()}))},_renderGroupSummaryCells:function(e,t){this._isFixedTableRendering?this.callBase(e,ce({},t,{columns:this._columnsController.getVisibleColumns()})):this.callBase(e,t)},_hasAlignByColumnSummaryItems:function(e,t){var i=this.callBase.apply(this,arguments),r=t.columns[e];return t.isFixed?r.fixed&&(i||r.fixedPosition==="right"):i&&(!this._isFixedColumns||!r.fixed)},_renderGroupSummaryCellsCore:function(e,t,i,r){var n;if(this._isFixedTableRendering){t.isFixed=!0,n=this._getAlignByColumnCellCount(i,t),t.isFixed=!1;var a=t.columns.length-n;t=ce({},t,{columns:this.getFixedColumns()});var s=ia(t.columns);a<s?(n-=t.columns[s].colspan-1||0,i-=t.columns[s].colspan-1||0):r>0&&e.css("visibility","hidden"),r=n}this.callBase(e,t,i,r)},_getSummaryCellIndex:function(e,t){if(this._isFixedTableRendering){var i=ia(t);return e>i&&(e+=t[i].colspan-1),e}return this.callBase.apply(this,arguments)},_renderCore:function(e){this._detachHoverEvents(),this.callBase(e);var t=this._isFixedColumns;this.element().toggleClass(oae,t),this.option("hoverStateEnabled")&&t&&this._attachHoverEvents()},setRowsOpacity:function(e,t){this.callBase(e,t);var i=this._getRowElements(this._fixedTableElement);this._setRowsOpacityCore(i,this.getFixedColumns(),e,t)},optionChanged:function(e){this.callBase(e),e.name==="hoverStateEnabled"&&this._isFixedColumns&&(e.value?this._attachHoverEvents():this._detachHoverEvents())},getCellIndex:function(e){var t=this._fixedTableElement,i=0;if(t&&e.is("td")&&e.closest(t).length){var r=this.getFixedColumns();return ve(r,function(n,a){if(n===e[0].cellIndex)return!1;if(a.colspan){i+=a.colspan;return}i++}),i}return this.callBase.apply(this,arguments)},_updateFixedTablePosition:function(e,t){if(this._fixedTableElement&&this._tableElement){var i,r=this.getController("editorFactory");this._fixedTableElement.parent().scrollTop(e),t&&r&&(i=r.focus(),i&&r.focus(i))}},setScrollerSpacing:function(e,t){var i={marginBottom:0},r=this.element().children("."+this.addWidgetPrefix(Mu));if(r.length&&this._fixedTableElement){r.css(i),this._fixedTableElement.css(i),i[this.option("rtlEnabled")?"marginLeft":"marginRight"]=e,i.marginBottom=t;var n=this._scrollable&&this._scrollable.option("useNative");(n?r:this._fixedTableElement).css(i)}},_getElasticScrollTop:function(e){var t=0;if(e.scrollOffset.top<0)t=-e.scrollOffset.top;else if(e.reachedBottom){var i=J(e.component.content()),r=J(e.component.container()),n=Math.max(i.get(0).clientHeight-r.get(0).clientHeight,0);t=n-e.scrollOffset.top}return Math.floor(t)},_applyElasticScrolling:function(e){if(this._fixedTableElement){var t=this._getElasticScrollTop(e);Math.ceil(t)!==0?ki(this._fixedTableElement,{top:t}):this._fixedTableElement.css("transform","")}},_handleScroll:function(e){this._updateFixedTablePosition(e.scrollOffset.top,!0),this._applyElasticScrolling(e),this.callBase(e)},_updateContentPosition:function(e){this.callBase.apply(this,arguments),e||this._updateFixedTablePosition(this._scrollTop)},_afterRowPrepared:function(e){this._isFixedTableRendering||this.callBase(e)},_scrollToElement:function(e){this.callBase(e,this.getFixedColumnsOffset())},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._fixedScrollTimeout)}}),hae=Db,cae={defaultOptions:function(){return{columnFixing:{enabled:!1,texts:{fix:Ae.format("dxDataGrid-columnFixingFix"),unfix:Ae.format("dxDataGrid-columnFixingUnfix"),leftPosition:Ae.format("dxDataGrid-columnFixingLeftPosition"),rightPosition:Ae.format("dxDataGrid-columnFixingRightPosition")}}}},extenders:{views:{columnHeadersView:uae,rowsView:dae,footerView:hae},controllers:{draggingHeader:{_generatePointsByColumns:function(e){var t=e.columns,i=e.targetDraggingPanel;if(i&&i.getName()==="headers"&&i.isFixedColumns()&&e.sourceColumn.fixed){e.rowIndex||(e.columnElements=i.getFixedColumnElements(0)),e.columns=i.getFixedColumns(e.rowIndex);var r=this.callBase(e);return function(n,a,s){var o=ia(a),l=n.length-a.length;return ve(s,function(u,d){d.index>o&&(d.columnIndex+=l,d.index+=l)}),s}(t,e.columns,r),r}return this.callBase(e)},_pointCreated:function(e,t,i,r){var n=this.callBase.apply(this,arguments),a=t[e.columnIndex],s=this._columnHeadersView.getTransparentColumnElement();if(!n&&i==="headers"&&s&&s.length){var o=vi(s.get(0));return r&&r.fixed?r.fixedPosition==="right"?e.x<o.right:e.x>o.left:a&&a.fixed&&a.fixedPosition!=="right"?!0:e.x<o.left||e.x>o.right}return n}},columnsResizer:{_generatePointsByColumns:function(){var e=this,t=e._columnsController,i=t&&e._columnsController.getVisibleColumns(),r=t&&e._columnsController.getFixedColumns(),n=ia(r),a=i.length-r.length,s=e._columnHeadersView.getFixedColumnElements();e.callBase(),s&&s.length>0&&(e._pointsByFixedColumns=Fe.getPointsByColumns(s,function(o){return o.index>n&&(o.columnIndex+=a,o.index+=a),e._pointCreated(o,i.length,i)}))},_getTargetPoint:function(e,t,i){var r=this._columnHeadersView.getTransparentColumnElement();if(r&&r.length){var n=vi(r.get(0));if(t<=n.left||t>=n.right)return this.callBase(this._pointsByFixedColumns,t,i)}return this.callBase(e,t,i)}}}}};qe.registerModule("columnFixing",cae);var OR="columnHeadersView",DR="rowsView",fae="footerView",Ug=[OR,DR,fae],pae="dxDataGridAdaptivity",ta="adaptiveHidden",$o="detailAdaptive",y_="dx-field-item-content",mae="dx-item-modified",Bu="hidden-column",gae="adaptive-more",kR="dx-command-adaptive",xc="dx-command-adaptive-hidden",vae="dx-adaptive-detail-row",qE="dx-adaptive-item-text",_ae="dx-master-detail-cell",bae="dx-last-data-cell",Xh="adaptive",yae="batch",C_="row",Cae="form",xae="popup",wae="revert-tooltip",XE="dx-group-cell",Sae="dx-group-row",YE="dxDataGrid-ariaAdaptiveExpand",Eae="dxDataGrid-ariaAdaptiveCollapse",Tae="scrolling.legacyMode";function Yh(e,t){return e._columnsController.getColumnId(t)}function ZE(e){return e.find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])")}function Iae(e,t){var i,r=J(e),n=t.component.getController("adaptiveColumns");t.rowType==="data"?(i=J("<span>").addClass(n.addWidgetPrefix(gae)),he.on(i,Be(zt,pae),n.createAction(function(){n.toggleExpandAdaptiveDetailRow(t.key)})),i.appendTo(r)):Fe.setEmptyText(r)}var Aae=ni.ViewController.inherit({_isRowEditMode:function(){var e=this._getEditMode();return e===C_},_isItemModified:function(e,t){var i=this._columnsController.getVisibleIndex(e.column.index),r=this._dataController.getRowIndexByKey(t.key),n=this._dataController.items()[r+1];return n&&n.modifiedValues&&oe(n.modifiedValues[i])},_renderFormViewTemplate:function(e,t,i){var r=e.column,n=this.createAction(function(){he.trigger(i,zt)}),a=t.row.data,s=r.calculateCellValue(a),o=Fe.getDisplayValue(r,s,a,t.rowType),l=Fe.formatValue(o,r),u=this._editingController.isCellOrBatchEditMode(),d=this._rowsView;if(r.allowEditing&&this.getController("keyboardNavigation").isKeyboardEnabled()&&(i.attr("tabIndex",this.option("tabIndex")),u&&(he.off(i,"focus",n),he.on(i,"focus",n))),r.cellTemplate){var c=ce({},t,{value:s,displayValue:o,text:l,column:r}),h=!!i.closest(ft().document).length;d.renderTemplate(i,r.cellTemplate,c,h).done(()=>{d._cellPrepared(i,t)})}else{var f=i.get(0);r.encodeHtml?f.textContent=l:f.innerHTML=l,i.addClass(qE),(!oe(l)||l==="")&&i.html("&nbsp;"),this._isRowEditMode()||this._isItemModified(e,t)&&i.addClass(mae),d._cellPrepared(i,t)}},_getTemplate:function(e,t){var i=this,r=e.column,n=this.getController("editing");return function(a,s){var o=J(s),l=i._columnsController.getVisibleIndex(r.index),u=ce({},t),d=function(){var c=i._isItemEdited(e);u.value=t.row.values[l],c||r.showEditorAlways?n.renderFormEditTemplate(u,e,a,o,!c):(u.column=r,u.columnIndex=l,i._renderFormViewTemplate(e,u,o))};d(),u.watch&&u.watch(function(){return{isItemEdited:i._isItemEdited(e),value:t.row.values[l]}},function(){o.contents().remove(),o.removeClass(qE),d()})}},_isVisibleColumnsValid:function(e){return!(e<2||e.length-function(){for(var t=0,i=0;i<e.length;i++){var r=e[i];r.command&&t++}return t}()<=1)},_calculatePercentWidths:function(e,t){var i=this,r=0;return t.forEach(function(n,a){e[a]!==ta&&(r+=i._getItemPercentWidth(n))}),r},_isPercentWidth:function(e){return nt(e)&&e.slice(-1)==="%"},_isColumnHidden:function(e){return this._hiddenColumns.filter(function(t){return t.index===e.index}).length>0},_getAverageColumnsWidth:function(e,t,i){var r=this,n=0,a=0;return t.forEach(function(s){if(!r._isColumnHidden(s)){var o=s.width;oe(o)&&!isNaN(parseFloat(o))?n+=r._isPercentWidth(o)?r._calculatePercentWidth({visibleIndex:s.visibleIndex,columnsCount:t.length,columnsCanFit:i,bestFitWidth:s.bestFitWidth,columnWidth:o,containerWidth:e}):parseFloat(o):a++}}),(e-n)/a},_calculateColumnWidth:function(e,t,i,r){var n=Yh(this,e),a=this._columnsController.columnOption(n,"width"),s=this._columnsController.columnOption(n,"bestFitWidth"),o=i.length,l;if(a&&a!=="auto")if(this._isPercentWidth(a))l=this._calculatePercentWidth({visibleIndex:e.visibleIndex,columnsCount:o,columnsCanFit:r,bestFitWidth:s,columnWidth:a,containerWidth:t});else return parseFloat(a);else{var u=this.option("columnAutoWidth");l=u||e.command?s:this._getAverageColumnsWidth(t,i,r)}return l},_calculatePercentWidth:function(e){var t=e.visibleIndex<e.columnsCount-1&&e.columnsCanFit,i=e.containerWidth*parseFloat(e.columnWidth)/100,r=e.columnsCanFit&&i<e.bestFitWidth?e.bestFitWidth:i;return t?e.containerWidth*parseFloat(e.columnWidth)/100:r},_getNotTruncatedColumnWidth:function(e,t,i,r){var n=Yh(this,e),a=this._columnsController.columnOption(n,"width"),s=this._columnsController.columnOption(n,"bestFitWidth");if(a&&a!=="auto"&&!this._isPercentWidth(a))return parseFloat(a);var o=this._calculateColumnWidth(e,t,i,r);return o<s?null:o},_getItemPercentWidth:function(e){var t=0;return e.width&&this._isPercentWidth(e.width)&&(t=parseFloat(e.width)),t},_getCommandColumnsWidth:function(){var e=this,t=e._columnsController.getVisibleColumns(),i=0;return ve(t,function(r,n){(n.index<0||n.command)&&(i+=e._columnsController.columnOption(Yh(e,n),"bestFitWidth")||0)}),i},_isItemEdited:function(e){if(this.isFormOrPopupEditMode())return!1;if(this._isRowEditMode()){var t=this.option("editing.editRowKey");if(li(t,this._dataController.adaptiveExpandedKey()))return!0}else{var i=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,r=this._columnsController.getVisibleIndex(e.column.index);return this._editingController.isEditCell(i,r)}},_getFormItemsByHiddenColumns:function(e){var t=[];return ve(e,function(i,r){t.push({column:r,name:r.name,dataField:r.dataField,visibleIndex:r.visibleIndex})}),t},_getAdaptiveColumnVisibleIndex:function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.command===Xh)return t}},_hideAdaptiveColumn:function(e,t){var i=this._getAdaptiveColumnVisibleIndex(t);oe(i)&&(e[i]=ta,this._hideVisibleColumn({isCommandColumn:!0,visibleIndex:i}))},_showHiddenCellsInView:function(e){var{$cells:t,isCommandColumn:i}=e,r=this.addWidgetPrefix(Bu);i?(r=xc,t.attr({tabIndex:0,"aria-hidden":null}).removeClass(r)):t.removeClass(r)},_showHiddenColumns:function(){for(var e=0;e<Ug.length;e++){var t=this.getView(Ug[e]);if(t&&t.isVisible()&&t.element()){var i=t.name,r=t.element().find("."+xc);this._showHiddenCellsInView({viewName:i,$cells:r,isCommandColumn:!0});var n=t.element().find("."+this.addWidgetPrefix(Bu));this._showHiddenCellsInView({viewName:i,$cells:n})}}},_isCellValid:function(e){return e&&e.length&&!e.hasClass(_ae)&&!e.hasClass(XE)},_hideVisibleColumn:function(e){var{isCommandColumn:t,visibleIndex:i}=e,r=this;Ug.forEach(function(n){var a=r.getView(n);a&&r._hideVisibleColumnInView({view:a,isCommandColumn:t,visibleIndex:i})})},_hideVisibleColumnInView:function(e){var{view:t,isCommandColumn:i,visibleIndex:r}=e,n=t.name,a,s=this._columnsController.getVisibleColumns()[r],o=this._editingController&&this._editingController.getEditFormRowIndex();if(t&&t.isVisible()&&s)for(var l=t.getRowsCount(),u=t._getRowElements(),d=0;d<l;d++){var c=d===o&&n===DR&&this.option("editing.mode")!=="popup";if(!c){var h=n===OR?this._columnsController.getVisibleIndex(s.index,d):r;if(h>=0){var f=u.eq(d);a=this._findCellElementInRow(f,h),this._isCellValid(a)&&this._hideVisibleCellInView({viewName:n,isCommandColumn:i,$cell:a})}}}},_findCellElementInRow(e,t){var i=e.children(),r=t,n=!1;if(e.hasClass(Sae)){var a=e.find(".".concat(XE)),s=a.attr("colspan");if(a.length&&oe(s)){var o=parseInt(s),l=a.index()+o-1;t>l?r=t-o+1:n=!0}}var u=n?void 0:i.eq(r);return u},_hideVisibleCellInView:function(e){var{$cell:t,isCommandColumn:i}=e,r=i?xc:this.addWidgetPrefix(Bu);t.attr({tabIndex:-1,"aria-hidden":!0}).addClass(r)},_getEditMode:function(){return this._editingController.getEditMode()},isFormOrPopupEditMode:function(){var e=this._getEditMode();return e===Cae||e===xae},hideRedundantColumns:function(e,t,i){if(this._hiddenColumns=[],this._isVisibleColumnsValid(t)&&i.length){var r=0,n=this.component.$element(),a=ut(n)-this._getCommandColumnsWidth(),s=(function(){return t.filter(N=>!N.command&&this._hiddenColumns.filter(j=>j.index===N.index).length===0)}).bind(this),o=s(),l=o.length,u,d,c;do{c=!1,r=0;var h=this._calculatePercentWidths(e,t),f=h<100&&h!==0;for(u=0;u<t.length;u++){var p=t[u],g=this._getNotTruncatedColumnWidth(p,a,o,f),m=Yh(this,p),v=this._columnsController.columnOption(m,"width"),b=this._columnsController.columnOption(m,"minWidth"),E=this._columnsController.columnOption(m,"bestFitWidth");if(e[u]===ta){d=!0;continue}if(!g&&!p.command&&!p.fixed){c=!0;break}(!v||v==="auto")&&(g=Math.max(E||0,b||0)),(p.command!==Xh||d)&&(r+=g)}if(c=c||r>ut(n),c){var I=i.pop(),R=this._columnsController.getVisibleIndex(I.index);a+=this._calculateColumnWidth(I,a,o,f),this._hideVisibleColumn({visibleIndex:R}),e[R]=ta,this._hiddenColumns.push(I),o=s()}}while(c&&o.length>1&&i.length);l===o.length&&this._hideAdaptiveColumn(e,t)}else this._hideAdaptiveColumn(e,t)},getItemContentByColumnIndex:function(e){for(var t,i=0;i<this._$itemContents.length;i++){t=this._$itemContents.eq(i);var r=t.data("dx-form-item");if(r&&r.column&&this._columnsController.getVisibleIndex(r.column.index)===e)return t}},toggleExpandAdaptiveDetailRow:function(e,t){this.isFormOrPopupEditMode()&&this._editingController.isEditing()||this.getController("data").toggleExpandAdaptiveDetailRow(e,t)},createFormByHiddenColumns:function(e,t){var i=this,r=J(e),n={items:i._getFormItemsByHiddenColumns(i._hiddenColumns),formID:"dx-"+new Bi},a=Ei()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:n}),i._$itemContents=null,i._form=i._createComponent(J("<div>").appendTo(r),Cb,ce(a,n,{customizeItem:function(s){var o=s.column||i._columnsController.columnOption(s.name||s.dataField);o&&(s.label=s.label||{},s.label.text=s.label.text||o.caption,s.column=o,s.template=i._getTemplate(s,t,i.updateForm.bind(i))),n.customizeItem&&n.customizeItem.call(this,s)},onContentReady:function(s){n.onContentReady&&n.onContentReady.call(this,s),i._$itemContents=r.find("."+y_)}}))},hasAdaptiveDetailRowExpanded:function(){return oe(this._dataController.adaptiveExpandedKey())},updateForm:function(e){this.hasAdaptiveDetailRowExpanded()&&this._form&&oe(this._form._contentReadyAction)&&(e&&e.length?this._form.option("items",this._getFormItemsByHiddenColumns(e)):this._form.repaint())},updateHidingQueue:function(e){var t=e.filter(function(a){return a.visible&&!a.type&&!a.fixed&&!(oe(a.groupIndex)&&a.groupIndex>=0)}),i,r;if(this._hidingColumnsQueue=[],this.option("allowColumnResizing")&&this.option("columnResizingMode")==="widget")return this._hidingColumnsQueue;for(r=0;r<t.length;r++)oe(t[r].hidingPriority)&&t[r].hidingPriority>=0&&(i=!0,this._hidingColumnsQueue[t[r].hidingPriority]=t[r]);if(i)this._hidingColumnsQueue.reverse();else if(this.option("columnHidingEnabled"))for(r=0;r<t.length;r++){var n=this._columnsController.getVisibleIndex(t[r].index);this._hidingColumnsQueue[n]=t[r]}return this._hidingColumnsQueue=this._hidingColumnsQueue.filter(Object),this._hidingColumnsQueue},getHiddenColumns:function(){return this._hiddenColumns},hasHiddenColumns:function(){return this._hiddenColumns.length>0},getHidingColumnsQueue:function(){return this._hidingColumnsQueue},init:function(){var e=this;e._columnsController=e.getController("columns"),e._dataController=e.getController("data"),e._rowsView=e.getView("rowsView"),e._columnsController.addCommandColumn({type:Xh,command:Xh,visible:!0,adaptiveHidden:!0,cssClass:kR,alignment:"center",width:"auto",cellTemplate:Iae,fixedPosition:"right"}),e._columnsController.columnsChanged.add(function(){var t=!!e.updateHidingQueue(e._columnsController.getColumns()).length;e._columnsController.columnOption("command:adaptive","adaptiveHidden",!t,!0)}),e._editingController=e.getController("editing"),e._hidingColumnsQueue=[],e._hiddenColumns=[],e.createAction("onAdaptiveDetailRowPreparing"),e.callBase()},optionChanged:function(e){e.name==="columnHidingEnabled"&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e.value),this.callBase(e)},publicMethods:function(){return["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"]},isAdaptiveDetailRowExpanded:function(e){return this._dataController.adaptiveExpandedKey()&&li(this._dataController.adaptiveExpandedKey(),e)},expandAdaptiveDetailRow:function(e){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(e)},collapseAdaptiveDetailRow:function(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()},updateCommandAdaptiveAriaLabel:function(e,t){var i=this._dataController.getRowIndexByKey(e);if(i!==-1){var r=J(this.component.getRowElement(i));this.setCommandAdaptiveAriaLabel(r,t)}},setCommandAdaptiveAriaLabel:function(e,t){var i=e.find(".dx-command-adaptive");i.attr("aria-label",Ae.format(t))}}),Oae={defaultOptions:function(){return{columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}},controllers:{adaptiveColumns:Aae},extenders:{views:{rowsView:{_getCellTemplate:function(e){var t=this,i=e.column;return e.rowType===$o&&i.command==="detail"?function(r,n){t._adaptiveColumnsController.createFormByHiddenColumns(J(r),n)}:t.callBase(e)},_createRow:function(e){var t=this.callBase.apply(this,arguments);return e&&e.rowType===$o&&e.key===this._dataController.adaptiveExpandedKey()&&t.addClass(vae),t},_renderCells:function(e,t){this.callBase(e,t);var i=this._adaptiveColumnsController,r=i.getHidingColumnsQueue().length,n=i.getHiddenColumns().length;r&&!n&&ZE(e).last().addClass(bae),t.row.rowType==="data"&&i.setCommandAdaptiveAriaLabel(e,YE)},_getColumnIndexByElementCore:function(e){var t=e.closest("."+y_);if(t.length&&t.closest(this.component.$element()).length){var i=t.length?t.first().data("dx-form-item"):null;return i&&i.column&&this._columnsController.getVisibleIndex(i.column.index)}else return this.callBase(e)},_cellPrepared:function(e,t){this.callBase.apply(this,arguments),t.row.rowType!==$o&&t.column.visibleWidth===ta&&e.addClass(this.addWidgetPrefix(Bu))},_getCellElement:function(e,t){var i=this._dataController.items()[e];return i&&i.rowType===$o?this._adaptiveColumnsController.getItemContentByColumnIndex(t):this.callBase.apply(this,arguments)},getContextMenuItems:function(e){if(e.row&&e.row.rowType==="detailAdaptive"){var t=this.component.getView("columnHeadersView"),i=J(e.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return e.column=i?i.column:e.column,t.getContextMenuItems&&t.getContextMenuItems(e)}return this.callBase&&this.callBase(e)},isClickableElement:function(e){var t=this.callBase?this.callBase(e):!1;return t||!!e.closest("."+kR).length},init:function(){this.callBase(),this._adaptiveColumnsController=this.getController("adaptiveColumns")}}},controllers:{export:{_updateColumnWidth:function(e,t){this.callBase(e,e.visibleWidth===ta?e.bestFitWidth:t)}},columnsResizer:{_pointCreated:function(e,t,i){var r=this.callBase(e,t,i),n=i[e.columnIndex]||{},a=this._getNextColumnIndex(e.columnIndex),s=i[a]||{},o=a!==e.columnIndex+1&&s.command,l=n.visibleWidth===ta||o;return r||l},_getNextColumnIndex:function(e){for(var t=this._columnsController.getVisibleColumns(),i=this.callBase(e);t[i]&&t[i].visibleWidth===ta;)i++;return i}},draggingHeader:{_pointCreated:function(e,t,i,r){var n=this.callBase(e,t,i,r),a=t[e.columnIndex-1]||{},s=a.visibleWidth===ta;return n||s}},editing:{_isRowEditMode:function(){return this.getEditMode()===C_},_getFormEditItemTemplate:function(e,t){return this.getEditMode()!==C_&&e.rowType==="detailAdaptive"?(e.columnIndex=this._columnsController.getVisibleIndex(t.index),this.getColumnTemplate(e)):this.callBase(e,t)},_closeEditItem:function(e){var t=e.closest("."+y_),i=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,r=t.length?t.first().data("dx-form-item"):null,n=r&&r.column&&this._columnsController.getVisibleIndex(r.column.index);this.isEditCell(i,n)||this.callBase(e)},_beforeUpdateItems:function(e,t){if(!this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.hasHiddenColumns()){var i=this._dataController.items(),r=i[t],n=Fe.getIndexByKey(this._dataController.adaptiveExpandedKey(),i);this._isForceRowAdaptiveExpand=!this._adaptiveController.hasAdaptiveDetailRowExpanded(),n>=0&&e.push(n+1),e.push(t+1),this._dataController.adaptiveExpandedKey(r.key)}},_afterInsertRow:function(e){this.callBase.apply(this,arguments),this._adaptiveController.hasHiddenColumns()&&(this._adaptiveController.toggleExpandAdaptiveDetailRow(e,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)},_collapseAdaptiveDetailRow:function(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)},_cancelEditAdaptiveDetailRow:function(){this._adaptiveController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()},_afterSaveEditData:function(){this.callBase.apply(this,arguments);var e=new we;return this._isRowEditMode()&&this._adaptiveController.hasHiddenColumns()?Ke(this.getController("validating").validate(!0)).done(t=>{t&&this._cancelEditAdaptiveDetailRow(),e.resolve()}):e.resolve(),e.promise()},_beforeCancelEditData:function(){this.callBase(),this._cancelEditAdaptiveDetailRow()},_getRowIndicesForCascadeUpdating:function(e){var t=this.callBase.apply(this,arguments);return this._adaptiveController.isAdaptiveDetailRowExpanded(e.key)&&t.push(e.rowType===$o?e.rowIndex-1:e.rowIndex+1),t},_beforeCloseEditCellInBatchMode:function(e){var t=this._dataController._adaptiveExpandedKey;if(t){var i=Fe.getIndexByKey(t,this._dataController.items());i>-1&&e.unshift(i)}},editRow:function(e){this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},deleteRow:function(e){var t=this._dataController.getKeyByRowIndex(e);this.getEditMode()===yae&&this._adaptiveController.isAdaptiveDetailRowExpanded(t)&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},init:function(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}},resizing:{_needBestFit:function(){return this.callBase()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length},_correctColumnWidths:function(e,t){var i=this._adaptiveColumnsController,r=i.getHiddenColumns(),n=i.updateHidingQueue(this._columnsController.getColumns());i.hideRedundantColumns(e,t,n);var a=i.getHiddenColumns();return i.hasAdaptiveDetailRowExpanded()&&r.length!==a.length&&i.updateForm(a),!a.length&&i.collapseAdaptiveDetailRow(),this.callBase.apply(this,arguments)},_toggleBestFitMode:function(e){e&&this._adaptiveColumnsController._showHiddenColumns(),this.callBase(e)},_needStretch:function(){var e=this._adaptiveColumnsController;return this.callBase.apply(this,arguments)||e.getHidingColumnsQueue().length||e.hasHiddenColumns()},init:function(){this._adaptiveColumnsController=this.getController("adaptiveColumns"),this.callBase()},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._updateScrollableTimeoutID)}},data:{_processItems:function(e,t){var i=t.changeType;if(e=this.callBase.apply(this,arguments),i==="loadingAll"||!oe(this._adaptiveExpandedKey))return e;var r=Fe.getIndexByKey(this._adaptiveExpandedKey,e),n=this.option(Tae)===!1;if(r>=0){var a=e[r];e.splice(r+1,0,{visible:!0,rowType:$o,key:a.key,data:a.data,node:a.node,modifiedValues:a.modifiedValues,isNewRow:a.isNewRow,values:a.values})}else i==="refresh"&&!(n&&t.repaintChangesOnly)&&(this._adaptiveExpandedKey=void 0);return e},_getRowIndicesForExpand:function(e){var t=this.callBase.apply(this,arguments);if(this.getController("adaptiveColumns").isAdaptiveDetailRowExpanded(e)){var i=t[t.length-1];t.push(i+1)}return t},adaptiveExpandedKey:function(e){if(oe(e))this._adaptiveExpandedKey=e;else return this._adaptiveExpandedKey},toggleExpandAdaptiveDetailRow:function(e,t){var i=Fe.getIndexByKey(this._adaptiveExpandedKey,this._items),r=Fe.getIndexByKey(e,this._items);i>=0&&i===r&&!t&&(e=void 0,r=-1);var n=this._adaptiveExpandedKey;this._adaptiveExpandedKey=e,i>=0&&i++,r>=0&&r++;var a=this.getRowIndexDelta();this.updateItems({allowInvisibleRowIndices:!0,changeType:"update",rowIndices:[i-a,r-a]});var s=this.getController("adaptiveColumns");s.updateCommandAdaptiveAriaLabel(e,Eae),s.updateCommandAdaptiveAriaLabel(n,YE)},init:function(){this.callBase(),this._adaptiveExpandedKey=void 0}},editorFactory:{_getFocusCellSelector:function(){return this.callBase()+", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content"},_getTooltipsSelector:function(){return this.callBase()+", .dx-field-item-content ."+this.addWidgetPrefix(wae)}},columns:{_isColumnVisible:function(e){return this.callBase(e)&&!e.adaptiveHidden}},keyboardNavigation:{_isCellValid:function(e){return this.callBase.apply(this,arguments)&&!e.hasClass(this.addWidgetPrefix(Bu))&&!e.hasClass(xc)},_processNextCellInMasterDetail:function(e){this.callBase(e);var t=this._editingController.isCellOrBatchEditMode();!this._isInsideEditForm(e)&&e&&t&&he.on(e,"focus",function i(){he.off(e,"focus",i),he.trigger(e,"dxclick")})},_handleTabKeyOnMasterDetailCell:function(e,t){var i=this.callBase(e,t),r=this._getFocusedCell(),n=r&&r.parent();if(!i&&n&&n.length){var a=ZE(n),s=t==="next"?a.last():a.first(),o=n.get(0).rowIndex,l=this._adaptiveController,u=this._dataController.getKeyByRowIndex(t==="next"?o:o-1),d=r&&s&&r.get(0)===s.get(0);return l.isAdaptiveDetailRowExpanded(u)&&d}return i},init:function(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}}}}};qe.registerModule("adaptivity",Oae);function RR(e,t,i,r,n,a){i=i||0,r=r||[],a=a||[],r[i]=r[i]||0;var s=e[i],o=a[i]+1||0,l=0,u;if(s){for(u=o;u<s.length;u++){var d=s[u],c=u+r[i],h=d.colspan||1;if(RR(e,t,i+(d.rowspan||1),r,h,a),r[i]+=h-1,l+=h,d.rowspan)for(var f=i+1;f<i+d.rowspan;f++)r[f]=r[f]||0,r[f]+=d.colspan||1;if(t(d,c,i,u)===!1||n!==void 0&&l>=n)break}a[i]=u}}function Gg(e,t,i){var r=[];RR(e,function(a,s,o){var l=a,u,d=l.colspan||1,c=s+d-1>=t&&s<i;if(r[o]=r[o]||[],c)s<t?(u=d-(t-s),s=t):u=d,s+u>i&&(u=i-s),u!==d&&(l=ce({},l,{colspan:u})),r[o].push(l);else if(s>i)return!1});for(var n=0;n<r.length;n++)r[n]=r[n]||[];return r}var Dae=50,kae={_resizeCore:function(){this.callBase.apply(this,arguments),this._columnsController.resize()},_handleScroll:function(e){var t=this,i=this.getScrollable(),r=e.scrollOffset.left;t.callBase.apply(t,arguments),t.option("rtlEnabled")&&i&&(r=ut(i.$content())-ut(i.$element())-r),t._columnsController.setScrollPosition(r)}},Rae={_renderCore:function(){this.callBase.apply(this,arguments),this._columnsController.isVirtualMode()&&this._updateScrollLeftPosition()}},Mae=function(){var e=function(i){return i.map(r=>r.visibleWidth||parseFloat(r.width)||Dae)},t={init:function(){var i=this;i.callBase.apply(this,arguments),i._beginPageIndex=null,i._endPageIndex=null,i._position=0,i._virtualVisibleColumns={}},resetColumnsCache:function(){this.callBase(),this._virtualVisibleColumns={}},getBeginPageIndex:function(i){for(var r=this.getVisibleColumns(void 0,!0),n=e(r),a=0,s=0;s<n.length;s++){if(a>=i)return Math.floor(s/this.getColumnPageSize());a+=n[s]}return 0},getTotalWidth:function(){var i=this.option("width");return typeof i=="number"?i:this.getController("resizing")._lastWidth||Pt(this.component.$element())},getEndPageIndex:function(i){var r=this.getVisibleColumns(void 0,!0),n=e(r),a=0;i+=this.getTotalWidth();for(var s=0;s<n.length;s++){if(a>=i)return Math.ceil(s/this.getColumnPageSize());a+=n[s]}return Math.ceil(n.length/this.getColumnPageSize())},getColumnPageSize:function(){return this.option("scrolling.columnPageSize")},_fireColumnsChanged:function(){var i=new Date;this.columnsChanged.fire({optionNames:{all:!0,length:1},changeTypes:{columns:!0,virtualColumnsScrolling:!0,length:2}}),this._renderTime=new Date-i},getScrollingTimeout:function(){var i=this.option("scrolling.columnRenderingThreshold"),r=this.option("scrolling.renderAsync"),n=0;return(!oe(r)&&this._renderTime>i||r)&&(n=this.option("scrolling.timeout")),n},setScrollPosition:function(i){var r=this.getScrollingTimeout();r>0?(clearTimeout(this._changedTimeout),this._changedTimeout=setTimeout(()=>{this._setScrollPositionCore(i)},r)):this._setScrollPositionCore(i)},isVirtualMode:function(){return ht()&&this.option("scrolling.columnRenderingMode")==="virtual"},resize:function(){this._setScrollPositionCore(this._position)},_setScrollPositionCore:function(i){if(this.isVirtualMode()){var r=this.getBeginPageIndex(i),n=this.getEndPageIndex(i),a=i<this._position?this._beginPageIndex>r:this._endPageIndex<n;this._position=i,a&&(this._beginPageIndex=r,this._endPageIndex=n,this._fireColumnsChanged())}},getFixedColumns:function(i,r){var n=this.callBase(i);if(this.isVirtualMode()&&!r&&n.length){var a=n.map(s=>s.command).indexOf("transparent");return n[a].colspan=this.getVisibleColumns().length-this.callBase().length+1,n}return n},_compileVisibleColumns:function(i,r){var n;if(r||!this.isVirtualMode()||!this._shouldReturnVisibleColumns())return this.callBase(i);(n=this._columns)!==null&&n!==void 0&&n.length&&!oe(this._beginPageIndex)&&!oe(this._endPageIndex)&&(this._beginPageIndex=this.getBeginPageIndex(this._position),this._endPageIndex=this.getEndPageIndex(this._position));var a=this._beginPageIndex,s=this._endPageIndex,o=i+"-"+a+"-"+s;if(this._virtualVisibleColumns[o])return this._virtualVisibleColumns[o];var l=this.callBase(),u=this.getRowCount(),d=this.getColumnPageSize(),c=a*d,h=s*d,f=this.getFixedColumns(void 0,!0),p=f.map(H=>H.command).indexOf("transparent"),g=f.length?p:0,m=l.slice(0,g),v=l.slice(g,c),b=e(v).reduce((H,W)=>H+W,0);b||(c=0);var E=f.length?f.length-p-1:0,I=l.slice(l.length-E),R=l.slice(h,l.length-E),N=e(R).reduce((H,W)=>H+W,0);if(N||(h=l.length),u>1&&typeof i=="number"){for(var j=[],V=0;V<u;V++)j.push(this.callBase(V));m=Gg(j,0,m.length)[i]||[],I=Gg(j,l.length-I.length,l.length)[i]||[],l=Gg(j,c,h)[i]||[]}else l=l.slice(c,h);return b&&(l.unshift({command:"virtual",width:b}),l=m.concat(l)),N&&(l.push({command:"virtual",width:N}),l=l.concat(I)),this._virtualVisibleColumns[o]=l,l},getColumnIndexOffset:function(){var i=0;if(this._beginPageIndex>0){var r=this.getFixedColumns(),n=r.map(s=>s.command).indexOf("transparent"),a=n>=0?n:0;i=this._beginPageIndex*this.getColumnPageSize()-a-1}return i>0?i:0},dispose:function(){clearTimeout(this._changedTimeout),this.callBase.apply(this,arguments)}};return t}(),Bae={defaultOptions:function(){return{scrolling:{columnRenderingMode:"standard",columnPageSize:5,columnRenderingThreshold:300}}},extenders:{controllers:{columns:Mae},views:{columnHeadersView:Rae,rowsView:kae}}};qe.registerModule("virtualColumns",Bae);function Pae(e,t){for(var i=d=>d||1,r=[],n=(e[0]||[]).reduce((d,c)=>d+i(c.colspan),0),a=(d=>{var c=0,h=0;return()=>{var f=d[c]||[],p=f[h++];return h>=f.length&&(c++,h=0),p&&(p.colspan=i(p.colspan),p.rowspan=i(p.rowspan)),p}})(e),s=(d,c,h)=>{var f=r[d]=r[d]||[];if(f[c]=h,h.colspan>1||h.rowspan>1){for(var p=(b=>ce({},b,t))(h),g=1;g<h.colspan;g++)s(d,c+g,p);for(var m=1;m<h.rowspan;m++)for(var v=0;v<h.colspan;v++)s(d+m,c+v,p)}},o=a(),l=0;o;){for(var u=0;u<n&&o;u++)r[l]&&r[l][u]||(s(l,u,o),u+=o.colspan-1,o=a());l++}return r}var Oa=ft(),Zh=nd(),JE={EXCEL:"xlsx",CSS:"css",PNG:"png",JPEG:"jpeg",GIF:"gif",SVG:"svg",PDF:"pdf"},MR={CSS:"text/css",EXCEL:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",PNG:"image/png",JPEG:"image/jpeg",GIF:"image/gif",SVG:"image/svg+xml",PDF:"application/pdf"},Lae={_revokeObjectURLTimeout:3e4,_getDataUri:function(e,t){var i=this._getMimeType(e);return"data:".concat(i,";base64,").concat(t)},_getMimeType:function(e){return MR[e]||"application/octet-stream"},_linkDownloader:function(e,t){var i=Re.createElement("a");return i.download=e,i.href=t,i.target="_blank",i},_formDownloader:function(e,t,i,r){var n={method:"post",action:e,enctype:"multipart/form-data"},a=J("<form>").css({display:"none"}).attr(n);function s(o,l){for(var u in l)o.setAttribute(u,l[u]);return o}a.append(s(Re.createElement("input"),{type:"hidden",name:"fileName",value:t})),a.append(s(Re.createElement("input"),{type:"hidden",name:"contentType",value:i})),a.append(s(Re.createElement("input"),{type:"hidden",name:"data",value:r})),a.appendTo("body"),he.trigger(a,"submit"),he.trigger(a,"submit")&&a.remove()},_saveByProxy:function(e,t,i,r){var n=this._getMimeType(i);return this._formDownloader(e,t,n,r)},_winJSBlobSave:function(e,t,i){var r=new Windows.Storage.Pickers.FileSavePicker;r.suggestedStartLocation=Windows.Storage.Pickers.PickerLocationId.documentsLibrary;var n=JE[i];if(n){var a=this._getMimeType(i);r.fileTypeChoices.insert(a,["."+n])}r.suggestedFileName=t,r.pickSaveFileAsync().then(function(s){s&&s.openAsync(Windows.Storage.FileAccessMode.readWrite).then(function(o){var l=e.msDetachStream();Windows.Storage.Streams.RandomAccessStream.copyAsync(l,o).then(function(){o.flushAsync().done(function(){l.close(),o.close()})})})})},_click:function(e){try{e.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}catch{var t=Re.getDocument().createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,Oa,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}},_saveBlobAs:function(e,t,i){if(this._blobSaved=!1,oe(Zh.msSaveOrOpenBlob))Zh.msSaveOrOpenBlob(i,e),this._blobSaved=!0;else if(oe(Oa.WinJS))this._winJSBlobSave(i,e,t),this._blobSaved=!0;else{var r=Oa.URL||Oa.webkitURL||Oa.mozURL||Oa.msURL||Oa.oURL;if(oe(r)){var n=r.createObjectURL(i),a=this._linkDownloader(e,n);setTimeout(()=>{r.revokeObjectURL(n),this._objectUrlRevoked=!0},this._revokeObjectURLTimeout),this._click(a)}else rd.warn("window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL is not defined")}},saveAs:function(e,t,i,r,n){var a=JE[t];if(a&&(e+="."+a),oe(r)&&xt.log("W0001","Export","proxyURL","19.2","This option is no longer required"),n)this._saveByProxy(r,e,t,i);else if(We(Oa.Blob))this._saveBlobAs(e,t,i);else if(oe(r)&&!oe(Zh.userAgent.match(/iPad/i)))this._saveByProxy(r,e,t,i);else{oe(Zh.userAgent.match(/iPad/i))||xt.log("E1034");var s=this._linkDownloader(e,this._getDataUri(t,i));this._click(s)}}},BR={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(i){e.exports=i()})(function(){return function i(r,n,a){function s(u,d){if(!n[u]){if(!r[u]){var c=typeof Ha=="function"&&Ha;if(!d&&c)return c(u,!0);if(o)return o(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var f=n[u]={exports:{}};r[u][0].call(f.exports,function(p){var g=r[u][1][p];return s(g||p)},f,f.exports,i,r,n,a)}return n[u].exports}for(var o=typeof Ha=="function"&&Ha,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(i,r,n){var a=i("./utils"),s=i("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(l){for(var u,d,c,h,f,p,g,m=[],v=0,b=l.length,E=b,I=a.getTypeOf(l)!=="string";v<l.length;)E=b-v,c=I?(u=l[v++],d=v<b?l[v++]:0,v<b?l[v++]:0):(u=l.charCodeAt(v++),d=v<b?l.charCodeAt(v++):0,v<b?l.charCodeAt(v++):0),h=u>>2,f=(3&u)<<4|d>>4,p=1<E?(15&d)<<2|c>>6:64,g=2<E?63&c:64,m.push(o.charAt(h)+o.charAt(f)+o.charAt(p)+o.charAt(g));return m.join("")},n.decode=function(l){var u,d,c,h,f,p,g=0,m=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var b,E=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&E--,l.charAt(l.length-2)===o.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=s.uint8array?new Uint8Array(0|E):new Array(0|E);g<l.length;)u=o.indexOf(l.charAt(g++))<<2|(h=o.indexOf(l.charAt(g++)))>>4,d=(15&h)<<4|(f=o.indexOf(l.charAt(g++)))>>2,c=(3&f)<<6|(p=o.indexOf(l.charAt(g++))),b[m++]=u,f!==64&&(b[m++]=d),p!==64&&(b[m++]=c);return b}},{"./support":30,"./utils":32}],2:[function(i,r,n){var a=i("./external"),s=i("./stream/DataWorker"),o=i("./stream/Crc32Probe"),l=i("./stream/DataLengthProbe");function u(d,c,h,f,p){this.compressedSize=d,this.uncompressedSize=c,this.crc32=h,this.compression=f,this.compressedContent=p}u.prototype={getContentWorker:function(){var d=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),c=this;return d.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,c,h){return d.pipe(new o).pipe(new l("uncompressedSize")).pipe(c.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",c)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,r,n){var a=i("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},n.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,r,n){var a=i("./utils"),s=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(u,d,c,h){var f=s,p=h+c;u^=-1;for(var g=h;g<p;g++)u=u>>>8^f[255&(u^d[g])];return-1^u}(0|l,o,o.length,0):function(u,d,c,h){var f=s,p=h+c;u^=-1;for(var g=h;g<p;g++)u=u>>>8^f[255&(u^d.charCodeAt(g))];return-1^u}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(i,r,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(i,r,n){var a=null;a=typeof Promise<"u"?Promise:i("lie"),r.exports={Promise:a}},{lie:37}],7:[function(i,r,n){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=i("pako"),o=i("./utils"),l=i("./stream/GenericWorker"),u=a?"uint8array":"array";function d(c,h){l.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=h,this.meta={}}n.magic="\b\0",o.inherits(d,l),d.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,c.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(h){c.push({data:h,meta:c.meta})}},n.compressWorker=function(c){return new d("Deflate",c)},n.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,r,n){function a(f,p){var g,m="";for(g=0;g<p;g++)m+=String.fromCharCode(255&f),f>>>=8;return m}function s(f,p,g,m,v,b){var E,I,R=f.file,N=f.compression,j=b!==u.utf8encode,V=o.transformTo("string",b(R.name)),H=o.transformTo("string",u.utf8encode(R.name)),W=R.comment,G=o.transformTo("string",b(W)),P=o.transformTo("string",u.utf8encode(W)),A=H.length!==R.name.length,T=P.length!==W.length,x="",C="",y="",S=R.dir,w=R.date,k={crc32:0,compressedSize:0,uncompressedSize:0};p&&!g||(k.crc32=f.crc32,k.compressedSize=f.compressedSize,k.uncompressedSize=f.uncompressedSize);var M=0;p&&(M|=8),j||!A&&!T||(M|=2048);var O=0,F=0;S&&(O|=16),v==="UNIX"?(F=798,O|=function(X,L){var K=X;return X||(K=L?16893:33204),(65535&K)<<16}(R.unixPermissions,S)):(F=20,O|=function(X){return 63&(X||0)}(R.dosPermissions)),E=w.getUTCHours(),E<<=6,E|=w.getUTCMinutes(),E<<=5,E|=w.getUTCSeconds()/2,I=w.getUTCFullYear()-1980,I<<=4,I|=w.getUTCMonth()+1,I<<=5,I|=w.getUTCDate(),A&&(C=a(1,1)+a(d(V),4)+H,x+="up"+a(C.length,2)+C),T&&(y=a(1,1)+a(d(G),4)+P,x+="uc"+a(y.length,2)+y);var z="";return z+=`
\0`,z+=a(M,2),z+=N.magic,z+=a(E,2),z+=a(I,2),z+=a(k.crc32,4),z+=a(k.compressedSize,4),z+=a(k.uncompressedSize,4),z+=a(V.length,2),z+=a(x.length,2),{fileRecord:c.LOCAL_FILE_HEADER+z+V+x,dirRecord:c.CENTRAL_FILE_HEADER+a(F,2)+z+a(G.length,2)+"\0\0\0\0"+a(O,4)+a(m,4)+V+x+G}}var o=i("../utils"),l=i("../stream/GenericWorker"),u=i("../utf8"),d=i("../crc32"),c=i("../signature");function h(f,p,g,m){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=g,this.encodeFileName=m,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,l),h.prototype.push=function(f){var p=f.meta.percent||0,g=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:g?(p+100*(g-m-1))/g:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var p=this.streamFiles&&!f.file.dir;if(p){var g=s(f,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var p=this.streamFiles&&!f.file.dir,g=s(f,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),p)this.push({data:function(m){return c.DATA_DESCRIPTOR+a(m.crc32,4)+a(m.compressedSize,4)+a(m.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var g=this.bytesWritten-f,m=function(v,b,E,I,R){var N=o.transformTo("string",R(I));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(v,2)+a(v,2)+a(b,4)+a(E,4)+a(N.length,2)+N}(this.dirRecords.length,g,f,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var p=this;return f.on("data",function(g){p.processChunk(g)}),f.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),f.on("error",function(g){p.error(g)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var p=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var g=0;g<p.length;g++)try{p[g].error(f)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,p=0;p<f.length;p++)f[p].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,r,n){var a=i("../compressions"),s=i("./ZipFileWorker");n.generateWorker=function(o,l,u){var d=new s(l.streamFiles,u,l.platform,l.encodeFileName),c=0;try{o.forEach(function(h,f){c++;var p=function(b,E){var I=b||E,R=a[I];if(!R)throw new Error(I+" is not a valid compression method !");return R}(f.options.compression,l.compression),g=f.options.compressionOptions||l.compressionOptions||{},m=f.dir,v=f.date;f._compressWorker(p,g).withStreamInfo("file",{name:h,dir:m,date:v,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(d)}),d.entriesCount=c}catch(h){d.error(h)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,r,n){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=i("./object")).loadAsync=i("./load"),a.support=i("./support"),a.defaults=i("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=i("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,r,n){var a=i("./utils"),s=i("./external"),o=i("./utf8"),l=i("./zipEntries"),u=i("./stream/Crc32Probe"),d=i("./nodejsUtils");function c(h){return new s.Promise(function(f,p){var g=h.decompressed.getContentWorker().pipe(new u);g.on("error",function(m){p(m)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(h,f){var p=this;return f=a.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),d.isNode&&d.isStream(h)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(g){var m=new l(f);return m.load(g),m}).then(function(g){var m=[s.Promise.resolve(g)],v=g.files;if(f.checkCRC32)for(var b=0;b<v.length;b++)m.push(c(v[b]));return s.Promise.all(m)}).then(function(g){for(var m=g.shift(),v=m.files,b=0;b<v.length;b++){var E=v[b],I=E.fileNameStr,R=a.resolve(E.fileNameStr);p.file(R,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:f.createFolders}),E.dir||(p.file(R).unsafeOriginalName=I)}return m.zipComment.length&&(p.comment=m.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,r,n){var a=i("../utils"),s=i("../stream/GenericWorker");function o(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(o,s),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,r,n){var a=i("readable-stream").Readable;function s(o,l,u){a.call(this,l),this._helper=o;var d=this;o.on("data",function(c,h){d.push(c)||d._helper.pause(),u&&u(h)}).on("error",function(c){d.emit("error",c)}).on("end",function(){d.push(null)})}i("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(i,r,n){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(i,r,n){function a(R,N,j){var V,H=o.getTypeOf(N),W=o.extend(j||{},d);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(R=v(R)),W.createFolders&&(V=m(R))&&b.call(this,V,!0);var G=H==="string"&&W.binary===!1&&W.base64===!1;j&&j.binary!==void 0||(W.binary=!G),(N instanceof c&&N.uncompressedSize===0||W.dir||!N||N.length===0)&&(W.base64=!1,W.binary=!0,N="",W.compression="STORE",H="string");var P=null;P=N instanceof c||N instanceof l?N:p.isNode&&p.isStream(N)?new g(R,N):o.prepareContent(R,N,W.binary,W.optimizedBinaryString,W.base64);var A=new h(R,P,W);this.files[R]=A}var s=i("./utf8"),o=i("./utils"),l=i("./stream/GenericWorker"),u=i("./stream/StreamHelper"),d=i("./defaults"),c=i("./compressedObject"),h=i("./zipObject"),f=i("./generate"),p=i("./nodejsUtils"),g=i("./nodejs/NodejsStreamInputAdapter"),m=function(R){R.slice(-1)==="/"&&(R=R.substring(0,R.length-1));var N=R.lastIndexOf("/");return 0<N?R.substring(0,N):""},v=function(R){return R.slice(-1)!=="/"&&(R+="/"),R},b=function(R,N){return N=N!==void 0?N:d.createFolders,R=v(R),this.files[R]||a.call(this,R,null,{dir:!0,createFolders:N}),this.files[R]};function E(R){return Object.prototype.toString.call(R)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(R){var N,j,V;for(N in this.files)V=this.files[N],(j=N.slice(this.root.length,N.length))&&N.slice(0,this.root.length)===this.root&&R(j,V)},filter:function(R){var N=[];return this.forEach(function(j,V){R(j,V)&&N.push(V)}),N},file:function(R,N,j){if(arguments.length!==1)return R=this.root+R,a.call(this,R,N,j),this;if(E(R)){var V=R;return this.filter(function(W,G){return!G.dir&&V.test(W)})}var H=this.files[this.root+R];return H&&!H.dir?H:null},folder:function(R){if(!R)return this;if(E(R))return this.filter(function(H,W){return W.dir&&R.test(H)});var N=this.root+R,j=b.call(this,N),V=this.clone();return V.root=j.name,V},remove:function(R){R=this.root+R;var N=this.files[R];if(N||(R.slice(-1)!=="/"&&(R+="/"),N=this.files[R]),N&&!N.dir)delete this.files[R];else for(var j=this.filter(function(H,W){return W.name.slice(0,R.length)===R}),V=0;V<j.length;V++)delete this.files[j[V].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(R){var N,j={};try{if((j=o.extend(R||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");o.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var V=j.comment||this.comment||"";N=f.generateWorker(this,j,V)}catch(H){(N=new l("error")).error(H)}return new u(N,j.type||"string",j.mimeType)},generateAsync:function(R,N){return this.generateInternalStream(R).accumulate(N)},generateNodeStream:function(R,N){return(R=R||{}).type||(R.type="nodebuffer"),this.generateInternalStream(R).toNodejsStream(N)}};r.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,r,n){r.exports=i("stream")},{stream:void 0}],17:[function(i,r,n){var a=i("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}i("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),d=o.charCodeAt(2),c=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===u&&this.data[h+2]===d&&this.data[h+3]===c)return h-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),d=o.charCodeAt(2),c=o.charCodeAt(3),h=this.readData(4);return l===h[0]&&u===h[1]&&d===h[2]&&c===h[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(i,r,n){var a=i("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(i,r,n){var a=i("./Uint8ArrayReader");function s(o){a.call(this,o)}i("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,r,n){var a=i("./DataReader");function s(o){a.call(this,o)}i("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(i,r,n){var a=i("./ArrayReader");function s(o){a.call(this,o)}i("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(i,r,n){var a=i("../utils"),s=i("../support"),o=i("./ArrayReader"),l=i("./StringReader"),u=i("./NodeBufferReader"),d=i("./Uint8ArrayReader");r.exports=function(c){var h=a.getTypeOf(c);return a.checkSupport(h),h!=="string"||s.uint8array?h==="nodebuffer"?new u(c):s.uint8array?new d(a.transformTo("uint8array",c)):new o(a.transformTo("array",c)):new l(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,r,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,r,n){var a=i("./GenericWorker"),s=i("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(i,r,n){var a=i("./GenericWorker"),s=i("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,r,n){var a=i("../utils"),s=i("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(i,r,n){var a=i("../utils"),s=i("./GenericWorker");function o(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=a.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(i,r,n){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(i,r,n){var a=i("../utils"),s=i("./ConvertWorker"),o=i("./GenericWorker"),l=i("../base64"),u=i("../support"),d=i("../external"),c=null;if(u.nodestream)try{c=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(p,g){return new d.Promise(function(m,v){var b=[],E=p._internalType,I=p._outputType,R=p._mimeType;p.on("data",function(N,j){b.push(N),g&&g(j)}).on("error",function(N){b=[],v(N)}).on("end",function(){try{var N=function(j,V,H){switch(j){case"blob":return a.newBlob(a.transformTo("arraybuffer",V),H);case"base64":return l.encode(V);default:return a.transformTo(j,V)}}(I,function(j,V){var H,W=0,G=null,P=0;for(H=0;H<V.length;H++)P+=V[H].length;switch(j){case"string":return V.join("");case"array":return Array.prototype.concat.apply([],V);case"uint8array":for(G=new Uint8Array(P),H=0;H<V.length;H++)G.set(V[H],W),W+=V[H].length;return G;case"nodebuffer":return Buffer.concat(V);default:throw new Error("concat : unsupported type '"+j+"'")}}(E,b),R);m(N)}catch(j){v(j)}b=[]}).resume()})}function f(p,g,m){var v=g;switch(g){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=g,this._mimeType=m,a.checkSupport(v),this._worker=p.pipe(new s(v)),p.lock()}catch(b){this._worker=new o("error"),this._worker.error(b)}}f.prototype={accumulate:function(p){return h(this,p)},on:function(p,g){var m=this;return p==="data"?this._worker.on(p,function(v){g.call(m,v.data,v.meta)}):this._worker.on(p,function(){a.delay(g,arguments,m)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,r,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var a=new ArrayBuffer(0);try{n.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),n.blob=s.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!i("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(i,r,n){for(var a=i("./utils"),s=i("./support"),o=i("./nodejsUtils"),l=i("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function c(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}n.utf8encode=function(f){return s.nodebuffer?o.newBufferFrom(f,"utf-8"):function(p){var g,m,v,b,E,I=p.length,R=0;for(b=0;b<I;b++)(64512&(m=p.charCodeAt(b)))==55296&&b+1<I&&(64512&(v=p.charCodeAt(b+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),b++),R+=m<128?1:m<2048?2:m<65536?3:4;for(g=s.uint8array?new Uint8Array(R):new Array(R),b=E=0;E<R;b++)(64512&(m=p.charCodeAt(b)))==55296&&b+1<I&&(64512&(v=p.charCodeAt(b+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),b++),m<128?g[E++]=m:(m<2048?g[E++]=192|m>>>6:(m<65536?g[E++]=224|m>>>12:(g[E++]=240|m>>>18,g[E++]=128|m>>>12&63),g[E++]=128|m>>>6&63),g[E++]=128|63&m);return g}(f)},n.utf8decode=function(f){return s.nodebuffer?a.transformTo("nodebuffer",f).toString("utf-8"):function(p){var g,m,v,b,E=p.length,I=new Array(2*E);for(g=m=0;g<E;)if((v=p[g++])<128)I[m++]=v;else if(4<(b=u[v]))I[m++]=65533,g+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&g<E;)v=v<<6|63&p[g++],b--;1<b?I[m++]=65533:v<65536?I[m++]=v:(v-=65536,I[m++]=55296|v>>10&1023,I[m++]=56320|1023&v)}return I.length!==m&&(I.subarray?I=I.subarray(0,m):I.length=m),a.applyFromCharCode(I)}(f=a.transformTo(s.uint8array?"uint8array":"array",f))},a.inherits(c,l),c.prototype.processChunk=function(f){var p=a.transformTo(s.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var g=p;(p=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),p.set(g,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var m=function(b,E){var I;for((E=E||b.length)>b.length&&(E=b.length),I=E-1;0<=I&&(192&b[I])==128;)I--;return I<0||I===0?E:I+u[b[I]]>E?I:E}(p),v=p;m!==p.length&&(s.uint8array?(v=p.subarray(0,m),this.leftOver=p.subarray(m,p.length)):(v=p.slice(0,m),this.leftOver=p.slice(m,p.length))),this.push({data:n.utf8decode(v),meta:f.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,a.inherits(h,l),h.prototype.processChunk=function(f){this.push({data:n.utf8encode(f.data),meta:f.meta})},n.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,r,n){var a=i("./support"),s=i("./base64"),o=i("./nodejsUtils"),l=i("./external");function u(g){return g}function d(g,m){for(var v=0;v<g.length;++v)m[v]=255&g.charCodeAt(v);return m}i("setimmediate"),n.newBlob=function(g,m){n.checkSupport("blob");try{return new Blob([g],{type:m})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(g),v.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(g,m,v){var b=[],E=0,I=g.length;if(I<=v)return String.fromCharCode.apply(null,g);for(;E<I;)m==="array"||m==="nodebuffer"?b.push(String.fromCharCode.apply(null,g.slice(E,Math.min(E+v,I)))):b.push(String.fromCharCode.apply(null,g.subarray(E,Math.min(E+v,I)))),E+=v;return b.join("")},stringifyByChar:function(g){for(var m="",v=0;v<g.length;v++)m+=String.fromCharCode(g[v]);return m},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function h(g){var m=65536,v=n.getTypeOf(g),b=!0;if(v==="uint8array"?b=c.applyCanBeUsed.uint8array:v==="nodebuffer"&&(b=c.applyCanBeUsed.nodebuffer),b)for(;1<m;)try{return c.stringifyByChunk(g,v,m)}catch{m=Math.floor(m/2)}return c.stringifyByChar(g)}function f(g,m){for(var v=0;v<g.length;v++)m[v]=g[v];return m}n.applyFromCharCode=h;var p={};p.string={string:u,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return p.string.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:function(g){return d(g,o.allocBuffer(g.length))}},p.array={string:h,array:u,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},p.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return f(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:u,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},p.uint8array={string:h,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:u,nodebuffer:function(g){return o.newBufferFrom(g)}},p.nodebuffer={string:h,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return p.nodebuffer.uint8array(g).buffer},uint8array:function(g){return f(g,new Uint8Array(g.length))},nodebuffer:u},n.transformTo=function(g,m){if(m=m||"",!g)return m;n.checkSupport(g);var v=n.getTypeOf(m);return p[v][g](m)},n.resolve=function(g){for(var m=g.split("/"),v=[],b=0;b<m.length;b++){var E=m[b];E==="."||E===""&&b!==0&&b!==m.length-1||(E===".."?v.pop():v.push(E))}return v.join("/")},n.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(g)?"nodebuffer":a.uint8array&&g instanceof Uint8Array?"uint8array":a.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(g){if(!a[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(g){var m,v,b="";for(v=0;v<(g||"").length;v++)b+="\\x"+((m=g.charCodeAt(v))<16?"0":"")+m.toString(16).toUpperCase();return b},n.delay=function(g,m,v){setImmediate(function(){g.apply(v||null,m||[])})},n.inherits=function(g,m){function v(){}v.prototype=m.prototype,g.prototype=new v},n.extend=function(){var g,m,v={};for(g=0;g<arguments.length;g++)for(m in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],m)&&v[m]===void 0&&(v[m]=arguments[g][m]);return v},n.prepareContent=function(g,m,v,b,E){return l.Promise.resolve(m).then(function(I){return a.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1)&&typeof FileReader<"u"?new l.Promise(function(R,N){var j=new FileReader;j.onload=function(V){R(V.target.result)},j.onerror=function(V){N(V.target.error)},j.readAsArrayBuffer(I)}):I}).then(function(I){var R=n.getTypeOf(I);return R?(R==="arraybuffer"?I=n.transformTo("uint8array",I):R==="string"&&(E?I=s.decode(I):v&&b!==!0&&(I=function(N){return d(N,a.uint8array?new Uint8Array(N.length):new Array(N.length))}(I))),I):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,r,n){var a=i("./reader/readerFor"),s=i("./utils"),o=i("./signature"),l=i("./zipEntry"),u=i("./support");function d(c){this.files=[],this.loadOptions=c}d.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(h)+", expected "+s.pretty(c)+")")}},isSignature:function(c,h){var f=this.reader.index;this.reader.setIndex(c);var p=this.reader.readString(4)===h;return this.reader.setIndex(f),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",f=s.transformTo(h,c);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,h,f,p=this.zip64EndOfCentralSize-44;0<p;)c=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[c]={id:c,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,h;for(c=0;c<this.files.length;c++)h=this.files[c],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(c=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var h=c;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var p=h-f;if(0<p)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(c){this.reader=a(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,r,n){var a=i("./reader/readerFor"),s=i("./utils"),o=i("./compressedObject"),l=i("./crc32"),u=i("./utf8"),d=i("./compressions"),c=i("./support");function h(f,p){this.options=f,this.loadOptions=p}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var p,g;if(f.skip(22),this.fileNameLength=f.readInt(2),g=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(m){for(var v in d)if(Object.prototype.hasOwnProperty.call(d,v)&&d[v].magic===m)return d[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,p,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var p=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(p),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var p,g,m,v=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<v;)p=f.readInt(2),g=f.readInt(2),m=f.readData(g),this.extraFields[p]={id:p,length:g,value:m};f.setIndex(v)},handleUTF8:function(){var f=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var g=s.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var v=s.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var p=a(f.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:u.utf8decode(p.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var p=a(f.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:u.utf8decode(p.readData(f.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,r,n){function a(p,g,m){this.name=p,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=g,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var s=i("./stream/StreamHelper"),o=i("./stream/DataWorker"),l=i("./utf8"),u=i("./compressedObject"),d=i("./stream/GenericWorker");a.prototype={internalStream:function(p){var g=null,m="string";try{if(!p)throw new Error("No output type specified.");var v=(m=p.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),g=this._decompressWorker();var b=!this._dataBinary;b&&!v&&(g=g.pipe(new l.Utf8EncodeWorker)),!b&&v&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(E){(g=new d("error")).error(E)}return new s(g,m,"")},async:function(p,g){return this.internalStream(p).accumulate(g)},nodeStream:function(p,g){return this.internalStream(p||"nodebuffer").toNodejsStream(g)},_compressWorker:function(p,g){if(this._data instanceof u&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(m,p,g)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<c.length;f++)a.prototype[c[f]]=h;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,r,n){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var u=0,d=new l(p),c=a.document.createTextNode("");d.observe(c,{characterData:!0}),s=function(){c.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var g=a.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},a.document.documentElement.appendChild(g)}:function(){setTimeout(p,0)};else{var h=new a.MessageChannel;h.port1.onmessage=p,s=function(){h.port2.postMessage(0)}}var f=[];function p(){var g,m;o=!0;for(var v=f.length;v;){for(m=f,f=[],g=-1;++g<v;)m[g]();v=f.length}o=!1}r.exports=function(g){f.push(g)!==1||o||s()}}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,r,n){var a=i("immediate");function s(){}var o={},l=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function c(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,v!==s&&g(this,v)}function h(v,b,E){this.promise=v,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function f(v,b,E){a(function(){var I;try{I=b(E)}catch(R){return o.reject(v,R)}I===v?o.reject(v,new TypeError("Cannot resolve promise with itself")):o.resolve(v,I)})}function p(v){var b=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof b=="function")return function(){b.apply(v,arguments)}}function g(v,b){var E=!1;function I(j){E||(E=!0,o.reject(v,j))}function R(j){E||(E=!0,o.resolve(v,j))}var N=m(function(){b(R,I)});N.status==="error"&&I(N.value)}function m(v,b){var E={};try{E.value=v(b),E.status="success"}catch(I){E.status="error",E.value=I}return E}(r.exports=c).prototype.finally=function(v){if(typeof v!="function")return this;var b=this.constructor;return this.then(function(E){return b.resolve(v()).then(function(){return E})},function(E){return b.resolve(v()).then(function(){throw E})})},c.prototype.catch=function(v){return this.then(null,v)},c.prototype.then=function(v,b){if(typeof v!="function"&&this.state===u||typeof b!="function"&&this.state===l)return this;var E=new this.constructor(s);return this.state!==d?f(E,this.state===u?v:b,this.outcome):this.queue.push(new h(E,v,b)),E},h.prototype.callFulfilled=function(v){o.resolve(this.promise,v)},h.prototype.otherCallFulfilled=function(v){f(this.promise,this.onFulfilled,v)},h.prototype.callRejected=function(v){o.reject(this.promise,v)},h.prototype.otherCallRejected=function(v){f(this.promise,this.onRejected,v)},o.resolve=function(v,b){var E=m(p,b);if(E.status==="error")return o.reject(v,E.value);var I=E.value;if(I)g(v,I);else{v.state=u,v.outcome=b;for(var R=-1,N=v.queue.length;++R<N;)v.queue[R].callFulfilled(b)}return v},o.reject=function(v,b){v.state=l,v.outcome=b;for(var E=-1,I=v.queue.length;++E<I;)v.queue[E].callRejected(b);return v},c.resolve=function(v){return v instanceof this?v:o.resolve(new this(s),v)},c.reject=function(v){var b=new this(s);return o.reject(b,v)},c.all=function(v){var b=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=v.length,I=!1;if(!E)return this.resolve([]);for(var R=new Array(E),N=0,j=-1,V=new this(s);++j<E;)H(v[j],j);return V;function H(W,G){b.resolve(W).then(function(P){R[G]=P,++N!==E||I||(I=!0,o.resolve(V,R))},function(P){I||(I=!0,o.reject(V,P))})}},c.race=function(v){var b=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=v.length,I=!1;if(!E)return this.resolve([]);for(var R=-1,N=new this(s);++R<E;)j=v[R],b.resolve(j).then(function(V){I||(I=!0,o.resolve(N,V))},function(V){I||(I=!0,o.reject(N,V))});var j;return N}},{immediate:36}],38:[function(i,r,n){var a={};(0,i("./lib/utils/common").assign)(a,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,r,n){var a=i("./zlib/deflate"),s=i("./utils/common"),o=i("./utils/strings"),l=i("./zlib/messages"),u=i("./zlib/zstream"),d=Object.prototype.toString,c=0,h=-1,f=0,p=8;function g(v){if(!(this instanceof g))return new g(v);this.options=s.assign({level:h,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},v||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var E=a.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(E!==c)throw new Error(l[E]);if(b.header&&a.deflateSetHeader(this.strm,b.header),b.dictionary){var I;if(I=typeof b.dictionary=="string"?o.string2buf(b.dictionary):d.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(E=a.deflateSetDictionary(this.strm,I))!==c)throw new Error(l[E]);this._dict_set=!0}}function m(v,b){var E=new g(b);if(E.push(v,!0),E.err)throw E.msg||l[E.err];return E.result}g.prototype.push=function(v,b){var E,I,R=this.strm,N=this.options.chunkSize;if(this.ended)return!1;I=b===~~b?b:b===!0?4:0,typeof v=="string"?R.input=o.string2buf(v):d.call(v)==="[object ArrayBuffer]"?R.input=new Uint8Array(v):R.input=v,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new s.Buf8(N),R.next_out=0,R.avail_out=N),(E=a.deflate(R,I))!==1&&E!==c)return this.onEnd(E),!(this.ended=!0);R.avail_out!==0&&(R.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(R.output,R.next_out))):this.onData(s.shrinkBuf(R.output,R.next_out)))}while((0<R.avail_in||R.avail_out===0)&&E!==1);return I===4?(E=a.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===c):I!==2||(this.onEnd(c),!(R.avail_out=0))},g.prototype.onData=function(v){this.chunks.push(v)},g.prototype.onEnd=function(v){v===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},n.Deflate=g,n.deflate=m,n.deflateRaw=function(v,b){return(b=b||{}).raw=!0,m(v,b)},n.gzip=function(v,b){return(b=b||{}).gzip=!0,m(v,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,r,n){var a=i("./zlib/inflate"),s=i("./utils/common"),o=i("./utils/strings"),l=i("./zlib/constants"),u=i("./zlib/messages"),d=i("./zlib/zstream"),c=i("./zlib/gzheader"),h=Object.prototype.toString;function f(g){if(!(this instanceof f))return new f(g);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},g||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||g&&g.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var v=a.inflateInit2(this.strm,m.windowBits);if(v!==l.Z_OK)throw new Error(u[v]);this.header=new c,a.inflateGetHeader(this.strm,this.header)}function p(g,m){var v=new f(m);if(v.push(g,!0),v.err)throw v.msg||u[v.err];return v.result}f.prototype.push=function(g,m){var v,b,E,I,R,N,j=this.strm,V=this.options.chunkSize,H=this.options.dictionary,W=!1;if(this.ended)return!1;b=m===~~m?m:m===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?j.input=o.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?j.input=new Uint8Array(g):j.input=g,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new s.Buf8(V),j.next_out=0,j.avail_out=V),(v=a.inflate(j,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&H&&(N=typeof H=="string"?o.string2buf(H):h.call(H)==="[object ArrayBuffer]"?new Uint8Array(H):H,v=a.inflateSetDictionary(this.strm,N)),v===l.Z_BUF_ERROR&&W===!0&&(v=l.Z_OK,W=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&v!==l.Z_STREAM_END&&(j.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=o.utf8border(j.output,j.next_out),I=j.next_out-E,R=o.buf2string(j.output,E),j.next_out=I,j.avail_out=V-I,I&&s.arraySet(j.output,j.output,E,I,0),this.onData(R)):this.onData(s.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(W=!0)}while((0<j.avail_in||j.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(v=a.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(j.avail_out=0))},f.prototype.onData=function(g){this.chunks.push(g)},f.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},n.Inflate=f,n.inflate=p,n.inflateRaw=function(g,m){return(m=m||{}).raw=!0,p(g,m)},n.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,r,n){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var c in d)d.hasOwnProperty(c)&&(l[c]=d[c])}}return l},n.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,d,c,h){if(u.subarray&&l.subarray)l.set(u.subarray(d,d+c),h);else for(var f=0;f<c;f++)l[h+f]=u[d+f]},flattenChunks:function(l){var u,d,c,h,f,p;for(u=c=0,d=l.length;u<d;u++)c+=l[u].length;for(p=new Uint8Array(c),u=h=0,d=l.length;u<d;u++)f=l[u],p.set(f,h),h+=f.length;return p}},o={arraySet:function(l,u,d,c,h){for(var f=0;f<c;f++)l[h+f]=u[d+f]},flattenChunks:function(l){return[].concat.apply([],l)}};n.setTyped=function(l){l?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,s)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(a)},{}],42:[function(i,r,n){var a=i("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(c,h){if(h<65537&&(c.subarray&&o||!c.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(c,h));for(var f="",p=0;p<h;p++)f+=String.fromCharCode(c[p]);return f}l[254]=l[254]=1,n.string2buf=function(c){var h,f,p,g,m,v=c.length,b=0;for(g=0;g<v;g++)(64512&(f=c.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=c.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),g++),b+=f<128?1:f<2048?2:f<65536?3:4;for(h=new a.Buf8(b),g=m=0;m<b;g++)(64512&(f=c.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=c.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),g++),f<128?h[m++]=f:(f<2048?h[m++]=192|f>>>6:(f<65536?h[m++]=224|f>>>12:(h[m++]=240|f>>>18,h[m++]=128|f>>>12&63),h[m++]=128|f>>>6&63),h[m++]=128|63&f);return h},n.buf2binstring=function(c){return d(c,c.length)},n.binstring2buf=function(c){for(var h=new a.Buf8(c.length),f=0,p=h.length;f<p;f++)h[f]=c.charCodeAt(f);return h},n.buf2string=function(c,h){var f,p,g,m,v=h||c.length,b=new Array(2*v);for(f=p=0;f<v;)if((g=c[f++])<128)b[p++]=g;else if(4<(m=l[g]))b[p++]=65533,f+=m-1;else{for(g&=m===2?31:m===3?15:7;1<m&&f<v;)g=g<<6|63&c[f++],m--;1<m?b[p++]=65533:g<65536?b[p++]=g:(g-=65536,b[p++]=55296|g>>10&1023,b[p++]=56320|1023&g)}return d(b,p)},n.utf8border=function(c,h){var f;for((h=h||c.length)>c.length&&(h=c.length),f=h-1;0<=f&&(192&c[f])==128;)f--;return f<0||f===0?h:f+l[c[f]]>h?f:h}},{"./common":41}],43:[function(i,r,n){r.exports=function(a,s,o,l){for(var u=65535&a|0,d=a>>>16&65535|0,c=0;o!==0;){for(o-=c=2e3<o?2e3:o;d=d+(u=u+s[l++]|0)|0,--c;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(i,r,n){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,r,n){var a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();r.exports=function(s,o,l,u){var d=a,c=u+l;s^=-1;for(var h=u;h<c;h++)s=s>>>8^d[255&(s^o[h])];return-1^s}},{}],46:[function(i,r,n){var a,s=i("../utils/common"),o=i("./trees"),l=i("./adler32"),u=i("./crc32"),d=i("./messages"),c=0,h=4,f=0,p=-2,g=-1,m=4,v=2,b=8,E=9,I=286,R=30,N=19,j=2*I+1,V=15,H=3,W=258,G=W+H+1,P=42,A=113,T=1,x=2,C=3,y=4;function S($,ie){return $.msg=d[ie],ie}function w($){return($<<1)-(4<$?9:0)}function k($){for(var ie=$.length;0<=--ie;)$[ie]=0}function M($){var ie=$.state,te=ie.pending;te>$.avail_out&&(te=$.avail_out),te!==0&&(s.arraySet($.output,ie.pending_buf,ie.pending_out,te,$.next_out),$.next_out+=te,ie.pending_out+=te,$.total_out+=te,$.avail_out-=te,ie.pending-=te,ie.pending===0&&(ie.pending_out=0))}function O($,ie){o._tr_flush_block($,0<=$.block_start?$.block_start:-1,$.strstart-$.block_start,ie),$.block_start=$.strstart,M($.strm)}function F($,ie){$.pending_buf[$.pending++]=ie}function z($,ie){$.pending_buf[$.pending++]=ie>>>8&255,$.pending_buf[$.pending++]=255&ie}function X($,ie){var te,Y,ee=$.max_chain_length,re=$.strstart,ne=$.prev_length,ue=$.nice_match,le=$.strstart>$.w_size-G?$.strstart-($.w_size-G):0,pe=$.window,se=$.w_mask,ae=$.prev,de=$.strstart+W,fe=pe[re+ne-1],me=pe[re+ne];$.prev_length>=$.good_match&&(ee>>=2),ue>$.lookahead&&(ue=$.lookahead);do if(pe[(te=ie)+ne]===me&&pe[te+ne-1]===fe&&pe[te]===pe[re]&&pe[++te]===pe[re+1]){re+=2,te++;do;while(pe[++re]===pe[++te]&&pe[++re]===pe[++te]&&pe[++re]===pe[++te]&&pe[++re]===pe[++te]&&pe[++re]===pe[++te]&&pe[++re]===pe[++te]&&pe[++re]===pe[++te]&&pe[++re]===pe[++te]&&re<de);if(Y=W-(de-re),re=de-W,ne<Y){if($.match_start=ie,ue<=(ne=Y))break;fe=pe[re+ne-1],me=pe[re+ne]}}while((ie=ae[ie&se])>le&&--ee!=0);return ne<=$.lookahead?ne:$.lookahead}function L($){var ie,te,Y,ee,re,ne,ue,le,pe,se,ae=$.w_size;do{if(ee=$.window_size-$.lookahead-$.strstart,$.strstart>=ae+(ae-G)){for(s.arraySet($.window,$.window,ae,ae,0),$.match_start-=ae,$.strstart-=ae,$.block_start-=ae,ie=te=$.hash_size;Y=$.head[--ie],$.head[ie]=ae<=Y?Y-ae:0,--te;);for(ie=te=ae;Y=$.prev[--ie],$.prev[ie]=ae<=Y?Y-ae:0,--te;);ee+=ae}if($.strm.avail_in===0)break;if(ne=$.strm,ue=$.window,le=$.strstart+$.lookahead,pe=ee,se=void 0,se=ne.avail_in,pe<se&&(se=pe),te=se===0?0:(ne.avail_in-=se,s.arraySet(ue,ne.input,ne.next_in,se,le),ne.state.wrap===1?ne.adler=l(ne.adler,ue,se,le):ne.state.wrap===2&&(ne.adler=u(ne.adler,ue,se,le)),ne.next_in+=se,ne.total_in+=se,se),$.lookahead+=te,$.lookahead+$.insert>=H)for(re=$.strstart-$.insert,$.ins_h=$.window[re],$.ins_h=($.ins_h<<$.hash_shift^$.window[re+1])&$.hash_mask;$.insert&&($.ins_h=($.ins_h<<$.hash_shift^$.window[re+H-1])&$.hash_mask,$.prev[re&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=re,re++,$.insert--,!($.lookahead+$.insert<H)););}while($.lookahead<G&&$.strm.avail_in!==0)}function K($,ie){for(var te,Y;;){if($.lookahead<G){if(L($),$.lookahead<G&&ie===c)return T;if($.lookahead===0)break}if(te=0,$.lookahead>=H&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+H-1])&$.hash_mask,te=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),te!==0&&$.strstart-te<=$.w_size-G&&($.match_length=X($,te)),$.match_length>=H)if(Y=o._tr_tally($,$.strstart-$.match_start,$.match_length-H),$.lookahead-=$.match_length,$.match_length<=$.max_lazy_match&&$.lookahead>=H){for($.match_length--;$.strstart++,$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+H-1])&$.hash_mask,te=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart,--$.match_length!=0;);$.strstart++}else $.strstart+=$.match_length,$.match_length=0,$.ins_h=$.window[$.strstart],$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+1])&$.hash_mask;else Y=o._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++;if(Y&&(O($,!1),$.strm.avail_out===0))return T}return $.insert=$.strstart<H-1?$.strstart:H-1,ie===h?(O($,!0),$.strm.avail_out===0?C:y):$.last_lit&&(O($,!1),$.strm.avail_out===0)?T:x}function D($,ie){for(var te,Y,ee;;){if($.lookahead<G){if(L($),$.lookahead<G&&ie===c)return T;if($.lookahead===0)break}if(te=0,$.lookahead>=H&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+H-1])&$.hash_mask,te=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),$.prev_length=$.match_length,$.prev_match=$.match_start,$.match_length=H-1,te!==0&&$.prev_length<$.max_lazy_match&&$.strstart-te<=$.w_size-G&&($.match_length=X($,te),$.match_length<=5&&($.strategy===1||$.match_length===H&&4096<$.strstart-$.match_start)&&($.match_length=H-1)),$.prev_length>=H&&$.match_length<=$.prev_length){for(ee=$.strstart+$.lookahead-H,Y=o._tr_tally($,$.strstart-1-$.prev_match,$.prev_length-H),$.lookahead-=$.prev_length-1,$.prev_length-=2;++$.strstart<=ee&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+H-1])&$.hash_mask,te=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),--$.prev_length!=0;);if($.match_available=0,$.match_length=H-1,$.strstart++,Y&&(O($,!1),$.strm.avail_out===0))return T}else if($.match_available){if((Y=o._tr_tally($,0,$.window[$.strstart-1]))&&O($,!1),$.strstart++,$.lookahead--,$.strm.avail_out===0)return T}else $.match_available=1,$.strstart++,$.lookahead--}return $.match_available&&(Y=o._tr_tally($,0,$.window[$.strstart-1]),$.match_available=0),$.insert=$.strstart<H-1?$.strstart:H-1,ie===h?(O($,!0),$.strm.avail_out===0?C:y):$.last_lit&&(O($,!1),$.strm.avail_out===0)?T:x}function B($,ie,te,Y,ee){this.good_length=$,this.max_lazy=ie,this.nice_length=te,this.max_chain=Y,this.func=ee}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*j),this.dyn_dtree=new s.Buf16(2*(2*R+1)),this.bl_tree=new s.Buf16(2*(2*N+1)),k(this.dyn_ltree),k(this.dyn_dtree),k(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(V+1),this.heap=new s.Buf16(2*I+1),k(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*I+1),k(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Q($){var ie;return $&&$.state?($.total_in=$.total_out=0,$.data_type=v,(ie=$.state).pending=0,ie.pending_out=0,ie.wrap<0&&(ie.wrap=-ie.wrap),ie.status=ie.wrap?P:A,$.adler=ie.wrap===2?0:1,ie.last_flush=c,o._tr_init(ie),f):S($,p)}function q($){var ie=Q($);return ie===f&&function(te){te.window_size=2*te.w_size,k(te.head),te.max_lazy_match=a[te.level].max_lazy,te.good_match=a[te.level].good_length,te.nice_match=a[te.level].nice_length,te.max_chain_length=a[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=H-1,te.match_available=0,te.ins_h=0}($.state),ie}function Z($,ie,te,Y,ee,re){if(!$)return p;var ne=1;if(ie===g&&(ie=6),Y<0?(ne=0,Y=-Y):15<Y&&(ne=2,Y-=16),ee<1||E<ee||te!==b||Y<8||15<Y||ie<0||9<ie||re<0||m<re)return S($,p);Y===8&&(Y=9);var ue=new U;return($.state=ue).strm=$,ue.wrap=ne,ue.gzhead=null,ue.w_bits=Y,ue.w_size=1<<ue.w_bits,ue.w_mask=ue.w_size-1,ue.hash_bits=ee+7,ue.hash_size=1<<ue.hash_bits,ue.hash_mask=ue.hash_size-1,ue.hash_shift=~~((ue.hash_bits+H-1)/H),ue.window=new s.Buf8(2*ue.w_size),ue.head=new s.Buf16(ue.hash_size),ue.prev=new s.Buf16(ue.w_size),ue.lit_bufsize=1<<ee+6,ue.pending_buf_size=4*ue.lit_bufsize,ue.pending_buf=new s.Buf8(ue.pending_buf_size),ue.d_buf=1*ue.lit_bufsize,ue.l_buf=3*ue.lit_bufsize,ue.level=ie,ue.strategy=re,ue.method=te,q($)}a=[new B(0,0,0,0,function($,ie){var te=65535;for(te>$.pending_buf_size-5&&(te=$.pending_buf_size-5);;){if($.lookahead<=1){if(L($),$.lookahead===0&&ie===c)return T;if($.lookahead===0)break}$.strstart+=$.lookahead,$.lookahead=0;var Y=$.block_start+te;if(($.strstart===0||$.strstart>=Y)&&($.lookahead=$.strstart-Y,$.strstart=Y,O($,!1),$.strm.avail_out===0)||$.strstart-$.block_start>=$.w_size-G&&(O($,!1),$.strm.avail_out===0))return T}return $.insert=0,ie===h?(O($,!0),$.strm.avail_out===0?C:y):($.strstart>$.block_start&&(O($,!1),$.strm.avail_out),T)}),new B(4,4,8,4,K),new B(4,5,16,8,K),new B(4,6,32,32,K),new B(4,4,16,16,D),new B(8,16,32,32,D),new B(8,16,128,128,D),new B(8,32,128,256,D),new B(32,128,258,1024,D),new B(32,258,258,4096,D)],n.deflateInit=function($,ie){return Z($,ie,b,15,8,0)},n.deflateInit2=Z,n.deflateReset=q,n.deflateResetKeep=Q,n.deflateSetHeader=function($,ie){return $&&$.state?$.state.wrap!==2?p:($.state.gzhead=ie,f):p},n.deflate=function($,ie){var te,Y,ee,re;if(!$||!$.state||5<ie||ie<0)return $?S($,p):p;if(Y=$.state,!$.output||!$.input&&$.avail_in!==0||Y.status===666&&ie!==h)return S($,$.avail_out===0?-5:p);if(Y.strm=$,te=Y.last_flush,Y.last_flush=ie,Y.status===P)if(Y.wrap===2)$.adler=0,F(Y,31),F(Y,139),F(Y,8),Y.gzhead?(F(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),F(Y,255&Y.gzhead.time),F(Y,Y.gzhead.time>>8&255),F(Y,Y.gzhead.time>>16&255),F(Y,Y.gzhead.time>>24&255),F(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),F(Y,255&Y.gzhead.os),Y.gzhead.extra&&Y.gzhead.extra.length&&(F(Y,255&Y.gzhead.extra.length),F(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&($.adler=u($.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=69):(F(Y,0),F(Y,0),F(Y,0),F(Y,0),F(Y,0),F(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),F(Y,3),Y.status=A);else{var ne=b+(Y.w_bits-8<<4)<<8;ne|=(2<=Y.strategy||Y.level<2?0:Y.level<6?1:Y.level===6?2:3)<<6,Y.strstart!==0&&(ne|=32),ne+=31-ne%31,Y.status=A,z(Y,ne),Y.strstart!==0&&(z(Y,$.adler>>>16),z(Y,65535&$.adler)),$.adler=1}if(Y.status===69)if(Y.gzhead.extra){for(ee=Y.pending;Y.gzindex<(65535&Y.gzhead.extra.length)&&(Y.pending!==Y.pending_buf_size||(Y.gzhead.hcrc&&Y.pending>ee&&($.adler=u($.adler,Y.pending_buf,Y.pending-ee,ee)),M($),ee=Y.pending,Y.pending!==Y.pending_buf_size));)F(Y,255&Y.gzhead.extra[Y.gzindex]),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>ee&&($.adler=u($.adler,Y.pending_buf,Y.pending-ee,ee)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=73)}else Y.status=73;if(Y.status===73)if(Y.gzhead.name){ee=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>ee&&($.adler=u($.adler,Y.pending_buf,Y.pending-ee,ee)),M($),ee=Y.pending,Y.pending===Y.pending_buf_size)){re=1;break}re=Y.gzindex<Y.gzhead.name.length?255&Y.gzhead.name.charCodeAt(Y.gzindex++):0,F(Y,re)}while(re!==0);Y.gzhead.hcrc&&Y.pending>ee&&($.adler=u($.adler,Y.pending_buf,Y.pending-ee,ee)),re===0&&(Y.gzindex=0,Y.status=91)}else Y.status=91;if(Y.status===91)if(Y.gzhead.comment){ee=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>ee&&($.adler=u($.adler,Y.pending_buf,Y.pending-ee,ee)),M($),ee=Y.pending,Y.pending===Y.pending_buf_size)){re=1;break}re=Y.gzindex<Y.gzhead.comment.length?255&Y.gzhead.comment.charCodeAt(Y.gzindex++):0,F(Y,re)}while(re!==0);Y.gzhead.hcrc&&Y.pending>ee&&($.adler=u($.adler,Y.pending_buf,Y.pending-ee,ee)),re===0&&(Y.status=103)}else Y.status=103;if(Y.status===103&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&M($),Y.pending+2<=Y.pending_buf_size&&(F(Y,255&$.adler),F(Y,$.adler>>8&255),$.adler=0,Y.status=A)):Y.status=A),Y.pending!==0){if(M($),$.avail_out===0)return Y.last_flush=-1,f}else if($.avail_in===0&&w(ie)<=w(te)&&ie!==h)return S($,-5);if(Y.status===666&&$.avail_in!==0)return S($,-5);if($.avail_in!==0||Y.lookahead!==0||ie!==c&&Y.status!==666){var ue=Y.strategy===2?function(le,pe){for(var se;;){if(le.lookahead===0&&(L(le),le.lookahead===0)){if(pe===c)return T;break}if(le.match_length=0,se=o._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++,se&&(O(le,!1),le.strm.avail_out===0))return T}return le.insert=0,pe===h?(O(le,!0),le.strm.avail_out===0?C:y):le.last_lit&&(O(le,!1),le.strm.avail_out===0)?T:x}(Y,ie):Y.strategy===3?function(le,pe){for(var se,ae,de,fe,me=le.window;;){if(le.lookahead<=W){if(L(le),le.lookahead<=W&&pe===c)return T;if(le.lookahead===0)break}if(le.match_length=0,le.lookahead>=H&&0<le.strstart&&(ae=me[de=le.strstart-1])===me[++de]&&ae===me[++de]&&ae===me[++de]){fe=le.strstart+W;do;while(ae===me[++de]&&ae===me[++de]&&ae===me[++de]&&ae===me[++de]&&ae===me[++de]&&ae===me[++de]&&ae===me[++de]&&ae===me[++de]&&de<fe);le.match_length=W-(fe-de),le.match_length>le.lookahead&&(le.match_length=le.lookahead)}if(le.match_length>=H?(se=o._tr_tally(le,1,le.match_length-H),le.lookahead-=le.match_length,le.strstart+=le.match_length,le.match_length=0):(se=o._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++),se&&(O(le,!1),le.strm.avail_out===0))return T}return le.insert=0,pe===h?(O(le,!0),le.strm.avail_out===0?C:y):le.last_lit&&(O(le,!1),le.strm.avail_out===0)?T:x}(Y,ie):a[Y.level].func(Y,ie);if(ue!==C&&ue!==y||(Y.status=666),ue===T||ue===C)return $.avail_out===0&&(Y.last_flush=-1),f;if(ue===x&&(ie===1?o._tr_align(Y):ie!==5&&(o._tr_stored_block(Y,0,0,!1),ie===3&&(k(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),M($),$.avail_out===0))return Y.last_flush=-1,f}return ie!==h?f:Y.wrap<=0?1:(Y.wrap===2?(F(Y,255&$.adler),F(Y,$.adler>>8&255),F(Y,$.adler>>16&255),F(Y,$.adler>>24&255),F(Y,255&$.total_in),F(Y,$.total_in>>8&255),F(Y,$.total_in>>16&255),F(Y,$.total_in>>24&255)):(z(Y,$.adler>>>16),z(Y,65535&$.adler)),M($),0<Y.wrap&&(Y.wrap=-Y.wrap),Y.pending!==0?f:1)},n.deflateEnd=function($){var ie;return $&&$.state?(ie=$.state.status)!==P&&ie!==69&&ie!==73&&ie!==91&&ie!==103&&ie!==A&&ie!==666?S($,p):($.state=null,ie===A?S($,-3):f):p},n.deflateSetDictionary=function($,ie){var te,Y,ee,re,ne,ue,le,pe,se=ie.length;if(!$||!$.state||(re=(te=$.state).wrap)===2||re===1&&te.status!==P||te.lookahead)return p;for(re===1&&($.adler=l($.adler,ie,se,0)),te.wrap=0,se>=te.w_size&&(re===0&&(k(te.head),te.strstart=0,te.block_start=0,te.insert=0),pe=new s.Buf8(te.w_size),s.arraySet(pe,ie,se-te.w_size,te.w_size,0),ie=pe,se=te.w_size),ne=$.avail_in,ue=$.next_in,le=$.input,$.avail_in=se,$.next_in=0,$.input=ie,L(te);te.lookahead>=H;){for(Y=te.strstart,ee=te.lookahead-(H-1);te.ins_h=(te.ins_h<<te.hash_shift^te.window[Y+H-1])&te.hash_mask,te.prev[Y&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=Y,Y++,--ee;);te.strstart=Y,te.lookahead=H-1,L(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=H-1,te.match_available=0,$.next_in=ue,$.input=le,$.avail_in=ne,te.wrap=re,f},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,r,n){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,r,n){r.exports=function(a,s){var o,l,u,d,c,h,f,p,g,m,v,b,E,I,R,N,j,V,H,W,G,P,A,T,x;o=a.state,l=a.next_in,T=a.input,u=l+(a.avail_in-5),d=a.next_out,x=a.output,c=d-(s-a.avail_out),h=d+(a.avail_out-257),f=o.dmax,p=o.wsize,g=o.whave,m=o.wnext,v=o.window,b=o.hold,E=o.bits,I=o.lencode,R=o.distcode,N=(1<<o.lenbits)-1,j=(1<<o.distbits)-1;e:do{E<15&&(b+=T[l++]<<E,E+=8,b+=T[l++]<<E,E+=8),V=I[b&N];t:for(;;){if(b>>>=H=V>>>24,E-=H,(H=V>>>16&255)===0)x[d++]=65535&V;else{if(!(16&H)){if(!(64&H)){V=I[(65535&V)+(b&(1<<H)-1)];continue t}if(32&H){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}W=65535&V,(H&=15)&&(E<H&&(b+=T[l++]<<E,E+=8),W+=b&(1<<H)-1,b>>>=H,E-=H),E<15&&(b+=T[l++]<<E,E+=8,b+=T[l++]<<E,E+=8),V=R[b&j];i:for(;;){if(b>>>=H=V>>>24,E-=H,!(16&(H=V>>>16&255))){if(!(64&H)){V=R[(65535&V)+(b&(1<<H)-1)];continue i}a.msg="invalid distance code",o.mode=30;break e}if(G=65535&V,E<(H&=15)&&(b+=T[l++]<<E,(E+=8)<H&&(b+=T[l++]<<E,E+=8)),f<(G+=b&(1<<H)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(b>>>=H,E-=H,(H=d-c)<G){if(g<(H=G-H)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(A=v,(P=0)===m){if(P+=p-H,H<W){for(W-=H;x[d++]=v[P++],--H;);P=d-G,A=x}}else if(m<H){if(P+=p+m-H,(H-=m)<W){for(W-=H;x[d++]=v[P++],--H;);if(P=0,m<W){for(W-=H=m;x[d++]=v[P++],--H;);P=d-G,A=x}}}else if(P+=m-H,H<W){for(W-=H;x[d++]=v[P++],--H;);P=d-G,A=x}for(;2<W;)x[d++]=A[P++],x[d++]=A[P++],x[d++]=A[P++],W-=3;W&&(x[d++]=A[P++],1<W&&(x[d++]=A[P++]))}else{for(P=d-G;x[d++]=x[P++],x[d++]=x[P++],x[d++]=x[P++],2<(W-=3););W&&(x[d++]=x[P++],1<W&&(x[d++]=x[P++]))}break}}break}}while(l<u&&d<h);l-=W=E>>3,b&=(1<<(E-=W<<3))-1,a.next_in=l,a.next_out=d,a.avail_in=l<u?u-l+5:5-(l-u),a.avail_out=d<h?h-d+257:257-(d-h),o.hold=b,o.bits=E}},{}],49:[function(i,r,n){var a=i("../utils/common"),s=i("./adler32"),o=i("./crc32"),l=i("./inffast"),u=i("./inftrees"),d=1,c=2,h=0,f=-2,p=1,g=852,m=592;function v(P){return(P>>>24&255)+(P>>>8&65280)+((65280&P)<<8)+((255&P)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(P){var A;return P&&P.state?(A=P.state,P.total_in=P.total_out=A.total=0,P.msg="",A.wrap&&(P.adler=1&A.wrap),A.mode=p,A.last=0,A.havedict=0,A.dmax=32768,A.head=null,A.hold=0,A.bits=0,A.lencode=A.lendyn=new a.Buf32(g),A.distcode=A.distdyn=new a.Buf32(m),A.sane=1,A.back=-1,h):f}function I(P){var A;return P&&P.state?((A=P.state).wsize=0,A.whave=0,A.wnext=0,E(P)):f}function R(P,A){var T,x;return P&&P.state?(x=P.state,A<0?(T=0,A=-A):(T=1+(A>>4),A<48&&(A&=15)),A&&(A<8||15<A)?f:(x.window!==null&&x.wbits!==A&&(x.window=null),x.wrap=T,x.wbits=A,I(P))):f}function N(P,A){var T,x;return P?(x=new b,(P.state=x).window=null,(T=R(P,A))!==h&&(P.state=null),T):f}var j,V,H=!0;function W(P){if(H){var A;for(j=new a.Buf32(512),V=new a.Buf32(32),A=0;A<144;)P.lens[A++]=8;for(;A<256;)P.lens[A++]=9;for(;A<280;)P.lens[A++]=7;for(;A<288;)P.lens[A++]=8;for(u(d,P.lens,0,288,j,0,P.work,{bits:9}),A=0;A<32;)P.lens[A++]=5;u(c,P.lens,0,32,V,0,P.work,{bits:5}),H=!1}P.lencode=j,P.lenbits=9,P.distcode=V,P.distbits=5}function G(P,A,T,x){var C,y=P.state;return y.window===null&&(y.wsize=1<<y.wbits,y.wnext=0,y.whave=0,y.window=new a.Buf8(y.wsize)),x>=y.wsize?(a.arraySet(y.window,A,T-y.wsize,y.wsize,0),y.wnext=0,y.whave=y.wsize):(x<(C=y.wsize-y.wnext)&&(C=x),a.arraySet(y.window,A,T-x,C,y.wnext),(x-=C)?(a.arraySet(y.window,A,T-x,x,0),y.wnext=x,y.whave=y.wsize):(y.wnext+=C,y.wnext===y.wsize&&(y.wnext=0),y.whave<y.wsize&&(y.whave+=C))),0}n.inflateReset=I,n.inflateReset2=R,n.inflateResetKeep=E,n.inflateInit=function(P){return N(P,15)},n.inflateInit2=N,n.inflate=function(P,A){var T,x,C,y,S,w,k,M,O,F,z,X,L,K,D,B,U,Q,q,Z,$,ie,te,Y,ee=0,re=new a.Buf8(4),ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return f;(T=P.state).mode===12&&(T.mode=13),S=P.next_out,C=P.output,k=P.avail_out,y=P.next_in,x=P.input,w=P.avail_in,M=T.hold,O=T.bits,F=w,z=k,ie=h;e:for(;;)switch(T.mode){case p:if(T.wrap===0){T.mode=13;break}for(;O<16;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}if(2&T.wrap&&M===35615){re[T.check=0]=255&M,re[1]=M>>>8&255,T.check=o(T.check,re,2,0),O=M=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&M)<<8)+(M>>8))%31){P.msg="incorrect header check",T.mode=30;break}if((15&M)!=8){P.msg="unknown compression method",T.mode=30;break}if(O-=4,$=8+(15&(M>>>=4)),T.wbits===0)T.wbits=$;else if($>T.wbits){P.msg="invalid window size",T.mode=30;break}T.dmax=1<<$,P.adler=T.check=1,T.mode=512&M?10:12,O=M=0;break;case 2:for(;O<16;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}if(T.flags=M,(255&T.flags)!=8){P.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){P.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=M>>8&1),512&T.flags&&(re[0]=255&M,re[1]=M>>>8&255,T.check=o(T.check,re,2,0)),O=M=0,T.mode=3;case 3:for(;O<32;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}T.head&&(T.head.time=M),512&T.flags&&(re[0]=255&M,re[1]=M>>>8&255,re[2]=M>>>16&255,re[3]=M>>>24&255,T.check=o(T.check,re,4,0)),O=M=0,T.mode=4;case 4:for(;O<16;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}T.head&&(T.head.xflags=255&M,T.head.os=M>>8),512&T.flags&&(re[0]=255&M,re[1]=M>>>8&255,T.check=o(T.check,re,2,0)),O=M=0,T.mode=5;case 5:if(1024&T.flags){for(;O<16;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}T.length=M,T.head&&(T.head.extra_len=M),512&T.flags&&(re[0]=255&M,re[1]=M>>>8&255,T.check=o(T.check,re,2,0)),O=M=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(w<(X=T.length)&&(X=w),X&&(T.head&&($=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),a.arraySet(T.head.extra,x,y,X,$)),512&T.flags&&(T.check=o(T.check,x,X,y)),w-=X,y+=X,T.length-=X),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(w===0)break e;for(X=0;$=x[y+X++],T.head&&$&&T.length<65536&&(T.head.name+=String.fromCharCode($)),$&&X<w;);if(512&T.flags&&(T.check=o(T.check,x,X,y)),w-=X,y+=X,$)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(w===0)break e;for(X=0;$=x[y+X++],T.head&&$&&T.length<65536&&(T.head.comment+=String.fromCharCode($)),$&&X<w;);if(512&T.flags&&(T.check=o(T.check,x,X,y)),w-=X,y+=X,$)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;O<16;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}if(M!==(65535&T.check)){P.msg="header crc mismatch",T.mode=30;break}O=M=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),P.adler=T.check=0,T.mode=12;break;case 10:for(;O<32;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}P.adler=T.check=v(M),O=M=0,T.mode=11;case 11:if(T.havedict===0)return P.next_out=S,P.avail_out=k,P.next_in=y,P.avail_in=w,T.hold=M,T.bits=O,2;P.adler=T.check=1,T.mode=12;case 12:if(A===5||A===6)break e;case 13:if(T.last){M>>>=7&O,O-=7&O,T.mode=27;break}for(;O<3;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}switch(T.last=1&M,O-=1,3&(M>>>=1)){case 0:T.mode=14;break;case 1:if(W(T),T.mode=20,A!==6)break;M>>>=2,O-=2;break e;case 2:T.mode=17;break;case 3:P.msg="invalid block type",T.mode=30}M>>>=2,O-=2;break;case 14:for(M>>>=7&O,O-=7&O;O<32;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}if((65535&M)!=(M>>>16^65535)){P.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&M,O=M=0,T.mode=15,A===6)break e;case 15:T.mode=16;case 16:if(X=T.length){if(w<X&&(X=w),k<X&&(X=k),X===0)break e;a.arraySet(C,x,y,X,S),w-=X,y+=X,k-=X,S+=X,T.length-=X;break}T.mode=12;break;case 17:for(;O<14;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}if(T.nlen=257+(31&M),M>>>=5,O-=5,T.ndist=1+(31&M),M>>>=5,O-=5,T.ncode=4+(15&M),M>>>=4,O-=4,286<T.nlen||30<T.ndist){P.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;O<3;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}T.lens[ne[T.have++]]=7&M,M>>>=3,O-=3}for(;T.have<19;)T.lens[ne[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,te={bits:T.lenbits},ie=u(0,T.lens,0,19,T.lencode,0,T.work,te),T.lenbits=te.bits,ie){P.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;B=(ee=T.lencode[M&(1<<T.lenbits)-1])>>>16&255,U=65535&ee,!((D=ee>>>24)<=O);){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}if(U<16)M>>>=D,O-=D,T.lens[T.have++]=U;else{if(U===16){for(Y=D+2;O<Y;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}if(M>>>=D,O-=D,T.have===0){P.msg="invalid bit length repeat",T.mode=30;break}$=T.lens[T.have-1],X=3+(3&M),M>>>=2,O-=2}else if(U===17){for(Y=D+3;O<Y;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}O-=D,$=0,X=3+(7&(M>>>=D)),M>>>=3,O-=3}else{for(Y=D+7;O<Y;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}O-=D,$=0,X=11+(127&(M>>>=D)),M>>>=7,O-=7}if(T.have+X>T.nlen+T.ndist){P.msg="invalid bit length repeat",T.mode=30;break}for(;X--;)T.lens[T.have++]=$}}if(T.mode===30)break;if(T.lens[256]===0){P.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,te={bits:T.lenbits},ie=u(d,T.lens,0,T.nlen,T.lencode,0,T.work,te),T.lenbits=te.bits,ie){P.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,te={bits:T.distbits},ie=u(c,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,te),T.distbits=te.bits,ie){P.msg="invalid distances set",T.mode=30;break}if(T.mode=20,A===6)break e;case 20:T.mode=21;case 21:if(6<=w&&258<=k){P.next_out=S,P.avail_out=k,P.next_in=y,P.avail_in=w,T.hold=M,T.bits=O,l(P,z),S=P.next_out,C=P.output,k=P.avail_out,y=P.next_in,x=P.input,w=P.avail_in,M=T.hold,O=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;B=(ee=T.lencode[M&(1<<T.lenbits)-1])>>>16&255,U=65535&ee,!((D=ee>>>24)<=O);){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}if(B&&!(240&B)){for(Q=D,q=B,Z=U;B=(ee=T.lencode[Z+((M&(1<<Q+q)-1)>>Q)])>>>16&255,U=65535&ee,!(Q+(D=ee>>>24)<=O);){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}M>>>=Q,O-=Q,T.back+=Q}if(M>>>=D,O-=D,T.back+=D,T.length=U,B===0){T.mode=26;break}if(32&B){T.back=-1,T.mode=12;break}if(64&B){P.msg="invalid literal/length code",T.mode=30;break}T.extra=15&B,T.mode=22;case 22:if(T.extra){for(Y=T.extra;O<Y;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}T.length+=M&(1<<T.extra)-1,M>>>=T.extra,O-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;B=(ee=T.distcode[M&(1<<T.distbits)-1])>>>16&255,U=65535&ee,!((D=ee>>>24)<=O);){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}if(!(240&B)){for(Q=D,q=B,Z=U;B=(ee=T.distcode[Z+((M&(1<<Q+q)-1)>>Q)])>>>16&255,U=65535&ee,!(Q+(D=ee>>>24)<=O);){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}M>>>=Q,O-=Q,T.back+=Q}if(M>>>=D,O-=D,T.back+=D,64&B){P.msg="invalid distance code",T.mode=30;break}T.offset=U,T.extra=15&B,T.mode=24;case 24:if(T.extra){for(Y=T.extra;O<Y;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}T.offset+=M&(1<<T.extra)-1,M>>>=T.extra,O-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){P.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(k===0)break e;if(X=z-k,T.offset>X){if((X=T.offset-X)>T.whave&&T.sane){P.msg="invalid distance too far back",T.mode=30;break}L=X>T.wnext?(X-=T.wnext,T.wsize-X):T.wnext-X,X>T.length&&(X=T.length),K=T.window}else K=C,L=S-T.offset,X=T.length;for(k<X&&(X=k),k-=X,T.length-=X;C[S++]=K[L++],--X;);T.length===0&&(T.mode=21);break;case 26:if(k===0)break e;C[S++]=T.length,k--,T.mode=21;break;case 27:if(T.wrap){for(;O<32;){if(w===0)break e;w--,M|=x[y++]<<O,O+=8}if(z-=k,P.total_out+=z,T.total+=z,z&&(P.adler=T.check=T.flags?o(T.check,C,z,S-z):s(T.check,C,z,S-z)),z=k,(T.flags?M:v(M))!==T.check){P.msg="incorrect data check",T.mode=30;break}O=M=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;O<32;){if(w===0)break e;w--,M+=x[y++]<<O,O+=8}if(M!==(4294967295&T.total)){P.msg="incorrect length check",T.mode=30;break}O=M=0}T.mode=29;case 29:ie=1;break e;case 30:ie=-3;break e;case 31:return-4;case 32:default:return f}return P.next_out=S,P.avail_out=k,P.next_in=y,P.avail_in=w,T.hold=M,T.bits=O,(T.wsize||z!==P.avail_out&&T.mode<30&&(T.mode<27||A!==4))&&G(P,P.output,P.next_out,z-P.avail_out)?(T.mode=31,-4):(F-=P.avail_in,z-=P.avail_out,P.total_in+=F,P.total_out+=z,T.total+=z,T.wrap&&z&&(P.adler=T.check=T.flags?o(T.check,C,z,P.next_out-z):s(T.check,C,z,P.next_out-z)),P.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(F==0&&z===0||A===4)&&ie===h&&(ie=-5),ie)},n.inflateEnd=function(P){if(!P||!P.state)return f;var A=P.state;return A.window&&(A.window=null),P.state=null,h},n.inflateGetHeader=function(P,A){var T;return P&&P.state&&2&(T=P.state).wrap?((T.head=A).done=!1,h):f},n.inflateSetDictionary=function(P,A){var T,x=A.length;return P&&P.state?(T=P.state).wrap!==0&&T.mode!==11?f:T.mode===11&&s(1,A,x,0)!==T.check?-3:G(P,A,x,x)?(T.mode=31,-4):(T.havedict=1,h):f},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,r,n){var a=i("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,c,h,f,p,g,m,v){var b,E,I,R,N,j,V,H,W,G=v.bits,P=0,A=0,T=0,x=0,C=0,y=0,S=0,w=0,k=0,M=0,O=null,F=0,z=new a.Buf16(16),X=new a.Buf16(16),L=null,K=0;for(P=0;P<=15;P++)z[P]=0;for(A=0;A<f;A++)z[c[h+A]]++;for(C=G,x=15;1<=x&&z[x]===0;x--);if(x<C&&(C=x),x===0)return p[g++]=20971520,p[g++]=20971520,v.bits=1,0;for(T=1;T<x&&z[T]===0;T++);for(C<T&&(C=T),P=w=1;P<=15;P++)if(w<<=1,(w-=z[P])<0)return-1;if(0<w&&(d===0||x!==1))return-1;for(X[1]=0,P=1;P<15;P++)X[P+1]=X[P]+z[P];for(A=0;A<f;A++)c[h+A]!==0&&(m[X[c[h+A]]++]=A);if(j=d===0?(O=L=m,19):d===1?(O=s,F-=257,L=o,K-=257,256):(O=l,L=u,-1),P=T,N=g,S=A=M=0,I=-1,R=(k=1<<(y=C))-1,d===1&&852<k||d===2&&592<k)return 1;for(;;){for(V=P-S,W=m[A]<j?(H=0,m[A]):m[A]>j?(H=L[K+m[A]],O[F+m[A]]):(H=96,0),b=1<<P-S,T=E=1<<y;p[N+(M>>S)+(E-=b)]=V<<24|H<<16|W|0,E!==0;);for(b=1<<P-1;M&b;)b>>=1;if(b!==0?(M&=b-1,M+=b):M=0,A++,--z[P]==0){if(P===x)break;P=c[h+m[A]]}if(C<P&&(M&R)!==I){for(S===0&&(S=C),N+=T,w=1<<(y=P-S);y+S<x&&!((w-=z[y+S])<=0);)y++,w<<=1;if(k+=1<<y,d===1&&852<k||d===2&&592<k)return 1;p[I=M&R]=C<<24|y<<16|N-g|0}}return M!==0&&(p[N+M]=P-S<<24|64<<16|0),v.bits=C,0}},{"../utils/common":41}],51:[function(i,r,n){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,r,n){var a=i("../utils/common"),s=0,o=1;function l(ee){for(var re=ee.length;0<=--re;)ee[re]=0}var u=0,d=29,c=256,h=c+1+d,f=30,p=19,g=2*h+1,m=15,v=16,b=7,E=256,I=16,R=17,N=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(h+2));l(G);var P=new Array(2*f);l(P);var A=new Array(512);l(A);var T=new Array(256);l(T);var x=new Array(d);l(x);var C,y,S,w=new Array(f);function k(ee,re,ne,ue,le){this.static_tree=ee,this.extra_bits=re,this.extra_base=ne,this.elems=ue,this.max_length=le,this.has_stree=ee&&ee.length}function M(ee,re){this.dyn_tree=ee,this.max_code=0,this.stat_desc=re}function O(ee){return ee<256?A[ee]:A[256+(ee>>>7)]}function F(ee,re){ee.pending_buf[ee.pending++]=255&re,ee.pending_buf[ee.pending++]=re>>>8&255}function z(ee,re,ne){ee.bi_valid>v-ne?(ee.bi_buf|=re<<ee.bi_valid&65535,F(ee,ee.bi_buf),ee.bi_buf=re>>v-ee.bi_valid,ee.bi_valid+=ne-v):(ee.bi_buf|=re<<ee.bi_valid&65535,ee.bi_valid+=ne)}function X(ee,re,ne){z(ee,ne[2*re],ne[2*re+1])}function L(ee,re){for(var ne=0;ne|=1&ee,ee>>>=1,ne<<=1,0<--re;);return ne>>>1}function K(ee,re,ne){var ue,le,pe=new Array(m+1),se=0;for(ue=1;ue<=m;ue++)pe[ue]=se=se+ne[ue-1]<<1;for(le=0;le<=re;le++){var ae=ee[2*le+1];ae!==0&&(ee[2*le]=L(pe[ae]++,ae))}}function D(ee){var re;for(re=0;re<h;re++)ee.dyn_ltree[2*re]=0;for(re=0;re<f;re++)ee.dyn_dtree[2*re]=0;for(re=0;re<p;re++)ee.bl_tree[2*re]=0;ee.dyn_ltree[2*E]=1,ee.opt_len=ee.static_len=0,ee.last_lit=ee.matches=0}function B(ee){8<ee.bi_valid?F(ee,ee.bi_buf):0<ee.bi_valid&&(ee.pending_buf[ee.pending++]=ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0}function U(ee,re,ne,ue){var le=2*re,pe=2*ne;return ee[le]<ee[pe]||ee[le]===ee[pe]&&ue[re]<=ue[ne]}function Q(ee,re,ne){for(var ue=ee.heap[ne],le=ne<<1;le<=ee.heap_len&&(le<ee.heap_len&&U(re,ee.heap[le+1],ee.heap[le],ee.depth)&&le++,!U(re,ue,ee.heap[le],ee.depth));)ee.heap[ne]=ee.heap[le],ne=le,le<<=1;ee.heap[ne]=ue}function q(ee,re,ne){var ue,le,pe,se,ae=0;if(ee.last_lit!==0)for(;ue=ee.pending_buf[ee.d_buf+2*ae]<<8|ee.pending_buf[ee.d_buf+2*ae+1],le=ee.pending_buf[ee.l_buf+ae],ae++,ue===0?X(ee,le,re):(X(ee,(pe=T[le])+c+1,re),(se=j[pe])!==0&&z(ee,le-=x[pe],se),X(ee,pe=O(--ue),ne),(se=V[pe])!==0&&z(ee,ue-=w[pe],se)),ae<ee.last_lit;);X(ee,E,re)}function Z(ee,re){var ne,ue,le,pe=re.dyn_tree,se=re.stat_desc.static_tree,ae=re.stat_desc.has_stree,de=re.stat_desc.elems,fe=-1;for(ee.heap_len=0,ee.heap_max=g,ne=0;ne<de;ne++)pe[2*ne]!==0?(ee.heap[++ee.heap_len]=fe=ne,ee.depth[ne]=0):pe[2*ne+1]=0;for(;ee.heap_len<2;)pe[2*(le=ee.heap[++ee.heap_len]=fe<2?++fe:0)]=1,ee.depth[le]=0,ee.opt_len--,ae&&(ee.static_len-=se[2*le+1]);for(re.max_code=fe,ne=ee.heap_len>>1;1<=ne;ne--)Q(ee,pe,ne);for(le=de;ne=ee.heap[1],ee.heap[1]=ee.heap[ee.heap_len--],Q(ee,pe,1),ue=ee.heap[1],ee.heap[--ee.heap_max]=ne,ee.heap[--ee.heap_max]=ue,pe[2*le]=pe[2*ne]+pe[2*ue],ee.depth[le]=(ee.depth[ne]>=ee.depth[ue]?ee.depth[ne]:ee.depth[ue])+1,pe[2*ne+1]=pe[2*ue+1]=le,ee.heap[1]=le++,Q(ee,pe,1),2<=ee.heap_len;);ee.heap[--ee.heap_max]=ee.heap[1],function(me,ge){var ye,_e,Se,Ie,Ce,Te,Me=ge.dyn_tree,Pe=ge.max_code,$e=ge.stat_desc.static_tree,Le=ge.stat_desc.has_stree,je=ge.stat_desc.extra_bits,Xe=ge.stat_desc.extra_base,it=ge.stat_desc.max_length,rt=0;for(Ie=0;Ie<=m;Ie++)me.bl_count[Ie]=0;for(Me[2*me.heap[me.heap_max]+1]=0,ye=me.heap_max+1;ye<g;ye++)it<(Ie=Me[2*Me[2*(_e=me.heap[ye])+1]+1]+1)&&(Ie=it,rt++),Me[2*_e+1]=Ie,Pe<_e||(me.bl_count[Ie]++,Ce=0,Xe<=_e&&(Ce=je[_e-Xe]),Te=Me[2*_e],me.opt_len+=Te*(Ie+Ce),Le&&(me.static_len+=Te*($e[2*_e+1]+Ce)));if(rt!==0){do{for(Ie=it-1;me.bl_count[Ie]===0;)Ie--;me.bl_count[Ie]--,me.bl_count[Ie+1]+=2,me.bl_count[it]--,rt-=2}while(0<rt);for(Ie=it;Ie!==0;Ie--)for(_e=me.bl_count[Ie];_e!==0;)Pe<(Se=me.heap[--ye])||(Me[2*Se+1]!==Ie&&(me.opt_len+=(Ie-Me[2*Se+1])*Me[2*Se],Me[2*Se+1]=Ie),_e--)}}(ee,re),K(pe,fe,ee.bl_count)}function $(ee,re,ne){var ue,le,pe=-1,se=re[1],ae=0,de=7,fe=4;for(se===0&&(de=138,fe=3),re[2*(ne+1)+1]=65535,ue=0;ue<=ne;ue++)le=se,se=re[2*(ue+1)+1],++ae<de&&le===se||(ae<fe?ee.bl_tree[2*le]+=ae:le!==0?(le!==pe&&ee.bl_tree[2*le]++,ee.bl_tree[2*I]++):ae<=10?ee.bl_tree[2*R]++:ee.bl_tree[2*N]++,pe=le,fe=(ae=0)===se?(de=138,3):le===se?(de=6,3):(de=7,4))}function ie(ee,re,ne){var ue,le,pe=-1,se=re[1],ae=0,de=7,fe=4;for(se===0&&(de=138,fe=3),ue=0;ue<=ne;ue++)if(le=se,se=re[2*(ue+1)+1],!(++ae<de&&le===se)){if(ae<fe)for(;X(ee,le,ee.bl_tree),--ae!=0;);else le!==0?(le!==pe&&(X(ee,le,ee.bl_tree),ae--),X(ee,I,ee.bl_tree),z(ee,ae-3,2)):ae<=10?(X(ee,R,ee.bl_tree),z(ee,ae-3,3)):(X(ee,N,ee.bl_tree),z(ee,ae-11,7));pe=le,fe=(ae=0)===se?(de=138,3):le===se?(de=6,3):(de=7,4)}}l(w);var te=!1;function Y(ee,re,ne,ue){z(ee,(u<<1)+(ue?1:0),3),function(le,pe,se,ae){B(le),ae&&(F(le,se),F(le,~se)),a.arraySet(le.pending_buf,le.window,pe,se,le.pending),le.pending+=se}(ee,re,ne,!0)}n._tr_init=function(ee){te||(function(){var re,ne,ue,le,pe,se=new Array(m+1);for(le=ue=0;le<d-1;le++)for(x[le]=ue,re=0;re<1<<j[le];re++)T[ue++]=le;for(T[ue-1]=le,le=pe=0;le<16;le++)for(w[le]=pe,re=0;re<1<<V[le];re++)A[pe++]=le;for(pe>>=7;le<f;le++)for(w[le]=pe<<7,re=0;re<1<<V[le]-7;re++)A[256+pe++]=le;for(ne=0;ne<=m;ne++)se[ne]=0;for(re=0;re<=143;)G[2*re+1]=8,re++,se[8]++;for(;re<=255;)G[2*re+1]=9,re++,se[9]++;for(;re<=279;)G[2*re+1]=7,re++,se[7]++;for(;re<=287;)G[2*re+1]=8,re++,se[8]++;for(K(G,h+1,se),re=0;re<f;re++)P[2*re+1]=5,P[2*re]=L(re,5);C=new k(G,j,c+1,h,m),y=new k(P,V,0,f,m),S=new k(new Array(0),H,0,p,b)}(),te=!0),ee.l_desc=new M(ee.dyn_ltree,C),ee.d_desc=new M(ee.dyn_dtree,y),ee.bl_desc=new M(ee.bl_tree,S),ee.bi_buf=0,ee.bi_valid=0,D(ee)},n._tr_stored_block=Y,n._tr_flush_block=function(ee,re,ne,ue){var le,pe,se=0;0<ee.level?(ee.strm.data_type===2&&(ee.strm.data_type=function(ae){var de,fe=4093624447;for(de=0;de<=31;de++,fe>>>=1)if(1&fe&&ae.dyn_ltree[2*de]!==0)return s;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return o;for(de=32;de<c;de++)if(ae.dyn_ltree[2*de]!==0)return o;return s}(ee)),Z(ee,ee.l_desc),Z(ee,ee.d_desc),se=function(ae){var de;for($(ae,ae.dyn_ltree,ae.l_desc.max_code),$(ae,ae.dyn_dtree,ae.d_desc.max_code),Z(ae,ae.bl_desc),de=p-1;3<=de&&ae.bl_tree[2*W[de]+1]===0;de--);return ae.opt_len+=3*(de+1)+5+5+4,de}(ee),le=ee.opt_len+3+7>>>3,(pe=ee.static_len+3+7>>>3)<=le&&(le=pe)):le=pe=ne+5,ne+4<=le&&re!==-1?Y(ee,re,ne,ue):ee.strategy===4||pe===le?(z(ee,2+(ue?1:0),3),q(ee,G,P)):(z(ee,4+(ue?1:0),3),function(ae,de,fe,me){var ge;for(z(ae,de-257,5),z(ae,fe-1,5),z(ae,me-4,4),ge=0;ge<me;ge++)z(ae,ae.bl_tree[2*W[ge]+1],3);ie(ae,ae.dyn_ltree,de-1),ie(ae,ae.dyn_dtree,fe-1)}(ee,ee.l_desc.max_code+1,ee.d_desc.max_code+1,se+1),q(ee,ee.dyn_ltree,ee.dyn_dtree)),D(ee),ue&&B(ee)},n._tr_tally=function(ee,re,ne){return ee.pending_buf[ee.d_buf+2*ee.last_lit]=re>>>8&255,ee.pending_buf[ee.d_buf+2*ee.last_lit+1]=255&re,ee.pending_buf[ee.l_buf+ee.last_lit]=255&ne,ee.last_lit++,re===0?ee.dyn_ltree[2*ne]++:(ee.matches++,re--,ee.dyn_ltree[2*(T[ne]+c+1)]++,ee.dyn_dtree[2*O(re)]++),ee.last_lit===ee.lit_bufsize-1},n._tr_align=function(ee){z(ee,2,3),X(ee,E,G),function(re){re.bi_valid===16?(F(re,re.bi_buf),re.bi_buf=0,re.bi_valid=0):8<=re.bi_valid&&(re.pending_buf[re.pending++]=255&re.bi_buf,re.bi_buf>>=8,re.bi_valid-=8)}(ee)}},{"../utils/common":41}],53:[function(i,r,n){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,r,n){(function(a){(function(s,o){if(!s.setImmediate){var l,u,d,c,h=1,f={},p=!1,g=s.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(s);m=m&&m.setTimeout?m:s,l={}.toString.call(s.process)==="[object process]"?function(I){process.nextTick(function(){b(I)})}:function(){if(s.postMessage&&!s.importScripts){var I=!0,R=s.onmessage;return s.onmessage=function(){I=!1},s.postMessage("","*"),s.onmessage=R,I}}()?(c="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",E,!1):s.attachEvent("onmessage",E),function(I){s.postMessage(c+I,"*")}):s.MessageChannel?((d=new MessageChannel).port1.onmessage=function(I){b(I.data)},function(I){d.port2.postMessage(I)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,function(I){var R=g.createElement("script");R.onreadystatechange=function(){b(I),R.onreadystatechange=null,u.removeChild(R),R=null},u.appendChild(R)}):function(I){setTimeout(b,0,I)},m.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var R=new Array(arguments.length-1),N=0;N<R.length;N++)R[N]=arguments[N+1];var j={callback:I,args:R};return f[h]=j,l(h),h++},m.clearImmediate=v}function v(I){delete f[I]}function b(I){if(p)setTimeout(b,0,I);else{var R=f[I];if(R){p=!0;try{(function(N){var j=N.callback,V=N.args;switch(V.length){case 0:j();break;case 1:j(V[0]);break;case 2:j(V[0],V[1]);break;case 3:j(V[0],V[1],V[2]);break;default:j.apply(o,V)}})(R)}finally{v(I),p=!1}}}}function E(I){I.source===s&&typeof I.data=="string"&&I.data.indexOf(c)===0&&b(+I.data.slice(c.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(BR);var Fae=BR.exports;const Nae=r2(Fae);var QE=1632,eT={thousands:"#,##0{0},&quot;K&quot;",millions:"#,##0{0},,&quot;M&quot;",billions:"#,##0{0},,,&quot;B&quot;",trillions:"#,##0{0},,,,&quot;T&quot;",percent:"0{0}%",decimal:"#{0}",fixedpoint:"#,##0{0}",exponential:"0{0}E+00",currency:" "},Vae=/a+/g,Hae=/E/g,$ae=/dE+/g,zae=/L/g,Wae=/h/g,jae=/./g,uf={_applyPrecision:function(e,t){var i,r;if(t>0){for(i=e!=="decimal"?".":"",r=0;r<t;r++)i+="0";return i}return""},_hasArabicDigits:function(e){for(var t,i=0;i<e.length;i++)if(t=e.charCodeAt(i),t>=QE&&t<QE+10)return!0;return!1},_convertDateFormatToOpenXml:function(e){return e.split("/").join("\\/").split("'").map(function(t,i){return i%2===0?t.replace(Vae,"AM/PM").replace($ae,"d").replace(Hae,"d").replace(zae,"M").replace(Wae,"H").split("[").join("\\[").split("]").join("\\]"):t?t.replace(jae,"\\$&"):"'"}).join("")},_convertDateFormat:function(e){var t=(gt.format(new Date(2009,8,8,6,5,4),e)||"").toString(),i=wf(r=>gt.format(r,e));return i&&(i=this._convertDateFormatToOpenXml(i),i=this._getLanguageInfo(t)+i),i},_getLanguageInfo:function(e){var t=tI(),i=t?t.toString(16):"",r="";if(this._hasArabicDigits(e)){for(;i.length<3;)i="0"+i;r="[$-2010"+i+"]"}else i&&(r="[$-"+i+"]");return r},_convertNumberFormat:function(e,t,i){var r,n;return e==="currency"?n=Xt.getOpenXmlCurrencyFormat(i):n=eT[e.toLowerCase()],n&&(r=fn(n,this._applyPrecision(e,t))),r},convertFormat:function(e,t,i,r){if(oe(e)){if(i==="date")return uf._convertDateFormat(e);if(nt(e)&&eT[e.toLowerCase()])return uf._convertNumberFormat(e,t,r)}}},ir={toXml:function(e,t,i){var r=["<",e];for(var n in t){var a=t[n];oe(a)&&r.push(" ",n,'="',a,'"')}return oe(i)&&i!==""?r.push(">",i,"</",e,">"):r.push(" />"),r.join("")}},Jn={tryCreateTag:function(e){var t=null;return oe(e)&&(t={vertical:e.vertical,wrapText:e.wrapText,horizontal:e.horizontal},Jn.isEmpty(t)&&(t=null)),t},copy:function(e){var t=null;return oe(e)&&(t={},e.horizontal!==void 0&&(t.horizontal=e.horizontal),e.vertical!==void 0&&(t.vertical=e.vertical),e.wrapText!==void 0&&(t.wrapText=e.wrapText)),t},areEqual:function(e,t){return Jn.isEmpty(e)&&Jn.isEmpty(t)||oe(e)&&oe(t)&&e.vertical===t.vertical&&e.wrapText===t.wrapText&&e.horizontal===t.horizontal},isEmpty:function(e){return!oe(e)||!oe(e.vertical)&&!oe(e.wrapText)&&!oe(e.horizontal)},toXml:function(e){return ir.toXml("alignment",{vertical:e.vertical,wrapText:oe(e.wrapText)?Number(e.wrapText):void 0,horizontal:e.horizontal})}},ur={_tryConvertColor:function(e){if(typeof e!="string")return e;var t;if(e.length>0&&e[0]==="#"){var i=e.substr(1,e.length);i.length===6?t="FF"+i:i.length===8?t=i[6]+i[7]+i.substr(0,6):t=i}else t=e;return t},tryCreateTag:function(e){var t=null;return oe(e)&&(typeof e=="string"?t={rgb:this._tryConvertColor(e)}:t={rgb:this._tryConvertColor(e.rgb),theme:e.theme},ur.isEmpty(t)&&(t=null)),t},copy:function(e){var t=null;return oe(e)&&(typeof e=="string"?t=e:(t={},e.rgb!==void 0&&(t.rgb=e.rgb),e.theme!==void 0&&(t.theme=e.theme))),t},isEmpty:function(e){return!oe(e)||!oe(e.rgb)&&!oe(e.theme)},areEqual:function(e,t){return ur.isEmpty(e)&&ur.isEmpty(t)||oe(e)&&oe(t)&&e.rgb===t.rgb&&e.theme===t.theme},toXml:function(e,t){return ir.toXml(e,{rgb:t.rgb,theme:t.theme})}},Fa={tryCreateTag:function(e){var t=null;return oe(e)&&(t={patternType:e.patternType,backgroundColor:ur.tryCreateTag(e.backgroundColor),foregroundColor:ur.tryCreateTag(e.foregroundColor)},Fa.isEmpty(t)&&(t=null)),t},copy:function(e){var t=null;return oe(e)&&(t={},e.patternType!==void 0&&(t.patternType=e.patternType),e.backgroundColor!==void 0&&(t.backgroundColor=ur.copy(e.backgroundColor)),e.foregroundColor!==void 0&&(t.foregroundColor=ur.copy(e.foregroundColor))),t},areEqual:function(e,t){return Fa.isEmpty(e)&&Fa.isEmpty(t)||oe(e)&&oe(t)&&e.patternType===t.patternType&&ur.areEqual(e.backgroundColor,t.backgroundColor)&&ur.areEqual(e.foregroundColor,t.foregroundColor)},isEmpty:function(e){return!oe(e)||!oe(e.patternType)},toXml:function(e){var t=[oe(e.foregroundColor)?ur.toXml("fgColor",e.foregroundColor):"",oe(e.backgroundColor)?ur.toXml("bgColor",e.backgroundColor):""].join("");return ir.toXml("patternFill",{patternType:e.patternType},t)}},dn={tryCreateTag:function(e){var t=null;return oe(e)&&(t={patternFill:Fa.tryCreateTag(e.patternFill)},dn.isEmpty(t)&&(t=null)),t},tryCreateFillFromSimpleFormat:function(){var{backgroundColor:e,fillPatternType:t,fillPatternColor:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(oe(e)&&!(oe(t)&&oe(i)))return{patternFill:{patternType:"solid",foregroundColor:{rgb:e}}};if(oe(t)&&oe(i))return{patternFill:{patternType:t,foregroundColor:{rgb:i},backgroundColor:{rgb:e}}}},copySimpleFormat:function(e,t){e.backgroundColor!==void 0&&(t.backgroundColor=e.backgroundColor),e.fillPatternType!==void 0&&(t.fillPatternType=e.fillPatternType),e.fillPatternColor!==void 0&&(t.fillPatternColor=e.fillPatternColor)},copy:function(e){var t=null;return oe(e)&&(t={},e.patternFill!==void 0&&(t.patternFill=Fa.copy(e.patternFill))),t},areEqual:function(e,t){return dn.isEmpty(e)&&dn.isEmpty(t)||oe(e)&&oe(t)&&Fa.areEqual(e.patternFill,t.patternFill)},isEmpty:function(e){return!oe(e)||Fa.isEmpty(e.patternFill)},toXml:function(e){return ir.toXml("fill",{},Fa.toXml(e.patternFill))}},$s={tryCreateTag:function(e){var t=null;return oe(e)&&(t={size:e.size,name:e.name,family:e.family,scheme:e.scheme,bold:e.bold,italic:e.italic,underline:e.underline,color:ur.tryCreateTag(e.color)},$s.isEmpty(t)&&(t=null)),t},copy:function(e){var t=null;return oe(e)&&(t={},e.size!==void 0&&(t.size=e.size),e.name!==void 0&&(t.name=e.name),e.family!==void 0&&(t.family=e.family),e.scheme!==void 0&&(t.scheme=e.scheme),e.bold!==void 0&&(t.bold=e.bold),e.italic!==void 0&&(t.italic=e.italic),e.underline!==void 0&&(t.underline=e.underline),e.color!==void 0&&(t.color=ur.copy(e.color))),t},areEqual:function(e,t){return $s.isEmpty(e)&&$s.isEmpty(t)||oe(e)&&oe(t)&&e.size===t.size&&e.name===t.name&&e.family===t.family&&e.scheme===t.scheme&&(e.bold===t.bold||!e.bold==!t.bold)&&(e.italic===t.italic||!e.italic==!t.italic)&&e.underline===t.underline&&ur.areEqual(e.color,t.color)},isEmpty:function(e){return!oe(e)||!oe(e.size)&&!oe(e.name)&&!oe(e.family)&&!oe(e.scheme)&&(!oe(e.bold)||!e.bold)&&(!oe(e.italic)||!e.italic)&&!oe(e.underline)&&ur.isEmpty(e.color)},toXml:function(e){var t=[oe(e.bold)&&e.bold?ir.toXml("b",{}):"",oe(e.size)?ir.toXml("sz",{val:e.size}):"",oe(e.color)?ur.toXml("color",e.color):"",oe(e.name)?ir.toXml("name",{val:e.name}):"",oe(e.family)?ir.toXml("family",{val:e.family}):"",oe(e.scheme)?ir.toXml("scheme",{val:e.scheme}):"",oe(e.italic)&&e.italic?ir.toXml("i",{}):"",oe(e.underline)?ir.toXml("u",{val:e.underline}):""].join("");return ir.toXml("font",{},t)}},Ms={tryCreateTag:function(e,t){var i=null;if(oe(e)){var r;typeof e.numberFormat=="number"?r=e.numberFormat:r=t.registerNumberFormat(e.numberFormat);var n=e.fill;oe(n)||(n=dn.tryCreateFillFromSimpleFormat(e)),i={numberFormatId:r,alignment:Jn.tryCreateTag(e.alignment),fontId:t.registerFont(e.font),fillId:t.registerFill(n)},Ms.isEmpty(i)&&(i=null)}return i},copy:function(e){var t;return e===null?t=null:oe(e)&&(t={},e.numberFormat!==void 0&&(t.numberFormat=e.numberFormat),e.fill!==void 0?t.fill=dn.copy(e.fill):dn.copySimpleFormat(e,t),e.alignment!==void 0&&(t.alignment=Jn.copy(e.alignment)),e.font!==void 0&&(t.font=$s.copy(e.font))),t},areEqual:function(e,t){return Ms.isEmpty(e)&&Ms.isEmpty(t)||oe(e)&&oe(t)&&e.fontId===t.fontId&&e.numberFormatId===t.numberFormatId&&e.fillId===t.fillId&&Jn.areEqual(e.alignment,t.alignment)},isEmpty:function(e){return!oe(e)||!oe(e.fontId)&&!oe(e.numberFormatId)&&!oe(e.fillId)&&Jn.isEmpty(e.alignment)},toXml:function(e){var t=Jn.isEmpty(e.alignment),i;return oe(e.numberFormatId)&&(i=e.numberFormatId>0?1:0),ir.toXml("xf",{xfId:0,applyAlignment:t?null:1,fontId:e.fontId,applyNumberFormat:i,fillId:e.fillId,numFmtId:e.numberFormatId},t?null:Jn.toXml(e.alignment))}},En={ID_PROPERTY_NAME:"id",tryCreateTag:function(e){var t=null;return typeof e=="string"&&(t={formatCode:e},En.isEmpty(t)&&(t=null)),t},areEqual:function(e,t){return En.isEmpty(e)&&En.isEmpty(t)||oe(e)&&oe(t)&&e.formatCode===t.formatCode},isEmpty:function(e){return!oe(e)||!oe(e.formatCode)||e.formatCode===""},toXml:function(e){return ir.toXml("numFmt",{numFmtId:e[En.ID_PROPERTY_NAME],formatCode:e.formatCode})}};class tT{constructor(){this._cellFormatTags=[],this._fillTags=[],this._fontTags=[],this._numberFormatTags=[],this._fillTags.push(dn.tryCreateTag({patternFill:{patternType:"none"}}))}registerCellFormat(t){var i,r=Ms.tryCreateTag(t,{registerFill:this.registerFill.bind(this),registerFont:this.registerFont.bind(this),registerNumberFormat:this.registerNumberFormat.bind(this)});if(oe(r)){for(var n=0;n<this._cellFormatTags.length;n++)if(Ms.areEqual(this._cellFormatTags[n],r)){i=n;break}i===void 0&&(i=this._cellFormatTags.push(r)-1)}return i}static copyCellFormat(t){return Ms.copy(t)}generateCellFormatsXml(){var t=this._cellFormatTags.map(i=>Ms.toXml(i));return ir.toXml("cellXfs",{count:t.length},t.join(""))}registerFill(t){var i,r=dn.tryCreateTag(t);if(oe(r)){for(var n=0;n<this._fillTags.length;n++)if(dn.areEqual(this._fillTags[n],r)){i=n;break}i===void 0&&(this._fillTags.length<2&&this._fillTags.push(dn.tryCreateTag({patternFill:{patternType:"Gray125"}})),i=this._fillTags.push(r)-1)}return i}generateFillsXml(){var t=this._fillTags.map(i=>dn.toXml(i));return ir.toXml("fills",{count:t.length},t.join(""))}registerFont(t){var i,r=$s.tryCreateTag(t);if(oe(r)){for(var n=0;n<this._fontTags.length;n++)if($s.areEqual(this._fontTags[n],r)){i=n;break}i===void 0&&(i=this._fontTags.push(r)-1)}return i}generateFontsXml(){var t=this._fontTags.map(i=>$s.toXml(i));return ir.toXml("fonts",{count:t.length},t.join(""))}_convertNumberFormatIndexToId(t){return 165+t}registerNumberFormat(t){var i,r=En.tryCreateTag(t);if(oe(r)){for(var n=0;n<this._numberFormatTags.length;n++)if(En.areEqual(this._numberFormatTags[n],r)){i=this._numberFormatTags[n][En.ID_PROPERTY_NAME];break}i===void 0&&(r[En.ID_PROPERTY_NAME]=this._convertNumberFormatIndexToId(this._numberFormatTags.length),i=r[En.ID_PROPERTY_NAME],this._numberFormatTags.push(r))}return i}generateNumberFormatsXml(){if(this._numberFormatTags.length>0){var t=this._numberFormatTags.map(i=>En.toXml(i));return ir.toXml("numFmts",{count:t.length},t.join(""))}else return""}}var zo='<?xml version="1.0" encoding="utf-8"?>',Uae='<sheetPr><outlinePr summaryBelow="0"/></sheetPr>',Gae="<sheetPr/>",Kae='<borders count="1"><border><left style="thin"><color rgb="FFD3D3D3"/></left><right style="thin"><color rgb="FFD3D3D3"/></right><top style="thin"><color rgb="FFD3D3D3"/></top><bottom style="thin"><color rgb="FFD3D3D3"/></bottom></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',Cs="http://schemas.openxmlformats.org",Kg="rels",Jh="xl",qg="workbook.xml",qae="[Content_Types].xml",iT="sharedStrings.xml",rT="styles.xml",Xae="worksheets",nT="sheet1.xml",Yae='<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">',fr={boolean:"b",date:"d",number:"n",string:"s"},Zae=Date.UTC(1899,11,30),Jae=60,Qae=7,ese={quarter:"shortDate",quarterAndYear:"shortDate",minute:"longTime",millisecond:"longTime"},Ju=Ot.inherit({_getXMLTag:function(e,t,i){var r="<"+e,n,a=t.length,s;for(n=0;n<a;n++)s=t[n],s.value!==void 0&&(r=r+" "+s.name+'="'+s.value+'"');return oe(i)?r+">"+i+"</"+e+">":r+" />"},_convertToExcelCellRef:function(e,t){for(var i="",r,n;!n;)r=65+(t>=26?t%26:Math.ceil(t)),i=String.fromCharCode(r)+i,t>=26?t=Math.floor(t/26)-1:n=!0;return i+(e+1)},_convertToExcelCellRefAndTrackMaxIndex:function(e,t){return this._maxRowIndex<Number(e)&&(this._maxRowIndex=Number(e)),this._maxColumnIndex<Number(t)&&(this._maxColumnIndex=Number(t)),this._convertToExcelCellRef(e,t)},_getDataType:function(e){return fr[e]||fr.string},_tryGetExcelCellDataType:function(e){if(oe(e)){if(typeof e=="number")return isFinite(e)?fr.number:fr.string;if(nt(e))return fr.string;if(sr(e))return fr.number;if(ll(e))return fr.boolean}},_formatObjectConverter:function(e,t){var i={format:e,precision:e&&e.precision,dataType:t};return at(e)?ce(i,e,{format:e.formatter||e.type,currency:e.currency}):i},_tryConvertToExcelNumberFormat:function(e,t){var i=this._formatObjectConverter(e,t);e=i.format;var r=i.currency;return t=i.dataType,oe(e)&&t==="date"&&(e=ese[e&&e.type||e]||e),uf.convertFormat(e,i.precision,t,r)},_appendString:function(e){if(oe(e)&&(e=String(e),e.length))return e=P_(e),this._stringHash[e]===void 0&&(this._stringHash[e]=this._stringArray.length,this._stringArray.push(e)),this._stringHash[e]},_tryGetExcelDateValue:function(e){var t,i;if(sr(e))return t=Math.floor((Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())-Zae)/864e5),t<Jae&&t--,i=(3600*e.getHours()+60*e.getMinutes()+e.getSeconds())/86400,t+i},_prepareValue:function(e,t){var i=this._dataProvider,{cellSourceData:r}=i.getCellData(e,t)||{},{value:n}=i.getCellData(e,t)||{},a,s=this._getDataType(i.getCellType(e,t));switch(s===fr.date&&!sr(n)&&(s=fr.string),s){case fr.string:a=n,n=this._appendString(n);break;case fr.date:a=n,n=this._tryGetExcelDateValue(n),s=fr.number}return{value:n,type:s,sourceValue:a,cellSourceData:r}},_callCustomizeExcelCell:function(e){var{dataProvider:t,value:i,style:r,sourceData:n}=e,a=tT.copyCellFormat(r),s={value:i,numberFormat:a.numberFormat,clearStyle:function(){this.horizontalAlignment=null,this.verticalAlignment=null,this.wrapTextEnabled=null,this.font=null,this.numberFormat=null}};oe(a)&&(oe(a.alignment)&&(s.horizontalAlignment=a.alignment.horizontal,s.verticalAlignment=a.alignment.vertical,s.wrapTextEnabled=a.alignment.wrapText),s.backgroundColor=a.backgroundColor,s.fillPatternType=a.fillPatternType,s.fillPatternColor=a.fillPatternColor,s.font=a.font),t.customizeExcelCell(s,n);var o=a||{};return o.font=s.font,o.alignment=o.alignment||{},o.alignment.horizontal=s.horizontalAlignment,o.alignment.vertical=s.verticalAlignment,o.alignment.wrapText=s.wrapTextEnabled,o.backgroundColor=s.backgroundColor,o.fillPatternType=s.fillPatternType,o.fillPatternColor=s.fillPatternColor,o.numberFormat=s.numberFormat,{value:s.value,style:o}},_getDataArray:function(){var e,t,i,r,n=[],a=this._dataProvider,s=a.getRowsCount(),o=a.getColumns(),l;for(e=0;e<s;e++){for(i=[],l=o.length,t=0;t!==l;t++){r=this._prepareValue(e,t);var u=a.getStyleId(e,t),d=this._styleArrayIndexToCellStyleIdMap[u];if(a.hasCustomizeExcelCell&&a.hasCustomizeExcelCell()){var c=r.sourceValue||r.value,h=this._callCustomizeExcelCell({dataProvider:a,value:c,style:this._styleArray[u],sourceData:r.cellSourceData});if(h.value!==c){if(typeof h.value!=typeof c||typeof h.value=="number"&&!isFinite(h.value)){var f=this._tryGetExcelCellDataType(h.value);oe(f)&&(r.type=f)}switch(r.type){case fr.string:r.value=this._appendString(h.value);break;case fr.date:r.value=h.value;break;case fr.number:var p=h.value,g=this._tryGetExcelDateValue(p);oe(g)&&(p=g),r.value=p;break;default:r.value=h.value}}d=this._excelFile.registerCellFormat(h.style)}i.push({style:d,value:r.value,type:r.type})}!this._needSheetPr&&a.getGroupLevel(e)>0&&(this._needSheetPr=!0),n.push(i)}return n},_calculateWidth:function(e){return e=parseInt(e,10),(!e||e<5)&&(e=100),Math.min(255,Math.floor((e-5)/Qae*100+.5)/100)},_prepareStyleData:function(){var e=this,t=e._dataProvider.getStyles();e._dataProvider.getColumns().forEach(function(r){e._colsArray.push(e._calculateWidth(r.width))});var i=[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor",bold:!1},{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor",bold:!0}];this._excelFile.registerFont(i[0]),this._excelFile.registerFont(i[1]),t.forEach(function(r){var n=e._tryConvertToExcelNumberFormat(r.format,r.dataType);oe(n)||(n=0),e._styleArray.push({font:i[+!!r.bold],numberFormat:n,alignment:{vertical:"top",wrapText:!!r.wrapText,horizontal:r.alignment||"left"}})}),e._styleArrayIndexToCellStyleIdMap=e._styleArray.map(r=>this._excelFile.registerCellFormat(r))},_prepareCellData:function(){this._cellsArray=this._getDataArray()},_createXMLRelationships:function(e){return this._getXMLTag("Relationships",[{name:"xmlns",value:Cs+"/package/2006/relationships"}],e)},_createXMLRelationship:function(e,t,i){return this._getXMLTag("Relationship",[{name:"Id",value:"rId"+e},{name:"Type",value:Cs+"/officeDocument/2006/relationships/"+t},{name:"Target",value:i}])},_getWorkbookContent:function(){return zo+this._getXMLTag("workbook",[{name:"xmlns:r",value:Cs+"/officeDocument/2006/relationships"},{name:"xmlns",value:Cs+"/spreadsheetml/2006/main"}],'<bookViews><workbookView xWindow="0" yWindow="0" windowWidth="0" windowHeight="0"/></bookViews><sheets><sheet name="Sheet" sheetId="1" r:id="rId1" /></sheets><definedNames><definedName name="_xlnm.Print_Titles" localSheetId="0">Sheet!$1:$1</definedName><definedName name="_xlnm._FilterDatabase" hidden="0" localSheetId="0">Sheet!$A$1:$F$6332</definedName></definedNames>')},_getContentTypesContent:function(){return zo+'<Types xmlns="'+Cs+'/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="xml" ContentType="application/xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /></Types>'},_generateStylesXML:function(){var e=this._zip.folder(Jh),t="";t+=this._excelFile.generateNumberFormatsXml(),t+=this._excelFile.generateFontsXml(),t+=this._excelFile.generateFillsXml(),t+=Kae,t+=this._excelFile.generateCellFormatsXml(),t+=this._getXMLTag("cellStyles",[{name:"count",value:1}],this._getXMLTag("cellStyle",[{name:"name",value:"Normal"},{name:"xfId",value:0},{name:"builtinId",value:0}])),t=zo+this._getXMLTag("styleSheet",[{name:"xmlns",value:Cs+"/spreadsheetml/2006/main"}],t),e.file(rT,t),this._styleArray=[]},_generateStringsXML:function(){var e=this._zip.folder(Jh),t,i=this._stringArray.length,r=zo;for(t=0;t<i;t++)this._stringArray[t]=this._getXMLTag("si",[],this._getXMLTag("t",[],this._stringArray[t]));r+=this._getXMLTag("sst",[{name:"xmlns",value:Cs+"/spreadsheetml/2006/main"},{name:"count",value:this._stringArray.length},{name:"uniqueCount",value:this._stringArray.length}],this._stringArray.join("")),e.file(iT,r),this._stringArray=[]},_getPaneXML:function(){var e=[{name:"activePane",value:"bottomLeft"},{name:"state",value:"frozen"}],t=this._dataProvider.getFrozenArea();return t.x||t.y?(t.x&&e.push({name:"xSplit",value:t.x}),t.y&&e.push({name:"ySplit",value:t.y}),e.push({name:"topLeftCell",value:this._convertToExcelCellRefAndTrackMaxIndex(t.y,t.x)}),this._getXMLTag("pane",e)):""},_getAutoFilterXML:function(e){return this._options.autoFilterEnabled?'<autoFilter ref="A'+this._dataProvider.getHeaderRowCount()+":"+e+'" />':""},_getIgnoredErrorsXML:function(e){return this._options.ignoreErrors?'<ignoredErrors><ignoredError sqref="A1:'+e+'" numberStoredAsText="1" /></ignoredErrors>':""},_generateWorksheetXML:function(){var e,t,i,r,n=[],a=this._cellsArray.length,s,o=this._colsArray.length,l="1:"+o,u=this._dataProvider.getHeaderRowCount?this._dataProvider.getHeaderRowCount():1,d=[Yae];for(d.push(this._needSheetPr?Uae:Gae),d.push('<dimension ref="A1:C1"/>'),d.push("<sheetViews><sheetView "),d.push(this._rtlEnabled?'rightToLeft="1" ':""),d.push('tabSelected="1" workbookViewId="0">'),d.push(this._getPaneXML()),d.push("</sheetView></sheetViews>"),d.push('<sheetFormatPr defaultRowHeight="15"'),d.push(' outlineLevelRow="'+(this._dataProvider.getRowsCount()>0?this._dataProvider.getGroupLevel(0):0)+'"'),d.push(' x14ac:dyDescent="0.25"/>'),e=0;e<o;e++)this._colsArray[e]=this._getXMLTag("col",[{name:"width",value:this._colsArray[e]},{name:"min",value:Number(e)+1},{name:"max",value:Number(e)+1},{name:"customWidth",value:1}]);for(d.push(this._getXMLTag("cols",[],this._colsArray.join(""))+"<sheetData>"),t=0;t<a;t++){for(r=[],s=this._cellsArray[t].length,e=0;e<s;e++)t=Number(t),i=this._cellsArray[t][e],r.push(this._getXMLTag("c",[{name:"r",value:this._convertToExcelCellRefAndTrackMaxIndex(t,e)},{name:"s",value:i.style},{name:"t",value:i.type}],oe(i.value)?this._getXMLTag("v",[],i.value):null));n.push(this._getXMLTag("row",[{name:"r",value:Number(t)+1},{name:"spans",value:l},{name:"outlineLevel",value:t>=u?this._dataProvider.getGroupLevel(t):0},{name:"x14ac:dyDescent",value:"0.25"}],r.join(""))),this._cellsArray[t]=null,n.length>1e4&&(d.push(n.join("")),n=[])}d.push(n.join("")),n=[];var c=this._convertToExcelCellRef(this._maxRowIndex,this._maxColumnIndex);d.push("</sheetData>"+this._getAutoFilterXML(c)+this._generateMergingXML()+this._getIgnoredErrorsXML(c)+"</worksheet>"),this._zip.folder(Jh).folder(Xae).file(nT,d.join("")),this._colsArray=[],this._cellsArray=[],d=[]},_generateMergingXML:function(){var e,t,i,r,n=oe(this._dataProvider.getHeaderRowCount)?this._dataProvider.getHeaderRowCount():this._dataProvider.getRowsCount(),a=this._dataProvider.getColumns().length,s=[],o=[],l,u="";for(r=0;r<n;r++)for(i=0;i!==a;i++)if(!oe(s[r])||!oe(s[r][i])){var d=this._dataProvider.getCellMerging(r,i);if(d.colspan||d.rowspan)for(o.push({start:this._convertToExcelCellRefAndTrackMaxIndex(r,i),end:this._convertToExcelCellRefAndTrackMaxIndex(r+(d.rowspan||0),i+(d.colspan||0))}),e=r;e<=r+d.rowspan;e++)for(t=i;t<=i+d.colspan;t++)oe(s[e])||(s[e]=[]),s[e][t]=!0}var c=o.length;for(l=0;l<c;l++)u+=this._getXMLTag("mergeCell",[{name:"ref",value:o[l].start+":"+o[l].end}]);return u.length?this._getXMLTag("mergeCells",[{name:"count",value:c}],u):""},_generateCommonXML:function(){var e=zo+this._createXMLRelationships(this._createXMLRelationship(1,"officeDocument","xl/"+qg)),t=this._zip.folder(Jh),i=zo;this._zip.folder("_"+Kg).file("."+Kg,e);var r=this._createXMLRelationship(1,"worksheet","worksheets/"+nT)+this._createXMLRelationship(2,"styles",rT)+this._createXMLRelationship(3,"sharedStrings",iT);i+=this._createXMLRelationships(r),t.folder("_"+Kg).file(qg+".rels",i),t.file(qg,this._getWorkbookContent()),this._zip.file(qae,this._getContentTypesContent())},_generateContent:function(){this._prepareStyleData(),this._prepareCellData(),this._generateWorkXML(),this._generateCommonXML()},_generateWorkXML:function(){this._generateStylesXML(),this._generateStringsXML(),this._generateWorksheetXML()},ctor:function(e,t){this._rtlEnabled=t&&!!t.rtlEnabled,this._options=t,this._maxRowIndex=0,this._maxColumnIndex=0,this._stringArray=[],this._stringHash={},this._styleArray=[],this._colsArray=[],this._cellsArray=[],this._needSheetPr=!1,this._dataProvider=e,this._excelFile=new tT,oe(Ju.JSZip)?this._zip=new Ju.JSZip:this._zip=null},_checkZipState:function(){if(!this._zip)throw xt.Error("E1041","JSZip")},ready:function(){return this._dataProvider.ready()},getData:function(e){var t={type:e?"blob":"base64",compression:"DEFLATE",mimeType:MR.EXCEL},i=new we;return this._checkZipState(),this._generateContent(),this._zip.generateAsync?this._zip.generateAsync(t).then(i.resolve):i.resolve(this._zip.generate(t)),i}});Ju.JSZip=Nae;function tse(e,t){var i=new Ju(e,t);return i._checkZipState(),i.ready().then(()=>i.getData(We(ft().Blob)))}var aT={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},Xg=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*\.*\d+)\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4])]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/^hsv\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){var t=parseInt(e[1],10),i=parseInt(e[2],10),r=parseInt(e[3],10),n=PR(t,i,r);return[n[0],n[1],n[2],1,[t,i,r]]}},{re:/^hsl\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){var t=parseInt(e[1],10),i=parseInt(e[2],10),r=parseInt(e[3],10),n=LR(t,i,r);return[n[0],n[1],n[2],1,null,[t,i,r]]}}],da=Math.round;function Da(e){this.baseColor=e;var t;e&&(t=String(e).toLowerCase().replace(/ /g,""),t=aT[t]?"#"+aT[t]:t,t=ise(t)),t||(this.colorIsInvalid=!0),t=t||{},this.r=Tn(t[0]),this.g=Tn(t[1]),this.b=Tn(t[2]),this.a=Tn(t[3],1,1),t[4]?this.hsv={h:t[4][0],s:t[4][1],v:t[4][2]}:this.hsv=nse(this.r,this.g,this.b),t[5]?this.hsl={h:t[5][0],s:t[5][1],l:t[5][2]}:this.hsl=sse(this.r,this.g,this.b)}function ise(e){if(e==="transparent")return[0,0,0,0];for(var t=0,i=Xg.length,r;t<i;++t)if(r=Xg[t].re.exec(e),r)return Xg[t].process(r);return null}function Tn(e,t,i){return t=t||0,i=i||255,e<0||isNaN(e)?t:e>i?i:e}function rse(e,t,i){return"#"+(16777216|e<<16|t<<8|i).toString(16).slice(1)}function nse(e,t,i){var r=Math.max(e,t,i),n=Math.min(e,t,i),a=r-n,s,o,l=r;if(o=r===0?0:1-n/r,r===n)s=0;else switch(r){case e:s=(t-i)/a*60,t<i&&(s+=360);break;case t:s=(i-e)/a*60+120;break;case i:s=(e-t)/a*60+240}return o*=100,l*=100/255,{h:Math.round(s),s:Math.round(o),v:Math.round(l)}}function PR(e,t,i){var r=Math.floor(e%360/60),n=(100-t)*i/100,a=e%60/60*(i-n),s=n+a,o=i-a,l,u,d;switch(r){case 0:l=i,u=s,d=n;break;case 1:l=o,u=i,d=n;break;case 2:l=n,u=i,d=s;break;case 3:l=n,u=o,d=i;break;case 4:l=s,u=n,d=i;break;case 5:l=i,u=n,d=o}return[Math.round(2.55*l),Math.round(2.55*u),Math.round(2.55*d)]}function ase(e,t,i,r){var n=Math.max(e,t,i);switch(n){case e:return(t-i)/r+(t<i?6:0);case t:return(i-e)/r+2;case i:return(e-t)/r+4}}function sse(e,t,i){e=sl(e,255),t=sl(t,255),i=sl(i,255);var r=Math.max(e,t,i),n=Math.min(e,t,i),a=r+n,s,o,l=a/2;if(r===n)s=o=0;else{var u=r-n;l>.5?o=u/(2-a):o=u/a,s=ase(e,t,i,u),s/=6}return{h:da(360*s),s:da(100*o),l:da(100*l)}}function Yg(e,t){var i=t;return e==="r"&&(i=t+1/3),e==="b"&&(i=t-1/3),i}function ose(e){return e<0&&(e+=1),e>1&&(e-=1),e}function Zg(e,t,i){return i=ose(i),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function LR(e,t,i){var r,n,a;if(e=sl(e,360),t=sl(t,100),i=sl(i,100),t===0)r=n=a=i;else{var s=i<.5?i*(1+t):i+t-i*t,o=2*i-s;r=Zg(o,s,Yg("r",e)),n=Zg(o,s,Yg("g",e)),a=Zg(o,s,Yg("b",e))}return[da(255*r),da(255*n),da(255*a)]}function sl(e,t){return e=Math.min(t,Math.max(0,parseFloat(e))),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Jg(e,t,i){return t=t||0,i=i||255,!(e%1!==0||e<t||e>i||typeof e!="number"||isNaN(e))}Da.prototype={constructor:Da,highlight:function(e){return e=e||10,this.alter(e).toHex()},darken:function(e){return e=e||10,this.alter(-e).toHex()},alter:function(e){var t=new Da;return t.r=Tn(this.r+e),t.g=Tn(this.g+e),t.b=Tn(this.b+e),t},blend:function(e,t){var i=e instanceof Da?e:new Da(e),r=new Da;return r.r=Tn(da(this.r*(1-t)+i.r*t)),r.g=Tn(da(this.g*(1-t)+i.g*t)),r.b=Tn(da(this.b*(1-t)+i.b*t)),r},toHex:function(){return rse(this.r,this.g,this.b)},getPureColor:function(){var e=PR(this.hsv.h,100,100);return new Da("rgb("+e.join(",")+")")},isValidHex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},isValidRGB:function(e,t,i){return!(!Jg(e)||!Jg(t)||!Jg(i))},isValidAlpha:function(e){return!(isNaN(e)||e<0||e>1||typeof e!="number")},colorIsInvalid:!1,fromHSL:function(e){var t=new Da,i=LR(e.h,e.s,e.l);return t.r=i[0],t.g=i[1],t.b=i[2],t}};function lse(e,t,i){if(!e)return new we().resolve();var r=t.exportingAction,n=t.exportedAction,a=t.fileSavingAction,s={fileName:t.fileName,format:t.format,cancel:!1};return ll(t.selectedRowsOnly)&&(s.selectedRowsOnly=t.selectedRowsOnly),We(r)&&r(s),s.cancel?new we().resolve():i(e,t).then(o=>{if(We(n)&&n(),We(a)&&(s.data=o,a(s)),!s.cancel){var l=t.format==="xlsx"?"EXCEL":t.format;Lae.saveAs(s.fileName,l,o,t.proxyUrl,t.forceProxy)}})}var use={creator:Ju,getData:tse,formatConverter:uf},Nd="dx-buttongroup",dse=Nd+"-wrapper",FR=Nd+"-item",hse=Nd+"-first-item",cse=Nd+"-last-item",sT=FR+"-has-width",fse="dx-shape-standard",pse=co.inherit({_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({item:new ho((e,t,i)=>{this._prepareItemStyles(e);var r=this.option("buttonTemplate");this._createComponent(e,Ji,ce({},i,t,this._getBasicButtonOptions(),{_templateData:this._hasCustomTemplate(r)?i:{},template:i.template||r}))},["text","type","icon","disabled","visible","hint"],this.option("integrationOptions.watchMethod"))})},_getBasicButtonOptions(){return{focusStateEnabled:!1,onClick:null,hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode")}},_getDefaultOptions:function(){return ce(this.callBase(),{itemTemplateProperty:null})},_hasCustomTemplate(e){return We(e)||this.option("integrationOptions.templates")[e]},_prepareItemStyles(e){var t=e.data("dxItemIndex");t===0&&e.addClass(hse);var i=this.option("items");i&&t===i.length-1&&e.addClass(cse),e.addClass(fse)},_renderItemContent(e){return e.container=J(e.container).parent(),this.callBase(e)},_renderItemContentByNode:function(e,t){return e.container=J(e.container.children().first()),this.callBase(e,t)},_focusTarget(){return this.$element().parent()},_keyboardEventBindingTarget(){return this._focusTarget()},_refreshContent(){this._prepareContent(),this._renderContent()},_itemClass:()=>FR,_itemSelectHandler:function(e){this.option("selectionMode")==="single"&&this.isItemSelected(e.currentTarget)||this.callBase(e)}}),NR=Hi.inherit({_getDefaultOptions(){return ce(this.callBase(),{hoverStateEnabled:!0,focusStateEnabled:!0,selectionMode:"single",selectedItems:[],selectedItemKeys:[],stylingMode:"contained",keyExpr:"text",items:[],buttonTemplate:"content",onSelectionChanged:null,onItemClick:null})},_init(){this.callBase(),this._createItemClickAction()},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_initMarkup(){this.setAria("role","group"),this.$element().addClass(Nd),this._renderButtons(),this._syncSelectionOptions(),this.callBase()},_fireSelectionChangeEvent:function(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:e,removedItems:t})},_renderButtons(){var e=J("<div>").addClass(dse).appendTo(this.$element()),t=this.option("selectedItems"),i={selectionMode:this.option("selectionMode"),items:this.option("items"),keyExpr:this.option("keyExpr"),buttonTemplate:this.option("buttonTemplate"),scrollingEnabled:!1,selectedItemKeys:this.option("selectedItemKeys"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode"),accessKey:this.option("accessKey"),tabIndex:this.option("tabIndex"),noDataText:"",selectionRequired:!1,onItemRendered:r=>{var n=this.option("width");oe(n)&&J(r.itemElement).addClass(sT)},onSelectionChanged:r=>{this._syncSelectionOptions(),this._fireSelectionChangeEvent(r.addedItems,r.removedItems)},onItemClick:r=>{this._itemClickAction(r)}};oe(t)&&t.length&&(i.selectedItems=t),this._buttonsCollection=this._createComponent(e,pse,i)},_syncSelectionOptions(){this._setOptionWithoutOptionChange("selectedItems",this._buttonsCollection.option("selectedItems")),this._setOptionWithoutOptionChange("selectedItemKeys",this._buttonsCollection.option("selectedItemKeys"))},_optionChanged(e){switch(e.name){case"stylingMode":case"selectionMode":case"keyExpr":case"buttonTemplate":case"items":case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":case"tabIndex":this._invalidate();break;case"selectedItemKeys":case"selectedItems":this._buttonsCollection.option(e.name,e.value);break;case"onItemClick":this._createItemClickAction();break;case"onSelectionChanged":break;case"width":this.callBase(e),this._buttonsCollection.itemElements().toggleClass(sT,!!e.value);break;default:this.callBase(e)}}});Tt("dxButtonGroup",NR);var oT="dx-dropdownbutton",mse="dx-dropdownbutton-content",lT="dx-dropdownbutton-action",uT="dx-dropdownbutton-toggle",gse="dx-dropdownbutton-has-arrow",vse="dx-dropdownbutton-popup-wrapper",_se="dx-dropdowneditor-overlay",bse="dx-button-text",yse="dx-icon-right",Cse=Hi.inherit({_getDefaultOptions(){return ce(this.callBase(),{itemTemplate:"item",keyExpr:"this",displayExpr:void 0,selectedItem:null,selectedItemKey:null,stylingMode:"outlined",deferRendering:!0,noDataText:Ae.format("dxCollectionWidget-noDataText"),useSelectMode:!1,splitButton:!1,showArrowIcon:!0,text:"",icon:void 0,onButtonClick:null,onSelectionChanged:null,onItemClick:null,opened:!1,items:null,dataSource:null,focusStateEnabled:!0,hoverStateEnabled:!0,dropDownOptions:{},dropDownContentTemplate:"content",wrapItemText:!1,useItemTextAsTitle:!0,grouped:!1,groupTemplate:"group",buttonGroupOptions:{}})},_setOptionsByReference(){this.callBase(),ce(this._optionsByReference,{selectedItem:!0})},_init(){this.callBase(),this._createItemClickAction(),this._createActionClickAction(),this._createSelectionChangedAction(),this._initDataSource(),this._compileKeyGetter(),this._compileDisplayGetter(),this._itemsToDataSource(this.option("items")),this._options.cache("buttonGroupOptions",this.option("buttonGroupOptions")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_initTemplates(){this._templateManager.addDefaultTemplates({content:new fl(e=>{var t=J(e.container),i=J("<div>").appendTo(t);this._list=this._createComponent(i,po,this._listOptions()),this._list.registerKeyHandler("escape",this._escHandler.bind(this)),this._list.registerKeyHandler("tab",this._escHandler.bind(this)),this._list.registerKeyHandler("leftArrow",this._escHandler.bind(this)),this._list.registerKeyHandler("rightArrow",this._escHandler.bind(this))})}),this.callBase()},_itemsToDataSource:function(e){this._dataSource||(this._dataSource=new Bn({store:new El({key:this._getKey(),data:e}),pageSize:0}))},_getKey:function(){var e,t=this.option("keyExpr"),i=(e=this._dataSource)===null||e===void 0?void 0:e.key();return oe(i)&&(!oe(t)||t==="this")?i:t},_compileKeyGetter(){this._keyGetter=Yt(this._getKey())},_compileDisplayGetter(){this._displayGetter=Yt(this.option("displayExpr"))},_initMarkup(){this.callBase(),this.$element().addClass(oT),this._renderButtonGroup(),this._updateArrowClass(),oe(this.option("selectedItemKey"))&&this._loadSelectedItem().done(this._updateActionButton.bind(this))},_renderFocusTarget:Ee,_render(){(!this.option("deferRendering")||this.option("opened"))&&this._renderPopup(),this.callBase()},_renderContentImpl(){return this._popup&&this._renderPopupContent(),this.callBase()},_loadSelectedItem(){var e;(e=this._loadSingleDeferred)===null||e===void 0||e.reject();var t=new we;if(this._list&&this._lastSelectedItemData!==void 0){var i=this.option("useSelectMode")?this._list.option("selectedItem"):this._lastSelectedItemData;return t.resolve(i)}this._lastSelectedItemData=void 0;var r=this.option("selectedItemKey");return this._loadSingle(this._getKey(),r).done(t.resolve).fail(()=>{t.resolve(null)}),this._loadSingleDeferred=t,t.promise()},_createActionClickAction(){this._actionClickAction=this._createActionByOption("onButtonClick")},_createSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged")},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_fireSelectionChangedAction(e){var{previousValue:t,value:i}=e;this._selectionChangedAction({item:i,previousItem:t})},_fireItemClickAction(e){var{event:t,itemElement:i,itemData:r}=e;return this._itemClickAction({event:t,itemElement:i,itemData:this._actionItem||r})},_actionButtonConfig(){return{text:this.option("text"),icon:this.option("icon"),elementAttr:{class:lT}}},_getButtonGroupItems(){var e=[];return e.push(this._actionButtonConfig()),this.option("splitButton")&&e.push({icon:"spindown",elementAttr:{class:uT}}),e},_buttonGroupItemClick(e){var{event:t,itemData:i}=e,r=i.elementAttr.class===lT,n=i.elementAttr.class===uT;n?this.toggle():r&&(this._actionClickAction({event:t,selectedItem:this.option("selectedItem")}),this.option("splitButton")||this.toggle())},_buttonGroupOptions(){var{splitButton:e,showArrowIcon:t,focusStateEnabled:i,hoverStateEnabled:r,stylingMode:n,accessKey:a,tabIndex:s}=this.option(),o=e||!t?"content":(l,u)=>{var{text:d,icon:c}=l,h=Ys(c),f=d?J("<span>").text(d).addClass(bse):void 0,p=Ys("spindown").addClass(yse);J(u).append(h,f,p)};return ce({items:this._getButtonGroupItems(),onItemClick:this._buttonGroupItemClick.bind(this),width:"100%",height:"100%",selectionMode:"none",onKeyboardHandled:l=>this._keyboardHandler(l),buttonTemplate:o,focusStateEnabled:i,hoverStateEnabled:r,stylingMode:n,accessKey:a,tabIndex:s},this._options.cache("buttonGroupOptions"))},_renderPopupContent(){var e=this._popup.$content(),t=this._getTemplateByOption("dropDownContentTemplate");return e.empty(),this._popupContentId="dx-"+new Bi,this.setAria("id",this._popupContentId,e),t.render({container:ot(e),model:this.option("items")||this._dataSource})},_popupOptions(){var e=this.option("rtlEnabled")?"right":"left";return ce({dragEnabled:!1,focusStateEnabled:!1,deferRendering:this.option("deferRendering"),hideOnOutsideClick:t=>{var i=this.$element(),r=J(t.target).closest(".".concat(oT));return!r.is(i)},showTitle:!1,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},_ignoreFunctionValueDeprecation:!0,width:()=>ef(this.$element()),height:"auto",shading:!1,position:{of:this.$element(),collision:"flipfit",my:e+" top",at:e+" bottom"},wrapperAttr:{class:_se}},this._options.cache("dropDownOptions"),{visible:this.option("opened")})},_listOptions(){var e=this.option("selectedItemKey"),t=this.option("useSelectMode");return{selectionMode:t?"single":"none",wrapItemText:this.option("wrapItemText"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:()=>this._fireContentReadyAction(),selectedItemKeys:oe(e)&&t?[e]:[],grouped:this.option("grouped"),groupTemplate:this.option("groupTemplate"),keyExpr:this._getKey(),noDataText:this.option("noDataText"),displayExpr:this.option("displayExpr"),itemTemplate:this.option("itemTemplate"),items:this.option("items"),dataSource:this._dataSource,onItemClick:i=>{this.option("useSelectMode")||(this._lastSelectedItemData=i.itemData),this.option("selectedItemKey",this._keyGetter(i.itemData));var r=this._fireItemClickAction(i);r!==!1&&(this.toggle(!1),this._buttonGroup.focus())}}},_upDownKeyHandler(){return this._popup&&this._popup.option("visible")&&this._list?this._list.focus():this.open(),!0},_escHandler(){return this.close(),this._buttonGroup.focus(),!0},_tabHandler(){return this.close(),!0},_renderPopup(){var e=J("<div>");this.$element().append(e),this._popup=this._createComponent(e,Hn,this._popupOptions()),this._popup.$content().addClass(mse),this._popup.$wrapper().addClass(vse),this._popup.on("hiding",this._popupHidingHandler.bind(this)),this._popup.on("showing",this._popupShowingHandler.bind(this)),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_popupHidingHandler(){this.option("opened",!1),this._setAriaExpanded(!1)},_popupOptionChanged:function(e){var t=Hi.getOptionsFromContainer(e);this._setPopupOption(t);var i=Object.keys(t);(i.indexOf("width")!==-1||i.indexOf("height")!==-1)&&this._dimensionChanged()},_dimensionChanged:function(){var e=fb(this.option("dropDownOptions.width"));e===void 0&&this._setPopupOption("width",()=>ef(this.$element()))},_setPopupOption:function(e,t){this._setWidgetOption("_popup",arguments)},_popupShowingHandler(){this.option("opened",!0),this._setAriaExpanded(!0)},_setAriaExpanded(e){this._ariaExpandedElements.forEach(t=>{this.setAria({expanded:e,owns:e?this._popupContentId:void 0},J(t))})},_renderButtonGroup(){var e=this._buttonGroup&&this._buttonGroup.$element()||J("<div>");this._buttonGroup||this.$element().append(e),this._buttonGroup=this._createComponent(e,NR,this._buttonGroupOptions());var t=this._buttonGroup.$element().find(".dx-button").toArray();this._ariaExpandedElements=[...t,this.$element()],this._buttonGroup.registerKeyHandler("downArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("tab",this._tabHandler.bind(this)),this._buttonGroup.registerKeyHandler("upArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("escape",this._escHandler.bind(this)),this._bindInnerWidgetOptions(this._buttonGroup,"buttonGroupOptions"),this._setAriaExpanded(this.option("opened"))},_updateArrowClass(){var e=this.option("splitButton")||this.option("showArrowIcon");this.$element().toggleClass(gse,e)},toggle(e){return this._popup||(this._renderPopup(),this._renderContent()),this._popup.toggle(e)},open(){return this.toggle(!0)},close(){return this.toggle(!1)},_setListOption(e,t){this._list&&this._list.option(e,t)},_getDisplayValue(e){var t=!Ct(e),i=t?e:this._displayGetter(e);return Ct(i)?"":String(hi(i,""))},_updateActionButton(e){this.option("useSelectMode")&&this.option({text:this._getDisplayValue(e),icon:Ct(e)?e.icon:void 0}),this._setOptionWithoutOptionChange("selectedItem",e),this._setOptionWithoutOptionChange("selectedItemKey",this._keyGetter(e))},_clean(){this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove()},_selectedItemKeyChanged(e){this._setListOption("selectedItemKeys",this.option("useSelectMode")&&oe(e)?[e]:[]);var t=this.option("selectedItem");this._loadSelectedItem().done(i=>{this._updateActionButton(i),this._displayGetter(t)!==this._displayGetter(i)&&this._fireSelectionChangedAction({previousValue:t,value:i})})},_actionButtonOptionChanged(e){var{name:t,value:i}=e,r={};r[t]=i,this._buttonGroup.option("items[0]",ce({},this._actionButtonConfig(),r)),this._popup&&this._popup.repaint()},_selectModeChanged(e){if(e){this._setListOption("selectionMode","single");var t=this.option("selectedItemKey");this._setListOption("selectedItemKeys",oe(t)?[t]:[]),this._selectedItemKeyChanged(this.option("selectedItemKey"))}else this._setListOption("selectionMode","none"),this.option({selectedItemKey:void 0,selectedItem:void 0}),this._actionButtonOptionChanged({text:this.option("text")})},_updateItemCollection(e){var t=this.option("selectedItemKey");this._setListOption("selectedItem",null),this._setWidgetOption("_list",[e]),oe(t)&&this._loadSelectedItem().done(i=>{this._setListOption("selectedItemKeys",[t]),this._setListOption("selectedItem",i)}).fail(i=>{this._setListOption("selectedItemKeys",[])}).always(this._updateActionButton.bind(this))},_updateDataSource:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._dataSource.items();this._dataSource=void 0,this._itemsToDataSource(e),this._updateKeyExpr()},_updateKeyExpr:function(){this._compileKeyGetter(),this._setListOption("keyExpr",this._getKey())},focus:function(){this._buttonGroup.focus()},_optionChanged(e){var t,{name:i,value:r}=e;switch(i){case"useSelectMode":this._selectModeChanged(r);break;case"splitButton":this._updateArrowClass(),this._renderButtonGroup();break;case"displayExpr":this._compileDisplayGetter(),this._setListOption(i,r),this._updateActionButton(this.option("selectedItem"));break;case"keyExpr":this._updateDataSource();break;case"buttonGroupOptions":this._innerWidgetOptionChanged(this._buttonGroup,e);break;case"dropDownOptions":if(e.fullName==="dropDownOptions.visible")break;e.value.visible!==void 0&&delete e.value.visible,this._popupOptionChanged(e),this._innerWidgetOptionChanged(this._popup,e);break;case"opened":this.toggle(r);break;case"focusStateEnabled":case"hoverStateEnabled":this._setListOption(i,r),this._buttonGroup.option(i,r),this.callBase(e);break;case"items":this._updateDataSource(this.option("items")),this._updateItemCollection(i);break;case"dataSource":Array.isArray(r)?this._updateDataSource(this.option("dataSource")):(this._initDataSource(),this._updateKeyExpr()),this._updateItemCollection(i);break;case"icon":case"text":this._actionButtonOptionChanged(e);break;case"showArrowIcon":this._updateArrowClass(),this._renderButtonGroup(),this._popup&&this._popup.repaint();break;case"width":case"height":this.callBase(e),(t=this._popup)===null||t===void 0||t.repaint();break;case"stylingMode":this._buttonGroup.option(i,r);break;case"itemTemplate":case"grouped":case"noDataText":case"groupTemplate":case"wrapItemText":case"useItemTextAsTitle":this._setListOption(i,r);break;case"dropDownContentTemplate":this._renderContent();break;case"selectedItemKey":this._selectedItemKeyChanged(r);break;case"selectedItem":break;case"onItemClick":this._createItemClickAction();break;case"onButtonClick":this._createActionClickAction();break;case"onSelectionChanged":this._createSelectionChangedAction();break;case"deferRendering":this.toggle(this.option("opened"));break;case"tabIndex":this._buttonGroup.option(i,r);break;default:this.callBase(e)}}}).include(xd);Tt("dxDropDownButton",Cse);var xse="dx-datagrid-export-menu",dT="dx-datagrid-export-button",wse="exportButton",hT="export",Sse="xlsxfile",Ese="exportselected",Tse="pdffile",Ise=Ot.inherit({ctor:function(e,t,i){this._exportController=e,this._initialColumnWidthsByColumnIndex=t,this._selectedRowsOnly=i},_getGroupValue:function(e){var{key:t,data:i,rowType:r,groupIndex:n,summaryCells:a}=e,s=this._options.groupColumns[n],o=qe.getDisplayValue(s,s.deserializeValue?s.deserializeValue(t[n]):t[n],i,r),l=s.caption+": "+qe.formatValue(o,s);return a&&a[0]&&a[0].length&&(l+=" "+qe.getGroupRowSummaryText(a[0],this._options.summaryTexts)),l},_correctCellIndex:function(e){return e},_initOptions:function(){var e=this._exportController,t=e._columnsController.getGroupColumns(),i=e.option("export.excelWrapTextEnabled");this._options={columns:e._getColumns(this._initialColumnWidthsByColumnIndex),groupColumns:t,items:this._selectedRowsOnly||e._selectionOnly?e._getSelectedItems():e._getAllItems(),getVisibleIndex:e._columnsController.getVisibleIndex.bind(e._columnsController),isHeadersVisible:e.option("showColumnHeaders"),summaryTexts:e.option("summary.texts"),customizeExportData:e.option("customizeExportData"),rtlEnabled:e.option("rtlEnabled"),wrapTextEnabled:oe(i)?i:!!e.option("wordWrapEnabled"),customizeExcelCell:e.option("export.customizeExcelCell")}},hasCustomizeExcelCell:function(){return oe(this._options.customizeExcelCell)},customizeExcelCell:function(e,t){this._options.customizeExcelCell&&(e.gridCell=t,oe(this._exportController)&&oe(this._exportController.component)&&(e.component=this._exportController.component),this._options.customizeExcelCell(e))},getHeaderStyles:()=>[{bold:!0,alignment:"center",wrapText:!0},{bold:!0,alignment:"left",wrapText:!0},{bold:!0,alignment:"right",wrapText:!0}],getGroupRowStyle(){return{bold:!0,wrapText:!1,alignment:os(this._options.rtlEnabled)}},getColumnStyles(){var e=this._options.wrapTextEnabled,t=[];return this.getColumns().forEach(i=>{t.push({alignment:i.alignment||"left",format:i.format,wrapText:e,dataType:i.dataType})}),t},getStyles:function(){return[...this.getHeaderStyles(),...this.getColumnStyles(),this.getGroupRowStyle()]},_getTotalCellStyleId:function(e){var t,i=((t=this.getColumns()[e])===null||t===void 0?void 0:t.alignment)||"right";return this.getHeaderStyles().map(r=>r.alignment).indexOf(i)},getStyleId:function(e,t){return e<this.getHeaderRowCount()?0:this.isTotalCell(e-this.getHeaderRowCount(),t)?this._getTotalCellStyleId(t):this.isGroupRow(e-this.getHeaderRowCount())?this.getHeaderStyles().length+this.getColumns().length:t+this.getHeaderStyles().length},getColumns:function(e){var{columns:t}=this._options;return e?t:t[t.length-1]},getColumnsWidths:function(){var e=this.getColumns();return oe(e)?e.map(t=>t.width):void 0},getRowsCount:function(){return this._options.items.length+this.getHeaderRowCount()},getHeaderRowCount:function(){return this.isHeadersVisible()?this._options.columns.length-1:0},isGroupRow:function(e){return e<this._options.items.length&&this._options.items[e].rowType==="group"},getGroupLevel:function(e){var t=this._options.items[e-this.getHeaderRowCount()],i=t&&t.groupIndex;return t&&t.rowType==="totalFooter"?0:oe(i)?i:this._options.groupColumns.length},getCellType:function(e,t){var i=this.getColumns();if(e<this.getHeaderRowCount())return"string";if(e-=this.getHeaderRowCount(),t<i.length){var r=this._options.items.length&&this._options.items[e],n=i[t];return r&&r.rowType==="data"&&isFinite(r.values[this._correctCellIndex(t)])&&!oe(n.customizeText)?oe(n.lookup)?n.lookup.dataType:n.dataType:"string"}},ready:function(){var e=this;e._initOptions();var t=e._options;return Ke(t.items).done(function(i){t.customizeExportData&&t.customizeExportData(e.getColumns(e.getHeaderRowCount()>1),i),t.items=i}).fail(function(){t.items=[]})},_convertFromGridGroupSummaryItems:function(e){if(oe(e)&&e.length>0)return e.map(function(t){return{value:t.value,name:t.name}})},getCellData:function(e,t,i){var r,n,a={cellSourceData:{},value:r},s=this.getColumns(),o=this._correctCellIndex(t);if(e<this.getHeaderRowCount()){var l=this.getColumns(!0)[e];n=l[t],a.cellSourceData.rowType="header",a.cellSourceData.column=n&&n.gridColumn,a.value=n&&n.caption}else{e-=this.getHeaderRowCount();var u=this._options.items.length&&this._options.items[e];if(u){var d=u.values;switch(a.cellSourceData.rowType=u.rowType,a.cellSourceData.column=s[t]&&s[t].gridColumn,u.rowType){case"groupFooter":case"totalFooter":o<d.length&&(r=d[o],oe(r)?(a.cellSourceData.value=r.value,a.cellSourceData.totalSummaryItemName=r.name,a.value=qe.getSummaryText(r,this._options.summaryTexts)):a.cellSourceData.value=void 0);break;case"group":if(a.cellSourceData.groupIndex=u.groupIndex,t<1)a.cellSourceData.column=this._options.groupColumns[u.groupIndex],a.cellSourceData.value=u.key[u.groupIndex],a.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(u.summaryCells[0]),a.value=this._getGroupValue(u);else{var c=u.values[o];if(Array.isArray(c)){a.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(c),r="";for(var h=0;h<c.length;h++)r+=(h>0?i?`
`:` 
 `:"")+qe.getSummaryText(c[h],this._options.summaryTexts);a.value=r}else a.cellSourceData.value=void 0}break;default:if(n=s[t],n){var f=d[o],p=qe.getDisplayValue(n,f,u.data,u.rowType);!isFinite(p)||oe(n.customizeText)?i&&oe(n.customizeText)&&n.customizeText===this._exportController._columnsController.getCustomizeTextByDataType("boolean")?a.value=p:a.value=qe.formatValue(p,n):a.value=p,a.cellSourceData.value=f}a.cellSourceData.data=u.data}}}return a},isHeadersVisible:function(){return this._options.isHeadersVisible},isTotalCell:function(e,t){var i=this._options.items,r=i[e],n=this._correctCellIndex(t),a=r.summaryCells&&r.summaryCells[n]&&r.summaryCells[n].length>0&&r.summaryCells[n][0].alignByColumn;return r&&r.rowType==="groupFooter"||r.rowType==="totalFooter"||a},getCellMerging:function(e,t){var i=this._options.columns,r=i[e]&&i[e][t];return r?{colspan:(r.exportColspan||1)-1,rowspan:(r.rowspan||1)-1}:{colspan:0,rowspan:0}},getFrozenArea:function(){return{x:0,y:this.getHeaderRowCount()}}}),Ase=qe.ViewController.inherit({}).inherit({_getEmptyCell:function(){return{caption:"",colspan:1,rowspan:1}},_updateColumnWidth:function(e,t){e.width=t},_getColumns:function(e){var t=[],i,r,n=this._columnsController,a=n.getRowCount();for(i=0;i<=a;i++){var s=[];r=n.getVisibleColumns(i,!0);var o=void 0;if(i===a)if(this._updateLockCount)o=e;else{var l=this._getColumnWidths(this._headersView,this._rowsView);if(l&&l.length){o={};for(var u=0;u<r.length;u++)o[r[u].index]=l[u]}}for(var d=0;d<r.length;d++){var c=ce({},r[d],{dataType:r[d].dataType==="datetime"?"date":r[d].dataType,gridColumn:r[d]});if(this._needColumnExporting(c)){var h=this._calculateExportColspan(c);oe(h)&&(c.exportColspan=h),o&&this._updateColumnWidth(c,o[c.index]),s.push(c)}}t.push(s)}return r=t[a],t=Pae(t.slice(0,-1),this._getEmptyCell()),t.push(r),t},_calculateExportColspan:function(e){if(e.isBand){var t=this._columnsController.getChildrenByBandColumn(e.index,!0);if(oe(t))return t.reduce((i,r)=>this._needColumnExporting(r)?i+(this._calculateExportColspan(r)||1):i,0)}},_needColumnExporting:function(e){return!e.command&&(e.allowExporting||e.allowExporting===void 0)},_getFooterSummaryItems:function(e,t){var i=[],r=1,n=0;do{for(var a=[],s=0;s<e.length;s++){var o=e[s],l=o.length;r<l&&(r=l),a.push(o[n])}i.push({values:a,rowType:t?"totalFooter":"groupFooter"})}while(n++<r-1);return i},_hasSummaryGroupFooters:function(){var e=this.option("summary.groupItems");if(oe(e)){for(var t=0;t<e.length;t++)if(e[t].showInGroupFooter)return!0}return!1},_getItemsWithSummaryGroupFooters:function(e){for(var t=[],i=[],r=[],n=0;n<e.length;n++){var a=e[n];a.rowType==="groupFooter"?(r=this._getFooterSummaryItems(a.summaryCells),t=t.concat(i,r),i=[]):i.push(a)}return t.length?t:i},_updateGroupValuesWithSummaryByColumn:function(e){for(var t=[],i=0;i<e.length;i++){var r=e[i],n=r.summaryCells;if(r.rowType==="group"&&n&&n.length>1){for(var a=r.values.length,s=1;s<n.length;s++)for(var o=0;o<n[s].length;o++){var l=n[s][o];l&&l.alignByColumn&&(Array.isArray(t[s-a])||(t[s-a]=[]),t[s-a].push(l))}t.length>0&&(r.values.push(...t),t=[])}}},_processUnExportedItems:function(e){for(var t=this._columnsController.getVisibleColumns(null,!0),i=this._columnsController.getGroupColumns(),r,n,a=0;a<e.length;a++){var s=e[a],o=!1;r=[],n=[];for(var l=0;l<t.length;l++){var u=t[l];if(o=o||u.type==="detailExpand",this._needColumnExporting(u)&&(s.values&&(s.rowType==="group"&&!r.length?r.push(s.key[s.groupIndex]):r.push(s.values[l])),s.summaryCells))if(s.rowType==="group"&&!n.length){var d=l-i.length+s.groupIndex;n.push(s.summaryCells[o?d:d+1])}else n.push(s.summaryCells[l])}r.length&&(s.values=r),n.length&&(s.summaryCells=n)}},_getAllItems:function(e){var t=this,i=new we,r=this.getController("data"),n=r.footerItems(),a=n.length&&n[0],s=t.option("summary.totalItems"),o;return Ke(e).done(function(l){r.loadAll(l).done(function(u,d){t._updateGroupValuesWithSummaryByColumn(u),t._hasSummaryGroupFooters()&&(u=t._getItemsWithSummaryGroupFooters(u)),o=a&&a.summaryCells,oe(d)&&s&&(o=t._getSummaryCells(s,d));var c=a&&t._getFooterSummaryItems(o,!0);c&&(u=u.concat(c)),t._processUnExportedItems(u),i.resolve(u)}).fail(i.reject)}).fail(i.reject),i},_getSummaryCells:function(e,t){var i=this.getController("data"),r=i._columnsController;return i._calculateSummaryCells(e,t,r.getVisibleColumns(null,!0),function(n,a){return i._isDataColumn(a)?a.index:-1})},_getSelectedItems:function(){var e=this.getController("selection"),t=e.getSelectedRowsData();return this._getAllItems(t)},_getColumnWidths:function(e,t){return e&&e.isVisible()?e.getColumnWidths():t.getColumnWidths()},init:function(){this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView"),this._headersView=this.getView("columnHeadersView"),this.createAction("onExporting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onExported",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFileSaving",{excludeValidators:["disabled","readOnly"]})},callbackNames:function(){return["selectionOnlyChanged"]},getDataProvider:function(e){var t=this._getColumnWidths(this._headersView,this._rowsView),i;if(t&&t.length){i={};for(var r=this._columnsController.getVisibleColumns(this._columnsController.getRowCount(),!0),n=0;n<r.length;n++)i[r[n].index]=t[n]}return new Ise(this,i,e)},exportToExcel:function(e){this._selectionOnly=e,lse(this.component.getDataProvider(),{fileName:this.option("export.fileName"),proxyUrl:this.option("export.proxyUrl"),format:"xlsx",selectedRowsOnly:!!e,autoFilterEnabled:!!this.option("export.excelFilterEnabled"),rtlEnabled:this.option("rtlEnabled"),ignoreErrors:this.option("export.ignoreExcelErrors"),exportingAction:this.getAction("onExporting"),exportedAction:this.getAction("onExported"),fileSavingAction:this.getAction("onFileSaving")},use.getData)},exportTo:function(e,t){this._selectionOnly=e;var i=this.getAction("onExporting"),r={selectedRowsOnly:!!e,format:t,fileName:this.option("export.fileName"),cancel:!1};We(i)&&i(r)},publicMethods:function(){return["getDataProvider","exportToExcel"]},selectionOnly:function(e){if(oe(e))this._isSelectedRows=e,this.selectionOnlyChanged.fire();else return this._isSelectedRows}});qe.registerModule("export",{defaultOptions:function(){return{export:{enabled:!1,fileName:"DataGrid",excelFilterEnabled:!1,formats:["xlsx"],excelWrapTextEnabled:void 0,proxyUrl:void 0,allowExportSelectedData:!1,ignoreExcelErrors:!0,texts:{exportTo:Ae.format("dxDataGrid-exportTo"),exportAll:Ae.format("dxDataGrid-exportAll"),exportSelectedRows:Ae.format("dxDataGrid-exportSelectedRows")}}}},controllers:{export:Ase},extenders:{controllers:{editing:{callbackNames:function(){var e=this.callBase();return oe(e)?e.push("editingChanged"):["editingChanged"]},_updateEditButtons:function(){this.callBase(),this.editingChanged.fire(this.hasChanges())}}},views:{headerPanel:{_getToolbarItems:function(){var e=this.callBase(),t=this._getExportToolbarButton();return t&&(e.push(t),this._correctItemsPosition(e)),e},_getExportToolbarButton:function(){var e=this._getExportToolbarItems();if(e.length===0)return null;var t={name:wse,location:"after",locateInMenu:"auto",sortIndex:30,options:{items:e}};if(e.length===1){var i=Ne({},e[0],{hint:e[0].text,elementAttr:{class:dT}});t.widget="dxButton",t.showText="inMenu",t.options=i}else{var r={icon:hT,displayExpr:"text",items:e,hint:this.option("export.texts.exportTo"),elementAttr:{class:dT},dropDownOptions:{wrapperAttr:{class:xse},width:"auto"}};t.options=r,t.widget="dxDropDownButton",t.menuItemTemplate=(n,a,s)=>{this._createComponent(J(s),po,{items:e})}}return t},_getExportToolbarItems:function(){var e,t=this.option("export"),i=this.option("export.texts"),r=(e=this.option("export.formats"))!==null&&e!==void 0?e:[];if(!t.enabled)return[];var n=[];return r.forEach(a=>{var s="exportTo",o=a.toUpperCase(),l=hT,u=Ese;a==="xlsx"&&(s="exportToExcel",o="Excel",l=Sse),a==="pdf"&&(l=Tse),n.push({text:fn(i.exportAll,o),icon:l,onClick:()=>{this._exportController[s](!1,a)}}),t.allowExportSelectedData&&n.push({text:fn(i.exportSelectedRows,o),icon:u,onClick:()=>{this._exportController[s](!0,a)}})}),n},_correctItemsPosition:function(e){e.sort(function(t,i){return t.sortIndex-i.sortIndex})},_isExportButtonVisible:function(){return this.option("export.enabled")},optionChanged:function(e){this.callBase(e),e.name==="export"&&(e.handled=!0,this._invalidate())},init:function(){var e=this;this.callBase(),this._exportController=this.getController("export"),this._editingController=this.getController("editing"),this._editingController.editingChanged.add(function(t){e.setToolbarItemDisabled("exportButton",t)})},isVisible:function(){return this.callBase()||this._isExportButtonVisible()}}}}});var Qu="dx-row-focused",Ose=".dx-row."+Qu,Dse="table",cT="dx-cell-focus-disabled",kse=ni.ViewController.inherit({init:function(){this._dataController=this.getController("data"),this._keyboardController=this.getController("keyboardNavigation"),this.component._optionsByReference.focusedRowKey=!0},optionChanged:function(e){if(e.name==="focusedRowIndex"){var t=this.option("focusedRowKey");this._focusRowByIndex(e.value),this._triggerFocusedRowChangedIfNeed(t,e.value),e.handled=!0}else if(e.name==="focusedRowKey"){if(e.handled=!0,Array.isArray(e.value)&&JSON.stringify(e.value)===JSON.stringify(e.previousValue))return;var i=this.option("focusedRowIndex");this._focusRowByKey(e.value),this._triggerFocusedRowChangedIfNeed(e.value,i)}else e.name==="focusedColumnIndex"||e.name==="focusedRowEnabled"||e.name==="autoNavigateToFocusedRow"?e.handled=!0:this.callBase(e)},_triggerFocusedRowChangedIfNeed:function(e,t){var i=this.getFocusedRowIndexByKey(e);if(t===i){var r=this._dataController.getRowIndexByKey(e);if(r>=0){var n=J(this.getView("rowsView").getRowElement(r));this.getController("keyboardNavigation")._fireFocusedRowChanged(n,t)}}},isAutoNavigateToFocusedRow:function(){return this.option("scrolling.mode")!=="infinite"&&this.option("autoNavigateToFocusedRow")},_focusRowByIndex:function(e,t){this.option("focusedRowEnabled")&&(e=e!==void 0?e:this.option("focusedRowIndex"),e<0?this.isAutoNavigateToFocusedRow()&&this._resetFocusedRow():this._focusRowByIndexCore(e,t))},_focusRowByIndexCore:function(e,t){var i=this.getController("data"),r=i.pageSize(),n=()=>{if(this._isValidFocusedRowIndex(e)){var s=e-i.getRowIndexOffset(!0);if(!t||t.paging&&!t.filtering){var o=i._getLastItemIndex();s=Math.min(s,o)}var l=i.getKeyByRowIndex(s,!0);oe(l)&&!this.isRowFocused(l)&&this.option("focusedRowKey",l)}};if(r>=0)if(this._isLocalRowIndex(e))n();else{var a=Math.floor(e/i.pageSize());Ke(i.pageIndex(a),i.waitReady()).done(()=>{n()})}},_isLocalRowIndex(e){var t=this.getController("data"),i=this.getController("keyboardNavigation")._isVirtualScrolling();if(i){var r=Math.floor(e/t.pageSize()),n=t.virtualItemsCount(),a=n?n.begin:-1,s=t.getVisibleRows().length+t.getRowIndexOffset(),o=Math.ceil(s/t.pageSize());return a<=e&&o>r}return!0},_setFocusedRowKeyByIndex:function(e){var t=this.getController("data");if(this._isValidFocusedRowIndex(e)){var i=Math.min(e-t.getRowIndexOffset(),t.items().length-1),r=t.getKeyByRowIndex(i);oe(r)&&!this.isRowFocused(r)&&this.option("focusedRowKey",r)}},_focusRowByKey:function(e){oe(e)?this._navigateToRow(e,!0):this._resetFocusedRow()},_resetFocusedRow:function(){var e=this.option("focusedRowKey"),t=oe(e);if(!(!t&&this.option("focusedRowIndex")<0)){var i=this.getController("keyboardNavigation");t&&this.option("focusedRowKey",null),i.setFocusedRowIndex(-1),this.option("focusedRowIndex",-1),this.getController("data").updateItems({changeType:"updateFocusedRow",focusedRowKey:null}),i._fireFocusedRowChanged(void 0,-1)}},_isValidFocusedRowIndex:function(e){var t=this.getController("data"),i=t.getVisibleRows()[e];return!i||i.rowType==="data"||i.rowType==="group"},publicMethods:function(){return["navigateToRow","isRowFocused"]},navigateToRow:function(e){return this.isAutoNavigateToFocusedRow()||this.option("focusedRowIndex",-1),this._navigateToRow(e)},_navigateToRow:function(e,t){var i=this,r=i.getController("data"),n=i.isAutoNavigateToFocusedRow(),a=new we;if(e===void 0||!r.dataSource())return a.reject().promise();var s=i.getFocusedRowIndexByKey(e);return!n&&t||s>=0?i._navigateTo(e,a,t):r.getPageIndexByKey(e).done(function(o){if(o<0){a.resolve(-1);return}o===r.pageIndex()?r.reload().done(function(){i.isRowFocused(e)&&r.getRowIndexByKey(e)>=0?a.resolve(i.getFocusedRowIndexByKey(e)):i._navigateTo(e,a,t)}).fail(a.reject):r.pageIndex(o).done(function(){i._navigateTo(e,a,t)}).fail(a.reject)}).fail(a.reject),a.promise()},_navigateTo:function(e,t,i){var r=this.getController("data").getRowIndexByKey(e),n=Fe.isVirtualRowRendering(this),a=this.isAutoNavigateToFocusedRow();a&&n&&r<0?this._navigateToVirtualRow(e,t,i):this._navigateToVisibleRow(e,t,i)},_navigateToVisibleRow:function(e,t,i){if(i)this._triggerUpdateFocusedRow(e,t);else{var r=this.getFocusedRowIndexByKey(e);this.getView("rowsView").scrollToRowElement(e,t).done(function(){t.resolve(r)})}},_navigateToVirtualRow:function(e,t,i){var r=this,n=this.getController("data"),a=n._rowsScrollController,s=Fe.getIndexByKey(e,n.items(!0)),o=r.getView("rowsView").getScrollable();if(a&&o&&s>=0){var l=s+n.getRowIndexOffset(!0),u=a.getItemOffset(l);r.component.on("contentReady",function d(){r.component.off("contentReady",d),i?r._triggerUpdateFocusedRow(e,t):t.resolve(l)}),this.getView("rowsView").scrollTopPosition(u)}else t.resolve(-1)},_triggerUpdateFocusedRow:function(e,t){var i=this.getController("data"),r=this.getFocusedRowIndexByKey(e);if(this._isValidFocusedRowIndex(r)){var n;this.option("focusedRowEnabled")?i.updateItems({changeType:"updateFocusedRow",focusedRowKey:e}):n=this.getView("rowsView").scrollToRowElement(e),Ke(n).done(()=>{this.getController("keyboardNavigation").setFocusedRowIndex(r),t&&t.resolve(r)})}else t&&t.resolve(-1)},getFocusedRowIndexByKey:function(e){var t=this.getController("data"),i=t.getRowIndexByKey(e,!0);return i>=0?i+t.getRowIndexOffset(!0):-1},_focusRowByKeyOrIndex:function(){var e=this.option("focusedRowKey"),t=this.option("focusedRowIndex"),i=this.getController("keyboardNavigation"),r=this.getController("data");if(oe(e)){var n=r.getRowIndexByKey(e);n>=0?(i._isVirtualScrolling()&&(t=n+r.getRowIndexOffset()),i.setFocusedRowIndex(t),this._triggerUpdateFocusedRow(e)):this._navigateToRow(e,!0).done(a=>{t>=0&&a<0?this._focusRowByIndex():t<0&&a>=0&&i.setFocusedRowIndex(a)})}else t>=0&&this.getController("focus")._focusRowByIndex(t)},isRowFocused:function(e){var t=this.option("focusedRowKey");if(oe(t))return li(e,this.option("focusedRowKey"))},updateFocusedRow:function(e){var t=this,i=t._dataController.getRowIndexByKey(e.focusedRowKey),r=t.getView("rowsView"),n,a;ve(r.getTableElements(),function(s,o){var l=s===0;n=J(o),t._clearPreviousFocusedRow(n,i);var u=t._prepareFocusedRow({changedItem:t._dataController.getVisibleRows()[i],$tableElement:n,focusedRowIndex:i});l&&(a=u)}),a&&r.scrollToElementVertically(a)},_clearPreviousFocusedRow:function(e,t){var i=e.find(Ose).filter((n,a)=>{var s=J(a).closest(".".concat(this.addWidgetPrefix(Dse)));return e.is(s)});if(i.removeClass(Qu).removeClass(cT).removeAttr("tabindex"),i.children("td").removeAttr("tabindex"),t!==0){var r=J(this.getView("rowsView").getRowElement(0));r.removeClass(cT).removeAttr("tabIndex")}},_prepareFocusedRow:function(e){var t,i=e.changedItem;if(i&&(i.rowType==="data"||i.rowType==="group")){var r=e.focusedRowIndex,n=e.$tableElement,a=this.option("tabindex")||0,s=this.getView("rowsView");t=J(s._getRowElements(n).eq(r)),t.addClass(Qu).attr("tabindex",a)}return t}}),Rse={defaultOptions:function(){return{focusedRowEnabled:!1,autoNavigateToFocusedRow:!0,focusedRowKey:null,focusedRowIndex:-1,focusedColumnIndex:-1}},controllers:{focus:kse},extenders:{controllers:{keyboardNavigation:{init:function(){var e=this.option("focusedRowIndex"),t=this.option("focusedColumnIndex");this.createAction("onFocusedRowChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedRowChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanged",{excludeValidators:["disabled","readOnly"]}),this.callBase(),this.setRowFocusType(),this._focusedCellPosition={},oe(e)&&(this._focusedCellPosition.rowIndex=this.option("focusedRowIndex")),oe(t)&&(this._focusedCellPosition.columnIndex=this.option("focusedColumnIndex"))},setFocusedRowIndex:function(e){var t=this.getController("data");this.callBase(e);var i=e-t.getRowIndexOffset(),r=t.getVisibleRows()[i];(!r||!r.isNewRow)&&this.option("focusedRowIndex",e)},setFocusedColumnIndex:function(e){this.callBase(e),this.option("focusedColumnIndex",e)},_escapeKeyHandler:function(e,t){if(t||!this.option("focusedRowEnabled")){this.callBase(e,t);return}this.isCellFocusType()&&(this.setRowFocusType(),this._focus(this._getCellElementFromTarget(e.originalEvent.target),!0))},_updateFocusedCellPosition:function(e,t){var i=this.option("focusedRowIndex"),r=this.option("focusedColumnIndex"),n=this.callBase(e,t);n&&n.columnIndex>=0&&this._fireFocusedCellChanged(e,r,i)}},editorFactory:{renderFocusOverlay:function(e,t){var i=this.getController("keyboardNavigation"),r=this.option("focusedRowEnabled"),n=this.getController("editing"),a;if(!r||!(i!=null&&i.isRowFocusType())||n.isEditing())this.callBase(e,t);else if(r){var s=i._getElementType(e)==="row";s&&!e.hasClass(Qu)&&(a=i.getFirstValidCellInRow(e),i.focus(a))}}},columns:{getSortDataSourceParameters:function(e,t){var i=this.callBase.apply(this,arguments),r=this.getController("data"),n=r._dataSource,a=r.store(),s=a&&a.key(),o=n&&n.remoteOperations()||{},l=Object.keys(o).every(d=>!o[d]);if(s&&(this.option("focusedRowEnabled")&&this.getController("focus").isAutoNavigateToFocusedRow()!==!1||t)){s=Array.isArray(s)?s:[s];var u=s.filter(d=>!this.columnOption(d,"sortOrder"));u.length&&(i=i||[],l?i.push({selector:n.getDataIndexGetter(),desc:!1}):u.forEach(d=>i.push({selector:d,desc:!1})))}return i}},data:{_applyChange:function(e){if(!(e&&e.changeType==="updateFocusedRow"))return this.callBase.apply(this,arguments)},_fireChanged:function(e){if(this.callBase(e),this.option("focusedRowEnabled")&&this._dataSource){var t=e.changeType==="update"&&e.repaintChangesOnly,i=t&&e.changeTypes&&e.changeTypes.indexOf("remove")>=0;e.changeType==="refresh"&&e.items.length||i?(this._updatePageIndexes(),this.processUpdateFocusedRow(e)):e.changeType==="append"||e.changeType==="prepend"?this._updatePageIndexes():e.changeType==="update"&&e.repaintChangesOnly&&this.processUpdateFocusedRow(e)}},_updatePageIndexes:function(){var e=this._lastRenderingPageIndex||0,t=this._rowsScrollController?this._rowsScrollController.pageIndex():0;this._lastRenderingPageIndex=t,this._isPagingByRendering=t!==e},isPagingByRendering:function(){return this._isPagingByRendering},processUpdateFocusedRow:function(e){var t=e.operationTypes||{},i=this.getController("focus"),{reload:r,fullReload:n}=t,a=this.getController("keyboardNavigation"),s=a._isVirtualScrolling(),o=this.option("focusedRowKey"),l=i.isAutoNavigateToFocusedRow();if(r&&!n&&oe(o))i._navigateToRow(o,!0).done(function(f){f<0&&i._focusRowByIndex(void 0,t)});else if(t.paging&&!s)if(l){var u=this.getRowIndexByKey(o),d=u>=0,c=this.option("focusedRowIndex"),h=c>=0&&(c===u||!d);h&&i._focusRowByIndex(void 0,t)}else this.getRowIndexByKey(o)<0&&this.option("focusedRowIndex",-1);else t.fullReload&&i._focusRowByKeyOrIndex()},getPageIndexByKey:function(e){var t=this,i=new we;return t.getGlobalRowIndexByKey(e).done(function(r){i.resolve(r>=0?Math.floor(r/t.pageSize()):-1)}).fail(i.reject),i.promise()},getGlobalRowIndexByKey:function(e){return this._dataSource.group()?this._calculateGlobalRowIndexByGroupedData(e):this._calculateGlobalRowIndexByFlatData(e)},_calculateGlobalRowIndexByFlatData:function(e,t,i){var r=this,n=new we,a=r._dataSource;if(Array.isArray(e))return n.resolve(-1).promise();var s=r._generateFilterByKey(e);return a.load({filter:r._concatWithCombinedFilter(s),skip:0,take:1}).done(function(o){o.length>0?(s=r._generateOperationFilterByKey(e,o[0],i),a.load({filter:r._concatWithCombinedFilter(s,t),skip:0,take:1,requireTotalCount:!0}).done(function(l,u){n.resolve(u.totalCount)})):n.resolve(-1)}),n.promise()},_concatWithCombinedFilter:function(e,t){var i=this.getCombinedFilter();return Fe.combineFilters([e,i,t])},_generateBooleanFilter:function(e,t,i){var r;return t===!1?r=[e,"=",i.desc?!0:null]:(t===!0?!i.desc:i.desc)&&(r=[e,"<>",t]),r},_generateOperationFilterByKey:function(e,t,i){var r=this,n=r._dataSource,a=r._generateFilterByKey(e,"<"),s=r._columnsController.getSortDataSourceParameters(!n.remoteOperations().filtering,!0);if(i){var o=r._columnsController.getGroupDataSourceParameters(!n.remoteOperations().filtering);o&&(s=s?o.concat(s):o)}return s&&s.slice().reverse().forEach(function(l){var u=l.selector,d;typeof u=="function"?d=u:d=r._columnsController.columnOption(u,"selector");var c=d?d(t):t[u];if(a=[[u,"=",c],"and",a],c===null||ll(c)){var h=r._generateBooleanFilter(u,c,l);h&&(a=[h,"or",a])}else{var f=l.desc?">":"<",p;l.compare?p=g=>f==="<"?l.compare(c,d(g))>=1:l.compare(c,d(g))<=-1:(p=[u,f,c],l.desc||(p=[p,"or",[u,"=",null]])),a=[p,"or",a]}}),a},_generateFilterByKey:function(e,t){var i=this._dataSource.key(),r=[];if(t||(t="="),Array.isArray(i))for(var n=0;n<i.length;++n){var a=e[i[n]];a&&(r.length>0&&r.push("and"),r.push([i[n],t,a]))}else r=[i,t,e];return r},_getLastItemIndex:function(){return this.items(!0).length-1}},editing:{_deleteRowCore:function(e){var t=this.callBase.apply(this,arguments),i=this.getController("data"),r=i.getKeyByRowIndex(e);t.done(()=>{var n=i.getRowIndexByKey(r),a=i.getVisibleRows();n===-1&&!a.length&&this.getController("focus")._resetFocusedRow()})}}},views:{rowsView:{_createRow:function(e){var t=this.callBase.apply(this,arguments);return this.option("focusedRowEnabled")&&e&&this.getController("focus").isRowFocused(e.key)&&t.addClass(Qu),t},_checkRowKeys:function(e){if(this.callBase.apply(this,arguments),this.option("focusedRowEnabled")&&this.option("dataSource")){var t=this._dataController.store();t&&!t.key()&&this._dataController.fireError("E1042","Row focusing")}},_update:function(e){e.changeType==="updateFocusedRow"?this.option("focusedRowEnabled")&&this.getController("focus").updateFocusedRow(e):this.callBase(e)},updateFocusElementTabIndex:function(e,t){var i=this.getController("keyboardNavigation").getVisibleRowIndex(),r=this._dataController.getVisibleRows()[i];this.option("focusedRowEnabled")&&!(r!=null&&r.isNewRow)?this._setFocusedRowElementTabIndex(t):this.callBase(e)},_setFocusedRowElementTabIndex:function(e){var t=this.option("focusedRowKey"),i=this.option("tabIndex")||0,r=this._dataController,n=this._columnsController,a=r.getRowIndexByKey(t),s=this.option("focusedColumnIndex"),o=this._findRowElementForTabIndex();if(oe(this._scrollToFocusOnResize)||(this._scrollToFocusOnResize=()=>{this.scrollToElementVertically(this._findRowElementForTabIndex()),this.resizeCompleted.remove(this._scrollToFocusOnResize)}),o.attr("tabIndex",i),a>=0&&!e&&(s<0&&(s=0),a+=r.getRowIndexOffset(),s+=n.getColumnIndexOffset(),this.getController("keyboardNavigation").setFocusedCellPosition(a,s),this.getController("focus").isAutoNavigateToFocusedRow())){var l=r.dataSource(),u=l&&l.operationTypes();u&&!u.paging&&!r.isPagingByRendering()&&(this.resizeCompleted.remove(this._scrollToFocusOnResize),this.resizeCompleted.add(this._scrollToFocusOnResize))}},_findRowElementForTabIndex:function(){var e=this.option("focusedRowKey"),t=this._dataController.getRowIndexByKey(e);return J(this.getRowElement(t>=0?t:0))},scrollToRowElement:function(e){var t=this.getController("data").getRowIndexByKey(e),i=J(this.getRow(t));return this.scrollToElementVertically(i)},scrollToElementVertically:function(e){var t=this.getScrollable();if(t&&e.length){var i=t.getScrollElementPosition(e,"vertical");return this.scrollTopPosition(i)}return new we().resolve()},scrollTopPosition:function(e){var t=new we,i=this.getScrollable();if(i){var r=i.scrollTop(),n=()=>{i.off("scroll",n),t.resolve()};if(e!==r)return i.on("scroll",n),this._dataController.resetFilterApplying(),i.scrollTo({top:e}),t.promise()}return t.resolve()}}}}},Mse=Number.MAX_SAFE_INTEGER||9007199254740991;qe.registerModule("focus",ce(!0,{},Rse,{extenders:{controllers:{data:{changeRowExpand:function(e,t){if(this.option("focusedRowEnabled")&&Array.isArray(e)&&this.isRowExpanded(e)){var i=this.getController("keyboardNavigation");(!t||!i.isKeyboardEnabled())&&this._isFocusedRowInsideGroup(e)&&this.option("focusedRowKey",e)}return this.callBase.apply(this,arguments)},_isFocusedRowInsideGroup:function(e){var t=this.getController("columns"),i=this.option("focusedRowKey"),r=this.getRowIndexByKey(i),n=r>=0&&this.getVisibleRows()[r],a=t.getGroupDataSourceParameters(!0);if(n)for(var s=0;s<e.length;++s){var o=Yt(a[s]&&a[s].selector);if(o(n.data)!==e[s])return!1}return!0},_getGroupPath:function(e,t){for(var i=[],r=[e];r&&r[0]&&t;){var n=r[0];n.key!==void 0&&i.push(n.key),r=n.items,t--}return i},_expandGroupByPath:function(e,t,i){var r=new we;return i++,e.expandRow(t.slice(0,i)).done(function(){i===t.length?r.resolve():e._expandGroupByPath(e,t,i).done(r.resolve).fail(r.reject)}).fail(r.reject),r.promise()},_calculateGlobalRowIndexByGroupedData:function(e){var t=this,i=t._dataSource,r=t._generateFilterByKey(e),n=new we,a=Array.isArray(e),s=i.group();return a?n.resolve(-1).promise():i._grouping._updatePagingOptions?(i.load({filter:t._concatWithCombinedFilter(r),group:s}).done(function(o){if(!o||o.length===0||!oe(o[0].key)||o[0].key===-1)return n.resolve(-1).promise();var l=t._getGroupPath(o[0],s.length);t._expandGroupByPath(t,l,0).done(function(){t._calculateExpandedRowGlobalIndex(n,e,l,s)}).fail(n.reject)}).fail(n.reject),n.promise()):(t._calculateGlobalRowIndexByFlatData(e,null,!0).done(n.resolve).fail(n.reject),n)},_calculateExpandedRowGlobalIndex:function(e,t,i,r){var n=ks(i,{group:r}),a=this._dataSource,s=this.option("scrolling.mode"),o=s==="virtual"||s==="infinite",l=a.pageSize(),u;a._grouping._updatePagingOptions({skip:0,take:Mse},function(d,c){li(d.path,i)&&(u=c)}),this._calculateGlobalRowIndexByFlatData(t,n).done(function(d){var c,h;if(d<0){e.resolve(-1);return}var f=u%l||l;c=f+d-i.length,o?h=0:h=Math.floor(c/(l-i.length))*i.length,c=u+d+h,e.resolve(c)}).fail(e.reject)}}}}}));var fT=ft(),ma="dxDraggable",Bse=Be(Ks,ma),Pse=Be(Za,ma),Lse=Be(qs,ma),Fse=Be(Mf,ma),Nse=Be(Bf,ma),Vse=Be(Vt.down,ma),pT="clone",Qg,ev,Hse="content",x_=e=>({x:e.pageX-J(fT).scrollLeft(),y:e.pageY-J(fT).scrollTop()}),$se="dx-gesture-cover",zse="dx-overlay-wrapper",Wse="dx-overlay-content";class mT{constructor(t,i){this._preventScroll=!0,this._component=i,t==="vertical"?(this._scrollValue="scrollTop",this._overFlowAttr="overflowY",this._sizeAttr="height",this._scrollSizeProp="scrollHeight",this._clientSizeProp="clientHeight",this._limitProps={start:"top",end:"bottom"}):(this._scrollValue="scrollLeft",this._overFlowAttr="overflowX",this._sizeAttr="width",this._scrollSizeProp="scrollWidth",this._clientSizeProp="clientWidth",this._limitProps={start:"left",end:"right"})}updateScrollable(t,i){var r=!1;t.some(n=>{var a=J(n),s=a.hasClass(zse),o=a.hasClass(Wse);return s||o?!0:(r=this._trySetScrollable(n,i),r)}),r||(this._$scrollableAtPointer=null,this._scrollSpeed=0)}isScrolling(){return!!this._scrollSpeed}isScrollable(t){return(t.css(this._overFlowAttr)==="auto"||t.hasClass("dx-scrollable-container"))&&t.prop(this._scrollSizeProp)>Math.ceil(this._sizeAttr==="width"?ut(t):ct(t))}_trySetScrollable(t,i){var r=J(t),n,a=this._component.option("scrollSensitivity"),s=this.isScrollable(r);return s&&(n=this._calculateDistanceToBorders(r,i),a>n[this._limitProps.start]?this._preventScroll||(this._scrollSpeed=-this._calculateScrollSpeed(n[this._limitProps.start]),this._$scrollableAtPointer=r):a>n[this._limitProps.end]?this._preventScroll||(this._scrollSpeed=this._calculateScrollSpeed(n[this._limitProps.end]),this._$scrollableAtPointer=r):(s=!1,this._preventScroll=!1)),s}_calculateDistanceToBorders(t,i){var r=t.get(0),n;return r?(n=vi(r),{left:i.x-n.left,top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y}):{}}_calculateScrollSpeed(t){var i=this._component,r=i.option("scrollSensitivity"),n=i.option("scrollSpeed");return Math.ceil(Math.pow((r-t)/r,2)*n)}scrollByStep(){if(this._$scrollableAtPointer&&this._scrollSpeed){if(this._$scrollableAtPointer.hasClass("dx-scrollable-container")){var t=this._$scrollableAtPointer.closest(".dx-scrollable"),i=t.data("dxScrollable")||t.data("dxScrollView");if(i){var r=i.scrollOffset()[this._limitProps.start]+this._scrollSpeed;i.scrollTo({[this._limitProps.start]:r})}}else{var n=this._$scrollableAtPointer[this._scrollValue]()+this._scrollSpeed;this._$scrollableAtPointer[this._scrollValue](n)}var a=this._component._dragMoveArgs;a&&this._component._dragMoveHandler(a)}}reset(){this._$scrollableAtPointer=null,this._scrollSpeed=0,this._preventScroll=!0}isOutsideScrollable(t,i){if(!t)return!1;var r=vi(t.get(0)),n=r[this._limitProps.start],a=r[this._sizeAttr],s=x_(i),o=this._sizeAttr==="width"?s.x:s.y;return o<n||o>n+a}}var jse=I2.inherit({ctor:function(e){this.callBase(),this._strategy=e},_step:function(){var e=this._strategy._horizontalScrollHelper,t=this._strategy._verticalScrollHelper;e&&e.scrollByStep(),t&&t.scrollByStep()}}),VR=Nn.inherit({reset:Ee,dragMove:Ee,dragEnter:Ee,dragLeave:Ee,dragEnd:function(e){var t=this._getSourceDraggable();return t._fireRemoveEvent(e),new we().resolve()},_fireRemoveEvent:Ee,_getDefaultOptions:function(){return ce(this.callBase(),{onDragStart:null,onDragMove:null,onDragEnd:null,onDragEnter:null,onDragLeave:null,onDrop:null,immediate:!0,dragDirection:"both",boundary:void 0,boundOffset:0,allowMoveByClick:!1,itemData:null,container:void 0,dragTemplate:void 0,contentTemplate:"content",handle:"",filter:"",clone:!1,autoScroll:!0,scrollSpeed:30,scrollSensitivity:60,group:void 0,data:void 0})},_setOptionsByReference:function(){this.callBase.apply(this,arguments),ce(this._optionsByReference,{component:!0,group:!0,itemData:!0,data:!0})},_init:function(){this.callBase(),this._attachEventHandlers(),this._scrollAnimator=new jse(this),this._horizontalScrollHelper=new mT("horizontal",this),this._verticalScrollHelper=new mT("vertical",this)},_normalizeCursorOffset:function(e){return at(e)&&(e={h:e.x,v:e.y}),e=Cl(e).map(t=>parseFloat(t)),{left:e[0],top:e.length===1?e[0]:e[1]}},_getNormalizedCursorOffset:function(e,t){return We(e)&&(e=e.call(this,t)),this._normalizeCursorOffset(e)},_calculateElementOffset:function(e){var t,i,r=e.event,n=J(e.itemElement),a=J(e.dragElement),s=this._dragElementIsCloned(),o=this.option("cursorOffset"),l={left:0,top:0},u=this._initialLocate=Ur(a);return(s||e.initialOffset||o)&&(t=e.initialOffset||n.offset(),o&&(l=this._getNormalizedCursorOffset(o,e),isFinite(l.left)&&(t.left=r.pageX),isFinite(l.top)&&(t.top=r.pageY)),i=a.offset(),t.top-=i.top+(l.top||0)-u.top,t.left-=i.left+(l.left||0)-u.left),t},_initPosition:function(e){var t=J(e.dragElement),i=this._calculateElementOffset(e);i&&this._move(i,t),this._startPosition=Ur(t)},_startAnimator:function(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()},_stopAnimator:function(){this._scrollAnimator.stop()},_addWidgetPrefix:function(e){var t=this.NAME;return Y_(t)+(e?"-"+e:"")},_getItemsSelector:function(){return this.option("filter")||""},_$content:function(){var e=this.$element(),t=e.children(".dx-template-wrapper");return t.length?t:e},_attachEventHandlers:function(){if(!this.option("disabled")){var e=this._$content(),t=this._getItemsSelector(),i=this.option("allowMoveByClick"),r={direction:this.option("dragDirection"),immediate:this.option("immediate"),checkDropTarget:(n,a)=>{var s=this.option("group"),o=this._getSourceDraggable().option("group"),l=this._getScrollable(n);return this._verticalScrollHelper.isOutsideScrollable(l,a)||this._horizontalScrollHelper.isOutsideScrollable(l,a)?!1:o&&o===s}};i&&(e=this._getArea(),he.on(e,Vse,r,this._pointerDownHandler.bind(this))),t[0]===">"&&(t=t.slice(1)),he.on(e,Bse,t,r,this._dragStartHandler.bind(this)),he.on(e,Pse,r,this._dragMoveHandler.bind(this)),he.on(e,Lse,r,this._dragEndHandler.bind(this)),he.on(e,Fse,r,this._dragEnterHandler.bind(this)),he.on(e,Nse,r,this._dragLeaveHandler.bind(this))}},_dragElementIsCloned:function(){return this._$dragElement&&this._$dragElement.hasClass(this._addWidgetPrefix(pT))},_getDragTemplateArgs:function(e,t){return{container:ot(t),model:{itemData:this.option("itemData"),itemElement:ot(e)}}},_createDragElement:function(e){var t=e,i=this.option("clone"),r=this._getContainer(),n=this.option("dragTemplate");return n?(n=this._getTemplate(n),t=J("<div>").appendTo(r),n.render(this._getDragTemplateArgs(e,t))):i&&(t=J("<div>").appendTo(r),e.clone().css({width:e.css("width"),height:e.css("height")}).appendTo(t)),t.toggleClass(this._addWidgetPrefix(pT),t.get(0)!==e.get(0)).toggleClass("dx-rtl",this.option("rtlEnabled"))},_resetDragElement:function(){this._dragElementIsCloned()?this._$dragElement.remove():this._toggleDraggingClass(!1),this._$dragElement=null},_resetSourceElement:function(){this._toggleDragSourceClass(!1),this._$sourceElement=null},_detachEventHandlers:function(){he.off(this._$content(),"."+ma),he.off(this._getArea(),"."+ma)},_move:function(e,t){ki(t||this._$dragElement,e)},_getDraggableElement:function(e){var t=this._getSourceElement();if(t)return t;var i=this.option("allowMoveByClick");if(i)return this.$element();var r=J(e&&e.target),n=this._getItemsSelector();if(n[0]===">"){var a=this._$content().find(n);a.is(r)||(r=r.closest(a))}return r},_getSourceElement:function(){var e=this._getSourceDraggable();return e._$sourceElement},_pointerDownHandler:function(e){if(!qI(e)){var t={},i=this.$element(),r=this.option("dragDirection");(r==="horizontal"||r==="both")&&(t.left=e.pageX-i.offset().left+Ur(i).left-ut(i)/2),(r==="vertical"||r==="both")&&(t.top=e.pageY-i.offset().top+Ur(i).top-ct(i)/2),this._move(t,i),this._getAction("onDragMove")(this._getEventArgs(e))}},_isValidElement:function(e,t){var i=this.option("handle"),r=J(e.originalEvent&&e.originalEvent.target);return i&&!r.closest(i).length||!t.length?!1:!t.is(".dx-state-disabled, .dx-state-disabled *")},_dragStartHandler:function(e){var t=this._getDraggableElement(e);if(!this._isValidElement(e,t)){e.cancel=!0;return}if(!this._$sourceElement){var i=this._getDragStartArgs(e,t);if(this._getAction("onDragStart")(i),i.cancel){e.cancel=!0;return}this.option("itemData",i.itemData),this._setSourceDraggable(),this._$sourceElement=t;var r=t.offset(),n=this._$dragElement=this._createDragElement(t);this._toggleDraggingClass(!0),this._toggleDragSourceClass(!0),this._setGestureCoverCursor(n.children());var a=n.css("position")==="fixed";this._initPosition(ce({},i,{dragElement:n.get(0),initialOffset:a&&r})),this._getAction("onDraggableElementShown")(Ne({},i,{dragElement:n}));var s=this._getArea(),o=this._getAreaOffset(s),l=this._getBoundOffset(),u=Pt(s),d=At(s),c=ut(n),h=ct(n),f=n.offset().left-o.left,p=n.offset().top-o.top;s.length&&(e.maxLeftOffset=f-l.left,e.maxRightOffset=u-f-c-l.right,e.maxTopOffset=p-l.top,e.maxBottomOffset=d-p-h-l.bottom),this.option("autoScroll")&&this._startAnimator()}},_getAreaOffset:function(e){var t=e&&Ki.offset(e);return t||{left:0,top:0}},_toggleDraggingClass:function(e){this._$dragElement&&this._$dragElement.toggleClass(this._addWidgetPrefix("dragging"),e)},_toggleDragSourceClass:function(e,t){var i=t||this._$sourceElement;i&&i.toggleClass(this._addWidgetPrefix("source"),e)},_setGestureCoverCursor:function(e){J(".".concat($se)).css("cursor",e.css("cursor"))},_getBoundOffset:function(){var e=this.option("boundOffset");return We(e)&&(e=e.call(this)),cP(e)},_getArea:function(){var e=this.option("boundary");return We(e)&&(e=e.call(this)),J(e)},_getContainer:function(){var e=this.option("container");return e===void 0&&(e=Xa()),J(e)},_dragMoveHandler:function(e,t){if(this._dragMoveArgs=e,!this._$dragElement){e.cancel=!0;return}var i=e.offset,r=this._startPosition;this._move({left:r.left+i.x,top:r.top+i.y}),t||this._updateScrollable(e);var n=this._getEventArgs(e);if(this._getAction("onDragMove")(n),n.cancel!==!0){var a=this._getTargetDraggable();a.dragMove(e,t)}},_updateScrollable:function(e){if(this.option("autoScroll")){var t=x_(e),i=Re.elementsFromPoint(t.x,t.y);this._verticalScrollHelper.updateScrollable(i,t),this._horizontalScrollHelper.updateScrollable(i,t)}},_getScrollable:function(e){var t;return e.parents().toArray().some(i=>{var r=J(i);if(this._horizontalScrollHelper.isScrollable(r)||this._verticalScrollHelper.isScrollable(r))return t=r,!0}),t},_defaultActionArgs:function(){var e=this.callBase.apply(this,arguments),t=this.option("component");return t&&(e.component=t,e.element=t.element()),e},_getEventArgs:function(e){var t=this._getSourceDraggable(),i=this._getTargetDraggable();return{event:e,itemData:t.option("itemData"),itemElement:ot(t._$sourceElement),fromComponent:t.option("component")||t,toComponent:i.option("component")||i,fromData:t.option("data"),toData:i.option("data")}},_getDragStartArgs:function(e,t){var i=this._getEventArgs(e);return{event:i.event,itemData:i.itemData,itemElement:t,fromData:i.fromData}},_revertItemToInitialPosition:function(){!this._dragElementIsCloned()&&this._move(this._initialLocate,this._$sourceElement)},_dragEndHandler:function(e){var t=new we,i=this._getEventArgs(e),r=this._getEventArgs(e),n=this._getTargetDraggable(),a=!0;try{this._getAction("onDragEnd")(i)}finally{Ke(Gi(i.cancel)).done(s=>{if(!s&&(n!==this&&n._getAction("onDrop")(r),!r.cancel)){a=!1,Ke(Gi(n.dragEnd(i))).always(t.resolve);return}t.resolve()}).fail(t.resolve),t.done(()=>{a&&this._revertItemToInitialPosition(),this.reset(),n.reset(),this._stopAnimator(),this._horizontalScrollHelper.reset(),this._verticalScrollHelper.reset(),this._resetDragElement(),this._resetSourceElement(),this._resetTargetDraggable(),this._resetSourceDraggable()})}},_isTargetOverAnotherDraggable:function(e){var t=this._getSourceDraggable();if(this===t)return!1;var i=t._$dragElement,r=t.$element(),n=this.$element(),a=x_(e),s=Re.elementsFromPoint(a.x,a.y),o=s.filter(c=>{var h=J(c);if(h.hasClass(this._addWidgetPrefix()))return!h.closest(i).length})[0],l=this._getSourceElement(),u=o===r.get(0),d=J(o).closest(l).length;return!o||o===n.get(0)&&!u&&!d},_dragEnterHandler:function(e){this._fireDragEnterEvent(e),this._isTargetOverAnotherDraggable(e)&&this._setTargetDraggable();var t=this._getSourceDraggable();t.dragEnter(e)},_dragLeaveHandler:function(e){this._fireDragLeaveEvent(e),this._resetTargetDraggable(),this!==this._getSourceDraggable()&&this.reset();var t=this._getSourceDraggable();t.dragLeave(e)},_getAction:function(e){return this["_"+e+"Action"]||this._createActionByOption(e)},_getAnonymousTemplateName:function(){return Hse},_initTemplates:function(){this.option("contentTemplate")&&(this._templateManager.addDefaultTemplates({content:new Fs}),this.callBase.apply(this,arguments))},_render:function(){this.callBase(),this.$element().addClass(this._addWidgetPrefix());var e=this._templateManager.anonymousTemplateName===this.option("contentTemplate"),t=this._getTemplateByOption("contentTemplate");t&&J(t.render({container:this.element(),transclude:e}))},_optionChanged:function(e){var t=e.name;switch(t){case"onDragStart":case"onDragMove":case"onDragEnd":case"onDrop":case"onDragEnter":case"onDragLeave":case"onDraggableElementShown":this["_"+t+"Action"]=this._createActionByOption(t);break;case"dragTemplate":case"contentTemplate":case"container":case"clone":break;case"allowMoveByClick":case"dragDirection":case"disabled":case"boundary":case"filter":case"immediate":this._resetDragElement(),this._detachEventHandlers(),this._attachEventHandlers();break;case"autoScroll":this._verticalScrollHelper.reset(),this._horizontalScrollHelper.reset();break;case"scrollSensitivity":case"scrollSpeed":case"boundOffset":case"handle":case"group":case"data":case"itemData":break;default:this.callBase(e)}},_getTargetDraggable:function(){return Qg||this},_getSourceDraggable:function(){return ev||this},_setTargetDraggable:function(){var e=this.option("group"),t=this._getSourceDraggable();e&&e===t.option("group")&&(Qg=this)},_setSourceDraggable:function(){ev=this},_resetSourceDraggable:function(){ev=null},_resetTargetDraggable:function(){Qg=null},_dispose:function(){this.callBase(),this._detachEventHandlers(),this._resetDragElement(),this._resetTargetDraggable(),this._resetSourceDraggable(),this._$sourceElement=null,this._stopAnimator()},_fireDragEnterEvent:function(e){var t=this._getEventArgs(e);this._getAction("onDragEnter")(t)},_fireDragLeaveEvent:function(e){var t=this._getEventArgs(e);this._getAction("onDragLeave")(t)}});Tt(ma,VR);var gT=ft(),Use="dxSortable",vT="placeholder",Gse="clone",_T=e=>J(e).is(":visible"),Kse=(e,t)=>{var i,r;if(e){var n=((i=t.to)===null||i===void 0?void 0:i.left)||0,a=((r=t.to)===null||r===void 0?void 0:r.top)||0;e.style.transform="translate(".concat(n,"px,").concat(a,"px)"),e.style.transition="transform ".concat(t.duration,"ms ").concat(t.easing)}},qse=e=>{e&&(e.style.transform="",e.style.transition="")};function Xse(e){var t=e.offset(),i=e[0].style,r=parseFloat(i.paddingLeft)||0,n=parseFloat(i.paddingRight)||0,a=parseFloat(i.paddingTop)||0,s=e[0].clientWidth-(r+n),o=ct(e),l=t.left+r,u=t.top+a;return{left:l,right:l+s,top:u,bottom:u+o}}var HR=VR.inherit({_init:function(){this.callBase(),this._sourceScrollHandler=this._handleSourceScroll.bind(this),this._sourceScrollableInfo=null},_getDefaultOptions:function(){return ce(this.callBase(),{clone:!0,filter:"> *",itemOrientation:"vertical",dropFeedbackMode:"push",allowDropInsideItem:!1,allowReordering:!0,moveItemOnDrop:!1,onDragChange:null,onAdd:null,onRemove:null,onReorder:null,onPlaceholderPrepared:null,animation:{type:"slide",duration:300,easing:"ease"},fromIndex:null,toIndex:null,dropInsideItem:!1,itemPoints:null,fromIndexOffset:0,offset:0,autoUpdate:!1,draggableElementSize:0})},reset:function(){this.option({dropInsideItem:!1,toIndex:null,fromIndex:null,itemPoints:null,fromIndexOffset:0,draggableElementSize:0}),this._$placeholderElement&&this._$placeholderElement.remove(),this._$placeholderElement=null,!this._isIndicateMode()&&this._$modifiedItem&&(this._$modifiedItem.css("marginBottom",this._modifiedItemMargin),this._$modifiedItem=null)},_getPrevVisibleItem:function(e,t){return e.slice(0,t).reverse().filter(_T)[0]},_dragStartHandler:function(e){if(this.callBase.apply(this,arguments),e.cancel!==!0){var t=this._getSourceElement();this._updateItemPoints(),this._subscribeToSourceScroll(e),this.option("fromIndex",this._getElementIndex(t)),this.option("fromIndexOffset",this.option("offset"))}},_subscribeToSourceScroll:function(e){var t=this._getScrollable(J(e.target));t&&(this._sourceScrollableInfo={element:t,scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop()},he.off(t,"scroll",this._sourceScrollHandler),he.on(t,"scroll",this._sourceScrollHandler))},_unsubscribeFromSourceScroll:function(){this._sourceScrollableInfo&&(he.off(this._sourceScrollableInfo.element,"scroll",this._sourceScrollHandler),this._sourceScrollableInfo=null)},_handleSourceScroll:function(e){var t=this._sourceScrollableInfo;t&&["scrollLeft","scrollTop"].forEach(i=>{if(e.target[i]!==t[i]){var r=e.target[i]-t[i];this._correctItemPoints(r),this._movePlaceholder(),t[i]=e.target[i]}})},_dragEnterHandler:function(e){if(this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&(this._subscribeToSourceScroll(e),this._updateItemPoints(),this.option("fromIndex",-1),!this._isIndicateMode())){var t=this.option("itemPoints"),i=t[t.length-1];if(i){var r=this.$element(),n=this._getSourceElement(),a=this._isVerticalOrientation(),s=a?At(n,!0):Pt(n,!0),o=r.get(0)[a?"scrollHeight":"scrollWidth"],l=r.get(0)[a?"scrollTop":"scrollLeft"],u=a?"top":"left",d=i[u],c=r.offset()[u],h=c+o-l-d;if(h<s&&a){var f=this._getItems(),p=J(this._getPrevVisibleItem(f));this._$modifiedItem=p,this._modifiedItemMargin=p.get(0).style.marginBottom,p.css("marginBottom",s-h);var g=p.closest(".dx-sortable"),m=g.data("dxScrollable")||g.data("dxScrollView");m&&m.update()}}}},_dragLeaveHandler:function(){this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&this._unsubscribeFromSourceScroll()},dragEnter:function(){this!==this._getTargetDraggable()&&this.option("toIndex",-1)},dragLeave:function(){this!==this._getTargetDraggable()&&this.option("toIndex",this.option("fromIndex"))},_allowDrop:function(e){var t=this._getTargetDraggable(),i=t.$element(),r=this._getScrollable(i);if(r){var{left:n,right:a,top:s,bottom:o}=Xse(r),l=this.option("toIndex"),u=this.option("itemPoints"),d=u==null?void 0:u.filter(h=>h.index===l)[0];if(d&&d.top!==void 0){var c=this._isVerticalOrientation();return c?s<=Math.ceil(d.top)&&Math.floor(d.top)<=o:n<=Math.ceil(d.left)&&Math.floor(d.left)<=a}}return!0},dragEnd:function(e){this._unsubscribeFromSourceScroll();var t=this._getSourceElement(),i=this._getSourceDraggable(),r=i.NAME!==this.NAME,n=this.option("toIndex"),a=e.event,s=this._allowDrop(a);if(n!==null&&n>=0&&s){var o,l;if(i!==this&&(o=this._fireAddEvent(a),o||(l=this._fireRemoveEvent(a))),r&&cd(t),this.option("moveItemOnDrop")&&!o&&this._moveItem(t,n,l),i===this)return this._fireReorderEvent(a)}return new we().resolve()},dragMove:function(e){var t=this.option("itemPoints");if(t){for(var i=this._isVerticalOrientation(),r=i?"top":"left",n=i?e.pageY:e.pageX,a=this.option("rtlEnabled"),s,o=t.length-1;o>=0;o--){var l=t[o+1]&&(t[o][r]+t[o+1][r])/2;if((!i&&a?n>l:l>n)||l===void 0)s=t[o];else break}s&&(this._updatePlaceholderPosition(e,s),this._verticalScrollHelper.isScrolling()&&this._isIndicateMode()&&this._movePlaceholder())}},_isIndicateMode:function(){return this.option("dropFeedbackMode")==="indicate"||this.option("allowDropInsideItem")},_createPlaceholder:function(){var e;return this._isIndicateMode()&&(e=J("<div>").addClass(this._addWidgetPrefix(vT)).insertBefore(this._getSourceDraggable()._$dragElement)),this._$placeholderElement=e,e},_getItems:function(){var e=this._getItemsSelector();return this._$content().find(e).not("."+this._addWidgetPrefix(vT)).not("."+this._addWidgetPrefix(Gse)).toArray()},_allowReordering:function(){var e=this._getSourceDraggable(),t=this._getTargetDraggable();return e!==t||this.option("allowReordering")},_isValidPoint:function(e,t,i){var r=this.option("allowDropInsideItem"),n=i||this._allowReordering();return!n&&(e!==0||!r)?!1:this._isIndicateMode()?t===-1||e!==t&&(i||e!==t+1):!0},_getItemPoints:function(){var e=[],t,i,r,n=this.option("rtlEnabled"),a=this._isVerticalOrientation(),s=this._getItems(),o=s.filter(_T),l=o.length,u=this._getDraggableElement(),d=o.indexOf(u.get(0));if(l){for(var c=0;c<=l;c++){var h=!a&&n^c===l,f=a&&c===l;c<l&&(t=J(o[c]),i=t.offset(),r=Pt(t)),e.push({dropInsideItem:!1,left:i.left+(h?r:0),top:i.top+(f?e[c-1].height:0),index:c===l?s.length:s.indexOf(t.get(0)),$item:t,width:Pt(t),height:At(t),isValid:this._isValidPoint(c,d)})}if(this.option("allowDropInsideItem")){var p=e;e=[];for(var g=0;g<p.length;g++)e.push(p[g]),p[g+1]&&e.push(ce({},p[g],{dropInsideItem:!0,top:Math.floor((p[g].top+p[g+1].top)/2),left:Math.floor((p[g].left+p[g+1].left)/2),isValid:this._isValidPoint(g,d,!0)}))}}else e.push({dropInsideItem:!1,index:0,isValid:!0});return e},_updateItemPoints:function(e){(e||this.option("autoUpdate")||!this.option("itemPoints"))&&this.option("itemPoints",this._getItemPoints())},_correctItemPoints:function(e){var t=this.option("itemPoints");if(e&&t&&!this.option("autoUpdate")){var i=this._isVerticalOrientation(),r=i?"top":"left";t.forEach(n=>{n[r]-=e})}},_getElementIndex:function(e){return this._getItems().indexOf(e.get(0))},_getDragTemplateArgs:function(e){var t=this.callBase.apply(this,arguments);return t.model.fromIndex=this._getElementIndex(e),t},_togglePlaceholder:function(e){this._$placeholderElement&&this._$placeholderElement.toggle(e)},_isVerticalOrientation:function(){return this.option("itemOrientation")==="vertical"},_normalizeToIndex:function(e,t){var i=this._getSourceDraggable()!==this._getTargetDraggable(),r=this.option("fromIndex");return e===null?r:Math.max(i||r>=e||t?e:e-1,0)},_updatePlaceholderPosition:function(e,t){var i=this._getSourceDraggable(),r=this._normalizeToIndex(t.index,t.dropInsideItem),n=ce(this._getEventArgs(e),{toIndex:r,dropInsideItem:t.dropInsideItem});if(t.isValid&&this._getAction("onDragChange")(n),n.cancel||!t.isValid){t.isValid||this.option({dropInsideItem:!1,toIndex:null});return}this.option({dropInsideItem:t.dropInsideItem,toIndex:t.index}),this._getAction("onPlaceholderPrepared")(ce(this._getEventArgs(e),{placeholderElement:ot(this._$placeholderElement),dragElement:ot(i._$dragElement)})),this._updateItemPoints()},_makeWidthCorrection:function(e,t){if(this._$scrollable=this._getScrollable(e),this._$scrollable){var i=ut(this._$scrollable),r=this._$scrollable.offset().left-e.offset().left,n=Pt(e)-r-i;r>0&&(t-=r),n>0&&(t-=n)}return t},_updatePlaceholderSizes:function(e,t){var i=this.option("dropInsideItem"),r=J(t),n=this._isVerticalOrientation(),a="",s="";e.toggleClass(this._addWidgetPrefix("placeholder-inside"),i),(n||i)&&(a=Pt(r)),(!n||i)&&(s=At(r)),a=this._makeWidthCorrection(r,a),e.css({width:a,height:s})},_moveItem:function(e,t,i){var r,n=this._getItems(),a=n[t],s=this._getSourceDraggable();i&&(e=e.clone(),s._toggleDragSourceClass(!1,e)),a||(r=n[t-1]),this._moveItemCore(e,a,r)},_moveItemCore:function(e,t,i){!t&&!i?e.appendTo(this.$element()):i?e.insertAfter(J(i)):e.insertBefore(J(t))},_getDragStartArgs:function(e,t){return ce(this.callBase.apply(this,arguments),{fromIndex:this._getElementIndex(t)})},_getEventArgs:function(e){var t=this._getSourceDraggable(),i=this._getTargetDraggable(),r=i.option("dropInsideItem");return ce(this.callBase.apply(this,arguments),{fromIndex:t.option("fromIndex"),toIndex:this._normalizeToIndex(i.option("toIndex"),r),dropInsideItem:r})},_optionChanged:function(e){var t=e.name;switch(t){case"onDragChange":case"onPlaceholderPrepared":case"onAdd":case"onRemove":case"onReorder":this["_"+t+"Action"]=this._createActionByOption(t);break;case"itemOrientation":case"allowDropInsideItem":case"moveItemOnDrop":case"dropFeedbackMode":case"itemPoints":case"animation":case"allowReordering":case"fromIndexOffset":case"offset":case"draggableElementSize":case"autoUpdate":break;case"fromIndex":[!1,!0].forEach(i=>{var r=i?e.value:e.previousValue;if(r!==null){var n=J(this._getItems()[r]);this._toggleDragSourceClass(i,n)}});break;case"dropInsideItem":this._optionChangedDropInsideItem(e);break;case"toIndex":this._optionChangedToIndex(e);break;default:this.callBase(e)}},_optionChangedDropInsideItem:function(){this._isIndicateMode()&&this._$placeholderElement&&this._movePlaceholder()},_isPositionVisible:function(e){var t=this.$element(),i;if(t.css("overflow")!=="hidden"?i=t.get(0):t.parents().each(function(){if(J(this).css("overflow")!=="visible")return i=this,!1}),i){var r=vi(i),n=this._isVerticalOrientation(),a=n?"top":"left",s=n?"bottom":"right",o=n?gT.pageYOffset:gT.pageXOffset;if(e[a]<r[a]+o||e[a]>r[s]+o)return!1}return!0},_optionChangedToIndex:function(e){var t=e.value;if(this._isIndicateMode()){var i=t!==null&&t>=0;this._togglePlaceholder(i),i&&this._movePlaceholder()}else this._moveItems(e.previousValue,e.value,e.fullUpdate)},update:function(){if(!(this.option("fromIndex")===null&&this.option("toIndex")===null)){this._updateItemPoints(!0),this._updateDragSourceClass();var e=this.option("toIndex");this._optionChangedToIndex({value:e,fullUpdate:!0})}},_updateDragSourceClass:function(){var e=this._getActualFromIndex(),t=J(this._getItems()[e]);t.length&&(this._$sourceElement=t,this._toggleDragSourceClass(!0,t))},_makeLeftCorrection:function(e){var t=this._$scrollable;if(t&&this._isVerticalOrientation()){var i=t.offset().left-e;i>0&&(e+=i)}return e},_movePlaceholder:function(){var e=this._$placeholderElement||this._createPlaceholder();if(e){var t=this._getItems(),i=this.option("toIndex"),r=this._isVerticalOrientation(),n=this.option("rtlEnabled"),a=this.option("dropInsideItem"),s=null,o=t[i];if(o){var l=J(o);s=l.offset(),!r&&n&&!a&&(s.left+=Pt(l,!0))}else{var u=o=this._getPrevVisibleItem(t,i);u&&(s=J(u).offset(),r?s.top+=At(u,!0):n||(s.left+=Pt(u,!0)))}this._updatePlaceholderSizes(e,o),s&&!this._isPositionVisible(s)&&(s=null),s&&(s.left=this._makeLeftCorrection(s.left),this._move(s,e)),e.toggle(!!s)}},_getPositions:function(e,t,i,r){for(var n=[],a=0;a<e.length;a++){var s=0;if(r===null||i===null){n.push(s);continue}i===-1?a>=r&&(s=t):r===-1?a>i&&(s=-t):i<r?a>i&&a<r&&(s=-t):i>r&&a>=r&&a<i&&(s=t),n.push(s)}return n},_getDraggableElementSize:function(e){var t=this._getDraggableElement(),i=this.option("draggableElementSize");return i||(i=e?(At(t)+At(t,!0))/2:(Pt(t)+Pt(t,!0))/2,this.option("autoUpdate")||this.option("draggableElementSize",i)),i},_getActualFromIndex:function(){var{fromIndex:e,fromIndexOffset:t,offset:i}=this.option();return e==null?null:e+t-i},_moveItems:function(e,t,i){for(var r=this._getActualFromIndex(),n=this._isVerticalOrientation(),a=n?"top":"left",s=this._getDraggableElementSize(n),o=this._getItems(),l=this._getPositions(o,s,r,e),u=this._getPositions(o,s,r,t),d=this.option("animation"),c=this.option("rtlEnabled"),h=0;h<o.length;h++){var f=o[h],p=l[h],g=u[h];t===null||r===null?qse(f):(p!==g||i&&g)&&Kse(f,ce({},d,{to:{[a]:!n&&c?-g:g}}))}},_toggleDragSourceClass:function(e,t){var i=t||this._$sourceElement;this.callBase.apply(this,arguments),this._isIndicateMode()||i&&i.toggleClass(this._addWidgetPrefix("source-hidden"),e)},_dispose:function(){this.reset(),this.callBase()},_fireAddEvent:function(e){var t=this._getEventArgs(e);return this._getAction("onAdd")(t),t.cancel},_fireRemoveEvent:function(e){var t=this._getSourceDraggable(),i=this._getEventArgs(e);return t._getAction("onRemove")(i),i.cancel},_fireReorderEvent:function(e){var t=this._getEventArgs(e);return this._getAction("onReorder")(t),t.promise||new we().resolve()}});Tt(Use,HR);var bT="dx-command-drag",Yse="dx-cell-focus-disabled",Zse="drag-icon",Jse="rowsview",Qse="dx-sortable-without-handle",eoe={init:function(){this.callBase.apply(this,arguments),this._updateHandleColumn()},_allowReordering:function(){var e=this.option("rowDragging");return!!(e&&(e.allowReordering||e.allowDropInsideItem||e.group))},_updateHandleColumn:function(){var e=this.option("rowDragging"),t=this._allowReordering(),i=this._columnsController,r=t&&e.showDragIcons;i&&i.addCommandColumn({type:"drag",command:"drag",visibleIndex:-2,alignment:"center",cssClass:bT,width:"auto",cellTemplate:this._getHandleTemplate(),visible:r}),i.columnOption("type:drag","visible",r)},_renderContent:function(){var e=this.option("rowDragging"),t=this._allowReordering(),i=this.callBase.apply(this,arguments),r=this._isFixedTableRendering,n="_sortable",a="_sortableFixed",s=r?a:n,o=r?n:a,l=c=>{var h;(h=this[a])===null||h===void 0||h.$element().css("pointerEvents",c?"auto":"")},u=".dx-row:not(.dx-freespace-row):not(.dx-virtual-row):not(.dx-header-row):not(.dx-footer-row)",d=this.option("dataRowTemplate")?"> table > tbody".concat(u):"> table > tbody > ".concat(u);return(t||this[s])&&i.length&&(this[s]=this._createComponent(i,HR,ce({component:this.component,contentTemplate:null,filter:d,cursorOffset:c=>{var h=c.event,f=J(this.element()).offset();return{x:h.pageX-f.left}},onDraggableElementShown:c=>{if(!e.dragTemplate){var h=J(c.dragElement),f=h.children(".dx-widget").data(this.component.NAME);this._synchronizeScrollLeftPosition(f)}},dragTemplate:this._getDraggableRowTemplate(),handle:e.showDragIcons&&".".concat(bT),dropFeedbackMode:"indicate"},e,{onDragStart:c=>{var h,f;(h=this.getController("keyboardNavigation"))===null||h===void 0||h._resetFocusedCell();var p=c.component.getVisibleRows()[c.fromIndex];c.itemData=p&&p.data;var g=p&&p.rowType==="data";c.cancel=!t||!g,(f=e.onDragStart)===null||f===void 0||f.call(e,c)},onDragEnter:()=>{l(!0)},onDragLeave:()=>{l(!1)},onDragEnd:c=>{var h;l(!1),(h=e.onDragEnd)===null||h===void 0||h.call(e,c)},onAdd:c=>{var h;l(!1),(h=e.onAdd)===null||h===void 0||h.call(e,c)},dropFeedbackMode:e.dropFeedbackMode,onOptionChanged:c=>{var h=this[a];h&&(c.name==="fromIndex"||c.name==="toIndex")&&this[o].option(c.name,c.value)}})),i.toggleClass("dx-scrollable-container",r),i.toggleClass(Qse,t&&!e.showDragIcons)),i},_renderCore(e){this.callBase.apply(this,arguments),e&&e.changeType==="update"&&e.repaintChangesOnly&&Fe.isVirtualRowRendering(this)&&dr(()=>{this._updateSortable()})},_updateSortable(){var e=this._dataController.getRowIndexOffset();[this._sortable,this._sortableFixed].forEach(t=>{t==null||t.option("offset",e),t==null||t.update()})},_resizeCore:function(){this.callBase.apply(this,arguments),this._updateSortable()},_getDraggableGridOptions:function(e){var t=this.option(),i=this.getColumns(),r=J(this.getRowElement(e.rowIndex));return{dataSource:[{id:1,parentId:0}],showBorders:!0,showColumnHeaders:!1,scrolling:{useNative:!1,showScrollbar:"never"},pager:{visible:!1},loadingTimeout:null,columnFixing:t.columnFixing,columnAutoWidth:t.columnAutoWidth,showColumnLines:t.showColumnLines,columns:i.map(n=>({width:n.width||n.visibleWidth,fixed:n.fixed,fixedPosition:n.fixedPosition})),onRowPrepared:n=>{var a=n.component.getView("rowsView");J(n.rowElement).replaceWith(r.eq(a._isFixedTableRendering?1:0).clone())}}},_synchronizeScrollLeftPosition:function(e){var t=e==null?void 0:e.getScrollable();t==null||t.scrollTo({x:this._scrollLeft})},_getDraggableRowTemplate:function(){return e=>{var t=this.component.$element(),i=J("<div>");sd(i,ut(t));var r=this._dataController.items(),n=r&&r[e.fromIndex],a=this._getDraggableGridOptions(n);return this._createComponent(i,this.component.NAME,a),i.find(".dx-gridbase-container").children(":not(.".concat(this.addWidgetPrefix(Jse),")")).hide(),i}},_getHandleTemplate:function(){return(e,t)=>{if(t.rowType==="data")return J(e).addClass(Yse),J("<span>").addClass(this.addWidgetPrefix(Zse));Fe.setEmptyText(J(e))}},optionChanged:function(e){e.name==="rowDragging"&&(this._updateHandleColumn(),this._invalidate(!0,!0),e.handled=!0),this.callBase.apply(this,arguments)}},toe={defaultOptions:function(){return{rowDragging:{showDragIcons:!0,dropFeedbackMode:"indicate",allowReordering:!1,allowDropInsideItem:!1}}},extenders:{views:{rowsView:eoe}}};qe.registerModule("rowDragging",toe);const ioe=Object.freeze(Object.defineProperty({__proto__:null,default:ub},Symbol.toStringTag,{value:"Module"})),roe=_d(ioe);var ha={},Ga={};const tn=_d(MB);var eo={},noe=he.on,aoe=he.one,soe=he.off,ooe=he.trigger,loe=he.triggerHandler,uoe=he.Event;const doe=Object.freeze(Object.defineProperty({__proto__:null,Event:uoe,off:soe,on:noe,one:aoe,trigger:ooe,triggerHandler:loe},Symbol.toStringTag,{value:"Module"})),np=_d(doe);var ap={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var df=He&&He.__assign||function(){return df=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},df.apply(this,arguments)};Object.defineProperty(ap,"__esModule",{value:!0});ap.pullAllChildren=void 0;function hoe(e,t,i){!e||e.length===0||$R(e,t,i)}ap.pullAllChildren=hoe;function $R(e,t,i){e.forEach(function(r){if(t.push(r),!!r.componentOptions){var n=r.componentOptions.Ctor;if(n.$_optionName){var a=df(df({},n.$_predefinedProps),r.componentOptions.propsData),s=i.createNested(n.$_optionName,a,n.$_isCollectionItem,n.$_expectedChildren);r.componentOptions.$_config=s,r.componentOptions.$_innerChanges={},r.componentOptions.children&&$R(r.componentOptions.children,t,s)}}})}var ts={},xi={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(xi,"__esModule",{value:!0});xi.getOptionInfo=xi.getOptionValue=xi.allKeysAreEqual=xi.forEachChildNode=xi.isEqual=xi.toComparable=xi.camelize=xi.lowercaseFirst=xi.uppercaseFirst=xi.getTemplatePropName=void 0;function coe(e,t){for(var i in e)if(e[i]===t)return i;return t}xi.getTemplatePropName=coe;function zR(e){return e[0].toUpperCase()+e.substr(1)}xi.uppercaseFirst=zR;function WR(e){return e[0].toLowerCase()+e.substr(1)}xi.lowercaseFirst=WR;function foe(e){return WR(e.split("-").map(function(t){return zR(t)}).join(""))}xi.camelize=foe;function w_(e){return e instanceof Date?e.getTime():e}xi.toComparable=w_;function poe(e,t){return w_(e)===w_(t)?!0:Array.isArray(e)&&Array.isArray(t)?e.length===0&&t.length===0:!1}xi.isEqual=poe;function moe(e,t){Array.prototype.slice.call(e.childNodes).forEach(t)}xi.forEachChildNode=moe;function goe(e,t){var i=Object.keys(e);if(i.length!==Object.keys(t).length)return!1;for(var r=0,n=i;r<n.length;r++){var a=n[r];if(!t.hasOwnProperty(a))return!1}return!0}xi.allKeysAreEqual=goe;function voe(e,t){var i=e;return t.split(".").forEach(function(r){var n=jR(r);i&&(i=n.isCollection?i[n.name]&&i[n.name][n.index]:i[n.name])}),i}xi.getOptionValue=voe;function jR(e){var t=e.split("[");return t.length===1?{isCollection:!1,name:e,fullName:e}:{isCollection:!0,name:t[0],fullName:e,index:Number(t[1].slice(0,-1))}}xi.getOptionInfo=jR;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var hf=He&&He.__assign||function(){return hf=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},hf.apply(this,arguments)};Object.defineProperty(ts,"__esModule",{value:!0});ts.setEmitOptionChangedFunc=ts.bindOptionWatchers=void 0;var S_=xi,_oe=function(){function e(t,i,r,n,a,s,o){this._updateFunc=t,this._name=i,this._initialValues=r||{},this._nestedConfigurations=[],this._isCollectionItem=!!a,this._collectionItemIndex=s,this._expectedChildren=n||{},this._ownerConfig=o,this._componentChanges=[],this.updateValue=this.updateValue.bind(this)}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullName",{get:function(){return this._name&&this._isCollectionItem?this._name+"["+this._collectionItemIndex+"]":this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"componentsCountChanged",{get:function(){return this._componentChanges},enumerable:!1,configurable:!0}),e.prototype.cleanComponentsCountChanged=function(){this._componentChanges=[]},Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._ownerConfig&&this._ownerConfig.fullPath?this._ownerConfig.fullPath+"."+this.fullName:this.fullName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownerConfig",{get:function(){return this._ownerConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialValues",{get:function(){return this._initialValues},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"expectedChildren",{get:function(){return this._expectedChildren},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nested",{get:function(){return this._nestedConfigurations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prevNestedOptions",{get:function(){return this._prevNestedConfigOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collectionItemIndex",{get:function(){return this._collectionItemIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCollectionItem",{get:function(){return this._isCollectionItem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFunc",{get:function(){return this._updateFunc},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this._options=t||[]},Object.defineProperty(e.prototype,"emitOptionChanged",{set:function(t){this._emitOptionChanged=t},enumerable:!1,configurable:!0}),e.prototype.setPrevNestedOptions=function(t){this._prevNestedConfigOptions=t},e.prototype.onOptionChanged=function(t){S_.isEqual(t.value,t.previousValue)||this._onOptionChanged(t.fullName.split("."),t)},e.prototype.cleanNested=function(){this._nestedConfigurations=[]},e.prototype.createNested=function(t,i,r,n){var a=this._expectedChildren[t],s=t,o=r;a&&(o=a.isCollectionItem,a.optionName&&(s=a.optionName));var l=-1;o&&s&&(l=this._nestedConfigurations.filter(function(d){return d._name&&d._name===s}).length);var u=new e(this._updateFunc,s,i,n,o,l,this);return this._nestedConfigurations.push(u),u},e.prototype.updateValue=function(t,i){var r=[this.fullPath,t].filter(function(n){return n}).join(".");this._updateFunc(r,i)},e.prototype.getNestedOptionValues=function(){var t={};return this._nestedConfigurations.forEach(function(i){if(i._name){var r=hf(hf({},i.initialValues),i.getNestedOptionValues());if(r)if(!i._isCollectionItem)t[i._name]=r;else{var n=t[i._name];(!n||!Array.isArray(n))&&(n=[],t[i._name]=n),n.push(r)}}}),t},e.prototype.getOptionsToWatch=function(){var t={};return this._nestedConfigurations.forEach(function(i){return i._name&&(t[i._name]=!0)}),this._options.filter(function(i){return!t[i]})},e.prototype._onOptionChanged=function(t,i){if(t.length!==0){var r=S_.getOptionInfo(t[0]);if(r.isCollection||t.length>1){var n=this._getNestedConfig(r.fullName);if(n){n._onOptionChanged(t.slice(1),i);return}this._tryEmitOptionChanged(r.name,i.component.option(this.fullPath?this.fullPath+"."+r.name:r.name))}else this._tryEmitOptionChanged(r.name,i.value)}},e.prototype._getNestedConfig=function(t){for(var i=0,r=this._nestedConfigurations;i<r.length;i++){var n=r[i];if(n.fullName===t)return n}},e.prototype._tryEmitOptionChanged=function(t,i){this._emitOptionChanged&&this._emitOptionChanged(t,i)},e}();function boe(e,t,i){var r=e&&e.getOptionsToWatch();r&&r.forEach(function(n){t.$watch(n,function(a){(!i.hasOwnProperty(n)||i[n]!==a)&&e.updateValue(n,a),delete i[n]})})}ts.bindOptionWatchers=boe;function yoe(e,t,i){e.emitOptionChanged=function(r,n){S_.isEqual(n,t.$props[r])||(i[r]=n,t.$emit("update:"+r,n))}}ts.setEmitOptionChangedFunc=yoe;ts.default=_oe;var hn={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Coe=He&&He.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),xoe=He&&He.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),woe=He&&He.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&Coe(t,e,i);return xoe(t,e),t};Object.defineProperty(hn,"__esModule",{value:!0});hn.getInnerChanges=hn.getConfig=hn.initOptionChangedFunc=hn.DxConfiguration=void 0;var yT=woe(tn),Soe=yT.default||yT,UR=ts;function wc(e){if(e.$vnode){var t=e.$vnode.componentOptions;return t&&t.$_config}}hn.getConfig=wc;function GR(e){if(e.$vnode){var t=e.$vnode.componentOptions;return t&&t.$_innerChanges}}hn.getInnerChanges=GR;function KR(e,t,i){e&&(e.init(Object.keys(t.$props)),UR.setEmitOptionChangedFunc(e,t,i))}hn.initOptionChangedFunc=KR;function CT(e,t){var i=e.name,r=e.isCollectionItem,n=e.ownerConfig,a=n&&n.fullPath,s=i&&a?a+"."+i:i||"";return{optionPath:s,isCollection:r,removed:t}}var Eoe=function(){return Soe.extend({beforeMount:function(){var e=wc(this),t=GR(this);KR(e,this,t),UR.bindOptionWatchers(e,this,t)},mounted:function(){this.$parent.$_instance&&this.$parent.$_config.componentsCountChanged.push(CT(wc(this)))},beforeDestroy:function(){this.$parent.$_config.componentsCountChanged.push(CT(wc(this),!0))},render:function(e){return e()}})};hn.DxConfiguration=Eoe;var to={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(to,"__esModule",{value:!0});to.DX_REMOVE_EVENT=to.DX_TEMPLATE_WRAPPER_CLASS=void 0;var Toe="dx-template-wrapper";to.DX_TEMPLATE_WRAPPER_CLASS=Toe;var Ioe="dxremove";to.DX_REMOVE_EVENT=Ioe;var sp={},Vd={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var cf=He&&He.__assign||function(){return cf=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},cf.apply(this,arguments)};Object.defineProperty(Vd,"__esModule",{value:!0});Vd.getOption=void 0;var E_={useLegacyTemplateEngine:!1};function Aoe(e){E_=cf(cf({},E_),e)}function Ooe(e){return E_[e]}Vd.getOption=Ooe;Vd.default=Aoe;var _l={},op={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(op,"__esModule",{value:!0});op.TEMPLATE_MULTIPLE_ROOTS_ERROR=void 0;op.TEMPLATE_MULTIPLE_ROOTS_ERROR="Template must have a single root node.";/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Doe=He&&He.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),koe=He&&He.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Roe=He&&He.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&Doe(t,e,i);return koe(t,e),t};Object.defineProperty(_l,"__esModule",{value:!0});_l.discover=_l.mountTemplate=void 0;var xT=Roe(tn),Moe=op,qR="template",Boe=xT.default||xT;function Poe(e){if(e.$vnode){var t=e.$vnode.componentOptions;if(!(!t.$_config||!t.$_config.name))return t}}function Loe(e){return qR in e.$props&&e.$vnode.data&&e.$vnode.data.scopedSlots}function Foe(e){var t={};for(var i in e.$scopedSlots)if(!(i==="default"&&e.$slots.default)){var r=e.$scopedSlots[i];r&&(t[i]=r)}for(var n=0,a=e.$children;n<a.length;n++){var s=a[n],o=Poe(s);if(o){var l=s.$scopedSlots.default;if(!(!l||!Loe(s))){var u=o.$_config.fullPath+"."+qR;t[u]=l}}}return t}_l.discover=Foe;function Noe(e,t,i,r,n){return new Boe({el:n,name:r,inject:["eventBus"],parent:t,created:function(){var a=this;this.eventBus.$on("updated",function(){a.$forceUpdate()})},render:function(a){var s=e()(i);if(!s)return a("div");if(s.length>1)throw new Error(Moe.TEMPLATE_MULTIPLE_ROOTS_ERROR);return s[0]},destroyed:function(){this.eventBus.$off("updated")}})}_l.mountTemplate=Noe;const XR=_d(h5);/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var ff=He&&He.__assign||function(){return ff=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ff.apply(this,arguments)},Voe=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sp,"__esModule",{value:!0});sp.TemplatesManager=void 0;var Hoe=Vd,wT=_l,$oe=Voe(XR),ST=np,tv=to,zoe=xi,Woe=function(){function e(t){this._slots={},this._templates={},this._isDirty=!1,this._component=t,this.discover()}return e.prototype.discover=function(){var t=wT.discover(this._component);this._slots=ff(ff({},this._slots),t),zoe.allKeysAreEqual(this._templates,t)||this._prepareTemplates()},Object.defineProperty(e.prototype,"templates",{get:function(){return this._templates},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDirty",{get:function(){return this._isDirty},enumerable:!1,configurable:!0}),e.prototype.resetDirtyFlag=function(){this._isDirty=!1},e.prototype._prepareTemplates=function(){this._templates={};for(var t=0,i=Object.keys(this._slots);t<i.length;t++){var r=i[t];this._templates[r]=this.createDxTemplate(r)}this._isDirty=!0},e.prototype.createDxTemplate=function(t){var i=this;return{render:function(r){var n=Hoe.getOption("useLegacyTemplateEngine")?r.model:{data:r.model,index:r.index},a=r.container.get?r.container.get(0):r.container,s=document.createElement("div");a.appendChild(s);var o=wT.mountTemplate(function(){return i._slots[t]},i._component,n,t,s),l=o.$el;if($oe.default.setClass(l,tv.DX_TEMPLATE_WRAPPER_CLASS,!0),l.nodeType===Node.TEXT_NODE){var u=document.createElement(a.nodeName==="TABLE"?"tbody":"span");u.style.display="none",a.appendChild(u),ST.one(u,tv.DX_REMOVE_EVENT,o.$destroy.bind(o))}else ST.one(l,tv.DX_REMOVE_EVENT,o.$destroy.bind(o));return l}}},e}();sp.TemplatesManager=Woe;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Ma=He&&He.__assign||function(){return Ma=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ma.apply(this,arguments)},joe=He&&He.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),Uoe=He&&He.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),YR=He&&He.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&joe(t,e,i);return Uoe(t,e),t};Object.defineProperty(eo,"__esModule",{value:!0});eo.BaseComponent=eo.DxComponent=void 0;var ET=YR(tn),Goe=np,Koe=ap,iv=YR(ts),rv=hn,qoe=to,ws=xi,Xoe=sp,TT=ET.default||ET,ZR=function(){return TT.extend({inheritAttrs:!1,data:function(){return{eventBus:new TT}},provide:function(){return{eventBus:this.eventBus}},render:function(e){var t=[];return this.$_config.cleanNested&&this.$_config.cleanNested(),Koe.pullAllChildren(this.$slots.default,t,this.$_config),this.$_processChildren(t),e("div",{attrs:{id:this.$attrs.id}},t)},beforeUpdate:function(){this.$_config.setPrevNestedOptions(this.$_config.getNestedOptionValues())},updated:function(){var e,t;if(this.$children.forEach(function(u){return rv.initOptionChangedFunc(rv.getConfig(u),u,rv.getInnerChanges(u))}),this.$_templatesManager.discover(),this.$_instance.beginUpdate(),this.$_templatesManager.isDirty){this.$_instance.option("integrationOptions.templates",this.$_templatesManager.templates);for(var i=(t=(e=this.$vnode)===null||e===void 0?void 0:e.componentOptions)===null||t===void 0?void 0:t.propsData,r=0,n=Object.keys(this.$_templatesManager.templates);r<n.length;r++){var a=n[r];this.$_instance.option(ws.getTemplatePropName(i,a),a)}this.$_templatesManager.resetDirtyFlag()}for(var s=0,o=Object.keys(this.$_pendingOptions);s<o.length;s++){var l=o[s];this.$_instance.option(l,this.$_pendingOptions[l])}this.$_pendingOptions={},this.$_applyConfigurationChanges(),this.$_instance.endUpdate(),this.eventBus.$emit("updated")},beforeDestroy:function(){var e=this.$_instance;e&&(Goe.triggerHandler(this.$el,qoe.DX_REMOVE_EVENT),e.dispose())},created:function(){var e=this;this.$_config=new iv.default(function(t,i){return e.$_pendingOptions[t]=i},null,this.$options.propsData&&Ma({},this.$options.propsData),this.$_expectedChildren),this.$_innerChanges={},this.$_config.init(this.$props&&Object.keys(this.$props))},methods:{$_applyConfigurationChanges:function(){var e=this;this.$_config.componentsCountChanged.forEach(function(t){var i=t.optionPath,r=t.isCollection,n=t.removed,a=e.$_config.getNestedOptionValues();!r&&n?e.$_instance.resetOption(i):e.$_instance.option(i,ws.getOptionValue(a,i))}),this.$_config.cleanComponentsCountChanged()},$_createWidget:function(e){var t=this;t.$_pendingOptions={},t.$_templatesManager=new Xoe.TemplatesManager(this);var i=this.$_config,r=Ma(Ma(Ma(Ma({},this.$options.propsData),i.initialValues),i.getNestedOptionValues()),this.$_getIntegrationOptions()),n=new this.$_WidgetClass(e,r);t.$_instance=n,n.on("optionChanged",function(a){return i.onOptionChanged(a)}),iv.setEmitOptionChangedFunc(i,this,this.$_innerChanges),iv.bindOptionWatchers(i,this,this.$_innerChanges),this.$_createEmitters(n)},$_getIntegrationOptions:function(){var e,t,i=Ma({integrationOptions:{watchMethod:this.$_getWatchMethod()}},this.$_getExtraIntegrationOptions());if(this.$_templatesManager.isDirty){var r=this.$_templatesManager.templates;i.integrationOptions.templates=r;for(var n=(t=(e=this.$vnode)===null||e===void 0?void 0:e.componentOptions)===null||t===void 0?void 0:t.propsData,a=0,s=Object.keys(r);a<s.length;a++){var o=s[a];i[ws.getTemplatePropName(n,o)]=o}this.$_templatesManager.resetDirtyFlag()}return i},$_getWatchMethod:function(){var e=this;return function(t,i,r){return r=r||{},r.skipImmediate||i(t()),e.$watch(function(){return t()},function(n,a){(ws.toComparable(a)!==ws.toComparable(n)||r.deep)&&i(n)},{deep:r.deep})}},$_getExtraIntegrationOptions:function(){return{}},$_processChildren:function(e){},$_createEmitters:function(e){var t=this;Object.keys(this.$listeners).forEach(function(i){var r=ws.camelize(i);e.on(r,function(n){t.$emit(i,n)})})}}})};eo.BaseComponent=ZR;function Yoe(e){var t=[];return ws.forEachChildNode(e,function(i){var r=i.parentNode,n=i.hasAttribute&&i.hasAttribute("isExtension");(i.nodeName==="#comment"||n)&&r&&(t.push(i),r.removeChild(i))}),t}function Zoe(e,t){t.forEach(function(i){e.appendChild(i)})}var Joe=function(){return ZR().extend({methods:{$_getExtraIntegrationOptions:function(){return{onInitializing:function(){this.beginUpdate()}}},$_processChildren:function(e){e.forEach(function(t){t.componentOptions&&(t.componentOptions.$_hasOwner=!0)})}},mounted:function(){var e=this,t=Yoe(this.$el);this.$_createWidget(this.$el),this.$_instance.endUpdate(),Zoe(this.$el,t),this.$slots&&this.$slots.default&&this.$slots.default.forEach(function(i){var r=i.componentInstance;r&&r.$_isExtension&&r.attachTo(e.$el)})}})};eo.DxComponent=Joe;var lp={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(lp,"__esModule",{value:!0});lp.DxExtensionComponent=void 0;var Qoe=eo,ele=function(){return Qoe.BaseComponent().extend({created:function(){this.$_isExtension=!0},mounted:function(){this.$el.setAttribute("isExtension","true"),!(this.$vnode&&this.$vnode.componentOptions.$_hasOwner)&&this.attachTo(this.$el)},methods:{attachTo:function(e){this.$_createWidget(e)}}})};lp.DxExtensionComponent=ele;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var tle=He&&He.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),ile=He&&He.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rle=He&&He.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&tle(t,e,i);return ile(t,e),t};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.createExtensionComponent=Ga.createConfigurationComponent=Ga.createComponent=void 0;var IT=rle(tn),kb=IT.default||IT,nle=eo,ale=hn,sle=lp;function ole(e){return e.extends=nle.DxComponent(),kb.extend(e)}Ga.createComponent=ole;function lle(e){return e.extends=ale.DxConfiguration(),kb.extend(e)}Ga.createConfigurationComponent=lle;function ule(e){return e.extends=sle.DxExtensionComponent(),kb.extend(e)}Ga.createExtensionComponent=ule;var Ka={},io={};const dle=_d(SP);var nv={},yi={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(yi,"__esModule",{value:!0});yi.getOptionInfo=yi.getOptionValue=yi.allKeysAreEqual=yi.forEachChildNode=yi.isEqual=yi.toComparable=yi.camelize=yi.lowercaseFirst=yi.uppercaseFirst=yi.getTemplatePropName=void 0;function hle(e,t){for(var i in e)if(e[i]===t)return i;return t}yi.getTemplatePropName=hle;function JR(e){return e[0].toUpperCase()+e.substr(1)}yi.uppercaseFirst=JR;function QR(e){return e[0].toLowerCase()+e.substr(1)}yi.lowercaseFirst=QR;function cle(e){return QR(e.split("-").map(function(t){return JR(t)}).join(""))}yi.camelize=cle;function T_(e){return e instanceof Date?e.getTime():e}yi.toComparable=T_;function fle(e,t){return T_(e)===T_(t)?!0:Array.isArray(e)&&Array.isArray(t)?e.length===0&&t.length===0:!1}yi.isEqual=fle;function ple(e,t){Array.prototype.slice.call(e.childNodes).forEach(t)}yi.forEachChildNode=ple;function mle(e,t){var i=Object.keys(e);if(i.length!==Object.keys(t).length)return!1;for(var r=0,n=i;r<n.length;r++){var a=n[r];if(!t.hasOwnProperty(a))return!1}return!0}yi.allKeysAreEqual=mle;function gle(e,t){var i=e;return t.split(".").forEach(function(r){var n=eM(r);i&&(i=n.isCollection?i[n.name]&&i[n.name][n.index]:i[n.name])}),i}yi.getOptionValue=gle;function eM(e){var t=e.split("[");return t.length===1?{isCollection:!1,name:e,fullName:e}:{isCollection:!0,name:t[0],fullName:e,index:Number(t[1].slice(0,-1))}}yi.getOptionInfo=eM;var qn={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var AT;function tM(){if(AT)return qn;AT=1;var e=He&&He.__assign||function(){return e=Object.assign||function(a){for(var s,o=1,l=arguments.length;o<l;o++){s=arguments[o];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(a[u]=s[u])}return a},e.apply(this,arguments)};Object.defineProperty(qn,"__esModule",{value:!0}),qn.pullAllChildren=qn.pullConfigComponents=qn.isFragment=void 0;var t=yo();function i(a,s,o){!a||a.length===0||n(a,s,o)}qn.pullAllChildren=i;function r(a){var s=a.patchFlag;return s===128||s===256||s===64||s===-2}qn.isFragment=r;function n(a,s,o){a.forEach(function(l){if(r(l)&&Array.isArray(l.children)&&n(l.children,s,o),r(l)||s.push(l),!!l){var u=t.getComponentInfo(l);if(!(!u||!u.$_optionName)){var d=t.configurationChildren(l),c=e(e({},u.$_predefinedProps),t.getNormalizedProps(l.props||{})),h=o.createNested(u.$_optionName,c,u.$_isCollectionItem,u.$_expectedChildren);l.$_config=h,l.$_innerChanges={},d&&n(d,s,h)}}})}return qn.pullConfigComponents=n,qn}/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var OT;function yo(){return OT||(OT=1,function(e){var t=He&&He.__assign||function(){return t=Object.assign||function(A){for(var T,x=1,C=arguments.length;x<C;x++){T=arguments[x];for(var y in T)Object.prototype.hasOwnProperty.call(T,y)&&(A[y]=T[y])}return A},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.getConfigurationOptions=e.setVModel=e.setCompatOptions=e.getVModelValue=e.getNodeTypeOfComponent=e.getNodeOptions=e.usedConfigurationProps=e.getComponentProps=e.mount=e.defaultSlots=e.declaredTemplates=e.configurationTemplate=e.configurationDefaultTemplate=e.configurationChildren=e.getNormalizedProps=e.getComponentInfo=e.getChildren=e.VMODEL_NAME=void 0;var i=tn,r=yi,n=tM();e.VMODEL_NAME="modelValue";function a(A){if(!P(A)||!A.$_config)return[];var T=A.$.subTree&&A.$.subTree.children;return Array.isArray(T)?T.filter(function(x){if(!n.isFragment(x))return x}):[]}e.getChildren=a;function s(A){return G(A)}e.getComponentInfo=s;function o(A){var T={};for(var x in A)A.hasOwnProperty(x)&&(T[r.camelize(x)]=A[x]);return T}e.getNormalizedProps=o;function l(A){return!A.children||!A.children.default?[]:j(A.children.default())}e.configurationChildren=l;function u(A){if(!(!A.children||A.children==="object"||!A.children.default))return V(A.children.default())?A.children.default:void 0}e.configurationDefaultTemplate=u;function d(A){return u(A)}e.configurationTemplate=d;function c(A){return A.$slots}e.declaredTemplates=c;function h(A){var T=c(A);return T.default?T.default():[]}e.defaultSlots=h;function f(A,T,x){var C=i.createApp(A);return C.provide("eventBus",T.eventBus),N(C,T),C.mount(x)}e.mount=f;function p(A){var T=A.$.vnode.props||{};return o(T)}e.getComponentProps=p;function g(A){return A.props}e.usedConfigurationProps=g;function m(A){return A.$?A.$.vnode:A}e.getNodeOptions=m;function v(A){return A.$.vnode.type}e.getNodeTypeOfComponent=v;function b(A){return A[e.VMODEL_NAME]}e.getVModelValue=b;function E(A){A.compatConfig={MODE:3}}e.setCompatOptions=E;function I(A){var T,x="update:"+e.VMODEL_NAME;A.model.prop=e.VMODEL_NAME,A.model.event=x,A.props.modelValue={},A.emits=t(t({},A.emits),(T={},T[""+x]=null,T))}e.setVModel=I;function R(A,T){for(var x in T)!A.hasOwnProperty(x)&&T.hasOwnProperty(x)&&(A[x]=T[x])}function N(A,T){A._context.components=Object.assign(T.$.appContext.components,A._context.components),Object.setPrototypeOf(A._context.provides,Object.getPrototypeOf(T.$.provides)),Object.assign(A._context.provides,T.$.appContext.provides),A._context.config=T.$.appContext.config,A._context.directives=T.$.appContext.directives,A._context.mixins=T.$.appContext.mixins,R(A._context.app,T.$.appContext.app)}function j(A){return A.filter(function(T){if(n.isFragment(T))return j(T.children||[]);var x=T.type;if(x&&typeof x=="object"&&x.$_optionName)return delete T.$_config,delete T.$_innerChanges,T})}function V(A){var T=!1;return A.forEach(function(x){!W(x)&&!n.isFragment(x)&&!H(x)&&(T=!0)}),T}function H(A){var T=A.type,x=typeof T=="symbol"?T.toString():T;return x==="Symbol(Comment)"||x==="Symbol()"&&!A.children}function W(A){return A.type&&typeof A.type=="object"&&A.type.$_optionName}function G(A){return A.type}e.getConfigurationOptions=G;function P(A){return A.$.vnode&&A.$.vnode.children&&A.$.vnode.children.default}}(nv)),nv}var is={},Hd={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var pf=He&&He.__assign||function(){return pf=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},pf.apply(this,arguments)};Object.defineProperty(Hd,"__esModule",{value:!0});Hd.getOption=void 0;var I_={deepWatch:!1};function vle(e){I_=pf(pf({},I_),e)}function _le(e){return I_[e]}Hd.getOption=_le;Hd.default=vle;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var mf=He&&He.__assign||function(){return mf=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},mf.apply(this,arguments)};Object.defineProperty(is,"__esModule",{value:!0});is.setEmitOptionChangedFunc=is.bindOptionWatchers=void 0;var iM=tn,ble=Hd,A_=yi,O_=yo(),yle=function(){function e(t,i,r,n,a,s,o){this._updateFunc=t,this._name=i,this._initialValues=r||{},this._nestedConfigurations=[],this._isCollectionItem=!!a,this._collectionItemIndex=s,this._expectedChildren=n||{},this._ownerConfig=o,this._componentChanges=[],this.updateValue=this.updateValue.bind(this)}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullName",{get:function(){return this._name&&this._isCollectionItem?this._name+"["+this._collectionItemIndex+"]":this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"componentsCountChanged",{get:function(){return this._componentChanges},enumerable:!1,configurable:!0}),e.prototype.cleanComponentsCountChanged=function(){this._componentChanges=[]},Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._ownerConfig&&this._ownerConfig.fullPath?this._ownerConfig.fullPath+"."+this.fullName:this.fullName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownerConfig",{get:function(){return this._ownerConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialValues",{get:function(){return this._initialValues},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"expectedChildren",{get:function(){return this._expectedChildren},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nested",{get:function(){return this._nestedConfigurations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prevNestedOptions",{get:function(){return this._prevNestedConfigOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collectionItemIndex",{get:function(){return this._collectionItemIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCollectionItem",{get:function(){return this._isCollectionItem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFunc",{get:function(){return this._updateFunc},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this._options=t||[]},Object.defineProperty(e.prototype,"emitOptionChanged",{set:function(t){this._emitOptionChanged=t},enumerable:!1,configurable:!0}),e.prototype.setPrevNestedOptions=function(t){this._prevNestedConfigOptions=t},e.prototype.onOptionChanged=function(t){A_.isEqual(t.value,t.previousValue)||this._onOptionChanged(t.fullName.split("."),t)},e.prototype.cleanNested=function(){this._nestedConfigurations=[]},e.prototype.createNested=function(t,i,r,n){var a=this._expectedChildren[t],s=t,o=r;a&&(o=a.isCollectionItem,a.optionName&&(s=a.optionName));var l=-1;o&&s&&(l=this._nestedConfigurations.filter(function(d){return d._name&&d._name===s}).length);var u=new e(this._updateFunc,s,i,n,o,l,this);return this._nestedConfigurations.push(u),u},e.prototype.updateValue=function(t,i){var r=[this.fullPath,t].filter(function(n){return n}).join(".");this._updateFunc(r,i)},e.prototype.getNestedOptionValues=function(){var t={};return this._nestedConfigurations.forEach(function(i){if(i._name){var r=mf(mf({},i.initialValues),i.getNestedOptionValues());if(r)if(!i._isCollectionItem)t[i._name]=r;else{var n=t[i._name];(!n||!Array.isArray(n))&&(n=[],t[i._name]=n),n.push(r)}}}),t},e.prototype.getOptionsToWatch=function(){var t={};return this._nestedConfigurations.forEach(function(i){return i._name&&(t[i._name]=!0)}),this._options.filter(function(i){return!t[i]})},e.prototype._onOptionChanged=function(t,i){if(t.length!==0){var r=A_.getOptionInfo(t[0]);if(r.isCollection||t.length>1){var n=this._getNestedConfig(r.fullName);if(n){n._onOptionChanged(t.slice(1),i);return}this._tryEmitOptionChanged(r.name,i.component.option(this.fullPath?this.fullPath+"."+r.name:r.name))}else this._tryEmitOptionChanged(r.name,i.value)}},e.prototype._getNestedConfig=function(t){for(var i=0,r=this._nestedConfigurations;i<r.length;i++){var n=r[i];if(n.fullName===t)return n}},e.prototype._tryEmitOptionChanged=function(t,i){this._emitOptionChanged&&this._emitOptionChanged(t,i)},e}();function Cle(e,t,i){var r=e&&e.getOptionsToWatch();r&&r.forEach(function(n){t.$watch(n,function(a){var s=iM.toRaw(a);(!i.hasOwnProperty(n)||i[n]!==s)&&e.updateValue(n,a),delete i[n]},{deep:ble.getOption("deepWatch")})})}is.bindOptionWatchers=Cle;function xle(e,t){var i=e.$options.props;return i&&i.hasOwnProperty(t)}function wle(e,t,i){var r;return e.model&&t.hasOwnProperty(O_.VMODEL_NAME)&&((r=i==null?void 0:i.props)===null||r===void 0?void 0:r.hasOwnProperty(O_.VMODEL_NAME))}function Sle(e,t,i){e.emitOptionChanged=function(r,n){var a,s=t.$props,o=(a=t==null?void 0:t.$)===null||a===void 0?void 0:a.vnode;if(xle(t,r)&&!A_.isEqual(n,s[r])&&t.$emit){i[r]=iM.toRaw(n);var l=r==="value"&&wle(t.$options,s,o)?"update:"+O_.VMODEL_NAME:"update:"+r;t.$emit(l,n)}}}is.setEmitOptionChangedFunc=Sle;is.default=yle;var cn={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(cn,"__esModule",{value:!0});cn.getInnerChanges=cn.getConfig=cn.initOptionChangedFunc=cn.initDxConfiguration=void 0;var Ele=tn,Rb=yo(),rM=is;function Sc(e){var t=Rb.getNodeOptions(e);if(t)return t.$_config||e.$_config}cn.getConfig=Sc;function nM(e){var t=Rb.getNodeOptions(e);if(t)return t.$_innerChanges||e.$_innerChanges}cn.getInnerChanges=nM;function aM(e,t,i,r){e&&(e.init(Object.keys(t)),i&&rM.setEmitOptionChangedFunc(e,i,r))}cn.initOptionChangedFunc=aM;function DT(e,t){var i=e.name,r=e.isCollectionItem,n=e.ownerConfig,a=n&&n.fullPath,s=i&&a?a+"."+i:i||"";return{optionPath:s,isCollection:r,removed:t}}function Tle(){return Ele.defineComponent({beforeMount:function(){var e=this,t=Sc(e),i=nM(e);aM(t,Rb.getNodeTypeOfComponent(e).props,e,i),rM.bindOptionWatchers(t,this,i)},mounted:function(){this.$parent.$_instance&&this.$parent.$_config.componentsCountChanged.push(DT(Sc(this)))},beforeUnmount:function(){var e=Sc(this);e&&this.$parent.$_config.componentsCountChanged.push(DT(e,!0))},render:function(){return null}})}cn.initDxConfiguration=Tle;var ro={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(ro,"__esModule",{value:!0});ro.DX_REMOVE_EVENT=ro.DX_TEMPLATE_WRAPPER_CLASS=void 0;var Ile="dx-template-wrapper";ro.DX_TEMPLATE_WRAPPER_CLASS=Ile;var Ale="dxremove";ro.DX_REMOVE_EVENT=Ale;var up={},bl={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(bl,"__esModule",{value:!0});bl.discover=bl.mountTemplate=void 0;var ol=yo(),Ole=tn,sM="template";function Dle(e){var t=e;if(t&&!(!t.$_config||!t.$_config.name))return t}function kle(e){return sM in e.type.props&&ol.configurationTemplate(e)}function Rle(e){var t={},i=ol.declaredTemplates(e);for(var r in i)if(!(r==="default"&&e.$slots.default)){var n=i[r];n&&(t[r]=n)}for(var a=ol.getChildren(e),s=0,o=a;s<o.length;s++){var l=o[s],u=Dle(l);if(u){var d=ol.configurationDefaultTemplate(l);if(!(!d||!kle(l))){var c=u.$_config.fullPath+"."+sM;t[c]=d}}}return t}bl.discover=Rle;function Mle(e){var t=[];return e.forEach(function(i){var r=ol.getConfigurationOptions(i);(!r||!r.$_optionName)&&t.push(i)}),t}function Ble(e,t,i,r,n){return ol.mount({name:r,inject:["eventBus"],created:function(){this.eventBus.add(this.$_updatedHandler)},mounted:function(){i.onRendered()},unmounted:function(){this.eventBus.remove(this.$_updatedHandler)},methods:{$_updatedHandler:function(){this.$forceUpdate()}},render:function(){var a=Mle(e()(i));return a?a.length>1?a:a[0]:Ole.h("div")}},t,n)}bl.mountTemplate=Ble;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var gf=He&&He.__assign||function(){return gf=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},gf.apply(this,arguments)},Ple=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(up,"__esModule",{value:!0});up.TemplatesManager=void 0;var kT=bl,Lle=Ple(XR),RT=np,av=ro,Fle=yi,Nle=function(){function e(t){this._slots={},this._templates={},this._isDirty=!1,this._component=t,this.discover()}return e.prototype.discover=function(){var t=kT.discover(this._component);this._slots=gf(gf({},this._slots),t),Fle.allKeysAreEqual(this._templates,t)||this._prepareTemplates()},Object.defineProperty(e.prototype,"templates",{get:function(){return this._templates},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDirty",{get:function(){return this._isDirty},enumerable:!1,configurable:!0}),e.prototype.resetDirtyFlag=function(){this._isDirty=!1},e.prototype._prepareTemplates=function(){this._templates={};for(var t=0,i=Object.keys(this._slots);t<i.length;t++){var r=i[t];this._templates[r]=this.createDxTemplate(r)}this._isDirty=!0},e.prototype.createDxTemplate=function(t){var i=this;return{render:function(r){var n=function(c,h){return h===void 0&&(h=0),function(){h===1&&c&&c(),h++}}(r.onRendered),a={data:r.model,index:r.index,onRendered:n},s=document.createElement("div"),o=r.container.get?r.container.get(0):r.container;o.appendChild(s);var l=kT.mountTemplate(function(){return i._slots[t]},i._component,a,t,s),u=l.$el;for(o.removeChild(s);s.firstChild;)o.appendChild(s.firstChild);if(Lle.default.setClass(u,av.DX_TEMPLATE_WRAPPER_CLASS,!0),u.nodeType===Node.TEXT_NODE){var d=document.createElement(o.nodeName==="TABLE"?"tbody":"span");d.style.display="none",o.appendChild(d),RT.one(d,av.DX_REMOVE_EVENT,l.$.appContext.app.unmount.bind(l))}else RT.one(u,av.DX_REMOVE_EVENT,l.$.appContext.app.unmount.bind(l));return n(),u}}},e}();up.TemplatesManager=Nle;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Zn=He&&He.__assign||function(){return Zn=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Zn.apply(this,arguments)},Vle=He&&He.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),Hle=He&&He.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$le=He&&He.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&Vle(t,e,i);return Hle(t,e),t},zle=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(io,"__esModule",{value:!0});io.initBaseComponent=io.initDxComponent=void 0;var D_=tn,Wle=zle(dle),jle=np,ka=yo(),Ule=tM(),sv=$le(is),Gle=cn,Kle=ro,Ss=yi,qle=up,Xle=["id","class","style"];function Yle(e){var t={};return Xle.forEach(function(i){var r=e[i];r&&(t[i]=r)}),t}function oM(){return D_.defineComponent({inheritAttrs:!1,data:function(){return{eventBus:Wle.default()}},provide:function(){return{eventBus:this.eventBus}},render:function(){var e=this,t=[];return e.$_config.cleanNested&&e.$_config.cleanNested(),Ule.pullAllChildren(ka.defaultSlots(this),t,e.$_config),this.$_processChildren(t),D_.h("div",Zn({},Yle(this.$attrs)),t)},beforeUpdate:function(){var e=this;e.$_config.setPrevNestedOptions(e.$_config.getNestedOptionValues())},updated:function(){var e=this,t=lM(this.$el);if(ka.getChildren(e).forEach(function(u){var d;Gle.initOptionChangedFunc(u.$_config,u.type.props||{},(d=u==null?void 0:u.component)===null||d===void 0?void 0:d.proxy,u.$_innerChanges)}),e.$_templatesManager.discover(),e.$_instance.beginUpdate(),e.$_templatesManager.isDirty){e.$_instance.option("integrationOptions.templates",e.$_templatesManager.templates);for(var i=e.$.vnode.props,r=0,n=Object.keys(e.$_templatesManager.templates);r<n.length;r++){var a=n[r];e.$_instance.option(Ss.getTemplatePropName(i,a),a)}e.$_templatesManager.resetDirtyFlag()}for(var s=0,o=Object.keys(e.$_pendingOptions);s<o.length;s++){var l=o[s];e.$_instance.option(l,e.$_pendingOptions[l])}e.$_pendingOptions={},this.$_applyConfigurationChanges(),e.$_instance.endUpdate(),uM(this.$el,t),this.eventBus.fire()},beforeUnmount:function(){var e=this,t=e.$_instance;t&&(jle.triggerHandler(this.$el,Kle.DX_REMOVE_EVENT),t.dispose())},created:function(){var e=this,t=ka.getComponentProps(this);e.$_config=new sv.default(function(i,r){Array.isArray(r)?e.$_instance.option(i,r):e.$_pendingOptions[i===ka.VMODEL_NAME?"value":i]=r},null,t&&Zn({},t),e.$_expectedChildren),e.$_innerChanges={},e.$_config.init(this.$props&&Object.keys(this.$props))},methods:{$_applyConfigurationChanges:function(){var e=this;e.$_config.componentsCountChanged.forEach(function(t){var i=t.optionPath,r=t.isCollection,n=t.removed,a=e.$_config.getNestedOptionValues();!r&&n?e.$_instance.resetOption(i):e.$_instance.option(i,Ss.getOptionValue(a,i))}),e.$_config.cleanComponentsCountChanged()},$_createWidget:function(e){var t=this;t.$_pendingOptions={},t.$_templatesManager=new qle.TemplatesManager(this);var i=t.$_config;i.initialValues.hasOwnProperty(ka.VMODEL_NAME)&&(i.initialValues.value=ka.getVModelValue(i.initialValues));var r=Zn(Zn(Zn(Zn({templatesRenderAsynchronously:t.$_hasAsyncTemplate},ka.getComponentProps(t)),i.initialValues),i.getNestedOptionValues()),this.$_getIntegrationOptions()),n=new t.$_WidgetClass(e,r);t.$_instance=n,n.on("optionChanged",function(a){return i.onOptionChanged(a)}),sv.setEmitOptionChangedFunc(i,t,t.$_innerChanges),sv.bindOptionWatchers(i,t,t.$_innerChanges),this.$_createEmitters(n)},$_getIntegrationOptions:function(){var e=this,t=Zn({integrationOptions:{watchMethod:this.$_getWatchMethod()}},this.$_getExtraIntegrationOptions());if(e.$_templatesManager.isDirty){var i=e.$_templatesManager.templates;t.integrationOptions.templates=i;for(var r=e.$.vnode.props,n=0,a=Object.keys(i);n<a.length;n++){var s=a[n];t[Ss.getTemplatePropName(r,s)]=s}e.$_templatesManager.resetDirtyFlag()}return t},$_getWatchMethod:function(){var e=this;return function(t,i,r){return r=r||{},r.skipImmediate||i(t()),e.$watch(function(){return t()},function(n,a){(Ss.toComparable(a)!==Ss.toComparable(n)||r.deep)&&i(n)},{deep:r.deep})}},$_getExtraIntegrationOptions:function(){return{}},$_processChildren:function(e){},$_createEmitters:function(e){var t=this;this.$attrs&&Object.keys(this.$attrs).forEach(function(i){var r=Ss.camelize(i);e.on(r,function(n){t.$emit(i,n)})})}}})}io.initBaseComponent=oM;function lM(e){var t=[];return Ss.forEachChildNode(e,function(i){var r=i.parentNode,n=i.hasAttribute&&i.hasAttribute("isExtension");(i.nodeName==="#comment"||n)&&r&&(t.push(i),r.removeChild(i))}),t}function uM(e,t){t.forEach(function(i){e.appendChild(i)})}function Zle(){return D_.defineComponent({extends:oM(),methods:{$_getExtraIntegrationOptions:function(){return{onInitializing:function(){this.beginUpdate()}}},$_processChildren:function(e){e.forEach(function(t){!t||typeof t!="object"||(t.$_hasOwner=!0)})}},mounted:function(){var e=this,t=lM(this.$el),i=this;this.$_createWidget(this.$el),i.$_instance.endUpdate(),uM(this.$el,t),this.$slots&&this.$slots.default&&ka.getChildren(i).forEach(function(r){var n=r;n&&n.$_isExtension&&n.$_attachTo(e.$el)})}})}io.initDxComponent=Zle;var dp={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(dp,"__esModule",{value:!0});dp.initDxExtensionComponent=void 0;var Jle=tn,Qle=io,eue=yo();function tue(){return Jle.defineComponent({extends:Qle.initBaseComponent(),mounted:function(){this.$el.setAttribute("isExtension","true");var e=eue.getNodeOptions(this);e.$_isExtension=!0,e.$_attachTo=this.attachTo.bind(this),!(e&&e.$_hasOwner)&&this.attachTo(this.$el)},methods:{attachTo:function(e){this.$_createWidget(e)}}})}dp.initDxExtensionComponent=tue;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(Ka,"__esModule",{value:!0});Ka.createExtensionComponent=Ka.createConfigurationComponent=Ka.createComponent=void 0;var Mb=tn,iue=io,rue=cn,nue=dp,vf=yo();function aue(e){return e.extends=iue.initDxComponent(),vf.setCompatOptions(e),e.model&&vf.setVModel(e),Mb.defineComponent(e)}Ka.createComponent=aue;function sue(e){return e.extends=rue.initDxConfiguration(),vf.setCompatOptions(e),Mb.defineComponent(e)}Ka.createConfigurationComponent=sue;function oue(e){return e.extends=nue.initDxExtensionComponent(),vf.setCompatOptions(e),Mb.defineComponent(e)}Ka.createExtensionComponent=oue;var yl={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var lue=He&&He.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),uue=He&&He.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),due=He&&He.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&lue(t,e,i);return uue(t,e),t};Object.defineProperty(yl,"__esModule",{value:!0});yl.isVue3=yl.getVueVersion=void 0;var MT=due(tn),hue=MT.default||MT;function dM(){var e=hue.version;return Number(e.split(".")[0])}yl.getVueVersion=dM;function cue(){return dM()===3}yl.isVue3=cue;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var fue=He&&He.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),pue=He&&He.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),hM=He&&He.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&fue(t,e,i);return pue(t,e),t};Object.defineProperty(ha,"__esModule",{value:!0});ha.createExtensionComponent=ha.createConfigurationComponent=ha.createComponent=void 0;var mue=hM(Ga),gue=hM(Ka),vue=yl,Bb=vue.isVue3()?gue:mue;ha.createComponent=Bb.createComponent;ha.createConfigurationComponent=Bb.createConfigurationComponent;ha.createExtensionComponent=Bb.createExtensionComponent;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var _ue=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ke,"__esModule",{value:!0});ke.DxLookup=ke.DxLoadPanel=ke.DxLabel=ke.DxKeyboardNavigation=ke.DxItem=ke.DxHide=ke.DxHeaderFilter=ke.DxGroupPanel=ke.DxGroupOperationDescriptions=ke.DxGroupItem=ke.DxGroupingTexts=ke.DxGrouping=ke.DxFrom=ke.DxFormItem=ke.DxFormat=ke.DxForm=ke.DxFilterRow=ke.DxFilterPanelTexts=ke.DxFilterPanel=ke.DxFilterOperationDescriptions=ke.DxFilterBuilderPopup=ke.DxFilterBuilder=ke.DxFieldLookup=ke.DxField=ke.DxExportTexts=EM=ke.DxExport=ke.DxEmailRule=ke.DxEditingTexts=ke.DxEditing=ke.DxDataGridHeaderFilterTexts=ke.DxDataGridHeaderFilter=ke.DxCustomRule=ke.DxCustomOperation=ke.DxCursorOffset=ke.DxCompareRule=ke.DxColumnLookup=ke.DxColumnHeaderFilter=ke.DxColumnFixingTexts=ke.DxColumnFixing=ke.DxColumnChooser=vu=ke.DxColumn=ke.DxCollision=ke.DxColCountByScreen=ke.DxChange=ke.DxButton=ke.DxBoundaryOffset=ke.DxAt=ke.DxAsyncRule=ke.DxAnimation=fM=ke.DxDataGrid=void 0;ke.DxValueFormat=ke.DxValidationRule=ke.DxTotalItem=ke.DxToolbarItem=ke.DxToolbar=ke.DxTo=ke.DxTexts=ke.DxSummaryTexts=ke.DxSummary=ke.DxStringLengthRule=ke.DxStateStoring=ke.DxSorting=ke.DxSortByGroupSummaryInfo=ke.DxShow=ke.DxSelection=ke.DxSearchPanel=ke.DxScrolling=ke.DxRowDragging=ke.DxRequiredRule=ke.DxRemoteOperations=ke.DxRangeRule=ke.DxPosition=ke.DxPopup=ke.DxPatternRule=ke.DxPaging=ke.DxPager=ke.DxOperationDescriptions=ke.DxOffset=ke.DxNumericRule=ke.DxMy=ke.DxMasterDetail=void 0;var bue=_ue(roe),yue=ha,tt=ha,cM=yue.createComponent({props:{accessKey:String,activeStateEnabled:Boolean,allowColumnReordering:Boolean,allowColumnResizing:Boolean,autoNavigateToFocusedRow:Boolean,cacheEnabled:Boolean,cellHintEnabled:Boolean,columnAutoWidth:Boolean,columnChooser:Object,columnFixing:Object,columnHidingEnabled:Boolean,columnMinWidth:Number,columnResizingMode:String,columns:Array,columnWidth:[Number,String],customizeColumns:Function,customizeExportData:Function,dataRowTemplate:{},dataSource:{},dateSerializationFormat:String,disabled:Boolean,editing:Object,elementAttr:Object,errorRowEnabled:Boolean,export:Object,filterBuilder:Object,filterBuilderPopup:Object,filterPanel:Object,filterRow:Object,filterSyncEnabled:[Boolean,String],filterValue:[Array,Function,String],focusedColumnIndex:Number,focusedRowEnabled:Boolean,focusedRowIndex:Number,focusedRowKey:{},focusStateEnabled:Boolean,grouping:Object,groupPanel:Object,headerFilter:Object,height:[Function,Number,String],highlightChanges:Boolean,hint:String,hoverStateEnabled:Boolean,keyboardNavigation:Object,keyExpr:[Array,String],loadPanel:Object,masterDetail:Object,noDataText:String,onAdaptiveDetailRowPreparing:Function,onCellClick:Function,onCellDblClick:Function,onCellHoverChanged:Function,onCellPrepared:Function,onContentReady:Function,onContextMenuPreparing:Function,onDataErrorOccurred:Function,onDisposing:Function,onEditCanceled:Function,onEditCanceling:Function,onEditingStart:Function,onEditorPrepared:Function,onEditorPreparing:Function,onExported:Function,onExporting:Function,onFileSaving:Function,onFocusedCellChanged:Function,onFocusedCellChanging:Function,onFocusedRowChanged:Function,onFocusedRowChanging:Function,onInitialized:Function,onInitNewRow:Function,onKeyDown:Function,onOptionChanged:Function,onRowClick:Function,onRowCollapsed:Function,onRowCollapsing:Function,onRowDblClick:Function,onRowExpanded:Function,onRowExpanding:Function,onRowInserted:Function,onRowInserting:Function,onRowPrepared:Function,onRowRemoved:Function,onRowRemoving:Function,onRowUpdated:Function,onRowUpdating:Function,onRowValidating:Function,onSaved:Function,onSaving:Function,onSelectionChanged:Function,onToolbarPreparing:Function,pager:Object,paging:Object,remoteOperations:[Boolean,Object,String],renderAsync:Boolean,repaintChangesOnly:Boolean,rowAlternationEnabled:Boolean,rowDragging:Object,rowTemplate:{},rtlEnabled:Boolean,scrolling:Object,searchPanel:Object,selectedRowKeys:Array,selection:Object,selectionFilter:[Array,Function,String],showBorders:Boolean,showColumnHeaders:Boolean,showColumnLines:Boolean,showRowLines:Boolean,sortByGroupSummaryInfo:Array,sorting:Object,stateStoring:Object,summary:Object,syncLookupFilterValues:Boolean,tabIndex:Number,toolbar:Object,twoWayBindingEnabled:Boolean,visible:Boolean,width:[Function,Number,String],wordWrapEnabled:Boolean},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowColumnReordering":null,"update:allowColumnResizing":null,"update:autoNavigateToFocusedRow":null,"update:cacheEnabled":null,"update:cellHintEnabled":null,"update:columnAutoWidth":null,"update:columnChooser":null,"update:columnFixing":null,"update:columnHidingEnabled":null,"update:columnMinWidth":null,"update:columnResizingMode":null,"update:columns":null,"update:columnWidth":null,"update:customizeColumns":null,"update:customizeExportData":null,"update:dataRowTemplate":null,"update:dataSource":null,"update:dateSerializationFormat":null,"update:disabled":null,"update:editing":null,"update:elementAttr":null,"update:errorRowEnabled":null,"update:export":null,"update:filterBuilder":null,"update:filterBuilderPopup":null,"update:filterPanel":null,"update:filterRow":null,"update:filterSyncEnabled":null,"update:filterValue":null,"update:focusedColumnIndex":null,"update:focusedRowEnabled":null,"update:focusedRowIndex":null,"update:focusedRowKey":null,"update:focusStateEnabled":null,"update:grouping":null,"update:groupPanel":null,"update:headerFilter":null,"update:height":null,"update:highlightChanges":null,"update:hint":null,"update:hoverStateEnabled":null,"update:keyboardNavigation":null,"update:keyExpr":null,"update:loadPanel":null,"update:masterDetail":null,"update:noDataText":null,"update:onAdaptiveDetailRowPreparing":null,"update:onCellClick":null,"update:onCellDblClick":null,"update:onCellHoverChanged":null,"update:onCellPrepared":null,"update:onContentReady":null,"update:onContextMenuPreparing":null,"update:onDataErrorOccurred":null,"update:onDisposing":null,"update:onEditCanceled":null,"update:onEditCanceling":null,"update:onEditingStart":null,"update:onEditorPrepared":null,"update:onEditorPreparing":null,"update:onExported":null,"update:onExporting":null,"update:onFileSaving":null,"update:onFocusedCellChanged":null,"update:onFocusedCellChanging":null,"update:onFocusedRowChanged":null,"update:onFocusedRowChanging":null,"update:onInitialized":null,"update:onInitNewRow":null,"update:onKeyDown":null,"update:onOptionChanged":null,"update:onRowClick":null,"update:onRowCollapsed":null,"update:onRowCollapsing":null,"update:onRowDblClick":null,"update:onRowExpanded":null,"update:onRowExpanding":null,"update:onRowInserted":null,"update:onRowInserting":null,"update:onRowPrepared":null,"update:onRowRemoved":null,"update:onRowRemoving":null,"update:onRowUpdated":null,"update:onRowUpdating":null,"update:onRowValidating":null,"update:onSaved":null,"update:onSaving":null,"update:onSelectionChanged":null,"update:onToolbarPreparing":null,"update:pager":null,"update:paging":null,"update:remoteOperations":null,"update:renderAsync":null,"update:repaintChangesOnly":null,"update:rowAlternationEnabled":null,"update:rowDragging":null,"update:rowTemplate":null,"update:rtlEnabled":null,"update:scrolling":null,"update:searchPanel":null,"update:selectedRowKeys":null,"update:selection":null,"update:selectionFilter":null,"update:showBorders":null,"update:showColumnHeaders":null,"update:showColumnLines":null,"update:showRowLines":null,"update:sortByGroupSummaryInfo":null,"update:sorting":null,"update:stateStoring":null,"update:summary":null,"update:syncLookupFilterValues":null,"update:tabIndex":null,"update:toolbar":null,"update:twoWayBindingEnabled":null,"update:visible":null,"update:width":null,"update:wordWrapEnabled":null},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=bue.default,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={column:{isCollectionItem:!0,optionName:"columns"},columnChooser:{isCollectionItem:!1,optionName:"columnChooser"},columnFixing:{isCollectionItem:!1,optionName:"columnFixing"},dataGridHeaderFilter:{isCollectionItem:!1,optionName:"headerFilter"},editing:{isCollectionItem:!1,optionName:"editing"},export:{isCollectionItem:!1,optionName:"export"},filterBuilder:{isCollectionItem:!1,optionName:"filterBuilder"},filterBuilderPopup:{isCollectionItem:!1,optionName:"filterBuilderPopup"},filterPanel:{isCollectionItem:!1,optionName:"filterPanel"},filterRow:{isCollectionItem:!1,optionName:"filterRow"},grouping:{isCollectionItem:!1,optionName:"grouping"},groupPanel:{isCollectionItem:!1,optionName:"groupPanel"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"},keyboardNavigation:{isCollectionItem:!1,optionName:"keyboardNavigation"},loadPanel:{isCollectionItem:!1,optionName:"loadPanel"},masterDetail:{isCollectionItem:!1,optionName:"masterDetail"},pager:{isCollectionItem:!1,optionName:"pager"},paging:{isCollectionItem:!1,optionName:"paging"},remoteOperations:{isCollectionItem:!1,optionName:"remoteOperations"},rowDragging:{isCollectionItem:!1,optionName:"rowDragging"},scrolling:{isCollectionItem:!1,optionName:"scrolling"},searchPanel:{isCollectionItem:!1,optionName:"searchPanel"},selection:{isCollectionItem:!1,optionName:"selection"},sortByGroupSummaryInfo:{isCollectionItem:!0,optionName:"sortByGroupSummaryInfo"},sorting:{isCollectionItem:!1,optionName:"sorting"},stateStoring:{isCollectionItem:!1,optionName:"stateStoring"},summary:{isCollectionItem:!1,optionName:"summary"},toolbar:{isCollectionItem:!1,optionName:"toolbar"}}}}),fM=ke.DxDataGrid=cM,Pb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:hide":null,"update:show":null},props:{hide:[Object,Number,String],show:[Object,Number,String]}});ke.DxAnimation=Pb;Pb.$_optionName="animation";Pb.$_expectedChildren={hide:{isCollectionItem:!1,optionName:"hide"},show:{isCollectionItem:!1,optionName:"show"}};var hp=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:reevaluate":null,"update:type":null,"update:validationCallback":null},props:{ignoreEmptyValue:Boolean,message:String,reevaluate:Boolean,type:String,validationCallback:Function}});ke.DxAsyncRule=hp;hp.$_optionName="validationRules";hp.$_isCollectionItem=!0;hp.$_predefinedProps={type:"async"};var pM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});ke.DxAt=pM;pM.$_optionName="at";var mM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}});ke.DxBoundaryOffset=mM;mM.$_optionName="boundaryOffset";var Lb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:hint":null,"update:icon":null,"update:name":null,"update:onClick":null,"update:template":null,"update:text":null,"update:visible":null},props:{cssClass:String,disabled:[Boolean,Function],hint:String,icon:String,name:String,onClick:Function,template:{},text:String,visible:[Boolean,Function]}});ke.DxButton=Lb;Lb.$_optionName="buttons";Lb.$_isCollectionItem=!0;var Fb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:data":null,"update:insertAfterKey":null,"update:insertBeforeKey":null,"update:type":null},props:{data:{},insertAfterKey:{},insertBeforeKey:{},type:String}});ke.DxChange=Fb;Fb.$_optionName="changes";Fb.$_isCollectionItem=!0;var gM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:lg":null,"update:md":null,"update:sm":null,"update:xs":null},props:{lg:Number,md:Number,sm:Number,xs:Number}});ke.DxColCountByScreen=gM;gM.$_optionName="colCountByScreen";var vM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});ke.DxCollision=vM;vM.$_optionName="collision";var cp=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:allowEditing":null,"update:allowExporting":null,"update:allowFiltering":null,"update:allowFixing":null,"update:allowGrouping":null,"update:allowHeaderFiltering":null,"update:allowHiding":null,"update:allowReordering":null,"update:allowResizing":null,"update:allowSearch":null,"update:allowSorting":null,"update:autoExpandGroup":null,"update:buttons":null,"update:calculateCellValue":null,"update:calculateDisplayValue":null,"update:calculateFilterExpression":null,"update:calculateGroupValue":null,"update:calculateSortValue":null,"update:caption":null,"update:cellTemplate":null,"update:columns":null,"update:cssClass":null,"update:customizeText":null,"update:dataField":null,"update:dataType":null,"update:editCellTemplate":null,"update:editorOptions":null,"update:encodeHtml":null,"update:falseText":null,"update:filterOperations":null,"update:filterType":null,"update:filterValue":null,"update:filterValues":null,"update:fixed":null,"update:fixedPosition":null,"update:format":null,"update:formItem":null,"update:groupCellTemplate":null,"update:grouped":null,"update:groupIndex":null,"update:headerCellTemplate":null,"update:headerFilter":null,"update:hidingPriority":null,"update:isBand":null,"update:lookup":null,"update:minWidth":null,"update:name":null,"update:ownerBand":null,"update:renderAsync":null,"update:resized":null,"update:selectedFilterOperation":null,"update:setCellValue":null,"update:showEditorAlways":null,"update:showInColumnChooser":null,"update:showWhenGrouped":null,"update:sortIndex":null,"update:sortingMethod":null,"update:sortOrder":null,"update:trueText":null,"update:type":null,"update:validationRules":null,"update:visible":null,"update:visibleIndex":null,"update:width":null},props:{alignment:String,allowEditing:Boolean,allowExporting:Boolean,allowFiltering:Boolean,allowFixing:Boolean,allowGrouping:Boolean,allowHeaderFiltering:Boolean,allowHiding:Boolean,allowReordering:Boolean,allowResizing:Boolean,allowSearch:Boolean,allowSorting:Boolean,autoExpandGroup:Boolean,buttons:Array,calculateCellValue:Function,calculateDisplayValue:[Function,String],calculateFilterExpression:Function,calculateGroupValue:[Function,String],calculateSortValue:[Function,String],caption:String,cellTemplate:{},columns:Array,cssClass:String,customizeText:Function,dataField:String,dataType:String,editCellTemplate:{},editorOptions:{},encodeHtml:Boolean,falseText:String,filterOperations:Array,filterType:String,filterValue:{},filterValues:Array,fixed:Boolean,fixedPosition:String,format:[Object,Function,String],formItem:Object,groupCellTemplate:{},grouped:Boolean,groupIndex:Number,headerCellTemplate:{},headerFilter:Object,hidingPriority:Number,isBand:Boolean,lookup:Object,minWidth:Number,name:String,ownerBand:Number,renderAsync:Boolean,resized:Function,selectedFilterOperation:String,setCellValue:Function,showEditorAlways:Boolean,showInColumnChooser:Boolean,showWhenGrouped:Boolean,sortIndex:Number,sortingMethod:Function,sortOrder:String,trueText:String,type:String,validationRules:Array,visible:Boolean,visibleIndex:Number,width:[Number,String]}}),vu=ke.DxColumn=cp;cp.$_optionName="columns";cp.$_isCollectionItem=!0;cp.$_expectedChildren={AsyncRule:{isCollectionItem:!0,optionName:"validationRules"},button:{isCollectionItem:!0,optionName:"buttons"},columnHeaderFilter:{isCollectionItem:!1,optionName:"headerFilter"},columnLookup:{isCollectionItem:!1,optionName:"lookup"},CompareRule:{isCollectionItem:!0,optionName:"validationRules"},CustomRule:{isCollectionItem:!0,optionName:"validationRules"},EmailRule:{isCollectionItem:!0,optionName:"validationRules"},format:{isCollectionItem:!1,optionName:"format"},formItem:{isCollectionItem:!1,optionName:"formItem"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"},lookup:{isCollectionItem:!1,optionName:"lookup"},NumericRule:{isCollectionItem:!0,optionName:"validationRules"},PatternRule:{isCollectionItem:!0,optionName:"validationRules"},RangeRule:{isCollectionItem:!0,optionName:"validationRules"},RequiredRule:{isCollectionItem:!0,optionName:"validationRules"},StringLengthRule:{isCollectionItem:!0,optionName:"validationRules"},validationRule:{isCollectionItem:!0,optionName:"validationRules"}};var _M=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:emptyPanelText":null,"update:enabled":null,"update:height":null,"update:mode":null,"update:searchTimeout":null,"update:sortOrder":null,"update:title":null,"update:width":null},props:{allowSearch:Boolean,emptyPanelText:String,enabled:Boolean,height:Number,mode:String,searchTimeout:Number,sortOrder:String,title:String,width:Number}});ke.DxColumnChooser=_M;_M.$_optionName="columnChooser";var Nb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:texts":null},props:{enabled:Boolean,texts:Object}});ke.DxColumnFixing=Nb;Nb.$_optionName="columnFixing";Nb.$_expectedChildren={columnFixingTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};var bM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:fix":null,"update:leftPosition":null,"update:rightPosition":null,"update:unfix":null},props:{fix:String,leftPosition:String,rightPosition:String,unfix:String}});ke.DxColumnFixingTexts=bM;bM.$_optionName="texts";var yM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:searchMode":null,"update:width":null},props:{allowSearch:Boolean,dataSource:{},groupInterval:[Number,String],height:Number,searchMode:String,width:Number}});ke.DxColumnHeaderFilter=yM;yM.$_optionName="headerFilter";var CM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowClearing":null,"update:calculateCellValue":null,"update:dataSource":null,"update:displayExpr":null,"update:valueExpr":null},props:{allowClearing:Boolean,calculateCellValue:Function,dataSource:{},displayExpr:[Function,String],valueExpr:String}});ke.DxColumnLookup=CM;CM.$_optionName="lookup";var fp=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:comparisonTarget":null,"update:comparisonType":null,"update:ignoreEmptyValue":null,"update:message":null,"update:type":null},props:{comparisonTarget:Function,comparisonType:String,ignoreEmptyValue:Boolean,message:String,type:String}});ke.DxCompareRule=fp;fp.$_optionName="validationRules";fp.$_isCollectionItem=!0;fp.$_predefinedProps={type:"compare"};var xM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}});ke.DxCursorOffset=xM;xM.$_optionName="cursorOffset";var Vb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:calculateFilterExpression":null,"update:caption":null,"update:customizeText":null,"update:dataTypes":null,"update:editorTemplate":null,"update:hasValue":null,"update:icon":null,"update:name":null},props:{calculateFilterExpression:Function,caption:String,customizeText:Function,dataTypes:Array,editorTemplate:{},hasValue:Boolean,icon:String,name:String}});ke.DxCustomOperation=Vb;Vb.$_optionName="customOperations";Vb.$_isCollectionItem=!0;var pp=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:reevaluate":null,"update:type":null,"update:validationCallback":null},props:{ignoreEmptyValue:Boolean,message:String,reevaluate:Boolean,type:String,validationCallback:Function}});ke.DxCustomRule=pp;pp.$_optionName="validationRules";pp.$_isCollectionItem=!0;pp.$_predefinedProps={type:"custom"};var Hb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:height":null,"update:searchTimeout":null,"update:texts":null,"update:visible":null,"update:width":null},props:{allowSearch:Boolean,height:Number,searchTimeout:Number,texts:Object,visible:Boolean,width:Number}});ke.DxDataGridHeaderFilter=Hb;Hb.$_optionName="headerFilter";Hb.$_expectedChildren={dataGridHeaderFilterTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};var wM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cancel":null,"update:emptyValue":null,"update:ok":null},props:{cancel:String,emptyValue:String,ok:String}});ke.DxDataGridHeaderFilterTexts=wM;wM.$_optionName="texts";var $b=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowAdding":null,"update:allowDeleting":null,"update:allowUpdating":null,"update:changes":null,"update:confirmDelete":null,"update:editColumnName":null,"update:editRowKey":null,"update:form":null,"update:mode":null,"update:newRowPosition":null,"update:popup":null,"update:refreshMode":null,"update:selectTextOnEditStart":null,"update:startEditAction":null,"update:texts":null,"update:useIcons":null},props:{allowAdding:Boolean,allowDeleting:[Boolean,Function],allowUpdating:[Boolean,Function],changes:Array,confirmDelete:Boolean,editColumnName:String,editRowKey:{},form:Object,mode:String,newRowPosition:String,popup:Object,refreshMode:String,selectTextOnEditStart:Boolean,startEditAction:String,texts:{},useIcons:Boolean}});ke.DxEditing=$b;$b.$_optionName="editing";$b.$_expectedChildren={change:{isCollectionItem:!0,optionName:"changes"},editingTexts:{isCollectionItem:!1,optionName:"texts"},form:{isCollectionItem:!1,optionName:"form"},popup:{isCollectionItem:!1,optionName:"popup"},texts:{isCollectionItem:!1,optionName:"texts"}};var SM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:addRow":null,"update:cancelAllChanges":null,"update:cancelRowChanges":null,"update:confirmDeleteMessage":null,"update:confirmDeleteTitle":null,"update:deleteRow":null,"update:editRow":null,"update:saveAllChanges":null,"update:saveRowChanges":null,"update:undeleteRow":null,"update:validationCancelChanges":null},props:{addRow:String,cancelAllChanges:String,cancelRowChanges:String,confirmDeleteMessage:String,confirmDeleteTitle:String,deleteRow:String,editRow:String,saveAllChanges:String,saveRowChanges:String,undeleteRow:String,validationCancelChanges:String}});ke.DxEditingTexts=SM;SM.$_optionName="texts";var mp=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:type":null},props:{ignoreEmptyValue:Boolean,message:String,type:String}});ke.DxEmailRule=mp;mp.$_optionName="validationRules";mp.$_isCollectionItem=!0;mp.$_predefinedProps={type:"email"};var zb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowExportSelectedData":null,"update:customizeExcelCell":null,"update:enabled":null,"update:excelFilterEnabled":null,"update:excelWrapTextEnabled":null,"update:fileName":null,"update:formats":null,"update:ignoreExcelErrors":null,"update:proxyUrl":null,"update:texts":null},props:{allowExportSelectedData:Boolean,customizeExcelCell:Function,enabled:Boolean,excelFilterEnabled:Boolean,excelWrapTextEnabled:Boolean,fileName:String,formats:Array,ignoreExcelErrors:Boolean,proxyUrl:String,texts:Object}}),EM=ke.DxExport=zb;zb.$_optionName="export";zb.$_expectedChildren={exportTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};var TM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:exportAll":null,"update:exportSelectedRows":null,"update:exportTo":null},props:{exportAll:String,exportSelectedRows:String,exportTo:String}});ke.DxExportTexts=TM;TM.$_optionName="texts";var gp=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:calculateFilterExpression":null,"update:caption":null,"update:customizeText":null,"update:dataField":null,"update:dataType":null,"update:defaultFilterOperation":null,"update:editorOptions":null,"update:editorTemplate":null,"update:falseText":null,"update:filterOperations":null,"update:format":null,"update:lookup":null,"update:name":null,"update:trueText":null},props:{calculateFilterExpression:Function,caption:String,customizeText:Function,dataField:String,dataType:String,defaultFilterOperation:String,editorOptions:{},editorTemplate:{},falseText:String,filterOperations:Array,format:[Object,Function,String],lookup:Object,name:String,trueText:String}});ke.DxField=gp;gp.$_optionName="fields";gp.$_isCollectionItem=!0;gp.$_expectedChildren={fieldLookup:{isCollectionItem:!1,optionName:"lookup"},format:{isCollectionItem:!1,optionName:"format"},lookup:{isCollectionItem:!1,optionName:"lookup"}};var IM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowClearing":null,"update:dataSource":null,"update:displayExpr":null,"update:valueExpr":null},props:{allowClearing:Boolean,dataSource:[Array,Object],displayExpr:[Function,String],valueExpr:[Function,String]}});ke.DxFieldLookup=IM;IM.$_optionName="lookup";var Wb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowHierarchicalFields":null,"update:bindingOptions":null,"update:customOperations":null,"update:disabled":null,"update:elementAttr":null,"update:fields":null,"update:filterOperationDescriptions":null,"update:focusStateEnabled":null,"update:groupOperationDescriptions":null,"update:groupOperations":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:maxGroupLevel":null,"update:onContentReady":null,"update:onDisposing":null,"update:onEditorPrepared":null,"update:onEditorPreparing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onValueChanged":null,"update:rtlEnabled":null,"update:tabIndex":null,"update:value":null,"update:visible":null,"update:width":null},props:{accessKey:String,activeStateEnabled:Boolean,allowHierarchicalFields:Boolean,bindingOptions:Object,customOperations:Array,disabled:Boolean,elementAttr:Object,fields:Array,filterOperationDescriptions:Object,focusStateEnabled:Boolean,groupOperationDescriptions:Object,groupOperations:Array,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,maxGroupLevel:Number,onContentReady:Function,onDisposing:Function,onEditorPrepared:Function,onEditorPreparing:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onOptionChanged:Function,onValueChanged:Function,rtlEnabled:Boolean,tabIndex:Number,value:[Array,Function,String],visible:Boolean,width:[Function,Number,String]}});ke.DxFilterBuilder=Wb;Wb.$_optionName="filterBuilder";Wb.$_expectedChildren={customOperation:{isCollectionItem:!0,optionName:"customOperations"},field:{isCollectionItem:!0,optionName:"fields"},filterOperationDescriptions:{isCollectionItem:!1,optionName:"filterOperationDescriptions"},groupOperationDescriptions:{isCollectionItem:!1,optionName:"groupOperationDescriptions"}};var AM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:animation":null,"update:bindingOptions":null,"update:closeOnOutsideClick":null,"update:container":null,"update:contentTemplate":null,"update:copyRootClassesToWrapper":null,"update:deferRendering":null,"update:disabled":null,"update:dragAndResizeArea":null,"update:dragEnabled":null,"update:dragOutsideBoundary":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:fullScreen":null,"update:height":null,"update:hideOnOutsideClick":null,"update:hideOnParentScroll":null,"update:hint":null,"update:hoverStateEnabled":null,"update:maxHeight":null,"update:maxWidth":null,"update:minHeight":null,"update:minWidth":null,"update:onContentReady":null,"update:onDisposing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onHidden":null,"update:onHiding":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResize":null,"update:onResizeEnd":null,"update:onResizeStart":null,"update:onShowing":null,"update:onShown":null,"update:onTitleRendered":null,"update:position":null,"update:resizeEnabled":null,"update:restorePosition":null,"update:rtlEnabled":null,"update:shading":null,"update:shadingColor":null,"update:showCloseButton":null,"update:showTitle":null,"update:tabIndex":null,"update:title":null,"update:titleTemplate":null,"update:toolbarItems":null,"update:visible":null,"update:width":null,"update:wrapperAttr":null},props:{accessKey:String,activeStateEnabled:Boolean,animation:Object,bindingOptions:Object,closeOnOutsideClick:[Boolean,Function],container:{},contentTemplate:{},copyRootClassesToWrapper:Boolean,deferRendering:Boolean,disabled:Boolean,dragAndResizeArea:{},dragEnabled:Boolean,dragOutsideBoundary:Boolean,elementAttr:{},focusStateEnabled:Boolean,fullScreen:Boolean,height:[Function,Number,String],hideOnOutsideClick:[Boolean,Function],hideOnParentScroll:Boolean,hint:String,hoverStateEnabled:Boolean,maxHeight:[Function,Number,String],maxWidth:[Function,Number,String],minHeight:[Function,Number,String],minWidth:[Function,Number,String],onContentReady:Function,onDisposing:Function,onFocusIn:Function,onFocusOut:Function,onHidden:Function,onHiding:Function,onInitialized:Function,onOptionChanged:Function,onResize:Function,onResizeEnd:Function,onResizeStart:Function,onShowing:Function,onShown:Function,onTitleRendered:Function,position:[Function,Object,String],resizeEnabled:Boolean,restorePosition:Boolean,rtlEnabled:Boolean,shading:Boolean,shadingColor:String,showCloseButton:Boolean,showTitle:Boolean,tabIndex:Number,title:String,titleTemplate:{},toolbarItems:Array,visible:Boolean,width:[Function,Number,String],wrapperAttr:{}}});ke.DxFilterBuilderPopup=AM;AM.$_optionName="filterBuilderPopup";var OM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:between":null,"update:contains":null,"update:endsWith":null,"update:equal":null,"update:greaterThan":null,"update:greaterThanOrEqual":null,"update:isBlank":null,"update:isNotBlank":null,"update:lessThan":null,"update:lessThanOrEqual":null,"update:notContains":null,"update:notEqual":null,"update:startsWith":null},props:{between:String,contains:String,endsWith:String,equal:String,greaterThan:String,greaterThanOrEqual:String,isBlank:String,isNotBlank:String,lessThan:String,lessThanOrEqual:String,notContains:String,notEqual:String,startsWith:String}});ke.DxFilterOperationDescriptions=OM;OM.$_optionName="filterOperationDescriptions";var jb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:customizeText":null,"update:filterEnabled":null,"update:texts":null,"update:visible":null},props:{customizeText:Function,filterEnabled:Boolean,texts:Object,visible:Boolean}});ke.DxFilterPanel=jb;jb.$_optionName="filterPanel";jb.$_expectedChildren={filterPanelTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};var DM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:clearFilter":null,"update:createFilter":null,"update:filterEnabledHint":null},props:{clearFilter:String,createFilter:String,filterEnabledHint:String}});ke.DxFilterPanelTexts=DM;DM.$_optionName="texts";var Ub=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:applyFilter":null,"update:applyFilterText":null,"update:betweenEndText":null,"update:betweenStartText":null,"update:operationDescriptions":null,"update:resetOperationText":null,"update:showAllText":null,"update:showOperationChooser":null,"update:visible":null},props:{applyFilter:String,applyFilterText:String,betweenEndText:String,betweenStartText:String,operationDescriptions:Object,resetOperationText:String,showAllText:String,showOperationChooser:Boolean,visible:Boolean}});ke.DxFilterRow=Ub;Ub.$_optionName="filterRow";Ub.$_expectedChildren={operationDescriptions:{isCollectionItem:!1,optionName:"operationDescriptions"}};var Gb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:alignItemLabels":null,"update:alignItemLabelsInAllGroups":null,"update:bindingOptions":null,"update:colCount":null,"update:colCountByScreen":null,"update:customizeItem":null,"update:disabled":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:formData":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:items":null,"update:labelLocation":null,"update:labelMode":null,"update:minColWidth":null,"update:onContentReady":null,"update:onDisposing":null,"update:onEditorEnterKey":null,"update:onFieldDataChanged":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:optionalMark":null,"update:readOnly":null,"update:requiredMark":null,"update:requiredMessage":null,"update:rtlEnabled":null,"update:screenByWidth":null,"update:scrollingEnabled":null,"update:showColonAfterLabel":null,"update:showOptionalMark":null,"update:showRequiredMark":null,"update:showValidationSummary":null,"update:tabIndex":null,"update:validationGroup":null,"update:visible":null,"update:width":null},props:{accessKey:String,activeStateEnabled:Boolean,alignItemLabels:Boolean,alignItemLabelsInAllGroups:Boolean,bindingOptions:Object,colCount:[Number,String],colCountByScreen:Object,customizeItem:Function,disabled:Boolean,elementAttr:Object,focusStateEnabled:Boolean,formData:{},height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,items:Array,labelLocation:String,labelMode:String,minColWidth:Number,onContentReady:Function,onDisposing:Function,onEditorEnterKey:Function,onFieldDataChanged:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onOptionChanged:Function,optionalMark:String,readOnly:Boolean,requiredMark:String,requiredMessage:String,rtlEnabled:Boolean,screenByWidth:Function,scrollingEnabled:Boolean,showColonAfterLabel:Boolean,showOptionalMark:Boolean,showRequiredMark:Boolean,showValidationSummary:Boolean,tabIndex:Number,validationGroup:String,visible:Boolean,width:[Function,Number,String]}});ke.DxForm=Gb;Gb.$_optionName="form";Gb.$_expectedChildren={colCountByScreen:{isCollectionItem:!1,optionName:"colCountByScreen"}};var kM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null,"update:useCurrencyAccountingStyle":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String,useCurrencyAccountingStyle:Boolean}});ke.DxFormat=kM;kM.$_optionName="format";var Kb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:colSpan":null,"update:cssClass":null,"update:dataField":null,"update:editorOptions":null,"update:editorType":null,"update:helpText":null,"update:isRequired":null,"update:itemType":null,"update:label":null,"update:name":null,"update:template":null,"update:validationRules":null,"update:visible":null,"update:visibleIndex":null},props:{colSpan:Number,cssClass:String,dataField:String,editorOptions:{},editorType:String,helpText:String,isRequired:Boolean,itemType:String,label:Object,name:String,template:{},validationRules:Array,visible:Boolean,visibleIndex:Number}});ke.DxFormItem=Kb;Kb.$_optionName="formItem";Kb.$_expectedChildren={AsyncRule:{isCollectionItem:!0,optionName:"validationRules"},CompareRule:{isCollectionItem:!0,optionName:"validationRules"},CustomRule:{isCollectionItem:!0,optionName:"validationRules"},EmailRule:{isCollectionItem:!0,optionName:"validationRules"},label:{isCollectionItem:!1,optionName:"label"},NumericRule:{isCollectionItem:!0,optionName:"validationRules"},PatternRule:{isCollectionItem:!0,optionName:"validationRules"},RangeRule:{isCollectionItem:!0,optionName:"validationRules"},RequiredRule:{isCollectionItem:!0,optionName:"validationRules"},StringLengthRule:{isCollectionItem:!0,optionName:"validationRules"},validationRule:{isCollectionItem:!0,optionName:"validationRules"}};var qb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:left":null,"update:opacity":null,"update:position":null,"update:scale":null,"update:top":null},props:{left:Number,opacity:Number,position:Object,scale:Number,top:Number}});ke.DxFrom=qb;qb.$_optionName="from";qb.$_expectedChildren={position:{isCollectionItem:!1,optionName:"position"}};var Xb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowCollapsing":null,"update:autoExpandAll":null,"update:contextMenuEnabled":null,"update:expandMode":null,"update:texts":null},props:{allowCollapsing:Boolean,autoExpandAll:Boolean,contextMenuEnabled:Boolean,expandMode:String,texts:Object}});ke.DxGrouping=Xb;Xb.$_optionName="grouping";Xb.$_expectedChildren={groupingTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};var RM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:groupByThisColumn":null,"update:groupContinuedMessage":null,"update:groupContinuesMessage":null,"update:ungroup":null,"update:ungroupAll":null},props:{groupByThisColumn:String,groupContinuedMessage:String,groupContinuesMessage:String,ungroup:String,ungroupAll:String}});ke.DxGroupingTexts=RM;RM.$_optionName="texts";var vp=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignByColumn":null,"update:column":null,"update:customizeText":null,"update:displayFormat":null,"update:name":null,"update:showInColumn":null,"update:showInGroupFooter":null,"update:skipEmptyValues":null,"update:summaryType":null,"update:valueFormat":null},props:{alignByColumn:Boolean,column:String,customizeText:Function,displayFormat:String,name:String,showInColumn:String,showInGroupFooter:Boolean,skipEmptyValues:Boolean,summaryType:String,valueFormat:[Object,Function,String]}});ke.DxGroupItem=vp;vp.$_optionName="groupItems";vp.$_isCollectionItem=!0;vp.$_expectedChildren={valueFormat:{isCollectionItem:!1,optionName:"valueFormat"}};var MM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:and":null,"update:notAnd":null,"update:notOr":null,"update:or":null},props:{and:String,notAnd:String,notOr:String,or:String}});ke.DxGroupOperationDescriptions=MM;MM.$_optionName="groupOperationDescriptions";var BM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowColumnDragging":null,"update:emptyPanelText":null,"update:visible":null},props:{allowColumnDragging:Boolean,emptyPanelText:String,visible:[Boolean,String]}});ke.DxGroupPanel=BM;BM.$_optionName="groupPanel";var PM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:searchMode":null,"update:searchTimeout":null,"update:texts":null,"update:visible":null,"update:width":null},props:{allowSearch:Boolean,dataSource:{},groupInterval:[Number,String],height:Number,searchMode:String,searchTimeout:Number,texts:Object,visible:Boolean,width:Number}});ke.DxHeaderFilter=PM;PM.$_optionName="headerFilter";var Yb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:complete":null,"update:delay":null,"update:direction":null,"update:duration":null,"update:easing":null,"update:from":null,"update:staggerDelay":null,"update:start":null,"update:to":null,"update:type":null},props:{complete:Function,delay:Number,direction:String,duration:Number,easing:String,from:Object,staggerDelay:Number,start:Function,to:Object,type:String}});ke.DxHide=Yb;Yb.$_optionName="hide";Yb.$_expectedChildren={from:{isCollectionItem:!1,optionName:"from"},to:{isCollectionItem:!1,optionName:"to"}};var Zb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{cssClass:String,disabled:Boolean,html:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}});ke.DxItem=Zb;Zb.$_optionName="items";Zb.$_isCollectionItem=!0;var LM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:editOnKeyPress":null,"update:enabled":null,"update:enterKeyAction":null,"update:enterKeyDirection":null},props:{editOnKeyPress:Boolean,enabled:Boolean,enterKeyAction:String,enterKeyDirection:String}});ke.DxKeyboardNavigation=LM;LM.$_optionName="keyboardNavigation";var FM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:location":null,"update:showColon":null,"update:text":null,"update:visible":null},props:{alignment:String,location:String,showColon:Boolean,text:String,visible:Boolean}});ke.DxLabel=FM;FM.$_optionName="label";var NM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:height":null,"update:indicatorSrc":null,"update:shading":null,"update:shadingColor":null,"update:showIndicator":null,"update:showPane":null,"update:text":null,"update:width":null},props:{enabled:[Boolean,String],height:Number,indicatorSrc:String,shading:Boolean,shadingColor:String,showIndicator:Boolean,showPane:Boolean,text:String,width:Number}});ke.DxLoadPanel=NM;NM.$_optionName="loadPanel";var VM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowClearing":null,"update:calculateCellValue":null,"update:dataSource":null,"update:displayExpr":null,"update:valueExpr":null},props:{allowClearing:Boolean,calculateCellValue:Function,dataSource:{},displayExpr:[Function,String],valueExpr:String}});ke.DxLookup=VM;VM.$_optionName="lookup";var HM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:autoExpandAll":null,"update:enabled":null,"update:template":null},props:{autoExpandAll:Boolean,enabled:Boolean,template:{}}});ke.DxMasterDetail=HM;HM.$_optionName="masterDetail";var $M=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});ke.DxMy=$M;$M.$_optionName="my";var _p=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:type":null},props:{ignoreEmptyValue:Boolean,message:String,type:String}});ke.DxNumericRule=_p;_p.$_optionName="validationRules";_p.$_isCollectionItem=!0;_p.$_predefinedProps={type:"numeric"};var zM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}});ke.DxOffset=zM;zM.$_optionName="offset";var WM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:between":null,"update:contains":null,"update:endsWith":null,"update:equal":null,"update:greaterThan":null,"update:greaterThanOrEqual":null,"update:lessThan":null,"update:lessThanOrEqual":null,"update:notContains":null,"update:notEqual":null,"update:startsWith":null},props:{between:String,contains:String,endsWith:String,equal:String,greaterThan:String,greaterThanOrEqual:String,lessThan:String,lessThanOrEqual:String,notContains:String,notEqual:String,startsWith:String}});ke.DxOperationDescriptions=WM;WM.$_optionName="operationDescriptions";var jM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowedPageSizes":null,"update:displayMode":null,"update:infoText":null,"update:label":null,"update:showInfo":null,"update:showNavigationButtons":null,"update:showPageSizeSelector":null,"update:visible":null},props:{allowedPageSizes:[Array,String],displayMode:String,infoText:String,label:String,showInfo:Boolean,showNavigationButtons:Boolean,showPageSizeSelector:Boolean,visible:[Boolean,String]}});ke.DxPager=jM;jM.$_optionName="pager";var UM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:pageIndex":null,"update:pageSize":null},props:{enabled:Boolean,pageIndex:Number,pageSize:Number}});ke.DxPaging=UM;UM.$_optionName="paging";var bp=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:pattern":null,"update:type":null},props:{ignoreEmptyValue:Boolean,message:String,pattern:{},type:String}});ke.DxPatternRule=bp;bp.$_optionName="validationRules";bp.$_isCollectionItem=!0;bp.$_predefinedProps={type:"pattern"};var Jb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:animation":null,"update:bindingOptions":null,"update:closeOnOutsideClick":null,"update:container":null,"update:contentTemplate":null,"update:copyRootClassesToWrapper":null,"update:deferRendering":null,"update:disabled":null,"update:dragAndResizeArea":null,"update:dragEnabled":null,"update:dragOutsideBoundary":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:fullScreen":null,"update:height":null,"update:hideOnOutsideClick":null,"update:hideOnParentScroll":null,"update:hint":null,"update:hoverStateEnabled":null,"update:maxHeight":null,"update:maxWidth":null,"update:minHeight":null,"update:minWidth":null,"update:onContentReady":null,"update:onDisposing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onHidden":null,"update:onHiding":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResize":null,"update:onResizeEnd":null,"update:onResizeStart":null,"update:onShowing":null,"update:onShown":null,"update:onTitleRendered":null,"update:position":null,"update:resizeEnabled":null,"update:restorePosition":null,"update:rtlEnabled":null,"update:shading":null,"update:shadingColor":null,"update:showCloseButton":null,"update:showTitle":null,"update:tabIndex":null,"update:title":null,"update:titleTemplate":null,"update:toolbarItems":null,"update:visible":null,"update:width":null,"update:wrapperAttr":null},props:{accessKey:String,activeStateEnabled:Boolean,animation:Object,bindingOptions:Object,closeOnOutsideClick:[Boolean,Function],container:{},contentTemplate:{},copyRootClassesToWrapper:Boolean,deferRendering:Boolean,disabled:Boolean,dragAndResizeArea:{},dragEnabled:Boolean,dragOutsideBoundary:Boolean,elementAttr:{},focusStateEnabled:Boolean,fullScreen:Boolean,height:[Function,Number,String],hideOnOutsideClick:[Boolean,Function],hideOnParentScroll:Boolean,hint:String,hoverStateEnabled:Boolean,maxHeight:[Function,Number,String],maxWidth:[Function,Number,String],minHeight:[Function,Number,String],minWidth:[Function,Number,String],onContentReady:Function,onDisposing:Function,onFocusIn:Function,onFocusOut:Function,onHidden:Function,onHiding:Function,onInitialized:Function,onOptionChanged:Function,onResize:Function,onResizeEnd:Function,onResizeStart:Function,onShowing:Function,onShown:Function,onTitleRendered:Function,position:[Function,Object,String],resizeEnabled:Boolean,restorePosition:Boolean,rtlEnabled:Boolean,shading:Boolean,shadingColor:String,showCloseButton:Boolean,showTitle:Boolean,tabIndex:Number,title:String,titleTemplate:{},toolbarItems:Array,visible:Boolean,width:[Function,Number,String],wrapperAttr:{}}});ke.DxPopup=Jb;Jb.$_optionName="popup";Jb.$_expectedChildren={animation:{isCollectionItem:!1,optionName:"animation"},position:{isCollectionItem:!1,optionName:"position"},toolbarItem:{isCollectionItem:!0,optionName:"toolbarItems"}};var GM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:at":null,"update:boundary":null,"update:boundaryOffset":null,"update:collision":null,"update:my":null,"update:of":null,"update:offset":null},props:{at:[Object,String],boundary:{},boundaryOffset:[Object,String],collision:[Object,String],my:[Object,String],of:{},offset:[Object,String]}});ke.DxPosition=GM;GM.$_optionName="position";var yp=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:max":null,"update:message":null,"update:min":null,"update:reevaluate":null,"update:type":null},props:{ignoreEmptyValue:Boolean,max:{},message:String,min:{},reevaluate:Boolean,type:String}});ke.DxRangeRule=yp;yp.$_optionName="validationRules";yp.$_isCollectionItem=!0;yp.$_predefinedProps={type:"range"};var KM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:filtering":null,"update:grouping":null,"update:groupPaging":null,"update:paging":null,"update:sorting":null,"update:summary":null},props:{filtering:Boolean,grouping:Boolean,groupPaging:Boolean,paging:Boolean,sorting:Boolean,summary:Boolean}});ke.DxRemoteOperations=KM;KM.$_optionName="remoteOperations";var Cp=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:message":null,"update:trim":null,"update:type":null},props:{message:String,trim:Boolean,type:String}});ke.DxRequiredRule=Cp;Cp.$_optionName="validationRules";Cp.$_isCollectionItem=!0;Cp.$_predefinedProps={type:"required"};var Qb=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDropInsideItem":null,"update:allowReordering":null,"update:autoScroll":null,"update:boundary":null,"update:container":null,"update:cursorOffset":null,"update:data":null,"update:dragDirection":null,"update:dragTemplate":null,"update:dropFeedbackMode":null,"update:filter":null,"update:group":null,"update:handle":null,"update:onAdd":null,"update:onDragChange":null,"update:onDragEnd":null,"update:onDragMove":null,"update:onDragStart":null,"update:onRemove":null,"update:onReorder":null,"update:scrollSensitivity":null,"update:scrollSpeed":null,"update:showDragIcons":null},props:{allowDropInsideItem:Boolean,allowReordering:Boolean,autoScroll:Boolean,boundary:{},container:{},cursorOffset:[Object,String],data:{},dragDirection:String,dragTemplate:{},dropFeedbackMode:String,filter:String,group:String,handle:String,onAdd:Function,onDragChange:Function,onDragEnd:Function,onDragMove:Function,onDragStart:Function,onRemove:Function,onReorder:Function,scrollSensitivity:Number,scrollSpeed:Number,showDragIcons:Boolean}});ke.DxRowDragging=Qb;Qb.$_optionName="rowDragging";Qb.$_expectedChildren={cursorOffset:{isCollectionItem:!1,optionName:"cursorOffset"}};var qM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:columnRenderingMode":null,"update:mode":null,"update:preloadEnabled":null,"update:renderAsync":null,"update:rowRenderingMode":null,"update:scrollByContent":null,"update:scrollByThumb":null,"update:showScrollbar":null,"update:useNative":null},props:{columnRenderingMode:String,mode:String,preloadEnabled:Boolean,renderAsync:Boolean,rowRenderingMode:String,scrollByContent:Boolean,scrollByThumb:Boolean,showScrollbar:String,useNative:[Boolean,String]}});ke.DxScrolling=qM;qM.$_optionName="scrolling";var XM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:highlightCaseSensitive":null,"update:highlightSearchText":null,"update:placeholder":null,"update:searchVisibleColumnsOnly":null,"update:text":null,"update:visible":null,"update:width":null},props:{highlightCaseSensitive:Boolean,highlightSearchText:Boolean,placeholder:String,searchVisibleColumnsOnly:Boolean,text:String,visible:Boolean,width:Number}});ke.DxSearchPanel=XM;XM.$_optionName="searchPanel";var YM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSelectAll":null,"update:deferred":null,"update:maxFilterLengthInRequest":null,"update:mode":null,"update:selectAllMode":null,"update:showCheckBoxesMode":null},props:{allowSelectAll:Boolean,deferred:Boolean,maxFilterLengthInRequest:Number,mode:String,selectAllMode:String,showCheckBoxesMode:String}});ke.DxSelection=YM;YM.$_optionName="selection";var ZM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:complete":null,"update:delay":null,"update:direction":null,"update:duration":null,"update:easing":null,"update:from":null,"update:staggerDelay":null,"update:start":null,"update:to":null,"update:type":null},props:{complete:Function,delay:Number,direction:String,duration:Number,easing:String,from:Object,staggerDelay:Number,start:Function,to:Object,type:String}});ke.DxShow=ZM;ZM.$_optionName="show";var ey=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:groupColumn":null,"update:sortOrder":null,"update:summaryItem":null},props:{groupColumn:String,sortOrder:String,summaryItem:[Number,String]}});ke.DxSortByGroupSummaryInfo=ey;ey.$_optionName="sortByGroupSummaryInfo";ey.$_isCollectionItem=!0;var JM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ascendingText":null,"update:clearText":null,"update:descendingText":null,"update:mode":null,"update:showSortIndexes":null},props:{ascendingText:String,clearText:String,descendingText:String,mode:String,showSortIndexes:Boolean}});ke.DxSorting=JM;JM.$_optionName="sorting";var QM=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:customLoad":null,"update:customSave":null,"update:enabled":null,"update:savingTimeout":null,"update:storageKey":null,"update:type":null},props:{customLoad:Function,customSave:Function,enabled:Boolean,savingTimeout:Number,storageKey:String,type:String}});ke.DxStateStoring=QM;QM.$_optionName="stateStoring";var xp=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:max":null,"update:message":null,"update:min":null,"update:trim":null,"update:type":null},props:{ignoreEmptyValue:Boolean,max:Number,message:String,min:Number,trim:Boolean,type:String}});ke.DxStringLengthRule=xp;xp.$_optionName="validationRules";xp.$_isCollectionItem=!0;xp.$_predefinedProps={type:"stringLength"};var ty=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:calculateCustomSummary":null,"update:groupItems":null,"update:recalculateWhileEditing":null,"update:skipEmptyValues":null,"update:texts":null,"update:totalItems":null},props:{calculateCustomSummary:Function,groupItems:Array,recalculateWhileEditing:Boolean,skipEmptyValues:Boolean,texts:Object,totalItems:Array}});ke.DxSummary=ty;ty.$_optionName="summary";ty.$_expectedChildren={groupItem:{isCollectionItem:!0,optionName:"groupItems"},summaryTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"},totalItem:{isCollectionItem:!0,optionName:"totalItems"}};var e4=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:avg":null,"update:avgOtherColumn":null,"update:count":null,"update:max":null,"update:maxOtherColumn":null,"update:min":null,"update:minOtherColumn":null,"update:sum":null,"update:sumOtherColumn":null},props:{avg:String,avgOtherColumn:String,count:String,max:String,maxOtherColumn:String,min:String,minOtherColumn:String,sum:String,sumOtherColumn:String}});ke.DxSummaryTexts=e4;e4.$_optionName="texts";var t4=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:addRow":null,"update:avg":null,"update:avgOtherColumn":null,"update:cancel":null,"update:cancelAllChanges":null,"update:cancelRowChanges":null,"update:clearFilter":null,"update:confirmDeleteMessage":null,"update:confirmDeleteTitle":null,"update:count":null,"update:createFilter":null,"update:deleteRow":null,"update:editRow":null,"update:emptyValue":null,"update:exportAll":null,"update:exportSelectedRows":null,"update:exportTo":null,"update:filterEnabledHint":null,"update:fix":null,"update:groupByThisColumn":null,"update:groupContinuedMessage":null,"update:groupContinuesMessage":null,"update:leftPosition":null,"update:max":null,"update:maxOtherColumn":null,"update:min":null,"update:minOtherColumn":null,"update:ok":null,"update:rightPosition":null,"update:saveAllChanges":null,"update:saveRowChanges":null,"update:sum":null,"update:sumOtherColumn":null,"update:undeleteRow":null,"update:unfix":null,"update:ungroup":null,"update:ungroupAll":null,"update:validationCancelChanges":null},props:{addRow:String,avg:String,avgOtherColumn:String,cancel:String,cancelAllChanges:String,cancelRowChanges:String,clearFilter:String,confirmDeleteMessage:String,confirmDeleteTitle:String,count:String,createFilter:String,deleteRow:String,editRow:String,emptyValue:String,exportAll:String,exportSelectedRows:String,exportTo:String,filterEnabledHint:String,fix:String,groupByThisColumn:String,groupContinuedMessage:String,groupContinuesMessage:String,leftPosition:String,max:String,maxOtherColumn:String,min:String,minOtherColumn:String,ok:String,rightPosition:String,saveAllChanges:String,saveRowChanges:String,sum:String,sumOtherColumn:String,undeleteRow:String,unfix:String,ungroup:String,ungroupAll:String,validationCancelChanges:String}});ke.DxTexts=t4;t4.$_optionName="texts";var i4=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:left":null,"update:opacity":null,"update:position":null,"update:scale":null,"update:top":null},props:{left:Number,opacity:Number,position:Object,scale:Number,top:Number}});ke.DxTo=i4;i4.$_optionName="to";var iy=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:disabled":null,"update:items":null,"update:visible":null},props:{disabled:Boolean,items:Array,visible:Boolean}});ke.DxToolbar=iy;iy.$_optionName="toolbar";iy.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"}};var ry=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:disabled":null,"update:html":null,"update:location":null,"update:options":null,"update:template":null,"update:text":null,"update:toolbar":null,"update:visible":null,"update:widget":null},props:{disabled:Boolean,html:String,location:String,options:{},template:{},text:String,toolbar:String,visible:Boolean,widget:String}});ke.DxToolbarItem=ry;ry.$_optionName="toolbarItems";ry.$_isCollectionItem=!0;var wp=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:column":null,"update:cssClass":null,"update:customizeText":null,"update:displayFormat":null,"update:name":null,"update:showInColumn":null,"update:skipEmptyValues":null,"update:summaryType":null,"update:valueFormat":null},props:{alignment:String,column:String,cssClass:String,customizeText:Function,displayFormat:String,name:String,showInColumn:String,skipEmptyValues:Boolean,summaryType:String,valueFormat:[Object,Function,String]}});ke.DxTotalItem=wp;wp.$_optionName="totalItems";wp.$_isCollectionItem=!0;wp.$_expectedChildren={valueFormat:{isCollectionItem:!1,optionName:"valueFormat"}};var Sp=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:comparisonTarget":null,"update:comparisonType":null,"update:ignoreEmptyValue":null,"update:max":null,"update:message":null,"update:min":null,"update:pattern":null,"update:reevaluate":null,"update:trim":null,"update:type":null,"update:validationCallback":null},props:{comparisonTarget:Function,comparisonType:String,ignoreEmptyValue:Boolean,max:{},message:String,min:{},pattern:{},reevaluate:Boolean,trim:Boolean,type:String,validationCallback:Function}});ke.DxValidationRule=Sp;Sp.$_optionName="validationRules";Sp.$_isCollectionItem=!0;Sp.$_predefinedProps={type:"required"};var r4=tt.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null,"update:useCurrencyAccountingStyle":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String,useCurrencyAccountingStyle:Boolean}});ke.DxValueFormat=r4;r4.$_optionName="valueFormat";ke.default=cM;const Cue={class:"absolute inset-0 p-8 z-50 bg-black/45 backdrop-blur-sm flex justify-center items-center"},xue={class:"bg-white rounded shadow-md min-w-[992px] max-w-[992px] max-h-[650px] flex flex-col overflow-hidden"},wue={class:"flex justify-between items-center mb-0 px-2 bg-slate-900 text-white"},Sue=Ge("div",null,null,-1),Eue=Ge("i",{class:"fa-regular fa-xmark"},null,-1),Tue=[Eue],Iue={class:"flex w-full flex-grow flex-wrap content-start overflow-y-auto p-3"},Aue={class:"flex"},Oue={class:"flex flex-col mr-5"},Due={class:"flex flex-col mr-5"},kue=Zr({__name:"OffendersReportModal",props:["wialon"],setup(e){const t=e,i=Dr(Pu().format("YYYY-MM-DD HH:ss")),r=Dr(Pu().add(-1,"days").format("YYYY-MM-DD HH:ss")),n=Dr();async function a(){n.value=await t.wialon.offerdersReport(7381,r.value,i.value)}return td(()=>{a()}),(s,o)=>(gi(),Li("section",Cue,[Ge("main",xue,[Ge("header",wue,[Sue,Ge("div",null,[Ge("button",{onClick:o[0]||(o[0]=l=>s.$emit("close")),class:"w-10 h-10 flex justify-center items-center active:bg-white/15 hover:bg-white/25"},Tue)])]),Ge("div",Iue,[Ge("aside",Aue,[Ge("main",Oue,[As(Ge("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>r.value=l),type:"datetime-local",class:"h-8"},null,512),[[Ec,r.value]])]),Ge("main",Due,[As(Ge("input",{"onUpdate:modelValue":o[2]||(o[2]=l=>i.value=l),type:"datetime-local",class:"h-8"},null,512),[[Ec,i.value]])]),Ge("button",{onClick:a,class:"px-4 h-8 bg-slate-900 text-white rounded shadow-md"}," Yangilash ")]),Ge("main",null,[Di(ji(fM),{"data-source":n.value,onExporting:ji(t9)},{default:el(()=>[Di(ji(EM),{enabled:!0,"allow-export-selected-data":!0}),Di(ji(vu),{"data-field":"transport",caption:"Transport nomi"}),Di(ji(vu),{"data-field":"qoida",caption:"Qoida buzilgan vaqt"}),Di(ji(vu),{"data-field":"batafsil",caption:"Batafsil malumot"}),Di(ji(vu),{"data-field":"manzil"})]),_:1},8,["data-source","onExporting"])])])])]))}});Pu.locale("uz",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentyabr_Oktyabr_Noyabr_Dekabr".split("_"),monthsShort:"yan_fev_mart_apr_may_iyun_iyul_avg_sent_okt_noy_dek".split("_"),relativeTime:{future:"%s keyin",past:"%s oldin",s:"1 sekund",m:"1 minut",mm:"%d minut",h:"1 soat",hh:"%d soat",d:"1 kun",dd:"%d kun",M:"1 Oy",MM:"%d Oy"}});function _f(e){const t=new Date;return t.setDate(t.getDate()-e),t}function bf(e,t=null){const i=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),a=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0");return t=="start"?`${i}-${r}-${n} 09:00`:t=="end"?`${i}-${r}-${n} 08:59`:`${i}-${r}-${n} ${a}:${s}`}function n4(e){const t=Rue(e,12),i=[];return t.forEach((r,n)=>{if(n%2==0){const a=r[0].hour.split(" ")[0];i.push({date:a,day_speed:BT(r,0),night_speed:BT(t[n+1],0)})}}),i}function BT(e,t){return+((e[t].average_speed+e[t+1].average_speed+e[t+2].average_speed+e[t+3].average_speed+e[t+4].average_speed+e[t+5].average_speed+e[t+6].average_speed+e[t+7].average_speed+e[t+8].average_speed+e[t+9].average_speed+e[t+10].average_speed+e[t+11].average_speed)/12).toFixed(3)}function Rue(e,t){const i=[];for(let r=0;r<e.length;r+=t)i.push(e.slice(r,r+t));return i}var a4={exports:{}};(function(e){(function(t,i){e.exports?(i.default=i,e.exports=t&&t.document?i(t):i):(t.Highcharts&&t.Highcharts.error(16,!0),t.Highcharts=i(t))})(typeof window<"u"?window:He,function(t){var i={};function r(n,a,s,o){n.hasOwnProperty(a)||(n[a]=o.apply(null,s),typeof CustomEvent=="function"&&t.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:a,module:n[a]}})))}return r(i,"Core/Globals.js",[],function(){var n,a;return(a=n||(n={})).SVG_NS="http://www.w3.org/2000/svg",a.product="Highcharts",a.version="11.3.0",a.win=t!==void 0?t:{},a.doc=a.win.document,a.svg=a.doc&&a.doc.createElementNS&&!!a.doc.createElementNS(a.SVG_NS,"svg").createSVGRect,a.userAgent=a.win.navigator&&a.win.navigator.userAgent||"",a.isChrome=a.userAgent.indexOf("Chrome")!==-1,a.isFirefox=a.userAgent.indexOf("Firefox")!==-1,a.isMS=/(edge|msie|trident)/i.test(a.userAgent)&&!a.win.opera,a.isSafari=!a.isChrome&&a.userAgent.indexOf("Safari")!==-1,a.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(a.userAgent),a.isWebKit=a.userAgent.indexOf("AppleWebKit")!==-1,a.deg2rad=2*Math.PI/360,a.hasBidiBug=a.isFirefox&&4>parseInt(a.userAgent.split("Firefox/")[1],10),a.hasTouch=!!a.win.TouchEvent,a.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],a.noop=function(){},a.supportsPassiveEvents=function(){let s=!1;if(!a.isMS){let o=Object.defineProperty({},"passive",{get:function(){s=!0}});a.win.addEventListener&&a.win.removeEventListener&&(a.win.addEventListener("testPassive",a.noop,o),a.win.removeEventListener("testPassive",a.noop,o))}return s}(),a.charts=[],a.composed=[],a.dateFormats={},a.seriesTypes={},a.symbolSizes={},a.chartCount=0,n}),r(i,"Core/Utilities.js",[i["Core/Globals.js"]],function(n){let a,{charts:s,doc:o,win:l}=n;function u(x,C,y,S){let w=C?"Highcharts error":"Highcharts warning";x===32&&(x=`${w}: Deprecated member`);let k=m(x),M=k?`${w} #${x}: www.highcharts.com/errors/${x}/`:x.toString();if(S!==void 0){let O="";k&&(M+="?"),W(S,function(F,z){O+=`
 - ${z}: ${F}`,k&&(M+=encodeURI(z)+"="+encodeURI(F))}),M+=O}P(n,"displayError",{chart:y,code:x,message:M,params:S},function(){if(C)throw Error(M);l.console&&u.messages.indexOf(M)===-1&&console.warn(M)}),u.messages.push(M)}function d(x,C){return parseInt(x,C||10)}function c(x){return typeof x=="string"}function h(x){let C=Object.prototype.toString.call(x);return C==="[object Array]"||C==="[object Array Iterator]"}function f(x,C){return!!x&&typeof x=="object"&&(!C||!h(x))}function p(x){return f(x)&&typeof x.nodeType=="number"}function g(x){let C=x&&x.constructor;return!!(f(x,!0)&&!p(x)&&C&&C.name&&C.name!=="Object")}function m(x){return typeof x=="number"&&!isNaN(x)&&x<1/0&&x>-1/0}function v(x){return x!=null}function b(x,C,y){let S,w=c(C)&&!v(y),k=(M,O)=>{v(M)?x.setAttribute(O,M):w?(S=x.getAttribute(O))||O!=="class"||(S=x.getAttribute(O+"Name")):x.removeAttribute(O)};return c(C)?k(y,C):W(C,k),S}function E(x){return h(x)?x:[x]}function I(x,C){let y;for(y in x||(x={}),C)x[y]=C[y];return x}function R(){let x=arguments,C=x.length;for(let y=0;y<C;y++){let S=x[y];if(S!=null)return S}}function N(x,C){n.isMS&&!n.svg&&C&&v(C.opacity)&&(C.filter=`alpha(opacity=${100*C.opacity})`),I(x.style,C)}function j(x){return Math.pow(10,Math.floor(Math.log(x)/Math.LN10))}function V(x,C){return x>1e14?x:parseFloat(x.toPrecision(C||14))}(u||(u={})).messages=[],Math.easeInOutSine=function(x){return-.5*(Math.cos(Math.PI*x)-1)};let H=Array.prototype.find?function(x,C){return x.find(C)}:function(x,C){let y,S=x.length;for(y=0;y<S;y++)if(C(x[y],y))return x[y]};function W(x,C,y){for(let S in x)Object.hasOwnProperty.call(x,S)&&C.call(y||x[S],x[S],S,x)}function G(x,C,y){function S(M,O){let F=x.removeEventListener;F&&F.call(x,M,O,!1)}function w(M){let O,F;x.nodeName&&(C?(O={})[C]=!0:O=M,W(O,function(z,X){if(M[X])for(F=M[X].length;F--;)S(X,M[X][F].fn)}))}let k=typeof x=="function"&&x.prototype||x;if(Object.hasOwnProperty.call(k,"hcEvents")){let M=k.hcEvents;if(C){let O=M[C]||[];y?(M[C]=O.filter(function(F){return y!==F.fn}),S(C,y)):(w(M),M[C]=[])}else w(M),delete k.hcEvents}}function P(x,C,y,S){let w;if(y=y||{},o.createEvent&&(x.dispatchEvent||x.fireEvent&&x!==n))(w=o.createEvent("Events")).initEvent(C,!0,!0),y=I(w,y),x.dispatchEvent?x.dispatchEvent(y):x.fireEvent(C,y);else if(x.hcEvents){y.target||I(y,{preventDefault:function(){y.defaultPrevented=!0},target:x,type:C});let k=[],M=x,O=!1;for(;M.hcEvents;)Object.hasOwnProperty.call(M,"hcEvents")&&M.hcEvents[C]&&(k.length&&(O=!0),k.unshift.apply(k,M.hcEvents[C])),M=Object.getPrototypeOf(M);O&&k.sort((F,z)=>F.order-z.order),k.forEach(F=>{F.fn.call(x,y)===!1&&y.preventDefault()})}S&&!y.defaultPrevented&&S.call(x,y)}W({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(x,C){n[C]=function(y){return u(32,!1,void 0,{[`Highcharts.${C}`]:`use Array.${x}`}),Array.prototype[x].apply(y,[].slice.call(arguments,1))}});let A=function(){let x=Math.random().toString(36).substring(2,9)+"-",C=0;return function(){return"highcharts-"+(a?"":x)+C++}}();return l.jQuery&&(l.jQuery.fn.highcharts=function(){let x=[].slice.call(arguments);if(this[0])return x[0]?(new n[c(x[0])?x.shift():"Chart"](this[0],x[0],x[1]),this):s[b(this[0],"data-highcharts-chart")]}),{addEvent:function(x,C,y,S={}){let w=typeof x=="function"&&x.prototype||x;Object.hasOwnProperty.call(w,"hcEvents")||(w.hcEvents={});let k=w.hcEvents;n.Point&&x instanceof n.Point&&x.series&&x.series.chart&&(x.series.chart.runTrackerClick=!0);let M=x.addEventListener;M&&M.call(x,C,y,!!n.supportsPassiveEvents&&{passive:S.passive===void 0?C.indexOf("touch")!==-1:S.passive,capture:!1}),k[C]||(k[C]=[]);let O={fn:y,order:typeof S.order=="number"?S.order:1/0};return k[C].push(O),k[C].sort((F,z)=>F.order-z.order),function(){G(x,C,y)}},arrayMax:function(x){let C=x.length,y=x[0];for(;C--;)x[C]>y&&(y=x[C]);return y},arrayMin:function(x){let C=x.length,y=x[0];for(;C--;)x[C]<y&&(y=x[C]);return y},attr:b,clamp:function(x,C,y){return x>C?x<y?x:y:C},clearTimeout:function(x){v(x)&&clearTimeout(x)},correctFloat:V,createElement:function(x,C,y,S,w){let k=o.createElement(x);return C&&I(k,C),w&&N(k,{padding:"0",border:"none",margin:"0"}),y&&N(k,y),S&&S.appendChild(k),k},css:N,defined:v,destroyObjectProperties:function(x,C){W(x,function(y,S){y&&y!==C&&y.destroy&&y.destroy(),delete x[S]})},diffObjects:function(x,C,y,S){let w={};return function k(M,O,F,z){let X=y?O:M;W(M,function(L,K){if(!z&&S&&S.indexOf(K)>-1&&O[K]){L=E(L),F[K]=[];for(let D=0;D<Math.max(L.length,O[K].length);D++)O[K][D]&&(L[D]===void 0?F[K][D]=O[K][D]:(F[K][D]={},k(L[D],O[K][D],F[K][D],z+1)))}else f(L,!0)&&!L.nodeType?(F[K]=h(L)?[]:{},k(L,O[K]||{},F[K],z+1),Object.keys(F[K]).length!==0||K==="colorAxis"&&z===0||delete F[K]):(M[K]!==O[K]||K in M&&!(K in O))&&(F[K]=X[K])})}(x,C,w,0),w},discardElement:function(x){x&&x.parentElement&&x.parentElement.removeChild(x)},erase:function(x,C){let y=x.length;for(;y--;)if(x[y]===C){x.splice(y,1);break}},error:u,extend:I,extendClass:function(x,C){let y=function(){};return y.prototype=new x,I(y.prototype,C),y},find:H,fireEvent:P,getClosestDistance:function(x,C){let y,S,w,k=!C;return x.forEach(M=>{if(M.length>1)for(w=M.length-1;w>0;w--)(S=M[w]-M[w-1])<0&&!k?(C==null||C(),C=void 0):S&&(y===void 0||S<y)&&(y=S)}),y},getMagnitude:j,getNestedProperty:function(x,C){let y=x.split(".");for(;y.length&&v(C);){let S=y.shift();if(S===void 0||S==="__proto__")return;if(S==="this"){let k;return f(C)&&(k=C["@this"]),k??C}let w=C[S];if(!v(w)||typeof w=="function"||typeof w.nodeType=="number"||w===l)return;C=w}return C},getStyle:function x(C,y,S){let w;if(y==="width"){let M=Math.min(C.offsetWidth,C.scrollWidth),O=C.getBoundingClientRect&&C.getBoundingClientRect().width;return O<M&&O>=M-1&&(M=Math.floor(O)),Math.max(0,M-(x(C,"padding-left",!0)||0)-(x(C,"padding-right",!0)||0))}if(y==="height")return Math.max(0,Math.min(C.offsetHeight,C.scrollHeight)-(x(C,"padding-top",!0)||0)-(x(C,"padding-bottom",!0)||0));let k=l.getComputedStyle(C,void 0);return k&&(w=k.getPropertyValue(y),R(S,y!=="opacity")&&(w=d(w))),w},inArray:function(x,C,y){return u(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),C.indexOf(x,y)},insertItem:function(x,C){let y,S=x.options.index,w=C.length;for(y=x.options.isInternal?w:0;y<w+1;y++)if(!C[y]||m(S)&&S<R(C[y].options.index,C[y]._i)||C[y].options.isInternal){C.splice(y,0,x);break}return y},isArray:h,isClass:g,isDOMElement:p,isFunction:function(x){return typeof x=="function"},isNumber:m,isObject:f,isString:c,keys:function(x){return u(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(x)},merge:function(){let x,C=arguments,y={},S=function(k,M){return typeof k!="object"&&(k={}),W(M,function(O,F){F!=="__proto__"&&F!=="constructor"&&(!f(O,!0)||g(O)||p(O)?k[F]=M[F]:k[F]=S(k[F]||{},O))}),k};C[0]===!0&&(y=C[1],C=Array.prototype.slice.call(C,2));let w=C.length;for(x=0;x<w;x++)y=S(y,C[x]);return y},normalizeTickInterval:function(x,C,y,S,w){let k,M=x;y=R(y,j(x));let O=x/y;for(!C&&(C=w?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],S===!1&&(y===1?C=C.filter(function(F){return F%1==0}):y<=.1&&(C=[1/y]))),k=0;k<C.length&&(M=C[k],(!w||!(M*y>=x))&&(w||!(O<=(C[k]+(C[k+1]||C[k]))/2)));k++);return V(M*y,-Math.round(Math.log(.001)/Math.LN10))},objectEach:W,offset:function(x){let C=o.documentElement,y=x.parentElement||x.parentNode?x.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:y.top+(l.pageYOffset||C.scrollTop)-(C.clientTop||0),left:y.left+(l.pageXOffset||C.scrollLeft)-(C.clientLeft||0),width:y.width,height:y.height}},pad:function(x,C,y){return Array((C||2)+1-String(x).replace("-","").length).join(y||"0")+x},pick:R,pInt:d,pushUnique:function(x,C){return 0>x.indexOf(C)&&!!x.push(C)},relativeLength:function(x,C,y){return/%$/.test(x)?C*parseFloat(x)/100+(y||0):parseFloat(x)},removeEvent:G,splat:E,stableSort:function(x,C){let y,S,w=x.length;for(S=0;S<w;S++)x[S].safeI=S;for(x.sort(function(k,M){return(y=C(k,M))===0?k.safeI-M.safeI:y}),S=0;S<w;S++)delete x[S].safeI},syncTimeout:function(x,C,y){return C>0?setTimeout(x,C,y):(x.call(0,y),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:A,useSerialIds:function(x){return a=R(x,a)},wrap:function(x,C,y){let S=x[C];x[C]=function(){let w=arguments,k=this;return y.apply(this,[function(){return S.apply(k,arguments.length?arguments:w)}].concat([].slice.call(arguments)))}}}}),r(i,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),r(i,"Core/Color/Palettes.js",[],function(){return{colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]}}),r(i,"Core/Time.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(n,a){let{win:s}=n,{defined:o,error:l,extend:u,isNumber:d,isObject:c,merge:h,objectEach:f,pad:p,pick:g,splat:m,timeUnits:v}=a,b=n.isSafari&&s.Intl&&s.Intl.DateTimeFormat.prototype.formatRange,E=n.isSafari&&s.Intl&&!s.Intl.DateTimeFormat.prototype.formatRange;return class{constructor(I){this.options={},this.useUTC=!1,this.variableTimezone=!1,this.Date=s.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(I)}get(I,R){if(this.variableTimezone||this.timezoneOffset){let N=R.getTime(),j=N-this.getTimezoneOffset(R);R.setTime(j);let V=R["getUTC"+I]();return R.setTime(N),V}return this.useUTC?R["getUTC"+I]():R["get"+I]()}set(I,R,N){if(this.variableTimezone||this.timezoneOffset){if(I==="Milliseconds"||I==="Seconds"||I==="Minutes"&&this.getTimezoneOffset(R)%36e5==0)return R["setUTC"+I](N);let j=this.getTimezoneOffset(R),V=R.getTime()-j;R.setTime(V),R["setUTC"+I](N);let H=this.getTimezoneOffset(R);return V=R.getTime()+H,R.setTime(V)}return this.useUTC||b&&I==="FullYear"?R["setUTC"+I](N):R["set"+I](N)}update(I={}){let R=g(I.useUTC,!0);this.options=I=h(!0,this.options,I),this.Date=I.Date||s.Date||Date,this.useUTC=R,this.timezoneOffset=R&&I.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=R&&!!(I.getTimezoneOffset||I.timezone)}makeTime(I,R,N,j,V,H){let W,G,P;return this.useUTC?(W=this.Date.UTC.apply(0,arguments),G=this.getTimezoneOffset(W),W+=G,G!==(P=this.getTimezoneOffset(W))?W+=P-G:G-36e5!==this.getTimezoneOffset(W-36e5)||E||(W-=36e5)):W=new this.Date(I,R,g(N,1),g(j,0),g(V,0),g(H,0)).getTime(),W}timezoneOffsetFunction(){let I=this,R=this.options,N=R.getTimezoneOffset;return this.useUTC?R.timezone?j=>{try{let[V,H,W,G,P=0]=Intl.DateTimeFormat("en",{timeZone:R.timezone,timeZoneName:"shortOffset"}).format(j).split(/(GMT|:)/).map(Number),A=-(36e5*(W+P/60));if(d(A))return A}catch{l(34)}return 0}:this.useUTC&&N?j=>6e4*N(j.valueOf()):()=>6e4*(I.timezoneOffset||0):j=>6e4*new Date(j.toString()).getTimezoneOffset()}dateFormat(I,R,N){if(!o(R)||isNaN(R))return n.defaultOptions.lang&&n.defaultOptions.lang.invalidDate||"";I=g(I,"%Y-%m-%d %H:%M:%S");let j=this,V=new this.Date(R),H=this.get("Hours",V),W=this.get("Day",V),G=this.get("Date",V),P=this.get("Month",V),A=this.get("FullYear",V),T=n.defaultOptions.lang,x=T&&T.weekdays,C=T&&T.shortWeekdays,y=u({a:C?C[W]:x[W].substr(0,3),A:x[W],d:p(G),e:p(G,2," "),w:W,b:T.shortMonths[P],B:T.months[P],m:p(P+1),o:P+1,y:A.toString().substr(2,2),Y:A,H:p(H),k:H,I:p(H%12||12),l:H%12||12,M:p(this.get("Minutes",V)),p:H<12?"AM":"PM",P:H<12?"am":"pm",S:p(this.get("Seconds",V)),L:p(Math.floor(R%1e3),3)},n.dateFormats);return f(y,function(S,w){for(;I.indexOf("%"+w)!==-1;)I=I.replace("%"+w,typeof S=="function"?S.call(j,R):S)}),N?I.substr(0,1).toUpperCase()+I.substr(1):I}resolveDTLFormat(I){return c(I,!0)?I:{main:(I=m(I))[0],from:I[1],to:I[2]}}getTimeTicks(I,R,N,j){let V,H,W,G,P=this,A=P.Date,T=[],x={},C=new A(R),y=I.unitRange,S=I.count||1;if(j=g(j,1),o(R)){P.set("Milliseconds",C,y>=v.second?0:S*Math.floor(P.get("Milliseconds",C)/S)),y>=v.second&&P.set("Seconds",C,y>=v.minute?0:S*Math.floor(P.get("Seconds",C)/S)),y>=v.minute&&P.set("Minutes",C,y>=v.hour?0:S*Math.floor(P.get("Minutes",C)/S)),y>=v.hour&&P.set("Hours",C,y>=v.day?0:S*Math.floor(P.get("Hours",C)/S)),y>=v.day&&P.set("Date",C,y>=v.month?1:Math.max(1,S*Math.floor(P.get("Date",C)/S))),y>=v.month&&(P.set("Month",C,y>=v.year?0:S*Math.floor(P.get("Month",C)/S)),H=P.get("FullYear",C)),y>=v.year&&(H-=H%S,P.set("FullYear",C,H)),y===v.week&&(G=P.get("Day",C),P.set("Date",C,P.get("Date",C)-G+j+(G<j?-7:0))),H=P.get("FullYear",C);let w=P.get("Month",C),k=P.get("Date",C),M=P.get("Hours",C);R=C.getTime(),(P.variableTimezone||!P.useUTC)&&o(N)&&(W=N-R>4*v.month||P.getTimezoneOffset(R)!==P.getTimezoneOffset(N));let O=C.getTime();for(V=1;O<N;)T.push(O),y===v.year?O=P.makeTime(H+V*S,0):y===v.month?O=P.makeTime(H,w+V*S):W&&(y===v.day||y===v.week)?O=P.makeTime(H,w,k+V*S*(y===v.day?1:7)):W&&y===v.hour&&S>1?O=P.makeTime(H,w,k,M+V*S):O+=y*S,V++;T.push(O),y<=v.hour&&T.length<1e4&&T.forEach(function(F){F%18e5==0&&P.dateFormat("%H%M%S%L",F)==="000000000"&&(x[F]="day")})}return T.info=u(I,{higherRanks:x,totalRange:y*S}),T}getDateFormat(I,R,N,j){let V=this.dateFormat("%m-%d %H:%M:%S.%L",R),H="01-01 00:00:00.000",W={millisecond:15,second:12,minute:9,hour:6,day:3},G="millisecond",P=G;for(G in v){if(I===v.week&&+this.dateFormat("%w",R)===N&&V.substr(6)===H.substr(6)){G="week";break}if(v[G]>I){G=P;break}if(W[G]&&V.substr(W[G])!==H.substr(W[G]))break;G!=="week"&&(P=G)}return this.resolveDTLFormat(j[G]).main}}}),r(i,"Core/Defaults.js",[i["Core/Chart/ChartDefaults.js"],i["Core/Globals.js"],i["Core/Color/Palettes.js"],i["Core/Time.js"],i["Core/Utilities.js"]],function(n,a,s,o,l){let{isTouchDevice:u,svg:d}=a,{merge:c}=l,h={colors:s.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:n,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:"",align:"center",widthAdjust:-44},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:d,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:u?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};h.chart.styledMode=!1;let f=new o(h.time);return{defaultOptions:h,defaultTime:f,getOptions:function(){return h},setOptions:function(p){return c(!0,h,p),(p.time||p.global)&&(a.time?a.time.update(c(h.global,h.time,p.global,p.time)):a.time=f),h}}}),r(i,"Core/Color/Color.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(n,a){let{isNumber:s,merge:o,pInt:l}=a;class u{static parse(c){return c?new u(c):u.None}constructor(c){let h,f,p,g;this.rgba=[NaN,NaN,NaN,NaN],this.input=c;let m=n.Color;if(m&&m!==u)return new m(c);if(typeof c=="object"&&c.stops!==void 0)this.stops=c.stops.map(v=>new u(v[1]));else if(typeof c=="string"){if(this.input=c=u.names[c.toLowerCase()]||c,c.charAt(0)==="#"){let v=c.length,b=parseInt(c.substr(1),16);v===7?f=[(16711680&b)>>16,(65280&b)>>8,255&b,1]:v===4&&(f=[(3840&b)>>4|(3840&b)>>8,(240&b)>>4|240&b,(15&b)<<4|15&b,1])}if(!f)for(p=u.parsers.length;p--&&!f;)(h=(g=u.parsers[p]).regex.exec(c))&&(f=g.parse(h))}f&&(this.rgba=f)}get(c){let h=this.input,f=this.rgba;if(typeof h=="object"&&this.stops!==void 0){let p=o(h);return p.stops=[].slice.call(p.stops),this.stops.forEach((g,m)=>{p.stops[m]=[p.stops[m][0],g.get(c)]}),p}return f&&s(f[0])?c!=="rgb"&&(c||f[3]!==1)?c==="a"?`${f[3]}`:"rgba("+f.join(",")+")":"rgb("+f[0]+","+f[1]+","+f[2]+")":h}brighten(c){let h=this.rgba;if(this.stops)this.stops.forEach(function(f){f.brighten(c)});else if(s(c)&&c!==0)for(let f=0;f<3;f++)h[f]+=l(255*c),h[f]<0&&(h[f]=0),h[f]>255&&(h[f]=255);return this}setOpacity(c){return this.rgba[3]=c,this}tweenTo(c,h){let f=this.rgba,p=c.rgba;if(!s(f[0])||!s(p[0]))return c.input||"none";let g=p[3]!==1||f[3]!==1;return(g?"rgba(":"rgb(")+Math.round(p[0]+(f[0]-p[0])*(1-h))+","+Math.round(p[1]+(f[1]-p[1])*(1-h))+","+Math.round(p[2]+(f[2]-p[2])*(1-h))+(g?","+(p[3]+(f[3]-p[3])*(1-h)):"")+")"}}return u.names={white:"#ffffff",black:"#000000"},u.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(d){return[l(d[1]),l(d[2]),l(d[3]),parseFloat(d[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(d){return[l(d[1]),l(d[2]),l(d[3]),1]}}],u.None=new u(""),u}),r(i,"Core/Animation/Fx.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(n,a,s){let{parse:o}=n,{win:l}=a,{isNumber:u,objectEach:d}=s;class c{constructor(f,p,g){this.pos=NaN,this.options=p,this.elem=f,this.prop=g}dSetter(){let f=this.paths,p=f&&f[0],g=f&&f[1],m=this.now||0,v=[];if(m!==1&&p&&g)if(p.length===g.length&&m<1)for(let b=0;b<g.length;b++){let E=p[b],I=g[b],R=[];for(let N=0;N<I.length;N++){let j=E[N],V=I[N];u(j)&&u(V)&&!(I[0]==="A"&&(N===4||N===5))?R[N]=j+m*(V-j):R[N]=V}v.push(R)}else v=g;else v=this.toD||[];this.elem.attr("d",v,void 0,!0)}update(){let f=this.elem,p=this.prop,g=this.now,m=this.options.step;this[p+"Setter"]?this[p+"Setter"]():f.attr?f.element&&f.attr(p,g,null,!0):f.style[p]=g+this.unit,m&&m.call(f,g,this)}run(f,p,g){let m=this,v=m.options,b=function(R){return!b.stopped&&m.step(R)},E=l.requestAnimationFrame||function(R){setTimeout(R,13)},I=function(){for(let R=0;R<c.timers.length;R++)c.timers[R]()||c.timers.splice(R--,1);c.timers.length&&E(I)};f!==p||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=f,this.end=p,this.unit=g,this.now=this.start,this.pos=0,b.elem=this.elem,b.prop=this.prop,b()&&c.timers.push(b)===1&&E(I)):(delete v.curAnim[this.prop],v.complete&&Object.keys(v.curAnim).length===0&&v.complete.call(this.elem))}step(f){let p,g,m=+new Date,v=this.options,b=this.elem,E=v.complete,I=v.duration,R=v.curAnim;return b.attr&&!b.element?p=!1:f||m>=I+this.startTime?(this.now=this.end,this.pos=1,this.update(),R[this.prop]=!0,g=!0,d(R,function(N){N!==!0&&(g=!1)}),g&&E&&E.call(b),p=!1):(this.pos=v.easing((m-this.startTime)/I),this.now=this.start+(this.end-this.start)*this.pos,this.update(),p=!0),p}initPath(f,p,g){let m=f.startX,v=f.endX,b=g.slice(),E=f.isArea,I=E?2:1,R,N,j,V,H=p&&p.slice();if(!H)return[b,b];function W(P,A){for(;P.length<N;){let T=P[0],x=A[N-P.length];if(x&&T[0]==="M"&&(x[0]==="C"?P[0]=["C",T[1],T[2],T[1],T[2],T[1],T[2]]:P[0]=["L",T[1],T[2]]),P.unshift(T),E){let C=P.pop();P.push(P[P.length-1],C)}}}function G(P,A){for(;P.length<N;){let T=P[Math.floor(P.length/I)-1].slice();if(T[0]==="C"&&(T[1]=T[5],T[2]=T[6]),E){let x=P[Math.floor(P.length/I)].slice();P.splice(P.length/2,0,T,x)}else P.push(T)}}if(m&&v&&v.length){for(j=0;j<m.length;j++){if(m[j]===v[0]){R=j;break}if(m[0]===v[v.length-m.length+j]){R=j,V=!0;break}if(m[m.length-1]===v[v.length-m.length+j]){R=m.length-j;break}}R===void 0&&(H=[])}return H.length&&u(R)&&(N=b.length+R*I,V?(W(H,b),G(b)):(W(b,H),G(H))),[H,b]}fillSetter(){c.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,o(this.start).tweenTo(o(this.end),this.pos),void 0,!0)}}return c.timers=[],c}),r(i,"Core/Animation/AnimationUtilities.js",[i["Core/Animation/Fx.js"],i["Core/Utilities.js"]],function(n,a){let{defined:s,getStyle:o,isArray:l,isNumber:u,isObject:d,merge:c,objectEach:h,pick:f}=a;function p(m){return d(m)?c({duration:500,defer:0},m):{duration:m?500:0,defer:0}}function g(m,v){let b=n.timers.length;for(;b--;)n.timers[b].elem!==m||v&&v!==n.timers[b].prop||(n.timers[b].stopped=!0)}return{animate:function(m,v,b){let E,I="",R,N,j;d(b)||(j=arguments,b={duration:j[2],easing:j[3],complete:j[4]}),u(b.duration)||(b.duration=400),b.easing=typeof b.easing=="function"?b.easing:Math[b.easing]||Math.easeInOutSine,b.curAnim=c(v),h(v,function(V,H){g(m,H),N=new n(m,b,H),R=void 0,H==="d"&&l(v.d)?(N.paths=N.initPath(m,m.pathArray,v.d),N.toD=v.d,E=0,R=1):m.attr?E=m.attr(H):(E=parseFloat(o(m,H))||0,H!=="opacity"&&(I="px")),R||(R=V),typeof R=="string"&&R.match("px")&&(R=R.replace(/px/g,"")),N.run(E,R,I)})},animObject:p,getDeferredAnimation:function(m,v,b){let E=p(v),I=b?[b]:m.series,R=0,N=0;return I.forEach(V=>{let H=p(V.options.animation);R=d(v)&&s(v.defer)?E.defer:Math.max(R,H.duration+H.defer),N=Math.min(E.duration,H.duration)}),m.renderer.forExport&&(R=0),{defer:Math.max(0,R-N),duration:Math.min(R,N)}},setAnimation:function(m,v){v.renderer.globalAnimation=f(m,v.options.chart.animation,!0)},stop:g}}),r(i,"Core/Renderer/HTML/AST.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(n,a){let{SVG_NS:s,win:o}=n,{attr:l,createElement:u,css:d,error:c,isFunction:h,isString:f,objectEach:p,splat:g}=a,{trustedTypes:m}=o,v=m&&h(m.createPolicy)&&m.createPolicy("highcharts",{createHTML:R=>R}),b=v?v.createHTML(""):"",E=function(){try{return!!new DOMParser().parseFromString(b,"text/html")}catch{return!1}}();class I{static filterUserAttributes(N){return p(N,(j,V)=>{let H=!0;I.allowedAttributes.indexOf(V)===-1&&(H=!1),["background","dynsrc","href","lowsrc","src"].indexOf(V)!==-1&&(H=f(j)&&I.allowedReferences.some(W=>j.indexOf(W)===0)),H||(c(33,!1,void 0,{"Invalid attribute in config":`${V}`}),delete N[V]),f(j)&&N[V]&&(N[V]=j.replace(/</g,"&lt;"))}),N}static parseStyle(N){return N.split(";").reduce((j,V)=>{let H=V.split(":").map(G=>G.trim()),W=H.shift();return W&&H.length&&(j[W.replace(/-([a-z])/g,G=>G[1].toUpperCase())]=H.join(":")),j},{})}static setElementHTML(N,j){N.innerHTML=I.emptyHTML,j&&new I(j).addToDOM(N)}constructor(N){this.nodes=typeof N=="string"?this.parseMarkup(N):N}addToDOM(N){return function j(V,H){let W;return g(V).forEach(function(G){let P,A=G.tagName,T=G.textContent?n.doc.createTextNode(G.textContent):void 0,x=I.bypassHTMLFiltering;if(A)if(A==="#text")P=T;else if(I.allowedTags.indexOf(A)!==-1||x){let C=A==="svg"?s:H.namespaceURI||s,y=n.doc.createElementNS(C,A),S=G.attributes||{};p(G,function(w,k){k!=="tagName"&&k!=="attributes"&&k!=="children"&&k!=="style"&&k!=="textContent"&&(S[k]=w)}),l(y,x?S:I.filterUserAttributes(S)),G.style&&d(y,G.style),T&&y.appendChild(T),j(G.children||[],y),P=y}else c(33,!1,void 0,{"Invalid tagName in config":A});P&&H.appendChild(P),W=P}),W}(this.nodes,N)}parseMarkup(N){let j,V=[];if(N=N.trim().replace(/ style=(["'])/g," data-style=$1"),E)j=new DOMParser().parseFromString(v?v.createHTML(N):N,"text/html");else{let W=u("div");W.innerHTML=N,j={body:W}}let H=(W,G)=>{let P=W.nodeName.toLowerCase(),A={tagName:P};P==="#text"&&(A.textContent=W.textContent||"");let T=W.attributes;if(T){let x={};[].forEach.call(T,C=>{C.name==="data-style"?A.style=I.parseStyle(C.value):x[C.name]=C.value}),A.attributes=x}if(W.childNodes.length){let x=[];[].forEach.call(W.childNodes,C=>{H(C,x)}),x.length&&(A.children=x)}G.push(A)};return[].forEach.call(j.body.childNodes,W=>H(W,V)),V}}return I.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","markerHeight","markerWidth","offset","opacity","orient","padding","paddingLeft","paddingRight","patternUnits","r","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],I.allowedReferences=["https://","http://","mailto:","/","../","./","#"],I.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feDropShadow","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],I.emptyHTML=b,I.bypassHTMLFiltering=!1,I}),r(i,"Core/Templating.js",[i["Core/Defaults.js"],i["Core/Utilities.js"]],function(n,a){let{defaultOptions:s,defaultTime:o}=n,{extend:l,getNestedProperty:u,isArray:d,isNumber:c,isObject:h,isString:f,pick:p,pInt:g}=a,m={add:(E,I)=>E+I,divide:(E,I)=>I!==0?E/I:"",eq:(E,I)=>E==I,each:function(E){let I=arguments[arguments.length-1];return!!d(E)&&E.map((R,N)=>v(I.body,l(h(R)?R:{"@this":R},{"@index":N,"@first":N===0,"@last":N===E.length-1}))).join("")},ge:(E,I)=>E>=I,gt:(E,I)=>E>I,if:E=>!!E,le:(E,I)=>E<=I,lt:(E,I)=>E<I,multiply:(E,I)=>E*I,ne:(E,I)=>E!=I,subtract:(E,I)=>E-I,unless:E=>!E};function v(E="",I,R){let N=/\{([a-zA-Z0-9\:\.\,;\-\/<>%_@"'= #\(\)]+)\}/g,j=/\(([a-zA-Z0-9\:\.\,;\-\/<>%_@"'= ]+)\)/g,V=[],H=/f$/,W=/\.([0-9])/,G=s.lang,P=R&&R.time||o,A=R&&R.numberFormatter||b,T=(w="")=>{let k;return w==="true"||w!=="false"&&((k=Number(w)).toString()===w?k:u(w,I))},x,C,y=0,S;for(;(x=N.exec(E))!==null;){let w=j.exec(x[1]);w&&(x=w,S=!0),C&&C.isBlock||(C={ctx:I,expression:x[1],find:x[0],isBlock:x[1].charAt(0)==="#",start:x.index,startInner:x.index+x[0].length,length:x[0].length});let k=x[1].split(" ")[0].replace("#","");m[k]&&(C.isBlock&&k===C.fn&&y++,C.fn||(C.fn=k));let M=x[1]==="else";if(C.isBlock&&C.fn&&(x[1]===`/${C.fn}`||M))if(y)!M&&y--;else{let O=C.startInner,F=E.substr(O,x.index-O);C.body===void 0?(C.body=F,C.startInner=x.index+x[0].length):C.elseBody=F,C.find+=F+x[0],M||(V.push(C),C=void 0)}else C.isBlock||V.push(C);if(w&&!(C!=null&&C.isBlock))break}return V.forEach(w=>{let k,M,{body:O,elseBody:F,expression:z,fn:X}=w;if(X){let L=[w],K=z.split(" ");for(M=m[X].length;M--;)L.unshift(T(K[M+1]));k=m[X].apply(I,L),w.isBlock&&typeof k=="boolean"&&(k=v(k?O:F,I))}else{let L=z.split(":");if(k=T(L.shift()||""),L.length&&typeof k=="number"){let K=L.join(":");if(H.test(K)){let D=parseInt((K.match(W)||["","-1"])[1],10);k!==null&&(k=A(k,D,G.decimalPoint,K.indexOf(",")>-1?G.thousandsSep:""))}else k=P.dateFormat(K,k)}}E=E.replace(w.find,p(k,""))}),S?v(E,I,R):E}function b(E,I,R,N){let j,V;E=+E||0,I=+I;let H=s.lang,W=(E.toString().split(".")[1]||"").split("e")[0].length,G=E.toString().split("e"),P=I;I===-1?I=Math.min(W,20):c(I)?I&&G[1]&&G[1]<0&&((V=I+ +G[1])>=0?(G[0]=(+G[0]).toExponential(V).split("e")[0],I=V):(G[0]=G[0].split(".")[0]||0,E=I<20?(G[0]*Math.pow(10,G[1])).toFixed(I):0,G[1]=0)):I=2;let A=(Math.abs(G[1]?G[0]:E)+Math.pow(10,-Math.max(I,W)-1)).toFixed(I),T=String(g(A)),x=T.length>3?T.length%3:0;return R=p(R,H.decimalPoint),N=p(N,H.thousandsSep),j=(E<0?"-":"")+(x?T.substr(0,x)+N:""),0>+G[1]&&!P?j="0":j+=T.substr(x).replace(/(\d{3})(?=\d)/g,"$1"+N),I&&(j+=R+A.slice(-I)),G[1]&&+j!=0&&(j+="e"+G[1]),j}return{dateFormat:function(E,I,R){return o.dateFormat(E,I,R)},format:v,helpers:m,numberFormat:b}}),r(i,"Core/Renderer/RendererUtilities.js",[i["Core/Utilities.js"]],function(n){var a;let{clamp:s,pick:o,pushUnique:l,stableSort:u}=n;return(a||(a={})).distribute=function d(c,h,f){let p=c,g=p.reducedLen||h,m=(A,T)=>A.target-T.target,v=[],b=c.length,E=[],I=v.push,R,N,j,V=!0,H,W,G=0,P;for(R=b;R--;)G+=c[R].size;if(G>g){for(u(c,(A,T)=>(T.rank||0)-(A.rank||0)),j=(P=c[0].rank===c[c.length-1].rank)?b/2:-1,N=P?j:b-1;j&&G>g;)H=c[R=Math.floor(N)],l(E,R)&&(G-=H.size),N+=j,P&&N>=c.length&&(j/=2,N=j);E.sort((A,T)=>T-A).forEach(A=>I.apply(v,c.splice(A,1)))}for(u(c,m),c=c.map(A=>({size:A.size,targets:[A.target],align:o(A.align,.5)}));V;){for(R=c.length;R--;)H=c[R],W=(Math.min.apply(0,H.targets)+Math.max.apply(0,H.targets))/2,H.pos=s(W-H.size*H.align,0,h-H.size);for(R=c.length,V=!1;R--;)R>0&&c[R-1].pos+c[R-1].size>c[R].pos&&(c[R-1].size+=c[R].size,c[R-1].targets=c[R-1].targets.concat(c[R].targets),c[R-1].align=.5,c[R-1].pos+c[R-1].size>h&&(c[R-1].pos=h-c[R-1].size),c.splice(R,1),V=!0)}return I.apply(p,v),R=0,c.some(A=>{let T=0;return(A.targets||[]).some(()=>(p[R].pos=A.pos+T,f!==void 0&&Math.abs(p[R].pos-p[R].target)>f?(p.slice(0,R+1).forEach(x=>delete x.pos),p.reducedLen=(p.reducedLen||h)-.1*h,p.reducedLen>.1*h&&d(p,h,f),!0):(T+=p[R].size,R++,!1)))}),u(p,m),p},a}),r(i,"Core/Renderer/SVG/SVGElement.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(n,a,s,o){let{animate:l,animObject:u,stop:d}=n,{deg2rad:c,doc:h,noop:f,svg:p,SVG_NS:g,win:m}=s,{addEvent:v,attr:b,createElement:E,css:I,defined:R,erase:N,extend:j,fireEvent:V,isArray:H,isFunction:W,isObject:G,isString:P,merge:A,objectEach:T,pick:x,pInt:C,syncTimeout:y,uniqueKey:S}=o;class w{_defaultGetter(M){let O=x(this[M+"Value"],this[M],this.element?this.element.getAttribute(M):null,0);return/^[\-0-9\.]+$/.test(O)&&(O=parseFloat(O)),O}_defaultSetter(M,O,F){F.setAttribute(O,M)}add(M){let O,F=this.renderer,z=this.element;return M&&(this.parentGroup=M),this.textStr!==void 0&&this.element.nodeName==="text"&&F.buildText(this),this.added=!0,(!M||M.handleZ||this.zIndex)&&(O=this.zIndexSetter()),O||(M?M.element:F.box).appendChild(z),this.onAdd&&this.onAdd(),this}addClass(M,O){let F=O?"":this.attr("class")||"";return(M=(M||"").split(/ /g).reduce(function(z,X){return F.indexOf(X)===-1&&z.push(X),z},F?[F]:[]).join(" "))!==F&&this.attr("class",M),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(M,O,F){let z,X,L,K,D,B={},U=this.renderer,Q=U.alignedObjects;M?(this.alignOptions=M,this.alignByTranslate=O,(!F||P(F))&&(this.alignTo=L=F||"renderer",N(Q,this),Q.push(this),F=void 0)):(M=this.alignOptions,O=this.alignByTranslate,L=this.alignTo),F=x(F,U[L],L==="scrollablePlotBox"?U.plotBox:void 0,U);let q=M.align,Z=M.verticalAlign;return z=(F.x||0)+(M.x||0),X=(F.y||0)+(M.y||0),q==="right"?K=1:q==="center"&&(K=2),K&&(z+=(F.width-(M.width||0))/K),B[O?"translateX":"x"]=Math.round(z),Z==="bottom"?D=1:Z==="middle"&&(D=2),D&&(X+=(F.height-(M.height||0))/D),B[O?"translateY":"y"]=Math.round(X),this[this.placed?"animate":"attr"](B),this.placed=!0,this.alignAttr=B,this}alignSetter(M){let O={left:"start",center:"middle",right:"end"};O[M]&&(this.alignValue=M,this.element.setAttribute("text-anchor",O[M]))}animate(M,O,F){let z=u(x(O,this.renderer.globalAnimation,!0)),X=z.defer;return h.hidden&&(z.duration=0),z.duration!==0?(F&&(z.complete=F),y(()=>{this.element&&l(this,M,z)},X)):(this.attr(M,void 0,F||z.complete),T(M,function(L,K){z.step&&z.step.call(this,L,{prop:K,pos:1,elem:this})},this)),this}applyTextOutline(M){let O=this.element;M.indexOf("contrast")!==-1&&(M=M.replace(/contrast/g,this.renderer.getContrast(O.style.fill)));let z=M.split(" "),X=z[z.length-1],L=z[0];if(L&&L!=="none"&&s.svg){this.fakeTS=!0,L=L.replace(/(^[\d\.]+)(.*?)$/g,function(Q,q,Z){return 2*Number(q)+Z}),this.removeTextOutline();let K=h.createElementNS(g,"tspan");b(K,{class:"highcharts-text-outline",fill:X,stroke:X,"stroke-width":L,"stroke-linejoin":"round"});let D=O.querySelector("textPath")||O;[].forEach.call(D.childNodes,Q=>{let q=Q.cloneNode(!0);q.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(Z=>q.removeAttribute(Z)),K.appendChild(q)});let B=0;[].forEach.call(D.querySelectorAll("text tspan"),Q=>{B+=Number(Q.getAttribute("dy"))});let U=h.createElementNS(g,"tspan");U.textContent="​",b(U,{x:Number(O.getAttribute("x")),dy:-B}),K.appendChild(U),D.insertBefore(K,D.firstChild)}}attr(M,O,F,z){let X=this.element,L=w.symbolCustomAttribs,K,D,B=this,U;return typeof M=="string"&&O!==void 0&&(K=M,(M={})[K]=O),typeof M=="string"?B=(this[M+"Getter"]||this._defaultGetter).call(this,M,X):(T(M,function(Q,q){U=!1,z||d(this,q),this.symbolName&&L.indexOf(q)!==-1&&(D||(this.symbolAttr(M),D=!0),U=!0),this.rotation&&(q==="x"||q==="y")&&(this.doTransform=!0),U||(this[q+"Setter"]||this._defaultSetter).call(this,Q,q,X)},this),this.afterSetters()),F&&F.call(this),B}clip(M){if(M&&!M.clipPath){let O=S()+"-",F=this.renderer.createElement("clipPath").attr({id:O}).add(this.renderer.defs);j(M,{clipPath:F,id:O,count:0}),M.add(F)}return this.attr("clip-path",M?`url(${this.renderer.url}#${M.id})`:"none")}crisp(M,O){O=O||M.strokeWidth||0;let F=Math.round(O)%2/2;return M.x=Math.floor(M.x||this.x||0)+F,M.y=Math.floor(M.y||this.y||0)+F,M.width=Math.floor((M.width||this.width||0)-2*F),M.height=Math.floor((M.height||this.height||0)-2*F),R(M.strokeWidth)&&(M.strokeWidth=O),M}complexColor(M,O,F){let z=this.renderer,X,L,K,D,B,U,Q,q,Z,$,ie=[],te;V(this.renderer,"complexColor",{args:arguments},function(){if(M.radialGradient?L="radialGradient":M.linearGradient&&(L="linearGradient"),L){if(K=M[L],B=z.gradients,U=M.stops,Z=F.radialReference,H(K)&&(M[L]=K={x1:K[0],y1:K[1],x2:K[2],y2:K[3],gradientUnits:"userSpaceOnUse"}),L==="radialGradient"&&Z&&!R(K.gradientUnits)&&(D=K,K=A(K,z.getRadialAttr(Z,D),{gradientUnits:"userSpaceOnUse"})),T(K,function(Y,ee){ee!=="id"&&ie.push(ee,Y)}),T(U,function(Y){ie.push(Y)}),B[ie=ie.join(",")])$=B[ie].attr("id");else{K.id=$=S();let Y=B[ie]=z.createElement(L).attr(K).add(z.defs);Y.radAttr=D,Y.stops=[],U.forEach(function(ee){ee[1].indexOf("rgba")===0?(Q=(X=a.parse(ee[1])).get("rgb"),q=X.get("a")):(Q=ee[1],q=1);let re=z.createElement("stop").attr({offset:ee[0],"stop-color":Q,"stop-opacity":q}).add(Y);Y.stops.push(re)})}te="url("+z.url+"#"+$+")",F.setAttribute(O,te),F.gradient=ie,M.toString=function(){return te}}})}css(M){let O=this.styles,F={},z=this.element,X,L=!O;if(O&&T(M,function(K,D){O&&O[D]!==K&&(F[D]=K,L=!0)}),L){O&&(M=j(O,F)),M.width===null||M.width==="auto"?delete this.textWidth:z.nodeName.toLowerCase()==="text"&&M.width&&(X=this.textWidth=C(M.width)),this.styles=M,X&&!p&&this.renderer.forExport&&delete M.width;let K=A(M);z.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","width"].forEach(D=>K&&delete K[D]),K.color&&(K.fill=K.color)),I(z,K)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),M.textOutline&&this.applyTextOutline(M.textOutline)),this}dashstyleSetter(M){let O,F=this["stroke-width"];if(F==="inherit"&&(F=1),M=M&&M.toLowerCase()){let z=M.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(O=z.length;O--;)z[O]=""+C(z[O])*x(F,NaN);M=z.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",M)}}destroy(){var D;let M=this,O=M.element||{},F=M.renderer,z=O.ownerSVGElement,X=O.nodeName==="SPAN"&&M.parentGroup||void 0,L,K;if(O.onclick=O.onmouseout=O.onmouseover=O.onmousemove=O.point=null,d(M),M.clipPath&&z){let B=M.clipPath;[].forEach.call(z.querySelectorAll("[clip-path],[CLIP-PATH]"),function(U){U.getAttribute("clip-path").indexOf(B.element.id)>-1&&U.removeAttribute("clip-path")}),M.clipPath=B.destroy()}if(M.connector=(D=M.connector)==null?void 0:D.destroy(),M.stops){for(K=0;K<M.stops.length;K++)M.stops[K].destroy();M.stops.length=0,M.stops=void 0}for(M.safeRemoveChild(O);X&&X.div&&X.div.childNodes.length===0;)L=X.parentGroup,M.safeRemoveChild(X.div),delete X.div,X=L;M.alignTo&&N(F.alignedObjects,M),T(M,function(B,U){M[U]&&M[U].parentGroup===M&&M[U].destroy&&M[U].destroy(),delete M[U]})}dSetter(M,O,F){H(M)&&(typeof M[0]=="string"&&(M=this.renderer.pathToSegments(M)),this.pathArray=M,M=M.reduce((z,X,L)=>X&&X.join?(L?z+" ":"")+X.join(" "):(X||"").toString(),"")),/(NaN| {2}|^$)/.test(M)&&(M="M 0 0"),this[O]!==M&&(F.setAttribute(O,M),this[O]=M)}fillSetter(M,O,F){typeof M=="string"?F.setAttribute(O,M):M&&this.complexColor(M,O,F)}hrefSetter(M,O,F){F.setAttributeNS("http://www.w3.org/1999/xlink",O,M)}getBBox(M,O){let F,z,X,L,K,{alignValue:D,element:B,renderer:U,styles:Q,textStr:q}=this,{cache:Z,cacheKeys:$}=U,ie=B.namespaceURI===this.SVG_NS,te=x(O,this.rotation,0),Y=U.styledMode?B&&w.prototype.getStyle.call(B,"font-size"):Q&&Q.fontSize;if(R(q)&&((K=q.toString()).indexOf("<")===-1&&(K=K.replace(/[0-9]/g,"0")),K+=["",U.rootFontSize,Y,te,this.textWidth,D,Q&&Q.textOverflow,Q&&Q.fontWeight].join(",")),K&&!M&&(F=Z[K]),!F){if(ie||U.forExport){try{L=this.fakeTS&&function(ee){let re=B.querySelector(".highcharts-text-outline");re&&I(re,{display:ee})},W(L)&&L("none"),F=B.getBBox?j({},B.getBBox()):{width:B.offsetWidth,height:B.offsetHeight,x:0,y:0},W(L)&&L("")}catch{}(!F||F.width<0)&&(F={x:0,y:0,width:0,height:0})}else F=this.htmlGetBBox();if(z=F.width,X=F.height,ie&&(F.height=X={"11px,17":14,"13px,20":16}[`${Y||""},${Math.round(X)}`]||X),te){let ee=Number(B.getAttribute("y")||0)-F.y,re={right:1,center:.5}[D||0]||0,ne=te*c,ue=(te-90)*c,le=z*Math.cos(ne),pe=z*Math.sin(ne),se=Math.cos(ue),ae=Math.sin(ue),de=F.x+re*(z-le),fe=F.y+ee-re*pe,me=de+ee*se,ge=me+le,ye=ge-X*se,_e=ye-le,Se=fe+ee*ae,Ie=Se+pe,Ce=Ie-X*ae,Te=Ce-pe;F.x=Math.min(me,ge,ye,_e),F.y=Math.min(Se,Ie,Ce,Te),F.width=Math.max(me,ge,ye,_e)-F.x,F.height=Math.max(Se,Ie,Ce,Te)-F.y}}if(K&&(q===""||F.height>0)){for(;$.length>250;)delete Z[$.shift()];Z[K]||$.push(K),Z[K]=F}return F}getStyle(M){return m.getComputedStyle(this.element||this,"").getPropertyValue(M)}hasClass(M){return(""+this.attr("class")).split(" ").indexOf(M)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(M,O){this.onEvents={},this.opacity=1,this.SVG_NS=g,this.element=O==="span"?E(O):h.createElementNS(this.SVG_NS,O),this.renderer=M,V(this,"afterInit")}on(M,O){let{onEvents:F}=this;return F[M]&&F[M](),F[M]=v(this.element,M,O),this}opacitySetter(M,O,F){let z=Number(Number(M).toFixed(3));this.opacity=z,F.setAttribute(O,z)}removeClass(M){return this.attr("class",(""+this.attr("class")).replace(P(M)?RegExp(`(^| )${M}( |$)`):M," ").replace(/ +/g," ").trim())}removeTextOutline(){let M=this.element.querySelector("tspan.highcharts-text-outline");M&&this.safeRemoveChild(M)}safeRemoveChild(M){let O=M.parentNode;O&&O.removeChild(M)}setRadialReference(M){let O=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=M,O&&O.radAttr&&O.animate(this.renderer.getRadialAttr(M,O.radAttr)),this}setTextPath(M,O){O=A(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},O);let F=this.renderer.url,z=this.text||this,X=z.textPath,{attributes:L,enabled:K}=O;if(M=M||X&&X.path,X&&X.undo(),M&&K){let D=v(z,"afterModifyTree",B=>{if(M&&K){let U=M.attr("id");U||M.attr("id",U=S());let Q={x:0,y:0};R(L.dx)&&(Q.dx=L.dx,delete L.dx),R(L.dy)&&(Q.dy=L.dy,delete L.dy),z.attr(Q),this.attr({transform:""}),this.box&&(this.box=this.box.destroy());let q=B.nodes.slice(0);B.nodes.length=0,B.nodes[0]={tagName:"textPath",attributes:j(L,{"text-anchor":L.textAnchor,href:`${F}#${U}`}),children:q}}});z.textPath={path:M,undo:D}}else z.attr({dx:0,dy:0}),delete z.textPath;return this.added&&(z.textCache="",this.renderer.buildText(z)),this}shadow(M){var X;let{renderer:O}=this,F=A(((X=this.parentGroup)==null?void 0:X.rotation)===90?{offsetX:-1,offsetY:-1}:{},G(M)?M:{}),z=O.shadowDefinition(F);return this.attr({filter:M?`url(${O.url}#${z})`:"none"})}show(M=!0){return this.attr({visibility:M?"inherit":"visible"})}"stroke-widthSetter"(M,O,F){this[O]=M,F.setAttribute(O,M)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let M=this.getStyle("stroke-width"),O=0,F;return M.indexOf("px")===M.length-2?O=C(M):M!==""&&(b(F=h.createElementNS(g,"rect"),{width:M,"stroke-width":0}),this.element.parentNode.appendChild(F),O=F.getBBox().width,F.parentNode.removeChild(F)),O}symbolAttr(M){let O=this;w.symbolCustomAttribs.forEach(function(F){O[F]=x(M[F],O[F])}),O.attr({d:O.renderer.symbols[O.symbolName](O.x,O.y,O.width,O.height,O)})}textSetter(M){M!==this.textStr&&(delete this.textPxLength,this.textStr=M,this.added&&this.renderer.buildText(this))}titleSetter(M){let O=this.element,F=O.getElementsByTagName("title")[0]||h.createElementNS(this.SVG_NS,"title");O.insertBefore?O.insertBefore(F,O.firstChild):O.appendChild(F),F.textContent=String(x(M,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let M=this.element;return M.parentNode.appendChild(M),this}translate(M,O){return this.attr({translateX:M,translateY:O})}updateTransform(M="transform"){let{element:O,matrix:F,rotation:z=0,scaleX:X,scaleY:L,translateX:K=0,translateY:D=0}=this,B=["translate("+K+","+D+")"];R(F)&&B.push("matrix("+F.join(",")+")"),z&&B.push("rotate("+z+" "+x(this.rotationOriginX,O.getAttribute("x"),0)+" "+x(this.rotationOriginY,O.getAttribute("y")||0)+")"),(R(X)||R(L))&&B.push("scale("+x(X,1)+" "+x(L,1)+")"),B.length&&!(this.text||this).textPath&&O.setAttribute(M,B.join(" "))}visibilitySetter(M,O,F){M==="inherit"?F.removeAttribute(O):this[O]!==M&&F.setAttribute(O,M),this[O]=M}xGetter(M){return this.element.nodeName==="circle"&&(M==="x"?M="cx":M==="y"&&(M="cy")),this._defaultGetter(M)}zIndexSetter(M,O){let F=this.renderer,z=this.parentGroup,X=z||F,L=X.element||F.box,K=this.element,D=L===F.box,B,U,Q,q=!1,Z,$=this.added,ie;if(R(M)?(K.setAttribute("data-z-index",M),M=+M,this[O]===M&&($=!1)):R(this[O])&&K.removeAttribute("data-z-index"),this[O]=M,$){for((M=this.zIndex)&&z&&(z.handleZ=!0),ie=(B=L.childNodes).length-1;ie>=0&&!q;ie--)Z=!R(Q=(U=B[ie]).getAttribute("data-z-index")),U!==K&&(M<0&&Z&&!D&&!ie?(L.insertBefore(K,B[ie]),q=!0):(C(Q)<=M||Z&&(!R(M)||M>=0))&&(L.insertBefore(K,B[ie+1]),q=!0));q||(L.insertBefore(K,B[D?3:0]),q=!0)}return q}}return w.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],w.prototype.strokeSetter=w.prototype.fillSetter,w.prototype.yGetter=w.prototype.xGetter,w.prototype.matrixSetter=w.prototype.rotationOriginXSetter=w.prototype.rotationOriginYSetter=w.prototype.rotationSetter=w.prototype.scaleXSetter=w.prototype.scaleYSetter=w.prototype.translateXSetter=w.prototype.translateYSetter=w.prototype.verticalAlignSetter=function(k,M){this[M]=k,this.doTransform=!0},w}),r(i,"Core/Renderer/RendererRegistry.js",[i["Core/Globals.js"]],function(n){var a,s;let o;return(s=a||(a={})).rendererTypes={},s.getRendererType=function(l=o){return s.rendererTypes[l]||s.rendererTypes[o]},s.registerRendererType=function(l,u,d){s.rendererTypes[l]=u,(!o||d)&&(o=l,n.Renderer=u)},a}),r(i,"Core/Renderer/SVG/SVGLabel.js",[i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],function(n,a){let{defined:s,extend:o,isNumber:l,merge:u,pick:d,removeEvent:c}=a;class h extends n{constructor(p,g,m,v,b,E,I,R,N,j){let V;super(p,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.textStr=g,this.x=m,this.y=v,this.anchorX=E,this.anchorY=I,this.baseline=N,this.className=j,this.addClass(j==="button"?"highcharts-no-tooltip":"highcharts-label"),j&&this.addClass("highcharts-"+j),this.text=p.text(void 0,0,0,R).attr({zIndex:1}),typeof b=="string"&&((V=/^url\((.*?)\)$/.test(b))||this.renderer.symbols[b])&&(this.symbolKey=b),this.bBox=h.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=p.styledMode||V,this.deferredAttr={},this.alignFactor=0}alignSetter(p){let g={left:0,center:.5,right:1}[p];g!==this.alignFactor&&(this.alignFactor=g,this.bBox&&l(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(p,g){this.anchorX=p,this.boxAttr(g,Math.round(p)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(p,g){this.anchorY=p,this.boxAttr(g,p-this.ySetting)}boxAttr(p,g){this.box?this.box.attr(p,g):this.deferredAttr[p]=g}css(p){if(p){let g={};p=u(p),h.textProps.forEach(m=>{p[m]!==void 0&&(g[m]=p[m],delete p[m])}),this.text.css(g),"fontSize"in g||"fontWeight"in g?this.updateTextPadding():("width"in g||"textOverflow"in g)&&this.updateBoxSize()}return n.prototype.css.call(this,p)}destroy(){c(this.element,"mouseenter"),c(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),n.prototype.destroy.call(this)}fillSetter(p,g){p&&(this.needsBox=!0),this.fill=p,this.boxAttr(g,p)}getBBox(){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let p=this.padding,g=d(this.paddingLeft,p);return{width:this.width||0,height:this.height||0,x:this.bBox.x-g,y:this.bBox.y-p}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(p){this.heightSetting=p}onAdd(){this.text.add(this),this.attr({text:d(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&s(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(p,g){l(p)?p!==this[g]&&(this[g]=p,this.updateTextPadding()):this[g]=void 0}rSetter(p,g){this.boxAttr(g,p)}strokeSetter(p,g){this.stroke=p,this.boxAttr(g,p)}"stroke-widthSetter"(p,g){p&&(this.needsBox=!0),this["stroke-width"]=p,this.boxAttr(g,p)}"text-alignSetter"(p){this.textAlign=p}textSetter(p){p!==void 0&&this.text.attr({text:p}),this.updateTextPadding()}updateBoxSize(){let p,g=this.text,m={},v=this.padding,b=this.bBox=(!l(this.widthSetting)||!l(this.heightSetting)||this.textAlign)&&s(g.textStr)?g.getBBox():h.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||b.height||0)+2*v;let E=this.renderer.fontMetrics(g);if(this.baselineOffset=v+Math.min((this.text.firstLineMetrics||E).b,b.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-E.h)/2),this.needsBox&&!g.textPath){if(!this.box){let I=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();I.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),I.add(this)}p=this.getCrispAdjust(),m.x=p,m.y=(this.baseline?-this.baselineOffset:0)+p,m.width=Math.round(this.width),m.height=Math.round(this.height),this.box.attr(o(m,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let p=this.text;if(!p.textPath){this.updateBoxSize();let g=this.baseline?0:this.baselineOffset,m=d(this.paddingLeft,this.padding);s(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(m+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(m!==p.x||g!==p.y)&&(p.attr("x",m),p.hasBoxWidthChanged&&(this.bBox=p.getBBox(!0)),g!==void 0&&p.attr("y",g)),p.x=m,p.y=g}}widthSetter(p){this.widthSetting=l(p)?p:void 0}getPaddedWidth(){let p=this.padding,g=d(this.paddingLeft,p),m=d(this.paddingRight,p);return(this.widthSetting||this.bBox.width||0)+g+m}xSetter(p){this.x=p,this.alignFactor&&(p-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(p),this.attr("translateX",this.xSetting)}ySetter(p){this.ySetting=this.y=Math.round(p),this.attr("translateY",this.ySetting)}}return h.emptyBBox={width:0,height:0,x:0,y:0},h.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"],h}),r(i,"Core/Renderer/SVG/Symbols.js",[i["Core/Utilities.js"]],function(n){let{defined:a,isNumber:s,pick:o}=n;function l(c,h,f,p,g){let m=[];if(g){let v=g.start||0,b=o(g.r,f),E=o(g.r,p||f),I=.001>Math.abs((g.end||0)-v-2*Math.PI),R=(g.end||0)-.001,N=g.innerR,j=o(g.open,I),V=Math.cos(v),H=Math.sin(v),W=Math.cos(R),G=Math.sin(R),P=o(g.longArc,R-v-Math.PI<.001?0:1),A=["A",b,E,0,P,o(g.clockwise,1),c+b*W,h+E*G];A.params={start:v,end:R,cx:c,cy:h},m.push(["M",c+b*V,h+E*H],A),a(N)&&((A=["A",N,N,0,P,a(g.clockwise)?1-g.clockwise:0,c+N*V,h+N*H]).params={start:R,end:v,cx:c,cy:h},m.push(j?["M",c+N*W,h+N*G]:["L",c+N*W,h+N*G],A)),j||m.push(["Z"])}return m}function u(c,h,f,p,g){return g&&g.r?d(c,h,f,p,g):[["M",c,h],["L",c+f,h],["L",c+f,h+p],["L",c,h+p],["Z"]]}function d(c,h,f,p,g){let m=(g==null?void 0:g.r)||0;return[["M",c+m,h],["L",c+f-m,h],["A",m,m,0,0,1,c+f,h+m],["L",c+f,h+p-m],["A",m,m,0,0,1,c+f-m,h+p],["L",c+m,h+p],["A",m,m,0,0,1,c,h+p-m],["L",c,h+m],["A",m,m,0,0,1,c+m,h],["Z"]]}return{arc:l,callout:function(c,h,f,p,g){let m=Math.min(g&&g.r||0,f,p),v=m+6,b=g&&g.anchorX,E=g&&g.anchorY||0,I=d(c,h,f,p,{r:m});if(!s(b)||b<f&&b>0&&E<p&&E>0)return I;if(c+b>f-v)if(E>h+v&&E<h+p-v)I.splice(3,1,["L",c+f,E-6],["L",c+f+6,E],["L",c+f,E+6],["L",c+f,h+p-m]);else if(b<f){let R=E<h+v,N=R?h:h+p;I.splice(R?2:5,0,["L",b,E],["L",c+f-m,N])}else I.splice(3,1,["L",c+f,p/2],["L",b,E],["L",c+f,p/2],["L",c+f,h+p-m]);else if(c+b<v)if(E>h+v&&E<h+p-v)I.splice(7,1,["L",c,E+6],["L",c-6,E],["L",c,E-6],["L",c,h+m]);else if(b>0){let R=E<h+v,N=R?h:h+p;I.splice(R?1:6,0,["L",b,E],["L",c+m,N])}else I.splice(7,1,["L",c,p/2],["L",b,E],["L",c,p/2],["L",c,h+m]);else E>p&&b<f-v?I.splice(5,1,["L",b+6,h+p],["L",b,h+p+6],["L",b-6,h+p],["L",c+m,h+p]):E<0&&b>v&&I.splice(1,1,["L",b-6,h],["L",b,h-6],["L",b+6,h],["L",f-m,h]);return I},circle:function(c,h,f,p){return l(c+f/2,h+p/2,f/2,p/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(c,h,f,p){return[["M",c+f/2,h],["L",c+f,h+p/2],["L",c+f/2,h+p],["L",c,h+p/2],["Z"]]},rect:u,roundedRect:d,square:u,triangle:function(c,h,f,p){return[["M",c+f/2,h],["L",c+f,h+p],["L",c,h+p],["Z"]]},"triangle-down":function(c,h,f,p){return[["M",c,h],["L",c+f,h],["L",c+f/2,h+p],["Z"]]}}}),r(i,"Core/Renderer/SVG/TextBuilder.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(n,a,s){let{doc:o,SVG_NS:l,win:u}=a,{attr:d,extend:c,fireEvent:h,isString:f,objectEach:p,pick:g}=s;return class{constructor(m){let v=m.styles;this.renderer=m.renderer,this.svgElement=m,this.width=m.textWidth,this.textLineHeight=v&&v.lineHeight,this.textOutline=v&&v.textOutline,this.ellipsis=!!(v&&v.textOverflow==="ellipsis"),this.noWrap=!!(v&&v.whiteSpace==="nowrap")}buildSVG(){let m=this.svgElement,v=m.element,b=m.renderer,E=g(m.textStr,"").toString(),I=E.indexOf("<")!==-1,R=v.childNodes,N=!m.added&&b.box,j=[E,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,m.getStyle("font-size"),this.width].join(",");if(j!==m.textCache){m.textCache=j,delete m.actualWidth;for(let V=R.length;V--;)v.removeChild(R[V]);if(I||this.ellipsis||this.width||m.textPath||E.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(E))){if(E!==""){N&&N.appendChild(v);let V=new n(E);this.modifyTree(V.nodes),V.addToDOM(v),this.modifyDOM(),this.ellipsis&&(v.textContent||"").indexOf("…")!==-1&&m.attr("title",this.unescapeEntities(m.textStr||"",["&lt;","&gt;"])),N&&N.removeChild(v)}}else v.appendChild(o.createTextNode(this.unescapeEntities(E)));f(this.textOutline)&&m.applyTextOutline&&m.applyTextOutline(this.textOutline)}}modifyDOM(){let m,v=this.svgElement,b=d(v.element,"x");for(v.firstLineMetrics=void 0;(m=v.element.firstChild)&&/^[\s\u200B]*$/.test(m.textContent||" ");)v.element.removeChild(m);[].forEach.call(v.element.querySelectorAll("tspan.highcharts-br"),(N,j)=>{N.nextSibling&&N.previousSibling&&(j===0&&N.previousSibling.nodeType===1&&(v.firstLineMetrics=v.renderer.fontMetrics(N.previousSibling)),d(N,{dy:this.getLineHeight(N.nextSibling),x:b}))});let E=this.width||0;if(!E)return;let I=(N,j)=>{let V=N.textContent||"",H=V.replace(/([^\^])-/g,"$1- ").split(" "),W=!this.noWrap&&(H.length>1||v.element.childNodes.length>1),G=this.getLineHeight(j),P=0,A=v.actualWidth;if(this.ellipsis)V&&this.truncate(N,V,void 0,0,Math.max(0,E-.8*G),(T,x)=>T.substring(0,x)+"…");else if(W){let T=[],x=[];for(;j.firstChild&&j.firstChild!==N;)x.push(j.firstChild),j.removeChild(j.firstChild);for(;H.length;)H.length&&!this.noWrap&&P>0&&(T.push(N.textContent||""),N.textContent=H.join(" ").replace(/- /g,"-")),this.truncate(N,void 0,H,P===0&&A||0,E,(C,y)=>H.slice(0,y).join(" ").replace(/- /g,"-")),A=v.actualWidth,P++;x.forEach(C=>{j.insertBefore(C,N)}),T.forEach(C=>{j.insertBefore(o.createTextNode(C),N);let y=o.createElementNS(l,"tspan");y.textContent="​",d(y,{dy:G,x:b}),j.insertBefore(y,N)})}},R=N=>{[].slice.call(N.childNodes).forEach(V=>{V.nodeType===u.Node.TEXT_NODE?I(V,N):(V.className.baseVal.indexOf("highcharts-br")!==-1&&(v.actualWidth=0),R(V))})};R(v.element)}getLineHeight(m){let v=m.nodeType===u.Node.TEXT_NODE?m.parentElement:m;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(v||this.svgElement.element).h}modifyTree(m){let v=(b,E)=>{let{attributes:I={},children:R,style:N={},tagName:j}=b,V=this.renderer.styledMode;if(j==="b"||j==="strong"?V?I.class="highcharts-strong":N.fontWeight="bold":(j==="i"||j==="em")&&(V?I.class="highcharts-emphasized":N.fontStyle="italic"),N&&N.color&&(N.fill=N.color),j==="br"){I.class="highcharts-br",b.textContent="​";let H=m[E+1];H&&H.textContent&&(H.textContent=H.textContent.replace(/^ +/gm,""))}else j==="a"&&R&&R.some(H=>H.tagName==="#text")&&(b.children=[{children:R,tagName:"tspan"}]);j!=="#text"&&j!=="a"&&(b.tagName="tspan"),c(b,{attributes:I,style:N}),R&&R.filter(H=>H.tagName!=="#text").forEach(v)};m.forEach(v),h(this.svgElement,"afterModifyTree",{nodes:m})}truncate(m,v,b,E,I,R){let N,j,V=this.svgElement,{renderer:H,rotation:W}=V,G=[],P=b?1:0,A=(v||b||"").length,T=A,x=function(C,y){let S=y||C,w=m.parentNode;if(w&&G[S]===void 0&&w.getSubStringLength)try{G[S]=E+w.getSubStringLength(0,b?S+1:S)}catch{}return G[S]};if(V.rotation=0,E+(j=x(m.textContent.length))>I){for(;P<=A;)T=Math.ceil((P+A)/2),b&&(N=R(b,T)),j=x(T,N&&N.length-1),P===A?P=A+1:j>I?A=T-1:P=T;A===0?m.textContent="":v&&A===v.length-1||(m.textContent=N||R(v||b,T))}b&&b.splice(0,T),V.actualWidth=j,V.rotation=W}unescapeEntities(m,v){return p(this.renderer.escapes,function(b,E){v&&v.indexOf(b)!==-1||(m=m.toString().replace(RegExp(b,"g"),E))}),m}}}),r(i,"Core/Renderer/SVG/SVGRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGLabel.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Renderer/SVG/TextBuilder.js"],i["Core/Utilities.js"]],function(n,a,s,o,l,u,d,c,h){let f,{charts:p,deg2rad:g,doc:m,isFirefox:v,isMS:b,isWebKit:E,noop:I,SVG_NS:R,symbolSizes:N,win:j}=s,{addEvent:V,attr:H,createElement:W,css:G,defined:P,destroyObjectProperties:A,extend:T,isArray:x,isNumber:C,isObject:y,isString:S,merge:w,pick:k,pInt:M,uniqueKey:O}=h;class F{constructor(X,L,K,D,B,U,Q){let q,Z,$=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),ie=$.element;Q||$.css(this.getStyle(D||{})),X.appendChild(ie),H(X,"dir","ltr"),X.innerHTML.indexOf("xmlns")===-1&&H(ie,"xmlns",this.SVG_NS),this.box=ie,this.boxWrapper=$,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(m.createTextNode("Created with Highcharts 11.3.0")),this.defs=this.createElement("defs").add(),this.allowHTML=U,this.forExport=B,this.styledMode=Q,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=$.getStyle("font-size"),this.setSize(L,K,!1),v&&X.getBoundingClientRect&&((q=function(){G(X,{left:0,top:0}),Z=X.getBoundingClientRect(),G(X,{left:Math.ceil(Z.left)-Z.left+"px",top:Math.ceil(Z.top)-Z.top+"px"})})(),this.unSubPixelFix=V(j,"resize",q))}definition(X){return new n([X]).addToDOM(this.defs.element)}getReferenceURL(){if((v||E)&&m.getElementsByTagName("base").length){if(!P(f)){let X=O(),L=new n([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:X},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${X})`,fill:"rgba(0,0,0,0.001)"}}]}]),K=L.addToDOM(m.body);G(K,{position:"fixed",top:0,left:0,zIndex:9e5});let D=m.elementFromPoint(6,6);f=(D&&D.id)==="hitme",m.body.removeChild(K)}if(f)return j.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(X){return this.style=T({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},X),this.style}setStyle(X){this.boxWrapper.css(this.getStyle(X))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let X=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),A(this.gradients||{}),this.gradients=null,this.defs=X.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(X){return new this.Element(this,X)}getRadialAttr(X,L){return{cx:X[0]-X[2]/2+(L.cx||0)*X[2],cy:X[1]-X[2]/2+(L.cy||0)*X[2],r:(L.r||0)*X[2]}}shadowDefinition(X){let L=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(X).map(D=>`${D}-${X[D]}`)].join("-").toLowerCase().replace(/[^a-z0-9\-]/g,""),K=w({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},X);return this.defs.element.querySelector(`#${L}`)||this.definition({tagName:"filter",attributes:{id:L,filterUnits:K.filterUnits},children:[{tagName:"feDropShadow",attributes:{dx:K.offsetX,dy:K.offsetY,"flood-color":K.color,"flood-opacity":Math.min(5*K.opacity,1),stdDeviation:K.width/2}}]}),L}buildText(X){new c(X).buildSVG()}getContrast(X){let L=a.parse(X).rgba.map(D=>{let B=D/255;return B<=.03928?B/12.92:Math.pow((B+.055)/1.055,2.4)}),K=.2126*L[0]+.7152*L[1]+.0722*L[2];return 1.05/(K+.05)>(K+.05)/.05?"#FFFFFF":"#000000"}button(X,L,K,D,B={},U,Q,q,Z,$){let ie,te,Y,ee=this.label(X,L,K,Z,void 0,void 0,$,void 0,"button"),re=this.styledMode,ne=B.states||{},ue=0;B=w(B),delete B.states;let le=w({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},B.style);delete B.style;let pe=n.filterUserAttributes(B);return ee.attr(w({padding:8,r:2},pe)),re||(pe=w({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},pe),ie=(U=w(pe,{fill:"#e6e6e6"},n.filterUserAttributes(U||ne.hover||{}))).style,delete U.style,te=(Q=w(pe,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},n.filterUserAttributes(Q||ne.select||{}))).style,delete Q.style,Y=(q=w(pe,{style:{color:"#cccccc"}},n.filterUserAttributes(q||ne.disabled||{}))).style,delete q.style),V(ee.element,b?"mouseover":"mouseenter",function(){ue!==3&&ee.setState(1)}),V(ee.element,b?"mouseout":"mouseleave",function(){ue!==3&&ee.setState(ue)}),ee.setState=function(se){if(se!==1&&(ee.state=ue=se),ee.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][se||0]),!re){ee.attr([pe,U,Q,q][se||0]);let ae=[le,ie,te,Y][se||0];y(ae)&&ee.css(ae)}},!re&&(ee.attr(pe).css(T({cursor:"default"},le)),$&&ee.text.css({pointerEvents:"none"})),ee.on("touchstart",se=>se.stopPropagation()).on("click",function(se){ue!==3&&D.call(ee,se)})}crispLine(X,L,K="round"){let D=X[0],B=X[1];return P(D[1])&&D[1]===B[1]&&(D[1]=B[1]=Math[K](D[1])-L%2/2),P(D[2])&&D[2]===B[2]&&(D[2]=B[2]=Math[K](D[2])+L%2/2),X}path(X){let L=this.styledMode?{}:{fill:"none"};return x(X)?L.d=X:y(X)&&T(L,X),this.createElement("path").attr(L)}circle(X,L,K){let D=y(X)?X:X===void 0?{}:{x:X,y:L,r:K},B=this.createElement("circle");return B.xSetter=B.ySetter=function(U,Q,q){q.setAttribute("c"+Q,U)},B.attr(D)}arc(X,L,K,D,B,U){let Q;y(X)?(L=(Q=X).y,K=Q.r,D=Q.innerR,B=Q.start,U=Q.end,X=Q.x):Q={innerR:D,start:B,end:U};let q=this.symbol("arc",X,L,K,K,Q);return q.r=K,q}rect(X,L,K,D,B,U){let Q=y(X)?X:X===void 0?{}:{x:X,y:L,r:B,width:Math.max(K||0,0),height:Math.max(D||0,0)},q=this.createElement("rect");return this.styledMode||(U!==void 0&&(Q["stroke-width"]=U,T(Q,q.crisp(Q))),Q.fill="none"),q.rSetter=function(Z,$,ie){q.r=Z,H(ie,{rx:Z,ry:Z})},q.rGetter=function(){return q.r||0},q.attr(Q)}roundedRect(X){return this.symbol("roundedRect").attr(X)}setSize(X,L,K){this.width=X,this.height=L,this.boxWrapper.animate({width:X,height:L},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:k(K,!0)?void 0:0}),this.alignElements()}g(X){let L=this.createElement("g");return X?L.attr({class:"highcharts-"+X}):L}image(X,L,K,D,B,U){let Q={preserveAspectRatio:"none"};C(L)&&(Q.x=L),C(K)&&(Q.y=K),C(D)&&(Q.width=D),C(B)&&(Q.height=B);let q=this.createElement("image").attr(Q),Z=function($){q.attr({href:X}),U.call(q,$)};if(U){q.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let $=new j.Image;V($,"load",Z),$.src=X,$.complete&&Z({})}else q.attr({href:X});return q}symbol(X,L,K,D,B,U){let Q,q,Z,$,ie=this,te=/^url\((.*?)\)$/,Y=te.test(X),ee=!Y&&(this.symbols[X]?X:"circle"),re=ee&&this.symbols[ee];if(re)typeof L=="number"&&(q=re.call(this.symbols,Math.round(L||0),Math.round(K||0),D||0,B||0,U)),Q=this.path(q),ie.styledMode||Q.attr("fill","none"),T(Q,{symbolName:ee||void 0,x:L,y:K,width:D,height:B}),U&&T(Q,U);else if(Y){Z=X.match(te)[1];let ne=Q=this.image(Z);ne.imgwidth=k(U&&U.width,N[Z]&&N[Z].width),ne.imgheight=k(U&&U.height,N[Z]&&N[Z].height),$=ue=>ue.attr({width:ue.width,height:ue.height}),["width","height"].forEach(ue=>{ne[`${ue}Setter`]=function(le,pe){this[pe]=le;let{alignByTranslate:se,element:ae,width:de,height:fe,imgwidth:me,imgheight:ge}=this,ye=pe==="width"?me:ge,_e=1;U&&U.backgroundSize==="within"&&de&&fe&&me&&ge?(_e=Math.min(de/me,fe/ge),H(ae,{width:Math.round(me*_e),height:Math.round(ge*_e)})):ae&&ye&&ae.setAttribute(pe,ye),!se&&me&&ge&&this.translate(((de||0)-me*_e)/2,((fe||0)-ge*_e)/2)}}),P(L)&&ne.attr({x:L,y:K}),ne.isImg=!0,P(ne.imgwidth)&&P(ne.imgheight)?$(ne):(ne.attr({width:0,height:0}),W("img",{onload:function(){let ue=p[ie.chartIndex];this.width===0&&(G(this,{position:"absolute",top:"-999em"}),m.body.appendChild(this)),N[Z]={width:this.width,height:this.height},ne.imgwidth=this.width,ne.imgheight=this.height,ne.element&&$(ne),this.parentNode&&this.parentNode.removeChild(this),ie.imgCount--,ie.imgCount||!ue||ue.hasLoaded||ue.onload()},src:Z}),this.imgCount++)}return Q}clipRect(X,L,K,D){return this.rect(X,L,K,D,0)}text(X,L,K,D){let B={};if(D&&(this.allowHTML||!this.forExport))return this.html(X,L,K);B.x=Math.round(L||0),K&&(B.y=Math.round(K)),P(X)&&(B.text=X);let U=this.createElement("text").attr(B);return D&&(!this.forExport||this.allowHTML)||(U.xSetter=function(Q,q,Z){let $=Z.getElementsByTagName("tspan"),ie=Z.getAttribute(q);for(let te=0,Y;te<$.length;te++)(Y=$[te]).getAttribute(q)===ie&&Y.setAttribute(q,Q);Z.setAttribute(q,Q)}),U}fontMetrics(X){let L=M(l.prototype.getStyle.call(X,"font-size")||0),K=L<24?L+3:Math.round(1.2*L),D=Math.round(.8*K);return{h:K,b:D,f:L}}rotCorr(X,L,K){let D=X;return L&&K&&(D=Math.max(D*Math.cos(L*g),4)),{x:-X/3*Math.sin(L*g),y:D}}pathToSegments(X){let L=[],K=[],D={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let B=0;B<X.length;B++)S(K[0])&&C(X[B])&&K.length===D[K[0].toUpperCase()]&&X.splice(B,0,K[0].replace("M","L").replace("m","l")),typeof X[B]=="string"&&(K.length&&L.push(K.slice(0)),K.length=0),K.push(X[B]);return L.push(K.slice(0)),L}label(X,L,K,D,B,U,Q,q,Z){return new u(this,X,L,K,D,B,U,Q,q,Z)}alignElements(){this.alignedObjects.forEach(X=>X.align())}}return T(F.prototype,{Element:l,SVG_NS:R,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:d,draw:I}),o.registerRendererType("svg",F,!0),F}),r(i,"Core/Renderer/HTML/HTMLElement.js",[i["Core/Globals.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],function(n,a,s){let{composed:o}=n,{css:l,defined:u,extend:d,pushUnique:c,pInt:h}=s;class f extends a{static compose(g){if(c(o,this.compose)){let m=f.prototype,v=g.prototype;v.getSpanCorrection=m.getSpanCorrection,v.htmlCss=m.htmlCss,v.htmlGetBBox=m.htmlGetBBox,v.htmlUpdateTransform=m.htmlUpdateTransform,v.setSpanRotation=m.setSpanRotation}return g}getSpanCorrection(g,m,v){this.xCorr=-g*v,this.yCorr=-m}htmlCss(g){let m,{element:v}=this,b=v.tagName==="SPAN"&&g&&"width"in g,E=b&&g.width;return b&&(delete g.width,this.textWidth=h(E)||void 0,m=!0),(g==null?void 0:g.textOverflow)==="ellipsis"&&(g.whiteSpace="nowrap",g.overflow="hidden"),d(this.styles,g),l(v,g),m&&this.htmlUpdateTransform(),this}htmlGetBBox(){let{element:g}=this;return{x:g.offsetLeft,y:g.offsetTop,width:g.offsetWidth,height:g.offsetHeight}}htmlUpdateTransform(){if(!this.added){this.alignOnAdd=!0;return}let{element:g,renderer:m,rotation:v,styles:b,textAlign:E="left",textWidth:I,translateX:R=0,translateY:N=0,x:j=0,y:V=0}=this,H={left:0,center:.5,right:1}[E],W=b==null?void 0:b.whiteSpace;if(l(g,{marginLeft:`${R}px`,marginTop:`${N}px`}),g.tagName==="SPAN"){let G=[v,E,g.innerHTML,I,this.textAlign].join(","),P,A=!1;if(I!==this.oldTextWidth){let T=this.textPxLength?this.textPxLength:(l(g,{width:"",whiteSpace:W||"nowrap"}),g.offsetWidth),x=I||0;(x>this.oldTextWidth||T>x)&&(/[ \-]/.test(g.textContent||g.innerText)||g.style.textOverflow==="ellipsis")&&(l(g,{width:T>x||v?I+"px":"auto",display:"block",whiteSpace:W||"normal"}),this.oldTextWidth=I,A=!0)}this.hasBoxWidthChanged=A,G!==this.cTT&&(P=m.fontMetrics(g).b,u(v)&&(v!==(this.oldRotation||0)||E!==this.oldAlign)&&this.setSpanRotation(v,H,P),this.getSpanCorrection(!u(v)&&this.textPxLength||g.offsetWidth,P,H)),l(g,{left:j+(this.xCorr||0)+"px",top:V+(this.yCorr||0)+"px"}),this.cTT=G,this.oldRotation=v,this.oldAlign=E}}setSpanRotation(g,m,v){l(this.element,{transform:`rotate(${g}deg)`,transformOrigin:`${100*m}% ${v}px`})}}return f}),r(i,"Core/Renderer/HTML/HTMLRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Globals.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Utilities.js"]],function(n,a,s,o,l){let{composed:u}=a,{attr:d,createElement:c,extend:h,pick:f,pushUnique:p}=l;class g extends o{static compose(v){if(p(u,this.compose)){let b=g.prototype,E=v.prototype;E.html=b.html}return v}html(v,b,E){let I=this.createElement("span"),R=I.element,N=I.renderer,j=function(V,H){["opacity","visibility"].forEach(function(W){V[W+"Setter"]=function(G,P,A){let T=V.div?V.div.style:H;s.prototype[W+"Setter"].call(this,G,P,A),T&&(T[P]=G)}}),V.addedSetters=!0};return I.textSetter=function(V){V!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,n.setElementHTML(this.element,f(V,"")),this.textStr=V,I.doTransform=!0)},j(I,I.element.style),I.xSetter=I.ySetter=I.alignSetter=I.rotationSetter=function(V,H){H==="align"?I.alignValue=I.textAlign=V:I[H]=V,I.doTransform=!0},I.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},I.attr({text:v,x:Math.round(b),y:Math.round(E)}).css({position:"absolute"}),N.styledMode||I.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),R.style.whiteSpace="nowrap",I.css=I.htmlCss,I.add=function(V){let H,W,G=N.box.parentNode,P=[];if(this.parentGroup=V,V){if(!(H=V.div)){for(W=V;W;)P.push(W),W=W.parentGroup;P.reverse().forEach(function(A){var T;let x=d(A.element,"class"),C=A.css;function y(k,M){A[M]=k,M==="translateX"?w.left=k+"px":w.top=k+"px",A.doTransform=!0}let S=A.styles||{};H=A.div=A.div||c("div",x?{className:x}:void 0,{position:"absolute",left:(A.translateX||0)+"px",top:(A.translateY||0)+"px",display:A.display,opacity:A.opacity,visibility:A.visibility},H||G);let w=H.style;h(A,{classSetter:(T=H,function(k){this.element.setAttribute("class",k),T.className=k}),css:function(k){return C.call(A,k),["cursor","pointerEvents"].forEach(M=>{k[M]&&(w[M]=k[M])}),A},on:function(){return P[0].div&&I.on.apply({element:P[0].div,onEvents:A.onEvents},arguments),A},translateXSetter:y,translateYSetter:y}),A.addedSetters||j(A),A.css(S)})}}else H=G;return H.appendChild(R),I.added=!0,I.alignOnAdd&&I.htmlUpdateTransform(),I},I}}return g}),r(i,"Core/Axis/AxisDefaults.js",[],function(){var n,a;return(a=n||(n={})).xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},a.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:s}=this.axis.chart;return s(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},n}),r(i,"Core/Foundation.js",[i["Core/Utilities.js"]],function(n){var a;let{addEvent:s,isFunction:o,objectEach:l,removeEvent:u}=n;return(a||(a={})).registerEventOptions=function(d,c){d.eventOptions=d.eventOptions||{},l(c.events,function(h,f){d.eventOptions[f]!==h&&(d.eventOptions[f]&&(u(d,f,d.eventOptions[f]),delete d.eventOptions[f]),o(h)&&(d.eventOptions[f]=h,s(d,f,h,{order:0})))})},a}),r(i,"Core/Axis/Tick.js",[i["Core/Templating.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(n,a,s){let{deg2rad:o}=a,{clamp:l,correctFloat:u,defined:d,destroyObjectProperties:c,extend:h,fireEvent:f,isNumber:p,merge:g,objectEach:m,pick:v}=s;return class{constructor(b,E,I,R,N){this.isNew=!0,this.isNewLabel=!0,this.axis=b,this.pos=E,this.type=I||"",this.parameters=N||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,f(this,"init"),I||R||this.addLabel()}addLabel(){let b=this,E=b.axis,I=E.options,R=E.chart,N=E.categories,j=E.logarithmic,V=E.names,H=b.pos,W=v(b.options&&b.options.labels,I.labels),G=E.tickPositions,P=H===G[0],A=H===G[G.length-1],T=(!W.step||W.step===1)&&E.tickInterval===1,x=G.info,C=b.label,y,S,w,k=this.parameters.category||(N?v(N[H],V[H],H):H);j&&p(k)&&(k=u(j.lin2log(k))),E.dateTime&&(x?y=(S=R.time.resolveDTLFormat(I.dateTimeLabelFormats[!I.grid&&x.higherRanks[H]||x.unitName])).main:p(k)&&(y=E.dateTime.getXDateFormat(k,I.dateTimeLabelFormats||{}))),b.isFirst=P,b.isLast=A;let M={axis:E,chart:R,dateTimeLabelFormat:y,isFirst:P,isLast:A,pos:H,tick:b,tickPositionInfo:x,value:k};f(this,"labelFormat",M);let O=X=>W.formatter?W.formatter.call(X,X):W.format?(X.text=E.defaultLabelFormatter.call(X,X),n.format(W.format,X,R)):E.defaultLabelFormatter.call(X,X),F=O.call(M,M),z=S&&S.list;z?b.shortenLabel=function(){for(w=0;w<z.length;w++)if(h(M,{dateTimeLabelFormat:z[w]}),C.attr({text:O.call(M,M)}),C.getBBox().width<E.getSlotWidth(b)-2*W.padding)return;C.attr({text:""})}:b.shortenLabel=void 0,T&&E._addedPlotLB&&b.moveLabel(F,W),d(C)||b.movedLabel?C&&C.textStr!==F&&!T&&(!C.textWidth||W.style.width||C.styles.width||C.css({width:null}),C.attr({text:F}),C.textPxLength=C.getBBox().width):(b.label=C=b.createLabel(F,W),b.rotation=0)}createLabel(b,E,I){let R=this.axis,N=R.chart,j=d(b)&&E.enabled?N.renderer.text(b,I==null?void 0:I.x,I==null?void 0:I.y,E.useHTML).add(R.labelGroup):void 0;return j&&(N.styledMode||j.css(g(E.style)),j.textPxLength=j.getBBox().width),j}destroy(){c(this,this.axis)}getPosition(b,E,I,R){let N=this.axis,j=N.chart,V=R&&j.oldChartHeight||j.chartHeight,H={x:b?u(N.translate(E+I,void 0,void 0,R)+N.transB):N.left+N.offset+(N.opposite?(R&&j.oldChartWidth||j.chartWidth)-N.right-N.left:0),y:b?V-N.bottom+N.offset-(N.opposite?N.height:0):u(V-N.translate(E+I,void 0,void 0,R)-N.transB)};return H.y=l(H.y,-1e5,1e5),f(this,"afterGetPosition",{pos:H}),H}getLabelPosition(b,E,I,R,N,j,V,H){let W,G,P=this.axis,A=P.transA,T=P.isLinked&&P.linkedParent?P.linkedParent.reversed:P.reversed,x=P.staggerLines,C=P.tickRotCorr||{x:0,y:0},y=R||P.reserveSpaceDefault?0:-P.labelOffset*(P.labelAlign==="center"?.5:1),S=N.distance,w={};return W=P.side===0?I.rotation?-S:-I.getBBox().height:P.side===2?C.y+S:Math.cos(I.rotation*o)*(C.y-I.getBBox(!1,0).height/2),d(N.y)&&(W=P.side===0&&P.horiz?N.y+W:N.y),b=b+v(N.x,[0,1,0,-1][P.side]*S)+y+C.x-(j&&R?j*A*(T?-1:1):0),E=E+W-(j&&!R?j*A*(T?1:-1):0),x&&(G=V/(H||1)%x,P.opposite&&(G=x-G-1),E+=G*(P.labelOffset/x)),w.x=b,w.y=Math.round(E),f(this,"afterGetLabelPosition",{pos:w,tickmarkOffset:j,index:V}),w}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(b,E,I,R,N,j){return j.crispLine([["M",b,E],["L",b+(N?0:-I),E+(N?I:0)]],R)}handleOverflow(b){let E=this.axis,I=E.options.labels,R=b.x,N=E.chart.chartWidth,j=E.chart.spacing,V=v(E.labelLeft,Math.min(E.pos,j[3])),H=v(E.labelRight,Math.max(E.isRadial?0:E.pos+E.len,N-j[1])),W=this.label,G=this.rotation,P={left:0,center:.5,right:1}[E.labelAlign||W.attr("align")],A=W.getBBox().width,T=E.getSlotWidth(this),x={},C=T,y=1,S;G||I.overflow!=="justify"?G<0&&R-P*A<V?S=Math.round(R/Math.cos(G*o)-V):G>0&&R+P*A>H&&(S=Math.round((N-R)/Math.cos(G*o))):(R-P*A<V?C=b.x+C*(1-P)-V:R+(1-P)*A>H&&(C=H-b.x+C*P,y=-1),(C=Math.min(T,C))<T&&E.labelAlign==="center"&&(b.x+=y*(T-C-P*(T-Math.min(A,C)))),(A>C||E.autoRotation&&(W.styles||{}).width)&&(S=C)),S&&(this.shortenLabel?this.shortenLabel():(x.width=Math.floor(S)+"px",(I.style||{}).textOverflow||(x.textOverflow="ellipsis"),W.css(x)))}moveLabel(b,E){let I=this,R=I.label,N=I.axis,j=!1,V;R&&R.textStr===b?(I.movedLabel=R,j=!0,delete I.label):m(N.ticks,function(H){j||H.isNew||H===I||!H.label||H.label.textStr!==b||(I.movedLabel=H.label,j=!0,H.labelPos=I.movedLabel.xy,delete H.label)}),!j&&(I.labelPos||R)&&(V=I.labelPos||R.xy,I.movedLabel=I.createLabel(b,E,V),I.movedLabel&&I.movedLabel.attr({opacity:0}))}render(b,E,I){let R=this.axis,N=R.horiz,j=this.pos,V=v(this.tickmarkOffset,R.tickmarkOffset),H=this.getPosition(N,j,V,E),W=H.x,G=H.y,P=N&&W===R.pos+R.len||!N&&G===R.pos?-1:1,A=v(I,this.label&&this.label.newOpacity,1);I=v(I,1),this.isActive=!0,this.renderGridLine(E,I,P),this.renderMark(H,I,P),this.renderLabel(H,E,A,b),this.isNew=!1,f(this,"afterRender")}renderGridLine(b,E,I){let R=this.axis,N=R.options,j={},V=this.pos,H=this.type,W=v(this.tickmarkOffset,R.tickmarkOffset),G=R.chart.renderer,P=this.gridLine,A,T=N.gridLineWidth,x=N.gridLineColor,C=N.gridLineDashStyle;this.type==="minor"&&(T=N.minorGridLineWidth,x=N.minorGridLineColor,C=N.minorGridLineDashStyle),P||(R.chart.styledMode||(j.stroke=x,j["stroke-width"]=T||0,j.dashstyle=C),H||(j.zIndex=1),b&&(E=0),this.gridLine=P=G.path().attr(j).addClass("highcharts-"+(H?H+"-":"")+"grid-line").add(R.gridGroup)),P&&(A=R.getPlotLinePath({value:V+W,lineWidth:P.strokeWidth()*I,force:"pass",old:b,acrossPanes:!1}))&&P[b||this.isNew?"attr":"animate"]({d:A,opacity:E})}renderMark(b,E,I){let R=this.axis,N=R.options,j=R.chart.renderer,V=this.type,H=R.tickSize(V?V+"Tick":"tick"),W=b.x,G=b.y,P=v(N[V!=="minor"?"tickWidth":"minorTickWidth"],!V&&R.isXAxis?1:0),A=N[V!=="minor"?"tickColor":"minorTickColor"],T=this.mark,x=!T;H&&(R.opposite&&(H[0]=-H[0]),T||(this.mark=T=j.path().addClass("highcharts-"+(V?V+"-":"")+"tick").add(R.axisGroup),R.chart.styledMode||T.attr({stroke:A,"stroke-width":P})),T[x?"attr":"animate"]({d:this.getMarkPath(W,G,H[0],T.strokeWidth()*I,R.horiz,j),opacity:E}))}renderLabel(b,E,I,R){let N=this.axis,j=N.horiz,V=N.options,H=this.label,W=V.labels,G=W.step,P=v(this.tickmarkOffset,N.tickmarkOffset),A=b.x,T=b.y,x=!0;H&&p(A)&&(H.xy=b=this.getLabelPosition(A,T,H,j,W,P,R,G),(!this.isFirst||this.isLast||V.showFirstLabel)&&(!this.isLast||this.isFirst||V.showLastLabel)?!j||W.step||W.rotation||E||I===0||this.handleOverflow(b):x=!1,G&&R%G&&(x=!1),x&&p(b.y)?(b.opacity=I,H[this.isNewLabel?"attr":"animate"](b).show(!0),this.isNewLabel=!1):(H.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let b=this.label,E=this.axis;b&&!this.isNew&&(b.animate({opacity:0},void 0,b.destroy),delete this.label),E.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}}),r(i,"Core/Axis/Axis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/AxisDefaults.js"],i["Core/Color/Color.js"],i["Core/Defaults.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Axis/Tick.js"],i["Core/Utilities.js"]],function(n,a,s,o,l,u,d,c){let{animObject:h}=n,{xAxis:f,yAxis:p}=a,{defaultOptions:g}=o,{registerEventOptions:m}=l,{deg2rad:v}=u,{arrayMax:b,arrayMin:E,clamp:I,correctFloat:R,defined:N,destroyObjectProperties:j,erase:V,error:H,extend:W,fireEvent:G,getClosestDistance:P,insertItem:A,isArray:T,isNumber:x,isString:C,merge:y,normalizeTickInterval:S,objectEach:w,pick:k,relativeLength:M,removeEvent:O,splat:F,syncTimeout:z}=c,X=(K,D)=>S(D,void 0,void 0,k(K.options.allowDecimals,D<.5||K.tickAmount!==void 0),!!K.tickAmount);W(g,{xAxis:f,yAxis:y(f,p)});class L{constructor(D,B,U){this.init(D,B,U)}init(D,B,U=this.coll){let Q=U==="xAxis",q=this.isZAxis||(D.inverted?!Q:Q);this.chart=D,this.horiz=q,this.isXAxis=Q,this.coll=U,G(this,"init",{userOptions:B}),this.opposite=k(B.opposite,this.opposite),this.side=k(B.side,this.side,q?this.opposite?0:2:this.opposite?1:3),this.setOptions(B);let Z=this.options,$=Z.labels,ie=Z.type;this.userOptions=B,this.minPixelPadding=0,this.reversed=k(Z.reversed,this.reversed),this.visible=Z.visible,this.zoomEnabled=Z.zoomEnabled,this.hasNames=ie==="category"||Z.categories===!0,this.categories=T(Z.categories)&&Z.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=N(Z.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=Z.minRange||Z.maxZoom,this.range=Z.range,this.offset=Z.offset||0,this.max=void 0,this.min=void 0;let te=k(Z.crosshair,F(D.options.tooltip.crosshairs)[Q?0:1]);this.crosshair=te===!0?{}:te,D.axes.indexOf(this)===-1&&(Q?D.axes.splice(D.xAxis.length,0,this):D.axes.push(this),A(this,D[this.coll])),D.orderItems(this.coll),this.series=this.series||[],D.inverted&&!this.isZAxis&&Q&&!N(this.reversed)&&(this.reversed=!0),this.labelRotation=x($.rotation)?$.rotation:void 0,m(this,Z),G(this,"afterInit")}setOptions(D){let B=this.horiz?{labels:{autoRotation:[-45]},margin:15}:{title:{rotation:90*this.side}};this.options=y(B,g[this.coll],D),G(this,"afterSetOptions",{userOptions:D})}defaultLabelFormatter(D){let B=this.axis,U=this.chart,{numberFormatter:Q}=U,q=x(this.value)?this.value:NaN,Z=B.chart.time,$=B.categories,ie=this.dateTimeLabelFormat,te=g.lang,Y=te.numericSymbols,ee=te.numericSymbolMagnitude||1e3,re=B.logarithmic?Math.abs(q):B.tickInterval,ne=Y&&Y.length,ue,le;if($)le=`${this.value}`;else if(ie)le=Z.dateFormat(ie,q);else if(ne&&Y&&re>=1e3)for(;ne--&&le===void 0;)re>=(ue=Math.pow(ee,ne+1))&&10*q%ue==0&&Y[ne]!==null&&q!==0&&(le=Q(q/ue,-1)+Y[ne]);return le===void 0&&(le=Math.abs(q)>=1e4?Q(q,-1):Q(q,-1,void 0,"")),le}getSeriesExtremes(){let D,B=this;G(this,"getSeriesExtremes",null,function(){B.hasVisibleSeries=!1,B.dataMin=B.dataMax=B.threshold=void 0,B.softThreshold=!B.isXAxis,B.series.forEach(U=>{if(U.reserveSpace()){let Q=U.options,q,Z=Q.threshold,$,ie;if(B.hasVisibleSeries=!0,B.positiveValuesOnly&&0>=(Z||0)&&(Z=void 0),B.isXAxis)(q=U.xData)&&q.length&&(q=B.logarithmic?q.filter(te=>te>0):q,$=(D=U.getXExtremes(q)).min,ie=D.max,x($)||$ instanceof Date||(q=q.filter(x),$=(D=U.getXExtremes(q)).min,ie=D.max),q.length&&(B.dataMin=Math.min(k(B.dataMin,$),$),B.dataMax=Math.max(k(B.dataMax,ie),ie)));else{let te=U.applyExtremes();x(te.dataMin)&&($=te.dataMin,B.dataMin=Math.min(k(B.dataMin,$),$)),x(te.dataMax)&&(ie=te.dataMax,B.dataMax=Math.max(k(B.dataMax,ie),ie)),N(Z)&&(B.threshold=Z),(!Q.softThreshold||B.positiveValuesOnly)&&(B.softThreshold=!1)}}})}),G(this,"afterGetSeriesExtremes")}translate(D,B,U,Q,q,Z){var le;let $=this.linkedParent||this,ie=Q&&$.old?$.old.min:$.min;if(!x(ie))return NaN;let te=$.minPixelPadding,Y=($.isOrdinal||((le=$.brokenAxis)==null?void 0:le.hasBreaks)||$.logarithmic&&q)&&$.lin2val,ee=1,re=0,ne=Q&&$.old?$.old.transA:$.transA,ue=0;if(ne||(ne=$.transA),U&&(ee*=-1,re=$.len),$.reversed&&(ee*=-1,re-=ee*($.sector||$.len)),B)ue=(D=D*ee+re-te)/ne+ie,Y&&(ue=$.lin2val(ue));else{Y&&(D=$.val2lin(D));let pe=ee*(D-ie)*ne;ue=($.isRadial?pe:R(pe))+re+ee*te+(x(Z)?ne*Z:0)}return ue}toPixels(D,B){return this.translate(D,!1,!this.horiz,void 0,!0)+(B?0:this.pos)}toValue(D,B){return this.translate(D-(B?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(D){let B=this,U=B.chart,Q=B.left,q=B.top,Z=D.old,$=D.value,ie=D.lineWidth,te=Z&&U.oldChartHeight||U.chartHeight,Y=Z&&U.oldChartWidth||U.chartWidth,ee=B.transB,re=D.translatedValue,ne=D.force,ue,le,pe,se,ae;function de(me,ge,ye){return ne!=="pass"&&(me<ge||me>ye)&&(ne?me=I(me,ge,ye):ae=!0),me}let fe={value:$,lineWidth:ie,old:Z,force:ne,acrossPanes:D.acrossPanes,translatedValue:re};return G(this,"getPlotLinePath",fe,function(me){ue=pe=Math.round((re=I(re=k(re,B.translate($,void 0,void 0,Z)),-1e5,1e5))+ee),le=se=Math.round(te-re-ee),x(re)?B.horiz?(le=q,se=te-B.bottom,ue=pe=de(ue,Q,Q+B.width)):(ue=Q,pe=Y-B.right,le=se=de(le,q,q+B.height)):(ae=!0,ne=!1),me.path=ae&&!ne?void 0:U.renderer.crispLine([["M",ue,le],["L",pe,se]],ie||1)}),fe.path}getLinearTickPositions(D,B,U){let Q,q,Z,$=R(Math.floor(B/D)*D),ie=R(Math.ceil(U/D)*D),te=[];if(R($+D)===$&&(Z=20),this.single)return[B];for(Q=$;Q<=ie&&(te.push(Q),(Q=R(Q+D,Z))!==q);)q=Q;return te}getMinorTickInterval(){let{minorTicks:D,minorTickInterval:B}=this.options;return D===!0?k(B,"auto"):D!==!1?B:void 0}getMinorTickPositions(){let D=this.options,B=this.tickPositions,U=this.minorTickInterval,Q=this.pointRangePadding||0,q=(this.min||0)-Q,Z=(this.max||0)+Q,$=Z-q,ie=[],te;if($&&$/U<this.len/3){let Y=this.logarithmic;if(Y)this.paddedTicks.forEach(function(ee,re,ne){re&&ie.push.apply(ie,Y.getLogTickPositions(U,ne[re-1],ne[re],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")ie=ie.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(U),q,Z,D.startOfWeek));else for(te=q+(B[0]-q)%U;te<=Z&&te!==ie[0];te+=U)ie.push(te)}return ie.length!==0&&this.trimTicks(ie),ie}adjustForMinRange(){let D=this.options,B=this.logarithmic,{max:U,min:Q,minRange:q}=this,Z,$,ie,te;this.isXAxis&&q===void 0&&!B&&(q=N(D.min)||N(D.max)||N(D.floor)||N(D.ceiling)?null:Math.min(5*(P(this.series.map(Y=>{var ee;return(Y.xIncrement?(ee=Y.xData)==null?void 0:ee.slice(0,2):Y.xData)||[]}))||0),this.dataMax-this.dataMin)),x(U)&&x(Q)&&x(q)&&U-Q<q&&($=this.dataMax-this.dataMin>=q,Z=(q-U+Q)/2,ie=[Q-Z,k(D.min,Q-Z)],$&&(ie[2]=B?B.log2lin(this.dataMin):this.dataMin),te=[(Q=b(ie))+q,k(D.max,Q+q)],$&&(te[2]=B?B.log2lin(this.dataMax):this.dataMax),(U=E(te))-Q<q&&(ie[0]=U-q,ie[1]=k(D.min,U-q),Q=b(ie))),this.minRange=q,this.min=Q,this.max=U}getClosest(){let D,B;if(this.categories)B=1;else{let U=[];this.series.forEach(function(Q){var Z;let q=Q.closestPointRange;((Z=Q.xData)==null?void 0:Z.length)===1?U.push(Q.xData[0]):!Q.noSharedTooltip&&N(q)&&Q.reserveSpace()&&(B=N(B)?Math.min(B,q):q)}),U.length&&(U.sort((Q,q)=>Q-q),D=P([U]))}return D&&B?Math.min(D,B):D||B}nameToX(D){let B=T(this.options.categories),U=B?this.categories:this.names,Q=D.options.x,q;return D.series.requireSorting=!1,N(Q)||(Q=this.options.uniqueNames&&U?B?U.indexOf(D.name):k(U.keys[D.name],-1):D.series.autoIncrement()),Q===-1?!B&&U&&(q=U.length):q=Q,q!==void 0?(this.names[q]=D.name,this.names.keys[D.name]=q):D.x&&(q=D.x),q}updateNames(){let D=this,B=this.names;B.length>0&&(Object.keys(B.keys).forEach(function(Q){delete B.keys[Q]}),B.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(Q=>{Q.xIncrement=null,(!Q.points||Q.isDirtyData)&&(D.max=Math.max(D.max,Q.xData.length-1),Q.processData(),Q.generatePoints()),Q.data.forEach(function(q,Z){let $;q!=null&&q.options&&q.name!==void 0&&($=D.nameToX(q))!==void 0&&$!==q.x&&(q.x=$,Q.xData[Z]=$)})}))}setAxisTranslation(){let D=this,B=D.max-D.min,U=D.linkedParent,Q=!!D.categories,q=D.isXAxis,Z=D.axisPointRange||0,$,ie=0,te=0,Y,ee=D.transA;(q||Q||Z)&&($=D.getClosest(),U?(ie=U.minPointOffset,te=U.pointRangePadding):D.series.forEach(function(re){let ne=Q?1:q?k(re.options.pointRange,$,0):D.axisPointRange||0,ue=re.options.pointPlacement;if(Z=Math.max(Z,ne),!D.single||Q){let le=re.is("xrange")?!q:q;ie=Math.max(ie,le&&C(ue)?0:ne/2),te=Math.max(te,le&&ue==="on"?0:ne)}}),Y=D.ordinal&&D.ordinal.slope&&$?D.ordinal.slope/$:1,D.minPointOffset=ie*=Y,D.pointRangePadding=te*=Y,D.pointRange=Math.min(Z,D.single&&Q?1:B),q&&$&&(D.closestPointRange=$)),D.translationSlope=D.transA=ee=D.staticScale||D.len/(B+te||1),D.transB=D.horiz?D.left:D.bottom,D.minPixelPadding=ee*ie,G(this,"afterSetAxisTranslation")}minFromRange(){let{max:D,min:B}=this;return x(D)&&x(B)&&D-B||void 0}setTickInterval(D){var Pe,$e,Le,je;let{categories:B,chart:U,dataMax:Q,dataMin:q,dateTime:Z,isXAxis:$,logarithmic:ie,options:te,softThreshold:Y}=this,ee=x(this.threshold)?this.threshold:void 0,re=this.minRange||0,{ceiling:ne,floor:ue,linkedTo:le,softMax:pe,softMin:se}=te,ae=x(le)&&((Pe=U[this.coll])==null?void 0:Pe[le]),de=te.tickPixelInterval,fe=te.maxPadding,me=te.minPadding,ge=0,ye,_e=x(te.tickInterval)&&te.tickInterval>=0?te.tickInterval:void 0,Se,Ie,Ce,Te;if(Z||B||ae||this.getTickAmount(),Ce=k(this.userMin,te.min),Te=k(this.userMax,te.max),ae?(this.linkedParent=ae,ye=ae.getExtremes(),this.min=k(ye.min,ye.dataMin),this.max=k(ye.max,ye.dataMax),te.type!==ae.options.type&&H(11,!0,U)):(Y&&N(ee)&&x(Q)&&x(q)&&(q>=ee?(Se=ee,me=0):Q<=ee&&(Ie=ee,fe=0)),this.min=k(Ce,Se,q),this.max=k(Te,Ie,Q)),x(this.max)&&x(this.min)&&(ie&&(this.positiveValuesOnly&&!D&&0>=Math.min(this.min,k(q,this.min))&&H(10,!0,U),this.min=R(ie.log2lin(this.min),16),this.max=R(ie.log2lin(this.max),16)),this.range&&x(q)&&(this.userMin=this.min=Ce=Math.max(q,this.minFromRange()||0),this.userMax=Te=this.max,this.range=void 0)),G(this,"foundExtremes"),this.adjustForMinRange(),x(this.min)&&x(this.max)){if(!x(this.userMin)&&x(se)&&se<this.min&&(this.min=Ce=se),!x(this.userMax)&&x(pe)&&pe>this.max&&(this.max=Te=pe),B||this.axisPointRange||($e=this.stacking)!=null&&$e.usePercentage||ae||!(ge=this.max-this.min)||(!N(Ce)&&me&&(this.min-=ge*me),N(Te)||!fe||(this.max+=ge*fe)),!x(this.userMin)&&x(ue)&&(this.min=Math.max(this.min,ue)),!x(this.userMax)&&x(ne)&&(this.max=Math.min(this.max,ne)),Y&&x(q)&&x(Q)){let Xe=ee||0;!N(Ce)&&this.min<Xe&&q>=Xe?this.min=te.minRange?Math.min(Xe,this.max-re):Xe:!N(Te)&&this.max>Xe&&Q<=Xe&&(this.max=te.minRange?Math.max(Xe,this.min+re):Xe)}!U.polar&&this.min>this.max&&(N(te.min)?this.max=this.min:N(te.max)&&(this.min=this.max)),ge=this.max-this.min}if(this.min!==this.max&&x(this.min)&&x(this.max)?ae&&!_e&&de===ae.options.tickPixelInterval?this.tickInterval=_e=ae.tickInterval:this.tickInterval=k(_e,this.tickAmount?ge/Math.max(this.tickAmount-1,1):void 0,B?1:ge*de/Math.max(this.len,de)):this.tickInterval=1,$&&!D){let Xe=this.min!==((Le=this.old)==null?void 0:Le.min)||this.max!==((je=this.old)==null?void 0:je.max);this.series.forEach(function(it){var rt;it.forceCrop=(rt=it.forceCropping)==null?void 0:rt.call(it),it.processData(Xe)}),G(this,"postProcessData",{hasExtremesChanged:Xe})}this.setAxisTranslation(),G(this,"initialAxisTranslation"),this.pointRange&&!_e&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let Me=k(te.minTickInterval,Z&&!this.series.some(Xe=>Xe.noSharedTooltip)?this.closestPointRange:0);!_e&&this.tickInterval<Me&&(this.tickInterval=Me),Z||ie||_e||(this.tickInterval=X(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var ee,re;let D=this.options,B=D.tickPositions,U=D.tickPositioner,Q=this.getMinorTickInterval(),q=this.hasVerticalPanning(),Z=this.coll==="colorAxis",$=(Z||!q)&&D.startOnTick,ie=(Z||!q)&&D.endOnTick,te=[],Y;if(this.tickmarkOffset=this.categories&&D.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=Q==="auto"&&this.tickInterval?this.tickInterval/D.minorTicksPerMajor:Q,this.single=this.min===this.max&&N(this.min)&&!this.tickAmount&&(this.min%1==0||D.allowDecimals!==!1),B)te=B.slice();else if(x(this.min)&&x(this.max)){if(!((ee=this.ordinal)!=null&&ee.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))te=[this.min,this.max],H(19,!1,this.chart);else if(this.dateTime)te=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,D.units),this.min,this.max,D.startOfWeek,(re=this.ordinal)==null?void 0:re.positions,this.closestPointRange,!0);else if(this.logarithmic)te=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let ne=this.tickInterval,ue=ne;for(;ue<=2*ne&&(te=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&te.length>this.tickAmount);)this.tickInterval=X(this,ue*=1.1)}te.length>this.len&&(te=[te[0],te[te.length-1]])[0]===te[1]&&(te.length=1),U&&(this.tickPositions=te,(Y=U.apply(this,[this.min,this.max]))&&(te=Y))}this.tickPositions=te,this.paddedTicks=te.slice(0),this.trimTicks(te,$,ie),!this.isLinked&&x(this.min)&&x(this.max)&&(this.single&&te.length<2&&!this.categories&&!this.series.some(ne=>ne.is("heatmap")&&ne.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),B||Y||this.adjustTickAmount()),G(this,"afterSetTickPositions")}trimTicks(D,B,U){let Q=D[0],q=D[D.length-1],Z=!this.isOrdinal&&this.minPointOffset||0;if(G(this,"trimTicks"),!this.isLinked){if(B&&Q!==-1/0)this.min=Q;else for(;this.min-Z>D[0];)D.shift();if(U)this.max=q;else for(;this.max+Z<D[D.length-1];)D.pop();D.length===0&&N(Q)&&!this.options.tickPositions&&D.push((q+Q)/2)}}alignToOthers(){let D,B=this,U=[this],Q=B.options,q=this.chart.options.chart,Z=this.coll==="yAxis"&&q.alignThresholds,$=[];if(B.thresholdAlignment=void 0,(q.alignTicks!==!1&&Q.alignTicks||Z)&&Q.startOnTick!==!1&&Q.endOnTick!==!1&&!B.logarithmic){let ie=Y=>{let{horiz:ee,options:re}=Y;return[ee?re.left:re.top,re.width,re.height,re.pane].join(",")},te=ie(this);this.chart[this.coll].forEach(function(Y){let{series:ee}=Y;ee.length&&ee.some(re=>re.visible)&&Y!==B&&ie(Y)===te&&(D=!0,U.push(Y))})}if(D&&Z){U.forEach(te=>{let Y=te.getThresholdAlignment(B);x(Y)&&$.push(Y)});let ie=$.length>1?$.reduce((te,Y)=>te+=Y,0)/$.length:void 0;U.forEach(te=>{te.thresholdAlignment=ie})}return D}getThresholdAlignment(D){if((!x(this.dataMin)||this!==D&&this.series.some(B=>B.isDirty||B.isDirtyData))&&this.getSeriesExtremes(),x(this.threshold)){let B=I((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(B=1-B),B}}getTickAmount(){let D=this.options,B=D.tickPixelInterval,U=D.tickAmount;N(D.tickInterval)||U||!(this.len<B)||this.isRadial||this.logarithmic||!D.startOnTick||!D.endOnTick||(U=2),!U&&this.alignToOthers()&&(U=Math.ceil(this.len/B)+1),U<4&&(this.finalTickAmt=U,U=5),this.tickAmount=U}adjustTickAmount(){let D=this,{finalTickAmt:B,max:U,min:Q,options:q,tickPositions:Z,tickAmount:$,thresholdAlignment:ie}=D,te=Z==null?void 0:Z.length,Y=k(D.threshold,D.softThreshold?0:null),ee,re,ne=D.tickInterval,ue,le=()=>Z.push(R(Z[Z.length-1]+ne)),pe=()=>Z.unshift(R(Z[0]-ne));if(x(ie)&&(ue=ie<.5?Math.ceil(ie*($-1)):Math.floor(ie*($-1)),q.reversed&&(ue=$-1-ue)),D.hasData()&&x(Q)&&x(U)){let se=()=>{D.transA*=(te-1)/($-1),D.min=q.startOnTick?Z[0]:Math.min(Q,Z[0]),D.max=q.endOnTick?Z[Z.length-1]:Math.max(U,Z[Z.length-1])};if(x(ue)&&x(D.threshold)){for(;Z[ue]!==Y||Z.length!==$||Z[0]>Q||Z[Z.length-1]<U;){for(Z.length=0,Z.push(D.threshold);Z.length<$;)Z[ue]===void 0||Z[ue]>D.threshold?pe():le();if(ne>8*D.tickInterval)break;ne*=2}se()}else if(te<$){for(;Z.length<$;)Z.length%2||Q===Y?le():pe();se()}if(N(B)){for(re=ee=Z.length;re--;)(B===3&&re%2==1||B<=2&&re>0&&re<ee-1)&&Z.splice(re,1);D.finalTickAmt=void 0}}}setScale(){var Z,$;let{coll:D,stacking:B}=this,U=!1,Q=!1;this.series.forEach(ie=>{U=U||ie.isDirtyData||ie.isDirty,Q=Q||ie.xAxis&&ie.xAxis.isDirty||!1}),this.setAxisSize();let q=this.len!==(this.old&&this.old.len);q||U||Q||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(B&&D==="yAxis"&&B.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),B&&D==="xAxis"&&B.buildStacks(),this.isDirty||(this.isDirty=q||this.min!==((Z=this.old)==null?void 0:Z.min)||this.max!==(($=this.old)==null?void 0:$.max))):B&&B.cleanStacks(),U&&this.panningState&&(this.panningState.isDirty=!0),G(this,"afterSetScale")}setExtremes(D,B,U=!0,Q,q){let Z=this,$=Z.chart;Z.series.forEach(ie=>{delete ie.kdTree}),G(Z,"setExtremes",q=W(q,{min:D,max:B}),()=>{Z.userMin=D,Z.userMax=B,Z.eventArgs=q,U&&$.redraw(Q)})}zoom(D,B){let U=this,Q=this.dataMin,q=this.dataMax,Z=this.options,$=Math.min(Q,k(Z.min,Q)),ie=Math.max(q,k(Z.max,q)),te={newMin:D,newMax:B};return G(this,"zoom",te,function(Y){let ee=Y.newMin,re=Y.newMax;(ee!==U.min||re!==U.max)&&(!U.allowZoomOutside&&(N(Q)&&(ee<$&&(ee=$),ee>ie&&(ee=ie)),N(q)&&(re<$&&(re=$),re>ie&&(re=ie))),U.displayBtn=ee!==void 0||re!==void 0,U.setExtremes(ee,re,!1,void 0,{trigger:"zoom"})),Y.zoomed=!0}),te.zoomed}setAxisSize(){let D=this.chart,B=this.options,U=B.offsets||[0,0,0,0],Q=this.horiz,q=this.width=Math.round(M(k(B.width,D.plotWidth-U[3]+U[1]),D.plotWidth)),Z=this.height=Math.round(M(k(B.height,D.plotHeight-U[0]+U[2]),D.plotHeight)),$=this.top=Math.round(M(k(B.top,D.plotTop+U[0]),D.plotHeight,D.plotTop)),ie=this.left=Math.round(M(k(B.left,D.plotLeft+U[3]),D.plotWidth,D.plotLeft));this.bottom=D.chartHeight-Z-$,this.right=D.chartWidth-q-ie,this.len=Math.max(Q?q:Z,0),this.pos=Q?ie:$}getExtremes(){let D=this.logarithmic;return{min:D?R(D.lin2log(this.min)):this.min,max:D?R(D.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(D){let B=this.logarithmic,U=B?B.lin2log(this.min):this.min,Q=B?B.lin2log(this.max):this.max;return D===null||D===-1/0?D=U:D===1/0?D=Q:U>D?D=U:Q<D&&(D=Q),this.translate(D,0,1,0,1)}autoLabelAlign(D){let B=(k(D,0)-90*this.side+720)%360,U={align:"center"};return G(this,"autoLabelAlign",U,function(Q){B>15&&B<165?Q.align="right":B>195&&B<345&&(Q.align="left")}),U.align}tickSize(D){let B=this.options,U=k(B[D==="tick"?"tickWidth":"minorTickWidth"],D==="tick"&&this.isXAxis&&!this.categories?1:0),Q=B[D==="tick"?"tickLength":"minorTickLength"],q;U&&Q&&(B[D+"Position"]==="inside"&&(Q=-Q),q=[Q,U]);let Z={tickSize:q};return G(this,"afterTickSize",Z),Z.tickSize}labelMetrics(){let D=this.chart.renderer,B=this.ticks,U=B[Object.keys(B)[0]]||{};return this.chart.renderer.fontMetrics(U.label||U.movedLabel||D.box)}unsquish(){let D=this.options.labels,B=this.horiz,U=this.tickInterval,Q=this.len/(((this.categories?1:0)+this.max-this.min)/U),q=D.rotation,Z=this.labelMetrics().h,$=Math.max(this.max-this.min,0),ie=function(ne){let ue=ne/(Q||1);return(ue=ue>1?Math.ceil(ue):1)*U>$&&ne!==1/0&&Q!==1/0&&$&&(ue=Math.ceil($/U)),R(ue*U)},te=U,Y,ee=Number.MAX_VALUE,re;if(B){if(!D.staggerLines&&(x(q)?re=[q]:Q<D.autoRotationLimit&&(re=D.autoRotation)),re){let ne,ue;for(let le of re)(le===q||le&&le>=-90&&le<=90)&&(ue=(ne=ie(Math.abs(Z/Math.sin(v*le))))+Math.abs(le/360))<ee&&(ee=ue,Y=le,te=ne)}}else te=ie(.75*Z);return this.autoRotation=re,this.labelRotation=k(Y,x(q)?q:0),D.step?U:te}getSlotWidth(D){let B=this.chart,U=this.horiz,Q=this.options.labels,q=Math.max(this.tickPositions.length-(this.categories?0:1),1),Z=B.margin[3];if(D&&x(D.slotWidth))return D.slotWidth;if(U&&Q.step<2)return Q.rotation?0:(this.staggerLines||1)*this.len/q;if(!U){let $=Q.style.width;if($!==void 0)return parseInt(String($),10);if(Z)return Z-B.spacing[3]}return .33*B.chartWidth}renderUnsquish(){let D=this.chart,B=D.renderer,U=this.tickPositions,Q=this.ticks,q=this.options.labels,Z=q.style,$=this.horiz,ie=this.getSlotWidth(),te=Math.max(1,Math.round(ie-2*q.padding)),Y={},ee=this.labelMetrics(),re=Z.textOverflow,ne,ue,le=0,pe,se;if(C(q.rotation)||(Y.rotation=q.rotation||0),U.forEach(function(ae){let de=Q[ae];de.movedLabel&&de.replaceMovedLabel(),de&&de.label&&de.label.textPxLength>le&&(le=de.label.textPxLength)}),this.maxLabelLength=le,this.autoRotation)le>te&&le>ee.h?Y.rotation=this.labelRotation:this.labelRotation=0;else if(ie&&(ne=te,!re))for(ue="clip",se=U.length;!$&&se--;)(pe=Q[U[se]].label)&&(pe.styles&&pe.styles.textOverflow==="ellipsis"?pe.css({textOverflow:"clip"}):pe.textPxLength>ie&&pe.css({width:ie+"px"}),pe.getBBox().height>this.len/U.length-(ee.h-ee.f)&&(pe.specificTextOverflow="ellipsis"));Y.rotation&&(ne=le>.5*D.chartHeight?.33*D.chartHeight:le,re||(ue="ellipsis")),this.labelAlign=q.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(Y.align=this.labelAlign),U.forEach(function(ae){let de=Q[ae],fe=de&&de.label,me=Z.width,ge={};fe&&(fe.attr(Y),de.shortenLabel?de.shortenLabel():ne&&!me&&Z.whiteSpace!=="nowrap"&&(ne<fe.textPxLength||fe.element.tagName==="SPAN")?(ge.width=ne+"px",re||(ge.textOverflow=fe.specificTextOverflow||ue),fe.css(ge)):fe.styles&&fe.styles.width&&!ge.width&&!me&&fe.css({width:null}),delete fe.specificTextOverflow,de.rotation=Y.rotation)},this),this.tickRotCorr=B.rotCorr(ee.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(D){return D.hasData()})||this.options.showEmpty&&N(this.min)&&N(this.max)}addTitle(D){let B,U=this.chart.renderer,Q=this.horiz,q=this.opposite,Z=this.options,$=Z.title,ie=this.chart.styledMode;this.axisTitle||((B=$.textAlign)||(B=(Q?{low:"left",middle:"center",high:"right"}:{low:q?"right":"left",middle:"center",high:q?"left":"right"})[$.align]),this.axisTitle=U.text($.text||"",0,0,$.useHTML).attr({zIndex:7,rotation:$.rotation||0,align:B}).addClass("highcharts-axis-title"),ie||this.axisTitle.css(y($.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),ie||$.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[D?"show":"hide"](D)}generateTick(D){let B=this.ticks;B[D]?B[D].addLabel():B[D]=new d(this,D)}createGroups(){let{axisParent:D,chart:B,coll:U,options:Q}=this,q=B.renderer,Z=($,ie,te)=>q.g($).attr({zIndex:te}).addClass(`highcharts-${U.toLowerCase()}${ie} `+(this.isRadial?`highcharts-radial-axis${ie} `:"")+(Q.className||"")).add(D);this.axisGroup||(this.gridGroup=Z("grid","-grid",Q.gridZIndex),this.axisGroup=Z("axis","",Q.zIndex),this.labelGroup=Z("axis-labels","-labels",Q.labels.zIndex))}getOffset(){let D=this,{chart:B,horiz:U,options:Q,side:q,ticks:Z,tickPositions:$,coll:ie}=D,te=B.inverted&&!D.isZAxis?[1,0,3,2][q]:q,Y=D.hasData(),ee=Q.title,re=Q.labels,ne=x(Q.crossing),ue=B.axisOffset,le=B.clipOffset,pe=[-1,1,1,-1][q],se,ae=0,de,fe=0,me=0,ge,ye;if(D.showAxis=se=Y||Q.showEmpty,D.staggerLines=D.horiz&&re.staggerLines||void 0,D.createGroups(),Y||D.isLinked?($.forEach(function(_e){D.generateTick(_e)}),D.renderUnsquish(),D.reserveSpaceDefault=q===0||q===2||{1:"left",3:"right"}[q]===D.labelAlign,k(re.reserveSpace,!ne&&null,D.labelAlign==="center"||null,D.reserveSpaceDefault)&&$.forEach(function(_e){me=Math.max(Z[_e].getLabelSize(),me)}),D.staggerLines&&(me*=D.staggerLines),D.labelOffset=me*(D.opposite?-1:1)):w(Z,function(_e,Se){_e.destroy(),delete Z[Se]}),ee!=null&&ee.text&&ee.enabled!==!1&&(D.addTitle(se),se&&!ne&&ee.reserveSpace!==!1&&(D.titleOffset=ae=D.axisTitle.getBBox()[U?"height":"width"],fe=N(de=ee.offset)?0:k(ee.margin,U?5:10))),D.renderLine(),D.offset=pe*k(Q.offset,ue[q]?ue[q]+(Q.margin||0):0),D.tickRotCorr=D.tickRotCorr||{x:0,y:0},ye=q===0?-D.labelMetrics().h:q===2?D.tickRotCorr.y:0,ge=Math.abs(me)+fe,me&&(ge-=ye,ge+=pe*(U?k(re.y,D.tickRotCorr.y+pe*re.distance):k(re.x,pe*re.distance))),D.axisTitleMargin=k(de,ge),D.getMaxLabelDimensions&&(D.maxLabelDimensions=D.getMaxLabelDimensions(Z,$)),ie!=="colorAxis"){let _e=this.tickSize("tick");ue[q]=Math.max(ue[q],(D.axisTitleMargin||0)+ae+pe*D.offset,ge,$&&$.length&&_e?_e[0]+pe*D.offset:0);let Se=!D.axisLine||Q.offset?0:2*Math.floor(D.axisLine.strokeWidth()/2);le[te]=Math.max(le[te],Se)}G(this,"afterGetOffset")}getLinePath(D){let B=this.chart,U=this.opposite,Q=this.offset,q=this.horiz,Z=this.left+(U?this.width:0)+Q,$=B.chartHeight-this.bottom-(U?this.height:0)+Q;return U&&(D*=-1),B.renderer.crispLine([["M",q?this.left:Z,q?$:this.top],["L",q?B.chartWidth-this.right:Z,q?$:B.chartHeight-this.bottom]],D)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(D){let B=this.horiz,U=this.left,Q=this.top,q=this.len,Z=this.options.title,$=B?U:Q,ie=this.opposite,te=this.offset,Y=Z.x,ee=Z.y,re=this.chart.renderer.fontMetrics(D),ne=D?Math.max(D.getBBox(!1,0).height-re.h-1,0):0,ue={low:$+(B?0:q),middle:$+q/2,high:$+(B?q:0)}[Z.align],le=(B?Q+this.height:U)+(B?1:-1)*(ie?-1:1)*(this.axisTitleMargin||0)+[-ne,ne,re.f,-ne][this.side],pe={x:B?ue+Y:le+(ie?this.width:0)+te+Y,y:B?le+ee-(ie?this.height:0)+te:ue+ee};return G(this,"afterGetTitlePosition",{titlePosition:pe}),pe}renderMinorTick(D,B){let U=this.minorTicks;U[D]||(U[D]=new d(this,D,"minor")),B&&U[D].isNew&&U[D].render(null,!0),U[D].render(null,!1,1)}renderTick(D,B,U){let Q=this.isLinked,q=this.ticks;(!Q||D>=this.min&&D<=this.max||this.grid&&this.grid.isColumn)&&(q[D]||(q[D]=new d(this,D)),U&&q[D].isNew&&q[D].render(B,!0,-1),q[D].render(B))}render(){let D,B,U=this,Q=U.chart,q=U.logarithmic,Z=Q.renderer,$=U.options,ie=U.isLinked,te=U.tickPositions,Y=U.axisTitle,ee=U.ticks,re=U.minorTicks,ne=U.alternateBands,ue=$.stackLabels,le=$.alternateGridColor,pe=$.crossing,se=U.tickmarkOffset,ae=U.axisLine,de=U.showAxis,fe=h(Z.globalAnimation);if(U.labelEdge.length=0,U.overlap=!1,[ee,re,ne].forEach(function(me){w(me,function(ge){ge.isActive=!1})}),x(pe)){let me=this.isXAxis?Q.yAxis[0]:Q.xAxis[0],ge=[1,-1,-1,1][this.side];if(me){let ye=me.toPixels(pe,!0);U.horiz&&(ye=me.len-ye),U.offset=ge*ye}}if(U.hasData()||ie){let me=U.chart.hasRendered&&U.old&&x(U.old.min);U.minorTickInterval&&!U.categories&&U.getMinorTickPositions().forEach(function(ge){U.renderMinorTick(ge,me)}),te.length&&(te.forEach(function(ge,ye){U.renderTick(ge,ye,me)}),se&&(U.min===0||U.single)&&(ee[-1]||(ee[-1]=new d(U,-1,null,!0)),ee[-1].render(-1))),le&&te.forEach(function(ge,ye){B=te[ye+1]!==void 0?te[ye+1]+se:U.max-se,ye%2==0&&ge<U.max&&B<=U.max+(Q.polar?-se:se)&&(ne[ge]||(ne[ge]=new u.PlotLineOrBand(U,{})),D=ge+se,ne[ge].options={from:q?q.lin2log(D):D,to:q?q.lin2log(B):B,color:le,className:"highcharts-alternate-grid"},ne[ge].render(),ne[ge].isActive=!0)}),U._addedPlotLB||(U._addedPlotLB=!0,($.plotLines||[]).concat($.plotBands||[]).forEach(function(ge){U.addPlotBandOrLine(ge)}))}[ee,re,ne].forEach(function(me){let ge=[],ye=fe.duration;w(me,function(_e,Se){_e.isActive||(_e.render(Se,!1,0),_e.isActive=!1,ge.push(Se))}),z(function(){let _e=ge.length;for(;_e--;)me[ge[_e]]&&!me[ge[_e]].isActive&&(me[ge[_e]].destroy(),delete me[ge[_e]])},me!==ne&&Q.hasRendered&&ye?ye:0)}),ae&&(ae[ae.isPlaced?"animate":"attr"]({d:this.getLinePath(ae.strokeWidth())}),ae.isPlaced=!0,ae[de?"show":"hide"](de)),Y&&de&&(Y[Y.isNew?"attr":"animate"](U.getTitlePosition(Y)),Y.isNew=!1),ue&&ue.enabled&&U.stacking&&U.stacking.renderStackTotals(),U.old={len:U.len,max:U.max,min:U.min,transA:U.transA,userMax:U.userMax,userMin:U.userMin},U.isDirty=!1,G(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(D){D.render()})),this.series.forEach(function(D){D.isDirty=!0})}getKeepProps(){return this.keepProps||L.keepProps}destroy(D){let B=this,U=B.plotLinesAndBands,Q=this.eventOptions;if(G(this,"destroy",{keepEvents:D}),D||O(B),[B.ticks,B.minorTicks,B.alternateBands].forEach(function(q){j(q)}),U){let q=U.length;for(;q--;)U[q].destroy()}for(let q in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(Z){B[Z]&&(B[Z]=B[Z].destroy())}),B.plotLinesAndBandsGroups)B.plotLinesAndBandsGroups[q]=B.plotLinesAndBandsGroups[q].destroy();w(B,function(q,Z){B.getKeepProps().indexOf(Z)===-1&&delete B[Z]}),this.eventOptions=Q}drawCrosshair(D,B){let U=this.crosshair,Q=k(U&&U.snap,!0),q=this.chart,Z,$,ie,te=this.cross,Y;if(G(this,"drawCrosshair",{e:D,point:B}),D||(D=this.cross&&this.cross.e),U&&(N(B)||!Q)!==!1){if(Q?N(B)&&($=k(this.coll!=="colorAxis"?B.crosshairPos:null,this.isXAxis?B.plotX:this.len-B.plotY)):$=D&&(this.horiz?D.chartX-this.pos:this.len-D.chartY+this.pos),N($)&&(Y={value:B&&(this.isXAxis?B.x:k(B.stackY,B.y)),translatedValue:$},q.polar&&W(Y,{isCrosshair:!0,chartX:D&&D.chartX,chartY:D&&D.chartY,point:B}),Z=this.getPlotLinePath(Y)||null),!N(Z)){this.hideCrosshair();return}ie=this.categories&&!this.isRadial,te||(this.cross=te=q.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(ie?"category ":"thin ")+(U.className||"")).attr({zIndex:k(U.zIndex,2)}).add(),!q.styledMode&&(te.attr({stroke:U.color||(ie?s.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":k(U.width,1)}).css({"pointer-events":"none"}),U.dashStyle&&te.attr({dashstyle:U.dashStyle}))),te.show().attr({d:Z}),ie&&!U.width&&te.attr({"stroke-width":this.transA}),this.cross.e=D}else this.hideCrosshair();G(this,"afterDrawCrosshair",{e:D,point:B})}hideCrosshair(){this.cross&&this.cross.hide(),G(this,"afterHideCrosshair")}hasVerticalPanning(){let D=this.chart.options.chart.panning;return!!(D&&D.enabled&&/y/.test(D.type))}update(D,B){let U=this.chart;D=y(this.userOptions,D),this.destroy(!0),this.init(U,D),U.isDirtyBox=!0,k(B,!0)&&U.redraw()}remove(D){let B=this.chart,U=this.coll,Q=this.series,q=Q.length;for(;q--;)Q[q]&&Q[q].remove(!1);V(B.axes,this),V(B[U]||[],this),B.orderItems(U),this.destroy(),B.isDirtyBox=!0,k(D,!0)&&B.redraw()}setTitle(D,B){this.update({title:D},B)}setCategories(D,B){this.update({categories:D},B)}}return L.keepProps=["coll","extKey","hcEvents","names","series","userMax","userMin"],L}),r(i,"Core/Axis/DateTimeAxis.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(n,a){var s;let{composed:o}=n,{addEvent:l,getMagnitude:u,normalizeTickInterval:d,pushUnique:c,timeUnits:h}=a;return function(f){function p(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function g(){if(this.options.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new m(this))}f.compose=function v(b){if(c(o,v)){b.keepProps.push("dateTime");let E=b.prototype;E.getTimeTicks=p,l(b,"afterSetOptions",g)}return b};class m{constructor(b){this.axis=b}normalizeTimeTickInterval(b,E){let I=E||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],R=I[I.length-1],N=h[R[0]],j=R[1],V;for(V=0;V<I.length;V++)if(N=h[(R=I[V])[0]],j=R[1],I[V+1]){let W=(N*j[j.length-1]+h[I[V+1][0]])/2;if(b<=W)break}N===h.year&&b<5*N&&(j=[1,2,5]);let H=d(b/N,j,R[0]==="year"?Math.max(u(b/N),1):1);return{unitRange:N,count:H,unitName:R[0]}}getXDateFormat(b,E){let{axis:I}=this,R=I.chart.time;return I.closestPointRange?R.getDateFormat(I.closestPointRange,b,I.options.startOfWeek,E)||R.resolveDTLFormat(E.year).main:R.resolveDTLFormat(E.day).main}}f.Additions=m}(s||(s={})),s}),r(i,"Core/Axis/LogarithmicAxis.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(n,a){var s;let{composed:o}=n,{addEvent:l,normalizeTickInterval:u,pick:d,pushUnique:c}=a;return function(h){function f(m){let v=m.userOptions,b=this.logarithmic;v.type!=="logarithmic"?this.logarithmic=void 0:b||(b=this.logarithmic=new g(this))}function p(){let m=this.logarithmic;m&&(this.lin2val=function(v){return m.lin2log(v)},this.val2lin=function(v){return m.log2lin(v)})}h.compose=function m(v){return c(o,m)&&(v.keepProps.push("logarithmic"),l(v,"init",f),l(v,"afterInit",p)),v};class g{constructor(v){this.axis=v}getLogTickPositions(v,b,E,I){let R=this.axis,N=R.len,j=R.options,V=[];if(I||(this.minorAutoInterval=void 0),v>=.5)v=Math.round(v),V=R.getLinearTickPositions(v,b,E);else if(v>=.08){let H,W,G,P,A,T,x,C=Math.floor(b);for(H=v>.3?[1,2,4]:v>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],W=C;W<E+1&&!x;W++)for(G=0,P=H.length;G<P&&!x;G++)(A=this.log2lin(this.lin2log(W)*H[G]))>b&&(!I||T<=E)&&T!==void 0&&V.push(T),T>E&&(x=!0),T=A}else{let H=this.lin2log(b),W=this.lin2log(E),G=I?R.getMinorTickInterval():j.tickInterval,P=G==="auto"?null:G,A=j.tickPixelInterval/(I?5:1),T=I?N/R.tickPositions.length:N;v=u(v=d(P,this.minorAutoInterval,(W-H)*A/(T||1))),V=R.getLinearTickPositions(v,H,W).map(this.log2lin),I||(this.minorAutoInterval=v/5)}return I||(R.tickInterval=v),V}lin2log(v){return Math.pow(10,v)}log2lin(v){return Math.log(v)/Math.LN10}}h.Additions=g}(s||(s={})),s}),r(i,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(n,a){var s;let{composed:o}=n,{erase:l,extend:u,isNumber:d,pushUnique:c}=a;return function(h){let f;function p(R){return this.addPlotBandOrLine(R,"plotBands")}function g(R,N){let j=this.userOptions,V=new f(this,R);if(this.visible&&(V=V.render()),V){if(this._addedPlotLB||(this._addedPlotLB=!0,(j.plotLines||[]).concat(j.plotBands||[]).forEach(H=>{this.addPlotBandOrLine(H)})),N){let H=j[N]||[];H.push(R),j[N]=H}this.plotLinesAndBands.push(V)}return V}function m(R){return this.addPlotBandOrLine(R,"plotLines")}function v(R,N,j){j=j||this.options;let V=this.getPlotLinePath({value:N,force:!0,acrossPanes:j.acrossPanes}),H=[],W=this.horiz,G=!d(this.min)||!d(this.max)||R<this.min&&N<this.min||R>this.max&&N>this.max,P=this.getPlotLinePath({value:R,force:!0,acrossPanes:j.acrossPanes}),A,T=1,x;if(P&&V)for(G&&(x=P.toString()===V.toString(),T=0),A=0;A<P.length;A+=2){let C=P[A],y=P[A+1],S=V[A],w=V[A+1];(C[0]==="M"||C[0]==="L")&&(y[0]==="M"||y[0]==="L")&&(S[0]==="M"||S[0]==="L")&&(w[0]==="M"||w[0]==="L")&&(W&&S[1]===C[1]?(S[1]+=T,w[1]+=T):W||S[2]!==C[2]||(S[2]+=T,w[2]+=T),H.push(["M",C[1],C[2]],["L",y[1],y[2]],["L",w[1],w[2]],["L",S[1],S[2]],["Z"])),H.isFlat=x}return H}function b(R){this.removePlotBandOrLine(R)}function E(R){let N=this.plotLinesAndBands,j=this.options,V=this.userOptions;if(N){let H=N.length;for(;H--;)N[H].id===R&&N[H].destroy();[j.plotLines||[],V.plotLines||[],j.plotBands||[],V.plotBands||[]].forEach(function(W){for(H=W.length;H--;)(W[H]||{}).id===R&&l(W,W[H])})}}function I(R){this.removePlotBandOrLine(R)}h.compose=function R(N,j){return c(o,R)&&(f=N,u(j.prototype,{addPlotBand:p,addPlotLine:m,addPlotBandOrLine:g,getPlotBandPath:v,removePlotBand:b,removePlotLine:I,removePlotBandOrLine:E})),j}}(s||(s={})),s}),r(i,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[i["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],i["Core/Utilities.js"]],function(n,a){let{arrayMax:s,arrayMin:o,defined:l,destroyObjectProperties:u,erase:d,fireEvent:c,merge:h,objectEach:f,pick:p}=a;class g{static compose(v){return n.compose(g,v)}constructor(v,b){this.axis=v,this.options=b,this.id=b.id}render(){c(this,"render");let{axis:v,options:b}=this,{horiz:E,logarithmic:I}=v,{color:R,events:N,zIndex:j=0}=b,V={},H=v.chart.renderer,W=b.to,G=b.from,P=b.value,A=b.borderWidth,T=b.label,{label:x,svgElem:C}=this,y=[],S,w=l(G)&&l(W),k=l(P),M=!C,O={class:"highcharts-plot-"+(w?"band ":"line ")+(b.className||"")},F=w?"bands":"lines";if(!v.chart.styledMode&&(k?(O.stroke=R||"#999999",O["stroke-width"]=p(b.width,1),b.dashStyle&&(O.dashstyle=b.dashStyle)):w&&(O.fill=R||"#e6e9ff",A&&(O.stroke=b.borderColor,O["stroke-width"]=A))),V.zIndex=j,F+="-"+j,(S=v.plotLinesAndBandsGroups[F])||(v.plotLinesAndBandsGroups[F]=S=H.g("plot-"+F).attr(V).add()),C||(this.svgElem=C=H.path().attr(O).add(S)),l(P))y=v.getPlotLinePath({value:(I==null?void 0:I.log2lin(P))??P,lineWidth:C.strokeWidth(),acrossPanes:b.acrossPanes});else{if(!(l(G)&&l(W)))return;y=v.getPlotBandPath((I==null?void 0:I.log2lin(G))??G,(I==null?void 0:I.log2lin(W))??W,b)}return!this.eventsAdded&&N&&(f(N,(z,X)=>{C==null||C.on(X,function(L){N[X].apply(this,[L])})}),this.eventsAdded=!0),(M||!C.d)&&(y!=null&&y.length)?C.attr({d:y}):C&&(y?(C.show(),C.animate({d:y})):C.d&&(C.hide(),x&&(this.label=x=x.destroy()))),T&&(l(T.text)||l(T.formatter))&&(y!=null&&y.length)&&v.width>0&&v.height>0&&!y.isFlat?(T=h({align:E&&w&&"center",x:E?!w&&4:10,verticalAlign:!E&&w&&"middle",y:E?w?16:10:w?6:-4,rotation:E&&!w&&90},T),this.renderLabel(T,y,w,j)):x&&x.hide(),this}renderLabel(v,b,E,I){let R=this.axis,N=R.chart.renderer,j=this.label;j||(this.label=j=N.text(this.getLabelText(v),0,0,v.useHTML).attr({align:v.textAlign||v.align,rotation:v.rotation,class:"highcharts-plot-"+(E?"band":"line")+"-label"+(v.className||""),zIndex:I}),R.chart.styledMode||j.css(h({fontSize:"0.8em",textOverflow:"ellipsis"},v.style)),j.add());let V=b.xBounds||[b[0][1],b[1][1],E?b[2][1]:b[0][1]],H=b.yBounds||[b[0][2],b[1][2],E?b[2][2]:b[0][2]],W=o(V),G=o(H);if(j.align(v,!1,{x:W,y:G,width:s(V)-W,height:s(H)-G}),!j.alignValue||j.alignValue==="left"){let P=v.clip?R.width:R.chart.chartWidth;j.css({width:(j.rotation===90?R.height-(j.alignAttr.y-R.top):P-(j.alignAttr.x-R.left))+"px"})}j.show(!0)}getLabelText(v){return l(v.formatter)?v.formatter.call(this):v.text}destroy(){d(this.axis.plotLinesAndBands,this),delete this.axis,u(this)}}return g}),r(i,"Core/Tooltip.js",[i["Core/Templating.js"],i["Core/Globals.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],function(n,a,s,o,l){var u;let{format:d}=n,{composed:c,doc:h,isSafari:f}=a,{distribute:p}=s,{addEvent:g,clamp:m,css:v,discardElement:b,extend:E,fireEvent:I,isArray:R,isNumber:N,isString:j,merge:V,pick:H,pushUnique:W,splat:G,syncTimeout:P}=l;class A{constructor(x,C){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=x,this.init(x,C)}bodyFormatter(x){return x.map(function(C){let y=C.series.tooltipOptions;return(y[(C.point.formatPrefix||"point")+"Formatter"]||C.point.tooltipFormatter).call(C.point,y[(C.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(x){this.chart.series.forEach(function(C){let y=C&&C.tt;y&&(!y.isActive||x?C.tt=y.destroy():y.isActive=!1)})}defaultFormatter(x){let C,y=this.points||G(this);return(C=(C=[x.tooltipFooterHeaderFormatter(y[0])]).concat(x.bodyFormatter(y))).push(x.tooltipFooterHeaderFormatter(y[0],!0)),C}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),b(this.container)),l.clearTimeout(this.hideTimer),l.clearTimeout(this.tooltipTimeout)}getAnchor(x,C){let y,S=this.chart,w=S.pointer,k=S.inverted,M=S.plotTop,O=S.plotLeft;if((x=G(x))[0].series&&x[0].series.yAxis&&!x[0].series.yAxis.options.reversedStacks&&(x=x.slice().reverse()),this.followPointer&&C)C.chartX===void 0&&(C=w.normalize(C)),y=[C.chartX-O,C.chartY-M];else if(x[0].tooltipPos)y=x[0].tooltipPos;else{let F=0,z=0;x.forEach(function(X){let L=X.pos(!0);L&&(F+=L[0],z+=L[1])}),F/=x.length,z/=x.length,this.shared&&x.length>1&&C&&(k?F=C.chartX:z=C.chartY),y=[F-O,z-M]}return y.map(Math.round)}getClassName(x,C,y){let S=this.options,w=x.series,k=w.options;return[S.className,"highcharts-label",y&&"highcharts-tooltip-header",C?"highcharts-tooltip-box":"highcharts-tooltip",!y&&"highcharts-color-"+H(x.colorIndex,w.colorIndex),k&&k.className].filter(j).join(" ")}getLabel(){let x=this,C=this.chart.styledMode,y=this.options,S=this.split&&this.allowShared,w=this.container,k=this.chart.renderer;if(this.label){let M=!this.label.hasClass("highcharts-label");(!S&&M||S&&!M)&&this.destroy()}if(!this.label){if(this.outside){let M=this.chart.options.chart.style,O=o.getRendererType();this.container=w=a.doc.createElement("div"),w.className="highcharts-tooltip-container",v(w,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(M&&M.zIndex||0)+3)}),this.renderer=k=new O(w,0,0,M,void 0,void 0,k.styledMode)}if(S?this.label=k.g("tooltip"):(this.label=k.label("",0,0,y.shape,void 0,void 0,y.useHTML,void 0,"tooltip").attr({padding:y.padding,r:y.borderRadius}),C||this.label.attr({fill:y.backgroundColor,"stroke-width":y.borderWidth||0}).css(y.style).css({pointerEvents:y.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),x.outside){let M=this.label,{xSetter:O,ySetter:F}=M;M.xSetter=function(z){O.call(M,x.distance),w&&(w.style.left=z+"px")},M.ySetter=function(z){F.call(M,x.distance),w&&(w.style.top=z+"px")}}this.label.attr({zIndex:8}).shadow(y.shadow).add()}return w&&!w.parentElement&&a.doc.body.appendChild(w),this.label}getPlayingField(){let{body:x,documentElement:C}=h,{chart:y,distance:S,outside:w}=this;return{width:w?Math.max(x.scrollWidth,C.scrollWidth,x.offsetWidth,C.offsetWidth,C.clientWidth)-2*S:y.chartWidth,height:w?Math.max(x.scrollHeight,C.scrollHeight,x.offsetHeight,C.offsetHeight,C.clientHeight):y.chartHeight}}getPosition(x,C,y){var se,ae;let{distance:S,chart:w,outside:k}=this,{inverted:M,plotLeft:O,plotTop:F,polar:z}=w,{plotX:X=0,plotY:L=0}=y,K={},D=M&&y.h||0,{height:B,width:U}=this.getPlayingField(),Q=w.pointer.getChartPosition(),q=de=>de*Q.scaleX,Z=de=>de*Q.scaleY,$=de=>{let fe=de==="x";return[de,fe?U:B,fe?x:C].concat(k?[fe?q(x):Z(C),fe?Q.left-S+q(X+O):Q.top-S+Z(L+F),0,fe?U:B]:[fe?x:C,fe?X+O:L+F,fe?O:F,fe?O+w.plotWidth:F+w.plotHeight])},ie=$("y"),te=$("x"),Y,ee=!!y.negative;!z&&((ae=(se=w.hoverSeries)==null?void 0:se.yAxis)!=null&&ae.reversed)&&(ee=!ee);let re=!this.followPointer&&H(y.ttBelow,!z&&!M===ee),ne=function(de,fe,me,ge,ye,_e,Se){let Ie=k?de==="y"?Z(S):q(S):S,Ce=(me-ge)/2,Te=ge<ye-S,Me=ye+S+ge<fe,Pe=ye-Ie-me+Ce,$e=ye+Ie-Ce;if(re&&Me)K[de]=$e;else if(!re&&Te)K[de]=Pe;else if(Te)K[de]=Math.min(Se-ge,Pe-D<0?Pe:Pe-D);else{if(!Me)return!1;K[de]=Math.max(_e,$e+D+me>fe?$e:$e+D)}},ue=function(de,fe,me,ge,ye){if(ye<S||ye>fe-S)return!1;ye<me/2?K[de]=1:ye>fe-ge/2?K[de]=fe-ge-2:K[de]=ye-me/2},le=function(de){[ie,te]=[te,ie],Y=de},pe=()=>{ne.apply(0,ie)!==!1?ue.apply(0,te)!==!1||Y||(le(!0),pe()):Y?K.x=K.y=0:(le(!0),pe())};return(M&&!z||this.len>1)&&le(),pe(),K}hide(x){let C=this;l.clearTimeout(this.hideTimer),x=H(x,this.options.hideDelay),this.isHidden||(this.hideTimer=P(function(){let y=C.getLabel();C.getLabel().animate({opacity:0},{duration:x&&150,complete:()=>{y.hide(),C.container&&C.container.remove()}}),C.isHidden=!0},x))}init(x,C){this.chart=x,this.options=C,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=C.split&&!x.inverted&&!x.polar,this.shared=C.shared||this.split,this.outside=H(C.outside,!!(x.scrollablePixelsX||x.scrollablePixelsY))}shouldStickOnContact(x){return!!(!this.followPointer&&this.options.stickOnContact&&(!x||this.chart.pointer.inClass(x.target,"highcharts-tooltip")))}move(x,C,y,S){let w=this,k=w.now,M=w.options.animation!==!1&&!w.isHidden&&(Math.abs(x-k.x)>1||Math.abs(C-k.y)>1),O=w.followPointer||w.len>1;E(k,{x:M?(2*k.x+x)/3:x,y:M?(k.y+C)/2:C,anchorX:O?void 0:M?(2*k.anchorX+y)/3:y,anchorY:O?void 0:M?(k.anchorY+S)/2:S}),w.getLabel().attr(k),w.drawTracker(),M&&(l.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){w&&w.move(x,C,y,S)},32))}refresh(x,C){let y=this.chart,S=this.options,w=y.pointer,k=G(x),M=k[0],O=[],F=S.format,z=S.formatter||this.defaultFormatter,X=this.shared,L=y.styledMode,K={};if(!S.enabled||!M.series)return;l.clearTimeout(this.hideTimer),this.allowShared=!(!R(x)&&x.series&&x.series.noSharedTooltip),this.followPointer=!this.split&&M.series.tooltipOptions.followPointer;let D=this.getAnchor(x,C),B=D[0],U=D[1];X&&this.allowShared?(w.applyInactiveState(k),k.forEach(function(Z){Z.setState("hover"),O.push(Z.getLabelConfig())}),(K=M.getLabelConfig()).points=O):K=M.getLabelConfig(),this.len=O.length;let Q=j(F)?d(F,K,y):z.call(K,this),q=M.series;if(this.distance=H(q.tooltipOptions.distance,16),Q===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(Q,k);else{let Z=B,$=U;if(C&&w.isDirectTouch&&(Z=C.chartX-y.plotLeft,$=C.chartY-y.plotTop),y.polar||q.options.clip===!1||k.some(ie=>w.isDirectTouch||ie.series.shouldShowTooltip(Z,$))){let ie=this.getLabel();(!S.style.width||L)&&ie.css({width:(this.outside?this.getPlayingField():y.spacingBox).width+"px"}),ie.attr({text:Q&&Q.join?Q.join(""):Q}),ie.addClass(this.getClassName(M),!0),L||ie.attr({stroke:S.borderColor||M.color||q.color||"#666666"}),this.updatePosition({plotX:B,plotY:U,negative:M.negative,ttBelow:M.ttBelow,h:D[2]||0})}else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}I(this,"refresh")}renderSplit(x,C){let y=this,{chart:S,chart:{chartWidth:w,chartHeight:k,plotHeight:M,plotLeft:O,plotTop:F,pointer:z,scrollablePixelsY:X=0,scrollablePixelsX:L,scrollingContainer:{scrollLeft:K,scrollTop:D}={scrollLeft:0,scrollTop:0},styledMode:B},distance:U,options:Q,options:{positioner:q}}=y,Z=y.outside&&typeof L!="number"?h.documentElement.getBoundingClientRect():{left:K,right:K+w,top:D,bottom:D+k},$=y.getLabel(),ie=this.renderer||S.renderer,te=!!(S.xAxis[0]&&S.xAxis[0].opposite),{left:Y,top:ee}=z.getChartPosition(),re=F+D,ne=0,ue=M-X;function le(me,ge,ye,_e,Se=!0){let Ie,Ce;return ye?(Ie=te?0:ue,Ce=m(me-_e/2,Z.left,Z.right-_e-(y.outside?Y:0))):(Ie=ge-re,Ce=m(Ce=Se?me-_e-U:me+U,Se?Ce:Z.left,Z.right)),{x:Ce,y:Ie}}j(x)&&(x=[!1,x]);let pe=x.slice(0,C.length+1).reduce(function(me,ge,ye){if(ge!==!1&&ge!==""){let _e=C[ye-1]||{isHeader:!0,plotX:C[0].plotX,plotY:M,series:{}},Se=_e.isHeader,Ie=Se?y:_e.series,Ce=Ie.tt=function(Le,je,Xe){let it=Le,{isHeader:rt,series:Dt}=je;if(!it){let It={padding:Q.padding,r:Q.borderRadius};B||(It.fill=Q.backgroundColor,It["stroke-width"]=Q.borderWidth??1),it=ie.label("",0,0,Q[rt?"headerShape":"shape"],void 0,void 0,Q.useHTML).addClass(y.getClassName(je,!0,rt)).attr(It).add($)}return it.isActive=!0,it.attr({text:Xe}),B||it.css(Q.style).attr({stroke:Q.borderColor||je.color||Dt.color||"#333333"}),it}(Ie.tt,_e,ge.toString()),Te=Ce.getBBox(),Me=Te.width+Ce.strokeWidth();Se&&(ne=Te.height,ue+=ne,te&&(re-=ne));let{anchorX:Pe,anchorY:$e}=function(Le){let je,Xe,{isHeader:it,plotX:rt=0,plotY:Dt=0,series:It}=Le;if(it)je=Math.max(O+rt,O),Xe=F+M/2;else{let{xAxis:lt,yAxis:kt}=It;je=lt.pos+m(rt,-U,lt.len+U),It.shouldShowTooltip(0,kt.pos-F+Dt,{ignoreX:!0})&&(Xe=kt.pos+Dt)}return{anchorX:je=m(je,Z.left-U,Z.right+U),anchorY:Xe}}(_e);if(typeof $e=="number"){let Le=Te.height+1,je=q?q.call(y,Me,Le,_e):le(Pe,$e,Se,Me);me.push({align:q?0:void 0,anchorX:Pe,anchorY:$e,boxWidth:Me,point:_e,rank:H(je.rank,Se?1:0),size:Le,target:je.y,tt:Ce,x:je.x})}else Ce.isActive=!1}return me},[]);!q&&pe.some(me=>{let{outside:ge}=y,ye=(ge?Y:0)+me.anchorX;return ye<Z.left&&ye+me.boxWidth<Z.right||ye<Y-Z.left+me.boxWidth&&Z.right-ye>ye})&&(pe=pe.map(me=>{let{x:ge,y:ye}=le(me.anchorX,me.anchorY,me.point.isHeader,me.boxWidth,!1);return E(me,{target:ye,x:ge})})),y.cleanSplit(),p(pe,ue);let se={left:Y,right:Y};pe.forEach(function(me){let{x:ge,boxWidth:ye,isHeader:_e}=me;!_e&&(y.outside&&Y+ge<se.left&&(se.left=Y+ge),!_e&&y.outside&&se.left+ye>se.right&&(se.right=Y+ge))}),pe.forEach(function(me){let{x:ge,anchorX:ye,anchorY:_e,pos:Se,point:{isHeader:Ie}}=me,Ce={visibility:Se===void 0?"hidden":"inherit",x:ge,y:(Se||0)+re,anchorX:ye,anchorY:_e};if(y.outside&&ge<ye){let Te=Y-se.left;Te>0&&(Ie||(Ce.x=ge+Te,Ce.anchorX=ye+Te),Ie&&(Ce.x=(se.right-se.left)/2,Ce.anchorX=ye+Te))}me.tt.attr(Ce)});let{container:ae,outside:de,renderer:fe}=y;if(de&&ae&&fe){let{width:me,height:ge,x:ye,y:_e}=$.getBBox();fe.setSize(me+ye,ge+_e,!1),ae.style.left=se.left+"px",ae.style.top=ee+"px"}f&&$.attr({opacity:$.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let x=this.chart,C=this.label,y=this.shared?x.hoverPoints:x.hoverPoint;if(!C||!y)return;let S={x:0,y:0,width:0,height:0},w=this.getAnchor(y),k=C.getBBox();w[0]+=x.plotLeft-(C.translateX||0),w[1]+=x.plotTop-(C.translateY||0),S.x=Math.min(0,w[0]),S.y=Math.min(0,w[1]),S.width=w[0]<0?Math.max(Math.abs(w[0]),k.width-w[0]):Math.max(Math.abs(w[0]),k.width),S.height=w[1]<0?Math.max(Math.abs(w[1]),k.height-Math.abs(w[1])):Math.max(Math.abs(w[1]),k.height),this.tracker?this.tracker.attr(S):(this.tracker=C.renderer.rect(S).addClass("highcharts-tracker").add(C),x.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(x){return x.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(x,C){let y=x.series,S=y.tooltipOptions,w=y.xAxis,k=w&&w.dateTime,M={isFooter:C,labelConfig:x},O=S.xDateFormat,F=S[C?"footerFormat":"headerFormat"];return I(this,"headerFormatter",M,function(z){k&&!O&&N(x.key)&&(O=k.getXDateFormat(x.key,S.dateTimeLabelFormats)),k&&O&&(x.point&&x.point.tooltipDateKeys||["key"]).forEach(function(X){F=F.replace("{point."+X+"}","{point."+X+":"+O+"}")}),y.chart.styledMode&&(F=this.styledModeFormat(F)),z.text=d(F,{point:x,series:y},this.chart)}),M.text}update(x){this.destroy(),this.init(this.chart,V(!0,this.options,x))}updatePosition(x){let{chart:C,container:y,distance:S,options:w,renderer:k}=this,{height:M=0,width:O=0}=this.getLabel(),F=C.pointer,{left:z,top:X,scaleX:L,scaleY:K}=F.getChartPosition(),D=(w.positioner||this.getPosition).call(this,O,M,x),B=(x.plotX||0)+C.plotLeft,U=(x.plotY||0)+C.plotTop,Q;k&&y&&(w.positioner&&(D.x+=z-S,D.y+=X-S),Q=(w.borderWidth||0)+2*S+2,k.setSize(O+Q,M+Q,!1),(L!==1||K!==1)&&(v(y,{transform:`scale(${L}, ${K})`}),B*=L,U*=K),B+=z-D.x,U+=X-D.y),this.move(Math.round(D.x),Math.round(D.y||0),B,U)}}return(u=A||(A={})).compose=function T(x){W(c,T)&&g(x,"afterInit",function(){let C=this.chart;C.options.tooltip&&(C.tooltip=new u(C,C.options.tooltip))})},A}),r(i,"Core/Series/Point.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Defaults.js"],i["Core/Templating.js"],i["Core/Utilities.js"]],function(n,a,s,o,l){let{animObject:u}=a,{defaultOptions:d}=s,{format:c}=o,{addEvent:h,defined:f,erase:p,extend:g,fireEvent:m,getNestedProperty:v,isArray:b,isFunction:E,isNumber:I,isObject:R,merge:N,objectEach:j,pick:V,syncTimeout:H,removeEvent:W,uniqueKey:G}=l;class P{animateBeforeDestroy(){let T=this,x={x:T.startXPos,opacity:0},C=T.getGraphicalProps();C.singular.forEach(function(y){T[y]=T[y].animate(y==="dataLabel"?{x:T[y].startXPos,y:T[y].startYPos,opacity:0}:x)}),C.plural.forEach(function(y){T[y].forEach(function(S){S.element&&S.animate(g({x:T.startXPos},S.startYPos?{x:S.startXPos,y:S.startYPos}:{}))})})}applyOptions(T,x){let C=this.series,y=C.options.pointValKey||C.pointValKey;return g(this,T=P.prototype.optionsToObject.call(this,T)),this.options=this.options?g(this.options,T):T,T.group&&delete this.group,T.dataLabels&&delete this.dataLabels,y&&(this.y=P.prototype.getNestedProperty.call(this,y)),this.selected&&(this.state="select"),"name"in this&&x===void 0&&C.xAxis&&C.xAxis.hasNames&&(this.x=C.xAxis.nameToX(this)),this.x===void 0&&C?x===void 0?this.x=C.autoIncrement():this.x=x:I(T.x)&&C.options.relativeXValue&&(this.x=C.autoIncrement(T.x)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let T=this,x=T.series,C=x.chart,y=x.options.dataSorting,S=C.hoverPoints,w=T.series.chart.renderer.globalAnimation,k=u(w),M=()=>{for(let O in(T.graphic||T.graphics||T.dataLabel||T.dataLabels)&&(W(T),T.destroyElements()),T)delete T[O]};T.legendItem&&C.legend.destroyItem(T),S&&(T.setState(),p(S,T),S.length||(C.hoverPoints=null)),T===C.hoverPoint&&T.onMouseOut(),y&&y.enabled?(this.animateBeforeDestroy(),H(M,k.duration)):M(),C.pointCount--}this.destroyed=!0}destroyElements(T){let x=this,C=x.getGraphicalProps(T);C.singular.forEach(function(y){x[y]=x[y].destroy()}),C.plural.forEach(function(y){x[y].forEach(function(S){S&&S.element&&S.destroy()}),delete x[y]})}firePointEvent(T,x,C){let y=this,S=this.series,w=S.options;(w.point.events[T]||y.options&&y.options.events&&y.options.events[T])&&y.importEvents(),T==="click"&&w.allowPointSelect&&(C=function(k){!y.destroyed&&y.select&&y.select(null,k.ctrlKey||k.metaKey||k.shiftKey)}),m(y,T,x,C)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(T){let x,C,y=this,S=[],w={singular:[],plural:[]};for((T=T||{graphic:1,dataLabel:1}).graphic&&S.push("graphic","connector"),T.dataLabel&&S.push("dataLabel","dataLabelPath","dataLabelUpper"),C=S.length;C--;)y[x=S[C]]&&w.singular.push(x);return["graphic","dataLabel"].forEach(function(k){let M=k+"s";T[k]&&y[M]&&w.plural.push(M)}),w}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(T){return T?T.indexOf("custom.")===0?v(T,this.options):this[T]:void 0}getZone(){let T=this.series,x=T.zones,C=T.zoneAxis||"y",y,S=0;for(y=x[0];this[C]>=y.value;)y=x[++S];return this.nonZonedColor||(this.nonZonedColor=this.color),y&&y.color&&!this.options.color?this.color=y.color:this.color=this.nonZonedColor,y}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(T,x,C){this.formatPrefix="point",this.visible=!0,this.series=T,this.applyOptions(x,C),this.id??(this.id=G()),this.resolveColor(),T.chart.pointCount++,m(this,"afterInit")}isValid(){return(I(this.x)||this.x instanceof Date)&&I(this.y)}optionsToObject(T){let x=this.series,C=x.options.keys,y=C||x.pointArrayMap||["y"],S=y.length,w={},k,M=0,O=0;if(I(T)||T===null)w[y[0]]=T;else if(b(T))for(!C&&T.length>S&&((k=typeof T[0])=="string"?w.name=T[0]:k==="number"&&(w.x=T[0]),M++);O<S;)C&&T[M]===void 0||(y[O].indexOf(".")>0?P.prototype.setNestedProperty(w,T[M],y[O]):w[y[O]]=T[M]),M++,O++;else typeof T=="object"&&(w=T,T.dataLabels&&(x.hasDataLabels=()=>!0),T.marker&&(x._hasPointMarkers=!0));return w}pos(T,x=this.plotY){if(!this.destroyed){let{plotX:C,series:y}=this,{chart:S,xAxis:w,yAxis:k}=y,M=0,O=0;if(I(C)&&I(x))return T&&(M=w?w.pos:S.plotLeft,O=k?k.pos:S.plotTop),S.inverted&&w&&k?[k.len-x+O,w.len-C+M]:[C+M,x+O]}}resolveColor(){let T=this.series,x=T.chart.options.chart,C=T.chart.styledMode,y,S,w=x.colorCount,k;delete this.nonZonedColor,T.options.colorByPoint?(C||(y=(S=T.options.colors||T.chart.options.colors)[T.colorCounter],w=S.length),k=T.colorCounter,T.colorCounter++,T.colorCounter===w&&(T.colorCounter=0)):(C||(y=T.color),k=T.colorIndex),this.colorIndex=V(this.options.colorIndex,k),this.color=V(this.options.color,y)}setNestedProperty(T,x,C){return C.split(".").reduce(function(S,w,k,M){let O=M.length-1===k;return S[w]=O?x:R(S[w],!0)?S[w]:{},S[w]},T),T}shouldDraw(){return!this.isNull}tooltipFormatter(T){let x=this.series,C=x.tooltipOptions,y=V(C.valueDecimals,""),S=C.valuePrefix||"",w=C.valueSuffix||"";return x.chart.styledMode&&(T=x.chart.tooltip.styledModeFormat(T)),(x.pointArrayMap||["y"]).forEach(function(k){k="{point."+k,(S||w)&&(T=T.replace(RegExp(k+"}","g"),S+k+"}"+w)),T=T.replace(RegExp(k+"}","g"),k+":,."+y+"f}")}),c(T,{point:this,series:this.series},x.chart)}update(T,x,C,y){let S,w=this,k=w.series,M=w.graphic,O=k.chart,F=k.options;function z(){w.applyOptions(T);let X=M&&w.hasMockGraphic,L=w.y===null?!X:X;M&&L&&(w.graphic=M.destroy(),delete w.hasMockGraphic),R(T,!0)&&(M&&M.element&&T&&T.marker&&T.marker.symbol!==void 0&&(w.graphic=M.destroy()),T!=null&&T.dataLabels&&w.dataLabel&&(w.dataLabel=w.dataLabel.destroy())),S=w.index,k.updateParallelArrays(w,S),F.data[S]=R(F.data[S],!0)||R(T,!0)?w.options:V(T,F.data[S]),k.isDirty=k.isDirtyData=!0,!k.fixedBox&&k.hasCartesianSeries&&(O.isDirtyBox=!0),F.legendType==="point"&&(O.isDirtyLegend=!0),x&&O.redraw(C)}x=V(x,!0),y===!1?z():w.firePointEvent("update",{options:T},z)}remove(T,x){this.series.removePoint(this.series.data.indexOf(this),T,x)}select(T,x){let C=this,y=C.series,S=y.chart;T=V(T,!C.selected),this.selectedStaging=T,C.firePointEvent(T?"select":"unselect",{accumulate:x},function(){C.selected=C.options.selected=T,y.options.data[y.data.indexOf(C)]=C.options,C.setState(T&&"select"),x||S.getSelectedPoints().forEach(function(w){let k=w.series;w.selected&&w!==C&&(w.selected=w.options.selected=!1,k.options.data[k.data.indexOf(w)]=w.options,w.setState(S.hoverPoints&&k.options.inactiveOtherPoints?"inactive":""),w.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(T){let x=this.series,C=x.chart,y=C.pointer;T=T?y.normalize(T):y.getChartCoordinatesFromPoint(this,C.inverted),y.runPointActions(T,this)}onMouseOut(){let T=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(T.hoverPoints||[]).forEach(function(x){x.setState()}),T.hoverPoints=T.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){let T=this,x=N(T.series.options.point,T.options),C=x.events;T.events=C,j(C,function(y,S){E(y)&&h(T,S,y)}),this.hasImportedEvents=!0}}setState(T,x){let C=this.series,y=this.state,S=C.options.states[T||"normal"]||{},w=d.plotOptions[C.type].marker&&C.options.marker,k=w&&w.enabled===!1,M=w&&w.states&&w.states[T||"normal"]||{},O=M.enabled===!1,F=this.marker||{},z=C.chart,X=w&&C.markerAttribs,L=C.halo,K,D,B,U=C.stateMarkerGraphic,Q;if((T=T||"")===this.state&&!x||this.selected&&T!=="select"||S.enabled===!1||T&&(O||k&&M.enabled===!1)||T&&F.states&&F.states[T]&&F.states[T].enabled===!1)return;if(this.state=T,X&&(K=C.markerAttribs(this,T)),this.graphic&&!this.hasMockGraphic){if(y&&this.graphic.removeClass("highcharts-point-"+y),T&&this.graphic.addClass("highcharts-point-"+T),!z.styledMode){D=C.pointAttribs(this,T),B=V(z.options.chart.animation,S.animation);let ie=D.opacity;C.options.inactiveOtherPoints&&I(ie)&&(this.dataLabels||[]).forEach(function(te){te&&!te.hasClass("highcharts-data-label-hidden")&&(te.animate({opacity:ie},B),te.connector&&te.connector.animate({opacity:ie},B))}),this.graphic.animate(D,B)}K&&this.graphic.animate(K,V(z.options.chart.animation,M.animation,w.animation)),U&&U.hide()}else T&&M&&(Q=F.symbol||C.symbol,U&&U.currentSymbol!==Q&&(U=U.destroy()),K&&(U?U[x?"animate":"attr"]({x:K.x,y:K.y}):Q&&(C.stateMarkerGraphic=U=z.renderer.symbol(Q,K.x,K.y,K.width,K.height).add(C.markerGroup),U.currentSymbol=Q)),!z.styledMode&&U&&this.state!=="inactive"&&U.attr(C.pointAttribs(this,T))),U&&(U[T&&this.isInside?"show":"hide"](),U.element.point=this,U.addClass(this.getClassName(),!0));let q=S.halo,Z=this.graphic||U,$=Z&&Z.visibility||"inherit";q&&q.size&&Z&&$!=="hidden"&&!this.isCluster?(L||(C.halo=L=z.renderer.path().add(Z.parentGroup)),L.show()[x?"animate":"attr"]({d:this.haloPath(q.size)}),L.attr({class:"highcharts-halo highcharts-color-"+V(this.colorIndex,C.colorIndex)+(this.className?" "+this.className:""),visibility:$,zIndex:-1}),L.point=this,z.styledMode||L.attr(g({fill:this.color||C.color,"fill-opacity":q.opacity},n.filterUserAttributes(q.attributes||{})))):L&&L.point&&L.point.haloPath&&L.animate({d:L.point.haloPath(0)},null,L.hide),m(this,"afterSetState",{state:T})}haloPath(T){let x=this.pos();return x?this.series.chart.renderer.symbols.circle(Math.floor(x[0])-T,x[1]-T,2*T,2*T):[]}}return P}),r(i,"Core/Pointer.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(n,a,s){var o;let{parse:l}=n,{charts:u,composed:d,noop:c}=a,{addEvent:h,attr:f,css:p,defined:g,extend:m,find:v,fireEvent:b,isNumber:E,isObject:I,objectEach:R,offset:N,pick:j,pushUnique:V,splat:H}=s;class W{applyInactiveState(P){let A=[],T;(P||[]).forEach(function(x){T=x.series,A.push(T),T.linkedParent&&A.push(T.linkedParent),T.linkedSeries&&(A=A.concat(T.linkedSeries)),T.navigatorSeries&&A.push(T.navigatorSeries)}),this.chart.series.forEach(function(x){A.indexOf(x)===-1?x.setState("inactive",!0):x.options.inactiveOtherPoints&&x.setAllPointsToState("inactive")})}destroy(){let P=this;this.eventsToUnbind.forEach(A=>A()),this.eventsToUnbind=[],!a.chartCount&&(W.unbindDocumentMouseUp&&(W.unbindDocumentMouseUp=W.unbindDocumentMouseUp()),W.unbindDocumentTouchEnd&&(W.unbindDocumentTouchEnd=W.unbindDocumentTouchEnd())),clearInterval(P.tooltipTimeout),R(P,function(A,T){P[T]=void 0})}getSelectionMarkerAttrs(P,A){let T={args:{chartX:P,chartY:A},attrs:{},shapeType:"rect"};return b(this,"getSelectionMarkerAttrs",T,x=>{let C,{chart:y,mouseDownX:S=0,mouseDownY:w=0,zoomHor:k,zoomVert:M}=this,O=x.attrs;O.x=y.plotLeft,O.y=y.plotTop,O.width=k?1:y.plotWidth,O.height=M?1:y.plotHeight,k&&(C=P-S,O.width=Math.abs(C),O.x=(C>0?0:C)+S),M&&(C=A-w,O.height=Math.abs(C),O.y=(C>0?0:C)+w)}),T}drag(P){let A=this.chart,T=A.options.chart,x=A.plotLeft,C=A.plotTop,y=A.plotWidth,S=A.plotHeight,w=this.mouseDownX||0,k=this.mouseDownY||0,M=I(T.panning)?T.panning&&T.panning.enabled:T.panning,O=T.panKey&&P[T.panKey+"Key"],F=P.chartX,z=P.chartY,X,L=this.selectionMarker;if((!L||!L.touch)&&(F<x?F=x:F>x+y&&(F=x+y),z<C?z=C:z>C+S&&(z=C+S),this.hasDragged=Math.sqrt(Math.pow(w-F,2)+Math.pow(k-z,2)),this.hasDragged>10)){X=A.isInsidePlot(w-x,k-C,{visiblePlotOnly:!0});let{shapeType:K,attrs:D}=this.getSelectionMarkerAttrs(F,z);(A.hasCartesianSeries||A.mapView)&&(this.zoomX||this.zoomY)&&X&&!O&&!L&&(this.selectionMarker=L=A.renderer[K](),L.attr({class:"highcharts-selection-marker",zIndex:7}).add(),A.styledMode||L.attr({fill:T.selectionMarkerFill||l("#334eff").setOpacity(.25).get()})),L&&L.attr(D),X&&!L&&M&&A.pan(P,T.panning)}}dragStart(P){let A=this.chart;A.mouseIsDown=P.type,A.cancelClick=!1,A.mouseDownX=this.mouseDownX=P.chartX,A.mouseDownY=this.mouseDownY=P.chartY}getSelectionBox(P){let A={args:{marker:P},result:{}};return b(this,"getSelectionBox",A,T=>{T.result={x:P.attr?+P.attr("x"):P.x,y:P.attr?+P.attr("y"):P.y,width:P.attr?P.attr("width"):P.width,height:P.attr?P.attr("height"):P.height}}),A.result}drop(P){let A=this,T=this.chart,x=this.hasPinched;if(this.selectionMarker){let{x:C,y,width:S,height:w}=this.getSelectionBox(this.selectionMarker),k={originalEvent:P,xAxis:[],yAxis:[],x:C,y,width:S,height:w},M=!!T.mapView;(this.hasDragged||x)&&(T.axes.forEach(function(O){if(O.zoomEnabled&&g(O.min)&&(x||A[{xAxis:"zoomX",yAxis:"zoomY"}[O.coll]])&&E(C)&&E(y)&&E(S)&&E(w)){let F=O.horiz,z=P.type==="touchend"?O.minPixelPadding:0,X=O.toValue((F?C:y)+z),L=O.toValue((F?C+S:y+w)-z);k[O.coll].push({axis:O,min:Math.min(X,L),max:Math.max(X,L)}),M=!0}}),M&&b(T,"selection",k,function(O){T.zoom(m(O,x?{animation:!1}:null))})),E(T.index)&&(this.selectionMarker=this.selectionMarker.destroy()),x&&this.scaleGroups()}T&&E(T.index)&&(p(T.container,{cursor:T._cursor}),T.cancelClick=+this.hasDragged>10,T.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint(P,A,T){let x;return P.forEach(function(C){let y=C.noSharedTooltip&&A,S=!y&&0>C.options.findNearestPointBy.indexOf("y"),w=C.searchPoint(T,S);I(w,!0)&&w.series&&(!I(x,!0)||function(k,M){let O=k.distX-M.distX,F=k.dist-M.dist,z=(M.series.group&&M.series.group.zIndex)-(k.series.group&&k.series.group.zIndex);return O!==0&&A?O:F!==0?F:z!==0?z:k.series.index>M.series.index?-1:1}(x,w)>0)&&(x=w)}),x}getChartCoordinatesFromPoint(P,A){let T=P.series,x=T.xAxis,C=T.yAxis,y=P.shapeArgs;if(x&&C){let S=j(P.clientX,P.plotX),w=P.plotY||0;return P.isNode&&y&&E(y.x)&&E(y.y)&&(S=y.x,w=y.y),A?{chartX:C.len+C.pos-w,chartY:x.len+x.pos-S}:{chartX:S+x.pos,chartY:w+C.pos}}if(y&&y.x&&y.y)return{chartX:y.x,chartY:y.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:P}=this.chart,A=N(P);this.chartPosition={left:A.left,top:A.top,scaleX:1,scaleY:1};let T=P.offsetWidth,x=P.offsetHeight;return T>2&&x>2&&(this.chartPosition.scaleX=A.width/T,this.chartPosition.scaleY=A.height/x),this.chartPosition}getCoordinates(P){let A={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(T){A[T.isXAxis?"xAxis":"yAxis"].push({axis:T,value:T.toValue(P[T.horiz?"chartX":"chartY"])})}),A}getHoverData(P,A,T,x,C,y){let S=[],w=function(X){return X.visible&&!(!C&&X.directTouch)&&j(X.options.enableMouseTracking,!0)},k=A,M,O={chartX:y?y.chartX:void 0,chartY:y?y.chartY:void 0,shared:C};b(this,"beforeGetHoverData",O),M=k&&!k.stickyTracking?[k]:T.filter(X=>X.stickyTracking&&(O.filter||w)(X));let z=x&&P||!y?P:this.findNearestKDPoint(M,C,y);return k=z&&z.series,z&&(C&&!k.noSharedTooltip?(M=T.filter(function(X){return O.filter?O.filter(X):w(X)&&!X.noSharedTooltip})).forEach(function(X){let L=v(X.points,function(K){return K.x===z.x&&!K.isNull});I(L)&&(X.boosted&&X.boost&&(L=X.boost.getPoint(L)),S.push(L))}):S.push(z)),b(this,"afterGetHoverData",O={hoverPoint:z}),{hoverPoint:O.hoverPoint,hoverSeries:k,hoverPoints:S}}getPointFromEvent(P){let A=P.target,T;for(;A&&!T;)T=A.point,A=A.parentNode;return T}onTrackerMouseOut(P){let A=this.chart,T=P.relatedTarget,x=A.hoverSeries;this.isDirectTouch=!1,!x||!T||x.stickyTracking||this.inClass(T,"highcharts-tooltip")||this.inClass(T,"highcharts-series-"+x.index)&&this.inClass(T,"highcharts-tracker")||x.onMouseOut()}inClass(P,A){let T=P,x;for(;T;){if(x=f(T,"class")){if(x.indexOf(A)!==-1)return!0;if(x.indexOf("highcharts-container")!==-1)return!1}T=T.parentElement}}constructor(P,A){var T;this.hasDragged=!1,this.lastValidTouch={},this.pinchDown=[],this.eventsToUnbind=[],this.options=A,this.chart=P,this.runChartClick=!!((T=A.chart.events)!=null&&T.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),b(this,"afterInit")}normalize(P,A){let T=P.touches,x=T?T.length?T.item(0):j(T.changedTouches,P.changedTouches)[0]:P;A||(A=this.getChartPosition());let C=x.pageX-A.left,y=x.pageY-A.top;return m(P,{chartX:Math.round(C/=A.scaleX),chartY:Math.round(y/=A.scaleY)})}onContainerClick(P){let A=this.chart,T=A.hoverPoint,x=this.normalize(P),C=A.plotLeft,y=A.plotTop;!A.cancelClick&&(T&&this.inClass(x.target,"highcharts-tracker")?(b(T.series,"click",m(x,{point:T})),A.hoverPoint&&T.firePointEvent("click",x)):(m(x,this.getCoordinates(x)),A.isInsidePlot(x.chartX-C,x.chartY-y,{visiblePlotOnly:!0})&&b(A,"click",x)))}onContainerMouseDown(P){let A=(1&(P.buttons||P.button))==1;P=this.normalize(P),a.isFirefox&&P.button!==0&&this.onContainerMouseMove(P),(P.button===void 0||A)&&(this.zoomOption(P),A&&P.preventDefault&&P.preventDefault(),this.dragStart(P))}onContainerMouseLeave(P){let A=u[j(W.hoverChartIndex,-1)];P=this.normalize(P),this.onContainerMouseMove(P),A&&P.relatedTarget&&!this.inClass(P.relatedTarget,"highcharts-tooltip")&&(A.pointer.reset(),A.pointer.chartPosition=void 0)}onContainerMouseEnter(P){delete this.chartPosition}onContainerMouseMove(P){let A=this.chart,T=A.tooltip,x=this.normalize(P);this.setHoverChartIndex(P),(A.mouseIsDown==="mousedown"||this.touchSelect(x))&&this.drag(x),!A.openMenu&&(this.inClass(x.target,"highcharts-tracker")||A.isInsidePlot(x.chartX-A.plotLeft,x.chartY-A.plotTop,{visiblePlotOnly:!0}))&&!(T&&T.shouldStickOnContact(x))&&(this.inClass(x.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(x))}onDocumentTouchEnd(P){let A=u[j(W.hoverChartIndex,-1)];A&&A.pointer.drop(P)}onContainerTouchMove(P){this.touchSelect(P)?this.onContainerMouseMove(P):this.touch(P)}onContainerTouchStart(P){this.touchSelect(P)?this.onContainerMouseDown(P):(this.zoomOption(P),this.touch(P,!0))}onDocumentMouseMove(P){let A=this.chart,T=A.tooltip,x=this.chartPosition,C=this.normalize(P,x);!x||A.isInsidePlot(C.chartX-A.plotLeft,C.chartY-A.plotTop,{visiblePlotOnly:!0})||T&&T.shouldStickOnContact(C)||this.inClass(C.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(P){let A=u[j(W.hoverChartIndex,-1)];A&&A.pointer.drop(P)}pinch(P){let A=this,T=A.chart,x=A.pinchDown,C=P.touches||[],y=C.length,S=A.lastValidTouch,w=A.hasZoom,k={},M=y===1&&(A.inClass(P.target,"highcharts-tracker")&&T.runTrackerClick||A.runChartClick),O={},F=A.chart.tooltip,z=y===1&&j(F&&F.options.followTouchMove,!0),X=A.selectionMarker;y>1?A.initiated=!0:z&&(A.initiated=!1),w&&A.initiated&&!M&&P.cancelable!==!1&&P.preventDefault(),[].map.call(C,function(L){return A.normalize(L)}),P.type==="touchstart"?([].forEach.call(C,function(L,K){x[K]={chartX:L.chartX,chartY:L.chartY}}),S.x=[x[0].chartX,x[1]&&x[1].chartX],S.y=[x[0].chartY,x[1]&&x[1].chartY],T.axes.forEach(function(L){if(L.zoomEnabled){let K=T.bounds[L.horiz?"h":"v"],D=L.minPixelPadding,B=L.toPixels(Math.min(j(L.options.min,L.dataMin),L.dataMin)),U=L.toPixels(Math.max(j(L.options.max,L.dataMax),L.dataMax)),Q=Math.min(B,U),q=Math.max(B,U);K.min=Math.min(L.pos,Q-D),K.max=Math.max(L.pos+L.len,q+D)}}),A.res=!0):z?this.runPointActions(A.normalize(P)):x.length&&(b(T,"touchpan",{originalEvent:P},()=>{X||(A.selectionMarker=X=m({destroy:c,touch:!0},T.plotBox)),A.pinchTranslate(x,C,k,X,O,S),A.hasPinched=w,A.scaleGroups(k,O)}),A.res&&(A.res=!1,this.reset(!1,0)))}pinchTranslate(P,A,T,x,C,y){this.zoomHor&&this.pinchTranslateDirection(!0,P,A,T,x,C,y),this.zoomVert&&this.pinchTranslateDirection(!1,P,A,T,x,C,y)}pinchTranslateDirection(P,A,T,x,C,y,S,w){let k=this.chart,M=P?"x":"y",O=P?"X":"Y",F="chart"+O,z=P?"width":"height",X=k["plot"+(P?"Left":"Top")],L=k.inverted,K=k.bounds[P?"h":"v"],D=A.length===1,B=A[0][F],U=!D&&A[1][F],Q=function(){typeof Y=="number"&&Math.abs(B-U)>20&&(ie=w||Math.abs(te-Y)/Math.abs(B-U)),$=(X-te)/ie+B,q=k["plot"+(P?"Width":"Height")]/ie},q,Z,$,ie=w||1,te=T[0][F],Y=!D&&T[1][F],ee;Q(),(Z=$)<K.min?(Z=K.min,ee=!0):Z+q>K.max&&(Z=K.max-q,ee=!0),ee?(te-=.8*(te-S[M][0]),typeof Y=="number"&&(Y-=.8*(Y-S[M][1])),Q()):S[M]=[te,Y],L||(y[M]=$-X,y[z]=q);let re=L?P?"scaleY":"scaleX":"scale"+O,ne=L?1/ie:ie;C[z]=q,C[M]=Z,x[re]=ie*(L&&!P?-1:1),x["translate"+O]=ne*X+(te-ne*B)}reset(P,A){let T=this.chart,x=T.hoverSeries,C=T.hoverPoint,y=T.hoverPoints,S=T.tooltip,w=S&&S.shared?y:C;P&&w&&H(w).forEach(function(k){k.series.isCartesian&&k.plotX===void 0&&(P=!1)}),P?S&&w&&H(w).length&&(S.refresh(w),S.shared&&y?y.forEach(function(k){k.setState(k.state,!0),k.series.isCartesian&&(k.series.xAxis.crosshair&&k.series.xAxis.drawCrosshair(null,k),k.series.yAxis.crosshair&&k.series.yAxis.drawCrosshair(null,k))}):C&&(C.setState(C.state,!0),T.axes.forEach(function(k){k.crosshair&&C.series[k.coll]===k&&k.drawCrosshair(null,C)}))):(C&&C.onMouseOut(),y&&y.forEach(function(k){k.setState()}),x&&x.onMouseOut(),S&&S.hide(A),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),T.axes.forEach(function(k){k.hideCrosshair()}),this.hoverX=T.hoverPoints=T.hoverPoint=null)}runPointActions(P,A,T){let x=this.chart,C=x.series,y=x.tooltip&&x.tooltip.options.enabled?x.tooltip:void 0,S=!!y&&y.shared,w=A||x.hoverPoint,k=w&&w.series||x.hoverSeries,M=(!P||P.type!=="touchmove")&&(!!A||k&&k.directTouch&&this.isDirectTouch),O=this.getHoverData(w,k,C,M,S,P);w=O.hoverPoint,k=O.hoverSeries;let F=O.hoverPoints,z=k&&k.tooltipOptions.followPointer&&!k.tooltipOptions.split,X=S&&k&&!k.noSharedTooltip;if(w&&(T||w!==x.hoverPoint||y&&y.isHidden)){if((x.hoverPoints||[]).forEach(function(L){F.indexOf(L)===-1&&L.setState()}),x.hoverSeries!==k&&k.onMouseOver(),this.applyInactiveState(F),(F||[]).forEach(function(L){L.setState("hover")}),x.hoverPoint&&x.hoverPoint.firePointEvent("mouseOut"),!w.series)return;x.hoverPoints=F,x.hoverPoint=w,w.firePointEvent("mouseOver",void 0,()=>{y&&w&&y.refresh(X?F:w,P)})}else if(z&&y&&!y.isHidden){let L=y.getAnchor([{}],P);x.isInsidePlot(L[0],L[1],{visiblePlotOnly:!0})&&y.updatePosition({plotX:L[0],plotY:L[1]})}this.unDocMouseMove||(this.unDocMouseMove=h(x.container.ownerDocument,"mousemove",function(L){let K=u[W.hoverChartIndex];K&&K.pointer.onDocumentMouseMove(L)}),this.eventsToUnbind.push(this.unDocMouseMove)),x.axes.forEach(function(L){let K,D=j((L.crosshair||{}).snap,!0);!D||(K=x.hoverPoint)&&K.series[L.coll]===L||(K=v(F,B=>B.series&&B.series[L.coll]===L)),K||!D?L.drawCrosshair(P,K):L.hideCrosshair()})}scaleGroups(P,A){let T=this.chart;T.series.forEach(function(x){let C=P||x.getPlotBox("series");x.group&&(x.xAxis&&x.xAxis.zoomEnabled||T.mapView)&&(x.group.attr(C),x.markerGroup&&(x.markerGroup.attr(P||x.getPlotBox("marker")),x.markerGroup.clip(A?T.clipRect:null)),x.dataLabelsGroup&&x.dataLabelsGroup.attr(C))}),T.clipRect.attr(A||T.clipBox)}setDOMEvents(){let P=this.chart.container,A=P.ownerDocument;P.onmousedown=this.onContainerMouseDown.bind(this),P.onmousemove=this.onContainerMouseMove.bind(this),P.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(h(P,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(h(P,"mouseleave",this.onContainerMouseLeave.bind(this))),W.unbindDocumentMouseUp||(W.unbindDocumentMouseUp=h(A,"mouseup",this.onDocumentMouseUp.bind(this)));let T=this.chart.renderTo.parentElement;for(;T&&T.tagName!=="BODY";)this.eventsToUnbind.push(h(T,"scroll",()=>{delete this.chartPosition})),T=T.parentElement;a.hasTouch&&(this.eventsToUnbind.push(h(P,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(h(P,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),W.unbindDocumentTouchEnd||(W.unbindDocumentTouchEnd=h(A,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(P){let A=this.chart,T=a.charts[j(W.hoverChartIndex,-1)];T&&T!==A&&T.pointer.onContainerMouseLeave(P||{relatedTarget:A.container}),T&&T.mouseIsDown||(W.hoverChartIndex=A.index)}touch(P,A){let T,x,C=this.chart;this.setHoverChartIndex(),P.touches.length===1?(P=this.normalize(P),C.isInsidePlot(P.chartX-C.plotLeft,P.chartY-C.plotTop,{visiblePlotOnly:!0})&&!C.openMenu?(A&&this.runPointActions(P),P.type==="touchmove"&&(T=!!(x=this.pinchDown)[0]&&Math.sqrt(Math.pow(x[0].chartX-P.chartX,2)+Math.pow(x[0].chartY-P.chartY,2))>=4),j(T,!0)&&this.pinch(P)):A&&this.reset()):P.touches.length===2&&this.pinch(P)}touchSelect(P){return!!(this.chart.zooming.singleTouch&&P.touches&&P.touches.length===1)}zoomOption(P){let A=this.chart,T=(A.options.chart,A.inverted),x=A.zooming.type||"",C,y;/touch/.test(P.type)&&(x=j(A.zooming.pinchType,x)),this.zoomX=C=/x/.test(x),this.zoomY=y=/y/.test(x),this.zoomHor=C&&!T||y&&T,this.zoomVert=y&&!T||C&&T,this.hasZoom=C||y}}return(o=W||(W={})).compose=function G(P){V(d,G)&&h(P,"beforeRender",function(){this.pointer=new o(this,this.options)})},W}),r(i,"Core/Legend/Legend.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Templating.js"],i["Core/Globals.js"],i["Core/Series/Point.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Utilities.js"]],function(n,a,s,o,l,u){var d;let{animObject:c,setAnimation:h}=n,{format:f}=a,{composed:p,marginNames:g}=s,{distribute:m}=l,{addEvent:v,createElement:b,css:E,defined:I,discardElement:R,find:N,fireEvent:j,isNumber:V,merge:H,pick:W,pushUnique:G,relativeLength:P,stableSort:A,syncTimeout:T}=u;class x{constructor(y,S){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=y,this.setOptions(S),S.enabled&&(this.render(),v(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),v(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(y){let S=W(y.padding,8);this.options=y,this.chart.styledMode||(this.itemStyle=y.itemStyle,this.itemHiddenStyle=H(this.itemStyle,y.itemHiddenStyle)),this.itemMarginTop=y.itemMarginTop,this.itemMarginBottom=y.itemMarginBottom,this.padding=S,this.initialItemY=S-5,this.symbolWidth=W(y.symbolWidth,16),this.pages=[],this.proximate=y.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(y,S){let w=this.chart;this.setOptions(H(!0,this.options,y)),this.destroy(),w.isDirtyLegend=w.isDirtyBox=!0,W(S,!0)&&w.redraw(),j(this,"afterUpdate",{redraw:S})}colorizeItem(y,S){let{area:w,group:k,label:M,line:O,symbol:F}=y.legendItem||{};if(k==null||k[S?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:z={}}=this,X=z.color,{fillColor:L,fillOpacity:K,lineColor:D,marker:B}=y.options,U=Q=>(!S&&(Q.fill&&(Q.fill=X),Q.stroke&&(Q.stroke=X)),Q);M==null||M.css(H(S?this.itemStyle:z)),O==null||O.attr(U({stroke:D||y.color})),F&&F.attr(U(B&&F.isMarker?y.pointAttribs():{fill:y.color})),w==null||w.attr(U({fill:L||y.color,"fill-opacity":L?1:K??.75}))}j(this,"afterColorizeItem",{item:y,visible:S})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(y){let{group:S,x:w=0,y:k=0}=y.legendItem||{},M=this.options,O=M.symbolPadding,F=!M.rtl,z=y.checkbox;if(S&&S.element){let X={translateX:F?w:this.legendWidth-w-2*O-4,translateY:k};S[I(S.translateY)?"animate":"attr"](X,void 0,()=>{j(this,"afterPositionItem",{item:y})})}z&&(z.x=w,z.y=k)}destroyItem(y){let S=y.checkbox,w=y.legendItem||{};for(let k of["group","label","line","symbol"])w[k]&&(w[k]=w[k].destroy());S&&R(S),y.legendItem=void 0}destroy(){for(let y of this.getAllItems())this.destroyItem(y);for(let y of["clipRect","up","down","pager","nav","box","title","group"])this[y]&&(this[y]=this[y].destroy());this.display=null}positionCheckboxes(){let y,S=this.group&&this.group.alignAttr,w=this.clipHeight||this.legendHeight,k=this.titleHeight;S&&(y=S.translateY,this.allItems.forEach(function(M){let O,F=M.checkbox;F&&(O=y+k+F.y+(this.scrollOffset||0)+3,E(F,{left:S.translateX+M.checkboxOffset+F.x-20+"px",top:O+"px",display:this.proximate||O>y-6&&O<y+w-6?"":"none"}))},this))}renderTitle(){let y=this.options,S=this.padding,w=y.title,k,M=0;w.text&&(this.title||(this.title=this.chart.renderer.label(w.text,S-3,S-4,void 0,void 0,void 0,y.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(w.style),this.title.add(this.group)),w.width||this.title.css({width:this.maxLegendWidth+"px"}),M=(k=this.title.getBBox()).height,this.offsetWidth=k.width,this.contentGroup.attr({translateY:M})),this.titleHeight=M}setText(y){let S=this.options;y.legendItem.label.attr({text:S.labelFormat?f(S.labelFormat,y,this.chart):S.labelFormatter.call(y)})}renderItem(y){let S=y.legendItem=y.legendItem||{},w=this.chart,k=w.renderer,M=this.options,O=M.layout==="horizontal",F=this.symbolWidth,z=M.symbolPadding||0,X=this.itemStyle,L=this.itemHiddenStyle,K=O?W(M.itemDistance,20):0,D=!M.rtl,B=!y.series,U=!B&&y.series.drawLegendSymbol?y.series:y,Q=U.options,q=!!this.createCheckboxForItem&&Q&&Q.showCheckbox,Z=M.useHTML,$=y.options.className,ie=S.label,te=F+z+K+(q?20:0);!ie&&(S.group=k.g("legend-item").addClass("highcharts-"+U.type+"-series highcharts-color-"+y.colorIndex+($?" "+$:"")+(B?" highcharts-series-"+y.index:"")).attr({zIndex:1}).add(this.scrollGroup),S.label=ie=k.text("",D?F+z:-z,this.baseline||0,Z),w.styledMode||ie.css(H(y.visible?X:L)),ie.attr({align:D?"left":"right",zIndex:2}).add(S.group),!this.baseline&&(this.fontMetrics=k.fontMetrics(ie),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,ie.attr("y",this.baseline),this.symbolHeight=W(M.symbolHeight,this.fontMetrics.f),M.squareSymbol&&(this.symbolWidth=W(M.symbolWidth,Math.max(this.symbolHeight,16)),te=this.symbolWidth+z+K+(q?20:0),D&&ie.attr("x",this.symbolWidth+z))),U.drawLegendSymbol(this,y),this.setItemEvents&&this.setItemEvents(y,ie,Z)),q&&!y.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(y),this.colorizeItem(y,y.visible),(w.styledMode||!X.width)&&ie.css({width:(M.itemWidth||this.widthOption||w.spacingBox.width)-te+"px"}),this.setText(y);let Y=ie.getBBox(),ee=this.fontMetrics&&this.fontMetrics.h||0;y.itemWidth=y.checkboxOffset=M.itemWidth||S.labelWidth||Y.width+te,this.maxItemWidth=Math.max(this.maxItemWidth,y.itemWidth),this.totalItemWidth+=y.itemWidth,this.itemHeight=y.itemHeight=Math.round(S.labelHeight||(Y.height>1.5*ee?Y.height:ee))}layoutItem(y){let S=this.options,w=this.padding,k=S.layout==="horizontal",M=y.itemHeight,O=this.itemMarginBottom,F=this.itemMarginTop,z=k?W(S.itemDistance,20):0,X=this.maxLegendWidth,L=S.alignColumns&&this.totalItemWidth>X?this.maxItemWidth:y.itemWidth,K=y.legendItem||{};k&&this.itemX-w+L>X&&(this.itemX=w,this.lastLineHeight&&(this.itemY+=F+this.lastLineHeight+O),this.lastLineHeight=0),this.lastItemY=F+this.itemY+O,this.lastLineHeight=Math.max(M,this.lastLineHeight),K.x=this.itemX,K.y=this.itemY,k?this.itemX+=L:(this.itemY+=F+M+O,this.lastLineHeight=M),this.offsetWidth=this.widthOption||Math.max((k?this.itemX-w-(y.checkbox?0:z):L)+w,this.offsetWidth)}getAllItems(){let y=[];return this.chart.series.forEach(function(S){let w=S&&S.options;S&&W(w.showInLegend,!I(w.linkedTo)&&void 0,!0)&&(y=y.concat((S.legendItem||{}).labels||(w.legendType==="point"?S.data:S)))}),j(this,"afterGetAllItems",{allItems:y}),y}getAlignment(){let y=this.options;return this.proximate?y.align.charAt(0)+"tv":y.floating?"":y.align.charAt(0)+y.verticalAlign.charAt(0)+y.layout.charAt(0)}adjustMargins(y,S){let w=this.chart,k=this.options,M=this.getAlignment();M&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(O,F){O.test(M)&&!I(y[F])&&(w[g[F]]=Math.max(w[g[F]],w.legend[(F+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][F]*k[F%2?"x":"y"]+W(k.margin,12)+S[F]+(w.titleOffset[F]||0)))})}proximatePositions(){let y,S=this.chart,w=[],k=this.options.align==="left";for(let M of(this.allItems.forEach(function(O){let F,z,X=k,L,K;O.yAxis&&(O.xAxis.options.reversed&&(X=!X),O.points&&(F=N(X?O.points:O.points.slice(0).reverse(),function(D){return V(D.plotY)})),z=this.itemMarginTop+O.legendItem.label.getBBox().height+this.itemMarginBottom,K=O.yAxis.top-S.plotTop,L=O.visible?(F?F.plotY:O.yAxis.height)+(K-.3*z):K+O.yAxis.height,w.push({target:L,size:z,item:O}))},this),m(w,S.plotHeight)))y=M.item.legendItem||{},V(M.pos)&&(y.y=S.plotTop-S.spacing[0]+M.pos)}render(){let y=this.chart,S=y.renderer,w=this.options,k=this.padding,M=this.getAllItems(),O,F,z,X=this.group,L,K=this.box;this.itemX=k,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=P(w.width,y.spacingBox.width-k),L=y.spacingBox.width-2*k-w.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(L/=2),this.maxLegendWidth=this.widthOption||L,X||(this.group=X=S.g("legend").addClass(w.className||"").attr({zIndex:7}).add(),this.contentGroup=S.g().attr({zIndex:1}).add(X),this.scrollGroup=S.g().add(this.contentGroup)),this.renderTitle(),A(M,(D,B)=>(D.options&&D.options.legendIndex||0)-(B.options&&B.options.legendIndex||0)),w.reversed&&M.reverse(),this.allItems=M,this.display=O=!!M.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,M.forEach(this.renderItem,this),M.forEach(this.layoutItem,this),F=(this.widthOption||this.offsetWidth)+k,z=this.lastItemY+this.lastLineHeight+this.titleHeight,z=this.handleOverflow(z)+k,K||(this.box=K=S.rect().addClass("highcharts-legend-box").attr({r:w.borderRadius}).add(X)),y.styledMode||K.attr({stroke:w.borderColor,"stroke-width":w.borderWidth||0,fill:w.backgroundColor||"none"}).shadow(w.shadow),F>0&&z>0&&K[K.placed?"animate":"attr"](K.crisp.call({},{x:0,y:0,width:F,height:z},K.strokeWidth())),X[O?"show":"hide"](),y.styledMode&&X.getStyle("display")==="none"&&(F=z=0),this.legendWidth=F,this.legendHeight=z,O&&this.align(),this.proximate||this.positionItems(),j(this,"afterRender")}align(y=this.chart.spacingBox){let S=this.chart,w=this.options,k=y.y;/(lth|ct|rth)/.test(this.getAlignment())&&S.titleOffset[0]>0?k+=S.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&S.titleOffset[2]>0&&(k-=S.titleOffset[2]),k!==y.y&&(y=H(y,{y:k})),S.hasRendered||(this.group.placed=!1),this.group.align(H(w,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":w.verticalAlign}),!0,y)}handleOverflow(y){let S=this,w=this.chart,k=w.renderer,M=this.options,O=M.y,F=M.verticalAlign==="top",z=this.padding,X=M.maxHeight,L=M.navigation,K=W(L.animation,!0),D=L.arrowSize||12,B=this.pages,U=this.allItems,Q=function(re){typeof re=="number"?ee.attr({height:re}):ee&&(S.clipRect=ee.destroy(),S.contentGroup.clip()),S.contentGroup.div&&(S.contentGroup.div.style.clip=re?"rect("+z+"px,9999px,"+(z+re)+"px,0)":"auto")},q=function(re){return S[re]=k.circle(0,0,1.3*D).translate(D/2,D/2).add(Y),w.styledMode||S[re].attr("fill","rgba(0,0,0,0.0001)"),S[re]},Z,$,ie,te=w.spacingBox.height+(F?-O:O)-z,Y=this.nav,ee=this.clipRect;return M.layout!=="horizontal"||M.verticalAlign==="middle"||M.floating||(te/=2),X&&(te=Math.min(te,X)),B.length=0,y&&te>0&&y>te&&L.enabled!==!1?(this.clipHeight=Z=Math.max(te-20-this.titleHeight-z,0),this.currentPage=W(this.currentPage,1),this.fullHeight=y,U.forEach((re,ne)=>{ie=re.legendItem||{};let ue=ie.y||0,le=Math.round(ie.label.getBBox().height),pe=B.length;(!pe||ue-B[pe-1]>Z&&($||ue)!==B[pe-1])&&(B.push($||ue),pe++),ie.pageIx=pe-1,$&&((U[ne-1].legendItem||{}).pageIx=pe-1),ne===U.length-1&&ue+le-B[pe-1]>Z&&ue>B[pe-1]&&(B.push(ue),ie.pageIx=pe),ue!==$&&($=ue)}),ee||(ee=S.clipRect=k.clipRect(0,z-2,9999,0),S.contentGroup.clip(ee)),Q(Z),Y||(this.nav=Y=k.g().attr({zIndex:1}).add(this.group),this.up=k.symbol("triangle",0,0,D,D).add(Y),q("upTracker").on("click",function(){S.scroll(-1,K)}),this.pager=k.text("",15,10).addClass("highcharts-legend-navigation"),!w.styledMode&&L.style&&this.pager.css(L.style),this.pager.add(Y),this.down=k.symbol("triangle-down",0,0,D,D).add(Y),q("downTracker").on("click",function(){S.scroll(1,K)})),S.scroll(0),y=te):Y&&(Q(),this.nav=Y.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),y}scroll(y,S){let w=this.chart,k=this.pages,M=k.length,O=this.clipHeight,F=this.options.navigation,z=this.pager,X=this.padding,L=this.currentPage+y;if(L>M&&(L=M),L>0){S!==void 0&&h(S,w),this.nav.attr({translateX:X,translateY:O+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(D){D.attr({class:L===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),z.attr({text:L+"/"+M}),[this.down,this.downTracker].forEach(function(D){D.attr({x:18+this.pager.getBBox().width,class:L===M?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),w.styledMode||(this.up.attr({fill:L===1?F.inactiveColor:F.activeColor}),this.upTracker.css({cursor:L===1?"default":"pointer"}),this.down.attr({fill:L===M?F.inactiveColor:F.activeColor}),this.downTracker.css({cursor:L===M?"default":"pointer"})),this.scrollOffset=-k[L-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=L,this.positionCheckboxes();let K=c(W(S,w.renderer.globalAnimation,!0));T(()=>{j(this,"afterScroll",{currentPage:L})},K.duration)}}setItemEvents(y,S,w){let k=this,M=y.legendItem||{},O=k.chart.renderer.boxWrapper,F=y instanceof o,z="highcharts-legend-"+(F?"point":"series")+"-active",X=k.chart.styledMode,L=w?[S,M.symbol]:[M.group],K=D=>{k.allItems.forEach(B=>{y!==B&&[B].concat(B.linkedSeries||[]).forEach(U=>{U.setState(D,!F)})})};for(let D of L)D&&D.on("mouseover",function(){y.visible&&K("inactive"),y.setState("hover"),y.visible&&O.addClass(z),X||S.css(k.options.itemHoverStyle)}).on("mouseout",function(){k.chart.styledMode||S.css(H(y.visible?k.itemStyle:k.itemHiddenStyle)),K(""),O.removeClass(z),y.setState()}).on("click",function(B){let U="legendItemClick",Q=function(){y.setVisible&&y.setVisible(),K(y.visible?"inactive":"")};O.removeClass(z),B={browserEvent:B},y.firePointEvent?y.firePointEvent(U,B,Q):j(y,U,B,Q)})}createCheckboxForItem(y){y.checkbox=b("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:y.selected,defaultChecked:y.selected},this.options.itemCheckboxStyle,this.chart.container),v(y.checkbox,"click",function(S){let w=S.target;j(y.series||y,"checkboxClick",{checked:w.checked,item:y},function(){y.select()})})}}return(d=x||(x={})).compose=function C(y){G(p,C)&&v(y,"beforeMargins",function(){this.legend=new d(this,this.options.legend)})},x}),r(i,"Core/Legend/LegendSymbol.js",[i["Core/Utilities.js"]],function(n){var a;let{extend:s,merge:o,pick:l}=n;return function(u){function d(c,h,f){var A;let p=this.legendItem=this.legendItem||{},{chart:g,options:m}=this,{baseline:v=0,symbolWidth:b,symbolHeight:E}=c,I=this.symbol||"circle",R=E/2,N=g.renderer,j=p.group,V=v-Math.round(E*(f?.4:.3)),H={},W,G=m.marker,P=0;if(g.styledMode||(H["stroke-width"]=Math.min(m.lineWidth||0,24),m.dashStyle?H.dashstyle=m.dashStyle:m.linecap==="square"||(H["stroke-linecap"]="round")),p.line=N.path().addClass("highcharts-graph").attr(H).add(j),f&&(p.area=N.path().addClass("highcharts-area").add(j)),H["stroke-linecap"]&&(P=Math.min(p.line.strokeWidth(),b)/2),b){let T=[["M",P,V],["L",b-P,V]];p.line.attr({d:T}),(A=p.area)==null||A.attr({d:[...T,["L",b-P,v],["L",P,v]]})}if(G&&G.enabled!==!1&&b){let T=Math.min(l(G.radius,R),R);I.indexOf("url")===0&&(G=o(G,{width:E,height:E}),T=0),p.symbol=W=N.symbol(I,b/2-T,V-T,2*T,2*T,s({context:"legend"},G)).addClass("highcharts-point").add(j),W.isMarker=!0}}u.areaMarker=function(c,h){d.call(this,c,h,!0)},u.lineMarker=d,u.rectangle=function(c,h){let f=h.legendItem||{},p=c.options,g=c.symbolHeight,m=p.squareSymbol,v=m?g:c.symbolWidth;f.symbol=this.chart.renderer.rect(m?(c.symbolWidth-g)/2:0,c.baseline-g+1,v,g,l(c.options.symbolRadius,g/2)).addClass("highcharts-point").attr({zIndex:3}).add(f.group)}}(a||(a={})),a}),r(i,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:n}=this.series.chart;return typeof this.y!="number"?"":n(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),r(i,"Core/Series/SeriesRegistry.js",[i["Core/Globals.js"],i["Core/Defaults.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],function(n,a,s,o){var l;let{defaultOptions:u}=a,{extendClass:d,merge:c}=o;return function(h){function f(p,g){let m=u.plotOptions||{},v=g.defaultOptions,b=g.prototype;b.type=p,b.pointClass||(b.pointClass=s),v&&(m[p]=v),h.seriesTypes[p]=g}h.seriesTypes=n.seriesTypes,h.registerSeriesType=f,h.seriesType=function(p,g,m,v,b){let E=u.plotOptions||{};return g=g||"",E[p]=c(E[g],m),f(p,d(h.seriesTypes[g]||function(){},v)),h.seriesTypes[p].prototype.type=p,b&&(h.seriesTypes[p].prototype.pointClass=d(s,b)),h.seriesTypes[p]}}(l||(l={})),l}),r(i,"Core/Series/Series.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Defaults.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/Point.js"],i["Core/Series/SeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],function(n,a,s,o,l,u,d,c,h,f){let{animObject:p,setAnimation:g}=n,{defaultOptions:m}=a,{registerEventOptions:v}=s,{hasTouch:b,svg:E,win:I}=o,{seriesTypes:R}=c,{arrayMax:N,arrayMin:j,clamp:V,correctFloat:H,defined:W,destroyObjectProperties:G,diffObjects:P,erase:A,error:T,extend:x,find:C,fireEvent:y,getClosestDistance:S,getNestedProperty:w,insertItem:k,isArray:M,isNumber:O,isString:F,merge:z,objectEach:X,pick:L,removeEvent:K,splat:D,syncTimeout:B}=f;class U{constructor(){this.zoneAxis="y"}init(q,Z){let $;y(this,"init",{options:Z});let ie=this,te=q.series;this.eventsToUnbind=[],ie.chart=q,ie.options=ie.setOptions(Z);let Y=ie.options,ee=Y.visible!==!1;ie.linkedSeries=[],ie.bindAxes(),x(ie,{name:Y.name,state:"",visible:ee,selected:Y.selected===!0}),v(this,Y);let re=Y.events;(re&&re.click||Y.point&&Y.point.events&&Y.point.events.click||Y.allowPointSelect)&&(q.runTrackerClick=!0),ie.getColor(),ie.getSymbol(),ie.parallelArrays.forEach(function(ne){ie[ne+"Data"]||(ie[ne+"Data"]=[])}),ie.isCartesian&&(q.hasCartesianSeries=!0),te.length&&($=te[te.length-1]),ie._i=L($&&$._i,-1)+1,ie.opacity=ie.options.opacity,q.orderItems("series",k(this,te)),Y.dataSorting&&Y.dataSorting.enabled?ie.setDataSortingOptions():ie.points||ie.data||ie.setData(Y.data,!1),y(this,"afterInit")}is(q){return R[q]&&this instanceof R[q]}bindAxes(){let q,Z=this,$=Z.options,ie=Z.chart;y(this,"bindAxes",null,function(){(Z.axisTypes||[]).forEach(function(te){ie[te].forEach(function(Y){q=Y.options,(L($[te],0)===Y.index||$[te]!==void 0&&$[te]===q.id)&&(k(Z,Y.series),Z[te]=Y,Y.isDirty=!0)}),Z[te]||Z.optionalAxis===te||T(18,!0,ie)})}),y(this,"afterBindAxes")}updateParallelArrays(q,Z,$){let ie=q.series,te=O(Z)?function(Y){let ee=Y==="y"&&ie.toYData?ie.toYData(q):q[Y];ie[Y+"Data"][Z]=ee}:function(Y){Array.prototype[Z].apply(ie[Y+"Data"],$)};ie.parallelArrays.forEach(te)}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.yData&&this.yData.length>0}hasMarkerChanged(q,Z){let $=q.marker,ie=Z.marker||{};return $&&(ie.enabled&&!$.enabled||ie.symbol!==$.symbol||ie.height!==$.height||ie.width!==$.width)}autoIncrement(q){let Z=this.options,$=Z.pointIntervalUnit,ie=Z.relativeXValue,te=this.chart.time,Y=this.xIncrement,ee,re;return Y=L(Y,Z.pointStart,0),this.pointInterval=re=L(this.pointInterval,Z.pointInterval,1),ie&&O(q)&&(re*=q),$&&(ee=new te.Date(Y),$==="day"?te.set("Date",ee,te.get("Date",ee)+re):$==="month"?te.set("Month",ee,te.get("Month",ee)+re):$==="year"&&te.set("FullYear",ee,te.get("FullYear",ee)+re),re=ee.getTime()-Y),ie&&O(q)?Y+re:(this.xIncrement=Y+re,Y)}setDataSortingOptions(){let q=this.options;x(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),W(q.pointRange)||(q.pointRange=1)}setOptions(q){var me,ge;let Z,$=this.chart,ie=$.options,te=ie.plotOptions,Y=$.userOptions||{},ee=z(q),re=$.styledMode,ne={plotOptions:te,userOptions:ee};y(this,"setOptions",ne);let ue=ne.plotOptions[this.type],le=Y.plotOptions||{},pe=le.series||{},se=m.plotOptions[this.type]||{},ae=le[this.type]||{};this.userOptions=ne.userOptions;let de=z(ue,te.series,ae,ee);this.tooltipOptions=z(m.tooltip,(me=m.plotOptions.series)==null?void 0:me.tooltip,se==null?void 0:se.tooltip,$.userOptions.tooltip,(ge=le.series)==null?void 0:ge.tooltip,ae.tooltip,ee.tooltip),this.stickyTracking=L(ee.stickyTracking,ae.stickyTracking,pe.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||de.stickyTracking),ue.marker===null&&delete de.marker,this.zoneAxis=de.zoneAxis||"y";let fe=this.zones=(de.zones||[]).slice();return(de.negativeColor||de.negativeFillColor)&&!de.zones&&(Z={value:de[this.zoneAxis+"Threshold"]||de.threshold||0,className:"highcharts-negative"},re||(Z.color=de.negativeColor,Z.fillColor=de.negativeFillColor),fe.push(Z)),fe.length&&W(fe[fe.length-1].value)&&fe.push(re?{}:{color:this.color,fillColor:this.fillColor}),y(this,"afterSetOptions",{options:de}),de}getName(){return L(this.options.name,"Series "+(this.index+1))}getCyclic(q,Z,$){let ie,te,Y=this.chart,ee=`${q}Index`,re=`${q}Counter`,ne=($==null?void 0:$.length)||Y.options.chart.colorCount;!Z&&(W(te=L(q==="color"?this.options.colorIndex:void 0,this[ee]))?ie=te:(Y.series.length||(Y[re]=0),ie=Y[re]%ne,Y[re]+=1),$&&(Z=$[ie])),ie!==void 0&&(this[ee]=ie),this[q]=Z}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||m.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let q=this.options.marker;this.getCyclic("symbol",q.symbol,this.chart.options.symbols)}findPointIndex(q,Z){let $,ie,te,Y=q.id,ee=q.x,re=this.points,ne=this.options.dataSorting;if(Y){let ue=this.chart.get(Y);ue instanceof u&&($=ue)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let ue=le=>!le.touched&&le.index===q.index;if(ne&&ne.matchByName?ue=le=>!le.touched&&le.name===q.name:this.options.relativeXValue&&(ue=le=>!le.touched&&le.options.x===q.x),!($=C(re,ue)))return}return $&&(te=$&&$.index)!==void 0&&(ie=!0),te===void 0&&O(ee)&&(te=this.xData.indexOf(ee,Z)),te!==-1&&te!==void 0&&this.cropped&&(te=te>=this.cropStart?te-this.cropStart:te),!ie&&O(te)&&re[te]&&re[te].touched&&(te=void 0),te}updateData(q,Z){let $=this.options,ie=$.dataSorting,te=this.points,Y=[],ee=this.requireSorting,re=q.length===te.length,ne,ue,le,pe,se=!0;if(this.xIncrement=null,q.forEach(function(ae,de){let fe,me=W(ae)&&this.pointClass.prototype.optionsToObject.call({series:this},ae)||{},ge=me.x;me.id||O(ge)?((fe=this.findPointIndex(me,pe))===-1||fe===void 0?Y.push(ae):te[fe]&&ae!==$.data[fe]?(te[fe].update(ae,!1,null,!1),te[fe].touched=!0,ee&&(pe=fe+1)):te[fe]&&(te[fe].touched=!0),(!re||de!==fe||ie&&ie.enabled||this.hasDerivedData)&&(ne=!0)):Y.push(ae)},this),ne)for(ue=te.length;ue--;)(le=te[ue])&&!le.touched&&le.remove&&le.remove(!1,Z);else!re||ie&&ie.enabled?se=!1:(q.forEach(function(ae,de){ae===te[de].y||te[de].destroyed||te[de].update(ae,!1,null,!1)}),Y.length=0);return te.forEach(function(ae){ae&&(ae.touched=!1)}),!!se&&(Y.forEach(function(ae){this.addPoint(ae,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=N(this.xData),this.autoIncrement()),!0)}setData(q,Z=!0,$,ie){var Pe;let te=this,Y=te.points,ee=Y&&Y.length||0,re=te.options,ne=te.chart,ue=re.dataSorting,le=te.xAxis,pe=re.turboThreshold,se=this.xData,ae=this.yData,de=te.pointArrayMap,fe=de&&de.length,me=re.keys,ge,ye,_e,Se=0,Ie=1,Ce=null,Te;ne.options.chart.allowMutatingData||(re.data&&delete te.options.data,te.userOptions.data&&delete te.userOptions.data,Te=z(!0,q)),q=Te||q||[];let Me=q.length;if(ue&&ue.enabled&&(q=this.sortData(q)),ne.options.chart.allowMutatingData&&ie!==!1&&Me&&ee&&!te.cropped&&!te.hasGroupedData&&te.visible&&!te.boosted&&(_e=this.updateData(q,$)),!_e){if(te.xIncrement=null,te.colorCounter=0,this.parallelArrays.forEach(function($e){te[$e+"Data"].length=0}),pe&&Me>pe)if(O(Ce=te.getFirstValidPoint(q)))for(ge=0;ge<Me;ge++)se[ge]=this.autoIncrement(),ae[ge]=q[ge];else if(M(Ce))if(fe)if(Ce.length===fe)for(ge=0;ge<Me;ge++)se[ge]=this.autoIncrement(),ae[ge]=q[ge];else for(ge=0;ge<Me;ge++)ye=q[ge],se[ge]=ye[0],ae[ge]=ye.slice(1,fe+1);else if(me&&(Se=me.indexOf("x"),Ie=me.indexOf("y"),Se=Se>=0?Se:0,Ie=Ie>=0?Ie:1),Ce.length===1&&(Ie=0),Se===Ie)for(ge=0;ge<Me;ge++)se[ge]=this.autoIncrement(),ae[ge]=q[ge][Ie];else for(ge=0;ge<Me;ge++)ye=q[ge],se[ge]=ye[Se],ae[ge]=ye[Ie];else T(12,!1,ne);else for(ge=0;ge<Me;ge++)ye={series:te},te.pointClass.prototype.applyOptions.apply(ye,[q[ge]]),te.updateParallelArrays(ye,ge);for(ae&&F(ae[0])&&T(14,!0,ne),te.data=[],te.options.data=te.userOptions.data=q,ge=ee;ge--;)(Pe=Y[ge])==null||Pe.destroy();le&&(le.minRange=le.userMinRange),te.isDirty=ne.isDirtyBox=!0,te.isDirtyData=!!Y,$=!1}re.legendType==="point"&&(this.processData(),this.generatePoints()),Z&&ne.redraw($)}sortData(q){let Z=this,$=Z.options,ie=$.dataSorting,te=ie.sortKey||"y",Y=function(re,ne){return W(ne)&&re.pointClass.prototype.optionsToObject.call({series:re},ne)||{}};return q.forEach(function(re,ne){q[ne]=Y(Z,re),q[ne].index=ne},this),q.concat().sort((re,ne)=>{let ue=w(te,re),le=w(te,ne);return le<ue?-1:le>ue?1:0}).forEach(function(re,ne){re.x=ne},this),Z.linkedSeries&&Z.linkedSeries.forEach(function(re){let ne=re.options,ue=ne.data;ne.dataSorting&&ne.dataSorting.enabled||!ue||(ue.forEach(function(le,pe){ue[pe]=Y(re,le),q[pe]&&(ue[pe].x=q[pe].x,ue[pe].index=pe)}),re.setData(ue,!1))}),q}getProcessedData(q){let Z=this,$=Z.xAxis,ie=Z.options,te=ie.cropThreshold,Y=q||Z.getExtremesFromAll||ie.getExtremesFromAll,ee=$==null?void 0:$.logarithmic,re=Z.isCartesian,ne,ue,le=0,pe,se,ae,de=Z.xData,fe=Z.yData,me=!1,ge=de.length;$&&(se=(pe=$.getExtremes()).min,ae=pe.max,me=!!($.categories&&!$.names.length)),re&&Z.sorted&&!Y&&(!te||ge>te||Z.forceCrop)&&(de[ge-1]<se||de[0]>ae?(de=[],fe=[]):Z.yData&&(de[0]<se||de[ge-1]>ae)&&(de=(ne=this.cropData(Z.xData,Z.yData,se,ae)).xData,fe=ne.yData,le=ne.start,ue=!0));let ye=S([ee?de.map(ee.log2lin):de],()=>Z.requireSorting&&!me&&T(15,!1,Z.chart));return{xData:de,yData:fe,cropped:ue,cropStart:le,closestPointRange:ye}}processData(q){let Z=this.xAxis;if(this.isCartesian&&!this.isDirty&&!Z.isDirty&&!this.yAxis.isDirty&&!q)return!1;let $=this.getProcessedData();this.cropped=$.cropped,this.cropStart=$.cropStart,this.processedXData=$.xData,this.processedYData=$.yData,this.closestPointRange=this.basePointRange=$.closestPointRange,y(this,"afterProcessData")}cropData(q,Z,$,ie){let te=q.length,Y,ee,re=0,ne=te;for(Y=0;Y<te;Y++)if(q[Y]>=$){re=Math.max(0,Y-1);break}for(ee=Y;ee<te;ee++)if(q[ee]>ie){ne=ee+1;break}return{xData:q.slice(re,ne),yData:Z.slice(re,ne),start:re,end:ne}}generatePoints(){let q=this.options,Z=this.processedData||q.data,$=this.processedXData,ie=this.processedYData,te=this.pointClass,Y=$.length,ee=this.cropStart||0,re=this.hasGroupedData,ne=q.keys,ue=[],le=q.dataGrouping&&q.dataGrouping.groupAll?ee:0,pe,se,ae,de,fe=this.data;if(!fe&&!re){let me=[];me.length=Z.length,fe=this.data=me}for(ne&&re&&(this.options.keys=!1),de=0;de<Y;de++)se=ee+de,re?((ae=new te(this,[$[de]].concat(D(ie[de])))).dataGroup=this.groupMap[le+de],ae.dataGroup.options&&(ae.options=ae.dataGroup.options,x(ae,ae.dataGroup.options),delete ae.dataLabels)):(ae=fe[se])||Z[se]===void 0||(fe[se]=ae=new te(this,Z[se],$[de])),ae&&(ae.index=re?le+de:se,ue[de]=ae);if(this.options.keys=ne,fe&&(Y!==(pe=fe.length)||re))for(de=0;de<pe;de++)de!==ee||re||(de+=Y),fe[de]&&(fe[de].destroyElements(),fe[de].plotX=void 0);this.data=fe,this.points=ue,y(this,"afterGeneratePoints")}getXExtremes(q){return{min:j(q),max:N(q)}}getExtremes(q,Z){let $=this.xAxis,ie=this.yAxis,te=this.processedXData||this.xData,Y=[],ee=this.requireSorting&&!this.is("column")?1:0,re=!!ie&&ie.positiveValuesOnly,ne,ue,le,pe,se,ae,de,fe=0,me=0,ge=0;q=q||this.stackedYData||this.processedYData||[];let ye=q.length;for($&&(fe=(ne=$.getExtremes()).min,me=ne.max),ae=0;ae<ye;ae++)if(pe=te[ae],ue=(O(se=q[ae])||M(se))&&((O(se)?se>0:se.length)||!re),le=Z||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!$||(te[ae+ee]||pe)>=fe&&(te[ae-ee]||pe)<=me,ue&&le)if(de=se.length)for(;de--;)O(se[de])&&(Y[ge++]=se[de]);else Y[ge++]=se;let _e={activeYData:Y,dataMin:j(Y),dataMax:N(Y)};return y(this,"afterGetExtremes",{dataExtremes:_e}),_e}applyExtremes(){let q=this.getExtremes();return this.dataMin=q.dataMin,this.dataMax=q.dataMax,q}getFirstValidPoint(q){let Z=q.length,$=0,ie=null;for(;ie===null&&$<Z;)ie=q[$],$++;return ie}translate(){var ye;this.processedXData||this.processData(),this.generatePoints();let q=this.options,Z=q.stacking,$=this.xAxis,ie=$.categories,te=this.enabledDataSorting,Y=this.yAxis,ee=this.points,re=ee.length,ne=this.pointPlacementToXValue(),ue=!!ne,le=q.threshold,pe=q.startFromThreshold?le:0,se,ae,de,fe,me=Number.MAX_VALUE;function ge(_e){return V(_e,-1e5,1e5)}for(se=0;se<re;se++){let _e,Se=ee[se],Ie=Se.x,Ce,Te,Me=Se.y,Pe=Se.low,$e=Z&&((ye=Y.stacking)==null?void 0:ye.stacks[(this.negStacks&&Me<(pe?0:le)?"-":"")+this.stackKey]);ae=$.translate(Ie,!1,!1,!1,!0,ne),Se.plotX=O(ae)?H(ge(ae)):void 0,Z&&this.visible&&$e&&$e[Ie]&&(fe=this.getStackIndicator(fe,Ie,this.index),!Se.isNull&&fe.key&&(Te=(Ce=$e[Ie]).points[fe.key]),Ce&&M(Te)&&(Pe=Te[0],Me=Te[1],Pe===pe&&fe.key===$e[Ie].base&&(Pe=L(O(le)?le:Y.min)),Y.positiveValuesOnly&&W(Pe)&&Pe<=0&&(Pe=void 0),Se.total=Se.stackTotal=L(Ce.total),Se.percentage=W(Se.y)&&Ce.total?Se.y/Ce.total*100:void 0,Se.stackY=Me,this.irregularWidths||Ce.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Se.yBottom=W(Pe)?ge(Y.translate(Pe,!1,!0,!1,!0)):void 0,this.dataModify&&(Me=this.dataModify.modifyValue(Me,se)),O(Me)&&Se.plotX!==void 0&&(_e=O(_e=Y.translate(Me,!1,!0,!1,!0))?ge(_e):void 0),Se.plotY=_e,Se.isInside=this.isPointInside(Se),Se.clientX=ue?H($.translate(Ie,!1,!1,!1,!0,ne)):ae,Se.negative=(Se.y||0)<(le||0),Se.category=L(ie&&ie[Se.x],Se.x),Se.isNull||Se.visible===!1||(de!==void 0&&(me=Math.min(me,Math.abs(ae-de))),de=ae),Se.zone=this.zones.length?Se.getZone():void 0,!Se.graphic&&this.group&&te&&(Se.isNew=!0)}this.closestPointRangePx=me,y(this,"afterTranslate")}getValidPoints(q,Z,$){let ie=this.chart;return(q||this.points||[]).filter(function(te){let{plotX:Y,plotY:ee}=te;return!(!$&&(te.isNull||!O(ee)))&&(!Z||!!ie.isInsidePlot(Y,ee,{inverted:ie.inverted}))&&te.visible!==!1})}getClipBox(){let{chart:q,xAxis:Z,yAxis:$}=this,ie=z(q.clipBox);return Z&&Z.len!==q.plotSizeX&&(ie.width=Z.len),$&&$.len!==q.plotSizeY&&(ie.height=$.len),ie}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:q,group:Z,markerGroup:$}=this,ie=q.sharedClips,te=q.renderer,Y=this.getClipBox(),ee=this.getSharedClipKey(),re=ie[ee];re?re.animate(Y):ie[ee]=re=te.clipRect(Y),Z&&Z.clip(this.options.clip===!1?void 0:re),$&&$.clip()}animate(q){let{chart:Z,group:$,markerGroup:ie}=this,te=Z.inverted,Y=p(this.options.animation),ee=[this.getSharedClipKey(),Y.duration,Y.easing,Y.defer].join(","),re=Z.sharedClips[ee],ne=Z.sharedClips[ee+"m"];if(q&&$){let ue=this.getClipBox();if(re)re.attr("height",ue.height);else{ue.width=0,te&&(ue.x=Z.plotHeight),re=Z.renderer.clipRect(ue),Z.sharedClips[ee]=re;let le={x:-99,y:-99,width:te?Z.plotWidth+199:99,height:te?99:Z.plotHeight+199};ne=Z.renderer.clipRect(le),Z.sharedClips[ee+"m"]=ne}$.clip(re),ie&&ie.clip(ne)}else if(re&&!re.hasClass("highcharts-animating")){let ue=this.getClipBox(),le=Y.step;ie&&ie.element.childNodes.length&&(Y.step=function(pe,se){le&&le.apply(se,arguments),se.prop==="width"&&ne&&ne.element&&ne.attr(te?"height":"width",pe+99)}),re.addClass("highcharts-animating").animate(ue,Y)}}afterAnimate(){this.setClip(),X(this.chart.sharedClips,(q,Z,$)=>{q&&!this.chart.container.querySelector(`[clip-path="url(#${q.id})"]`)&&(q.destroy(),delete $[Z])}),this.finishedAnimating=!0,y(this,"afterAnimate")}drawPoints(q=this.points){let Z,$,ie,te,Y,ee,re,ne=this.chart,ue=ne.styledMode,{colorAxis:le,options:pe}=this,se=pe.marker,ae=this[this.specialGroup||"markerGroup"],de=this.xAxis,fe=L(se.enabled,!de||!!de.isRadial||null,this.closestPointRangePx>=se.enabledThreshold*se.radius);if(se.enabled!==!1||this._hasPointMarkers)for(Z=0;Z<q.length;Z++)if(te=(ie=($=q[Z]).graphic)?"animate":"attr",Y=$.marker||{},ee=!!$.marker,(fe&&Y.enabled===void 0||Y.enabled)&&!$.isNull&&$.visible!==!1){let ge=L(Y.symbol,this.symbol,"rect");re=this.markerAttribs($,$.selected&&"select"),this.enabledDataSorting&&($.startXPos=de.reversed?-(re.width||0):de.width);let ye=$.isInside!==!1;if(!ie&&ye&&((re.width||0)>0||$.hasImage)&&($.graphic=ie=ne.renderer.symbol(ge,re.x,re.y,re.width,re.height,ee?Y:se).add(ae),this.enabledDataSorting&&ne.hasRendered&&(ie.attr({x:$.startXPos}),te="animate")),ie&&te==="animate"&&ie[ye?"show":"hide"](ye).animate(re),ie){let _e=this.pointAttribs($,ue||!$.selected?void 0:"select");ue?le&&ie.css({fill:_e.fill}):ie[te](_e)}ie&&ie.addClass($.getClassName(),!0)}else ie&&($.graphic=ie.destroy())}markerAttribs(q,Z){let $=this.options,ie=$.marker,te=q.marker||{},Y=te.symbol||ie.symbol,ee={},re,ne,ue=L(te.radius,ie&&ie.radius);Z&&(re=ie.states[Z],ue=L((ne=te.states&&te.states[Z])&&ne.radius,re&&re.radius,ue&&ue+(re&&re.radiusPlus||0))),q.hasImage=Y&&Y.indexOf("url")===0,q.hasImage&&(ue=0);let le=q.pos();return O(ue)&&le&&(ee.x=le[0]-ue,ee.y=le[1]-ue,$.crisp&&(ee.x=Math.floor(ee.x))),ue&&(ee.width=ee.height=2*ue),ee}pointAttribs(q,Z){let $=this.options.marker,ie=q&&q.options,te=ie&&ie.marker||{},Y=ie&&ie.color,ee=q&&q.color,re=q&&q.zone&&q.zone.color,ne,ue,le=this.color,pe,se,ae=L(te.lineWidth,$.lineWidth),de=1;return le=Y||re||ee||le,pe=te.fillColor||$.fillColor||le,se=te.lineColor||$.lineColor||le,Z=Z||"normal",ne=$.states[Z]||{},ae=L((ue=te.states&&te.states[Z]||{}).lineWidth,ne.lineWidth,ae+L(ue.lineWidthPlus,ne.lineWidthPlus,0)),pe=ue.fillColor||ne.fillColor||pe,{stroke:se=ue.lineColor||ne.lineColor||se,"stroke-width":ae,fill:pe,opacity:de=L(ue.opacity,ne.opacity,de)}}destroy(q){let Z,$,ie,te=this,Y=te.chart,ee=/AppleWebKit\/533/.test(I.navigator.userAgent),re=te.data||[];for(y(te,"destroy",{keepEventsForUpdate:q}),this.removeEvents(q),(te.axisTypes||[]).forEach(function(ne){(ie=te[ne])&&ie.series&&(A(ie.series,te),ie.isDirty=ie.forceRedraw=!0)}),te.legendItem&&te.chart.legend.destroyItem(te),Z=re.length;Z--;)($=re[Z])&&$.destroy&&$.destroy();te.zones.forEach(G),f.clearTimeout(te.animationTimeout),X(te,function(ne,ue){ne instanceof h&&!ne.survive&&ne[ee&&ue==="group"?"hide":"destroy"]()}),Y.hoverSeries===te&&(Y.hoverSeries=void 0),A(Y.series,te),Y.orderItems("series"),X(te,function(ne,ue){q&&ue==="hcEvents"||delete te[ue]})}applyZones(){let{area:q,chart:Z,graph:$,zones:ie,points:te,xAxis:Y,yAxis:ee,zoneAxis:re}=this,{inverted:ne,renderer:ue}=Z,le=this[`${re}Axis`],{isXAxis:pe,len:se=0}=le||{},ae=(($==null?void 0:$.strokeWidth())||0)/2+1,de=(fe,me=0,ge=0)=>{ne&&(ge=se-ge);let{translated:ye=0,lineClip:_e}=fe,Se=ge-ye;_e==null||_e.push(["L",me,Math.abs(Se)<ae?ge-ae*(Se<=0?-1:1):ye])};if(ie.length&&($||q)&&le&&O(le.min)){let fe=le.getExtremes().max,me=_e=>{_e.forEach((Se,Ie)=>{(Se[0]==="M"||Se[0]==="L")&&(_e[Ie]=[Se[0],pe?se-Se[1]:Se[1],pe?Se[2]:se-Se[2]])})};if(ie.forEach((_e,Se)=>{_e.lineClip=[],_e.translated=V(le.toPixels(L(_e.value,fe),!0)||0,0,se)}),$&&!this.showLine&&$.hide(),q&&q.hide(),re==="y"&&te.length<Y.len)for(let _e of te){let{plotX:Se,plotY:Ie,zone:Ce}=_e,Te=Ce&&ie[ie.indexOf(Ce)-1];Ce&&de(Ce,Se,Ie),Te&&de(Te,Se,Ie)}let ge=[],ye=le.toPixels(le.getExtremes().min,!0);ie.forEach(_e=>{var it,rt;let Se=_e.lineClip||[],Ie=Math.round(_e.translated||0);Y.reversed&&Se.reverse();let{clip:Ce,simpleClip:Te}=_e,Me=0,Pe=0,$e=Y.len,Le=ee.len;pe?(Me=Ie,$e=ye):(Pe=Ie,Le=ye);let je=[["M",Me,Pe],["L",$e,Pe],["L",$e,Le],["L",Me,Le],["Z"]],Xe=[je[0],...Se,je[1],je[2],...ge,je[3],je[4]];ge=Se.reverse(),ye=Ie,ne&&(me(Xe),q&&me(je)),Ce?(Ce.animate({d:Xe}),Te==null||Te.animate({d:je})):(Ce=_e.clip=ue.path(Xe),q&&(Te=_e.simpleClip=ue.path(je))),$&&((it=_e.graph)==null||it.clip(Ce)),q&&((rt=_e.area)==null||rt.clip(Te))})}else this.visible&&($&&$.show(),q&&q.show())}plotGroup(q,Z,$,ie,te){let Y=this[q],ee=!Y,re={visibility:$,zIndex:ie||.1};return W(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(re.opacity=this.opacity),Y||(this[q]=Y=this.chart.renderer.g().add(te)),Y.addClass("highcharts-"+Z+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(W(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(Y.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),Y.attr(re)[ee?"attr":"animate"](this.getPlotBox(Z)),Y}getPlotBox(q){let Z=this.xAxis,$=this.yAxis,ie=this.chart,te=ie.inverted&&!ie.polar&&Z&&this.invertible!==!1&&q==="series";return ie.inverted&&(Z=$,$=this.xAxis),{translateX:Z?Z.left:ie.plotLeft,translateY:$?$.top:ie.plotTop,rotation:te?90:0,rotationOriginX:te?(Z.len-$.len)/2:0,rotationOriginY:te?(Z.len+$.len)/2:0,scaleX:te?-1:1,scaleY:1}}removeEvents(q){let{eventsToUnbind:Z}=this;q||K(this),Z.length&&(Z.forEach($=>{$()}),Z.length=0)}render(){var ue,le,pe,se,ae;let q=this,{chart:Z,options:$,hasRendered:ie}=q,te=p($.animation),Y=q.visible?"inherit":"hidden",ee=$.zIndex,re=Z.seriesGroup,ne=q.finishedAnimating?0:te.duration;y(this,"render"),q.plotGroup("group","series",Y,ee,re),q.markerGroup=q.plotGroup("markerGroup","markers",Y,ee,re),$.clip!==!1&&q.setClip(),ne&&((ue=q.animate)==null||ue.call(q,!0)),q.drawGraph&&(q.drawGraph(),q.applyZones()),q.visible&&q.drawPoints(),(le=q.drawDataLabels)==null||le.call(q),(pe=q.redrawPoints)==null||pe.call(q),$.enableMouseTracking&&((se=q.drawTracker)==null||se.call(q)),ne&&((ae=q.animate)==null||ae.call(q)),ie||(ne&&te.defer&&(ne+=te.defer),q.animationTimeout=B(()=>{q.afterAnimate()},ne||0)),q.isDirty=!1,q.hasRendered=!0,y(q,"afterRender")}redraw(){let q=this.isDirty||this.isDirtyData;this.translate(),this.render(),q&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(q,Z){let{xAxis:$,yAxis:ie}=this,te=this.chart.inverted;return this.searchKDTree({clientX:te?$.len-q.chartY+$.pos:q.chartX-$.pos,plotY:te?ie.len-q.chartX+ie.pos:q.chartY-ie.pos},Z,q)}buildKDTree(q){this.buildingKdTree=!0;let Z=this,$=Z.options.findNearestPointBy.indexOf("y")>-1?2:1;delete Z.kdTree,B(function(){Z.kdTree=function ie(te,Y,ee){let re,ne,ue=te==null?void 0:te.length;if(ue)return re=Z.kdAxisArray[Y%ee],te.sort((le,pe)=>(le[re]||0)-(pe[re]||0)),{point:te[ne=Math.floor(ue/2)],left:ie(te.slice(0,ne),Y+1,ee),right:ie(te.slice(ne+1),Y+1,ee)}}(Z.getValidPoints(void 0,!Z.directTouch),$,$),Z.buildingKdTree=!1},Z.options.kdNow||(q==null?void 0:q.type)==="touchstart"?0:1)}searchKDTree(q,Z,$){let ie=this,[te,Y]=this.kdAxisArray,ee=Z?"distX":"dist",re=(ie.options.findNearestPointBy||"").indexOf("y")>-1?2:1,ne=!!ie.isBubble;if(this.kdTree||this.buildingKdTree||this.buildKDTree($),this.kdTree)return function ue(le,pe,se,ae){var Ce;let de=pe.point,fe=ie.kdAxisArray[se%ae],me,ge,ye=de;(function(Te,Me){var Dt;let Pe=Te[te],$e=Me[te],Le=W(Pe)&&W($e)?Pe-$e:null,je=Te[Y],Xe=Me[Y],it=W(je)&&W(Xe)?je-Xe:0,rt=ne&&((Dt=Me.marker)==null?void 0:Dt.radius)||0;Me.dist=Math.sqrt((Le&&Le*Le||0)+it*it)-rt,Me.distX=W(Le)?Math.abs(Le)-rt:Number.MAX_VALUE})(le,de);let _e=(le[fe]||0)-(de[fe]||0)+(ne&&((Ce=de.marker)==null?void 0:Ce.radius)||0),Se=_e<0?"left":"right",Ie=_e<0?"right":"left";return pe[Se]&&(ye=(me=ue(le,pe[Se],se+1,ae))[ee]<ye[ee]?me:de),pe[Ie]&&Math.sqrt(_e*_e)<ye[ee]&&(ye=(ge=ue(le,pe[Ie],se+1,ae))[ee]<ye[ee]?ge:ye),ye}(q,this.kdTree,re,re)}pointPlacementToXValue(){let{options:q,xAxis:Z}=this,$=q.pointPlacement;return $==="between"&&($=Z.reversed?-.5:.5),O($)?$*(q.pointRange||Z.pointRange):0}isPointInside(q){let{chart:Z,xAxis:$,yAxis:ie}=this,{plotX:te=-1,plotY:Y=-1}=q;return Y>=0&&Y<=(ie?ie.len:Z.plotHeight)&&te>=0&&te<=($?$.len:Z.plotWidth)}drawTracker(){var pe;let q=this,Z=q.options,$=Z.trackByArea,ie=[].concat(($?q.areaPath:q.graphPath)||[]),te=q.chart,Y=te.pointer,ee=te.renderer,re=((pe=te.options.tooltip)==null?void 0:pe.snap)||0,ne=()=>{Z.enableMouseTracking&&te.hoverSeries!==q&&q.onMouseOver()},ue="rgba(192,192,192,"+(E?1e-4:.002)+")",le=q.tracker;le?le.attr({d:ie}):q.graph&&(q.tracker=le=ee.path(ie).attr({visibility:q.visible?"inherit":"hidden",zIndex:2}).addClass($?"highcharts-tracker-area":"highcharts-tracker-line").add(q.group),te.styledMode||le.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:ue,fill:$?ue:"none","stroke-width":q.graph.strokeWidth()+($?0:2*re)}),[q.tracker,q.markerGroup,q.dataLabelsGroup].forEach(se=>{se&&(se.addClass("highcharts-tracker").on("mouseover",ne).on("mouseout",ae=>{Y.onTrackerMouseOut(ae)}),Z.cursor&&!te.styledMode&&se.css({cursor:Z.cursor}),b&&se.on("touchstart",ne))})),y(this,"afterDrawTracker")}addPoint(q,Z,$,ie,te){let Y,ee,re=this.options,ne=this.data,ue=this.chart,le=this.xAxis,pe=le&&le.hasNames&&le.names,se=re.data,ae=this.xData;Z=L(Z,!0);let de={series:this};this.pointClass.prototype.applyOptions.apply(de,[q]);let fe=de.x;if(ee=ae.length,this.requireSorting&&fe<ae[ee-1])for(Y=!0;ee&&ae[ee-1]>fe;)ee--;this.updateParallelArrays(de,"splice",[ee,0,0]),this.updateParallelArrays(de,ee),pe&&de.name&&(pe[fe]=de.name),se.splice(ee,0,q),(Y||this.processedData)&&(this.data.splice(ee,0,null),this.processData()),re.legendType==="point"&&this.generatePoints(),$&&(ne[0]&&ne[0].remove?ne[0].remove(!1):(ne.shift(),this.updateParallelArrays(de,"shift"),se.shift())),te!==!1&&y(this,"addPoint",{point:de}),this.isDirty=!0,this.isDirtyData=!0,Z&&ue.redraw(ie)}removePoint(q,Z,$){let ie=this,te=ie.data,Y=te[q],ee=ie.points,re=ie.chart,ne=function(){ee&&ee.length===te.length&&ee.splice(q,1),te.splice(q,1),ie.options.data.splice(q,1),ie.updateParallelArrays(Y||{series:ie},"splice",[q,1]),Y&&Y.destroy(),ie.isDirty=!0,ie.isDirtyData=!0,Z&&re.redraw()};g($,re),Z=L(Z,!0),Y?Y.firePointEvent("remove",null,ne):ne()}remove(q,Z,$,ie){let te=this,Y=te.chart;function ee(){te.destroy(ie),Y.isDirtyLegend=Y.isDirtyBox=!0,Y.linkSeries(ie),L(q,!0)&&Y.redraw(Z)}$!==!1?y(te,"remove",null,ee):ee()}update(q,Z){var me,ge,ye;y(this,"update",{options:q=P(q,this.userOptions)});let $=this,ie=$.chart,te=$.userOptions,Y=$.initialType||$.type,ee=ie.options.plotOptions,re=R[Y].prototype,ne=$.finishedAnimating&&{animation:!1},ue={},le,pe,se=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],ae=q.type||te.type||ie.options.chart.type,de=!(this.hasDerivedData||ae&&ae!==this.type||q.pointStart!==void 0||q.pointInterval!==void 0||q.relativeXValue!==void 0||q.joinBy||q.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(_e=>$.hasOptionChanged(_e)));ae=ae||Y,de&&(se.push("data","isDirtyData","isDirtyCanvas","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),q.visible!==!1&&se.push("area","graph"),$.parallelArrays.forEach(function(_e){se.push(_e+"Data")}),q.data&&(q.dataSorting&&x($.options.dataSorting,q.dataSorting),this.setData(q.data,!1))),q=z(te,{index:te.index===void 0?$.index:te.index,pointStart:((me=ee==null?void 0:ee.series)==null?void 0:me.pointStart)??te.pointStart??((ge=$.xData)==null?void 0:ge[0])},!de&&{data:$.options.data},q,ne),de&&q.data&&(q.data=$.options.data),(se=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(se)).forEach(function(_e){se[_e]=$[_e],delete $[_e]});let fe=!1;if(R[ae]){if(fe=ae!==$.type,$.remove(!1,!1,!1,!0),fe)if(Object.setPrototypeOf)Object.setPrototypeOf($,R[ae].prototype);else{let _e=Object.hasOwnProperty.call($,"hcEvents")&&$.hcEvents;for(pe in re)$[pe]=void 0;x($,R[ae].prototype),_e?$.hcEvents=_e:delete $.hcEvents}}else T(17,!0,ie,{missingModuleFor:ae});if(se.forEach(function(_e){$[_e]=se[_e]}),$.init(ie,q),de&&this.points)for(let _e of((le=$.options).visible===!1?(ue.graphic=1,ue.dataLabel=1):(this.hasMarkerChanged(le,te)&&(ue.graphic=1),(ye=$.hasDataLabels)!=null&&ye.call($)||(ue.dataLabel=1)),this.points))_e&&_e.series&&(_e.resolveColor(),Object.keys(ue).length&&_e.destroyElements(ue),le.showInLegend===!1&&_e.legendItem&&ie.legend.destroyItem(_e));$.initialType=Y,ie.linkSeries(),ie.setSortedData(),fe&&$.linkedSeries.length&&($.isDirtyData=!0),y(this,"afterUpdate"),L(Z,!0)&&ie.redraw(!!de&&void 0)}setName(q){this.name=this.options.name=this.userOptions.name=q,this.chart.isDirtyLegend=!0}hasOptionChanged(q){var ee,re;let Z=this.chart,$=this.options[q],ie=Z.options.plotOptions,te=this.userOptions[q],Y=L((ee=ie==null?void 0:ie[this.type])==null?void 0:ee[q],(re=ie==null?void 0:ie.series)==null?void 0:re[q]);return te&&!W(Y)?$!==te:$!==L(Y,$)}onMouseOver(){let q=this.chart,Z=q.hoverSeries;q.pointer.setHoverChartIndex(),Z&&Z!==this&&Z.onMouseOut(),this.options.events.mouseOver&&y(this,"mouseOver"),this.setState("hover"),q.hoverSeries=this}onMouseOut(){let q=this.options,Z=this.chart,$=Z.tooltip,ie=Z.hoverPoint;Z.hoverSeries=null,ie&&ie.onMouseOut(),this&&q.events.mouseOut&&y(this,"mouseOut"),$&&!this.stickyTracking&&(!$.shared||this.noSharedTooltip)&&$.hide(),Z.series.forEach(function(te){te.setState("",!0)})}setState(q,Z){let $=this,ie=$.options,te=$.graph,Y=ie.inactiveOtherPoints,ee=ie.states,re=L(ee[q||"normal"]&&ee[q||"normal"].animation,$.chart.options.chart.animation),ne=ie.lineWidth,ue=ie.opacity;if(q=q||"",$.state!==q&&([$.group,$.markerGroup,$.dataLabelsGroup].forEach(function(le){le&&($.state&&le.removeClass("highcharts-series-"+$.state),q&&le.addClass("highcharts-series-"+q))}),$.state=q,!$.chart.styledMode)){if(ee[q]&&ee[q].enabled===!1)return;if(q&&(ne=ee[q].lineWidth||ne+(ee[q].lineWidthPlus||0),ue=L(ee[q].opacity,ue)),te&&!te.dashstyle&&O(ne))for(let le of[te,...this.zones.map(pe=>pe.graph)])le==null||le.animate({"stroke-width":ne},re);Y||[$.group,$.markerGroup,$.dataLabelsGroup,$.labelBySeries].forEach(function(le){le&&le.animate({opacity:ue},re)})}Z&&Y&&$.points&&$.setAllPointsToState(q||void 0)}setAllPointsToState(q){this.points.forEach(function(Z){Z.setState&&Z.setState(q)})}setVisible(q,Z){var re;let $=this,ie=$.chart,te=ie.options.chart.ignoreHiddenSeries,Y=$.visible;$.visible=q=$.options.visible=$.userOptions.visible=q===void 0?!Y:q;let ee=q?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(ne=>{var ue;(ue=$[ne])==null||ue[ee]()}),(ie.hoverSeries===$||((re=ie.hoverPoint)==null?void 0:re.series)===$)&&$.onMouseOut(),$.legendItem&&ie.legend.colorizeItem($,q),$.isDirty=!0,$.options.stacking&&ie.series.forEach(ne=>{ne.options.stacking&&ne.visible&&(ne.isDirty=!0)}),$.linkedSeries.forEach(ne=>{ne.setVisible(q,!1)}),te&&(ie.isDirtyBox=!0),y($,ee),Z!==!1&&ie.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(q){this.selected=q=this.options.selected=q===void 0?!this.selected:q,this.checkbox&&(this.checkbox.checked=q),y(this,q?"select":"unselect")}shouldShowTooltip(q,Z,$={}){return $.series=this,$.visiblePlotOnly=!0,this.chart.isInsidePlot(q,Z,$)}drawLegendSymbol(q,Z){var $;($=l[this.options.legendSymbol||"rectangle"])==null||$.call(this,q,Z)}}return U.defaultOptions=d,U.types=c.seriesTypes,U.registerType=c.registerSeriesType,x(U.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:u,requireSorting:!0,sorted:!0}),c.series=U,U}),r(i,"Core/Chart/Chart.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Defaults.js"],i["Core/Templating.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Time.js"],i["Core/Utilities.js"],i["Core/Renderer/HTML/AST.js"],i["Core/Axis/Tick.js"]],function(n,a,s,o,l,u,d,c,h,f,p,g,m,v){let{animate:b,animObject:E,setAnimation:I}=n,{defaultOptions:R,defaultTime:N}=s,{numberFormat:j}=o,{registerEventOptions:V}=l,{charts:H,doc:W,marginNames:G,svg:P,win:A}=u,{seriesTypes:T}=h,{addEvent:x,attr:C,createElement:y,clamp:S,css:w,defined:k,diffObjects:M,discardElement:O,erase:F,error:z,extend:X,find:L,fireEvent:K,getStyle:D,isArray:B,isNumber:U,isObject:Q,isString:q,merge:Z,objectEach:$,pick:ie,pInt:te,relativeLength:Y,removeEvent:ee,splat:re,syncTimeout:ne,uniqueKey:ue}=g;class le{static chart(se,ae,de){return new le(se,ae,de)}constructor(se,ae,de){this.sharedClips={};let fe=[...arguments];(q(se)||se.nodeName)&&(this.renderTo=fe.shift()),this.init(fe[0],fe[1])}setZoomOptions(){let se=this.options.chart,ae=se.zooming;this.zooming={...ae,type:ie(se.zoomType,ae.type),key:ie(se.zoomKey,ae.key),pinchType:ie(se.pinchType,ae.pinchType),singleTouch:ie(se.zoomBySingleTouch,ae.singleTouch,!1),resetButton:Z(ae.resetButton,se.resetZoomButton)}}init(se,ae){K(this,"init",{args:arguments},function(){let de=Z(R,se),fe=de.chart;this.userOptions=X({},se),this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=ae,this.isResizing=0,this.options=de,this.axes=[],this.series=[],this.time=se.time&&Object.keys(se.time).length?new p(se.time):u.time,this.numberFormatter=fe.numberFormatter||j,this.styledMode=fe.styledMode,this.hasCartesianSeries=fe.showAxes,this.index=H.length,H.push(this),u.chartCount++,V(this,fe),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),K(this,"afterInit"),this.firstRender()})}initSeries(se){let ae=this.options.chart,de=se.type||ae.type,fe=T[de];fe||z(17,!0,this,{missingModuleFor:de});let me=new fe;return typeof me.init=="function"&&me.init(this,se),me}setSortedData(){this.getSeriesOrderByLinks().forEach(function(se){se.points||se.data||!se.enabledDataSorting||se.setData(se.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(se,ae){return se.linkedSeries.length||ae.linkedSeries.length?ae.linkedSeries.length-se.linkedSeries.length:0})}orderItems(se,ae=0){let de=this[se],fe=this.options[se]=re(this.options[se]).slice(),me=this.userOptions[se]=this.userOptions[se]?re(this.userOptions[se]).slice():[];if(this.hasRendered&&(fe.splice(ae),me.splice(ae)),de)for(let ge=ae,ye=de.length;ge<ye;++ge){let _e=de[ge];_e&&(_e.index=ge,_e instanceof c&&(_e.name=_e.getName()),_e.options.isInternal||(fe[ge]=_e.options,me[ge]=_e.userOptions))}}isInsidePlot(se,ae,de={}){let{inverted:fe,plotBox:me,plotLeft:ge,plotTop:ye,scrollablePlotBox:_e}=this,Se=0,Ie=0;de.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:Se,scrollTop:Ie}=this.scrollingContainer);let Ce=de.series,Te=de.visiblePlotOnly&&_e||me,Me=de.inverted?ae:se,Pe=de.inverted?se:ae,$e={x:Me,y:Pe,isInsidePlot:!0,options:de};if(!de.ignoreX){let Le=Ce&&(fe&&!this.polar?Ce.yAxis:Ce.xAxis)||{pos:ge,len:1/0},je=de.paneCoordinates?Le.pos+Me:ge+Me;je>=Math.max(Se+ge,Le.pos)&&je<=Math.min(Se+ge+Te.width,Le.pos+Le.len)||($e.isInsidePlot=!1)}if(!de.ignoreY&&$e.isInsidePlot){let Le=!fe&&de.axis&&!de.axis.isXAxis&&de.axis||Ce&&(fe?Ce.xAxis:Ce.yAxis)||{pos:ye,len:1/0},je=de.paneCoordinates?Le.pos+Pe:ye+Pe;je>=Math.max(Ie+ye,Le.pos)&&je<=Math.min(Ie+ye+Te.height,Le.pos+Le.len)||($e.isInsidePlot=!1)}return K(this,"afterIsInsidePlot",$e),$e.isInsidePlot}redraw(se){K(this,"beforeRedraw");let ae=this.hasCartesianSeries?this.axes:this.colorAxis||[],de=this.series,fe=this.pointer,me=this.legend,ge=this.userOptions.legend,ye=this.renderer,_e=ye.isHidden(),Se=[],Ie,Ce,Te,Me=this.isDirtyBox,Pe=this.isDirtyLegend,$e;for(ye.rootFontSize=ye.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),I(!!this.hasRendered&&se,this),_e&&this.temporaryDisplay(),this.layOutTitles(!1),Te=de.length;Te--;)if((($e=de[Te]).options.stacking||$e.options.centerInCategory)&&(Ce=!0,$e.isDirty)){Ie=!0;break}if(Ie)for(Te=de.length;Te--;)($e=de[Te]).options.stacking&&($e.isDirty=!0);de.forEach(function(Le){Le.isDirty&&(Le.options.legendType==="point"?(typeof Le.updateTotals=="function"&&Le.updateTotals(),Pe=!0):ge&&(ge.labelFormatter||ge.labelFormat)&&(Pe=!0)),Le.isDirtyData&&K(Le,"updatedData")}),Pe&&me&&me.options.enabled&&(me.render(),this.isDirtyLegend=!1),Ce&&this.getStacks(),ae.forEach(function(Le){Le.updateNames(),Le.setScale()}),this.getMargins(),ae.forEach(function(Le){Le.isDirty&&(Me=!0)}),ae.forEach(function(Le){let je=Le.min+","+Le.max;Le.extKey!==je&&(Le.extKey=je,Se.push(function(){K(Le,"afterSetExtremes",X(Le.eventArgs,Le.getExtremes())),delete Le.eventArgs})),(Me||Ce)&&Le.redraw()}),Me&&this.drawChartBox(),K(this,"predraw"),de.forEach(function(Le){(Me||Le.isDirty)&&Le.visible&&Le.redraw(),Le.isDirtyData=!1}),fe&&fe.reset(!0),ye.draw(),K(this,"redraw"),K(this,"render"),_e&&this.temporaryDisplay(!0),Se.forEach(function(Le){Le.call()})}get(se){let ae=this.series;function de(me){return me.id===se||me.options&&me.options.id===se}let fe=L(this.axes,de)||L(this.series,de);for(let me=0;!fe&&me<ae.length;me++)fe=L(ae[me].points||[],de);return fe}getAxes(){let se=this.userOptions;for(let ae of(K(this,"getAxes"),["xAxis","yAxis"])){let de=se[ae]=re(se[ae]||{});for(let fe of de)new a(this,fe,ae)}K(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((se,ae)=>(ae.getPointsCollection().forEach(de=>{ie(de.selectedStaging,de.selected)&&se.push(de)}),se),[])}getSelectedSeries(){return this.series.filter(function(se){return se.selected})}setTitle(se,ae,de){this.applyDescription("title",se),this.applyDescription("subtitle",ae),this.applyDescription("caption",void 0),this.layOutTitles(de)}applyDescription(se,ae){let de=this,fe=this.options[se]=Z(this.options[se],ae),me=this[se];me&&ae&&(this[se]=me=me.destroy()),fe&&!me&&((me=this.renderer.text(fe.text,0,0,fe.useHTML).attr({align:fe.align,class:"highcharts-"+se,zIndex:fe.zIndex||4}).add()).update=function(ge,ye){de.applyDescription(se,ge),de.layOutTitles(ye)},this.styledMode||me.css(X(se==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},fe.style)),this[se]=me)}layOutTitles(se=!0){let ae=[0,0,0],de=this.renderer,fe=this.spacingBox;["title","subtitle","caption"].forEach(function(ge){let ye=this[ge],_e=this.options[ge],Se=_e.verticalAlign||"top",Ie=ge==="title"?Se==="top"?-3:0:Se==="top"?ae[0]+2:0;if(ye){ye.css({width:(_e.width||fe.width+(_e.widthAdjust||0))+"px"});let Ce=de.fontMetrics(ye).b,Te=Math.round(ye.getBBox(_e.useHTML).height);ye.align(X({y:Se==="bottom"?Ce:Ie+Ce,height:Te},_e),!1,"spacingBox"),_e.floating||(Se==="top"?ae[0]=Math.ceil(ae[0]+Te):Se==="bottom"&&(ae[2]=Math.ceil(ae[2]+Te)))}},this),ae[0]&&(this.options.title.verticalAlign||"top")==="top"&&(ae[0]+=this.options.title.margin),ae[2]&&this.options.caption.verticalAlign==="bottom"&&(ae[2]+=this.options.caption.margin);let me=!this.titleOffset||this.titleOffset.join(",")!==ae.join(",");this.titleOffset=ae,K(this,"afterLayOutTitles"),!this.isDirtyBox&&me&&(this.isDirtyBox=this.isDirtyLegend=me,this.hasRendered&&se&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:D(this.renderTo,"width",!0)||0,height:D(this.renderTo,"height",!0)||0}}getChartSize(){let se=this.options.chart,ae=se.width,de=se.height,fe=this.getContainerBox();this.chartWidth=Math.max(0,ae||fe.width||600),this.chartHeight=Math.max(0,Y(de,this.chartWidth)||(fe.height>1?fe.height:400)),this.containerBox=fe}temporaryDisplay(se){let ae=this.renderTo,de;if(se)for(;ae&&ae.style;)ae.hcOrigStyle&&(w(ae,ae.hcOrigStyle),delete ae.hcOrigStyle),ae.hcOrigDetached&&(W.body.removeChild(ae),ae.hcOrigDetached=!1),ae=ae.parentNode;else for(;ae&&ae.style&&(W.body.contains(ae)||ae.parentNode||(ae.hcOrigDetached=!0,W.body.appendChild(ae)),(D(ae,"display",!1)==="none"||ae.hcOricDetached)&&(ae.hcOrigStyle={display:ae.style.display,height:ae.style.height,overflow:ae.style.overflow},de={display:"block",overflow:"hidden"},ae!==this.renderTo&&(de.height=0),w(ae,de),ae.offsetWidth||ae.style.setProperty("display","block","important")),(ae=ae.parentNode)!==W.body););}setClassName(se){this.container.className="highcharts-container "+(se||"")}getContainer(){let se=this.options,ae=se.chart,de="data-highcharts-chart",fe=ue(),me,ge=this.renderTo;ge||(this.renderTo=ge=ae.renderTo),q(ge)&&(this.renderTo=ge=W.getElementById(ge)),ge||z(13,!0,this);let ye=te(C(ge,de));U(ye)&&H[ye]&&H[ye].hasRendered&&H[ye].destroy(),C(ge,de,this.index),ge.innerHTML=m.emptyHTML,ae.skipClone||ge.offsetWidth||this.temporaryDisplay(),this.getChartSize();let _e=this.chartWidth,Se=this.chartHeight;w(ge,{overflow:"hidden"}),this.styledMode||(me=X({position:"relative",overflow:"hidden",width:_e+"px",height:Se+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},ae.style||{}));let Ie=y("div",{id:fe},me,ge);this.container=Ie,this._cursor=Ie.style.cursor;let Ce=ae.renderer||!P?d.getRendererType(ae.renderer):f;if(this.renderer=new Ce(Ie,_e,Se,void 0,ae.forExport,se.exporting&&se.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),I(void 0,this),this.setClassName(ae.className),this.styledMode)for(let Te in se.defs)this.renderer.definition(se.defs[Te]);else this.renderer.setStyle(ae.style);this.renderer.chartIndex=this.index,K(this,"afterGetContainer")}getMargins(se){let{spacing:ae,margin:de,titleOffset:fe}=this;this.resetMargins(),fe[0]&&!k(de[0])&&(this.plotTop=Math.max(this.plotTop,fe[0]+ae[0])),fe[2]&&!k(de[2])&&(this.marginBottom=Math.max(this.marginBottom,fe[2]+ae[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(de,ae),K(this,"getMargins"),se||this.getAxisMargins()}getAxisMargins(){let se=this,ae=se.axisOffset=[0,0,0,0],de=se.colorAxis,fe=se.margin,me=function(ge){ge.forEach(function(ye){ye.visible&&ye.getOffset()})};se.hasCartesianSeries?me(se.axes):de&&de.length&&me(de),G.forEach(function(ge,ye){k(fe[ye])||(se[ge]+=ae[ye])}),se.setChartSize()}getOptions(){return M(this.userOptions,R)}reflow(se){let ae=this,de=ae.containerBox,fe=ae.getContainerBox();delete ae.pointer.chartPosition,!ae.isPrinting&&!ae.isResizing&&de&&fe.width&&((fe.width!==de.width||fe.height!==de.height)&&(g.clearTimeout(ae.reflowTimeout),ae.reflowTimeout=ne(function(){ae.container&&ae.setSize(void 0,void 0,!1)},se?100:0)),ae.containerBox=fe)}setReflow(){let se=this,ae=de=>{var fe;(fe=se.options)!=null&&fe.chart.reflow&&se.hasLoaded&&se.reflow(de)};if(typeof ResizeObserver=="function")new ResizeObserver(ae).observe(se.renderTo);else{let de=x(A,"resize",ae);x(this,"destroy",de)}}setSize(se,ae,de){let fe=this,me=fe.renderer;fe.isResizing+=1,I(de,fe);let ge=me.globalAnimation;fe.oldChartHeight=fe.chartHeight,fe.oldChartWidth=fe.chartWidth,se!==void 0&&(fe.options.chart.width=se),ae!==void 0&&(fe.options.chart.height=ae),fe.getChartSize();let{chartWidth:ye,chartHeight:_e,scrollablePixelsX:Se=0,scrollablePixelsY:Ie=0}=fe;(fe.isDirtyBox||ye!==fe.oldChartWidth||_e!==fe.oldChartHeight)&&(fe.styledMode||(ge?b:w)(fe.container,{width:`${ye+Se}px`,height:`${_e+Ie}px`},ge),fe.setChartSize(!0),me.setSize(ye,_e,ge),fe.axes.forEach(function(Ce){Ce.isDirty=!0,Ce.setScale()}),fe.isDirtyLegend=!0,fe.isDirtyBox=!0,fe.layOutTitles(),fe.getMargins(),fe.redraw(ge),fe.oldChartHeight=void 0,K(fe,"resize"),setTimeout(()=>{fe&&K(fe,"endResize",void 0,()=>{fe.isResizing-=1})},E(ge).duration))}setChartSize(se){let ae,de,fe,me,ge=this.inverted,ye=this.renderer,_e=this.chartWidth,Se=this.chartHeight,Ie=this.options.chart,Ce=this.spacing,Te=this.clipOffset;this.plotLeft=ae=Math.round(this.plotLeft),this.plotTop=de=Math.round(this.plotTop),this.plotWidth=fe=Math.max(0,Math.round(_e-ae-this.marginRight)),this.plotHeight=me=Math.max(0,Math.round(Se-de-this.marginBottom)),this.plotSizeX=ge?me:fe,this.plotSizeY=ge?fe:me,this.plotBorderWidth=Ie.plotBorderWidth||0,this.spacingBox=ye.spacingBox={x:Ce[3],y:Ce[0],width:_e-Ce[3]-Ce[1],height:Se-Ce[0]-Ce[2]},this.plotBox=ye.plotBox={x:ae,y:de,width:fe,height:me};let Me=2*Math.floor(this.plotBorderWidth/2),Pe=Math.ceil(Math.max(Me,Te[3])/2),$e=Math.ceil(Math.max(Me,Te[0])/2);this.clipBox={x:Pe,y:$e,width:Math.floor(this.plotSizeX-Math.max(Me,Te[1])/2-Pe),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(Me,Te[2])/2-$e))},se||(this.axes.forEach(function(Le){Le.setAxisSize(),Le.setAxisTranslation()}),ye.alignElements()),K(this,"afterSetChartSize",{skipAxes:se})}resetMargins(){K(this,"resetMargins");let se=this,ae=se.options.chart;["margin","spacing"].forEach(function(de){let fe=ae[de],me=Q(fe)?fe:[fe,fe,fe,fe];["Top","Right","Bottom","Left"].forEach(function(ge,ye){se[de][ye]=ie(ae[de+ge],me[ye])})}),G.forEach(function(de,fe){se[de]=ie(se.margin[fe],se.spacing[fe])}),se.axisOffset=[0,0,0,0],se.clipOffset=[0,0,0,0]}drawChartBox(){let se=this.options.chart,ae=this.renderer,de=this.chartWidth,fe=this.chartHeight,me=this.styledMode,ge=this.plotBGImage,ye=se.backgroundColor,_e=se.plotBackgroundColor,Se=se.plotBackgroundImage,Ie=this.plotLeft,Ce=this.plotTop,Te=this.plotWidth,Me=this.plotHeight,Pe=this.plotBox,$e=this.clipRect,Le=this.clipBox,je=this.chartBackground,Xe=this.plotBackground,it=this.plotBorder,rt,Dt,It,lt="animate";je||(this.chartBackground=je=ae.rect().addClass("highcharts-background").add(),lt="attr"),me?rt=Dt=je.strokeWidth():(Dt=(rt=se.borderWidth||0)+(se.shadow?8:0),It={fill:ye||"none"},(rt||je["stroke-width"])&&(It.stroke=se.borderColor,It["stroke-width"]=rt),je.attr(It).shadow(se.shadow)),je[lt]({x:Dt/2,y:Dt/2,width:de-Dt-rt%2,height:fe-Dt-rt%2,r:se.borderRadius}),lt="animate",Xe||(lt="attr",this.plotBackground=Xe=ae.rect().addClass("highcharts-plot-background").add()),Xe[lt](Pe),!me&&(Xe.attr({fill:_e||"none"}).shadow(se.plotShadow),Se&&(ge?(Se!==ge.attr("href")&&ge.attr("href",Se),ge.animate(Pe)):this.plotBGImage=ae.image(Se,Ie,Ce,Te,Me).add())),$e?$e.animate({width:Le.width,height:Le.height}):this.clipRect=ae.clipRect(Le),lt="animate",it||(lt="attr",this.plotBorder=it=ae.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),me||it.attr({stroke:se.plotBorderColor,"stroke-width":se.plotBorderWidth||0,fill:"none"}),it[lt](it.crisp({x:Ie,y:Ce,width:Te,height:Me},-it.strokeWidth())),this.isDirtyBox=!1,K(this,"afterDrawChartBox")}propFromSeries(){let se,ae,de,fe=this,me=fe.options.chart,ge=fe.options.series;["inverted","angular","polar"].forEach(function(ye){for(ae=T[me.type],de=me[ye]||ae&&ae.prototype[ye],se=ge&&ge.length;!de&&se--;)(ae=T[ge[se].type])&&ae.prototype[ye]&&(de=!0);fe[ye]=de})}linkSeries(se){let ae=this,de=ae.series;de.forEach(function(fe){fe.linkedSeries.length=0}),de.forEach(function(fe){let{linkedTo:me}=fe.options;if(q(me)){let ge;(ge=me===":previous"?ae.series[fe.index-1]:ae.get(me))&&ge.linkedParent!==fe&&(ge.linkedSeries.push(fe),fe.linkedParent=ge,ge.enabledDataSorting&&fe.setDataSortingOptions(),fe.visible=ie(fe.options.visible,ge.options.visible,fe.visible))}}),K(this,"afterLinkSeries",{isUpdating:se})}renderSeries(){this.series.forEach(function(se){se.translate(),se.render()})}render(){var Ie;let se=this.axes,ae=this.colorAxis,de=this.renderer,fe=this.options.chart.axisLayoutRuns||2,me=Ce=>{Ce.forEach(Te=>{Te.visible&&Te.render()})},ge=0,ye=!0,_e,Se=0;for(let Ce of(this.setTitle(),K(this,"beforeMargins"),(Ie=this.getStacks)==null||Ie.call(this),this.getMargins(!0),this.setChartSize(),se)){let{options:Te}=Ce,{labels:Me}=Te;if(Ce.horiz&&Ce.visible&&Me.enabled&&Ce.series.length&&Ce.coll!=="colorAxis"&&!this.polar){ge=Te.tickLength,Ce.createGroups();let Pe=new v(Ce,0,"",!0),$e=Pe.createLabel("x",Me);if(Pe.destroy(),$e&&ie(Me.reserveSpace,!U(Te.crossing))&&(ge=$e.getBBox().height+Me.distance+Math.max(Te.offset||0,0)),ge){$e==null||$e.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-ge,0);(ye||_e||fe>1)&&Se<fe;){let Ce=this.plotWidth,Te=this.plotHeight;for(let Me of se)Se===0?Me.setScale():(Me.horiz&&ye||!Me.horiz&&_e)&&Me.setTickInterval(!0);Se===0?this.getAxisMargins():this.getMargins(),ye=Ce/this.plotWidth>(Se?1:1.1),_e=Te/this.plotHeight>(Se?1:1.05),Se++}this.drawChartBox(),this.hasCartesianSeries?me(se):ae&&ae.length&&me(ae),this.seriesGroup||(this.seriesGroup=de.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(se){let ae=this,de=Z(!0,this.options.credits,se);de.enabled&&!this.credits&&(this.credits=this.renderer.text(de.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){de.href&&(A.location.href=de.href)}).attr({align:de.position.align,zIndex:8}),ae.styledMode||this.credits.css(de.style),this.credits.add().align(de.position),this.credits.update=function(fe){ae.credits=ae.credits.destroy(),ae.addCredits(fe)})}destroy(){let se,ae=this,de=ae.axes,fe=ae.series,me=ae.container,ge=me&&me.parentNode;for(K(ae,"destroy"),ae.renderer.forExport?F(H,ae):H[ae.index]=void 0,u.chartCount--,ae.renderTo.removeAttribute("data-highcharts-chart"),ee(ae),se=de.length;se--;)de[se]=de[se].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),se=fe.length;se--;)fe[se]=fe[se].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(ye){let _e=ae[ye];_e&&_e.destroy&&(ae[ye]=_e.destroy())}),me&&(me.innerHTML=m.emptyHTML,ee(me),ge&&O(me)),$(ae,function(ye,_e){delete ae[_e]})}firstRender(){let se=this,ae=se.options;se.getContainer(),se.resetMargins(),se.setChartSize(),se.propFromSeries(),se.getAxes();let de=B(ae.series)?ae.series:[];ae.series=[],de.forEach(function(fe){se.initSeries(fe)}),se.linkSeries(),se.setSortedData(),K(se,"beforeRender"),se.render(),se.pointer.getChartPosition(),se.renderer.imgCount||se.hasLoaded||se.onload(),se.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(se){se&&this.index!==void 0&&se.apply(this,[this])},this),K(this,"load"),K(this,"render"),k(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:se,title:ae}=this;!se||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(ae&&ae.element.textContent||"").replace(/</g,"&lt;")}),se.accessibility&&se.accessibility.enabled===!1||z('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(se,ae,de){let fe,me=this;return se&&(ae=ie(ae,!0),K(me,"addSeries",{options:se},function(){fe=me.initSeries(se),me.isDirtyLegend=!0,me.linkSeries(),fe.enabledDataSorting&&fe.setData(se.data,!1),K(me,"afterAddSeries",{series:fe}),ae&&me.redraw(de)})),fe}addAxis(se,ae,de,fe){return this.createAxis(ae?"xAxis":"yAxis",{axis:se,redraw:de,animation:fe})}addColorAxis(se,ae,de){return this.createAxis("colorAxis",{axis:se,redraw:ae,animation:de})}createAxis(se,ae){let de=new a(this,ae.axis,se);return ie(ae.redraw,!0)&&this.redraw(ae.animation),de}showLoading(se){let ae=this,de=ae.options,fe=de.loading,me=function(){ge&&w(ge,{left:ae.plotLeft+"px",top:ae.plotTop+"px",width:ae.plotWidth+"px",height:ae.plotHeight+"px"})},ge=ae.loadingDiv,ye=ae.loadingSpan;ge||(ae.loadingDiv=ge=y("div",{className:"highcharts-loading highcharts-loading-hidden"},null,ae.container)),ye||(ae.loadingSpan=ye=y("span",{className:"highcharts-loading-inner"},null,ge),x(ae,"redraw",me)),ge.className="highcharts-loading",m.setElementHTML(ye,ie(se,de.lang.loading,"")),ae.styledMode||(w(ge,X(fe.style,{zIndex:10})),w(ye,fe.labelStyle),ae.loadingShown||(w(ge,{opacity:0,display:""}),b(ge,{opacity:fe.style.opacity||.5},{duration:fe.showDuration||0}))),ae.loadingShown=!0,me()}hideLoading(){let se=this.options,ae=this.loadingDiv;ae&&(ae.className="highcharts-loading highcharts-loading-hidden",this.styledMode||b(ae,{opacity:0},{duration:se.loading.hideDuration||100,complete:function(){w(ae,{display:"none"})}})),this.loadingShown=!1}update(se,ae,de,fe){let me,ge,ye,_e=this,Se={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Ie=se.isResponsiveOptions,Ce=[];K(_e,"update",{options:se}),Ie||_e.setResponsive(!1,!0),se=M(se,_e.options),_e.userOptions=Z(_e.userOptions,se);let Te=se.chart;Te&&(Z(!0,_e.options.chart,Te),this.setZoomOptions(),"className"in Te&&_e.setClassName(Te.className),("inverted"in Te||"polar"in Te||"type"in Te)&&(_e.propFromSeries(),me=!0),"alignTicks"in Te&&(me=!0),"events"in Te&&V(this,Te),$(Te,function($e,Le){_e.propsRequireUpdateSeries.indexOf("chart."+Le)!==-1&&(ge=!0),_e.propsRequireDirtyBox.indexOf(Le)!==-1&&(_e.isDirtyBox=!0),_e.propsRequireReflow.indexOf(Le)===-1||(_e.isDirtyBox=!0,Ie||(ye=!0))}),!_e.styledMode&&Te.style&&_e.renderer.setStyle(_e.options.chart.style||{})),!_e.styledMode&&se.colors&&(this.options.colors=se.colors),se.time&&(this.time===N&&(this.time=new p(se.time)),Z(!0,_e.options.time,se.time)),$(se,function($e,Le){_e[Le]&&typeof _e[Le].update=="function"?_e[Le].update($e,!1):typeof _e[Se[Le]]=="function"?_e[Se[Le]]($e):Le!=="colors"&&_e.collectionsWithUpdate.indexOf(Le)===-1&&Z(!0,_e.options[Le],se[Le]),Le!=="chart"&&_e.propsRequireUpdateSeries.indexOf(Le)!==-1&&(ge=!0)}),this.collectionsWithUpdate.forEach(function($e){se[$e]&&(re(se[$e]).forEach(function(Le,je){let Xe,it=k(Le.id);it&&(Xe=_e.get(Le.id)),!Xe&&_e[$e]&&(Xe=_e[$e][ie(Le.index,je)])&&(it&&k(Xe.options.id)||Xe.options.isInternal)&&(Xe=void 0),Xe&&Xe.coll===$e&&(Xe.update(Le,!1),de&&(Xe.touched=!0)),!Xe&&de&&_e.collectionsWithInit[$e]&&(_e.collectionsWithInit[$e][0].apply(_e,[Le].concat(_e.collectionsWithInit[$e][1]||[]).concat([!1])).touched=!0)}),de&&_e[$e].forEach(function(Le){Le.touched||Le.options.isInternal?delete Le.touched:Ce.push(Le)}))}),Ce.forEach(function($e){$e.chart&&$e.remove&&$e.remove(!1)}),me&&_e.axes.forEach(function($e){$e.update({},!1)}),ge&&_e.getSeriesOrderByLinks().forEach(function($e){$e.chart&&$e.update({},!1)},this);let Me=Te&&Te.width,Pe=Te&&(q(Te.height)?Y(Te.height,Me||_e.chartWidth):Te.height);ye||U(Me)&&Me!==_e.chartWidth||U(Pe)&&Pe!==_e.chartHeight?_e.setSize(Me,Pe,fe):ie(ae,!0)&&_e.redraw(fe),K(_e,"afterUpdate",{options:se,redraw:ae,animation:fe})}setSubtitle(se,ae){this.applyDescription("subtitle",se),this.layOutTitles(ae)}setCaption(se,ae){this.applyDescription("caption",se),this.layOutTitles(ae)}showResetZoom(){let se=this,ae=R.lang,de=se.zooming.resetButton,fe=de.theme,me=de.relativeTo==="chart"||de.relativeTo==="spacingBox"?null:"scrollablePlotBox";function ge(){se.zoomOut()}K(this,"beforeShowResetZoom",null,function(){se.resetZoomButton=se.renderer.button(ae.resetZoom,null,null,ge,fe).attr({align:de.position.align,title:ae.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(de.position,!1,me)}),K(this,"afterShowResetZoom")}zoomOut(){K(this,"selection",{resetSelection:!0},this.zoom)}zoom(se){let ae=this,de=ae.pointer,fe=!1,me;!se||se.resetSelection?(ae.axes.forEach(function(ye){me=ye.zoom()}),de.initiated=!1):se.xAxis.concat(se.yAxis).forEach(function(ye){let _e=ye.axis,Se=_e.isXAxis,{hasPinched:Ie,mouseDownX:Ce,mouseDownY:Te}=de;(de[Se?"zoomX":"zoomY"]&&k(Ce)&&k(Te)&&ae.isInsidePlot(Ce-ae.plotLeft,Te-ae.plotTop,{axis:_e,ignoreX:Ie,ignoreY:Ie})||!k(ae.inverted?Ce:Te))&&(me=_e.zoom(ye.min,ye.max),_e.displayBtn&&(fe=!0))});let ge=ae.resetZoomButton;fe&&!ge?ae.showResetZoom():!fe&&Q(ge)&&(ae.resetZoomButton=ge.destroy()),me&&ae.redraw(ie(ae.options.chart.animation,se&&se.animation,ae.pointCount<100))}pan(se,ae){let de,fe=this,me=fe.hoverPoints,ge=typeof ae=="object"?ae:{enabled:ae,type:"x"},ye=fe.options.chart;ye&&ye.panning&&(ye.panning=ge);let _e=ge.type;K(this,"pan",{originalEvent:se},function(){me&&me.forEach(function(Ce){Ce.setState()});let Se=fe.xAxis;_e==="xy"?Se=Se.concat(fe.yAxis):_e==="y"&&(Se=fe.yAxis);let Ie={};Se.forEach(function(Ce){if(!Ce.options.panningEnabled||Ce.options.isInternal)return;let Te=Ce.horiz,Me=se[Te?"chartX":"chartY"],Pe=Te?"mouseDownX":"mouseDownY",$e=fe[Pe],Le=Ce.minPointOffset||0,je=Ce.reversed&&!fe.inverted||!Ce.reversed&&fe.inverted?-1:1,Xe=Ce.getExtremes(),it=Ce.toValue($e-Me,!0)+Le*je,rt=Ce.toValue($e+Ce.len-Me,!0)-(Le*je||Ce.isXAxis&&Ce.pointRangePadding||0),Dt=rt<it,It=Ce.hasVerticalPanning(),lt=Dt?rt:it,kt=Dt?it:rt,Lt=Ce.panningState,vt;It&&!Ce.isXAxis&&(!Lt||Lt.isDirty)&&Ce.series.forEach(function(wt){let xe=wt.getProcessedData(!0),Oe=wt.getExtremes(xe.yData,!0);Lt||(Lt={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),U(Oe.dataMin)&&U(Oe.dataMax)&&(Lt.startMin=Math.min(ie(wt.options.threshold,1/0),Oe.dataMin,Lt.startMin),Lt.startMax=Math.max(ie(wt.options.threshold,-1/0),Oe.dataMax,Lt.startMax))});let Ut=Math.min(ie(Lt&&Lt.startMin,Xe.dataMin),Le?Xe.min:Ce.toValue(Ce.toPixels(Xe.min)-Ce.minPixelPadding)),Zt=Math.max(ie(Lt&&Lt.startMax,Xe.dataMax),Le?Xe.max:Ce.toValue(Ce.toPixels(Xe.max)+Ce.minPixelPadding));Ce.panningState=Lt,Ce.isOrdinal||((vt=Ut-lt)>0&&(kt+=vt,lt=Ut),(vt=kt-Zt)>0&&(kt=Zt,lt-=vt),Ce.series.length&&lt!==Xe.min&&kt!==Xe.max&&lt>=Ut&&kt<=Zt&&(Ce.setExtremes(lt,kt,!1,!1,{trigger:"pan"}),!fe.resetZoomButton&&lt!==Ut&&kt!==Zt&&_e.match("y")&&(fe.showResetZoom(),Ce.displayBtn=!1),de=!0),Ie[Pe]=Me)}),$(Ie,(Ce,Te)=>{fe[Te]=Ce}),de&&fe.redraw(!1),w(fe.container,{cursor:"move"})})}}return X(le.prototype,{callbacks:[],collectionsWithInit:{xAxis:[le.prototype.addAxis,[!0]],yAxis:[le.prototype.addAxis,[!1]],series:[le.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]}),le}),r(i,"Extensions/ScrollablePlotArea.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Globals.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],function(n,a,s,o){let{stop:l}=n,{composed:u}=a,{addEvent:d,createElement:c,css:h,defined:f,extend:p,merge:g,pick:m,pushUnique:v}=o;function b(){var te,Y,ee;let H,{axisOffset:W,chartWidth:G,chartHeight:P,container:A,plotHeight:T,plotLeft:x,plotTop:C,plotWidth:y,scrollablePixelsX:S=0,scrollablePixelsY:w=0,scrollingContainer:k}=this,M=!this.fixedDiv,O=this.options.chart,F=O.scrollablePlotArea,{scrollPositionX:z,scrollPositionY:X}=F,L=s.getRendererType(),{fixedRenderer:K}=this;K?K.setSize(G,P):(this.fixedDiv=c("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((te=O.style)==null?void 0:te.zIndex)||0)+2,top:0},void 0,!0),k==null||k.parentNode.insertBefore(this.fixedDiv,k),h(this.renderTo,{overflow:"visible"}),this.fixedRenderer=K=new L(this.fixedDiv,G,P,O.style),this.scrollableMask=K.path().attr({fill:O.backgroundColor||"#fff","fill-opacity":m(F.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),d(this,"afterShowResetZoom",this.moveFixedElements),d(this,"afterApplyDrilldown",this.moveFixedElements),d(this,"afterLayOutTitles",this.moveFixedElements)),(this.scrollableDirty||M)&&(this.scrollableDirty=!1,this.moveFixedElements());let D=G+S,B=P+w;l(this.container),h(A,{width:`${D}px`,height:`${B}px`}),this.renderer.boxWrapper.attr({width:D,height:B,viewBox:[0,0,D,B].join(" ")}),(Y=this.chartBackground)==null||Y.attr({width:D,height:B}),k&&(h(k,{width:`${this.chartWidth}px`,height:`${this.chartHeight}px`}),M&&(z&&(k.scrollLeft=S*z),X&&(k.scrollTop=w*X)));let U=C-W[0]-1,Q=x-W[3]-1,q=C+T+W[2]+1,Z=x+y+W[1]+1,$=x+y-S,ie=C+T-w;H=S?[["M",0,U],["L",x-1,U],["L",x-1,q],["L",0,q],["Z"],["M",$,U],["L",G,U],["L",G,q],["L",$,q],["Z"]]:w?[["M",Q,0],["L",Q,C-1],["L",Z,C-1],["L",Z,0],["Z"],["M",Q,ie],["L",Q,P],["L",Z,P],["L",Z,ie],["Z"]]:[["M",0,0]],this.redrawTrigger!=="adjustHeight"&&((ee=this.scrollableMask)==null||ee.attr({d:H}))}function E(){let H,W=this.container,G=this.fixedRenderer,P=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-reset-zoom",".highcharts-drillup-button",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];for(let A of(this.scrollablePixelsX&&!this.inverted?H=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?H=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(H=".highcharts-yaxis"),H&&P.push(`${H}:not(.highcharts-radial-axis)`,`${H}-labels:not(.highcharts-radial-axis-labels)`),P))[].forEach.call(W.querySelectorAll(A),T=>{(T.namespaceURI===G.SVG_NS?G.box:G.box.parentNode).appendChild(T),T.style.pointerEvents="auto"})}function I(){let H,W={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(W.overflowX="auto"),this.scrollablePixelsY&&(W.overflowY="auto"),this.scrollingParent=c("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=c("div",{className:"highcharts-scrolling"},W,this.scrollingParent),d(this.scrollingContainer,"scroll",()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(H=this.hoverPoint),this.pointer.runPointActions(void 0,H,!0))}),this.innerContainer=c("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null}function R(){this.chart.scrollableDirty=!0}function N(H){let W,G,P,A=this.options.chart.scrollablePlotArea,T=A&&A.minWidth,x=A&&A.minHeight;if(!this.renderer.forExport&&(T?(this.scrollablePixelsX=W=Math.max(0,T-this.chartWidth),W&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=g(this.plotBox),this.plotBox.width=this.plotWidth+=W,this.inverted?this.clipBox.height+=W:this.clipBox.width+=W,P={1:{name:"right",value:W}})):x&&(this.scrollablePixelsY=G=Math.max(0,x-this.chartHeight),f(G)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=g(this.plotBox),this.plotBox.height=this.plotHeight+=G,this.inverted?this.clipBox.width+=G:this.clipBox.height+=G,P={2:{name:"bottom",value:G}})),P&&!H.skipAxes))for(let C of this.axes)if(P[C.side]){let y=C.getPlotLinePath;C.getPlotLinePath=function(){let S=P[C.side].name,w=P[C.side].value,k=this[S];this[S]=k-w;let M=y.apply(this,arguments);return this[S]=k,M}}else C.setAxisSize(),C.setAxisTranslation()}function j(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}function V(){this.chart.scrollableDirty=!0}return{compose:function H(W,G,P){v(u,H)&&(d(W,"afterInit",R),p(G.prototype,{applyFixed:b,moveFixedElements:E,setUpScrolling:I}),d(G,"afterSetChartSize",N),d(G,"render",j),d(P,"show",V))}}}),r(i,"Core/Axis/Stacking/StackItem.js",[i["Core/Templating.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(n,a,s){let{format:o}=n,{series:l}=a,{destroyObjectProperties:u,fireEvent:d,isNumber:c,pick:h}=s;return class{constructor(f,p,g,m,v){let b=f.chart.inverted,E=f.reversed;this.axis=f;let I=this.isNegative=!!g!=!!E;this.options=p=p||{},this.x=m,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=v,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:p.align||(b?I?"left":"right":"center"),verticalAlign:p.verticalAlign||(b?"middle":I?"bottom":"top"),y:p.y,x:p.x},this.textAlign=p.textAlign||(b?I?"right":"left":"center")}destroy(){u(this,this.axis)}render(f){let p=this.axis.chart,g=this.options,m=g.format,v=m?o(m,this,p):g.formatter.call(this);if(this.label)this.label.attr({text:v,visibility:"hidden"});else{this.label=p.renderer.label(v,null,void 0,g.shape,void 0,void 0,g.useHTML,!1,"stack-labels");let b={r:g.borderRadius||0,text:v,padding:h(g.padding,5),visibility:"hidden"};p.styledMode||(b.fill=g.backgroundColor,b.stroke=g.borderColor,b["stroke-width"]=g.borderWidth,this.label.css(g.style||{})),this.label.attr(b),this.label.added||this.label.add(f)}this.label.labelrank=p.plotSizeY,d(this,"afterRender")}setOffset(f,p,g,m,v,b){let{alignOptions:E,axis:I,label:R,options:N,textAlign:j}=this,V=I.chart,H=this.getStackBox({xOffset:f,width:p,boxBottom:g,boxTop:m,defaultX:v,xAxis:b}),{verticalAlign:W}=E;if(R&&H){let G=R.getBBox(),P=R.padding,A=h(N.overflow,"justify")==="justify",T;E.x=N.x||0,E.y=N.y||0;let{x,y:C}=this.adjustStackPosition({labelBox:G,verticalAlign:W,textAlign:j});H.x-=x,H.y-=C,R.align(E,!1,H),(T=V.isInsidePlot(R.alignAttr.x+E.x+x,R.alignAttr.y+E.y+C))||(A=!1),A&&l.prototype.justifyDataLabel.call(I,R,E,R.alignAttr,G,H),R.attr({x:R.alignAttr.x,y:R.alignAttr.y,rotation:N.rotation,rotationOriginX:G.width/2,rotationOriginY:G.height/2}),h(!A&&N.crop,!0)&&(T=c(R.x)&&c(R.y)&&V.isInsidePlot(R.x-P+(R.width||0),R.y)&&V.isInsidePlot(R.x+P,R.y)),R[T?"show":"hide"]()}d(this,"afterSetOffset",{xOffset:f,width:p})}adjustStackPosition({labelBox:f,verticalAlign:p,textAlign:g}){let m={bottom:0,middle:1,top:2,right:1,center:0,left:-1},v=m[p],b=m[g];return{x:f.width/2+f.width/2*b,y:f.height/2*v}}getStackBox(f){let p=this.axis,g=p.chart,{boxTop:m,defaultX:v,xOffset:b,width:E,boxBottom:I}=f,R=p.stacking.usePercentage?100:h(m,this.total,0),N=p.toPixels(R),j=f.xAxis||g.xAxis[0],V=h(v,j.translate(this.x))+b,H=p.toPixels(I||c(p.min)&&p.logarithmic&&p.logarithmic.lin2log(p.min)||0),W=Math.abs(N-H),G=g.inverted,P=this.isNegative;return G?{x:(P?N:N-W)-g.plotLeft,y:j.height-V-E,width:W,height:E}:{x:V+j.transB-g.plotLeft,y:(P?N-W:N)-g.plotTop,width:E,height:W}}}}),r(i,"Core/Axis/Stacking/StackingAxis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],function(n,a,s,o,l,u){var d;let{getDeferredAnimation:c}=n,{composed:h}=s,{series:{prototype:f}}=o,{addEvent:p,correctFloat:g,defined:m,destroyObjectProperties:v,fireEvent:b,isArray:E,isNumber:I,objectEach:R,pick:N,pushUnique:j}=u;function V(){let y=this.inverted;this.axes.forEach(S=>{S.stacking&&S.stacking.stacks&&S.hasVisibleSeries&&(S.stacking.oldStacks=S.stacking.stacks)}),this.series.forEach(S=>{let w=S.xAxis&&S.xAxis.options||{};S.options.stacking&&S.reserveSpace()&&(S.stackKey=[S.type,N(S.options.stack,""),y?w.top:w.left,y?w.height:w.width].join(","))})}function H(){var S;let y=this.stacking;if(y){let w=y.stacks;R(w,(k,M)=>{v(k),delete w[M]}),(S=y.stackTotalGroup)==null||S.destroy()}}function W(){this.stacking||(this.stacking=new C(this))}function G(y,S,w,k){return!m(y)||y.x!==S||k&&y.stackKey!==k?y={x:S,index:0,key:k,stackKey:k}:y.index++,y.key=[w,S,y.index].join(","),y}function P(){let y,S=this,w=S.yAxis,k=S.stackKey||"",M=w.stacking.stacks,O=S.processedXData,F=S.options.stacking,z=S[F+"Stacker"];z&&[k,"-"+k].forEach(X=>{var U;let L=O.length,K,D,B;for(;L--;)K=O[L],y=S.getStackIndicator(y,K,S.index,X),D=(U=M[X])==null?void 0:U[K],(B=D==null?void 0:D.points[y.key||""])&&z.call(S,B,D,L)})}function A(y,S,w){let k=S.total?100/S.total:0;y[0]=g(y[0]*k),y[1]=g(y[1]*k),this.stackedYData[w]=y[1]}function T(y){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&!this.options.stacking&&this.chart.series.length>1?f.setStackedPoints.call(this,y,"group"):y.stacking.resetStacks())}function x(y,S){var pe,se;let w,k,M,O,F,z,X,L,K,D=S||this.options.stacking;if(!D||!this.reserveSpace()||({group:"xAxis"}[D]||"yAxis")!==y.coll)return;let B=this.processedXData,U=this.processedYData,Q=[],q=U.length,Z=this.options,$=Z.threshold||0,ie=Z.startFromThreshold?$:0,te=Z.stack,Y=S?`${this.type},${D}`:this.stackKey||"",ee="-"+Y,re=this.negStacks,ne=y.stacking,ue=ne.stacks,le=ne.oldStacks;for(ne.stacksTouched+=1,X=0;X<q;X++){L=B[X],K=U[X],z=(w=this.getStackIndicator(w,L,this.index)).key||"",ue[F=(k=re&&K<(ie?0:$))?ee:Y]||(ue[F]={}),ue[F][L]||((pe=le[F])!=null&&pe[L]?(ue[F][L]=le[F][L],ue[F][L].total=null):ue[F][L]=new l(y,y.options.stackLabels,!!k,L,te)),M=ue[F][L],K!==null?(M.points[z]=M.points[this.index]=[N(M.cumulative,ie)],m(M.cumulative)||(M.base=z),M.touched=ne.stacksTouched,w.index>0&&this.singleStacks===!1&&(M.points[z][0]=M.points[this.index+","+L+",0"][0])):(delete M.points[z],delete M.points[this.index]);let ae=M.total||0;D==="percent"?(O=k?Y:ee,ae=re&&((se=ue[O])!=null&&se[L])?(O=ue[O][L]).total=Math.max(O.total||0,ae)+Math.abs(K)||0:g(ae+(Math.abs(K)||0))):D==="group"?(E(K)&&(K=K[0]),K!==null&&ae++):ae=g(ae+(K||0)),D==="group"?M.cumulative=(ae||1)-1:M.cumulative=g(N(M.cumulative,ie)+(K||0)),M.total=ae,K!==null&&(M.points[z].push(M.cumulative),Q[X]=M.cumulative,M.hasValidPoints=!0)}D==="percent"&&(ne.usePercentage=!0),D!=="group"&&(this.stackedYData=Q),ne.oldStacks={}}class C{constructor(S){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=S}buildStacks(){let S,w,k=this.axis,M=k.series,O=k.coll==="xAxis",F=k.options.reversedStacks,z=M.length;for(this.resetStacks(),this.usePercentage=!1,w=z;w--;)S=M[F?w:z-w-1],O&&S.setGroupedPoints(k),S.setStackedPoints(k);if(!O)for(w=0;w<z;w++)M[w].modifyStacks();b(k,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,R(this.stacks,S=>{R(S,w=>{w.cumulative=w.total})}))}resetStacks(){R(this.stacks,S=>{R(S,(w,k)=>{I(w.touched)&&w.touched<this.stacksTouched?(w.destroy(),delete S[k]):(w.total=null,w.cumulative=null)})})}renderStackTotals(){var X;let S=this.axis,w=S.chart,k=w.renderer,M=this.stacks,O=(X=S.options.stackLabels)==null?void 0:X.animation,F=c(w,O||!1),z=this.stackTotalGroup=this.stackTotalGroup||k.g("stack-labels").attr({zIndex:6,opacity:0}).add();z.translate(w.plotLeft,w.plotTop),R(M,L=>{R(L,K=>{K.render(z)})}),z.animate({opacity:1},F)}}return(d||(d={})).compose=function y(S,w,k){if(j(h,y)){let M=w.prototype,O=k.prototype;p(S,"init",W),p(S,"destroy",H),M.getStacks=V,O.getStackIndicator=G,O.modifyStacks=P,O.percentStacker=A,O.setGroupedPoints=T,O.setStackedPoints=x}},d}),r(i,"Series/Line/LineSeries.js",[i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(n,a,s){let{defined:o,merge:l,isObject:u}=s;class d extends n{drawGraph(){let h=this.options,f=(this.gappedPath||this.getGraphPath).call(this),p=this.chart.styledMode;[this,...this.zones].forEach((g,m)=>{let v,b=g.graph,E=b?"animate":"attr",I=g.dashStyle||h.dashStyle;b?(b.endX=this.preventGraphAnimation?null:f.xMap,b.animate({d:f})):f.length&&(g.graph=b=this.chart.renderer.path(f).addClass("highcharts-graph"+(m?` highcharts-zone-graph-${m-1} `:" ")+(m&&g.className||"")).attr({zIndex:1}).add(this.group)),b&&!p&&(v={stroke:!m&&h.lineColor||g.color||this.color||"#cccccc","stroke-width":h.lineWidth||0,fill:this.fillGraph&&this.color||"none"},I?v.dashstyle=I:h.linecap!=="square"&&(v["stroke-linecap"]=v["stroke-linejoin"]="round"),b[E](v).shadow(m<2&&h.shadow&&l({filterUnits:"userSpaceOnUse"},u(h.shadow)?h.shadow:{}))),b&&(b.startX=f.xMap,b.isArea=f.isArea)})}getGraphPath(h,f,p){let g=this,m=g.options,v=[],b=[],E,I=m.step;h=h||g.points;let R=h.reversed;return R&&h.reverse(),(I={right:1,center:2}[I]||I&&3)&&R&&(I=4-I),(h=this.getValidPoints(h,!1,!(m.connectNulls&&!f&&!p))).forEach(function(N,j){let V,H=N.plotX,W=N.plotY,G=h[j-1],P=N.isNull||typeof W!="number";(N.leftCliff||G&&G.rightCliff)&&!p&&(E=!0),P&&!o(f)&&j>0?E=!m.connectNulls:P&&!f?E=!0:(j===0||E?V=[["M",N.plotX,N.plotY]]:g.getPointSpline?V=[g.getPointSpline(h,N,j)]:I?(V=I===1?[["L",G.plotX,W]]:I===2?[["L",(G.plotX+H)/2,G.plotY],["L",(G.plotX+H)/2,W]]:[["L",H,G.plotY]]).push(["L",H,W]):V=[["L",H,W]],b.push(N.x),I&&(b.push(N.x),I===2&&b.push(N.x)),v.push.apply(v,V),E=!1)}),v.xMap=b,g.graphPath=v,v}}return d.defaultOptions=l(n.defaultOptions,{legendSymbol:"lineMarker"}),a.registerSeriesType("line",d),d}),r(i,"Series/Area/AreaSeries.js",[i["Core/Color/Color.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(n,a,s){let{seriesTypes:{line:o}}=a,{extend:l,merge:u,objectEach:d,pick:c}=s;class h extends o{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:p,options:g}=this;[this,...this.zones].forEach((m,v)=>{let b={},E=m.fillColor||g.fillColor,I=m.area,R=I?"animate":"attr";I?(I.endX=this.preventGraphAnimation?null:p.xMap,I.animate({d:p})):(b.zIndex=0,(I=m.area=this.chart.renderer.path(p).addClass("highcharts-area"+(v?` highcharts-zone-area-${v-1} `:" ")+(v&&m.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(b.fill=E||m.color||this.color,b["fill-opacity"]=E?1:g.fillOpacity??.75,I.css({pointerEvents:this.stickyTracking?"none":"auto"})),I[R](b),I.startX=p.xMap,I.shiftUnit=g.step?2:1})}getGraphPath(p){let g,m,v,b=o.prototype.getGraphPath,E=this.options,I=E.stacking,R=this.yAxis,N=[],j=[],V=this.index,H=R.stacking.stacks[this.stackKey],W=E.threshold,G=Math.round(R.getThreshold(E.threshold)),P=c(E.connectNulls,I==="percent"),A=function(w,k,M){let O=p[w],F=I&&H[O.x].points[V],z=O[M+"Null"]||0,X=O[M+"Cliff"]||0,L,K,D=!0;X||z?(L=(z?F[0]:F[1])+X,K=F[0]+X,D=!!z):!I&&p[k]&&p[k].isNull&&(L=K=W),L!==void 0&&(j.push({plotX:g,plotY:L===null?G:R.getThreshold(L),isNull:D,isCliff:!0}),N.push({plotX:g,plotY:K===null?G:R.getThreshold(K),doCurve:!1}))};p=p||this.points,I&&(p=this.getStackPoints(p));for(let w=0,k=p.length;w<k;++w)I||(p[w].leftCliff=p[w].rightCliff=p[w].leftNull=p[w].rightNull=void 0),m=p[w].isNull,g=c(p[w].rectPlotX,p[w].plotX),v=I?c(p[w].yBottom,G):G,m&&!P||(P||A(w,w-1,"left"),m&&!I&&P||(j.push(p[w]),N.push({x:w,plotX:g,plotY:v})),P||A(w,w+1,"right"));let T=b.call(this,j,!0,!0);N.reversed=!0;let x=b.call(this,N,!0,!0),C=x[0];C&&C[0]==="M"&&(x[0]=["L",C[1],C[2]]);let y=T.concat(x);y.length&&y.push(["Z"]);let S=b.call(this,j,!1,P);return y.xMap=T.xMap,this.areaPath=y,S}getStackPoints(p){let g=this,m=[],v=[],b=this.xAxis,E=this.yAxis,I=E.stacking.stacks[this.stackKey],R={},N=E.series,j=N.length,V=E.options.reversedStacks?1:-1,H=N.indexOf(g);if(p=p||this.points,this.options.stacking){for(let G=0;G<p.length;G++)p[G].leftNull=p[G].rightNull=void 0,R[p[G].x]=p[G];d(I,function(G,P){G.total!==null&&v.push(P)}),v.sort(function(G,P){return G-P});let W=N.map(G=>G.visible);v.forEach(function(G,P){let A=0,T,x;if(R[G]&&!R[G].isNull)m.push(R[G]),[-1,1].forEach(function(C){let y=C===1?"rightNull":"leftNull",S=I[v[P+C]],w=0;if(S){let k=H;for(;k>=0&&k<j;){let M=N[k].index;!(T=S.points[M])&&(M===g.index?R[G][y]=!0:W[k]&&(x=I[G].points[M])&&(w-=x[1]-x[0])),k+=V}}R[G][C===1?"rightCliff":"leftCliff"]=w});else{let C=H;for(;C>=0&&C<j;){let y=N[C].index;if(T=I[G].points[y]){A=T[1];break}C+=V}A=c(A,0),A=E.translate(A,0,1,0,1),m.push({isNull:!0,plotX:b.translate(G,0,0,0,1),x:G,plotY:A,yBottom:A})}})}return m}}return h.defaultOptions=u(o.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),l(h.prototype,{singleStacks:!1}),a.registerSeriesType("area",h),h}),r(i,"Series/Spline/SplineSeries.js",[i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(n,a){let{line:s}=n.seriesTypes,{merge:o,pick:l}=a;class u extends s{getPointSpline(c,h,f){let p,g,m,v,b=h.plotX||0,E=h.plotY||0,I=c[f-1],R=c[f+1];function N(V){return V&&!V.isNull&&V.doCurve!==!1&&!h.isCliff}if(N(I)&&N(R)){let V=I.plotX||0,H=I.plotY||0,W=R.plotX||0,G=R.plotY||0,P=0;p=(1.5*b+V)/2.5,g=(1.5*E+H)/2.5,m=(1.5*b+W)/2.5,v=(1.5*E+G)/2.5,m!==p&&(P=(v-g)*(m-b)/(m-p)+E-v),g+=P,v+=P,g>H&&g>E?(g=Math.max(H,E),v=2*E-g):g<H&&g<E&&(g=Math.min(H,E),v=2*E-g),v>G&&v>E?(v=Math.max(G,E),g=2*E-v):v<G&&v<E&&(v=Math.min(G,E),g=2*E-v),h.rightContX=m,h.rightContY=v,h.controlPoints={low:[p,g],high:[m,v]}}let j=["C",l(I.rightContX,I.plotX,0),l(I.rightContY,I.plotY,0),l(p,b,0),l(g,E,0),b,E];return I.rightContX=I.rightContY=void 0,j}}return u.defaultOptions=o(s.defaultOptions),n.registerSeriesType("spline",u),u}),r(i,"Series/AreaSpline/AreaSplineSeries.js",[i["Series/Spline/SplineSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(n,a,s){let{area:o,area:{prototype:l}}=a.seriesTypes,{extend:u,merge:d}=s;class c extends n{}return c.defaultOptions=d(n.defaultOptions,o.defaultOptions),u(c.prototype,{getGraphPath:l.getGraphPath,getStackPoints:l.getStackPoints,drawGraph:l.drawGraph}),a.registerSeriesType("areaspline",c),c}),r(i,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),r(i,"Series/Column/ColumnSeries.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Series/Column/ColumnSeriesDefaults.js"],i["Core/Globals.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(n,a,s,o,l,u,d){let{animObject:c}=n,{parse:h}=a,{hasTouch:f,noop:p}=o,{clamp:g,defined:m,extend:v,fireEvent:b,isArray:E,isNumber:I,merge:R,pick:N,objectEach:j,relativeLength:V}=d;class H extends l{animate(G){let P,A,T=this,x=this.yAxis,C=x.pos,y=T.options,S=this.chart.inverted,w={},k=S?"translateX":"translateY";G?(w.scaleY=.001,A=g(x.toPixels(y.threshold),C,C+x.len),S?w.translateX=A-x.len:w.translateY=A,T.clipBox&&T.setClip(),T.group.attr(w)):(P=Number(T.group.attr(k)),T.group.animate({scaleY:1},v(c(T.options.animation),{step:function(M,O){T.group&&(w[k]=P+O.pos*(C-P),T.group.attr(w))}})))}init(G,P){super.init.apply(this,arguments);let A=this;(G=A.chart).hasRendered&&G.series.forEach(function(T){T.type===A.type&&(T.isDirty=!0)})}getColumnMetrics(){var K,D;let G=this,P=G.options,A=G.xAxis,T=G.yAxis,x=A.options.reversedStacks,C=A.reversed&&!x||!A.reversed&&x,y={},S,w=0;P.grouping===!1?w=1:G.chart.series.forEach(function(B){let U,Q=B.yAxis,q=B.options;B.type===G.type&&B.reserveSpace()&&T.len===Q.len&&T.pos===Q.pos&&(q.stacking&&q.stacking!=="group"?(y[S=B.stackKey]===void 0&&(y[S]=w++),U=y[S]):q.grouping!==!1&&(U=w++),B.columnIndex=U)});let k=Math.min(Math.abs(A.transA)*(!((K=A.brokenAxis)!=null&&K.hasBreaks)&&((D=A.ordinal)==null?void 0:D.slope)||P.pointRange||A.closestPointRange||A.tickInterval||1),A.len),M=k*P.groupPadding,O=(k-2*M)/(w||1),F=Math.min(P.maxPointWidth||A.len,N(P.pointWidth,O*(1-2*P.pointPadding))),z=(O-F)/2,X=(G.columnIndex||0)+(C?1:0),L=z+(M+X*O-k/2)*(C?-1:1);return G.columnMetrics={width:F,offset:L,paddedWidth:O,columnCount:w},G.columnMetrics}crispCol(G,P,A,T){this.chart;let x=this.borderWidth,C=-(x%2?.5:0),y=x%2?.5:1;this.options.crisp&&(A=Math.round(G+A)+C-(G=Math.round(G)+C));let S=Math.round(P+T)+y,w=.5>=Math.abs(P)&&S>.5;return T=S-(P=Math.round(P)+y),w&&T&&(P-=1,T+=1),{x:G,y:P,width:A,height:T}}adjustForMissingColumns(G,P,A,T){var x;if(!A.isNull&&T.columnCount>1){let C=this.xAxis.series.filter(k=>k.visible).map(k=>k.index),y=0,S=0;j((x=this.xAxis.stacking)==null?void 0:x.stacks,k=>{if(typeof A.x=="number"){let M=k[A.x.toString()];if(M){let O=M.points[this.index];if(E(O)){let F=Object.keys(M.points).filter(z=>!z.match(",")&&M.points[z]&&M.points[z].length>1).map(parseFloat).filter(z=>C.indexOf(z)!==-1).sort((z,X)=>X-z);y=F.indexOf(this.index),S=F.length}}}});let w=(S-1)*T.paddedWidth+P;G=(A.plotX||0)+w/2-P-y*T.paddedWidth}return G}translate(){let G=this,P=G.chart,A=G.options,T=G.dense=G.closestPointRange*G.xAxis.transA<2,x=G.borderWidth=N(A.borderWidth,T?0:1),C=G.xAxis,y=G.yAxis,S=A.threshold,w=N(A.minPointLength,5),k=G.getColumnMetrics(),M=k.width,O=G.pointXOffset=k.offset,F=G.dataMin,z=G.dataMax,X=G.barW=Math.max(M,1+2*x),L=G.translatedThreshold=y.getThreshold(S);P.inverted&&(L-=.5),A.pointPadding&&(X=Math.ceil(X)),l.prototype.translate.apply(G),G.points.forEach(function(K){let D=N(K.yBottom,L),B=999+Math.abs(D),U=K.plotX||0,Q=g(K.plotY,-B,y.len+B);K.stackBox;let q,Z=Math.min(Q,D),$=Math.max(Q,D)-Z,ie=M,te=U+O,Y=X;w&&Math.abs($)<w&&($=w,q=!y.reversed&&!K.negative||y.reversed&&K.negative,I(S)&&I(z)&&K.y===S&&z<=S&&(y.min||0)<S&&(F!==z||(y.max||0)<=S)&&(q=!q,K.negative=!K.negative),Z=Math.abs(Z-L)>w?D-w:L-(q?w:0)),m(K.options.pointWidth)&&(te-=Math.round(((ie=Y=Math.ceil(K.options.pointWidth))-M)/2)),A.centerInCategory&&!A.stacking&&(te=G.adjustForMissingColumns(te,ie,K,k)),K.barX=te,K.pointWidth=ie,K.tooltipPos=P.inverted?[g(y.len+y.pos-P.plotLeft-Q,y.pos-P.plotLeft,y.len+y.pos-P.plotLeft),C.len+C.pos-P.plotTop-te-Y/2,$]:[C.left-P.plotLeft+te+Y/2,g(Q+y.pos-P.plotTop,y.pos-P.plotTop,y.len+y.pos-P.plotTop),$],K.shapeType=G.pointClass.prototype.shapeType||"roundedRect",K.shapeArgs=G.crispCol(te,K.isNull?L:Z,Y,K.isNull?0:$)}),b(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(G,P){let A=this.options,T=this.pointAttrToOptions||{},x=T.stroke||"borderColor",C=T["stroke-width"]||"borderWidth",y,S,w,k=G&&G.color||this.color,M=G&&G[x]||A[x]||k,O=G&&G.options.dashStyle||A.dashStyle,F=G&&G[C]||A[C]||this[C]||0,z=N(G&&G.opacity,A.opacity,1);G&&this.zones.length&&(S=G.getZone(),k=G.options.color||S&&(S.color||G.nonZonedColor)||this.color,S&&(M=S.borderColor||M,O=S.dashStyle||O,F=S.borderWidth||F)),P&&G&&(w=(y=R(A.states[P],G.options.states&&G.options.states[P]||{})).brightness,k=y.color||w!==void 0&&h(k).brighten(y.brightness).get()||k,M=y[x]||M,F=y[C]||F,O=y.dashStyle||O,z=N(y.opacity,z));let X={fill:k,stroke:M,"stroke-width":F,opacity:z};return O&&(X.dashstyle=O),X}drawPoints(G=this.points){let P,A=this,T=this.chart,x=A.options,C=T.renderer,y=x.animationLimit||250;G.forEach(function(S){let w=S.plotY,k=S.graphic,M=!!k,O=k&&T.pointCount<y?"animate":"attr";I(w)&&S.y!==null?(P=S.shapeArgs,k&&S.hasNewShapeType()&&(k=k.destroy()),A.enabledDataSorting&&(S.startXPos=A.xAxis.reversed?-(P&&P.width||0):A.xAxis.width),!k&&(S.graphic=k=C[S.shapeType](P).add(S.group||A.group),k&&A.enabledDataSorting&&T.hasRendered&&T.pointCount<y&&(k.attr({x:S.startXPos}),M=!0,O="animate")),k&&M&&k[O](R(P)),T.styledMode||k[O](A.pointAttribs(S,S.selected&&"select")).shadow(S.allowShadow!==!1&&x.shadow),k&&(k.addClass(S.getClassName(),!0),k.attr({visibility:S.visible?"inherit":"hidden"}))):k&&(S.graphic=k.destroy())})}drawTracker(G=this.points){let P,A=this,T=A.chart,x=T.pointer,C=function(y){let S=x.getPointFromEvent(y);S!==void 0&&A.options.enableMouseTracking&&(x.isDirectTouch=!0,S.onMouseOver(y))};G.forEach(function(y){P=E(y.dataLabels)?y.dataLabels:y.dataLabel?[y.dataLabel]:[],y.graphic&&(y.graphic.element.point=y),P.forEach(function(S){S.div?S.div.point=y:S.element.point=y})}),A._hasTracking||(A.trackerGroups.forEach(function(y){A[y]&&(A[y].addClass("highcharts-tracker").on("mouseover",C).on("mouseout",function(S){x.onTrackerMouseOut(S)}),f&&A[y].on("touchstart",C),!T.styledMode&&A.options.cursor&&A[y].css({cursor:A.options.cursor}))}),A._hasTracking=!0),b(this,"afterDrawTracker")}remove(){let G=this,P=G.chart;P.hasRendered&&P.series.forEach(function(A){A.type===G.type&&(A.isDirty=!0)}),l.prototype.remove.apply(G,arguments)}}return H.defaultOptions=R(l.defaultOptions,s),v(H.prototype,{directTouch:!0,getSymbol:p,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),u.registerSeriesType("column",H),H}),r(i,"Core/Series/DataLabel.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Templating.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(n,a,s,o){var l;let{getDeferredAnimation:u}=n,{format:d}=a,{composed:c}=s,{defined:h,extend:f,fireEvent:p,isArray:g,isString:m,merge:v,objectEach:b,pick:E,pInt:I,pushUnique:R,splat:N}=o;return function(j){function V(){return x(this).some(y=>y==null?void 0:y.enabled)}function H(y,S,w,k,M){let O=this,F=this.chart,z=this.isCartesian&&F.inverted,X=this.enabledDataSorting,L=y.plotX,K=y.plotY,D=w.rotation,B=w.align,U=h(L)&&h(K)&&F.isInsidePlot(L,Math.round(K),{inverted:z,paneCoordinates:!0,series:O}),Q=ee=>{X&&O.xAxis&&!ie&&O.setDataLabelStartPos(y,S,M,U,ee)},q,Z,$,ie=E(w.overflow,X?"none":"justify")==="justify",te=this.visible&&y.visible!==!1&&h(L)&&(y.series.forceDL||X&&!ie||U||E(w.inside,!!this.options.stacking)&&k&&F.isInsidePlot(L,z?k.x+1:k.y+k.height-1,{inverted:z,paneCoordinates:!0,series:O})),Y=y.pos();if(te&&Y){D&&S.attr({align:B});let ee=S.getBBox(!0),re=[0,0];if(q=F.renderer.fontMetrics(S).b,k=f({x:Y[0],y:Math.round(Y[1]),width:0,height:0},k),f(w,{width:ee.width,height:ee.height}),D?(ie=!1,Z=F.renderer.rotCorr(q,D),$={x:k.x+(w.x||0)+k.width/2+Z.x,y:k.y+(w.y||0)+{top:0,middle:.5,bottom:1}[w.verticalAlign]*k.height},re=[ee.x-Number(S.attr("x")),ee.y-Number(S.attr("y"))],Q($),S[M?"attr":"animate"]($)):(Q(k),S.align(w,void 0,k),$=S.alignAttr),ie&&k.height>=0)this.justifyDataLabel(S,w,$,ee,k,M);else if(E(w.crop,!0)){let{x:ne,y:ue}=$;ne+=re[0],ue+=re[1],te=F.isInsidePlot(ne,ue,{paneCoordinates:!0,series:O})&&F.isInsidePlot(ne+ee.width,ue+ee.height,{paneCoordinates:!0,series:O})}w.shape&&!D&&S[M?"attr":"animate"]({anchorX:Y[0],anchorY:Y[1]})}M&&X&&(S.placed=!1),te||X&&!ie?S.show():(S.hide(),S.placed=!1)}function W(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function G(y){let S=this.hasRendered||0,w=this.initDataLabelsGroup().attr({opacity:+S});return!S&&w&&(this.visible&&w.show(),this.options.animation?w.animate({opacity:1},y):w.attr({opacity:1})),w}function P(y){var U;let S;y=y||this.points;let w=this,k=w.chart,M=w.options,O=k.renderer,{backgroundColor:F,plotBackgroundColor:z}=k.options.chart,X=O.getContrast(m(z)&&z||m(F)&&F||"#000000"),L=x(w),{animation:K,defer:D}=L[0],B=D?u(k,K,w):{defer:0,duration:0};p(this,"drawDataLabels"),(U=w.hasDataLabels)!=null&&U.call(w)&&(S=this.initDataLabels(B),y.forEach(Q=>{var $,ie;let q=Q.dataLabels||[];N(T(L,Q.dlOptions||(($=Q.options)==null?void 0:$.dataLabels))).forEach((te,Y)=>{var _e;let ee=te.enabled&&Q.visible&&(!Q.isNull||Q.dataLabelOnNull)&&function(Se,Ie){let Ce=Ie.filter;if(Ce){let Te=Ce.operator,Me=Se[Ce.property],Pe=Ce.value;return Te===">"&&Me>Pe||Te==="<"&&Me<Pe||Te===">="&&Me>=Pe||Te==="<="&&Me<=Pe||Te==="=="&&Me==Pe||Te==="==="&&Me===Pe||Te==="!="&&Me!=Pe||Te==="!=="&&Me!==Pe}return!0}(Q,te),{backgroundColor:re,borderColor:ne,distance:ue,style:le={}}=te,pe,se,ae,de,fe={},me=q[Y],ge=!me,ye;if(ee&&(se=E(te[Q.formatPrefix+"Format"],te.format),pe=Q.getLabelConfig(),ae=h(se)?d(se,pe,k):(te[Q.formatPrefix+"Formatter"]||te.formatter).call(pe,te),de=te.rotation,!k.styledMode&&(le.color=E(te.color,le.color,m(w.color)?w.color:void 0,"#000000"),le.color==="contrast"?(re!=="none"&&(ye=re),Q.contrastColor=O.getContrast(ye!=="auto"&&ye||Q.color||w.color),le.color=ye||!h(ue)&&te.inside||0>I(ue||0)||M.stacking?Q.contrastColor:X):delete Q.contrastColor,M.cursor&&(le.cursor=M.cursor)),fe={r:te.borderRadius||0,rotation:de,padding:te.padding,zIndex:1},k.styledMode||(fe.fill=re==="auto"?Q.color:re,fe.stroke=ne==="auto"?Q.color:ne,fe["stroke-width"]=te.borderWidth),b(fe,(Se,Ie)=>{Se===void 0&&delete fe[Ie]})),!me||ee&&h(ae)&&!!me.div==!!te.useHTML&&(me.rotation&&te.rotation||me.rotation===te.rotation)||(me=void 0,ge=!0),ee&&h(ae)&&(me?fe.text=ae:(me=de?O.text(ae,0,0,te.useHTML).addClass("highcharts-data-label"):O.label(ae,0,0,te.shape,void 0,void 0,te.useHTML,void 0,"data-label"))&&me.addClass(" highcharts-data-label-color-"+Q.colorIndex+" "+(te.className||"")+(te.useHTML?" highcharts-tracker":"")),me)){me.options=te,me.attr(fe),k.styledMode||me.css(le).shadow(te.shadow);let Se=te[Q.formatPrefix+"TextPath"]||te.textPath;Se&&!te.useHTML&&(me.setTextPath(((_e=Q.getDataLabelPath)==null?void 0:_e.call(Q,me))||Q.graphic,Se),Q.dataLabelPath&&!Se.enabled&&(Q.dataLabelPath=Q.dataLabelPath.destroy())),me.added||me.add(S),w.alignDataLabel(Q,me,te,void 0,ge),me.isActive=!0,q[Y]&&q[Y]!==me&&q[Y].destroy(),q[Y]=me}});let Z=q.length;for(;Z--;)q[Z]&&q[Z].isActive?q[Z].isActive=!1:((ie=q[Z])==null||ie.destroy(),q.splice(Z,1));Q.dataLabel=q[0],Q.dataLabels=q})),p(this,"afterDrawDataLabels")}function A(y,S,w,k,M,O){let F=this.chart,z=S.align,X=S.verticalAlign,L=y.box?0:y.padding||0,{x:K=0,y:D=0}=S,B,U;return(B=(w.x||0)+L)<0&&(z==="right"&&K>=0?(S.align="left",S.inside=!0):K-=B,U=!0),(B=(w.x||0)+k.width-L)>F.plotWidth&&(z==="left"&&K<=0?(S.align="right",S.inside=!0):K+=F.plotWidth-B,U=!0),(B=w.y+L)<0&&(X==="bottom"&&D>=0?(S.verticalAlign="top",S.inside=!0):D-=B,U=!0),(B=(w.y||0)+k.height-L)>F.plotHeight&&(X==="top"&&D<=0?(S.verticalAlign="bottom",S.inside=!0):D+=F.plotHeight-B,U=!0),U&&(S.x=K,S.y=D,y.placed=!O,y.align(S,void 0,M)),U}function T(y,S){let w=[],k;if(g(y)&&!g(S))w=y.map(function(M){return v(M,S)});else if(g(S)&&!g(y))w=S.map(function(M){return v(y,M)});else if(g(y)||g(S)){if(g(y)&&g(S))for(k=Math.max(y.length,S.length);k--;)w[k]=v(y[k],S[k])}else w=v(y,S);return w}function x(y){var w,k;let S=y.chart.options.plotOptions;return N(T(T((w=S==null?void 0:S.series)==null?void 0:w.dataLabels,(k=S==null?void 0:S[y.type])==null?void 0:k.dataLabels),y.options.dataLabels))}function C(y,S,w,k,M){let O=this.chart,F=O.inverted,z=this.xAxis,X=z.reversed,L=((F?S.height:S.width)||0)/2,K=y.pointWidth,D=K?K/2:0;S.startXPos=F?M.x:X?-L-D:z.width-L+D,S.startYPos=F?X?this.yAxis.height-L+D:-L-D:M.y,k?S.visibility==="hidden"&&(S.show(),S.attr({opacity:0}).animate({opacity:1})):S.attr({opacity:1}).animate({opacity:0},void 0,S.hide),O.hasRendered&&(w&&S.attr({x:S.startXPos,y:S.startYPos}),S.placed=!0)}j.compose=function y(S){if(R(c,y)){let w=S.prototype;w.initDataLabelsGroup=W,w.initDataLabels=G,w.alignDataLabel=H,w.drawDataLabels=P,w.justifyDataLabel=A,w.setDataLabelStartPos=C,w.hasDataLabels=V}}}(l||(l={})),l}),r(i,"Series/Column/ColumnDataLabel.js",[i["Core/Series/DataLabel.js"],i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(n,a,s,o){var l;let{composed:u}=a,{series:d}=s,{merge:c,pick:h,pushUnique:f}=o;return function(p){function g(m,v,b,E,I){let R=this.chart.inverted,N=m.series,j=(N.xAxis?N.xAxis.len:this.chart.plotSizeX)||0,V=(N.yAxis?N.yAxis.len:this.chart.plotSizeY)||0,H=m.dlBox||m.shapeArgs,W=h(m.below,m.plotY>h(this.translatedThreshold,V)),G=h(b.inside,!!this.options.stacking);if(H){if(E=c(H),!(b.overflow==="allow"&&b.crop===!1)){E.y<0&&(E.height+=E.y,E.y=0);let P=E.y+E.height-V;P>0&&P<E.height&&(E.height-=P)}R&&(E={x:V-E.y-E.height,y:j-E.x-E.width,width:E.height,height:E.width}),G||(R?(E.x+=W?0:E.width,E.width=0):(E.y+=W?E.height:0,E.height=0))}b.align=h(b.align,!R||G?"center":W?"right":"left"),b.verticalAlign=h(b.verticalAlign,R||G?"middle":W?"top":"bottom"),d.prototype.alignDataLabel.call(this,m,v,b,E,I),b.inside&&m.contrastColor&&v.css({color:m.contrastColor})}p.compose=function m(v){n.compose(d),f(u,m)&&(v.prototype.alignDataLabel=g)}}(l||(l={})),l}),r(i,"Series/Bar/BarSeries.js",[i["Series/Column/ColumnSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(n,a,s){let{extend:o,merge:l}=s;class u extends n{}return u.defaultOptions=l(n.defaultOptions,{}),o(u.prototype,{inverted:!0}),a.registerSeriesType("bar",u),u}),r(i,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),r(i,"Series/Scatter/ScatterSeries.js",[i["Series/Scatter/ScatterSeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(n,a,s){let{column:o,line:l}=a.seriesTypes,{addEvent:u,extend:d,merge:c}=s;class h extends l{applyJitter(){let p=this,g=this.options.jitter,m=this.points.length;g&&this.points.forEach(function(v,b){["x","y"].forEach(function(E,I){let R,N="plot"+E.toUpperCase(),j,V,H;g[E]&&!v.isNull&&(R=p[E+"Axis"],H=g[E]*R.transA,R&&!R.isLog&&(j=Math.max(0,v[N]-H),V=Math.min(R.len,v[N]+H),v[N]=j+(V-j)*function(W){let G=1e4*Math.sin(W);return G-Math.floor(G)}(b+I*m),E==="x"&&(v.clientX=v.plotX)))})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return h.defaultOptions=c(l.defaultOptions,n),d(h.prototype,{drawTracker:o.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),u(h,"afterTranslate",function(){this.applyJitter()}),a.registerSeriesType("scatter",h),h}),r(i,"Series/CenteredUtilities.js",[i["Core/Globals.js"],i["Core/Series/Series.js"],i["Core/Utilities.js"]],function(n,a,s){var o,l;let{deg2rad:u}=n,{fireEvent:d,isNumber:c,pick:h,relativeLength:f}=s;return(l=o||(o={})).getCenter=function(){let p=this.options,g=this.chart,m=2*(p.slicedOffset||0),v=g.plotWidth-2*m,b=g.plotHeight-2*m,E=p.center,I=Math.min(v,b),R=p.thickness,N,j=p.size,V=p.innerSize||0,H,W;typeof j=="string"&&(j=parseFloat(j)),typeof V=="string"&&(V=parseFloat(V));let G=[h(E[0],"50%"),h(E[1],"50%"),h(j&&j<0?void 0:p.size,"100%"),h(V&&V<0?void 0:p.innerSize||0,"0%")];for(!g.angular||this instanceof a||(G[3]=0),H=0;H<4;++H)W=G[H],N=H<2||H===2&&/%$/.test(W),G[H]=f(W,[v,b,I,G[2]][H])+(N?m:0);return G[3]>G[2]&&(G[3]=G[2]),c(R)&&2*R<G[2]&&R>0&&(G[3]=G[2]-2*R),d(this,"afterGetCenter",{positions:G}),G},l.getStartAndEndRadians=function(p,g){let m=c(p)?p:0,v=c(g)&&g>m&&g-m<360?g:m+360;return{start:u*(m+-90),end:u*(v+-90)}},o}),r(i,"Series/Pie/PiePoint.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],function(n,a,s){let{setAnimation:o}=n,{addEvent:l,defined:u,extend:d,isNumber:c,isString:h,pick:f,relativeLength:p}=s;class g extends a{getConnectorPath(v){let b=v.dataLabelPosition,E=v.options||{},I=E.connectorShape,R=this.connectorShapes[I]||I;return b&&R.call(this,{...b.computed,alignment:b.alignment},b.connectorPosition,E)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(v){let b=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(b.x,b.y,b.r+v,b.r+v,{innerR:b.r-1,start:b.start,end:b.end,borderRadius:b.borderRadius})}constructor(v,b,E){super(v,b,E),this.half=0,this.name??(this.name="Slice");let I=R=>{this.slice(R.type==="select")};l(this,"select",I),l(this,"unselect",I)}isValid(){return c(this.y)&&this.y>=0}setVisible(v,b=!0){v!==this.visible&&this.update({visible:v??!this.visible},b,void 0,!1)}slice(v,b,E){let I=this.series,R=I.chart;o(E,R),b=f(b,!0),this.sliced=this.options.sliced=v=u(v)?v:!this.sliced,I.options.data[I.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return d(g.prototype,{connectorShapes:{fixedOffset:function(m,v,b){let E=v.breakAt,I=v.touchingSliceAt,R=b.softConnector?["C",m.x+(m.alignment==="left"?-5:5),m.y,2*E.x-I.x,2*E.y-I.y,E.x,E.y]:["L",E.x,E.y];return[["M",m.x,m.y],R,["L",I.x,I.y]]},straight:function(m,v){let b=v.touchingSliceAt;return[["M",m.x,m.y],["L",b.x,b.y]]},crookedLine:function(m,v,b){let{breakAt:E,touchingSliceAt:I}=v,{series:R}=this,[N,j,V]=R.center,H=V/2,{plotLeft:W,plotWidth:G}=R.chart,P=m.alignment==="left",{x:A,y:T}=m,x=E.x;if(b.crookDistance){let y=p(b.crookDistance,1);x=P?N+H+(G+W-N-H)*(1-y):W+(N-H)*y}else x=N+(j-T)*Math.tan((this.angle||0)-Math.PI/2);let C=[["M",A,T]];return(P?x<=A&&x>=E.x:x>=A&&x<=E.x)&&C.push(["L",x,T]),C.push(["L",E.x,E.y],["L",I.x,I.y]),C}}}),g}),r(i,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),r(i,"Series/Pie/PieSeries.js",[i["Series/CenteredUtilities.js"],i["Series/Column/ColumnSeries.js"],i["Core/Globals.js"],i["Series/Pie/PiePoint.js"],i["Series/Pie/PieSeriesDefaults.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Utilities.js"]],function(n,a,s,o,l,u,d,c,h){let{getStartAndEndRadians:f}=n,{noop:p}=s,{clamp:g,extend:m,fireEvent:v,merge:b,pick:E,relativeLength:I,splat:R}=h;class N extends u{animate(V){let H=this,W=H.points,G=H.startAngleRad;V||W.forEach(function(P){let A=P.graphic,T=P.shapeArgs;A&&T&&(A.attr({r:E(P.startR,H.center&&H.center[3]/2),start:G,end:G}),A.animate({r:T.r,start:T.start,end:T.end},H.options.animation))})}drawEmpty(){let V,H,W=this.startAngleRad,G=this.endAngleRad,P=this.options;this.total===0&&this.center?(V=this.center[0],H=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(V,H,this.center[1]/2,0,W,G).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:c.arc(V,H,this.center[2]/2,0,{start:W,end:G,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":P.borderWidth,fill:P.fillColor||"none",stroke:P.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let V=this.chart.renderer;this.points.forEach(function(H){H.graphic&&H.hasNewShapeType()&&(H.graphic=H.graphic.destroy()),H.graphic||(H.graphic=V[H.shapeType](H.shapeArgs).add(H.series.group),H.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(V,H,W,G){let P=this.center,A=this.radii?this.radii[W.index]||0:P[2]/2,T=G.dataLabelPosition,x=(T==null?void 0:T.distance)||0,C=Math.asin(g((V-P[1])/(A+x),-1,1));return P[0]+(H?-1:1)*(Math.cos(C)*(A+x))+(x>0?(H?-1:1)*(G.padding||0):0)}hasData(){return!!this.processedXData.length}redrawPoints(){let V,H,W,G,P=this,A=P.chart;this.drawEmpty(),P.group&&!A.styledMode&&P.group.shadow(P.options.shadow),P.points.forEach(function(T){let x={};H=T.graphic,!T.isNull&&H?(G=T.shapeArgs,V=T.getTranslate(),A.styledMode||(W=P.pointAttribs(T,T.selected&&"select")),T.delayedRendering?(H.setRadialReference(P.center).attr(G).attr(V),A.styledMode||H.attr(W).attr({"stroke-linejoin":"round"}),T.delayedRendering=!1):(H.setRadialReference(P.center),A.styledMode||b(!0,x,W),b(!0,x,G,V),H.animate(x)),H.attr({visibility:T.visible?"inherit":"hidden"}),H.addClass(T.getClassName(),!0)):H&&(T.graphic=H.destroy())})}sortByAngle(V,H){V.sort(function(W,G){return W.angle!==void 0&&(G.angle-W.angle)*H})}translate(V){v(this,"translate"),this.generatePoints();let H=this.options,W=H.slicedOffset,G=f(H.startAngle,H.endAngle),P=this.startAngleRad=G.start,A=this.endAngleRad=G.end,T=A-P,x=this.points,C=H.ignoreHiddenPoint,y=x.length,S,w,k,M,O,F,z,X=0;for(V||(this.center=V=this.getCenter()),F=0;F<y;F++){z=x[F],S=P+X*T,z.isValid()&&(!C||z.visible)&&(X+=z.percentage/100),w=P+X*T;let L={x:V[0],y:V[1],r:V[2]/2,innerR:V[3]/2,start:Math.round(1e3*S)/1e3,end:Math.round(1e3*w)/1e3};z.shapeType="arc",z.shapeArgs=L,(k=(w+S)/2)>1.5*Math.PI?k-=2*Math.PI:k<-Math.PI/2&&(k+=2*Math.PI),z.slicedTranslation={translateX:Math.round(Math.cos(k)*W),translateY:Math.round(Math.sin(k)*W)},M=Math.cos(k)*V[2]/2,O=Math.sin(k)*V[2]/2,z.tooltipPos=[V[0]+.7*M,V[1]+.7*O],z.half=k<-Math.PI/2||k>Math.PI/2?1:0,z.angle=k}v(this,"afterTranslate")}updateTotals(){let V=this.points,H=V.length,W=this.options.ignoreHiddenPoint,G,P,A=0;for(G=0;G<H;G++)(P=V[G]).isValid()&&(!W||P.visible)&&(A+=P.y);for(G=0,this.total=A;G<H;G++)(P=V[G]).percentage=A>0&&(P.visible||!W)?P.y/A*100:0,P.total=A}}return N.defaultOptions=b(u.defaultOptions,l),m(N.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:a.prototype.drawTracker,getCenter:n.getCenter,getSymbol:p,isCartesian:!1,noSharedTooltip:!0,pointAttribs:a.prototype.pointAttribs,pointClass:o,requireSorting:!1,searchPoint:p,trackerGroups:["group","dataLabelsGroup"]}),d.registerSeriesType("pie",N),N}),r(i,"Series/Pie/PieDataLabel.js",[i["Core/Series/DataLabel.js"],i["Core/Globals.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(n,a,s,o,l){var u;let{composed:d,noop:c}=a,{distribute:h}=s,{series:f}=o,{arrayMax:p,clamp:g,defined:m,pick:v,pushUnique:b,relativeLength:E}=l;return function(I){let R={radialDistributionY:function(W,G){var P;return(((P=G.dataLabelPosition)==null?void 0:P.top)||0)+W.distributeBox.pos},radialDistributionX:function(W,G,P,A,T){let x=T.dataLabelPosition;return W.getX(P<((x==null?void 0:x.top)||0)+2||P>((x==null?void 0:x.bottom)||0)-2?A:P,G.half,G,T)},justify:function(W,G,P,A){var T;return A[0]+(W.half?-1:1)*(P+(((T=G.dataLabelPosition)==null?void 0:T.distance)||0))},alignToPlotEdges:function(W,G,P,A){let T=W.getBBox().width;return G?T+A:P-T-A},alignToConnectors:function(W,G,P,A){let T=0,x;return W.forEach(function(C){(x=C.dataLabel.getBBox().width)>T&&(T=x)}),G?T+A:P-T-A}};function N(W,G){let{center:P,options:A}=this,T=P[2]/2,x=W.angle||0,C=Math.cos(x),y=Math.sin(x),S=P[0]+C*T,w=P[1]+y*T,k=Math.min((A.slicedOffset||0)+(A.borderWidth||0),G/5);return{natural:{x:S+C*G,y:w+y*G},computed:{},alignment:G<0?"center":W.half?"right":"left",connectorPosition:{breakAt:{x:S+C*k,y:w+y*k},touchingSliceAt:{x:S,y:w}},distance:G}}function j(){var K;let W=this,G=W.points,P=W.chart,A=P.plotWidth,T=P.plotHeight,x=P.plotLeft,C=Math.round(P.chartWidth/3),y=W.center,S=y[2]/2,w=y[1],k=[[],[]],M=[0,0,0,0],O=W.dataLabelPositioners,F,z,X,L=0;W.visible&&((K=W.hasDataLabels)!=null&&K.call(W))&&(G.forEach(D=>{(D.dataLabels||[]).forEach(B=>{B.shortened&&(B.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),B.shortened=!1)})}),f.prototype.drawDataLabels.apply(W),G.forEach(D=>{(D.dataLabels||[]).forEach((B,U)=>{var $;let Q=y[2]/2,q=B.options,Z=E((q==null?void 0:q.distance)||0,Q);U===0&&k[D.half].push(D),!m(($=q==null?void 0:q.style)==null?void 0:$.width)&&B.getBBox().width>C&&(B.css({width:Math.round(.7*C)+"px"}),B.shortened=!0),B.dataLabelPosition=this.getDataLabelPosition(D,Z),L=Math.max(L,Z)})}),k.forEach((D,B)=>{let U=D.length,Q=[],q,Z,$=0,ie;U&&(W.sortByAngle(D,B-.5),L>0&&(q=Math.max(0,w-S-L),Z=Math.min(w+S+L,P.plotHeight),D.forEach(te=>{(te.dataLabels||[]).forEach((Y,ee)=>{var ne;let re=Y.dataLabelPosition;re&&re.distance>0&&(re.top=Math.max(0,w-S-re.distance),re.bottom=Math.min(w+S+re.distance,P.plotHeight),$=Y.getBBox().height||21,te.distributeBox={target:(((ne=Y.dataLabelPosition)==null?void 0:ne.natural.y)||0)-re.top+$/2,size:$,rank:te.y},Q.push(te.distributeBox))})}),h(Q,ie=Z+$-q,ie/5)),D.forEach(te=>{(te.dataLabels||[]).forEach(Y=>{let ee=Y.options||{},re=te.distributeBox,ne=Y.dataLabelPosition,ue=(ne==null?void 0:ne.natural.y)||0,le=ee.connectorPadding||0,pe=0,se=ue,ae="inherit";if(ne){if(Q&&m(re)&&ne.distance>0&&(re.pos===void 0?ae="hidden":(X=re.size,se=O.radialDistributionY(te,Y))),ee.justify)pe=O.justify(te,Y,S,y);else switch(ee.alignTo){case"connectors":pe=O.alignToConnectors(D,B,A,x);break;case"plotEdges":pe=O.alignToPlotEdges(Y,B,A,x);break;default:pe=O.radialDistributionX(W,te,se,ue,Y)}if(ne.attribs={visibility:ae,align:ne.alignment},ne.posAttribs={x:pe+(ee.x||0)+({left:le,right:-le}[ne.alignment]||0),y:se+(ee.y||0)-Y.getBBox().height/2},ne.computed.x=pe,ne.computed.y=se,v(ee.crop,!0)){let de;pe-(z=Y.getBBox().width)<le&&B===1?(de=Math.round(z-pe+le),M[3]=Math.max(de,M[3])):pe+z>A-le&&B===0&&(de=Math.round(pe+z-A+le),M[1]=Math.max(de,M[1])),se-X/2<0?M[0]=Math.max(Math.round(-se+X/2),M[0]):se+X/2>T&&(M[2]=Math.max(Math.round(se+X/2-T),M[2])),ne.sideOverflow=de}}})}))}),(p(M)===0||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),this.points.forEach(D=>{(D.dataLabels||[]).forEach(B=>{var Z;let{connectorColor:U,connectorWidth:Q=1}=B.options||{},q=B.dataLabelPosition;if(Q){let $;F=B.connector,q&&q.distance>0?($=!F,F||(B.connector=F=P.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+D.colorIndex+(D.className?" "+D.className:"")).add(W.dataLabelsGroup)),P.styledMode||F.attr({"stroke-width":Q,stroke:U||D.color||"#666666"}),F[$?"attr":"animate"]({d:D.getConnectorPath(B)}),F.attr({visibility:(Z=q.attribs)==null?void 0:Z.visibility})):F&&(B.connector=F.destroy())}})})))}function V(){this.points.forEach(W=>{(W.dataLabels||[]).forEach(G=>{var A;let P=G.dataLabelPosition;P?(P.sideOverflow&&(G.css({width:Math.max(G.getBBox().width-P.sideOverflow,0)+"px",textOverflow:(((A=G.options)==null?void 0:A.style)||{}).textOverflow||"ellipsis"}),G.shortened=!0),G.attr(P.attribs),G[G.moved?"animate":"attr"](P.posAttribs),G.moved=!0):G&&G.attr({y:-9999})}),delete W.distributeBox},this)}function H(W){let G=this.center,P=this.options,A=P.center,T=P.minSize||80,x=T,C=P.size!==null;return!C&&(A[0]!==null?x=Math.max(G[2]-Math.max(W[1],W[3]),T):(x=Math.max(G[2]-W[1]-W[3],T),G[0]+=(W[3]-W[1])/2),A[1]!==null?x=g(x,T,G[2]-Math.max(W[0],W[2])):(x=g(x,T,G[2]-W[0]-W[2]),G[1]+=(W[0]-W[2])/2),x<G[2]?(G[2]=x,G[3]=Math.min(P.thickness?Math.max(0,x-2*P.thickness):Math.max(0,E(P.innerSize||0,x)),x),this.translate(G),this.drawDataLabels&&this.drawDataLabels()):C=!0),C}I.compose=function W(G){if(n.compose(f),b(d,W)){let P=G.prototype;P.dataLabelPositioners=R,P.alignDataLabel=c,P.drawDataLabels=j,P.getDataLabelPosition=N,P.placeDataLabels=V,P.verifyDataLabelOverflow=H}}}(u||(u={})),u}),r(i,"Extensions/OverlappingDataLabels.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(n,a){let{composed:s}=n,{addEvent:o,fireEvent:l,isNumber:u,objectEach:d,pick:c,pushUnique:h}=a;function f(m){let v=m.length,b=this.renderer,E=(G,P)=>!(P.x>=G.x+G.width||P.x+P.width<=G.x||P.y>=G.y+G.height||P.y+P.height<=G.y),I=G=>{let P=G.box?0:G.padding||0,A,T,x,C=0,y=0,S,w;if(G&&(!G.alignAttr||G.placed))return A=G.alignAttr||{x:G.attr("x"),y:G.attr("y")},T=G.parentGroup,G.width||(x=G.getBBox(),G.width=x.width,G.height=x.height,C=b.fontMetrics(G.element).h),S=G.width-2*P,(w={left:"0",center:"0.5",right:"1"}[G.alignValue])?y=+w*S:u(G.x)&&Math.round(G.x)!==G.translateX&&(y=G.x-(G.translateX||0)),{x:A.x+(T.translateX||0)+P-(y||0),y:A.y+(T.translateY||0)+P-C,width:G.width-2*P,height:(G.height||0)-2*P}},R,N,j,V,H,W=!1;for(let G=0;G<v;G++)(R=m[G])&&(R.oldOpacity=R.opacity,R.newOpacity=1,R.absoluteBox=I(R));m.sort((G,P)=>(P.labelrank||0)-(G.labelrank||0));for(let G=0;G<v;++G){V=(N=m[G])&&N.absoluteBox;for(let P=G+1;P<v;++P)H=(j=m[P])&&j.absoluteBox,V&&H&&N!==j&&N.newOpacity!==0&&j.newOpacity!==0&&N.visibility!=="hidden"&&j.visibility!=="hidden"&&E(V,H)&&((N.labelrank<j.labelrank?N:j).newOpacity=0)}for(let G of m)p(G,this)&&(W=!0);W&&l(this,"afterHideAllOverlappingLabels")}function p(m,v){let b,E=!1;return m&&(b=m.newOpacity,m.oldOpacity!==b&&(m.hasClass("highcharts-data-label")?(m[b?"removeClass":"addClass"]("highcharts-data-label-hidden"),E=!0,m[m.isOld?"animate":"attr"]({opacity:b},void 0,function(){v.styledMode||m.css({pointerEvents:b?"auto":"none"})}),l(v,"afterHideOverlappingLabel")):m.attr({opacity:b})),m.isOld=!0),E}function g(){var b;let m=this,v=[];for(let E of m.labelCollectors||[])v=v.concat(E());for(let E of m.yAxis||[])E.stacking&&E.options.stackLabels&&!E.options.stackLabels.allowOverlap&&d(E.stacking.stacks,I=>{d(I,R=>{R.label&&v.push(R.label)})});for(let E of m.series||[])if(E.visible&&((b=E.hasDataLabels)!=null&&b.call(E))){let I=R=>{for(let N of R)N.visible&&(N.dataLabels||[]).forEach(j=>{var H;let V=j.options||{};j.labelrank=c(V.labelrank,N.labelrank,(H=N.shapeArgs)==null?void 0:H.height),V.allowOverlap??Number(V.distance)>0?(j.oldOpacity=j.opacity,j.newOpacity=1,p(j,m)):v.push(j)})};I(E.nodes||[]),I(E.points)}this.hideOverlappingLabels(v)}return{compose:function m(v){if(h(s,m)){let b=v.prototype;b.hideOverlappingLabels=f,o(v,"render",g)}}}}),r(i,"Extensions/BorderRadius.js",[i["Core/Defaults.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(n,a,s){let{defaultOptions:o}=n,{composed:l,noop:u}=a,{addEvent:d,extend:c,isObject:h,merge:f,pushUnique:p,relativeLength:g}=s,m={radius:0,scope:"stack",where:void 0},v=u,b=u;function E(V,H,W,G,P={}){let A=v(V,H,W,G,P),{innerR:T=0,r:x=W,start:C=0,end:y=0}=P;if(P.open||!P.borderRadius)return A;let S=y-C,w=Math.sin(S/2),k=Math.max(Math.min(g(P.borderRadius||0,x-T),(x-T)/2,x*w/(1+w)),0),M=Math.min(k,2*(S/Math.PI)*T),O=A.length-1;for(;O--;)(function(F,z,X){let L,K,D,B=F[z],U=F[z+1];if(U[0]==="Z"&&(U=F[0]),(B[0]==="M"||B[0]==="L")&&U[0]==="A"?(L=B,K=U,D=!0):B[0]==="A"&&(U[0]==="M"||U[0]==="L")&&(L=U,K=B),L&&K&&K.params){let Q=K[1],q=K[5],Z=K.params,{start:$,end:ie,cx:te,cy:Y}=Z,ee=q?Q-X:Q+X,re=ee?Math.asin(X/ee):0,ne=q?re:-re,ue=Math.cos(re)*ee;D?(Z.start=$+ne,L[1]=te+ue*Math.cos($),L[2]=Y+ue*Math.sin($),F.splice(z+1,0,["A",X,X,0,0,1,te+Q*Math.cos(Z.start),Y+Q*Math.sin(Z.start)])):(Z.end=ie-ne,K[6]=te+Q*Math.cos(Z.end),K[7]=Y+Q*Math.sin(Z.end),F.splice(z+1,0,["A",X,X,0,0,1,te+ue*Math.cos(ie),Y+ue*Math.sin(ie)])),K[4]=Math.abs(Z.end-Z.start)<Math.PI?0:1}})(A,O,O>1?M:k);return A}function I(){var V,H;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:W,yAxis:G}=this,P=W.stacking==="percent",A=(H=(V=o.plotOptions)==null?void 0:V[this.type])==null?void 0:H.borderRadius,T=R(W.borderRadius,h(A)?A:{}),x=G.options.reversed;for(let C of this.points){let{shapeArgs:y}=C;if(C.shapeType==="roundedRect"&&y){let{width:S=0,height:w=0,y:k=0}=y,M=k,O=w;if(T.scope==="stack"&&C.stackTotal){let L=G.translate(P?100:C.stackTotal,!1,!0,!1,!0),K=G.translate(W.threshold||0,!1,!0,!1,!0),D=this.crispCol(0,Math.min(L,K),0,Math.abs(L-K));M=D.y,O=D.height}let F=(C.negative?-1:1)*(x?-1:1)==-1,z=T.where;!z&&this.is("waterfall")&&Math.abs((C.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(z="all"),z||(z="end");let X=Math.min(g(T.radius,S),S/2,z==="all"?w/2:1/0)||0;z==="end"&&(F&&(M-=X),O+=X),c(y,{brBoxHeight:O,brBoxY:M,r:X})}}}}function R(V,H){return h(V)||(V={radius:V||0}),f(m,H,V)}function N(){let V=R(this.options.borderRadius);for(let H of this.points){let W=H.shapeArgs;W&&(W.borderRadius=g(V.radius,(W.r||0)-(W.innerR||0)))}}function j(V,H,W,G,P={}){let A=b(V,H,W,G,P),{r:T=0,brBoxHeight:x=G,brBoxY:C=H}=P,y=H-C,S=C+x-(H+G),w=y-T>-.1?0:T,k=S-T>-.1?0:T,M=Math.max(w&&y,0),O=Math.max(k&&S,0),F=[V+w,H],z=[V+W-w,H],X=[V+W,H+w],L=[V+W,H+G-k],K=[V+W-k,H+G],D=[V+k,H+G],B=[V,H+G-k],U=[V,H+w],Q=(q,Z)=>Math.sqrt(Math.pow(q,2)-Math.pow(Z,2));if(M){let q=Q(w,w-M);F[0]-=q,z[0]+=q,X[1]=U[1]=H+w-M}if(G<w-M){let q=Q(w,w-M-G);X[0]=L[0]=V+W-w+q,K[0]=Math.min(X[0],K[0]),D[0]=Math.max(L[0],D[0]),B[0]=U[0]=V+w-q,X[1]=U[1]=H+G}if(O){let q=Q(k,k-O);K[0]+=q,D[0]-=q,L[1]=B[1]=H+G-k+O}if(G<k-O){let q=Q(k,k-O-G);X[0]=L[0]=V+W-k+q,z[0]=Math.min(X[0],z[0]),F[0]=Math.max(L[0],F[0]),B[0]=U[0]=V+k-q,L[1]=B[1]=H}return A.length=0,A.push(["M",...F],["L",...z],["A",w,w,0,0,1,...X],["L",...L],["A",k,k,0,0,1,...K],["L",...D],["A",k,k,0,0,1,...B],["L",...U],["A",w,w,0,0,1,...F],["Z"]),A}return{compose:function V(H,W,G,P){if(p(l,V)){let A=P.prototype.symbols;d(H,"afterColumnTranslate",I,{order:9}),d(W,"afterTranslate",N),G.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),v=A.arc,b=A.roundedRect,A.arc=E,A.roundedRect=j}},optionsToObject:R}}),r(i,"Core/Responsive.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(n,a){var s;let{composed:o}=n,{diffObjects:l,extend:u,find:d,merge:c,pick:h,pushUnique:f,uniqueKey:p}=a;return function(g){function m(b,E){let I=b.condition;(I.callback||function(){return this.chartWidth<=h(I.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=h(I.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=h(I.minWidth,0)&&this.chartHeight>=h(I.minHeight,0)}).call(this)&&E.push(b._id)}function v(b,E){let I=this.options.responsive,R=this.currentResponsive,N=[],j;!E&&I&&I.rules&&I.rules.forEach(W=>{W._id===void 0&&(W._id=p()),this.matchResponsiveRule(W,N)},this);let V=c(...N.map(W=>d((I||{}).rules||[],G=>G._id===W)).map(W=>W&&W.chartOptions));V.isResponsiveOptions=!0,N=N.toString()||void 0;let H=R&&R.ruleIds;N!==H&&(R&&this.update(R.undoOptions,b,!0),N?((j=l(V,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:N,mergedOptions:V,undoOptions:j},this.update(V,b,!0)):this.currentResponsive=void 0)}g.compose=function b(E){return f(o,b)&&u(E.prototype,{matchResponsiveRule:m,setResponsive:v}),E}}(s||(s={})),s}),r(i,"masters/highcharts.src.js",[i["Core/Globals.js"],i["Core/Utilities.js"],i["Core/Defaults.js"],i["Core/Animation/Fx.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Renderer/HTML/AST.js"],i["Core/Templating.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Renderer/HTML/HTMLElement.js"],i["Core/Renderer/HTML/HTMLRenderer.js"],i["Core/Axis/Axis.js"],i["Core/Axis/DateTimeAxis.js"],i["Core/Axis/LogarithmicAxis.js"],i["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],i["Core/Axis/Tick.js"],i["Core/Tooltip.js"],i["Core/Series/Point.js"],i["Core/Pointer.js"],i["Core/Legend/Legend.js"],i["Core/Chart/Chart.js"],i["Extensions/ScrollablePlotArea.js"],i["Core/Axis/Stacking/StackingAxis.js"],i["Core/Axis/Stacking/StackItem.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Series/Column/ColumnSeries.js"],i["Series/Column/ColumnDataLabel.js"],i["Series/Pie/PieSeries.js"],i["Series/Pie/PieDataLabel.js"],i["Core/Series/DataLabel.js"],i["Extensions/OverlappingDataLabels.js"],i["Extensions/BorderRadius.js"],i["Core/Responsive.js"],i["Core/Color/Color.js"],i["Core/Time.js"]],function(n,a,s,o,l,u,d,c,h,f,p,g,m,v,b,E,I,R,N,j,V,H,W,G,P,A,T,x,C,y,S,w,k,M,O,F,z){return n.animate=l.animate,n.animObject=l.animObject,n.getDeferredAnimation=l.getDeferredAnimation,n.setAnimation=l.setAnimation,n.stop=l.stop,n.timers=o.timers,n.AST=u,n.Axis=m,n.Chart=H,n.chart=H.chart,n.Fx=o,n.Legend=V,n.PlotLineOrBand=E,n.Point=N,n.Pointer=j,n.Series=A,n.StackItem=P,n.SVGElement=h,n.SVGRenderer=f,n.Templating=d,n.Tick=I,n.Time=z,n.Tooltip=R,n.Color=F,n.color=F.parse,g.compose(f),p.compose(h),j.compose(H),V.compose(H),n.defaultOptions=s.defaultOptions,n.getOptions=s.getOptions,n.time=s.defaultTime,n.setOptions=s.setOptions,n.dateFormat=d.dateFormat,n.format=d.format,n.numberFormat=d.numberFormat,a.extend(n,a),n.distribute=c.distribute,n.seriesType=T.seriesType,C.compose(x),M.compose(A,y,h,f),w.compose(A),v.compose(m),b.compose(m),k.compose(H),S.compose(y),E.compose(m),O.compose(H),W.compose(m,H,A),G.compose(m,H,A),R.compose(j),n}),i["masters/highcharts.src.js"]._modules=i,i["masters/highcharts.src.js"]})})(a4);var Mue=a4.exports;const s4=r2(Mue),Bue={page:"",class:"w-full h-full flex"},Pue={class:"flex-grow relative"},Lue={class:"w-64 flex items-center flex-col"},Fue=Zr({__name:"GeneralChart",setup(e){const t=yf({chart:null,loading:!1}),i=Dr(),r=Dr({start:_f(7),end:new Date});async function n(){await M_(),a()}function a(){t.loading=!0,axios.post("api/tracks",{startDay:bf(r.value.start,"start"),endDay:bf(r.value.end,"end")}).then(({data:s})=>{const o=n4(s);t.chart.series[0].update({data:o.map(l=>l.day_speed)},!0,!0),t.chart.series[1].update({data:o.map(l=>l.night_speed)},!0,!0),t.chart.xAxis[0].update({categories:o.map(l=>Pu(l.date).format("D-MMM"))},!0,!0),t.loading=!1})}return a(),td(()=>{t.chart=s4.chart(i.value,{accessibility:{enabled:!1},chart:{type:"column",zoomType:"x"},title:{text:null},xAxis:{type:"datetime"},yAxis:{title:{text:null}},series:[{name:"Kunduzgi smena",data:[],showInLegend:!1,color:"orange"},{name:"Tungi smena",data:[],showInLegend:!1,color:"darkblue"}]})}),(s,o)=>{const l=Cf("VDatePicker");return gi(),Li("nav",Bue,[Ge("header",Pue,[Ge("div",{ref_key:"chartdiv",ref:i,class:"h-full w-full border"},null,512),Di(k_,{loading:t.loading},null,8,["loading"])]),Ge("section",Lue,[Di(l,{borderless:"",color:"gray","onUpdate:modelValue":[n,o[0]||(o[0]=u=>r.value=u)],modelValue:r.value,modelModifiers:{range:!0},"disabled-dates":[{start:ji(_f)(-1),end:null}],timezone:"Asia/Ashgabat"},null,8,["modelValue","disabled-dates"])])])}}}),Nue={page:"",class:"w-full h-full flex"},Vue={class:"flex-grow relative"},Hue={class:"w-64 flex items-center flex-col"},$ue=Zr({__name:"GroupChart",setup(e){const t=yf({chart:null,loading:!1}),i=Dr(),r=Dr({start:_f(7),end:new Date});async function n(){await M_(),a()}function a(){t.loading=!0,axios.post("api/tracks",{startDay:bf(r.value.start,"start"),endDay:bf(r.value.end,"end")}).then(({data:s})=>{const o=n4(s);t.chart.series[0].update({data:o.map(l=>l.day_speed)},!0,!0),t.chart.series[1].update({data:o.map(l=>l.night_speed)},!0,!0),t.chart.xAxis[0].update({categories:o.map(l=>Pu(l.date).format("D-MMM"))},!0,!0),t.loading=!1})}return a(),td(()=>{t.chart=s4.chart(i.value,{accessibility:{enabled:!1},chart:{type:"column",zoomType:"x"},title:{text:null},xAxis:{type:"datetime"},yAxis:{title:{text:null}},series:[{name:"Kunduzgi smena",data:[],showInLegend:!1,color:"orange"},{name:"Tungi smena",data:[],showInLegend:!1,color:"darkblue"}]})}),(s,o)=>{const l=Cf("VDatePicker");return gi(),Li("nav",Nue,[Ge("header",Vue,[Ge("div",{ref_key:"chartdiv",ref:i,id:"chartdiv",class:"h-full w-full border"},null,512),Di(k_,{loading:t.loading},null,8,["loading"])]),Ge("section",Hue,[Di(l,{color:"gray",borderless:"","onUpdate:modelValue":[n,o[0]||(o[0]=u=>r.value=u)],modelValue:r.value,modelModifiers:{range:!0},"disabled-dates":[{start:ji(_f)(-1),end:null}],timezone:"Asia/Ashgabat"},null,8,["modelValue","disabled-dates"])])])}}}),zue={class:"absolute inset-0 p-8 z-50 bg-black/45 flex justify-center items-center"},Wue={class:"bg-white rounded shadow-md p-2 w-[992px] h-[550px] flex flex-col overflow-hidden"},jue={class:"flex justify-between items-center -m-2 mb-0 px-2 bg-slate-900 text-white"},Uue=Ge("i",{class:"fa-regular fa-xmark"},null,-1),Gue=[Uue],Kue={class:"flex w-full flex-grow pt-2"},que=Zr({__name:"Charts",setup(e){const t=Dr(1),i=NT(()=>{if(t.value==1)return Fue;if(t.value==2)return $ue});return(r,n)=>(gi(),Li("section",zue,[Ge("main",Wue,[Ge("header",jue,[Ge("div",null,[Ge("button",{onClick:n[0]||(n[0]=a=>t.value=1),class:qa([{"border-white":t.value==1},"active:bg-gray-50 px-2 h-10 active:bg-white/15 hover:bg-white/25 border-b-2 border-transparent"])},"Barcha",2),Ge("button",{onClick:n[1]||(n[1]=a=>t.value=2),class:qa([{"border-white":t.value==2},"active:bg-gray-50 px-2 h-10 active:bg-white/15 hover:bg-white/25 border-b-2 border-transparent"])},"Gruppalar",2)]),Ge("div",null,[Ge("button",{onClick:n[2]||(n[2]=a=>r.$emit("close")),class:"w-10 h-10 flex justify-center items-center active:bg-white/15 hover:bg-white/25"},Gue)])]),Ge("div",Kue,[Di(LT,null,{default:el(()=>[(gi(),Qo(PT,null,[(gi(),Qo(VT(i.value)))],1024))]),_:1})])])]))}}),Xue={class:"absolute inset-0 p-8 z-50 bg-black/45 backdrop-blur-sm flex justify-center items-center"},Yue={class:"bg-white rounded shadow-md p-5 min-w-[992px] max-w-[992px] h-[550px] flex flex-col overflow-hidden"},Zue={class:"flex justify-between items-center -m-5 mb-0 px-2 bg-slate-900 text-white"},Jue=Ge("div",null,null,-1),Que=Ge("i",{class:"fa-regular fa-xmark"},null,-1),ede=[Que],tde={class:"flex w-full flex-grow flex-wrap content-between pt-2"},ide={class:"w-full flex flex-wrap"},rde=R_('<main class="w-full mt-10 mb-4 px-10"><div class="border-t-2 border-slate-900 relative h-6 border-dashed"><aside class="absolute w-[206px] border-b right-[34px] -top-3 border-slate-900 border-dotted"><i class="fa-thin fa-angle-left absolute -top-2 -left-px"></i><span class="absolute -top-6 left-1/2 -translate-x-1/2"> B <span class="text-xs text-gray-400">Soat</span></span><i class="fa-thin fa-angle-right absolute -top-2 right-px"></i></aside><aside class="absolute w-[600px] border-b right-60 -top-3 border-slate-900 border-dotted"><i class="fa-thin fa-angle-left absolute -top-2 -left-px"></i><span class="absolute -top-6 left-1/2 -translate-x-1/2"> C <span class="text-xs text-gray-400">Kun</span></span><i class="fa-thin fa-angle-right absolute -top-2 right-px"></i></aside><nav class="absolute left-[30px] bottom-[13px] flex flex-col items-center"><i class="fa-solid fa-pipe text-2xl"></i></nav><nav class="absolute right-60 bottom-[13px] flex flex-col items-center"><i class="fa-solid fa-pipe text-2xl"></i></nav><nav class="absolute right-[16px] -bottom-[11px] flex flex-col items-center"><i class="fa-solid fa-pipe text-2xl"></i><span class="relative -top-1"> A <span class="text-xs text-gray-400">Vaqt</span></span></nav></div></main>',1),nde={class:"w-1/2 pr-2"},ade={class:"mb-2"},sde=Ge("p",{class:"text-gray-500 text-sm"},[Rn(" Tanlangan vaqt "),Ge("i",{class:"fa-light fa-bracket-round"}),Ge("span",{class:"text-base text-gray-700 font-semibold"},"A"),Ge("i",{class:"fa-light fa-bracket-round-right"})],-1),ode={class:"mb-2"},lde=Ge("p",{class:"text-gray-500 text-sm"},[Rn(" Tanlangan vaqt nechi soat oldin "),Ge("i",{class:"fa-light fa-bracket-round"}),Ge("span",{class:"text-base text-gray-700 font-semibold"},"B"),Ge("i",{class:"fa-light fa-bracket-round-right"})],-1),ude={class:"mb-2"},dde=Ge("p",{class:"text-gray-500 text-sm"},[Rn("Oldingi necha kun bilan berilgan muddatni solishtirsin "),Ge("i",{class:"fa-light fa-bracket-round"}),Ge("span",{class:"text-base text-gray-700 font-semibold"},"C"),Ge("i",{class:"fa-light fa-bracket-round-right"})],-1),hde={class:"mb-2"},cde=Ge("p",{class:"text-gray-500 text-sm"},[Rn("Tezlik farqi "),Ge("i",{class:"fa-light fa-bracket-round"}),Ge("span",{class:"text-base text-gray-700 font-semibold"},"D"),Ge("i",{class:"fa-light fa-bracket-round-right"})],-1),fde=R_('<main class="w-1/2 pl-2"><h3 class="text-center text-[17px] font-semibold mb-3">Funksiyaning ishlash prinsipi haqida</h3><p class="text-gray-500 text-sm w-full"> Kon hududi xaritada 50x50m o&#39;lchamdagi kataklarga bo&#39;lingan. Har bir katak uchun tanlangan <i class="fa-light fa-bracket-round"></i><span class="text-base text-gray-700 font-semibold">A</span><i class="fa-light fa-bracket-round-right"></i> vaqtdan boshlab, belgilangan <i class="fa-light fa-bracket-round"></i><span class="text-base text-gray-700 font-semibold">B</span><i class="fa-light fa-bracket-round-right"></i> soat oldingi vaqt oralig&#39;ida avtoa&#39;gdargichlarning o&#39;rtacha tezligini hisoblaydi va undan olgingi <i class="fa-light fa-bracket-round"></i><span class="text-base text-gray-700 font-semibold">C</span><i class="fa-light fa-bracket-round-right"></i> kun ichidagi avtoa&#39;gdargichlarning o&#39;rtacha tezligini hisoblab solishtiriladi. Solishtirilgan o&#39;rtacha tezliklar farqi <b>D</b> ga teng yoki undan katta bo&#39;lgan kataklar aniqlab beriladi. </p></main>',1),pde=Ge("i",{class:"fa-light fa-rotate-right mr-3"},null,-1),mde=Zr({__name:"SpeedControl",setup(e){const t=ed(),i=yf({oldDays:t.oldDays,hourPeriod:t.hourPeriod,selectedTime:t.selectedTime,speedRange:t.speedRange});function r(){t.openControl!=!1&&(t.oldDays=i.oldDays,t.hourPeriod=i.hourPeriod,t.selectedTime=i.selectedTime,t.speedRange=i.speedRange,t.withLoading(()=>t.UIData.wialon.selectGroup(t.UIData.active)),t.openControl=!1)}return(n,a)=>(gi(),Li("section",Xue,[Ge("main",Yue,[Ge("header",Zue,[Jue,Ge("div",null,[Ge("button",{onClick:a[0]||(a[0]=s=>ji(t).openControl=!1),class:"w-10 h-10 flex justify-center items-center active:bg-white/15 hover:bg-white/25"},ede)])]),Ge("div",tde,[Ge("div",ide,[rde,Ge("main",nde,[Ge("aside",ade,[sde,As(Ge("input",{type:"datetime-local","onUpdate:modelValue":a[1]||(a[1]=s=>i.selectedTime=s),class:"text-gray-800 w-full py-2 border-b outline-none"},null,512),[[Ec,i.selectedTime]])]),Ge("aside",ode,[lde,As(Ge("select",{"onUpdate:modelValue":a[2]||(a[2]=s=>i.hourPeriod=s),class:"text-gray-800 w-full py-2 border-b outline-none"},[(gi(),Li(Bs,null,Ps(12,s=>Ge("option",null,ra(s),1)),64))],512),[[ec,i.hourPeriod]])]),Ge("aside",ude,[dde,As(Ge("select",{"onUpdate:modelValue":a[3]||(a[3]=s=>i.oldDays=s),class:"text-gray-800 w-full py-2 border-b outline-none"},[(gi(),Li(Bs,null,Ps(10,s=>Ge("option",null,ra(s),1)),64))],512),[[ec,i.oldDays]])]),Ge("aside",hde,[cde,As(Ge("select",{"onUpdate:modelValue":a[4]||(a[4]=s=>i.speedRange=s),class:"text-gray-800 w-full py-2 border-b outline-none"},[(gi(),Li(Bs,null,Ps(3,s=>Ge("option",null,ra(s*5),1)),64))],512),[[ec,i.speedRange]])])]),fde]),Ge("div",{class:"w-full text-right"},[Ge("button",{onClick:r,class:"bg-slate-900 text-white px-4 py-1.5 rounded-sm shadow active:bg-slate-70 hover:bg-slate-800 active:shadow-none"},[pde,Rn(" Yangilash ")])])])])]))}}),gde={class:"h-full flex-grow relative"},vde=Ge("i",{class:"fa-solid fa-truck-plow"},null,-1),_de=Ge("i",{class:"fa-solid fa-hexagon-exclamation"},null,-1),bde=[_de],yde=Ge("i",{class:"fa-solid fa-hexagon"},null,-1),Cde=Ge("i",{class:"fa-regular fa-chart-mixed"},null,-1),xde=[Cde],wde=Zr({__name:"Map",setup(e){const t=Dr(!1),i=Dr(),r=ed(),n=Dr(!1),a=Dr(null);return td(async()=>{const s=new o4(i.value);a.value=new l4(s.map),r.UIData.wialon=a,r.UIData.map=s,a.value.onInit=()=>{r.withLoading(()=>a.value.selectGroup(r.transport_groups[0])),console.log("assad")},a.value.onSelectStart=()=>{s.removeCubics(),s.map.setView([42.2628699,63.891215],13)},a.value.onSelectEnd=o=>s.drawCubics(o)}),(s,o)=>{const l=Cf("RouterLink");return gi(),Li("section",gde,[Di(FT,null,{default:el(()=>[t.value?(gi(),Qo(que,{key:0,onClose:o[0]||(o[0]=u=>t.value=!1)})):Qh("",!0),ji(r).openControl?(gi(),Qo(mde,{key:1})):Qh("",!0),n.value?(gi(),Qo(kue,{key:2,wialon:a.value,onClose:o[1]||(o[1]=u=>n.value=!1)},null,8,["wialon"])):Qh("",!0)]),_:1}),Di(l,{to:"/greyders",class:"absolute left-2 top-2 btn-line bg-white shadow-md !text-xl z-20 text-center content-center"},{default:el(()=>[vde]),_:1}),Ge("button",{onClick:o[2]||(o[2]=u=>n.value=!0),class:"absolute right-36 -translate-x-2 top-2 btn-line bg-white shadow-md !text-xl z-20"},bde),Di(l,{to:"/geozones",class:"absolute right-20 top-2 btn-line bg-white shadow-md !text-xl z-20 text-center content-center"},{default:el(()=>[yde]),_:1}),Ge("button",{onClick:o[3]||(o[3]=u=>t.value=!0),class:"absolute right-2 top-2 btn-line bg-white shadow-md !text-xl z-10"},xde),Ge("div",{ref_key:"map",ref:i,class:"h-full w-full z-[1]"},null,512)])}}}),Sde={class:"h-full w-full relative rounded-xl overflow-hidden flex"},Mde=Zr({__name:"HomePage",setup(e){const t=ed();return(i,r)=>(gi(),Li("main",Sde,[Di(k_,{loading:ji(t).UIData.loading},null,8,["loading"]),Di(lP),Di(eP),Di(wde),Di(JB)]))}});export{Mde as default};
