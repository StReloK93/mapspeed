import{c as Oe,g as y4,a as Lu}from"./_commonjsHelpers-de833af9.js";import{J as C4,L as w4,M as x4,N as S4,O as E4,P as I4,Q as T4,F as A4,K as O4,R as D4,S as R4,U as k4,V as M4,W as B4,X as P4,T as F4,z as L4,Y as N4,Z as V4,$ as $4,a0 as H4,a1 as z4,a2 as W4,a3 as j4,a4 as U4,a5 as G4,m as K4,a6 as q4,p as X4,y as Y4,c as Z4,a as J4,a7 as Q4,a8 as e3,a9 as t3,aa as i3,ab as r3,x as n3,k as a3,b as s3,ac as o3,ad as l3,d as u3,ae as d3,af as h3,ag as c3,ah as f3,ai as p3,aj as m3,ak as g3,al as v3,am as _3,an as b3,ao as y3,ap as C3,aq as w3,ar as x3,as as S3,at as E3,au as I3,av as T3,aw as A3,ax as O3,ay as D3,az as R3,aA as k3,aB as M3,aC as B3,aD as P3,aE as F3,aF as L3,aG as N3,aH as V3,aI as $3,aJ as H3,A as z3,aK as W3,l as j3,n as U3,aL as G3,aM as K3,aN as q3,aO as X3,aP as Y3,aQ as Z3,aR as J3,aS as Q3,g as eM,aT as tM,aU as iM,aV as rM,aW as nM,I as aM,aX as sM,o as oM,aY as lM,aZ as uM,a_ as dM,a$ as hM,b0 as cM,f as fM,b1 as pM,e as mM,b2 as gM,b3 as vM,i as _M,b4 as bM,r as yM,D as CM,q as wM,b5 as xM,b6 as SM,b7 as EM,b8 as IM,b9 as TM,ba as AM,bb as OM,bc as DM,bd as RM,be as kM,bf as MM,t as BM,bg as PM,bh as FM,j as LM,bi as NM,bj as VM,bk as $M,bl as HM,bm as zM,u as WM,bn as jM,bo as UM,bp as GM,B as KM,bq as qM,br as XM,bs as YM,bt as ZM,bu as JM,H as QM,s as eB,v as tB,bv as iB,bw as rB,bx as nB,C as aB,by as sB,bz as oB,bA as lB,bB as uB,w as dB,bC as hB,h as cB,bD as fB,bE as pB,E as mB,bF as gB}from"./app-89a4ad0a.js";const vB=()=>{},_B=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:C4,BaseTransitionPropsValidators:w4,Comment:x4,DeprecationTypes:S4,EffectScope:E4,ErrorCodes:I4,ErrorTypeStrings:T4,Fragment:A4,KeepAlive:O4,ReactiveEffect:D4,Static:R4,Suspense:k4,Teleport:M4,Text:B4,TrackOpTypes:P4,Transition:F4,TransitionGroup:L4,TriggerOpTypes:N4,VueElement:V4,assertNumber:$4,callWithAsyncErrorHandling:H4,callWithErrorHandling:z4,camelize:W4,capitalize:j4,cloneVNode:U4,compatUtils:G4,compile:vB,computed:K4,createApp:q4,createBlock:X4,createCommentVNode:Y4,createElementBlock:Z4,createElementVNode:J4,createHydrationRenderer:Q4,createPropsRestProxy:e3,createRenderer:t3,createSSRApp:i3,createSlots:r3,createStaticVNode:n3,createTextVNode:a3,createVNode:s3,customRef:o3,defineAsyncComponent:l3,defineComponent:u3,defineCustomElement:d3,defineEmits:h3,defineExpose:c3,defineModel:f3,defineOptions:p3,defineProps:m3,defineSSRCustomElement:g3,defineSlots:v3,devtools:_3,effect:b3,effectScope:y3,getCurrentInstance:C3,getCurrentScope:w3,getTransitionRawChildren:x3,guardReactiveProps:S3,h:E3,handleError:I3,hasInjectionContext:T3,hydrate:A3,initCustomFormatter:O3,initDirectivesForSSR:D3,inject:R3,isMemoSame:k3,isProxy:M3,isReactive:B3,isReadonly:P3,isRef:F3,isRuntimeOnly:L3,isShallow:N3,isVNode:V3,markRaw:$3,mergeDefaults:H3,mergeModels:z3,mergeProps:W3,nextTick:j3,normalizeClass:U3,normalizeProps:G3,normalizeStyle:K3,onActivated:q3,onBeforeMount:X3,onBeforeUnmount:Y3,onBeforeUpdate:Z3,onDeactivated:J3,onErrorCaptured:Q3,onMounted:eM,onRenderTracked:tM,onRenderTriggered:iM,onScopeDispose:rM,onServerPrefetch:nM,onUnmounted:aM,onUpdated:sM,openBlock:oM,popScopeId:lM,provide:uM,proxyRefs:dM,pushScopeId:hM,queuePostFlushCb:cM,reactive:fM,readonly:pM,ref:mM,registerRuntimeCompiler:gM,render:vM,renderList:_M,renderSlot:bM,resolveComponent:yM,resolveDirective:CM,resolveDynamicComponent:wM,resolveFilter:xM,resolveTransitionHooks:SM,setBlockTracking:EM,setDevtoolsHook:IM,setTransitionHooks:TM,shallowReactive:AM,shallowReadonly:OM,shallowRef:DM,ssrContextKey:RM,ssrUtils:kM,stop:MM,toDisplayString:BM,toHandlerKey:PM,toHandlers:FM,toRaw:LM,toRef:NM,toRefs:VM,toValue:$M,transformVNodeArgs:HM,triggerRef:zM,unref:WM,useAttrs:jM,useCssModule:UM,useCssVars:GM,useModel:KM,useSSRContext:qM,useSlots:XM,useTransitionState:YM,vModelCheckbox:ZM,vModelDynamic:JM,vModelRadio:QM,vModelSelect:eB,vModelText:tB,vShow:iB,version:rB,warn:nB,watch:aB,watchEffect:sB,watchPostEffect:oB,watchSyncEffect:lB,withAsyncContext:uB,withCtx:dB,withDefaults:hB,withDirectives:cB,withKeys:fB,withMemo:pB,withModifiers:mB,withScopeId:gB},Symbol.toStringTag,{value:"Module"}));var bB={"[object Array]":"array","[object Date]":"date","[object Object]":"object","[object String]":"string","[object Null]":"null"},Wr=function(e){var t=Object.prototype.toString.call(e);return typeof e=="object"?bB[t]||"object":typeof e},Ko=function(e){return typeof e=="boolean"},Rb=function(e){return Kt(e)&&e.toString().indexOf("e")!==-1},tr=function(e){return Wr(e)==="date"},Z=function(e){return e!=null},Re=function(e){return typeof e=="function"},Ue=function(e){return typeof e=="string"},Kt=function(e){return typeof e=="number"&&isFinite(e)||!isNaN(e-parseFloat(e))},Ge=function(e){return Wr(e)==="object"},jr=function(e){var t;for(t in e)return!1;return!0},ft=function(e){if(!e||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e),i=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof i=="function"&&Object.toString.call(i)===Object.toString.call(Object)},iu=function(e){return["object","array","function"].indexOf(Wr(e))===-1},wi=function(e){return e!=null&&e===e.window},Ar=function(e){return!!e&&!!(e.jquery||e.dxRenderer)},Nu=function(e){return!!e&&Re(e.then)},a_=function(e){return!!e&&Re(e.done)&&Re(e.fail)},yB=function(e){return!!(e&&e.preventDefault)},s_=function(){var e=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(t){return String(t).replace(e[0],"&amp;").replace(e[1],"&quot;").replace(e[2],"&#39;").replace(e[3],"&lt;").replace(e[4],"&gt;")}}(),CB=function(e){switch(typeof e){case"string":return e.split(/\s+/,4);case"object":return[e.x||e.h||e.left,e.y||e.v||e.top,e.x||e.h||e.right,e.y||e.v||e.bottom];case"number":return[e];default:return e}},wB=function(e){var t=CB(e),i=parseInt(t&&t[0],10),r=parseInt(t&&t[1],10),n=parseInt(t&&t[2],10),a=parseInt(t&&t[3],10);return isFinite(i)||(i=0),isFinite(r)||(r=i),isFinite(n)||(n=i),isFinite(a)||(a=r),{top:r,right:n,bottom:a,left:i}};function sn(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return Re(e)?e(...i):(i.forEach((n,a)=>{Ue(n)&&(n=n.replace(/\$/g,"$$$$"));var s=new RegExp("\\{"+a+"\\}","gm");e=e.replace(s,n)}),e)}var ru=function(){var e=/\s/g;return function(t){return!t||!t.replace(e,"")}}(),xB=function(e,t,i){e=e||{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];(!(r in e)||i)&&(e[r]=n)}return e},re=function e(t){t=t||{};var i=1,r=!1;for(typeof t=="boolean"&&(r=t,t=arguments[1]||{},i++);i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var a in n){var s=t[a],o=n[a],l=!1,u=void 0;a==="__proto__"||a==="constructor"||t===o||(r&&o&&(ft(o)||(l=Array.isArray(o)))?(l?u=s&&Array.isArray(s)?s:[]:u=s&&ft(s)?s:{},t[a]=e(r,u,o)):o!==void 0&&(t[a]=o))}}return t},Si=(e,t)=>{if(Array.isArray(e))return e.map(t);var i=[];for(var r in e)i.push(t(e[r],r));return i},le=(e,t)=>{if(e){if("length"in e)for(var i=0;i<e.length&&t.call(e[i],i,e[i])!==!1;i++);else for(var r in e)if(t.call(e[r],r,e[r])===!1)break;return e}},SB=function(){},ep=function(e){return typeof console>"u"||!Re(console[e])?SB:console[e].bind(console)},Vu={info:ep("info"),warn:ep("warn"),error:ep("error")},EB="22.1.6",IB="http://js.devexpress.com/error/"+EB.split(".").slice(0,2).join("_")+"/";function o_(e,t){var i={ERROR_MESSAGES:re(t,e),Error:function(){return s([].slice.call(arguments))},log:function(l){var u="log";/^E\d+$/.test(l)?u="error":/^W\d+$/.test(l)&&(u="warn"),Vu[u](u==="log"?l:r([].slice.call(arguments)))}};function r(l){var u=l[0];return l=l.slice(1),a(u,n(u,l))}function n(l,u){return u=[i.ERROR_MESSAGES[l]].concat(u),sn.apply(this,u).replace(/\.*\s*?$/,"")}function a(l,u){return sn.apply(this,[`{0} - {1}. See:
{2}`,l,u,o(l)])}function s(l){var u=l[0];l=l.slice(1);var d=n(u,l),c=o(u),h=a(u,d);return re(new Error(h),{__id:u,__details:d,url:c})}function o(l){return IB+l}return i}const $t=o_({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0024:"DevExtreme bundle already included",E0025:"Unexpected argument type",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0103:"validationCallback of an asynchronous rule should return a jQuery or a native promise",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",E0121:"The 'customItem' parameter of the 'onCustomItemCreating' function is empty or contains invalid data. Assign a custom object or a Promise that is resolved after the item is created.",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"'{0}' Globalize culture is not defined",W0008:"Invalid view name: '{0}'",W0009:"Invalid time zone name: '{0}'",W0010:"{0} is deprecated in {1}. {2}",W0011:"Number parsing is invoked while the parser is not defined",W0012:"Date parsing is invoked while the parser is not defined",W0013:"'{0}' file is deprecated in {1}. {2}",W0014:"{0} - '{1}' type is deprecated in {2}. {3}",W0015:"Instead of returning a value from the '{0}' function, write it into the '{1}' field of the function's parameter.",W0016:'The "{0}" option does not accept the "{1}" value since v{2}. {3}.',W0017:'Setting the "{0}" property with a function is deprecated since v21.2',W0018:'Setting the "position" property with a function is deprecated since v21.2'});var TB=function(e,t,i){return function(){var r=this.callBase;this.callBase=e[t];try{return i.apply(this,arguments)}finally{this.callBase=r}}},AB=function(e){var t=function(){};return t.prototype=e.prototype,new t},OB=function(e){var t,i,r;if(!e)return this;for(i in e)r=e[i],t=typeof this.prototype[i]=="function"&&typeof r=="function",this.prototype[i]=t?TB(this.parent.prototype,i,r):r;return this},DB=function(){var e=this,t,i,r,n=Object.prototype.hasOwnProperty.bind(e),a=!n("_includedCtors")&&!n("_includedPostCtors");for(a&&(e._includedCtors=e._includedCtors.slice(0),e._includedPostCtors=e._includedPostCtors.slice(0)),r=0;r<arguments.length;r++){t=arguments[r],t.ctor&&e._includedCtors.push(t.ctor),t.postCtor&&e._includedPostCtors.push(t.postCtor);for(i in t)i==="ctor"||i==="postCtor"||i==="default"||(e.prototype[i]=t[i])}return e},RB=function(e){var t=Object.prototype.hasOwnProperty.bind(this)("parent"),i=!t&&this.parent;if(i){var r=Object.getPrototypeOf(this);return r===e||r.subclassOf(e)}else return this.parent===e?!0:!this.parent||!this.parent.subclassOf?!1:this.parent.subclassOf(e)},aI=function(){throw $t.Error("E0001")},kB=function(){var e=Object.prototype.hasOwnProperty;return function(t,i){for(var r in t){if(!e.call(t,r))return;i[r]=t[r]}}}(),wt=function(){};wt.inherit=function(e){var t=function(){if(!this||wi(this)||typeof this.constructor!="function")throw $t.Error("E0003");var i=this,r=i.ctor,n=i.constructor._includedCtors,a=i.constructor._includedPostCtors,s;for(s=0;s<n.length;s++)n[s].call(i);for(r&&r.apply(i,arguments),s=0;s<a.length;s++)a[s].call(i)};return t.prototype=AB(this),kB(this,t),t.inherit=this.inherit,t.abstract=aI,t.redefine=OB,t.include=DB,t.subclassOf=RB,t.parent=this,t._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],t._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],t.prototype.constructor=t,t.redefine(e),t};wt.abstract=aI;function Ur(e){var t=wt.inherit(e),i=t,r=new i(e),n={},a=function(s,o){le(s,function(l){Re(r[l])?(o||!e[l])&&(e[l]=function(){return r[l].apply(e,arguments)}):(o&&(n[l]=e[l]),e[l]=r[l])})};return a(e,!0),e.inject=function(s){i=i.inherit(s),r=new i,a(s)},e.resetInjection=function(){re(e,n),i=t,r=new t},e}var kb={rtlEnabled:!1,defaultCurrency:"USD",defaultUseCurrencyAccountingStyle:!0,oDataFilterToLower:!0,serverDecimalSeparator:".",decimalSeparator:".",thousandsSeparator:",",forceIsoDateParsing:!0,wrapActionsBeforeExecute:!0,useLegacyStoreResult:!1,useJQuery:void 0,editorStylingMode:void 0,useLegacyVisibleIndex:!1,floatingActionButtonConfig:{icon:"add",closeIcon:"close",label:"",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,shading:!1,direction:"auto"},optionsParser:e=>{e.trim().charAt(0)!=="{"&&(e="{"+e+"}");try{return new Function("return "+e)()}catch(t){throw $t.Error("E3018",t,e)}}},MB=["decimalSeparator","thousandsSeparator"],Jt=function(){if(!arguments.length)return kb;var e=arguments.length<=0?void 0:arguments[0];MB.forEach(t=>{if(e[t]){var i="Now, the ".concat(t," is selected based on the specified locale.");$t.log("W0003","config",t,"19.2",i)}}),re(kb,e)};typeof DevExpress<"u"&&DevExpress.config&&Jt(DevExpress.config);var Ri=wt.inherit({ctor:function(e){e&&(e=String(e)),this._value=this._normalize(e||this._generate())},_normalize:function(e){for(e=e.replace(/[^a-f0-9]/gi,"").toLowerCase();e.length<32;)e+="0";return[e.substr(0,8),e.substr(8,4),e.substr(12,4),e.substr(16,4),e.substr(20,12)].join("-")},_generate:function(){for(var e="",t=0;t<32;t++)e+=Math.round(15*Math.random()).toString(16);return e},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}}),oa=function(e){this._options=e||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};oa.prototype._fireCore=function(e,t){var i=this._firingIndexes,r=this._list,n=this._options.stopOnFalse,a=i.length;for(i[a]=0;i[a]<r.length;i[a]++){var s=r[i[a]].apply(e,t);if(s===!1&&n)break}i.pop()};oa.prototype.add=function(e){return typeof e=="function"&&(!this._options.unique||!this.has(e))&&this._list.push(e),this};oa.prototype.remove=function(e){var t=this._list,i=this._firingIndexes,r=t.indexOf(e);if(r>-1&&(t.splice(r,1),this._firing&&i.length))for(var n=0;n<i.length;n++)r<=i[n]&&i[n]--;return this};oa.prototype.has=function(e){var t=this._list;return e?t.indexOf(e)>-1:!!t.length};oa.prototype.empty=function(e){return this._list=[],this};oa.prototype.fireWith=function(e,t){var i=this._queue;if(t=t||[],t=t.slice?t.slice():t,this._options.syncStrategy)this._firing=!0,this._fireCore(e,t);else{if(i.push([e,t]),this._firing)return;for(this._firing=!0;i.length;){var r=i.shift();this._fireCore(r[0],r[1])}}return this._firing=!1,this._fired=!0,this};oa.prototype.fire=function(){this.fireWith(this,arguments)};oa.prototype.fired=function(){return this._fired};var kt=function(e){return new oa(e)};const BB=Object.freeze(Object.defineProperty({__proto__:null,default:kt},Symbol.toStringTag,{value:"Module"}));var sI=[{method:"resolve",handler:"done",state:"resolved"},{method:"reject",handler:"fail",state:"rejected"},{method:"notify",handler:"progress"}],qo=function(){var e=this;this._state="pending",this._promise={},sI.forEach((function(t){var i=t.method;this[i+"Callbacks"]=new kt,this[i]=(function(){return this[i+"With"](this._promise,arguments)}).bind(this),this._promise[t.handler]=function(r){if(!r)return this;var n=e[i+"Callbacks"];return n.fired()?r.apply(e[i+"Context"],e[i+"Args"]):n.add((function(a,s){r.apply(a,s)}).bind(this)),this}}).bind(this)),this._promise.always=function(t){return this.done(t).fail(t)},this._promise.catch=function(t){return this.then(null,t)},this._promise.then=function(t,i){var r=new qo;return["done","fail"].forEach((function(n){var a=n==="done"?t:i;this[n](function(){if(!a){r[n==="done"?"resolve":"reject"].apply(this,arguments);return}var s=a&&a.apply(this,arguments);a_(s)?s.done(r.resolve).fail(r.reject):Nu(s)?s.then(r.resolve,r.reject):r.resolve.apply(this,Z(s)?[s]:arguments)})}).bind(this)),r.promise()},this._promise.state=function(){return e._state},this._promise.promise=function(t){return t?re(t,e._promise):e._promise},this._promise.promise(this)};sI.forEach(function(e){var t=e.method,i=e.state;qo.prototype[t+"With"]=function(r,n){var a=this[t+"Callbacks"];return this.state()==="pending"&&(this[t+"Args"]=n,this[t+"Context"]=r,i&&(this._state=i),a.fire(r,n)),this}});function Hi(e,t){if(a_(e))return e;if(Nu(e)){var i=new qo;return e.then(function(){i.resolveWith.apply(i,[t].concat([[].slice.call(arguments)]))},function(){i.rejectWith.apply(i,[t].concat([[].slice.call(arguments)]))}),i}return new qo().resolveWith(t,[e])}var PB=function(){if(arguments.length===1)return Hi(arguments[0]);for(var e=[].slice.call(arguments),t=[],i=0,r=new qo,n=function(s){return function(o){t[s]=this,e[s]=arguments.length>1?[].slice.call(arguments):o,i++,i===e.length&&r.resolveWith(t,e)}},a=0;a<e.length;a++)a_(e[a])?e[a].promise().done(n(a)).fail(r.reject):i++;return i===e.length&&r.resolveWith(t,e),r.promise()};function pe(){return new qo}function Pe(){return PB.apply(this,arguments)}const or=Ur({isWrapped:function(){return!1},isWritableWrapped:function(){return!1},wrap:function(e){return e},unwrap:function(e){return e},assign:function(){Vu.error("Method 'assign' should not be used for not wrapped variables. Use 'isWrapped' method for ensuring.")}});var Pg=function(e,t){var i=[],r,n;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&i.push(r);for(i.sort(function(a,s){var o=Kt(a),l=Kt(s);return o&&l?a-s:o&&!l?-1:!o&&l?1:a<s?-1:a>s?1:0}),n=0;n<i.length;n++)r=i[n],t(r,e[r])},FB=function(e,t,i,r){!r&&or.isWrapped(e[t])?or.assign(e[t],i):e[t]=i},vn=function e(t,i,r,n){var a,s;for(var o in i)if(a=t[o],s=i[o],!(o==="__proto__"||o==="constructor"||t===s)){if(ft(s)){var l=r?Ge(a):ft(a);s=e(l?a:{},s,r,n)}s!==void 0&&a!==s&&FB(t,o,s,n)}return t},LB=or.unwrap,oI=or.isWrapped,NB=or.assign,VB=function(e){return e.replace(/\[/g,".").replace(/\]/g,"")},Us=function(e){return VB(e).split(".")},$B=function(e,t,i){return i=i||{},bu(t==="this"?e:e[t],i)},lI=function(e,t,i,r){if(t==="this")throw new $t.Error("E4016");var n=e[t];r.unwrapObservables&&oI(n)?NB(n,i):e[t]=i},uI=function(e){return e=e||{},e.unwrapObservables=e.unwrapObservables!==void 0?e.unwrapObservables:!0,e};function bu(e,t){return t.unwrapObservables?LB(e):e}var jt=function(e){if(arguments.length>1&&(e=[].slice.call(arguments)),!e||e==="this")return function(i){return i};if(typeof e=="string"){var t=Us(e);return function(i,r){r=uI(r);for(var n=r.functionsAsIs,a=("defaultValue"in r),s=bu(i,r),o=0;o<t.length;o++){if(!s){if(s==null&&a)return r.defaultValue;break}var l=t[o];if(a&&Ge(s)&&!(l in s))return r.defaultValue;var u=bu(s[l],r);!n&&Re(u)&&(u=u.call(s)),s=u}return s}}if(Array.isArray(e))return HB(e);if(Re(e))return e};function HB(e){for(var t={},i=0,r=e.length;i<r;i++){var n=e[i];t[n]=jt(n)}return function(a,s){var o;return le(t,function(l){var u=this(a,s);if(u!==void 0){for(var d=o||(o={}),c=l.split("."),h=c.length-1,f=0;f<h;f++){var p=c[f];p in d||(d[p]={}),d=d[p]}d[c[h]]=u}}),o}}var Mb=function(e,t,i,r){if(Z(i))return i;var n={};return lI(e,t,n,r),n},l_=function(e){e=Us(e||"this");var t=e.length-1;return function(i,r,n){n=uI(n);var a=bu(i,n);e.forEach(function(s,o){var l=$B(a,s,n),u=!n.functionsAsIs&&Re(l)&&!oI(l);o===t?n.merge&&ft(r)&&(!Z(l)||ft(l))?(l=Mb(a,s,l,n),vn(l,r,!1,!0)):u?a[s](r):lI(a,s,r,n):(l=Mb(a,s,l,n),u&&(l=l.call(a)),a=l)})}},ki=function(e,t){return e instanceof Date?e.getTime():e&&e instanceof wt&&e.valueOf?e.valueOf():!t&&typeof e=="string"?e.toLowerCase():e},di=function(e,t){return Z(e)?e:t},u_=function(e,t){var i=new pe,r=t||this,n={promise:i.promise(),abort:function(){clearTimeout(s),i.rejectWith(r)}},a=function(){var o=e.call(r);o&&o.done&&Re(o.done)?o.done(function(){i.resolveWith(r)}):i.resolveWith(r)},s=(arguments[2]||setTimeout)(a,typeof t=="number"?t:0);return n},tp=[],Bb=[],fl=[],co,Xc=function(e,t,i){if(co&&co!==e)return tp.push(t),Bb.push(e),i=i||new pe,fl.push(i),i;var r=co,n=fl.length;co=e;var a=t();return a||(fl.length>n?a=Pe.apply(this,fl.slice(n)):i&&i.resolve()),co=r,i&&a&&a.done&&a.done(i.resolve).fail(i.reject),!co&&tp.length&&(Bb.shift()==="render"?Ti:ar)(tp.shift(),fl.shift()),a||Pe()},Ti=function(e,t){return Xc("render",e,t)},ar=function(e,t){return Xc("update",e,t)},$o=function(e){return function(){var t=this;return Xc("render",function(){return e.call(t)})}},Pb=function(e){return function(){var t=this;return Xc("update",function(){return e.call(t)})}},dI=function(e,t,i){var r=[],n=0;return le(t,(a,s)=>{var o=0,l=i?i(s):s;le(e,(u,d)=>{var c=l[u];if(c!==void 0){if(zB(c,d)){o++;return}return o=-1,!1}}),!(o<n)&&(o>n&&(r.length=0,n=o),r.push(s))}),r},zB=function(e,t){if(Array.isArray(e)&&Array.isArray(t)){var i=!1;return le(e,(r,n)=>{if(n!==t[r])return i=!0,!1}),!i}return e===t},sl=function(e){var t,i;switch(Wr(e)){case"string":return e.split(/\s+/,2);case"object":return[(t=e.x)!==null&&t!==void 0?t:e.h,(i=e.y)!==null&&i!==void 0?i:e.v];case"number":return[e];case"array":return e;default:return null}},d_=function(e,t){var i=sl(e),r=t?parseFloat(i&&i[0]):parseInt(i&&i[0],10),n=t?parseFloat(i&&i[1]):parseInt(i&&i[1],10);return isFinite(r)||(r=0),isFinite(n)||(n=r),{h:r,v:n}},En=function(e){if(e instanceof Ri)return e.toString();if(Ge(e)||Array.isArray(e))try{var t=JSON.stringify(e);return t==="{}"?e:t}catch{return e}return e},ka=function(e){return e.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")},WB=function(e){var t=Jt().serverDecimalSeparator;return Z(e)&&(e=e.toString().replace(".",t)),e},me=function(){},hI=function(){return new pe().resolve().promise()},hr=function(e,t,i){for(var r=[],n,a=!i,s=0;s<e.length;s++)n=!!t(e[s],s),n===a&&r.push(e[s]);return r},jB=function(e,t,i){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!ni(e[r],t[r],i+1))return!1;return!0},UB=function(e,t,i,r){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!ni(e[n],t[n],i+1,r))return!1;for(var a in t)if(!(a in e))return!1;return!0},GB=3,ni=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;e=ki(e,!0),t=ki(t,!0);var n=r?e===t:e==t;return n||i>=GB?!0:Ge(e)&&Ge(t)?UB(e,t,i,r):Array.isArray(e)&&Array.isArray(t)?jB(e,t,i):!1},Xo=function(e){return e===0?0:e/Math.abs(e)},Ji=function(e,t,i){var r=!t&&t!==0,n=!i&&i!==0;return r&&(t=n?e:Math.min(e,i)),n&&(i=r?e:Math.max(e,t)),Math.min(Math.max(e,t),i)},Xn=function(e,t,i){return e>=t&&e<=i};function Fb(e){return Math.abs(parseInt(e.toExponential().split("e")[1]))}function KB(e){var t=e.toExponential().split("e"),i=parseFloat(t[0]),r=parseInt(t[1]);return{exponent:r,mantissa:i}}function cI(e,t){var i=KB(e);return parseFloat("".concat(i.mantissa,"e").concat(i.exponent+t))}function qB(){return 3e-4.toPrecision(3)!=="0.000300"}function fI(e,t){var i=XB(t||0)+2,r=e.toString().split("."),n=e,a=Math.abs(e),s,o=Rb(e),l=a>1?10:0;return r.length===1?e:(o||(Rb(t)&&(i=r[0].length+Fb(t)),e=a,e=e-Math.floor(e)+l),i=qB()&&Fb(e)>6||i>7?15:7,!o&&(s=parseFloat(e.toPrecision(i)).toString().split("."),s[0]===l.toString())?parseFloat(r[0]+"."+s[1]):parseFloat(n.toPrecision(i)))}function XB(e){var t=e.toString();if(t.indexOf(".")<0)return 0;var i=t.split("."),r=i[1].indexOf("e");return r>=0?r:i[1].length}var YB=10;function ZB(e){var t=Xo(e);return t*Math.round(Math.abs(e))}function JB(e,t){var i=Math.pow(YB,t),r=cI(e,t);return ZB(r)/i}function pI(e,t){var i=t||0,r=i>0?JB(...arguments):e;return r.toFixed(i)}var QB={thousandsSeparator:",",decimalSeparator:"."},Lb="'",e6=15,t6=2;function i6(e){return e.split(",").slice(1).map(function(t){var i=0;return t.split("").filter(function(r,n){i+=r==="'";var a=r==="#"||r==="0",s=i%2;return a&&!s}).length})}function r6(e){var t=e.split(";");return t.length===1&&t.push("-"+t[0]),t}function ip(e){return e.toString().split("").reverse().join("")}function n6(e){return e.indexOf("%")!==-1&&!e.match(/'[^']*%[^']*'/g)}function mI(e){return e.replace(/'.+'/g,"")}function Nb(e){if(!e)return 0;var t=mI(e);return t.length-t.replace(/[#]/g,"").length}function Vb(e){if(!e)return 0;var t=mI(e);return t.length-t.replace(/[0]/g,"").length}function $b(e,t,i){if(!e)return"";for(e.length>i&&(e=e.substr(0,i));e.length>t&&e.slice(-1)==="0";)e=e.substr(0,e.length-1);for(;e.length<t;)e+="0";return e}function a6(e,t,i){if(!t.length)return e;for(var r=[],n=0;e;){var a=t[n];if(!a)break;r.push(e.slice(0,a)),e=e.slice(a),n<t.length-1&&n++}return r.join(i)}function Hb(e,t){return e.split(Lb).map(function(i,r){var n=r%2;return!i&&n?Lb:n?i:i.replace(/[,#0]+/,t)}).join("")}function s6(e){for(var t=!1,i=0;i<e.length;i++)if(e[i]==="'"&&(t=!t),e[i]==="."&&!t)return i;return e.length}function o6(e,t){return t=t||QB,function(i){if(typeof i!="number"||isNaN(i))return"";var r=r6(e),n=1/i===1/0,a=i>0||n,s=r[a?0:1],o=s6(s),l=[s.substr(0,o),s.substr(o+1)],u=Vb(l[1]),d=u+Nb(l[1]);n6(s)&&(i=cI(i,t6)),a||(i=-i);var c=Vb(l[0]),h=Nb(l[0])||t.unlimitedIntegerDigits?void 0:c,f=Math.floor(i).toString().length,p=Ji(d,0,e6-f),g=i6(l[0]).reverse(),m=pI(i,p<0?0:p).split("."),v=$b(ip(m[0]),c,h),b=$b(m[1],u,d);v=a6(v,g,t.thousandsSeparator);var y=ip(Hb(ip(l[0]),v)),I=d?Hb(l[1],b):"",D=y+(I.match(/\d/)?t.decimalSeparator:"")+I;return D}}function nu(e,t,i){var r=(t?.01:1)*parseFloat(e)||0;return i?-r:r}function zb(e,t,i,r){var n=e,a,s,o;do o&&(a=s.length===o.length?"0":"1",e=r?a+e:e+a),s=o||t(nu(n,i)),n=r?"1"+n:n+"1",o=t(nu(n,i));while(s!==o&&(r?s.length===o.length:s.length<=o.length));if(r&&o.length>s.length){var l=t(12345).indexOf("12345")===-1;do e="1"+e;while(l&&nu(e,i)<1e5)}return e}function Wb(e,t,i,r){var n=t(nu(e,i,r)),a=e.split("."),s=a[0]+".3"+a[1].slice(1),o=nu(s,i,r),l=t(o).indexOf("3")-1;return n=n.replace(/(\d)\D(\d)/g,"$1,$2"),l>=0&&(n=n.slice(0,l)+"."+n.slice(l+1)),n=n.replace(/1+/,"1").replace(/1/g,"#"),i||(n=n.replace("%","'%'")),n}function l6(e){var t=".",i=e(1).indexOf("100")>=0;t=zb(t,e,i,!0),t=zb(t,e,i,!1);var r=Wb(t,e,i,!1),n=Wb(t,e,i,!0);return n==="-"+r?r:r+";"+n}const u6={_formatNumberCore:function(e,t,i){if(t==="currency"){i.precision=i.precision||0;var r=this.format(e,re({},i,{type:"fixedpoint"})),n=this.getCurrencySymbol().symbol.replace(/\$/g,"$$$$");return r=r.replace(/^(\D*)(\d.*)/,"$1"+n+"$2"),r}return this.callBase.apply(this,arguments)},getCurrencySymbol:function(){return{symbol:"$"}},getOpenXmlCurrencyFormat:function(){return"$#,##0{0}_);\\($#,##0{0}\\)"}},d6={"en-150":"en-001","en-AG":"en-001","en-AI":"en-001","en-AU":"en-001","en-BB":"en-001","en-BM":"en-001","en-BS":"en-001","en-BW":"en-001","en-BZ":"en-001","en-CC":"en-001","en-CK":"en-001","en-CM":"en-001","en-CX":"en-001","en-CY":"en-001","en-DG":"en-001","en-DM":"en-001","en-ER":"en-001","en-FJ":"en-001","en-FK":"en-001","en-FM":"en-001","en-GB":"en-001","en-GD":"en-001","en-GG":"en-001","en-GH":"en-001","en-GI":"en-001","en-GM":"en-001","en-GY":"en-001","en-HK":"en-001","en-IE":"en-001","en-IL":"en-001","en-IM":"en-001","en-IN":"en-001","en-IO":"en-001","en-JE":"en-001","en-JM":"en-001","en-KE":"en-001","en-KI":"en-001","en-KN":"en-001","en-KY":"en-001","en-LC":"en-001","en-LR":"en-001","en-LS":"en-001","en-MG":"en-001","en-MO":"en-001","en-MS":"en-001","en-MT":"en-001","en-MU":"en-001","en-MV":"en-001","en-MW":"en-001","en-MY":"en-001","en-NA":"en-001","en-NF":"en-001","en-NG":"en-001","en-NR":"en-001","en-NU":"en-001","en-NZ":"en-001","en-PG":"en-001","en-PK":"en-001","en-PN":"en-001","en-PW":"en-001","en-RW":"en-001","en-SB":"en-001","en-SC":"en-001","en-SD":"en-001","en-SG":"en-001","en-SH":"en-001","en-SL":"en-001","en-SS":"en-001","en-SX":"en-001","en-SZ":"en-001","en-TC":"en-001","en-TK":"en-001","en-TO":"en-001","en-TT":"en-001","en-TV":"en-001","en-TZ":"en-001","en-UG":"en-001","en-VC":"en-001","en-VG":"en-001","en-VU":"en-001","en-WS":"en-001","en-ZA":"en-001","en-ZM":"en-001","en-ZW":"en-001","en-AT":"en-150","en-BE":"en-150","en-CH":"en-150","en-DE":"en-150","en-DK":"en-150","en-FI":"en-150","en-NL":"en-150","en-SE":"en-150","en-SI":"en-150","hi-Latn":"en-IN","es-AR":"es-419","es-BO":"es-419","es-BR":"es-419","es-BZ":"es-419","es-CL":"es-419","es-CO":"es-419","es-CR":"es-419","es-CU":"es-419","es-DO":"es-419","es-EC":"es-419","es-GT":"es-419","es-HN":"es-419","es-MX":"es-419","es-NI":"es-419","es-PA":"es-419","es-PE":"es-419","es-PR":"es-419","es-PY":"es-419","es-SV":"es-419","es-US":"es-419","es-UY":"es-419","es-VE":"es-419",nb:"no",nn:"no","pt-AO":"pt-PT","pt-CH":"pt-PT","pt-CV":"pt-PT","pt-FR":"pt-PT","pt-GQ":"pt-PT","pt-GW":"pt-PT","pt-LU":"pt-PT","pt-MO":"pt-PT","pt-MZ":"pt-PT","pt-ST":"pt-PT","pt-TL":"pt-PT","az-Arab":"und","az-Cyrl":"und","bal-Latn":"und","blt-Latn":"und","bm-Nkoo":"und","bs-Cyrl":"und","byn-Latn":"und","cu-Glag":"und","dje-Arab":"und","dyo-Arab":"und","en-Dsrt":"und","en-Shaw":"und","ff-Adlm":"und","ff-Arab":"und","ha-Arab":"und","iu-Latn":"und","kk-Arab":"und","ks-Deva":"und","ku-Arab":"und","ky-Arab":"und","ky-Latn":"und","ml-Arab":"und","mn-Mong":"und","mni-Mtei":"und","ms-Arab":"und","pa-Arab":"und","sat-Deva":"und","sd-Deva":"und","sd-Khoj":"und","sd-Sind":"und","shi-Latn":"und","so-Arab":"und","sr-Latn":"und","sw-Arab":"und","tg-Arab":"und","ug-Cyrl":"und","uz-Arab":"und","uz-Cyrl":"und","vai-Latn":"und","wo-Arab":"und","yo-Arab":"und","yue-Hans":"und","zh-Hant":"und","zh-Hant-MO":"zh-Hant-HK"};var h6="-";const c6=(e,t)=>{var i=e[t];return i?i!=="root"&&i:t.substr(0,t.lastIndexOf(h6))};var rp="en";const Or=Ur({locale:(()=>{var e=rp;return t=>{if(!t)return e;e=t}})(),getValueByClosestLocale:function(e){for(var t=this.locale(),i=e(t),r;!i&&!r;)t=c6(d6,t),t?i=e(t):r=!0;return i===void 0&&t!==rp?e(rp):i}}),f6=(e,t)=>{if(t){var i=e;if(typeof e=="string"){i="";for(var r=0;r<e.length;r++)e[r]!=="$"&&(i+="\\"),i+=e[r]}for(var n={".00":"{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\¤":i},a=t.split(";"),s=0;s<a.length;s++)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(a[s]=a[s].replace(new RegExp(o,"g"),n[o]));return a.length===2?a[0]+"_);"+a[1]:a[0]}},p6={af:"¤#,##0.00;(¤#,##0.00)","af-NA":"¤#,##0.00;(¤#,##0.00)",agq:"#,##0.00¤",ak:"¤#,##0.00",am:"¤#,##0.00;(¤#,##0.00)",ar:"¤#,##0.00;(¤#,##0.00)","ar-AE":"¤#,##0.00;(¤#,##0.00)","ar-BH":"¤#,##0.00;(¤#,##0.00)","ar-DJ":"¤#,##0.00;(¤#,##0.00)","ar-DZ":"¤#,##0.00;(¤#,##0.00)","ar-EG":"¤#,##0.00;(¤#,##0.00)","ar-EH":"¤#,##0.00;(¤#,##0.00)","ar-ER":"¤#,##0.00;(¤#,##0.00)","ar-IL":"¤#,##0.00;(¤#,##0.00)","ar-IQ":"¤#,##0.00;(¤#,##0.00)","ar-JO":"¤#,##0.00;(¤#,##0.00)","ar-KM":"¤#,##0.00;(¤#,##0.00)","ar-KW":"¤#,##0.00;(¤#,##0.00)","ar-LB":"¤#,##0.00;(¤#,##0.00)","ar-LY":"¤#,##0.00;(¤#,##0.00)","ar-MA":"¤#,##0.00;(¤#,##0.00)","ar-MR":"¤#,##0.00;(¤#,##0.00)","ar-OM":"¤#,##0.00;(¤#,##0.00)","ar-PS":"¤#,##0.00;(¤#,##0.00)","ar-QA":"¤#,##0.00;(¤#,##0.00)","ar-SA":"¤#,##0.00;(¤#,##0.00)","ar-SD":"¤#,##0.00;(¤#,##0.00)","ar-SO":"¤#,##0.00;(¤#,##0.00)","ar-SS":"¤#,##0.00;(¤#,##0.00)","ar-SY":"¤#,##0.00;(¤#,##0.00)","ar-TD":"¤#,##0.00;(¤#,##0.00)","ar-TN":"¤#,##0.00;(¤#,##0.00)","ar-YE":"¤#,##0.00;(¤#,##0.00)",as:"¤ #,##,##0.00",asa:"#,##0.00 ¤",ast:"#,##0.00 ¤",az:"#,##0.00 ¤","az-Cyrl":"#,##0.00 ¤","az-Latn":"#,##0.00 ¤",bas:"#,##0.00 ¤",be:"#,##0.00 ¤","be-tarask":"#,##0.00 ¤",bem:"¤#,##0.00;(¤#,##0.00)",bez:"#,##0.00¤",bg:"0.00 ¤;(0.00 ¤)",bm:"¤#,##0.00;(¤#,##0.00)",bn:"#,##,##0.00¤;(#,##,##0.00¤)","bn-IN":"#,##,##0.00¤;(#,##,##0.00¤)",bo:"¤ #,##0.00","bo-IN":"¤ #,##0.00",br:"#,##0.00 ¤",brx:"¤ #,##,##0.00",bs:"#,##0.00 ¤","bs-Cyrl":"#,##0.00 ¤","bs-Latn":"#,##0.00 ¤",ca:"#,##0.00 ¤;(#,##0.00 ¤)","ca-AD":"#,##0.00 ¤;(#,##0.00 ¤)","ca-ES-valencia":"#,##0.00 ¤;(#,##0.00 ¤)","ca-FR":"#,##0.00 ¤;(#,##0.00 ¤)","ca-IT":"#,##0.00 ¤;(#,##0.00 ¤)",ccp:"#,##,##0.00¤;(#,##,##0.00¤)","ccp-IN":"#,##,##0.00¤;(#,##,##0.00¤)",ce:"#,##0.00 ¤",ceb:"¤#,##0.00;(¤#,##0.00)",cgg:"¤#,##0.00",chr:"¤#,##0.00;(¤#,##0.00)",ckb:"¤ #,##0.00","ckb-IR":"¤ #,##0.00",cs:"#,##0.00 ¤",cy:"¤#,##0.00;(¤#,##0.00)",da:"#,##0.00 ¤","da-GL":"#,##0.00 ¤",dav:"¤#,##0.00;(¤#,##0.00)",de:"#,##0.00 ¤","de-AT":"#,##0.00 ¤","de-BE":"#,##0.00 ¤","de-CH":"#,##0.00 ¤","de-IT":"#,##0.00 ¤","de-LI":"#,##0.00 ¤","de-LU":"#,##0.00 ¤",dje:"#,##0.00¤",doi:"¤#,##0.00",dsb:"#,##0.00 ¤",dua:"#,##0.00 ¤",dyo:"#,##0.00 ¤",dz:"¤#,##,##0.00",ebu:"¤#,##0.00;(¤#,##0.00)",ee:"¤#,##0.00;(¤#,##0.00)","ee-TG":"¤#,##0.00;(¤#,##0.00)",el:"#,##0.00 ¤","el-CY":"#,##0.00 ¤",en:"¤#,##0.00;(¤#,##0.00)","en-001":"¤#,##0.00;(¤#,##0.00)","en-150":"#,##0.00 ¤","en-AE":"¤#,##0.00;(¤#,##0.00)","en-AG":"¤#,##0.00;(¤#,##0.00)","en-AI":"¤#,##0.00;(¤#,##0.00)","en-AS":"¤#,##0.00;(¤#,##0.00)","en-AT":"¤ #,##0.00","en-AU":"¤#,##0.00;(¤#,##0.00)","en-BB":"¤#,##0.00;(¤#,##0.00)","en-BE":"#,##0.00 ¤","en-BI":"¤#,##0.00;(¤#,##0.00)","en-BM":"¤#,##0.00;(¤#,##0.00)","en-BS":"¤#,##0.00;(¤#,##0.00)","en-BW":"¤#,##0.00;(¤#,##0.00)","en-BZ":"¤#,##0.00;(¤#,##0.00)","en-CA":"¤#,##0.00;(¤#,##0.00)","en-CC":"¤#,##0.00;(¤#,##0.00)","en-CH":"¤ #,##0.00;¤-#,##0.00","en-CK":"¤#,##0.00;(¤#,##0.00)","en-CM":"¤#,##0.00;(¤#,##0.00)","en-CX":"¤#,##0.00;(¤#,##0.00)","en-CY":"¤#,##0.00;(¤#,##0.00)","en-DE":"#,##0.00 ¤","en-DG":"¤#,##0.00;(¤#,##0.00)","en-DK":"#,##0.00 ¤","en-DM":"¤#,##0.00;(¤#,##0.00)","en-ER":"¤#,##0.00;(¤#,##0.00)","en-FI":"#,##0.00 ¤","en-FJ":"¤#,##0.00;(¤#,##0.00)","en-FK":"¤#,##0.00;(¤#,##0.00)","en-FM":"¤#,##0.00;(¤#,##0.00)","en-GB":"¤#,##0.00;(¤#,##0.00)","en-GD":"¤#,##0.00;(¤#,##0.00)","en-GG":"¤#,##0.00;(¤#,##0.00)","en-GH":"¤#,##0.00;(¤#,##0.00)","en-GI":"¤#,##0.00;(¤#,##0.00)","en-GM":"¤#,##0.00;(¤#,##0.00)","en-GU":"¤#,##0.00;(¤#,##0.00)","en-GY":"¤#,##0.00;(¤#,##0.00)","en-HK":"¤#,##0.00;(¤#,##0.00)","en-IE":"¤#,##0.00;(¤#,##0.00)","en-IL":"¤#,##0.00;(¤#,##0.00)","en-IM":"¤#,##0.00;(¤#,##0.00)","en-IN":"¤#,##0.00;(¤#,##0.00)","en-IO":"¤#,##0.00;(¤#,##0.00)","en-JE":"¤#,##0.00;(¤#,##0.00)","en-JM":"¤#,##0.00;(¤#,##0.00)","en-KE":"¤#,##0.00;(¤#,##0.00)","en-KI":"¤#,##0.00;(¤#,##0.00)","en-KN":"¤#,##0.00;(¤#,##0.00)","en-KY":"¤#,##0.00;(¤#,##0.00)","en-LC":"¤#,##0.00;(¤#,##0.00)","en-LR":"¤#,##0.00;(¤#,##0.00)","en-LS":"¤#,##0.00;(¤#,##0.00)","en-MG":"¤#,##0.00;(¤#,##0.00)","en-MH":"¤#,##0.00;(¤#,##0.00)","en-MO":"¤#,##0.00;(¤#,##0.00)","en-MP":"¤#,##0.00;(¤#,##0.00)","en-MS":"¤#,##0.00;(¤#,##0.00)","en-MT":"¤#,##0.00;(¤#,##0.00)","en-MU":"¤#,##0.00;(¤#,##0.00)","en-MV":"¤ #,##0.00","en-MW":"¤#,##0.00;(¤#,##0.00)","en-MY":"¤#,##0.00;(¤#,##0.00)","en-NA":"¤#,##0.00;(¤#,##0.00)","en-NF":"¤#,##0.00;(¤#,##0.00)","en-NG":"¤#,##0.00;(¤#,##0.00)","en-NL":"¤ #,##0.00;(¤ #,##0.00)","en-NR":"¤#,##0.00;(¤#,##0.00)","en-NU":"¤#,##0.00;(¤#,##0.00)","en-NZ":"¤#,##0.00;(¤#,##0.00)","en-PG":"¤#,##0.00;(¤#,##0.00)","en-PH":"¤#,##0.00;(¤#,##0.00)","en-PK":"¤#,##0.00;(¤#,##0.00)","en-PN":"¤#,##0.00;(¤#,##0.00)","en-PR":"¤#,##0.00;(¤#,##0.00)","en-PW":"¤#,##0.00;(¤#,##0.00)","en-RW":"¤#,##0.00;(¤#,##0.00)","en-SB":"¤#,##0.00;(¤#,##0.00)","en-SC":"¤#,##0.00;(¤#,##0.00)","en-SD":"¤#,##0.00;(¤#,##0.00)","en-SE":"#,##0.00 ¤","en-SG":"¤#,##0.00;(¤#,##0.00)","en-SH":"¤#,##0.00;(¤#,##0.00)","en-SI":"#,##0.00 ¤;(#,##0.00 ¤)","en-SL":"¤#,##0.00;(¤#,##0.00)","en-SS":"¤#,##0.00;(¤#,##0.00)","en-SX":"¤#,##0.00;(¤#,##0.00)","en-SZ":"¤#,##0.00;(¤#,##0.00)","en-TC":"¤#,##0.00;(¤#,##0.00)","en-TK":"¤#,##0.00;(¤#,##0.00)","en-TO":"¤#,##0.00;(¤#,##0.00)","en-TT":"¤#,##0.00;(¤#,##0.00)","en-TV":"¤#,##0.00;(¤#,##0.00)","en-TZ":"¤#,##0.00;(¤#,##0.00)","en-UG":"¤#,##0.00;(¤#,##0.00)","en-UM":"¤#,##0.00;(¤#,##0.00)","en-VC":"¤#,##0.00;(¤#,##0.00)","en-VG":"¤#,##0.00;(¤#,##0.00)","en-VI":"¤#,##0.00;(¤#,##0.00)","en-VU":"¤#,##0.00;(¤#,##0.00)","en-WS":"¤#,##0.00;(¤#,##0.00)","en-ZA":"¤#,##0.00;(¤#,##0.00)","en-ZM":"¤#,##0.00;(¤#,##0.00)","en-ZW":"¤#,##0.00;(¤#,##0.00)",eo:"¤ #,##0.00",es:"#,##0.00 ¤","es-419":"¤#,##0.00","es-AR":"¤ #,##0.00;(¤ #,##0.00)","es-BO":"¤#,##0.00","es-BR":"¤#,##0.00","es-BZ":"¤#,##0.00","es-CL":"¤#,##0.00","es-CO":"¤#,##0.00","es-CR":"¤#,##0.00","es-CU":"¤#,##0.00","es-DO":"¤#,##0.00;(¤#,##0.00)","es-EA":"#,##0.00 ¤","es-EC":"¤#,##0.00","es-GQ":"#,##0.00 ¤","es-GT":"¤#,##0.00","es-HN":"¤#,##0.00","es-IC":"#,##0.00 ¤","es-MX":"¤#,##0.00","es-NI":"¤#,##0.00","es-PA":"¤#,##0.00","es-PE":"¤#,##0.00","es-PH":"#,##0.00 ¤","es-PR":"¤#,##0.00","es-PY":"¤#,##0.00","es-SV":"¤#,##0.00","es-US":"¤#,##0.00","es-UY":"¤ #,##0.00;(¤ #,##0.00)","es-VE":"¤#,##0.00",et:"#,##0.00 ¤;(#,##0.00 ¤)",eu:"#,##0.00 ¤;(#,##0.00 ¤)",ewo:"#,##0.00 ¤",fa:"‎¤ #,##0.00;‎(¤ #,##0.00)","fa-AF":"¤ #,##0.00;‎(¤ #,##0.00)",ff:"#,##0.00 ¤","ff-Adlm":"¤ #,##0.00","ff-Adlm-BF":"¤ #,##0.00","ff-Adlm-CM":"¤ #,##0.00","ff-Adlm-GH":"¤ #,##0.00","ff-Adlm-GM":"¤ #,##0.00","ff-Adlm-GW":"¤ #,##0.00","ff-Adlm-LR":"¤ #,##0.00","ff-Adlm-MR":"¤ #,##0.00","ff-Adlm-NE":"¤ #,##0.00","ff-Adlm-NG":"¤ #,##0.00","ff-Adlm-SL":"¤ #,##0.00","ff-Adlm-SN":"¤ #,##0.00","ff-Latn":"#,##0.00 ¤","ff-Latn-BF":"#,##0.00 ¤","ff-Latn-CM":"#,##0.00 ¤","ff-Latn-GH":"#,##0.00 ¤","ff-Latn-GM":"#,##0.00 ¤","ff-Latn-GN":"#,##0.00 ¤","ff-Latn-GW":"#,##0.00 ¤","ff-Latn-LR":"#,##0.00 ¤","ff-Latn-MR":"#,##0.00 ¤","ff-Latn-NE":"#,##0.00 ¤","ff-Latn-NG":"#,##0.00 ¤","ff-Latn-SL":"#,##0.00 ¤",fi:"#,##0.00 ¤",fil:"¤#,##0.00;(¤#,##0.00)",fo:"#,##0.00 ¤;(#,##0.00 ¤)","fo-DK":"#,##0.00 ¤;(#,##0.00 ¤)",fr:"#,##0.00 ¤;(#,##0.00 ¤)","fr-BE":"#,##0.00 ¤;(#,##0.00 ¤)","fr-BF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-BI":"#,##0.00 ¤;(#,##0.00 ¤)","fr-BJ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-BL":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CA":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CD":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CG":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CH":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CI":"#,##0.00 ¤;(#,##0.00 ¤)","fr-CM":"#,##0.00 ¤;(#,##0.00 ¤)","fr-DJ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-DZ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GA":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GN":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GP":"#,##0.00 ¤;(#,##0.00 ¤)","fr-GQ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-HT":"#,##0.00 ¤;(#,##0.00 ¤)","fr-KM":"#,##0.00 ¤;(#,##0.00 ¤)","fr-LU":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MA":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MC":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MG":"#,##0.00 ¤;(#,##0.00 ¤)","fr-ML":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MQ":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MR":"#,##0.00 ¤;(#,##0.00 ¤)","fr-MU":"#,##0.00 ¤;(#,##0.00 ¤)","fr-NC":"#,##0.00 ¤;(#,##0.00 ¤)","fr-NE":"#,##0.00 ¤;(#,##0.00 ¤)","fr-PF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-PM":"#,##0.00 ¤;(#,##0.00 ¤)","fr-RE":"#,##0.00 ¤;(#,##0.00 ¤)","fr-RW":"#,##0.00 ¤;(#,##0.00 ¤)","fr-SC":"#,##0.00 ¤;(#,##0.00 ¤)","fr-SN":"#,##0.00 ¤;(#,##0.00 ¤)","fr-SY":"#,##0.00 ¤;(#,##0.00 ¤)","fr-TD":"#,##0.00 ¤;(#,##0.00 ¤)","fr-TG":"#,##0.00 ¤;(#,##0.00 ¤)","fr-TN":"#,##0.00 ¤;(#,##0.00 ¤)","fr-VU":"#,##0.00 ¤;(#,##0.00 ¤)","fr-WF":"#,##0.00 ¤;(#,##0.00 ¤)","fr-YT":"#,##0.00 ¤;(#,##0.00 ¤)",fur:"¤ #,##0.00",fy:"¤ #,##0.00;(¤ #,##0.00)",ga:"¤#,##0.00;(¤#,##0.00)","ga-GB":"¤#,##0.00;(¤#,##0.00)",gd:"¤#,##0.00;(¤#,##0.00)",gl:"#,##0.00 ¤",gsw:"#,##0.00 ¤","gsw-FR":"#,##0.00 ¤","gsw-LI":"#,##0.00 ¤",gu:"¤#,##,##0.00;(¤#,##,##0.00)",guz:"¤#,##0.00;(¤#,##0.00)",gv:"¤#,##0.00",ha:"¤ #,##0.00","ha-GH":"¤ #,##0.00","ha-NE":"¤ #,##0.00",haw:"¤#,##0.00;(¤#,##0.00)",he:"#,##0.00 ¤",hi:"¤#,##,##0.00","hi-Latn":"¤#,##,##0.00",hr:"#,##0.00 ¤","hr-BA":"#,##0.00 ¤",hsb:"#,##0.00 ¤",hu:"#,##0.00 ¤",hy:"#,##0.00 ¤",ia:"¤ #,##0.00;(¤ #,##0.00)",id:"¤#,##0.00",ig:"¤#,##0.00;(¤#,##0.00)",ii:"¤ #,##0.00",is:"#,##0.00 ¤",it:"#,##0.00 ¤","it-CH":"#,##0.00 ¤","it-SM":"#,##0.00 ¤","it-VA":"#,##0.00 ¤",ja:"¤#,##0.00;(¤#,##0.00)",jgo:"¤ #,##0.00",jmc:"¤#,##0.00",jv:"¤ #,##0.00",ka:"#,##0.00 ¤",kab:"#,##0.00¤",kam:"¤#,##0.00;(¤#,##0.00)",kde:"¤#,##0.00;(¤#,##0.00)",kea:"#,##0.00 ¤;(#,##0.00 ¤)",kgp:"¤ #,##0.00",khq:"#,##0.00¤",ki:"¤#,##0.00;(¤#,##0.00)",kk:"#,##0.00 ¤",kkj:"¤ #,##0.00",kl:"¤#,##0.00;¤-#,##0.00",kln:"¤#,##0.00;(¤#,##0.00)",km:"#,##0.00¤;(#,##0.00¤)",kn:"¤#,##0.00;(¤#,##0.00)",ko:"¤#,##0.00;(¤#,##0.00)","ko-KP":"¤#,##0.00;(¤#,##0.00)",kok:"¤#,##0.00;(¤#,##0.00)",ks:"¤#,##0.00","ks-Arab":"¤#,##0.00","ks-Deva":"¤ #,##0.00",ksb:"#,##0.00¤",ksf:"#,##0.00 ¤",ksh:"#,##0.00 ¤",ku:"#,##0.00 ¤;(#,##0.00 ¤)",kw:"¤#,##0.00",ky:"#,##0.00 ¤",lag:"¤ #,##0.00",lb:"#,##0.00 ¤",lg:"#,##0.00¤",lkt:"¤ #,##0.00",ln:"#,##0.00 ¤","ln-AO":"#,##0.00 ¤","ln-CF":"#,##0.00 ¤","ln-CG":"#,##0.00 ¤",lo:"¤#,##0.00;¤-#,##0.00",lrc:"¤ #,##0.00","lrc-IQ":"¤ #,##0.00",lt:"#,##0.00 ¤",lu:"#,##0.00¤",luo:"#,##0.00¤",luy:"¤#,##0.00;¤- #,##0.00",lv:"#,##0.00 ¤",mai:"¤ #,##0.00",mas:"¤#,##0.00;(¤#,##0.00)","mas-TZ":"¤#,##0.00;(¤#,##0.00)",mer:"¤#,##0.00;(¤#,##0.00)",mfe:"¤ #,##0.00",mg:"¤#,##0.00",mgh:"¤ #,##0.00",mgo:"¤ #,##0.00",mi:"¤ #,##0.00",mk:"#,##0.00 ¤",ml:"¤#,##0.00;(¤#,##0.00)",mn:"¤ #,##0.00",mni:"¤ #,##0.00","mni-Beng":"¤ #,##0.00",mr:"¤#,##0.00;(¤#,##0.00)",ms:"¤#,##0.00;(¤#,##0.00)","ms-BN":"¤#,##0.00;(¤#,##0.00)","ms-ID":"¤#,##0.00","ms-SG":"¤#,##0.00;(¤#,##0.00)",mt:"¤#,##0.00",mua:"¤#,##0.00;(¤#,##0.00)",my:"¤ #,##0.00",mzn:"¤ #,##0.00",naq:"¤#,##0.00",nb:"¤ #,##0.00;(¤ #,##0.00)","nb-SJ":"¤ #,##0.00;(¤ #,##0.00)",nd:"¤#,##0.00;(¤#,##0.00)",nds:"¤ #,##0.00","nds-NL":"¤ #,##0.00",ne:"¤ #,##,##0.00","ne-IN":"¤ #,##,##0.00",nl:"¤ #,##0.00;(¤ #,##0.00)","nl-AW":"¤ #,##0.00;(¤ #,##0.00)","nl-BE":"¤ #,##0.00;(¤ #,##0.00)","nl-BQ":"¤ #,##0.00;(¤ #,##0.00)","nl-CW":"¤ #,##0.00;(¤ #,##0.00)","nl-SR":"¤ #,##0.00;(¤ #,##0.00)","nl-SX":"¤ #,##0.00;(¤ #,##0.00)",nmg:"#,##0.00 ¤",nn:"#,##0.00 ¤",nnh:"¤ #,##0.00",no:"¤ #,##0.00;(¤ #,##0.00)",nus:"¤#,##0.00;(¤#,##0.00)",nyn:"¤#,##0.00",om:"¤#,##0.00","om-KE":"¤#,##0.00",or:"¤#,##0.00;(¤#,##0.00)",os:"¤ #,##0.00","os-RU":"¤ #,##0.00",pa:"¤ #,##0.00","pa-Arab":"¤ #,##0.00","pa-Guru":"¤ #,##0.00",pcm:"¤#,##0.00",pl:"#,##0.00 ¤;(#,##0.00 ¤)",ps:"¤#,##0.00;(¤#,##0.00)","ps-PK":"¤#,##0.00;(¤#,##0.00)",pt:"¤ #,##0.00","pt-AO":"#,##0.00 ¤;(#,##0.00 ¤)","pt-CH":"#,##0.00 ¤;(#,##0.00 ¤)","pt-CV":"#,##0.00 ¤;(#,##0.00 ¤)","pt-GQ":"#,##0.00 ¤;(#,##0.00 ¤)","pt-GW":"#,##0.00 ¤;(#,##0.00 ¤)","pt-LU":"#,##0.00 ¤;(#,##0.00 ¤)","pt-MO":"#,##0.00 ¤;(#,##0.00 ¤)","pt-MZ":"#,##0.00 ¤;(#,##0.00 ¤)","pt-PT":"#,##0.00 ¤;(#,##0.00 ¤)","pt-ST":"#,##0.00 ¤;(#,##0.00 ¤)","pt-TL":"#,##0.00 ¤;(#,##0.00 ¤)",qu:"¤ #,##0.00","qu-BO":"¤ #,##0.00","qu-EC":"¤ #,##0.00",rm:"#,##0.00 ¤",rn:"#,##0.00¤",ro:"#,##0.00 ¤;(#,##0.00 ¤)","ro-MD":"#,##0.00 ¤;(#,##0.00 ¤)",rof:"¤#,##0.00",ru:"#,##0.00 ¤","ru-BY":"#,##0.00 ¤","ru-KG":"#,##0.00 ¤","ru-KZ":"#,##0.00 ¤","ru-MD":"#,##0.00 ¤","ru-UA":"#,##0.00 ¤",rw:"¤ #,##0.00",rwk:"#,##0.00¤",sa:"¤ #,##0.00",sah:"#,##0.00 ¤",saq:"¤#,##0.00;(¤#,##0.00)",sat:"¤ #,##0.00","sat-Olck":"¤ #,##0.00",sbp:"#,##0.00¤",sc:"#,##0.00 ¤",sd:"¤ #,##0.00","sd-Arab":"¤ #,##0.00","sd-Deva":"¤ #,##0.00",se:"#,##0.00 ¤","se-FI":"#,##0.00 ¤","se-SE":"#,##0.00 ¤",seh:"#,##0.00¤",ses:"#,##0.00¤",sg:"¤#,##0.00;¤-#,##0.00",shi:"#,##0.00¤","shi-Latn":"#,##0.00¤","shi-Tfng":"#,##0.00¤",si:"¤#,##0.00;(¤#,##0.00)",sk:"#,##0.00 ¤;(#,##0.00 ¤)",sl:"#,##0.00 ¤;(#,##0.00 ¤)",smn:"#,##0.00 ¤",sn:"¤#,##0.00;(¤#,##0.00)",so:"¤#,##0.00;(¤#,##0.00)","so-DJ":"¤#,##0.00;(¤#,##0.00)","so-ET":"¤#,##0.00;(¤#,##0.00)","so-KE":"¤#,##0.00;(¤#,##0.00)",sq:"#,##0.00 ¤;(#,##0.00 ¤)","sq-MK":"#,##0.00 ¤;(#,##0.00 ¤)","sq-XK":"#,##0.00 ¤;(#,##0.00 ¤)",sr:"#,##0.00 ¤;(#,##0.00 ¤)","sr-Cyrl":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Cyrl-BA":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Cyrl-ME":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Cyrl-XK":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Latn":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Latn-BA":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Latn-ME":"#,##0.00 ¤;(#,##0.00 ¤)","sr-Latn-XK":"#,##0.00 ¤;(#,##0.00 ¤)",su:"¤#,##0.00","su-Latn":"¤#,##0.00",sv:"#,##0.00 ¤","sv-AX":"#,##0.00 ¤","sv-FI":"#,##0.00 ¤",sw:"¤ #,##0.00","sw-CD":"¤ #,##0.00","sw-KE":"¤ #,##0.00","sw-UG":"¤ #,##0.00",ta:"¤#,##0.00;(¤#,##0.00)","ta-LK":"¤#,##0.00;(¤#,##0.00)","ta-MY":"¤#,##0.00;(¤#,##0.00)","ta-SG":"¤#,##0.00;(¤#,##0.00)",te:"¤#,##0.00;(¤#,##0.00)",teo:"¤#,##0.00;(¤#,##0.00)","teo-KE":"¤#,##0.00;(¤#,##0.00)",tg:"#,##0.00 ¤",th:"¤#,##0.00;(¤#,##0.00)",ti:"¤#,##0.00","ti-ER":"¤#,##0.00",tk:"#,##0.00 ¤",to:"¤ #,##0.00",tr:"¤#,##0.00;(¤#,##0.00)","tr-CY":"¤#,##0.00;(¤#,##0.00)",tt:"#,##0.00 ¤",twq:"#,##0.00¤",tzm:"#,##0.00 ¤",ug:"¤#,##0.00;(¤#,##0.00)",uk:"#,##0.00 ¤",und:"¤ #,##0.00",ur:"¤#,##0.00;(¤#,##0.00)","ur-IN":"¤#,##0.00;(¤#,##0.00)",uz:"#,##0.00 ¤","uz-Arab":"¤ #,##0.00","uz-Cyrl":"#,##0.00 ¤","uz-Latn":"#,##0.00 ¤",vai:"¤#,##0.00;(¤#,##0.00)","vai-Latn":"¤#,##0.00;(¤#,##0.00)","vai-Vaii":"¤#,##0.00;(¤#,##0.00)",vi:"#,##0.00 ¤",vun:"¤#,##0.00",wae:"¤ #,##0.00",wo:"¤ #,##0.00",xh:"¤#,##0.00",xog:"#,##0.00 ¤",yav:"#,##0.00 ¤;(#,##0.00 ¤)",yi:"¤ #,##0.00",yo:"¤#,##0.00;(¤#,##0.00)","yo-BJ":"¤#,##0.00;(¤#,##0.00)",yrl:"¤ #,##0.00","yrl-CO":"¤ #,##0.00","yrl-VE":"¤ #,##0.00",yue:"¤#,##0.00;(¤#,##0.00)","yue-Hans":"¤#,##0.00;(¤#,##0.00)","yue-Hant":"¤#,##0.00;(¤#,##0.00)",zgh:"#,##0.00¤",zh:"¤#,##0.00;(¤#,##0.00)","zh-Hans":"¤#,##0.00;(¤#,##0.00)","zh-Hans-HK":"¤#,##0.00;(¤#,##0.00)","zh-Hans-MO":"¤#,##0.00;(¤#,##0.00)","zh-Hans-SG":"¤#,##0.00;(¤#,##0.00)","zh-Hant":"¤#,##0.00;(¤#,##0.00)","zh-Hant-HK":"¤#,##0.00;(¤#,##0.00)","zh-Hant-MO":"¤#,##0.00;(¤#,##0.00)",zu:"¤#,##0.00;(¤#,##0.00)"};var m6=["standard","accounting"],g6=/([^\s0]+)?(\s*)0*[.,]*0*(\s*)([^\s0]+)?/,np={},jb=e=>{var t=Or.locale()+"/"+JSON.stringify(e);return np[t]||(np[t]=new Intl.NumberFormat(Or.locale(),e).format),np[t]},v6=e=>new Intl.NumberFormat(Or.locale(),{style:"currency",currency:e});const _6={engine:function(){return"intl"},_formatNumberCore:function(e,t,i){return t==="exponential"?this.callBase.apply(this,arguments):jb(this._normalizeFormatConfig(t,i,e))(e)},_normalizeFormatConfig:function(e,t,i){var r;if(e==="decimal"?r={minimumIntegerDigits:t.precision||void 0,useGrouping:!1,maximumFractionDigits:String(i).length,round:i<0?"ceil":"floor"}:r=this._getPrecisionConfig(t.precision),e==="percent")r.style="percent";else if(e==="currency"){var n,a=(n=t.useCurrencyAccountingStyle)!==null&&n!==void 0?n:Jt().defaultUseCurrencyAccountingStyle;r.style="currency",r.currency=t.currency||Jt().defaultCurrency,r.currencySign=m6[+a]}return r},_getPrecisionConfig:function(e){var t;return e===null?t={minimumFractionDigits:0,maximumFractionDigits:20}:t={minimumFractionDigits:e||0,maximumFractionDigits:e||0},t},format:function(e,t){return typeof e!="number"?e:(t=this._normalizeFormat(t),t.currency==="default"&&(t.currency=Jt().defaultCurrency),!t||typeof t!="function"&&!t.type&&!t.formatter?jb(t)(e):this.callBase.apply(this,arguments))},_getCurrencySymbolInfo:function(e){var t=v6(e);return this._extractCurrencySymbolInfo(t.format(0))},_extractCurrencySymbolInfo:function(e){var t=g6.exec(e)||[],i=t[1]?"before":"after",r=t[1]||t[4]||"",n=t[2]||t[3]||"";return{position:i,symbol:r,delimiter:n}},getCurrencySymbol:function(e){e||(e=Jt().defaultCurrency);var t=this._getCurrencySymbolInfo(e);return{symbol:t.symbol}},getOpenXmlCurrencyFormat:function(e){var t=e||Jt().defaultCurrency,i=this._getCurrencySymbolInfo(t).symbol,r=Or.getValueByClosestLocale(n=>p6[n]);return f6(i,r)}};var b6=typeof Intl<"u",y6=4,Od=10,Ub=["currency","fixedpoint","exponential","percent","decimal"],ap={1:"K",2:"M",3:"B",4:"T"},Gb={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},Wt=Ur({engine:function(){return"base"},numericFormats:Ub,defaultLargeNumberFormatPostfixes:ap,_parseNumberFormatString:function(e){var t={};if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(" ");if(le(i,(r,n)=>{Ub.includes(n)?t.formatType=n:n in Gb&&(t.power=Gb[n])}),t.power&&!t.formatType&&(t.formatType="fixedpoint"),t.formatType)return t}},_calculateNumberPower:function(e,t,i,r){var n=Math.abs(e),a=0;if(n>1)for(;n&&n>=t&&(r===void 0||a<r);)a++,n/=t;else if(n>0&&n<1)for(;n<1&&(i===void 0||a>i);)a--,n*=t;return a},_getNumberByPower:function(e,t,i){for(var r=e;t>0;)r/=i,t--;for(;t<0;)r*=i,t++;return r},_formatNumber:function(e,t,i){t.power==="auto"&&(t.power=this._calculateNumberPower(e,1e3,0,y6)),t.power&&(e=this._getNumberByPower(e,t.power,1e3));var r=this.defaultLargeNumberFormatPostfixes[t.power]||"",n=this._formatNumberCore(e,t.formatType,i);return n=n.replace(/(\d|.$)(\D*)$/,"$1"+r+"$2"),n},_formatNumberExponential:function(e,t){var i=this._calculateNumberPower(e,Od),r=this._getNumberByPower(e,i,Od);t.precision===void 0&&(t.precision=1),r.toFixed(t.precision||0)>=Od&&(i++,r/=Od);var n=(i>=0?"+":"")+i.toString();return this._formatNumberCore(r,"fixedpoint",t)+"E"+n},_addZeroes:function(e,t){var i=Math.pow(10,t),r=e<0?"-":"";e=(Math.abs(e)*i>>>0)/i;for(var n=e.toString();n.length<t;)n="0"+n;return r+n},_addGroupSeparators:function(e){var t=e.toString().split(".");return t[0].replace(/\B(?=(\d{3})+(?!\d))/g,Jt().thousandsSeparator)+(t[1]?Jt().decimalSeparator+t[1]:"")},_formatNumberCore:function(e,t,i){return t==="exponential"?this._formatNumberExponential(e,i):(t!=="decimal"&&i.precision!==null&&(i.precision=i.precision||0),t==="percent"&&(e*=100),i.precision!==void 0&&(t==="decimal"?e=this._addZeroes(e,i.precision):e=i.precision===null?e.toPrecision():pI(e,i.precision)),t!=="decimal"?e=this._addGroupSeparators(e):e=e.toString().replace(".",Jt().decimalSeparator),t==="percent"&&(e+="%"),e)},_normalizeFormat:function(e){return e?(typeof e=="function"||ft(e)||(e={type:e}),e):{}},_getSeparators:function(){return{decimalSeparator:this.getDecimalSeparator(),thousandsSeparator:this.getThousandsSeparator()}},getThousandsSeparator:function(){return this.format(1e4,"fixedPoint")[2]},getDecimalSeparator:function(){return this.format(1.2,{type:"fixedPoint",precision:1})[1]},convertDigits:function(e,t){var i=this.format(90,"decimal");if(typeof e!="string"||i[1]==="0")return e;var r=t?i[1]:"0",n=t?"0":i[1],a=t?i[0]:"9",s=new RegExp("["+r+"-"+a+"]","g");return e.replace(s,o=>String.fromCharCode(o.charCodeAt(0)+(n.charCodeAt(0)-r.charCodeAt(0))))},getNegativeEtalonRegExp:function(e){var t=this._getSeparators(),i=new RegExp("[0-9"+ka(t.decimalSeparator+t.thousandsSeparator)+"]+","g"),r=this.format(-1,e).replace(i,"1");return["\\","(",")","[","]","*","+","$","^","?","|","{","}"].forEach(n=>{r=r.replace(new RegExp("\\".concat(n),"g"),"\\".concat(n))}),r=r.replace(/ /g,"\\s"),r=r.replace(/1/g,".*"),new RegExp(r,"g")},getSign:function(e,t){if(!t)return e.replace(/[^0-9-]/g,"").charAt(0)==="-"?-1:1;var i=this.getNegativeEtalonRegExp(t);return e.match(i)?-1:1},format:function(e,t){if(typeof e!="number"||typeof t=="number")return e;if(t=t&&t.formatter||t,typeof t=="function")return t(e);t=this._normalizeFormat(t),t.type||(t.type="decimal");var i=this._parseNumberFormatString(t.type);if(!i){var r=this._getSeparators();return r.unlimitedIntegerDigits=t.unlimitedIntegerDigits,this.convertDigits(o6(t.type,r)(e))}return this._formatNumber(e,i,t)},parse:function(e,t){if(e){if(t&&t.parser)return t.parser(e);e=this.convertDigits(e,!0),t&&typeof t!="string"&&$t.log("W0011");var i=this.getDecimalSeparator(),r=new RegExp("[^0-9"+ka(i)+"]","g"),n=e.replace(r,"").replace(i,".").replace(/\.$/g,"");if(n==="."||n==="")return null;if(this._calcSignificantDigits(n)>15)return NaN;var a=+n*this.getSign(e,t);t=this._normalizeFormat(t);var s=this._parseNumberFormatString(t.type),o=s==null?void 0:s.power;if(o){if(o==="auto"){var l=e.match(/\d(K|M|B|T)/);l&&(o=Object.keys(ap).find(u=>ap[u]===l[1]))}a*=Math.pow(10,3*o)}return(s==null?void 0:s.formatType)==="percent"&&(a/=100),a}},_calcSignificantDigits:function(e){var[t,i]=e.split("."),r=a=>{for(var s=-1,o=0;o<a.length;o++)if(a[o]!=="0"){s=o;break}return s>-1?a.length-s:0},n=0;return t&&(n+=r(t.split(""))),i&&(n+=r(i.split("").reverse())),n}});Wt.inject(u6);b6&&Wt.inject(_6);function kr(e,t){for(;e.length<t;)e="0"+e;return e}var pl={3:"abbreviated",4:"wide",5:"narrow"},Fg={y:function(e,t,i){var r=e[i?"getUTCFullYear":"getFullYear"]();return t===2&&(r%=100),kr(r.toString(),t)},M:function(e,t,i,r){var n=e[i?"getUTCMonth":"getMonth"](),a=pl[t];return a?r.getMonthNames(a,"format")[n]:kr((n+1).toString(),Math.min(t,2))},L:function(e,t,i,r){var n=e[i?"getUTCMonth":"getMonth"](),a=pl[t];return a?r.getMonthNames(a,"standalone")[n]:kr((n+1).toString(),Math.min(t,2))},Q:function(e,t,i,r){var n=e[i?"getUTCMonth":"getMonth"](),a=Math.floor(n/3),s=pl[t];return s?r.getQuarterNames(s)[a]:kr((a+1).toString(),Math.min(t,2))},E:function(e,t,i,r){var n=e[i?"getUTCDay":"getDay"](),a=pl[t<3?3:t];return r.getDayNames(a)[n]},a:function(e,t,i,r){var n=e[i?"getUTCHours":"getHours"](),a=n<12?0:1,s=pl[t];return r.getPeriodNames(s)[a]},d:function(e,t,i){return kr(e[i?"getUTCDate":"getDate"]().toString(),Math.min(t,2))},H:function(e,t,i){return kr(e[i?"getUTCHours":"getHours"]().toString(),Math.min(t,2))},h:function(e,t,i){var r=e[i?"getUTCHours":"getHours"]();return kr((r%12||12).toString(),Math.min(t,2))},m:function(e,t,i){return kr(e[i?"getUTCMinutes":"getMinutes"]().toString(),Math.min(t,2))},s:function(e,t,i){return kr(e[i?"getUTCSeconds":"getSeconds"]().toString(),Math.min(t,2))},S:function(e,t,i){return kr(e[i?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,t)},x:function(e,t,i){var r=i?0:e.getTimezoneOffset(),n=r>0?"-":"+",a=Math.abs(r),s=Math.floor(a/60),o=a%60,l=kr(s.toString(),2),u=kr(o.toString(),2);return n+l+(t>=3?":":"")+(t>1||o?u:"")},X:function(e,t,i){return i||!e.getTimezoneOffset()?"Z":Fg.x(e,t,i)},Z:function(e,t,i){return Fg.X(e,t>=5?3:2,i)}},gI=function(e,t){return function(i){var r,n,a,s=0,o=!1,l,u="";if(!i)return null;if(!e)return i;var d=e[e.length-1]==="Z"||e.slice(-3)==="'Z'";for(r=0;r<e.length;r++)a=e[r],n=Fg[a],l=a===e[r+1],s++,l||(n&&!o&&(u+=n(i,s,d,t)),s=0),a==="'"&&!l?o=!o:(o||!n)&&(u+=a),a==="'"&&l&&r++;return u}},C6="،",vI=" .,:;/\\<>()-[]"+C6,w6=". m.",Ma=function(e){var t=e&&Wt.convertDigits(e,!1).charCodeAt(0),i=Wt.convertDigits("0",!1).charCodeAt(0);return i<=t&&t<i+10},x6=function(e,t,i,r){var n=e[i],a=e[i+1];if(!r&&(n==="."||n===" "&&e.slice(i-1,i+3)===w6||n==="-"&&!Ma(a)))return!0;var s=r&&t.some(o=>e[i]!==o[i]);return vI.indexOf(n)<0&&r===Ma(n)&&(!r||s)},S6=function(e,t){if(!Ma(e[t]))for(;t>0&&!Ma(e[t-1])&&(e[t-1]==="."||vI.indexOf(e[t-1])<0);)t--;return t},E6=function(e,t,i,r){var n=0,a=[],s=function(o){return e[n]!==o[n]&&(r===void 0||Ma(e[n])===r)};for(Array.isArray(t)||(t=[t]),n=0;n<e.length;n++)if(i.indexOf(n)<0&&t.filter(s).length){n=S6(e,n);do{if(r=Ma(e[n]),!a.length&&!r&&Ma(t[0][n]))break;a.push(n),i.unshift(n),n++}while(e[n]&&x6(e,t,n,r));break}return a.length===1&&(e[i[0]-1]==="0"||e[i[0]-1]==="٠")&&i.unshift(i[0]-1),a},I6=function(e,t,i,r){var n=t[0],a=n<r.length?r[n]:n;return t.forEach(function(s,o){e=e.substr(0,a+o)+(i.length>1?i[o]:i)+e.substr(a+o+1)}),t.length===1&&(e=e.replace("0"+i,i+i),e=e.replace("٠"+i,i+i)),e},T6=function(e,t,i,r){var n,a,s;if(!Ma(e[t[0]]||"0")){for(var o=Math.max(t.length<=3?3:4,i.length);t.length>o;){for(a=t.pop(),s=r[a],r[a]=-1,n=a+1;n<r.length;n++)r[n]--;e=e.substr(0,s)+e.substr(s+1)}for(a=t[t.length-1]+1,s=a<r.length?r[a]:a;t.length<o;){for(t.push(t[t.length-1]+1),n=a;n<r.length;n++)r[n]++;e=e.substr(0,s)+" "+e.substr(s)}}return e=I6(e,t,i,r),e},Kb=function(e,t){return Array.isArray(e)?e.map(function(i){return(t(i)||"").toString()}):(t(e)||"").toString()},A6=/[a-zA-Z]/g,O6=function(e,t,i,r){var n=t.split("").map(function(a,s){return i.indexOf(s)<0&&(a.match(A6)||a==="'")?r[s]:-1});return e=e.split("").map(function(a,s){var o=a,l=n.indexOf(s)>=0,u=s>0&&n.indexOf(s-1)>=0,d=n.indexOf(s+1)>=0;return l&&(u||(o="'"+o),d||(o+="'")),o}).join(""),e},Yc=function(e){var t=[],i=Kb(new Date(2009,8,8,6,5,4),e),r=i.split("").map(function(o,l){return l}),n=i,a={},s=[{date:new Date(2009,8,8,6,5,4,111),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(n&&(s.forEach(function(o){var l=E6(i,Kb(o.date,e),t,o.isDigit),u=o.pattern==="M"&&!a.d?"L":o.pattern;n=T6(n,l,u,r),a[u]=l.length}),n=O6(n,i,t,r),t.length))return n},Yn={3:"abbreviated",4:"wide",5:"narrow"},qb=function(e,t){return e>2?Object.keys(Yn).map(function(i){return["format","standalone"].map(function(r){return t.getMonthNames(Yn[i],r).join("|")}).join("|")}).join("|"):e===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},D6={":":function(e,t){var i=e>1?"{".concat(e,"}"):"",r=ka(t.getTimeSeparator());return r!==":"&&(r="".concat(r,"|:")),"".concat(r).concat(i)},y:function(e){return e===2?"[0-9]{".concat(e,"}"):"[0-9]+?"},M:qb,L:qb,Q:function(e,t){return e>2?t.getQuarterNames(Yn[e],"format").join("|"):"0?[1-4]"},E:function(e,t){return"\\D*"},a:function(e,t){return t.getPeriodNames(Yn[e<3?3:e],"format").join("|")},d:function(e){return e===2?"3[01]|[12][0-9]|0?[1-9]":"0??[1-9]|[12][0-9]|3[01]"},H:function(e){return e===2?"2[0-3]|1[0-9]|0?[0-9]":"0??[0-9]|1[0-9]|2[0-3]"},h:function(e){return e===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},m:function(e){return e===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},s:function(e){return e===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},S:function(e){return"[0-9]{1,".concat(e,"}")},w:function(e){return e===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"}},Hn=Number,Lg=function(e,t){return e.map(i=>i.toLowerCase()).indexOf(t.toLowerCase())},Xb=function(e,t,i){return t>2?["format","standalone"].map(function(r){return Object.keys(Yn).map(function(n){var a=i.getMonthNames(Yn[n],r);return Lg(a,e)})}).reduce(function(r,n){return r.concat(n)}).filter(function(r){return r>=0})[0]:Hn(e)-1},R6={y:function(e,t){var i=Hn(e);return t===2?i<30?2e3+i:1900+i:i},M:Xb,L:Xb,Q:function(e,t,i){return t>2?i.getQuarterNames(Yn[t],"format").indexOf(e):Hn(e)-1},E:function(e,t,i){var r=i.getDayNames(Yn[t<3?3:t],"format");return Lg(r,e)},a:function(e,t,i){var r=i.getPeriodNames(Yn[t<3?3:t],"format");return Lg(r,e)},d:Hn,H:Hn,h:Hn,m:Hn,s:Hn,S:function(e,t){for(t=Math.max(t,3),e=e.slice(0,3);t<3;)e+="0",t++;return Hn(e)}},nc=["y","M","d","h","m","s","S"],h_={y:"setFullYear",M:"setMonth",L:"setMonth",a:function(e,t,i){var r=e.getHours(),n=i.h;n!==void 0&&n!==r&&r--,!t&&r===12?r=0:t&&r!==12&&(r+=12),e.setHours(r)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},k6=function(e,t){var i=e[t];if(!i)return 0;var r=0;do t++,r++;while(e[t]===i);return r},M6=function(e,t){for(var i="",r=0;r<t;r++)i+=e;return i},_I=function(e,t){for(var i="",r="",n,a=[],s=function(){r&&(a.push("'".concat(r,"'")),i+="".concat(ka(r),")"),r="")},o=0;o<e.length;o++){var l=e[o],u=l==="'",d=D6[l];if(!(u&&(n=!n,e[o-1]!=="'")))if(d&&!n){var c=k6(e,o),h=M6(l,c);s(),a.push(h),i+="(".concat(d(c,t),")"),o+=c-1}else r||(i+="("),r+=l}return s(),P6(a)||Vu.warn("The following format may be parsed incorrectly: ".concat(e,".")),{patterns:a,regexp:new RegExp("^".concat(i,"$"),"i")}},B6=["d","H","h","m","s","w","M","L","Q"],P6=function(e){var t=n=>{if(!n)return!1;var a=n[0];return["y","S"].includes(a)||B6.includes(a)&&n.length<3},i=!0,r=0;return e.every((n,a,s)=>(t(n)&&((o=>o[0]!=="S"&&o.length!==2)(n)&&(i=++r<2),t(s[a+1])||(r=0)),i))},F6=function(){return h_},L6=function(e,t,i,r,n){var a=t[0],s=h_[a],o=R6[a];if(s&&o){var l=o(i,t.length,r);n[t]=l,e[s]?e[s](l):s(e,l,n)}},N6=function(e,t,i){var r=h_[t],n="g"+r.substr(1),a=i[n]();e[r](a)},V6=function(e){return e.map(function(t){return t[0]==="'"?"":t[0]==="H"?"h":t[0]})},$6=function(e){var t=e.map(function(i){return nc.indexOf(i)});return Math.max.apply(Math,t)},H6=function(e){var t=e.filter(function(i){return nc.indexOf(i)<0});return nc.concat(t)},z6=function(e,t){var i=_I(e,t);return function(r){var n=i.regexp.exec(r);if(n){var a=new Date,s=new Date(a.getFullYear(),0,1),o=V6(i.patterns),l=$6(o),u=H6(o),d={};return u.forEach(function(c,h){if(!(!c||h<nc.length&&h>l)){var f=o.indexOf(c);if(f>=0){var p=i.patterns[f],g=n[f+1];L6(s,p,g,t,d)}else N6(s,c,a)}}),s}return null}},W6=["January","February","March","April","May","June","July","August","September","October","November","December"],j6=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],U6=["AM","PM"],G6=["Q1","Q2","Q3","Q4"],Yb=(e,t)=>{var i={abbreviated:3,short:2,narrow:1};return Si(e,r=>r.substr(0,i[t]))};const zl={getMonthNames:function(e){return Yb(W6,e)},getDayNames:function(e){return Yb(j6,e)},getQuarterNames:function(e){return G6},getPeriodNames:function(e){return U6}},K6={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-MV":5,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,"ff-Adlm":1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nds:1,nl:1,nmg:1,nnh:1,no:1,nus:1,nyn:1,os:1,pcm:1,pl:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,sc:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1};var q6=/[\u200E\u200F]/g,ms=e=>t=>{if(!e.timeZoneName){var i=t.getFullYear(),r=String(i).length<3,n=r?i+400:i,a=new Date(Date.UTC(n,t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));r&&a.setFullYear(i);var s=re({timeZone:"UTC"},e);return Ng(a,s)}return Ng(t,e)},sp={},X6=e=>{var t=Or.locale()+"/"+JSON.stringify(e);return sp[t]||(sp[t]=new Intl.DateTimeFormat(Or.locale(),e).format),sp[t]};function Ng(e,t){return X6(t)(e).replace(q6,"")}var Vg=e=>new Intl.NumberFormat(Or.locale()).format(e),Y6=(()=>{var e={};return t=>{if(!(t in e)){if(Vg(0)==="0")return e[t]=!1,!1;e[t]={};for(var i=0;i<10;++i)e[t][Vg(i)]=i}return e[t]}})(),Dd=e=>{var t=Y6(Or.locale());return t?e.split("").map(i=>i in t?String(t[i]):i).join(""):e},Zb=e=>e.replace(/(\D)0+(\d)/g,"$1$2"),Z6=(e,t)=>Zb(e)===Zb(t),$g=e=>e.replace("d’","de "),c_={day:{day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty(c_,"shortdateshorttime",{get:function(){var e=Intl.DateTimeFormat(Or.locale()).resolvedOptions();return{year:e.year,month:e.month,day:e.day,hour:"numeric",minute:"numeric"}}});var J6=e=>typeof e=="string"&&c_[e.toLowerCase()],bI={standalone:function(e,t){var i=new Date(1999,e,13,1),r=ms({month:t})(i);return r},format:function(e,t){var i=new Date(0,e,13,1),r=$g(ms({day:"numeric",month:t})(i)),n=r.split(" ").filter(a=>a.indexOf("13")<0);return n.length===1?n[0]:n.length===2?n[0].length>n[1].length?n[0]:n[1]:bI.standalone(e,t)}};const Q6={engine:function(){return"intl"},getMonthNames:function(e,t){var i={wide:"long",abbreviated:"short",narrow:"narrow"}[e||"wide"];return t=t==="format"?t:"standalone",Array.apply(null,new Array(12)).map((r,n)=>bI[t](n,i))},getDayNames:function(e){var t=(i=>Array.apply(null,new Array(7)).map((r,n)=>ms({weekday:i})(new Date(0,0,n))))({wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[e||"wide"]);return t},getPeriodNames:function(){var e=ms({hour:"numeric",hour12:!0});return[1,13].map(t=>{var i=Vg(1),r=e(new Date(0,0,1,t)).split(i);if(r.length!==2)return"";var n=r[0].length>r[1].length?r[0]:r[1];return n.trim()})},format:function(e,t){if(e){if(!t)return e;typeof t!="function"&&!t.formatter&&(t=t.type||t);var i=J6(t);if(i)return ms(i)(e);var r=typeof t;return t.formatter||r==="function"||r==="string"?this.callBase.apply(this,arguments):ms(t)(e)}},parse:function(e,t){var i;return t&&!t.parser&&typeof e=="string"&&(e=$g(e),i=r=>$g(this.format(r,t))),this.callBase(e,i||t)},_parseDateBySimpleFormat:function(e,t){e=Dd(e);var i=this.getFormatParts(t),r=e.split(/\D+/).filter(s=>s.length>0);if(i.length===r.length){var n=this._generateDateArgs(i,r),a=s=>{var o=((l,u)=>{var d=u?12:0;return new Date(l.year,l.month,l.day,(l.hours+d)%24,l.minutes,l.seconds)})(n,s);if(Z6(Dd(this.format(o,t)),e))return o};return a(!1)||a(!0)}},_generateDateArgs:function(e,t){var i=new Date,r={year:i.getFullYear(),month:i.getMonth(),day:i.getDate(),hours:0,minutes:0,seconds:0};return e.forEach((n,a)=>{var s=t[a],o=parseInt(s,10);n==="month"&&(o-=1),r[n]=o}),r},formatUsesMonthName:function(e){return typeof e=="object"&&!(e.type||e.format)?e.month==="long":this.callBase.apply(this,arguments)},formatUsesDayName:function(e){return typeof e=="object"&&!(e.type||e.format)?e.weekday==="long":this.callBase.apply(this,arguments)},getTimeSeparator:function(){return Dd(Ng(new Date(2001,1,1,11,11),{hour:"numeric",minute:"numeric",hour12:!1})).replace(/\d/g,"")},getFormatParts:function(e){if(typeof e=="string")return this.callBase(e);var t=re({},c_[e.toLowerCase()]),i=new Date(2001,2,4,5,6,7),r=ms(t)(i);return r=Dd(r),[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map(n=>({name:n.name,index:r.indexOf(n.value)})).filter(n=>n.index>-1).sort((n,a)=>n.index-a.index).map(n=>n.name)}};var e5=0,t5=typeof Intl<"u",op={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},i5={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},ut=Ur({engine:function(){return"base"},_getPatternByFormat:function(e){return op[e.toLowerCase()]},_expandPattern:function(e){return this._getPatternByFormat(e)||e},formatUsesMonthName:function(e){return this._expandPattern(e).indexOf("MMMM")!==-1},formatUsesDayName:function(e){return this._expandPattern(e).indexOf("EEEE")!==-1},getFormatParts:function(e){var t=this._getPatternByFormat(e)||e,i=[];return le(t.split(/\W+/),(r,n)=>{le(i5,(a,s)=>{s.includes(n)&&i.push(a)})}),i},getMonthNames:function(e){return zl.getMonthNames(e)},getDayNames:function(e){return zl.getDayNames(e)},getQuarterNames:function(e){return zl.getQuarterNames(e)},getPeriodNames:function(e){return zl.getPeriodNames(e)},getTimeSeparator:function(){return":"},is24HourFormat:function(e){for(var t=new Date(2017,0,20,11,0,0,0),i=new Date(2017,0,20,23,0,0,0),r=this.format(t,e),n=this.format(i,e),a=0;a<r.length;a++)if(r[a]!==n[a])return!isNaN(parseInt(r[a]))},format:function(e,t){if(e){if(!t)return e;var i;if(typeof t=="function")i=t;else if(t.formatter)i=t.formatter;else if(t=t.type||t,Ue(t))return t=op[t.toLowerCase()]||t,Wt.convertDigits(gI(t,this)(e));if(i)return i(e)}},parse:function(e,t){var i=this,r,n;if(e){if(!t)return this.parse(e,"shortdate");if(t.parser)return t.parser(e);if(typeof t=="string"&&!op[t.toLowerCase()])r=t;else{n=s=>{var o=i.format(s,t);return Wt.convertDigits(o,!0)};try{r=Yc(n)}catch{}}if(r)return e=Wt.convertDigits(e,!0),z6(r,this)(e);$t.log("W0012");var a=new Date(e);if(!(!a||isNaN(a.getTime())))return a}},firstDayOfWeekIndex:function(){var e=Or.getValueByClosestLocale(t=>K6[t]);return e===void 0?e5:e}});t5&&ut.inject(Q6);var r5={ar:1,bg:2,ca:3,"zh-Hans":4,cs:5,da:6,de:7,el:8,en:9,es:10,fi:11,fr:12,he:13,hu:14,is:15,it:16,ja:17,ko:18,nl:19,no:20,pl:21,pt:22,rm:23,ro:24,ru:25,hr:26,sk:27,sq:28,sv:29,th:30,tr:31,ur:32,id:33,uk:34,be:35,sl:36,et:37,lv:38,lt:39,tg:40,fa:41,vi:42,hy:43,az:44,eu:45,hsb:46,mk:47,tn:50,xh:52,zu:53,af:54,ka:55,fo:56,hi:57,mt:58,se:59,ga:60,ms:62,kk:63,ky:64,sw:65,tk:66,uz:67,tt:68,bn:69,pa:70,gu:71,or:72,ta:73,te:74,kn:75,ml:76,as:77,mr:78,sa:79,mn:80,bo:81,cy:82,km:83,lo:84,gl:86,kok:87,syr:90,si:91,iu:93,am:94,tzm:95,ne:97,fy:98,ps:99,fil:100,dv:101,ha:104,yo:106,quz:107,nso:108,ba:109,lb:110,kl:111,ig:112,ii:120,arn:122,moh:124,br:126,ug:128,mi:129,oc:130,co:131,gsw:132,sah:133,qut:134,rw:135,wo:136,prs:140,gd:145,"ar-SA":1025,"bg-BG":1026,"ca-ES":1027,"zh-TW":1028,"cs-CZ":1029,"da-DK":1030,"de-DE":1031,"el-GR":1032,"en-US":1033,"fi-FI":1035,"fr-FR":1036,"he-IL":1037,"hu-HU":1038,"is-IS":1039,"it-IT":1040,"ja-JP":1041,"ko-KR":1042,"nl-NL":1043,"nb-NO":1044,"pl-PL":1045,"pt-BR":1046,"rm-CH":1047,"ro-RO":1048,"ru-RU":1049,"hr-HR":1050,"sk-SK":1051,"sq-AL":1052,"sv-SE":1053,"th-TH":1054,"tr-TR":1055,"ur-PK":1056,"id-ID":1057,"uk-UA":1058,"be-BY":1059,"sl-SI":1060,"et-EE":1061,"lv-LV":1062,"lt-LT":1063,"tg-Cyrl-TJ":1064,"fa-IR":1065,"vi-VN":1066,"hy-AM":1067,"az-Latn-AZ":1068,"eu-ES":1069,"hsb-DE":1070,"mk-MK":1071,"tn-ZA":1074,"xh-ZA":1076,"zu-ZA":1077,"af-ZA":1078,"ka-GE":1079,"fo-FO":1080,"hi-IN":1081,"mt-MT":1082,"se-NO":1083,"ms-MY":1086,"kk-KZ":1087,"ky-KG":1088,"sw-KE":1089,"tk-TM":1090,"uz-Latn-UZ":1091,"tt-RU":1092,"bn-IN":1093,"pa-IN":1094,"gu-IN":1095,"or-IN":1096,"ta-IN":1097,"te-IN":1098,"kn-IN":1099,"ml-IN":1100,"as-IN":1101,"mr-IN":1102,"sa-IN":1103,"mn-MN":1104,"bo-CN":1105,"cy-GB":1106,"km-KH":1107,"lo-LA":1108,"gl-ES":1110,"kok-IN":1111,"syr-SY":1114,"si-LK":1115,"iu-Cans-CA":1117,"am-ET":1118,"ne-NP":1121,"fy-NL":1122,"ps-AF":1123,"fil-PH":1124,"dv-MV":1125,"ha-Latn-NG":1128,"yo-NG":1130,"quz-BO":1131,"nso-ZA":1132,"ba-RU":1133,"lb-LU":1134,"kl-GL":1135,"ig-NG":1136,"ii-CN":1144,"arn-CL":1146,"moh-CA":1148,"br-FR":1150,"ug-CN":1152,"mi-NZ":1153,"oc-FR":1154,"co-FR":1155,"gsw-FR":1156,"sah-RU":1157,"qut-GT":1158,"rw-RW":1159,"wo-SN":1160,"prs-AF":1164,"gd-GB":1169,"ar-IQ":2049,"zh-CN":2052,"de-CH":2055,"en-GB":2057,"es-MX":2058,"fr-BE":2060,"it-CH":2064,"nl-BE":2067,"nn-NO":2068,"pt-PT":2070,"sr-Latn-CS":2074,"sv-FI":2077,"az-Cyrl-AZ":2092,"dsb-DE":2094,"se-SE":2107,"ga-IE":2108,"ms-BN":2110,"uz-Cyrl-UZ":2115,"bn-BD":2117,"mn-Mong-CN":2128,"iu-Latn-CA":2141,"tzm-Latn-DZ":2143,"quz-EC":2155,"ar-EG":3073,"zh-HK":3076,"de-AT":3079,"en-AU":3081,"es-ES":3082,"fr-CA":3084,"sr-Cyrl-CS":3098,"se-FI":3131,"quz-PE":3179,"ar-LY":4097,"zh-SG":4100,"de-LU":4103,"en-CA":4105,"es-GT":4106,"fr-CH":4108,"hr-BA":4122,"smj-NO":4155,"ar-DZ":5121,"zh-MO":5124,"de-LI":5127,"en-NZ":5129,"es-CR":5130,"fr-LU":5132,"bs-Latn-BA":5146,"smj-SE":5179,"ar-MA":6145,"en-IE":6153,"es-PA":6154,"fr-MC":6156,"sr-Latn-BA":6170,"sma-NO":6203,"ar-TN":7169,"en-ZA":7177,"es-DO":7178,"sr-Cyrl-BA":7194,"sma-SE":7227,"ar-OM":8193,"en-JM":8201,"es-VE":8202,"bs-Cyrl-BA":8218,"sms-FI":8251,"ar-YE":9217,"en-029":9225,"es-CO":9226,"sr-Latn-RS":9242,"smn-FI":9275,"ar-SY":10241,"en-BZ":10249,"es-PE":10250,"sr-Cyrl-RS":10266,"ar-JO":11265,"en-TT":11273,"es-AR":11274,"sr-Latn-ME":11290,"ar-LB":12289,"en-ZW":12297,"es-EC":12298,"sr-Cyrl-ME":12314,"ar-KW":13313,"en-PH":13321,"es-CL":13322,"ar-AE":14337,"es-UY":14346,"ar-BH":15361,"es-PY":15370,"ar-QA":16385,"en-IN":16393,"es-BO":16394,"en-MY":17417,"es-SV":17418,"en-SG":18441,"es-HN":18442,"es-NI":19466,"es-PR":20490,"es-US":21514,"bs-Cyrl":25626,"bs-Latn":26650,"sr-Cyrl":27674,"sr-Latn":28698,smn:28731,"az-Cyrl":29740,sms:29755,zh:30724,nn:30740,bs:30746,"az-Latn":30764,sma:30779,"uz-Cyrl":30787,"mn-Cyrl":30800,"iu-Cans":30813,"zh-Hant":31748,nb:31764,sr:31770,"tg-Cyrl":31784,dsb:31790,smj:31803,"uz-Latn":31811,"mn-Mong":31824,"iu-Latn":31837,"tzm-Latn":31839,"ha-Latn":31848};function yI(){return r5[Or.locale()]}var Jb=1632,CI={thousands:"#,##0{0},&quot;K&quot;",millions:"#,##0{0},,&quot;M&quot;",billions:"#,##0{0},,,&quot;B&quot;",trillions:"#,##0{0},,,,&quot;T&quot;",percent:"0{0}%",decimal:"#{0}",fixedpoint:"#,##0{0}",exponential:"0{0}E+00",currency:" "},n5=/a+/g,a5=/E/g,s5=/dE+/g,o5=/L/g,l5=/h/g,u5=/./g;function d5(e,t){var i,r;if(t>0){for(i=e!=="decimal"?".":"",r=0;r<t;r++)i+="0";return i}return""}function h5(e){for(var t,i=0;i<e.length;i++)if(t=e.charCodeAt(i),t>=Jb&&t<Jb+10)return!0;return!1}function c5(e){var t=(ut.format(new Date(2009,8,8,6,5,4),e)||"").toString(),i=Yc(r=>ut.format(r,e));return i&&(i=p5(i),i=f5(t)+i),i}function f5(e){var t=yI(),i=t?t.toString(16):"",r="";if(h5(e)){for(;i.length<3;)i="0"+i;r="[$-2010"+i+"]"}else i&&(r="[$-"+i+"]");return r}function p5(e){return e.split("/").join("\\/").split("'").map(function(t,i){return i%2===0?t.replace(n5,"AM/PM").replace(s5,"d").replace(a5,"d").replace(o5,"M").replace(l5,"H").split("[").join("\\[").split("]").join("\\]"):t?t.replace(u5,"\\$&"):"'"}).join("")}function m5(e,t,i){var r,n;return e==="currency"?n=Wt.getOpenXmlCurrencyFormat(i):n=CI[e.toLowerCase()],n&&(r=sn(n,d5(e,t))),r}var Qb={formatObjectConverter(e,t){var i={format:e,precision:e&&e.precision,dataType:t};return Ge(e)?re(i,e,{format:e.formatter||e.type,currency:e.currency}):i},convertFormat(e,t,i,r){if(Z(e)){if(i==="date")return c5(e);if(Ue(e)&&CI[e.toLowerCase()])return m5(e,t,r)}}};function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ie.apply(this,arguments)}class g5{constructor(t,i,r,n){this.mergedCells=[],this.mergedRanges=[],this.dataProvider=t,this.helpers=i,this.mergeRowFieldValues=r,this.mergeColumnFieldValues=n}updateMergedRanges(t,i,r){if(this.helpers._isHeaderCell(this.dataProvider,i,r)&&!this.isCellInMergedRanges(i,r)){var{rowspan:n,colspan:a}=this.dataProvider.getCellMerging(i,r),s=a||n;if(s){var o=this.helpers._allowToMergeRange(this.dataProvider,i,r,n,a,this.mergeRowFieldValues,this.mergeColumnFieldValues);this.updateMergedCells(t,i,r,n,a,o),o&&this.mergedRanges.push(Ie({masterCell:t},{rowspan:n,colspan:a}))}}}isCellInMergedRanges(t,i){return this.mergedCells[t]&&this.mergedCells[t][i]}findMergedCellInfo(t,i){if(this.helpers._isHeaderCell(this.dataProvider,t,i)&&this.isCellInMergedRanges(t,i))return this.mergedCells[t][i]}updateMergedCells(t,i,r,n,a,s){for(var o=i;o<=i+n;o++)for(var l=r;l<=r+a;l++)this.mergedCells[o]||(this.mergedCells[o]=[]),this.mergedCells[o][l]={masterCell:t,unmerged:!s}}applyMergedRages(t){this.mergedRanges.forEach(i=>{var r=i.masterCell.fullAddress.row,n=i.masterCell.fullAddress.col,a=r+i.rowspan,s=n+i.colspan;t.mergeCells(r,n,a,s)})}}var v5=1,_5=3,b5=9,y5={querySelectorAll:(e,t)=>e.querySelectorAll(t),elementMatches(e,t){var i=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||(r=>{var n=e.document||e.ownerDocument;if(!n)return!1;for(var a=this.querySelectorAll(n,r),s=0;s<a.length;s++)if(a[s]===e)return!0});return i.call(e,t)},createElement(e,t){return t=t||this._document,t.createElement(e)},createElementNS(e,t,i){return i=i||this._document,i.createElementNS(e,t)},createTextNode(e,t){return t=t||this._document,t.createTextNode(e)},isNode:e=>e&&typeof e=="object"&&"nodeType"in e&&"nodeName"in e,isElementNode:e=>e&&e.nodeType===v5,isTextNode:e=>e&&e.nodeType===_5,isDocument:e=>e&&e.nodeType===b5,removeElement(e){var t=e&&e.parentNode;t&&t.removeChild(e)},insertElement(e,t,i){e&&t&&e!==t&&(i?e.insertBefore(t,i):e.appendChild(t))},getAttribute:(e,t)=>e.getAttribute(t),setAttribute(e,t,i){e.setAttribute(t,i)},removeAttribute(e,t){e.removeAttribute(t)},setProperty(e,t,i){e[t]=i},setText(e,t){e&&(e.textContent=t)},setClass(e,t,i){e.nodeType===1&&t&&(i?e.classList.add(t):e.classList.remove(t))},setStyle(e,t,i){e.style[t]=i||""},_document:typeof document>"u"?void 0:document,getDocument(){return this._document},getActiveElement(e){var t,i,r=(t=e==null||(i=e.getRootNode)===null||i===void 0?void 0:i.call(e))!==null&&t!==void 0?t:this._document;return r.activeElement},getBody(){return this._document.body},createDocumentFragment(){return this._document.createDocumentFragment()},getDocumentElement(){return this._document.documentElement},getLocation(){return this._document.location},getSelection(){return this._document.selection},getReadyState(){return this._document.readyState},getHead(){return this._document.head},hasDocumentProperty(e){return e in this._document},listen(e,t,i,r){return!e||!("addEventListener"in e)?me:(e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i)})},elementsFromPoint(e,t){return this._document.elementsFromPoint(e,t)}};const we=Ur(y5),C5=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"}));class f_{constructor(){this.memory=[],this.callbacks=kt()}add(t){le(this.memory,(i,r)=>t.apply(t,r)),this.callbacks.add(t)}remove(t){this.callbacks.remove(t)}fire(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];this.memory.push(i),this.callbacks.fire.apply(this.callbacks,i)}}const p_=new f_;var w5=typeof window<"u",rt=()=>w5,_s=rt()?window:void 0;_s||(_s={},_s.window=_s);var at=()=>_s,wI=e=>rt()&&e in _s,m_=e=>e<768?"xs":e<992?"sm":e<1200?"md":"lg",xI=e=>{var t=e||m_,i=we.getDocumentElement().clientWidth;return t(i)},$u=()=>rt()?_s.navigator:{userAgent:""},x5=["pageX","pageY","screenX","screenY","clientX","clientY"],S5=function(e,t){if(t[e]&&!t.touches||!t.touches)return t[e];var i=t.touches.length?t.touches:t.changedTouches;if(i.length)return i[0][e]};function E5(e){x5.forEach(function(t){e(t,function(i){return S5(t,i)})},this)}var la=function(e){var t,i=function(){return t=e.apply(this,arguments),i=function(){return t},t};return function(){return i.apply(this,arguments)}},g_=at(),Rd="dxEmptyEventType",ey={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},I5={focusin:"focus",focusout:"blur"},T5=["blur","focus","load"],SI=["touchmove","wheel","mousewheel","touchstart"],A5=["target","relatedTarget","delegateTarget","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","code","charCode","key","keyCode","button","buttons","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","touches"];function O5(e,t){return!wi(e)&&e.nodeName!=="#document"&&we.elementMatches(e,t)}var lp=new WeakMap,EI=0,ac,Ea=function(){var e={};return p_.add(function(t,i){e[t]=i}),{getField:function(t,i){return e[t]&&e[t][i]},callMethod:function(t,i,r,n){return e[t]&&e[t][i]&&e[t][i].apply(r,n)}}}(),te=Ur({on:ml(Hg(ry(function(e,t,i,r,n){var a=Do(e,t);a.addHandler(n,i,r)}))),one:ml(Hg(function(e,t,i,r,n){te.on(e,t,i,r,function a(){te.off(e,t,i,a),n.apply(this,arguments)})})),off:ml(k5(ry(function(e,t,i,r){var n=Do(e,t);n.removeHandler(r,i)}))),trigger:ml(iy(function(e,t,i){var r=t.type,n=Do(e,t.type);Ea.callMethod(r,"trigger",e,[t,i]),n.callHandlers(t,i);var a=Ea.getField(r,"noBubble")||t.isPropagationStopped()||T5.indexOf(r)!==-1;if(!a){var s=[];(function u(d){var c,h=(c=d.parentNode)!==null&&c!==void 0?c:d.host;h&&(s.push(h),u(h))})(e),s.push(g_);for(var o=0;s[o]&&!t.isPropagationStopped();){var l=Do(s[o],t.type);l.callHandlers(re(t,{currentTarget:s[o]}),i),o++}}(e.nodeType||wi(e))&&(Ea.callMethod(r,"_default",e,[t,i]),B5(r,e))})),triggerHandler:ml(iy(function(e,t,i){var r=Do(e,t.type);r.callHandlers(t,i)}))});function v_(e,t){var i=e[0];if(i)if(we.isNode(i)||wi(i))t.apply(te,e);else if(!Ue(i)&&"length"in i){var r=Array.prototype.slice.call(e,0);Array.prototype.forEach.call(i,function(n){r[0]=n,v_(r,t)})}else throw $t.Error("E0025")}function ml(e){return function(){v_(arguments,e)}}function D5(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});g_.addEventListener("test",null,t)}catch{}return e}var II=la(D5),TI=(e,t)=>wi(e)?TI(e.document,t):e.contains?e.contains(t):!!(t.compareDocumentPosition(e)&t.DOCUMENT_POSITION_CONTAINS);function Do(e,t){var i=lp.get(e);t=t||"";var r=t.split("."),n=r.slice(1),a=!!r[0];t=r[0]||Rd,i||(i={},lp.set(e,i)),i[t]||(i[t]={handleObjects:[],nativeHandler:null});var s=i[t];return{addHandler:function(o,l,u){var d=function(g,m){var v=[g],b=g.currentTarget,y=g.relatedTarget,I,D;t in ey&&(I=y&&b&&(y===b||TI(b,y))),m!==void 0&&v.push(m),Ea.callMethod(t,"handle",e,[g,u]),I||(D=o.apply(b,v)),D===!1&&(g.preventDefault(),g.stopPropagation())},c={handler:o,wrappedHandler:function(g,m){if(!(ac&&g.type===ac))if(g.data=u,g.delegateTarget=e,l)for(var v=g.target;v&&v!==e;)O5(v,l)&&(g.currentTarget=v,d(g,m)),v=v.parentNode;else g.currentTarget=g.delegateTarget||g.target,d(g,m)},selector:l,type:t,data:u,namespace:n.join("."),namespaces:n,guid:++EI};s.handleObjects.push(c);var h=s.handleObjects.length===1,f=h&&a,p;f&&(f=!Ea.callMethod(t,"setup",e,[u,n,o])),f&&(s.nativeHandler=R5(t),II()&&SI.indexOf(t)>-1&&(p={passive:!1}),s.removeListener=we.listen(e,ey[t]||t,s.nativeHandler,p)),Ea.callMethod(t,"add",e,[c])},removeHandler:function(o,l){var u=function(h){var f=i[h];if(!f.handleObjects.length){delete i[h];return}var p;f.handleObjects=f.handleObjects.filter(function(v){var b=n.length&&!ty(v.namespaces,n)||o&&v.handler!==o||l&&v.selector!==l;return b||(p=v.handler,Ea.callMethod(h,"remove",e,[v])),b});var g=!f.handleObjects.length,m=g&&h!==Rd;m&&(Ea.callMethod(h,"teardown",e,[n,p]),f.nativeHandler&&f.removeListener(),delete i[h])};if(a)u(t);else for(var d in i)u(d);var c=Object.keys(i).length===0;c&&lp.delete(e)},callHandlers:function(o,l){var u=!1,d=function(c){u||(!n.length||ty(c.namespaces,n))&&(c.wrappedHandler(o,l),u=o.isImmediatePropagationStopped())};s.handleObjects.forEach(d),n.length&&i[Rd]&&i[Rd].handleObjects.forEach(d)}}}function R5(e){return function(t,i){var r=Do(this,e);t=te.Event(t),r.callHandlers(t,i)}}function ty(e,t){for(var i=0;i<t.length;i++)if(e.indexOf(t[i])<0)return!1;return!0}function Hg(e){return function(t,i,r,n,a){a||(a=n,n=void 0),typeof r!="string"&&(n=r,r=void 0),!a&&typeof i=="string"&&(a=n||r,r=void 0,n=void 0),e(t,i,r,n,a)}}function k5(e){return function(t,i,r,n){typeof r=="function"&&(n=r,r=void 0),e(t,i,r,n)}}function iy(e){return function(t,i,r){typeof i=="string"&&(i={type:i}),i.target||(i.target=t),i.currentTarget=t,i.delegateTarget||(i.delegateTarget=t),!i.type&&i.originalEvent&&(i.type=i.originalEvent.type),e(t,i instanceof te.Event?i:te.Event(i),r)}}function M5(e){return te.Event=function(t,i){if(!(this instanceof te.Event))return new te.Event(t,i);t||(t={}),typeof t=="string"&&(t={type:t}),i||(i={}),e.call(this,t,i)},Ie(te.Event.prototype,{_propagationStopped:!1,_immediatePropagationStopped:!1,_defaultPrevented:!1,isPropagationStopped:function(){return!!(this._propagationStopped||this.originalEvent&&this.originalEvent.propagationStopped)},stopPropagation:function(){this._propagationStopped=!0,this.originalEvent&&this.originalEvent.stopPropagation()},isImmediatePropagationStopped:function(){return this._immediatePropagationStopped},stopImmediatePropagation:function(){this.stopPropagation(),this._immediatePropagationStopped=!0,this.originalEvent&&this.originalEvent.stopImmediatePropagation()},isDefaultPrevented:function(){return!!(this._defaultPrevented||this.originalEvent&&this.originalEvent.defaultPrevented)},preventDefault:function(){this._defaultPrevented=!0,this.originalEvent&&this.originalEvent.preventDefault()}}),te.Event}function ry(e){var t=function(i,r){if(r&&r.indexOf(" ")>-1){var n=Array.prototype.slice.call(arguments,0);r.split(" ").forEach(function(a){n[1]=a,e.apply(this,n)})}else e.apply(this,arguments)};return function(i,r){if(typeof r=="object"){var n=Array.prototype.slice.call(arguments,0);for(var a in r)n[1]=a,n[n.length-1]=r[a],t.apply(this,n)}else t.apply(this,arguments)}}function B5(e,t){var i=I5[e]||e;(function(r,n){return r==="click"&&n.localName==="a"})(e,t)||Re(t[i])&&(ac=e,t[i](),ac=void 0)}function P5(e){return function(t){return t.which==null&&t.type.indexOf("key")===0}(e)?e.charCode!=null?e.charCode:e.keyCode:function(t){return!t.which&&t.button!==void 0&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(t.type)}(e)?{1:1,2:3,3:1,4:2}[e.button]:e.which}function AI(e){e&&(te.Event=e,te.Event.prototype=e.prototype)}AI(M5(function(e,t){var i,r=e instanceof te.Event||rt()&&e instanceof g_.Event||((i=e.view)===null||i===void 0?void 0:i.Event)&&e instanceof e.view.Event;r?(this.originalEvent=e,this.type=e.type,this.currentTarget=void 0,Object.prototype.hasOwnProperty.call(e,"isTrusted")&&(this.isTrusted=e.isTrusted),this.timeStamp=e.timeStamp||Date.now()):Ie(this,e),__("which",P5,this),e.type.indexOf("touch")===0&&(delete t.pageX,delete t.pageY),Ie(this,t),this.guid=++EI}));function __(e,t,i){Object.defineProperty(i||te.Event.prototype,e,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent&&t(this.originalEvent)},set:function(r){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:r})}})}A5.forEach(e=>__(e,t=>t[e]));E5(__);var OI=kt(),DI=kt();te.set=function(e){OI.fire(),te.inject(e),AI(e.Event),DI.fire()};te.subscribeGlobal=function(){v_(arguments,Hg(function(){var e=arguments;te.on.apply(this,e),OI.add(function(){var t=Array.prototype.slice.call(e,0);t.splice(3,1),te.off.apply(this,t)}),DI.add(function(){te.on.apply(this,e)})}))};te.forcePassiveFalseEventNames=SI;te.passiveEventHandlersSupported=II;var gl=new WeakMap,xs,F5=new f_,RI=function(){},L5=function(e){F5.fire(e),xs=e;var t=xs.cleanData;xs.cleanData=function(i){RI(i);var r=t.call(this,i);return r}};L5({data:function(){var e=arguments[0],t=arguments[1],i=arguments[2];if(e){var r=gl.get(e);return r||(r={},gl.set(e,r)),t===void 0?r:arguments.length===2?r[t]:(r[t]=i,i)}},removeData:function(e,t){if(e)if(t===void 0)gl.delete(e);else{var i=gl.get(e);i&&delete i[t]}},cleanData:function(e){for(var t=0;t<e.length;t++)te.off(e[t]),gl.delete(e[t])}});function ui(){return xs.data.apply(this,arguments)}function N5(e){RI=e}function Zc(e,t){return xs.removeData.call(this,e,t)}function Hu(e,t){if(we.isElementNode(e)){var i=e.getElementsByTagName("*");xs.cleanData(i),t&&xs.cleanData([e])}}var kI=function(e){return e==null?"":String(e)},b_=function(e){return kI(e).charAt(0).toUpperCase()+e.substr(1)},y_=function(e){return kI(e).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},C_=function(e){return Si(y_(e),function(t){return t.toLowerCase()}).join("-")},yu=function(e,t){return Si(y_(e),function(i,r){return i=i.toLowerCase(),(t||r>0)&&(i=b_(i)),i}).join("")},V5=function(e){return b_(C_(e).replace(/-/g," "))},Cu=function(e){return Si(y_(e),function(t){return b_(t.toLowerCase())}).join(" ")},$5=["0","1","2","3","4","5","6","7","8","9"],Os=function(e){var t=[],i,r,n=!1,a=!1;for(i=0;i<e.length;i++)r=e.charAt(i),a=r===r.toUpperCase()&&r!=="-"&&r!==")"&&r!=="/"||r in $5,r==="_"||r==="."?(r=" ",a=!0):i===0?(r=r.toUpperCase(),a=!0):!n&&a&&t.length>0&&t.push(" "),t.push(r),n=a;return t.join("")},sc=["","Webkit","Moz","O","Ms"],H5={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},zg=la(function(){return we.createElement("dx").style}),z5=function(e,t){e=yu(e,!0);for(var i,r=0,n=sc.length;r<n;r++){var a=sc[r],s=a+e,o=yu(s);if(i=t(o,a),i===void 0&&(i=t(s,a)),i!==void 0)break}return i||""},Ka=function(e){if(e in zg())return e;var t=e;e=e.charAt(0).toUpperCase()+e.substr(1);for(var i=1;i<sc.length;i++){var r=sc[i].toLowerCase()+e;if(r in zg())return r}return t},Bh=function(e){return z5(e,function(t,i){if(t in zg())return H5[i]})},W5=["fillOpacity","columnCount","flexGrow","flexShrink","fontWeight","lineHeight","opacity","zIndex","zoom"],Yo=function(e,t){return Kt(t)&&W5.indexOf(e)===-1&&(t+="px"),t},MI=function(e,t,i){if(e){i=Kt(i)?i+="px":i;for(var r=0;r<e.length;++r)e[r].style[t]=i}},up=function(e,t){MI(e,"width",t)},dp=function(e,t){MI(e,"height",t)},w_=at(),j5=["auto","none","inherit","initial"],hp=function(e,t){var i=0;return t.forEach(function(r){i+=parseFloat(e[r])||0}),i},BI=function(e,t){var i=e==="width"?"Left":"Top",r=e==="width"?"Right":"Bottom";return{padding:hp(t,["padding"+i,"padding"+r]),border:hp(t,["border"+i+"Width","border"+r+"Width"]),margin:hp(t,["margin"+i,"margin"+r])}},PI=function(e){var t,i=(e==null||(t=e.ownerDocument)===null||t===void 0?void 0:t.defaultView)||w_;return i.getComputedStyle&&i.getComputedStyle(e)},Wg=function(e,t,i,r){var n;return(t==null?void 0:t[i])||((n=e.style)===null||n===void 0?void 0:n[i])||r},fo={content:0,padding:1,border:2,margin:3,"content-box":0,"border-box":2},ny={width:["left","right"],height:["top","bottom"]};function vl(e,t,i,r){var n=(s,o,l)=>parseFloat(Wg(s,o,l,"0"))||0,a=i==="border"?"-width":"";return n(e,r,"".concat(i,"-").concat(ny[t][0]).concat(a))+n(e,r,"".concat(i,"-").concat(ny[t][1]).concat(a))}var U5=function(e,t,i){var r=t==="width"?"offsetWidth":"offsetHeight",n=PI(e),a=Wg(e,n,t);(a===""||a==="auto")&&(a=e[r]),a=parseFloat(a)||0;var s=Wg(e,n,"boxSizing","content-box"),o=i||s,l=fo[o],u=fo[s];if(l===void 0||u===void 0)throw new Error;if(u===l)return a;var d=Math.sign(l-u),c=!1,h=!1,f=!1,p=!1;d===1&&(l+=1,u+=1);for(var g=u;g!==l;g+=d)switch(g){case fo.content:break;case fo.padding:c=d*vl(e,t,"padding",n);break;case fo.border:h=d*vl(e,t,"border",n);break;case fo.margin:f=d*vl(e,t,"margin",n)}if(c||h){var m=(c===!1?d*vl(e,t,"padding",n):c)+(h===!1?d*vl(e,t,"border",n):h);p=d*Math.max(0,Math.floor(e[r]-a-d*m))||0}return a+f+c+h+p},G5=function(e){return wi(e)?e.innerHeight:e.offsetHeight},K5=function(e,t){return e.indexOf("px")>0?e=parseInt(e.replace("px","")):e.indexOf("%")>0?e=parseInt(e.replace("%",""))*G5(t)/100:isNaN(e)?e.indexOf("vh")>0&&(e=w_.innerHeight/100*parseInt(e.replace("vh",""))):e=parseInt(e),e},FI=function(e,t,i){if(!e)return null;if(j5.indexOf(e)>-1)return t?null:e;if(Ue(e)&&(e=K5(e,i)),Kt(e))return Math.max(0,e+t);var r=t<0?" - ":" ";return"calc("+e+r+Math.abs(t)+"px)"},q5=function(e,t,i){var r=FI(e,t,i);return r!==null?r:"none"},X5=function(e,t,i){var r=FI(e,t,i);return r!==null?r:0},cp=function(e,t){if(!e)return 0;var i=BI("height",w_.getComputedStyle(e));return i.padding+i.border+(t?i.margin:0)},ay=function(e){if(e){var t=e.getBoundingClientRect();if(t.height)return t.height}return 0},Tn={getWidth:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Mr("width",...t)},setWidth:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Mr("width",...t)},getHeight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Mr("height",...t)},setHeight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Mr("height",...t)},getOuterWidth:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Mr("outerWidth",...t)},setOuterWidth:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Mr("outerWidth",...t)},getOuterHeight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Mr("outerHeight",...t)},setOuterHeight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Mr("outerHeight",...t)},getInnerWidth:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Mr("innerWidth",...t)},setInnerWidth:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Mr("innerWidth",...t)},getInnerHeight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Mr("innerHeight",...t)},setInnerHeight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Mr("innerHeight",...t)}};function Mr(e,t,i){return arguments.length===2?ly(t,e):ly(t,e,i)}var Ze=e=>Tn.getWidth(e),zu=(e,t)=>Tn.setWidth(e,t),nt=e=>Tn.getHeight(e),Dr=(e,t)=>Tn.setHeight(e,t),At=(e,t)=>Tn.getOuterWidth(e,t||!1),sy=(e,t)=>Tn.setOuterWidth(e,t),Ct=(e,t)=>Tn.getOuterHeight(e,t||!1),oy=(e,t)=>Tn.setOuterHeight(e,t),jg=e=>Tn.getInnerWidth(e),oc=e=>Tn.getInnerHeight(e),ly=function e(t,i,r){var n=i.toLowerCase().indexOf("width")>=0?"Width":"Height",a=n.toLowerCase(),s=i.indexOf("outer")===0,o=i.indexOf("inner")===0,l=arguments.length===2||typeof r=="boolean";if(Ar(t)){if(t.length>1&&!l){for(var u=0;u<t.length;u++)e(t[u],i,r);return}t=t[0]}if(t){if(wi(t))return s?t["inner"+n]:we.getDocumentElement()["client"+n];if(we.isDocument(t)){var d=we.getDocumentElement(),c=we.getBody();return Math.max(c["scroll"+n],c["offset"+n],d["scroll"+n],d["offset"+n],d["client"+n])}if(l){var h="content";return s&&(h=r?"margin":"border"),o&&(h="padding"),U5(t,a,h)}if(Kt(r)){var f=PI(t),p=BI(a,f),g=f.boxSizing==="border-box";r=Number(r),s?r-=g?0:p.border+p.padding:o?r+=g?p.border:-p.padding:g&&(r+=p.border+p.padding)}return r+=Kt(r)?"px":"",we.setStyle(t,a,r),null}},LI=e=>wi(e)?e:e.defaultView,Ug=e=>{if(!e.getClientRects().length)return{top:0,left:0};var t=e.getBoundingClientRect(),i=LI(e.ownerDocument),r=e.ownerDocument.documentElement;return{top:t.top+i.pageYOffset-r.clientTop,left:t.left+i.pageXOffset-r.clientLeft}},NI=/<([a-z][^/\0>\x20\t\r\n\f]+)/i,yn={default:{tagsCount:0,startTags:"",endTags:""},thead:{tagsCount:1,startTags:"<table>",endTags:"</table>"},td:{tagsCount:3,startTags:"<table><tbody><tr>",endTags:"</tr></tbody></table>"},col:{tagsCount:2,startTags:"<table><colgroup>",endTags:"</colgroup></table>"},tr:{tagsCount:2,startTags:"<table><tbody>",endTags:"</tbody></table>"}};yn.tbody=yn.colgroup=yn.caption=yn.tfoot=yn.thead;yn.th=yn.td;var x_=function(e){if(typeof e!="string")return null;var t=we.createDocumentFragment(),i=t.appendChild(we.createElement("div")),r=NI.exec(e),n=r&&r[1].toLowerCase(),a=yn[n]||yn.default;i.innerHTML=a.startTags+e+a.endTags;for(var s=0;s<a.tagsCount;s++)i=i.lastChild;return[...i.childNodes]},Y5=function(e){var t=NI.exec(e);return t&&t[1]in yn},Z5=at(),It,st=function(e,t){return e?typeof e=="string"?e==="body"?(this[0]=t?t.body:we.getBody(),this.length=1,this):(t=t||we.getDocument(),e[0]==="<"?(this[0]=we.createElement(e.slice(1,-1),t),this.length=1,this):([].push.apply(this,we.querySelectorAll(t,e)),this)):we.isNode(e)||wi(e)?(this[0]=e,this.length=1,this):Array.isArray(e)?([].push.apply(this,e),this):It(e.toArray?e.toArray():[e]):(this.length=0,this)};It=function(e,t){return new st(e,t)};It.fn={dxRenderer:!0};st.prototype=It.fn;var ol=function(e,t){for(var i=0;i<this.length;i++){var r=It(this[i]);r[e].apply(r,t)}return this},Gg=function(e,t,i){i!=null?we.setAttribute(e,t,i):we.removeAttribute(e,t)};st.prototype.show=function(){return this.toggle(!0)};st.prototype.hide=function(){return this.toggle(!1)};st.prototype.toggle=function(e){return this[0]&&this.toggleClass("dx-state-invisible",!e),this};st.prototype.attr=function(e,t){if(this.length>1&&arguments.length>1)return ol.call(this,"attr",arguments);if(!this[0])return Ge(e)||t!==void 0?this:void 0;if(!this[0].getAttribute)return this.prop(e,t);if(typeof e=="string"&&arguments.length===1){var i=this[0].getAttribute(e);return i??void 0}else if(ft(e))for(var r in e)this.attr(r,e[r]);else Gg(this[0],e,t);return this};st.prototype.removeAttr=function(e){return this[0]&&we.removeAttribute(this[0],e),this};st.prototype.prop=function(e,t){if(!this[0])return this;if(typeof e=="string"&&arguments.length===1)return this[0][e];if(ft(e))for(var i in e)this.prop(i,e[i]);else we.setProperty(this[0],e,t);return this};st.prototype.addClass=function(e){return this.toggleClass(e,!0)};st.prototype.removeClass=function(e){return this.toggleClass(e,!1)};st.prototype.hasClass=function(e){if(!this[0]||this[0].className===void 0)return!1;for(var t=e.split(" "),i=0;i<t.length;i++)if(this[0].classList){if(this[0].classList.contains(t[i]))return!0}else{var r=Ue(this[0].className)?this[0].className:we.getAttribute(this[0],"class");if((r||"").split(" ").indexOf(t[i])>=0)return!0}return!1};st.prototype.toggleClass=function(e,t){if(this.length>1)return ol.call(this,"toggleClass",arguments);if(!this[0]||!e)return this;t=t===void 0?!this.hasClass(e):t;for(var i=e.split(" "),r=0;r<i.length;r++)we.setClass(this[0],i[r],t);return this};st.prototype.html=function(e){return arguments.length?(this.empty(),typeof e=="string"&&!Y5(e)||typeof e=="number"?(this[0].innerHTML=e,this):this.append(x_(e))):this[0].innerHTML};var VI=function(e,t){if(!(!this[0]||!e)){typeof e=="string"?e=x_(e):e.nodeType?e=[e]:Kt(e)&&(e=[we.createTextNode(e)]);for(var i=0;i<e.length;i++){var r=e[i],n=this[0],a=n.tagName==="TABLE"&&r.tagName==="TR";a&&n.tBodies&&n.tBodies.length&&(n=n.tBodies[0]),we.insertElement(n,r.nodeType?r:r[0],t)}}},uy=function(e,t){if(!(!this[0]||!this[0].style)&&!(t===null||typeof t=="number"&&isNaN(t))){e=Ka(e);for(var i=0;i<this.length;i++)this[i].style[e]=Yo(e,t)}};st.prototype.css=function(e,t){if(Ue(e))if(arguments.length===2)uy.call(this,e,t);else{if(!this[0])return;e=Ka(e);var i=Z5.getComputedStyle(this[0])[e]||this[0].style[e];return Kt(i)?i.toString():i}else if(ft(e))for(var r in e)uy.call(this,r,e[r]);return this};st.prototype.prepend=function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.prepend(arguments[t]);return this}return VI.apply(this,[e,this[0].firstChild]),this};st.prototype.append=function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.append(arguments[t]);return this}return VI.apply(this,[e]),this};st.prototype.prependTo=function(e){if(this.length>1){for(var t=this.length-1;t>=0;t--)It(this[t]).prependTo(e);return this}return e=It(e),e[0]&&we.insertElement(e[0],this[0],e[0].firstChild),this};st.prototype.appendTo=function(e){return this.length>1?ol.call(this,"appendTo",arguments):(we.insertElement(It(e)[0],this[0]),this)};st.prototype.insertBefore=function(e){return e&&e[0]&&we.insertElement(e[0].parentNode,this[0],e[0]),this};st.prototype.insertAfter=function(e){return e&&e[0]&&we.insertElement(e[0].parentNode,this[0],e[0].nextSibling),this};st.prototype.before=function(e){return this[0]&&we.insertElement(this[0].parentNode,e[0],this[0]),this};st.prototype.after=function(e){return this[0]&&we.insertElement(this[0].parentNode,e[0],this[0].nextSibling),this};st.prototype.wrap=function(e){if(this[0]){var t=It(e);t.insertBefore(this),t.append(this)}return this};st.prototype.wrapInner=function(e){var t=this.contents();return t.length?t.wrap(e):this.append(e),this};st.prototype.replaceWith=function(e){if(e&&e[0])return e.is(this)?this:(e.insertBefore(this),this.remove(),e)};st.prototype.remove=function(){return this.length>1?ol.call(this,"remove",arguments):(Hu(this[0],!0),we.removeElement(this[0]),this)};st.prototype.detach=function(){return this.length>1?ol.call(this,"detach",arguments):(we.removeElement(this[0]),this)};st.prototype.empty=function(){return this.length>1?ol.call(this,"empty",arguments):(Hu(this[0]),we.setText(this[0],""),this)};st.prototype.clone=function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t].cloneNode(!0));return It(e)};st.prototype.text=function(e){if(!arguments.length){for(var t="",i=0;i<this.length;i++)t+=this[i]&&this[i].textContent||"";return t}var r=Re(e)?e():e;return Hu(this[0],!1),we.setText(this[0],Z(r)?r:""),this};st.prototype.val=function(e){return arguments.length===1?this.prop("value",Z(e)?e:""):this.prop("value")};st.prototype.contents=function(){if(!this[0])return It();var e=[];return e.push.apply(e,this[0].childNodes),It(e)};st.prototype.find=function(e){var t=It();if(!e)return t;var i=[],r;if(typeof e=="string")for(e=e.trim(),r=0;r<this.length;r++){var n=this[r];if(we.isElementNode(n)){var a=n.getAttribute("id"),s=a||"dx-query-children";a||Gg(n,"id",s),s="[id='"+s+"'] ";var o=s+e.replace(/([^\\])(,)/g,"$1, "+s);i.push.apply(i,we.querySelectorAll(n,o)),Gg(n,"id",a)}else we.isDocument(n)&&i.push.apply(i,we.querySelectorAll(n,e))}else for(r=0;r<this.length;r++)e=we.isNode(e)?e:e[0],this[r]!==e&&this[r].contains(e)&&i.push(e);return t.add(i)};var dy=function(e,t){var i;return t=(i=t.host)!==null&&i!==void 0?i:t,t.nodeType?!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length):!0};st.prototype.filter=function(e){if(!e)return It();if(e===":visible")return this.filter(dy);if(e===":hidden")return this.filter(function(a,s){return!dy(a,s)});for(var t=[],i=0;i<this.length;i++){var r=this[i];if(we.isElementNode(r)&&Wr(e)==="string")we.elementMatches(r,e)&&t.push(r);else if(we.isNode(e)||wi(e))e===r&&t.push(r);else if(Re(e))e.call(r,i,r)&&t.push(r);else for(var n=0;n<e.length;n++)e[n]===r&&t.push(r)}return It(t)};st.prototype.not=function(e){for(var t=[],i=this.filter(e).toArray(),r=0;r<this.length;r++)i.indexOf(this[r])===-1&&t.push(this[r]);return It(t)};st.prototype.is=function(e){return!!this.filter(e).length};st.prototype.children=function(e){for(var t=[],i=0;i<this.length;i++)for(var r=this[i]?this[i].childNodes:[],n=0;n<r.length;n++)we.isElementNode(r[n])&&t.push(r[n]);return t=It(t),e?t.filter(e):t};st.prototype.siblings=function(){var e=this[0];if(!e||!e.parentNode)return It();for(var t=[],i=e.parentNode.childNodes||[],r=0;r<i.length;r++){var n=i[r];we.isElementNode(n)&&n!==e&&t.push(n)}return It(t)};st.prototype.each=function(e){for(var t=0;t<this.length&&e.call(this[t],t,this[t])!==!1;t++);};st.prototype.index=function(e){return e?(e=It(e),this.toArray().indexOf(e[0])):this.parent().children().index(this)};st.prototype.get=function(e){return this[e<0?this.length+e:e]};st.prototype.eq=function(e){return e=e<0?this.length+e:e,It(this[e])};st.prototype.first=function(){return this.eq(0)};st.prototype.last=function(){return this.eq(-1)};st.prototype.parent=function(e){if(!this[0])return It();var t=It(this[0].parentNode);return!e||t.is(e)?t:It()};st.prototype.parents=function(e){for(var t=[],i=this.parent();i&&i[0]&&!we.isDocument(i[0]);)we.isElementNode(i[0])&&(!e||i.is(e))&&t.push(i.get(0)),i=i.parent();return It(t)};st.prototype.closest=function(e){if(this.is(e))return this;for(var t=this.parent();t&&t.length;){if(t.is(e))return t;t=t.parent()}return It()};st.prototype.next=function(e){if(!this[0])return It();var t=It(this[0].nextSibling);if(!arguments.length)return t;for(;t&&t.length;){if(t.is(e))return t;t=t.next()}return It()};st.prototype.prev=function(){return this[0]?It(this[0].previousSibling):It()};st.prototype.add=function(e){for(var t=It(e),i=this.toArray(),r=0;r<t.length;r++){var n=t[r];i.indexOf(n)===-1&&i.push(n)}return It(i)};var S_=[];st.prototype.splice=function(){return It(S_.splice.apply(this,arguments))};st.prototype.slice=function(){return It(S_.slice.apply(this,arguments))};st.prototype.toArray=function(){return S_.slice.call(this)};st.prototype.offset=function(){if(this[0])return Ug(this[0])};st.prototype.offsetParent=function(){if(!this[0])return It();for(var e=It(this[0].offsetParent);e[0]&&e.css("position")==="static";)e=It(e[0].offsetParent);return e=e[0]?e:It(we.getDocumentElement()),e};st.prototype.position=function(){if(this[0]){var e,t=parseFloat(this.css("marginTop")),i=parseFloat(this.css("marginLeft"));if(this.css("position")==="fixed")return e=this[0].getBoundingClientRect(),{top:e.top-t,left:e.left-i};e=this.offset();var r=this.offsetParent(),n={top:0,left:0};return r[0].nodeName!=="HTML"&&(n=r.offset()),n={top:n.top+parseFloat(r.css("borderTopWidth")),left:n.left+parseFloat(r.css("borderLeftWidth"))},{top:e.top-n.top-t,left:e.left-n.left-i}}};[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(e,t){e.scrollTo(t,e.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(e,t){e.scrollTo(e.pageXOffset,t)}}].forEach(function(e){var t=e.name;st.prototype[t]=function(i){if(this[0]){var r=LI(this[0]);return i===void 0?r?r[e.offsetProp]:this[0][t]:(r?e.scrollWindow(r,i):this[0][t]=i,this)}}});st.prototype.data=function(e,t){if(this[0])return arguments.length<2?ui.call(It,this[0],e):(ui.call(It,this[0],e,t),this)};st.prototype.removeData=function(e){return this[0]&&Zc(this[0],e),this};var $I=function(){return It.apply(this,arguments)};Object.defineProperty($I,"fn",{enumerable:!0,configurable:!0,get:function(){return It.fn},set:function(e){It.fn=e}});const J5={set:function(e){It=e},get:function(){return $I}},W=J5.get();var Q5={en:{Yes:"Yes",No:"No",Cancel:"Cancel",Close:"Close",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK","dxCollectionWidget-noDataText":"No data to display","dxDropDownEditor-selectLabel":"Select","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid","dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxFileUploader-selectFile":"Select a file","dxFileUploader-dropFile":"or Drop a file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"kb","dxFileUploader-Mb":"Mb","dxFileUploader-Gb":"Gb","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadAbortedMessage":"Upload cancelled","dxFileUploader-uploadFailedMessage":"Upload failed","dxFileUploader-invalidFileExtension":"File type is not allowed","dxFileUploader-invalidMaxFileSize":"File is too large","dxFileUploader-invalidMinFileSize":"File is too small","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-switchedOnText":"ON","dxSwitch-switchedOffText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required","dxNumberBox-invalidValueMessage":"Value must be a number","dxNumberBox-noDataText":"No data","dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-groupHeaderText":"Group by This Column","dxDataGrid-ungroupHeaderText":"Ungroup","dxDataGrid-ungroupAllText":"Ungroup All","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Fix","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"To the left","dxDataGrid-columnFixingRightPosition":"To the right","dxDataGrid-exportTo":"Export","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-exporting":"Exporting...","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-exportSelectedRows":"Export selected rows to {0}","dxDataGrid-exportAll":"Export all data to {0}","dxDataGrid-headerFilterLabel":"Filter options","dxDataGrid-headerFilterIndicatorLabel":"Show filter options for column '{0}'","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaAdaptiveCollapse":"Hide additional data","dxDataGrid-ariaAdaptiveExpand":"Display additional data","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaDataGrid":"Data grid","dxDataGrid-ariaSearchInGrid":"Search in the data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxDataGrid-ariaToolbar":"Data grid toolbar","dxDataGrid-filterBuilderPopupTitle":"Filter Builder","dxDataGrid-filterPanelCreateFilter":"Create Filter","dxDataGrid-filterPanelClearFilter":"Clear","dxDataGrid-filterPanelFilterEnabledHint":"Enable the filter","dxTreeList-ariaTreeList":"Tree list","dxTreeList-ariaSearchInGrid":"Search in the tree list","dxTreeList-ariaToolbar":"Tree list toolbar","dxTreeList-editingAddRowToNode":"Add","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPager-pagesCountText":"of","dxPager-pageSizesAllText":"All","dxPager-page":"Page {0}","dxPager-prevPage":"Previous Page","dxPager-nextPage":"Next Page","dxPager-ariaLabel":"Page Navigation","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxPivotGrid-columnFieldArea":"Drop Column Fields Here","dxPivotGrid-dataFieldArea":"Drop Data Fields Here","dxPivotGrid-rowFieldArea":"Drop Row Fields Here","dxPivotGrid-filterFieldArea":"Drop Filter Fields Here","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceMinutely":"Every minute","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceRepeatEvery":"Repeat Every","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work Week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherAgenda":"Agenda","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxScheduler-noTimezoneTitle":"No timezone","dxScheduler-moreAppointments":"{0} more","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code","dxTagBox-selected":"{0} selected","dxTagBox-allSelected":"All selected ({0})","dxTagBox-moreSelected":"{0} more","vizExport-printingButtonText":"Print","vizExport-titleMenuText":"Exporting/Printing","vizExport-exportButtonText":"{0} file","dxFilterBuilder-and":"And","dxFilterBuilder-or":"Or","dxFilterBuilder-notAnd":"Not And","dxFilterBuilder-notOr":"Not Or","dxFilterBuilder-addCondition":"Add Condition","dxFilterBuilder-addGroup":"Add Group","dxFilterBuilder-enterValueText":"<enter a value>","dxFilterBuilder-filterOperationEquals":"Equals","dxFilterBuilder-filterOperationNotEquals":"Does not equal","dxFilterBuilder-filterOperationLess":"Is less than","dxFilterBuilder-filterOperationLessOrEquals":"Is less than or equal to","dxFilterBuilder-filterOperationGreater":"Is greater than","dxFilterBuilder-filterOperationGreaterOrEquals":"Is greater than or equal to","dxFilterBuilder-filterOperationStartsWith":"Starts with","dxFilterBuilder-filterOperationContains":"Contains","dxFilterBuilder-filterOperationNotContains":"Does not contain","dxFilterBuilder-filterOperationEndsWith":"Ends with","dxFilterBuilder-filterOperationIsBlank":"Is blank","dxFilterBuilder-filterOperationIsNotBlank":"Is not blank","dxFilterBuilder-filterOperationBetween":"Is between","dxFilterBuilder-filterOperationAnyOf":"Is any of","dxFilterBuilder-filterOperationNoneOf":"Is none of","dxHtmlEditor-dialogColorCaption":"Change Font Color","dxHtmlEditor-dialogBackgroundCaption":"Change Background Color","dxHtmlEditor-dialogLinkCaption":"Add Link","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Text","dxHtmlEditor-dialogLinkTargetField":"Open link in new window","dxHtmlEditor-dialogImageCaption":"Add Image","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternate text","dxHtmlEditor-dialogImageWidthField":"Width (px)","dxHtmlEditor-dialogImageHeightField":"Height (px)","dxHtmlEditor-dialogInsertTableRowsField":"Rows","dxHtmlEditor-dialogInsertTableColumnsField":"Columns","dxHtmlEditor-dialogInsertTableCaption":"Insert Table","dxHtmlEditor-dialogUpdateImageCaption":"Update Image","dxHtmlEditor-dialogImageUpdateButton":"Update","dxHtmlEditor-dialogImageAddButton":"Add","dxHtmlEditor-dialogImageSpecifyUrl":"From the Web","dxHtmlEditor-dialogImageSelectFile":"From This Device","dxHtmlEditor-dialogImageKeepAspectRatio":"Keep Aspect Ratio","dxHtmlEditor-dialogImageEncodeToBase64":"Encode to Base64","dxHtmlEditor-heading":"Heading","dxHtmlEditor-normalText":"Normal text","dxHtmlEditor-background":"Background Color","dxHtmlEditor-bold":"Bold","dxHtmlEditor-color":"Font Color","dxHtmlEditor-font":"Font","dxHtmlEditor-italic":"Italic","dxHtmlEditor-link":"Add Link","dxHtmlEditor-image":"Add Image","dxHtmlEditor-size":"Size","dxHtmlEditor-strike":"Strikethrough","dxHtmlEditor-subscript":"Subscript","dxHtmlEditor-superscript":"Superscript","dxHtmlEditor-underline":"Underline","dxHtmlEditor-blockquote":"Blockquote","dxHtmlEditor-header":"Header","dxHtmlEditor-increaseIndent":"Increase Indent","dxHtmlEditor-decreaseIndent":"Decrease Indent","dxHtmlEditor-orderedList":"Ordered List","dxHtmlEditor-bulletList":"Bullet List","dxHtmlEditor-alignLeft":"Align Left","dxHtmlEditor-alignCenter":"Align Center","dxHtmlEditor-alignRight":"Align Right","dxHtmlEditor-alignJustify":"Align Justify","dxHtmlEditor-codeBlock":"Code Block","dxHtmlEditor-variable":"Add Variable","dxHtmlEditor-undo":"Undo","dxHtmlEditor-redo":"Redo","dxHtmlEditor-clear":"Clear Formatting","dxHtmlEditor-insertTable":"Insert Table","dxHtmlEditor-insertHeaderRow":"Insert Header Row","dxHtmlEditor-insertRowAbove":"Insert Row Above","dxHtmlEditor-insertRowBelow":"Insert Row Below","dxHtmlEditor-insertColumnLeft":"Insert Column Left","dxHtmlEditor-insertColumnRight":"Insert Column Right","dxHtmlEditor-deleteColumn":"Delete Column","dxHtmlEditor-deleteRow":"Delete Row","dxHtmlEditor-deleteTable":"Delete Table","dxHtmlEditor-cellProperties":"Cell Properties","dxHtmlEditor-tableProperties":"Table Properties","dxHtmlEditor-insert":"Insert","dxHtmlEditor-delete":"Delete","dxHtmlEditor-border":"Border","dxHtmlEditor-style":"Style","dxHtmlEditor-width":"Width","dxHtmlEditor-height":"Height","dxHtmlEditor-borderColor":"Color","dxHtmlEditor-tableBackground":"Background","dxHtmlEditor-dimensions":"Dimensions","dxHtmlEditor-alignment":"Alignment","dxHtmlEditor-horizontal":"Horizontal","dxHtmlEditor-vertical":"Vertical","dxHtmlEditor-paddingVertical":"Vertical Padding","dxHtmlEditor-paddingHorizontal":"Horizontal Padding","dxHtmlEditor-pixels":"Pixels","dxHtmlEditor-list":"List","dxHtmlEditor-ordered":"Ordered","dxHtmlEditor-bullet":"Bullet","dxHtmlEditor-align":"Align","dxHtmlEditor-center":"Center","dxHtmlEditor-left":"Left","dxHtmlEditor-right":"Right","dxHtmlEditor-indent":"Indent","dxHtmlEditor-justify":"Justify","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Access Denied. Operation could not be completed.","dxFileManager-errorDirectoryExistsFormat":"Directory '{0}' already exists.","dxFileManager-errorFileExistsFormat":"File '{0}' already exists.","dxFileManager-errorFileNotFoundFormat":"File '{0}' not found.","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Unspecified error.","dxFileManager-errorDirectoryOpenFailed":"The directory cannot be opened","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move to","dxFileManager-commandCopy":"Copy to","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClearSelection":"Clear selection","dxFileManager-commandShowNavPane":"Toggle navigation pane","dxFileManager-dialogDirectoryChooserMoveTitle":"Move to","dxFileManager-dialogDirectoryChooserMoveButtonText":"Move","dxFileManager-dialogDirectoryChooserCopyTitle":"Copy to","dxFileManager-dialogDirectoryChooserCopyButtonText":"Copy","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-dialogDeleteItemTitle":"Delete","dxFileManager-dialogDeleteItemButtonText":"Delete","dxFileManager-dialogDeleteItemSingleItemConfirmation":"Are you sure you want to delete {0}?","dxFileManager-dialogDeleteItemMultipleItemsConfirmation":"Are you sure you want to delete {0} items?","dxFileManager-dialogButtonCancel":"Cancel","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory was not created","dxFileManager-editingCreateCommonErrorMessage":"Directory was not created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item was not renamed","dxFileManager-editingRenameCommonErrorMessage":"Item was not renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item was not deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items were not deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items were not deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item was not moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items were not moved","dxFileManager-editingMoveCommonErrorMessage":"Some items were not moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item was not copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items were not copied","dxFileManager-editingCopyCommonErrorMessage":"Some items were not copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item was not uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items were not uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-editingDownloadSingleItemErrorMessage":"Item was not downloaded","dxFileManager-editingDownloadMultipleItemsErrorMessage":"{0} items were not downloaded","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Org Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Font Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandLineWidth":"Line Width","dxDiagram-commandLineStyle":"Line Style","dxDiagram-commandLineStyleSolid":"Solid","dxDiagram-commandLineStyleDotted":"Dotted","dxDiagram-commandLineStyleDashed":"Dashed","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandFitToContent":"Fit to Content","dxDiagram-commandFitToWidth":"Fit to Width","dxDiagram-commandAutoZoomByContent":"Auto Zoom by Content","dxDiagram-commandAutoZoomByWidth":"Auto Zoom by Width","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-commandLayoutLeftToRight":"Left-to-right","dxDiagram-commandLayoutRightToLeft":"Right-to-left","dxDiagram-commandLayoutTopToBottom":"Top-to-bottom","dxDiagram-commandLayoutBottomToTop":"Bottom-to-top","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop a file here","dxDiagram-uiExport":"Export","dxDiagram-uiProperties":"Properties","dxDiagram-uiSettings":"Settings","dxDiagram-uiShowToolbox":"Show Toolbox","dxDiagram-uiSearch":"Search","dxDiagram-uiStyle":"Style","dxDiagram-uiLayout":"Layout","dxDiagram-uiLayoutTree":"Tree","dxDiagram-uiLayoutLayered":"Layered","dxDiagram-uiDiagram":"Diagram","dxDiagram-uiText":"Text","dxDiagram-uiObject":"Object","dxDiagram-uiConnector":"Connector","dxDiagram-uiPage":"Page","dxDiagram-shapeText":"Text","dxDiagram-shapeRectangle":"Rectangle","dxDiagram-shapeEllipse":"Ellipse","dxDiagram-shapeCross":"Cross","dxDiagram-shapeTriangle":"Triangle","dxDiagram-shapeDiamond":"Diamond","dxDiagram-shapeHeart":"Heart","dxDiagram-shapePentagon":"Pentagon","dxDiagram-shapeHexagon":"Hexagon","dxDiagram-shapeOctagon":"Octagon","dxDiagram-shapeStar":"Star","dxDiagram-shapeArrowLeft":"Left Arrow","dxDiagram-shapeArrowUp":"Up Arrow","dxDiagram-shapeArrowRight":"Right Arrow","dxDiagram-shapeArrowDown":"Down Arrow","dxDiagram-shapeArrowUpDown":"Up Down Arrow","dxDiagram-shapeArrowLeftRight":"Left Right Arrow","dxDiagram-shapeProcess":"Process","dxDiagram-shapeDecision":"Decision","dxDiagram-shapeTerminator":"Terminator","dxDiagram-shapePredefinedProcess":"Predefined Process","dxDiagram-shapeDocument":"Document","dxDiagram-shapeMultipleDocuments":"Multiple Documents","dxDiagram-shapeManualInput":"Manual Input","dxDiagram-shapePreparation":"Preparation","dxDiagram-shapeData":"Data","dxDiagram-shapeDatabase":"Database","dxDiagram-shapeHardDisk":"Hard Disk","dxDiagram-shapeInternalStorage":"Internal Storage","dxDiagram-shapePaperTape":"Paper Tape","dxDiagram-shapeManualOperation":"Manual Operation","dxDiagram-shapeDelay":"Delay","dxDiagram-shapeStoredData":"Stored Data","dxDiagram-shapeDisplay":"Display","dxDiagram-shapeMerge":"Merge","dxDiagram-shapeConnector":"Connector","dxDiagram-shapeOr":"Or","dxDiagram-shapeSummingJunction":"Summing Junction","dxDiagram-shapeContainerDefaultText":"Container","dxDiagram-shapeVerticalContainer":"Vertical Container","dxDiagram-shapeHorizontalContainer":"Horizontal Container","dxDiagram-shapeCardDefaultText":"Person's Name","dxDiagram-shapeCardWithImageOnLeft":"Card with Image on the Left","dxDiagram-shapeCardWithImageOnTop":"Card with Image on the Top","dxDiagram-shapeCardWithImageOnRight":"Card with Image on the Right","dxGantt-dialogTitle":"Title","dxGantt-dialogStartTitle":"Start","dxGantt-dialogEndTitle":"End","dxGantt-dialogProgressTitle":"Progress","dxGantt-dialogResourcesTitle":"Resources","dxGantt-dialogResourceManagerTitle":"Resource Manager","dxGantt-dialogTaskDetailsTitle":"Task Details","dxGantt-dialogEditResourceListHint":"Edit Resource List","dxGantt-dialogEditNoResources":"No resources","dxGantt-dialogButtonAdd":"Add","dxGantt-contextMenuNewTask":"New Task","dxGantt-contextMenuNewSubtask":"New Subtask","dxGantt-contextMenuDeleteTask":"Delete Task","dxGantt-contextMenuDeleteDependency":"Delete Dependency","dxGantt-dialogTaskDeleteConfirmation":"Deleting a task also deletes all its dependencies and subtasks. Are you sure you want to delete this task?","dxGantt-dialogDependencyDeleteConfirmation":"Are you sure you want to delete the dependency from the task?","dxGantt-dialogResourcesDeleteConfirmation":"Deleting a resource also deletes it from tasks to which this resource is assigned. Are you sure you want to delete these resources? Resources: {0}","dxGantt-dialogConstraintCriticalViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. How would you like to proceed?","dxGantt-dialogCancelOperationMessage":"Cancel the operation","dxGantt-dialogDeleteDependencyMessage":"Delete the dependency","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"Move the task and keep the dependency","dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. How would you like to proceed?","dxGantt-dialogDeleteDependenciesMessage":"Delete the dependency relations","dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"Move the task and keep the dependencies","dxGantt-undo":"Undo","dxGantt-redo":"Redo","dxGantt-expandAll":"Expand All","dxGantt-collapseAll":"Collapse All","dxGantt-addNewTask":"Add New Task","dxGantt-deleteSelectedTask":"Delete Selected Task","dxGantt-zoomIn":"Zoom In","dxGantt-zoomOut":"Zoom Out","dxGantt-fullScreen":"Full Screen","dxGantt-quarter":"Q{0}","dxGantt-sortingAscendingText":"Sort Ascending","dxGantt-sortingDescendingText":"Sort Descending","dxGantt-sortingClearText":"Clear Sorting","dxGantt-showResources":"Show Resources","dxGantt-showDependencies":"Show Dependencies","dxGantt-dialogStartDateValidation":"Start date must be after {0}","dxGantt-dialogEndDateValidation":"End date must be after {0}"}},eP=re(!0,{},Q5),tP=(e,t)=>e[t]||{},fp={},_e=Ur({engine:function(){return"base"},_dictionary:eP,load:function(e){re(!0,this._dictionary,e)},_localizablePrefix:"@",setup:function(e){this._localizablePrefix=e},localizeString:function(e){var t=this,i=new RegExp("(^|[^a-zA-Z_0-9"+t._localizablePrefix+"-]+)("+t._localizablePrefix+"{1,2})([a-zA-Z_0-9-]+)","g"),r=t._localizablePrefix+t._localizablePrefix;return e.replace(i,(n,a,s,o)=>{var l=t._localizablePrefix+o,u;return s!==r&&(u=t.format(o)),u||(fp[o]=V5(o)),a+(u||l)})},getMessagesByLocales:function(){return this._dictionary},getDictionary:function(e){return e?fp:re({},fp,this.getMessagesByLocales()[Or.locale()])},getFormatter:function(e){return this._getFormatterBase(e)||this._getFormatterBase(e,"en")},_getFormatterBase:function(e,t){var i=Or.getValueByClosestLocale(r=>tP(this._dictionary,r)[e]);if(i)return function(){var r=arguments.length===1&&Array.isArray(arguments[0])?arguments[0].slice(0):Array.prototype.slice.call(arguments,0);return r.unshift(i),sn.apply(this,r)}},format:function(e){var t=this.getFormatter(e),i=Array.prototype.slice.call(arguments,1);return t&&t.apply(this,i)||""}});const HI=new f_;var Gr=function(e,t){var i={};"noBubble"in t&&(i.noBubble=t.noBubble),"bindType"in t&&(i.bindType=t.bindType),"delegateType"in t&&(i.delegateType=t.delegateType),le(["setup","teardown","add","remove","trigger","handle","_default","dispose"],function(r,n){t[n]&&(i[n]=function(){var a=[].slice.call(arguments);return a.unshift(this),t[n].apply(t,a)})}),p_.fire(e,i)};Gr.callbacks=p_;var An="dxremove",Kg="dxRemoveEvent";N5(function(e){e=[].slice.call(e);for(var t=0;t<e.length;t++){var i=W(e[t]);i.prop(Kg)&&(i[0][Kg]=null,te.triggerHandler(i,An))}});Gr(An,{noBubble:!0,setup:function(e){W(e).prop(Kg,!0)}});var pp="dxComponents",iP="dxPrivateComponent",kd=new WeakMap,rP=0,Wu=function(e,t){if(Z(t)){kd.set(e,t);return}if(!kd.has(e)){var i=iP+rP++;return kd.set(e,i),i}return kd.get(e)};function zI(e,t,i){var r=ui(e.get(0)),n=Wu(t.constructor);r[n]=t,i&&te.one(e,An,function(){i.call(t)}),r[pp]||(r[pp]=[]),r[pp].push(n)}function WI(e,t){var i=Wu(t);return ui(e.get(0),i)}var yt=function(e,t,i){i?t[e]=i:i=t,Wu(i,e),HI.fire(e,i)},nP=function(e,t){W.fn[e]=function(i){var r=typeof i=="string",n;if(r){var a=i,s=[].slice.call(arguments).slice(1);this.each(function(){var o=t.getInstance(this);if(!o)throw $t.Error("E0009",e);var l=o[a],u=l.apply(o,s);n===void 0&&(n=u)})}else this.each(function(){var o=t.getInstance(this);o?o.option(i):new t(this,i)}),n=this;return n}};HI.add(nP);var mp=[],aP=la(()=>{var e=we.listen(we.getDocument(),"DOMContentLoaded",()=>{jI.fire(),e()})}),jI={add:e=>{var t=rt();t&&we.getReadyState()!=="loading"?e():(mp.push(e),t&&aP())},fire:()=>{mp.forEach(e=>e()),mp=[]}};const On=Ur(jI);var Ds=function(){var e,t=kt(),i=t.add,r=t.remove;if(!rt())return t;var n=function(){var l=at();return{width:l.innerWidth,height:l.innerHeight}},a=function(){var l=n();if(!(l.width===e.width&&l.height===e.height)){var u;l.width===e.width&&(u="height"),l.height===e.height&&(u="width"),e=l,t.fire(u)}},s=la(function(){e=n()}),o;return t.add=function(){var l=i.apply(t,arguments);return s(),On.add(function(){!o&&t.has()&&(o=we.listen(at(),"resize",a))}),l},t.remove=function(){var l=r.apply(t,arguments);return!t.has()&&o&&(o(),o=void 0),l},t}();class Gs{constructor(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._events={},this._owner=t,this._options=i}static create(t,i){return i?Re(i)?i(t):i:new Gs(t)}hasEvent(t){var i=this._events[t];return i?i.has():!1}fireEvent(t,i){var r=this._events[t];return r&&r.fireWith(this._owner,i),this._owner}on(t,i){if(ft(t))le(t,(a,s)=>{this.on(a,s)});else{var r=this._events[t];r||(r=kt({syncStrategy:this._options.syncStrategy}),this._events[t]=r);var n=r.originalAdd||r.add;n.call(r,i)}}off(t,i){var r=this._events[t];r&&(Re(i)?r.remove(i):r.empty())}dispose(){le(this._events,(t,i)=>{i.empty()})}}var sP=at(),UI=function(){var e;try{e=sP.sessionStorage}catch{}return e},oP=On.add,Jc=kt(),GI=W(),Va=function(){var e;return function(t){if(!arguments.length)return e;var i=W(t);GI=i;var r=!!i.length,n=Va();e=r?i:W("body"),Jc.fire(r?Va():W(),n)}}();oP(function(){Va(".dx-viewport")});function KI(){return GI}var lP=$u(),qI=at(),uP={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},hy={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},dP={generic(e){var t=/windows phone/i.test(e)||e.match(/WPDesktop/),i=!t&&/Windows(.*)arm(.*)Tablet PC/i.test(e),r=!t&&!i&&/msapphost/i.test(e),n=/((intel|ppc) mac os x)/.test(e.toLowerCase());if(t||i||r||n)return{deviceType:t?"phone":i?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:n}},ios(e){if(/ip(hone|od|ad)/i.test(e)){var t=/ip(hone|od)/i.test(e),i=e.match(/os (\d+)_(\d+)_?(\d+)?/i),r=i?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3]||0,10)]:[],n=qI.screen.height===480,a=n?"B":"A";return{deviceType:t?"phone":"tablet",platform:"ios",version:r,grade:a}}},android(e){if(/android|htc_|silk/i.test(e)){var t=/mobile/i.test(e),i=e.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),r=i?[parseInt(i[1],10),parseInt(i[2]||0,10),parseInt(i[3]||0,10)]:[],n=r.length>1&&(r[0]<4||r[0]===4&&r[1]<4),a=n?"B":"A";return{deviceType:t?"phone":"tablet",platform:"android",version:r,grade:a}}}};class hP{constructor(t){this._window=(t==null?void 0:t.window)||qI,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this._eventsStrategy=new Gs(this),this.changed=kt(),rt()&&(On.add(this._recalculateOrientation.bind(this)),Ds.add(this._recalculateOrientation.bind(this)))}current(t){if(t){this._currentDevice=this._getDevice(t),this._forced=!0,this.changed.fire();return}if(!this._currentDevice){t=void 0;try{t=this._getDeviceOrNameFromWindowScope()}catch{t=this._getDeviceNameFromSessionStorage()}finally{t||(t=this._getDeviceNameFromSessionStorage()),t&&(this._forced=!0)}this._currentDevice=this._getDevice(t)}return this._currentDevice}real(t){return re({},this._realDevice)}orientation(){return this._currentOrientation}isForced(){return this._forced}isRippleEmulator(){return!!this._window.tinyHippos}_getCssClasses(t){var i=[],r=this._realDevice;return t=t||this.current(),t.deviceType&&(i.push("dx-device-".concat(t.deviceType)),t.deviceType!=="desktop"&&i.push("dx-device-mobile")),i.push("dx-device-".concat(r.platform)),r.version&&r.version.length&&i.push("dx-device-".concat(r.platform,"-").concat(r.version[0])),this.isSimulator()&&i.push("dx-simulator"),Jt().rtlEnabled&&i.push("dx-rtl"),i}attachCssClasses(t,i){this._deviceClasses=this._getCssClasses(i).join(" "),W(t).addClass(this._deviceClasses)}detachCssClasses(t){W(t).removeClass(this._deviceClasses)}isSimulator(){try{return this._isSimulator||rt()&&this._window.top!==this._window.self&&this._window.top["dx-force-device"]||this.isRippleEmulator()}catch{return!1}}forceSimulator(){this._isSimulator=!0}_getDevice(t){if(t==="genericPhone"&&(t={deviceType:"phone",platform:"generic",generic:!0}),ft(t))return this._fromConfig(t);var i;if(t){if(i=uP[t],!i)throw $t.Error("E0005")}else i=lP.userAgent;return this._fromUA(i)}_getDeviceOrNameFromWindowScope(){var t;return rt()&&(this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"])&&(t=this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"]),t}_getDeviceNameFromSessionStorage(){var t=UI();if(t){var i=t.getItem("dx-force-device");try{return JSON.parse(i)}catch{return i}}}_fromConfig(t){var i=re({},hy,this._currentDevice,t),r={phone:i.deviceType==="phone",tablet:i.deviceType==="tablet",android:i.platform==="android",ios:i.platform==="ios",generic:i.platform==="generic"};return re(i,r)}_fromUA(t){var i;return le(dP,(r,n)=>(i=n(t),!i)),i?this._fromConfig(i):hy}_changeOrientation(){var t=W(this._window),i=nt(t)>Ze(t)?"portrait":"landscape";this._currentOrientation!==i&&(this._currentOrientation=i,this._eventsStrategy.fireEvent("orientationChanged",[{orientation:i}]))}_recalculateOrientation(){var t=Ze(this._window);this._currentWidth!==t&&(this._currentWidth=t,this._changeOrientation())}on(t,i){return this._eventsStrategy.on(t,i),this}off(t,i){return this._eventsStrategy.off(t,i),this}}var Ne=new hP,cy=Va();cy&&Ne.attachCssClasses(cy);Jc.add((e,t)=>{Ne.detachCssClasses(t),Ne.attachCssClasses(e)});var{maxTouchPoints:XI}=$u(),cP={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},E_=function(e){return!!Ka(e)},fP=function(){var{platform:e,mac:t}=Ne.real(),i=e==="ios"||e==="android"||t;return i},Qc=function(e){if(e==="text")return!0;var t=we.createElement("input");try{return t.setAttribute("type",e),t.value="wrongValue",!t.value}catch{return!1}},pP=function(e,t){return(e("ontouchstart")||!!t)&&!e("callPhantom")},mP=function(e){return e("PointerEvent")},YI=pP(wI,XI),ZI=mP(wI),gP=!!XI,Rs=YI||ZI&&gP,qg=la(function(){return E_("transition")}),JI=la(function(){return cP[Ka("transition")]}),QI=la(function(){return E_("animation")}),ks=fP();const vP=Object.freeze(Object.defineProperty({__proto__:null,animation:QI,inputType:Qc,nativeScrolling:ks,pointerEvents:ZI,styleProp:Ka,stylePropPrefix:Bh,supportProp:E_,touch:Rs,touchEvents:YI,transition:qg,transitionEndEventName:JI},Symbol.toStringTag,{value:"Module"}));var Mo=new kt;const gt=o_($t.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created because of an internal error: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1051:`HtmlEditor's valueType is "{0}", but the {0} converter was not imported.`,E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1058:'The "startDayHour" must be earlier than the "endDayHour"',E1059:"The following column names are not unique: {0}",E1060:"All editable columns must have names",W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config.",W1015:'The "cellDuration" should divide the range from the "startDayHour" to the "endDayHour" into even intervals',W1016:"The '{0}' field in the HTML Editor toolbar item configuration was renamed to '{1}'. Please make a corresponding change in your code.",W1017:"The 'key' property is not specified for a lookup data source. Please specify it to prevent requests for the entire dataset when users filter data.",W1018:"Infinite scrolling may not work properly with multiple selection. To use these features together, set 'selection.deferred' to true or set 'selection.selectAllMode' to 'page'.",W1019:"Filter query string exceeds maximum length limit of {0} characters.",W1020:"hideEvent is ignored when the shading property is true"});var eT=at(),_P=On.add,bP=Va,yP=Jc,wu=new pe,tT="link[rel=dx-theme]",CP="data-theme",wP="data-active",fy="dx-hairlines",iT="any",Zn,Xg,Jn,xr,Ia,py=15e3,gp="dx.";function I_(){if(!rt())return null;var e=W("<div>",Zn).addClass("dx-theme-marker").appendTo(Zn.documentElement),t;try{return t=eT.getComputedStyle(e.get(0)).fontFamily,!t||(t=t.replace(/["']/g,""),t.substr(0,gp.length)!==gp)?null:t.substr(gp.length)}finally{e.remove()}}function my(e){var t,i,r=!0;Ia=e;function n(){Ia=null,clearInterval(i),r=!0,Mo.fire(),Mo.empty(),wu.resolve()}if(gy()||!py)n();else{if(!r){Ia&&(Ia=e);return}t=Date.now(),r=!1,i=setInterval(function(){var a=gy(),s=!a&&Date.now()-t>py;s&&gt.log("W0004",Ia),(a||s)&&n()},10)}}function gy(){if(!Ia)return!0;var e=Ia===iT;if(wu.state()==="resolved"&&e)return!0;var t=I_();return t&&e?!0:t===Ia}function xP(){var e=W(tT,Zn);e.length&&(Jn={},Xg=W(x_("<link rel=stylesheet>"),Zn),e.each(function(){var t=W(this,Zn),i=t.attr(CP),r=t.attr("href"),n=t.attr(wP)==="true";Jn[i]={url:r,isActive:n}}),e.last().after(Xg),e.remove())}function SP(e){var t=e?e.split("."):[],i=null;if(Jn){if(e in Jn)return e;le(Jn,function(r,n){var a=r.split(".");if(!(t[0]&&a[0]!==t[0])&&!(t[1]&&t[1]!==a[1])&&!(t[2]&&t[2]!==a[2])&&((!i||n.isActive)&&(i=r),n.isActive))return!1})}return i}function EP(e){try{e!==Zn&&(Jn=null)}catch{Jn=null}Zn=e}function rT(e){e=e||{},EP(e.context||we.getDocument()),Zn&&(xP(),xr=void 0,un(e))}function un(e){if(!arguments.length)return xr=xr||I_(),xr;aT(bP()),e=e||{},typeof e=="string"&&(e={theme:e});var t=e._autoInit,i=e.loadCallback,r;if(xr=SP(e.theme||xr),xr&&(r=Jn[xr]),i&&Mo.add(i),r)Xg.attr("href",Jn[xr].url),(Mo.has()||wu.state()!=="resolved"||e._forceTimeout)&&my(xr);else if(t)rt()&&my(iT),Mo.fire(),Mo.empty();else throw gt.Error("E0021",xr);wu.done(()=>nT(KI(),xr))}function IP(e){e=e||un();var t=[],i=e&&e.split(".");return i&&(t.push("dx-theme-"+i[0],"dx-theme-"+i[0]+"-typography"),i.length>1&&t.push("dx-color-scheme-"+i[1]+(xi(e)?"-"+i[2]:""))),t}var Ph;function nT(e,t){Ph=IP(t).join(" "),W(e).addClass(Ph),function(){var i=rt()&&eT.devicePixelRatio;if(!(!i||i<2)){var r=W("<div>");r.css("border",".5px solid transparent"),W("body").append(r),Ct(r)===1&&(W(e).addClass(fy),Ph+=" "+fy),r.remove()}}()}function aT(e){W(e).removeClass(Ph)}function T_(e,t){return t||(t=xr||I_()),new RegExp(e).test(t)}function xi(e){return T_("material",e)}function sT(e){return T_("generic",e)}function TP(e){return T_("compact",e)}function AP(e,t){var i=we.getDocument(),r=i.createElement("span");r.style.position="absolute",r.style.top="-9999px",r.style.left="-9999px",r.style.visibility="hidden",r.style.fontFamily="Arial",r.style.fontSize="250px",r.style.fontWeight=t,r.innerHTML=e,i.body.appendChild(r);var n=r.offsetWidth;r.style.fontFamily="Roboto, RobotoFallback, Arial";var a=r.offsetWidth;return r.parentNode.removeChild(r),n!==a}function OP(e,t){return new Promise(i=>{var r=()=>{clearInterval(n),clearTimeout(a),i()},n=setInterval(()=>{AP(e,t)&&r()},15),a=setTimeout(r,2e3)})}function vy(){if(rT({_autoInit:!0,_forceTimeout:!0}),W(tT,Zn).length)throw gt.Error("E0022")}rt()?vy():_P(vy);yP.add(function(e,t){wu.done(function(){aT(t),nT(e)})});Ne.changed.add(function(){rT({_autoInit:!0})});class br{constructor(t,i){i=i||{},this._action=t,this._context=i.context||at(),this._beforeExecute=i.beforeExecute,this._afterExecute=i.afterExecute,this._component=i.component,this._validatingTargetName=i.validatingTargetName;var r=this._excludeValidators={};if(i.excludeValidators)for(var n=0;n<i.excludeValidators.length;n++)r[i.excludeValidators[n]]=!0}execute(){var t={action:this._action,args:Array.prototype.slice.call(arguments),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},i=this._beforeExecute,r=this._afterExecute,n=t.args[0]||{};if(this._validateAction(t)&&(i==null||i.call(this._context,t),!t.cancel)){var a=this._executeAction(t);if(!n.cancel)return r==null||r.call(this._context,t),a}}_validateAction(t){var i=this._excludeValidators,{executors:r}=br;for(var n in r)if(!i[n]){var a,s=r[n];if((a=s.validate)===null||a===void 0||a.call(s,t),t.cancel)return!1}return!0}_executeAction(t){var i,{executors:r}=br;for(var n in r){var a,s=r[n];if((a=s.execute)===null||a===void 0||a.call(s,t),t.handled){i=t.result;break}}return i}static registerExecutor(t,i){if(ft(t)){le(t,br.registerExecutor);return}br.executors[t]=i}static unregisterExecutor(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];le(i,function(){delete br.executors[this]})}}br.executors={};var _y=e=>t=>{if(t.args.length){var i=t.args[0],r=i[t.validatingTargetName]||i.element;r&&e(W(r))&&(t.cancel=!0)}};br.registerExecutor({disabled:{validate:_y(e=>e.is(".dx-state-disabled, .dx-state-disabled *"))},readOnly:{validate:_y(e=>e.is(".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)"))},undefined:{execute:e=>{e.action||(e.result=void 0,e.handled=!0)}},func:{execute:e=>{Re(e.action)&&(e.result=e.action.call(e.context,e.args[0]),e.handled=!0)}}});var DP=function(e,t){return 1/e===1/t},RP=function(e,t){if(e=ki(e,!0),t=ki(t,!0),e&&t&&Ar(e)&&Ar(t))return t.is(e);var i=e!==e,r=t!==t;return i&&r?!0:e===0&&t===0?DP(e,t):e===null||typeof e!="object"||we.isElementNode(e)?e===t:!1},vp={},Zo=e=>{var t=Ne.current();return e.reduce((i,r)=>{var{device:n,options:a}=r,s=n||{},o=Re(s)?s(t):MP(t,s);return o&&re(!0,i,a),i},{})},kP=(e,t)=>typeof e!="string"?e:{[e]:t},MP=(e,t)=>jr(t)||dI(e,[t]).length>0,by=e=>e.substr(e.lastIndexOf(".")+1),yy=e=>e.substr(0,e.lastIndexOf(".")),BP=function(e,t){return vp[t]=vp[t]||jt(t),vp[t](e,{functionsAsIs:!0})},PP=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e},_p={},bp={};class FP{constructor(t,i){this._options=t,this._optionsByReference=i,this._changingCallback,this._changedCallback,this._namePreparedCallbacks}_setByReference(t,i){re(!0,t,i);for(var r in this._optionsByReference)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}_setPreparedValue(t,i,r,n){var a=this.get(this._options,t,!1);if(!RP(a,i)){var s=Us(t);!n&&this._changingCallback(t,a,i),bp[t]=bp[t]||l_(t),bp[t](this._options,i,{functionsAsIs:!0,merge:Z(r)?r:!this._optionsByReference[t],unwrapObservables:s.length>1&&!!this._optionsByReference[s[0]]}),!n&&this._changedCallback(t,i,a)}}_prepareRelevantNames(t,i,r,n){if(ft(r))for(var a in r)this._prepareRelevantNames(t,"".concat(i,".").concat(a),r[a]);this._namePreparedCallbacks(t,i,r,n)}get(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._options,i=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return _p[i]=_p[i]||jt(i),_p[i](t,{functionsAsIs:!0,unwrapObservables:r})}set(t,i,r,n){t=kP(t,i);for(var a in t)this._prepareRelevantNames(t,a,t[a],n);for(var s in t)this._setPreparedValue(s,t[s],r,n)}onRelevantNamesPrepared(t){this._namePreparedCallbacks=t}onChanging(t){this._changingCallback=t}onChanged(t){this._changedCallback=t}dispose(){this._changingCallback=me,this._changedCallback=me}}class LP{constructor(t,i,r,n){this._deprecatedCallback,this._startChangeCallback,this._endChangeCallback,this._default=i,this._deprecated=n,this._deprecatedNames=[],this._initDeprecatedNames(),this._optionManager=new FP(t,r),this._optionManager.onRelevantNamesPrepared((a,s,o,l)=>this._setRelevantNames(a,s,o,l)),this._cachedOptions={},this._rules=[]}set _initial(t){this._initialOptions=t}get _initial(){if(!this._initialOptions){var t=this._getByRules(this.silent("defaultOptionsRules"));this._initialOptions=this._default,this._optionManager._setByReference(this._initialOptions,t)}return this._initialOptions}_initDeprecatedNames(){for(var t in this._deprecated)this._deprecatedNames.push(t)}_getByRules(t){return t=Array.isArray(t)?this._rules.concat(t):this._rules,Zo(t)}_notifyDeprecated(t){var i=this._deprecated[t];i&&this._deprecatedCallback(t,i)}_setRelevantNames(t,i,r,n){if(i){var a=this._normalizeName(i,n);a&&a!==i&&(this._setField(t,a,r),this._clearField(t,i))}}_setField(t,i,r){var n="",a=null;do n=n?".".concat(n):"",n=by(i)+n,i=yy(i),a=i?this._optionManager.get(t,i,!1):t;while(!a);a[n]=r}_clearField(t,i){delete t[i];var r=yy(i),n=r?this._optionManager.get(t,r,!1):t;n&&delete n[by(i)]}_normalizeName(t,i){if(this._deprecatedNames.length&&t){for(var r=0;r<this._deprecatedNames.length;r++)if(this._deprecatedNames[r]===t){var n=this._deprecated[t];if(n)return!i&&this._notifyDeprecated(t),n.alias||t}}return t}addRules(t){this._rules=t.concat(this._rules)}applyRules(t){var i=this._getByRules(t);this.silent(i)}dispose(){this._deprecatedCallback=me,this._startChangeCallback=me,this._endChangeCallback=me,this._optionManager.dispose()}onChanging(t){this._optionManager.onChanging(t)}onChanged(t){this._optionManager.onChanged(t)}onDeprecated(t){this._deprecatedCallback=t}onStartChange(t){this._startChangeCallback=t}onEndChange(t){this._endChangeCallback=t}isInitial(t){var i=this.silent(t),r=this.initial(t),n=Re(i)&&Re(r);return n?i.toString()===r.toString():ni(i,r)}initial(t){return BP(this._initial,t)}option(t,i){var r=arguments.length<2&&Wr(t)!=="object";if(r)return this._optionManager.get(void 0,this._normalizeName(t));this._startChangeCallback();try{this._optionManager.set(t,i)}finally{this._endChangeCallback()}}silent(t,i){var r=arguments.length<2&&Wr(t)!=="object";if(r)return this._optionManager.get(void 0,t,void 0,!0);this._optionManager.set(t,i,void 0,!0)}reset(t){if(t){var i=Us(t),r=i.reduce((a,s)=>a?a[s]:this.initial(s),null),n=Ge(r)?Ie({},r):r;this._optionManager.set(t,n,!1)}}getAliasesByName(t){return Object.keys(this._deprecated).filter(i=>t===this._deprecated[i].alias)}isDeprecated(t){return Object.prototype.hasOwnProperty.call(this._deprecated,t)}cache(t,i){var r=arguments.length<2;if(r)return this._cachedOptions[t];this._cachedOptions[t]=re(this._cachedOptions[t],i)}}class NP{constructor(){this._postponedOperations={}}add(t,i,r){if(t in this._postponedOperations)r&&this._postponedOperations[t].promises.push(r);else{var n=new pe;this._postponedOperations[t]={fn:i,completePromise:n,promises:r?[r]:[]}}return this._postponedOperations[t].completePromise.promise()}callPostponedOperations(){for(var t in this._postponedOperations){var i=this._postponedOperations[t];Z(i)&&(i.promises&&i.promises.length?Pe(...i.promises).done(i.fn).then(i.completePromise.resolve):i.fn().done(i.completePromise.resolve))}this._postponedOperations={}}}var Cy=e=>e.charAt(2).toLowerCase()+e.substr(3),VP=e=>e.indexOf("_",0)===0,A_=wt.inherit({_setDeprecatedOptions(){this._deprecatedOptions={}},_getDeprecatedOptions(){return this._deprecatedOptions},_getDefaultOptions:()=>({onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}),_defaultOptionsRules:()=>[],_setOptionsByDevice(e){this._options.applyRules(e)},_convertRulesToOptions:e=>Zo(e),_isInitialOptionValue(e){return this._options.isInitial(e)},_setOptionsByReference(){this._optionsByReference={}},_getOptionsByReference(){return this._optionsByReference},ctor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{_optionChangedCallbacks:t,_disposingCallbacks:i}=e;this.NAME=Wu(this.constructor),this._eventsStrategy=Gs.create(this,e.eventsStrategy),this._updateLockCount=0,this._optionChangedCallbacks=t||kt(),this._disposingCallbacks=i||kt(),this.postponedOperations=new NP,this._createOptions(e)},_createOptions(e){this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=new LP(this._getDefaultOptions(),this._getDefaultOptions(),this._getOptionsByReference(),this._getDeprecatedOptions()),this._options.onChanging((t,i,r)=>this._initialized&&this._optionChanging(t,i,r)),this._options.onDeprecated((t,i)=>this._logDeprecatedOptionWarning(t,i)),this._options.onChanged((t,i,r)=>this._notifyOptionChanged(t,i,r)),this._options.onStartChange(()=>this.beginUpdate()),this._options.onEndChange(()=>this.endUpdate()),this._options.addRules(this._defaultOptionsRules()),e&&e.onInitializing&&e.onInitializing.apply(this,[e]),this._setOptionsByDevice(e.defaultOptionsRules),this._initOptions(e)}finally{this.endUpdate()}},_initOptions(e){this.option(e)},_init(){this._createOptionChangedAction(),this.on("disposing",e=>{this._disposingCallbacks.fireWith(this,[e])})},_logDeprecatedOptionWarning(e,t){var i=t.message||"Use the '".concat(t.alias,"' option instead");$t.log("W0001",this.NAME,e,t.since,i)},_logDeprecatedComponentWarning(e,t){$t.log("W0000",this.NAME,e,"Use the '".concat(t,"' widget instead"))},_createOptionChangedAction(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})},_createDisposingAction(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})},_optionChanged(e){switch(e.name){case"onDisposing":case"onInitialized":break;case"onOptionChanged":this._createOptionChangedAction()}},_dispose(){this._optionChangedCallbacks.empty(),this._createDisposingAction(),this._disposingAction(),this._eventsStrategy.dispose(),this._options.dispose(),this._disposed=!0},_lockUpdate(){this._updateLockCount++},_unlockUpdate(){this._updateLockCount=Math.max(this._updateLockCount-1,0)},_isUpdateAllowed(){return this._updateLockCount===0},_isInitializingRequired(){return!this._initializing&&!this._initialized},isInitialized(){return this._initialized},_commitUpdate(){this.postponedOperations.callPostponedOperations(),this._isInitializingRequired()&&this._initializeComponent()},_initializeComponent(){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._lockUpdate(),this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._unlockUpdate(),this._initialized=!0}},instance(){return this},beginUpdate:function(){this._lockUpdate()},endUpdate:function(){this._unlockUpdate(),this._isUpdateAllowed()&&this._commitUpdate()},_optionChanging:me,_notifyOptionChanged(e,t,i){if(this._initialized)for(var r=[e].concat(this._options.getAliasesByName(e)),n=0;n<r.length;n++){var a=r[n],s={name:Us(a)[0],fullName:a,value:t,previousValue:i};VP(a)||(this._optionChangedCallbacks.fireWith(this,[re(this._defaultActionArgs(),s)]),this._optionChangedAction(re({},s))),!this._disposed&&this._cancelOptionChange!==a&&this._optionChanged(s)}},initialOption(e){return this._options.initial(e)},_defaultActionConfig(){return{context:this,component:this}},_defaultActionArgs(){return{component:this}},_createAction(e,t){var i;return r=>(Z(r)||(r={}),ft(r)||(r={actionValue:r}),i=i||new br(e,re(t,this._defaultActionConfig())),i.execute.call(i,re(r,this._defaultActionArgs())))},_createActionByOption(e,t){var i=this,r,n,a,s=function(){if(!n){if(t=t||{},typeof e!="string")throw $t.Error("E0008");e.indexOf("on")===0&&(n=Cy(e)),a=i.option(e)}if(!(!r&&!a&&!t.beforeExecute&&!t.afterExecute&&!i._eventsStrategy.hasEvent(n))){if(!r){var l=t.beforeExecute;t.beforeExecute=function(){for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];l&&l.apply(i,g),i._eventsStrategy.fireEvent(n,g[0].args)},r=i._createAction(a,t)}for(var u=arguments.length,d=new Array(u),c=0;c<u;c++)d[c]=arguments[c];if(Jt().wrapActionsBeforeExecute){var h=i.option("beforeActionExecute")||me,f=h(i,r,t)||r;return f.apply(i,d)}return r.apply(i,d)}};if(Jt().wrapActionsBeforeExecute)return s;var o=this.option("onActionCreated")||me;return o(this,s,t)||s},on(e,t){return this._eventsStrategy.on(e,t),this},off(e,t){return this._eventsStrategy.off(e,t),this},hasActionSubscription:function(e){return!!this._options.silent(e)||this._eventsStrategy.hasEvent(Cy(e))},isOptionDeprecated(e){return this._options.isDeprecated(e)},_setOptionWithoutOptionChange(e,t){this._cancelOptionChange=e,this.option(e,t),this._cancelOptionChange=!1},_getOptionValue(e,t){var i=this.option(e);return Re(i)?i.bind(t)():i},option(){return this._options.option(...arguments)},resetOption(e){this.beginUpdate(),this._options.reset(e),this.endUpdate()}}),O_=at(),ll=()=>{var e=we.getActiveElement();if(e&&e!==we.getBody()){var t;(t=e.blur)===null||t===void 0||t.call(e)}},$P=()=>{var e=O_.getSelection();if(e&&e.type!=="Caret"){if(e.empty)e.empty();else if(e.removeAllRanges)try{e.removeAllRanges()}catch{}}},HP=(e,t)=>{var i=W(e),r=W(t);if(i[0]===r[0])return i[0];for(var n=i.parents(),a=r.parents(),s=Math.min(n.length,a.length),o=-s;o<0;o++)if(n.get(o)===a.get(o))return n.get(o)},Ks=e=>{e=W(e);var t=e.length&&e.filter(function(){var i=W(this);return i.is("script[type]")&&i.attr("type").indexOf("script")<0});return t.length?t.eq(0).html():(e=W("<div>").append(e),e.html())},ef=e=>{var t=Z(e)&&(e.nodeType||Ar(e))?W(e):W("<div>").html(e).contents();return t.length===1&&(t.is("script")?t=ef(t.html().trim()):t.is("table")&&(t=t.children("tbody").contents())),t},Yg=(e,t)=>{var i=e.originalEvent&&e.originalEvent.clipboardData||O_.clipboardData;if(!t)return i&&i.getData("Text");i&&i.setData("Text",t)},Ba=(e,t)=>t?(we.isTextNode(t)&&(t=t.parentNode),we.isDocument(e)?e.documentElement.contains(t):wi(e)?Ba(e.document,t):e.contains?e.contains(t):!!(t.compareDocumentPosition(e)&t.DOCUMENT_POSITION_CONTAINS)):!1,zP=(e,t,i)=>{var r=O_.getComputedStyle(W(e).get(0)),n=i&&i.includePaddings;return W("<div>").text(t).css({fontStyle:r.fontStyle,fontVariant:r.fontVariant,fontWeight:r.fontWeight,fontSize:r.fontSize,fontFamily:r.fontFamily,letterSpacing:r.letterSpacing,border:r.border,paddingTop:n?r.paddingTop:"",paddingRight:n?r.paddingRight:"",paddingBottom:n?r.paddingBottom:"",paddingLeft:n?r.paddingLeft:"",visibility:"hidden",whiteSpace:"pre",position:"absolute",float:"left"})},WP=(e,t)=>(t&&we.insertElement(e.parentNode,t,e),e),jP=(e,t)=>{if(t&&t[0])return t.is(e)?e:(le(t,(i,r)=>{WP(e[0],r)}),e.remove(),t)},D_=function(e){return function(t){for(var i=W(t||"body"),r=i.filter(".dx-visibility-change-handler").add(i.find(".dx-visibility-change-handler")),n=0;n<r.length;n++)te.triggerHandler(r[n],e)}},lc=D_("dxshown"),UP=D_("dxhiding"),Cn=D_("dxresize"),GP=kt({syncStrategy:!0});class qs{render(t){t=t||{};var i=t.onRendered;delete t.onRendered;var r;return t.renovated&&t.transclude&&this._element?r=W("<div>").append(this._element).contents():r=this._renderCore(t),this._ensureResultInContainer(r,t.container),GP.fire(r,t.container),i&&i(),r}_ensureResultInContainer(t,i){if(i){var r=W(i),n=Ba(r.get(0),t.get(0));if(r.append(t),!n){var a=we.getBody().contains(r.get(0));a&&lc(t)}}}_renderCore(){throw $t.Error("E0001")}}class Jo extends qs{constructor(t){super(),this._render=t}_renderCore(t){return ef(this._render(t))}}class Ss extends qs{_renderCore(){return W()}}class tf extends qs{constructor(t){super(),this.name=t}}var oT={},Fh;function qa(e,t){oT[e]=t}function KP(e){if(Ue(e)){if(Fh=oT[e],!Fh)throw $t.Error("E0020",e)}else Fh=e}function wy(){return Fh}qa("jquery-tmpl",{compile:e=>Ks(e),render:(e,t)=>jQuery.tmpl(e,t)});qa("jsrender",{compile:e=>(jQuery||jsrender).templates(Ks(e)),render:(e,t)=>e.render(t)});qa("mustache",{compile:e=>Ks(e),render:(e,t)=>Mustache.render(e,t)});qa("hogan",{compile:e=>Hogan.compile(Ks(e)),render:(e,t)=>e.render(t)});qa("underscore",{compile:e=>_.template(Ks(e)),render:(e,t)=>e(t)});qa("handlebars",{compile:e=>Handlebars.compile(Ks(e)),render:(e,t)=>e(t)});qa("doT",{compile:e=>doT.template(Ks(e)),render:(e,t)=>e(t)});qa("default",{compile:e=>ef(e),render:(e,t,i)=>e.clone()});KP("default");class qP extends qs{constructor(t){super(),this._element=t}_renderCore(t){var i=t.transclude;return!i&&!this._compiledTemplate&&(this._compiledTemplate=wy().compile(this._element)),W("<div>").append(i?this._element:wy().render(this._compiledTemplate,t.model,t.index)).contents()}source(){return W(this._element).clone()}}function XP(e){return e.reduce((t,i)=>{var r;return t[i]=((r=t[i])!==null&&r!==void 0?r:0)+1,t},{})}var YP=function(e){return Array.isArray(e)?e:[e]},ZP=function(e){return[...new Set(e)]},xy=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=XP(t);return e.filter(r=>!i[r]--)},Wl=function(e,t,i,r){var n={},{useLegacyVisibleIndex:a}=Jt(),s=0,o=l=>!Z(l[t])&&(!r||r(l));e.forEach(l=>{var u=l[t];u>=0?(n[u]=n[u]||[],l===i?n[u].unshift(l):n[u].push(l)):l[t]=void 0}),a||e.forEach(l=>{if(o(l)){for(;n[s];)s++;n[s]=[l],s++}}),s=0,Pg(n,function(l,u){u.forEach(d=>{l>=0&&(d[t]=s++)})}),a&&e.forEach(l=>{o(l)&&(l[t]=s++)})},JP=(e,t)=>e.reduce((i,r)=>{var n,a=t(r);return i[a]=(n=i[a])!==null&&n!==void 0?n:[],i[a].push(r),i},{}),lT=(e,t)=>{var i=W(e).contents().filter("[".concat("data-options",'*="').concat(t,'"]'));return[].slice.call(i).map(r=>{var n=W(r).attr("data-options")||"";return{element:r,options:Jt().optionsParser(n)[t]}}).filter(r=>!!r.options)},QP=e=>{var t=JP(e,r=>r.options.name);if(t[void 0])throw $t.Error("E0023");var i={};return Object.keys(t).forEach(r=>{var n,a=(n=dI(Ne.current(),t[r],s=>s.options)[0])===null||n===void 0?void 0:n.element;a&&(i[r]=a)}),i},uT=e=>{var t=e.render.bind(e);return re({},e,{render(i){var r=t(i);return i&&i.onRendered&&i.onRendered(),r}})},eF=e=>{var t=[];return"model"in e&&t.push(e.model),"index"in e&&t.push(e.index),t.push(e.container),t},tF=e=>typeof e=="string"?ef(e):e,Sy=e=>Ar(e)&&e[0]||e,iF=e=>new qP(e),rF=(e,t,i,r)=>{var n=null;return(!r||r.indexOf(e)===-1)&&(n=t[e],n&&!(n instanceof qs)&&!i&&(n=uT(n))),n},Ey=(e,t,i,r,n,a)=>e==null?new Ss:e instanceof tf?a[e.name]:e instanceof qs?e:Re(e.render)&&!Ar(e)?r?e:uT(e):e.nodeType||Ar(e)?t(W(e)):rF(e,i,r,n)||a[e]||t(e),nF=3,aF="template",sF="dxTemplate",oF="dx-template-wrapper",lF=new Jo(e=>{var{model:t,parent:i}=e,r=t.widget;if(!r)return W();var n=W("<div>"),a=t.options||{};return i?i._createComponent(n,r,a):n[r](a),n});class Iy{constructor(t,i){this._tempTemplates=[],this._defaultTemplates={},this._anonymousTemplateName=i||aF,this._createElement=t||iF,this._createTemplateIfNeeded=this._createTemplateIfNeeded.bind(this)}static createDefaultOptions(){return{integrationOptions:{watchMethod:function(t,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.skipImmediate||i(t()),me},templates:{"dx-polymorph-widget":lF},useDeferUpdateForTemplates:!0}}}get anonymousTemplateName(){return this._anonymousTemplateName}addDefaultTemplates(t){this._defaultTemplates=re({},this._defaultTemplates,t)}dispose(){this._tempTemplates.forEach(t=>{t.template.dispose&&t.template.dispose()}),this._tempTemplates=[]}extractTemplates(t){var i=this._extractTemplates(t),r=this._extractAnonymousTemplate(t);return{templates:i,anonymousTemplateMeta:r}}_extractTemplates(t){var i=lT(t,sF),r=QP(i);return i.forEach(n=>{var{element:a,options:{name:s}}=n;a===r[s]?W(a).addClass(oF).detach():W(a).remove()}),Object.keys(r).map(n=>({name:n,template:this._createTemplate(r[n])}))}_extractAnonymousTemplate(t){var i=t.contents().detach(),r=i.filter((n,a)=>{var s=a.nodeType===nF,o=W(a).text().trim().length<1;return!(s&&o)});return r.length>0?{template:this._createTemplate(i),name:this._anonymousTemplateName}:{}}_createTemplateIfNeeded(t){var i=this._tempTemplates.filter(n=>n.source===Sy(t))[0];if(i)return i.template;var r=this._createTemplate(t);return this._tempTemplates.push({template:r,source:Sy(t)}),r}_createTemplate(t){return this._createElement(tF(t))}getTemplate(t,i,r,n){var{isAsyncTemplate:a,skipTemplates:s}=r;return Re(t)?new Jo(o=>{var l=t.apply(n,eF(o));if(!Z(l))return new Ss;var u=!1,d=Ey(l,h=>h.nodeType||Ar(h)&&!W(h).is("script")?new Jo(()=>h):(u=!0,this._createTemplate(h)),i,a,s,this._defaultTemplates),c=d.render(o);return u&&d.dispose&&d.dispose(),c}):Ey(t,this._createTemplateIfNeeded,i,a,s,this._defaultTemplates)}}var uF=function(e){return e&&e.get(0)};function qe(e){return uF(e)}var Zg=(e,t)=>{if(!t)throw $t.Error("E0017");return Array.isArray(e)?e.map(i=>Zg(i,t)).join(" "):e.indexOf(" ")!==-1?Zg(e.split(/\s+/g),t):"".concat(e,".").concat(t)},dT=function(e,t){if(!dF(e))return!1;var i=e.nodeName.toLowerCase(),r=!isNaN(t),n=e.disabled,a=/^(input|select|textarea|button|object|iframe)$/.test(i),s=i==="a",o=!0,l=e.isContentEditable;return a||l?o=!n:s?o=e.href||r:o=r,o};function dF(e){var t=W(e);return t.is(":visible")&&t.css("visibility")!=="hidden"&&t.parents().css("visibility")!=="hidden"}var Jg=function(e,t){return dT(t,W(t).attr("tabIndex"))},Ty=function(e,t){var i=W(t).attr("tabIndex");return(isNaN(i)||i>=0)&&dT(t,i)},$a=function(e){var t=W(e).get(0);return we.getActiveElement(t)===t},hF={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift"},cF={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},fF={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i},pF=e=>e,mF=e=>pF(te.Event(e,e)),R_=e=>ju(e)==="dx",gF=e=>ju(e)==="mouse",hT=e=>ju(e)==="touch",ju=e=>{var{type:t}=e,i="other";return le(fF,function(r){if(this.test(t))return i=r,!1}),i},cT=e=>ju(e)==="pointer",Ms=e=>gF(e)||(cT(e)||R_(e))&&e.pointerType==="mouse",dr=e=>e&&e.type==="dxmousewheel",Uu=e=>hT(e)||(cT(e)||R_(e))&&e.pointerType==="touch",pi=e=>{var{pageX:t,pageY:i,timeStamp:r}=e;return{x:t,y:i,time:r}},bs=(e,t)=>({x:t.x-e.x,y:t.y-e.y,time:t.time-e.time||1}),vF=e=>{var{originalEvent:t,pointers:i}=e;return hT(e)?(t.touches||[]).length:R_(e)?(i||[]).length:0},fT=e=>{var{target:t}=e,i=W(t),r=(t==null?void 0:t.isContentEditable)||(t==null?void 0:t.hasAttribute("contenteditable")),n=i.is("input, textarea, select")||r;if(dr(e)){var a=i.is("textarea")&&i.hasClass("dx-texteditor-input");if(a||r)return!1;var s=i.is("input[type='number'], textarea, select")&&i.is(":focus");return s}if(Ms(e))return n||e.which>1;if(Uu(e))return n&&$a(i)},Oa=(e,t)=>{var i=mF(e);return t&&re(i,t),i},Xa=e=>{var{originalEvent:t,delegateTarget:i}=e,r=Oa(t,e);return te.trigger(i||r.target,r),r},hi=e=>{var{key:t,which:i}=e,r=hF[t==null?void 0:t.toLowerCase()]||t,n=cF[i];return n&&r===t?n:!r&&i?String.fromCharCode(i):r},uc=e=>{var{key:t,which:i}=e;return t||String.fromCharCode(i)},xe=Zg,Pi=e=>{var{ctrlKey:t,metaKey:i}=e;return t||i},Ay="compositionstart",_F="compositionend",bF="keydown",yp="KeyboardProcessor",pT=e=>({keyName:hi(e),key:e.key,code:e.code,ctrl:e.ctrlKey,location:e.location,metaKey:e.metaKey,shift:e.shiftKey,alt:e.altKey,which:e.which,originalEvent:e}),k_=wt.inherit({_keydown:xe(bF,yp),_compositionStart:xe(Ay,yp),_compositionEnd:xe(_F,yp),ctor:function(e){e=e||{},e.element&&(this._element=W(e.element)),e.focusTarget&&(this._focusTarget=e.focusTarget),this._handler=e.handler,this._element&&(this._processFunction=t=>{var i=W(this._focusTarget).toArray(),r=this._focusTarget&&this._focusTarget!==t.target&&!i.includes(t.target),n=this._isComposingJustFinished&&t.which===229||this._isComposing||r;this._isComposingJustFinished=!1,n||this.process(t)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),te.on(this._element,this._keydown,this._processFunction),te.on(this._element,this._compositionStart,this._toggleProcessingWithContext),te.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose:function(){this._element&&(te.off(this._element,this._keydown,this._processFunction),te.off(this._element,this._compositionStart,this._toggleProcessingWithContext),te.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0},process:function(e){this._handler(pT(e))},toggleProcessing:function(e){var{type:t}=e;this._isComposing=t===Ay,this._isComposingJustFinished=!this._isComposing}});k_.createKeyDownOptions=pT;function Oi(e,t){return t?xe(e,t):e}function Qg(e,t){return typeof e=="function"?e(t):e.execute(t)}var Oy={on:(e,t,i,r)=>{var{selector:n,showTimeout:a,hideTimeout:s,namespace:o}=r;te.on(e,Oi("dxactive",o),n,{timeout:a},l=>Qg(t,{event:l,element:l.currentTarget})),te.on(e,Oi("dxinactive",o),n,{timeout:s},l=>Qg(i,{event:l,element:l.currentTarget}))},off:(e,t)=>{var{namespace:i,selector:r}=t;te.off(e,Oi("dxactive",i),r),te.off(e,Oi("dxinactive",i),r)}},dc={on:function(e,t){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};te.on(e,Oi("dxresize",i),t)},off:function(e){var{namespace:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};te.off(e,Oi("dxresize",t))}},Dy={on:(e,t,i,r)=>{var{selector:n,namespace:a}=r;te.on(e,Oi("dxhoverend",a),n,s=>i(s)),te.on(e,Oi("dxhoverstart",a),n,s=>Qg(t,{element:s.target,event:s}))},off:(e,t)=>{var{selector:i,namespace:r}=t;te.off(e,Oi("dxhoverstart",r),i),te.off(e,Oi("dxhoverend",r),i)}},hc={on:(e,t,i,r)=>{var{namespace:n}=r;te.on(e,Oi("dxhiding",n),i),te.on(e,Oi("dxshown",n),t)},off:(e,t)=>{var{namespace:i}=t;te.off(e,Oi("dxhiding",i)),te.off(e,Oi("dxshown",i))}},Lh={on:(e,t,i,r)=>{var{namespace:n}=r;te.on(e,Oi("focusin",n),t),te.on(e,Oi("focusout",n),i)},off:(e,t)=>{var{namespace:i}=t;te.off(e,Oi("focusin",i)),te.off(e,Oi("focusout",i))},trigger:e=>te.trigger(e,"focus")},Ry={on:function(e,t){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};te.on(e,Oi("dxclick",i),t)},off:function(e){var{namespace:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};te.off(e,Oi("dxclick",t))}},ky={on:function(e,t){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};te.on(e,Oi("click",i),t)},off:function(e){var{namespace:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};te.off(e,Oi("click",t))}},yF=0,_l={},CF=()=>"keyboardProcessorId".concat(yF++),Pa={on:(e,t,i)=>{var r=CF();return _l[r]=new k_({element:e,focusTarget:t,handler:i}),r},off:e=>{e&&_l[e]&&(_l[e].dispose(),delete _l[e])},_getProcessor:e=>_l[e]},{abstract:Md}=A_,Dn=A_.inherit({_getDefaultOptions(){return re(this.callBase(),{width:void 0,height:void 0,rtlEnabled:Jt().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}},this._useTemplates()?Iy.createDefaultOptions():{})},ctor(e,t){this._customClass=null,this._createElement(e),zI(this._$element,this,this._dispose),this.callBase(t)},_createElement(e){this._$element=W(e)},_getSynchronizableOptionsForCreateComponent:()=>["rtlEnabled","disabled","templatesRenderAsynchronously"],_checkFunctionValueDeprecation:function(e){this.option("_ignoreFunctionValueDeprecation")||e.forEach(t=>{Re(this.option(t))&&$t.log("W0017",t)})},_visibilityChanged:Md,_dimensionChanged:Md,_init(){this.callBase(),this._checkFunctionValueDeprecation(["width","height","maxHeight","maxWidth","minHeight","minWidth","popupHeight","popupWidth"]),this._attachWindowResizeCallback(),this._initTemplateManager()},_setOptionsByDevice(e){this.callBase([].concat(this.constructor._classCustomRules||[],e||[]))},_isInitialOptionValue(e){var t=this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),e);return!t&&this.callBase(e)},_attachWindowResizeCallback(){if(this._isDimensionChangeSupported()){var e=this._windowResizeCallBack=this._dimensionChanged.bind(this);Ds.add(e)}},_isDimensionChangeSupported(){return this._dimensionChanged!==Md},_renderComponent(){this._initMarkup(),rt()&&this._render()},_initMarkup(){var{rtlEnabled:e}=this.option()||{};this._renderElementAttributes(),this._toggleRTLDirection(e),this._renderVisibilityChange(),this._renderDimensions()},_render(){this._attachVisibilityChangeHandlers()},_renderElementAttributes(){var{elementAttr:e}=this.option()||{},t=re({},e),i=t.class;delete t.class,this.$element().attr(t).removeClass(this._customClass).addClass(i),this._customClass=i},_renderVisibilityChange(){if(this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported()){var e=this.$element();e.addClass("dx-visibility-change-handler")}},_renderDimensions(){var e=this.$element(),t=e.get(0),i=this._getOptionValue("width",t),r=this._getOptionValue("height",t);this._isCssUpdateRequired(t,r,i)&&e.css({width:i===null?"":i,height:r===null?"":r})},_isCssUpdateRequired:(e,t,i)=>!!(Z(i)||Z(t)||e.style.width||e.style.height),_attachDimensionChangeHandlers(){var e=this.$element(),t="".concat(this.NAME,"VisibilityChange");dc.off(e,{namespace:t}),dc.on(e,()=>this._dimensionChanged(),{namespace:t})},_attachVisibilityChangeHandlers(){if(this._isVisibilityChangeSupported()){var e=this.$element(),t="".concat(this.NAME,"VisibilityChange");this._isHidden=!this._isVisible(),hc.off(e,{namespace:t}),hc.on(e,()=>this._checkVisibilityChanged("shown"),()=>this._checkVisibilityChanged("hiding"),{namespace:t})}},_isVisible(){var e=this.$element();return e.is(":visible")},_checkVisibilityChanged(e){var t=this._isVisible();t&&(e==="hiding"&&!this._isHidden?(this._visibilityChanged(!1),this._isHidden=!0):e==="shown"&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0)))},_isVisibilityChangeSupported(){return this._visibilityChanged!==Md&&rt()},_clean:me,_modelByElement(){var{modelByElement:e}=this.option(),t=this.$element();return e?e(t):void 0},_invalidate(){if(this._isUpdateAllowed())throw $t.Error("E0007");this._requireRefresh=!0},_refresh(){this._clean(),this._renderComponent()},_dispose(){this._templateManager&&this._templateManager.dispose(),this.callBase(),this._clean(),this._detachWindowResizeCallback()},_detachWindowResizeCallback(){this._isDimensionChangeSupported()&&Ds.remove(this._windowResizeCallBack)},_toggleRTLDirection(e){var t=this.$element();t.toggleClass("dx-rtl",e)},_createComponent(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=hr(this._getSynchronizableOptionsForCreateComponent(),d=>!(d in i)),{integrationOptions:n}=this.option(),{nestedComponentOptions:a}=this.option();a=a||me;var s=re({integrationOptions:n},a(this));r.forEach(d=>s[d]=this.option(d)),this._extendConfig(i,s);var o=void 0;if(Ue(t)){var l=W(e)[t](i);o=l[t]("instance")}else e&&(o=t.getInstance(e),o?o.option(i):o=new t(e,i));if(o){var u=d=>{var{name:c,value:h}=d;r.includes(c)&&o.option(c,h)};this.on("optionChanged",u),o.on("disposing",()=>this.off("optionChanged",u))}return o},_extendConfig(e,t){le(t,(i,r)=>{!Object.prototype.hasOwnProperty.call(e,i)&&(e[i]=r)})},_defaultActionConfig(){var e=this.$element(),t=this._modelByElement(e);return re(this.callBase(),{context:t})},_defaultActionArgs(){var e=this.$element(),t=this._modelByElement(e),i=this.element();return re(this.callBase(),{element:i,model:t})},_optionChanged(e){switch(e.name){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:this.callBase(e)}},_removeAttributes(e){for(var t=e.attributes,i=t.length-1;i>=0;i--){var r=t[i];if(r){var{name:n}=r;(!n.indexOf("aria-")||n.indexOf("dx-")!==-1||n==="role"||n==="style"||n==="tabindex")&&e.removeAttribute(n)}}},_removeClasses(e){e.className=e.className.split(" ").filter(t=>t.lastIndexOf("dx-",0)!==0).join(" ")},_updateDOMComponent(e){e?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh())},endUpdate(){var e=this._isInitializingRequired();this.callBase(),this._isUpdateAllowed()&&this._updateDOMComponent(e)},$element(){return this._$element},element(){var e=this.$element();return qe(e)},dispose(){var e=this.$element().get(0);Hu(e,!0),e.textContent="",this._removeAttributes(e),this._removeClasses(e)},resetOption(e){if(this.callBase(e),e==="width"||e==="height"){var t=this.initialOption(e);!Z(t)&&this.$element().css(e,"")}},_getAnonymousTemplateName(){},_initTemplateManager(){if(!(this._templateManager||!this._useTemplates())){var{integrationOptions:e={}}=this.option(),{createTemplate:t}=e;this._templateManager=new Iy(t,this._getAnonymousTemplateName()),this._initTemplates()}},_initTemplates(){var{templates:e,anonymousTemplateMeta:t}=this._templateManager.extractTemplates(this.$element()),i=this.option("integrationOptions.templates.".concat(t.name));e.forEach(r=>{var{name:n,template:a}=r;this._options.silent("integrationOptions.templates.".concat(n),a)}),t.name&&!i&&(this._options.silent("integrationOptions.templates.".concat(t.name),t.template),this._options.silent("_hasAnonymousTemplateContent",!0))},_getTemplateByOption(e){return this._getTemplate(this.option(e))},_getTemplate(e){var t=this.option("integrationOptions.templates"),i=this.option("templatesRenderAsynchronously"),r=this.option("integrationOptions.skipTemplates");return this._templateManager.getTemplate(e,t,{isAsyncTemplate:i,skipTemplates:r},this)},_saveTemplate(e,t){this._setOptionWithoutOptionChange("integrationOptions.templates."+e,this._templateManager._createTemplate(t))},_useTemplates:()=>!0});Dn.getInstance=function(e){return WI(W(e),this)};Dn.defaultOptions=function(e){this._classCustomRules=this._classCustomRules||[],this._classCustomRules.push(e)};function mT(e,t,i){function r(l){return typeof l=="string"?l.split("."):typeof l=="number"?[l]:l}e=r(e),t=r(t);var n=Math.max(e.length,t.length);isFinite(i)&&(n=Math.min(n,i));for(var a=0;a<n;a++){var s=parseInt(e[a]||0,10),o=parseInt(t[a]||0,10);if(s<o)return-1;if(s>o)return 1}return 0}var Nr=rt()?at():{},wF=1e3/60,gT=function(e){return setTimeout(e,wF)},vT=function(e){clearTimeout(e)},_T=la(function(){var e=Nr.requestAnimationFrame||Nr.webkitRequestAnimationFrame||Nr.mozRequestAnimationFrame||Nr.oRequestAnimationFrame||Nr.msRequestAnimationFrame,t=Nr.cancelAnimationFrame||Nr.webkitCancelAnimationFrame||Nr.mozCancelAnimationFrame||Nr.oCancelAnimationFrame||Nr.msCancelAnimationFrame;e&&t&&(gT=e,vT=t)});function cc(){return _T(),gT.apply(Nr,arguments)}function Un(){_T(),vT.apply(Nr,arguments)}function bT(e){return e&&[e.target,e.delegateTarget,e.relatedTarget,e.currentTarget].filter(t=>!!t)}var xF=(e,t)=>{te.one(bT(e),An,t)},SF=(e,t)=>{te.off(bT(e),An,t)},EF=$u(),IF=/(webkit)[ /]([\w.]+)/,TF=/(mozilla)(?:.*? rv:([\w.]+))/,My=e=>{e=e.toLowerCase();var t={},i=IF.exec(e)||e.indexOf("compatible")<0&&TF.exec(e)||[],r=i[1],n=i[2];return r==="webkit"&&(t.webkit=!0,e.indexOf("chrome")>=0||e.indexOf("crios")>=0?(r="chrome",n=/(?:chrome|crios)\/(\d+\.\d+)/.exec(e),n=n&&n[1]):e.indexOf("fxios")>=0?(r="mozilla",n=/fxios\/(\d+\.\d+)/.exec(e),n=n&&n[1]):e.indexOf("safari")>=0&&/version|phantomjs/.test(e)?(r="safari",n=/(?:version|phantomjs)\/([0-9.]+)/.exec(e),n=n&&n[1]):(r="unknown",n=/applewebkit\/([0-9.]+)/.exec(e),n=n&&n[1])),r&&(t[r]=!0,t.version=n),t};const Qt=re({_fromUA:My},My(EF.userAgent));var By="dxPointerEvents",M_=wt.inherit({ctor:function(e,t){this._eventName=e,this._originalEvents=xe(t,By),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble:function(){var e=this._eventName;return e==="dxpointerenter"||e==="dxpointerleave"},_handler:function(e){var t,i=this._getDelegateTarget(e),r={type:this._eventName,pointerType:e.pointerType||ju(e),originalEvent:e,delegateTarget:i,timeStamp:Qt.mozilla?new Date().getTime():e.timeStamp},n=e.originalEvent;if(n!=null&&(t=n.target)!==null&&t!==void 0&&t.shadowRoot){var a,s,o=(a=n.path)!==null&&a!==void 0?a:(s=n.composedPath)===null||s===void 0?void 0:s.call(n);r.target=o[0]}return this._fireEvent(r)},_getDelegateTarget:function(e){var t;return this.noBubble&&(t=e.delegateTarget),t},_fireEvent:function(e){return Xa(e)},_setSelector:function(e){this._selector=this.noBubble&&e?e.selector:null},_getSelector:function(){return this._selector},setup:function(){return!0},add:function(e,t){if(this._handlerCount<=0||this.noBubble){e=this.noBubble?e:we.getDocument(),this._setSelector(t);var i=this;te.on(e,this._originalEvents,this._getSelector(),function(r){i._handler(r)})}this.noBubble||this._handlerCount++},remove:function(e){this._setSelector(e),this.noBubble||this._handlerCount--},teardown:function(e){this._handlerCount&&!this.noBubble||(e=this.noBubble?e:we.getDocument(),this._originalEvents!=="."+By&&te.off(e,this._originalEvents,this._getSelector()))},dispose:function(e){e=this.noBubble?e:we.getDocument(),te.off(e,this._originalEvents)}}),AF={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},yT=function(e){var t=[];return le(e.touches,function(i,r){t.push(re({pointerId:r.identifier},r))}),{pointers:t,pointerId:e.changedTouches[0].identifier}},OF=function(e){return Ne.real().platform==="ios"&&(e==="dxpointerdown"||e==="dxpointerup")},rf=M_.inherit({ctor:function(){this.callBase.apply(this,arguments),this._pointerId=0},_handler:function(e){if(OF(this._eventName)){var t=e.changedTouches[0];if(this._pointerId===t.identifier&&this._pointerId!==0)return;this._pointerId=t.identifier}return this.callBase.apply(this,arguments)},_fireEvent:function(e){return this.callBase(re(yT(e.originalEvent),e))}});rf.map=AF;rf.normalize=yT;var Bd=function(e,t){On.add(function(){e.split(" ").forEach(function(i){we.listen(we.getDocument(),i,t,!0)})})},DF=function(e,t,i){i=i||function(){};var r=[],n=function(s){var o=-1;return le(r,function(l,u){return t(s,u)?(o=l,!1):!0}),o},a=function(s){var o=n(s);o>-1&&r.splice(o,1)};Bd(e.dxpointerdown,function(s){n(s)===-1&&(i(s),r.push(s))}),Bd(e.dxpointermove,function(s){r[n(s)]=s}),Bd(e.dxpointerup,a),Bd(e.dxpointercancel,a),this.pointers=function(){return r},this.reset=function(){r=[]}},CT={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},wT=function(e){return e.pointerId=1,{pointers:B_.pointers(),pointerId:1}},B_,Py=!1,xT=function(){Py||(B_=new DF(CT,function(){return!0}),Py=!0)},Ya=M_.inherit({ctor:function(){this.callBase.apply(this,arguments),xT()},_fireEvent:function(e){return this.callBase(re(wT(e.originalEvent),e))}});Ya.map=CT;Ya.normalize=wT;Ya.activate=xT;Ya.resetObserver=function(){B_.reset()};var RF={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},Fy=!1,kF=function(){Fy||(Ya.activate(),Fy=!0)},P_=M_.inherit({EVENT_LOCK_TIMEOUT:100,ctor:function(){this.callBase.apply(this,arguments),kF()},_handler:function(e){var t=Ms(e);if(t||(this._skipNextEvents=!0),!(t&&this._mouseLocked)){if(t&&this._skipNextEvents){this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);var i=this;this._unlockMouseTimer=setTimeout(function(){i._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT);return}return this.callBase(e)}},_fireEvent:function(e){var t=Ms(e.originalEvent)?Ya.normalize:rf.normalize;return this.callBase(re(t(e.originalEvent),e))},dispose:function(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});P_.map=RF;P_.resetObserver=Ya.resetObserver;var MF=(e,t)=>{var{tablet:i,phone:r}=t;return e.touch&&!(i||r)?P_:e.touch?rf:Ya},Ly=MF(vP,Ne.real());le(Ly.map,(e,t)=>{Gr(e,new Ly(e,t))});var Rt={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"},nf=wt.inherit({ctor:function(e){this._$element=W(e),this._cancelCallback=kt(),this._acceptCallback=kt()},getElement:function(){return this._$element},validate:function(e){return!dr(e)},validatePointers:function(e){return vF(e)===1},allowInterruptionByMouseWheel:function(){return!0},configure:function(e){re(this,e)},addCancelCallback:function(e){this._cancelCallback.add(e)},removeCancelCallback:function(){this._cancelCallback.empty()},_cancel:function(e){this._cancelCallback.fire(this,e)},addAcceptCallback:function(e){this._acceptCallback.add(e)},removeAcceptCallback:function(){this._acceptCallback.empty()},_accept:function(e){this._acceptCallback.fire(this,e)},_requestAccept:function(e){this._acceptRequestEvent=e},_forgetAccept:function(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:me,move:me,end:me,cancel:me,reset:function(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent:function(e,t,i){var r=re({type:e,originalEvent:t,target:this._getEmitterTarget(t),delegateTarget:this.getElement().get(0)},i);return t=Xa(r),t.cancel&&this._cancel(t),t},_getEmitterTarget:function(e){return(this.delegateSelector?W(e.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:me}),Gu="dxmousewheel",Ny="dxWheel",BF="wheel",Vy=0,PF=30,ev={setup:function(e){var t=W(e);te.on(t,xe(BF,Ny),ev._wheelHandler.bind(ev))},teardown:function(e){te.off(e,".".concat(Ny))},_wheelHandler:function(e){var{deltaMode:t,deltaY:i,deltaX:r,deltaZ:n}=e.originalEvent;Xa({type:Gu,originalEvent:e,delta:this._normalizeDelta(i,t),deltaX:r,deltaY:i,deltaZ:n,deltaMode:t,pointerType:"mouse"}),e.stopPropagation()},_normalizeDelta(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vy;return t===Vy?-e:-PF*e}};Gr(Gu,ev);var Pd="dxEventManager",jl="dxEmitter",FF=wt.inherit({ctor:function(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers:function(){On.add((function(){var e=we.getDocument();te.subscribeGlobal(e,xe(Rt.down,Pd),this._pointerDownHandler.bind(this)),te.subscribeGlobal(e,xe(Rt.move,Pd),this._pointerMoveHandler.bind(this)),te.subscribeGlobal(e,xe([Rt.up,Rt.cancel].join(" "),Pd),this._pointerUpHandler.bind(this)),te.subscribeGlobal(e,xe(Gu,Pd),this._mouseWheelHandler.bind(this))}).bind(this))},_eachEmitter:function(e){for(var t=this._activeEmitters||[],i=0;t.length>i;){var r=t[i];if(e(r)===!1)break;t[i]===r&&i++}},_applyToEmitters:function(e,t){this._eachEmitter(function(i){i[e].call(i,t)})},reset:function(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter:function(e){this._proxiedCancelHandler(e)},_pointerDownHandler:function(e){Ms(e)&&e.which>1||this._updateEmitters(e)},_updateEmitters:function(e){this._isSetChanged(e)&&(this._cleanEmitters(e),this._fetchEmitters(e))},_isSetChanged:function(e){var t=this._closestEmitter(e),i=this._emittersSet||[],r=t.length!==i.length;return le(t,function(n,a){return r=r||i[n]!==a,!r}),this._emittersSet=t,r},_closestEmitter:function(e){var t=this,i=[],r=W(e.target);function n(s,o){o&&o.validatePointers(e)&&o.validate(e)&&(o.addCancelCallback(t._proxiedCancelHandler),o.addAcceptCallback(t._proxiedAcceptHandler),i.push(o))}for(;r.length;){var a=ui(r.get(0),jl)||[];le(a,n),r=r.parent()}return i},_acceptHandler:function(e,t){var i=this;this._eachEmitter(function(r){r!==e&&i._cancelEmitter(r,t)})},_cancelHandler:function(e,t){this._cancelEmitter(e,t)},_cancelEmitter:function(e,t){var i=this._activeEmitters;t?e.cancel(t):e.reset(),e.removeCancelCallback(),e.removeAcceptCallback();var r=i.indexOf(e);r>-1&&i.splice(r,1)},_cleanEmitters:function(e){this._applyToEmitters("end",e),this.reset(e)},_fetchEmitters:function(e){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",e)},_pointerMoveHandler:function(e){this._applyToEmitters("move",e)},_pointerUpHandler:function(e){this._updateEmitters(e)},_mouseWheelHandler:function(e){this._allowInterruptionByMouseWheel()&&(e.pointers=[null],this._pointerDownHandler(e),this._adjustWheelEvent(e),this._pointerMoveHandler(e),e.pointers=[],this._pointerUpHandler(e))},_allowInterruptionByMouseWheel:function(){var e=!0;return this._eachEmitter(function(t){return e=t.allowInterruptionByMouseWheel()&&e,e}),e},_adjustWheelEvent:function(e){var t=null;if(this._eachEmitter(function(a){if(a.gesture){var s=a.getDirection(e);if(s!=="horizontal"&&!e.shiftKey||s!=="vertical"&&e.shiftKey)return t=a,!1}}),!!t){var i=t.getDirection(e),r=i==="both"&&!e.shiftKey||i==="vertical",n=r?"pageY":"pageX";e[n]+=e.delta}},isActive:function(e){var t=!1;return this._eachEmitter(function(i){t=t||i.getElement().is(e)}),t}}),$y=new FF,Cp="dxEmitterSubscription",ul=function(e){var t=e.emitter,i=e.events[0],r=e.events;le(r,function(n,a){Gr(a,{noBubble:!e.bubble,setup:function(s){var o=ui(s,Cp)||{},l=ui(s,jl)||{},u=l[i]||new t(s);o[a]=!0,l[i]=u,ui(s,jl,l),ui(s,Cp,o)},add:function(s,o){var l=ui(s,jl),u=l[i];u.configure(re({delegateSelector:o.selector},o.data),o.type)},teardown:function(s){var o=ui(s,Cp),l=ui(s,jl),u=l[i];delete o[a];var d=!0;le(r,function(c,h){return d=d&&!o[h],d}),d&&($y.isActive(s)&&$y.resetEmitter(u),u&&u.dispose(),delete l[i])}})})},Pt="dxclick",tv=null,Ul=null,Hy=()=>{Ul=null},zy=function(e){var t=e.originalEvent,i=Ul===t||t&&t.DXCLICK_FIRED,r=!e.which||e.which===1;r&&!tv&&!i&&(t&&(t.DXCLICK_FIRED=!0),SF(Ul,Hy),Ul=t,xF(Ul,Hy),Xa({type:Pt,originalEvent:e}))},LF=nf.inherit({ctor:function(e){this.callBase(e),te.on(this.getElement(),"click",zy)},start:function(e){tv=null},cancel:function(){tv=!0},dispose:function(){te.off(this.getElement(),"click",zy)}});(function(){var e=Ne.real().generic;if(!e){var t=null,i=!1,r=we.getDocument();te.subscribeGlobal(r,xe(Rt.down,"NATIVE_CLICK_FIXER"),function(n){t=n.target,i=n.isDefaultPrevented()}),te.subscribeGlobal(r,xe("click","NATIVE_CLICK_FIXER"),function(n){var a=W(n.target);!i&&t&&!a.is(t)&&!W(t).is("label")&&(s=a,W(s).is("input, textarea, select, button ,:focus, :focus *"))&&ll();var s;t=null,i=!1})}})();ul({emitter:LF,bubble:!0,events:[Pt]});var iv="dxactive",rv="dxinactive",NF=30,VF=400,Fd=wt.inherit({ctor:function(e,t){this._timeout=e,this._fire=t},start:function(){var e=this;this._schedule(function(){e.force()})},_schedule:function(e){this.stop(),this._timer=setTimeout(e,this._timeout)},stop:function(){clearTimeout(this._timer)},force:function(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired:function(){return this._fired}}),Jr,F_=nf.inherit({ctor:function(){this.callBase.apply(this,arguments),this._active=new Fd(0,me),this._inactive=new Fd(0,me)},configure:function(e,t){switch(t){case iv:e.activeTimeout=e.timeout;break;case rv:e.inactiveTimeout=e.timeout}this.callBase(e)},start:function(e){if(Jr){var t=Ba(this.getElement().get(0),Jr.getElement().get(0)),i=!Jr._active.fired();if(t&&i){this._cancel();return}Jr._inactive.force()}Jr=this,this._initEvents(e),this._active.start()},_initEvents:function(e){var t=this,i=this._getEmitterTarget(e),r=Ms(e),n=Ne.isSimulator(),a=n||!r,s=di(this.activeTimeout,NF),o=di(this.inactiveTimeout,VF);this._active=new Fd(a?s:0,function(){t._fireEvent(iv,e,{target:i})}),this._inactive=new Fd(a?o:0,function(){t._fireEvent(rv,e,{target:i}),Jr=null})},cancel:function(e){this.end(e)},end:function(e){var t=e.type!==Rt.up;t?this._active.stop():this._active.force(),this._inactive.start(),t&&this._inactive.force()},dispose:function(){this._active.stop(),this._inactive.stop(),Jr===this&&(Jr=null),this.callBase()},lockInactive:function(){return this._active.force(),this._inactive.stop(),Jr=null,this._cancel(),this._inactive.force.bind(this._inactive)}});F_.lock=function(e){var t=Jr?Jr.lockInactive():me;e.done(t)};ul({emitter:F_,events:[iv,rv]});var $F=F_.lock,ST="dxHoverStart",L_="dxhoverstart",HF=xe(Rt.enter,ST),ET="dxHoverEnd",af="dxhoverend",zF=xe(Rt.leave,ET),IT=wt.inherit({noBubble:!0,ctor:function(){this._handlerArrayKeyPath=this._eventNamespace+"_HandlerStore"},setup:function(e){ui(e,this._handlerArrayKeyPath,{})},add:function(e,t){var i=this,r=function(n){i._handler(n)};te.on(e,this._originalEventName,t.selector,r),ui(e,this._handlerArrayKeyPath)[t.guid]=r},_handler:function(e){Uu(e)||Ne.isSimulator()||Xa({type:this._eventName,originalEvent:e,delegateTarget:e.delegateTarget})},remove:function(e,t){var i=ui(e,this._handlerArrayKeyPath)[t.guid];te.off(e,this._originalEventName,t.selector,i)},teardown:function(e){Zc(e,this._handlerArrayKeyPath)}}),WF=IT.inherit({ctor:function(){this._eventNamespace=ST,this._eventName=L_,this._originalEventName=HF,this.callBase()},_handler:function(e){var t=e.pointers||[];t.length||this.callBase(e)}}),jF=IT.inherit({ctor:function(){this._eventNamespace=ET,this._eventName=af,this._originalEventName=zF,this.callBase()}});Gr(L_,new WF);Gr(af,new jF);function Wy(e,t,i){e=e==="role"||e==="id"?e:"aria-".concat(e),t=Z(t)?t.toString():null,i.attr(e,t)}var Fi=Dn.inherit({_feedbackHideTimeout:400,_feedbackShowTimeout:30,_supportedKeys:()=>({}),_getDefaultOptions(){return re(this.callBase(),{hoveredElement:null,isActive:!1,disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:void 0,onFocusIn:null,onFocusOut:null,onKeyboardHandled:null,ignoreParentReadOnly:!1,useResizeObserver:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var e=Ne.real(),t=e.platform,i=e.version;return t==="ios"&&mT(i,"13.3")<=0},options:{useResizeObserver:!1}}])},_init(){this.callBase(),this._initContentReadyAction()},_innerWidgetOptionChanged:function(e,t){var i=Fi.getOptionsFromContainer(t);e&&e.option(i),this._options.cache(t.name,i)},_bindInnerWidgetOptions(e,t){var i=()=>this._options.silent(t,re({},e.option()));i(),e.on("optionChanged",i)},_getAriaTarget(){return this._focusTarget()},_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initMarkup(){var{disabled:e,visible:t}=this.option();this.$element().addClass("dx-widget"),this._toggleDisabledState(e),this._toggleVisibility(t),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),this.callBase()},_render(){this.callBase(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents(),this._toggleIndependentState()},_renderHint(){var{hint:e}=this.option();this.$element().attr("title",e||null)},_renderContent(){Ti(()=>this._disposed?void 0:this._renderContentImpl()).done(()=>this._disposed?void 0:this._fireContentReadyAction())},_renderContentImpl:me,_fireContentReadyAction:$o(function(){return this._contentReadyAction()}),_dispose(){this._contentReadyAction=null,this._detachKeyboardEvents(),this.callBase()},_resetActiveState(){this._toggleActiveState(this._eventBindingTarget(),!1)},_clean(){this._cleanFocusState(),this._resetActiveState(),this.callBase(),this.$element().empty()},_toggleVisibility(e){this.$element().toggleClass("dx-state-invisible",!e),this.setAria("hidden",!e||void 0)},_renderFocusState(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())},_renderAccessKey(){var e=this._focusTarget(),{accessKey:t}=this.option();e.attr("accesskey",t)},_isFocusable(){var{focusStateEnabled:e,disabled:t}=this.option();return e&&!t},_eventBindingTarget(){return this.$element()},_focusTarget(){return this._getActiveElement()},_isFocusTarget:function(e){var t=W(this._focusTarget()).toArray();return t.includes(e)},_getActiveElement(){var e=this._eventBindingTarget();return this._activeStateUnit?e.find(this._activeStateUnit).not(".dx-state-disabled"):e},_renderFocusTarget(){var{tabIndex:e}=this.option();this._focusTarget().attr("tabIndex",e)},_keyboardEventBindingTarget(){return this._eventBindingTarget()},_refreshFocusEvent(){this._detachFocusEvents(),this._attachFocusEvents()},_focusEventTarget(){return this._focusTarget()},_focusInHandler(e){e.isDefaultPrevented()||this._createActionByOption("onFocusIn",{beforeExecute:()=>this._updateFocusState(e,!0),excludeValidators:["readOnly"]})({event:e})},_focusOutHandler(e){e.isDefaultPrevented()||this._createActionByOption("onFocusOut",{beforeExecute:()=>this._updateFocusState(e,!1),excludeValidators:["readOnly","disabled"]})({event:e})},_updateFocusState(e,t){var{target:i}=e;this._isFocusTarget(i)&&this._toggleFocusClass(t,W(i))},_toggleFocusClass(e,t){var i=t&&t.length?t:this._focusTarget();i.toggleClass("dx-state-focused",e)},_hasFocusClass(e){var t=W(e||this._focusTarget());return t.hasClass("dx-state-focused")},_isFocused(){return this._hasFocusClass()},_getKeyboardListeners:()=>[],_attachKeyboardEvents(){this._detachKeyboardEvents();var{focusStateEnabled:e,onKeyboardHandled:t}=this.option(),i=this._getKeyboardListeners().length,r=!!t,n=e||i||r;n&&(this._keyboardListenerId=Pa.on(this._keyboardEventBindingTarget(),this._focusTarget(),a=>this._keyboardHandler(a)))},_keyboardHandler(e,t){if(!t){var{originalEvent:i,keyName:r,which:n}=e,a=this._supportedKeys(i),s=a[r]||a[n];if(s!==void 0){var o=s.bind(this),l=o(i,e);if(!l)return!1}}var u=this._getKeyboardListeners(),{onKeyboardHandled:d}=this.option();return u.forEach(c=>c&&c._keyboardHandler(e)),d&&d(e),!0},_refreshFocusState(){this._cleanFocusState(),this._renderFocusState()},_cleanFocusState(){var e=this._focusTarget();e.removeAttr("tabIndex"),this._toggleFocusClass(!1),this._detachFocusEvents(),this._detachKeyboardEvents()},_detachKeyboardEvents(){Pa.off(this._keyboardListenerId),this._keyboardListenerId=null},_attachHoverEvents(){var{hoverStateEnabled:e}=this.option(),t=this._activeStateUnit,i=this._eventBindingTarget();Dy.off(i,{selector:t,namespace:"UIFeedback"}),e&&Dy.on(i,new br(r=>{var{event:n,element:a}=r;this._hoverStartHandler(n),this.option("hoveredElement",W(a))},{excludeValidators:["readOnly"]}),r=>{this.option("hoveredElement",null),this._hoverEndHandler(r)},{selector:t,namespace:"UIFeedback"})},_attachFeedbackEvents(){var{activeStateEnabled:e}=this.option(),t=this._activeStateUnit,i=this._eventBindingTarget();Oy.off(i,{namespace:"UIFeedback",selector:t}),e&&Oy.on(i,new br(r=>{var{event:n,element:a}=r;return this._toggleActiveState(W(a),!0,n)}),new br(r=>{var{event:n,element:a}=r;return this._toggleActiveState(W(a),!1,n)},{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout,hideTimeout:this._feedbackHideTimeout,selector:t,namespace:"UIFeedback"})},_detachFocusEvents(){var e=this._focusEventTarget();Lh.off(e,{namespace:"".concat(this.NAME,"Focus")})},_attachFocusEvents(){var e=this._focusEventTarget();Lh.on(e,t=>this._focusInHandler(t),t=>this._focusOutHandler(t),{namespace:"".concat(this.NAME,"Focus"),isFocusable:(t,i)=>W(i).is(Jg)})},_hoverStartHandler:me,_hoverEndHandler:me,_toggleActiveState(e,t){this.option("isActive",t),e.toggleClass("dx-state-active",t)},_updatedHover(){var e=this._options.silent("hoveredElement");this._hover(e,e)},_findHoverTarget(e){return e&&e.closest(this._activeStateUnit||this._eventBindingTarget())},_hover(e,t){var{hoverStateEnabled:i,disabled:r,isActive:n}=this.option();if(t=this._findHoverTarget(t),t&&t.toggleClass("dx-state-hover",!1),e&&i&&!r&&!n){var a=this._findHoverTarget(e);a&&a.toggleClass("dx-state-hover",!0)}},_toggleDisabledState(e){this.$element().toggleClass("dx-state-disabled",!!e),this.setAria("disabled",e||void 0)},_toggleIndependentState(){this.$element().toggleClass("dx-state-independent",this.option("ignoreParentReadOnly"))},_setWidgetOption(e,t){if(this[e]){if(ft(t[0])){le(t[0],(a,s)=>this._setWidgetOption(e,[a,s]));return}var i=t[0],r=t[1];t.length===1&&(r=this.option(i));var n=this["".concat(e,"OptionMap")];this[e].option(n?n(i):i,r)}},_optionChanged(e){var{name:t,value:i,previousValue:r}=e;switch(t){case"disabled":this._toggleDisabledState(i),this._updatedHover(),this._refreshFocusState();break;case"hint":this._renderHint();break;case"ignoreParentReadOnly":this._toggleIndependentState();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents(),this._updatedHover();break;case"tabIndex":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":case"useResizeObserver":break;case"accessKey":this._renderAccessKey();break;case"hoveredElement":this._hover(i,r);break;case"isActive":this._updatedHover();break;case"visible":this._toggleVisibility(i),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(i?"shown":"hiding");break;case"onKeyboardHandled":this._attachKeyboardEvents();break;case"onContentReady":this._initContentReadyAction();break;default:this.callBase(e)}},_isVisible(){var{visible:e}=this.option();return this.callBase()&&e},beginUpdate(){this._ready(!1),this.callBase()},endUpdate(){this.callBase(),this._initialized&&this._ready(!0)},_ready(e){if(arguments.length===0)return this._isReady;this._isReady=e},setAria(){if(!ft(arguments.length<=0?void 0:arguments[0]))Wy(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||this._getAriaTarget());else{var e=(arguments.length<=1?void 0:arguments[1])||this._getAriaTarget();le(arguments.length<=0?void 0:arguments[0],(t,i)=>Wy(t,i,e))}},isReady(){return this._ready()},repaint(){this._refresh()},focus(){Lh.trigger(this._focusTarget())},registerKeyHandler(e,t){var i=this._supportedKeys();this._supportedKeys=()=>re(i,{[e]:t})}});Fi.getOptionsFromContainer=e=>{var{name:t,fullName:i,value:r}=e,n={};if(t===i)n=r;else{var a=i.split(".").pop();n[a]=r}return n};var UF=$u(),GF="dx-loadindicator",KF="dx-loadindicator-wrapper",qF="dx-loadindicator-content",XF="dx-loadindicator-icon",jy="dx-loadindicator-segment",YF="dx-loadindicator-segment-inner",ZF="dx-loadindicator-image",Ir=Fi.inherit({_getDefaultOptions:function(){return re(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules:function(){var e=un();return this.callBase().concat([{device:function(){var t=Ne.real(),i=t.platform==="android"&&!/chrome/i.test(UF.userAgent);return i},options:{viaImage:!0}},{device:function(){return xi(e)},options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:function(){return sT(e)},options:{_animatingSegmentCount:7}}])},_useTemplates:function(){return!1},_init:function(){this.callBase(),this.$element().addClass(GF)},_initMarkup:function(){this.callBase(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()},_renderWrapper:function(){this._$wrapper=W("<div>").addClass(KF),this.$element().append(this._$wrapper)},_renderIndicatorContent:function(){this._$content=W("<div>").addClass(qF),this._$wrapper.append(this._$content)},_renderMarkup:function(){QI()&&!this.option("viaImage")&&!this.option("indicatorSrc")?this._renderMarkupForAnimation():this._renderMarkupForImage()},_renderMarkupForAnimation:function(){var e=this.option("_animatingSegmentInner");this._$indicator=W("<div>").addClass(XF),this._$content.append(this._$indicator);for(var t=this.option("_animatingSegmentCount");t>=0;--t){var i=W("<div>").addClass(jy).addClass(jy+t);e&&i.append(W("<div>").addClass(YF)),this._$indicator.append(i)}},_renderMarkupForImage:function(){var e=this.option("indicatorSrc");this._$wrapper.addClass(ZF),e&&this._$wrapper.css("backgroundImage","url("+e+")")},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){if(this._$indicator){var e=this.option("width"),t=this.option("height");if(e||t){e=Ze(this.$element()),t=nt(this.$element());var i=Math.min(t,e);this._$wrapper.css({height:i,width:i,fontSize:i})}}},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("backgroundImage","none")},_optionChanged:function(e){switch(e.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(e)}}});yt("dxLoadIndicator",Ir);var N_="dxTranslator",JF=/matrix(3d)?\((.+?)\)/,QF=/translate(?:3d)?\((.+?)\)/,Vr=function(e){e=W(e);var t=pc(e);return{left:t.x,top:t.y}};function fc(e){return Wr(e)==="string"&&e[e.length-1]==="%"}function TT(e,t){e.length&&ui(e.get(0),N_,t)}var V_=function(e){e.length&&Zc(e.get(0),N_)},Ku=function(e){e.x=e.x||0,e.y=e.y||0;var t=fc(e.x)?e.x:e.x+"px",i=fc(e.y)?e.y:e.y+"px";return"translate("+t+", "+i+")"},pc=function(e){var t=e.length?ui(e.get(0),N_):null;if(!t){var i=e.css("transform")||Ku({x:0,y:0}),r=i.match(JF),n=r&&r[1];r?(r=r[2].split(","),n==="3d"?r=r.slice(12,15):(r.push(0),r=r.slice(4,7))):r=[0,0,0],t={x:parseFloat(r[0]),y:parseFloat(r[1]),z:parseFloat(r[2])},TT(e,t)}return t},Ai=function(e,t){e=W(e);var i=t.left,r=t.top,n;i===void 0?(n=pc(e),n.y=r||0):r===void 0?(n=pc(e),n.x=i||0):(n={x:i||0,y:r||0,z:0},TT(e,n)),e.css({transform:Ku(n)}),(fc(i)||fc(r))&&V_(e)},qu=function(e,t){e=W(e);var i,r={left:0,top:0,transform:"none"};t&&(i=e.css("transition"),r.transition="none"),e.css(r),V_(e),t&&(e.get(0).offsetHeight,e.css("transition",i))},e8=function(e){var t=e.match(QF);if(!(!t||!t[1]))return t=t[1].split(","),t={x:parseFloat(t[0]),y:parseFloat(t[1]),z:parseFloat(t[2])},t},Uy=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,Gy={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},t8=function(e,t,i,r){var n=3*e,a=3*(i-e)-n,s=1-n-a,o=3*t,l=3*(r-t)-o,u=1-o-l,d=function(h){return h*(n+h*(a+h*s))},c=function(h){return n+h*(2*a+3*h*s)};return function(h){return function(f){return f*(o+f*(l+f*u))}(function(f){for(var p=f,g=0,m;g<14&&(m=d(p)-f,!(Math.abs(m)<.001));)p-=m/c(p),g++;return p}(h))}},nv={},i8=function(e){e=Gy[e]||e;var t=e.match(Uy),i;t||(i="linear",t=Gy[i].match(Uy)),t=t.slice(1,5);for(var r=0;r<t.length;r++)t[r]=parseFloat(t[r]);var n=i||"cubicbezier_"+t.join("_").replace(/\./g,"p");return Re(nv[n])||(nv[n]=function(a,s,o,l,u){return l*t8(t[0],t[1],t[2],t[3])(s/u)+o}),n};function r8(e){return nv[e]}var Za=e=>{var t=e??Jt().rtlEnabled;return t?"right":"left"},mi=e=>wi(e)?{width:e.outerWidth,height:e.outerHeight}:e.getBoundingClientRect(),Ky=at(),n8=/left|right/,a8=/top|bottom/,qy=/fit|flip|none/,s8=/scale\(.+?\)/,o8=Qt.safari,av=function(e){var t={h:"center",v:"center"},i=sl(e);return i&&le(i,function(){var r=String(this).toLowerCase();n8.test(r)?t.h=r:a8.test(r)&&(t.v=r)}),t},Xy=function(e){return d_(e)},l8=function(e){var t=sl(e),i=String(t&&t[0]).toLowerCase(),r=String(t&&t[1]).toLowerCase();return qy.test(i)||(i="none"),qy.test(r)||(r=i),{h:i,v:r}},Yy=function(e){switch(e){case"center":return .5;case"right":case"bottom":return 1;default:return 0}},sv=function(e){switch(e){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return e}},ov=function(e,t){var i=0;return e.myLocation<t.min&&(i+=t.min-e.myLocation),e.myLocation>t.max&&(i+=e.myLocation-t.max),i},Zy=function(e,t,i){return t.myLocation<i.min?e==="h"?"left":"top":t.myLocation>i.max?e==="h"?"right":"bottom":"none"},lv=function(e){e.myLocation=e.atLocation+Yy(e.atAlign)*e.atSize-Yy(e.myAlign)*e.mySize+e.offset},Ld={fit:function(e,t){var i=!1;e.myLocation>t.max&&(e.myLocation=t.max,i=!0),e.myLocation<t.min&&(e.myLocation=t.min,i=!0),e.fit=i},flip:function(e,t){if(e.flip=!1,!(e.myAlign==="center"&&e.atAlign==="center")&&(e.myLocation<t.min||e.myLocation>t.max)){var i=re({},e,{myAlign:sv(e.myAlign),atAlign:sv(e.atAlign),offset:-e.offset});lv(i),i.oversize=ov(i,t),(i.myLocation>=t.min&&i.myLocation<=t.max||e.oversize>i.oversize)&&(e.myLocation=i.myLocation,e.oversize=i.oversize,e.flip=!0)}},flipfit:function(e,t){this.flip(e,t),this.fit(e,t)},none:function(e){e.oversize=0}},AT,OT=function(){var e=W("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(W("body")),t=e.get(0).offsetWidth-e.get(0).clientWidth;e.remove(),AT=t},u8={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},DT=function(e,t){var i=W(e),r=i.offset(),n=re(!0,{},u8,{h:{location:r.left},v:{location:r.top}});if(!t)return n;var a=av(t.my),s=av(t.at),o=W(t.of).length&&t.of||Ky,l=Xy(t.offset),u=l8(t.collision),d=t.boundary,c=Xy(t.boundaryOffset),h={mySize:At(i),myAlign:a.h,atAlign:s.h,offset:l.h,collision:u.h,boundaryOffset:c.h},f={mySize:Ct(i),myAlign:a.v,atAlign:s.v,offset:l.v,collision:u.v,boundaryOffset:c.v};if(o.preventDefault)h.atLocation=o.pageX,f.atLocation=o.pageY,h.atSize=0,f.atSize=0;else if(o=W(o),wi(o[0]))h.atLocation=o.scrollLeft(),f.atLocation=o.scrollTop(),Ne.real().deviceType==="phone"&&o[0].visualViewport?(h.atLocation=Math.max(h.atLocation,o[0].visualViewport.offsetLeft),f.atLocation=Math.max(f.atLocation,o[0].visualViewport.offsetTop),h.atSize=o[0].visualViewport.width,f.atSize=o[0].visualViewport.height):(h.atSize=o[0].innerWidth>o[0].outerWidth?o[0].innerWidth:Ze(o),f.atSize=o[0].innerHeight>o[0].outerHeight||o8?o[0].innerHeight:nt(o));else if(o[0].nodeType===9)h.atLocation=0,f.atLocation=0,h.atSize=Ze(o),f.atSize=nt(o);else{var p=mi(o.get(0)),g=RT(o);h.atLocation=g.left,f.atLocation=g.top,h.atSize=Math.max(p.width,At(o)),f.atSize=Math.max(p.height,Ct(o))}lv(h),lv(f);var m=function(){var b=W(Ky),y=Ze(b),I=nt(b),D=b.scrollLeft(),N=b.scrollTop(),z=we.getDocumentElement(),F=Rs?z.clientWidth/y:1,$=Rs?z.clientHeight/I:1;AT===void 0&&OT();var j=y,q=I;if(d){var H=W(d),A=H.offset();D=A.left,N=A.top,j=Ze(H),q=nt(H)}return{h:{min:D+h.boundaryOffset,max:D+j/F-h.mySize-h.boundaryOffset},v:{min:N+f.boundaryOffset,max:N+q/$-f.mySize-f.boundaryOffset}}}();h.oversize=ov(h,m.h),f.oversize=ov(f,m.v),h.collisionSide=Zy("h",h,m.h),f.collisionSide=Zy("v",f,m.v),Ld[h.collision]&&Ld[h.collision](h,m.h),Ld[f.collision]&&Ld[f.collision](f,m.v);var v=function(b){return t.precise?b:Math.round(b)};return re(!0,n,{h:{location:v(h.myLocation),oversize:v(h.oversize),fit:h.fit,flip:h.flip,collisionSide:h.collisionSide},v:{location:v(f.myLocation),oversize:v(f.oversize),fit:f.fit,flip:f.flip,collisionSide:f.collisionSide},precise:t.precise}),n},Jy=function(e,t,i,r,n){var a=Z(e.style)&&!we.isNode(e.style);a?e.style.transform=n?i.replace(t,""):i:e.setAttribute("style",n?r.replace(t,""):r)},RT=function e(t){var i,r,n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,s=a.get(0);if(!s)return t.offset();var o=((i=s.getAttribute)===null||i===void 0?void 0:i.call(s,"style"))||"",l=(r=s.style)===null||r===void 0?void 0:r.transform,u=(n=o.match(s8))===null||n===void 0?void 0:n[0],d;return u?(Jy(s,u,l,o,!0),d=e(t,a.parent()),Jy(s,u,l,o,!1)):d=e(t,a.parent()),d},xu=function(e,t){var i=W(e);if(!t)return i.offset();qu(i,!0);var r=RT(i),n=t.h&&t.v?t:DT(i,t),a=function(s){return t.precise?s:Math.round(s)};return Ai(i,{left:n.h.location-a(r.left),top:n.v.location-a(r.top)}),n},d8=function(e){return e=W(e).get(0),wi(e)?null:e&&"pageY"in e&&"pageX"in e?{top:e.pageY,left:e.pageX}:W(e).offset()};xu.inverseAlign||(xu.inverseAlign=sv);xu.normalizeAlign||(xu.normalizeAlign=av);const zi={calculateScrollbarWidth:OT,calculate:DT,setup:xu,offset:d8};var kT=at(),au=xe(An,"dxFX"),h8=/^([+-])=(.*)/i,Su="dxAnimData",$_="dxAnimQueue",Qr="transform",c8={initAnimation:function(e,t){e.css({transitionProperty:"none"}),typeof t.from=="string"?e.addClass(t.from):dv(e,t.from);var i=this,r=new pe,n=t.cleanupWhen;t.transitionAnimation={deferred:r,finish:function(){i._finishTransition(e),n?Pe(r,n).always(function(){i._cleanup(e,t)}):i._cleanup(e,t),r.resolveWith(e,[t,e])}},this._completeAnimationCallback(e,t).done(function(){t.transitionAnimation.finish()}).fail(function(){r.rejectWith(e,[t,e])}),t.duration||t.transitionAnimation.finish(),e.css("transform")},animate:function(e,t){return this._startAnimation(e,t),t.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(e,t){var i=this,r=Date.now()+t.delay,n=new pe,a=new pe,s=new pe,o,l=JI()+".dxFX";t.transitionAnimation.cleanup=function(){clearTimeout(o),clearTimeout(u),te.off(e,l),te.off(e,au)},te.one(e,l,function(){Date.now()-r>=t.duration&&a.reject()}),te.off(e,au),te.on(e,au,function(){i.stop(e,t),n.reject()});var u=setTimeout(function(){o=setTimeout(function(){s.reject()},t.duration+t.delay+fi._simulatedTransitionEndDelay),Pe(a,s).fail((function(){n.resolve()}).bind(this))});return n.promise()},_startAnimation:function(e,t){e.css({transitionProperty:"all",transitionDelay:t.delay+"ms",transitionDuration:t.duration+"ms",transitionTimingFunction:t.easing}),typeof t.to=="string"?e[0].className+=" "+t.to:t.to&&dv(e,t.to)},_finishTransition:function(e){e.css("transition","none")},_cleanup:function(e,t){t.transitionAnimation.cleanup(),typeof t.from=="string"&&(e.removeClass(t.from),e.removeClass(t.to))},stop:function(e,t,i){t&&(i?t.transitionAnimation.finish():(ft(t.to)&&le(t.to,function(r){e.css(r,e.css(r))}),this._finishTransition(e),this._cleanup(e,t)))}},Qy={initAnimation:function(e,t){dv(e,t.from)},animate:function(e,t){var i=new pe,r=this;return t?(le(t.to,function(n){t.from[n]===void 0&&(t.from[n]=r._normalizeValue(e.css(n)))}),t.to[Qr]&&(t.from[Qr]=r._parseTransform(t.from[Qr]),t.to[Qr]=r._parseTransform(t.to[Qr])),t.frameAnimation={to:t.to,from:t.from,currentValue:t.from,easing:i8(t.easing),duration:t.duration,startTime:new Date().valueOf(),finish:function(){this.currentValue=this.to,this.draw(),Un(t.frameAnimation.animationFrameId),i.resolve()},draw:function(){if(t.draw){t.draw(this.currentValue);return}var n=re({},this.currentValue);n[Qr]&&(n[Qr]=Si(n[Qr],function(a,s){if(s==="translate")return Ku(a);if(s==="scale")return"scale("+a+")";if(s.substr(0,s.length-1)==="rotate")return s+"("+a+"deg)"}).join(" ")),e.css(n)}},t.delay?(t.frameAnimation.startTime+=t.delay,t.frameAnimation.delayTimeout=setTimeout(function(){r._startAnimation(e,t)},t.delay)):r._startAnimation(e,t),i.promise()):i.reject().promise()},_startAnimation:function(e,t){te.off(e,au),te.on(e,au,function(){t.frameAnimation&&Un(t.frameAnimation.animationFrameId)}),this._animationStep(e,t)},_parseTransform:function(e){var t={};return le(e.match(/\w+\d*\w*\([^)]*\)\s*/g),function(i,r){var n=e8(r),a=r.match(/scale\((.+?)\)/),s=r.match(/(rotate.)\((.+)deg\)/);n&&(t.translate=n),a&&a[1]&&(t.scale=parseFloat(a[1])),s&&s[1]&&(t[s[1]]=parseFloat(s[2]))}),t},stop:function(e,t,i){var r=t&&t.frameAnimation;r&&(Un(r.animationFrameId),clearTimeout(r.delayTimeout),i&&r.finish(),delete t.frameAnimation)},_animationStep:function(e,t){var i=t&&t.frameAnimation;if(i){var r=new Date().valueOf();if(r>=i.startTime+i.duration){i.finish();return}i.currentValue=this._calcStepValue(i,r-i.startTime),i.draw();var n=this;i.animationFrameId=cc(function(){n._animationStep(e,t)})}},_calcStepValue:function(e,t){return function i(r,n){var a=Array.isArray(n)?[]:{};return le(n,function(s,o){if(typeof o=="string"&&parseFloat(o,10)===!1)return!0;a[s]=typeof o=="object"?i(r[s],o):function(l){var u=t/e.duration,d=t,c=1*r[l],h=n[l]-r[l],f=e.duration;return r8(e.easing)(u,d,c,h,f)}(s)}),a}(e.from,e.to)},_normalizeValue:function(e){var t=parseFloat(e,10);return t===!1?e:t}},f8={initAnimation:function(){},animate:function(){return new pe().resolve().promise()},stop:me,isSynchronous:!0},p8=function(e){e=e||{};var t={transition:qg()?c8:Qy,frame:Qy,noAnimation:f8},i=e.strategy||"transition";return e.type==="css"&&!qg()&&(i="noAnimation"),t[i]},MT=function(e,t,i,r){le(["from","to"],function(){if(!i(e[this]))throw $t.Error("E0010",t,this,r)})},BT=function(e,t){return MT(e,t,function(i){return ft(i)},"a plain object")},m8=function(e,t){return MT(e,t,function(i){return typeof i=="string"},"a string")},g8={setup:function(){}},v8={validateConfig:function(e){m8(e,"css")},setup:function(){}},_8={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},wp={validateConfig:function(e){BT(e,"slide")},setup:function(e,t){var i=Vr(e);if(t.type!=="slide"){var r=t.type==="slideIn"?t.from:t.to;r.position=re({of:kT},_8[t.direction]),uv(e,r)}this._setUpConfig(i,t.from),this._setUpConfig(i,t.to),V_(e)},_setUpConfig:function(e,t){t.left="left"in t?t.left:"+=0",t.top="top"in t?t.top:"+=0",this._initNewPosition(e,t)},_initNewPosition:function(e,t){var i={left:t.left,top:t.top};delete t.left,delete t.top;var r=this._getRelativeValue(i.left);r!==void 0?i.left=r+e.left:t.left=0,r=this._getRelativeValue(i.top),r!==void 0?i.top=r+e.top:t.top=0,t[Qr]=Ku({x:i.left,y:i.top})},_getRelativeValue:function(e){var t;if(typeof e=="string"&&(t=h8.exec(e)))return parseInt(t[1]+"1")*t[2]}},xp={setup:function(e,t){var i,r,n=t.from,a=t.to,s=t.type==="fadeOut"?1:0,o=t.type==="fadeOut"?0:1,l=ft(n)?String((i=n.opacity)!==null&&i!==void 0?i:s):String(n),u=ft(a)?String((r=a.opacity)!==null&&r!==void 0?r:o):String(a);switch(t.skipElementInitialStyles||(l=e.css("opacity")),t.type){case"fadeIn":u=1;break;case"fadeOut":u=0}t.from={visibility:"visible",opacity:l},t.to={opacity:u}}},b8={validateConfig:function(e){BT(e,"pop")},setup:function(e,t){var i=t.from,r=t.to,n="opacity"in i?i.opacity:e.css("opacity"),a="opacity"in r?r.opacity:1,s="scale"in i?i.scale:0,o="scale"in r?r.scale:1;t.from={opacity:n};var l=pc(e);t.from[Qr]=this._getCssTransform(l,s),t.to={opacity:a},t.to[Qr]=this._getCssTransform(l,o)},_getCssTransform:function(e,t){return Ku(e)+"scale("+t+")"}},PT={custom:g8,slide:wp,slideIn:wp,slideOut:wp,fade:xp,fadeIn:xp,fadeOut:xp,pop:b8,css:v8},y8=function(e){var t=PT[e.type];if(!t)throw $t.Error("E0011",e.type);return t},C8={type:"custom",from:{},to:{},duration:400,start:me,complete:me,easing:"ease",delay:0},w8={duration:400,easing:"ease",delay:0};function x8(){var e=this.element,t=this.config;if(uv(e,t.from),uv(e,t.to),this.configurator.setup(e,t),e.data(Su,this),this.strategy.initAnimation(e,t),t.start){var i=qe(e);t.start.apply(this,[i,t])}}var S8=function(e){var t=e.element,i=e.config;if(t.removeData(Su),i.complete){var r=qe(t);i.complete.apply(this,[r,i])}e.deferred.resolveWith(this,[t,i])},E8=function(){var e=this,t=e.element,i=e.config;return e.isStarted=!0,e.strategy.animate(t,i).done(function(){S8(e)}).fail(function(){e.deferred.rejectWith(this,[t,i])})},I8=function(e){var t=this.element,i=this.config;clearTimeout(this.startTimeout),this.isStarted||this.start(),this.strategy.stop(t,i,e)},Sp=xe(An,"dxFXStartAnimation"),T8=function(e){te.off(e.element,Sp),te.on(e.element,Sp,function(){fi.stop(e.element)}),e.deferred.always(function(){te.off(e.element,Sp)})},FT=function(e,t){var i=t.type==="css"?w8:C8,r=re(!0,{},i,t),n=y8(r),a=p8(r),s={element:W(e),config:r,configurator:n,strategy:a,isSynchronous:a.isSynchronous,setup:x8,start:E8,stop:I8,deferred:new pe};return Re(n.validateConfig)&&n.validateConfig(r),T8(s),s},A8=function(e,t){var i=W(e);if(!i.length)return new pe().resolve().promise();var r=FT(i,t);return O8(i,r),r.deferred.promise()};function O8(e,t){var i=H_(e);D8(e,i),i.push(t),sf(e)||z_(e,i)}function H_(e){return e.data($_)||[]}function D8(e,t){e.data($_,t)}var LT=function(e){e.removeData($_)};function sf(e){return!!e.data(Su)}function z_(e,t){if(t=H_(e),!!t.length){var i=t.shift();t.length===0&&LT(e),R8(i).done(function(){sf(e)||z_(e)})}}function R8(e){return e.setup(),e.isSynchronous?e.start():e.startTimeout=setTimeout(function(){e.start()}),e.deferred.promise()}function uv(e,t){if(!(!t||!t.position)){var i=W(kT),r=0,n=0,a=zi.calculate(e,t.position),s=e.offset(),o=e.position();o.top>s.top&&(n=i.scrollTop()),o.left>s.left&&(r=i.scrollLeft()),re(t,{left:a.h.location-s.left+o.left-r,top:a.v.location-s.top+o.top-n}),delete t.position}}function dv(e,t){le(t,function(i,r){try{e.css(i,Re(r)?r():r)}catch{}})}var k8=function(e,t){var i=W(e),r=H_(i);le(r,function(a,s){s.config.delay=0,s.config.duration=0,s.isSynchronous=!0}),sf(i)||z_(i,r);var n=i.data(Su);n&&n.stop(t),i.removeData(Su),LT(i)},fi={off:!1,animationTypes:PT,animate:A8,createAnimation:FT,isAnimating:sf,stop:k8,_simulatedTransitionEndDelay:100},M8=On.add,eC=Math.abs,Ep=0,Ip=1,bl=2,mc=10,B8=0,P8=180,F8=function(){return Ka("pointer-events")},L8=la(function(){var e=Ne.real().deviceType==="desktop";if(!F8()||!e)return me;var t=W("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return te.subscribeGlobal(t,"dxmousewheel",function(i){i.preventDefault()}),M8(function(){t.appendTo("body")}),function(i,r){t.css("pointerEvents",i?"all":"none"),i&&t.css("cursor",r)}}),N8=function(e,t){var i=L8();i(e,t)},Xu=nf.inherit({gesture:!0,configure:function(e){this.getElement().css("msTouchAction",e.immediate?"pinch-zoom":""),this.callBase(e)},allowInterruptionByMouseWheel:function(){return this._stage!==bl},getDirection:function(){return this.direction},_cancel:function(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=Ep},start:function(e){if(e._needSkipEvent||fT(e)){this._cancel(e);return}this._startEvent=Oa(e),this._startEventData=pi(e),this._stage=Ip,this._init(e),this._setupImmediateTimer()},_setupImmediateTimer:function(){clearTimeout(this._immediateTimer),this._immediateAccepted=!1,this.immediate&&(this._immediateTimer=setTimeout((function(){this._immediateAccepted=!0}).bind(this),P8))},move:function(e){if(this._stage===Ip&&this._directionConfirmed(e)){if(this._stage=bl,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(e),this._adjustStartEvent(e),this._start(this._startEvent),this._stage===Ep)return;this._requestAccept(e),this._move(e),this._forgetAccept()}else this._stage===bl&&(this._clearSelection(e),this._move(e))},_directionConfirmed:function(e){var t=this._getTouchBoundary(e),i=bs(this._startEventData,pi(e)),r=eC(i.x),n=eC(i.y),a=this._validateMove(t,r,n),s=this._validateMove(t,n,r),o=this.getDirection(e),l=o==="both"&&(a||s),u=o==="horizontal"&&a,d=o==="vertical"&&s;return l||u||d||this._immediateAccepted},_validateMove:function(e,t,i){return t&&t>=e&&(this.immediate?t>=i:!0)},_getTouchBoundary:function(e){return this.immediate||dr(e)?B8:mc},_adjustStartEvent:function(e){var t=this._getTouchBoundary(e),i=bs(this._startEventData,pi(e));this._startEvent.pageX+=Xo(i.x)*t,this._startEvent.pageY+=Xo(i.y)*t},_resetActiveElement:function(){Ne.real().platform==="ios"&&this.getElement().find(":focus").length&&ll()},_toggleGestureCover:function(e){this._toggleGestureCoverImpl(e)},_toggleGestureCoverImpl:function(e){var t=this._stage===bl;t&&N8(e,this.getElement().css("cursor"))},_clearSelection:function(e){dr(e)||Uu(e)||$P()},end:function(e){this._toggleGestureCover(!1),this._stage===bl?this._end(e):this._stage===Ip&&this._stop(e),this._stage=Ep},dispose:function(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:me,_start:me,_move:me,_stop:me,_end:me});Xu.initialTouchBoundary=mc;Xu.touchBoundary=function(e){if(Z(e)){mc=e;return}return mc};var Bs="dxdragstart",Ha="dxdrag",Ps="dxdragend",of="dxdragenter",lf="dxdragleave",W_="dxdrop",Nd="dxDragEventsCount",Gn=[],Bo=[],hv=[],j_={setup:function(e,t){var i=Gn.includes(e);i||(Gn.push(e),Bo.push([]),hv.push(t||{}))},add:function(e,t){var i=Gn.indexOf(e);this.updateEventsCounter(e,t.type,1);var r=t.selector;Bo[i].includes(r)||Bo[i].push(r)},updateEventsCounter:function(e,t,i){if([of,lf,W_].indexOf(t)>-1){var r=ui(e,Nd)||0;ui(e,Nd,Math.max(0,r+i))}},remove:function(e,t){this.updateEventsCounter(e,t.type,-1)},teardown:function(e){var t=ui(e,Nd);if(!t){var i=Gn.indexOf(e);Gn.splice(i,1),Bo.splice(i,1),hv.splice(i,1),Zc(e,Nd)}}};Gr(of,j_);Gr(lf,j_);Gr(W_,j_);var V8=function(e){var t=Gn.indexOf(e.get(0)),i=Bo[t].filter(n=>n),r=e.find(i.join(", "));return Bo[t].includes(void 0)&&(r=r.add(e)),r},$8=function(e){var t=Gn.indexOf(e.get(0));return hv[t]},H8=function(e,t){return e.itemPositionFunc?e.itemPositionFunc(t):t.offset()},z8=function(e,t){return e.itemSizeFunc?e.itemSizeFunc(t):{width:t.get(0).getBoundingClientRect().width,height:t.get(0).getBoundingClientRect().height}},W8=Xu.inherit({ctor:function(e){this.callBase(e),this.direction="both"},_init:function(e){this._initEvent=e},_start:function(e){if(e=this._fireEvent(Bs,this._initEvent),this._maxLeftOffset=e.maxLeftOffset,this._maxRightOffset=e.maxRightOffset,this._maxTopOffset=e.maxTopOffset,this._maxBottomOffset=e.maxBottomOffset,e.targetElements||e.targetElements===null){var t=YP(e.targetElements||[]);this._dropTargets=Si(t,function(i){return W(i).get(0)})}else this._dropTargets=Gn},_move:function(e){var t=pi(e),i=this._calculateOffset(t);e=this._fireEvent(Ha,e,{offset:i}),this._processDropTargets(e),e._cancelPreventDefault||e.preventDefault()},_calculateOffset:function(e){return{x:this._calculateXOffset(e),y:this._calculateYOffset(e)}},_calculateXOffset:function(e){if(this.direction!=="vertical"){var t=e.x-this._startEventData.x;return this._fitOffset(t,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset:function(e){if(this.direction!=="horizontal"){var t=e.y-this._startEventData.y;return this._fitOffset(t,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:function(e,t,i){return t!=null&&(e=Math.max(e,-t)),i!=null&&(e=Math.min(e,i)),e},_processDropTargets:function(e){var t=this._findDropTarget(e),i=t===this._currentDropTarget;i||(this._fireDropTargetEvent(e,lf),this._currentDropTarget=t,this._fireDropTargetEvent(e,of))},_fireDropTargetEvent:function(e,t){if(this._currentDropTarget){var i={type:t,originalEvent:e,draggingElement:this._$element.get(0),target:this._currentDropTarget};Xa(i)}},_findDropTarget:function(e){var t=this,i;return le(Gn,function(r,n){if(t._checkDropTargetActive(n)){var a=W(n);le(V8(a),function(s,o){var l=W(o);t._checkDropTarget($8(a),l,W(i),e)&&(i=o)})}}),i},_checkDropTargetActive:function(e){var t=!1;return le(this._dropTargets,function(i,r){return t=t||r===e||Ba(r,e),!t}),t},_checkDropTarget:function(e,t,i,r){var n=t.get(0)===W(r.target).get(0);if(n)return!1;var a=H8(e,t);if(r.pageX<a.left||r.pageY<a.top)return!1;var s=z8(e,t);return r.pageX>a.left+s.width||r.pageY>a.top+s.height||i.length&&i.closest(t).length||e.checkDropTarget&&!e.checkDropTarget(t,r)?!1:t},_end:function(e){var t=pi(e);this._fireEvent(Ps,e,{offset:this._calculateOffset(t)}),this._fireDropTargetEvent(e,W_),delete this._currentDropTarget}});ul({emitter:W8,events:[Bs,Ha,Ps]});var tC=function(){var e=[];return{add:function(t){e.includes(t)||e.push(t)},remove:function(t){var i=e.indexOf(t);i!==-1&&e.splice(i,1)},fire:function(){var t=e.pop(),i=!!t;return i&&t(),i},hasCallback:function(){return e.length>0}}}(),Nh=1500,Fa=[],j8=e=>(Nh=di(e,Nh),Nh),NT=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nh,t=Fa.length,i=(t?Fa[t-1]:e)+1;return Fa.push(i),i},cv=e=>{var t=Fa.indexOf(e);t>=0&&Fa.splice(t,1)},U8=e=>Fa.length&&Fa[Fa.length-1]===e,Tp="dx-swatch-",G8=e=>{var t=W(e),i=t.closest('[class^="'.concat(Tp,'"], [class*=" ').concat(Tp,'"]')),r=Va();if(!i.length)return r;var n=new RegExp("(\\s|^)(".concat(Tp,".*?)(\\s|$)")),a=i[0].className.match(n)[2],s=r.children("."+a);return s.length||(s=W("<div>").addClass(a).appendTo(r)),s};const VT={getSwatchContainer:G8};var K8=at(),$T={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},iC={h:0,v:0};class U_{constructor(t){var{position:i,container:r,visualContainer:n,$root:a,$content:s,$wrapper:o,onPositioned:l,onVisualPositionChanged:u,restorePosition:d,_fixWrapperPosition:c}=t;this._props={position:i,container:r,visualContainer:n,restorePosition:d,onPositioned:l,onVisualPositionChanged:u,_fixWrapperPosition:c},this._$root=a,this._$content=s,this._$wrapper=o,this._$markupContainer=void 0,this._$visualContainer=void 0,this._shouldRenderContentInitialPosition=!0,this._visualPosition=void 0,this._initialPosition=void 0,this._previousVisualPosition=void 0,this.updateContainer(r),this.updatePosition(i),this.updateVisualContainer(n)}get $container(){return this.updateContainer(),this._$markupContainer}get $visualContainer(){return this._$visualContainer}get position(){return this._position}set fixWrapperPosition(t){this._props._fixWrapperPosition=t,this.styleWrapperPosition()}set restorePosition(t){this._props.restorePosition=t}restorePositionOnNextRender(t){this._shouldRenderContentInitialPosition=t||!this._visualPosition}openingHandled(){var t=this._props.restorePosition;this.restorePositionOnNextRender(t)}updatePosition(t){this._props.position=t,this._position=this._normalizePosition(t),this.updateVisualContainer()}updateContainer(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._props.container;this._props.container=t,this._$markupContainer=t?W(t):VT.getSwatchContainer(this._$root),this.updateVisualContainer(this._props.visualContainer)}updateVisualContainer(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._props.visualContainer;this._props.visualContainer=t,this._$visualContainer=this._getVisualContainer()}detectVisualPositionChange(t){this._updateVisualPositionValue(),this._raisePositionedEvents(t)}positionContent(){this._shouldRenderContentInitialPosition?this._renderContentInitialPosition():(Ai(this._$content,this._visualPosition),this.detectVisualPositionChange())}positionWrapper(){this._$visualContainer&&zi.setup(this._$wrapper,{my:"top left",at:"top left",of:this._$visualContainer})}styleWrapperPosition(){var t=wi(this.$visualContainer.get(0))||this._props._fixWrapperPosition,i=t?"fixed":"absolute";this._$wrapper.css("position",i)}_updateVisualPositionValue(){this._previousVisualPosition=this._visualPosition,this._visualPosition=Vr(this._$content)}_renderContentInitialPosition(){this._renderBoundaryOffset(),qu(this._$content);var t=this._$wrapper.css("overflow");this._$wrapper.css("overflow","hidden");var i=zi.setup(this._$content,this._position);this._$wrapper.css("overflow",t),this._initialPosition=i,this.detectVisualPositionChange()}_raisePositionedEvents(t){var i=this._previousVisualPosition,r=this._visualPosition,n=(i==null?void 0:i.top)!==r.top||(i==null?void 0:i.left)!==r.left;n&&this._props.onVisualPositionChanged({previousPosition:i,position:r,event:t}),this._props.onPositioned({position:this._initialPosition})}_renderBoundaryOffset(){var t,i=(t=this._position)!==null&&t!==void 0?t:{boundaryOffset:iC};this._$content.css("margin","".concat(i.v,"px ").concat(i.h,"px"))}_getVisualContainer(){var t,i,r=this._props.container,n=this._props.visualContainer,a=yB((t=this._props.position)===null||t===void 0?void 0:t.of)?this._props.position.of.target:(i=this._props.position)===null||i===void 0?void 0:i.of;return W(n||r||a||K8)}_normalizePosition(t){var i={boundaryOffset:iC};return Z(t)?re(!0,{},i,this._positionToObject(t)):i}_positionToObject(t){return Ue(t)?re({},$T[t]):t}}var q8=On.add,po=at(),rC=Jc,X8="dx-overlay",Y8="dx-overlay-wrapper",Z8="dx-overlay-content",J8="dx-overlay-shader",nC="dx-inner-overlay",Ap="dx-state-invisible",Q8="content",eL="dx-rtl",fv=[],Op="dx-prevent-safari-scrolling",tL="tab";q8(()=>{te.subscribeGlobal(we.getDocument(),Rt.down,e=>{for(var t=fv.length-1;t>=0;t--)if(!fv[t]._proxiedDocumentDownHandler(e))return})});var on=Fi.inherit({_supportedKeys:function(){return re(this.callBase(),{escape:function(){this.hide()}})},_getDefaultOptions:function(){return re(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",wrapperAttr:{},position:re({},$T.center),width:"80vw",minWidth:null,maxWidth:null,height:"80vh",minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,to:{opacity:0,scale:.55},from:{opacity:1,scale:1}}},closeOnOutsideClick:!1,hideOnOutsideClick:!1,copyRootClassesToWrapper:!1,_ignoreCopyRootClassesToWrapperDeprecation:!1,_ignoreElementAttrDeprecation:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",innerOverlay:!1,restorePosition:!0,container:void 0,visualContainer:void 0,hideTopOverlayHandler:()=>{this.hide()},hideOnParentScroll:!1,onPositioned:null,propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0,_fixWrapperPosition:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!rt()},options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}])},_setOptionsByReference:function(){this.callBase(),re(this._optionsByReference,{animation:!0})},$wrapper:function(){return this._$wrapper},_eventBindingTarget:function(){return this._$content},_setDeprecatedOptions(){this.callBase(),re(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.1",alias:"hideOnOutsideClick"}})},ctor:function(e,t){this.callBase(e,t),t&&(t.copyRootClassesToWrapper&&!t._ignoreCopyRootClassesToWrapperDeprecation&&this._logDeprecatedOptionWarning("copyRootClassesToWrapper",{since:"21.2",message:'Use the "wrapperAttr" option instead'}),t.elementAttr&&!t._ignoreElementAttrDeprecation&&this._logDeprecatedOptionWarning("elementAttr",{since:"21.2",message:'Use the "wrapperAttr" option instead'}))},_init:function(){this.callBase(),this._initActions(),this._initHideOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._customWrapperClass=null,this._$wrapper=W("<div>").addClass(Y8),this._$content=W("<div>").addClass(Z8),this._initInnerOverlayClass();var e=this.$element();this.option("copyRootClassesToWrapper")&&this._$wrapper.addClass(e.attr("class")),e.addClass(X8),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),this._toggleViewPortSubscription(!0),this._initHideTopOverlayHandler(this.option("hideTopOverlayHandler")),this._parentsScrollSubscriptionInfo={handler:t=>{this._hideOnParentsScrollHandler(t)}},this.warnPositionAsFunction()},warnPositionAsFunction(){Re(this.option("position"))&&$t.log("W0018")},_initInnerOverlayClass:function(){this._$content.toggleClass(nC,this.option("innerOverlay"))},_initHideTopOverlayHandler:function(e){this._hideTopOverlayHandler=e},_getActionsList:function(){return["onShowing","onShown","onHiding","onHidden","onPositioned","onVisualPositionChanged"]},_initActions:function(){this._actions={};var e=this._getActionsList();le(e,(t,i)=>{this._actions[i]=this._createActionByOption(i,{excludeValidators:["disabled","readOnly"]})||me})},_initHideOnOutsideClickHandler:function(){var e=this;this._proxiedDocumentDownHandler=function(){return e._documentDownHandler(...arguments)}},_areContentDimensionsRendered:function(e){var t,i,r,n=(t=e.contentBoxSize)===null||t===void 0?void 0:t[0];if(n){var a,s;return parseInt(n.inlineSize,10)===((a=this._renderedDimensions)===null||a===void 0?void 0:a.width)&&parseInt(n.blockSize,10)===((s=this._renderedDimensions)===null||s===void 0?void 0:s.height)}var o=e.contentRect;return parseInt(o.width,10)===((i=this._renderedDimensions)===null||i===void 0?void 0:i.width)&&parseInt(o.height,10)===((r=this._renderedDimensions)===null||r===void 0?void 0:r.height)},_initMarkup(){this.callBase(),this._renderWrapperAttributes(),this._initPositionController()},_documentDownHandler:function(e){this._showAnimationProcessing&&this._stopAnimation();var t=W(po.document).is(e.target)||Ba(po.document,e.target),i=W(e.target).closest(".".concat(nC)).length,r=t&&!i&&!(this._$content.is(e.target)||Ba(this._$content.get(0),e.target));return r&&this._shouldHideOnOutsideClick(e)&&this._outsideClickHandler(e),this.option("propagateOutsideClick")},_shouldHideOnOutsideClick:function(e){var{hideOnOutsideClick:t}=this.option();return Re(t)?t(e):t},_outsideClickHandler(e){this.option("shading")&&e.preventDefault(),this.hide()},_getAnonymousTemplateName:function(){return Q8},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new Ss}),this.callBase()},_isTopOverlay:function(){for(var e=this._overlayStack(),t=e.length-1;t>=0;t--){var i=e[t]._findTabbableBounds();if(i.first||i.last)return e[t]===this}return!1},_overlayStack:function(){return fv},_zIndexInitValue:function(){return on.baseZIndex()},_toggleViewPortSubscription:function(e){var t=this;rC.remove(this._viewPortChangeHandle),e&&(this._viewPortChangeHandle=function(){t._viewPortChangeHandler(...arguments)},rC.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._positionController.updateContainer(this.option("container")),this._refresh()},_renderWrapperAttributes(){var{wrapperAttr:e}=this.option(),t=re({},e),i=t.class;delete t.class,this.$wrapper().attr(t).removeClass(this._customWrapperClass).addClass(i),this._customWrapperClass=i},_renderVisibilityAnimate:function(e){return this._stopAnimation(),e?this._show():this._hide()},_getAnimationConfig:function(){return this._getOptionValue("animation",this)},_animateShowing:function(){var e,t,i,r=this,n=(e=this._getAnimationConfig())!==null&&e!==void 0?e:{},a=this._normalizeAnimation(n.show,"to"),s=(t=a==null?void 0:a.start)!==null&&t!==void 0?t:me,o=(i=a==null?void 0:a.complete)!==null&&i!==void 0?i:me;this._animate(a,function(){if(!r._isAnimationPaused){r.option("focusStateEnabled")&&te.trigger(r._focusTarget(),"focus");for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];o.call(r,...u),r._showAnimationProcessing=!1,r._isHidden=!1,r._actions.onShown(),r._toggleSafariScrolling(),r._showingDeferred.resolve()}},function(){if(!r._isAnimationPaused){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];s.call(r,...u),r._showAnimationProcessing=!0}})},_show:function(){if(this._showingDeferred=new pe,this._parentHidden=this._isParentHidden(),this._showingDeferred.done(()=>{delete this._parentHidden}),this._parentHidden)return this._isHidden=!0,this._showingDeferred.resolve();if(this._currentVisible)return new pe().resolve().promise();if(this._currentVisible=!0,this._isHidingActionCanceled)delete this._isHidingActionCanceled,this._showingDeferred.resolve();else{var e=()=>{this._stopAnimation(),this._toggleVisibility(!0),this._$content.css("visibility","hidden"),this._$content.toggleClass(Ap,!1),this._updateZIndexStackPosition(!0),this._positionController.openingHandled(),this._renderContent();var t={cancel:!1};this._actions.onShowing(t),t.cancel?(this._toggleVisibility(!1),this._$content.css("visibility",""),this._$content.toggleClass(Ap,!0),this._isShowingActionCanceled=!0,this._moveFromContainer(),this.option("visible",!1),this._showingDeferred.resolve()):(this._$content.css("visibility",""),this._renderVisibility(!0),this._animateShowing())};this.option("templatesRenderAsynchronously")?(this._stopShowTimer(),this._asyncShowTimeout=setTimeout(e)):e()}return this._showingDeferred.promise()},_normalizeAnimation:function(e,t){return e&&(e=re({type:"slide",skipElementInitialStyles:!0},e),Ge(e[t])&&re(e[t],{position:this._positionController.position})),e},_animateHiding:function(){var e,t,i,r=this,n=(e=this._getAnimationConfig())!==null&&e!==void 0?e:{},a=this._normalizeAnimation(n.hide,"from"),s=(t=a==null?void 0:a.start)!==null&&t!==void 0?t:me,o=(i=a==null?void 0:a.complete)!==null&&i!==void 0?i:me;this._animate(a,function(){var l;r._$content.css("pointerEvents",""),r._renderVisibility(!1);for(var u=arguments.length,d=new Array(u),c=0;c<u;c++)d[c]=arguments[c];o.call(r,...d),r._hideAnimationProcessing=!1,(l=r._actions)===null||l===void 0||l.onHidden(),r._hidingDeferred.resolve()},function(){r._$content.css("pointerEvents","none");for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];s.call(r,...u),r._hideAnimationProcessing=!0})},_hide:function(){if(!this._currentVisible)return new pe().resolve().promise();this._currentVisible=!1,this._hidingDeferred=new pe;var e={cancel:!1};return this._isShowingActionCanceled?this._hidingDeferred.resolve():(this._actions.onHiding(e),this._toggleSafariScrolling(),e.cancel?(this._isHidingActionCanceled=!0,this.option("visible",!0),this._hidingDeferred.resolve()):(this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._stopShowTimer(),this._animateHiding())),this._hidingDeferred.promise()},_forceFocusLost:function(){var e=we.getActiveElement(),t=!!this._$content.find(e).length;t&&ll()},_animate:function(e,t,i){e?(i=i||e.start||me,fi.animate(this._$content,re({},e,{start:i,complete:t}))):t()},_stopAnimation:function(){fi.stop(this._$content,!0)},_renderVisibility:function(e){e&&this._isParentHidden()||(this._currentVisible=e,this._stopAnimation(),e||UP(this._$content),e?(this._moveToContainer(),this._renderGeometry(),lc(this._$content),Cn(this._$content)):(this._toggleVisibility(e),this._$content.toggleClass(Ap,!e),this._updateZIndexStackPosition(e),this._moveFromContainer()),this._toggleShading(e),this._toggleSubscriptions(e))},_updateZIndexStackPosition:function(e){var t=this._overlayStack(),i=t.indexOf(this);e?(i===-1&&(this._zIndex=NT(this._zIndexInitValue()),t.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):i!==-1&&(t.splice(i,1),cv(this._zIndex))},_toggleShading:function(e){this._$wrapper.toggleClass(J8,e&&this.option("shading")),this._$wrapper.css("backgroundColor",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(e&&this.option("shading"))},_initTabTerminatorHandler:function(){var e=this;this._proxiedTabTerminatorHandler=function(){e._tabKeyHandler(...arguments)}},_toggleTabTerminator:function(e){var t=xe("keydown",this.NAME);e?te.on(we.getDocument(),t,this._proxiedTabTerminatorHandler):te.off(we.getDocument(),t,this._proxiedTabTerminatorHandler)},_findTabbableBounds:function(){for(var e=this._$wrapper.find("*"),t=e.length-1,i={first:null,last:null},r=0;r<=t&&(!i.first&&e.eq(r).is(Ty)&&(i.first=e.eq(r)),!i.last&&e.eq(t-r).is(Ty)&&(i.last=e.eq(t-r)),!(i.first&&i.last));r++);return i},_tabKeyHandler:function(e){if(!(hi(e)!==tL||!this._isTopOverlay())){var t=this._findTabbableBounds(),i=t.first,r=t.last,n=!e.shiftKey&&e.target===r.get(0),a=e.shiftKey&&e.target===i.get(0),s=t.length===0,o=!Ba(this._$wrapper.get(0),e.target);if(n||a||s||o){e.preventDefault();var l=e.shiftKey?r:i;te.trigger(l,"focusin"),te.trigger(l,"focus")}}},_toggleSubscriptions:function(e){rt()&&(this._toggleHideTopOverlayCallback(e),this._toggleHideOnParentsScrollSubscription(e))},_toggleHideTopOverlayCallback:function(e){this._hideTopOverlayHandler&&(e?tC.add(this._hideTopOverlayHandler):tC.remove(this._hideTopOverlayHandler))},_toggleHideOnParentsScrollSubscription:function(e){var t,i=xe("scroll",this.NAME),{prevTargets:r,handler:n}=(t=this._parentsScrollSubscriptionInfo)!==null&&t!==void 0?t:{};te.off(r,i,n);var a=this.option("hideOnParentScroll");if(e&&a){var s=this._hideOnParentScrollTarget().parents();Ne.real().deviceType==="desktop"&&(s=s.add(po)),te.on(s,i,n),this._parentsScrollSubscriptionInfo.prevTargets=s}},_hideOnParentsScrollHandler:function(e){var t=!1,i=this.option("hideOnParentScroll");Re(i)&&(t=i(e)),!t&&!this._showAnimationProcessing&&this.hide()},_hideOnParentScrollTarget:function(){return this._$wrapper},_render:function(){this.callBase(),this._appendContentToElement(),this._renderVisibilityAnimate(this.option("visible"))},_appendContentToElement:function(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())},_renderContent:function(){var e=!this._currentVisible&&this.option("deferRendering"),t=this.option("visible")&&this._isParentHidden();if(t){this._isHidden=!0;return}this._contentAlreadyRendered||e||(this._contentAlreadyRendered=!0,this._appendContentToElement(),this.callBase())},_isParentHidden:function(){if(!this.option("_checkParentVisibility"))return!1;if(this._parentHidden!==void 0)return this._parentHidden;var e=this.$element().parent();if(e.is(":visible"))return!1;var t=!1;return e.add(e.parents()).each(function(){var i=W(this);if(i.css("display")==="none")return t=!0,!1}),t||!we.getBody().contains(e.get(0))},_renderContentImpl:function(){var e=new pe,t=this.option("contentTemplate"),i=this._getTemplate(t),r=this._templateManager.anonymousTemplateName===t;return i&&i.render({container:qe(this.$content()),noModel:!0,transclude:r,onRendered:()=>{e.resolve()}}),this._renderScrollTerminator(),e.done(()=>{this.option("visible")&&this._moveToContainer()}),e.promise()},_getPositionControllerConfig(){var{container:e,visualContainer:t,_fixWrapperPosition:i,restorePosition:r}=this.option();return{container:e,visualContainer:t,$root:this.$element(),$content:this._$content,$wrapper:this._$wrapper,onPositioned:this._actions.onPositioned,onVisualPositionChanged:this._actions.onVisualPositionChanged,restorePosition:r,_fixWrapperPosition:i}},_initPositionController(){this._positionController=new U_(this._getPositionControllerConfig())},_renderScrollTerminator:function(){var e=this._$wrapper,t=xe(Ha,this.NAME);te.off(e,t),te.on(e,t,{validate:function(){return!0},getDirection:function(){return"both"},_toggleGestureCover:function(i){i||this._toggleGestureCoverImpl(i)},_clearSelection:me,isNative:!0},i=>{var r=i.originalEvent.originalEvent,{type:n}=r||{},a=n==="wheel",s=n==="mousemove",o=a&&!Pi(i);i._cancelPreventDefault=!0,r&&i.cancelable!==!1&&(!s&&!a||o)&&i.preventDefault()})},_moveFromContainer:function(){this._$content.appendTo(this.$element()),this._detachWrapperToContainer()},_detachWrapperToContainer:function(){this._$wrapper.detach()},_moveToContainer:function(){this._$wrapper.appendTo(this._positionController.$container),this._$content.appendTo(this._$wrapper)},_renderGeometry:function(e){var{visible:t}=this.option();t&&rt()&&(this._stopAnimation(),this._renderGeometryImpl())},_renderGeometryImpl:function(){this._positionController.updatePosition(this._getOptionValue("position")),this._renderWrapper(),this._renderDimensions(),this._renderPosition()},_renderPosition(){this._positionController.positionContent()},_isAllWindowCovered:function(){return wi(this._positionController.$visualContainer.get(0))&&this.option("shading")},_toggleSafariScrolling:function(){var e=this.option("visible"),t=W(we.getBody()),i=Ne.real().platform==="ios"&&Qt.safari,r=this._isAllWindowCovered(),n=t.hasClass(Op),a=!n&&e&&r,s=n&&(!e||!r||this._disposed);i&&(s?(t.removeClass(Op),po.scrollTo(0,this._cachedBodyScrollTop),this._cachedBodyScrollTop=void 0):a&&(this._cachedBodyScrollTop=po.pageYOffset,t.addClass(Op)))},_renderWrapper:function(){this._positionController.styleWrapperPosition(),this._renderWrapperDimensions(),this._positionController.positionWrapper()},_renderWrapperDimensions:function(){var e=this._positionController.$visualContainer,t=we.getDocumentElement(),i=wi(e.get(0)),r=i?t.clientWidth:At(e),n=i?po.innerHeight:Ct(e);this._$wrapper.css({width:r,height:n})},_renderDimensions:function(){var e=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",e),maxWidth:this._getOptionValue("maxWidth",e),minHeight:this._getOptionValue("minHeight",e),maxHeight:this._getOptionValue("maxHeight",e),width:this._getOptionValue("width",e),height:this._getOptionValue("height",e)})},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){this._keyboardListenerId=Pa.on(this._$content,null,e=>this._keyboardHandler(e))},_keyboardHandler:function(e){var t=e.originalEvent,i=W(t.target);(i.is(this._$content)||!this.option("ignoreChildEvents"))&&this.callBase(...arguments)},_isVisible:function(){return this.option("visible")},_visibilityChanged:function(e){e?this.option("visible")&&this._renderVisibilityAnimate(e):this._renderVisibilityAnimate(e)},_dimensionChanged:function(){this._renderGeometry()},_clean:function(){var e=this.option();!this._contentAlreadyRendered&&!e.isRenovated&&this.$content().empty(),this._renderVisibility(!1),this._stopShowTimer(),this._cleanFocusState()},_stopShowTimer(){this._asyncShowTimeout&&clearTimeout(this._asyncShowTimeout),this._asyncShowTimeout=null},_dispose:function(){fi.stop(this._$content,!1),clearTimeout(this._deferShowTimer),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._actions=null,this._parentsScrollSubscriptionInfo=null,this.callBase(),this._toggleSafariScrolling(),this.option("visible")&&cv(this._zIndex),this._$wrapper.remove(),this._$content.remove()},_toggleRTLDirection:function(e){this._$content.toggleClass(eL,e)},_optionChanged:function(e){var t=e.value;if(this._getActionsList().includes(e.name)){this._initActions();return}switch(e.name){case"animation":break;case"shading":this._toggleShading(this.option("visible")),this._toggleSafariScrolling();break;case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"height":this._renderGeometry();break;case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":this._renderGeometry();break;case"position":this._positionController.updatePosition(this.option("position")),this._positionController.restorePositionOnNextRender(!0),this._renderGeometry(),this._toggleSafariScrolling();break;case"visible":this._renderVisibilityAnimate(t).done(()=>{this._animateDeferred&&this._animateDeferred.resolveWith(this)});break;case"container":this._positionController.updateContainer(t),this._invalidate(),this._toggleSafariScrolling();break;case"visualContainer":this._positionController.updateVisualContainer(t),this._renderWrapper(),this._toggleSafariScrolling();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(e.value),this._toggleHideTopOverlayCallback(this.option("visible"));break;case"hideOnParentScroll":this._toggleHideOnParentsScrollSubscription(this.option("visible"));break;case"closeOnOutsideClick":case"hideOnOutsideClick":case"propagateOutsideClick":break;case"rtlEnabled":this._contentAlreadyRendered=!1,this.callBase(e);break;case"_fixWrapperPosition":this._positionController.fixWrapperPosition=t;break;case"wrapperAttr":this._renderWrapperAttributes();break;case"restorePosition":this._positionController.restorePosition=e.value;break;default:this.callBase(e)}},toggle:function(e){e=e===void 0?!this.option("visible"):e;var t=new pe;if(e===this.option("visible"))return t.resolveWith(this,[e]).promise();var i=new pe;return this._animateDeferred=i,this.option("visible",e),i.promise().done(()=>{delete this._animateDeferred,t.resolveWith(this,[this.option("visible")])}),t.promise()},$content:function(){return this._$content},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return qe(this._$content)},repaint:function(){this._contentAlreadyRendered?(this._positionController.restorePositionOnNextRender(!0),this._renderGeometry({forceStopAnimation:!0}),Cn(this._$content)):this.callBase()}});on.baseZIndex=e=>j8(e);yt("dxOverlay",on);var iL="dx-loadpanel",rL="dx-loadpanel-wrapper",aC="dx-loadpanel-indicator",sC="dx-loadpanel-message",nL="dx-loadpanel-content",aL="dx-loadpanel-content-wrapper",sL="dx-loadpanel-pane-hidden",uf=on.inherit({_supportedKeys:function(){return re(this.callBase(),{escape:me})},_getDefaultOptions:function(){return re(this.callBase(),{message:_e.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,templatesRenderAsynchronously:!1,hideTopOverlayHandler:null,focusStateEnabled:!1,propagateOutsideClick:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:function(){return xi()},options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}}])},_init:function(){this.callBase.apply(this,arguments)},_render:function(){this.callBase(),this.$element().addClass(iL),this.$wrapper().addClass(rL)},_renderContentImpl:function(){this.callBase(),this.$content().addClass(nL),this._$loadPanelContentWrapper=W("<div>").addClass(aL),this._$loadPanelContentWrapper.appendTo(this.$content()),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()},_show:function(){var e=this.option("delay");if(!e)return this.callBase();var t=new pe,i=this.callBase.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout(function(){i().done(function(){t.resolve()})},e),t.promise()},_hide:function(){return this._clearShowTimeout(),this.callBase()},_clearShowTimeout:function(){clearTimeout(this._showTimeout)},_renderMessage:function(){if(this._$loadPanelContentWrapper){var e=this.option("message");if(e){var t=W("<div>").addClass(sC).text(e);this._$loadPanelContentWrapper.append(t)}}},_renderLoadIndicator:function(){!this._$loadPanelContentWrapper||!this.option("showIndicator")||(this._$indicator||(this._$indicator=W("<div>").addClass(aC).appendTo(this._$loadPanelContentWrapper)),this._createComponent(this._$indicator,Ir,{indicatorSrc:this.option("indicatorSrc")}))},_cleanPreviousContent:function(){this.$content().find("."+sC).remove(),this.$content().find("."+aC).remove(),delete this._$indicator},_togglePaneVisible:function(){this.$content().toggleClass(sL,!this.option("showPane"))},_optionChanged:function(e){switch(e.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._renderLoadIndicator();break;default:this.callBase(e)}},_dispose:function(){this._clearShowTimeout(),this.callBase()}});yt("dxLoadPanel",uf);var oL=["year","month","day"],lL=["year","month","day","hour","minute"],pv=function(e){return e==="date"||e==="datetime"},Dp=function(e){var t,i=[],r=["year","month","day","hour","minute","second"],n=e.headerFilter&&e.headerFilter.groupInterval,a=n==="quarter"?"month":n;if(pv(e.dataType)&&n!==null)return i=e.dataType==="datetime"?lL:oL,t=r.indexOf(a),t>=0&&(i=r.slice(0,t),i.push(n)),i;if(Z(n))return Array.isArray(n)?n:[n]};const Qo=function(){var e=function(n,a){var s=n.dataField||n.selector;return a==="search"&&(s=n.displayField||n.calculateDisplayValue||s),s},t=function(n,a){var s,o,l,u=e(this,a);if(Array.isArray(n)&&Z(n[0])&&Z(n[1]))return o=[u,">=",n[0]],l=[u,"<=",n[1]],pv(this.dataType)&&(d=n[1],d.getHours()+d.getMinutes()+d.getSeconds()+d.getMilliseconds()<1)&&(s=new Date(n[1].getTime()),this.dataType==="date"&&s.setDate(n[1].getDate()+1),l=[u,"<",s]),[o,"and",l];var d},i=function(n,a,s){var o,l,u,d=function(h){return tr(h)?[h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds()]:Si((""+h).split("/"),function(f,p){return p===1?Number(f)-1:Number(f)})}(n),c=e(this,s);switch(s==="headerFilter"?u=Dp(this)[d.length-1]:this.dataType==="datetime"&&(u="minute"),u){case"year":o=new Date(d[0],0,1),l=new Date(d[0]+1,0,1);break;case"month":o=new Date(d[0],d[1],1),l=new Date(d[0],d[1]+1,1);break;case"quarter":o=new Date(d[0],3*d[1],1),l=new Date(d[0],3*d[1]+3,1);break;case"hour":o=new Date(d[0],d[1],d[2],d[3]),l=new Date(d[0],d[1],d[2],d[3]+1);break;case"minute":o=new Date(d[0],d[1],d[2],d[3],d[4]),l=new Date(d[0],d[1],d[2],d[3],d[4]+1);break;case"second":o=new Date(d[0],d[1],d[2],d[3],d[4],d[5]),l=new Date(d[0],d[1],d[2],d[3],d[4],d[5]+1);break;default:o=new Date(d[0],d[1],d[2]),l=new Date(d[0],d[1],d[2]+1)}switch(a){case"<":return[c,"<",o];case"<=":return[c,"<",l];case">":return[c,">=",l];case">=":return[c,">=",o];case"<>":return[[c,"<",o],"or",[c,">=",l]];default:return[[c,">=",o],"and",[c,"<",l]]}},r=function(n,a,s){var o=e(this,s),l=Dp(this);if(s==="headerFilter"&&l&&Z(n)){var u=(""+n).split("/"),d=Number(u[u.length-1]),c=l[u.length-1],h=[o,">=",d],f=[o,"<",d+c],p=[h,"and",f];return p}return[o,a||"=",n]};return{defaultCalculateFilterExpression:function(n,a,s){var o=this,l=e(o,s),u=o.calculateDisplayValue&&s==="search",d=u&&o.lookup&&o.lookup.dataType||o.dataType,c=null;if((s==="headerFilter"||s==="filterBuilder")&&n===null)c=[l,a||"=",null],d==="string"&&(c=[c,a==="="?"or":"and",[l,a||"=",""]]);else if(d==="string"&&(!o.lookup||u))c=[l,a||"contains",n];else{if(a==="between")return t.apply(o,[n,s]);if(pv(d)&&Z(n))return i.apply(o,arguments);if(d==="number")return r.apply(o,arguments);c=[l,a||"=",n]}return c},getGroupInterval:Dp}}();var uL=On.add,HT="DEVEXTREME_XHR_ERROR_UNLOAD",dL=function(e){return[e[0],e.length<3?"=":String(e[1]).toLowerCase(),e.length<2?!0:e[e.length-1]]},ra=function(e){return Array.isArray(e)||(e=[e]),Si(e,function(t){var i={selector:Re(t)||typeof t=="string"?t:t.getter||t.field||t.selector,desc:!!(t.desc||String(t.dir).charAt(0).toLowerCase()==="d")};return t.compare&&(i.compare=t.compare),i})},hL=function(){var e={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"},t;return uL(function(){var i=at();we.listen(i,"beforeunload",function(){t=!0})}),function(i,r){return t?HT:i.status<400?function(n){var a=e[n];return a||n}(r):i.statusText}}(),G_={count:{seed:0,step:function(e){return 1+e}},sum:{seed:0,step:function(e,t){return e+t}},min:{step:function(e,t){return t<e?t:e}},max:{step:function(e,t){return t>e?t:e}},avg:{seed:[0,0],step:function(e,t){return[e[0]+t,e[1]+1]},finalize:function(e){return e[1]?e[0]/e[1]:NaN}}},cL=function(){var e=0,t;return{obtain:function(){e===0&&(t=new pe),e++},release:function(){e--,e<1&&t.resolve()},promise:function(){var i=e===0?new pe().resolve():t;return i.promise()},reset:function(){e=0,t&&t.resolve()}}}();function fL(e){return/^(and|&&|&)$/i.test(e)}var Yu=function(e,t,i){if(Array.isArray(e)){for(var r=Si(t,function(s,o){return o}),n,a=0;a<r.length;a++)if(n=r[a],!ni(t[n],i[n],0,!1))return!1;return!0}return ni(t,i,0,!1)},pL=function(e){return e[0]==="!"&&Array.isArray(e[1])},mL=function(e){return e==="and"||e==="or"},gL=function(e){var t=e[0],i=e[1];return!!(Array.isArray(t)||Re(t)&&(Array.isArray(i)||Re(i)||mL(i)))},Ho=function(){var e=new pe;return e.resolve.apply(e,arguments).promise()},zT=function(){var e=new pe;return e.reject.apply(e,arguments).promise()};function vL(e,t){var i,r;return function(){return r=arguments,i||(i=setTimeout(()=>{i=void 0,r&&e.call(this,r)},Re(t)?t():t)),i}}function _L(e,t){var i=[],r=vL(function(){e.call(this,i),i=[]},t);return function(n){return Array.isArray(n)&&i.push(...n),r.call(this,i)}}var Gl=["millisecond","second","minute","hour","day","week","month","quarter","year"],K_=function e(t){switch(t){case"millisecond":return 1;case"second":return 1e3*e("millisecond");case"minute":return 60*e("second");case"hour":return 60*e("minute");case"day":return 24*e("hour");case"week":return 7*e("day");case"month":return 30*e("day");case"quarter":return 3*e("month");case"year":return 365*e("day");default:return 0}},bL=function(e,t,i){var r=t.getTime()-e.getTime(),n=K_(i)||1;return Math.floor(r/n)},yL=function(e,t){var i=df(e);switch(i){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return t?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},WT=function(e){var t,i,r,n=["millisecond","second","minute","hour","day","month","year"],a={};for(t=n.length-1;t>=0;t--)r=n[t],i=Math.floor(e/K_(r)),i>0&&(a[r+"s"]=i,e-=gc(r,i));return a},CL=function(e){var t=0;return Ge(e)&&le(e,function(i,r){t+=gc(i.substr(0,i.length-1),r)}),Ue(e)&&(t=gc(e,1)),t};function gc(e,t){return K_(e)*t}function df(e){var t=-1,i;return Ue(e)?e:Ge(e)?(le(e,function(r,n){for(i=0;i<Gl.length;i++)n&&(r===Gl[i]+"s"||r===Gl[i])&&t<i&&(t=i)}),Gl[t]):""}var wL={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"};function xL(e){return wL[df(e)]||""}var jT=function(e){return Math.floor(e/3)},UT=function(e){return 3*jT(e)};function GT(e,t,i,r){e=new Date(e.getTime());var n=new Date(e.getTime()),a,s,o=df(t);switch(o){case"second":e=new Date(1e3*Math.floor(n.getTime()/1e3));break;case"minute":e=new Date(6e4*Math.floor(n.getTime()/6e4));break;case"hour":e=new Date(36e5*Math.floor(n.getTime()/36e5));break;case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0,0,0,0);break;case"week":e=JT(e,r||0),e.setHours(0,0,0,0);break;case"quarter":a=UT(e.getMonth()),s=e.getMonth(),e.setDate(1),e.setHours(0,0,0,0),s!==a&&e.setMonth(a)}return i&&o!=="hour"&&o!=="minute"&&o!=="second"&&e2(n,e),e}function KT(e){return GT(e,"day")}var SL=function(e){var t=KT(e);return t.setDate(t.getDate()+1),new Date(t.getTime()-1)},EL=function(e,t){var i=0,r={year:e.getFullYear()!==t.getFullYear(),month:e.getMonth()!==t.getMonth(),day:e.getDate()!==t.getDate(),hour:e.getHours()!==t.getHours(),minute:e.getMinutes()!==t.getMinutes(),second:e.getSeconds()!==t.getSeconds(),millisecond:e.getMilliseconds()!==t.getMilliseconds()};return le(r,function(n,a){a&&i++}),i===0&&t2(e,t)!==0&&(r.hour=!0,i++),r.count=i,r};function qT(e,t,i){var r=new Date(e.getTime()),n=Ue(t)?YT(t.toLowerCase()):Kt(t)?WT(t):t;return n.years&&r.setFullYear(r.getFullYear()+n.years*i),n.quarters&&r.setMonth(r.getMonth()+3*n.quarters*i),n.months&&r.setMonth(r.getMonth()+n.months*i),n.weeks&&r.setDate(r.getDate()+7*n.weeks*i),n.days&&r.setDate(r.getDate()+n.days*i),n.hours&&r.setTime(r.getTime()+36e5*n.hours*i),n.minutes&&r.setTime(r.getTime()+6e4*n.minutes*i),n.seconds&&r.setTime(r.getTime()+1e3*n.seconds*i),n.milliseconds&&r.setTime(r.getTime()+n.milliseconds*i),r}var XT=function(e,t,i){var r=i?-1:1;return tr(e)?qT(e,t,r):fI(e+t*r,t)},IL=function(e,t,i){var r=[],n;for(r.push(tr(e)?new Date(e.getTime()):e),n=e;n<t;)n=XT(n,i),r.push(n);return r},TL=function(e,t){if(e==="month")return Er(t.getFullYear(),t.getMonth(),1);if(e==="year")return Er(t.getFullYear(),0,t.getDate());if(e==="decade")return Er(Ju(t),t.getMonth(),t.getDate());if(e==="century")return Er(Zu(t),t.getMonth(),t.getDate())},AL=function(e,t){if(e==="month")return Er(t.getFullYear(),t.getMonth(),vc(t));if(e==="year")return Er(t.getFullYear(),11,t.getDate());if(e==="decade")return Er(Ju(t)+9,t.getMonth(),t.getDate());if(e==="century")return Er(Zu(t)+90,t.getMonth(),t.getDate())},OL=function(e,t){var i=Er(t.getFullYear(),t.getMonth(),1);return e==="month"||(i.setMonth(0),e==="year")||(e==="decade"&&i.setFullYear(Ju(t)),e==="century"&&i.setFullYear(Zu(t))),i},DL=function(e,t){var i=new Date(t);return i.setDate(vc(t)),e==="month"||(i.setMonth(11),i.setDate(vc(i)),e==="year")||(e==="decade"&&i.setFullYear(Ju(t)+9),e==="century"&&i.setFullYear(Zu(t)+99)),i};function vc(e){var t=Er(e.getFullYear(),e.getMonth()+1,0);return t.getDate()}var RL=function(e){switch(e){case"month":return"year";case"year":return"decade";case"decade":return"century"}},kL=function(e){switch(e){case"century":return"decade";case"decade":return"year";case"year":return"month"}},ML=function(e){var t=1;return e==="year"&&(t=12),e==="decade"&&(t=120),e==="century"&&(t=1200),t},BL=function(e){var t=1;return e==="decade"&&(t=12),e==="century"&&(t=120),t};function YT(e){var t={};switch(e){case"year":t.years=1;break;case"month":t.months=1;break;case"quarter":t.months=3;break;case"week":t.weeks=1;break;case"day":t.days=1;break;case"hour":t.hours=1;break;case"minute":t.minutes=1;break;case"second":t.seconds=1;break;case"millisecond":t.milliseconds=1}return t}function PL(e,t){return mv(e,t)&&e.getDate()===t.getDate()}function mv(e,t){return ZT(e,t)&&e.getMonth()===t.getMonth()}function ZT(e,t){return e&&t&&e.getFullYear()===t.getFullYear()}function FL(e,t){return e&&t&&e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()}var LL=function(e,t){if(!(!Z(e)||!Z(t))){var i=e.getFullYear()-e.getFullYear()%10,r=t.getFullYear()-t.getFullYear()%10;return e&&t&&i===r}},NL=function(e,t){if(!(!Z(e)||!Z(t))){var i=e.getFullYear()-e.getFullYear()%100,r=t.getFullYear()-t.getFullYear()%100;return e&&t&&i===r}};function Zu(e){return e&&e.getFullYear()-e.getFullYear()%100}function Ju(e){return e&&e.getFullYear()-e.getFullYear()%10}var VL=function(){return"yyyy/MM/dd"},$L=function(e){if(Z(e))return Er(e.getFullYear(),e.getMonth(),1)},HL=function(e){if(Z(e))return Er(e.getFullYear(),e.getMonth()+1,0)};function JT(e,t){var i=(e.getDay()-t+7)%7,r=new Date(e);return r.setDate(e.getDate()-i),r}var zL=function(e,t){var i=Ke.getDatesInterval(e,t,"day"),r=new Date(e);return i>=6&&(r=new Date(r.setDate(r.getDate()+7))),r},WL=function(e,t,i,r){return r==="date"&&(t=t&&Ke.correctDateWithUnitBeginning(t,"day"),i=i&&Ke.correctDateWithUnitBeginning(i,"day"),e=e&&Ke.correctDateWithUnitBeginning(e,"day")),QT(e,t,i)===e},jL=function(e){var{firstMin:t,firstMax:i,secondMin:r,secondMax:n}=e;return t<=r&&r<=i||t>r&&t<n||t<n&&i>n},UL=function(e){var t=Math.floor(e),i=e%1*60;return{hours:t,minutes:i}},GL=function(e,t){var i=this.dateTimeFromDecimal(t),r=new Date(e);return(e.getHours()===i.hours&&e.getMinutes()<i.minutes||e.getHours()<i.hours)&&r.setHours(i.hours,i.minutes,0,0),r};function QT(e,t,i){var r=e;return Z(e)?(Z(t)&&e<t&&(r=t),Z(i)&&e>i&&(r=i),r):e}function e2(e,t){if(Z(e)){var i=t.getHours()-e.getHours();if(i!==0){var r=i===1||i===-23?-1:1,n=new Date(t.getTime()+36e5*r);(r>0||n.getDate()===t.getDate())&&t.setTime(n.getTime())}}}var KL=function(e){var t=new Date(e.getTime());return t.setHours(t.getHours()+1),t.setMinutes(0),t};function t2(e,t){return 60*(t.getTimezoneOffset()-e.getTimezoneOffset())*1e3}var qL=function(e){return new Date(e)},XL=function(e,t,i){for(var r=[],n=new Date(e.getTime());n<t;)r.push(new Date(n.getTime())),n=this.addInterval(n,i);return r},Er=function(e){var t=new Date(...arguments);return t.setFullYear(e),t},Ke={dateUnitIntervals:Gl,convertMillisecondsToDateUnits:WT,dateToMilliseconds:CL,getNextDateUnit:yL,convertDateUnitToMilliseconds:gc,getDateUnitInterval:df,getDateFormatByTickInterval:xL,getDatesDifferences:EL,correctDateWithUnitBeginning:GT,trimTime:KT,setToDayEnd:SL,roundDateByStartDayHour:GL,dateTimeFromDecimal:UL,addDateInterval:qT,addInterval:XT,getSequenceByInterval:IL,getDateIntervalByString:YT,sameHoursAndMinutes:FL,sameDate:PL,sameMonthAndYear:mv,sameMonth:mv,sameYear:ZT,sameDecade:LL,sameCentury:NL,getDifferenceInMonth:ML,getDifferenceInMonthForCells:BL,getFirstYearInDecade:Ju,getFirstDecadeInCentury:Zu,getShortDateFormat:VL,getViewFirstCellDate:TL,getViewLastCellDate:AL,getViewDown:kL,getViewUp:RL,getLastMonthDay:vc,getLastMonthDate:HL,getFirstMonthDate:$L,getFirstWeekDate:JT,normalizeDateByWeek:zL,getQuarter:jT,getFirstQuarterMonth:UT,dateInRange:WL,intervalsOverlap:jL,roundToHour:KL,normalizeDate:QT,getViewMinBoundaryDate:OL,getViewMaxBoundaryDate:DL,fixTimezoneGap:e2,getTimezonesDifference:t2,makeDate:qL,getDatesInterval:bL,getDatesOfInterval:XL,createDateWithFullYear:Er};Ke.sameView=function(e,t,i){return Ke[yu("same "+e)](t,i)};const i2=Ur({format:function(e,t){var i=Ue(t)&&t!==""||ft(t)||Re(t),r=Kt(e)||tr(e);if(!i||!r)return Z(e)?e.toString():"";if(Re(t))return t(e);if(Ue(t)&&(t={type:t}),Kt(e))return Wt.format(e,t);if(tr(e))return ut.format(e,t)},getTimeFormat:function(e){return e?"longtime":"shorttime"},_normalizeFormat:function(e){return Array.isArray(e)?e.length===1?e[0]:function(t){return e.map(function(i){return ut.format(t,i)}).join(" ")}:e},getDateFormatByDifferences:function(e,t){var i=[],r=t&&e.millisecond&&!(e.year||e.month||e.day);return r?i.push(function(n){return n.getSeconds()+n.getMilliseconds()/1e3+"s"}):e.millisecond&&i.push("millisecond"),(e.hour||e.minute||!r&&e.second)&&i.unshift(this.getTimeFormat(e.second)),e.year&&e.month&&e.day?t&&t==="month"?"monthandyear":(i.unshift("shortdate"),this._normalizeFormat(i)):e.year&&e.month?"monthandyear":e.year&&e.quarter?"quarterandyear":e.year?"year":e.quarter?"quarter":e.month&&e.day?(t?i.unshift(function(n){return ut.getMonthNames("abbreviated")[n.getMonth()]+" "+ut.format(n,"day")}):i.unshift("monthandday"),this._normalizeFormat(i)):e.month?"month":e.day?(t?i.unshift("day"):i.unshift(function(n){return ut.format(n,"dayofweek")+", "+ut.format(n,"day")}),this._normalizeFormat(i)):this._normalizeFormat(i)},getDateFormatByTicks:function(e){var t,i,r;if(e.length>1)for(t=Ke.getDatesDifferences(e[0],e[1]),r=1;r<e.length-1;r++)i=Ke.getDatesDifferences(e[r],e[r+1]),t.count<i.count&&(t=i);else t={year:!0,month:!0,day:!0,hour:e[0].getHours()>0,minute:e[0].getMinutes()>0,second:e[0].getSeconds()>0,millisecond:e[0].getMilliseconds()>0};var n=this.getDateFormatByDifferences(t);return n},getDateFormatByTickInterval:function(e,t,i){var r,n=function(o,l,u){switch(l){case"year":case"quarter":o.month=u;case"month":o.day=u;case"week":case"day":o.hour=u;case"hour":o.minute=u;case"minute":o.second=u;case"second":o.millisecond=u}};i=Ue(i)?i.toLowerCase():i;var a=Ke.getDatesDifferences(e,t);e!==t&&function(o,l,u){!u.getMilliseconds()&&u.getSeconds()?u.getSeconds()-l.getSeconds()===1&&(o.millisecond=!0,o.second=!1):!u.getSeconds()&&u.getMinutes()?u.getMinutes()-l.getMinutes()===1&&(o.second=!0,o.minute=!1):!u.getMinutes()&&u.getHours()?u.getHours()-l.getHours()===1&&(o.minute=!0,o.hour=!1):!u.getHours()&&u.getDate()>1?u.getDate()-l.getDate()===1&&(o.hour=!0,o.day=!1):u.getDate()===1&&u.getMonth()?u.getMonth()-l.getMonth()===1&&(o.day=!0,o.month=!1):!u.getMonth()&&u.getFullYear()&&u.getFullYear()-l.getFullYear()===1&&(o.month=!0,o.year=!1)}(a,e>t?t:e,e>t?e:t),r=Ke.getDateUnitInterval(a),n(a,r,!0),r=Ke.getDateUnitInterval(i||"second"),n(a,r,!1),a[{week:"day"}[r]||r]=!0;var s=this.getDateFormatByDifferences(a);return s}});var Di=o_($t.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"}),YL=null,q_=function(e){var t;(t=YL)===null||t===void 0||t(e)};function ZL(e,t){for(var i,r=typeof t=="string"?t.split():t.slice();r.length;)if(i=r.shift(),i in e)return!0;return!1}function r2(e,t,i,r){var n,a;if(r){for(var s=0;s<t.length;s++)if(n=t[s].items||t[s].collapsedItems||[],a=r2(e,n||[],i,r-1),a)return a}else if(Fs(e,t,i)>=0)return t}function JL(e,t,i,r){return r?r2(e,t,i,r)||[]:t}function QL(e,t){if(e.key()&&(!t._dataByKeyMap||t._dataByKeyMapLength!==t.length)){for(var i={},r=t.length,n=0;n<r;n++)i[JSON.stringify(e.keyOf(t[n]))]=t[n];t._dataByKeyMap=i,t._dataByKeyMapLength=r}}function eN(e,t){if(e._dataByKeyMap)return e._dataByKeyMap[JSON.stringify(t)]}function tN(e,t){return e._dataByKeyMap?e._dataByKeyMap[JSON.stringify(t)]:!0}function n2(e,t,i){e._dataByKeyMap&&(e._dataByKeyMap[JSON.stringify(t)]=i,e._dataByKeyMapLength+=i?1:-1)}function a2(e,t,i){i=i||new WeakMap;var r=e?Object.create(Object.getPrototypeOf(e)):{};e&&i.set(e,r);var n=Ie({},e);vn(r,n,!0,!0);for(var a in n){var s=n[a],o=t==null?void 0:t[a];Ge(s)&&!ft(s)&&Ge(o)&&!i.has(s)&&(r[a]=a2(s,o,i))}for(var l in r){var u=r[l];Ge(u)&&i.has(u)&&(r[l]=i.get(u))}return r}function Da(e,t){var i=a2(e,t);return vn(i,t,!0,!0)}function zo(e){var{keyInfo:t,data:i,changes:r,groupCount:n,useInsertIndex:a,immutable:s,disableCache:o,logError:l}=e,u=s===!0?[...i]:i;return r.forEach(d=>{var c=d.type==="insert"?u:JL(t,u,d.key,n);switch(!o&&QL(t,c),d.type){case"update":X_(t,c,d.key,d.data,!0,s,l);break;case"insert":Y_(t,c,d.data,a&&Z(d.index)?d.index:-1,!0,l);break;case"remove":s2(t,c,d.key,!0,l)}}),u}function _c(e,t,i){return e?t&&Di.log(i):zT(Di.Error(i))}function X_(e,t,i,r,n,a,s){var o,l=e.key();if(l){if(ZL(r,l)&&!Yu(l,i,e.keyOf(r)))return _c(n,s,"E4017");if(o=eN(t,i),!o){var u=Fs(e,t,i);if(u<0)return _c(n,s,"E4009");if(o=t[u],a===!0&&Z(o)){var d=Da(o,r);return t[u]=d,!n&&Ho(d,i)}}}else o=i;if(vn(o,r,!0),!n)return Jt().useLegacyStoreResult?Ho(i,r):Ho(o,i)}function Y_(e,t,i,r,n,a){var s,o=e.key(),l=ft(i)?re({},i):i;if(o){if(s=e.keyOf(l),s===void 0||typeof s=="object"&&jr(s)){if(Array.isArray(o))throw Di.Error("E4007");s=l[o]=String(new Ri)}else if(t[Fs(e,t,s)]!==void 0)return _c(n,a,"E4008")}else s=l;if(r>=0?t.splice(r,0,l):t.push(l),n2(t,s,l),!n)return Ho(Jt().useLegacyStoreResult?i:l,s)}function s2(e,t,i,r,n){var a=Fs(e,t,i);if(a>-1&&(t.splice(a,1),n2(t,i,null)),r){if(a<0)return _c(r,n,"E4009")}else return Ho(i)}function Fs(e,t,i){var r=e.key();if(!tN(t,i))return-1;for(var n=0,a=t.length;n<a;n++)if(Yu(r,e.keyOf(t[n]),i))return n;return-1}var Qu=wt.inherit({toArray:function(){var e=[];for(this.reset();this.next();)e.push(this.current());return e},countable:function(){return!1}}),Z_=Qu.inherit({ctor:function(e){this.array=e,this.index=-1},next:function(){return this.index+1<this.array.length?(this.index++,!0):!1},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),hf=Qu.inherit({ctor:function(e){this.iter=e},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),Rp=hf.inherit({ctor:function(e,t){this.callBase(e),this.index=-1,this.mapper=t},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){var e=this.callBase();return e&&this.index++,e}}),iN=function(e,t){return e=ki(e),t=ki(t),e===null&&t!==null?-1:e!==null&&t===null||e===void 0&&t!==void 0?1:e!==void 0&&t===void 0||e<t?-1:e>t?1:0},gv=Qu.inherit({ctor:function(e,t,i,r){e instanceof Rp||(e=new Rp(e,this._wrap)),this.iter=e,this.rules=[{getter:t,desc:i,compare:r}]},thenBy:function(e,t,i){var r=new gv(this.sortedIter||this.iter,e,t,i);return this.sortedIter||(r.rules=this.rules.concat(r.rules)),r},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){var e=this;e.sortedIter||(le(e.rules,function(){this.getter=jt(this.getter)}),e.sortedIter=new Rp(new Z_(this.iter.toArray().sort(function(t,i){return e._compare(t,i)})),e._unwrap))},_wrap:function(e,t){return{index:t,value:e}},_unwrap:function(e){return e.value},_compare:function(e,t){var i=e.index,r=t.index;if(e=e.value,t=t.value,e===t)return i-r;for(var n=0,a=this.rules.length;n<a;n++){var s=this.rules[n],o=s.getter(e),l=s.getter(t),u=s.compare||iN,d=u(o,l);if(d)return s.desc?-d:d}return i-r}}),vv=function(){var e=function(i){return Z(i)?i.toString():""};function t(i,r,n){return function(a){a=ki(i(a));var s=function(o){return o===""||o===0||o===!1}(r)?a===r:a==r;return n&&(s=!s),s}}return function(i){return Re(i)?i:gL(i)?function(r){var n=[],a=!1,s=!1;return le(r,function(){if(Array.isArray(this)||Re(this)){if(n.length>1&&a!==s)throw new Di.Error("E4019");n.push(vv(this)),a=s,s=!0}else s=fL(this)}),function(o){for(var l=a,u=0;u<n.length;u++)if(n[u](o)!==a){l=!a;break}return l}}(i):pL(i)?function(r){var n=r[0],a=vv(r[1]);if(n==="!")return function(s){return!a(s)};throw Di.Error("E4003",n)}(i):function(r){r=dL(r);var n=jt(r[0]),a=r[1],s=r[2];s=ki(s);var o=(l,u)=>(l=ki(n(l)),(s==null||l==null)&&s!==l?!1:u(l,s));switch(a.toLowerCase()){case"=":return t(n,s);case"<>":return t(n,s,!0);case">":return l=>o(l,(u,d)=>u>d);case"<":return l=>o(l,(u,d)=>u<d);case">=":return l=>o(l,(u,d)=>u>=d);case"<=":return l=>o(l,(u,d)=>u<=d);case"startswith":return function(l){return ki(e(n(l))).indexOf(s)===0};case"endswith":return function(l){var u=ki(e(n(l))),d=e(s);if(u.length<d.length)return!1;var c=u.lastIndexOf(s);return c!==-1&&c===u.length-s.length};case"contains":return function(l){return ki(e(n(l))).indexOf(s)>-1};case"notcontains":return function(l){return ki(e(n(l))).indexOf(s)===-1}}throw Di.Error("E4003",a)}(i)}}(),rN=hf.inherit({ctor:function(e,t){this.callBase(e),this.criteria=vv(t)},next:function(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),nN=Qu.inherit({ctor:function(e,t){this.iter=e,this.getter=t},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){if(!this.groupedIter){var e={},t=[],i=this.iter,r=jt(this.getter);for(i.reset();i.next();){var n=i.current(),a=r(n);a in e?e[a].push(n):(e[a]=[n],t.push(a))}this.groupedIter=new Z_(Si(t,function(s){return{key:s,items:e[s]}}))}}}),aN=hf.inherit({ctor:function(e,t){this.callBase(e),this.getter=jt(t)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),sN=hf.inherit({ctor:function(e,t,i){this.callBase(e),this.skip=Math.max(0,t),this.take=Math.max(0,i),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}}),cf=function e(t,i){i=i||{},t instanceof Qu||(t=new Z_(t));var r=function(u){var d=i.errorHandler;d&&d(u),q_(u)},n=function(u){var d=new pe().fail(r),c,h=u.step,f=u.finalize;try{t.reset(),"seed"in u?c=u.seed:c=t.next()?t.current():NaN;for(var p=c;t.next();)p=h(p,t.current());d.resolve(f?f(p):p)}catch(g){d.reject(g)}return d.promise()},a=function(u){return n(G_[u])},s=function(u){return!Re(u)&&!Array.isArray(u)&&(u=[].slice.call(arguments)),l(new aN(t,u))},o=function(u){return s(jt(u))};function l(u){return e(u,i)}return{toArray:function(){return t.toArray()},enumerate:function(){var u=new pe().fail(r);try{u.resolve(t.toArray())}catch(d){u.reject(d)}return u.promise()},sortBy:function(u,d,c){return l(new gv(t,u,d,c))},thenBy:function(u,d,c){if(t instanceof gv)return l(t.thenBy(u,d,c));throw Di.Error("E4004")},filter:function(u){return Array.isArray(u)||(u=[].slice.call(arguments)),l(new rN(t,u))},slice:function(u,d){return d===void 0&&(d=Number.MAX_VALUE),l(new sN(t,u,d))},select:s,groupBy:function(u){return l(new nN(t,u))},aggregate:function(u,d,c){return arguments.length<2?n({step:arguments[0]}):n({seed:u,step:d,finalize:c})},count:function(){if(t.countable()){var u=new pe().fail(r);try{u.resolve(t.count())}catch(d){u.reject(d)}return u.promise()}return a("count")},sum:function(u){return u?o(u).sum():a("sum")},min:function(u){return u?o(u).min():a("min")},max:function(u){return u?o(u).max():a("max")},avg:function(u){return u?o(u).avg():a("avg")}}};function J_(e,t){return e=e.groupBy(t[0].selector),t.length>1&&(e=e.select(function(i){return re({},i,{items:J_(cf(i.items),t.slice(1)).toArray()})})),e}function o2(e,t){var i=[];return le(e,function(r,n){var a=hr(t,function(s){return n.selector===s.selector});a.length<1&&i.push(n)}),i.concat(t)}function oN(e,t,i){t=t||{};var r=t.filter;if(r&&(e=e.filter(r)),i)return e;var n=t.sort,a=t.select,s=t.group,o=t.skip,l=t.take;return s&&(s=ra(s),s.keepInitialKeyOrder=!!t.group.keepInitialKeyOrder),(n||s)&&(n=ra(n||[]),s&&!s.keepInitialKeyOrder&&(n=o2(s,n)),le(n,function(u){e=e[u?"thenBy":"sortBy"](this.selector,this.desc,this.compare)})),a&&(e=e.select(a)),s&&(e=J_(e,s)),(l||o)&&(e=e.slice(o||0,l)),e}const na={multiLevelGroup:J_,arrangeSortingInfo:o2,queryByOptions:oN};var yl=wt.abstract,oC=na.queryByOptions,_v={},xn=wt.inherit({ctor:function(e){var t=this;e=e||{},this._eventsStrategy=new Gs(this),le(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],function(i,r){r in e&&t.on(r.slice(2).toLowerCase(),e[r])}),this._key=e.key,this._errorHandler=e.errorHandler,this._useDefaultSearch=!0},_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(e){return this._keyGetter||(this._keyGetter=jt(this.key())),this._keyGetter(e)},_requireKey:function(){if(!this.key())throw Di.Error("E4005")},load:function(e){var t=this;return e=e||{},this._eventsStrategy.fireEvent("loading",[e]),this._withLock(this._loadImpl(e)).done(function(i){t._eventsStrategy.fireEvent("loaded",[i,e])})},_loadImpl:function(e){return oC(this.createQuery(e),e).enumerate()},_withLock:function(e){var t=new pe;return e.done(function(){var i=this,r=arguments;cL.promise().done(function(){t.resolveWith(i,r)})}).fail(function(){t.rejectWith(this,arguments)}),t},createQuery:yl,totalCount:function(e){return this._totalCountImpl(e)},_totalCountImpl:function(e){return oC(this.createQuery(e),e,!0).count()},byKey:function(e,t){return this._addFailHandlers(this._withLock(this._byKeyImpl(e,t)))},_byKeyImpl:yl,insert:function(e){var t=this;return t._eventsStrategy.fireEvent("modifying"),t._eventsStrategy.fireEvent("inserting",[e]),t._addFailHandlers(t._insertImpl(e).done(function(i,r){t._eventsStrategy.fireEvent("inserted",[i,r]),t._eventsStrategy.fireEvent("modified")}))},_insertImpl:yl,update:function(e,t){var i=this;return i._eventsStrategy.fireEvent("modifying"),i._eventsStrategy.fireEvent("updating",[e,t]),i._addFailHandlers(i._updateImpl(e,t).done(function(){i._eventsStrategy.fireEvent("updated",[e,t]),i._eventsStrategy.fireEvent("modified")}))},_updateImpl:yl,push:function(e){var t={changes:e,waitFor:[]};this._eventsStrategy.fireEvent("beforePush",[t]),Pe(...t.waitFor).done(()=>{this._pushImpl(e),this._eventsStrategy.fireEvent("push",[e])})},_pushImpl:me,remove:function(e){var t=this;return t._eventsStrategy.fireEvent("modifying"),t._eventsStrategy.fireEvent("removing",[e]),t._addFailHandlers(t._removeImpl(e).done(function(i){t._eventsStrategy.fireEvent("removed",[i]),t._eventsStrategy.fireEvent("modified")}))},_removeImpl:yl,_addFailHandlers:function(e){return e.fail(this._errorHandler).fail(q_)},on(e,t){return this._eventsStrategy.on(e,t),this},off(e,t){return this._eventsStrategy.off(e,t),this}});xn.create=function(e,t){if(!(e in _v))throw Di.Error("E4020",e);return new _v[e](t)};xn.registerClass=function(e,t){return t&&(_v[t]=e),e};xn.inherit=function(e){return function(t,i){var r=e.apply(this,[t]);return xn.registerClass(r,i),r}}(xn.inherit);var l2="totalCount",bv="load",u2="byKey",lC="insert",uC="update",dC="remove";function Wo(e){return e&&Re(e.then)}function Es(e){return new pe().resolve(e).promise()}function su(e,t){if(!Re(t))throw Di.Error("E4011",e)}function d2(e){throw Di.Error("E4012",e)}function cs(e){function t(i){var r=i[0],n=i[1];return!r||!r.getResponseHeader?null:hL(r,n)}return function(i){var r;i instanceof Error?r=i:r=new Error(t(arguments)||i&&String(i)||"Unknown error"),r.message!==HT&&e.reject(r)}}function h2(e,t){var i=e._loadFunc,r;return su(bv,i),r=i.apply(e,[t]),Array.isArray(r)?r=Es(r):r==null?r=Es([]):Wo(r)||d2(bv),Hi(r)}function lN(e,t){var i=e._totalCountFunc,r;if(!Re(i))throw Di.Error("E4021");return r=i.apply(e,[t]),Wo(r)||(r=Number(r),isFinite(r)||d2(l2),r=Es(r)),Hi(r)}function uN(e,t,i){var r=e._byKeyFunc,n;return su(u2,r),n=r.apply(e,[t,i]),Wo(n)||(n=Es(n)),Hi(n)}function c2(e,t,i,r){if(t.__rawData)r(t.__rawData);else{var n=t.__rawDataPromise||h2(t,i);t._cacheRawData&&(t.__rawDataPromise=n),n.always(function(){delete t.__rawDataPromise}).done(function(a){t._cacheRawData&&(t.__rawData=a),r(a)}).fail(cs(e))}}function hC(e,t,i,r){i=i||{};var n={};"userData"in i&&(n.userData=i.userData),c2(e,t,n,function(a){var s=cf(a,{errorHandler:t._errorHandler}),o,l,u=[],d,c;r||(o=na.queryByOptions(s,i),o===s?d=a.slice(0):u.push(o.enumerate().done(function(h){d=h}))),(i.requireTotalCount||r)&&(l=na.queryByOptions(s,i,!0),l===s?c=a.length:u.push(l.count().done(function(h){c=h}))),Pe.apply(W,u).done(function(){r?e.resolve(c):i.requireTotalCount?e.resolve(d,{totalCount:c}):e.resolve(d)}).fail(function(h){e.reject(h)})})}function dN(e,t,i){c2(e,t,{},function(r){for(var n=t.key(),a,s=0,o=r.length;s<o;s++)if(a=r[s],Yu(n,t.keyOf(r[s]),i)){e.resolve(a);return}e.reject(Di.Error("E4009"))})}var Eu=xn.inherit({ctor:function(e){e=e||{},this.callBase(e),this._useDefaultSearch=!!e.useDefaultSearch||e.loadMode==="raw",this._loadMode=e.loadMode,this._cacheRawData=e.cacheRawData!==!1,this._loadFunc=e[bv],this._totalCountFunc=e[l2],this._byKeyFunc=e[u2],this._insertFunc=e[lC],this._updateFunc=e[uC],this._removeFunc=e[dC]},createQuery:function(){throw Di.Error("E4010")},clearRawDataCache:function(){delete this.__rawData},_totalCountImpl:function(e){var t=new pe;return this._loadMode==="raw"&&!this._totalCountFunc?hC(t,this,e,!0):(lN(this,e).done(function(i){t.resolve(Number(i))}).fail(cs(t)),t=this._addFailHandlers(t)),t.promise()},_pushImpl:function(e){this.__rawData&&zo({keyInfo:this,data:this.__rawData,changes:e})},_loadImpl:function(e){var t=new pe;return this._loadMode==="raw"?hC(t,this,e,!1):(h2(this,e).done(function(i,r){t.resolve(i,r)}).fail(cs(t)),t=this._addFailHandlers(t)),t.promise()},_byKeyImpl:function(e,t){var i=new pe;return this._byKeyViaLoad()?(this._requireKey(),dN(i,this,e)):uN(this,e,t).done(function(r){i.resolve(r)}).fail(cs(i)),i.promise()},_byKeyViaLoad:function(){return this._loadMode==="raw"&&!this._byKeyFunc},_insertImpl:function(e){var t=this,i=t._insertFunc,r,n=new pe;return su(lC,i),r=i.apply(t,[e]),Wo(r)||(r=Es(r)),Hi(r).done(function(a){Jt().useLegacyStoreResult?n.resolve(e,a):n.resolve(a||e,t.keyOf(a))}).fail(cs(n)),n.promise()},_updateImpl:function(e,t){var i=this._updateFunc,r,n=new pe;return su(uC,i),r=i.apply(this,[e,t]),Wo(r)||(r=Es(r)),Hi(r).done(function(a){Jt().useLegacyStoreResult?n.resolve(e,t):n.resolve(a||t,e)}).fail(cs(n)),n.promise()},_removeImpl:function(e){var t=this._removeFunc,i,r=new pe;return su(dC,t),i=t.apply(this,[e]),Wo(i)||(i=Es()),Hi(i).done(function(){r.resolve(e)}).fail(cs(r)),r.promise()}});function hN(e){var t=[],i=!1;function r(){for(;t.length;){i=!0;var n=t.shift(),a=n();if(a!==void 0){if(a.then){Pe(a).always(r);return}throw $t.Error("E0015")}}i=!1}return{add:function(n,a){e?(t[0]&&a&&a(t[0]),t=[n]):t.push(n),i||r()},busy:function(){return i}}}function ai(e,t){if(e==null)return{};var i={},r=Object.keys(e),n,a;for(a=0;a<r.length;a++)n=r[a],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var cN=at(),fN={getXhr:function(){return new cN.XMLHttpRequest}};const pN=Ur(fN);var Q_=at(),ou="success",kp="error",mN="timeout",gN="nocontent",vN="parsererror",_N=function(e){return 200<=e&&e<300},bN=function(e){return e!==204},yN=function(e){var t=[];for(var i in e){var r=e[i];r!==void 0&&(r===null&&(r=""),typeof r=="function"&&(r=r()),t.push(encodeURIComponent(i)+"="+encodeURIComponent(r)))}return t.join("&")},f2=function(e){var t=we.createElement("script");for(var i in e)t[i]=e[i];return t},p2=function(e){e.parentNode.removeChild(e)},m2=function(e){return we.getHead().appendChild(e)},cC=function(e){var t=f2({text:e});m2(t),p2(t)},CN=function(e){var t=f2({src:e});return new Promise(function(i,r){var n={load:i,error:r},a=function(o){n[o.type](),p2(t)};for(var s in n)we.listen(t,s,a);m2(t)})},wN=function(e){var t=e.dataType||"*",i="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",r={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:i,script:i};return xB(r,e.accepts,!0),r[t]?r[t]+(t!=="*"?", */*; q=0.01":""):r["*"]},xN=function(e){var t;return e.data&&!e.upload&&e0(e)!=="GET"&&(t="application/x-www-form-urlencoded;charset=utf-8"),e.contentType||t},SN=function(e){return e.responseType&&e.responseType!=="text"||typeof e.responseText!="string"?e.response:e.responseText},EN=function(e,t,i){var r=SN(t);switch(i){case"jsonp":cC(r);break;case"script":cC(r),e.resolve(r,ou,t);break;case"json":try{e.resolve(JSON.parse(r),ou,t)}catch(n){e.reject(t,vN,n)}break;default:e.resolve(r,ou,t)}},IN=function(e){if(!rt())return!0;var t=!1,i=we.createElement("a"),r=we.createElement("a");i.href=Q_.location.href;try{r.href=e,r.href=r.href,t=i.protocol+"//"+i.host!=r.protocol+"//"+r.host}catch{t=!0}return t},TN=function(e,t){return e&&setTimeout(function(){t.customStatus=mN,t.abort()},e)},AN=function(e){if(e.dataType==="jsonp"){var t=Math.random().toString().replace(/\D/g,""),i=e.jsonpCallback||"dxCallback"+Date.now()+"_"+t,r=e.jsonp||"callback";return e.data=e.data||{},e.data[r]=i,i}},ON=function(e,t){var i=e.data,r=typeof i=="string",n=e.url||Q_.location.href;return!r&&!e.cache&&(i=i||{},i._=Date.now()),i&&!e.upload&&(r||(i=yN(i)),e0(e)==="GET"?(i!==""&&(n+=(n.indexOf("?")>-1?"&":"?")+i),i=null):t["Content-Type"]&&t["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(i=i.replace(/%20/g,"+"))),{url:n,parameters:i}};function e0(e){return(e.method||"GET").toUpperCase()}var DN=function(e){var t=e.headers||{};return t["Content-Type"]=t["Content-Type"]||xN(e),t.Accept=t.Accept||wN(e),!e.crossDomain&&!t["X-Requested-With"]&&(t["X-Requested-With"]="XMLHttpRequest"),t},RN=function(e){var t=pN.getXhr(),i=new pe,r=i.promise(),n=Z(e.async)?e.async:!0,a=e.dataType,s=e.timeout||0,o;e.crossDomain=IN(e.url);var l=a==="jsonp"||a==="script";e.cache===void 0&&(e.cache=!l);var u=AN(e),d=DN(e),c=ON(e,d),h=c.url,f=c.parameters;if(u&&(Q_[u]=function(m){i.resolve(m,ou,t)}),e.crossDomain&&l)return CN(h).then(function(){a!=="jsonp"&&i.resolve(null,ou,t)},function(){i.reject(t,kp)}),r;if(e.crossDomain&&!("withCredentials"in t))return i.reject(t,kp),r;if(t.open(e0(e),h,n,e.username,e.password),n&&(t.timeout=s,o=TN(s,t)),t.onreadystatechange=function(m){t.readyState===4&&(clearTimeout(o),_N(t.status)?bN(t.status)?EN(i,t,a):i.resolve(null,gN,t):i.reject(t,t.customStatus||kp))},e.upload&&(t.upload.onprogress=e.upload.onprogress,t.upload.onloadstart=e.upload.onloadstart,t.upload.onabort=e.upload.onabort),e.xhrFields)for(var p in e.xhrFields)t[p]=e.xhrFields[p];e.responseType==="arraybuffer"&&(t.responseType=e.responseType);for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&Z(d[g])&&t.setRequestHeader(g,d[g]);return e.beforeSend&&e.beforeSend(t),t.send(f),r.abort=function(){t.abort()},r};const kN=Ur({sendRequest:RN}),MN={};var BN=function e(t,i,r){r=r||[],i=i||{};var n=function(o,l){return{name:o,args:l}},a=function(o){var l=new pe,u,d,c,h,f,p=function(v){var b=i.errorHandler;b&&b(v),q_(v),l.reject(v)};function g(v){switch(v.name){case"sortBy":return f=[v.args],!0;case"thenBy":if(!f)throw Di.Error("E4004");return f.push(v.args),!0}return!1}try{u=i.adapter,Re(u)||(u=MN[u]),d=u(i),c=[].concat(r).concat(o);var m=d.optimize;for(m&&m(c);c.length;){if(h=c[0],!g(h)){if(f){c.unshift(n("multiSort",[f])),f=null;continue}if(String(h.name)!=="enumerate"&&(!d[h.name]||d[h.name].apply(d,h.args)===!1))break}c.shift()}(function(){var v=c[0],b=[];v&&v.name==="multiSort"&&(c.shift(),le(v.args[0],function(){b.push(n(b.length?"thenBy":"sortBy",this))})),c=b.concat(c)})(),d.exec(t).done(function(v,b){if(!c.length)l.resolve(v,b);else{var y=cf(v,{errorHandler:i.errorHandler});le(c,function(){y=y[this.name].apply(y,this.args)}),y.done(l.resolve).fail(l.reject)}}).fail(p)}catch(v){p(v)}return l.promise()},s={};return le(["sortBy","thenBy","filter","slice","select","groupBy"],function(){var o=String(this);s[o]=function(){return e(t,i,r.concat(n(o,arguments)))}}),le(["count","min","max","sum","avg","aggregate","enumerate"],function(){var o=String(this);s[o]=function(){return a.call(this,n(o,arguments))}}),s},PN={array:cf,remote:BN},cr=function(){var e=Array.isArray(arguments[0])?"array":"remote";return PN[e].apply(this,arguments)},dl=xn.inherit({ctor:function(e){Array.isArray(e)?e={data:e}:e=e||{},this.callBase(e);var t=e.data;if(t&&!Array.isArray(t))throw Di.Error("E4006");this._array=t||[]},createQuery:function(){return cr(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(e){var t=Fs(this,this._array,e);return t===-1?zT(Di.Error("E4009")):Ho(this._array[t])},_insertImpl:function(e){return Y_(this,this._array,e)},_pushImpl:function(e){zo({keyInfo:this,data:this._array,changes:e})},_updateImpl:function(e,t){return X_(this,this._array,e,t)},_removeImpl:function(e){return s2(this,this._array,e)},clear:function(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array"),FN=["items"],g2="canceled",fC=e=>e.state()==="pending",pC=e=>{switch(e.length){case 0:return;case 1:return e[0]}return[].slice.call(e)},LN=(e,t,i)=>Si(e,r=>{var n=ai(r,FN);return Ie({},n,{items:v2(r.items,t-1,i)})}),v2=(e,t,i)=>Array.isArray(e)?t?LN(e,t,i):Si(e,i):e,NN=(e,t,i)=>{var r=i?ra(i).length:0;return v2(e,r,t)},_2=(e,t)=>{var i;return(i=e)!==null&&i!==void 0&&i.data&&(t=e,e=e.data),Array.isArray(e)||(e=[e]),{data:e,extra:t}},VN=e=>{var t={};return le(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],function(){t[this]=e[this],delete e[this]}),new Eu(t)},$N=e=>{var t=e.type;return delete e.type,xn.create(t,e)},HN=(e,t)=>new Eu({load:()=>kN.sendRequest({url:e,dataType:"json"}),loadMode:t==null?void 0:t.fromUrlLoadMode}),hl=(e,t)=>{var i;return typeof e=="string"&&(e={paginate:!1,store:HN(e,t)}),e===void 0&&(e=[]),Array.isArray(e)||e instanceof xn?e={store:e}:e=re({},e),e.store===void 0&&(e.store=[]),i=e.store,"load"in e?i=VN(e):Array.isArray(i)?i=new dl(i):ft(i)&&(i=$N(re({},i))),e.store=i,e};class zN{constructor(){this._counter=-1,this._deferreds={}}add(t){return this._counter++,this._deferreds[this._counter]=t,this._counter}remove(t){return delete this._deferreds[t]}cancel(t){return t in this._deferreds?(this._deferreds[t].reject(g2),!0):!1}cancelAll(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}}var In=wt.inherit({ctor(e){var t;e=hl(e),this._eventsStrategy=new Gs(this,{syncStrategy:!0}),this._store=e.store,this._changedTime=0;var i=e.pushAggregationTimeout!==0;if(i){var r=e.pushAggregationTimeout===void 0?()=>5*this._changedTime:e.pushAggregationTimeout,n,a,s=_L(o=>{n.resolve();var l=Pe(...a);l.done(()=>this._onPush(o)),a=void 0,n=void 0},r);this._onPushHandler=o=>{this._aggregationTimeoutId=s(o.changes),n||(n=new pe),a=o.waitFor,o.waitFor.push(n.promise())},this._store.on("beforePush",this._onPushHandler)}else this._onPushHandler=o=>this._onPush(o),this._store.on("push",this._onPushHandler);this._storeLoadOptions=this._extractLoadOptions(e),this._mapFunc=e.map,this._postProcessFunc=e.postProcess,this._pageIndex=e.pageIndex!==void 0?e.pageIndex:0,this._pageSize=e.pageSize!==void 0?e.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in e?e.searchValue:null,this._searchOperation=e.searchOperation||"contains",this._searchExpr=e.searchExpr,this._paginate=e.paginate,this._reshapeOnPush=(t=e.reshapeOnPush)!==null&&t!==void 0?t:!1,le(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],(o,l)=>{l in e&&this.on(l.substr(2,1).toLowerCase()+l.substr(3),e[l])}),this._operationManager=new zN,this._init()},_init(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,Z(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose(){var e;this._store.off("beforePush",this._onPushHandler),this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),(e=this._delayedLoadTask)===null||e===void 0||e.abort(),this._operationManager.cancelAll(),delete this._store,delete this._items,delete this._delayedLoadTask,this._disposed=!0},_extractLoadOptions(e){var t={},i=["sort","filter","select","group","requireTotalCount"],r=this._store._customLoadOptions();return r&&(i=i.concat(r)),le(i,function(){t[this]=e[this]}),t},loadOptions(){return this._storeLoadOptions},items(){return this._items},pageIndex(e){if(!Kt(e))return this._pageIndex;this._pageIndex=e,this._isLastPage=!this._paginate},paginate(e){if(!Ko(e))return this._paginate;this._paginate!==e&&(this._paginate=e,this.pageIndex(0))},pageSize(e){if(!Kt(e))return this._pageSize;this._pageSize=e},isLastPage(){return this._isLastPage},generateStoreLoadOptionAccessor(e){return t=>{var i=pC(t);if(i===void 0)return this._storeLoadOptions[e];this._storeLoadOptions[e]=i}},sort(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.generateStoreLoadOptionAccessor("sort")(t)},filter(){var e=pC(arguments);if(e===void 0)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=e,this.pageIndex(0)},group(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.generateStoreLoadOptionAccessor("group")(t)},select(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.generateStoreLoadOptionAccessor("select")(t)},requireTotalCount(e){if(!Ko(e))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=e},searchValue(e){if(arguments.length<1)return this._searchValue;this._searchValue=e,this.pageIndex(0)},searchOperation(e){if(!Ue(e))return this._searchOperation;this._searchOperation=e,this.pageIndex(0)},searchExpr(e){var t=arguments.length;if(t===0)return this._searchExpr;t>1&&(e=[].slice.call(arguments)),this._searchExpr=e,this.pageIndex(0)},store(){return this._store},key(){var e;return(e=this._store)===null||e===void 0?void 0:e.key()},totalCount(){return this._totalCount},isLoaded(){return this._isLoaded},isLoading(){return this._loadingCount>0},beginLoading(){this._changeLoadingCount(1)},endLoading(){this._changeLoadingCount(-1)},_createLoadQueue:()=>hN(),_changeLoadingCount(e){var t=this.isLoading();this._loadingCount+=e;var i=this.isLoading();t^i&&this._eventsStrategy.fireEvent("loadingChanged",[i])},_scheduleLoadCallbacks(e){this.beginLoading(),e.always(()=>{this.endLoading()})},_scheduleFailCallbacks(e){var t=this;e.fail(function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];r[0]!==g2&&t._eventsStrategy.fireEvent("loadError",r)})},_fireChanged(e){var t=new Date;this._eventsStrategy.fireEvent("changed",e),this._changedTime=new Date-t},_scheduleChangedCallbacks(e){e.done(()=>this._fireChanged())},loadSingle(e,t){var i=new pe,r=this.key(),n=this._store,a=this._createStoreLoadOptions();return this._scheduleFailCallbacks(i),arguments.length<2&&(t=e,e=r),delete a.skip,delete a.group,delete a.refresh,delete a.pageIndex,delete a.searchString,(()=>e===r||n instanceof Eu&&!n._byKeyViaLoad()?n.byKey(t,a):(a.take=1,a.filter=a.filter?[a.filter,[e,t]]:[e,t],n.load(a)))().fail(i.reject).done(s=>{var o=Array.isArray(s)&&!s.length;!Z(s)||o?i.reject(new Di.Error("E4009")):(Array.isArray(s)||(s=[s]),i.resolve(this._applyMapFunction(s)[0]))}),i.promise()},load(){var e=new pe,t=()=>{if(!this._disposed&&fC(e))return this._loadFromStore(i,e)};this._scheduleLoadCallbacks(e),this._scheduleFailCallbacks(e),this._scheduleChangedCallbacks(e);var i=this._createLoadOperation(e);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[i]),this._loadQueue.add(()=>(typeof i.delay=="number"?this._delayedLoadTask=u_(t,i.delay):t(),e.promise())),e.promise({operationId:i.operationId})},_onPush(e){if(this._reshapeOnPush)this.load();else{var t={changes:e};this._eventsStrategy.fireEvent("changing",[t]);var i=this.group(),r=this.items(),n=0,a=this.paginate()||i?e.filter(s=>s.type==="update"):e;i&&(n=Array.isArray(i)?i.length:1),this._mapFunc&&a.forEach(s=>{s.type==="insert"&&(s.data=this._mapFunc(s.data))}),t.postProcessChanges&&(a=t.postProcessChanges(a)),zo({keyInfo:this.store(),data:r,changes:a,groupCount:n,useInsertIndex:!0}),this._fireChanged([{changes:e}])}},_createLoadOperation(e){var t=this._operationManager.add(e),i=this._createStoreLoadOptions();return e.always(()=>this._operationManager.remove(t)),{operationId:t,storeLoadOptions:i}},reload(){var e=this.store();return e instanceof Eu&&e.clearRawDataCache(),this._init(),this.load()},cancel(e){return this._operationManager.cancel(e)},cancelAll(){return this._operationManager.cancelAll()},_addSearchOptions(e){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(e):(e.searchOperation=this._searchOperation,e.searchValue=this._searchValue,e.searchExpr=this._searchExpr))},_createStoreLoadOptions(){var e=re({},this._storeLoadOptions);return this._addSearchOptions(e),this._paginate&&this._pageSize&&(e.skip=this._pageIndex*this._pageSize,e.take=this._pageSize),e.userData=this._userData,e},_addSearchFilter(e){var t=this._searchValue,i=this._searchOperation,r=this._searchExpr,n=[];t&&(r||(r="this"),Array.isArray(r)||(r=[r]),le(r,function(a,s){n.length&&n.push("or"),n.push([s,i,t])}),e.filter?e.filter=[n,e.filter]:e.filter=n)},_loadFromStore(e,t){var i=(r,n)=>{if(!this._disposed&&fC(t)){var a=re(_2(r,n),e);this._eventsStrategy.fireEvent("customizeLoadResult",[a]),Pe(a.data).done(s=>{a.data=s,this._processStoreLoadResult(a,t)}).fail(t.reject)}};return e.data?new pe().resolve(e.data).done(i):this.store().load(e.storeLoadOptions).done(i).fail(t.reject)},_processStoreLoadResult(e,t){var i=e.data,r=e.extra,n=e.storeLoadOptions,a=()=>(this._isLoaded=!0,this._totalCount=isFinite(r.totalCount)?r.totalCount:-1,t.resolve(i,r));this._disposed||(i=this._applyPostProcessFunction(this._applyMapFunction(i)),Ge(r)||(r={}),this._items=i,(!i.length||!this._paginate||this._pageSize&&i.length<this._pageSize)&&(this._isLastPage=!0),n.requireTotalCount&&!isFinite(r.totalCount)?this.store().totalCount(n).done(function(s){r.totalCount=s,a()}).fail(t.reject):a())},_applyMapFunction(e){return this._mapFunc?NN(e,this._mapFunc,this.group()):e},_applyPostProcessFunction(e){return this._postProcessFunc?this._postProcessFunc(e):e},on(e,t){return this._eventsStrategy.on(e,t),this},off(e,t){return this._eventsStrategy.off(e,t),this}}),WN="dx-selection-disabled",jN="dx-datagrid-group-opened",UN="dx-datagrid-group-closed",GN="dx-datagrid-expand",KN="nodata",qN="infinite",mC="virtual",XN="scrolling.legacyMode",gC="scrolling.mode",YN="scrolling.rowRenderingMode",ZN={year:function(e){return e&&e.getFullYear()},month:function(e){return e&&e.getMonth()+1},day:function(e){return e&&e.getDate()},quarter:function(e){return e&&Math.floor(e.getMonth()/3)+1},hour:function(e){return e&&e.getHours()},minute:function(e){return e&&e.getMinutes()},second:function(e){return e&&e.getSeconds()}},JN=function(){var e=arguments[1],t=this.calculateCellValue(e);if(Z(t)){if(b2(this.dataType)){var i=arguments[0];return ZN[i](t)}else if(this.dataType==="number"){var r=arguments[0];return Math.floor(Number(t)/r)*r}}else return null},QN=function(e,t){return Re(e)&&Re(t)&&e.originalCallback&&t.originalCallback?e.originalCallback===t.originalCallback&&e.columnIndex===t.columnIndex:e===t};function b2(e){return e==="date"||e==="datetime"}var vC=function(e){e.get(0).textContent=" "},Mp=function(e){e=e||[];for(var t=ra(e),i=0;i<e.length;i++)e&&e[i]&&e[i].isExpanded!==void 0&&(t[i].isExpanded=e[i].isExpanded),e&&e[i]&&e[i].groupInterval!==void 0&&(t[i].groupInterval=e[i].groupInterval);return t},y2=function(e,t){var i=i2.format(e,t.format)||e&&e.toString()||"",r={value:e,valueText:t.getDisplayFormat?t.getDisplayFormat(i):i,target:t.target||"row",groupInterval:t.groupInterval};return t.customizeText?t.customizeText.call(t,r):r.valueText},_C=function(e,t){var i=e.displayFormat||e.columnCaption&&t[e.summaryType+"OtherColumn"]||t[e.summaryType];return y2(e.value,{format:e.valueFormat,getDisplayFormat:function(r){return i?sn(i,r,e.columnCaption):r},customizeText:e.customizeText})},bC=function(e){var t=e.data&&e.data(),i=t&&t.dxComponents,r=i&&i[0];return r&&t[r]},eV=function e(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],i[r]))return!1;return!0}else return Re(t)&&t.columnIndex>=0&&Re(i)&&i.columnIndex>=0?t.columnIndex===i.columnIndex&&ki(t.filterValue)===ki(i.filterValue):ki(t)==ki(i)};function tV(e){return Array.isArray(e)||(e=[e]),e.map((t,i)=>Ue(t)?{selector:t,isExpanded:i<e.length-1}:t)}const Ee={renderNoDataText:function(e){if(e=e||this.element(),!!e){var t=this.addWidgetPrefix(KN),i=e.find("."+t).last(),r=this._dataController.isEmpty(),n=this._dataController.isLoading();i.length||(i=W("<span>").addClass(t).appendTo(e)),r&&!n?i.removeClass("dx-hidden").text(this._getNoDataText()):i.addClass("dx-hidden")}},renderLoadPanel:function(e,t,i){var r;this._loadPanel&&this._loadPanel.$element().remove(),r=this.option("loadPanel"),r&&(r.enabled==="auto"?!i:r.enabled)?(r=re({shading:!1,message:r.text,container:t},r),this._loadPanel=this._createComponent(W("<div>").appendTo(t),uf,r)):this._loadPanel=null},calculateLoadPanelPosition(e){var t=W(at());return nt(e)>nt(t)?{of:t,boundary:e,collision:"fit"}:{of:e}},getIndexByKey:function(e,t,i){var r=-1;if(e!==void 0&&Array.isArray(t)){i=arguments.length<=2?"key":i;for(var n=0;n<t.length;n++){var a=Z(i)?t[n][i]:t[n];if(ni(e,a)){r=n;break}}}return r},combineFilters:function(e,t){var i=[];t=t||"and";for(var r=0;r<e.length;r++){var n;if(e[r]){if(((n=e[r])===null||n===void 0?void 0:n.length)===1&&e[r][0]==="!"){if(t==="and")return["!"];if(t==="or")continue}i.length&&i.push(t),i.push(e[r])}}if(i.length===1&&(i=i[0]),i.length)return i},checkChanges:function(e,t){for(var i=0,r=0;r<t.length;r++)e[t[r]]&&i++;return e.length&&e.length===i},equalFilterParameters:eV,proxyMethod:function(e,t,i){e[t]||(e[t]=function(){var r=this._dataSource;return r?r[t].apply(r,arguments):i})},formatValue:y2,getFormatOptionsByColumn:function(e,t){return{format:e.format,getDisplayFormat:e.getDisplayFormat,customizeText:e.customizeText,target:t,trueText:e.trueText,falseText:e.falseText}},getDisplayValue:function(e,t,i,r){return e.displayValueMap&&e.displayValueMap[t]!==void 0?e.displayValueMap[t]:e.calculateDisplayValue&&i&&r!=="group"?e.calculateDisplayValue(i):e.lookup&&!(r==="group"&&(e.calculateGroupValue||e.calculateDisplayValue))?e.lookup.calculateCellValue(t):t},getGroupRowSummaryText:function(e,t){for(var i="(",r=0;r<e.length;r++){var n=e[r];i+=(r>0?", ":"")+_C(n,t)}return i+")"},getSummaryText:_C,normalizeSortingInfo:Mp,getFormatByDataType:function(e){switch(e){case"date":return"shortDate";case"datetime":return"shortDateShortTime"}},getHeaderFilterGroupParameters:function(e,t){var i=[],r=e.dataField||e.name,n=Qo.getGroupInterval(e);return n?(le(n,function(a,s){i.push(t?{selector:r,groupInterval:s,isExpanded:a<n.length-1}:JN.bind(e,s))}),i):(t?i=[{selector:r,isExpanded:!1}]:(i=function(a){var s=e.calculateCellValue(a);return(s===void 0||s==="")&&(s=null),s},e.sortingMethod&&(i=[{selector:i,compare:e.sortingMethod.bind(e)}])),i)},equalSortParameters(e,t,i){if(e=Mp(e),t=Mp(t),Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!QN(e[r].selector,t[r].selector)||e[r].desc!==t[r].desc||e[r].groupInterval!==t[r].groupInterval||!i&&!!e[r].isExpanded!=!!t[r].isExpanded)return!1;return!0}else return(!e||!e.length)==(!t||!t.length)},getPointsByColumns:function(e,t,i,r){for(var n=e.length,a=!1,s,o,l=r||0,u=[],d,c=0;c<=n;c++){c<n&&(s=e.eq(c),o=s.offset(),d=s.css("direction")==="rtl");var h={index:l,x:o?o.left+(!i&&d^c===n?mi(s[0]).width:0):0,y:o?o.top+(i&&c===n?mi(s[0]).height:0):0,columnIndex:l};if(!i&&c>0){var f=e.eq(c-1).offset();f.top<h.y&&(h.y=f.top)}t&&(a=t(h)),a||u.push(h),l++}return u},getExpandCellTemplate:function(){return{allowRenderToDetachedContainer:!0,render:function(e,t){var i=W(e);if(Z(t.value)&&!(t.data&&t.data.isContinuation)&&!t.row.isNewRow){var r=t.component.getView("rowsView");i.addClass(GN).addClass(WN),W("<div>").addClass(t.value?jN:UN).appendTo(i),r.setAria("label",t.value?r.localize("dxDataGrid-ariaCollapse"):r.localize("dxDataGrid-ariaExpand"),i)}else vC(i)}}},setEmptyText:vC,isDateType:b2,getSelectionRange:function(e){try{if(e)return{selectionStart:e.selectionStart,selectionEnd:e.selectionEnd}}catch{}return{}},setSelectionRange:function(e,t){try{e&&e.setSelectionRange&&e.setSelectionRange(t.selectionStart,t.selectionEnd)}catch{}},focusAndSelectElement:function(e,t){var i=t.is(":focus");te.trigger(t,"focus");var r=e.option("editing.selectTextOnEditStart"),n=t.get(0);if(!i&&r&&t.is(".dx-texteditor-input")&&!t.is("[readonly]")){var a=bC(t.closest(".dx-texteditor"));Pe(a&&a._loadItemDeferred).done(function(){n.select()})}},getWidgetInstance:bC,getLastResizableColumnIndex:function(e,t){var i=e.some(o=>o&&!o.command&&!o.fixed&&o.allowResizing!==!1),r;for(r=e.length-1;e[r];r--){var n=e[r],a=t&&t[r],s=!i||n.allowResizing!==!1;if(!n.command&&!n.fixed&&a!=="adaptiveHidden"&&s)break}return r},isElementInCurrentGrid:function(e,t){if(t&&t.length){var i=t.closest("."+e.getWidgetContainerClass()).parent();return i.is(e.component.$element())}return!1},isVirtualRowRendering:function(e){var t=e.option(YN),i=e.option(gC)===mC,r=e.option(gC)===qN;return e.option(XN)===!1&&(i||r)?!0:t===mC},getPixelRatio:function(e){return e.devicePixelRatio||1},getContentHeightLimit(e){return e.mozilla?8e6:15e6/this.getPixelRatio(at())},normalizeLookupDataSource(e){var t;return e.items?t=e.items:(t=e.dataSource,Re(t)&&!or.isWrapped(t)&&(t=t({}))),hl(t)},getWrappedLookupDataSource(e,t,i){var r=this.normalizeLookupDataSource(e.lookup);if(e.calculateCellValue!==e.defaultCalculateCellValue)return r;var n=t.remoteOperations().groupPaging,a=e.displayField&&Ue(e.displayField),s,o=Ie({},r,{load:l=>{var u=new pe;return(d=>{var c=tV(a?[e.dataField,e.displayField]:e.dataField),h=new pe;return!n&&s?h.resolve(s):t.load({filter:i,group:c,take:n?d.take:void 0,skip:n?d.skip:void 0}).done(f=>{s=f,h.resolve(f)}).fail(h.fail),h})(l).done(d=>{d.length===0&&u.resolve([]);var c;if(a){var h=d.map(p=>{var g;return{[e.lookup.valueExpr]:p.key,[e.lookup.displayExpr]:(g=e.displayValueMap[p.key])!==null&&g!==void 0?g:p.items[0].key}});c=new In(Ie({},r,l,{store:new dl({data:h,key:e.lookup.valueExpr})}))}else{var f=this.combineFilters(d.flatMap(p=>p.key).map(p=>[e.lookup.valueExpr,p]),"or");c=new In(Ie({},r,l,{filter:this.combineFilters([f,l.filter],"and")}))}n||c.on("customizeStoreLoadOptions",p=>{p.storeLoadOptions.take=l.take,p.storeLoadOptions.skip=l.skip}),c.load().done(u.resolve).fail(u.fail)}).fail(u.fail),u},key:e.lookup.valueExpr,byKey(l){var u=pe();return this.load({filter:[e.lookup.valueExpr,"=",l]}).done(d=>{u.resolve(d[0])}),u.promise()}});return o}};var iV="dx-export-loadpanel";class rV{constructor(t,i,r,n){this._$targetElement=i,this._$container=r,this._loadPanel=t._createComponent(W("<div>").addClass(iV).appendTo(this._$container),uf,this.getOptions(n))}getDefaultOptions(){return{animation:null,shading:!1,height:90,width:200,container:this._$container}}getOptions(t){return Z(t.text)?t.message=t.text:t.message=_e.format("dxDataGrid-exporting"),re(this.getDefaultOptions(),t)}show(){this._loadPanel.option("position",Ee.calculateLoadPanelPosition(this._$targetElement)),this._loadPanel.show()}dispose(){W(this._loadPanel.element()).remove(),delete this._loadPanel}}var nV=7,aV=255,C2={getFullOptions(e){var t=re({},e);if(!(Z(t.worksheet)&&Ge(t.worksheet)))throw Error('The "worksheet" field must contain an object.');if(!Z(t.topLeftCell))t.topLeftCell={row:1,column:1};else if(Ue(t.topLeftCell)){var{row:i,col:r}=t.worksheet.getCell(t.topLeftCell);t.topLeftCell={row:i,column:r}}return Z(t.keepColumnWidths)||(t.keepColumnWidths=!0),Z(t.loadPanel)||(t.loadPanel={}),Z(t.loadPanel.enabled)||(t.loadPanel.enabled=!0),t},convertDateForExcelJS:e=>new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())),setNumberFormat(e,t){e.numFmt=t},getCellStyles(e){var t=e.getStyles();return t.forEach(i=>{var r=this.tryConvertToExcelNumberFormat(i.format,i.dataType);Z(r)&&(r=r.replace(/&quot;/g,'"')),i.numberFormat=r}),t},tryConvertToExcelNumberFormat(e,t){var i=Qb.formatObjectConverter(e,t),r=i.currency;return e=i.format,t=i.dataType,Qb.convertFormat(e,i.precision,t,r)},setAlignment(e,t,i){e.alignment=e.alignment||{},Z(t)&&(e.alignment.wrapText=t),Z(i)&&(e.alignment.horizontal=i),e.alignment.vertical="top"},setColumnsWidth(e,t,i){if(Z(t))for(var r=0;r<t.length;r++){var n=t[r];typeof n=="number"&&isFinite(n)&&(e.getColumn(i+r).width=Math.min(aV,Math.floor(n/nV*100)/100))}},export(e,t){var i,{customizeCell:r,component:n,worksheet:a,topLeftCell:s,autoFilterEnabled:o,keepColumnWidths:l,selectedRowsOnly:u,loadPanel:d,mergeRowFieldValues:c,mergeColumnFieldValues:h}=e,f=((i=n._getInternalInstance)===null||i===void 0?void 0:i.call(n))||n,p=f.option("loadPanel")&&f.option("loadPanel").enabled;p&&n.option("loadPanel.enabled",!1);var g;if(d.enabled&&rt()){var m=t._getLoadPanelTargetElement(n),v=t._getLoadPanelContainer(n);g=new rV(n,m,v,d),g.show()}var b=!!n.option("wordWrapEnabled");a.properties.outlineProperties={summaryBelow:!1,summaryRight:!1};var y={from:{row:s.row,column:s.column},to:{row:s.row,column:s.column}},I=n.getDataProvider(u);return new Promise(D=>{I.ready().done(()=>{var N=I.getColumns(),z=I.getRowsCount();l&&this.setColumnsWidth(a,I.getColumnsWidths(),y.from.column);for(var F=new g5(I,t,c,h),$=this.getCellStyles(I),j=0;j<z;j++){var q=a.getRow(y.from.row+j);t._trySetOutlineLevel(I,q,j),this.exportRow(I,t,F,j,N.length,q,y.from.column,r,b,$),j>=1&&y.to.row++}F.applyMergedRages(a),y.to.column+=N.length>0?N.length-1:0;var H=a.views[0]||{};n.option("rtlEnabled")&&(H.rightToLeft=!0),t._isFrozenZone(I)&&(Object.keys(H).indexOf("state")===-1&&re(H,t._getWorksheetFrozenState(I,y)),t._trySetAutoFilter(I,a,y,o)),Object.keys(H).length>0&&(a.views=[H]),D(y)}).always(()=>{p&&n.option("loadPanel.enabled",p),d.enabled&&rt()&&g.dispose()})})},exportRow(e,t,i,r,n,a,s,o,l,u){for(var d=0;d<n;d++){var c=e.getCellData(r,d,!0),h=a.getCell(s+d);i.updateMergedRanges(h,r,d);var f=i.findMergedCellInfo(r,d);if(Z(f)&&h!==f.masterCell)h.style=f.masterCell.style,h.value=f.masterCell.value;else if(tr(c.value)?h.value=this.convertDateForExcelJS(c.value):h.value=c.value,Z(h.value)){var{bold:p,alignment:g,numberFormat:m}=u[e.getStyleId(r,d)];Z(m)?this.setNumberFormat(h,m):Ue(h.value)&&/^[@=+-]/.test(h.value)&&this.setNumberFormat(h,"@"),t._trySetFont(h,p),this.setAlignment(h,l,g)}Re(o)&&o(t._getCustomizeCellOptions(h,c.cellSourceData))}}},sV={_trySetAutoFilter(e,t,i,r){if(r&&!Z(t.autoFilter)&&e.getRowsCount()>0){var n={from:{row:i.from.row+e.getHeaderRowCount()-1,column:i.from.column},to:i.to};t.autoFilter=n}},_trySetFont(e,t){Z(t)&&(e.font=e.font||{},e.font.bold=t)},_getWorksheetFrozenState:(e,t)=>({state:"frozen",ySplit:t.from.row+e.getFrozenArea().y-1}),_trySetOutlineLevel(e,t,i){i>=e.getHeaderRowCount()&&(t.outlineLevel=e.getGroupLevel(i))},_getCustomizeCellOptions(e,t){var i={excelCell:e,gridCell:t};return Object.defineProperty(i,"cell",{get(){return $t.log("W0003","CustomizeCell handler argument","cell","20.1","Use the 'excelCell' field instead"),e}}),i},_isFrozenZone:e=>e.getHeaderRowCount()>0,_isHeaderCell:(e,t)=>t<e.getHeaderRowCount(),_allowToMergeRange:()=>!0,_getLoadPanelTargetElement:e=>e.getView("rowsView").element(),_getLoadPanelContainer:e=>e.getView("rowsView").element().parent()};function oV(e){return C2.export(lV(e),sV)}function lV(e){if(!(Z(e)&&Ge(e)))throw Error('The "exportDataGrid" method requires a configuration object.');if(!(Z(e.component)&&Ge(e.component)&&e.component.NAME==="dxDataGrid"))throw Error('The "component" field must contain a DataGrid instance.');return Z(e.selectedRowsOnly)||(e.selectedRowsOnly=!1),Z(e.autoFilterEnabled)||(e.autoFilterEnabled=!1),C2.getFullOptions(e)}function Ra(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var w2={exports:{}};/*! ExcelJS 19-10-2023 */(function(e,t){(function(i){e.exports=i()})(function(){return function i(r,n,a){function s(u,d){if(!n[u]){if(!r[u]){var c=typeof Ra=="function"&&Ra;if(!d&&c)return c(u,!0);if(o)return o(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var f=n[u]={exports:{}};r[u][0].call(f.exports,function(p){return s(r[u][1][p]||p)},f,f.exports,i,r,n,a)}return n[u].exports}for(var o=typeof Ra=="function"&&Ra,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(i,r,n){const a=i("fs"),s=i("fast-csv"),o=i("dayjs/plugin/customParseFormat"),l=i("dayjs/plugin/utc"),u=i("dayjs").extend(o).extend(l),d=i("../utils/stream-buf"),{fs:{exists:c}}=i("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};r.exports=class{constructor(f){this.workbook=f,this.worksheet=null}async readFile(f,p){if(p=p||{},!await c(f))throw new Error("File not found: "+f);const g=a.createReadStream(f),m=await this.read(g,p);return g.close(),m}read(f,p){return p=p||{},new Promise((g,m)=>{const v=this.workbook.addWorksheet(p.sheetName),b=p.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],y=p.map||function(D){if(D==="")return null;const N=Number(D);if(!Number.isNaN(N)&&N!==1/0)return N;const z=b.reduce(($,j)=>{if($)return $;const q=u(D,j,!0);return q.isValid()?q:null},null);if(z)return new Date(z.valueOf());const F=h[D];return F!==void 0?F:D},I=s.parse(p.parserOptions).on("data",D=>{v.addRow(D.map(y))}).on("end",()=>{I.emit("worksheet",v)});I.on("worksheet",g).on("error",m),f.pipe(I)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(f,p){return new Promise((g,m)=>{p=p||{};const v=this.workbook.getWorksheet(p.sheetName||p.sheetId),b=s.format(p.formatterOptions);f.on("finish",()=>{g()}),b.on("error",m),b.pipe(f);const{dateFormat:y,dateUTC:I}=p,D=p.map||(F=>{if(F){if(F.text||F.hyperlink)return F.hyperlink||F.text||"";if(F.formula||F.result)return F.result||"";if(F instanceof Date)return y?I?u.utc(F).format(y):u(F).format(y):I?u.utc(F).format():u(F).format();if(F.error)return F.error;if(typeof F=="object")return JSON.stringify(F)}return F}),N=p.includeEmptyRows===void 0||p.includeEmptyRows;let z=1;v&&v.eachRow((F,$)=>{if(N)for(;z++<$-1;)b.write([]);const{values:j}=F;j.shift(),b.write(j.map(D)),z=$}),b.end()})}writeFile(f,p){const g={encoding:(p=p||{}).encoding||"utf8"},m=a.createWriteStream(f,g);return this.write(m,p)}async writeBuffer(f){const p=new d;return await this.write(p,f),p.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(i,r,n){const a=i("../utils/col-cache");class s{constructor(l,u){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,u)if(typeof u=="string"){const c=a.decodeAddress(u);this.nativeCol=c.col+d,this.nativeColOff=0,this.nativeRow=c.row+d,this.nativeRowOff=0}else u.nativeCol!==void 0?(this.nativeCol=u.nativeCol||0,this.nativeColOff=u.nativeColOff||0,this.nativeRow=u.nativeRow||0,this.nativeRowOff=u.nativeRowOff||0):u.col!==void 0?(this.col=u.col+d,this.row=u.row+d):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof s||l==null?l:new s(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}r.exports=s},{"../utils/col-cache":19}],3:[function(i,r,n){const a=i("../utils/col-cache"),s=i("../utils/under-dash"),o=i("./enums"),{slideFormula:l}=i("../utils/shared-formula"),u=i("./note");class d{constructor(f,p,g){if(!f||!p)throw new Error("A Cell needs a Row");this._row=f,this._column=p,a.validateAddress(g),this._address=g,this._value=c.create(d.Types.Null,this),this.style=this._mergeStyle(f.style,p.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(f){this.style.numFmt=f}get font(){return this.style.font}set font(f){this.style.font=f}get alignment(){return this.style.alignment}set alignment(f){this.style.alignment=f}get border(){return this.style.border}set border(f){this.style.border=f}get fill(){return this.style.fill}set fill(f){this.style.fill=f}get protection(){return this.style.protection}set protection(f){this.style.protection=f}_mergeStyle(f,p,g){const m=f&&f.numFmt||p&&p.numFmt;m&&(g.numFmt=m);const v=f&&f.font||p&&p.font;v&&(g.font=v);const b=f&&f.alignment||p&&p.alignment;b&&(g.alignment=b);const y=f&&f.border||p&&p.border;y&&(g.border=y);const I=f&&f.fill||p&&p.fill;I&&(g.fill=I);const D=f&&f.protection||p&&p.protection;return D&&(g.protection=D),g}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===d.Types.Merge}merge(f,p){this._value.release(),this._value=c.create(d.Types.Merge,this,f),p||(this.style=f.style)}unmerge(){this.type===d.Types.Merge&&(this._value.release(),this._value=c.create(d.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(f){return this._value.type===d.Types.Merge&&this._value.isMergedTo(f)}get master(){return this.type===d.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===d.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(f){this.type!==d.Types.Merge?(this._value.release(),this._value=c.create(c.getType(f),this,f)):this._value.master.value=f}get note(){return this._comment&&this._comment.note}set note(f){this._comment=new u(f)}get text(){return this._value.toString()}get html(){return s.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(f){this.type===d.Types.String&&(this._value=c.create(d.Types.Hyperlink,this,{text:this._value.value,hyperlink:f}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:f}=this._row;return{sheetName:f.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(f){this.names=[f]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(f){const{definedNames:p}=this.workbook;p.removeAllNames(this.fullAddress),f.forEach(g=>{p.addEx(this.fullAddress,g)})}addName(f){this.workbook.definedNames.addEx(this.fullAddress,f)}removeName(f){this.workbook.definedNames.removeEx(this.fullAddress,f)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(f){this._dataValidations.add(this.address,f)}get model(){const{model:f}=this._value;return f.style=this.style,this._comment&&(f.comment=this._comment.model),f}set model(f){if(this._value.release(),this._value=c.create(f.type,this),this._value.model=f,f.comment)switch(f.comment.type){case"note":this._comment=u.fromModel(f.comment)}f.style?this.style=f.style:this.style={}}}d.Types=o.ValueType;const c={getType:h=>h==null?d.Types.Null:h instanceof String||typeof h=="string"?d.Types.String:typeof h=="number"?d.Types.Number:typeof h=="boolean"?d.Types.Boolean:h instanceof Date?d.Types.Date:h.text&&h.hyperlink?d.Types.Hyperlink:h.formula||h.sharedFormula?d.Types.Formula:h.richText?d.Types.RichText:h.sharedString?d.Types.SharedString:h.error?d.Types.Error:d.Types.JSON,types:[{t:d.Types.Null,f:class{constructor(h){this.model={address:h.address,type:d.Types.Null}}get value(){return null}set value(h){}get type(){return d.Types.Null}get effectiveType(){return d.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:d.Types.Number,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Number,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Number}get effectiveType(){return d.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.String,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.String,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:d.Types.Date,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Date,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Date}get effectiveType(){return d.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Hyperlink,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Hyperlink,text:f?f.text:void 0,hyperlink:f?f.hyperlink:void 0},f&&f.tooltip&&(this.model.tooltip=f.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return d.Types.Hyperlink}get effectiveType(){return d.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:d.Types.Formula,f:class{constructor(h,f){this.cell=h,this.model={address:h.address,type:d.Types.Formula,shareType:f?f.shareType:void 0,ref:f?f.ref:void 0,formula:f?f.formula:void 0,sharedFormula:f?f.sharedFormula:void 0,result:f?f.result:void 0}}_copyModel(h){const f={},p=g=>{const m=h[g];m&&(f[g]=m)};return p("formula"),p("result"),p("ref"),p("shareType"),p("sharedFormula"),f}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(c.getType(h)){case d.Types.Null:case d.Types.String:case d.Types.Number:case d.Types.Date:break;case d.Types.Hyperlink:case d.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return d.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?o.ValueType.Null:h instanceof String||typeof h=="string"?o.ValueType.String:typeof h=="number"?o.ValueType.Number:h instanceof Date?o.ValueType.Date:h.text&&h.hyperlink?o.ValueType.Hyperlink:h.formula?o.ValueType.Formula:o.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,f=h.findCell(this.model.sharedFormula);this._translatedFormula=f&&l(f.formula,f.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:d.Types.Merge,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Merge,master:f?f.address:void 0},this._master=f,f&&f.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof d?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return d.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:d.Types.JSON,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.String,value:JSON.stringify(f),rawValue:f}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:d.Types.SharedString,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.SharedString,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.SharedString}get effectiveType(){return d.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.RichText,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.String,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return d.Types.RichText}get effectiveType(){return d.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:d.Types.Boolean,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Boolean,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Boolean}get effectiveType(){return d.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Error,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Error,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Error}get effectiveType(){return d.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,f)=>(h[f.t]=f.f,h),[]),create(h,f,p){const g=this.types[h];if(!g)throw new Error("Could not create Value of type "+h);return new g(f,p)}};r.exports=d},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(i,r,n){const a=i("../utils/under-dash"),s=i("./enums"),o=i("../utils/col-cache");class l{constructor(d,c,h){this._worksheet=d,this._number=c,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return o.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(d){d?(this.key=d.key,this.width=d.width!==void 0?d.width:9,this.outlineLevel=d.outlineLevel,d.style?this.style=d.style:this.style={},this.header=d.header,this._hidden=!!d.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(d){d!==void 0?(this._header=d,this.headers.forEach((c,h)=>{this._worksheet.getCell(h+1,this.number).value=c})):this._header=void 0}get key(){return this._key}set key(d){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=d,d&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(d){this._hidden=d}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(d){this._outlineLevel=d}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(d){return this.width===d.width&&this.hidden===d.hidden&&this.outlineLevel===d.outlineLevel&&a.isEqual(this.style,d.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const d=this.style;return!d||!(d.font||d.numFmt||d.alignment||d.border||d.fill||d.protection)}get headerCount(){return this.headers.length}eachCell(d,c){const h=this.number;c||(c=d,d=null),this._worksheet.eachRow(d,(f,p)=>{c(f.getCell(h),p)})}get values(){const d=[];return this.eachCell((c,h)=>{c&&c.type!==s.ValueType.Null&&(d[h]=c.value)}),d}set values(d){if(!d)return;const c=this.number;let h=0;d.hasOwnProperty("0")&&(h=1),d.forEach((f,p)=>{this._worksheet.getCell(p+h,c).value=f})}_applyStyle(d,c){return this.style[d]=c,this.eachCell(h=>{h[d]=c}),c}get numFmt(){return this.style.numFmt}set numFmt(d){this._applyStyle("numFmt",d)}get font(){return this.style.font}set font(d){this._applyStyle("font",d)}get alignment(){return this.style.alignment}set alignment(d){this._applyStyle("alignment",d)}get protection(){return this.style.protection}set protection(d){this._applyStyle("protection",d)}get border(){return this.style.border}set border(d){this._applyStyle("border",d)}get fill(){return this.style.fill}set fill(d){this._applyStyle("fill",d)}static toModel(d){const c=[];let h=null;return d&&d.forEach((f,p)=>{f.isDefault?h&&(h=null):h&&f.equivalentTo(h)?h.max=p+1:(h={min:p+1,max:p+1,width:f.width!==void 0?f.width:9,style:f.style,isCustomWidth:f.isCustomWidth,hidden:f.hidden,outlineLevel:f.outlineLevel,collapsed:f.collapsed},c.push(h))}),c.length?c:void 0}static fromModel(d,c){const h=[];let f=1,p=0;for(c=(c=c||[]).sort(function(g,m){return g.min-m.min});p<c.length;){const g=c[p++];for(;f<g.min;)h.push(new l(d,f++));for(;f<=g.max;)h.push(new l(d,f++,g))}return h.length?h:null}}r.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(i,r,n){r.exports=class{constructor(a){this.model=a||{}}add(a,s){return this.model[a]=s}find(a){return this.model[a]}remove(a){this.model[a]=void 0}}},{}],6:[function(i,r,n){const a=i("../utils/under-dash"),s=i("../utils/col-cache"),o=i("../utils/cell-matrix"),l=i("./range"),u=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;r.exports=class{constructor(){this.matrixMap={}}getMatrix(d){return this.matrixMap[d]||(this.matrixMap[d]=new o)}add(d,c){const h=s.decodeEx(d);this.addEx(h,c)}addEx(d,c){const h=this.getMatrix(c);if(d.top)for(let f=d.left;f<=d.right;f++)for(let p=d.top;p<=d.bottom;p++){const g={sheetName:d.sheetName,address:s.n2l(f)+p,row:p,col:f};h.addCellEx(g)}else h.addCellEx(d)}remove(d,c){const h=s.decodeEx(d);this.removeEx(h,c)}removeEx(d,c){this.getMatrix(c).removeCellEx(d)}removeAllNames(d){a.each(this.matrixMap,c=>{c.removeCellEx(d)})}forEach(d){a.each(this.matrixMap,(c,h)=>{c.forEach(f=>{d(h,f)})})}getNames(d){return this.getNamesEx(s.decodeEx(d))}getNamesEx(d){return a.map(this.matrixMap,(c,h)=>c.findCellEx(d)&&h).filter(Boolean)}_explore(d,c){c.mark=!1;const{sheetName:h}=c,f=new l(c.row,c.col,c.row,c.col,h);let p,g;function m(b,y){const I=d.findCellAt(h,b,c.col);return!(!I||!I.mark)&&(f[y]=b,I.mark=!1,!0)}for(g=c.row-1;m(g,"top");g--);for(g=c.row+1;m(g,"bottom");g++);function v(b,y){const I=[];for(g=f.top;g<=f.bottom;g++){const D=d.findCellAt(h,g,b);if(!D||!D.mark)return!1;I.push(D)}f[y]=b;for(let D=0;D<I.length;D++)I[D].mark=!1;return!0}for(p=c.col-1;v(p,"left");p--);for(p=c.col+1;v(p,"right");p++);return f}getRanges(d,c){return(c=c||this.matrixMap[d])?(c.forEach(h=>{h.mark=!0}),{name:d,ranges:c.map(h=>h.mark&&this._explore(c,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:d,ranges:[]}}normaliseMatrix(d,c){d.forEachInSheet(c,(h,f,p)=>{h&&(h.row===f&&h.col===p||(h.row=f,h.col=p,h.address=s.n2l(p)+f))})}spliceRows(d,c,h,f){a.each(this.matrixMap,p=>{p.spliceRows(d,c,h,f),this.normaliseMatrix(p,d)})}spliceColumns(d,c,h,f){a.each(this.matrixMap,p=>{p.spliceColumns(d,c,h,f),this.normaliseMatrix(p,d)})}get model(){return a.map(this.matrixMap,(d,c)=>this.getRanges(c,d)).filter(d=>d.ranges.length)}set model(d){const c=this.matrixMap={};d.forEach(h=>{const f=c[h.name]=new o;h.ranges.forEach(p=>{u.test(p.split("!").pop()||"")&&f.addCell(p)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(i,r,n){r.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(i,r,n){const a=i("../utils/col-cache"),s=i("./anchor");r.exports=class{constructor(o,l){this.worksheet=o,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(o){let{type:l,imageId:u,range:d,hyperlinks:c}=o;if(this.type=l,this.imageId=u,l==="image")if(typeof d=="string"){const h=a.decode(d);this.range={tl:new s(this.worksheet,{col:h.left,row:h.top},-1),br:new s(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new s(this.worksheet,d.tl,0),br:d.br&&new s(this.worksheet,d.br,0),ext:d.ext,editAs:d.editAs,hyperlinks:c||d.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(i,r,n){const a=i("../utils/under-dash");class s{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return a.deepMerge({},s.DEFAULT_CONFIGS,l)}set model(l){const{note:u}=l,{texts:d}=u;d.length===1&&Object.keys(d[0]).length===1?this.note=d[0].text:this.note=u}static fromModel(l){const u=new s;return u.model=l,u}}s.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},r.exports=s},{"../utils/under-dash":26}],10:[function(i,r,n){const a=i("../utils/col-cache");class s{constructor(){this.decode(arguments)}setTLBR(l,u,d,c,h){if(arguments.length<4){const f=a.decodeAddress(l),p=a.decodeAddress(u);this.model={top:Math.min(f.row,p.row),left:Math.min(f.col,p.col),bottom:Math.max(f.row,p.row),right:Math.max(f.col,p.col),sheetName:d},this.setTLBR(f.row,f.col,p.row,p.col,h)}else this.model={top:Math.min(l,d),left:Math.min(u,c),bottom:Math.max(l,d),right:Math.max(u,c),sheetName:h}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const u=l[0];if(u instanceof s)this.model={top:u.model.top,left:u.model.left,bottom:u.model.bottom,right:u.model.right,sheetName:u.sheetName};else if(u instanceof Array)this.decode(u);else if(u.top&&u.left&&u.bottom&&u.right)this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName};else{const d=a.decodeEx(u);d.top?this.model={top:d.top,left:d.left,bottom:d.bottom,right:d.right,sheetName:d.sheetName}:this.model={top:d.row,left:d.col,bottom:d.row,right:d.col,sheetName:d.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,u,d,c){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||u<this.left)&&(this.left=u),(!this.model.bottom||d>this.bottom)&&(this.bottom=d),(!this.model.right||c>this.right)&&(this.right=c)}expandRow(l){if(l){const{dimensions:u,number:d}=l;u&&this.expand(d,u.min,d,u.max)}}expandToAddress(l){const u=a.decodeEx(l);this.expand(u.row,u.col,u.row,u.col)}get tl(){return a.n2l(this.left)+this.top}get $t$l(){return`$${a.n2l(this.left)}$${this.top}`}get br(){return a.n2l(this.right)+this.bottom}get $b$r(){return`$${a.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const u=a.decodeEx(l);return this.containsEx(u)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let u=this.left;u<=this.right;u++)for(let d=this.top;d<=this.bottom;d++)l(a.encodeAddress(d,u),d,u)}}r.exports=s},{"../utils/col-cache":19}],11:[function(i,r,n){const a=i("../utils/under-dash"),s=i("./enums"),o=i("../utils/col-cache"),l=i("./cell");r.exports=class{constructor(u,d){this._worksheet=u,this._number=d,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(u){return this._cells[u-1]}getCellEx(u){let d=this._cells[u.col-1];if(!d){const c=this._worksheet.getColumn(u.col);d=new l(this,c,u.address),this._cells[u.col-1]=d}return d}getCell(u){if(typeof u=="string"){const d=this._worksheet.getColumnKey(u);u=d?d.number:o.l2n(u)}return this._cells[u-1]||this.getCellEx({address:o.encodeAddress(this._number,u),row:this._number,col:u})}splice(u,d){const c=u+d;for(var h=arguments.length,f=new Array(h>2?h-2:0),p=2;p<h;p++)f[p-2]=arguments[p];const g=f.length-d,m=this._cells.length;let v,b,y;if(g<0)for(v=u+f.length;v<=m;v++)y=this._cells[v-1],b=this._cells[v-g-1],b?(y=this.getCell(v),y.value=b.value,y.style=b.style,y._comment=b._comment):y&&(y.value=null,y.style={},y._comment=void 0);else if(g>0)for(v=m;v>=c;v--)b=this._cells[v-1],b?(y=this.getCell(v+g),y.value=b.value,y.style=b.style,y._comment=b._comment):this._cells[v+g-1]=void 0;for(v=0;v<f.length;v++)y=this.getCell(u+v),y.value=f[v],y.style={},y._comment=void 0}eachCell(u,d){if(d||(d=u,u=null),u&&u.includeEmpty){const c=this._cells.length;for(let h=1;h<=c;h++)d(this.getCell(h),h)}else this._cells.forEach((c,h)=>{c&&c.type!==s.ValueType.Null&&d(c,h+1)})}addPageBreak(u,d){const c=this._worksheet,h=Math.max(0,u-1)||0,f=Math.max(0,d-1)||16838,p={id:this._number,max:f,man:1};h&&(p.min=h),c.rowBreaks.push(p)}get values(){const u=[];return this._cells.forEach(d=>{d&&d.type!==s.ValueType.Null&&(u[d.col]=d.value)}),u}set values(u){if(this._cells=[],u)if(u instanceof Array){let d=0;u.hasOwnProperty("0")&&(d=1),u.forEach((c,h)=>{c!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,h+d),row:this._number,col:h+d}).value=c)})}else this._worksheet.eachColumnKey((d,c)=>{u[c]!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,d.number),row:this._number,col:d.number}).value=u[c])})}get hasValues(){return a.some(this._cells,u=>u&&u.type!==s.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let u=0;return this.eachCell(()=>{u++}),u}get dimensions(){let u=0,d=0;return this._cells.forEach(c=>{c&&c.type!==s.ValueType.Null&&((!u||u>c.col)&&(u=c.col),d<c.col&&(d=c.col))}),u>0?{min:u,max:d}:null}_applyStyle(u,d){return this.style[u]=d,this._cells.forEach(c=>{c&&(c[u]=d)}),d}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const u=[];let d=0,c=0;return this._cells.forEach(h=>{if(h){const f=h.model;f&&((!d||d>h.col)&&(d=h.col),c<h.col&&(c=h.col),u.push(f))}}),this.height||u.length?{cells:u,number:this.number,min:d,max:c,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(u){if(u.number!==this._number)throw new Error("Invalid row number in model");let d;this._cells=[],u.cells.forEach(c=>{switch(c.type){case l.Types.Merge:break;default:{let h;if(c.address)h=o.decodeAddress(c.address);else if(d){const{row:f}=d,p=d.col+1;h={row:f,col:p,address:o.encodeAddress(f,p),$col$row:`$${o.n2l(p)}$${f}`}}d=h,this.getCellEx(h).model=c;break}}}),u.height?this.height=u.height:delete this.height,this.hidden=u.hidden,this.outlineLevel=u.outlineLevel||0,this.style=u.style&&JSON.parse(JSON.stringify(u.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(i,r,n){const a=i("../utils/col-cache");class s{constructor(l,u,d){this.table=l,this.column=u,this.index=d}_set(l,u){this.table.cacheState(),this.column[l]=u}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}r.exports=class{constructor(o,l){this.worksheet=o,l&&(this.table=l,this.validate(),this.store())}getFormula(o){switch(o.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${o.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${o.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${o.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${o.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${o.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${o.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${o.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${o.name}])`;case"custom":return o.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+o.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:o}=this,l=(g,m,v)=>{g[m]===void 0&&(g[m]=v)};l(o,"headerRow",!0),l(o,"totalsRow",!1),l(o,"style",{}),l(o.style,"theme","TableStyleMedium2"),l(o.style,"showFirstColumn",!1),l(o.style,"showLastColumn",!1),l(o.style,"showRowStripes",!1),l(o.style,"showColumnStripes",!1);const u=(g,m)=>{if(!g)throw new Error(m)};u(o.ref,"Table must have ref"),u(o.columns,"Table must have column definitions"),u(o.rows,"Table must have row definitions"),o.tl=a.decodeAddress(o.ref);const{row:d,col:c}=o.tl;u(d>0,"Table must be on valid row"),u(c>0,"Table must be on valid col");const{width:h,filterHeight:f,tableHeight:p}=this;o.autoFilterRef=a.encode(d,c,d+f-1,c+h-1),o.tableRef=a.encode(d,c,d+p-1,c+h-1),o.columns.forEach((g,m)=>{u(g.name,`Column ${m} must have a name`),m===0?l(g,"totalsRowLabel","Total"):(l(g,"totalsRowFunction","none"),g.totalsRowFormula=this.getFormula(g))})}store(){const o=(f,p)=>{p&&Object.keys(p).forEach(g=>{f[g]=p[g]})},{worksheet:l,table:u}=this,{row:d,col:c}=u.tl;let h=0;if(u.headerRow){const f=l.getRow(d+h++);u.columns.forEach((p,g)=>{const{style:m,name:v}=p,b=f.getCell(c+g);b.value=v,o(b,m)})}if(u.rows.forEach(f=>{const p=l.getRow(d+h++);f.forEach((g,m)=>{const v=p.getCell(c+m);v.value=g,o(v,u.columns[m].style)})}),u.totalsRow){const f=l.getRow(d+h++);u.columns.forEach((p,g)=>{const m=f.getCell(c+g);if(g===0)m.value=p.totalsRowLabel;else{const v=this.getFormula(p);m.value=v?{formula:p.totalsRowFormula,result:p.totalsRowResult}:null}o(m,p.style)})}}load(o){const{table:l}=this,{row:u,col:d}=l.tl;let c=0;if(l.headerRow){const h=o.getRow(u+c++);l.columns.forEach((f,p)=>{h.getCell(d+p).value=f.name})}if(l.rows.forEach(h=>{const f=o.getRow(u+c++);h.forEach((p,g)=>{f.getCell(d+g).value=p})}),l.totalsRow){const h=o.getRow(u+c++);l.columns.forEach((f,p)=>{const g=h.getCell(d+p);p===0?g.value=f.totalsRowLabel:this.getFormula(f)&&(g.value={formula:f.totalsRowFormula,result:f.totalsRowResult})})}}get model(){return this.table}set model(o){this.table=o}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const o=a.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const u=this.worksheet.getRow(o.row+l);for(let d=0;d<this._cache.width;d++)u.getCell(o.col+d).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const u=this.worksheet.getRow(o.row+l);for(let d=0;d<this._cache.width;d++)u.getCell(o.col+d).value=null}for(let l=0;l<this.tableHeight;l++){const u=this.worksheet.getRow(o.row+l);for(let d=this.width;d<this._cache.width;d++)u.getCell(o.col+d).value=null}}this.store()}addRow(o,l){this.cacheState(),l===void 0?this.table.rows.push(o):this.table.rows.splice(l,0,o)}removeRows(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(o,l)}getColumn(o){const l=this.table.columns[o];return new s(this,l,o)}addColumn(o,l,u){this.cacheState(),u===void 0?(this.table.columns.push(o),this.table.rows.forEach((d,c)=>{d.push(l[c])})):(this.table.columns.splice(u,0,o),this.table.rows.forEach((d,c)=>{d.splice(u,0,l[c])}))}removeColumns(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(o,l),this.table.rows.forEach(u=>{u.splice(o,l)})}_assign(o,l,u){this.cacheState(),o[l]=u}get ref(){return this.table.ref}set ref(o){this._assign(this.table,"ref",o)}get name(){return this.table.name}set name(o){this.table.name=o}get displayName(){return this.table.displyName||this.table.name}set displayNamename(o){this.table.displayName=o}get headerRow(){return this.table.headerRow}set headerRow(o){this._assign(this.table,"headerRow",o)}get totalsRow(){return this.table.totalsRow}set totalsRow(o){this._assign(this.table,"totalsRow",o)}get theme(){return this.table.style.name}set theme(o){this.table.style.name=o}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(o){this.table.style.showFirstColumn=o}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(o){this.table.style.showLastColumn=o}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(o){this.table.style.showRowStripes=o}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(o){this.table.style.showColumnStripes=o}}},{"../utils/col-cache":19}],13:[function(i,r,n){const a=i("./worksheet"),s=i("./defined-names"),o=i("../xlsx/xlsx"),l=i("../csv/csv");r.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new s}get xlsx(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let u=1;u<this._worksheets.length;u++)if(!this._worksheets[u])return u;return this._worksheets.length||1}addWorksheet(u,d){const c=this.nextId;d&&(typeof d=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),d={properties:{tabColor:{argb:d}}}):(d.argb||d.theme||d.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),d={properties:{tabColor:d}}));const h=this._worksheets.reduce((g,m)=>(m&&m.orderNo)>g?m.orderNo:g,0),f=Object.assign({},d,{id:c,name:u,orderNo:h+1,workbook:this}),p=new a(f);return this._worksheets[c]=p,p}removeWorksheetEx(u){delete this._worksheets[u.id]}removeWorksheet(u){const d=this.getWorksheet(u);d&&d.destroy()}getWorksheet(u){return u===void 0?this._worksheets.find(Boolean):typeof u=="number"?this._worksheets[u]:typeof u=="string"?this._worksheets.find(d=>d&&d.name===u):void 0}get worksheets(){return this._worksheets.slice(1).sort((u,d)=>u.orderNo-d.orderNo).filter(Boolean)}eachSheet(u){this.worksheets.forEach(d=>{u(d,d.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(u){const d=this.media.length;return this.media.push(Object.assign({},u,{type:"image"})),d}getImage(u){return this.media[u]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(u=>u.model),sheets:this.worksheets.map(u=>u.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(u){this.creator=u.creator,this.lastModifiedBy=u.lastModifiedBy,this.lastPrinted=u.lastPrinted,this.created=u.created,this.modified=u.modified,this.company=u.company,this.manager=u.manager,this.title=u.title,this.subject=u.subject,this.keywords=u.keywords,this.category=u.category,this.description=u.description,this.language=u.language,this.revision=u.revision,this.contentStatus=u.contentStatus,this.properties=u.properties,this.calcProperties=u.calcProperties,this._worksheets=[],u.worksheets.forEach(d=>{const{id:c,name:h,state:f}=d,p=u.sheets&&u.sheets.findIndex(g=>g.id===c);(this._worksheets[c]=new a({id:c,name:h,orderNo:p,state:f,workbook:this})).model=d}),this._definedNames.model=u.definedNames,this.views=u.views,this._themes=u.themes,this.media=u.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(i,r,n){const a=i("../utils/under-dash"),s=i("../utils/col-cache"),o=i("./range"),l=i("./row"),u=i("./column"),d=i("./enums"),c=i("./image"),h=i("./table"),f=i("./data-validations"),p=i("../utils/encryptor"),{copyStyle:g}=i("../utils/copy-style");r.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new f,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new o;return this._rows.forEach(v=>{if(v){const b=v.dimensions;b&&m.expand(v.number,b.min,v.number,b.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((y,I)=>{const D=(I.header?1:I.headers&&I.headers.length)||0;return Math.max(y,D)},0);let v=1;const b=this._columns=[];m.forEach(y=>{const I=new u(this,v++,!1);b.push(I),I.defn=y})}getColumnKey(m){return this._keys[m]}setColumnKey(m,v){this._keys[m]=v}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){a.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const v=this._keys[m];if(v)return v;m=s.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let v=this._columns.length+1;for(;v<=m;)this._columns.push(new u(this,v++))}return this._columns[m-1]}spliceColumns(m,v){const b=this._rows.length;for(var y=arguments.length,I=new Array(y>2?y-2:0),D=2;D<y;D++)I[D-2]=arguments[D];if(I.length>0)for(let $=0;$<b;$++){const j=[m,v];I.forEach(H=>{j.push(H[$]||null)});const q=this.getRow($+1);q.splice.apply(q,j)}else this._rows.forEach($=>{$&&$.splice(m,v)});const N=I.length-v,z=m+v,F=this._columns.length;if(N<0)for(let $=m+I.length;$<=F;$++)this.getColumn($).defn=this.getColumn($-N).defn;else if(N>0)for(let $=F;$>=z;$--)this.getColumn($+N).defn=this.getColumn($).defn;for(let $=m;$<m+I.length;$++)this.getColumn($).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,v,I.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(v=>{m=Math.max(m,v.cellCount)}),m}get actualColumnCount(){const m=[];let v=0;return this.eachRow(b=>{b.eachCell(y=>{let{col:I}=y;m[I]||(m[I]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const m=this._rows;let v=m.length;for(;v>0&&m[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,v){return this._rows.slice(m-1,m-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let v=this._rows[m-1];return v||(v=this._rows[m-1]=new l(this,m)),v}getRows(m,v){if(v<1)return;const b=[];for(let y=m;y<m+v;y++)b.push(this.getRow(y));return b}addRow(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=this._nextRow,y=this.getRow(b);return y.values=m,this._setStyleOption(b,v[0]==="i"?v:"n"),y}addRows(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=[];return m.forEach(y=>{b.push(this.addRow(y,v))}),b}insertRow(m,v){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,v),this._setStyleOption(m,b),this.getRow(m)}insertRows(m,v){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...v),b!=="n")for(let y=0;y<v.length;y++)b[0]==="o"&&this.findRow(v.length+m+y)!==void 0?this._copyStyle(v.length+m+y,m+y,b[1]==="+"):b[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+y,b[1]==="+");return this.getRows(m,v.length)}_setStyleOption(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,v[1]==="+"):v[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,v[1]==="+")}_copyStyle(m,v){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const y=this.getRow(m),I=this.getRow(v);I.style=g(y.style),y.eachCell({includeEmpty:b},(D,N)=>{I.getCell(N).style=g(D.style)}),I.height=y.height}duplicateRow(m,v){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const y=this._rows[m-1],I=new Array(v).fill(y.values);this.spliceRows(m+1,b?0:v,...I);for(let D=0;D<v;D++){const N=this._rows[m+D];N.style=y.style,N.height=y.height,y.eachCell({includeEmpty:!0},(z,F)=>{N.getCell(F).style=z.style})}}spliceRows(m,v){const b=m+v;for(var y=arguments.length,I=new Array(y>2?y-2:0),D=2;D<y;D++)I[D-2]=arguments[D];const N=I.length,z=N-v,F=this._rows.length;let $,j;if(z<0)for(m===F&&(this._rows[F-1]=void 0),$=b;$<=F;$++)if(j=this._rows[$-1],j){const q=this.getRow($+z);q.values=j.values,q.style=j.style,q.height=j.height,j.eachCell({includeEmpty:!0},(H,A)=>{q.getCell(A).style=H.style}),this._rows[$-1]=void 0}else this._rows[$+z-1]=void 0;else if(z>0)for($=F;$>=b;$--)if(j=this._rows[$-1],j){const q=this.getRow($+z);q.values=j.values,q.style=j.style,q.height=j.height,j.eachCell({includeEmpty:!0},(H,A)=>{if(q.getCell(A).style=H.style,H._value.constructor.name==="MergeValue"){const T=this.getRow(H._row._number+N).getCell(A),E=H._value._master,C=this.getRow(E._row._number+N).getCell(E._column._number);T.merge(C)}})}else this._rows[$+z-1]=void 0;for($=0;$<N;$++){const q=this.getRow(m+$);q.style={},q.values=I[$]}this.workbook.definedNames.spliceRows(this.name,m,v,N)}eachRow(m,v){if(v||(v=m,m=void 0),m&&m.includeEmpty){const b=this._rows.length;for(let y=1;y<=b;y++)v(this.getRow(y),y)}else this._rows.forEach(b=>{b&&b.hasValues&&v(b,b.number)})}getSheetValues(){const m=[];return this._rows.forEach(v=>{v&&(m[v.number]=v.values)}),m}findCell(m,v){const b=s.getAddress(m,v),y=this._rows[b.row-1];return y?y.findCell(b.col):void 0}getCell(m,v){const b=s.getAddress(m,v);return this.getRow(b.row).getCellEx(b)}mergeCells(){for(var m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];const y=new o(v);this._mergeCellsInternal(y)}mergeCellsWithoutStyle(){for(var m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];const y=new o(v);this._mergeCellsInternal(y,!0)}_mergeCellsInternal(m,v){a.each(this._merges,y=>{if(y.intersects(m))throw new Error("Cannot merge already merged cells")});const b=this.getCell(m.top,m.left);for(let y=m.top;y<=m.bottom;y++)for(let I=m.left;I<=m.right;I++)(y>m.top||I>m.left)&&this.getCell(y,I).merge(b,v);this._merges[b.address]=m}_unMergeMaster(m){const v=this._merges[m.address];if(v){for(let b=v.top;b<=v.bottom;b++)for(let y=v.left;y<=v.right;y++)this.getCell(b,y).unmerge();delete this._merges[m.address]}}get hasMerges(){return a.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];const y=new o(v);for(let I=y.top;I<=y.bottom;I++)for(let D=y.left;D<=y.right;D++){const N=this.findCell(I,D);N&&(N.type===d.ValueType.Merge?this._unMergeMaster(N.master):this._merges[N.address]&&this._unMergeMaster(N))}}fillFormula(m,v,b){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const I=s.decode(m),{top:D,left:N,bottom:z,right:F}=I,$=F-N+1,j=s.encodeAddress(D,N),q=y==="shared";let H;H=typeof b=="function"?b:Array.isArray(b)?Array.isArray(b[0])?(T,E)=>b[T-D][E-N]:(T,E)=>b[(T-D)*$+(E-N)]:()=>{};let A=!0;for(let T=D;T<=z;T++)for(let E=N;E<=F;E++)A?(this.getCell(T,E).value={shareType:y,formula:v,ref:m,result:H(T,E)},A=!1):this.getCell(T,E).value=q?{sharedFormula:j,result:H(T,E)}:H(T,E)}addImage(m,v){const b={type:"image",imageId:m,range:v};this._media.push(new c(this,b))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const v={type:"background",imageId:m};this._media.push(new c(this,v))}getBackgroundImageId(){const m=this._media.find(v=>v.type==="background");return m&&m.imageId}protect(m,v){return new Promise(b=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=p.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=p.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!m&&"spinCount"in v&&delete this.sheetProtection.spinCount),b()})}unprotect(){this.sheetProtection=null}addTable(m){const v=new h(this,m);return this.tables[m.name]=v,v}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(y=>y.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(y=>y.model),conditionalFormattings:this.conditionalFormattings};m.cols=u.toModel(this.columns);const v=m.rows=[],b=m.dimensions=new o;return this._rows.forEach(y=>{const I=y&&y.model;I&&(b.expand(I.number,I.min,I.number,I.max),v.push(I))}),m.merges=[],a.each(this._merges,y=>{m.merges.push(y.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(v=>{const b=new l(this,v.number);this._rows[b.number-1]=b,b.model=v})}_parseMergeCells(m){a.each(m.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(m){this.name=m.name,this._columns=u.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new f(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(v=>new c(this,v)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((v,b)=>{const y=new h;return y.model=b,v[b.name]=y,v},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(i,r,n){i("core-js/modules/es.promise"),i("core-js/modules/es.promise.finally"),i("core-js/modules/es.object.assign"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.values"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.async-iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.find-index"),i("core-js/modules/es.array.find"),i("core-js/modules/es.string.from-code-point"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.number.is-nan"),i("regenerator-runtime/runtime");const a={Workbook:i("./doc/workbook")},s=i("./doc/enums");Object.keys(s).forEach(o=>{a[o]=s[o]}),r.exports=a},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(i,r,n){const a=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");n.bufferToString=function(s){return typeof s=="string"?s:a?a.decode(s):s.toString()}},{}],17:[function(i,r,n){const a=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:s}=i("buffer");n.stringToBuffer=function(o){return typeof o!="string"?o:a?s.from(a.encode(o).buffer):s.from(o)}},{buffer:220}],18:[function(i,r,n){const a=i("./under-dash"),s=i("./col-cache");r.exports=class{constructor(o){this.template=o,this.sheets={}}addCell(o){this.addCellEx(s.decodeEx(o))}getCell(o){return this.findCellEx(s.decodeEx(o),!0)}findCell(o){return this.findCellEx(s.decodeEx(o),!1)}findCellAt(o,l,u){const d=this.sheets[o],c=d&&d[l];return c&&c[u]}addCellEx(o){if(o.top)for(let l=o.top;l<=o.bottom;l++)for(let u=o.left;u<=o.right;u++)this.getCellAt(o.sheetName,l,u);else this.findCellEx(o,!0)}getCellEx(o){return this.findCellEx(o,!0)}findCellEx(o,l){const u=this.findSheet(o,l),d=this.findSheetRow(u,o,l);return this.findRowCell(d,o,l)}getCellAt(o,l,u){const d=this.sheets[o]||(this.sheets[o]=[]),c=d[l]||(d[l]=[]);return c[u]||(c[u]={sheetName:o,address:s.n2l(u)+l,row:l,col:u})}removeCellEx(o){const l=this.findSheet(o);if(!l)return;const u=this.findSheetRow(l,o);u&&delete u[o.col]}forEachInSheet(o,l){const u=this.sheets[o];u&&u.forEach((d,c)=>{d&&d.forEach((h,f)=>{h&&l(h,c,f)})})}forEach(o){a.each(this.sheets,(l,u)=>{this.forEachInSheet(u,o)})}map(o){const l=[];return this.forEach(u=>{l.push(o(u))}),l}findSheet(o,l){const u=o.sheetName;return this.sheets[u]?this.sheets[u]:l?this.sheets[u]=[]:void 0}findSheetRow(o,l,u){const{row:d}=l;return o&&o[d]?o[d]:u?o[d]=[]:void 0}findRowCell(o,l,u){const{col:d}=l;return o&&o[d]?o[d]:u?o[d]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(o,l,u,d){const c=this.sheets[o];if(c){const h=[];for(let f=0;f<d;f++)h.push([]);c.splice(l,u,...h)}}spliceColumns(o,l,u,d){const c=this.sheets[o];if(c){const h=[];for(let f=0;f<d;f++)h.push(null);a.each(c,f=>{f.splice(l,u,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(i,r,n){const a=/^[A-Z]+\d+$/,s={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:o=>o<=26?1:o<=676?2:3,_fill(o){let l,u,d,c,h,f=1;if(o>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&o>=1){for(;f<=26;)l=this._dictionary[f-1],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=1}if(this._l2nFill<2&&o>=2){for(f=27;f<=702;)u=f-27,d=u%26,c=Math.floor(u/26),l=this._dictionary[c]+this._dictionary[d],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=2}if(this._l2nFill<3&&o>=3){for(f=703;f<=16384;)u=f-703,d=u%26,c=Math.floor(u/26)%26,h=Math.floor(u/676),l=this._dictionary[h]+this._dictionary[c]+this._dictionary[d],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=3}},l2n(o){if(this._l2n[o]||this._fill(o.length),!this._l2n[o])throw new Error("Out of bounds. Invalid column letter: "+o);return this._l2n[o]},n2l(o){if(o<1||o>16384)throw new Error(o+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[o]||this._fill(this._level(o)),this._n2l[o]},_hash:{},validateAddress(o){if(!a.test(o))throw new Error("Invalid Address: "+o);return!0},decodeAddress(o){const l=o.length<5&&this._hash[o];if(l)return l;let u=!1,d="",c=0,h=!1,f="",p=0;for(let m,v=0;v<o.length;v++)if(m=o.charCodeAt(v),!h&&m>=65&&m<=90)u=!0,d+=o[v],c=26*c+m-64;else if(m>=48&&m<=57)h=!0,f+=o[v],p=10*p+m-48;else if(h&&u&&m!==36)break;if(u){if(c>16384)throw new Error("Out of bounds. Invalid column letter: "+d)}else c=void 0;h||(p=void 0);const g={address:o=d+f,col:c,row:p,$col$row:`$${d}$${f}`};return c<=100&&p<=100&&(this._hash[o]=g,this._hash[g.$col$row]=g),g},getAddress(o,l){if(l){const u=this.n2l(l)+o;return this.decodeAddress(u)}return this.decodeAddress(o)},decode(o){const l=o.split(":");if(l.length===2){const u=this.decodeAddress(l[0]),d=this.decodeAddress(l[1]),c={top:Math.min(u.row,d.row),left:Math.min(u.col,d.col),bottom:Math.max(u.row,d.row),right:Math.max(u.col,d.col)};return c.tl=this.n2l(c.left)+c.top,c.br=this.n2l(c.right)+c.bottom,c.dimensions=`${c.tl}:${c.br}`,c}return this.decodeAddress(o)},decodeEx(o){const l=o.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),u=l[1]||l[2],d=l[3],c=d.split(":");if(c.length>1){let f=this.decodeAddress(c[0]),p=this.decodeAddress(c[1]);const g=Math.min(f.row,p.row),m=Math.min(f.col,p.col),v=Math.max(f.row,p.row),b=Math.max(f.col,p.col);return f=this.n2l(m)+g,p=this.n2l(b)+v,{top:g,left:m,bottom:v,right:b,sheetName:u,tl:{address:f,col:m,row:g,$col$row:`$${this.n2l(m)}$${g}`,sheetName:u},br:{address:p,col:b,row:v,$col$row:`$${this.n2l(b)}$${v}`,sheetName:u},dimensions:`${f}:${p}`}}if(d.startsWith("#"))return u?{sheetName:u,error:d}:{error:d};const h=this.decodeAddress(d);return u?{sheetName:u,...h}:h},encodeAddress:(o,l)=>s.n2l(l)+o,encode(){switch(arguments.length){case 2:return s.encodeAddress(arguments[0],arguments[1]);case 4:return`${s.encodeAddress(arguments[0],arguments[1])}:${s.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(o,l){const[u,d,,c,h]=o,[f,p]=l;return f>=u&&f<=c&&p>=d&&p<=h}};r.exports=s},{}],20:[function(i,r,n){const a=(o,l)=>({...o,...l.reduce((u,d)=>(o[d]&&(u[d]={...o[d]}),u),{})}),s=function(o,l,u){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];o[u]&&(l[u]=a(o[u],d))};n.copyStyle=o=>{if(!o)return o;if(l=o,Object.keys(l).length===0)return{};var l;const u={...o};return s(o,u,"font",["color"]),s(o,u,"alignment"),s(o,u,"protection"),o.border&&(s(o,u,"border"),s(o.border,u.border,"top",["color"]),s(o.border,u.border,"left",["color"]),s(o.border,u.border,"bottom",["color"]),s(o.border,u.border,"right",["color"]),s(o.border,u.border,"diagonal",["color"])),o.fill&&(s(o,u,"fill",["fgColor","bgColor","center"]),o.fill.stops&&(u.fill.stops=o.fill.stops.map(d=>a(d,["color"])))),u}},{}],21:[function(i,r,n){(function(a){(function(){const s=i("crypto"),o={hash(l){const u=s.createHash(l);for(var d=arguments.length,c=new Array(d>1?d-1:0),h=1;h<d;h++)c[h-1]=arguments[h];return u.update(a.concat(c)),u.digest()},convertPasswordToHash(l,u,d,c){if(u=u.toLowerCase(),s.getHashes().indexOf(u)<0)throw new Error(`Hash algorithm '${u}' not supported!`);const h=a.from(l,"utf16le");let f=this.hash(u,a.from(d,"base64"),h);for(let p=0;p<c;p++){const g=a.alloc(4);g.writeUInt32LE(p,0),f=this.hash(u,f,g)}return f.toString("base64")},randomBytes:l=>s.randomBytes(l)};r.exports=o}).call(this)}).call(this,i("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(i,r,n){const{SaxesParser:a}=i("saxes"),{PassThrough:s}=i("readable-stream"),{bufferToString:o}=i("./browser-buffer-decode");r.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new s));const u=new a;let d;u.on("error",h=>{d=h});let c=[];u.on("opentag",h=>c.push({eventType:"opentag",value:h})),u.on("text",h=>c.push({eventType:"text",value:h})),u.on("closetag",h=>c.push({eventType:"closetag",value:h}));for await(const h of l){if(u.write(o(h)),d)throw d;yield c,c=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(i,r,n){const a=i("./col-cache"),s=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;r.exports={slideFormula:function(l,u,d){const c=a.decode(u),h=a.decode(d);return l.replace(s,(f,p,g,m,v)=>{if(v)return f;const b=o.exec(m);if(b){const y=b[1],I=b[2].toUpperCase(),D=b[3],N=b[4];if(I.length>3||I.length===3&&I>"XFD")return f;let z=a.l2n(I),F=parseInt(N,10);return y||(z+=h.col-c.col),D||(F+=h.row-c.row),(p||"")+(y||"")+a.n2l(z)+(D||"")+F}return f})}}},{"./col-cache":19}],24:[function(i,r,n){(function(a,s){(function(){const o=i("readable-stream"),l=i("./utils"),u=i("./string-buf");class d{constructor(m,v){this._data=m,this._encoding=v}get length(){return this.toBuffer().length}copy(m,v,b,y){return this.toBuffer().copy(m,v,b,y)}toBuffer(){return this._buffer||(this._buffer=s.from(this._data,this._encoding)),this._buffer}}class c{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,b,y){return this._data._buf.copy(m,v,b,y)}toBuffer(){return this._data.toBuffer()}}class h{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,b,y){this._data.copy(m,v,b,y)}toBuffer(){return this._data}}class f{constructor(m){this.size=m,this.buffer=s.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=s.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let v;return m===0?null:m===void 0||m>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=s.alloc(m),this.buffer.copy(v,0,this.iRead,m),this.iRead+=m,v)}write(m,v,b){const y=Math.min(b,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,v,v+y),this.iWrite+=y,y}}const p=function(g){g=g||{},this.bufSize=g.bufSize||1048576,this.buffers=[],this.batch=g.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(p,o.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return s.concat(this.buffers.map(g=>g.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const g=new f(this.bufSize);return this.buffers.push(g),g},async _pipe(g){await Promise.all(this.pipes.map(function(m){return new Promise(v=>{m.write(g.toBuffer(),()=>{v()})})}))},_writeToBuffers(g){let m=0;const v=g.length;for(;m<v;)m+=this._getWritableBuffer().write(g,m,v-m)},async write(g,m,v){let b;if(m instanceof Function&&(v=m,m="utf8"),v=v||l.nop,g instanceof u)b=new c(g);else if(g instanceof s)b=new h(g);else{if(!(typeof g=="string"||g instanceof String||g instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");b=new d(g,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(b);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(b),a.nextTick(v)):(await this._pipe(b),v());else this.paused||this.emit("data",b.toBuffer()),this._writeToBuffers(b),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(g,m,v){const b=y=>{y?v(y):(this._flush(),this.pipes.forEach(I=>{I.end()}),this.emit("finish"))};g?this.write(g,m,b):b()},read(g){let m;if(g){for(m=[];g&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],b=v.read(g);g-=b.length,m.push(b),v.eod&&v.full&&this.buffers.shift()}return s.concat(m)}return m=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],s.concat(m)},setEncoding(g){this.encoding=g},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(g){this.pipes.push(g),!this.paused&&this.buffers.length&&this.end()},unpipe(g){this.pipes=this.pipes.filter(m=>m!==g)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),r.exports=p}).call(this)}).call(this,i("_process"),i("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(i,r,n){(function(a){(function(){r.exports=class{constructor(s){this._buf=a.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=a.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let o=2*this._buf.length;for(;o<s;)o*=2;const l=a.alloc(o);this._buf.copy(l,0),this._buf=l}addText(s){this._buffer=void 0;let o=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;o>=this._buf.length-4;)this._grow(this._inPos+s.length),o=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=o}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:220}],26:[function(i,r,n){const{toString:a}=Object.prototype,s=/["&<>]/,o={each:function(l,u){l&&(Array.isArray(l)?l.forEach(u):Object.keys(l).forEach(d=>{u(l[d],d)}))},some:function(l,u){return!!l&&(Array.isArray(l)?l.some(u):Object.keys(l).some(d=>u(l[d],d)))},every:function(l,u){return!l||(Array.isArray(l)?l.every(u):Object.keys(l).every(d=>u(l[d],d)))},map:function(l,u){return l?Array.isArray(l)?l.map(u):Object.keys(l).map(d=>u(l[d],d)):[]},keyBy:(l,u)=>l.reduce((d,c)=>(d[c[u]]=c,d),{}),isEqual:function(l,u){const d=typeof l,c=typeof u,h=Array.isArray(l),f=Array.isArray(u);let p;if(d!==c)return!1;switch(typeof l){case"object":if(h||f)return!(!h||!f)&&l.length===u.length&&l.every((g,m)=>{const v=u[m];return o.isEqual(g,v)});if(l===null||u===null)return l===u;if(p=Object.keys(l),Object.keys(u).length!==p.length)return!1;for(const g of p)if(!u.hasOwnProperty(g))return!1;return o.every(l,(g,m)=>{const v=u[m];return o.isEqual(g,v)});default:return l===u}},escapeHtml(l){const u=s.exec(l);if(!u)return l;let d="",c="",h=0,f=u.index;for(;f<l.length;f++){switch(l.charAt(f)){case'"':c="&quot;";break;case"&":c="&amp;";break;case"'":c="&apos;";break;case"<":c="&lt;";break;case">":c="&gt;";break;default:continue}h!==f&&(d+=l.substring(h,f)),h=f+1,d+=c}return h!==f?d+l.substring(h,f):d},strcmp:(l,u)=>l<u?-1:l>u?1:0,isUndefined:l=>a.call(l)==="[object Undefined]",isObject:l=>a.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:u}=arguments;let d,c,h;function f(p,g){d=l[g],h=Array.isArray(p),o.isObject(p)||h?(h?(h=!1,c=d&&Array.isArray(d)?d:[]):c=d&&o.isObject(d)?d:{},l[g]=o.deepMerge(c,p)):o.isUndefined(p)||(l[g]=p)}for(let p=0;p<u;p++)o.each(arguments[p],f);return l}};r.exports=o},{}],27:[function(i,r,n){(function(a,s){(function(){const o=i("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,u={nop(){},promiseImmediate:d=>new Promise(c=>{a.setImmediate?s(()=>{c(d)}):setTimeout(()=>{c(d)},1)}),inherits:function(d,c,h,f){d.super_=c,f||(f=h,h=null),h&&Object.keys(h).forEach(g=>{Object.defineProperty(d,g,Object.getOwnPropertyDescriptor(h,g))});const p={constructor:{value:d,enumerable:!1,writable:!1,configurable:!0}};f&&Object.keys(f).forEach(g=>{p[g]=Object.getOwnPropertyDescriptor(f,g)}),d.prototype=Object.create(c.prototype,p)},dateToExcel:(d,c)=>25569+d.getTime()/864e5-(c?1462:0),excelToDate(d,c){const h=Math.round(24*(d-25569+(c?1462:0))*3600*1e3);return new Date(h)},parsePath(d){const c=d.lastIndexOf("/");return{path:d.substring(0,c),name:d.substring(c+1)}},getRelsPath(d){const c=u.parsePath(d);return`${c.path}/_rels/${c.name}.rels`},xmlEncode(d){const c=l.exec(d);if(!c)return d;let h="",f="",p=0,g=c.index;for(;g<d.length;g++){const m=d.charCodeAt(g);switch(m){case 34:f="&quot;";break;case 38:f="&amp;";break;case 39:f="&apos;";break;case 60:f="&lt;";break;case 62:f="&gt;";break;case 127:f="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){f="";break}continue}p!==g&&(h+=d.substring(p,g)),p=g+1,f&&(h+=f)}return p!==g?h+d.substring(p,g):h},xmlDecode:d=>d.replace(/&([a-z]*);/g,c=>{switch(c){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return c}}),validInt(d){const c=parseInt(d,10);return Number.isNaN(c)?0:c},isDateFmt(d){return d?(d=(d=d.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:d=>new Promise(c=>{o.access(d,o.constants.F_OK,h=>{c(!h)})})},toIsoDateString:d=>d.toIsoString().subsstr(0,10),parseBoolean:d=>d===!0||d==="true"||d===1||d==="1"};r.exports=u}).call(this)}).call(this,typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{},i("timers").setImmediate)},{fs:216,timers:523}],28:[function(i,r,n){const a=i("./under-dash"),s=i("./utils");function o(d,c,h){d.push(` ${c}="${s.xmlEncode(h.toString())}"`)}function l(d,c){if(c){const h=[];a.each(c,(f,p)=>{f!==void 0&&o(h,p,f)}),d.push(h.join(""))}}class u{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(c){const h=this._xml;h.push("<?xml"),l(h,c),h.push(`?>
`)}openNode(c,h){const f=this.tos,p=this._xml;f&&this.open&&p.push(">"),this._stack.push(c),p.push("<"),p.push(c),l(p,h),this.leaf=!0,this.open=!0}addAttribute(c,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&o(this._xml,c,h)}addAttributes(c){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,c)}writeText(c){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(s.xmlEncode(c.toString()))}writeXml(c){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(c)}closeNode(){const c=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(c),h.push(">")),this.open=!1,this.leaf=!1}leafNode(c,h,f){this.openNode(c,h),f!==void 0&&this.writeText(f),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const c=this._rollbacks.pop();this._xml.length>c.xml&&this._xml.splice(c.xml,this._xml.length-c.xml),this._stack.length>c.stack&&this._stack.splice(c.stack,this._stack.length-c.stack),this.leaf=c.leaf,this.open=c.open}get xml(){return this.closeAll(),this._xml.join("")}}u.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},r.exports=u},{"./under-dash":26,"./utils":27}],29:[function(i,r,n){(function(a){(function(){const s=i("events"),o=i("jszip"),l=i("./stream-buf"),{stringToBuffer:u}=i("./browser-buffer-encode");class d extends s.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new o,this.stream=new l}append(h,f){f.hasOwnProperty("base64")&&f.base64?this.zip.file(f.name,h,{base64:!0}):(a.browser&&typeof h=="string"&&(h=u(h)),this.zip.file(f.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,f){return this.stream.pipe(h,f)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}r.exports={ZipWriter:d}}).call(this)}).call(this,i("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(i,r,n){r.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(i,r,n){r.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(i,r,n){const a=i("../../utils/parse-sax"),s=i("../../utils/xml-stream");class o{prepare(){}render(){}parseOpen(u){}parseText(u){}parseClose(u){}reconcile(u,d){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(u=>{u instanceof o?u.reset():u.xform&&u.xform.reset()})}mergeModel(u){this.model=Object.assign(this.model||{},u)}async parse(u){for await(const d of u)for(const{eventType:c,value:h}of d)if(c==="opentag")this.parseOpen(h);else if(c==="text")this.parseText(h);else if(c==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(u){return this.parse(a(u))}get xml(){return this.toXml(this.model)}toXml(u){const d=new s;return this.render(d,u),d.xml}static toAttribute(u,d){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(u===void 0){if(c)return d}else if(c||u!==d)return u.toString()}static toStringAttribute(u,d){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(u,d,c)}static toStringValue(u,d){return u===void 0?d:u}static toBoolAttribute(u,d){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(u===void 0){if(c)return d}else if(c||u!==d)return u?"1":"0"}static toBoolValue(u,d){return u===void 0?d:u==="1"}static toIntAttribute(u,d){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(u,d,c)}static toIntValue(u,d){return u===void 0?d:parseInt(u,10)}static toFloatAttribute(u,d){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(u,d,c)}static toFloatValue(u,d){return u===void 0?d:parseFloat(u)}}r.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(i,r,n){const a=i("../base-xform"),s=i("../../../utils/col-cache");function o(u){try{return s.decodeEx(u),!0}catch{return!1}}function l(u){const d=[];let c=!1,h="";return u.split(",").forEach(f=>{if(!f)return;const p=(f.match(/'/g)||[]).length;if(!p)return void(c?h+=f+",":o(f)&&d.push(f));const g=p%2==0;!c&&g&&o(f)?d.push(f):c&&!g?(c=!1,o(h+f)&&d.push(h+f),h=""):(c=!0,h+=f+",")}),d}r.exports=class extends a{render(u,d){u.openNode("definedName",{name:d.name,localSheetId:d.localSheetId}),u.writeText(d.ranges.join(",")),u.closeNode()}parseOpen(u){switch(u.name){case"definedName":return this._parsedName=u.attributes.name,this._parsedLocalSheetId=u.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(u){this._parsedText.push(u)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(i,r,n){const a=i("../../../utils/utils"),s=i("../base-xform");r.exports=class extends s{render(o,l){o.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(o){return o.name==="sheet"&&(this.model={name:a.xmlDecode(o.attributes.name),id:parseInt(o.attributes.sheetId,10),state:o.attributes.state,rId:o.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{render(s,o){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:o.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{render(s,o){s.leafNode("workbookPr",{date1904:o.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"&&(this.model={date1904:s.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{render(s,o){const l={xWindow:o.x||0,yWindow:o.y||0,windowWidth:o.width||12e3,windowHeight:o.height||24e3,firstSheet:o.firstSheet,activeTab:o.activeTab};o.visibility&&o.visibility!=="visible"&&(l.visibility=o.visibility),s.leafNode("workbookView",l)}parseOpen(s){if(s.name==="workbookView"){const o=this.model={},l=function(d,c,h){const f=c!==void 0?o[d]=c:h;f!==void 0&&(o[d]=f)},u=function(d,c,h){const f=c!==void 0?o[d]=parseInt(c,10):h;f!==void 0&&(o[d]=f)};return u("x",s.attributes.xWindow,0),u("y",s.attributes.yWindow,0),u("width",s.attributes.windowWidth,25e3),u("height",s.attributes.windowHeight,1e4),l("visibility",s.attributes.visibility,"visible"),u("activeTab",s.attributes.activeTab,void 0),u("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../../../utils/col-cache"),o=i("../../../utils/xml-stream"),l=i("../base-xform"),u=i("../static-xform"),d=i("../list-xform"),c=i("./defined-name-xform"),h=i("./sheet-xform"),f=i("./workbook-view-xform"),p=i("./workbook-properties-xform"),g=i("./workbook-calc-properties-xform");class m extends l{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new p,bookViews:new d({tag:"bookViews",count:!1,childXform:new f}),sheets:new d({tag:"sheets",count:!1,childXform:new h}),definedNames:new d({tag:"definedNames",count:!1,childXform:new c}),calcPr:new g}}prepare(b){b.sheets=b.worksheets;const y=[];let I=0;b.sheets.forEach(D=>{if(D.pageSetup&&D.pageSetup.printArea&&D.pageSetup.printArea.split("&&").forEach(N=>{const z=N.split(":"),F={name:"_xlnm.Print_Area",ranges:[`'${D.name}'!$${z[0]}:$${z[1]}`],localSheetId:I};y.push(F)}),D.pageSetup&&(D.pageSetup.printTitlesRow||D.pageSetup.printTitlesColumn)){const N=[];if(D.pageSetup.printTitlesColumn){const F=D.pageSetup.printTitlesColumn.split(":");N.push(`'${D.name}'!$${F[0]}:$${F[1]}`)}if(D.pageSetup.printTitlesRow){const F=D.pageSetup.printTitlesRow.split(":");N.push(`'${D.name}'!$${F[0]}:$${F[1]}`)}const z={name:"_xlnm.Print_Titles",ranges:N,localSheetId:I};y.push(z)}I++}),y.length&&(b.definedNames=b.definedNames.concat(y)),(b.media||[]).forEach((D,N)=>{D.name=D.type+(N+1)})}render(b,y){b.openXml(o.StdDocAttributes),b.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(b),this.map.workbookPr.render(b,y.properties),this.map.bookViews.render(b,y.views),this.map.sheets.render(b,y.sheets),this.map.definedNames.render(b,y.definedNames),this.map.calcPr.render(b,y.calcProperties),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"workbook":return!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(b){const y=(b.workbookRels||[]).reduce((F,$)=>(F[$.Id]=$,F),{}),I=[];let D,N=0;(b.sheets||[]).forEach(F=>{const $=y[F.rId];$&&(D=b.worksheetHash["xl/"+$.Target.replace(/^(\s|\/xl\/)+/,"")],D&&(D.name=F.name,D.id=F.id,D.state=F.state,I[N++]=D))});const z=[];a.each(b.definedNames,F=>{if(F.name==="_xlnm.Print_Area"){if(D=I[F.localSheetId],D){D.pageSetup||(D.pageSetup={});const $=s.decodeEx(F.ranges[0]);D.pageSetup.printArea=D.pageSetup.printArea?`${D.pageSetup.printArea}&&${$.dimensions}`:$.dimensions}}else if(F.name==="_xlnm.Print_Titles"){if(D=I[F.localSheetId],D){D.pageSetup||(D.pageSetup={});const $=F.ranges.join(","),j=/\$/g,q=/\$\d+:\$\d+/,H=$.match(q);if(H&&H.length){const E=H[0];D.pageSetup.printTitlesRow=E.replace(j,"")}const A=/\$[A-Z]+:\$[A-Z]+/,T=$.match(A);if(T&&T.length){const E=T[0];D.pageSetup.printTitlesColumn=E.replace(j,"")}}}else z.push(F)}),b.definedNames=z,b.media.forEach((F,$)=>{F.index=$})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new u({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},r.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(i,r,n){const a=i("../strings/rich-text-xform"),s=i("../../../utils/utils"),o=i("../base-xform"),l=r.exports=function(u){this.model=u};s.inherits(l,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new a),this._richTextXform},render(u,d){d=d||this.model,u.openNode("comment",{ref:d.ref,authorId:0}),u.openNode("text"),d&&d.note&&d.note.texts&&d.note.texts.forEach(c=>{this.richTextXform.render(u,c)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"comment":return this.model={type:"note",note:{texts:[]},...u.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(i,r,n){const a=i("../../../utils/xml-stream"),s=i("../../../utils/utils"),o=i("../base-xform"),l=i("./comment-xform"),u=r.exports=function(){this.map={comment:new l}};s.inherits(u,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(d,c){c=c||this.model,d.openXml(a.StdDocAttributes),d.openNode("comments",u.COMMENTS_ATTRIBUTES),d.openNode("authors"),d.leafNode("author",null,"Author"),d.closeNode(),d.openNode("commentList"),c.comments.forEach(h=>{this.map.comment.render(d,h)}),d.closeNode(),d.closeNode()},parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(d),!0;default:return!1}},parseText(d){this.parser&&this.parser.parseText(d)},parseClose(d){switch(d){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(i,r,n){const a=i("../../base-xform");r.exports=class extends a{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,o,l){(o===l[2]||this.tag==="x:SizeWithCells"&&o===l[1])&&s.leafNode(this.tag)}parseOpen(s){switch(s.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(i,r,n){const a=i("../../base-xform");r.exports=class extends a{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,o){s.leafNode(this.tag,null,o)}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"x:Anchor"}getAnchorRect(s){const o=Math.floor(s.left),l=Math.floor(68*(s.left-o)),u=Math.floor(s.top),d=Math.floor(18*(s.top-u)),c=Math.floor(s.right),h=Math.floor(68*(s.right-c)),f=Math.floor(s.bottom);return[o,l,u,d,c,h,f,Math.floor(18*(s.bottom-f))]}getDefaultRect(s){const o=s.col,l=Math.max(s.row-2,0);return[o,6,l,14,o+2,2,l+4,16]}render(s,o){const l=o.anchor?this.getAnchorRect(o.anchor):this.getDefaultRect(o.refAddress);s.leafNode("x:Anchor",null,l.join(", "))}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../base-xform":32}],44:[function(i,r,n){const a=i("../base-xform"),s=i("./vml-anchor-xform"),o=i("./style/vml-protection-xform"),l=i("./style/vml-position-xform"),u=["twoCells","oneCells","absolute"];r.exports=class extends a{constructor(){super(),this.map={"x:Anchor":new s,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(d,c){const{protection:h,editAs:f}=c.note;d.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(d,f,u),this.map["x:SizeWithCells"].render(d,f,u),this.map["x:Anchor"].render(d,c),this.map["x:Locked"].render(d,h.locked),d.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(d,h.lockText),d.leafNode("x:Row",null,c.refAddress.row-1),d.leafNode("x:Column",null,c.refAddress.col-1),d.closeNode()}parseOpen(d){switch(d.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const d=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),c=Object.keys(d).length;this.model.editAs=u[c],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(i,r,n){const a=i("../../../utils/xml-stream"),s=i("../base-xform"),o=i("./vml-shape-xform");class l extends s{constructor(){super(),this.map={"v:shape":new o}}get tag(){return"xml"}render(d,c){d.openXml(a.StdDocAttributes),d.openNode(this.tag,l.DRAWING_ATTRIBUTES),d.openNode("o:shapelayout",{"v:ext":"edit"}),d.leafNode("o:idmap",{"v:ext":"edit",data:1}),d.closeNode(),d.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),d.leafNode("v:stroke",{joinstyle:"miter"}),d.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),d.closeNode(),c.comments.forEach((h,f)=>{this.map["v:shape"].render(d,h,f)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,c){d.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,c):this.map["xdr:oneCellAnchor"].reconcile(h,c)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},r.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(i,r,n){const a=i("../base-xform"),s=i("./vml-textbox-xform"),o=i("./vml-client-data-xform");class l extends a{constructor(){super(),this.map={"v:textbox":new s,"x:ClientData":new o}}get tag(){return"v:shape"}render(d,c,h){d.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(c,h)),d.leafNode("v:fill",{color2:"infoBackground [80]"}),d.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),d.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(d,c),this.map["x:ClientData"].render(d,c),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={margins:{insetmode:d.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(u,d)=>({id:"_x0000_s"+(1025+d),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":u.note.margins&&u.note.margins.insetmode}),r.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"v:textbox"}conversionUnit(s,o,l){return`${parseFloat(s)*o.toFixed(2)}${l}`}reverseConversionUnit(s){return(s||"").split(",").map(o=>Number(parseFloat(this.conversionUnit(parseFloat(o),.1,"")).toFixed(2)))}render(s,o){const l={style:"mso-direction-alt:auto"};if(o&&o.note){let{inset:u}=o.note&&o.note.margins;Array.isArray(u)&&(u=u.map(d=>this.conversionUnit(d,10,"mm")).join(",")),u&&(l.inset=u)}s.openNode("v:textbox",l),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return this.model={inset:this.reverseConversionUnit(s.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(i,r,n){const a=i("./base-xform");r.exports=class extends a{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag&&(this.model=this.createNewModel(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,o){this.model[s]=o.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}},{"./base-xform":32}],49:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{render(s,o){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,o.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{render(s,o){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:o.length,baseType:"lpstr"}),o.forEach(l=>{s.leafNode("vt:lpstr",void 0,l.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(i,r,n){const a=i("../../../utils/xml-stream"),s=i("../base-xform"),o=i("../simple/string-xform"),l=i("./app-heading-pairs-xform"),u=i("./app-titles-of-parts-xform");class d extends s{constructor(){super(),this.map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new u}}render(h,f){h.openXml(a.StdDocAttributes),h.openNode("Properties",d.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,f.worksheets),this.map.TitleOfParts.render(h,f.worksheets),this.map.Company.render(h,f.company||""),this.map.Manager.render(h,f.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}d.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3,6}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},r.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(i,r,n){const a=i("../../../utils/xml-stream"),s=i("../base-xform");class o extends s{render(u,d){u.openXml(a.StdDocAttributes),u.openNode("Types",o.PROPERTY_ATTRIBUTES);const c={};(d.media||[]).forEach(h=>{if(h.type==="image"){const f=h.extension;c[f]||(c[f]=!0,u.leafNode("Default",{Extension:f,ContentType:"image/"+f}))}}),u.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),u.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),u.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),d.worksheets.forEach(h=>{const f=`/xl/worksheets/sheet${h.id}.xml`;u.leafNode("Override",{PartName:f,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),u.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),u.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),d.sharedStrings&&d.sharedStrings.count&&u.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),d.tables&&d.tables.forEach(h=>{u.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),d.drawings&&d.drawings.forEach(h=>{u.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),d.commentRefs&&(u.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),d.commentRefs.forEach(h=>{let{commentName:f}=h;u.leafNode("Override",{PartName:`/xl/${f}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),u.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),u.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),u.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}o.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},r.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(i,r,n){const a=i("../../../utils/xml-stream"),s=i("../base-xform"),o=i("../simple/date-xform"),l=i("../simple/string-xform"),u=i("../simple/integer-xform");class d extends s{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:d.DateFormat}),"cp:revision":new u({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:d.DateAttrs,format:d.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:d.DateAttrs,format:d.DateFormat})}}render(h,f){h.openXml(a.StdDocAttributes),h.openNode("cp:coreProperties",d.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,f.creator),this.map["dc:title"].render(h,f.title),this.map["dc:subject"].render(h,f.subject),this.map["dc:description"].render(h,f.description),this.map["dc:identifier"].render(h,f.identifier),this.map["dc:language"].render(h,f.language),this.map["cp:keywords"].render(h,f.keywords),this.map["cp:category"].render(h,f.category),this.map["cp:lastModifiedBy"].render(h,f.lastModifiedBy),this.map["cp:lastPrinted"].render(h,f.lastPrinted),this.map["cp:revision"].render(h,f.revision),this.map["cp:version"].render(h,f.version),this.map["cp:contentStatus"].render(h,f.contentStatus),this.map["cp:contentType"].render(h,f.contentType),this.map["dcterms:created"].render(h,f.created),this.map["dcterms:modified"].render(h,f.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}d.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},r.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{render(s,o){s.leafNode("Relationship",o)}parseOpen(s){switch(s.name){case"Relationship":return this.model=s.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(i,r,n){const a=i("../../../utils/xml-stream"),s=i("../base-xform"),o=i("./relationship-xform");class l extends s{constructor(){super(),this.map={Relationship:new o}}render(d,c){c=c||this._values,d.openXml(a.StdDocAttributes),d.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),c.forEach(h=>{this.map.Relationship.render(d,h)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(d){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},r.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,o){if(s&&s.rId){const l=o.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const u=l[1],d=o.mediaIndex[u];return o.media[d]}}}}},{"../base-xform":32}],57:[function(i,r,n){const a=i("../base-xform"),s=i("./blip-xform");r.exports=class extends a{constructor(){super(),this.map={"a:blip":new s}}get tag(){return"xdr:blipFill"}render(o,l){o.openNode(this.tag),this.map["a:blip"].render(o,l),o.openNode("a:stretch"),o.leafNode("a:fillRect"),o.closeNode(),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"a:blip"}render(s,o){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":o.rId,cstate:"print"})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(i,r,n){const a=i("../base-xform"),s=i("./hlink-click-xform"),o=i("./ext-lst-xform");r.exports=class extends a{constructor(){super(),this.map={"a:hlinkClick":new s,"a:extLst":new o}}get tag(){return"xdr:cNvPr"}render(l,u){l.openNode(this.tag,{id:u.index,name:"Picture "+u.index}),this.map["a:hlinkClick"].render(l,u),this.map["a:extLst"].render(l,u),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(i,r,n){const a=i("../base-xform"),s=i("../simple/integer-xform");r.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.map={"xdr:col":new s({tag:"xdr:col",zero:!0}),"xdr:colOff":new s({tag:"xdr:colOff",zero:!0}),"xdr:row":new s({tag:"xdr:row",zero:!0}),"xdr:rowOff":new s({tag:"xdr:rowOff",zero:!0})}}render(o,l){o.openNode(this.tag),this.map["xdr:col"].render(o,l.nativeCol),this.map["xdr:colOff"].render(o,l.nativeColOff),this.map["xdr:row"].render(o,l.nativeRow),this.map["xdr:rowOff"].render(o,l.nativeRowOff),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(i,r,n){const a=i("../../../utils/col-cache"),s=i("../../../utils/xml-stream"),o=i("../base-xform"),l=i("./two-cell-anchor-xform"),u=i("./one-cell-anchor-xform");class d extends o{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new u}}prepare(h){h.anchors.forEach((f,p)=>{f.anchorType=function(g){return(typeof g.range=="string"?a.decode(g.range):g.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(f),this.map[f.anchorType].prepare(f,{index:p})})}get tag(){return"xdr:wsDr"}render(h,f){h.openXml(s.StdDocAttributes),h.openNode(this.tag,d.DRAWING_ATTRIBUTES),f.anchors.forEach(p=>{this.map[p.anchorType].render(h,p)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,f){h.anchors.forEach(p=>{p.br?this.map["xdr:twoCellAnchor"].reconcile(p,f):this.map["xdr:oneCellAnchor"].reconcile(p,f)})}}d.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},r.exports=d},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.map={}}render(s,o){s.openNode(this.tag);const l=Math.floor(9525*o.width),u=Math.floor(9525*o.height);s.addAttribute("cx",l),s.addAttribute("cy",u),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={width:parseInt(s.attributes.cx||"0",10)/9525,height:parseInt(s.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"a:hlinkClick"}render(s,o){o.hyperlinks&&o.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":o.hyperlinks.rId,tooltip:o.hyperlinks.tooltip})}parseOpen(s){switch(s.name){case this.tag:return this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(i,r,n){const a=i("../base-xform"),s=i("./c-nv-pr-xform"),o=i("./c-nv-pic-pr-xform");r.exports=class extends a{constructor(){super(),this.map={"xdr:cNvPr":new s,"xdr:cNvPicPr":new o}}get tag(){return"xdr:nvPicPr"}render(l,u){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,u),this.map["xdr:cNvPicPr"].render(l,u),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(i,r,n){const a=i("./base-cell-anchor-xform"),s=i("../static-xform"),o=i("./cell-position-xform"),l=i("./ext-xform"),u=i("./pic-xform");r.exports=class extends a{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new u,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(d,c){this.map["xdr:pic"].prepare(d.picture,c)}render(d,c){d.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(d,c.range.tl),this.map["xdr:ext"].render(d,c.range.ext),this.map["xdr:pic"].render(d,c.picture),this.map["xdr:clientData"].render(d,{}),d.closeNode()}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(d,c){d.medium=this.reconcilePicture(d.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(i,r,n){const a=i("../base-xform"),s=i("../static-xform"),o=i("./blip-fill-xform"),l=i("./nv-pic-pr-xform"),u=i("./sp-pr");r.exports=class extends a{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new o,"xdr:spPr":new s(u)}}get tag(){return"xdr:pic"}prepare(d,c){d.index=c.index+1}render(d,c){d.openNode(this.tag),this.map["xdr:nvPicPr"].render(d,c),this.map["xdr:blipFill"].render(d,c),this.map["xdr:spPr"].render(d,c),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset();break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(){}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(i,r,n){r.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(i,r,n){const a=i("./base-cell-anchor-xform"),s=i("../static-xform"),o=i("./cell-position-xform"),l=i("./pic-xform");r.exports=class extends a{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(u,d){this.map["xdr:pic"].prepare(u.picture,d)}render(u,d){u.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,d.range.tl),this.map["xdr:to"].render(u,d.range.br),this.map["xdr:pic"].render(u,d.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,d){u.medium=this.reconcilePicture(u.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(i,r,n){const a=i("./base-xform");r.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,o){const{childXform:l}=this;s&&s.forEach((u,d)=>{o.index=d,l.prepare(u,o)})}render(s,o){if(this.always||o&&o.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,o&&o.length||0);const{childXform:l}=this;(o||[]).forEach((u,d)=>{l.render(s,u,d)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(s)&&(this.parser=this.childXform,!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,o){if(s){const{childXform:l}=this;s.forEach(u=>{l.reconcile(u,o)})}}}},{"./base-xform":32}],72:[function(i,r,n){const a=i("../../../utils/col-cache"),s=i("../base-xform");r.exports=class extends s{get tag(){return"autoFilter"}render(o,l){if(l)if(typeof l=="string")o.leafNode("autoFilter",{ref:l});else{const u=function(h){return typeof h=="string"?h:a.getAddress(h.row,h.column).address},d=u(l.from),c=u(l.to);d&&c&&o.leafNode("autoFilter",{ref:`${d}:${c}`})}}parseOpen(o){o.name==="autoFilter"&&(this.model=o.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(i,r,n){const a=i("../../../utils/utils"),s=i("../base-xform"),o=i("../../../doc/range"),l=i("../../../doc/enums"),u=i("../strings/rich-text-xform");function d(c){if(c==null)return l.ValueType.Null;if(c instanceof String||typeof c=="string")return l.ValueType.String;if(typeof c=="number")return l.ValueType.Number;if(typeof c=="boolean")return l.ValueType.Boolean;if(c instanceof Date)return l.ValueType.Date;if(c.text&&c.hyperlink)return l.ValueType.Hyperlink;if(c.formula)return l.ValueType.Formula;if(c.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}r.exports=class extends s{constructor(){super(),this.richTextXForm=new u}get tag(){return"c"}prepare(c,h){const f=h.styles.addStyleModel(c.style||{},function(p){switch(p.type){case l.ValueType.Formula:return d(p.result);default:return p.type}}(c));switch(f&&(c.styleId=f),c.comment&&h.comments.push({...c.comment,ref:c.address}),c.type){case l.ValueType.String:case l.ValueType.RichText:h.sharedStrings&&(c.ssId=h.sharedStrings.add(c.value));break;case l.ValueType.Date:h.date1904&&(c.date1904=!0);break;case l.ValueType.Hyperlink:h.sharedStrings&&c.text!==void 0&&c.text!==null&&(c.ssId=h.sharedStrings.add(c.text)),h.hyperlinks.push({address:c.address,target:c.hyperlink,tooltip:c.tooltip});break;case l.ValueType.Merge:h.merges.add(c);break;case l.ValueType.Formula:if(h.date1904&&(c.date1904=!0),c.shareType==="shared"&&(c.si=h.siFormulae++),c.formula)h.formulae[c.address]=c;else if(c.sharedFormula){const p=h.formulae[c.sharedFormula];if(!p)throw new Error("Shared Formula master must exist above and or left of clone for cell "+c.address);p.si===void 0?(p.shareType="shared",p.si=h.siFormulae++,p.range=new o(p.address,c.address)):p.range&&p.range.expandToAddress(c.address),c.si=p.si}}}renderFormula(c,h){let f=null;switch(h.shareType){case"shared":f={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":f={t:"array",ref:h.ref};break;default:h.si!==void 0&&(f={t:"shared",si:h.si})}switch(d(h.result)){case l.ValueType.Null:c.leafNode("f",f,h.formula);break;case l.ValueType.String:c.addAttribute("t","str"),c.leafNode("f",f,h.formula),c.leafNode("v",null,h.result);break;case l.ValueType.Number:c.leafNode("f",f,h.formula),c.leafNode("v",null,h.result);break;case l.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("f",f,h.formula),c.leafNode("v",null,h.result?1:0);break;case l.ValueType.Error:c.addAttribute("t","e"),c.leafNode("f",f,h.formula),c.leafNode("v",null,h.result.error);break;case l.ValueType.Date:c.leafNode("f",f,h.formula),c.leafNode("v",null,a.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(c,h){if(h.type!==l.ValueType.Null||h.styleId){switch(c.openNode("c"),c.addAttribute("r",h.address),h.styleId&&c.addAttribute("s",h.styleId),h.type){case l.ValueType.Null:break;case l.ValueType.Number:c.leafNode("v",null,h.value);break;case l.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("v",null,h.value?"1":"0");break;case l.ValueType.Error:c.addAttribute("t","e"),c.leafNode("v",null,h.value.error);break;case l.ValueType.String:case l.ValueType.RichText:h.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(c.addAttribute("t","inlineStr"),c.openNode("is"),h.value.richText.forEach(f=>{this.richTextXForm.render(c,f)}),c.closeNode("is")):(c.addAttribute("t","str"),c.leafNode("v",null,h.value));break;case l.ValueType.Date:c.leafNode("v",null,a.dateToExcel(h.value,h.date1904));break;case l.ValueType.Hyperlink:h.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,h.ssId)):(c.addAttribute("t","str"),c.leafNode("v",null,h.text));break;case l.ValueType.Formula:this.renderFormula(c,h);break;case l.ValueType.Merge:}c.closeNode()}}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"c":return this.model={address:c.attributes.r},this.t=c.attributes.t,c.attributes.s&&(this.model.styleId=parseInt(c.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=c.attributes.si,this.model.shareType=c.attributes.t,this.model.ref=c.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){if(this.parser)this.parser.parseText(c);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+c:c;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+c:c:this.model.value=this.model.value?this.model.value+c:c}}parseClose(c){switch(c){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=l.ValueType.Formula,h.value&&(this.t==="str"?h.result=a.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=l.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=l.ValueType.String,h.value=a.xmlDecode(h.value);break;case"inlineStr":h.type=l.ValueType.String;break;case"b":h.type=l.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=l.ValueType.Error,h.value={error:h.value};break;default:h.type=l.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=l.ValueType.Null:h.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(c),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(c),!0)}}reconcile(c,h){const f=c.styleId&&h.styles&&h.styles.getStyleModel(c.styleId);switch(f&&(c.style=f),c.styleId!==void 0&&(c.styleId=void 0),c.type){case l.ValueType.String:typeof c.value=="number"&&h.sharedStrings&&(c.value=h.sharedStrings.getString(c.value)),c.value.richText&&(c.type=l.ValueType.RichText);break;case l.ValueType.Number:f&&a.isDateFmt(f.numFmt)&&(c.type=l.ValueType.Date,c.value=a.excelToDate(c.value,h.date1904));break;case l.ValueType.Formula:c.result!==void 0&&f&&a.isDateFmt(f.numFmt)&&(c.result=a.excelToDate(c.result,h.date1904)),c.shareType==="shared"&&(c.ref?h.formulae[c.si]=c.address:(c.sharedFormula=h.formulae[c.si],delete c.shareType),delete c.si)}const p=h.hyperlinkMap[c.address];p&&(c.type===l.ValueType.Formula?(c.text=c.result,c.result=void 0):(c.text=c.value,c.value=void 0),c.type=l.ValueType.Hyperlink,c.hyperlink=p);const g=h.commentsMap&&h.commentsMap[c.address];g&&(c.comment=g)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(i,r,n){const a=i("../../base-xform");r.exports=class extends a{get tag(){return"x14:cfIcon"}render(s,o){s.leafNode(this.tag,{iconSet:o.iconSet,iconId:o.iconId})}parseOpen(s){let{attributes:o}=s;this.model={iconSet:o.iconSet,iconId:a.toIntValue(o.iconId)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],75:[function(i,r,n){const{v4:a}=i("uuid"),s=i("../../base-xform"),o=i("../../composite-xform"),l=i("./databar-ext-xform"),u=i("./icon-set-ext-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class c extends o{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new u}}get tag(){return"x14:cfRule"}static isExt(f){return f.type==="dataBar"?l.isExt(f):!(f.type!=="iconSet"||!f.custom&&!d[f.iconSet])}prepare(f){c.isExt(f)&&(f.x14Id=`{${a()}}`.toUpperCase())}render(f,p){if(c.isExt(p))switch(p.type){case"dataBar":this.renderDataBar(f,p);break;case"iconSet":this.renderIconSet(f,p)}}renderDataBar(f,p){f.openNode(this.tag,{type:"dataBar",id:p.x14Id}),this.databarXform.render(f,p),f.closeNode()}renderIconSet(f,p){f.openNode(this.tag,{type:"iconSet",priority:p.priority,id:p.x14Id||`{${a()}}`}),this.iconSetXform.render(f,p),f.closeNode()}createNewModel(f){let{attributes:p}=f;return{type:p.type,x14Id:p.id,priority:s.toIntValue(p.priority)}}onParserClose(f,p){Object.assign(this.model,p.model)}}r.exports=c},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(i,r,n){const a=i("../../composite-xform"),s=i("./f-ext-xform");r.exports=class extends a{constructor(){super(),this.map={"xm:f":this.fExtXform=new s}}get tag(){return"x14:cfvo"}render(o,l){o.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(o,l.value),o.closeNode()}createNewModel(o){return{type:o.attributes.type}}onParserClose(o,l){switch(o){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(i,r,n){const a=i("../../composite-xform"),s=i("./sqref-ext-xform"),o=i("./cf-rule-ext-xform");r.exports=class extends a{constructor(){super(),this.map={"xm:sqref":this.sqRef=new s,"x14:cfRule":this.cfRule=new o}}get tag(){return"x14:conditionalFormatting"}prepare(l,u){l.rules.forEach(d=>{this.cfRule.prepare(d,u)})}render(l,u){u.rules.some(o.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),u.rules.filter(o.isExt).forEach(d=>this.cfRule.render(l,d)),this.sqRef.render(l,u.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,u){switch(l){case"xm:sqref":this.model.ref=u.model;break;case"x14:cfRule":this.model.rules.push(u.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(i,r,n){const a=i("../../composite-xform"),s=i("./cf-rule-ext-xform"),o=i("./conditional-formatting-ext-xform");r.exports=class extends a{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new o}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(u=>u.rules.some(s.isExt))),l.hasExtContent}prepare(l,u){l.forEach(d=>{this.cfXform.prepare(d,u)})}render(l,u){this.hasContent(u)&&(l.openNode(this.tag),u.forEach(d=>this.cfXform.render(l,d)),l.closeNode())}createNewModel(){return[]}onParserClose(l,u){this.model.push(u.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(i,r,n){const a=i("../../base-xform"),s=i("../../composite-xform"),o=i("../../style/color-xform"),l=i("./cfvo-ext-xform");r.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new o("x14:axisColor")}}static isExt(u){return!u.gradient}get tag(){return"x14:dataBar"}render(u,d){u.openNode(this.tag,{minLength:a.toIntAttribute(d.minLength,0,!0),maxLength:a.toIntAttribute(d.maxLength,100,!0),border:a.toBoolAttribute(d.border,!1),gradient:a.toBoolAttribute(d.gradient,!0),negativeBarColorSameAsPositive:a.toBoolAttribute(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolAttribute(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toAttribute(d.axisPosition,"auto"),direction:a.toAttribute(d.direction,"leftToRight")}),d.cfvo.forEach(c=>{this.cfvoXform.render(u,c)}),this.borderColorXform.render(u,d.borderColor),this.negativeBorderColorXform.render(u,d.negativeBorderColor),this.negativeFillColorXform.render(u,d.negativeFillColor),this.axisColorXform.render(u,d.axisColor),u.closeNode()}createNewModel(u){let{attributes:d}=u;return{cfvo:[],minLength:a.toIntValue(d.minLength,0),maxLength:a.toIntValue(d.maxLength,100),border:a.toBoolValue(d.border,!1),gradient:a.toBoolValue(d.gradient,!0),negativeBarColorSameAsPositive:a.toBoolValue(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolValue(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toStringValue(d.axisPosition,"auto"),direction:a.toStringValue(d.direction,"leftToRight")}}onParserClose(u,d){const[,c]=u.split(":");switch(c){case"cfvo":this.model.cfvo.push(d.model);break;default:this.model[c]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(i,r,n){const a=i("../../base-xform");r.exports=class extends a{get tag(){return"xm:f"}render(s,o){s.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],81:[function(i,r,n){const a=i("../../base-xform"),s=i("../../composite-xform"),o=i("./cfvo-ext-xform"),l=i("./cf-icon-ext-xform");r.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(u,d){u.openNode(this.tag,{iconSet:a.toStringAttribute(d.iconSet),reverse:a.toBoolAttribute(d.reverse,!1),showValue:a.toBoolAttribute(d.showValue,!0),custom:a.toBoolAttribute(d.icons,!1)}),d.cfvo.forEach(c=>{this.cfvoXform.render(u,c)}),d.icons&&d.icons.forEach((c,h)=>{c.iconId=h,this.cfIconXform.render(u,c)}),u.closeNode()}createNewModel(u){let{attributes:d}=u;return{cfvo:[],iconSet:a.toStringValue(d.iconSet,"3TrafficLights"),reverse:a.toBoolValue(d.reverse,!1),showValue:a.toBoolValue(d.showValue,!0)}}onParserClose(u,d){const[,c]=u.split(":");switch(c){case"cfvo":this.model.cfvo.push(d.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(d.model);break;default:this.model[c]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(i,r,n){const a=i("../../base-xform");r.exports=class extends a{get tag(){return"xm:sqref"}render(s,o){s.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],83:[function(i,r,n){const a=i("../../base-xform"),s=i("../../composite-xform"),o=i("../../../../doc/range"),l=i("./databar-xform"),u=i("./ext-lst-ref-xform"),d=i("./formula-xform"),c=i("./color-scale-xform"),h=i("./icon-set-xform"),f={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},p=m=>{const{type:v,operator:b}=m;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:b}}};class g extends s{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new u,formula:this.formulaXform=new d,colorScale:this.colorScaleXform=new c,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!f[v.iconSet]}render(v,b){switch(b.type){case"expression":this.renderExpression(v,b);break;case"cellIs":this.renderCellIs(v,b);break;case"top10":this.renderTop10(v,b);break;case"aboveAverage":this.renderAboveAverage(v,b);break;case"dataBar":this.renderDataBar(v,b);break;case"colorScale":this.renderColorScale(v,b);break;case"iconSet":this.renderIconSet(v,b);break;case"containsText":this.renderText(v,b);break;case"timePeriod":this.renderTimePeriod(v,b)}}renderExpression(v,b){v.openNode(this.tag,{type:"expression",dxfId:b.dxfId,priority:b.priority}),this.formulaXform.render(v,b.formulae[0]),v.closeNode()}renderCellIs(v,b){v.openNode(this.tag,{type:"cellIs",dxfId:b.dxfId,priority:b.priority,operator:b.operator}),b.formulae.forEach(y=>{this.formulaXform.render(v,y)}),v.closeNode()}renderTop10(v,b){v.leafNode(this.tag,{type:"top10",dxfId:b.dxfId,priority:b.priority,percent:a.toBoolAttribute(b.percent,!1),bottom:a.toBoolAttribute(b.bottom,!1),rank:a.toIntValue(b.rank,10,!0)})}renderAboveAverage(v,b){v.leafNode(this.tag,{type:"aboveAverage",dxfId:b.dxfId,priority:b.priority,aboveAverage:a.toBoolAttribute(b.aboveAverage,!0)})}renderDataBar(v,b){v.openNode(this.tag,{type:"dataBar",priority:b.priority}),this.databarXform.render(v,b),this.extLstRefXform.render(v,b),v.closeNode()}renderColorScale(v,b){v.openNode(this.tag,{type:"colorScale",priority:b.priority}),this.colorScaleXform.render(v,b),v.closeNode()}renderIconSet(v,b){g.isPrimitive(b)&&(v.openNode(this.tag,{type:"iconSet",priority:b.priority}),this.iconSetXform.render(v,b),v.closeNode())}renderText(v,b){v.openNode(this.tag,{type:b.operator,dxfId:b.dxfId,priority:b.priority,operator:a.toStringAttribute(b.operator,"containsText")});const y=(I=>{if(I.formulae&&I.formulae[0])return I.formulae[0];const D=new o(I.ref),{tl:N}=D;switch(I.operator){case"containsText":return`NOT(ISERROR(SEARCH("${I.text}",${N})))`;case"containsBlanks":return`LEN(TRIM(${N}))=0`;case"notContainsBlanks":return`LEN(TRIM(${N}))>0`;case"containsErrors":return`ISERROR(${N})`;case"notContainsErrors":return`NOT(ISERROR(${N}))`;default:return}})(b);y&&this.formulaXform.render(v,y),v.closeNode()}renderTimePeriod(v,b){v.openNode(this.tag,{type:"timePeriod",dxfId:b.dxfId,priority:b.priority,timePeriod:b.timePeriod});const y=(I=>{if(I.formulae&&I.formulae[0])return I.formulae[0];const D=new o(I.ref),{tl:N}=D;switch(I.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${N},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${N},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${N},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${N},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${N},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${N},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${N},1)=TODAY()-1`;case"today":return`FLOOR(${N},1)=TODAY()`;case"tomorrow":return`FLOOR(${N},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${N},1)<=6,FLOOR(${N},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${N})=MONTH(EDATE(TODAY(),0-1)),YEAR(${N})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${N})=MONTH(TODAY()),YEAR(${N})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${N})=MONTH(EDATE(TODAY(),0+1)),YEAR(${N})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(b);y&&this.formulaXform.render(v,y),v.closeNode()}createNewModel(v){let{attributes:b}=v;return{...p(b),dxfId:a.toIntValue(b.dxfId),priority:a.toIntValue(b.priority),timePeriod:b.timePeriod,percent:a.toBoolValue(b.percent),bottom:a.toBoolValue(b.bottom),rank:a.toIntValue(b.rank),aboveAverage:a.toBoolValue(b.aboveAverage)}}onParserClose(v,b){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,b.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(b.model)}}}r.exports=g},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(i,r,n){const a=i("../../base-xform");r.exports=class extends a{get tag(){return"cfvo"}render(s,o){s.leafNode(this.tag,{type:o.type,val:o.value})}parseOpen(s){this.model={type:s.attributes.type,value:a.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],85:[function(i,r,n){const a=i("../../composite-xform"),s=i("../../style/color-xform"),o=i("./cfvo-xform");r.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new s}}get tag(){return"colorScale"}render(l,u){l.openNode(this.tag),u.cfvo.forEach(d=>{this.cfvoXform.render(l,d)}),u.color.forEach(d=>{this.colorXform.render(l,d)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,u){this.model[l].push(u.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(i,r,n){const a=i("../../composite-xform"),s=i("./cf-rule-xform");r.exports=class extends a{constructor(){super(),this.map={cfRule:new s}}get tag(){return"conditionalFormatting"}render(o,l){l.rules.some(s.isPrimitive)&&(o.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(u=>{s.isPrimitive(u)&&(u.ref=l.ref,this.map.cfRule.render(o,u))}),o.closeNode())}createNewModel(o){let{attributes:l}=o;return{ref:l.sqref,rules:[]}}onParserClose(o,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(i,r,n){const a=i("../../base-xform"),s=i("./conditional-formatting-xform");r.exports=class extends a{constructor(){super(),this.cfXform=new s}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(o,l){let u=o.reduce((d,c)=>Math.max(d,...c.rules.map(h=>h.priority||0)),1);o.forEach(d=>{d.rules.forEach(c=>{c.priority||(c.priority=u++),c.style&&(c.dxfId=l.styles.addDxfStyle(c.style))})})}render(o,l){l.forEach(u=>{this.cfXform.render(o,u)})}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(!!this.parser.parseClose(o)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(o,l){o.forEach(u=>{u.rules.forEach(d=>{d.dxfId!==void 0&&(d.style=l.styles.getDxfStyle(d.dxfId),delete d.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(i,r,n){const a=i("../../composite-xform"),s=i("../../style/color-xform"),o=i("./cfvo-xform");r.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new s}}get tag(){return"dataBar"}render(l,u){l.openNode(this.tag),u.cfvo.forEach(d=>{this.cfvoXform.render(l,d)}),this.colorXform.render(l,u.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,u){switch(l){case"cfvo":this.model.cfvo.push(u.model);break;case"color":this.model.color=u.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(i,r,n){const a=i("../../base-xform"),s=i("../../composite-xform");class o extends a{get tag(){return"x14:id"}render(d,c){d.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(d){this.model+=d}parseClose(d){return d!==this.tag}}class l extends s{constructor(){super(),this.map={"x14:id":this.idXform=new o}}get tag(){return"ext"}render(d,c){d.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(d,c.x14Id),d.closeNode()}createNewModel(){return{}}onParserClose(d,c){this.model.x14Id=c.model}}r.exports=class extends s{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(u,d){u.openNode(this.tag),this.map.ext.render(u,d),u.closeNode()}createNewModel(){return{}}onParserClose(u,d){Object.assign(this.model,d.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(i,r,n){const a=i("../../base-xform");r.exports=class extends a{get tag(){return"formula"}render(s,o){s.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],91:[function(i,r,n){const a=i("../../base-xform"),s=i("../../composite-xform"),o=i("./cfvo-xform");r.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new o}}get tag(){return"iconSet"}render(l,u){l.openNode(this.tag,{iconSet:a.toStringAttribute(u.iconSet,"3TrafficLights"),reverse:a.toBoolAttribute(u.reverse,!1),showValue:a.toBoolAttribute(u.showValue,!0)}),u.cfvo.forEach(d=>{this.cfvoXform.render(l,d)}),l.closeNode()}createNewModel(l){let{attributes:u}=l;return{iconSet:a.toStringValue(u.iconSet,"3TrafficLights"),reverse:a.toBoolValue(u.reverse),showValue:a.toBoolValue(u.showValue),cfvo:[]}}onParserClose(l,u){this.model[l].push(u.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(i,r,n){const a=i("../../../utils/utils"),s=i("../base-xform");r.exports=class extends s{get tag(){return"col"}prepare(o,l){const u=l.styles.addStyleModel(o.style||{});u&&(o.styleId=u)}render(o,l){o.openNode("col"),o.addAttribute("min",l.min),o.addAttribute("max",l.max),l.width&&o.addAttribute("width",l.width),l.styleId&&o.addAttribute("style",l.styleId),l.hidden&&o.addAttribute("hidden","1"),l.bestFit&&o.addAttribute("bestFit","1"),l.outlineLevel&&o.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&o.addAttribute("collapsed","1"),o.addAttribute("customWidth","1"),o.closeNode()}parseOpen(o){if(o.name==="col"){const l=this.model={min:parseInt(o.attributes.min||"0",10),max:parseInt(o.attributes.max||"0",10),width:o.attributes.width===void 0?void 0:parseFloat(o.attributes.width||"0")};return o.attributes.style&&(l.styleId=parseInt(o.attributes.style,10)),a.parseBoolean(o.attributes.hidden)&&(l.hidden=!0),a.parseBoolean(o.attributes.bestFit)&&(l.bestFit=!0),o.attributes.outlineLevel&&(l.outlineLevel=parseInt(o.attributes.outlineLevel,10)),a.parseBoolean(o.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(o,l){o.styleId&&(o.style=l.styles.getStyleModel(o.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../../../utils/utils"),o=i("../../../utils/col-cache"),l=i("../base-xform"),u=i("../../../doc/range");function d(h,f,p,g){const m=f[p];m!==void 0?h[p]=m:g!==void 0&&(h[p]=g)}function c(h,f,p,g){const m=f[p];m!==void 0?h[p]=s.parseBoolean(m):g!==void 0&&(h[p]=g)}r.exports=class extends l{get tag(){return"dataValidations"}render(h,f){const p=function(g){const m=a.map(g,(y,I)=>({address:I,dataValidation:y,marked:!1})).sort((y,I)=>a.strcmp(y.address,I.address)),v=a.keyBy(m,"address"),b=(y,I,D)=>{for(let N=0;N<I;N++){const z=o.encodeAddress(y.row+N,D);if(!g[z]||!a.isEqual(g[y.address],g[z]))return!1}return!0};return m.map(y=>{if(!y.marked){const I=o.decodeEx(y.address);if(I.dimensions)return v[I.dimensions].marked=!0,{...y.dataValidation,sqref:y.address};let D=1,N=o.encodeAddress(I.row+D,I.col);for(;g[N]&&a.isEqual(y.dataValidation,g[N]);)D++,N=o.encodeAddress(I.row+D,I.col);let z=1;for(;b(I,D,I.col+z);)z++;for(let F=0;F<D;F++)for(let $=0;$<z;$++)N=o.encodeAddress(I.row+F,I.col+$),v[N].marked=!0;if(D>1||z>1){const F=I.row+(D-1),$=I.col+(z-1);return{...y.dataValidation,sqref:`${y.address}:${o.encodeAddress(F,$)}`}}return{...y.dataValidation,sqref:y.address}}return null}).filter(Boolean)}(f);p.length&&(h.openNode("dataValidations",{count:p.length}),p.forEach(g=>{h.openNode("dataValidation"),g.type!=="any"&&(h.addAttribute("type",g.type),g.operator&&g.type!=="list"&&g.operator!=="between"&&h.addAttribute("operator",g.operator),g.allowBlank&&h.addAttribute("allowBlank","1")),g.showInputMessage&&h.addAttribute("showInputMessage","1"),g.promptTitle&&h.addAttribute("promptTitle",g.promptTitle),g.prompt&&h.addAttribute("prompt",g.prompt),g.showErrorMessage&&h.addAttribute("showErrorMessage","1"),g.errorStyle&&h.addAttribute("errorStyle",g.errorStyle),g.errorTitle&&h.addAttribute("errorTitle",g.errorTitle),g.error&&h.addAttribute("error",g.error),h.addAttribute("sqref",g.sqref),(g.formulae||[]).forEach((m,v)=>{h.openNode("formula"+(v+1)),g.type==="date"?h.writeText(s.dateToExcel(new Date(m))):h.writeText(m),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const f={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&c(f,h.attributes,"allowBlank"),c(f,h.attributes,"showInputMessage"),c(f,h.attributes,"showErrorMessage"),f.type){case"any":case"list":case"custom":break;default:d(f,h.attributes,"operator","between")}return d(f,h.attributes,"promptTitle"),d(f,h.attributes,"prompt"),d(f,h.attributes,"errorStyle"),d(f,h.attributes,"errorTitle"),d(f,h.attributes,"error"),this._dataValidation=f,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(f=>{f.includes(":")?new u(f).forEachAddress(p=>{this.model[p]=this._dataValidation}):this.model[f]=this._dataValidation}),!0;case"formula1":case"formula2":{let f=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":f=parseInt(f,10);break;case"decimal":f=parseFloat(f);break;case"date":f=s.excelToDate(parseFloat(f))}return this._dataValidation.formulae.push(f),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"dimension"}render(s,o){o&&s.leafNode("dimension",{ref:o})}parseOpen(s){return s.name==="dimension"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"drawing"}render(s,o){o&&s.leafNode(this.tag,{"r:id":o.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(i,r,n){const a=i("../composite-xform"),s=i("./cf-ext/conditional-formattings-ext-xform");class o extends a{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new s}}get tag(){return"ext"}hasContent(u){return this.conditionalFormattings.hasContent(u.conditionalFormattings)}prepare(u,d){this.conditionalFormattings.prepare(u.conditionalFormattings,d)}render(u,d){u.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(u,d.conditionalFormattings),u.closeNode()}createNewModel(){return{}}onParserClose(u,d){this.model[u]=d.model}}r.exports=class extends a{constructor(){super(),this.map={ext:this.ext=new o}}get tag(){return"extLst"}prepare(l,u){this.ext.prepare(l,u)}hasContent(l){return this.ext.hasContent(l)}render(l,u){this.hasContent(u)&&(l.openNode("extLst"),this.ext.render(l,u),l.closeNode())}createNewModel(){return{}}onParserClose(l,u){Object.assign(this.model,u.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"headerFooter"}render(s,o){if(o){s.addRollback();let l=!1;s.openNode("headerFooter"),o.differentFirst&&(s.addAttribute("differentFirst","1"),l=!0),o.differentOddEven&&(s.addAttribute("differentOddEven","1"),l=!0),o.oddHeader&&typeof o.oddHeader=="string"&&(s.leafNode("oddHeader",null,o.oddHeader),l=!0),o.oddFooter&&typeof o.oddFooter=="string"&&(s.leafNode("oddFooter",null,o.oddFooter),l=!0),o.evenHeader&&typeof o.evenHeader=="string"&&(s.leafNode("evenHeader",null,o.evenHeader),l=!0),o.evenFooter&&typeof o.evenFooter=="string"&&(s.leafNode("evenFooter",null,o.evenFooter),l=!0),o.firstHeader&&typeof o.firstHeader=="string"&&(s.leafNode("firstHeader",null,o.firstHeader),l=!0),o.firstFooter&&typeof o.firstFooter=="string"&&(s.leafNode("firstFooter",null,o.firstFooter),l=!0),l?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"hyperlink"}render(s,o){this.isInternalLink(o)?s.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip,location:o.target}):s.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip})}parseOpen(s){return s.name==="hyperlink"&&(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}},{"../base-xform":32}],99:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"mergeCell"}render(s,o){s.leafNode("mergeCell",{ref:o})}parseOpen(s){return s.name==="mergeCell"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../../../doc/range"),o=i("../../../utils/col-cache"),l=i("../../../doc/enums");r.exports=class{constructor(){this.merges={}}add(u){if(this.merges[u.master])this.merges[u.master].expandToAddress(u.address);else{const d=`${u.master}:${u.address}`;this.merges[u.master]=new s(d)}}get mergeCells(){return a.map(this.merges,u=>u.range)}reconcile(u,d){a.each(u,c=>{const h=o.decode(c);for(let f=h.top;f<=h.bottom;f++){const p=d[f-1];for(let g=h.left;g<=h.right;g++){const m=p.cells[g-1];m?m.type===l.ValueType.Merge&&(m.master=h.tl):p.cells[g]={type:l.ValueType.Null,address:o.encodeAddress(f,g)}}}})}getMasterAddress(u){const d=this.hash[u];return d&&d.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(i,r,n){const a=i("../base-xform"),s=o=>o!==void 0;r.exports=class extends a{get tag(){return"outlinePr"}render(o,l){return!(!l||!s(l.summaryBelow)&&!s(l.summaryRight))&&(o.leafNode(this.tag,{summaryBelow:s(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:s(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={summaryBelow:s(o.attributes.summaryBelow)?!!Number(o.attributes.summaryBelow):void 0,summaryRight:s(o.attributes.summaryRight)?!!Number(o.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"brk"}render(s,o){s.leafNode("brk",o)}parseOpen(s){return s.name==="brk"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../base-xform");r.exports=class extends s{get tag(){return"pageMargins"}render(o,l){if(l){const u={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};a.some(u,d=>d!==void 0)&&o.leafNode(this.tag,u)}}parseOpen(o){switch(o.name){case this.tag:return this.model={left:parseFloat(o.attributes.left||.7),right:parseFloat(o.attributes.right||.7),top:parseFloat(o.attributes.top||.75),bottom:parseFloat(o.attributes.bottom||.75),header:parseFloat(o.attributes.header||.3),footer:parseFloat(o.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"pageSetUpPr"}render(s,o){return!(!o||!o.fitToPage)&&(s.leafNode(this.tag,{fitToPage:o.fitToPage?"1":void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={fitToPage:s.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../base-xform");function o(c){return c?"1":void 0}function l(c){switch(c){case"overThenDown":return c;default:return}}function u(c){switch(c){case"atEnd":case"asDisplyed":return c;default:return}}function d(c){switch(c){case"dash":case"blank":case"NA":return c;default:return}}r.exports=class extends s{get tag(){return"pageSetup"}render(c,h){if(h){const f={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:l(h.pageOrder),blackAndWhite:o(h.blackAndWhite),draft:o(h.draft),cellComments:u(h.cellComments),errors:d(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:o(h.firstPageNumber),usePrinterDefaults:o(h.usePrinterDefaults),copies:h.copies};a.some(f,p=>p!==void 0)&&c.leafNode(this.tag,f)}}parseOpen(c){switch(c.name){case this.tag:return this.model={paperSize:(h=c.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:c.attributes.orientation||"portrait",horizontalDpi:parseInt(c.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(c.attributes.verticalDpi||"4294967295",10),pageOrder:c.attributes.pageOrder||"downThenOver",blackAndWhite:c.attributes.blackAndWhite==="1",draft:c.attributes.draft==="1",cellComments:c.attributes.cellComments||"None",errors:c.attributes.errors||"displayed",scale:parseInt(c.attributes.scale||"100",10),fitToWidth:parseInt(c.attributes.fitToWidth||"1",10),fitToHeight:parseInt(c.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(c.attributes.firstPageNumber||"1",10),useFirstPageNumber:c.attributes.useFirstPageNumber==="1",usePrinterDefaults:c.attributes.usePrinterDefaults==="1",copies:parseInt(c.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"picture"}render(s,o){o&&s.leafNode(this.tag,{"r:id":o.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../base-xform");function o(l){return l?"1":void 0}r.exports=class extends s{get tag(){return"printOptions"}render(l,u){if(u){const d={headings:o(u.showRowColHeaders),gridLines:o(u.showGridLines),horizontalCentered:o(u.horizontalCentered),verticalCentered:o(u.verticalCentered)};a.some(d,c=>c!==void 0)&&l.leafNode(this.tag,d)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(i,r,n){const a=i("./page-breaks-xform"),s=i("../list-xform");r.exports=class extends s{constructor(){super({tag:"rowBreaks",count:!0,childXform:new a})}render(o,l){if(l&&l.length){o.openNode(this.tag,this.$),this.count&&(o.addAttribute(this.$count,l.length),o.addAttribute("manualBreakCount",l.length));const{childXform:u}=this;l.forEach(d=>{u.render(o,d)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(i,r,n){const a=i("../base-xform"),s=i("../../../utils/utils"),o=i("./cell-xform");r.exports=class extends a{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new o}}get tag(){return"row"}prepare(l,u){const d=u.styles.addStyleModel(l.style);d&&(l.styleId=d);const c=this.map.c;l.cells.forEach(h=>{c.prepare(h,u)})}render(l,u,d){l.openNode("row"),l.addAttribute("r",u.number),u.height&&(l.addAttribute("ht",u.height),l.addAttribute("customHeight","1")),u.hidden&&l.addAttribute("hidden","1"),u.min>0&&u.max>0&&u.min<=u.max&&l.addAttribute("spans",`${u.min}:${u.max}`),u.styleId&&(l.addAttribute("s",u.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),u.outlineLevel&&l.addAttribute("outlineLevel",u.outlineLevel),u.collapsed&&l.addAttribute("collapsed","1");const c=this.map.c;u.cells.forEach(h=>{c.render(l,h,d)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const u=l.attributes.spans?l.attributes.spans.split(":").map(c=>parseInt(c,10)):[void 0,void 0],d=this.model={number:parseInt(l.attributes.r,10),min:u[0],max:u[1],cells:[]};return l.attributes.s&&(d.styleId=parseInt(l.attributes.s,10)),s.parseBoolean(l.attributes.hidden)&&(d.hidden=!0),s.parseBoolean(l.attributes.bestFit)&&(d.bestFit=!0),l.attributes.ht&&(d.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(d.outlineLevel=parseInt(l.attributes.outlineLevel,10)),s.parseBoolean(l.attributes.collapsed)&&(d.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,u){l.style=l.styleId?u.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const d=this.map.c;l.cells.forEach(c=>{d.reconcile(c,u)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../base-xform");r.exports=class extends s{get tag(){return"sheetFormatPr"}render(o,l){if(l){const u={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(u.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(u.customHeight="1"),a.some(u,d=>d!==void 0)&&o.leafNode("sheetFormatPr",u)}}parseOpen(o){return o.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(o.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(o.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(o.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(o.attributes.outlineLevelCol||"0",10)},o.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(o.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(i,r,n){const a=i("../base-xform"),s=i("../style/color-xform"),o=i("./page-setup-properties-xform"),l=i("./outline-properties-xform");r.exports=class extends a{constructor(){super(),this.map={tabColor:new s("tabColor"),pageSetUpPr:new o,outlinePr:new l}}get tag(){return"sheetPr"}render(u,d){if(d){u.addRollback(),u.openNode("sheetPr");let c=!1;c=this.map.tabColor.render(u,d.tabColor)||c,c=this.map.pageSetUpPr.render(u,d.pageSetup)||c,c=this.map.outlinePr.render(u,d.outlineProperties)||c,c?(u.closeNode(),u.commit()):u.rollback()}}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):u.name===this.tag?(this.reset(),!0):!!this.map[u.name]&&(this.parser=this.map[u.name],this.parser.parseOpen(u),!0)}parseText(u){return!!this.parser&&(this.parser.parseText(u),!0)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../base-xform");function o(u,d){return u?d:void 0}function l(u,d){return u===d||void 0}r.exports=class extends s{get tag(){return"sheetProtection"}render(u,d){if(d){const c={sheet:o(d.sheet,"1"),selectLockedCells:d.selectLockedCells===!1?"1":void 0,selectUnlockedCells:d.selectUnlockedCells===!1?"1":void 0,formatCells:o(d.formatCells,"0"),formatColumns:o(d.formatColumns,"0"),formatRows:o(d.formatRows,"0"),insertColumns:o(d.insertColumns,"0"),insertRows:o(d.insertRows,"0"),insertHyperlinks:o(d.insertHyperlinks,"0"),deleteColumns:o(d.deleteColumns,"0"),deleteRows:o(d.deleteRows,"0"),sort:o(d.sort,"0"),autoFilter:o(d.autoFilter,"0"),pivotTables:o(d.pivotTables,"0")};d.sheet&&(c.algorithmName=d.algorithmName,c.hashValue=d.hashValue,c.saltValue=d.saltValue,c.spinCount=d.spinCount,c.objects=o(d.objects===!1,"1"),c.scenarios=o(d.scenarios===!1,"1")),a.some(c,h=>h!==void 0)&&u.leafNode(this.tag,c)}}parseOpen(u){switch(u.name){case this.tag:return this.model={sheet:l(u.attributes.sheet,"1"),objects:u.attributes.objects!=="1"&&void 0,scenarios:u.attributes.scenarios!=="1"&&void 0,selectLockedCells:u.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:u.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(u.attributes.formatCells,"0"),formatColumns:l(u.attributes.formatColumns,"0"),formatRows:l(u.attributes.formatRows,"0"),insertColumns:l(u.attributes.insertColumns,"0"),insertRows:l(u.attributes.insertRows,"0"),insertHyperlinks:l(u.attributes.insertHyperlinks,"0"),deleteColumns:l(u.attributes.deleteColumns,"0"),deleteRows:l(u.attributes.deleteRows,"0"),sort:l(u.attributes.sort,"0"),autoFilter:l(u.attributes.autoFilter,"0"),pivotTables:l(u.attributes.pivotTables,"0")},u.attributes.algorithmName&&(this.model.algorithmName=u.attributes.algorithmName,this.model.hashValue=u.attributes.hashValue,this.model.saltValue=u.attributes.saltValue,this.model.spinCount=parseInt(u.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(i,r,n){const a=i("../../../utils/col-cache"),s=i("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};r.exports=class extends s{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,u){l.openNode("sheetView",{workbookViewId:u.workbookViewId||0});const d=function(g,m,v){v&&l.addAttribute(g,m)};let c,h,f,p;switch(d("rightToLeft","1",u.rightToLeft===!0),d("tabSelected","1",u.tabSelected),d("showRuler","0",u.showRuler===!1),d("showRowColHeaders","0",u.showRowColHeaders===!1),d("showGridLines","0",u.showGridLines===!1),d("zoomScale",u.zoomScale,u.zoomScale),d("zoomScaleNormal",u.zoomScaleNormal,u.zoomScaleNormal),d("view",u.style,u.style),u.state){case"frozen":h=u.xSplit||0,f=u.ySplit||0,c=u.topLeftCell||a.getAddress(f+1,h+1).address,p=(u.xSplit&&u.ySplit?"bottomRight":u.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:u.xSplit||void 0,ySplit:u.ySplit||void 0,topLeftCell:c,activePane:p,state:"frozen"}),l.leafNode("selection",{pane:p,activeCell:u.activeCell,sqref:u.activeCell});break;case"split":u.activePane==="topLeft"&&(u.activePane=void 0),l.leafNode("pane",{xSplit:u.xSplit||void 0,ySplit:u.ySplit||void 0,topLeftCell:u.topLeftCell,activePane:u.activePane}),l.leafNode("selection",{pane:u.activePane,activeCell:u.activeCell,sqref:u.activeCell});break;case"normal":u.activeCell&&l.leafNode("selection",{activeCell:u.activeCell,sqref:u.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const u=l.attributes.pane||"topLeft";return this.selections[u]={pane:u,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let u,d;switch(l){case"sheetView":return this.sheetView&&this.pane?(u=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(u.activePane=this.pane.activePane),d=this.selections[this.pane.activePane],d&&d.activeCell&&(u.activeCell=d.activeCell),this.sheetView.style&&(u.style=this.sheetView.style)):(u=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},d=this.selections.topLeft,d&&d.activeCell&&(u.activeCell=d.activeCell),this.sheetView.style&&(u.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"tablePart"}render(s,o){o&&s.leafNode(this.tag,{"r:id":o.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../../../utils/col-cache"),o=i("../../../utils/xml-stream"),l=i("../../rel-type"),u=i("./merges"),d=i("../base-xform"),c=i("../list-xform"),h=i("./row-xform"),f=i("./col-xform"),p=i("./dimension-xform"),g=i("./hyperlink-xform"),m=i("./merge-cell-xform"),v=i("./data-validations-xform"),b=i("./sheet-properties-xform"),y=i("./sheet-format-properties-xform"),I=i("./sheet-view-xform"),D=i("./sheet-protection-xform"),N=i("./page-margins-xform"),z=i("./page-setup-xform"),F=i("./print-options-xform"),$=i("./auto-filter-xform"),j=i("./picture-xform"),q=i("./drawing-xform"),H=i("./table-part-xform"),A=i("./row-breaks-xform"),T=i("./header-footer-xform"),E=i("./cf/conditional-formattings-xform"),C=i("./ext-lst-xform"),w=(x,k)=>{if(!k||!k.length)return x;if(!x||!x.length)return k;const P={},O={};return x.forEach(L=>{P[L.ref]=L,L.rules.forEach(V=>{const{x14Id:X}=V;X&&(O[X]=V)})}),k.forEach(L=>{L.rules.forEach(V=>{const X=O[V.x14Id];X?((B,K)=>{Object.keys(K).forEach(R=>{const M=B[R],G=K[R];M===void 0&&G!==void 0&&(B[R]=G)})})(X,V):P[L.ref]?P[L.ref].rules.push(V):x.push({ref:L.ref,rules:[V]})})}),x};class S extends d{constructor(k){super();const{maxRows:P,maxCols:O,ignoreNodes:L}=k||{};this.ignoreNodes=L||[],this.map={sheetPr:new b,dimension:new p,sheetViews:new c({tag:"sheetViews",count:!1,childXform:new I}),sheetFormatPr:new y,cols:new c({tag:"cols",count:!1,childXform:new f}),sheetData:new c({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:O}),maxItems:P}),autoFilter:new $,mergeCells:new c({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new A,hyperlinks:new c({tag:"hyperlinks",count:!1,childXform:new g}),pageMargins:new N,dataValidations:new v,pageSetup:new z,headerFooter:new T,printOptions:new F,picture:new j,drawing:new q,sheetProtection:new D,tableParts:new c({tag:"tableParts",count:!0,childXform:new H}),conditionalFormatting:new E,extLst:new C}}prepare(k,P){P.merges=new u,k.hyperlinks=P.hyperlinks=[],k.comments=P.comments=[],P.formulae={},P.siFormulae=0,this.map.cols.prepare(k.cols,P),this.map.sheetData.prepare(k.rows,P),this.map.conditionalFormatting.prepare(k.conditionalFormattings,P),k.mergeCells=P.merges.mergeCells;const O=k.rels=[];function L(B){return"rId"+(B.length+1)}if(k.hyperlinks.forEach(B=>{const K=L(O);B.rId=K,O.push({Id:K,Type:l.Hyperlink,Target:B.target,TargetMode:"External"})}),k.comments.length>0){const B={Id:L(O),Type:l.Comments,Target:`../comments${k.id}.xml`};O.push(B);const K={Id:L(O),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${k.id}.vml`};O.push(K),k.comments.forEach(R=>{R.refAddress=s.decodeAddress(R.ref)}),P.commentRefs.push({commentName:"comments"+k.id,vmlDrawing:"vmlDrawing"+k.id})}const V=[];let X;k.media.forEach(B=>{if(B.type==="background"){const K=L(O);X=P.media[B.imageId],O.push({Id:K,Type:l.Image,Target:`../media/${X.name}.${X.extension}`}),k.background={rId:K},k.image=P.media[B.imageId]}else if(B.type==="image"){let{drawing:K}=k;X=P.media[B.imageId],K||(K=k.drawing={rId:L(O),name:"drawing"+ ++P.drawingsCount,anchors:[],rels:[]},P.drawings.push(K),O.push({Id:K.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${K.name}.xml`}));let R=this.preImageId===B.imageId?V[B.imageId]:V[K.rels.length];R||(R=L(K.rels),V[K.rels.length]=R,K.rels.push({Id:R,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${X.name}.${X.extension}`}));const M={picture:{rId:R},range:B.range};if(B.hyperlinks&&B.hyperlinks.hyperlink){const G=L(K.rels);V[K.rels.length]=G,M.picture.hyperlinks={tooltip:B.hyperlinks.tooltip,rId:G},K.rels.push({Id:G,Type:l.Hyperlink,Target:B.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=B.imageId,K.anchors.push(M)}}),k.tables.forEach(B=>{const K=L(O);B.rId=K,O.push({Id:K,Type:l.Table,Target:"../tables/"+B.target}),B.columns.forEach(R=>{const{style:M}=R;M&&(R.dxfId=P.styles.addDxfStyle(M))})}),this.map.extLst.prepare(k,P)}render(k,P){k.openXml(o.StdDocAttributes),k.openNode("worksheet",S.WORKSHEET_ATTRIBUTES);const O=P.properties?{defaultRowHeight:P.properties.defaultRowHeight,dyDescent:P.properties.dyDescent,outlineLevelCol:P.properties.outlineLevelCol,outlineLevelRow:P.properties.outlineLevelRow}:void 0;P.properties&&P.properties.defaultColWidth&&(O.defaultColWidth=P.properties.defaultColWidth);const L={outlineProperties:P.properties&&P.properties.outlineProperties,tabColor:P.properties&&P.properties.tabColor,pageSetup:P.pageSetup&&P.pageSetup.fitToPage?{fitToPage:P.pageSetup.fitToPage}:void 0},V=P.pageSetup&&P.pageSetup.margins,X={showRowColHeaders:P.pageSetup&&P.pageSetup.showRowColHeaders,showGridLines:P.pageSetup&&P.pageSetup.showGridLines,horizontalCentered:P.pageSetup&&P.pageSetup.horizontalCentered,verticalCentered:P.pageSetup&&P.pageSetup.verticalCentered},B=P.sheetProtection;this.map.sheetPr.render(k,L),this.map.dimension.render(k,P.dimensions),this.map.sheetViews.render(k,P.views),this.map.sheetFormatPr.render(k,O),this.map.cols.render(k,P.cols),this.map.sheetData.render(k,P.rows),this.map.sheetProtection.render(k,B),this.map.autoFilter.render(k,P.autoFilter),this.map.mergeCells.render(k,P.mergeCells),this.map.conditionalFormatting.render(k,P.conditionalFormattings),this.map.dataValidations.render(k,P.dataValidations),this.map.hyperlinks.render(k,P.hyperlinks),this.map.printOptions.render(k,X),this.map.pageMargins.render(k,V),this.map.pageSetup.render(k,P.pageSetup),this.map.headerFooter.render(k,P.headerFooter),this.map.rowBreaks.render(k,P.rowBreaks),this.map.drawing.render(k,P.drawing),this.map.picture.render(k,P.background),this.map.tableParts.render(k,P.tables),this.map.extLst.render(k,P),P.rels&&P.rels.forEach(K=>{K.Type===l.VmlDrawing&&k.leafNode("legacyDrawing",{"r:id":K.Id})}),k.closeNode()}parseOpen(k){return this.parser?(this.parser.parseOpen(k),!0):k.name==="worksheet"?(a.each(this.map,P=>{P.reset()}),!0):(this.map[k.name]&&!this.ignoreNodes.includes(k.name)&&(this.parser=this.map[k.name],this.parser.parseOpen(k)),!0)}parseText(k){this.parser&&this.parser.parseText(k)}parseClose(k){if(this.parser)return this.parser.parseClose(k)||(this.parser=void 0),!0;switch(k){case"worksheet":{const P=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(P.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(P.outlineProperties=this.map.sheetPr.model.outlineProperties);const O={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},L=Object.assign(O,this.map.pageSetup.model,this.map.printOptions.model),V=w(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:P,views:this.map.sheetViews.model,pageSetup:L,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:V},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(k,P){const O=(k.relationships||[]).reduce((V,X)=>{if(V[X.Id]=X,X.Type===l.Comments&&(k.comments=P.comments[X.Target].comments),X.Type===l.VmlDrawing&&k.comments&&k.comments.length){const B=P.vmlDrawings[X.Target].comments;k.comments.forEach((K,R)=>{K.note=Object.assign({},K.note,B[R])})}return V},{});if(P.commentsMap=(k.comments||[]).reduce((V,X)=>(X.ref&&(V[X.ref]=X),V),{}),P.hyperlinkMap=(k.hyperlinks||[]).reduce((V,X)=>(X.rId&&(V[X.address]=O[X.rId].Target),V),{}),P.formulae={},k.rows=k.rows&&k.rows.filter(Boolean)||[],k.rows.forEach(V=>{V.cells=V.cells&&V.cells.filter(Boolean)||[]}),this.map.cols.reconcile(k.cols,P),this.map.sheetData.reconcile(k.rows,P),this.map.conditionalFormatting.reconcile(k.conditionalFormattings,P),k.media=[],k.drawing){const V=O[k.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(V){const X=V[1];P.drawings[X].anchors.forEach(B=>{if(B.medium){const K={type:"image",imageId:B.medium.index,range:B.range,hyperlinks:B.picture.hyperlinks};k.media.push(K)}})}}const L=k.background&&O[k.background.rId];if(L){const V=L.Target.split("/media/")[1],X=P.mediaIndex&&P.mediaIndex[V];X!==void 0&&k.media.push({type:"background",imageId:X})}k.tables=(k.tables||[]).map(V=>{const X=O[V.rId];return P.tables[X.Target]}),delete k.relationships,delete k.hyperlinks,delete k.comments}}S.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},r.exports=S},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,o){o&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(o){try{return Number.isNaN(o.getTime())?"":o.toISOString()}catch{return""}},this._parse=s.parse||function(o){return new Date(o)}}render(s,o){o&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(o)):s.writeText(this._format(o)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,o){(o||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,o):s.writeText(o),s.closeNode())}parseOpen(s){return s.name===this.tag&&(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0)}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,o){o!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,o):s.writeText(o),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(i,r,n){const a=i("./base-xform"),s=i("../../utils/xml-stream");r.exports=class extends a{constructor(o){super(),this._model=o}render(o){if(!this._xml){const l=new s;(function u(d,c){d.openNode(c.tag,c.$),c.c&&c.c.forEach(h=>{u(d,h)}),c.t&&d.writeText(c.t),d.closeNode()})(l,this._model),this._xml=l.xml}o.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(o){switch(o){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(i,r,n){const a=i("./text-xform"),s=i("./rich-text-xform"),o=i("../base-xform");r.exports=class extends o{constructor(){super(),this.map={r:new s,t:new a}}get tag(){return"rPh"}render(l,u){if(l.openNode(this.tag,{sb:u.sb||0,eb:u.eb||0}),u&&u.hasOwnProperty("richText")&&u.richText){const{r:d}=this.map;u.richText.forEach(c=>{d.render(l,c)})}else u&&this.map.t.render(l,u.text);l.closeNode()}parseOpen(l){const{name:u}=l;return this.parser?(this.parser.parseOpen(l),!0):u===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(i,r,n){const a=i("./text-xform"),s=i("../style/font-xform"),o=i("../base-xform");class l extends o{constructor(d){super(),this.model=d}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new a)}get fontXform(){return this._fontXform||(this._fontXform=new s(l.FONT_OPTIONS))}render(d,c){c=c||this.model,d.openNode("r"),c.font&&this.fontXform.render(d,c.font),this.textXform.render(d,c.text),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(d),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){switch(d){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},r.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(i,r,n){const a=i("./text-xform"),s=i("./rich-text-xform"),o=i("./phonetic-text-xform"),l=i("../base-xform");r.exports=class extends l{constructor(u){super(),this.model=u,this.map={r:new s,t:new a,rPh:new o}}get tag(){return"si"}render(u,d){u.openNode(this.tag),d&&d.hasOwnProperty("richText")&&d.richText?d.richText.length?d.richText.forEach(c=>{this.map.r.render(u,c)}):this.map.t.render(u,""):d!=null&&this.map.t.render(u,d),u.closeNode()}parseOpen(u){const{name:d}=u;return this.parser?(this.parser.parseOpen(u),!0):d===this.tag?(this.model={},!0):(this.parser=this.map[d],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){switch(u){case"r":{let d=this.model.richText;d||(d=this.model.richText=[]),d.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(i,r,n){const a=i("../../../utils/xml-stream"),s=i("../base-xform"),o=i("./shared-string-xform");r.exports=class extends s{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new o)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let u=this.hash[l];return u===void 0&&(u=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,u}addRichText(l){const u=this.sharedStringXform.toXml(l);let d=this.rich[u];return d===void 0&&(d=this.rich[u]=this.model.values.length,this.model.values.push(l)),this.model.count++,d}render(l,u){u=u||this._values,l.openXml(a.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:u.count,uniqueCount:u.values.length});const d=this.sharedStringXform;u.values.forEach(c=>{d.render(l,c)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"t"}render(s,o){s.openNode("t"),/^\s|\n|\s$/.test(o)&&s.addAttribute("xml:space","preserve"),s.writeText(o),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,o)=>String.fromCharCode(parseInt(o,16)))}parseOpen(s){switch(s.name){case"t":return this._text=[],!0;default:return!1}}parseText(s){this._text.push(s)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(i,r,n){const a=i("../../../doc/enums"),s=i("../../../utils/utils"),o=i("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((d,c)=>(d[c]=!0,d),{}),horizontal(d){return this.horizontalValues[d]?d:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((d,c)=>(d[c]=!0,d),{}),vertical(d){return d==="middle"?"center":this.verticalValues[d]?d:void 0},wrapText:d=>!!d||void 0,shrinkToFit:d=>!!d||void 0,textRotation(d){switch(d){case"vertical":return d;default:return(d=s.validInt(d))>=-90&&d<=90?d:void 0}},indent:d=>(d=s.validInt(d),Math.max(0,d)),readingOrder(d){switch(d){case"ltr":return a.ReadingOrder.LeftToRight;case"rtl":return a.ReadingOrder.RightToLeft;default:return}}},u={toXml(d){if(d=l.textRotation(d)){if(d==="vertical")return 255;const c=Math.round(d);if(c>=0&&c<=90)return c;if(c<0&&c>=-90)return 90-c}},toModel(d){const c=s.validInt(d);if(c!==void 0){if(c===255)return"vertical";if(c>=0&&c<=90)return c;if(c>90&&c<=180)return 90-c}}};r.exports=class extends o{get tag(){return"alignment"}render(d,c){d.addRollback(),d.openNode("alignment");let h=!1;function f(p,g){g&&(d.addAttribute(p,g),h=!0)}f("horizontal",l.horizontal(c.horizontal)),f("vertical",l.vertical(c.vertical)),f("wrapText",!!l.wrapText(c.wrapText)&&"1"),f("shrinkToFit",!!l.shrinkToFit(c.shrinkToFit)&&"1"),f("indent",l.indent(c.indent)),f("textRotation",u.toXml(c.textRotation)),f("readingOrder",l.readingOrder(c.readingOrder)),d.closeNode(),h?d.commit():d.rollback()}parseOpen(d){const c={};let h=!1;function f(p,g,m){p&&(c[g]=m,h=!0)}f(d.attributes.horizontal,"horizontal",d.attributes.horizontal),f(d.attributes.vertical,"vertical",d.attributes.vertical==="center"?"middle":d.attributes.vertical),f(d.attributes.wrapText,"wrapText",s.parseBoolean(d.attributes.wrapText)),f(d.attributes.shrinkToFit,"shrinkToFit",s.parseBoolean(d.attributes.shrinkToFit)),f(d.attributes.indent,"indent",parseInt(d.attributes.indent,10)),f(d.attributes.textRotation,"textRotation",u.toModel(d.attributes.textRotation)),f(d.attributes.readingOrder,"readingOrder",d.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?c:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(i,r,n){const a=i("../base-xform"),s=i("../../../utils/utils"),o=i("./color-xform");class l extends a{constructor(d){super(),this.name=d,this.map={color:new o}}get tag(){return this.name}render(d,c,h){const f=c&&c.color||h||this.defaultColor;d.openNode(this.name),c&&c.style&&(d.addAttribute("style",c.style),f&&this.map.color.render(d,f)),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.name:{const{style:c}=d.attributes;return this.model=c?{style:c}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):(d===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(d){return l.validStyleValues[d]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((u,d)=>(u[d]=!0,u),{}),r.exports=class extends a{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(u,d){const{color:c}=d;function h(f,p){f&&!f.color&&d.color&&(f={...f,color:d.color}),p.render(u,f,c)}u.openNode("border"),d.diagonal&&d.diagonal.style&&(d.diagonal.up&&u.addAttribute("diagonalUp","1"),d.diagonal.down&&u.addAttribute("diagonalDown","1")),h(d.left,this.map.left),h(d.right,this.map.right),h(d.top,this.map.top),h(d.bottom,this.map.bottom),h(d.diagonal,this.map.diagonal),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"border":return this.reset(),this.diagonalUp=s.parseBoolean(u.attributes.diagonalUp),this.diagonalDown=s.parseBoolean(u.attributes.diagonalDown),!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;if(u==="border"){const d=this.model={},c=function(h,f,p){f&&(p&&Object.assign(f,p),d[h]=f)};c("left",this.map.left.model),c("right",this.map.right.model),c("top",this.map.top.model),c("bottom",this.map.bottom.model),c("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,o){return!!o&&(s.openNode(this.name),o.argb?s.addAttribute("rgb",o.argb):o.theme!==void 0?(s.addAttribute("theme",o.theme),o.tint!==void 0&&s.addAttribute("tint",o.tint)):o.indexed!==void 0?s.addAttribute("indexed",o.indexed):s.addAttribute("auto","1"),s.closeNode(),!0)}parseOpen(s){return s.name===this.name&&(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(i,r,n){const a=i("../base-xform"),s=i("./alignment-xform"),o=i("./border-xform"),l=i("./fill-xform"),u=i("./font-xform"),d=i("./numfmt-xform"),c=i("./protection-xform");r.exports=class extends a{constructor(){super(),this.map={alignment:new s,border:new o,fill:new l,font:new u,numFmt:new d,protection:new c}}get tag(){return"dxf"}render(h,f){if(h.openNode(this.tag),f.font&&this.map.font.render(h,f.font),f.numFmt&&f.numFmtId){const p={id:f.numFmtId,formatCode:f.numFmt};this.map.numFmt.render(h,p)}f.fill&&this.map.fill.render(h,f.fill),f.alignment&&this.map.alignment.render(h,f.alignment),f.border&&this.map.border.render(h,f.border),f.protection&&this.map.protection.render(h,f.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(i,r,n){const a=i("../base-xform"),s=i("./color-xform");class o extends a{constructor(){super(),this.map={color:new s}}get tag(){return"stop"}render(h,f){h.openNode("stop"),h.addAttribute("position",f.position),this.map.color.render(h,f.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends a{constructor(){super(),this.map={fgColor:new s("fgColor"),bgColor:new s("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,f){h.openNode("patternFill"),h.addAttribute("patternType",f.pattern),f.fgColor&&this.map.fgColor.render(h,f.fgColor),f.bgColor&&this.map.bgColor.render(h,f.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class u extends a{constructor(){super(),this.map={stop:new o}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,f){switch(h.openNode("gradientFill"),f.gradient){case"angle":h.addAttribute("degree",f.degree);break;case"path":h.addAttribute("type","path"),f.center.left&&(h.addAttribute("left",f.center.left),f.center.right===void 0&&h.addAttribute("right",f.center.left)),f.center.right&&h.addAttribute("right",f.center.right),f.center.top&&(h.addAttribute("top",f.center.top),f.center.bottom===void 0&&h.addAttribute("bottom",f.center.top)),f.center.bottom&&h.addAttribute("bottom",f.center.bottom)}const p=this.map.stop;f.stops.forEach(g=>{p.render(h,g)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const f=this.model={stops:[]};return h.attributes.degree?(f.gradient="angle",f.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(f.gradient="path",f.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(f.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(f.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class d extends a{constructor(){super(),this.map={patternFill:new l,gradientFill:new u}}get tag(){return"fill"}render(h,f){switch(h.addRollback(),h.openNode("fill"),f.type){case"pattern":this.map.patternFill.render(h,f);break;case"gradient":this.map.gradientFill.render(h,f);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return d.validPatternValues[h]}}d.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((c,h)=>(c[h]=!0,c),{}),d.StopXform=o,d.PatternFillXform=l,d.GradientFillXform=u,r.exports=d},{"../base-xform":32,"./color-xform":128}],131:[function(i,r,n){const a=i("./color-xform"),s=i("../simple/boolean-xform"),o=i("../simple/integer-xform"),l=i("../simple/string-xform"),u=i("./underline-xform"),d=i("../../../utils/under-dash"),c=i("../base-xform");class h extends c{constructor(p){super(),this.options=p||h.OPTIONS,this.map={b:{prop:"bold",xform:new s({tag:"b",attr:"val"})},i:{prop:"italic",xform:new s({tag:"i",attr:"val"})},u:{prop:"underline",xform:new u},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new a},condense:{prop:"condense",xform:new s({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new s({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new s({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new s({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new s({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(p,g){const{map:m}=this;p.openNode(this.options.tagName),d.each(this.map,(v,b)=>{m[b].xform.render(p,g[v.prop])}),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;if(this.map[p.name])return this.parser=this.map[p.name].xform,this.parser.parseOpen(p);switch(p.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser&&!this.parser.parseClose(p)){const g=this.map[p];return this.parser.model&&(this.model[g.prop]=this.parser.model),this.parser=void 0,!0}switch(p){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},r.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(i,r,n){const a=i("../../../utils/under-dash"),s=i("../../defaultnumformats"),o=i("../base-xform"),l=function(){const d={};return a.each(s,(c,h)=>{c.f&&(d[c.f]=parseInt(h,10))}),d}();class u extends o{constructor(c,h){super(),this.id=c,this.formatCode=h}get tag(){return"numFmt"}render(c,h){c.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(c){switch(c.name){case"numFmt":return this.model={id:parseInt(c.attributes.numFmtId,10),formatCode:c.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}u.getDefaultFmtId=function(d){return l[d]},u.getDefaultFmtCode=function(d){return s[d]&&s[d].f},r.exports=u},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(i,r,n){const a=i("../base-xform"),s={boolean:(o,l)=>o===void 0?l:o};r.exports=class extends a{get tag(){return"protection"}render(o,l){o.addRollback(),o.openNode("protection");let u=!1;function d(c,h){h!==void 0&&(o.addAttribute(c,h),u=!0)}d("locked",s.boolean(l.locked,!0)?void 0:"0"),d("hidden",s.boolean(l.hidden,!1)?"1":void 0),o.closeNode(),u?o.commit():o.rollback()}parseOpen(o){const l={locked:o.attributes.locked!=="0",hidden:o.attributes.hidden==="1"},u=!l.locked||l.hidden;this.model=u?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(i,r,n){const a=i("../base-xform"),s=i("./alignment-xform"),o=i("./protection-xform");r.exports=class extends a{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new s,protection:new o}}get tag(){return"xf"}render(l,u){l.openNode("xf",{numFmtId:u.numFmtId||0,fontId:u.fontId||0,fillId:u.fillId||0,borderId:u.borderId||0}),this.xfId&&l.addAttribute("xfId",u.xfId||0),u.numFmtId&&l.addAttribute("applyNumberFormat","1"),u.fontId&&l.addAttribute("applyFont","1"),u.fillId&&l.addAttribute("applyFill","1"),u.borderId&&l.addAttribute("applyBorder","1"),u.alignment&&l.addAttribute("applyAlignment","1"),u.protection&&l.addAttribute("applyProtection","1"),u.alignment&&this.map.alignment.render(l,u.alignment),u.protection&&this.map.protection.render(l,u.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(i,r,n){const a=i("../../../doc/enums"),s=i("../../../utils/xml-stream"),o=i("../base-xform"),l=i("../static-xform"),u=i("../list-xform"),d=i("./font-xform"),c=i("./fill-xform"),h=i("./border-xform"),f=i("./numfmt-xform"),p=i("./style-xform"),g=i("./dxf-xform");class m extends o{constructor(b){super(),this.map={numFmts:new u({tag:"numFmts",count:!0,childXform:new f}),fonts:new u({tag:"fonts",count:!0,childXform:new d,$:{"x14ac:knownFonts":1}}),fills:new u({tag:"fills",count:!0,childXform:new c}),borders:new u({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new u({tag:"cellStyleXfs",count:!0,childXform:new p}),cellXfs:new u({tag:"cellXfs",count:!0,childXform:new p({xfId:!0})}),dxfs:new u({tag:"dxfs",always:!0,count:!0,childXform:new g}),numFmt:new f,font:new d,fill:new c,border:new h,style:new p({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},b&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(b,y){y=y||this.model,b.openXml(s.StdDocAttributes),b.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(y.numFmts&&y.numFmts.length&&(b.openNode("numFmts",{count:y.numFmts.length}),y.numFmts.forEach(I=>{b.writeXml(I)}),b.closeNode()),y.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),b.openNode("fonts",{count:y.fonts.length,"x14ac:knownFonts":1}),y.fonts.forEach(I=>{b.writeXml(I)}),b.closeNode(),b.openNode("fills",{count:y.fills.length}),y.fills.forEach(I=>{b.writeXml(I)}),b.closeNode(),b.openNode("borders",{count:y.borders.length}),y.borders.forEach(I=>{b.writeXml(I)}),b.closeNode(),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),b.openNode("cellXfs",{count:y.styles.length}),y.styles.forEach(I=>{b.writeXml(I)}),b.closeNode()):(this.map.numFmts.render(b,y.numFmts),this.map.fonts.render(b,y.fonts),this.map.fills.render(b,y.fills),this.map.borders.render(b,y.borders),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(b,y.styles)),m.STATIC_XFORMS.cellStyles.render(b),this.map.dxfs.render(b,y.dxfs),m.STATIC_XFORMS.tableStyles.render(b),m.STATIC_XFORMS.extLst.render(b),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"styleSheet":{this.model={};const y=(I,D)=>{D.model&&D.model.length&&(this.model[I]=D.model)};if(y("numFmts",this.map.numFmts),y("fonts",this.map.fonts),y("fills",this.map.fills),y("borders",this.map.borders),y("styles",this.map.cellXfs),y("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const I=this.index.numFmt;this.model.numFmts.forEach(D=>{I[D.id]=D.formatCode})}return!1}default:return!0}}addStyleModel(b,y){if(!b)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(b))return this.weakMap.get(b);const I={};if(y=y||a.ValueType.Number,b.numFmt)I.numFmtId=this._addNumFmtStr(b.numFmt);else switch(y){case a.ValueType.Number:I.numFmtId=this._addNumFmtStr("General");break;case a.ValueType.Date:I.numFmtId=this._addNumFmtStr("mm-dd-yy")}b.font&&(I.fontId=this._addFont(b.font)),b.border&&(I.borderId=this._addBorder(b.border)),b.fill&&(I.fillId=this._addFill(b.fill)),b.alignment&&(I.alignment=b.alignment),b.protection&&(I.protection=b.protection);const D=this._addStyle(I);return this.weakMap&&this.weakMap.set(b,D),D}getStyleModel(b){const y=this.model.styles[b];if(!y)return null;let I=this.index.model[b];if(I)return I;if(I=this.index.model[b]={},y.numFmtId){const N=this.index.numFmt[y.numFmtId]||f.getDefaultFmtCode(y.numFmtId);N&&(I.numFmt=N)}function D(N,z,F){if(F||F===0){const $=z[F];$&&(I[N]=$)}}return D("font",this.model.fonts,y.fontId),D("border",this.model.borders,y.borderId),D("fill",this.model.fills,y.fillId),y.alignment&&(I.alignment=y.alignment),y.protection&&(I.protection=y.protection),I}addDxfStyle(b){return b.numFmt&&(b.numFmtId=this._addNumFmtStr(b.numFmt)),this.model.dxfs.push(b),this.model.dxfs.length-1}getDxfStyle(b){return this.model.dxfs[b]}_addStyle(b){const y=this.map.style.toXml(b);let I=this.index.style[y];return I===void 0&&(I=this.index.style[y]=this.model.styles.length,this.model.styles.push(y)),I}_addNumFmtStr(b){let y=f.getDefaultFmtId(b);if(y!==void 0||(y=this.index.numFmt[b],y!==void 0))return y;y=this.index.numFmt[b]=164+this.model.numFmts.length;const I=this.map.numFmt.toXml({id:y,formatCode:b});return this.model.numFmts.push(I),y}_addFont(b){const y=this.map.font.toXml(b);let I=this.index.font[y];return I===void 0&&(I=this.index.font[y]=this.model.fonts.length,this.model.fonts.push(y)),I}_addBorder(b){const y=this.map.border.toXml(b);let I=this.index.border[y];return I===void 0&&(I=this.index.border[y]=this.model.borders.length,this.model.borders.push(y)),I}_addFill(b){const y=this.map.fill.toXml(b);let I=this.index.fill[y];return I===void 0&&(I=this.index.fill[y]=this.model.fills.length,this.model.fills.push(y)),I}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,b){switch(b){case a.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:f.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},r.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(i,r,n){const a=i("../base-xform");class s extends a{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,u){if((u=u||this.model)===!0)l.leafNode("u");else{const d=s.Attributes[u];d&&l.leafNode("u",d)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}s.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},r.exports=s},{"../base-xform":32}],137:[function(i,r,n){const a=i("../base-xform"),s=i("./filter-column-xform");r.exports=class extends a{constructor(){super(),this.map={filterColumn:new s}}get tag(){return"autoFilter"}prepare(o){o.columns.forEach((l,u)=>{this.map.filterColumn.prepare(l,{index:u})})}render(o,l){return o.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(u=>{this.map.filterColumn.render(o,u)}),o.closeNode(),!0}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model={autoFilterRef:o.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"customFilter"}render(s,o){s.leafNode(this.tag,{val:o.val,operator:o.operator})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val,operator:s.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(i,r,n){const a=i("../base-xform"),s=i("../list-xform"),o=i("./custom-filter-xform"),l=i("./filter-xform");r.exports=class extends a{constructor(){super(),this.map={customFilters:new s({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new s({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(u,d){u.colId=d.index.toString()}render(u,d){return d.customFilters?(u.openNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),this.map.customFilters.render(u,d.customFilters),u.closeNode(),!0):(u.leafNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),!0)}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;const{attributes:d}=u;switch(u.name){case this.tag:return this.model={filterButton:d.hiddenButton==="0"},!0;default:if(this.parser=this.map[u.name],this.parser)return this.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"filter"}render(s,o){s.leafNode(this.tag,{val:o.val})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"tableColumn"}prepare(s,o){s.id=o.index+1}render(s,o){return s.leafNode(this.tag,{id:o.id.toString(),name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:o}=s;return this.model={name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(i,r,n){const a=i("../base-xform");r.exports=class extends a{get tag(){return"tableStyleInfo"}render(s,o){return s.leafNode(this.tag,{name:o.theme?o.theme:void 0,showFirstColumn:o.showFirstColumn?"1":"0",showLastColumn:o.showLastColumn?"1":"0",showRowStripes:o.showRowStripes?"1":"0",showColumnStripes:o.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:o}=s;return this.model={theme:o.name?o.name:null,showFirstColumn:o.showFirstColumn==="1",showLastColumn:o.showLastColumn==="1",showRowStripes:o.showRowStripes==="1",showColumnStripes:o.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(i,r,n){const a=i("../../../utils/xml-stream"),s=i("../base-xform"),o=i("../list-xform"),l=i("./auto-filter-xform"),u=i("./table-column-xform"),d=i("./table-style-info-xform");class c extends s{constructor(){super(),this.map={autoFilter:new l,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new u}),tableStyleInfo:new d}}prepare(f,p){this.map.autoFilter.prepare(f),this.map.tableColumns.prepare(f.columns,p)}get tag(){return"table"}render(f,p){f.openXml(a.StdDocAttributes),f.openNode(this.tag,{...c.TABLE_ATTRIBUTES,id:p.id,name:p.name,displayName:p.displayName||p.name,ref:p.tableRef,totalsRowCount:p.totalsRow?"1":void 0,totalsRowShown:p.totalsRow?void 0:"1",headerRowCount:p.headerRow?"1":"0"}),this.map.autoFilter.render(f,p),this.map.tableColumns.render(f,p.columns),this.map.tableStyleInfo.render(f,p.style),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;const{name:p,attributes:g}=f;switch(p){case this.tag:this.reset(),this.model={name:g.name,displayName:g.displayName||g.name,tableRef:g.ref,totalsRow:g.totalsRowCount==="1",headerRow:g.headerRowCount==="1"};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((p,g)=>{this.model.columns[g].filterButton=p.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(f,p){f.columns.forEach(g=>{g.dxfId!==void 0&&(g.style=p.styles.getDxfStyle(g.dxfId))})}}c.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},r.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(i,r,n){(function(a,s){(function(){const o=i("fs"),l=i("jszip"),{PassThrough:u}=i("readable-stream"),d=i("../utils/zip-stream"),c=i("../utils/stream-buf"),h=i("../utils/utils"),f=i("../utils/xml-stream"),{bufferToString:p}=i("../utils/browser-buffer-decode"),g=i("./xform/style/styles-xform"),m=i("./xform/core/core-xform"),v=i("./xform/strings/shared-strings-xform"),b=i("./xform/core/relationships-xform"),y=i("./xform/core/content-types-xform"),I=i("./xform/core/app-xform"),D=i("./xform/book/workbook-xform"),N=i("./xform/sheet/worksheet-xform"),z=i("./xform/drawing/drawing-xform"),F=i("./xform/table/table-xform"),$=i("./xform/comment/comments-xform"),j=i("./xform/comment/vml-notes-xform"),q=i("./xml/theme1");class H{constructor(T){this.workbook=T}async readFile(T,E){if(!await h.fs.exists(T))throw new Error("File not found: "+T);const C=o.createReadStream(T);try{const w=await this.read(C,E);return C.close(),w}catch(w){throw C.close(),w}}parseRels(T){return new b().parseStream(T)}parseWorkbook(T){return new D().parseStream(T)}parseSharedStrings(T){return new v().parseStream(T)}reconcile(T,E){const C=new D,w=new N(E),S=new z,x=new F;C.reconcile(T);const k={media:T.media,mediaIndex:T.mediaIndex};Object.keys(T.drawings).forEach(L=>{const V=T.drawings[L],X=T.drawingRels[L];X&&(k.rels=X.reduce((B,K)=>(B[K.Id]=K,B),{}),(V.anchors||[]).forEach(B=>{const K=B.picture&&B.picture.hyperlinks;K&&k.rels[K.rId]&&(K.hyperlink=k.rels[K.rId].Target,delete K.rId)}),S.reconcile(V,k))});const P={styles:T.styles};Object.values(T.tables).forEach(L=>{x.reconcile(L,P)});const O={styles:T.styles,sharedStrings:T.sharedStrings,media:T.media,mediaIndex:T.mediaIndex,date1904:T.properties&&T.properties.date1904,drawings:T.drawings,comments:T.comments,tables:T.tables,vmlDrawings:T.vmlDrawings};T.worksheets.forEach(L=>{L.relationships=T.worksheetRels[L.sheetNo],w.reconcile(L,O)}),delete T.worksheetHash,delete T.worksheetRels,delete T.globalRels,delete T.sharedStrings,delete T.workbookRels,delete T.sheetDefs,delete T.styles,delete T.mediaIndex,delete T.drawings,delete T.drawingRels,delete T.vmlDrawings}async _processWorksheetEntry(T,E,C,w,S){const x=new N(w),k=await x.parseStream(T);k.sheetNo=C,E.worksheetHash[S]=k,E.worksheets.push(k)}async _processCommentEntry(T,E,C){const w=new $,S=await w.parseStream(T);E.comments[`../${C}.xml`]=S}async _processTableEntry(T,E,C){const w=new F,S=await w.parseStream(T);E.tables[`../tables/${C}.xml`]=S}async _processWorksheetRelsEntry(T,E,C){const w=new b,S=await w.parseStream(T);E.worksheetRels[C]=S}async _processMediaEntry(T,E,C){const w=C.lastIndexOf(".");if(w>=1){const S=C.substr(w+1),x=C.substr(0,w);await new Promise((k,P)=>{const O=new c;O.on("finish",()=>{E.mediaIndex[C]=E.media.length,E.mediaIndex[x]=E.media.length;const L={type:"image",name:x,extension:S,buffer:O.toBuffer()};E.media.push(L),k()}),T.on("error",L=>{P(L)}),T.pipe(O)})}}async _processDrawingEntry(T,E,C){const w=new z,S=await w.parseStream(T);E.drawings[C]=S}async _processDrawingRelsEntry(T,E,C){const w=new b,S=await w.parseStream(T);E.drawingRels[C]=S}async _processVmlDrawingEntry(T,E,C){const w=new j,S=await w.parseStream(T);E.vmlDrawings[`../drawings/${C}.vml`]=S}async _processThemeEntry(T,E,C){await new Promise((w,S)=>{const x=new c;T.on("error",S),x.on("error",S),x.on("finish",()=>{E.themes[C]=x.read().toString(),w()}),T.pipe(x)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(T,E){!T[Symbol.asyncIterator]&&T.pipe&&(T=T.pipe(new u));const C=[];for await(const w of T)C.push(w);return this.load(s.concat(C),E)}async load(T,E){let C;C=E&&E.base64?s.from(T.toString(),"base64"):T;const w={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},S=await l.loadAsync(C);for(const x of Object.values(S.files))if(!x.dir){let k,P=x.name;if(P[0]==="/"&&(P=P.substr(1)),P.match(/xl\/media\//)||P.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))k=new u,k.write(await x.async("nodebuffer"));else{let O;k=new u({writableObjectMode:!0,readableObjectMode:!0}),O=a.browser?p(await x.async("nodebuffer")):await x.async("string");const L=16384;for(let V=0;V<O.length;V+=L)k.write(O.substring(V,V+L))}switch(k.end(),P){case"_rels/.rels":w.globalRels=await this.parseRels(k);break;case"xl/workbook.xml":{const O=await this.parseWorkbook(k);w.sheets=O.sheets,w.definedNames=O.definedNames,w.views=O.views,w.properties=O.properties,w.calcProperties=O.calcProperties;break}case"xl/_rels/workbook.xml.rels":w.workbookRels=await this.parseRels(k);break;case"xl/sharedStrings.xml":w.sharedStrings=new v,await w.sharedStrings.parseStream(k);break;case"xl/styles.xml":w.styles=new g,await w.styles.parseStream(k);break;case"docProps/app.xml":{const O=new I,L=await O.parseStream(k);w.company=L.company,w.manager=L.manager;break}case"docProps/core.xml":{const O=new m,L=await O.parseStream(k);Object.assign(w,L);break}default:{let O=P.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(O){await this._processWorksheetEntry(k,w,O[1],E,P);break}if(O=P.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),O){await this._processWorksheetRelsEntry(k,w,O[1]);break}if(O=P.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),O){await this._processThemeEntry(k,w,O[1]);break}if(O=P.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),O){await this._processMediaEntry(k,w,O[1]);break}if(O=P.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),O){await this._processDrawingEntry(k,w,O[1]);break}if(O=P.match(/xl\/(comments\d+)[.]xml/),O){await this._processCommentEntry(k,w,O[1]);break}if(O=P.match(/xl\/tables\/(table\d+)[.]xml/),O){await this._processTableEntry(k,w,O[1]);break}if(O=P.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),O){await this._processDrawingRelsEntry(k,w,O[1]);break}if(O=P.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),O){await this._processVmlDrawingEntry(k,w,O[1]);break}}}}return this.reconcile(w,E),this.workbook.model=w,this.workbook}async addMedia(T,E){await Promise.all(E.media.map(async C=>{if(C.type==="image"){const w=`xl/media/${C.name}.${C.extension}`;if(C.filename){const S=await function(x,k){return new Promise((P,O)=>{o.readFile(x,k,(L,V)=>{L?O(L):P(V)})})}(C.filename);return T.append(S,{name:w})}if(C.buffer)return T.append(C.buffer,{name:w});if(C.base64){const S=C.base64,x=S.substring(S.indexOf(",")+1);return T.append(x,{name:w,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(T,E){const C=new z,w=new b;E.worksheets.forEach(S=>{const{drawing:x}=S;if(x){C.prepare(x,{});let k=C.toXml(x);T.append(k,{name:`xl/drawings/${x.name}.xml`}),k=w.toXml(x.rels),T.append(k,{name:`xl/drawings/_rels/${x.name}.xml.rels`})}})}addTables(T,E){const C=new F;E.worksheets.forEach(w=>{const{tables:S}=w;S.forEach(x=>{C.prepare(x,{});const k=C.toXml(x);T.append(k,{name:"xl/tables/"+x.target})})})}async addContentTypes(T,E){const C=new y().toXml(E);T.append(C,{name:"[Content_Types].xml"})}async addApp(T,E){const C=new I().toXml(E);T.append(C,{name:"docProps/app.xml"})}async addCore(T,E){const C=new m;T.append(C.toXml(E),{name:"docProps/core.xml"})}async addThemes(T,E){const C=E.themes||{theme1:q};Object.keys(C).forEach(w=>{const S=C[w],x=`xl/theme/${w}.xml`;T.append(S,{name:x})})}async addOfficeRels(T){const E=new b().toXml([{Id:"rId1",Type:H.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:H.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:H.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);T.append(E,{name:"_rels/.rels"})}async addWorkbookRels(T,E){let C=1;const w=[{Id:"rId"+C++,Type:H.RelType.Styles,Target:"styles.xml"},{Id:"rId"+C++,Type:H.RelType.Theme,Target:"theme/theme1.xml"}];E.sharedStrings.count&&w.push({Id:"rId"+C++,Type:H.RelType.SharedStrings,Target:"sharedStrings.xml"}),E.worksheets.forEach(x=>{x.rId="rId"+C++,w.push({Id:x.rId,Type:H.RelType.Worksheet,Target:`worksheets/sheet${x.id}.xml`})});const S=new b().toXml(w);T.append(S,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(T,E){E.sharedStrings&&E.sharedStrings.count&&T.append(E.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(T,E){const{xml:C}=E.styles;C&&T.append(C,{name:"xl/styles.xml"})}async addWorkbook(T,E){const C=new D;T.append(C.toXml(E),{name:"xl/workbook.xml"})}async addWorksheets(T,E){const C=new N,w=new b,S=new $,x=new j;E.worksheets.forEach(k=>{let P=new f;C.render(P,k),T.append(P.xml,{name:`xl/worksheets/sheet${k.id}.xml`}),k.rels&&k.rels.length&&(P=new f,w.render(P,k.rels),T.append(P.xml,{name:`xl/worksheets/_rels/sheet${k.id}.xml.rels`})),k.comments.length>0&&(P=new f,S.render(P,k),T.append(P.xml,{name:`xl/comments${k.id}.xml`}),P=new f,x.render(P,k),T.append(P.xml,{name:`xl/drawings/vmlDrawing${k.id}.vml`}))})}_finalize(T){return new Promise((E,C)=>{T.on("finish",()=>{E(this)}),T.on("error",C),T.finalize()})}prepareModel(T,E){T.creator=T.creator||"ExcelJS",T.lastModifiedBy=T.lastModifiedBy||"ExcelJS",T.created=T.created||new Date,T.modified=T.modified||new Date,T.useSharedStrings=E.useSharedStrings===void 0||E.useSharedStrings,T.useStyles=E.useStyles===void 0||E.useStyles,T.sharedStrings=new v,T.styles=T.useStyles?new g(!0):new g.Mock;const C=new D,w=new N;C.prepare(T);const S={sharedStrings:T.sharedStrings,styles:T.styles,date1904:T.properties.date1904,drawingsCount:0,media:T.media};S.drawings=T.drawings=[],S.commentRefs=T.commentRefs=[];let x=0;T.tables=[],T.worksheets.forEach(k=>{k.tables.forEach(P=>{x++,P.target=`table${x}.xml`,P.id=x,T.tables.push(P)}),w.prepare(k,S)})}async write(T,E){E=E||{};const{model:C}=this.workbook,w=new d.ZipWriter(E.zip);return w.pipe(T),this.prepareModel(C,E),await this.addContentTypes(w,C),await this.addOfficeRels(w,C),await this.addWorkbookRels(w,C),await this.addWorksheets(w,C),await this.addSharedStrings(w,C),await this.addDrawings(w,C),await this.addTables(w,C),await Promise.all([this.addThemes(w,C),this.addStyles(w,C)]),await this.addMedia(w,C),await Promise.all([this.addApp(w,C),this.addCore(w,C)]),await this.addWorkbook(w,C),this._finalize(w)}writeFile(T,E){const C=o.createWriteStream(T);return new Promise((w,S)=>{C.on("finish",()=>{w()}),C.on("error",x=>{S(x)}),this.write(C,E).then(()=>{C.end()}).catch(x=>{S(x)})})}async writeBuffer(T){const E=new c;return await this.write(E,T),E.read()}}H.RelType=i("./rel-type"),r.exports=H}).call(this)}).call(this,i("_process"),i("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(i,r,n){r.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(i,r,n){(function(a){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CsvFormatterStream=void 0;const s=i("stream"),o=i("./formatter");class l extends s.Transform{constructor(d){super({writableObjectMode:d.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=d,this.rowFormatter=new o.RowFormatter(d),this.hasWrittenBOM=!d.writeBOM}transform(d){return this.rowFormatter.rowTransform=d,this}_transform(d,c,h){let f=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(d,(p,g)=>p?(f=!0,h(p)):(g&&g.forEach(m=>{this.push(a.from(m,"utf8"))}),f=!0,h()))}catch(p){if(f)throw p;h(p)}}_flush(d){this.rowFormatter.finish((c,h)=>c?d(c):(h&&h.forEach(f=>{this.push(a.from(f,"utf8"))}),d()))}}n.CsvFormatterStream=l}).call(this)}).call(this,i("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FormatterOptions=void 0,n.FormatterOptions=class{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,a||{}),(a==null?void 0:a.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(a==null?void 0:a.quote)===!0?this.quote='"':(a==null?void 0:a.quote)===!1&&(this.quote=""),typeof(a==null?void 0:a.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=a.writeHeaders)===null||s===void 0||s),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(i,r,n){var a=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=void 0;const s=a(i("lodash.isboolean")),o=a(i("lodash.isnil")),l=a(i("lodash.escaperegexp"));n.FieldFormatter=class{constructor(u){this._headers=null,this.formatterOptions=u,u.headers!==null&&(this.headers=u.headers),this.REPLACE_REGEXP=new RegExp(u.quote,"g");const d=`[${u.delimiter}${l.default(u.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(d)}set headers(u){this._headers=u}shouldQuote(u,d){const c=d?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return s.default(c)?c:Array.isArray(c)?c[u]:this._headers!==null&&c[this._headers[u]]}format(u,d,c){const h=(""+(o.default(u)?"":u)).replace(/\0/g,""),{formatterOptions:f}=this;return f.quote!==""&&h.indexOf(f.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,f.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(d,c)?this.quoteField(h):h}quoteField(u){const{quote:d}=this.formatterOptions;return`${d}${u}${d}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(i,r,n){var a=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowFormatter=void 0;const s=a(i("lodash.isfunction")),o=a(i("lodash.isequal")),l=i("./FieldFormatter"),u=i("../types");class d{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new l.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return d.isRowHashArray(h)?h.map(f=>f[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return u.isSyncTransform(h)?(f,p)=>{let g=null;try{g=h(f)}catch(m){return p(m)}return p(null,g)}:(f,p)=>{h(f,p)}}set rowTransform(h){if(!s.default(h))throw new TypeError("The transform should be a function");this._rowTransform=d.createTransform(h)}format(h,f){this.callTransformer(h,(p,g)=>{if(p)return f(p);if(!h)return f(null);const m=[];if(g){const{shouldFormatColumns:v,headers:b}=this.checkHeaders(g);if(this.shouldWriteHeaders&&b&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(b,!0)),this.hasWrittenHeaders=!0),v){const y=this.gatherColumns(g);m.push(this.formatColumns(y,!1))}}return f(null,m)})}finish(h){const f=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));f.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&f.push(this.formatterOptions.rowDelimiter),h(null,f)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const f=d.gatherHeaders(h);return this.headers=f,this.fieldFormatter.headers=f,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(f,h),headers:f}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?d.isRowHashArray(h)?this.headers.map((f,p)=>{const g=h[p];return g?g[1]:""}):d.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((f,p)=>h[p]):this.headers.map(f=>h[f])}callTransformer(h,f){return this._rowTransform?this._rowTransform(h,f):f(null,h)}formatColumns(h,f){const p=h.map((m,v)=>this.fieldFormatter.format(m,v,f)).join(this.formatterOptions.delimiter),{rowCount:g}=this;return this.rowCount+=1,g?[this.formatterOptions.rowDelimiter,p].join(""):p}}n.RowFormatter=d},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=n.RowFormatter=void 0;var a=i("./RowFormatter");Object.defineProperty(n,"RowFormatter",{enumerable:!0,get:function(){return a.RowFormatter}});var s=i("./FieldFormatter");Object.defineProperty(n,"FieldFormatter",{enumerable:!0,get:function(){return s.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(i,r,n){(function(a){(function(){var s=Object.create?function(v,b,y,I){I===void 0&&(I=y),Object.defineProperty(v,I,{enumerable:!0,get:function(){return b[y]}})}:function(v,b,y,I){I===void 0&&(I=y),v[I]=b[y]},o=Object.create?function(v,b){Object.defineProperty(v,"default",{enumerable:!0,value:b})}:function(v,b){v.default=b},l=function(v){if(v&&v.__esModule)return v;var b={};if(v!=null)for(var y in v)y!=="default"&&Object.prototype.hasOwnProperty.call(v,y)&&s(b,v,y);return o(b,v),b},u=function(v,b){for(var y in v)y==="default"||Object.prototype.hasOwnProperty.call(b,y)||s(b,v,y)};Object.defineProperty(n,"__esModule",{value:!0}),n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=n.FormatterOptions=n.CsvFormatterStream=void 0;const d=i("util"),c=i("stream"),h=l(i("fs")),f=i("./FormatterOptions"),p=i("./CsvFormatterStream");u(i("./types"),n);var g=i("./CsvFormatterStream");Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return g.CsvFormatterStream}});var m=i("./FormatterOptions");Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),n.format=v=>new p.CsvFormatterStream(new f.FormatterOptions(v)),n.write=(v,b)=>{const y=n.format(b),I=d.promisify((D,N)=>{y.write(D,void 0,N)});return v.reduce((D,N)=>D.then(()=>I(N)),Promise.resolve()).then(()=>y.end()).catch(D=>{y.emit("error",D)}),y},n.writeToStream=(v,b,y)=>n.write(b,y).pipe(v),n.writeToBuffer=function(v){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const y=[],I=new c.Writable({write(D,N,z){y.push(D),z()}});return new Promise((D,N)=>{I.on("error",N).on("finish",()=>D(a.concat(y))),n.write(v,b).pipe(I)})},n.writeToString=(v,b)=>n.writeToBuffer(v,b).then(y=>y.toString()),n.writeToPath=(v,b,y)=>{const I=h.createWriteStream(v,{encoding:"utf8"});return n.write(b,y).pipe(I)}}).call(this)}).call(this,i("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncTransform=void 0,n.isSyncTransform=a=>a.length===1},{}],153:[function(i,r,n){(function(a){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=void 0;const s=i("string_decoder"),o=i("stream"),l=i("./transforms"),u=i("./parser");class d extends o.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new u.Parser(h),this.headerTransformer=new l.HeaderTransformer(h),this.decoder=new s.StringDecoder(h.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var f=arguments.length,p=new Array(f>1?f-1:0),g=1;g<f;g++)p[g-1]=arguments[g];return super.emit(h,...p)}_transform(h,f,p){if(this.hasHitRowLimit)return p();const g=d.wrapDoneCallback(p);try{const{lines:m}=this,v=m+this.decoder.write(h),b=this.parse(v,!0);return this.processRows(b,g)}catch(m){return g(m)}}_flush(h){const f=d.wrapDoneCallback(h);if(this.hasHitRowLimit)return f();try{const p=this.lines+this.decoder.end(),g=this.parse(p,!1);return this.processRows(g,f)}catch(p){return f(p)}}parse(h,f){if(!h)return[];const{line:p,rows:g}=this.parser.parse(h,f);return this.lines=p,g}processRows(h,f){const p=h.length,g=m=>{const v=I=>I?f(I):m%100!=0?g(m+1):void a(()=>g(m+1));if(this.checkAndEmitHeaders(),m>=p||this.hasHitRowLimit)return f();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const b=h[m];this.rowCount+=1,this.parsedRowCount+=1;const y=this.rowCount;return this.transformRow(b,(I,D)=>{if(I)return this.rowCount-=1,v(I);if(!D)return v(new Error("expected transform result"));if(D.isValid){if(D.row)return this.pushRow(D.row,v)}else this.emit("data-invalid",D.row,y,D.reason);return v()})};g(0)}transformRow(h,f){try{this.headerTransformer.transform(h,(p,g)=>p?f(p):g?g.isValid?g.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(g.row,f):this.skipRow(f):(this.rowCount-=1,this.parsedRowCount-=1,f(null,{row:null,isValid:!0})):this.shouldEmitRows?f(null,{isValid:!1,row:h}):this.skipRow(f):f(new Error("Expected result from header transform")))}catch(p){f(p)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,f){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),f()}catch(p){f(p)}}static wrapDoneCallback(h){let f=!1;return function(p){if(p){if(f)throw p;return f=!0,void h(p)}for(var g=arguments.length,m=new Array(g>1?g-1:0),v=1;v<g;v++)m[v-1]=arguments[v];h(...m)}}}n.CsvParserStream=d}).call(this)}).call(this,i("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(i,r,n){var a=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(n,"__esModule",{value:!0}),n.ParserOptions=void 0;const s=a(i("lodash.escaperegexp")),o=a(i("lodash.isnil"));n.ParserOptions=class{constructor(l){var u;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=s.default(this.delimiter),this.escapeChar=(u=this.escape)!==null&&u!==void 0?u:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(i,r,n){var a=Object.create?function(g,m,v,b){b===void 0&&(b=v),Object.defineProperty(g,b,{enumerable:!0,get:function(){return m[v]}})}:function(g,m,v,b){b===void 0&&(b=v),g[b]=m[v]},s=Object.create?function(g,m){Object.defineProperty(g,"default",{enumerable:!0,value:m})}:function(g,m){g.default=m},o=function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&a(m,g,v);return s(m,g),m},l=function(g,m){for(var v in g)v==="default"||Object.prototype.hasOwnProperty.call(m,v)||a(m,g,v)};Object.defineProperty(n,"__esModule",{value:!0}),n.parseString=n.parseFile=n.parseStream=n.parse=n.ParserOptions=n.CsvParserStream=void 0;const u=o(i("fs")),d=i("stream"),c=i("./ParserOptions"),h=i("./CsvParserStream");l(i("./types"),n);var f=i("./CsvParserStream");Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return f.CsvParserStream}});var p=i("./ParserOptions");Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return p.ParserOptions}}),n.parse=g=>new h.CsvParserStream(new c.ParserOptions(g)),n.parseStream=(g,m)=>g.pipe(new h.CsvParserStream(new c.ParserOptions(m))),n.parseFile=function(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return u.createReadStream(g).pipe(new h.CsvParserStream(new c.ParserOptions(m)))},n.parseString=(g,m)=>{const v=new d.Readable;return v.push(g),v.push(null),v.pipe(new h.CsvParserStream(new c.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Parser=void 0;const a=i("./Scanner"),s=i("./RowParser"),o=i("./Token");class l{constructor(d){this.parserOptions=d,this.rowParser=new s.RowParser(this.parserOptions)}static removeBOM(d){return d&&d.charCodeAt(0)===65279?d.slice(1):d}parse(d,c){const h=new a.Scanner({line:l.removeBOM(d),parserOptions:this.parserOptions,hasMoreData:c});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(d){const c=[];let h=!0;for(;h;)h=this.parseRow(d,c);return{line:d.line,rows:c}}parseWithComments(d){const{parserOptions:c}=this,h=[];for(let f=d.nextCharacterToken;f!==null;f=d.nextCharacterToken)if(o.Token.isTokenComment(f,c)){if(d.advancePastLine()===null)return{line:d.lineFromCursor,rows:h};if(!d.hasMoreCharacters)return{line:d.lineFromCursor,rows:h};d.truncateToCursor()}else if(!this.parseRow(d,h))break;return{line:d.line,rows:h}}parseRow(d,c){if(!d.nextNonSpaceToken)return!1;const h=this.rowParser.parse(d);return h!==null&&(this.parserOptions.ignoreEmpty&&s.RowParser.isEmptyRow(h)||c.push(h),!0)}}n.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RowParser=void 0;const a=i("./column"),s=i("./Token");n.RowParser=class{constructor(o){this.parserOptions=o,this.columnParser=new a.ColumnParser(o)}static isEmptyRow(o){return o.join("").replace(/\s+/g,"")===""}parse(o){const{parserOptions:l}=this,{hasMoreData:u}=o,d=o,c=[];let h=this.getStartToken(d,c);for(;h;){if(s.Token.isTokenRowDelimiter(h))return d.advancePastToken(h),!d.hasMoreCharacters&&s.Token.isTokenCarriageReturn(h,l)&&u?null:(d.truncateToCursor(),c);if(!this.shouldSkipColumnParse(d,h,c)){const f=this.columnParser.parse(d);if(f===null)return null;c.push(f)}h=d.nextNonSpaceToken}return u?null:(d.truncateToCursor(),c)}getStartToken(o,l){const u=o.nextNonSpaceToken;return u!==null&&s.Token.isTokenDelimiter(u,this.parserOptions)?(l.push(""),o.nextNonSpaceToken):u}shouldSkipColumnParse(o,l,u){const{parserOptions:d}=this;if(s.Token.isTokenDelimiter(l,d)){o.advancePastToken(l);const c=o.nextCharacterToken;if(!o.hasMoreCharacters||c!==null&&s.Token.isTokenRowDelimiter(c)||c!==null&&s.Token.isTokenDelimiter(c,d))return u.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Scanner=void 0;const a=i("./Token"),s=/((?:\r\n)|\n|\r)/;n.Scanner=class{constructor(o){this.cursor=0,this.line=o.line,this.lineLength=this.line.length,this.parserOptions=o.parserOptions,this.hasMoreData=o.hasMoreData,this.cursor=o.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:o}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(o.search(l)===-1)return null;const u=l.exec(o);if(u==null)return null;const d=u[1],c=this.cursor+(u.index||0);return new a.Token({token:d,startCursor:c,endCursor:c+d.length-1})}get nextCharacterToken(){const{cursor:o,lineLength:l}=this;return l<=o?null:new a.Token({token:this.line[o],startCursor:o,endCursor:o})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const o=s.exec(this.lineFromCursor);return o?(this.cursor+=(o.index||0)+o[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(o){return this.cursor=o,this}advanceToToken(o){return this.cursor=o.startCursor,this}advancePastToken(o){return this.cursor=o.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0,n.Token=class{constructor(a){this.token=a.token,this.startCursor=a.startCursor,this.endCursor=a.endCursor}static isTokenRowDelimiter(a){const s=a.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(a,s){return a.token===s.carriageReturn}static isTokenComment(a,s){return s.supportsComments&&!!a&&a.token===s.comment}static isTokenEscapeCharacter(a,s){return a.token===s.escapeChar}static isTokenQuote(a,s){return a.token===s.quote}static isTokenDelimiter(a,s){return a.token===s.delimiter}}},{}],160:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=void 0,n.ColumnFormatter=class{constructor(a){a.trim?this.format=s=>s.trim():a.ltrim?this.format=s=>s.trimLeft():a.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}},{}],161:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnParser=void 0;const a=i("./NonQuotedColumnParser"),s=i("./QuotedColumnParser"),o=i("../Token");n.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new s.QuotedColumnParser(l),this.nonQuotedColumnParser=new a.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:u}=l;return u!==null&&o.Token.isTokenQuote(u,this.parserOptions)?(l.advanceToToken(u),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NonQuotedColumnParser=void 0;const a=i("./ColumnFormatter"),s=i("../Token");n.NonQuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new a.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const{parserOptions:l}=this,u=[];let d=o.nextCharacterToken;for(;d&&!s.Token.isTokenDelimiter(d,l)&&!s.Token.isTokenRowDelimiter(d);d=o.nextCharacterToken)u.push(d.token),o.advancePastToken(d);return this.columnFormatter.format(u.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=void 0;const a=i("./ColumnFormatter"),s=i("../Token");n.QuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new a.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const l=o.cursor,{foundClosingQuote:u,col:d}=this.gatherDataBetweenQuotes(o);if(!u){if(o.advanceTo(l),!o.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${o.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(o),d}gatherDataBetweenQuotes(o){const{parserOptions:l}=this;let u=!1,d=!1;const c=[];let h=o.nextCharacterToken;for(;!d&&h!==null;h=o.nextCharacterToken){const f=s.Token.isTokenQuote(h,l);if(!u&&f)u=!0;else if(u)if(s.Token.isTokenEscapeCharacter(h,l)){o.advancePastToken(h);const p=o.nextCharacterToken;p!==null&&(s.Token.isTokenQuote(p,l)||s.Token.isTokenEscapeCharacter(p,l))?(c.push(p.token),h=p):f?d=!0:c.push(h.token)}else f?d=!0:c.push(h.token);o.advancePastToken(h)}return{col:this.columnFormatter.format(c.join("")),foundClosingQuote:d}}checkForMalformedColumn(o){const{parserOptions:l}=this,{nextNonSpaceToken:u}=o;if(u){const d=s.Token.isTokenDelimiter(u,l),c=s.Token.isTokenRowDelimiter(u);if(!d&&!c){const h=o.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${u.token}'. at '${h}`)}o.advanceToToken(u)}else o.hasMoreData||o.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=void 0;var a=i("./ColumnParser");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}});var s=i("./NonQuotedColumnParser");Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}});var o=i("./QuotedColumnParser");Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var l=i("./ColumnFormatter");Object.defineProperty(n,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=n.Token=n.Scanner=n.RowParser=n.Parser=void 0;var a=i("./Parser");Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return a.Parser}});var s=i("./RowParser");Object.defineProperty(n,"RowParser",{enumerable:!0,get:function(){return s.RowParser}});var o=i("./Scanner");Object.defineProperty(n,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var l=i("./Token");Object.defineProperty(n,"Token",{enumerable:!0,get:function(){return l.Token}});var u=i("./column");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return u.ColumnParser}}),Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return u.NonQuotedColumnParser}}),Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return u.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(i,r,n){var a=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=void 0;const s=a(i("lodash.isundefined")),o=a(i("lodash.isfunction")),l=a(i("lodash.uniq")),u=a(i("lodash.groupby"));n.HeaderTransformer=class{constructor(d){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=d,d.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(d.headers)?this.setHeaders(d.headers):o.default(d.headers)&&(this.headersTransform=d.headers)}transform(d,c){return this.shouldMapRow(d)?c(null,this.processRow(d)):c(null,{row:null,isValid:!0})}shouldMapRow(d){const{parserOptions:c}=this;if(!this.headersTransform&&c.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(d)){if(this.headersTransform)this.setHeaders(this.headersTransform(d));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(d)}return!1}return!0}processRow(d){if(!this.headers)return{row:d,isValid:!0};const{parserOptions:c}=this;if(!c.discardUnmappedColumns&&d.length>this.headersLength){if(!c.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${d.length}`);return{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}}return c.strictColumnHandling&&d.length<this.headersLength?{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}:{row:this.mapHeaders(d),isValid:!0}}mapHeaders(d){const c={},{headers:h,headersLength:f}=this;for(let p=0;p<f;p+=1){const g=h[p];if(!s.default(g)){const m=d[p];s.default(m)?c[g]="":c[g]=m}}return c}setHeaders(d){var c;const h=d.filter(f=>!!f);if(l.default(h).length!==h.length){const f=u.default(h),p=Object.keys(f).filter(g=>f[g].length>1);throw new Error("Duplicate headers found "+JSON.stringify(p))}this.headers=d,this.receivedHeaders=!0,this.headersLength=((c=this.headers)===null||c===void 0?void 0:c.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(i,r,n){var a=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowTransformerValidator=void 0;const s=a(i("lodash.isfunction")),o=i("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(d){return o.isSyncTransform(d)?(c,h)=>{let f=null;try{f=d(c)}catch(p){return h(p)}return h(null,f)}:d}static createValidator(d){return o.isSyncValidate(d)?(c,h)=>{h(null,{row:c,isValid:d(c)})}:(c,h)=>{d(c,(f,p,g)=>f?h(f):h(null,p?{row:c,isValid:p,reason:g}:{row:c,isValid:!1,reason:g}))}}set rowTransform(d){if(!s.default(d))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(d)}set rowValidator(d){if(!s.default(d))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(d)}transformAndValidate(d,c){return this.callTransformer(d,(h,f)=>h?c(h):f?this.callValidator(f,(p,g)=>p?c(p):g&&!g.isValid?c(null,{row:f,isValid:!1,reason:g.reason}):c(null,{row:f,isValid:!0})):c(null,{row:null,isValid:!0}))}callTransformer(d,c){return this._rowTransform?this._rowTransform(d,c):c(null,d)}callValidator(d,c){return this._rowValidator?this._rowValidator(d,c):c(null,{row:d,isValid:!0})}}n.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=n.RowTransformerValidator=void 0;var a=i("./RowTransformerValidator");Object.defineProperty(n,"RowTransformerValidator",{enumerable:!0,get:function(){return a.RowTransformerValidator}});var s=i("./HeaderTransformer");Object.defineProperty(n,"HeaderTransformer",{enumerable:!0,get:function(){return s.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncValidate=n.isSyncTransform=void 0,n.isSyncTransform=a=>a.length===1,n.isSyncValidate=a=>a.length===1},{}],170:[function(i,r,n){const a=n;a.bignum=i("bn.js"),a.define=i("./asn1/api").define,a.base=i("./asn1/base"),a.constants=i("./asn1/constants"),a.decoders=i("./asn1/decoders"),a.encoders=i("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(i,r,n){const a=i("./encoders"),s=i("./decoders"),o=i("inherits");function l(u,d){this.name=u,this.body=d,this.decoders={},this.encoders={}}n.define=function(u,d){return new l(u,d)},l.prototype._createNamed=function(u){const d=this.name;function c(h){this._initNamed(h,d)}return o(c,u),c.prototype._initNamed=function(h,f){u.call(this,h,f)},new c(this)},l.prototype._getDecoder=function(u){return u=u||"der",this.decoders.hasOwnProperty(u)||(this.decoders[u]=this._createNamed(s[u])),this.decoders[u]},l.prototype.decode=function(u,d,c){return this._getDecoder(d).decode(u,c)},l.prototype._getEncoder=function(u){return u=u||"der",this.encoders.hasOwnProperty(u)||(this.encoders[u]=this._createNamed(a[u])),this.encoders[u]},l.prototype.encode=function(u,d,c){return this._getEncoder(d).encode(u,c)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(i,r,n){const a=i("inherits"),s=i("../base/reporter").Reporter,o=i("safer-buffer").Buffer;function l(d,c){s.call(this,c),o.isBuffer(d)?(this.base=d,this.offset=0,this.length=d.length):this.error("Input not Buffer")}function u(d,c){if(Array.isArray(d))this.length=0,this.value=d.map(function(h){return u.isEncoderBuffer(h)||(h=new u(h,c)),this.length+=h.length,h},this);else if(typeof d=="number"){if(!(0<=d&&d<=255))return c.error("non-byte EncoderBuffer value");this.value=d,this.length=1}else if(typeof d=="string")this.value=d,this.length=o.byteLength(d);else{if(!o.isBuffer(d))return c.error("Unsupported type: "+typeof d);this.value=d,this.length=d.length}}a(l,s),n.DecoderBuffer=l,l.isDecoderBuffer=function(d){return d instanceof l?!0:typeof d=="object"&&o.isBuffer(d.base)&&d.constructor.name==="DecoderBuffer"&&typeof d.offset=="number"&&typeof d.length=="number"&&typeof d.save=="function"&&typeof d.restore=="function"&&typeof d.isEmpty=="function"&&typeof d.readUInt8=="function"&&typeof d.skip=="function"&&typeof d.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},l.prototype.restore=function(d){const c=new l(this.base);return c.offset=d.offset,c.length=this.offset,this.offset=d.offset,s.prototype.restore.call(this,d.reporter),c},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(d){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(d||"DecoderBuffer overrun")},l.prototype.skip=function(d,c){if(!(this.offset+d<=this.length))return this.error(c||"DecoderBuffer overrun");const h=new l(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+d,this.offset+=d,h},l.prototype.raw=function(d){return this.base.slice(d?d.offset:this.offset,this.length)},n.EncoderBuffer=u,u.isEncoderBuffer=function(d){return d instanceof u?!0:typeof d=="object"&&d.constructor.name==="EncoderBuffer"&&typeof d.length=="number"&&typeof d.join=="function"},u.prototype.join=function(d,c){return d||(d=o.alloc(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(d,c),c+=h.length}):(typeof this.value=="number"?d[c]=this.value:typeof this.value=="string"?d.write(this.value,c):o.isBuffer(this.value)&&this.value.copy(d,c),c+=this.length)),d}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(i,r,n){const a=n;a.Reporter=i("./reporter").Reporter,a.DecoderBuffer=i("./buffer").DecoderBuffer,a.EncoderBuffer=i("./buffer").EncoderBuffer,a.Node=i("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(i,r,n){const a=i("../base/reporter").Reporter,s=i("../base/buffer").EncoderBuffer,o=i("../base/buffer").DecoderBuffer,l=i("minimalistic-assert"),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],d=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u);function c(f,p,g){const m={};this._baseState=m,m.name=g,m.enc=f,m.parent=p||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}r.exports=c;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){const f=this._baseState,p={};h.forEach(function(m){p[m]=f[m]});const g=new this.constructor(p.parent);return g._baseState=p,g},c.prototype._wrap=function(){const f=this._baseState;d.forEach(function(p){this[p]=function(){const g=new this.constructor(this);return f.children.push(g),g[p].apply(g,arguments)}},this)},c.prototype._init=function(f){const p=this._baseState;l(p.parent===null),f.call(this),p.children=p.children.filter(function(g){return g._baseState.parent===this},this),l.equal(p.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(f){const p=this._baseState,g=f.filter(function(m){return m instanceof this.constructor},this);f=f.filter(function(m){return!(m instanceof this.constructor)},this),g.length!==0&&(l(p.children===null),p.children=g,g.forEach(function(m){m._baseState.parent=this},this)),f.length!==0&&(l(p.args===null),p.args=f,p.reverseArgs=f.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;const v={};return Object.keys(m).forEach(function(b){b==(0|b)&&(b|=0);const y=m[b];v[y]=b}),v}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(f){c.prototype[f]=function(){const p=this._baseState;throw new Error(f+" not implemented for encoding: "+p.enc)}}),u.forEach(function(f){c.prototype[f]=function(){const p=this._baseState,g=Array.prototype.slice.call(arguments);return l(p.tag===null),p.tag=f,this._useArgs(g),this}}),c.prototype.use=function(f){l(f);const p=this._baseState;return l(p.use===null),p.use=f,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(f){const p=this._baseState;return l(p.default===null),p.default=f,p.optional=!0,this},c.prototype.explicit=function(f){const p=this._baseState;return l(p.explicit===null&&p.implicit===null),p.explicit=f,this},c.prototype.implicit=function(f){const p=this._baseState;return l(p.explicit===null&&p.implicit===null),p.implicit=f,this},c.prototype.obj=function(){const f=this._baseState,p=Array.prototype.slice.call(arguments);return f.obj=!0,p.length!==0&&this._useArgs(p),this},c.prototype.key=function(f){const p=this._baseState;return l(p.key===null),p.key=f,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(f){const p=this._baseState;return l(p.choice===null),p.choice=f,this._useArgs(Object.keys(f).map(function(g){return f[g]})),this},c.prototype.contains=function(f){const p=this._baseState;return l(p.use===null),p.contains=f,this},c.prototype._decode=function(f,p){const g=this._baseState;if(g.parent===null)return f.wrapResult(g.children[0]._decode(f,p));let m,v=g.default,b=!0,y=null;if(g.key!==null&&(y=f.enterKey(g.key)),g.optional){let I=null;if(g.explicit!==null?I=g.explicit:g.implicit!==null?I=g.implicit:g.tag!==null&&(I=g.tag),I!==null||g.any){if(b=this._peekTag(f,I,g.any),f.isError(b))return b}else{const D=f.save();try{g.choice===null?this._decodeGeneric(g.tag,f,p):this._decodeChoice(f,p),b=!0}catch{b=!1}f.restore(D)}}if(g.obj&&b&&(m=f.enterObject()),b){if(g.explicit!==null){const D=this._decodeTag(f,g.explicit);if(f.isError(D))return D;f=D}const I=f.offset;if(g.use===null&&g.choice===null){let D;g.any&&(D=f.save());const N=this._decodeTag(f,g.implicit!==null?g.implicit:g.tag,g.any);if(f.isError(N))return N;g.any?v=f.raw(D):f=N}if(p&&p.track&&g.tag!==null&&p.track(f.path(),I,f.length,"tagged"),p&&p.track&&g.tag!==null&&p.track(f.path(),f.offset,f.length,"content"),g.any||(v=g.choice===null?this._decodeGeneric(g.tag,f,p):this._decodeChoice(f,p)),f.isError(v))return v;if(g.any||g.choice!==null||g.children===null||g.children.forEach(function(D){D._decode(f,p)}),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){const D=new o(v);v=this._getUse(g.contains,f._reporterState.obj)._decode(D,p)}}return g.obj&&b&&(v=f.leaveObject(m)),g.key===null||v===null&&b!==!0?y!==null&&f.exitKey(y):f.leaveKey(y,g.key,v),v},c.prototype._decodeGeneric=function(f,p,g){const m=this._baseState;return f==="seq"||f==="set"?null:f==="seqof"||f==="setof"?this._decodeList(p,f,m.args[0],g):/str$/.test(f)?this._decodeStr(p,f,g):f==="objid"&&m.args?this._decodeObjid(p,m.args[0],m.args[1],g):f==="objid"?this._decodeObjid(p,null,null,g):f==="gentime"||f==="utctime"?this._decodeTime(p,f,g):f==="null_"?this._decodeNull(p,g):f==="bool"?this._decodeBool(p,g):f==="objDesc"?this._decodeStr(p,f,g):f==="int"||f==="enum"?this._decodeInt(p,m.args&&m.args[0],g):m.use!==null?this._getUse(m.use,p._reporterState.obj)._decode(p,g):p.error("unknown tag: "+f)},c.prototype._getUse=function(f,p){const g=this._baseState;return g.useDecoder=this._use(f,p),l(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},c.prototype._decodeChoice=function(f,p){const g=this._baseState;let m=null,v=!1;return Object.keys(g.choice).some(function(b){const y=f.save(),I=g.choice[b];try{const D=I._decode(f,p);if(f.isError(D))return!1;m={type:b,value:D},v=!0}catch{return f.restore(y),!1}return!0},this),v?m:f.error("Choice not matched")},c.prototype._createEncoderBuffer=function(f){return new s(f,this.reporter)},c.prototype._encode=function(f,p,g){const m=this._baseState;if(m.default!==null&&m.default===f)return;const v=this._encodeValue(f,p,g);return v===void 0||this._skipDefault(v,p,g)?void 0:v},c.prototype._encodeValue=function(f,p,g){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(f,p||new a);let v=null;if(this.reporter=p,m.optional&&f===void 0){if(m.default===null)return;f=m.default}let b=null,y=!1;if(m.any)v=this._createEncoderBuffer(f);else if(m.choice)v=this._encodeChoice(f,p);else if(m.contains)b=this._getUse(m.contains,g)._encode(f,p),y=!0;else if(m.children)b=m.children.map(function(I){if(I._baseState.tag==="null_")return I._encode(null,p,f);if(I._baseState.key===null)return p.error("Child should have a key");const D=p.enterKey(I._baseState.key);if(typeof f!="object")return p.error("Child expected, but input is not object");const N=I._encode(f[I._baseState.key],p,f);return p.leaveKey(D),N},this).filter(function(I){return I}),b=this._createEncoderBuffer(b);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return p.error("Too many args for : "+m.tag);if(!Array.isArray(f))return p.error("seqof/setof, but data is not Array");const I=this.clone();I._baseState.implicit=null,b=this._createEncoderBuffer(f.map(function(D){const N=this._baseState;return this._getUse(N.args[0],f)._encode(D,p)},I))}else m.use!==null?v=this._getUse(m.use,g)._encode(f,p):(b=this._encodePrimitive(m.tag,f),y=!0);if(!m.any&&m.choice===null){const I=m.implicit!==null?m.implicit:m.tag,D=m.implicit===null?"universal":"context";I===null?m.use===null&&p.error("Tag could be omitted only for .use()"):m.use===null&&(v=this._encodeComposite(I,y,D,b))}return m.explicit!==null&&(v=this._encodeComposite(m.explicit,!1,"context",v)),v},c.prototype._encodeChoice=function(f,p){const g=this._baseState,m=g.choice[f.type];return m||l(!1,f.type+" not found in "+JSON.stringify(Object.keys(g.choice))),m._encode(f.value,p)},c.prototype._encodePrimitive=function(f,p){const g=this._baseState;if(/str$/.test(f))return this._encodeStr(p,f);if(f==="objid"&&g.args)return this._encodeObjid(p,g.reverseArgs[0],g.args[1]);if(f==="objid")return this._encodeObjid(p,null,null);if(f==="gentime"||f==="utctime")return this._encodeTime(p,f);if(f==="null_")return this._encodeNull();if(f==="int"||f==="enum")return this._encodeInt(p,g.args&&g.reverseArgs[0]);if(f==="bool")return this._encodeBool(p);if(f==="objDesc")return this._encodeStr(p,f);throw new Error("Unsupported tag: "+f)},c.prototype._isNumstr=function(f){return/^[0-9 ]*$/.test(f)},c.prototype._isPrintstr=function(f){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(f)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(i,r,n){const a=i("inherits");function s(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function o(l,u){this.path=l,this.rethrow(u)}n.Reporter=s,s.prototype.isError=function(l){return l instanceof o},s.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},s.prototype.restore=function(l){const u=this._reporterState;u.obj=l.obj,u.path=u.path.slice(0,l.pathLen)},s.prototype.enterKey=function(l){return this._reporterState.path.push(l)},s.prototype.exitKey=function(l){const u=this._reporterState;u.path=u.path.slice(0,l-1)},s.prototype.leaveKey=function(l,u,d){const c=this._reporterState;this.exitKey(l),c.obj!==null&&(c.obj[u]=d)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const l=this._reporterState,u=l.obj;return l.obj={},u},s.prototype.leaveObject=function(l){const u=this._reporterState,d=u.obj;return u.obj=l,d},s.prototype.error=function(l){let u;const d=this._reporterState,c=l instanceof o;if(u=c?l:new o(d.path.map(function(h){return"["+JSON.stringify(h)+"]"}).join(""),l.message||l,l.stack),!d.options.partial)throw u;return c||d.errors.push(u),u},s.prototype.wrapResult=function(l){const u=this._reporterState;return u.options.partial?{result:this.isError(l)?null:l,errors:u.errors}:l},a(o,Error),o.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(u){this.stack=u.stack}return this}},{inherits:440}],176:[function(i,r,n){function a(s){const o={};return Object.keys(s).forEach(function(l){(0|l)==l&&(l|=0);const u=s[l];o[u]=l}),o}n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=a(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=a(n.tag)},{}],177:[function(i,r,n){const a=n;a._reverse=function(s){const o={};return Object.keys(s).forEach(function(l){(0|l)==l&&(l|=0);const u=s[l];o[u]=l}),o},a.der=i("./der")},{"./der":176}],178:[function(i,r,n){const a=i("inherits"),s=i("bn.js"),o=i("../base/buffer").DecoderBuffer,l=i("../base/node"),u=i("../constants/der");function d(p){this.enc="der",this.name=p.name,this.entity=p,this.tree=new c,this.tree._init(p.body)}function c(p){l.call(this,"der",p)}function h(p,g){let m=p.readUInt8(g);if(p.isError(m))return m;const v=u.tagClass[m>>6],b=(32&m)==0;if((31&m)==31){let y=m;for(m=0;(128&y)==128;){if(y=p.readUInt8(g),p.isError(y))return y;m<<=7,m|=127&y}}else m&=31;return{cls:v,primitive:b,tag:m,tagStr:u.tag[m]}}function f(p,g,m){let v=p.readUInt8(m);if(p.isError(v))return v;if(!g&&v===128)return null;if(!(128&v))return v;const b=127&v;if(b>4)return p.error("length octect is too long");v=0;for(let y=0;y<b;y++){v<<=8;const I=p.readUInt8(m);if(p.isError(I))return I;v|=I}return v}r.exports=d,d.prototype.decode=function(p,g){return o.isDecoderBuffer(p)||(p=new o(p,g)),this.tree._decode(p,g)},a(c,l),c.prototype._peekTag=function(p,g,m){if(p.isEmpty())return!1;const v=p.save(),b=h(p,'Failed to peek tag: "'+g+'"');return p.isError(b)?b:(p.restore(v),b.tag===g||b.tagStr===g||b.tagStr+"of"===g||m)},c.prototype._decodeTag=function(p,g,m){const v=h(p,'Failed to decode tag of "'+g+'"');if(p.isError(v))return v;let b=f(p,v.primitive,'Failed to get length of "'+g+'"');if(p.isError(b))return b;if(!m&&v.tag!==g&&v.tagStr!==g&&v.tagStr+"of"!==g)return p.error('Failed to match tag: "'+g+'"');if(v.primitive||b!==null)return p.skip(b,'Failed to match body of: "'+g+'"');const y=p.save(),I=this._skipUntilEnd(p,'Failed to skip indefinite length body: "'+this.tag+'"');return p.isError(I)?I:(b=p.offset-y.offset,p.restore(y),p.skip(b,'Failed to match body of: "'+g+'"'))},c.prototype._skipUntilEnd=function(p,g){for(;;){const m=h(p,g);if(p.isError(m))return m;const v=f(p,m.primitive,g);if(p.isError(v))return v;let b;if(b=m.primitive||v!==null?p.skip(v):this._skipUntilEnd(p,g),p.isError(b))return b;if(m.tagStr==="end")break}},c.prototype._decodeList=function(p,g,m,v){const b=[];for(;!p.isEmpty();){const y=this._peekTag(p,"end");if(p.isError(y))return y;const I=m.decode(p,"der",v);if(p.isError(I)&&y)break;b.push(I)}return b},c.prototype._decodeStr=function(p,g){if(g==="bitstr"){const m=p.readUInt8();return p.isError(m)?m:{unused:m,data:p.raw()}}if(g==="bmpstr"){const m=p.raw();if(m.length%2==1)return p.error("Decoding of string type: bmpstr length mismatch");let v="";for(let b=0;b<m.length/2;b++)v+=String.fromCharCode(m.readUInt16BE(2*b));return v}if(g==="numstr"){const m=p.raw().toString("ascii");return this._isNumstr(m)?m:p.error("Decoding of string type: numstr unsupported characters")}if(g==="octstr"||g==="objDesc")return p.raw();if(g==="printstr"){const m=p.raw().toString("ascii");return this._isPrintstr(m)?m:p.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(g)?p.raw().toString():p.error("Decoding of string type: "+g+" unsupported")},c.prototype._decodeObjid=function(p,g,m){let v;const b=[];let y=0,I=0;for(;!p.isEmpty();)I=p.readUInt8(),y<<=7,y|=127&I,!(128&I)&&(b.push(y),y=0);128&I&&b.push(y);const D=b[0]/40|0,N=b[0]%40;if(v=m?b:[D,N].concat(b.slice(1)),g){let z=g[v.join(" ")];z===void 0&&(z=g[v.join(".")]),z!==void 0&&(v=z)}return v},c.prototype._decodeTime=function(p,g){const m=p.raw().toString();let v,b,y,I,D,N;if(g==="gentime")v=0|m.slice(0,4),b=0|m.slice(4,6),y=0|m.slice(6,8),I=0|m.slice(8,10),D=0|m.slice(10,12),N=0|m.slice(12,14);else{if(g!=="utctime")return p.error("Decoding "+g+" time is not supported yet");v=0|m.slice(0,2),b=0|m.slice(2,4),y=0|m.slice(4,6),I=0|m.slice(6,8),D=0|m.slice(8,10),N=0|m.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,b-1,y,I,D,N,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(p){const g=p.readUInt8();return p.isError(g)?g:g!==0},c.prototype._decodeInt=function(p,g){const m=p.raw();let v=new s(m);return g&&(v=g[v.toString(10)]||v),v},c.prototype._use=function(p,g){return typeof p=="function"&&(p=p(g)),p._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(i,r,n){const a=n;a.der=i("./der"),a.pem=i("./pem")},{"./der":178,"./pem":180}],180:[function(i,r,n){const a=i("inherits"),s=i("safer-buffer").Buffer,o=i("./der");function l(u){o.call(this,u),this.enc="pem"}a(l,o),r.exports=l,l.prototype.decode=function(u,d){const c=u.toString().split(/[\r\n]+/g),h=d.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/;let p=-1,g=-1;for(let b=0;b<c.length;b++){const y=c[b].match(f);if(y!==null&&y[2]===h){if(p!==-1){if(y[1]!=="END")break;g=b;break}if(y[1]!=="BEGIN")break;p=b}}if(p===-1||g===-1)throw new Error("PEM section not found for: "+h);const m=c.slice(p+1,g).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const v=s.from(m,"base64");return o.prototype.decode.call(this,v,d)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(i,r,n){const a=i("inherits"),s=i("safer-buffer").Buffer,o=i("../base/node"),l=i("../constants/der");function u(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new d,this.tree._init(h.body)}function d(h){o.call(this,"der",h)}function c(h){return h<10?"0"+h:h}r.exports=u,u.prototype.encode=function(h,f){return this.tree._encode(h,f).join()},a(d,o),d.prototype._encodeComposite=function(h,f,p,g){const m=function(y,I,D,N){let z;if(y==="seqof"?y="seq":y==="setof"&&(y="set"),l.tagByName.hasOwnProperty(y))z=l.tagByName[y];else{if(typeof y!="number"||(0|y)!==y)return N.error("Unknown tag: "+y);z=y}return z>=31?N.error("Multi-octet tag encoding unsupported"):(I||(z|=32),z|=l.tagClassByName[D||"universal"]<<6,z)}(h,f,p,this.reporter);if(g.length<128){const y=s.alloc(2);return y[0]=m,y[1]=g.length,this._createEncoderBuffer([y,g])}let v=1;for(let y=g.length;y>=256;y>>=8)v++;const b=s.alloc(2+v);b[0]=m,b[1]=128|v;for(let y=1+v,I=g.length;I>0;y--,I>>=8)b[y]=255&I;return this._createEncoderBuffer([b,g])},d.prototype._encodeStr=function(h,f){if(f==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(f==="bmpstr"){const p=s.alloc(2*h.length);for(let g=0;g<h.length;g++)p.writeUInt16BE(h.charCodeAt(g),2*g);return this._createEncoderBuffer(p)}return f==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):f==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(f)||f==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+f+" unsupported")},d.prototype._encodeObjid=function(h,f,p){if(typeof h=="string"){if(!f)return this.reporter.error("string objid given, but no values map found");if(!f.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=f[h].split(/[\s.]+/g);for(let b=0;b<h.length;b++)h[b]|=0}else if(Array.isArray(h)){h=h.slice();for(let b=0;b<h.length;b++)h[b]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!p){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let g=0;for(let b=0;b<h.length;b++){let y=h[b];for(g++;y>=128;y>>=7)g++}const m=s.alloc(g);let v=m.length-1;for(let b=h.length-1;b>=0;b--){let y=h[b];for(m[v--]=127&y;(y>>=7)>0;)m[v--]=128|127&y}return this._createEncoderBuffer(m)},d.prototype._encodeTime=function(h,f){let p;const g=new Date(h);return f==="gentime"?p=[c(g.getUTCFullYear()),c(g.getUTCMonth()+1),c(g.getUTCDate()),c(g.getUTCHours()),c(g.getUTCMinutes()),c(g.getUTCSeconds()),"Z"].join(""):f==="utctime"?p=[c(g.getUTCFullYear()%100),c(g.getUTCMonth()+1),c(g.getUTCDate()),c(g.getUTCHours()),c(g.getUTCMinutes()),c(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+f+" time is not supported yet"),this._encodeStr(p,"octstr")},d.prototype._encodeNull=function(){return this._createEncoderBuffer("")},d.prototype._encodeInt=function(h,f){if(typeof h=="string"){if(!f)return this.reporter.error("String int or enum given, but no values map");if(!f.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=f[h]}if(typeof h!="number"&&!s.isBuffer(h)){const m=h.toArray();!h.sign&&128&m[0]&&m.unshift(0),h=s.from(m)}if(s.isBuffer(h)){let m=h.length;h.length===0&&m++;const v=s.alloc(m);return h.copy(v),h.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let p=1;for(let m=h;m>=256;m>>=8)p++;const g=new Array(p);for(let m=g.length-1;m>=0;m--)g[m]=255&h,h>>=8;return 128&g[0]&&g.unshift(0),this._createEncoderBuffer(s.from(g))},d.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},d.prototype._use=function(h,f){return typeof h=="function"&&(h=h(f)),h._getEncoder("der").tree},d.prototype._skipDefault=function(h,f,p){const g=this._baseState;let m;if(g.default===null)return!1;const v=h.join();if(g.defaultBuffer===void 0&&(g.defaultBuffer=this._encodeValue(g.default,f,p).join()),v.length!==g.defaultBuffer.length)return!1;for(m=0;m<v.length;m++)if(v[m]!==g.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(i,r,n){const a=n;a.der=i("./der"),a.pem=i("./pem")},{"./der":181,"./pem":183}],183:[function(i,r,n){const a=i("inherits"),s=i("./der");function o(l){s.call(this,l),this.enc="pem"}a(o,s),r.exports=o,o.prototype.encode=function(l,u){const d=s.prototype.encode.call(this,l).toString("base64"),c=["-----BEGIN "+u.label+"-----"];for(let h=0;h<d.length;h+=64)c.push(d.slice(h,h+64));return c.push("-----END "+u.label+"-----"),c.join(`
`)}},{"./der":181,inherits:440}],184:[function(i,r,n){(function(a,s){function o(A,T){if(!A)throw new Error(T||"Assertion failed")}function l(A,T){A.super_=T;var E=function(){};E.prototype=T.prototype,A.prototype=new E,A.prototype.constructor=A}function u(A,T,E){if(u.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(T!=="le"&&T!=="be"||(E=T,T=10),this._init(A||0,T||10,E||"be"))}var d;typeof a=="object"?a.exports=u:(void 0).BN=u,u.BN=u,u.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:i("buffer").Buffer}catch{}function c(A,T){var E=A.charCodeAt(T);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function h(A,T,E){var C=c(A,E);return E-1>=T&&(C|=c(A,E-1)<<4),C}function f(A,T,E,C){for(var w=0,S=Math.min(A.length,E),x=T;x<S;x++){var k=A.charCodeAt(x)-48;w*=C,w+=k>=49?k-49+10:k>=17?k-17+10:k}return w}u.isBN=function(A){return A instanceof u||A!==null&&typeof A=="object"&&A.constructor.wordSize===u.wordSize&&Array.isArray(A.words)},u.max=function(A,T){return A.cmp(T)>0?A:T},u.min=function(A,T){return A.cmp(T)<0?A:T},u.prototype._init=function(A,T,E){if(typeof A=="number")return this._initNumber(A,T,E);if(typeof A=="object")return this._initArray(A,T,E);T==="hex"&&(T=16),o(T===(0|T)&&T>=2&&T<=36);var C=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(C++,this.negative=1),C<A.length&&(T===16?this._parseHex(A,C,E):(this._parseBase(A,T,C),E==="le"&&this._initArray(this.toArray(),T,E)))},u.prototype._initNumber=function(A,T,E){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(o(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),T,E)},u.prototype._initArray=function(A,T,E){if(o(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var w,S,x=0;if(E==="be")for(C=A.length-1,w=0;C>=0;C-=3)S=A[C]|A[C-1]<<8|A[C-2]<<16,this.words[w]|=S<<x&67108863,this.words[w+1]=S>>>26-x&67108863,(x+=24)>=26&&(x-=26,w++);else if(E==="le")for(C=0,w=0;C<A.length;C+=3)S=A[C]|A[C+1]<<8|A[C+2]<<16,this.words[w]|=S<<x&67108863,this.words[w+1]=S>>>26-x&67108863,(x+=24)>=26&&(x-=26,w++);return this.strip()},u.prototype._parseHex=function(A,T,E){this.length=Math.ceil((A.length-T)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var w,S=0,x=0;if(E==="be")for(C=A.length-1;C>=T;C-=2)w=h(A,T,C)<<S,this.words[x]|=67108863&w,S>=18?(S-=18,x+=1,this.words[x]|=w>>>26):S+=8;else for(C=(A.length-T)%2==0?T+1:T;C<A.length;C+=2)w=h(A,T,C)<<S,this.words[x]|=67108863&w,S>=18?(S-=18,x+=1,this.words[x]|=w>>>26):S+=8;this.strip()},u.prototype._parseBase=function(A,T,E){this.words=[0],this.length=1;for(var C=0,w=1;w<=67108863;w*=T)C++;C--,w=w/T|0;for(var S=A.length-E,x=S%C,k=Math.min(S,S-x)+E,P=0,O=E;O<k;O+=C)P=f(A,O,O+C,T),this.imuln(w),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P);if(x!==0){var L=1;for(P=f(A,O,A.length,T),O=0;O<x;O++)L*=T;this.imuln(L),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P)}this.strip()},u.prototype.copy=function(A){A.words=new Array(this.length);for(var T=0;T<this.length;T++)A.words[T]=this.words[T];A.length=this.length,A.negative=this.negative,A.red=this.red},u.prototype.clone=function(){var A=new u(null);return this.copy(A),A},u.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(A,T,E){E.negative=T.negative^A.negative;var C=A.length+T.length|0;E.length=C,C=C-1|0;var w=0|A.words[0],S=0|T.words[0],x=w*S,k=67108863&x,P=x/67108864|0;E.words[0]=k;for(var O=1;O<C;O++){for(var L=P>>>26,V=67108863&P,X=Math.min(O,T.length-1),B=Math.max(0,O-A.length+1);B<=X;B++){var K=O-B|0;L+=(x=(w=0|A.words[K])*(S=0|T.words[B])+V)/67108864|0,V=67108863&x}E.words[O]=0|V,P=0|L}return P!==0?E.words[O]=0|P:E.length--,E.strip()}u.prototype.toString=function(A,T){var E;if(T=0|T||1,(A=A||10)===16||A==="hex"){E="";for(var C=0,w=0,S=0;S<this.length;S++){var x=this.words[S],k=(16777215&(x<<C|w)).toString(16);E=(w=x>>>24-C&16777215)!==0||S!==this.length-1?p[6-k.length]+k+E:k+E,(C+=2)>=26&&(C-=26,S--)}for(w!==0&&(E=w.toString(16)+E);E.length%T!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(A===(0|A)&&A>=2&&A<=36){var P=g[A],O=m[A];E="";var L=this.clone();for(L.negative=0;!L.isZero();){var V=L.modn(O).toString(A);E=(L=L.idivn(O)).isZero()?V+E:p[P-V.length]+V+E}for(this.isZero()&&(E="0"+E);E.length%T!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}o(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(A,T){return o(d!==void 0),this.toArrayLike(d,A,T)},u.prototype.toArray=function(A,T){return this.toArrayLike(Array,A,T)},u.prototype.toArrayLike=function(A,T,E){var C=this.byteLength(),w=E||Math.max(1,C);o(C<=w,"byte array longer than desired length"),o(w>0,"Requested array length <= 0"),this.strip();var S,x,k=T==="le",P=new A(w),O=this.clone();if(k){for(x=0;!O.isZero();x++)S=O.andln(255),O.iushrn(8),P[x]=S;for(;x<w;x++)P[x]=0}else{for(x=0;x<w-C;x++)P[x]=0;for(x=0;!O.isZero();x++)S=O.andln(255),O.iushrn(8),P[w-x-1]=S}return P},Math.clz32?u.prototype._countBits=function(A){return 32-Math.clz32(A)}:u.prototype._countBits=function(A){var T=A,E=0;return T>=4096&&(E+=13,T>>>=13),T>=64&&(E+=7,T>>>=7),T>=8&&(E+=4,T>>>=4),T>=2&&(E+=2,T>>>=2),E+T},u.prototype._zeroBits=function(A){if(A===0)return 26;var T=A,E=0;return!(8191&T)&&(E+=13,T>>>=13),!(127&T)&&(E+=7,T>>>=7),!(15&T)&&(E+=4,T>>>=4),!(3&T)&&(E+=2,T>>>=2),!(1&T)&&E++,E},u.prototype.bitLength=function(){var A=this.words[this.length-1],T=this._countBits(A);return 26*(this.length-1)+T},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,T=0;T<this.length;T++){var E=this._zeroBits(this.words[T]);if(A+=E,E!==26)break}return A},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},u.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var T=0;T<A.length;T++)this.words[T]=this.words[T]|A.words[T];return this.strip()},u.prototype.ior=function(A){return o((this.negative|A.negative)==0),this.iuor(A)},u.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},u.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},u.prototype.iuand=function(A){var T;T=this.length>A.length?A:this;for(var E=0;E<T.length;E++)this.words[E]=this.words[E]&A.words[E];return this.length=T.length,this.strip()},u.prototype.iand=function(A){return o((this.negative|A.negative)==0),this.iuand(A)},u.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},u.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},u.prototype.iuxor=function(A){var T,E;this.length>A.length?(T=this,E=A):(T=A,E=this);for(var C=0;C<E.length;C++)this.words[C]=T.words[C]^E.words[C];if(this!==T)for(;C<T.length;C++)this.words[C]=T.words[C];return this.length=T.length,this.strip()},u.prototype.ixor=function(A){return o((this.negative|A.negative)==0),this.iuxor(A)},u.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},u.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},u.prototype.inotn=function(A){o(typeof A=="number"&&A>=0);var T=0|Math.ceil(A/26),E=A%26;this._expand(T),E>0&&T--;for(var C=0;C<T;C++)this.words[C]=67108863&~this.words[C];return E>0&&(this.words[C]=~this.words[C]&67108863>>26-E),this.strip()},u.prototype.notn=function(A){return this.clone().inotn(A)},u.prototype.setn=function(A,T){o(typeof A=="number"&&A>=0);var E=A/26|0,C=A%26;return this._expand(E+1),this.words[E]=T?this.words[E]|1<<C:this.words[E]&~(1<<C),this.strip()},u.prototype.iadd=function(A){var T,E,C;if(this.negative!==0&&A.negative===0)return this.negative=0,T=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,T=this.isub(A),A.negative=1,T._normSign();this.length>A.length?(E=this,C=A):(E=A,C=this);for(var w=0,S=0;S<C.length;S++)T=(0|E.words[S])+(0|C.words[S])+w,this.words[S]=67108863&T,w=T>>>26;for(;w!==0&&S<E.length;S++)T=(0|E.words[S])+w,this.words[S]=67108863&T,w=T>>>26;if(this.length=E.length,w!==0)this.words[this.length]=w,this.length++;else if(E!==this)for(;S<E.length;S++)this.words[S]=E.words[S];return this},u.prototype.add=function(A){var T;return A.negative!==0&&this.negative===0?(A.negative=0,T=this.sub(A),A.negative^=1,T):A.negative===0&&this.negative!==0?(this.negative=0,T=A.sub(this),this.negative=1,T):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},u.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var T=this.iadd(A);return A.negative=1,T._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var E,C,w=this.cmp(A);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;w>0?(E=this,C=A):(E=A,C=this);for(var S=0,x=0;x<C.length;x++)S=(T=(0|E.words[x])-(0|C.words[x])+S)>>26,this.words[x]=67108863&T;for(;S!==0&&x<E.length;x++)S=(T=(0|E.words[x])+S)>>26,this.words[x]=67108863&T;if(S===0&&x<E.length&&E!==this)for(;x<E.length;x++)this.words[x]=E.words[x];return this.length=Math.max(this.length,x),E!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(A){return this.clone().isub(A)};var b=function(A,T,E){var C,w,S,x=A.words,k=T.words,P=E.words,O=0,L=0|x[0],V=8191&L,X=L>>>13,B=0|x[1],K=8191&B,R=B>>>13,M=0|x[2],G=8191&M,Q=M>>>13,ne=0|x[3],ie=8191&ne,U=ne>>>13,se=0|x[4],ae=8191&se,Y=se>>>13,J=0|x[5],ee=8191&J,ue=J>>>13,de=0|x[6],oe=8191&de,ce=de>>>13,ge=0|x[7],ve=8191&ge,Se=ge>>>13,ke=0|x[8],Ae=8191&ke,Xe=ke>>>13,et=0|x[9],Je=8191&et,tt=et>>>13,Be=0|k[0],Fe=8191&Be,je=Be>>>13,Ye=0|k[1],Qe=8191&Ye,Bt=Ye>>>13,qt=0|k[2],ot=8191&qt,Ht=qt>>>13,Tt=0|k[3],pt=8191&Tt,li=Tt>>>13,Xt=0|k[4],mt=8191&Xt,zt=Xt>>>13,si=0|k[5],vt=8191&si,Yt=si>>>13,oi=0|k[6],Et=8191&oi,fe=oi>>>13,be=0|k[7],Te=8191&be,He=be>>>13,dt=0|k[8],ze=8191&dt,_t=dt>>>13,ht=0|k[9],lt=8191&ht,xt=ht>>>13;E.negative=A.negative^T.negative,E.length=19;var bt=(O+(C=Math.imul(V,Fe))|0)+((8191&(w=(w=Math.imul(V,je))+Math.imul(X,Fe)|0))<<13)|0;O=((S=Math.imul(X,je))+(w>>>13)|0)+(bt>>>26)|0,bt&=67108863,C=Math.imul(K,Fe),w=(w=Math.imul(K,je))+Math.imul(R,Fe)|0,S=Math.imul(R,je);var Mt=(O+(C=C+Math.imul(V,Qe)|0)|0)+((8191&(w=(w=w+Math.imul(V,Bt)|0)+Math.imul(X,Qe)|0))<<13)|0;O=((S=S+Math.imul(X,Bt)|0)+(w>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,C=Math.imul(G,Fe),w=(w=Math.imul(G,je))+Math.imul(Q,Fe)|0,S=Math.imul(Q,je),C=C+Math.imul(K,Qe)|0,w=(w=w+Math.imul(K,Bt)|0)+Math.imul(R,Qe)|0,S=S+Math.imul(R,Bt)|0;var Ei=(O+(C=C+Math.imul(V,ot)|0)|0)+((8191&(w=(w=w+Math.imul(V,Ht)|0)+Math.imul(X,ot)|0))<<13)|0;O=((S=S+Math.imul(X,Ht)|0)+(w>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,C=Math.imul(ie,Fe),w=(w=Math.imul(ie,je))+Math.imul(U,Fe)|0,S=Math.imul(U,je),C=C+Math.imul(G,Qe)|0,w=(w=w+Math.imul(G,Bt)|0)+Math.imul(Q,Qe)|0,S=S+Math.imul(Q,Bt)|0,C=C+Math.imul(K,ot)|0,w=(w=w+Math.imul(K,Ht)|0)+Math.imul(R,ot)|0,S=S+Math.imul(R,Ht)|0;var ci=(O+(C=C+Math.imul(V,pt)|0)|0)+((8191&(w=(w=w+Math.imul(V,li)|0)+Math.imul(X,pt)|0))<<13)|0;O=((S=S+Math.imul(X,li)|0)+(w>>>13)|0)+(ci>>>26)|0,ci&=67108863,C=Math.imul(ae,Fe),w=(w=Math.imul(ae,je))+Math.imul(Y,Fe)|0,S=Math.imul(Y,je),C=C+Math.imul(ie,Qe)|0,w=(w=w+Math.imul(ie,Bt)|0)+Math.imul(U,Qe)|0,S=S+Math.imul(U,Bt)|0,C=C+Math.imul(G,ot)|0,w=(w=w+Math.imul(G,Ht)|0)+Math.imul(Q,ot)|0,S=S+Math.imul(Q,Ht)|0,C=C+Math.imul(K,pt)|0,w=(w=w+Math.imul(K,li)|0)+Math.imul(R,pt)|0,S=S+Math.imul(R,li)|0;var Li=(O+(C=C+Math.imul(V,mt)|0)|0)+((8191&(w=(w=w+Math.imul(V,zt)|0)+Math.imul(X,mt)|0))<<13)|0;O=((S=S+Math.imul(X,zt)|0)+(w>>>13)|0)+(Li>>>26)|0,Li&=67108863,C=Math.imul(ee,Fe),w=(w=Math.imul(ee,je))+Math.imul(ue,Fe)|0,S=Math.imul(ue,je),C=C+Math.imul(ae,Qe)|0,w=(w=w+Math.imul(ae,Bt)|0)+Math.imul(Y,Qe)|0,S=S+Math.imul(Y,Bt)|0,C=C+Math.imul(ie,ot)|0,w=(w=w+Math.imul(ie,Ht)|0)+Math.imul(U,ot)|0,S=S+Math.imul(U,Ht)|0,C=C+Math.imul(G,pt)|0,w=(w=w+Math.imul(G,li)|0)+Math.imul(Q,pt)|0,S=S+Math.imul(Q,li)|0,C=C+Math.imul(K,mt)|0,w=(w=w+Math.imul(K,zt)|0)+Math.imul(R,mt)|0,S=S+Math.imul(R,zt)|0;var Ni=(O+(C=C+Math.imul(V,vt)|0)|0)+((8191&(w=(w=w+Math.imul(V,Yt)|0)+Math.imul(X,vt)|0))<<13)|0;O=((S=S+Math.imul(X,Yt)|0)+(w>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,C=Math.imul(oe,Fe),w=(w=Math.imul(oe,je))+Math.imul(ce,Fe)|0,S=Math.imul(ce,je),C=C+Math.imul(ee,Qe)|0,w=(w=w+Math.imul(ee,Bt)|0)+Math.imul(ue,Qe)|0,S=S+Math.imul(ue,Bt)|0,C=C+Math.imul(ae,ot)|0,w=(w=w+Math.imul(ae,Ht)|0)+Math.imul(Y,ot)|0,S=S+Math.imul(Y,Ht)|0,C=C+Math.imul(ie,pt)|0,w=(w=w+Math.imul(ie,li)|0)+Math.imul(U,pt)|0,S=S+Math.imul(U,li)|0,C=C+Math.imul(G,mt)|0,w=(w=w+Math.imul(G,zt)|0)+Math.imul(Q,mt)|0,S=S+Math.imul(Q,zt)|0,C=C+Math.imul(K,vt)|0,w=(w=w+Math.imul(K,Yt)|0)+Math.imul(R,vt)|0,S=S+Math.imul(R,Yt)|0;var pr=(O+(C=C+Math.imul(V,Et)|0)|0)+((8191&(w=(w=w+Math.imul(V,fe)|0)+Math.imul(X,Et)|0))<<13)|0;O=((S=S+Math.imul(X,fe)|0)+(w>>>13)|0)+(pr>>>26)|0,pr&=67108863,C=Math.imul(ve,Fe),w=(w=Math.imul(ve,je))+Math.imul(Se,Fe)|0,S=Math.imul(Se,je),C=C+Math.imul(oe,Qe)|0,w=(w=w+Math.imul(oe,Bt)|0)+Math.imul(ce,Qe)|0,S=S+Math.imul(ce,Bt)|0,C=C+Math.imul(ee,ot)|0,w=(w=w+Math.imul(ee,Ht)|0)+Math.imul(ue,ot)|0,S=S+Math.imul(ue,Ht)|0,C=C+Math.imul(ae,pt)|0,w=(w=w+Math.imul(ae,li)|0)+Math.imul(Y,pt)|0,S=S+Math.imul(Y,li)|0,C=C+Math.imul(ie,mt)|0,w=(w=w+Math.imul(ie,zt)|0)+Math.imul(U,mt)|0,S=S+Math.imul(U,zt)|0,C=C+Math.imul(G,vt)|0,w=(w=w+Math.imul(G,Yt)|0)+Math.imul(Q,vt)|0,S=S+Math.imul(Q,Yt)|0,C=C+Math.imul(K,Et)|0,w=(w=w+Math.imul(K,fe)|0)+Math.imul(R,Et)|0,S=S+Math.imul(R,fe)|0;var he=(O+(C=C+Math.imul(V,Te)|0)|0)+((8191&(w=(w=w+Math.imul(V,He)|0)+Math.imul(X,Te)|0))<<13)|0;O=((S=S+Math.imul(X,He)|0)+(w>>>13)|0)+(he>>>26)|0,he&=67108863,C=Math.imul(Ae,Fe),w=(w=Math.imul(Ae,je))+Math.imul(Xe,Fe)|0,S=Math.imul(Xe,je),C=C+Math.imul(ve,Qe)|0,w=(w=w+Math.imul(ve,Bt)|0)+Math.imul(Se,Qe)|0,S=S+Math.imul(Se,Bt)|0,C=C+Math.imul(oe,ot)|0,w=(w=w+Math.imul(oe,Ht)|0)+Math.imul(ce,ot)|0,S=S+Math.imul(ce,Ht)|0,C=C+Math.imul(ee,pt)|0,w=(w=w+Math.imul(ee,li)|0)+Math.imul(ue,pt)|0,S=S+Math.imul(ue,li)|0,C=C+Math.imul(ae,mt)|0,w=(w=w+Math.imul(ae,zt)|0)+Math.imul(Y,mt)|0,S=S+Math.imul(Y,zt)|0,C=C+Math.imul(ie,vt)|0,w=(w=w+Math.imul(ie,Yt)|0)+Math.imul(U,vt)|0,S=S+Math.imul(U,Yt)|0,C=C+Math.imul(G,Et)|0,w=(w=w+Math.imul(G,fe)|0)+Math.imul(Q,Et)|0,S=S+Math.imul(Q,fe)|0,C=C+Math.imul(K,Te)|0,w=(w=w+Math.imul(K,He)|0)+Math.imul(R,Te)|0,S=S+Math.imul(R,He)|0;var ye=(O+(C=C+Math.imul(V,ze)|0)|0)+((8191&(w=(w=w+Math.imul(V,_t)|0)+Math.imul(X,ze)|0))<<13)|0;O=((S=S+Math.imul(X,_t)|0)+(w>>>13)|0)+(ye>>>26)|0,ye&=67108863,C=Math.imul(Je,Fe),w=(w=Math.imul(Je,je))+Math.imul(tt,Fe)|0,S=Math.imul(tt,je),C=C+Math.imul(Ae,Qe)|0,w=(w=w+Math.imul(Ae,Bt)|0)+Math.imul(Xe,Qe)|0,S=S+Math.imul(Xe,Bt)|0,C=C+Math.imul(ve,ot)|0,w=(w=w+Math.imul(ve,Ht)|0)+Math.imul(Se,ot)|0,S=S+Math.imul(Se,Ht)|0,C=C+Math.imul(oe,pt)|0,w=(w=w+Math.imul(oe,li)|0)+Math.imul(ce,pt)|0,S=S+Math.imul(ce,li)|0,C=C+Math.imul(ee,mt)|0,w=(w=w+Math.imul(ee,zt)|0)+Math.imul(ue,mt)|0,S=S+Math.imul(ue,zt)|0,C=C+Math.imul(ae,vt)|0,w=(w=w+Math.imul(ae,Yt)|0)+Math.imul(Y,vt)|0,S=S+Math.imul(Y,Yt)|0,C=C+Math.imul(ie,Et)|0,w=(w=w+Math.imul(ie,fe)|0)+Math.imul(U,Et)|0,S=S+Math.imul(U,fe)|0,C=C+Math.imul(G,Te)|0,w=(w=w+Math.imul(G,He)|0)+Math.imul(Q,Te)|0,S=S+Math.imul(Q,He)|0,C=C+Math.imul(K,ze)|0,w=(w=w+Math.imul(K,_t)|0)+Math.imul(R,ze)|0,S=S+Math.imul(R,_t)|0;var De=(O+(C=C+Math.imul(V,lt)|0)|0)+((8191&(w=(w=w+Math.imul(V,xt)|0)+Math.imul(X,lt)|0))<<13)|0;O=((S=S+Math.imul(X,xt)|0)+(w>>>13)|0)+(De>>>26)|0,De&=67108863,C=Math.imul(Je,Qe),w=(w=Math.imul(Je,Bt))+Math.imul(tt,Qe)|0,S=Math.imul(tt,Bt),C=C+Math.imul(Ae,ot)|0,w=(w=w+Math.imul(Ae,Ht)|0)+Math.imul(Xe,ot)|0,S=S+Math.imul(Xe,Ht)|0,C=C+Math.imul(ve,pt)|0,w=(w=w+Math.imul(ve,li)|0)+Math.imul(Se,pt)|0,S=S+Math.imul(Se,li)|0,C=C+Math.imul(oe,mt)|0,w=(w=w+Math.imul(oe,zt)|0)+Math.imul(ce,mt)|0,S=S+Math.imul(ce,zt)|0,C=C+Math.imul(ee,vt)|0,w=(w=w+Math.imul(ee,Yt)|0)+Math.imul(ue,vt)|0,S=S+Math.imul(ue,Yt)|0,C=C+Math.imul(ae,Et)|0,w=(w=w+Math.imul(ae,fe)|0)+Math.imul(Y,Et)|0,S=S+Math.imul(Y,fe)|0,C=C+Math.imul(ie,Te)|0,w=(w=w+Math.imul(ie,He)|0)+Math.imul(U,Te)|0,S=S+Math.imul(U,He)|0,C=C+Math.imul(G,ze)|0,w=(w=w+Math.imul(G,_t)|0)+Math.imul(Q,ze)|0,S=S+Math.imul(Q,_t)|0;var Me=(O+(C=C+Math.imul(K,lt)|0)|0)+((8191&(w=(w=w+Math.imul(K,xt)|0)+Math.imul(R,lt)|0))<<13)|0;O=((S=S+Math.imul(R,xt)|0)+(w>>>13)|0)+(Me>>>26)|0,Me&=67108863,C=Math.imul(Je,ot),w=(w=Math.imul(Je,Ht))+Math.imul(tt,ot)|0,S=Math.imul(tt,Ht),C=C+Math.imul(Ae,pt)|0,w=(w=w+Math.imul(Ae,li)|0)+Math.imul(Xe,pt)|0,S=S+Math.imul(Xe,li)|0,C=C+Math.imul(ve,mt)|0,w=(w=w+Math.imul(ve,zt)|0)+Math.imul(Se,mt)|0,S=S+Math.imul(Se,zt)|0,C=C+Math.imul(oe,vt)|0,w=(w=w+Math.imul(oe,Yt)|0)+Math.imul(ce,vt)|0,S=S+Math.imul(ce,Yt)|0,C=C+Math.imul(ee,Et)|0,w=(w=w+Math.imul(ee,fe)|0)+Math.imul(ue,Et)|0,S=S+Math.imul(ue,fe)|0,C=C+Math.imul(ae,Te)|0,w=(w=w+Math.imul(ae,He)|0)+Math.imul(Y,Te)|0,S=S+Math.imul(Y,He)|0,C=C+Math.imul(ie,ze)|0,w=(w=w+Math.imul(ie,_t)|0)+Math.imul(U,ze)|0,S=S+Math.imul(U,_t)|0;var it=(O+(C=C+Math.imul(G,lt)|0)|0)+((8191&(w=(w=w+Math.imul(G,xt)|0)+Math.imul(Q,lt)|0))<<13)|0;O=((S=S+Math.imul(Q,xt)|0)+(w>>>13)|0)+(it>>>26)|0,it&=67108863,C=Math.imul(Je,pt),w=(w=Math.imul(Je,li))+Math.imul(tt,pt)|0,S=Math.imul(tt,li),C=C+Math.imul(Ae,mt)|0,w=(w=w+Math.imul(Ae,zt)|0)+Math.imul(Xe,mt)|0,S=S+Math.imul(Xe,zt)|0,C=C+Math.imul(ve,vt)|0,w=(w=w+Math.imul(ve,Yt)|0)+Math.imul(Se,vt)|0,S=S+Math.imul(Se,Yt)|0,C=C+Math.imul(oe,Et)|0,w=(w=w+Math.imul(oe,fe)|0)+Math.imul(ce,Et)|0,S=S+Math.imul(ce,fe)|0,C=C+Math.imul(ee,Te)|0,w=(w=w+Math.imul(ee,He)|0)+Math.imul(ue,Te)|0,S=S+Math.imul(ue,He)|0,C=C+Math.imul(ae,ze)|0,w=(w=w+Math.imul(ae,_t)|0)+Math.imul(Y,ze)|0,S=S+Math.imul(Y,_t)|0;var Ve=(O+(C=C+Math.imul(ie,lt)|0)|0)+((8191&(w=(w=w+Math.imul(ie,xt)|0)+Math.imul(U,lt)|0))<<13)|0;O=((S=S+Math.imul(U,xt)|0)+(w>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,C=Math.imul(Je,mt),w=(w=Math.imul(Je,zt))+Math.imul(tt,mt)|0,S=Math.imul(tt,zt),C=C+Math.imul(Ae,vt)|0,w=(w=w+Math.imul(Ae,Yt)|0)+Math.imul(Xe,vt)|0,S=S+Math.imul(Xe,Yt)|0,C=C+Math.imul(ve,Et)|0,w=(w=w+Math.imul(ve,fe)|0)+Math.imul(Se,Et)|0,S=S+Math.imul(Se,fe)|0,C=C+Math.imul(oe,Te)|0,w=(w=w+Math.imul(oe,He)|0)+Math.imul(ce,Te)|0,S=S+Math.imul(ce,He)|0,C=C+Math.imul(ee,ze)|0,w=(w=w+Math.imul(ee,_t)|0)+Math.imul(ue,ze)|0,S=S+Math.imul(ue,_t)|0;var $e=(O+(C=C+Math.imul(ae,lt)|0)|0)+((8191&(w=(w=w+Math.imul(ae,xt)|0)+Math.imul(Y,lt)|0))<<13)|0;O=((S=S+Math.imul(Y,xt)|0)+(w>>>13)|0)+($e>>>26)|0,$e&=67108863,C=Math.imul(Je,vt),w=(w=Math.imul(Je,Yt))+Math.imul(tt,vt)|0,S=Math.imul(tt,Yt),C=C+Math.imul(Ae,Et)|0,w=(w=w+Math.imul(Ae,fe)|0)+Math.imul(Xe,Et)|0,S=S+Math.imul(Xe,fe)|0,C=C+Math.imul(ve,Te)|0,w=(w=w+Math.imul(ve,He)|0)+Math.imul(Se,Te)|0,S=S+Math.imul(Se,He)|0,C=C+Math.imul(oe,ze)|0,w=(w=w+Math.imul(oe,_t)|0)+Math.imul(ce,ze)|0,S=S+Math.imul(ce,_t)|0;var Ft=(O+(C=C+Math.imul(ee,lt)|0)|0)+((8191&(w=(w=w+Math.imul(ee,xt)|0)+Math.imul(ue,lt)|0))<<13)|0;O=((S=S+Math.imul(ue,xt)|0)+(w>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,C=Math.imul(Je,Et),w=(w=Math.imul(Je,fe))+Math.imul(tt,Et)|0,S=Math.imul(tt,fe),C=C+Math.imul(Ae,Te)|0,w=(w=w+Math.imul(Ae,He)|0)+Math.imul(Xe,Te)|0,S=S+Math.imul(Xe,He)|0,C=C+Math.imul(ve,ze)|0,w=(w=w+Math.imul(ve,_t)|0)+Math.imul(Se,ze)|0,S=S+Math.imul(Se,_t)|0;var Dt=(O+(C=C+Math.imul(oe,lt)|0)|0)+((8191&(w=(w=w+Math.imul(oe,xt)|0)+Math.imul(ce,lt)|0))<<13)|0;O=((S=S+Math.imul(ce,xt)|0)+(w>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,C=Math.imul(Je,Te),w=(w=Math.imul(Je,He))+Math.imul(tt,Te)|0,S=Math.imul(tt,He),C=C+Math.imul(Ae,ze)|0,w=(w=w+Math.imul(Ae,_t)|0)+Math.imul(Xe,ze)|0,S=S+Math.imul(Xe,_t)|0;var Ot=(O+(C=C+Math.imul(ve,lt)|0)|0)+((8191&(w=(w=w+Math.imul(ve,xt)|0)+Math.imul(Se,lt)|0))<<13)|0;O=((S=S+Math.imul(Se,xt)|0)+(w>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,C=Math.imul(Je,ze),w=(w=Math.imul(Je,_t))+Math.imul(tt,ze)|0,S=Math.imul(tt,_t);var ct=(O+(C=C+Math.imul(Ae,lt)|0)|0)+((8191&(w=(w=w+Math.imul(Ae,xt)|0)+Math.imul(Xe,lt)|0))<<13)|0;O=((S=S+Math.imul(Xe,xt)|0)+(w>>>13)|0)+(ct>>>26)|0,ct&=67108863;var ti=(O+(C=Math.imul(Je,lt))|0)+((8191&(w=(w=Math.imul(Je,xt))+Math.imul(tt,lt)|0))<<13)|0;return O=((S=Math.imul(tt,xt))+(w>>>13)|0)+(ti>>>26)|0,ti&=67108863,P[0]=bt,P[1]=Mt,P[2]=Ei,P[3]=ci,P[4]=Li,P[5]=Ni,P[6]=pr,P[7]=he,P[8]=ye,P[9]=De,P[10]=Me,P[11]=it,P[12]=Ve,P[13]=$e,P[14]=Ft,P[15]=Dt,P[16]=Ot,P[17]=ct,P[18]=ti,O!==0&&(P[19]=O,E.length++),E};function y(A,T,E){return new I().mulp(A,T,E)}function I(A,T){this.x=A,this.y=T}Math.imul||(b=v),u.prototype.mulTo=function(A,T){var E=this.length+A.length;return this.length===10&&A.length===10?b(this,A,T):E<63?v(this,A,T):E<1024?function(C,w,S){S.negative=w.negative^C.negative,S.length=C.length+w.length;for(var x=0,k=0,P=0;P<S.length-1;P++){var O=k;k=0;for(var L=67108863&x,V=Math.min(P,w.length-1),X=Math.max(0,P-C.length+1);X<=V;X++){var B=P-X,K=(0|C.words[B])*(0|w.words[X]),R=67108863&K;L=67108863&(R=R+L|0),k+=(O=(O=O+(K/67108864|0)|0)+(R>>>26)|0)>>>26,O&=67108863}S.words[P]=L,x=O,O=k}return x!==0?S.words[P]=x:S.length--,S.strip()}(this,A,T):y(this,A,T)},I.prototype.makeRBT=function(A){for(var T=new Array(A),E=u.prototype._countBits(A)-1,C=0;C<A;C++)T[C]=this.revBin(C,E,A);return T},I.prototype.revBin=function(A,T,E){if(A===0||A===E-1)return A;for(var C=0,w=0;w<T;w++)C|=(1&A)<<T-w-1,A>>=1;return C},I.prototype.permute=function(A,T,E,C,w,S){for(var x=0;x<S;x++)C[x]=T[A[x]],w[x]=E[A[x]]},I.prototype.transform=function(A,T,E,C,w,S){this.permute(S,A,T,E,C,w);for(var x=1;x<w;x<<=1)for(var k=x<<1,P=Math.cos(2*Math.PI/k),O=Math.sin(2*Math.PI/k),L=0;L<w;L+=k)for(var V=P,X=O,B=0;B<x;B++){var K=E[L+B],R=C[L+B],M=E[L+B+x],G=C[L+B+x],Q=V*M-X*G;G=V*G+X*M,M=Q,E[L+B]=K+M,C[L+B]=R+G,E[L+B+x]=K-M,C[L+B+x]=R-G,B!==k&&(Q=P*V-O*X,X=P*X+O*V,V=Q)}},I.prototype.guessLen13b=function(A,T){var E=1|Math.max(T,A),C=1&E,w=0;for(E=E/2|0;E;E>>>=1)w++;return 1<<w+1+C},I.prototype.conjugate=function(A,T,E){if(!(E<=1))for(var C=0;C<E/2;C++){var w=A[C];A[C]=A[E-C-1],A[E-C-1]=w,w=T[C],T[C]=-T[E-C-1],T[E-C-1]=-w}},I.prototype.normalize13b=function(A,T){for(var E=0,C=0;C<T/2;C++){var w=8192*Math.round(A[2*C+1]/T)+Math.round(A[2*C]/T)+E;A[C]=67108863&w,E=w<67108864?0:w/67108864|0}return A},I.prototype.convert13b=function(A,T,E,C){for(var w=0,S=0;S<T;S++)w+=0|A[S],E[2*S]=8191&w,w>>>=13,E[2*S+1]=8191&w,w>>>=13;for(S=2*T;S<C;++S)E[S]=0;o(w===0),o((-8192&w)==0)},I.prototype.stub=function(A){for(var T=new Array(A),E=0;E<A;E++)T[E]=0;return T},I.prototype.mulp=function(A,T,E){var C=2*this.guessLen13b(A.length,T.length),w=this.makeRBT(C),S=this.stub(C),x=new Array(C),k=new Array(C),P=new Array(C),O=new Array(C),L=new Array(C),V=new Array(C),X=E.words;X.length=C,this.convert13b(A.words,A.length,x,C),this.convert13b(T.words,T.length,O,C),this.transform(x,S,k,P,C,w),this.transform(O,S,L,V,C,w);for(var B=0;B<C;B++){var K=k[B]*L[B]-P[B]*V[B];P[B]=k[B]*V[B]+P[B]*L[B],k[B]=K}return this.conjugate(k,P,C),this.transform(k,P,X,S,C,w),this.conjugate(X,S,C),this.normalize13b(X,C),E.negative=A.negative^T.negative,E.length=A.length+T.length,E.strip()},u.prototype.mul=function(A){var T=new u(null);return T.words=new Array(this.length+A.length),this.mulTo(A,T)},u.prototype.mulf=function(A){var T=new u(null);return T.words=new Array(this.length+A.length),y(this,A,T)},u.prototype.imul=function(A){return this.clone().mulTo(A,this)},u.prototype.imuln=function(A){o(typeof A=="number"),o(A<67108864);for(var T=0,E=0;E<this.length;E++){var C=(0|this.words[E])*A,w=(67108863&C)+(67108863&T);T>>=26,T+=C/67108864|0,T+=w>>>26,this.words[E]=67108863&w}return T!==0&&(this.words[E]=T,this.length++),this},u.prototype.muln=function(A){return this.clone().imuln(A)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(A){var T=function(S){for(var x=new Array(S.bitLength()),k=0;k<x.length;k++){var P=k/26|0,O=k%26;x[k]=(S.words[P]&1<<O)>>>O}return x}(A);if(T.length===0)return new u(1);for(var E=this,C=0;C<T.length&&T[C]===0;C++,E=E.sqr());if(++C<T.length)for(var w=E.sqr();C<T.length;C++,w=w.sqr())T[C]!==0&&(E=E.mul(w));return E},u.prototype.iushln=function(A){o(typeof A=="number"&&A>=0);var T,E=A%26,C=(A-E)/26,w=67108863>>>26-E<<26-E;if(E!==0){var S=0;for(T=0;T<this.length;T++){var x=this.words[T]&w,k=(0|this.words[T])-x<<E;this.words[T]=k|S,S=x>>>26-E}S&&(this.words[T]=S,this.length++)}if(C!==0){for(T=this.length-1;T>=0;T--)this.words[T+C]=this.words[T];for(T=0;T<C;T++)this.words[T]=0;this.length+=C}return this.strip()},u.prototype.ishln=function(A){return o(this.negative===0),this.iushln(A)},u.prototype.iushrn=function(A,T,E){var C;o(typeof A=="number"&&A>=0),C=T?(T-T%26)/26:0;var w=A%26,S=Math.min((A-w)/26,this.length),x=67108863^67108863>>>w<<w,k=E;if(C-=S,C=Math.max(0,C),k){for(var P=0;P<S;P++)k.words[P]=this.words[P];k.length=S}if(S!==0)if(this.length>S)for(this.length-=S,P=0;P<this.length;P++)this.words[P]=this.words[P+S];else this.words[0]=0,this.length=1;var O=0;for(P=this.length-1;P>=0&&(O!==0||P>=C);P--){var L=0|this.words[P];this.words[P]=O<<26-w|L>>>w,O=L&x}return k&&O!==0&&(k.words[k.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(A,T,E){return o(this.negative===0),this.iushrn(A,T,E)},u.prototype.shln=function(A){return this.clone().ishln(A)},u.prototype.ushln=function(A){return this.clone().iushln(A)},u.prototype.shrn=function(A){return this.clone().ishrn(A)},u.prototype.ushrn=function(A){return this.clone().iushrn(A)},u.prototype.testn=function(A){o(typeof A=="number"&&A>=0);var T=A%26,E=(A-T)/26,C=1<<T;return!(this.length<=E)&&!!(this.words[E]&C)},u.prototype.imaskn=function(A){o(typeof A=="number"&&A>=0);var T=A%26,E=(A-T)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(T!==0&&E++,this.length=Math.min(E,this.length),T!==0){var C=67108863^67108863>>>T<<T;this.words[this.length-1]&=C}return this.strip()},u.prototype.maskn=function(A){return this.clone().imaskn(A)},u.prototype.iaddn=function(A){return o(typeof A=="number"),o(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},u.prototype._iaddn=function(A){this.words[0]+=A;for(var T=0;T<this.length&&this.words[T]>=67108864;T++)this.words[T]-=67108864,T===this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=Math.max(this.length,T+1),this},u.prototype.isubn=function(A){if(o(typeof A=="number"),o(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&this.words[T]<0;T++)this.words[T]+=67108864,this.words[T+1]-=1;return this.strip()},u.prototype.addn=function(A){return this.clone().iaddn(A)},u.prototype.subn=function(A){return this.clone().isubn(A)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(A,T,E){var C,w,S=A.length+E;this._expand(S);var x=0;for(C=0;C<A.length;C++){w=(0|this.words[C+E])+x;var k=(0|A.words[C])*T;x=((w-=67108863&k)>>26)-(k/67108864|0),this.words[C+E]=67108863&w}for(;C<this.length-E;C++)x=(w=(0|this.words[C+E])+x)>>26,this.words[C+E]=67108863&w;if(x===0)return this.strip();for(o(x===-1),x=0,C=0;C<this.length;C++)x=(w=-(0|this.words[C])+x)>>26,this.words[C]=67108863&w;return this.negative=1,this.strip()},u.prototype._wordDiv=function(A,T){var E=(this.length,A.length),C=this.clone(),w=A,S=0|w.words[w.length-1];(E=26-this._countBits(S))!==0&&(w=w.ushln(E),C.iushln(E),S=0|w.words[w.length-1]);var x,k=C.length-w.length;if(T!=="mod"){(x=new u(null)).length=k+1,x.words=new Array(x.length);for(var P=0;P<x.length;P++)x.words[P]=0}var O=C.clone()._ishlnsubmul(w,1,k);O.negative===0&&(C=O,x&&(x.words[k]=1));for(var L=k-1;L>=0;L--){var V=67108864*(0|C.words[w.length+L])+(0|C.words[w.length+L-1]);for(V=Math.min(V/S|0,67108863),C._ishlnsubmul(w,V,L);C.negative!==0;)V--,C.negative=0,C._ishlnsubmul(w,1,L),C.isZero()||(C.negative^=1);x&&(x.words[L]=V)}return x&&x.strip(),C.strip(),T!=="div"&&E!==0&&C.iushrn(E),{div:x||null,mod:C}},u.prototype.divmod=function(A,T,E){return o(!A.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:this.negative!==0&&A.negative===0?(S=this.neg().divmod(A,T),T!=="mod"&&(C=S.div.neg()),T!=="div"&&(w=S.mod.neg(),E&&w.negative!==0&&w.iadd(A)),{div:C,mod:w}):this.negative===0&&A.negative!==0?(S=this.divmod(A.neg(),T),T!=="mod"&&(C=S.div.neg()),{div:C,mod:S.mod}):this.negative&A.negative?(S=this.neg().divmod(A.neg(),T),T!=="div"&&(w=S.mod.neg(),E&&w.negative!==0&&w.isub(A)),{div:S.div,mod:w}):A.length>this.length||this.cmp(A)<0?{div:new u(0),mod:this}:A.length===1?T==="div"?{div:this.divn(A.words[0]),mod:null}:T==="mod"?{div:null,mod:new u(this.modn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new u(this.modn(A.words[0]))}:this._wordDiv(A,T);var C,w,S},u.prototype.div=function(A){return this.divmod(A,"div",!1).div},u.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},u.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},u.prototype.divRound=function(A){var T=this.divmod(A);if(T.mod.isZero())return T.div;var E=T.div.negative!==0?T.mod.isub(A):T.mod,C=A.ushrn(1),w=A.andln(1),S=E.cmp(C);return S<0||w===1&&S===0?T.div:T.div.negative!==0?T.div.isubn(1):T.div.iaddn(1)},u.prototype.modn=function(A){o(A<=67108863);for(var T=(1<<26)%A,E=0,C=this.length-1;C>=0;C--)E=(T*E+(0|this.words[C]))%A;return E},u.prototype.idivn=function(A){o(A<=67108863);for(var T=0,E=this.length-1;E>=0;E--){var C=(0|this.words[E])+67108864*T;this.words[E]=C/A|0,T=C%A}return this.strip()},u.prototype.divn=function(A){return this.clone().idivn(A)},u.prototype.egcd=function(A){o(A.negative===0),o(!A.isZero());var T=this,E=A.clone();T=T.negative!==0?T.umod(A):T.clone();for(var C=new u(1),w=new u(0),S=new u(0),x=new u(1),k=0;T.isEven()&&E.isEven();)T.iushrn(1),E.iushrn(1),++k;for(var P=E.clone(),O=T.clone();!T.isZero();){for(var L=0,V=1;!(T.words[0]&V)&&L<26;++L,V<<=1);if(L>0)for(T.iushrn(L);L-- >0;)(C.isOdd()||w.isOdd())&&(C.iadd(P),w.isub(O)),C.iushrn(1),w.iushrn(1);for(var X=0,B=1;!(E.words[0]&B)&&X<26;++X,B<<=1);if(X>0)for(E.iushrn(X);X-- >0;)(S.isOdd()||x.isOdd())&&(S.iadd(P),x.isub(O)),S.iushrn(1),x.iushrn(1);T.cmp(E)>=0?(T.isub(E),C.isub(S),w.isub(x)):(E.isub(T),S.isub(C),x.isub(w))}return{a:S,b:x,gcd:E.iushln(k)}},u.prototype._invmp=function(A){o(A.negative===0),o(!A.isZero());var T=this,E=A.clone();T=T.negative!==0?T.umod(A):T.clone();for(var C,w=new u(1),S=new u(0),x=E.clone();T.cmpn(1)>0&&E.cmpn(1)>0;){for(var k=0,P=1;!(T.words[0]&P)&&k<26;++k,P<<=1);if(k>0)for(T.iushrn(k);k-- >0;)w.isOdd()&&w.iadd(x),w.iushrn(1);for(var O=0,L=1;!(E.words[0]&L)&&O<26;++O,L<<=1);if(O>0)for(E.iushrn(O);O-- >0;)S.isOdd()&&S.iadd(x),S.iushrn(1);T.cmp(E)>=0?(T.isub(E),w.isub(S)):(E.isub(T),S.isub(w))}return(C=T.cmpn(1)===0?w:S).cmpn(0)<0&&C.iadd(A),C},u.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var T=this.clone(),E=A.clone();T.negative=0,E.negative=0;for(var C=0;T.isEven()&&E.isEven();C++)T.iushrn(1),E.iushrn(1);for(;;){for(;T.isEven();)T.iushrn(1);for(;E.isEven();)E.iushrn(1);var w=T.cmp(E);if(w<0){var S=T;T=E,E=S}else if(w===0||E.cmpn(1)===0)break;T.isub(E)}return E.iushln(C)},u.prototype.invm=function(A){return this.egcd(A).a.umod(A)},u.prototype.isEven=function(){return(1&this.words[0])==0},u.prototype.isOdd=function(){return(1&this.words[0])==1},u.prototype.andln=function(A){return this.words[0]&A},u.prototype.bincn=function(A){o(typeof A=="number");var T=A%26,E=(A-T)/26,C=1<<T;if(this.length<=E)return this._expand(E+1),this.words[E]|=C,this;for(var w=C,S=E;w!==0&&S<this.length;S++){var x=0|this.words[S];w=(x+=w)>>>26,x&=67108863,this.words[S]=x}return w!==0&&(this.words[S]=w,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(A){var T,E=A<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;if(this.strip(),this.length>1)T=1;else{E&&(A=-A),o(A<=67108863,"Number is too big");var C=0|this.words[0];T=C===A?0:C<A?-1:1}return this.negative!==0?0|-T:T},u.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var T=this.ucmp(A);return this.negative!==0?0|-T:T},u.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var T=0,E=this.length-1;E>=0;E--){var C=0|this.words[E],w=0|A.words[E];if(C!==w){C<w?T=-1:C>w&&(T=1);break}}return T},u.prototype.gtn=function(A){return this.cmpn(A)===1},u.prototype.gt=function(A){return this.cmp(A)===1},u.prototype.gten=function(A){return this.cmpn(A)>=0},u.prototype.gte=function(A){return this.cmp(A)>=0},u.prototype.ltn=function(A){return this.cmpn(A)===-1},u.prototype.lt=function(A){return this.cmp(A)===-1},u.prototype.lten=function(A){return this.cmpn(A)<=0},u.prototype.lte=function(A){return this.cmp(A)<=0},u.prototype.eqn=function(A){return this.cmpn(A)===0},u.prototype.eq=function(A){return this.cmp(A)===0},u.red=function(A){return new q(A)},u.prototype.toRed=function(A){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},u.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(A){return this.red=A,this},u.prototype.forceRed=function(A){return o(!this.red,"Already a number in reduction context"),this._forceRed(A)},u.prototype.redAdd=function(A){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},u.prototype.redIAdd=function(A){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},u.prototype.redSub=function(A){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},u.prototype.redISub=function(A){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},u.prototype.redShl=function(A){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},u.prototype.redMul=function(A){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},u.prototype.redIMul=function(A){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},u.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(A){return o(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var D={k256:null,p224:null,p192:null,p25519:null};function N(A,T){this.name=A,this.p=new u(T,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function z(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function F(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function $(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function j(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function q(A){if(typeof A=="string"){var T=u._prime(A);this.m=T.p,this.prime=T}else o(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function H(A){q.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}N.prototype._tmp=function(){var A=new u(null);return A.words=new Array(Math.ceil(this.n/13)),A},N.prototype.ireduce=function(A){var T,E=A;do this.split(E,this.tmp),T=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength();while(T>this.n);var C=T<this.n?-1:E.ucmp(this.p);return C===0?(E.words[0]=0,E.length=1):C>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},N.prototype.split=function(A,T){A.iushrn(this.n,0,T)},N.prototype.imulK=function(A){return A.imul(this.k)},l(z,N),z.prototype.split=function(A,T){for(var E=Math.min(A.length,9),C=0;C<E;C++)T.words[C]=A.words[C];if(T.length=E,A.length<=9)return A.words[0]=0,void(A.length=1);var w=A.words[9];for(T.words[T.length++]=4194303&w,C=10;C<A.length;C++){var S=0|A.words[C];A.words[C-10]=(4194303&S)<<4|w>>>22,w=S}w>>>=22,A.words[C-10]=w,w===0&&A.length>10?A.length-=10:A.length-=9},z.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var T=0,E=0;E<A.length;E++){var C=0|A.words[E];T+=977*C,A.words[E]=67108863&T,T=64*C+(T/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},l(F,N),l($,N),l(j,N),j.prototype.imulK=function(A){for(var T=0,E=0;E<A.length;E++){var C=19*(0|A.words[E])+T,w=67108863&C;C>>>=26,A.words[E]=w,T=C}return T!==0&&(A.words[A.length++]=T),A},u._prime=function(A){if(D[A])return D[A];var T;if(A==="k256")T=new z;else if(A==="p224")T=new F;else if(A==="p192")T=new $;else{if(A!=="p25519")throw new Error("Unknown prime "+A);T=new j}return D[A]=T,T},q.prototype._verify1=function(A){o(A.negative===0,"red works only with positives"),o(A.red,"red works only with red numbers")},q.prototype._verify2=function(A,T){o((A.negative|T.negative)==0,"red works only with positives"),o(A.red&&A.red===T.red,"red works only with red numbers")},q.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):A.umod(this.m)._forceRed(this)},q.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},q.prototype.add=function(A,T){this._verify2(A,T);var E=A.add(T);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},q.prototype.iadd=function(A,T){this._verify2(A,T);var E=A.iadd(T);return E.cmp(this.m)>=0&&E.isub(this.m),E},q.prototype.sub=function(A,T){this._verify2(A,T);var E=A.sub(T);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},q.prototype.isub=function(A,T){this._verify2(A,T);var E=A.isub(T);return E.cmpn(0)<0&&E.iadd(this.m),E},q.prototype.shl=function(A,T){return this._verify1(A),this.imod(A.ushln(T))},q.prototype.imul=function(A,T){return this._verify2(A,T),this.imod(A.imul(T))},q.prototype.mul=function(A,T){return this._verify2(A,T),this.imod(A.mul(T))},q.prototype.isqr=function(A){return this.imul(A,A.clone())},q.prototype.sqr=function(A){return this.mul(A,A)},q.prototype.sqrt=function(A){if(A.isZero())return A.clone();var T=this.m.andln(3);if(o(T%2==1),T===3){var E=this.m.add(new u(1)).iushrn(2);return this.pow(A,E)}for(var C=this.m.subn(1),w=0;!C.isZero()&&C.andln(1)===0;)w++,C.iushrn(1);o(!C.isZero());var S=new u(1).toRed(this),x=S.redNeg(),k=this.m.subn(1).iushrn(1),P=this.m.bitLength();for(P=new u(2*P*P).toRed(this);this.pow(P,k).cmp(x)!==0;)P.redIAdd(x);for(var O=this.pow(P,C),L=this.pow(A,C.addn(1).iushrn(1)),V=this.pow(A,C),X=w;V.cmp(S)!==0;){for(var B=V,K=0;B.cmp(S)!==0;K++)B=B.redSqr();o(K<X);var R=this.pow(O,new u(1).iushln(X-K-1));L=L.redMul(R),O=R.redSqr(),V=V.redMul(O),X=K}return L},q.prototype.invm=function(A){var T=A._invmp(this.m);return T.negative!==0?(T.negative=0,this.imod(T).redNeg()):this.imod(T)},q.prototype.pow=function(A,T){if(T.isZero())return new u(1).toRed(this);if(T.cmpn(1)===0)return A.clone();var E=new Array(16);E[0]=new u(1).toRed(this),E[1]=A;for(var C=2;C<E.length;C++)E[C]=this.mul(E[C-1],A);var w=E[0],S=0,x=0,k=T.bitLength()%26;for(k===0&&(k=26),C=T.length-1;C>=0;C--){for(var P=T.words[C],O=k-1;O>=0;O--){var L=P>>O&1;w!==E[0]&&(w=this.sqr(w)),L!==0||S!==0?(S<<=1,S|=L,(++x===4||C===0&&O===0)&&(w=this.mul(w,E[S]),x=0,S=0)):x=0}k=26}return w},q.prototype.convertTo=function(A){var T=A.umod(this.m);return T===A?T.clone():T},q.prototype.convertFrom=function(A){var T=A.clone();return T.red=null,T},u.mont=function(A){return new H(A)},l(H,q),H.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},H.prototype.convertFrom=function(A){var T=this.imod(A.mul(this.rinv));return T.red=null,T},H.prototype.imul=function(A,T){if(A.isZero()||T.isZero())return A.words[0]=0,A.length=1,A;var E=A.imul(T),C=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=E.isub(C).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},H.prototype.mul=function(A,T){if(A.isZero()||T.isZero())return new u(0)._forceRed(this);var E=A.mul(T),C=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=E.isub(C).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},H.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(r===void 0||r)},{buffer:188}],185:[function(i,r,n){n.byteLength=function(f){var p=c(f),g=p[0],m=p[1];return 3*(g+m)/4-m},n.toByteArray=function(f){var p,g,m=c(f),v=m[0],b=m[1],y=new o(function(N,z,F){return 3*(z+F)/4-F}(0,v,b)),I=0,D=b>0?v-4:v;for(g=0;g<D;g+=4)p=s[f.charCodeAt(g)]<<18|s[f.charCodeAt(g+1)]<<12|s[f.charCodeAt(g+2)]<<6|s[f.charCodeAt(g+3)],y[I++]=p>>16&255,y[I++]=p>>8&255,y[I++]=255&p;return b===2&&(p=s[f.charCodeAt(g)]<<2|s[f.charCodeAt(g+1)]>>4,y[I++]=255&p),b===1&&(p=s[f.charCodeAt(g)]<<10|s[f.charCodeAt(g+1)]<<4|s[f.charCodeAt(g+2)]>>2,y[I++]=p>>8&255,y[I++]=255&p),y},n.fromByteArray=function(f){for(var p,g=f.length,m=g%3,v=[],b=0,y=g-m;b<y;b+=16383)v.push(h(f,b,b+16383>y?y:b+16383));return m===1?(p=f[g-1],v.push(a[p>>2]+a[p<<4&63]+"==")):m===2&&(p=(f[g-2]<<8)+f[g-1],v.push(a[p>>10]+a[p>>4&63]+a[p<<2&63]+"=")),v.join("")};for(var a=[],s=[],o=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,d=l.length;u<d;++u)a[u]=l[u],s[l.charCodeAt(u)]=u;function c(f){var p=f.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=f.indexOf("=");return g===-1&&(g=p),[g,g===p?0:4-g%4]}function h(f,p,g){for(var m,v,b=[],y=p;y<g;y+=3)m=(f[y]<<16&16711680)+(f[y+1]<<8&65280)+(255&f[y+2]),b.push(a[(v=m)>>18&63]+a[v>>12&63]+a[v>>6&63]+a[63&v]);return b.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},{}],186:[function(i,r,n){(function(a,s){function o(E,C){if(!E)throw new Error(C||"Assertion failed")}function l(E,C){E.super_=C;var w=function(){};w.prototype=C.prototype,E.prototype=new w,E.prototype.constructor=E}function u(E,C,w){if(u.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(C!=="le"&&C!=="be"||(w=C,C=10),this._init(E||0,C||10,w||"be"))}var d;typeof a=="object"?a.exports=u:(void 0).BN=u,u.BN=u,u.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:i("buffer").Buffer}catch{}function c(E,C){var w=E.charCodeAt(C);return w>=48&&w<=57?w-48:w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:void o(!1,"Invalid character in "+E)}function h(E,C,w){var S=c(E,w);return w-1>=C&&(S|=c(E,w-1)<<4),S}function f(E,C,w,S){for(var x=0,k=0,P=Math.min(E.length,w),O=C;O<P;O++){var L=E.charCodeAt(O)-48;x*=S,k=L>=49?L-49+10:L>=17?L-17+10:L,o(L>=0&&k<S,"Invalid character"),x+=k}return x}function p(E,C){E.words=C.words,E.length=C.length,E.negative=C.negative,E.red=C.red}if(u.isBN=function(E){return E instanceof u||E!==null&&typeof E=="object"&&E.constructor.wordSize===u.wordSize&&Array.isArray(E.words)},u.max=function(E,C){return E.cmp(C)>0?E:C},u.min=function(E,C){return E.cmp(C)<0?E:C},u.prototype._init=function(E,C,w){if(typeof E=="number")return this._initNumber(E,C,w);if(typeof E=="object")return this._initArray(E,C,w);C==="hex"&&(C=16),o(C===(0|C)&&C>=2&&C<=36);var S=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(S++,this.negative=1),S<E.length&&(C===16?this._parseHex(E,S,w):(this._parseBase(E,C,S),w==="le"&&this._initArray(this.toArray(),C,w)))},u.prototype._initNumber=function(E,C,w){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(o(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),C,w)},u.prototype._initArray=function(E,C,w){if(o(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var x,k,P=0;if(w==="be")for(S=E.length-1,x=0;S>=0;S-=3)k=E[S]|E[S-1]<<8|E[S-2]<<16,this.words[x]|=k<<P&67108863,this.words[x+1]=k>>>26-P&67108863,(P+=24)>=26&&(P-=26,x++);else if(w==="le")for(S=0,x=0;S<E.length;S+=3)k=E[S]|E[S+1]<<8|E[S+2]<<16,this.words[x]|=k<<P&67108863,this.words[x+1]=k>>>26-P&67108863,(P+=24)>=26&&(P-=26,x++);return this._strip()},u.prototype._parseHex=function(E,C,w){this.length=Math.ceil((E.length-C)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var x,k=0,P=0;if(w==="be")for(S=E.length-1;S>=C;S-=2)x=h(E,C,S)<<k,this.words[P]|=67108863&x,k>=18?(k-=18,P+=1,this.words[P]|=x>>>26):k+=8;else for(S=(E.length-C)%2==0?C+1:C;S<E.length;S+=2)x=h(E,C,S)<<k,this.words[P]|=67108863&x,k>=18?(k-=18,P+=1,this.words[P]|=x>>>26):k+=8;this._strip()},u.prototype._parseBase=function(E,C,w){this.words=[0],this.length=1;for(var S=0,x=1;x<=67108863;x*=C)S++;S--,x=x/C|0;for(var k=E.length-w,P=k%S,O=Math.min(k,k-P)+w,L=0,V=w;V<O;V+=S)L=f(E,V,V+S,C),this.imuln(x),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L);if(P!==0){var X=1;for(L=f(E,V,E.length,C),V=0;V<P;V++)X*=C;this.imuln(X),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L)}this._strip()},u.prototype.copy=function(E){E.words=new Array(this.length);for(var C=0;C<this.length;C++)E.words[C]=this.words[C];E.length=this.length,E.negative=this.negative,E.red=this.red},u.prototype._move=function(E){p(E,this)},u.prototype.clone=function(){var E=new u(null);return this.copy(E),E},u.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{u.prototype.inspect=g}else u.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(E,C){var w;if(C=0|C||1,(E=E||10)===16||E==="hex"){w="";for(var S=0,x=0,k=0;k<this.length;k++){var P=this.words[k],O=(16777215&(P<<S|x)).toString(16);x=P>>>24-S&16777215,(S+=2)>=26&&(S-=26,k--),w=x!==0||k!==this.length-1?m[6-O.length]+O+w:O+w}for(x!==0&&(w=x.toString(16)+w);w.length%C!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(E===(0|E)&&E>=2&&E<=36){var L=v[E],V=b[E];w="";var X=this.clone();for(X.negative=0;!X.isZero();){var B=X.modrn(V).toString(E);w=(X=X.idivn(V)).isZero()?B+w:m[L-B.length]+B+w}for(this.isZero()&&(w="0"+w);w.length%C!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}o(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},u.prototype.toJSON=function(){return this.toString(16,2)},d&&(u.prototype.toBuffer=function(E,C){return this.toArrayLike(d,E,C)}),u.prototype.toArray=function(E,C){return this.toArrayLike(Array,E,C)};function y(E,C,w){w.negative=C.negative^E.negative;var S=E.length+C.length|0;w.length=S,S=S-1|0;var x=0|E.words[0],k=0|C.words[0],P=x*k,O=67108863&P,L=P/67108864|0;w.words[0]=O;for(var V=1;V<S;V++){for(var X=L>>>26,B=67108863&L,K=Math.min(V,C.length-1),R=Math.max(0,V-E.length+1);R<=K;R++){var M=V-R|0;X+=(P=(x=0|E.words[M])*(k=0|C.words[R])+B)/67108864|0,B=67108863&P}w.words[V]=0|B,L=0|X}return L!==0?w.words[V]=0|L:w.length--,w._strip()}u.prototype.toArrayLike=function(E,C,w){this._strip();var S=this.byteLength(),x=w||Math.max(1,S);o(S<=x,"byte array longer than desired length"),o(x>0,"Requested array length <= 0");var k=function(P,O){return P.allocUnsafe?P.allocUnsafe(O):new P(O)}(E,x);return this["_toArrayLike"+(C==="le"?"LE":"BE")](k,S),k},u.prototype._toArrayLikeLE=function(E,C){for(var w=0,S=0,x=0,k=0;x<this.length;x++){var P=this.words[x]<<k|S;E[w++]=255&P,w<E.length&&(E[w++]=P>>8&255),w<E.length&&(E[w++]=P>>16&255),k===6?(w<E.length&&(E[w++]=P>>24&255),S=0,k=0):(S=P>>>24,k+=2)}if(w<E.length)for(E[w++]=S;w<E.length;)E[w++]=0},u.prototype._toArrayLikeBE=function(E,C){for(var w=E.length-1,S=0,x=0,k=0;x<this.length;x++){var P=this.words[x]<<k|S;E[w--]=255&P,w>=0&&(E[w--]=P>>8&255),w>=0&&(E[w--]=P>>16&255),k===6?(w>=0&&(E[w--]=P>>24&255),S=0,k=0):(S=P>>>24,k+=2)}if(w>=0)for(E[w--]=S;w>=0;)E[w--]=0},Math.clz32?u.prototype._countBits=function(E){return 32-Math.clz32(E)}:u.prototype._countBits=function(E){var C=E,w=0;return C>=4096&&(w+=13,C>>>=13),C>=64&&(w+=7,C>>>=7),C>=8&&(w+=4,C>>>=4),C>=2&&(w+=2,C>>>=2),w+C},u.prototype._zeroBits=function(E){if(E===0)return 26;var C=E,w=0;return!(8191&C)&&(w+=13,C>>>=13),!(127&C)&&(w+=7,C>>>=7),!(15&C)&&(w+=4,C>>>=4),!(3&C)&&(w+=2,C>>>=2),!(1&C)&&w++,w},u.prototype.bitLength=function(){var E=this.words[this.length-1],C=this._countBits(E);return 26*(this.length-1)+C},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,C=0;C<this.length;C++){var w=this._zeroBits(this.words[C]);if(E+=w,w!==26)break}return E},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},u.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var C=0;C<E.length;C++)this.words[C]=this.words[C]|E.words[C];return this._strip()},u.prototype.ior=function(E){return o((this.negative|E.negative)==0),this.iuor(E)},u.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},u.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},u.prototype.iuand=function(E){var C;C=this.length>E.length?E:this;for(var w=0;w<C.length;w++)this.words[w]=this.words[w]&E.words[w];return this.length=C.length,this._strip()},u.prototype.iand=function(E){return o((this.negative|E.negative)==0),this.iuand(E)},u.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},u.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},u.prototype.iuxor=function(E){var C,w;this.length>E.length?(C=this,w=E):(C=E,w=this);for(var S=0;S<w.length;S++)this.words[S]=C.words[S]^w.words[S];if(this!==C)for(;S<C.length;S++)this.words[S]=C.words[S];return this.length=C.length,this._strip()},u.prototype.ixor=function(E){return o((this.negative|E.negative)==0),this.iuxor(E)},u.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},u.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},u.prototype.inotn=function(E){o(typeof E=="number"&&E>=0);var C=0|Math.ceil(E/26),w=E%26;this._expand(C),w>0&&C--;for(var S=0;S<C;S++)this.words[S]=67108863&~this.words[S];return w>0&&(this.words[S]=~this.words[S]&67108863>>26-w),this._strip()},u.prototype.notn=function(E){return this.clone().inotn(E)},u.prototype.setn=function(E,C){o(typeof E=="number"&&E>=0);var w=E/26|0,S=E%26;return this._expand(w+1),this.words[w]=C?this.words[w]|1<<S:this.words[w]&~(1<<S),this._strip()},u.prototype.iadd=function(E){var C,w,S;if(this.negative!==0&&E.negative===0)return this.negative=0,C=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,C=this.isub(E),E.negative=1,C._normSign();this.length>E.length?(w=this,S=E):(w=E,S=this);for(var x=0,k=0;k<S.length;k++)C=(0|w.words[k])+(0|S.words[k])+x,this.words[k]=67108863&C,x=C>>>26;for(;x!==0&&k<w.length;k++)C=(0|w.words[k])+x,this.words[k]=67108863&C,x=C>>>26;if(this.length=w.length,x!==0)this.words[this.length]=x,this.length++;else if(w!==this)for(;k<w.length;k++)this.words[k]=w.words[k];return this},u.prototype.add=function(E){var C;return E.negative!==0&&this.negative===0?(E.negative=0,C=this.sub(E),E.negative^=1,C):E.negative===0&&this.negative!==0?(this.negative=0,C=E.sub(this),this.negative=1,C):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},u.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var C=this.iadd(E);return E.negative=1,C._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var w,S,x=this.cmp(E);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;x>0?(w=this,S=E):(w=E,S=this);for(var k=0,P=0;P<S.length;P++)k=(C=(0|w.words[P])-(0|S.words[P])+k)>>26,this.words[P]=67108863&C;for(;k!==0&&P<w.length;P++)k=(C=(0|w.words[P])+k)>>26,this.words[P]=67108863&C;if(k===0&&P<w.length&&w!==this)for(;P<w.length;P++)this.words[P]=w.words[P];return this.length=Math.max(this.length,P),w!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(E){return this.clone().isub(E)};var I=function(E,C,w){var S,x,k,P=E.words,O=C.words,L=w.words,V=0,X=0|P[0],B=8191&X,K=X>>>13,R=0|P[1],M=8191&R,G=R>>>13,Q=0|P[2],ne=8191&Q,ie=Q>>>13,U=0|P[3],se=8191&U,ae=U>>>13,Y=0|P[4],J=8191&Y,ee=Y>>>13,ue=0|P[5],de=8191&ue,oe=ue>>>13,ce=0|P[6],ge=8191&ce,ve=ce>>>13,Se=0|P[7],ke=8191&Se,Ae=Se>>>13,Xe=0|P[8],et=8191&Xe,Je=Xe>>>13,tt=0|P[9],Be=8191&tt,Fe=tt>>>13,je=0|O[0],Ye=8191&je,Qe=je>>>13,Bt=0|O[1],qt=8191&Bt,ot=Bt>>>13,Ht=0|O[2],Tt=8191&Ht,pt=Ht>>>13,li=0|O[3],Xt=8191&li,mt=li>>>13,zt=0|O[4],si=8191&zt,vt=zt>>>13,Yt=0|O[5],oi=8191&Yt,Et=Yt>>>13,fe=0|O[6],be=8191&fe,Te=fe>>>13,He=0|O[7],dt=8191&He,ze=He>>>13,_t=0|O[8],ht=8191&_t,lt=_t>>>13,xt=0|O[9],bt=8191&xt,Mt=xt>>>13;w.negative=E.negative^C.negative,w.length=19;var Ei=(V+(S=Math.imul(B,Ye))|0)+((8191&(x=(x=Math.imul(B,Qe))+Math.imul(K,Ye)|0))<<13)|0;V=((k=Math.imul(K,Qe))+(x>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,S=Math.imul(M,Ye),x=(x=Math.imul(M,Qe))+Math.imul(G,Ye)|0,k=Math.imul(G,Qe);var ci=(V+(S=S+Math.imul(B,qt)|0)|0)+((8191&(x=(x=x+Math.imul(B,ot)|0)+Math.imul(K,qt)|0))<<13)|0;V=((k=k+Math.imul(K,ot)|0)+(x>>>13)|0)+(ci>>>26)|0,ci&=67108863,S=Math.imul(ne,Ye),x=(x=Math.imul(ne,Qe))+Math.imul(ie,Ye)|0,k=Math.imul(ie,Qe),S=S+Math.imul(M,qt)|0,x=(x=x+Math.imul(M,ot)|0)+Math.imul(G,qt)|0,k=k+Math.imul(G,ot)|0;var Li=(V+(S=S+Math.imul(B,Tt)|0)|0)+((8191&(x=(x=x+Math.imul(B,pt)|0)+Math.imul(K,Tt)|0))<<13)|0;V=((k=k+Math.imul(K,pt)|0)+(x>>>13)|0)+(Li>>>26)|0,Li&=67108863,S=Math.imul(se,Ye),x=(x=Math.imul(se,Qe))+Math.imul(ae,Ye)|0,k=Math.imul(ae,Qe),S=S+Math.imul(ne,qt)|0,x=(x=x+Math.imul(ne,ot)|0)+Math.imul(ie,qt)|0,k=k+Math.imul(ie,ot)|0,S=S+Math.imul(M,Tt)|0,x=(x=x+Math.imul(M,pt)|0)+Math.imul(G,Tt)|0,k=k+Math.imul(G,pt)|0;var Ni=(V+(S=S+Math.imul(B,Xt)|0)|0)+((8191&(x=(x=x+Math.imul(B,mt)|0)+Math.imul(K,Xt)|0))<<13)|0;V=((k=k+Math.imul(K,mt)|0)+(x>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,S=Math.imul(J,Ye),x=(x=Math.imul(J,Qe))+Math.imul(ee,Ye)|0,k=Math.imul(ee,Qe),S=S+Math.imul(se,qt)|0,x=(x=x+Math.imul(se,ot)|0)+Math.imul(ae,qt)|0,k=k+Math.imul(ae,ot)|0,S=S+Math.imul(ne,Tt)|0,x=(x=x+Math.imul(ne,pt)|0)+Math.imul(ie,Tt)|0,k=k+Math.imul(ie,pt)|0,S=S+Math.imul(M,Xt)|0,x=(x=x+Math.imul(M,mt)|0)+Math.imul(G,Xt)|0,k=k+Math.imul(G,mt)|0;var pr=(V+(S=S+Math.imul(B,si)|0)|0)+((8191&(x=(x=x+Math.imul(B,vt)|0)+Math.imul(K,si)|0))<<13)|0;V=((k=k+Math.imul(K,vt)|0)+(x>>>13)|0)+(pr>>>26)|0,pr&=67108863,S=Math.imul(de,Ye),x=(x=Math.imul(de,Qe))+Math.imul(oe,Ye)|0,k=Math.imul(oe,Qe),S=S+Math.imul(J,qt)|0,x=(x=x+Math.imul(J,ot)|0)+Math.imul(ee,qt)|0,k=k+Math.imul(ee,ot)|0,S=S+Math.imul(se,Tt)|0,x=(x=x+Math.imul(se,pt)|0)+Math.imul(ae,Tt)|0,k=k+Math.imul(ae,pt)|0,S=S+Math.imul(ne,Xt)|0,x=(x=x+Math.imul(ne,mt)|0)+Math.imul(ie,Xt)|0,k=k+Math.imul(ie,mt)|0,S=S+Math.imul(M,si)|0,x=(x=x+Math.imul(M,vt)|0)+Math.imul(G,si)|0,k=k+Math.imul(G,vt)|0;var he=(V+(S=S+Math.imul(B,oi)|0)|0)+((8191&(x=(x=x+Math.imul(B,Et)|0)+Math.imul(K,oi)|0))<<13)|0;V=((k=k+Math.imul(K,Et)|0)+(x>>>13)|0)+(he>>>26)|0,he&=67108863,S=Math.imul(ge,Ye),x=(x=Math.imul(ge,Qe))+Math.imul(ve,Ye)|0,k=Math.imul(ve,Qe),S=S+Math.imul(de,qt)|0,x=(x=x+Math.imul(de,ot)|0)+Math.imul(oe,qt)|0,k=k+Math.imul(oe,ot)|0,S=S+Math.imul(J,Tt)|0,x=(x=x+Math.imul(J,pt)|0)+Math.imul(ee,Tt)|0,k=k+Math.imul(ee,pt)|0,S=S+Math.imul(se,Xt)|0,x=(x=x+Math.imul(se,mt)|0)+Math.imul(ae,Xt)|0,k=k+Math.imul(ae,mt)|0,S=S+Math.imul(ne,si)|0,x=(x=x+Math.imul(ne,vt)|0)+Math.imul(ie,si)|0,k=k+Math.imul(ie,vt)|0,S=S+Math.imul(M,oi)|0,x=(x=x+Math.imul(M,Et)|0)+Math.imul(G,oi)|0,k=k+Math.imul(G,Et)|0;var ye=(V+(S=S+Math.imul(B,be)|0)|0)+((8191&(x=(x=x+Math.imul(B,Te)|0)+Math.imul(K,be)|0))<<13)|0;V=((k=k+Math.imul(K,Te)|0)+(x>>>13)|0)+(ye>>>26)|0,ye&=67108863,S=Math.imul(ke,Ye),x=(x=Math.imul(ke,Qe))+Math.imul(Ae,Ye)|0,k=Math.imul(Ae,Qe),S=S+Math.imul(ge,qt)|0,x=(x=x+Math.imul(ge,ot)|0)+Math.imul(ve,qt)|0,k=k+Math.imul(ve,ot)|0,S=S+Math.imul(de,Tt)|0,x=(x=x+Math.imul(de,pt)|0)+Math.imul(oe,Tt)|0,k=k+Math.imul(oe,pt)|0,S=S+Math.imul(J,Xt)|0,x=(x=x+Math.imul(J,mt)|0)+Math.imul(ee,Xt)|0,k=k+Math.imul(ee,mt)|0,S=S+Math.imul(se,si)|0,x=(x=x+Math.imul(se,vt)|0)+Math.imul(ae,si)|0,k=k+Math.imul(ae,vt)|0,S=S+Math.imul(ne,oi)|0,x=(x=x+Math.imul(ne,Et)|0)+Math.imul(ie,oi)|0,k=k+Math.imul(ie,Et)|0,S=S+Math.imul(M,be)|0,x=(x=x+Math.imul(M,Te)|0)+Math.imul(G,be)|0,k=k+Math.imul(G,Te)|0;var De=(V+(S=S+Math.imul(B,dt)|0)|0)+((8191&(x=(x=x+Math.imul(B,ze)|0)+Math.imul(K,dt)|0))<<13)|0;V=((k=k+Math.imul(K,ze)|0)+(x>>>13)|0)+(De>>>26)|0,De&=67108863,S=Math.imul(et,Ye),x=(x=Math.imul(et,Qe))+Math.imul(Je,Ye)|0,k=Math.imul(Je,Qe),S=S+Math.imul(ke,qt)|0,x=(x=x+Math.imul(ke,ot)|0)+Math.imul(Ae,qt)|0,k=k+Math.imul(Ae,ot)|0,S=S+Math.imul(ge,Tt)|0,x=(x=x+Math.imul(ge,pt)|0)+Math.imul(ve,Tt)|0,k=k+Math.imul(ve,pt)|0,S=S+Math.imul(de,Xt)|0,x=(x=x+Math.imul(de,mt)|0)+Math.imul(oe,Xt)|0,k=k+Math.imul(oe,mt)|0,S=S+Math.imul(J,si)|0,x=(x=x+Math.imul(J,vt)|0)+Math.imul(ee,si)|0,k=k+Math.imul(ee,vt)|0,S=S+Math.imul(se,oi)|0,x=(x=x+Math.imul(se,Et)|0)+Math.imul(ae,oi)|0,k=k+Math.imul(ae,Et)|0,S=S+Math.imul(ne,be)|0,x=(x=x+Math.imul(ne,Te)|0)+Math.imul(ie,be)|0,k=k+Math.imul(ie,Te)|0,S=S+Math.imul(M,dt)|0,x=(x=x+Math.imul(M,ze)|0)+Math.imul(G,dt)|0,k=k+Math.imul(G,ze)|0;var Me=(V+(S=S+Math.imul(B,ht)|0)|0)+((8191&(x=(x=x+Math.imul(B,lt)|0)+Math.imul(K,ht)|0))<<13)|0;V=((k=k+Math.imul(K,lt)|0)+(x>>>13)|0)+(Me>>>26)|0,Me&=67108863,S=Math.imul(Be,Ye),x=(x=Math.imul(Be,Qe))+Math.imul(Fe,Ye)|0,k=Math.imul(Fe,Qe),S=S+Math.imul(et,qt)|0,x=(x=x+Math.imul(et,ot)|0)+Math.imul(Je,qt)|0,k=k+Math.imul(Je,ot)|0,S=S+Math.imul(ke,Tt)|0,x=(x=x+Math.imul(ke,pt)|0)+Math.imul(Ae,Tt)|0,k=k+Math.imul(Ae,pt)|0,S=S+Math.imul(ge,Xt)|0,x=(x=x+Math.imul(ge,mt)|0)+Math.imul(ve,Xt)|0,k=k+Math.imul(ve,mt)|0,S=S+Math.imul(de,si)|0,x=(x=x+Math.imul(de,vt)|0)+Math.imul(oe,si)|0,k=k+Math.imul(oe,vt)|0,S=S+Math.imul(J,oi)|0,x=(x=x+Math.imul(J,Et)|0)+Math.imul(ee,oi)|0,k=k+Math.imul(ee,Et)|0,S=S+Math.imul(se,be)|0,x=(x=x+Math.imul(se,Te)|0)+Math.imul(ae,be)|0,k=k+Math.imul(ae,Te)|0,S=S+Math.imul(ne,dt)|0,x=(x=x+Math.imul(ne,ze)|0)+Math.imul(ie,dt)|0,k=k+Math.imul(ie,ze)|0,S=S+Math.imul(M,ht)|0,x=(x=x+Math.imul(M,lt)|0)+Math.imul(G,ht)|0,k=k+Math.imul(G,lt)|0;var it=(V+(S=S+Math.imul(B,bt)|0)|0)+((8191&(x=(x=x+Math.imul(B,Mt)|0)+Math.imul(K,bt)|0))<<13)|0;V=((k=k+Math.imul(K,Mt)|0)+(x>>>13)|0)+(it>>>26)|0,it&=67108863,S=Math.imul(Be,qt),x=(x=Math.imul(Be,ot))+Math.imul(Fe,qt)|0,k=Math.imul(Fe,ot),S=S+Math.imul(et,Tt)|0,x=(x=x+Math.imul(et,pt)|0)+Math.imul(Je,Tt)|0,k=k+Math.imul(Je,pt)|0,S=S+Math.imul(ke,Xt)|0,x=(x=x+Math.imul(ke,mt)|0)+Math.imul(Ae,Xt)|0,k=k+Math.imul(Ae,mt)|0,S=S+Math.imul(ge,si)|0,x=(x=x+Math.imul(ge,vt)|0)+Math.imul(ve,si)|0,k=k+Math.imul(ve,vt)|0,S=S+Math.imul(de,oi)|0,x=(x=x+Math.imul(de,Et)|0)+Math.imul(oe,oi)|0,k=k+Math.imul(oe,Et)|0,S=S+Math.imul(J,be)|0,x=(x=x+Math.imul(J,Te)|0)+Math.imul(ee,be)|0,k=k+Math.imul(ee,Te)|0,S=S+Math.imul(se,dt)|0,x=(x=x+Math.imul(se,ze)|0)+Math.imul(ae,dt)|0,k=k+Math.imul(ae,ze)|0,S=S+Math.imul(ne,ht)|0,x=(x=x+Math.imul(ne,lt)|0)+Math.imul(ie,ht)|0,k=k+Math.imul(ie,lt)|0;var Ve=(V+(S=S+Math.imul(M,bt)|0)|0)+((8191&(x=(x=x+Math.imul(M,Mt)|0)+Math.imul(G,bt)|0))<<13)|0;V=((k=k+Math.imul(G,Mt)|0)+(x>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,S=Math.imul(Be,Tt),x=(x=Math.imul(Be,pt))+Math.imul(Fe,Tt)|0,k=Math.imul(Fe,pt),S=S+Math.imul(et,Xt)|0,x=(x=x+Math.imul(et,mt)|0)+Math.imul(Je,Xt)|0,k=k+Math.imul(Je,mt)|0,S=S+Math.imul(ke,si)|0,x=(x=x+Math.imul(ke,vt)|0)+Math.imul(Ae,si)|0,k=k+Math.imul(Ae,vt)|0,S=S+Math.imul(ge,oi)|0,x=(x=x+Math.imul(ge,Et)|0)+Math.imul(ve,oi)|0,k=k+Math.imul(ve,Et)|0,S=S+Math.imul(de,be)|0,x=(x=x+Math.imul(de,Te)|0)+Math.imul(oe,be)|0,k=k+Math.imul(oe,Te)|0,S=S+Math.imul(J,dt)|0,x=(x=x+Math.imul(J,ze)|0)+Math.imul(ee,dt)|0,k=k+Math.imul(ee,ze)|0,S=S+Math.imul(se,ht)|0,x=(x=x+Math.imul(se,lt)|0)+Math.imul(ae,ht)|0,k=k+Math.imul(ae,lt)|0;var $e=(V+(S=S+Math.imul(ne,bt)|0)|0)+((8191&(x=(x=x+Math.imul(ne,Mt)|0)+Math.imul(ie,bt)|0))<<13)|0;V=((k=k+Math.imul(ie,Mt)|0)+(x>>>13)|0)+($e>>>26)|0,$e&=67108863,S=Math.imul(Be,Xt),x=(x=Math.imul(Be,mt))+Math.imul(Fe,Xt)|0,k=Math.imul(Fe,mt),S=S+Math.imul(et,si)|0,x=(x=x+Math.imul(et,vt)|0)+Math.imul(Je,si)|0,k=k+Math.imul(Je,vt)|0,S=S+Math.imul(ke,oi)|0,x=(x=x+Math.imul(ke,Et)|0)+Math.imul(Ae,oi)|0,k=k+Math.imul(Ae,Et)|0,S=S+Math.imul(ge,be)|0,x=(x=x+Math.imul(ge,Te)|0)+Math.imul(ve,be)|0,k=k+Math.imul(ve,Te)|0,S=S+Math.imul(de,dt)|0,x=(x=x+Math.imul(de,ze)|0)+Math.imul(oe,dt)|0,k=k+Math.imul(oe,ze)|0,S=S+Math.imul(J,ht)|0,x=(x=x+Math.imul(J,lt)|0)+Math.imul(ee,ht)|0,k=k+Math.imul(ee,lt)|0;var Ft=(V+(S=S+Math.imul(se,bt)|0)|0)+((8191&(x=(x=x+Math.imul(se,Mt)|0)+Math.imul(ae,bt)|0))<<13)|0;V=((k=k+Math.imul(ae,Mt)|0)+(x>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,S=Math.imul(Be,si),x=(x=Math.imul(Be,vt))+Math.imul(Fe,si)|0,k=Math.imul(Fe,vt),S=S+Math.imul(et,oi)|0,x=(x=x+Math.imul(et,Et)|0)+Math.imul(Je,oi)|0,k=k+Math.imul(Je,Et)|0,S=S+Math.imul(ke,be)|0,x=(x=x+Math.imul(ke,Te)|0)+Math.imul(Ae,be)|0,k=k+Math.imul(Ae,Te)|0,S=S+Math.imul(ge,dt)|0,x=(x=x+Math.imul(ge,ze)|0)+Math.imul(ve,dt)|0,k=k+Math.imul(ve,ze)|0,S=S+Math.imul(de,ht)|0,x=(x=x+Math.imul(de,lt)|0)+Math.imul(oe,ht)|0,k=k+Math.imul(oe,lt)|0;var Dt=(V+(S=S+Math.imul(J,bt)|0)|0)+((8191&(x=(x=x+Math.imul(J,Mt)|0)+Math.imul(ee,bt)|0))<<13)|0;V=((k=k+Math.imul(ee,Mt)|0)+(x>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,S=Math.imul(Be,oi),x=(x=Math.imul(Be,Et))+Math.imul(Fe,oi)|0,k=Math.imul(Fe,Et),S=S+Math.imul(et,be)|0,x=(x=x+Math.imul(et,Te)|0)+Math.imul(Je,be)|0,k=k+Math.imul(Je,Te)|0,S=S+Math.imul(ke,dt)|0,x=(x=x+Math.imul(ke,ze)|0)+Math.imul(Ae,dt)|0,k=k+Math.imul(Ae,ze)|0,S=S+Math.imul(ge,ht)|0,x=(x=x+Math.imul(ge,lt)|0)+Math.imul(ve,ht)|0,k=k+Math.imul(ve,lt)|0;var Ot=(V+(S=S+Math.imul(de,bt)|0)|0)+((8191&(x=(x=x+Math.imul(de,Mt)|0)+Math.imul(oe,bt)|0))<<13)|0;V=((k=k+Math.imul(oe,Mt)|0)+(x>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,S=Math.imul(Be,be),x=(x=Math.imul(Be,Te))+Math.imul(Fe,be)|0,k=Math.imul(Fe,Te),S=S+Math.imul(et,dt)|0,x=(x=x+Math.imul(et,ze)|0)+Math.imul(Je,dt)|0,k=k+Math.imul(Je,ze)|0,S=S+Math.imul(ke,ht)|0,x=(x=x+Math.imul(ke,lt)|0)+Math.imul(Ae,ht)|0,k=k+Math.imul(Ae,lt)|0;var ct=(V+(S=S+Math.imul(ge,bt)|0)|0)+((8191&(x=(x=x+Math.imul(ge,Mt)|0)+Math.imul(ve,bt)|0))<<13)|0;V=((k=k+Math.imul(ve,Mt)|0)+(x>>>13)|0)+(ct>>>26)|0,ct&=67108863,S=Math.imul(Be,dt),x=(x=Math.imul(Be,ze))+Math.imul(Fe,dt)|0,k=Math.imul(Fe,ze),S=S+Math.imul(et,ht)|0,x=(x=x+Math.imul(et,lt)|0)+Math.imul(Je,ht)|0,k=k+Math.imul(Je,lt)|0;var ti=(V+(S=S+Math.imul(ke,bt)|0)|0)+((8191&(x=(x=x+Math.imul(ke,Mt)|0)+Math.imul(Ae,bt)|0))<<13)|0;V=((k=k+Math.imul(Ae,Mt)|0)+(x>>>13)|0)+(ti>>>26)|0,ti&=67108863,S=Math.imul(Be,ht),x=(x=Math.imul(Be,lt))+Math.imul(Fe,ht)|0,k=Math.imul(Fe,lt);var vi=(V+(S=S+Math.imul(et,bt)|0)|0)+((8191&(x=(x=x+Math.imul(et,Mt)|0)+Math.imul(Je,bt)|0))<<13)|0;V=((k=k+Math.imul(Je,Mt)|0)+(x>>>13)|0)+(vi>>>26)|0,vi&=67108863;var Ut=(V+(S=Math.imul(Be,bt))|0)+((8191&(x=(x=Math.imul(Be,Mt))+Math.imul(Fe,bt)|0))<<13)|0;return V=((k=Math.imul(Fe,Mt))+(x>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,L[0]=Ei,L[1]=ci,L[2]=Li,L[3]=Ni,L[4]=pr,L[5]=he,L[6]=ye,L[7]=De,L[8]=Me,L[9]=it,L[10]=Ve,L[11]=$e,L[12]=Ft,L[13]=Dt,L[14]=Ot,L[15]=ct,L[16]=ti,L[17]=vi,L[18]=Ut,V!==0&&(L[19]=V,w.length++),w};function D(E,C,w){w.negative=C.negative^E.negative,w.length=E.length+C.length;for(var S=0,x=0,k=0;k<w.length-1;k++){var P=x;x=0;for(var O=67108863&S,L=Math.min(k,C.length-1),V=Math.max(0,k-E.length+1);V<=L;V++){var X=k-V,B=(0|E.words[X])*(0|C.words[V]),K=67108863&B;O=67108863&(K=K+O|0),x+=(P=(P=P+(B/67108864|0)|0)+(K>>>26)|0)>>>26,P&=67108863}w.words[k]=O,S=P,P=x}return S!==0?w.words[k]=S:w.length--,w._strip()}function N(E,C,w){return D(E,C,w)}Math.imul||(I=y),u.prototype.mulTo=function(E,C){var w=this.length+E.length;return this.length===10&&E.length===10?I(this,E,C):w<63?y(this,E,C):w<1024?D(this,E,C):N(this,E,C)},u.prototype.mul=function(E){var C=new u(null);return C.words=new Array(this.length+E.length),this.mulTo(E,C)},u.prototype.mulf=function(E){var C=new u(null);return C.words=new Array(this.length+E.length),N(this,E,C)},u.prototype.imul=function(E){return this.clone().mulTo(E,this)},u.prototype.imuln=function(E){var C=E<0;C&&(E=-E),o(typeof E=="number"),o(E<67108864);for(var w=0,S=0;S<this.length;S++){var x=(0|this.words[S])*E,k=(67108863&x)+(67108863&w);w>>=26,w+=x/67108864|0,w+=k>>>26,this.words[S]=67108863&k}return w!==0&&(this.words[S]=w,this.length++),C?this.ineg():this},u.prototype.muln=function(E){return this.clone().imuln(E)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(E){var C=function(k){for(var P=new Array(k.bitLength()),O=0;O<P.length;O++){var L=O/26|0,V=O%26;P[O]=k.words[L]>>>V&1}return P}(E);if(C.length===0)return new u(1);for(var w=this,S=0;S<C.length&&C[S]===0;S++,w=w.sqr());if(++S<C.length)for(var x=w.sqr();S<C.length;S++,x=x.sqr())C[S]!==0&&(w=w.mul(x));return w},u.prototype.iushln=function(E){o(typeof E=="number"&&E>=0);var C,w=E%26,S=(E-w)/26,x=67108863>>>26-w<<26-w;if(w!==0){var k=0;for(C=0;C<this.length;C++){var P=this.words[C]&x,O=(0|this.words[C])-P<<w;this.words[C]=O|k,k=P>>>26-w}k&&(this.words[C]=k,this.length++)}if(S!==0){for(C=this.length-1;C>=0;C--)this.words[C+S]=this.words[C];for(C=0;C<S;C++)this.words[C]=0;this.length+=S}return this._strip()},u.prototype.ishln=function(E){return o(this.negative===0),this.iushln(E)},u.prototype.iushrn=function(E,C,w){var S;o(typeof E=="number"&&E>=0),S=C?(C-C%26)/26:0;var x=E%26,k=Math.min((E-x)/26,this.length),P=67108863^67108863>>>x<<x,O=w;if(S-=k,S=Math.max(0,S),O){for(var L=0;L<k;L++)O.words[L]=this.words[L];O.length=k}if(k!==0)if(this.length>k)for(this.length-=k,L=0;L<this.length;L++)this.words[L]=this.words[L+k];else this.words[0]=0,this.length=1;var V=0;for(L=this.length-1;L>=0&&(V!==0||L>=S);L--){var X=0|this.words[L];this.words[L]=V<<26-x|X>>>x,V=X&P}return O&&V!==0&&(O.words[O.length++]=V),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(E,C,w){return o(this.negative===0),this.iushrn(E,C,w)},u.prototype.shln=function(E){return this.clone().ishln(E)},u.prototype.ushln=function(E){return this.clone().iushln(E)},u.prototype.shrn=function(E){return this.clone().ishrn(E)},u.prototype.ushrn=function(E){return this.clone().iushrn(E)},u.prototype.testn=function(E){o(typeof E=="number"&&E>=0);var C=E%26,w=(E-C)/26,S=1<<C;return!(this.length<=w)&&!!(this.words[w]&S)},u.prototype.imaskn=function(E){o(typeof E=="number"&&E>=0);var C=E%26,w=(E-C)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(C!==0&&w++,this.length=Math.min(w,this.length),C!==0){var S=67108863^67108863>>>C<<C;this.words[this.length-1]&=S}return this._strip()},u.prototype.maskn=function(E){return this.clone().imaskn(E)},u.prototype.iaddn=function(E){return o(typeof E=="number"),o(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<=E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},u.prototype._iaddn=function(E){this.words[0]+=E;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},u.prototype.isubn=function(E){if(o(typeof E=="number"),o(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},u.prototype.addn=function(E){return this.clone().iaddn(E)},u.prototype.subn=function(E){return this.clone().isubn(E)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(E,C,w){var S,x,k=E.length+w;this._expand(k);var P=0;for(S=0;S<E.length;S++){x=(0|this.words[S+w])+P;var O=(0|E.words[S])*C;P=((x-=67108863&O)>>26)-(O/67108864|0),this.words[S+w]=67108863&x}for(;S<this.length-w;S++)P=(x=(0|this.words[S+w])+P)>>26,this.words[S+w]=67108863&x;if(P===0)return this._strip();for(o(P===-1),P=0,S=0;S<this.length;S++)P=(x=-(0|this.words[S])+P)>>26,this.words[S]=67108863&x;return this.negative=1,this._strip()},u.prototype._wordDiv=function(E,C){var w=(this.length,E.length),S=this.clone(),x=E,k=0|x.words[x.length-1];(w=26-this._countBits(k))!==0&&(x=x.ushln(w),S.iushln(w),k=0|x.words[x.length-1]);var P,O=S.length-x.length;if(C!=="mod"){(P=new u(null)).length=O+1,P.words=new Array(P.length);for(var L=0;L<P.length;L++)P.words[L]=0}var V=S.clone()._ishlnsubmul(x,1,O);V.negative===0&&(S=V,P&&(P.words[O]=1));for(var X=O-1;X>=0;X--){var B=67108864*(0|S.words[x.length+X])+(0|S.words[x.length+X-1]);for(B=Math.min(B/k|0,67108863),S._ishlnsubmul(x,B,X);S.negative!==0;)B--,S.negative=0,S._ishlnsubmul(x,1,X),S.isZero()||(S.negative^=1);P&&(P.words[X]=B)}return P&&P._strip(),S._strip(),C!=="div"&&w!==0&&S.iushrn(w),{div:P||null,mod:S}},u.prototype.divmod=function(E,C,w){return o(!E.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:this.negative!==0&&E.negative===0?(k=this.neg().divmod(E,C),C!=="mod"&&(S=k.div.neg()),C!=="div"&&(x=k.mod.neg(),w&&x.negative!==0&&x.iadd(E)),{div:S,mod:x}):this.negative===0&&E.negative!==0?(k=this.divmod(E.neg(),C),C!=="mod"&&(S=k.div.neg()),{div:S,mod:k.mod}):this.negative&E.negative?(k=this.neg().divmod(E.neg(),C),C!=="div"&&(x=k.mod.neg(),w&&x.negative!==0&&x.isub(E)),{div:k.div,mod:x}):E.length>this.length||this.cmp(E)<0?{div:new u(0),mod:this}:E.length===1?C==="div"?{div:this.divn(E.words[0]),mod:null}:C==="mod"?{div:null,mod:new u(this.modrn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new u(this.modrn(E.words[0]))}:this._wordDiv(E,C);var S,x,k},u.prototype.div=function(E){return this.divmod(E,"div",!1).div},u.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},u.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},u.prototype.divRound=function(E){var C=this.divmod(E);if(C.mod.isZero())return C.div;var w=C.div.negative!==0?C.mod.isub(E):C.mod,S=E.ushrn(1),x=E.andln(1),k=w.cmp(S);return k<0||x===1&&k===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},u.prototype.modrn=function(E){var C=E<0;C&&(E=-E),o(E<=67108863);for(var w=(1<<26)%E,S=0,x=this.length-1;x>=0;x--)S=(w*S+(0|this.words[x]))%E;return C?-S:S},u.prototype.modn=function(E){return this.modrn(E)},u.prototype.idivn=function(E){var C=E<0;C&&(E=-E),o(E<=67108863);for(var w=0,S=this.length-1;S>=0;S--){var x=(0|this.words[S])+67108864*w;this.words[S]=x/E|0,w=x%E}return this._strip(),C?this.ineg():this},u.prototype.divn=function(E){return this.clone().idivn(E)},u.prototype.egcd=function(E){o(E.negative===0),o(!E.isZero());var C=this,w=E.clone();C=C.negative!==0?C.umod(E):C.clone();for(var S=new u(1),x=new u(0),k=new u(0),P=new u(1),O=0;C.isEven()&&w.isEven();)C.iushrn(1),w.iushrn(1),++O;for(var L=w.clone(),V=C.clone();!C.isZero();){for(var X=0,B=1;!(C.words[0]&B)&&X<26;++X,B<<=1);if(X>0)for(C.iushrn(X);X-- >0;)(S.isOdd()||x.isOdd())&&(S.iadd(L),x.isub(V)),S.iushrn(1),x.iushrn(1);for(var K=0,R=1;!(w.words[0]&R)&&K<26;++K,R<<=1);if(K>0)for(w.iushrn(K);K-- >0;)(k.isOdd()||P.isOdd())&&(k.iadd(L),P.isub(V)),k.iushrn(1),P.iushrn(1);C.cmp(w)>=0?(C.isub(w),S.isub(k),x.isub(P)):(w.isub(C),k.isub(S),P.isub(x))}return{a:k,b:P,gcd:w.iushln(O)}},u.prototype._invmp=function(E){o(E.negative===0),o(!E.isZero());var C=this,w=E.clone();C=C.negative!==0?C.umod(E):C.clone();for(var S,x=new u(1),k=new u(0),P=w.clone();C.cmpn(1)>0&&w.cmpn(1)>0;){for(var O=0,L=1;!(C.words[0]&L)&&O<26;++O,L<<=1);if(O>0)for(C.iushrn(O);O-- >0;)x.isOdd()&&x.iadd(P),x.iushrn(1);for(var V=0,X=1;!(w.words[0]&X)&&V<26;++V,X<<=1);if(V>0)for(w.iushrn(V);V-- >0;)k.isOdd()&&k.iadd(P),k.iushrn(1);C.cmp(w)>=0?(C.isub(w),x.isub(k)):(w.isub(C),k.isub(x))}return(S=C.cmpn(1)===0?x:k).cmpn(0)<0&&S.iadd(E),S},u.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var C=this.clone(),w=E.clone();C.negative=0,w.negative=0;for(var S=0;C.isEven()&&w.isEven();S++)C.iushrn(1),w.iushrn(1);for(;;){for(;C.isEven();)C.iushrn(1);for(;w.isEven();)w.iushrn(1);var x=C.cmp(w);if(x<0){var k=C;C=w,w=k}else if(x===0||w.cmpn(1)===0)break;C.isub(w)}return w.iushln(S)},u.prototype.invm=function(E){return this.egcd(E).a.umod(E)},u.prototype.isEven=function(){return(1&this.words[0])==0},u.prototype.isOdd=function(){return(1&this.words[0])==1},u.prototype.andln=function(E){return this.words[0]&E},u.prototype.bincn=function(E){o(typeof E=="number");var C=E%26,w=(E-C)/26,S=1<<C;if(this.length<=w)return this._expand(w+1),this.words[w]|=S,this;for(var x=S,k=w;x!==0&&k<this.length;k++){var P=0|this.words[k];x=(P+=x)>>>26,P&=67108863,this.words[k]=P}return x!==0&&(this.words[k]=x,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(E){var C,w=E<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;if(this._strip(),this.length>1)C=1;else{w&&(E=-E),o(E<=67108863,"Number is too big");var S=0|this.words[0];C=S===E?0:S<E?-1:1}return this.negative!==0?0|-C:C},u.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var C=this.ucmp(E);return this.negative!==0?0|-C:C},u.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var C=0,w=this.length-1;w>=0;w--){var S=0|this.words[w],x=0|E.words[w];if(S!==x){S<x?C=-1:S>x&&(C=1);break}}return C},u.prototype.gtn=function(E){return this.cmpn(E)===1},u.prototype.gt=function(E){return this.cmp(E)===1},u.prototype.gten=function(E){return this.cmpn(E)>=0},u.prototype.gte=function(E){return this.cmp(E)>=0},u.prototype.ltn=function(E){return this.cmpn(E)===-1},u.prototype.lt=function(E){return this.cmp(E)===-1},u.prototype.lten=function(E){return this.cmpn(E)<=0},u.prototype.lte=function(E){return this.cmp(E)<=0},u.prototype.eqn=function(E){return this.cmpn(E)===0},u.prototype.eq=function(E){return this.cmp(E)===0},u.red=function(E){return new A(E)},u.prototype.toRed=function(E){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},u.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(E){return this.red=E,this},u.prototype.forceRed=function(E){return o(!this.red,"Already a number in reduction context"),this._forceRed(E)},u.prototype.redAdd=function(E){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},u.prototype.redIAdd=function(E){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},u.prototype.redSub=function(E){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},u.prototype.redISub=function(E){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},u.prototype.redShl=function(E){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},u.prototype.redMul=function(E){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},u.prototype.redIMul=function(E){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},u.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(E){return o(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var z={k256:null,p224:null,p192:null,p25519:null};function F(E,C){this.name=E,this.p=new u(C,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function $(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function j(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function q(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function H(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(E){if(typeof E=="string"){var C=u._prime(E);this.m=C.p,this.prime=C}else o(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function T(E){A.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}F.prototype._tmp=function(){var E=new u(null);return E.words=new Array(Math.ceil(this.n/13)),E},F.prototype.ireduce=function(E){var C,w=E;do this.split(w,this.tmp),C=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength();while(C>this.n);var S=C<this.n?-1:w.ucmp(this.p);return S===0?(w.words[0]=0,w.length=1):S>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},F.prototype.split=function(E,C){E.iushrn(this.n,0,C)},F.prototype.imulK=function(E){return E.imul(this.k)},l($,F),$.prototype.split=function(E,C){for(var w=Math.min(E.length,9),S=0;S<w;S++)C.words[S]=E.words[S];if(C.length=w,E.length<=9)return E.words[0]=0,void(E.length=1);var x=E.words[9];for(C.words[C.length++]=4194303&x,S=10;S<E.length;S++){var k=0|E.words[S];E.words[S-10]=(4194303&k)<<4|x>>>22,x=k}x>>>=22,E.words[S-10]=x,x===0&&E.length>10?E.length-=10:E.length-=9},$.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var C=0,w=0;w<E.length;w++){var S=0|E.words[w];C+=977*S,E.words[w]=67108863&C,C=64*S+(C/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},l(j,F),l(q,F),l(H,F),H.prototype.imulK=function(E){for(var C=0,w=0;w<E.length;w++){var S=19*(0|E.words[w])+C,x=67108863&S;S>>>=26,E.words[w]=x,C=S}return C!==0&&(E.words[E.length++]=C),E},u._prime=function(E){if(z[E])return z[E];var C;if(E==="k256")C=new $;else if(E==="p224")C=new j;else if(E==="p192")C=new q;else{if(E!=="p25519")throw new Error("Unknown prime "+E);C=new H}return z[E]=C,C},A.prototype._verify1=function(E){o(E.negative===0,"red works only with positives"),o(E.red,"red works only with red numbers")},A.prototype._verify2=function(E,C){o((E.negative|C.negative)==0,"red works only with positives"),o(E.red&&E.red===C.red,"red works only with red numbers")},A.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):(p(E,E.umod(this.m)._forceRed(this)),E)},A.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},A.prototype.add=function(E,C){this._verify2(E,C);var w=E.add(C);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},A.prototype.iadd=function(E,C){this._verify2(E,C);var w=E.iadd(C);return w.cmp(this.m)>=0&&w.isub(this.m),w},A.prototype.sub=function(E,C){this._verify2(E,C);var w=E.sub(C);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},A.prototype.isub=function(E,C){this._verify2(E,C);var w=E.isub(C);return w.cmpn(0)<0&&w.iadd(this.m),w},A.prototype.shl=function(E,C){return this._verify1(E),this.imod(E.ushln(C))},A.prototype.imul=function(E,C){return this._verify2(E,C),this.imod(E.imul(C))},A.prototype.mul=function(E,C){return this._verify2(E,C),this.imod(E.mul(C))},A.prototype.isqr=function(E){return this.imul(E,E.clone())},A.prototype.sqr=function(E){return this.mul(E,E)},A.prototype.sqrt=function(E){if(E.isZero())return E.clone();var C=this.m.andln(3);if(o(C%2==1),C===3){var w=this.m.add(new u(1)).iushrn(2);return this.pow(E,w)}for(var S=this.m.subn(1),x=0;!S.isZero()&&S.andln(1)===0;)x++,S.iushrn(1);o(!S.isZero());var k=new u(1).toRed(this),P=k.redNeg(),O=this.m.subn(1).iushrn(1),L=this.m.bitLength();for(L=new u(2*L*L).toRed(this);this.pow(L,O).cmp(P)!==0;)L.redIAdd(P);for(var V=this.pow(L,S),X=this.pow(E,S.addn(1).iushrn(1)),B=this.pow(E,S),K=x;B.cmp(k)!==0;){for(var R=B,M=0;R.cmp(k)!==0;M++)R=R.redSqr();o(M<K);var G=this.pow(V,new u(1).iushln(K-M-1));X=X.redMul(G),V=G.redSqr(),B=B.redMul(V),K=M}return X},A.prototype.invm=function(E){var C=E._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},A.prototype.pow=function(E,C){if(C.isZero())return new u(1).toRed(this);if(C.cmpn(1)===0)return E.clone();var w=new Array(16);w[0]=new u(1).toRed(this),w[1]=E;for(var S=2;S<w.length;S++)w[S]=this.mul(w[S-1],E);var x=w[0],k=0,P=0,O=C.bitLength()%26;for(O===0&&(O=26),S=C.length-1;S>=0;S--){for(var L=C.words[S],V=O-1;V>=0;V--){var X=L>>V&1;x!==w[0]&&(x=this.sqr(x)),X!==0||k!==0?(k<<=1,k|=X,(++P===4||S===0&&V===0)&&(x=this.mul(x,w[k]),P=0,k=0)):P=0}O=26}return x},A.prototype.convertTo=function(E){var C=E.umod(this.m);return C===E?C.clone():C},A.prototype.convertFrom=function(E){var C=E.clone();return C.red=null,C},u.mont=function(E){return new T(E)},l(T,A),T.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},T.prototype.convertFrom=function(E){var C=this.imod(E.mul(this.rinv));return C.red=null,C},T.prototype.imul=function(E,C){if(E.isZero()||C.isZero())return E.words[0]=0,E.length=1,E;var w=E.imul(C),S=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=w.isub(S).iushrn(this.shift),k=x;return x.cmp(this.m)>=0?k=x.isub(this.m):x.cmpn(0)<0&&(k=x.iadd(this.m)),k._forceRed(this)},T.prototype.mul=function(E,C){if(E.isZero()||C.isZero())return new u(0)._forceRed(this);var w=E.mul(C),S=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=w.isub(S).iushrn(this.shift),k=x;return x.cmp(this.m)>=0?k=x.isub(this.m):x.cmpn(0)<0&&(k=x.iadd(this.m)),k._forceRed(this)},T.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(r===void 0||r)},{buffer:188}],187:[function(i,r,n){var a;function s(l){this.rand=l}if(r.exports=function(l){return a||(a=new s(null)),a.generate(l)},r.exports.Rand=s,s.prototype.generate=function(l){return this._rand(l)},s.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var u=new Uint8Array(l),d=0;d<u.length;d++)u[d]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(l){var u=new Uint8Array(l);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(l){var u=new Uint8Array(l);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=i("crypto");if(typeof o.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(l){return o.randomBytes(l)}}catch{}},{crypto:188}],188:[function(i,r,n){},{}],189:[function(i,r,n){var a=i("safe-buffer").Buffer;function s(h){a.isBuffer(h)||(h=a.from(h));for(var f=h.length/4|0,p=new Array(f),g=0;g<f;g++)p[g]=h.readUInt32BE(4*g);return p}function o(h){for(;0<h.length;h++)h[0]=0}function l(h,f,p,g,m){for(var v,b,y,I,D=p[0],N=p[1],z=p[2],F=p[3],$=h[0]^f[0],j=h[1]^f[1],q=h[2]^f[2],H=h[3]^f[3],A=4,T=1;T<m;T++)v=D[$>>>24]^N[j>>>16&255]^z[q>>>8&255]^F[255&H]^f[A++],b=D[j>>>24]^N[q>>>16&255]^z[H>>>8&255]^F[255&$]^f[A++],y=D[q>>>24]^N[H>>>16&255]^z[$>>>8&255]^F[255&j]^f[A++],I=D[H>>>24]^N[$>>>16&255]^z[j>>>8&255]^F[255&q]^f[A++],$=v,j=b,q=y,H=I;return v=(g[$>>>24]<<24|g[j>>>16&255]<<16|g[q>>>8&255]<<8|g[255&H])^f[A++],b=(g[j>>>24]<<24|g[q>>>16&255]<<16|g[H>>>8&255]<<8|g[255&$])^f[A++],y=(g[q>>>24]<<24|g[H>>>16&255]<<16|g[$>>>8&255]<<8|g[255&j])^f[A++],I=(g[H>>>24]<<24|g[$>>>16&255]<<16|g[j>>>8&255]<<8|g[255&q])^f[A++],[v>>>=0,b>>>=0,y>>>=0,I>>>=0]}var u=[0,1,2,4,8,16,32,64,128,27,54],d=function(){for(var h=new Array(256),f=0;f<256;f++)h[f]=f<128?f<<1:f<<1^283;for(var p=[],g=[],m=[[],[],[],[]],v=[[],[],[],[]],b=0,y=0,I=0;I<256;++I){var D=y^y<<1^y<<2^y<<3^y<<4;D=D>>>8^255&D^99,p[b]=D,g[D]=b;var N=h[b],z=h[N],F=h[z],$=257*h[D]^16843008*D;m[0][b]=$<<24|$>>>8,m[1][b]=$<<16|$>>>16,m[2][b]=$<<8|$>>>24,m[3][b]=$,$=16843009*F^65537*z^257*N^16843008*b,v[0][D]=$<<24|$>>>8,v[1][D]=$<<16|$>>>16,v[2][D]=$<<8|$>>>24,v[3][D]=$,b===0?b=y=1:(b=N^h[h[h[F^N]]],y^=h[h[y]])}return{SBOX:p,INV_SBOX:g,SUB_MIX:m,INV_SUB_MIX:v}}();function c(h){this._key=s(h),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var h=this._key,f=h.length,p=f+6,g=4*(p+1),m=[],v=0;v<f;v++)m[v]=h[v];for(v=f;v<g;v++){var b=m[v-1];v%f==0?(b=b<<8|b>>>24,b=d.SBOX[b>>>24]<<24|d.SBOX[b>>>16&255]<<16|d.SBOX[b>>>8&255]<<8|d.SBOX[255&b],b^=u[v/f|0]<<24):f>6&&v%f==4&&(b=d.SBOX[b>>>24]<<24|d.SBOX[b>>>16&255]<<16|d.SBOX[b>>>8&255]<<8|d.SBOX[255&b]),m[v]=m[v-f]^b}for(var y=[],I=0;I<g;I++){var D=g-I,N=m[D-(I%4?0:4)];y[I]=I<4||D<=4?N:d.INV_SUB_MIX[0][d.SBOX[N>>>24]]^d.INV_SUB_MIX[1][d.SBOX[N>>>16&255]]^d.INV_SUB_MIX[2][d.SBOX[N>>>8&255]]^d.INV_SUB_MIX[3][d.SBOX[255&N]]}this._nRounds=p,this._keySchedule=m,this._invKeySchedule=y},c.prototype.encryptBlockRaw=function(h){return l(h=s(h),this._keySchedule,d.SUB_MIX,d.SBOX,this._nRounds)},c.prototype.encryptBlock=function(h){var f=this.encryptBlockRaw(h),p=a.allocUnsafe(16);return p.writeUInt32BE(f[0],0),p.writeUInt32BE(f[1],4),p.writeUInt32BE(f[2],8),p.writeUInt32BE(f[3],12),p},c.prototype.decryptBlock=function(h){var f=(h=s(h))[1];h[1]=h[3],h[3]=f;var p=l(h,this._invKeySchedule,d.INV_SUB_MIX,d.INV_SBOX,this._nRounds),g=a.allocUnsafe(16);return g.writeUInt32BE(p[0],0),g.writeUInt32BE(p[3],4),g.writeUInt32BE(p[2],8),g.writeUInt32BE(p[1],12),g},c.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},r.exports.AES=c},{"safe-buffer":494}],190:[function(i,r,n){var a=i("./aes"),s=i("safe-buffer").Buffer,o=i("cipher-base"),l=i("inherits"),u=i("./ghash"),d=i("buffer-xor"),c=i("./incr32");function h(f,p,g,m){o.call(this);var v=s.alloc(4,0);this._cipher=new a.AES(p);var b=this._cipher.encryptBlock(v);this._ghash=new u(b),g=function(y,I,D){if(I.length===12)return y._finID=s.concat([I,s.from([0,0,0,1])]),s.concat([I,s.from([0,0,0,2])]);var N=new u(D),z=I.length,F=z%16;N.update(I),F&&(F=16-F,N.update(s.alloc(F,0))),N.update(s.alloc(8,0));var $=8*z,j=s.alloc(8);j.writeUIntBE($,0,8),N.update(j),y._finID=N.state;var q=s.from(y._finID);return c(q),q}(this,g,b),this._prev=s.from(g),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=f,this._authTag=null,this._called=!1}l(h,o),h.prototype._update=function(f){if(!this._called&&this._alen){var p=16-this._alen%16;p<16&&(p=s.alloc(p,0),this._ghash.update(p))}this._called=!0;var g=this._mode.encrypt(this,f);return this._decrypt?this._ghash.update(f):this._ghash.update(g),this._len+=f.length,g},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var f=d(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(p,g){var m=0;p.length!==g.length&&m++;for(var v=Math.min(p.length,g.length),b=0;b<v;++b)m+=p[b]^g[b];return m}(f,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=f,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(f){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=f},h.prototype.setAAD=function(f){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(f),this._alen+=f.length},r.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(i,r,n){var a=i("./encrypter"),s=i("./decrypter"),o=i("./modes/list.json");n.createCipher=n.Cipher=a.createCipher,n.createCipheriv=n.Cipheriv=a.createCipheriv,n.createDecipher=n.Decipher=s.createDecipher,n.createDecipheriv=n.Decipheriv=s.createDecipheriv,n.listCiphers=n.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(i,r,n){var a=i("./authCipher"),s=i("safe-buffer").Buffer,o=i("./modes"),l=i("./streamCipher"),u=i("cipher-base"),d=i("./aes"),c=i("evp_bytestokey");function h(g,m,v){u.call(this),this._cache=new f,this._last=void 0,this._cipher=new d.AES(m),this._prev=s.from(v),this._mode=g,this._autopadding=!0}function f(){this.cache=s.allocUnsafe(0)}function p(g,m,v){var b=o[g.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=s.from(v)),b.mode!=="GCM"&&v.length!==b.iv)throw new TypeError("invalid iv length "+v.length);if(typeof m=="string"&&(m=s.from(m)),m.length!==b.key/8)throw new TypeError("invalid key length "+m.length);return b.type==="stream"?new l(b.module,m,v,!0):b.type==="auth"?new a(b.module,m,v,!0):new h(b.module,m,v)}i("inherits")(h,u),h.prototype._update=function(g){var m,v;this._cache.add(g);for(var b=[];m=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,m),b.push(v);return s.concat(b)},h.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return function(m){var v=m[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var b=-1;++b<v;)if(m[b+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return m.slice(0,16-v)}(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},f.prototype.add=function(g){this.cache=s.concat([this.cache,g])},f.prototype.get=function(g){var m;if(g){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},n.createDecipher=function(g,m){var v=o[g.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var b=c(m,!1,v.key,v.iv);return p(g,b.key,b.iv)},n.createDecipheriv=p},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(i,r,n){var a=i("./modes"),s=i("./authCipher"),o=i("safe-buffer").Buffer,l=i("./streamCipher"),u=i("cipher-base"),d=i("./aes"),c=i("evp_bytestokey");function h(m,v,b){u.call(this),this._cache=new p,this._cipher=new d.AES(v),this._prev=o.from(b),this._mode=m,this._autopadding=!0}i("inherits")(h,u),h.prototype._update=function(m){var v,b;this._cache.add(m);for(var y=[];v=this._cache.get();)b=this._mode.encrypt(this,v),y.push(b);return o.concat(y)};var f=o.alloc(16,16);function p(){this.cache=o.allocUnsafe(0)}function g(m,v,b){var y=a[m.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=o.from(v)),v.length!==y.key/8)throw new TypeError("invalid key length "+v.length);if(typeof b=="string"&&(b=o.from(b)),y.mode!=="GCM"&&b.length!==y.iv)throw new TypeError("invalid iv length "+b.length);return y.type==="stream"?new l(y.module,v,b):y.type==="auth"?new s(y.module,v,b):new h(y.module,v,b)}h.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},p.prototype.add=function(m){this.cache=o.concat([this.cache,m])},p.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},p.prototype.flush=function(){for(var m=16-this.cache.length,v=o.allocUnsafe(m),b=-1;++b<m;)v.writeUInt8(m,b);return o.concat([this.cache,v])},n.createCipheriv=g,n.createCipher=function(m,v){var b=a[m.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var y=c(v,!1,b.key,b.iv);return g(m,y.key,y.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(i,r,n){var a=i("safe-buffer").Buffer,s=a.alloc(16,0);function o(u){var d=a.allocUnsafe(16);return d.writeUInt32BE(u[0]>>>0,0),d.writeUInt32BE(u[1]>>>0,4),d.writeUInt32BE(u[2]>>>0,8),d.writeUInt32BE(u[3]>>>0,12),d}function l(u){this.h=u,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}l.prototype.ghash=function(u){for(var d=-1;++d<u.length;)this.state[d]^=u[d];this._multiply()},l.prototype._multiply=function(){for(var u,d,c,h=[(u=this.h).readUInt32BE(0),u.readUInt32BE(4),u.readUInt32BE(8),u.readUInt32BE(12)],f=[0,0,0,0],p=-1;++p<128;){for(this.state[~~(p/8)]&1<<7-p%8&&(f[0]^=h[0],f[1]^=h[1],f[2]^=h[2],f[3]^=h[3]),c=(1&h[3])!=0,d=3;d>0;d--)h[d]=h[d]>>>1|(1&h[d-1])<<31;h[0]=h[0]>>>1,c&&(h[0]=h[0]^225<<24)}this.state=o(f)},l.prototype.update=function(u){var d;for(this.cache=a.concat([this.cache,u]);this.cache.length>=16;)d=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(d)},l.prototype.final=function(u,d){return this.cache.length&&this.ghash(a.concat([this.cache,s],16)),this.ghash(o([0,u,0,d])),this.state},r.exports=l},{"safe-buffer":494}],195:[function(i,r,n){r.exports=function(a){for(var s,o=a.length;o--;){if((s=a.readUInt8(o))!==255){s++,a.writeUInt8(s,o);break}a.writeUInt8(0,o)}}},{}],196:[function(i,r,n){var a=i("buffer-xor");n.encrypt=function(s,o){var l=a(o,s._prev);return s._prev=s._cipher.encryptBlock(l),s._prev},n.decrypt=function(s,o){var l=s._prev;s._prev=o;var u=s._cipher.decryptBlock(o);return a(u,l)}},{"buffer-xor":219}],197:[function(i,r,n){var a=i("safe-buffer").Buffer,s=i("buffer-xor");function o(l,u,d){var c=u.length,h=s(u,l._cache);return l._cache=l._cache.slice(c),l._prev=a.concat([l._prev,d?u:h]),h}n.encrypt=function(l,u,d){for(var c,h=a.allocUnsafe(0);u.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=a.allocUnsafe(0)),!(l._cache.length<=u.length)){h=a.concat([h,o(l,u,d)]);break}c=l._cache.length,h=a.concat([h,o(l,u.slice(0,c),d)]),u=u.slice(c)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(i,r,n){var a=i("safe-buffer").Buffer;function s(l,u,d){for(var c,h,f=-1,p=0;++f<8;)c=u&1<<7-f?128:0,p+=(128&(h=l._cipher.encryptBlock(l._prev)[0]^c))>>f%8,l._prev=o(l._prev,d?c:h);return p}function o(l,u){var d=l.length,c=-1,h=a.allocUnsafe(l.length);for(l=a.concat([l,a.from([u])]);++c<d;)h[c]=l[c]<<1|l[c+1]>>7;return h}n.encrypt=function(l,u,d){for(var c=u.length,h=a.allocUnsafe(c),f=-1;++f<c;)h[f]=s(l,u[f],d);return h}},{"safe-buffer":494}],199:[function(i,r,n){var a=i("safe-buffer").Buffer;function s(o,l,u){var d=o._cipher.encryptBlock(o._prev)[0]^l;return o._prev=a.concat([o._prev.slice(1),a.from([u?l:d])]),d}n.encrypt=function(o,l,u){for(var d=l.length,c=a.allocUnsafe(d),h=-1;++h<d;)c[h]=s(o,l[h],u);return c}},{"safe-buffer":494}],200:[function(i,r,n){var a=i("buffer-xor"),s=i("safe-buffer").Buffer,o=i("../incr32");function l(u){var d=u._cipher.encryptBlockRaw(u._prev);return o(u._prev),d}n.encrypt=function(u,d){var c=Math.ceil(d.length/16),h=u._cache.length;u._cache=s.concat([u._cache,s.allocUnsafe(16*c)]);for(var f=0;f<c;f++){var p=l(u),g=h+16*f;u._cache.writeUInt32BE(p[0],g+0),u._cache.writeUInt32BE(p[1],g+4),u._cache.writeUInt32BE(p[2],g+8),u._cache.writeUInt32BE(p[3],g+12)}var m=u._cache.slice(0,d.length);return u._cache=u._cache.slice(d.length),a(d,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(i,r,n){n.encrypt=function(a,s){return a._cipher.encryptBlock(s)},n.decrypt=function(a,s){return a._cipher.decryptBlock(s)}},{}],202:[function(i,r,n){var a={ECB:i("./ecb"),CBC:i("./cbc"),CFB:i("./cfb"),CFB8:i("./cfb8"),CFB1:i("./cfb1"),OFB:i("./ofb"),CTR:i("./ctr"),GCM:i("./ctr")},s=i("./list.json");for(var o in s)s[o].module=a[s[o].mode];r.exports=s},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(i,r,n){r.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(i,r,n){(function(a){(function(){var s=i("buffer-xor");function o(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}n.encrypt=function(l,u){for(;l._cache.length<u.length;)l._cache=a.concat([l._cache,o(l)]);var d=l._cache.slice(0,u.length);return l._cache=l._cache.slice(u.length),s(u,d)}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(i,r,n){var a=i("./aes"),s=i("safe-buffer").Buffer,o=i("cipher-base");function l(u,d,c,h){o.call(this),this._cipher=new a.AES(d),this._prev=s.from(c),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=h,this._mode=u}i("inherits")(l,o),l.prototype._update=function(u){return this._mode.encrypt(this,u,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},r.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(i,r,n){var a=i("browserify-des"),s=i("browserify-aes/browser"),o=i("browserify-aes/modes"),l=i("browserify-des/modes"),u=i("evp_bytestokey");function d(h,f,p){if(h=h.toLowerCase(),o[h])return s.createCipheriv(h,f,p);if(l[h])return new a({key:f,iv:p,mode:h});throw new TypeError("invalid suite type")}function c(h,f,p){if(h=h.toLowerCase(),o[h])return s.createDecipheriv(h,f,p);if(l[h])return new a({key:f,iv:p,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}n.createCipher=n.Cipher=function(h,f){var p,g;if(h=h.toLowerCase(),o[h])p=o[h].key,g=o[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");p=8*l[h].key,g=l[h].iv}var m=u(f,!1,p,g);return d(h,m.key,m.iv)},n.createCipheriv=n.Cipheriv=d,n.createDecipher=n.Decipher=function(h,f){var p,g;if(h=h.toLowerCase(),o[h])p=o[h].key,g=o[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");p=8*l[h].key,g=l[h].iv}var m=u(f,!1,p,g);return c(h,m.key,m.iv)},n.createDecipheriv=n.Decipheriv=c,n.listCiphers=n.getCiphers=function(){return Object.keys(l).concat(s.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(i,r,n){var a=i("cipher-base"),s=i("des.js"),o=i("inherits"),l=i("safe-buffer").Buffer,u={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function d(c){a.call(this);var h,f=c.mode.toLowerCase(),p=u[f];h=c.decrypt?"decrypt":"encrypt";var g=c.key;l.isBuffer(g)||(g=l.from(g)),f!=="des-ede"&&f!=="des-ede-cbc"||(g=l.concat([g,g.slice(0,8)]));var m=c.iv;l.isBuffer(m)||(m=l.from(m)),this._des=p.create({key:g,iv:m,type:h})}u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],r.exports=d,o(d,a),d.prototype._update=function(c){return l.from(this._des.update(c))},d.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(i,r,n){n["des-ecb"]={key:8,iv:0},n["des-cbc"]=n.des={key:8,iv:8},n["des-ede3-cbc"]=n.des3={key:24,iv:8},n["des-ede3"]={key:24,iv:0},n["des-ede-cbc"]={key:16,iv:8},n["des-ede"]={key:16,iv:0}},{}],209:[function(i,r,n){(function(a){(function(){var s=i("bn.js"),o=i("randombytes");function l(d){var c,h=d.modulus.byteLength();do c=new s(o(h));while(c.cmp(d.modulus)>=0||!c.umod(d.prime1)||!c.umod(d.prime2));return c}function u(d,c){var h=function(z){var F=l(z);return{blinder:F.toRed(s.mont(z.modulus)).redPow(new s(z.publicExponent)).fromRed(),unblinder:F.invm(z.modulus)}}(c),f=c.modulus.byteLength(),p=new s(d).mul(h.blinder).umod(c.modulus),g=p.toRed(s.mont(c.prime1)),m=p.toRed(s.mont(c.prime2)),v=c.coefficient,b=c.prime1,y=c.prime2,I=g.redPow(c.exponent1).fromRed(),D=m.redPow(c.exponent2).fromRed(),N=I.isub(D).imul(v).umod(b).imul(y);return D.iadd(N).imul(h.unblinder).umod(c.modulus).toArrayLike(a,"be",f)}u.getr=l,r.exports=u}).call(this)}).call(this,i("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(i,r,n){r.exports=i("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(i,r,n){r.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(i,r,n){r.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(i,r,n){var a=i("safe-buffer").Buffer,s=i("create-hash"),o=i("readable-stream"),l=i("inherits"),u=i("./sign"),d=i("./verify"),c=i("./algorithms.json");function h(m){o.Writable.call(this);var v=c[m];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=s(v.hash),this._tag=v.id,this._signType=v.sign}function f(m){o.Writable.call(this);var v=c[m];if(!v)throw new Error("Unknown message digest");this._hash=s(v.hash),this._tag=v.id,this._signType=v.sign}function p(m){return new h(m)}function g(m){return new f(m)}Object.keys(c).forEach(function(m){c[m].id=a.from(c[m].id,"hex"),c[m.toLowerCase()]=c[m]}),l(h,o.Writable),h.prototype._write=function(m,v,b){this._hash.update(m),b()},h.prototype.update=function(m,v){return typeof m=="string"&&(m=a.from(m,v)),this._hash.update(m),this},h.prototype.sign=function(m,v){this.end();var b=this._hash.digest(),y=u(b,m,this._hashType,this._signType,this._tag);return v?y.toString(v):y},l(f,o.Writable),f.prototype._write=function(m,v,b){this._hash.update(m),b()},f.prototype.update=function(m,v){return typeof m=="string"&&(m=a.from(m,v)),this._hash.update(m),this},f.prototype.verify=function(m,v,b){typeof v=="string"&&(v=a.from(v,b)),this.end();var y=this._hash.digest();return d(v,y,m,this._signType,this._tag)},r.exports={Sign:p,Verify:g,createSign:p,createVerify:g}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(i,r,n){var a=i("safe-buffer").Buffer,s=i("create-hmac"),o=i("browserify-rsa"),l=i("elliptic").ec,u=i("bn.js"),d=i("parse-asn1"),c=i("./curves.json");function h(m,v,b,y){if((m=a.from(m.toArray())).length<v.byteLength()){var I=a.alloc(v.byteLength()-m.length);m=a.concat([I,m])}var D=b.length,N=function($,j){$=($=f($,j)).mod(j);var q=a.from($.toArray());if(q.length<j.byteLength()){var H=a.alloc(j.byteLength()-q.length);q=a.concat([H,q])}return q}(b,v),z=a.alloc(D);z.fill(1);var F=a.alloc(D);return F=s(y,F).update(z).update(a.from([0])).update(m).update(N).digest(),z=s(y,F).update(z).digest(),{k:F=s(y,F).update(z).update(a.from([1])).update(m).update(N).digest(),v:z=s(y,F).update(z).digest()}}function f(m,v){var b=new u(m),y=(m.length<<3)-v.bitLength();return y>0&&b.ishrn(y),b}function p(m,v,b){var y,I;do{for(y=a.alloc(0);8*y.length<m.bitLength();)v.v=s(b,v.k).update(v.v).digest(),y=a.concat([y,v.v]);I=f(y,m),v.k=s(b,v.k).update(v.v).update(a.from([0])).digest(),v.v=s(b,v.k).update(v.v).digest()}while(I.cmp(m)!==-1);return I}function g(m,v,b,y){return m.toRed(u.mont(b)).redPow(v).fromRed().mod(y)}r.exports=function(m,v,b,y,I){var D=d(v);if(D.curve){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong private key type");return function($,j){var q=c[j.curve.join(".")];if(!q)throw new Error("unknown curve "+j.curve.join("."));var H=new l(q).keyFromPrivate(j.privateKey).sign($);return a.from(H.toDER())}(m,D)}if(D.type==="dsa"){if(y!=="dsa")throw new Error("wrong private key type");return function($,j,q){for(var H,A=j.params.priv_key,T=j.params.p,E=j.params.q,C=j.params.g,w=new u(0),S=f($,E).mod(E),x=!1,k=h(A,E,$,q);x===!1;)H=p(E,k,q),w=g(C,H,T,E),(x=H.invm(E).imul(S.add(A.mul(w))).mod(E)).cmpn(0)===0&&(x=!1,w=new u(0));return function(P,O){P=P.toArray(),O=O.toArray(),128&P[0]&&(P=[0].concat(P)),128&O[0]&&(O=[0].concat(O));var L=[48,P.length+O.length+4,2,P.length];return L=L.concat(P,[2,O.length],O),a.from(L)}(w,x)}(m,D,b)}if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong private key type");m=a.concat([I,m]);for(var N=D.modulus.byteLength(),z=[0,1];m.length+z.length+1<N;)z.push(255);z.push(0);for(var F=-1;++F<m.length;)z.push(m[F]);return o(z,D)},r.exports.getKey=h,r.exports.makeKey=p},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(i,r,n){var a=i("safe-buffer").Buffer,s=i("bn.js"),o=i("elliptic").ec,l=i("parse-asn1"),u=i("./curves.json");function d(c,h){if(c.cmpn(0)<=0)throw new Error("invalid sig");if(c.cmp(h)>=h)throw new Error("invalid sig")}r.exports=function(c,h,f,p,g){var m=l(f);if(m.type==="ec"){if(p!=="ecdsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");return function(z,F,$){var j=u[$.data.algorithm.curve.join(".")];if(!j)throw new Error("unknown curve "+$.data.algorithm.curve.join("."));var q=new o(j),H=$.data.subjectPrivateKey.data;return q.verify(F,z,H)}(c,h,m)}if(m.type==="dsa"){if(p!=="dsa")throw new Error("wrong public key type");return function(z,F,$){var j=$.data.p,q=$.data.q,H=$.data.g,A=$.data.pub_key,T=l.signature.decode(z,"der"),E=T.s,C=T.r;d(E,q),d(C,q);var w=s.mont(j),S=E.invm(q);return H.toRed(w).redPow(new s(F).mul(S).mod(q)).fromRed().mul(A.toRed(w).redPow(C.mul(S).mod(q)).fromRed()).mod(j).mod(q).cmp(C)===0}(c,h,m)}if(p!=="rsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");h=a.concat([g,h]);for(var v=m.modulus.byteLength(),b=[1],y=0;h.length+b.length+2<v;)b.push(255),y++;b.push(0);for(var I=-1;++I<h.length;)b.push(h[I]);b=a.from(b);var D=s.mont(m.modulus);c=(c=new s(c).toRed(D)).redPow(new s(m.publicExponent)),c=a.from(c.fromRed().toArray());var N=y<8?1:0;for(v=Math.min(c.length,b.length),c.length!==b.length&&(N=1),I=-1;++I<v;)N|=c[I]^b[I];return N===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(i,r,n){},{}],217:[function(i,r,n){var a=i("buffer"),s=a.Buffer;function o(u,d){for(var c in u)d[c]=u[c]}function l(u,d,c){return s(u,d,c)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?r.exports=a:(o(a,n),n.Buffer=l),o(s,l),l.from=function(u,d,c){if(typeof u=="number")throw new TypeError("Argument must not be a number");return s(u,d,c)},l.alloc=function(u,d,c){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=s(u);return d!==void 0?typeof c=="string"?h.fill(d,c):h.fill(d):h.fill(0),h},l.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return s(u)},l.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(u)}},{buffer:220}],218:[function(i,r,n){var a=i("safe-buffer").Buffer,s=a.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(m){var v;switch(this.encoding=function(b){var y=function(I){if(!I)return"utf8";for(var D;;)switch(I){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return I;default:if(D)return;I=(""+I).toLowerCase(),D=!0}}(b);if(typeof y!="string"&&(a.isEncoding===s||!s(b)))throw new Error("Unknown encoding: "+b);return y||b}(m),this.encoding){case"utf16le":this.text=d,this.end=c,v=4;break;case"utf8":this.fillLast=u,v=4;break;case"base64":this.text=h,this.end=f,v=3;break;default:return this.write=p,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(v)}function l(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function u(m){var v=this.lastTotal-this.lastNeed,b=function(y,I,D){if((192&I[0])!=128)return y.lastNeed=0,"�";if(y.lastNeed>1&&I.length>1){if((192&I[1])!=128)return y.lastNeed=1,"�";if(y.lastNeed>2&&I.length>2&&(192&I[2])!=128)return y.lastNeed=2,"�"}}(this,m);return b!==void 0?b:this.lastNeed<=m.length?(m.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,v,0,m.length),void(this.lastNeed-=m.length))}function d(m,v){if((m.length-v)%2==0){var b=m.toString("utf16le",v);if(b){var y=b.charCodeAt(b.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",v,m.length-1)}function c(m){var v=m&&m.length?this.write(m):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,b)}return v}function h(m,v){var b=(m.length-v)%3;return b===0?m.toString("base64",v):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",v,m.length-b))}function f(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function p(m){return m.toString(this.encoding)}function g(m){return m&&m.length?this.write(m):""}n.StringDecoder=o,o.prototype.write=function(m){if(m.length===0)return"";var v,b;if(this.lastNeed){if((v=this.fillLast(m))===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<m.length?v?v+this.text(m,b):this.text(m,b):v||""},o.prototype.end=function(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+"�":v},o.prototype.text=function(m,v){var b=function(I,D,N){var z=D.length-1;if(z<N)return 0;var F=l(D[z]);return F>=0?(F>0&&(I.lastNeed=F-1),F):--z<N||F===-2?0:(F=l(D[z]))>=0?(F>0&&(I.lastNeed=F-2),F):--z<N||F===-2?0:(F=l(D[z]))>=0?(F>0&&(F===2?F=0:I.lastNeed=F-3),F):0}(this,m,v);if(!this.lastNeed)return m.toString("utf8",v);this.lastTotal=b;var y=m.length-(b-this.lastNeed);return m.copy(this.lastChar,0,y),m.toString("utf8",v,y)},o.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(i,r,n){(function(a){(function(){r.exports=function(s,o){for(var l=Math.min(s.length,o.length),u=new a(l),d=0;d<l;++d)u[d]=s[d]^o[d];return u}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:220}],220:[function(i,r,n){(function(a){(function(){var s=i("base64-js"),o=i("ieee754");n.Buffer=u,n.SlowBuffer=function(R){return+R!=R&&(R=0),u.alloc(+R)},n.INSPECT_MAX_BYTES=50;function l(R){if(R>2147483647)throw new RangeError('The value "'+R+'" is invalid for option "size"');var M=new Uint8Array(R);return M.__proto__=u.prototype,M}function u(R,M,G){if(typeof R=="number"){if(typeof M=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(R)}return d(R,M,G)}function d(R,M,G){if(typeof R=="string")return function(ie,U){if(typeof U=="string"&&U!==""||(U="utf8"),!u.isEncoding(U))throw new TypeError("Unknown encoding: "+U);var se=0|g(ie,U),ae=l(se),Y=ae.write(ie,U);return Y!==se&&(ae=ae.slice(0,Y)),ae}(R,M);if(ArrayBuffer.isView(R))return f(R);if(R==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R);if(B(R,ArrayBuffer)||R&&B(R.buffer,ArrayBuffer))return function(ie,U,se){if(U<0||ie.byteLength<U)throw new RangeError('"offset" is outside of buffer bounds');if(ie.byteLength<U+(se||0))throw new RangeError('"length" is outside of buffer bounds');var ae;return ae=U===void 0&&se===void 0?new Uint8Array(ie):se===void 0?new Uint8Array(ie,U):new Uint8Array(ie,U,se),ae.__proto__=u.prototype,ae}(R,M,G);if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Q=R.valueOf&&R.valueOf();if(Q!=null&&Q!==R)return u.from(Q,M,G);var ne=function(ie){if(u.isBuffer(ie)){var U=0|p(ie.length),se=l(U);return se.length===0||ie.copy(se,0,0,U),se}if(ie.length!==void 0)return typeof ie.length!="number"||K(ie.length)?l(0):f(ie);if(ie.type==="Buffer"&&Array.isArray(ie.data))return f(ie.data)}(R);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return u.from(R[Symbol.toPrimitive]("string"),M,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R)}function c(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function h(R){return c(R),l(R<0?0:0|p(R))}function f(R){for(var M=R.length<0?0:0|p(R.length),G=l(M),Q=0;Q<M;Q+=1)G[Q]=255&R[Q];return G}function p(R){if(R>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|R}function g(R,M){if(u.isBuffer(R))return R.length;if(ArrayBuffer.isView(R)||B(R,ArrayBuffer))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof R);var G=R.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&G===0)return 0;for(var ne=!1;;)switch(M){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return L(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*G;case"hex":return G>>>1;case"base64":return V(R).length;default:if(ne)return Q?-1:L(R).length;M=(""+M).toLowerCase(),ne=!0}}function m(R,M,G){var Q=!1;if((M===void 0||M<0)&&(M=0),M>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0)<=(M>>>=0))return"";for(R||(R="utf8");;)switch(R){case"hex":return T(this,M,G);case"utf8":case"utf-8":return q(this,M,G);case"ascii":return H(this,M,G);case"latin1":case"binary":return A(this,M,G);case"base64":return j(this,M,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,M,G);default:if(Q)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),Q=!0}}function v(R,M,G){var Q=R[M];R[M]=R[G],R[G]=Q}function b(R,M,G,Q,ne){if(R.length===0)return-1;if(typeof G=="string"?(Q=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),K(G=+G)&&(G=ne?0:R.length-1),G<0&&(G=R.length+G),G>=R.length){if(ne)return-1;G=R.length-1}else if(G<0){if(!ne)return-1;G=0}if(typeof M=="string"&&(M=u.from(M,Q)),u.isBuffer(M))return M.length===0?-1:y(R,M,G,Q,ne);if(typeof M=="number")return M&=255,typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(R,M,G):Uint8Array.prototype.lastIndexOf.call(R,M,G):y(R,[M],G,Q,ne);throw new TypeError("val must be string, number or Buffer")}function y(R,M,G,Q,ne){var ie,U=1,se=R.length,ae=M.length;if(Q!==void 0&&((Q=String(Q).toLowerCase())==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(R.length<2||M.length<2)return-1;U=2,se/=2,ae/=2,G/=2}function Y(de,oe){return U===1?de[oe]:de.readUInt16BE(oe*U)}if(ne){var J=-1;for(ie=G;ie<se;ie++)if(Y(R,ie)===Y(M,J===-1?0:ie-J)){if(J===-1&&(J=ie),ie-J+1===ae)return J*U}else J!==-1&&(ie-=ie-J),J=-1}else for(G+ae>se&&(G=se-ae),ie=G;ie>=0;ie--){for(var ee=!0,ue=0;ue<ae;ue++)if(Y(R,ie+ue)!==Y(M,ue)){ee=!1;break}if(ee)return ie}return-1}function I(R,M,G,Q){G=Number(G)||0;var ne=R.length-G;Q?(Q=Number(Q))>ne&&(Q=ne):Q=ne;var ie=M.length;Q>ie/2&&(Q=ie/2);for(var U=0;U<Q;++U){var se=parseInt(M.substr(2*U,2),16);if(K(se))return U;R[G+U]=se}return U}function D(R,M,G,Q){return X(L(M,R.length-G),R,G,Q)}function N(R,M,G,Q){return X(function(ne){for(var ie=[],U=0;U<ne.length;++U)ie.push(255&ne.charCodeAt(U));return ie}(M),R,G,Q)}function z(R,M,G,Q){return N(R,M,G,Q)}function F(R,M,G,Q){return X(V(M),R,G,Q)}function $(R,M,G,Q){return X(function(ne,ie){for(var U,se,ae,Y=[],J=0;J<ne.length&&!((ie-=2)<0);++J)U=ne.charCodeAt(J),se=U>>8,ae=U%256,Y.push(ae),Y.push(se);return Y}(M,R.length-G),R,G,Q)}function j(R,M,G){return M===0&&G===R.length?s.fromByteArray(R):s.fromByteArray(R.slice(M,G))}function q(R,M,G){G=Math.min(R.length,G);for(var Q=[],ne=M;ne<G;){var ie,U,se,ae,Y=R[ne],J=null,ee=Y>239?4:Y>223?3:Y>191?2:1;if(ne+ee<=G)switch(ee){case 1:Y<128&&(J=Y);break;case 2:(192&(ie=R[ne+1]))==128&&(ae=(31&Y)<<6|63&ie)>127&&(J=ae);break;case 3:ie=R[ne+1],U=R[ne+2],(192&ie)==128&&(192&U)==128&&(ae=(15&Y)<<12|(63&ie)<<6|63&U)>2047&&(ae<55296||ae>57343)&&(J=ae);break;case 4:ie=R[ne+1],U=R[ne+2],se=R[ne+3],(192&ie)==128&&(192&U)==128&&(192&se)==128&&(ae=(15&Y)<<18|(63&ie)<<12|(63&U)<<6|63&se)>65535&&ae<1114112&&(J=ae)}J===null?(J=65533,ee=1):J>65535&&(J-=65536,Q.push(J>>>10&1023|55296),J=56320|1023&J),Q.push(J),ne+=ee}return function(ue){var de=ue.length;if(de<=4096)return String.fromCharCode.apply(String,ue);for(var oe="",ce=0;ce<de;)oe+=String.fromCharCode.apply(String,ue.slice(ce,ce+=4096));return oe}(Q)}n.kMaxLength=2147483647,u.TYPED_ARRAY_SUPPORT=function(){try{var R=new Uint8Array(1);return R.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},R.foo()===42}catch{return!1}}(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=function(R,M,G){return d(R,M,G)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(R,M,G){return function(Q,ne,ie){return c(Q),Q<=0?l(Q):ne!==void 0?typeof ie=="string"?l(Q).fill(ne,ie):l(Q).fill(ne):l(Q)}(R,M,G)},u.allocUnsafe=function(R){return h(R)},u.allocUnsafeSlow=function(R){return h(R)},u.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==u.prototype},u.compare=function(R,M){if(B(R,Uint8Array)&&(R=u.from(R,R.offset,R.byteLength)),B(M,Uint8Array)&&(M=u.from(M,M.offset,M.byteLength)),!u.isBuffer(R)||!u.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===M)return 0;for(var G=R.length,Q=M.length,ne=0,ie=Math.min(G,Q);ne<ie;++ne)if(R[ne]!==M[ne]){G=R[ne],Q=M[ne];break}return G<Q?-1:Q<G?1:0},u.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(R,M){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return u.alloc(0);var G;if(M===void 0)for(M=0,G=0;G<R.length;++G)M+=R[G].length;var Q=u.allocUnsafe(M),ne=0;for(G=0;G<R.length;++G){var ie=R[G];if(B(ie,Uint8Array)&&(ie=u.from(ie)),!u.isBuffer(ie))throw new TypeError('"list" argument must be an Array of Buffers');ie.copy(Q,ne),ne+=ie.length}return Q},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var R=this.length;if(R%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<R;M+=2)v(this,M,M+1);return this},u.prototype.swap32=function(){var R=this.length;if(R%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<R;M+=4)v(this,M,M+3),v(this,M+1,M+2);return this},u.prototype.swap64=function(){var R=this.length;if(R%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<R;M+=8)v(this,M,M+7),v(this,M+1,M+6),v(this,M+2,M+5),v(this,M+3,M+4);return this},u.prototype.toString=function(){var R=this.length;return R===0?"":arguments.length===0?q(this,0,R):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(R){if(!u.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R||u.compare(this,R)===0},u.prototype.inspect=function(){var R="",M=n.INSPECT_MAX_BYTES;return R=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(R+=" ... "),"<Buffer "+R+">"},u.prototype.compare=function(R,M,G,Q,ne){if(B(R,Uint8Array)&&(R=u.from(R,R.offset,R.byteLength)),!u.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(M===void 0&&(M=0),G===void 0&&(G=R?R.length:0),Q===void 0&&(Q=0),ne===void 0&&(ne=this.length),M<0||G>R.length||Q<0||ne>this.length)throw new RangeError("out of range index");if(Q>=ne&&M>=G)return 0;if(Q>=ne)return-1;if(M>=G)return 1;if(this===R)return 0;for(var ie=(ne>>>=0)-(Q>>>=0),U=(G>>>=0)-(M>>>=0),se=Math.min(ie,U),ae=this.slice(Q,ne),Y=R.slice(M,G),J=0;J<se;++J)if(ae[J]!==Y[J]){ie=ae[J],U=Y[J];break}return ie<U?-1:U<ie?1:0},u.prototype.includes=function(R,M,G){return this.indexOf(R,M,G)!==-1},u.prototype.indexOf=function(R,M,G){return b(this,R,M,G,!0)},u.prototype.lastIndexOf=function(R,M,G){return b(this,R,M,G,!1)},u.prototype.write=function(R,M,G,Q){if(M===void 0)Q="utf8",G=this.length,M=0;else if(G===void 0&&typeof M=="string")Q=M,G=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(G)?(G>>>=0,Q===void 0&&(Q="utf8")):(Q=G,G=void 0)}var ne=this.length-M;if((G===void 0||G>ne)&&(G=ne),R.length>0&&(G<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");Q||(Q="utf8");for(var ie=!1;;)switch(Q){case"hex":return I(this,R,M,G);case"utf8":case"utf-8":return D(this,R,M,G);case"ascii":return N(this,R,M,G);case"latin1":case"binary":return z(this,R,M,G);case"base64":return F(this,R,M,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,R,M,G);default:if(ie)throw new TypeError("Unknown encoding: "+Q);Q=(""+Q).toLowerCase(),ie=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(R,M,G){var Q="";G=Math.min(R.length,G);for(var ne=M;ne<G;++ne)Q+=String.fromCharCode(127&R[ne]);return Q}function A(R,M,G){var Q="";G=Math.min(R.length,G);for(var ne=M;ne<G;++ne)Q+=String.fromCharCode(R[ne]);return Q}function T(R,M,G){var Q=R.length;(!M||M<0)&&(M=0),(!G||G<0||G>Q)&&(G=Q);for(var ne="",ie=M;ie<G;++ie)ne+=O(R[ie]);return ne}function E(R,M,G){for(var Q=R.slice(M,G),ne="",ie=0;ie<Q.length;ie+=2)ne+=String.fromCharCode(Q[ie]+256*Q[ie+1]);return ne}function C(R,M,G){if(R%1!=0||R<0)throw new RangeError("offset is not uint");if(R+M>G)throw new RangeError("Trying to access beyond buffer length")}function w(R,M,G,Q,ne,ie){if(!u.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>ne||M<ie)throw new RangeError('"value" argument is out of bounds');if(G+Q>R.length)throw new RangeError("Index out of range")}function S(R,M,G,Q,ne,ie){if(G+Q>R.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function x(R,M,G,Q,ne){return M=+M,G>>>=0,ne||S(R,0,G,4),o.write(R,M,G,Q,23,4),G+4}function k(R,M,G,Q,ne){return M=+M,G>>>=0,ne||S(R,0,G,8),o.write(R,M,G,Q,52,8),G+8}u.prototype.slice=function(R,M){var G=this.length;(R=~~R)<0?(R+=G)<0&&(R=0):R>G&&(R=G),(M=M===void 0?G:~~M)<0?(M+=G)<0&&(M=0):M>G&&(M=G),M<R&&(M=R);var Q=this.subarray(R,M);return Q.__proto__=u.prototype,Q},u.prototype.readUIntLE=function(R,M,G){R>>>=0,M>>>=0,G||C(R,M,this.length);for(var Q=this[R],ne=1,ie=0;++ie<M&&(ne*=256);)Q+=this[R+ie]*ne;return Q},u.prototype.readUIntBE=function(R,M,G){R>>>=0,M>>>=0,G||C(R,M,this.length);for(var Q=this[R+--M],ne=1;M>0&&(ne*=256);)Q+=this[R+--M]*ne;return Q},u.prototype.readUInt8=function(R,M){return R>>>=0,M||C(R,1,this.length),this[R]},u.prototype.readUInt16LE=function(R,M){return R>>>=0,M||C(R,2,this.length),this[R]|this[R+1]<<8},u.prototype.readUInt16BE=function(R,M){return R>>>=0,M||C(R,2,this.length),this[R]<<8|this[R+1]},u.prototype.readUInt32LE=function(R,M){return R>>>=0,M||C(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+16777216*this[R+3]},u.prototype.readUInt32BE=function(R,M){return R>>>=0,M||C(R,4,this.length),16777216*this[R]+(this[R+1]<<16|this[R+2]<<8|this[R+3])},u.prototype.readIntLE=function(R,M,G){R>>>=0,M>>>=0,G||C(R,M,this.length);for(var Q=this[R],ne=1,ie=0;++ie<M&&(ne*=256);)Q+=this[R+ie]*ne;return Q>=(ne*=128)&&(Q-=Math.pow(2,8*M)),Q},u.prototype.readIntBE=function(R,M,G){R>>>=0,M>>>=0,G||C(R,M,this.length);for(var Q=M,ne=1,ie=this[R+--Q];Q>0&&(ne*=256);)ie+=this[R+--Q]*ne;return ie>=(ne*=128)&&(ie-=Math.pow(2,8*M)),ie},u.prototype.readInt8=function(R,M){return R>>>=0,M||C(R,1,this.length),128&this[R]?-1*(255-this[R]+1):this[R]},u.prototype.readInt16LE=function(R,M){R>>>=0,M||C(R,2,this.length);var G=this[R]|this[R+1]<<8;return 32768&G?4294901760|G:G},u.prototype.readInt16BE=function(R,M){R>>>=0,M||C(R,2,this.length);var G=this[R+1]|this[R]<<8;return 32768&G?4294901760|G:G},u.prototype.readInt32LE=function(R,M){return R>>>=0,M||C(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},u.prototype.readInt32BE=function(R,M){return R>>>=0,M||C(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},u.prototype.readFloatLE=function(R,M){return R>>>=0,M||C(R,4,this.length),o.read(this,R,!0,23,4)},u.prototype.readFloatBE=function(R,M){return R>>>=0,M||C(R,4,this.length),o.read(this,R,!1,23,4)},u.prototype.readDoubleLE=function(R,M){return R>>>=0,M||C(R,8,this.length),o.read(this,R,!0,52,8)},u.prototype.readDoubleBE=function(R,M){return R>>>=0,M||C(R,8,this.length),o.read(this,R,!1,52,8)},u.prototype.writeUIntLE=function(R,M,G,Q){R=+R,M>>>=0,G>>>=0,Q||w(this,R,M,G,Math.pow(2,8*G)-1,0);var ne=1,ie=0;for(this[M]=255&R;++ie<G&&(ne*=256);)this[M+ie]=R/ne&255;return M+G},u.prototype.writeUIntBE=function(R,M,G,Q){R=+R,M>>>=0,G>>>=0,Q||w(this,R,M,G,Math.pow(2,8*G)-1,0);var ne=G-1,ie=1;for(this[M+ne]=255&R;--ne>=0&&(ie*=256);)this[M+ne]=R/ie&255;return M+G},u.prototype.writeUInt8=function(R,M,G){return R=+R,M>>>=0,G||w(this,R,M,1,255,0),this[M]=255&R,M+1},u.prototype.writeUInt16LE=function(R,M,G){return R=+R,M>>>=0,G||w(this,R,M,2,65535,0),this[M]=255&R,this[M+1]=R>>>8,M+2},u.prototype.writeUInt16BE=function(R,M,G){return R=+R,M>>>=0,G||w(this,R,M,2,65535,0),this[M]=R>>>8,this[M+1]=255&R,M+2},u.prototype.writeUInt32LE=function(R,M,G){return R=+R,M>>>=0,G||w(this,R,M,4,4294967295,0),this[M+3]=R>>>24,this[M+2]=R>>>16,this[M+1]=R>>>8,this[M]=255&R,M+4},u.prototype.writeUInt32BE=function(R,M,G){return R=+R,M>>>=0,G||w(this,R,M,4,4294967295,0),this[M]=R>>>24,this[M+1]=R>>>16,this[M+2]=R>>>8,this[M+3]=255&R,M+4},u.prototype.writeIntLE=function(R,M,G,Q){if(R=+R,M>>>=0,!Q){var ne=Math.pow(2,8*G-1);w(this,R,M,G,ne-1,-ne)}var ie=0,U=1,se=0;for(this[M]=255&R;++ie<G&&(U*=256);)R<0&&se===0&&this[M+ie-1]!==0&&(se=1),this[M+ie]=(R/U>>0)-se&255;return M+G},u.prototype.writeIntBE=function(R,M,G,Q){if(R=+R,M>>>=0,!Q){var ne=Math.pow(2,8*G-1);w(this,R,M,G,ne-1,-ne)}var ie=G-1,U=1,se=0;for(this[M+ie]=255&R;--ie>=0&&(U*=256);)R<0&&se===0&&this[M+ie+1]!==0&&(se=1),this[M+ie]=(R/U>>0)-se&255;return M+G},u.prototype.writeInt8=function(R,M,G){return R=+R,M>>>=0,G||w(this,R,M,1,127,-128),R<0&&(R=255+R+1),this[M]=255&R,M+1},u.prototype.writeInt16LE=function(R,M,G){return R=+R,M>>>=0,G||w(this,R,M,2,32767,-32768),this[M]=255&R,this[M+1]=R>>>8,M+2},u.prototype.writeInt16BE=function(R,M,G){return R=+R,M>>>=0,G||w(this,R,M,2,32767,-32768),this[M]=R>>>8,this[M+1]=255&R,M+2},u.prototype.writeInt32LE=function(R,M,G){return R=+R,M>>>=0,G||w(this,R,M,4,2147483647,-2147483648),this[M]=255&R,this[M+1]=R>>>8,this[M+2]=R>>>16,this[M+3]=R>>>24,M+4},u.prototype.writeInt32BE=function(R,M,G){return R=+R,M>>>=0,G||w(this,R,M,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[M]=R>>>24,this[M+1]=R>>>16,this[M+2]=R>>>8,this[M+3]=255&R,M+4},u.prototype.writeFloatLE=function(R,M,G){return x(this,R,M,!0,G)},u.prototype.writeFloatBE=function(R,M,G){return x(this,R,M,!1,G)},u.prototype.writeDoubleLE=function(R,M,G){return k(this,R,M,!0,G)},u.prototype.writeDoubleBE=function(R,M,G){return k(this,R,M,!1,G)},u.prototype.copy=function(R,M,G,Q){if(!u.isBuffer(R))throw new TypeError("argument should be a Buffer");if(G||(G=0),Q||Q===0||(Q=this.length),M>=R.length&&(M=R.length),M||(M=0),Q>0&&Q<G&&(Q=G),Q===G||R.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("sourceEnd out of bounds");Q>this.length&&(Q=this.length),R.length-M<Q-G&&(Q=R.length-M+G);var ne=Q-G;if(this===R&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(M,G,Q);else if(this===R&&G<M&&M<Q)for(var ie=ne-1;ie>=0;--ie)R[ie+M]=this[ie+G];else Uint8Array.prototype.set.call(R,this.subarray(G,Q),M);return ne},u.prototype.fill=function(R,M,G,Q){if(typeof R=="string"){if(typeof M=="string"?(Q=M,M=0,G=this.length):typeof G=="string"&&(Q=G,G=this.length),Q!==void 0&&typeof Q!="string")throw new TypeError("encoding must be a string");if(typeof Q=="string"&&!u.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);if(R.length===1){var ne=R.charCodeAt(0);(Q==="utf8"&&ne<128||Q==="latin1")&&(R=ne)}}else typeof R=="number"&&(R&=255);if(M<0||this.length<M||this.length<G)throw new RangeError("Out of range index");if(G<=M)return this;var ie;if(M>>>=0,G=G===void 0?this.length:G>>>0,R||(R=0),typeof R=="number")for(ie=M;ie<G;++ie)this[ie]=R;else{var U=u.isBuffer(R)?R:u.from(R,Q),se=U.length;if(se===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(ie=0;ie<G-M;++ie)this[ie+M]=U[ie%se]}return this};var P=/[^+/0-9A-Za-z-_]/g;function O(R){return R<16?"0"+R.toString(16):R.toString(16)}function L(R,M){var G;M=M||1/0;for(var Q=R.length,ne=null,ie=[],U=0;U<Q;++U){if((G=R.charCodeAt(U))>55295&&G<57344){if(!ne){if(G>56319){(M-=3)>-1&&ie.push(239,191,189);continue}if(U+1===Q){(M-=3)>-1&&ie.push(239,191,189);continue}ne=G;continue}if(G<56320){(M-=3)>-1&&ie.push(239,191,189),ne=G;continue}G=65536+(ne-55296<<10|G-56320)}else ne&&(M-=3)>-1&&ie.push(239,191,189);if(ne=null,G<128){if((M-=1)<0)break;ie.push(G)}else if(G<2048){if((M-=2)<0)break;ie.push(G>>6|192,63&G|128)}else if(G<65536){if((M-=3)<0)break;ie.push(G>>12|224,G>>6&63|128,63&G|128)}else{if(!(G<1114112))throw new Error("Invalid code point");if((M-=4)<0)break;ie.push(G>>18|240,G>>12&63|128,G>>6&63|128,63&G|128)}}return ie}function V(R){return s.toByteArray(function(M){if((M=(M=M.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;M.length%4!=0;)M+="=";return M}(R))}function X(R,M,G,Q){for(var ne=0;ne<Q&&!(ne+G>=M.length||ne>=R.length);++ne)M[ne+G]=R[ne];return ne}function B(R,M){return R instanceof M||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===M.name}function K(R){return R!=R}}).call(this)}).call(this,i("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(i,r,n){var a=i("safe-buffer").Buffer,s=i("stream").Transform,o=i("string_decoder").StringDecoder;function l(u){s.call(this),this.hashMode=typeof u=="string",this.hashMode?this[u]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}i("inherits")(l,s),l.prototype.update=function(u,d,c){typeof u=="string"&&(u=a.from(u,d));var h=this._update(u);return this.hashMode?this:(c&&(h=this._toString(h,c)),h)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(u,d,c){var h;try{this.hashMode?this._update(u):this.push(this._update(u))}catch(f){h=f}finally{c(h)}},l.prototype._flush=function(u){var d;try{this.push(this.__final())}catch(c){d=c}u(d)},l.prototype._finalOrDigest=function(u){var d=this.__final()||a.alloc(0);return u&&(d=this._toString(d,u,!0)),d},l.prototype._toString=function(u,d,c){if(this._decoder||(this._decoder=new o(d),this._encoding=d),this._encoding!==d)throw new Error("can't switch encodings");var h=this._decoder.write(u);return c&&(h+=this._decoder.end()),h},r.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(i,r,n){var a=i("../internals/is-callable"),s=i("../internals/try-to-string"),o=TypeError;r.exports=function(l){if(a(l))return l;throw new o(s(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(i,r,n){var a=i("../internals/is-constructor"),s=i("../internals/try-to-string"),o=TypeError;r.exports=function(l){if(a(l))return l;throw new o(s(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(i,r,n){var a=i("../internals/is-callable"),s=String,o=TypeError;r.exports=function(l){if(typeof l=="object"||a(l))return l;throw new o("Can't set "+s(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(i,r,n){var a=i("../internals/well-known-symbol"),s=i("../internals/object-create"),o=i("../internals/object-define-property").f,l=a("unscopables"),u=Array.prototype;u[l]===void 0&&o(u,l,{configurable:!0,value:s(null)}),r.exports=function(d){u[l][d]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(i,r,n){var a=i("../internals/object-is-prototype-of"),s=TypeError;r.exports=function(o,l){if(a(l,o))return o;throw new s("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(i,r,n){var a=i("../internals/is-object"),s=String,o=TypeError;r.exports=function(l){if(a(l))return l;throw new o(s(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(i,r,n){var a=i("../internals/to-indexed-object"),s=i("../internals/to-absolute-index"),o=i("../internals/length-of-array-like"),l=function(u){return function(d,c,h){var f,p=a(d),g=o(p),m=s(h,g);if(u&&c!=c){for(;g>m;)if((f=p[m++])!=f)return!0}else for(;g>m;m++)if((u||m in p)&&p[m]===c)return u||m||0;return!u&&-1}};r.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(i,r,n){var a=i("../internals/function-bind-context"),s=i("../internals/function-uncurry-this"),o=i("../internals/indexed-object"),l=i("../internals/to-object"),u=i("../internals/length-of-array-like"),d=i("../internals/array-species-create"),c=s([].push),h=function(f){var p=f===1,g=f===2,m=f===3,v=f===4,b=f===6,y=f===7,I=f===5||b;return function(D,N,z,F){for(var $,j,q=l(D),H=o(q),A=a(N,z),T=u(H),E=0,C=F||d,w=p?C(D,T):g||y?C(D,0):void 0;T>E;E++)if((I||E in H)&&(j=A($=H[E],E,q),f))if(p)w[E]=j;else if(j)switch(f){case 3:return!0;case 5:return $;case 6:return E;case 2:c(w,$)}else switch(f){case 4:return!1;case 7:c(w,$)}return b?-1:m||v?v:w}};r.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(i,r,n){var a=i("../internals/to-absolute-index"),s=i("../internals/length-of-array-like"),o=i("../internals/create-property"),l=Array,u=Math.max;r.exports=function(d,c,h){for(var f=s(d),p=a(c,f),g=a(h===void 0?f:h,f),m=l(u(g-p,0)),v=0;p<g;p++,v++)o(m,v,d[p]);return m.length=v,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(i,r,n){var a=i("../internals/function-uncurry-this");r.exports=a([].slice)},{"../internals/function-uncurry-this":268}],232:[function(i,r,n){var a=i("../internals/is-array"),s=i("../internals/is-constructor"),o=i("../internals/is-object"),l=i("../internals/well-known-symbol")("species"),u=Array;r.exports=function(d){var c;return a(d)&&(c=d.constructor,(s(c)&&(c===u||a(c.prototype))||o(c)&&(c=c[l])===null)&&(c=void 0)),c===void 0?u:c}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(i,r,n){var a=i("../internals/array-species-constructor");r.exports=function(s,o){return new(a(s))(o===0?0:o)}},{"../internals/array-species-constructor":232}],234:[function(i,r,n){var a=i("../internals/well-known-symbol")("iterator"),s=!1;try{var o=0,l={next:function(){return{done:!!o++}},return:function(){s=!0}};l[a]=function(){return this},Array.from(l,function(){throw 2})}catch{}r.exports=function(u,d){try{if(!d&&!s)return!1}catch{return!1}var c=!1;try{var h={};h[a]=function(){return{next:function(){return{done:c=!0}}}},u(h)}catch{}return c}},{"../internals/well-known-symbol":357}],235:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=a({}.toString),o=a("".slice);r.exports=function(l){return o(s(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(i,r,n){var a=i("../internals/to-string-tag-support"),s=i("../internals/is-callable"),o=i("../internals/classof-raw"),l=i("../internals/well-known-symbol")("toStringTag"),u=Object,d=o(function(){return arguments}())==="Arguments";r.exports=a?o:function(c){var h,f,p;return c===void 0?"Undefined":c===null?"Null":typeof(f=function(g,m){try{return g[m]}catch{}}(h=u(c),l))=="string"?f:d?o(h):(p=o(h))==="Object"&&s(h.callee)?"Arguments":p}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(i,r,n){var a=i("../internals/has-own-property"),s=i("../internals/own-keys"),o=i("../internals/object-get-own-property-descriptor"),l=i("../internals/object-define-property");r.exports=function(u,d,c){for(var h=s(d),f=l.f,p=o.f,g=0;g<h.length;g++){var m=h[g];a(u,m)||c&&a(c,m)||f(u,m,p(d,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(i,r,n){var a=i("../internals/well-known-symbol")("match");r.exports=function(s){var o=/./;try{"/./"[s](o)}catch{try{return o[a]=!1,"/./"[s](o)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(i,r,n){var a=i("../internals/fails");r.exports=!a(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},{"../internals/fails":260}],240:[function(i,r,n){r.exports=function(a,s){return{value:a,done:s}}},{}],241:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/object-define-property"),o=i("../internals/create-property-descriptor");r.exports=a?function(l,u,d){return s.f(l,u,o(1,d))}:function(l,u,d){return l[u]=d,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(i,r,n){r.exports=function(a,s){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:s}}},{}],243:[function(i,r,n){var a=i("../internals/to-property-key"),s=i("../internals/object-define-property"),o=i("../internals/create-property-descriptor");r.exports=function(l,u,d){var c=a(u);c in l?s.f(l,c,o(0,d)):l[c]=d}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(i,r,n){var a=i("../internals/make-built-in"),s=i("../internals/object-define-property");r.exports=function(o,l,u){return u.get&&a(u.get,l,{getter:!0}),u.set&&a(u.set,l,{setter:!0}),s.f(o,l,u)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(i,r,n){var a=i("../internals/is-callable"),s=i("../internals/object-define-property"),o=i("../internals/make-built-in"),l=i("../internals/define-global-property");r.exports=function(u,d,c,h){h||(h={});var f=h.enumerable,p=h.name!==void 0?h.name:d;if(a(c)&&o(c,p,h),h.global)f?u[d]=c:l(d,c);else{try{h.unsafe?u[d]&&(f=!0):delete u[d]}catch{}f?u[d]=c:s.f(u,d,{value:c,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return u}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(i,r,n){var a=i("../internals/global"),s=Object.defineProperty;r.exports=function(o,l){try{s(a,o,{value:l,configurable:!0,writable:!0})}catch{a[o]=l}return l}},{"../internals/global":274}],247:[function(i,r,n){var a=i("../internals/fails");r.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(i,r,n){var a=typeof document=="object"&&document.all,s=a===void 0&&a!==void 0;r.exports={all:a,IS_HTMLDDA:s}},{}],249:[function(i,r,n){var a=i("../internals/global"),s=i("../internals/is-object"),o=a.document,l=s(o)&&s(o.createElement);r.exports=function(u){return l?o.createElement(u):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(i,r,n){var a=i("../internals/engine-is-deno"),s=i("../internals/engine-is-node");r.exports=!a&&!s&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(i,r,n){r.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(i,r,n){var a=i("../internals/engine-user-agent");r.exports=/ipad|iphone|ipod/i.test(a)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(i,r,n){var a=i("../internals/engine-user-agent");r.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},{"../internals/engine-user-agent":256}],254:[function(i,r,n){var a=i("../internals/global"),s=i("../internals/classof-raw");r.exports=s(a.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(i,r,n){var a=i("../internals/engine-user-agent");r.exports=/web0s(?!.*chrome)/i.test(a)},{"../internals/engine-user-agent":256}],256:[function(i,r,n){r.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(i,r,n){var a,s,o=i("../internals/global"),l=i("../internals/engine-user-agent"),u=o.process,d=o.Deno,c=u&&u.versions||d&&d.version,h=c&&c.v8;h&&(s=(a=h.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&l&&(!(a=l.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=l.match(/Chrome\/(\d+)/))&&(s=+a[1]),r.exports=s},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(i,r,n){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(i,r,n){var a=i("../internals/global"),s=i("../internals/object-get-own-property-descriptor").f,o=i("../internals/create-non-enumerable-property"),l=i("../internals/define-built-in"),u=i("../internals/define-global-property"),d=i("../internals/copy-constructor-properties"),c=i("../internals/is-forced");r.exports=function(h,f){var p,g,m,v,b,y=h.target,I=h.global,D=h.stat;if(p=I?a:D?a[y]||u(y,{}):(a[y]||{}).prototype)for(g in f){if(v=f[g],m=h.dontCallGetSet?(b=s(p,g))&&b.value:p[g],!c(I?g:y+(D?".":"#")+g,h.forced)&&m!==void 0){if(typeof v==typeof m)continue;d(v,m)}(h.sham||m&&m.sham)&&o(v,"sham",!0),l(p,g,v,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(i,r,n){r.exports=function(a){try{return!!a()}catch{return!0}}},{}],261:[function(i,r,n){var a=i("../internals/function-bind-native"),s=Function.prototype,o=s.apply,l=s.call;r.exports=typeof Reflect=="object"&&Reflect.apply||(a?l.bind(o):function(){return l.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(i,r,n){var a=i("../internals/function-uncurry-this-clause"),s=i("../internals/a-callable"),o=i("../internals/function-bind-native"),l=a(a.bind);r.exports=function(u,d){return s(u),d===void 0?u:o?l(u,d):function(){return u.apply(d,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(i,r,n){var a=i("../internals/fails");r.exports=!a(function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(i,r,n){var a=i("../internals/function-bind-native"),s=Function.prototype.call;r.exports=a?s.bind(s):function(){return s.apply(s,arguments)}},{"../internals/function-bind-native":263}],265:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/has-own-property"),o=Function.prototype,l=a&&Object.getOwnPropertyDescriptor,u=s(o,"name"),d=u&&(function(){}).name==="something",c=u&&(!a||a&&l(o,"name").configurable);r.exports={EXISTS:u,PROPER:d,CONFIGURABLE:c}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=i("../internals/a-callable");r.exports=function(o,l,u){try{return a(s(Object.getOwnPropertyDescriptor(o,l)[u]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(i,r,n){var a=i("../internals/classof-raw"),s=i("../internals/function-uncurry-this");r.exports=function(o){if(a(o)==="Function")return s(o)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(i,r,n){var a=i("../internals/function-bind-native"),s=Function.prototype,o=s.call,l=a&&s.bind.bind(o,o);r.exports=a?l:function(u){return function(){return o.apply(u,arguments)}}},{"../internals/function-bind-native":263}],269:[function(i,r,n){var a=i("../internals/global"),s=i("../internals/is-callable"),o=function(l){return s(l)?l:void 0};r.exports=function(l,u){return arguments.length<2?o(a[l]):a[l]&&a[l][u]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(i,r,n){var a=i("../internals/classof"),s=i("../internals/get-method"),o=i("../internals/is-null-or-undefined"),l=i("../internals/iterators"),u=i("../internals/well-known-symbol")("iterator");r.exports=function(d){if(!o(d))return s(d,u)||s(d,"@@iterator")||l[a(d)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(i,r,n){var a=i("../internals/function-call"),s=i("../internals/a-callable"),o=i("../internals/an-object"),l=i("../internals/try-to-string"),u=i("../internals/get-iterator-method"),d=TypeError;r.exports=function(c,h){var f=arguments.length<2?u(c):h;if(s(f))return o(a(f,c));throw new d(l(c)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=i("../internals/is-array"),o=i("../internals/is-callable"),l=i("../internals/classof-raw"),u=i("../internals/to-string"),d=a([].push);r.exports=function(c){if(o(c))return c;if(s(c)){for(var h=c.length,f=[],p=0;p<h;p++){var g=c[p];typeof g=="string"?d(f,g):typeof g!="number"&&l(g)!=="Number"&&l(g)!=="String"||d(f,u(g))}var m=f.length,v=!0;return function(b,y){if(v)return v=!1,y;if(s(this))return y;for(var I=0;I<m;I++)if(f[I]===b)return y}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(i,r,n){var a=i("../internals/a-callable"),s=i("../internals/is-null-or-undefined");r.exports=function(o,l){var u=o[l];return s(u)?void 0:a(u)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(i,r,n){(function(a){(function(){var s=function(o){return o&&o.Math===Math&&o};r.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof a=="object"&&a)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=i("../internals/to-object"),o=a({}.hasOwnProperty);r.exports=Object.hasOwn||function(l,u){return o(s(l),u)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(i,r,n){r.exports={}},{}],277:[function(i,r,n){r.exports=function(a,s){try{arguments.length===1?console.error(a):console.error(a,s)}catch{}}},{}],278:[function(i,r,n){var a=i("../internals/get-built-in");r.exports=a("document","documentElement")},{"../internals/get-built-in":269}],279:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/fails"),o=i("../internals/document-create-element");r.exports=!a&&!s(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=i("../internals/fails"),o=i("../internals/classof-raw"),l=Object,u=a("".split);r.exports=s(function(){return!l("z").propertyIsEnumerable(0)})?function(d){return o(d)==="String"?u(d,""):l(d)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=i("../internals/is-callable"),o=i("../internals/shared-store"),l=a(Function.toString);s(o.inspectSource)||(o.inspectSource=function(u){return l(u)}),r.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(i,r,n){var a,s,o,l=i("../internals/weak-map-basic-detection"),u=i("../internals/global"),d=i("../internals/is-object"),c=i("../internals/create-non-enumerable-property"),h=i("../internals/has-own-property"),f=i("../internals/shared-store"),p=i("../internals/shared-key"),g=i("../internals/hidden-keys"),m=u.TypeError,v=u.WeakMap;if(l||f.state){var b=f.state||(f.state=new v);b.get=b.get,b.has=b.has,b.set=b.set,a=function(I,D){if(b.has(I))throw new m("Object already initialized");return D.facade=I,b.set(I,D),D},s=function(I){return b.get(I)||{}},o=function(I){return b.has(I)}}else{var y=p("state");g[y]=!0,a=function(I,D){if(h(I,y))throw new m("Object already initialized");return D.facade=I,c(I,y,D),D},s=function(I){return h(I,y)?I[y]:{}},o=function(I){return h(I,y)}}r.exports={set:a,get:s,has:o,enforce:function(I){return o(I)?s(I):a(I,{})},getterFor:function(I){return function(D){var N;if(!d(D)||(N=s(D)).type!==I)throw new m("Incompatible receiver, "+I+" required");return N}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(i,r,n){var a=i("../internals/well-known-symbol"),s=i("../internals/iterators"),o=a("iterator"),l=Array.prototype;r.exports=function(u){return u!==void 0&&(s.Array===u||l[o]===u)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(i,r,n){var a=i("../internals/classof-raw");r.exports=Array.isArray||function(s){return a(s)==="Array"}},{"../internals/classof-raw":235}],285:[function(i,r,n){var a=i("../internals/document-all"),s=a.all;r.exports=a.IS_HTMLDDA?function(o){return typeof o=="function"||o===s}:function(o){return typeof o=="function"}},{"../internals/document-all":248}],286:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=i("../internals/fails"),o=i("../internals/is-callable"),l=i("../internals/classof"),u=i("../internals/get-built-in"),d=i("../internals/inspect-source"),c=function(){},h=[],f=u("Reflect","construct"),p=/^\s*(?:class|function)\b/,g=a(p.exec),m=!p.test(c),v=function(y){if(!o(y))return!1;try{return f(c,h,y),!0}catch{return!1}},b=function(y){if(!o(y))return!1;switch(l(y)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!g(p,d(y))}catch{return!0}};b.sham=!0,r.exports=!f||s(function(){var y;return v(v.call)||!v(Object)||!v(function(){y=!0})||y})?b:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(i,r,n){var a=i("../internals/fails"),s=i("../internals/is-callable"),o=/#|\.prototype\./,l=function(f,p){var g=d[u(f)];return g===h||g!==c&&(s(p)?a(p):!!p)},u=l.normalize=function(f){return String(f).replace(o,".").toLowerCase()},d=l.data={},c=l.NATIVE="N",h=l.POLYFILL="P";r.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(i,r,n){r.exports=function(a){return a==null}},{}],289:[function(i,r,n){var a=i("../internals/is-callable"),s=i("../internals/document-all"),o=s.all;r.exports=s.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:a(l)||l===o}:function(l){return typeof l=="object"?l!==null:a(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(i,r,n){r.exports=!1},{}],291:[function(i,r,n){var a=i("../internals/is-object"),s=i("../internals/classof-raw"),o=i("../internals/well-known-symbol")("match");r.exports=function(l){var u;return a(l)&&((u=l[o])!==void 0?!!u:s(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(i,r,n){var a=i("../internals/get-built-in"),s=i("../internals/is-callable"),o=i("../internals/object-is-prototype-of"),l=i("../internals/use-symbol-as-uid"),u=Object;r.exports=l?function(d){return typeof d=="symbol"}:function(d){var c=a("Symbol");return s(c)&&o(c.prototype,u(d))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(i,r,n){var a=i("../internals/function-bind-context"),s=i("../internals/function-call"),o=i("../internals/an-object"),l=i("../internals/try-to-string"),u=i("../internals/is-array-iterator-method"),d=i("../internals/length-of-array-like"),c=i("../internals/object-is-prototype-of"),h=i("../internals/get-iterator"),f=i("../internals/get-iterator-method"),p=i("../internals/iterator-close"),g=TypeError,m=function(b,y){this.stopped=b,this.result=y},v=m.prototype;r.exports=function(b,y,I){var D,N,z,F,$,j,q,H=I&&I.that,A=!(!I||!I.AS_ENTRIES),T=!(!I||!I.IS_RECORD),E=!(!I||!I.IS_ITERATOR),C=!(!I||!I.INTERRUPTED),w=a(y,H),S=function(k){return D&&p(D,"normal",k),new m(!0,k)},x=function(k){return A?(o(k),C?w(k[0],k[1],S):w(k[0],k[1])):C?w(k,S):w(k)};if(T)D=b.iterator;else if(E)D=b;else{if(!(N=f(b)))throw new g(l(b)+" is not iterable");if(u(N)){for(z=0,F=d(b);F>z;z++)if(($=x(b[z]))&&c(v,$))return $;return new m(!1)}D=h(b,N)}for(j=T?b.next:D.next;!(q=s(j,D)).done;){try{$=x(q.value)}catch(k){p(D,"throw",k)}if(typeof $=="object"&&$&&c(v,$))return $}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(i,r,n){var a=i("../internals/function-call"),s=i("../internals/an-object"),o=i("../internals/get-method");r.exports=function(l,u,d){var c,h;s(l);try{if(!(c=o(l,"return"))){if(u==="throw")throw d;return d}c=a(c,l)}catch(f){h=!0,c=f}if(u==="throw")throw d;if(h)throw c;return s(c),d}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(i,r,n){var a=i("../internals/iterators-core").IteratorPrototype,s=i("../internals/object-create"),o=i("../internals/create-property-descriptor"),l=i("../internals/set-to-string-tag"),u=i("../internals/iterators"),d=function(){return this};r.exports=function(c,h,f,p){var g=h+" Iterator";return c.prototype=s(a,{next:o(+!p,f)}),l(c,g,!1,!0),u[g]=d,c}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/function-call"),o=i("../internals/is-pure"),l=i("../internals/function-name"),u=i("../internals/is-callable"),d=i("../internals/iterator-create-constructor"),c=i("../internals/object-get-prototype-of"),h=i("../internals/object-set-prototype-of"),f=i("../internals/set-to-string-tag"),p=i("../internals/create-non-enumerable-property"),g=i("../internals/define-built-in"),m=i("../internals/well-known-symbol"),v=i("../internals/iterators"),b=i("../internals/iterators-core"),y=l.PROPER,I=l.CONFIGURABLE,D=b.IteratorPrototype,N=b.BUGGY_SAFARI_ITERATORS,z=m("iterator"),F=function(){return this};r.exports=function($,j,q,H,A,T,E){d(q,j,H);var C,w,S,x=function(B){if(B===A&&V)return V;if(!N&&B&&B in O)return O[B];switch(B){case"keys":case"values":case"entries":return function(){return new q(this,B)}}return function(){return new q(this)}},k=j+" Iterator",P=!1,O=$.prototype,L=O[z]||O["@@iterator"]||A&&O[A],V=!N&&L||x(A),X=j==="Array"&&O.entries||L;if(X&&(C=c(X.call(new $)))!==Object.prototype&&C.next&&(o||c(C)===D||(h?h(C,D):u(C[z])||g(C,z,F)),f(C,k,!0,!0),o&&(v[k]=F)),y&&A==="values"&&L&&L.name!=="values"&&(!o&&I?p(O,"name","values"):(P=!0,V=function(){return s(L,this)})),A)if(w={values:x("values"),keys:T?V:x("keys"),entries:x("entries")},E)for(S in w)(N||P||!(S in O))&&g(O,S,w[S]);else a({target:j,proto:!0,forced:N||P},w);return o&&!E||O[z]===V||g(O,z,V,{name:A}),v[j]=V,w}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(i,r,n){var a,s,o,l=i("../internals/fails"),u=i("../internals/is-callable"),d=i("../internals/is-object"),c=i("../internals/object-create"),h=i("../internals/object-get-prototype-of"),f=i("../internals/define-built-in"),p=i("../internals/well-known-symbol"),g=i("../internals/is-pure"),m=p("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(s=h(h(o)))!==Object.prototype&&(a=s):v=!0),!d(a)||l(function(){var b={};return a[m].call(b)!==b})?a={}:g&&(a=c(a)),u(a[m])||f(a,m,function(){return this}),r.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(i,r,n){arguments[4][276][0].apply(n,arguments)},{dup:276}],299:[function(i,r,n){var a=i("../internals/to-length");r.exports=function(s){return a(s.length)}},{"../internals/to-length":343}],300:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=i("../internals/fails"),o=i("../internals/is-callable"),l=i("../internals/has-own-property"),u=i("../internals/descriptors"),d=i("../internals/function-name").CONFIGURABLE,c=i("../internals/inspect-source"),h=i("../internals/internal-state"),f=h.enforce,p=h.get,g=String,m=Object.defineProperty,v=a("".slice),b=a("".replace),y=a([].join),I=u&&!s(function(){return m(function(){},"length",{value:8}).length!==8}),D=String(String).split("String"),N=r.exports=function(z,F,$){v(g(F),0,7)==="Symbol("&&(F="["+b(g(F),/^Symbol\(([^)]*)\)/,"$1")+"]"),$&&$.getter&&(F="get "+F),$&&$.setter&&(F="set "+F),(!l(z,"name")||d&&z.name!==F)&&(u?m(z,"name",{value:F,configurable:!0}):z.name=F),I&&$&&l($,"arity")&&z.length!==$.arity&&m(z,"length",{value:$.arity});try{$&&l($,"constructor")&&$.constructor?u&&m(z,"prototype",{writable:!1}):z.prototype&&(z.prototype=void 0)}catch{}var j=f(z);return l(j,"source")||(j.source=y(D,typeof F=="string"?F:"")),z};Function.prototype.toString=N(function(){return o(this)&&p(this).source||c(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(i,r,n){var a=Math.ceil,s=Math.floor;r.exports=Math.trunc||function(o){var l=+o;return(l>0?s:a)(l)}},{}],302:[function(i,r,n){var a,s,o,l,u,d=i("../internals/global"),c=i("../internals/function-bind-context"),h=i("../internals/object-get-own-property-descriptor").f,f=i("../internals/task").set,p=i("../internals/queue"),g=i("../internals/engine-is-ios"),m=i("../internals/engine-is-ios-pebble"),v=i("../internals/engine-is-webos-webkit"),b=i("../internals/engine-is-node"),y=d.MutationObserver||d.WebKitMutationObserver,I=d.document,D=d.process,N=d.Promise,z=h(d,"queueMicrotask"),F=z&&z.value;if(!F){var $=new p,j=function(){var q,H;for(b&&(q=D.domain)&&q.exit();H=$.get();)try{H()}catch(A){throw $.head&&a(),A}q&&q.enter()};g||b||v||!y||!I?!m&&N&&N.resolve?((l=N.resolve(void 0)).constructor=N,u=c(l.then,l),a=function(){u(j)}):b?a=function(){D.nextTick(j)}:(f=c(f,d),a=function(){f(j)}):(s=!0,o=I.createTextNode(""),new y(j).observe(o,{characterData:!0}),a=function(){o.data=s=!s}),F=function(q){$.head||a(),$.add(q)}}r.exports=F},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(i,r,n){var a=i("../internals/a-callable"),s=TypeError,o=function(l){var u,d;this.promise=new l(function(c,h){if(u!==void 0||d!==void 0)throw new s("Bad Promise constructor");u=c,d=h}),this.resolve=a(u),this.reject=a(d)};r.exports.f=function(l){return new o(l)}},{"../internals/a-callable":222}],304:[function(i,r,n){var a=i("../internals/is-regexp"),s=TypeError;r.exports=function(o){if(a(o))throw new s("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":291}],305:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/function-uncurry-this"),o=i("../internals/function-call"),l=i("../internals/fails"),u=i("../internals/object-keys"),d=i("../internals/object-get-own-property-symbols"),c=i("../internals/object-property-is-enumerable"),h=i("../internals/to-object"),f=i("../internals/indexed-object"),p=Object.assign,g=Object.defineProperty,m=s([].concat);r.exports=!p||l(function(){if(a&&p({b:1},p(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},b={},y=Symbol("assign detection");return v[y]=7,"abcdefghijklmnopqrst".split("").forEach(function(I){b[I]=I}),p({},v)[y]!==7||u(p({},b)).join("")!=="abcdefghijklmnopqrst"})?function(v,b){for(var y=h(v),I=arguments.length,D=1,N=d.f,z=c.f;I>D;)for(var F,$=f(arguments[D++]),j=N?m(u($),N($)):u($),q=j.length,H=0;q>H;)F=j[H++],a&&!o(z,$,F)||(y[F]=$[F]);return y}:p},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(i,r,n){var a,s=i("../internals/an-object"),o=i("../internals/object-define-properties"),l=i("../internals/enum-bug-keys"),u=i("../internals/hidden-keys"),d=i("../internals/html"),c=i("../internals/document-create-element"),h=i("../internals/shared-key"),f=h("IE_PROTO"),p=function(){},g=function(b){return"<script>"+b+"<\/script>"},m=function(b){b.write(g("")),b.close();var y=b.parentWindow.Object;return b=null,y},v=function(){try{a=new ActiveXObject("htmlfile")}catch{}var b,y;v=typeof document<"u"?document.domain&&a?m(a):((y=c("iframe")).style.display="none",d.appendChild(y),y.src="javascript:",(b=y.contentWindow.document).open(),b.write(g("document.F=Object")),b.close(),b.F):m(a);for(var I=l.length;I--;)delete v.prototype[l[I]];return v()};u[f]=!0,r.exports=Object.create||function(b,y){var I;return b!==null?(p.prototype=s(b),I=new p,p.prototype=null,I[f]=b):I=v(),y===void 0?I:o.f(I,y)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/v8-prototype-define-bug"),o=i("../internals/object-define-property"),l=i("../internals/an-object"),u=i("../internals/to-indexed-object"),d=i("../internals/object-keys");n.f=a&&!s?Object.defineProperties:function(c,h){l(c);for(var f,p=u(h),g=d(h),m=g.length,v=0;m>v;)o.f(c,f=g[v++],p[f]);return c}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/ie8-dom-define"),o=i("../internals/v8-prototype-define-bug"),l=i("../internals/an-object"),u=i("../internals/to-property-key"),d=TypeError,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor;n.f=a?o?function(f,p,g){if(l(f),p=u(p),l(g),typeof f=="function"&&p==="prototype"&&"value"in g&&"writable"in g&&!g.writable){var m=h(f,p);m&&m.writable&&(f[p]=g.value,g={configurable:"configurable"in g?g.configurable:m.configurable,enumerable:"enumerable"in g?g.enumerable:m.enumerable,writable:!1})}return c(f,p,g)}:c:function(f,p,g){if(l(f),p=u(p),l(g),s)try{return c(f,p,g)}catch{}if("get"in g||"set"in g)throw new d("Accessors not supported");return"value"in g&&(f[p]=g.value),f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/function-call"),o=i("../internals/object-property-is-enumerable"),l=i("../internals/create-property-descriptor"),u=i("../internals/to-indexed-object"),d=i("../internals/to-property-key"),c=i("../internals/has-own-property"),h=i("../internals/ie8-dom-define"),f=Object.getOwnPropertyDescriptor;n.f=a?f:function(p,g){if(p=u(p),g=d(g),h)try{return f(p,g)}catch{}if(c(p,g))return l(!s(o.f,p,g),p[g])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(i,r,n){var a=i("../internals/classof-raw"),s=i("../internals/to-indexed-object"),o=i("../internals/object-get-own-property-names").f,l=i("../internals/array-slice-simple"),u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];r.exports.f=function(d){return u&&a(d)==="Window"?function(c){try{return o(c)}catch{return l(u)}}(d):o(s(d))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(i,r,n){var a=i("../internals/object-keys-internal"),s=i("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(o){return a(o,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(i,r,n){n.f=Object.getOwnPropertySymbols},{}],313:[function(i,r,n){var a=i("../internals/has-own-property"),s=i("../internals/is-callable"),o=i("../internals/to-object"),l=i("../internals/shared-key"),u=i("../internals/correct-prototype-getter"),d=l("IE_PROTO"),c=Object,h=c.prototype;r.exports=u?c.getPrototypeOf:function(f){var p=o(f);if(a(p,d))return p[d];var g=p.constructor;return s(g)&&p instanceof g?g.prototype:p instanceof c?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(i,r,n){var a=i("../internals/function-uncurry-this");r.exports=a({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=i("../internals/has-own-property"),o=i("../internals/to-indexed-object"),l=i("../internals/array-includes").indexOf,u=i("../internals/hidden-keys"),d=a([].push);r.exports=function(c,h){var f,p=o(c),g=0,m=[];for(f in p)!s(u,f)&&s(p,f)&&d(m,f);for(;h.length>g;)s(p,f=h[g++])&&(~l(m,f)||d(m,f));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(i,r,n){var a=i("../internals/object-keys-internal"),s=i("../internals/enum-bug-keys");r.exports=Object.keys||function(o){return a(o,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(i,r,n){var a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,o=s&&!a.call({1:2},1);n.f=o?function(l){var u=s(this,l);return!!u&&u.enumerable}:a},{}],318:[function(i,r,n){var a=i("../internals/function-uncurry-this-accessor"),s=i("../internals/an-object"),o=i("../internals/a-possible-prototype");r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,u=!1,d={};try{(l=a(Object.prototype,"__proto__","set"))(d,[]),u=d instanceof Array}catch{}return function(c,h){return s(c),o(h),u?l(c,h):c.__proto__=h,c}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/fails"),o=i("../internals/function-uncurry-this"),l=i("../internals/object-get-prototype-of"),u=i("../internals/object-keys"),d=i("../internals/to-indexed-object"),c=o(i("../internals/object-property-is-enumerable").f),h=o([].push),f=a&&s(function(){var g=Object.create(null);return g[2]=2,!c(g,2)}),p=function(g){return function(m){for(var v,b=d(m),y=u(b),I=f&&l(b)===null,D=y.length,N=0,z=[];D>N;)v=y[N++],a&&!(I?v in b:c(b,v))||h(z,g?[v,b[v]]:b[v]);return z}};r.exports={entries:p(!0),values:p(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(i,r,n){var a=i("../internals/function-call"),s=i("../internals/is-callable"),o=i("../internals/is-object"),l=TypeError;r.exports=function(u,d){var c,h;if(d==="string"&&s(c=u.toString)&&!o(h=a(c,u))||s(c=u.valueOf)&&!o(h=a(c,u))||d!=="string"&&s(c=u.toString)&&!o(h=a(c,u)))return h;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(i,r,n){var a=i("../internals/get-built-in"),s=i("../internals/function-uncurry-this"),o=i("../internals/object-get-own-property-names"),l=i("../internals/object-get-own-property-symbols"),u=i("../internals/an-object"),d=s([].concat);r.exports=a("Reflect","ownKeys")||function(c){var h=o.f(u(c)),f=l.f;return f?d(h,f(c)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(i,r,n){var a=i("../internals/global");r.exports=a},{"../internals/global":274}],323:[function(i,r,n){r.exports=function(a){try{return{error:!1,value:a()}}catch(s){return{error:!0,value:s}}}},{}],324:[function(i,r,n){var a=i("../internals/global"),s=i("../internals/promise-native-constructor"),o=i("../internals/is-callable"),l=i("../internals/is-forced"),u=i("../internals/inspect-source"),d=i("../internals/well-known-symbol"),c=i("../internals/engine-is-browser"),h=i("../internals/engine-is-deno"),f=i("../internals/is-pure"),p=i("../internals/engine-v8-version"),g=s&&s.prototype,m=d("species"),v=!1,b=o(a.PromiseRejectionEvent),y=l("Promise",function(){var I=u(s),D=I!==String(s);if(!D&&p===66||f&&(!g.catch||!g.finally))return!0;if(!p||p<51||!/native code/.test(I)){var N=new s(function(F){F(1)}),z=function(F){F(function(){},function(){})};if((N.constructor={})[m]=z,!(v=N.then(function(){})instanceof z))return!0}return!D&&(c||h)&&!b});r.exports={CONSTRUCTOR:y,REJECTION_EVENT:b,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(i,r,n){var a=i("../internals/global");r.exports=a.Promise},{"../internals/global":274}],326:[function(i,r,n){var a=i("../internals/an-object"),s=i("../internals/is-object"),o=i("../internals/new-promise-capability");r.exports=function(l,u){if(a(l),s(u)&&u.constructor===l)return u;var d=o.f(l);return(0,d.resolve)(u),d.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(i,r,n){var a=i("../internals/promise-native-constructor"),s=i("../internals/check-correctness-of-iteration"),o=i("../internals/promise-constructor-detection").CONSTRUCTOR;r.exports=o||!s(function(l){a.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(i,r,n){var a=function(){this.head=null,this.tail=null};a.prototype={add:function(s){var o={item:s,next:null},l=this.tail;l?l.next=o:this.head=o,this.tail=o},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}},r.exports=a},{}],329:[function(i,r,n){var a=i("../internals/is-null-or-undefined"),s=TypeError;r.exports=function(o){if(a(o))throw new s("Can't call method on "+o);return o}},{"../internals/is-null-or-undefined":288}],330:[function(i,r,n){var a=i("../internals/get-built-in"),s=i("../internals/define-built-in-accessor"),o=i("../internals/well-known-symbol"),l=i("../internals/descriptors"),u=o("species");r.exports=function(d){var c=a(d);l&&c&&!c[u]&&s(c,u,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(i,r,n){var a=i("../internals/object-define-property").f,s=i("../internals/has-own-property"),o=i("../internals/well-known-symbol")("toStringTag");r.exports=function(l,u,d){l&&!d&&(l=l.prototype),l&&!s(l,o)&&a(l,o,{configurable:!0,value:u})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(i,r,n){var a=i("../internals/shared"),s=i("../internals/uid"),o=a("keys");r.exports=function(l){return o[l]||(o[l]=s(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(i,r,n){var a=i("../internals/global"),s=i("../internals/define-global-property"),o=a["__core-js_shared__"]||s("__core-js_shared__",{});r.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(i,r,n){var a=i("../internals/is-pure"),s=i("../internals/shared-store");(r.exports=function(o,l){return s[o]||(s[o]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:a?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(i,r,n){var a=i("../internals/an-object"),s=i("../internals/a-constructor"),o=i("../internals/is-null-or-undefined"),l=i("../internals/well-known-symbol")("species");r.exports=function(u,d){var c,h=a(u).constructor;return h===void 0||o(c=a(h)[l])?d:s(c)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(i,r,n){var a=i("../internals/engine-v8-version"),s=i("../internals/fails"),o=i("../internals/global").String;r.exports=!!Object.getOwnPropertySymbols&&!s(function(){var l=Symbol("symbol detection");return!o(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&a&&a<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(i,r,n){var a=i("../internals/function-call"),s=i("../internals/get-built-in"),o=i("../internals/well-known-symbol"),l=i("../internals/define-built-in");r.exports=function(){var u=s("Symbol"),d=u&&u.prototype,c=d&&d.valueOf,h=o("toPrimitive");d&&!d[h]&&l(d,h,function(f){return a(c,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(i,r,n){var a=i("../internals/symbol-constructor-detection");r.exports=a&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(i,r,n){var a,s,o,l,u=i("../internals/global"),d=i("../internals/function-apply"),c=i("../internals/function-bind-context"),h=i("../internals/is-callable"),f=i("../internals/has-own-property"),p=i("../internals/fails"),g=i("../internals/html"),m=i("../internals/array-slice"),v=i("../internals/document-create-element"),b=i("../internals/validate-arguments-length"),y=i("../internals/engine-is-ios"),I=i("../internals/engine-is-node"),D=u.setImmediate,N=u.clearImmediate,z=u.process,F=u.Dispatch,$=u.Function,j=u.MessageChannel,q=u.String,H=0,A={};p(function(){a=u.location});var T=function(S){if(f(A,S)){var x=A[S];delete A[S],x()}},E=function(S){return function(){T(S)}},C=function(S){T(S.data)},w=function(S){u.postMessage(q(S),a.protocol+"//"+a.host)};D&&N||(D=function(S){b(arguments.length,1);var x=h(S)?S:$(S),k=m(arguments,1);return A[++H]=function(){d(x,void 0,k)},s(H),H},N=function(S){delete A[S]},I?s=function(S){z.nextTick(E(S))}:F&&F.now?s=function(S){F.now(E(S))}:j&&!y?(l=(o=new j).port2,o.port1.onmessage=C,s=c(l.postMessage,l)):u.addEventListener&&h(u.postMessage)&&!u.importScripts&&a&&a.protocol!=="file:"&&!p(w)?(s=w,u.addEventListener("message",C,!1)):s="onreadystatechange"in v("script")?function(S){g.appendChild(v("script")).onreadystatechange=function(){g.removeChild(this),T(S)}}:function(S){setTimeout(E(S),0)}),r.exports={set:D,clear:N}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(i,r,n){var a=i("../internals/to-integer-or-infinity"),s=Math.max,o=Math.min;r.exports=function(l,u){var d=a(l);return d<0?s(d+u,0):o(d,u)}},{"../internals/to-integer-or-infinity":342}],341:[function(i,r,n){var a=i("../internals/indexed-object"),s=i("../internals/require-object-coercible");r.exports=function(o){return a(s(o))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(i,r,n){var a=i("../internals/math-trunc");r.exports=function(s){var o=+s;return o!=o||o===0?0:a(o)}},{"../internals/math-trunc":301}],343:[function(i,r,n){var a=i("../internals/to-integer-or-infinity"),s=Math.min;r.exports=function(o){return o>0?s(a(o),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(i,r,n){var a=i("../internals/require-object-coercible"),s=Object;r.exports=function(o){return s(a(o))}},{"../internals/require-object-coercible":329}],345:[function(i,r,n){var a=i("../internals/function-call"),s=i("../internals/is-object"),o=i("../internals/is-symbol"),l=i("../internals/get-method"),u=i("../internals/ordinary-to-primitive"),d=i("../internals/well-known-symbol"),c=TypeError,h=d("toPrimitive");r.exports=function(f,p){if(!s(f)||o(f))return f;var g,m=l(f,h);if(m){if(p===void 0&&(p="default"),g=a(m,f,p),!s(g)||o(g))return g;throw new c("Can't convert object to primitive value")}return p===void 0&&(p="number"),u(f,p)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(i,r,n){var a=i("../internals/to-primitive"),s=i("../internals/is-symbol");r.exports=function(o){var l=a(o,"string");return s(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(i,r,n){var a={};a[i("../internals/well-known-symbol")("toStringTag")]="z",r.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(i,r,n){var a=i("../internals/classof"),s=String;r.exports=function(o){if(a(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s(o)}},{"../internals/classof":236}],349:[function(i,r,n){var a=String;r.exports=function(s){try{return a(s)}catch{return"Object"}}},{}],350:[function(i,r,n){var a=i("../internals/function-uncurry-this"),s=0,o=Math.random(),l=a(1 .toString);r.exports=function(u){return"Symbol("+(u===void 0?"":u)+")_"+l(++s+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(i,r,n){var a=i("../internals/symbol-constructor-detection");r.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(i,r,n){var a=i("../internals/descriptors"),s=i("../internals/fails");r.exports=a&&s(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(i,r,n){var a=TypeError;r.exports=function(s,o){if(s<o)throw new a("Not enough arguments");return s}},{}],354:[function(i,r,n){var a=i("../internals/global"),s=i("../internals/is-callable"),o=a.WeakMap;r.exports=s(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(i,r,n){var a=i("../internals/path"),s=i("../internals/has-own-property"),o=i("../internals/well-known-symbol-wrapped"),l=i("../internals/object-define-property").f;r.exports=function(u){var d=a.Symbol||(a.Symbol={});s(d,u)||l(d,u,{value:o.f(u)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(i,r,n){var a=i("../internals/well-known-symbol");n.f=a},{"../internals/well-known-symbol":357}],357:[function(i,r,n){var a=i("../internals/global"),s=i("../internals/shared"),o=i("../internals/has-own-property"),l=i("../internals/uid"),u=i("../internals/symbol-constructor-detection"),d=i("../internals/use-symbol-as-uid"),c=a.Symbol,h=s("wks"),f=d?c.for||c:c&&c.withoutSetter||l;r.exports=function(p){return o(h,p)||(h[p]=u&&o(c,p)?c[p]:f("Symbol."+p)),h[p]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/array-iteration").findIndex,o=i("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),a({target:"Array",proto:!0,forced:l},{findIndex:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/array-iteration").find,o=i("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),a({target:"Array",proto:!0,forced:l},{find:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/array-includes").includes,o=i("../internals/fails"),l=i("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(i,r,n){var a=i("../internals/to-indexed-object"),s=i("../internals/add-to-unscopables"),o=i("../internals/iterators"),l=i("../internals/internal-state"),u=i("../internals/object-define-property").f,d=i("../internals/iterator-define"),c=i("../internals/create-iter-result-object"),h=i("../internals/is-pure"),f=i("../internals/descriptors"),p=l.set,g=l.getterFor("Array Iterator");r.exports=d(Array,"Array",function(v,b){p(this,{type:"Array Iterator",target:a(v),index:0,kind:b})},function(){var v=g(this),b=v.target,y=v.kind,I=v.index++;if(!b||I>=b.length)return v.target=void 0,c(void 0,!0);switch(y){case"keys":return c(I,!1);case"values":return c(b[I],!1)}return c([I,b[I]],!1)},"values");var m=o.Arguments=o.Array;if(s("keys"),s("values"),s("entries"),!h&&f&&m.name!=="values")try{u(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/get-built-in"),o=i("../internals/function-apply"),l=i("../internals/function-call"),u=i("../internals/function-uncurry-this"),d=i("../internals/fails"),c=i("../internals/is-callable"),h=i("../internals/is-symbol"),f=i("../internals/array-slice"),p=i("../internals/get-json-replacer-function"),g=i("../internals/symbol-constructor-detection"),m=String,v=s("JSON","stringify"),b=u(/./.exec),y=u("".charAt),I=u("".charCodeAt),D=u("".replace),N=u(1 .toString),z=/[\uD800-\uDFFF]/g,F=/^[\uD800-\uDBFF]$/,$=/^[\uDC00-\uDFFF]$/,j=!g||d(function(){var T=s("Symbol")("stringify detection");return v([T])!=="[null]"||v({a:T})!=="{}"||v(Object(T))!=="{}"}),q=d(function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'}),H=function(T,E){var C=f(arguments),w=p(E);if(c(w)||T!==void 0&&!h(T))return C[1]=function(S,x){if(c(w)&&(x=l(w,this,m(S),x)),!h(x))return x},o(v,null,C)},A=function(T,E,C){var w=y(C,E-1),S=y(C,E+1);return b(F,T)&&!b($,S)||b($,T)&&!b(F,w)?"\\u"+N(I(T,0),16):T};v&&a({target:"JSON",stat:!0,arity:3,forced:j||q},{stringify:function(T,E,C){var w=f(arguments),S=o(j?H:v,null,w);return q&&typeof S=="string"?D(S,z,A):S}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(i,r,n){i("../internals/export")({target:"Number",stat:!0},{isNaN:function(a){return a!=a}})},{"../internals/export":259}],364:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/object-assign");a({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/symbol-constructor-detection"),o=i("../internals/fails"),l=i("../internals/object-get-own-property-symbols"),u=i("../internals/to-object");a({target:"Object",stat:!0,forced:!s||o(function(){l.f(1)})},{getOwnPropertySymbols:function(d){var c=l.f;return c?c(u(d)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/to-object"),o=i("../internals/object-keys");a({target:"Object",stat:!0,forced:i("../internals/fails")(function(){o(1)})},{keys:function(l){return o(s(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/object-to-array").values;a({target:"Object",stat:!0},{values:function(o){return s(o)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/function-call"),o=i("../internals/a-callable"),l=i("../internals/new-promise-capability"),u=i("../internals/perform"),d=i("../internals/iterate");a({target:"Promise",stat:!0,forced:i("../internals/promise-statics-incorrect-iteration")},{all:function(c){var h=this,f=l.f(h),p=f.resolve,g=f.reject,m=u(function(){var v=o(h.resolve),b=[],y=0,I=1;d(c,function(D){var N=y++,z=!1;I++,s(v,h,D).then(function(F){z||(z=!0,b[N]=F,--I||p(b))},g)}),--I||p(b)});return m.error&&g(m.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/is-pure"),o=i("../internals/promise-constructor-detection").CONSTRUCTOR,l=i("../internals/promise-native-constructor"),u=i("../internals/get-built-in"),d=i("../internals/is-callable"),c=i("../internals/define-built-in"),h=l&&l.prototype;if(a({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(p){return this.then(void 0,p)}}),!s&&d(l)){var f=u("Promise").prototype.catch;h.catch!==f&&c(h,"catch",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(i,r,n){var a,s,o,l=i("../internals/export"),u=i("../internals/is-pure"),d=i("../internals/engine-is-node"),c=i("../internals/global"),h=i("../internals/function-call"),f=i("../internals/define-built-in"),p=i("../internals/object-set-prototype-of"),g=i("../internals/set-to-string-tag"),m=i("../internals/set-species"),v=i("../internals/a-callable"),b=i("../internals/is-callable"),y=i("../internals/is-object"),I=i("../internals/an-instance"),D=i("../internals/species-constructor"),N=i("../internals/task").set,z=i("../internals/microtask"),F=i("../internals/host-report-errors"),$=i("../internals/perform"),j=i("../internals/queue"),q=i("../internals/internal-state"),H=i("../internals/promise-native-constructor"),A=i("../internals/promise-constructor-detection"),T=i("../internals/new-promise-capability"),E=A.CONSTRUCTOR,C=A.REJECTION_EVENT,w=A.SUBCLASSING,S=q.getterFor("Promise"),x=q.set,k=H&&H.prototype,P=H,O=k,L=c.TypeError,V=c.document,X=c.process,B=T.f,K=B,R=!!(V&&V.createEvent&&c.dispatchEvent),M=function(ee){var ue;return!(!y(ee)||!b(ue=ee.then))&&ue},G=function(ee,ue){var de,oe,ce,ge=ue.value,ve=ue.state===1,Se=ve?ee.ok:ee.fail,ke=ee.resolve,Ae=ee.reject,Xe=ee.domain;try{Se?(ve||(ue.rejection===2&&se(ue),ue.rejection=1),Se===!0?de=ge:(Xe&&Xe.enter(),de=Se(ge),Xe&&(Xe.exit(),ce=!0)),de===ee.promise?Ae(new L("Promise-chain cycle")):(oe=M(de))?h(oe,de,ke,Ae):ke(de)):Ae(ge)}catch(et){Xe&&!ce&&Xe.exit(),Ae(et)}},Q=function(ee,ue){ee.notified||(ee.notified=!0,z(function(){for(var de,oe=ee.reactions;de=oe.get();)G(de,ee);ee.notified=!1,ue&&!ee.rejection&&ie(ee)}))},ne=function(ee,ue,de){var oe,ce;R?((oe=V.createEvent("Event")).promise=ue,oe.reason=de,oe.initEvent(ee,!1,!0),c.dispatchEvent(oe)):oe={promise:ue,reason:de},!C&&(ce=c["on"+ee])?ce(oe):ee==="unhandledrejection"&&F("Unhandled promise rejection",de)},ie=function(ee){h(N,c,function(){var ue,de=ee.facade,oe=ee.value;if(U(ee)&&(ue=$(function(){d?X.emit("unhandledRejection",oe,de):ne("unhandledrejection",de,oe)}),ee.rejection=d||U(ee)?2:1,ue.error))throw ue.value})},U=function(ee){return ee.rejection!==1&&!ee.parent},se=function(ee){h(N,c,function(){var ue=ee.facade;d?X.emit("rejectionHandled",ue):ne("rejectionhandled",ue,ee.value)})},ae=function(ee,ue,de){return function(oe){ee(ue,oe,de)}},Y=function(ee,ue,de){ee.done||(ee.done=!0,de&&(ee=de),ee.value=ue,ee.state=2,Q(ee,!0))},J=function(ee,ue,de){if(!ee.done){ee.done=!0,de&&(ee=de);try{if(ee.facade===ue)throw new L("Promise can't be resolved itself");var oe=M(ue);oe?z(function(){var ce={done:!1};try{h(oe,ue,ae(J,ce,ee),ae(Y,ce,ee))}catch(ge){Y(ce,ge,ee)}}):(ee.value=ue,ee.state=1,Q(ee,!1))}catch(ce){Y({done:!1},ce,ee)}}};if(E&&(O=(P=function(ee){I(this,O),v(ee),h(a,this);var ue=S(this);try{ee(ae(J,ue),ae(Y,ue))}catch(de){Y(ue,de)}}).prototype,(a=function(ee){x(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new j,rejection:!1,state:0,value:void 0})}).prototype=f(O,"then",function(ee,ue){var de=S(this),oe=B(D(this,P));return de.parent=!0,oe.ok=!b(ee)||ee,oe.fail=b(ue)&&ue,oe.domain=d?X.domain:void 0,de.state===0?de.reactions.add(oe):z(function(){G(oe,de)}),oe.promise}),s=function(){var ee=new a,ue=S(ee);this.promise=ee,this.resolve=ae(J,ue),this.reject=ae(Y,ue)},T.f=B=function(ee){return ee===P||ee===void 0?new s(ee):K(ee)},!u&&b(H)&&k!==Object.prototype)){o=k.then,w||f(k,"then",function(ee,ue){var de=this;return new P(function(oe,ce){h(o,de,oe,ce)}).then(ee,ue)},{unsafe:!0});try{delete k.constructor}catch{}p&&p(k,O)}l({global:!0,constructor:!0,wrap:!0,forced:E},{Promise:P}),g(P,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/is-pure"),o=i("../internals/promise-native-constructor"),l=i("../internals/fails"),u=i("../internals/get-built-in"),d=i("../internals/is-callable"),c=i("../internals/species-constructor"),h=i("../internals/promise-resolve"),f=i("../internals/define-built-in"),p=o&&o.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!o&&l(function(){p.finally.call({then:function(){}},function(){})})},{finally:function(m){var v=c(this,u("Promise")),b=d(m);return this.then(b?function(y){return h(v,m()).then(function(){return y})}:m,b?function(y){return h(v,m()).then(function(){throw y})}:m)}}),!s&&d(o)){var g=u("Promise").prototype.finally;p.finally!==g&&f(p,"finally",g,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(i,r,n){i("../modules/es.promise.constructor"),i("../modules/es.promise.all"),i("../modules/es.promise.catch"),i("../modules/es.promise.race"),i("../modules/es.promise.reject"),i("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/function-call"),o=i("../internals/a-callable"),l=i("../internals/new-promise-capability"),u=i("../internals/perform"),d=i("../internals/iterate");a({target:"Promise",stat:!0,forced:i("../internals/promise-statics-incorrect-iteration")},{race:function(c){var h=this,f=l.f(h),p=f.reject,g=u(function(){var m=o(h.resolve);d(c,function(v){s(m,h,v).then(f.resolve,p)})});return g.error&&p(g.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/function-call"),o=i("../internals/new-promise-capability");a({target:"Promise",stat:!0,forced:i("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var u=o.f(this);return s(u.reject,void 0,l),u.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/get-built-in"),o=i("../internals/is-pure"),l=i("../internals/promise-native-constructor"),u=i("../internals/promise-constructor-detection").CONSTRUCTOR,d=i("../internals/promise-resolve"),c=s("Promise"),h=o&&!u;a({target:"Promise",stat:!0,forced:o||u},{resolve:function(f){return d(h&&this===c?l:this,f)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/function-uncurry-this"),o=i("../internals/to-absolute-index"),l=RangeError,u=String.fromCharCode,d=String.fromCodePoint,c=s([].join);a({target:"String",stat:!0,arity:1,forced:!!d&&d.length!==1},{fromCodePoint:function(h){for(var f,p=[],g=arguments.length,m=0;g>m;){if(f=+arguments[m++],o(f,1114111)!==f)throw new l(f+" is not a valid code point");p[m]=f<65536?u(f):u(55296+((f-=65536)>>10),f%1024+56320)}return c(p,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/function-uncurry-this"),o=i("../internals/not-a-regexp"),l=i("../internals/require-object-coercible"),u=i("../internals/to-string"),d=i("../internals/correct-is-regexp-logic"),c=s("".indexOf);a({target:"String",proto:!0,forced:!d("includes")},{includes:function(h){return!!~c(u(l(this)),u(o(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(i,r,n){i("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/global"),o=i("../internals/function-call"),l=i("../internals/function-uncurry-this"),u=i("../internals/is-pure"),d=i("../internals/descriptors"),c=i("../internals/symbol-constructor-detection"),h=i("../internals/fails"),f=i("../internals/has-own-property"),p=i("../internals/object-is-prototype-of"),g=i("../internals/an-object"),m=i("../internals/to-indexed-object"),v=i("../internals/to-property-key"),b=i("../internals/to-string"),y=i("../internals/create-property-descriptor"),I=i("../internals/object-create"),D=i("../internals/object-keys"),N=i("../internals/object-get-own-property-names"),z=i("../internals/object-get-own-property-names-external"),F=i("../internals/object-get-own-property-symbols"),$=i("../internals/object-get-own-property-descriptor"),j=i("../internals/object-define-property"),q=i("../internals/object-define-properties"),H=i("../internals/object-property-is-enumerable"),A=i("../internals/define-built-in"),T=i("../internals/define-built-in-accessor"),E=i("../internals/shared"),C=i("../internals/shared-key"),w=i("../internals/hidden-keys"),S=i("../internals/uid"),x=i("../internals/well-known-symbol"),k=i("../internals/well-known-symbol-wrapped"),P=i("../internals/well-known-symbol-define"),O=i("../internals/symbol-define-to-primitive"),L=i("../internals/set-to-string-tag"),V=i("../internals/internal-state"),X=i("../internals/array-iteration").forEach,B=C("hidden"),K=V.set,R=V.getterFor("Symbol"),M=Object.prototype,G=s.Symbol,Q=G&&G.prototype,ne=s.RangeError,ie=s.TypeError,U=s.QObject,se=$.f,ae=j.f,Y=z.f,J=H.f,ee=l([].push),ue=E("symbols"),de=E("op-symbols"),oe=E("wks"),ce=!U||!U.prototype||!U.prototype.findChild,ge=function(Be,Fe,je){var Ye=se(M,Fe);Ye&&delete M[Fe],ae(Be,Fe,je),Ye&&Be!==M&&ae(M,Fe,Ye)},ve=d&&h(function(){return I(ae({},"a",{get:function(){return ae(this,"a",{value:7}).a}})).a!==7})?ge:ae,Se=function(Be,Fe){var je=ue[Be]=I(Q);return K(je,{type:"Symbol",tag:Be,description:Fe}),d||(je.description=Fe),je},ke=function(Be,Fe,je){Be===M&&ke(de,Fe,je),g(Be);var Ye=v(Fe);return g(je),f(ue,Ye)?(je.enumerable?(f(Be,B)&&Be[B][Ye]&&(Be[B][Ye]=!1),je=I(je,{enumerable:y(0,!1)})):(f(Be,B)||ae(Be,B,y(1,{})),Be[B][Ye]=!0),ve(Be,Ye,je)):ae(Be,Ye,je)},Ae=function(Be,Fe){g(Be);var je=m(Fe),Ye=D(je).concat(tt(je));return X(Ye,function(Qe){d&&!o(Xe,je,Qe)||ke(Be,Qe,je[Qe])}),Be},Xe=function(Be){var Fe=v(Be),je=o(J,this,Fe);return!(this===M&&f(ue,Fe)&&!f(de,Fe))&&(!(je||!f(this,Fe)||!f(ue,Fe)||f(this,B)&&this[B][Fe])||je)},et=function(Be,Fe){var je=m(Be),Ye=v(Fe);if(je!==M||!f(ue,Ye)||f(de,Ye)){var Qe=se(je,Ye);return!Qe||!f(ue,Ye)||f(je,B)&&je[B][Ye]||(Qe.enumerable=!0),Qe}},Je=function(Be){var Fe=Y(m(Be)),je=[];return X(Fe,function(Ye){f(ue,Ye)||f(w,Ye)||ee(je,Ye)}),je},tt=function(Be){var Fe=Be===M,je=Y(Fe?de:m(Be)),Ye=[];return X(je,function(Qe){!f(ue,Qe)||Fe&&!f(M,Qe)||ee(Ye,ue[Qe])}),Ye};c||(A(Q=(G=function(){if(p(Q,this))throw new ie("Symbol is not a constructor");var Be=arguments.length&&arguments[0]!==void 0?b(arguments[0]):void 0,Fe=S(Be),je=function(Ye){this===M&&o(je,de,Ye),f(this,B)&&f(this[B],Fe)&&(this[B][Fe]=!1);var Qe=y(1,Ye);try{ve(this,Fe,Qe)}catch(Bt){if(!(Bt instanceof ne))throw Bt;ge(this,Fe,Qe)}};return d&&ce&&ve(M,Fe,{configurable:!0,set:je}),Se(Fe,Be)}).prototype,"toString",function(){return R(this).tag}),A(G,"withoutSetter",function(Be){return Se(S(Be),Be)}),H.f=Xe,j.f=ke,q.f=Ae,$.f=et,N.f=z.f=Je,F.f=tt,k.f=function(Be){return Se(x(Be),Be)},d&&(T(Q,"description",{configurable:!0,get:function(){return R(this).description}}),u||A(M,"propertyIsEnumerable",Xe,{unsafe:!0}))),a({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:G}),X(D(oe),function(Be){P(Be)}),a({target:"Symbol",stat:!0,forced:!c},{useSetter:function(){ce=!0},useSimple:function(){ce=!1}}),a({target:"Object",stat:!0,forced:!c,sham:!d},{create:function(Be,Fe){return Fe===void 0?I(Be):Ae(I(Be),Fe)},defineProperty:ke,defineProperties:Ae,getOwnPropertyDescriptor:et}),a({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:Je}),O(),L(G,"Symbol"),w[B]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/get-built-in"),o=i("../internals/has-own-property"),l=i("../internals/to-string"),u=i("../internals/shared"),d=i("../internals/symbol-registry-detection"),c=u("string-to-symbol-registry"),h=u("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!d},{for:function(f){var p=l(f);if(o(c,p))return c[p];var g=s("Symbol")(p);return c[p]=g,h[g]=p,g}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(i,r,n){i("../modules/es.symbol.constructor"),i("../modules/es.symbol.for"),i("../modules/es.symbol.key-for"),i("../modules/es.json.stringify"),i("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(i,r,n){var a=i("../internals/export"),s=i("../internals/has-own-property"),o=i("../internals/is-symbol"),l=i("../internals/try-to-string"),u=i("../internals/shared"),d=i("../internals/symbol-registry-detection"),c=u("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!d},{keyFor:function(h){if(!o(h))throw new TypeError(l(h)+" is not a symbol");if(s(c,h))return c[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(i,r,n){function a(s){return Object.prototype.toString.call(s)}n.isArray=function(s){return Array.isArray?Array.isArray(s):a(s)==="[object Array]"},n.isBoolean=function(s){return typeof s=="boolean"},n.isNull=function(s){return s===null},n.isNullOrUndefined=function(s){return s==null},n.isNumber=function(s){return typeof s=="number"},n.isString=function(s){return typeof s=="string"},n.isSymbol=function(s){return typeof s=="symbol"},n.isUndefined=function(s){return s===void 0},n.isRegExp=function(s){return a(s)==="[object RegExp]"},n.isObject=function(s){return typeof s=="object"&&s!==null},n.isDate=function(s){return a(s)==="[object Date]"},n.isError=function(s){return a(s)==="[object Error]"||s instanceof Error},n.isFunction=function(s){return typeof s=="function"},n.isPrimitive=function(s){return s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||typeof s=="symbol"||s===void 0},n.isBuffer=i("buffer").Buffer.isBuffer},{buffer:220}],384:[function(i,r,n){(function(a){(function(){var s=i("elliptic"),o=i("bn.js");r.exports=function(c){return new u(c)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function u(c){this.curveType=l[c],this.curveType||(this.curveType={name:c}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function d(c,h,f){Array.isArray(c)||(c=c.toArray());var p=new a(c);if(f&&p.length<f){var g=new a(f-p.length);g.fill(0),p=a.concat([g,p])}return h?p.toString(h):p}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,u.prototype.generateKeys=function(c,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(c,h)},u.prototype.computeSecret=function(c,h,f){return h=h||"utf8",a.isBuffer(c)||(c=new a(c,h)),d(this.curve.keyFromPublic(c).getPublic().mul(this.keys.getPrivate()).getX(),f,this.curveType.byteLength)},u.prototype.getPublicKey=function(c,h){var f=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(f[f.length-1]%2?f[0]=7:f[0]=6),d(f,c)},u.prototype.getPrivateKey=function(c){return d(this.keys.getPrivate(),c)},u.prototype.setPublicKey=function(c,h){return h=h||"utf8",a.isBuffer(c)||(c=new a(c,h)),this.keys._importPublic(c),this},u.prototype.setPrivateKey=function(c,h){h=h||"utf8",a.isBuffer(c)||(c=new a(c,h));var f=new o(c);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this}}).call(this)}).call(this,i("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(i,r,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],386:[function(i,r,n){var a=i("inherits"),s=i("md5.js"),o=i("ripemd160"),l=i("sha.js"),u=i("cipher-base");function d(c){u.call(this,"digest"),this._hash=c}a(d,u),d.prototype._update=function(c){this._hash.update(c)},d.prototype._final=function(){return this._hash.digest()},r.exports=function(c){return(c=c.toLowerCase())==="md5"?new s:c==="rmd160"||c==="ripemd160"?new o:new d(l(c))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(i,r,n){var a=i("md5.js");r.exports=function(s){return new a().update(s).digest()}},{"md5.js":450}],388:[function(i,r,n){var a=i("inherits"),s=i("./legacy"),o=i("cipher-base"),l=i("safe-buffer").Buffer,u=i("create-hash/md5"),d=i("ripemd160"),c=i("sha.js"),h=l.alloc(128);function f(p,g){o.call(this,"digest"),typeof g=="string"&&(g=l.from(g));var m=p==="sha512"||p==="sha384"?128:64;this._alg=p,this._key=g,g.length>m?g=(p==="rmd160"?new d:c(p)).update(g).digest():g.length<m&&(g=l.concat([g,h],m));for(var v=this._ipad=l.allocUnsafe(m),b=this._opad=l.allocUnsafe(m),y=0;y<m;y++)v[y]=54^g[y],b[y]=92^g[y];this._hash=p==="rmd160"?new d:c(p),this._hash.update(v)}a(f,o),f.prototype._update=function(p){this._hash.update(p)},f.prototype._final=function(){var p=this._hash.digest();return(this._alg==="rmd160"?new d:c(this._alg)).update(this._opad).update(p).digest()},r.exports=function(p,g){return(p=p.toLowerCase())==="rmd160"||p==="ripemd160"?new f("rmd160",g):p==="md5"?new s(u,g):new f(p,g)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(i,r,n){var a=i("inherits"),s=i("safe-buffer").Buffer,o=i("cipher-base"),l=s.alloc(128);function u(d,c){o.call(this,"digest"),typeof c=="string"&&(c=s.from(c)),this._alg=d,this._key=c,c.length>64?c=d(c):c.length<64&&(c=s.concat([c,l],64));for(var h=this._ipad=s.allocUnsafe(64),f=this._opad=s.allocUnsafe(64),p=0;p<64;p++)h[p]=54^c[p],f[p]=92^c[p];this._hash=[h]}a(u,o),u.prototype._update=function(d){this._hash.push(d)},u.prototype._final=function(){var d=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,d]))},r.exports=u},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(i,r,n){n.randomBytes=n.rng=n.pseudoRandomBytes=n.prng=i("randombytes"),n.createHash=n.Hash=i("create-hash"),n.createHmac=n.Hmac=i("create-hmac");var a=i("browserify-sign/algos"),s=Object.keys(a),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);n.getHashes=function(){return o};var l=i("pbkdf2");n.pbkdf2=l.pbkdf2,n.pbkdf2Sync=l.pbkdf2Sync;var u=i("browserify-cipher");n.Cipher=u.Cipher,n.createCipher=u.createCipher,n.Cipheriv=u.Cipheriv,n.createCipheriv=u.createCipheriv,n.Decipher=u.Decipher,n.createDecipher=u.createDecipher,n.Decipheriv=u.Decipheriv,n.createDecipheriv=u.createDecipheriv,n.getCiphers=u.getCiphers,n.listCiphers=u.listCiphers;var d=i("diffie-hellman");n.DiffieHellmanGroup=d.DiffieHellmanGroup,n.createDiffieHellmanGroup=d.createDiffieHellmanGroup,n.getDiffieHellman=d.getDiffieHellman,n.createDiffieHellman=d.createDiffieHellman,n.DiffieHellman=d.DiffieHellman;var c=i("browserify-sign");n.createSign=c.createSign,n.Sign=c.Sign,n.createVerify=c.createVerify,n.Verify=c.Verify,n.createECDH=i("create-ecdh");var h=i("public-encrypt");n.publicEncrypt=h.publicEncrypt,n.privateEncrypt=h.privateEncrypt,n.publicDecrypt=h.publicDecrypt,n.privateDecrypt=h.privateDecrypt;var f=i("randomfill");n.randomFill=f.randomFill,n.randomFillSync=f.randomFillSync,n.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},n.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(i,r,n){(function(a,s){typeof n=="object"&&r!==void 0?r.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs=s()})(void 0,function(){var a=6e4,s=36e5,o="millisecond",l="second",u="minute",d="hour",c="day",h="week",f="month",p="quarter",g="year",m="date",v="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(C){var w=["th","st","nd","rd"],S=C%100;return"["+C+(w[(S-20)%10]||w[S]||w[0])+"]"}},D=function(C,w,S){var x=String(C);return!x||x.length>=w?C:""+Array(w+1-x.length).join(S)+C},N={s:D,z:function(C){var w=-C.utcOffset(),S=Math.abs(w),x=Math.floor(S/60),k=S%60;return(w<=0?"+":"-")+D(x,2,"0")+":"+D(k,2,"0")},m:function C(w,S){if(w.date()<S.date())return-C(S,w);var x=12*(S.year()-w.year())+(S.month()-w.month()),k=w.clone().add(x,f),P=S-k<0,O=w.clone().add(x+(P?-1:1),f);return+(-(x+(S-k)/(P?k-O:O-k))||0)},a:function(C){return C<0?Math.ceil(C)||0:Math.floor(C)},p:function(C){return{M:f,y:g,w:h,d:c,D:m,h:d,m:u,s:l,ms:o,Q:p}[C]||String(C||"").toLowerCase().replace(/s$/,"")},u:function(C){return C===void 0}},z="en",F={};F[z]=I;var $="$isDayjsObject",j=function(C){return C instanceof T||!(!C||!C[$])},q=function C(w,S,x){var k;if(!w)return z;if(typeof w=="string"){var P=w.toLowerCase();F[P]&&(k=P),S&&(F[P]=S,k=P);var O=w.split("-");if(!k&&O.length>1)return C(O[0])}else{var L=w.name;F[L]=w,k=L}return!x&&k&&(z=k),k||!x&&z},H=function(C,w){if(j(C))return C.clone();var S=typeof w=="object"?w:{};return S.date=C,S.args=arguments,new T(S)},A=N;A.l=q,A.i=j,A.w=function(C,w){return H(C,{locale:w.$L,utc:w.$u,x:w.$x,$offset:w.$offset})};var T=function(){function C(S){this.$L=q(S.locale,null,!0),this.parse(S),this.$x=this.$x||S.x||{},this[$]=!0}var w=C.prototype;return w.parse=function(S){this.$d=function(x){var k=x.date,P=x.utc;if(k===null)return new Date(NaN);if(A.u(k))return new Date;if(k instanceof Date)return new Date(k);if(typeof k=="string"&&!/Z$/i.test(k)){var O=k.match(b);if(O){var L=O[2]-1||0,V=(O[7]||"0").substring(0,3);return P?new Date(Date.UTC(O[1],L,O[3]||1,O[4]||0,O[5]||0,O[6]||0,V)):new Date(O[1],L,O[3]||1,O[4]||0,O[5]||0,O[6]||0,V)}}return new Date(k)}(S),this.init()},w.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},w.$utils=function(){return A},w.isValid=function(){return this.$d.toString()!==v},w.isSame=function(S,x){var k=H(S);return this.startOf(x)<=k&&k<=this.endOf(x)},w.isAfter=function(S,x){return H(S)<this.startOf(x)},w.isBefore=function(S,x){return this.endOf(x)<H(S)},w.$g=function(S,x,k){return A.u(S)?this[x]:this.set(k,S)},w.unix=function(){return Math.floor(this.valueOf()/1e3)},w.valueOf=function(){return this.$d.getTime()},w.startOf=function(S,x){var k=this,P=!!A.u(x)||x,O=A.p(S),L=function(Q,ne){var ie=A.w(k.$u?Date.UTC(k.$y,ne,Q):new Date(k.$y,ne,Q),k);return P?ie:ie.endOf(c)},V=function(Q,ne){return A.w(k.toDate()[Q].apply(k.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice(ne)),k)},X=this.$W,B=this.$M,K=this.$D,R="set"+(this.$u?"UTC":"");switch(O){case g:return P?L(1,0):L(31,11);case f:return P?L(1,B):L(0,B+1);case h:var M=this.$locale().weekStart||0,G=(X<M?X+7:X)-M;return L(P?K-G:K+(6-G),B);case c:case m:return V(R+"Hours",0);case d:return V(R+"Minutes",1);case u:return V(R+"Seconds",2);case l:return V(R+"Milliseconds",3);default:return this.clone()}},w.endOf=function(S){return this.startOf(S,!1)},w.$set=function(S,x){var k,P=A.p(S),O="set"+(this.$u?"UTC":""),L=(k={},k[c]=O+"Date",k[m]=O+"Date",k[f]=O+"Month",k[g]=O+"FullYear",k[d]=O+"Hours",k[u]=O+"Minutes",k[l]=O+"Seconds",k[o]=O+"Milliseconds",k)[P],V=P===c?this.$D+(x-this.$W):x;if(P===f||P===g){var X=this.clone().set(m,1);X.$d[L](V),X.init(),this.$d=X.set(m,Math.min(this.$D,X.daysInMonth())).$d}else L&&this.$d[L](V);return this.init(),this},w.set=function(S,x){return this.clone().$set(S,x)},w.get=function(S){return this[A.p(S)]()},w.add=function(S,x){var k,P=this;S=Number(S);var O=A.p(x),L=function(B){var K=H(P);return A.w(K.date(K.date()+Math.round(B*S)),P)};if(O===f)return this.set(f,this.$M+S);if(O===g)return this.set(g,this.$y+S);if(O===c)return L(1);if(O===h)return L(7);var V=(k={},k[u]=a,k[d]=s,k[l]=1e3,k)[O]||1,X=this.$d.getTime()+S*V;return A.w(X,this)},w.subtract=function(S,x){return this.add(-1*S,x)},w.format=function(S){var x=this,k=this.$locale();if(!this.isValid())return k.invalidDate||v;var P=S||"YYYY-MM-DDTHH:mm:ssZ",O=A.z(this),L=this.$H,V=this.$m,X=this.$M,B=k.weekdays,K=k.months,R=k.meridiem,M=function(ne,ie,U,se){return ne&&(ne[ie]||ne(x,P))||U[ie].slice(0,se)},G=function(ne){return A.s(L%12||12,ne,"0")},Q=R||function(ne,ie,U){var se=ne<12?"AM":"PM";return U?se.toLowerCase():se};return P.replace(y,function(ne,ie){return ie||function(U){switch(U){case"YY":return String(x.$y).slice(-2);case"YYYY":return A.s(x.$y,4,"0");case"M":return X+1;case"MM":return A.s(X+1,2,"0");case"MMM":return M(k.monthsShort,X,K,3);case"MMMM":return M(K,X);case"D":return x.$D;case"DD":return A.s(x.$D,2,"0");case"d":return String(x.$W);case"dd":return M(k.weekdaysMin,x.$W,B,2);case"ddd":return M(k.weekdaysShort,x.$W,B,3);case"dddd":return B[x.$W];case"H":return String(L);case"HH":return A.s(L,2,"0");case"h":return G(1);case"hh":return G(2);case"a":return Q(L,V,!0);case"A":return Q(L,V,!1);case"m":return String(V);case"mm":return A.s(V,2,"0");case"s":return String(x.$s);case"ss":return A.s(x.$s,2,"0");case"SSS":return A.s(x.$ms,3,"0");case"Z":return O}return null}(ne)||O.replace(":","")})},w.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},w.diff=function(S,x,k){var P,O=this,L=A.p(x),V=H(S),X=(V.utcOffset()-this.utcOffset())*a,B=this-V,K=function(){return A.m(O,V)};switch(L){case g:P=K()/12;break;case f:P=K();break;case p:P=K()/3;break;case h:P=(B-X)/6048e5;break;case c:P=(B-X)/864e5;break;case d:P=B/s;break;case u:P=B/a;break;case l:P=B/1e3;break;default:P=B}return k?P:A.a(P)},w.daysInMonth=function(){return this.endOf(f).$D},w.$locale=function(){return F[this.$L]},w.locale=function(S,x){if(!S)return this.$L;var k=this.clone(),P=q(S,x,!0);return P&&(k.$L=P),k},w.clone=function(){return A.w(this.$d,this)},w.toDate=function(){return new Date(this.valueOf())},w.toJSON=function(){return this.isValid()?this.toISOString():null},w.toISOString=function(){return this.$d.toISOString()},w.toString=function(){return this.$d.toUTCString()},C}(),E=T.prototype;return H.prototype=E,[["$ms",o],["$s",l],["$m",u],["$H",d],["$W",c],["$M",f],["$y",g],["$D",m]].forEach(function(C){E[C[1]]=function(w){return this.$g(w,C[0],C[1])}}),H.extend=function(C,w){return C.$i||(C(w,T,H),C.$i=!0),H},H.locale=q,H.isDayjs=j,H.unix=function(C){return H(1e3*C)},H.en=F[z],H.Ls=F,H.p={},H})},{}],392:[function(i,r,n){(function(a,s){typeof n=="object"&&r!==void 0?r.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_customParseFormat=s()})(void 0,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,l=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,d={},c=function(b){return(b=+b)+(b>68?1900:2e3)},h=function(b){return function(y){this[b]=+y}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var I=y.match(/([+-]|\d\d)/g),D=60*I[1]+(+I[2]||0);return D===0?0:I[0]==="+"?-D:D}(b)}],p=function(b){var y=d[b];return y&&(y.indexOf?y:y.s.concat(y.f))},g=function(b,y){var I,D=d.meridiem;if(D){for(var N=1;N<=24;N+=1)if(b.indexOf(D(N,0,y))>-1){I=N>12;break}}else I=b===(y?"pm":"PM");return I},m={A:[u,function(b){this.afternoon=g(b,!1)}],a:[u,function(b){this.afternoon=g(b,!0)}],S:[/\d/,function(b){this.milliseconds=100*+b}],SS:[o,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[l,h("seconds")],ss:[l,h("seconds")],m:[l,h("minutes")],mm:[l,h("minutes")],H:[l,h("hours")],h:[l,h("hours")],HH:[l,h("hours")],hh:[l,h("hours")],D:[l,h("day")],DD:[o,h("day")],Do:[u,function(b){var y=d.ordinal,I=b.match(/\d+/);if(this.day=I[0],y)for(var D=1;D<=31;D+=1)y(D).replace(/\[|\]/g,"")===b&&(this.day=D)}],M:[l,h("month")],MM:[o,h("month")],MMM:[u,function(b){var y=p("months"),I=(p("monthsShort")||y.map(function(D){return D.slice(0,3)})).indexOf(b)+1;if(I<1)throw new Error;this.month=I%12||I}],MMMM:[u,function(b){var y=p("months").indexOf(b)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,h("year")],YY:[o,function(b){this.year=c(b)}],YYYY:[/\d{4}/,h("year")],Z:f,ZZ:f};function v(b){var y,I;y=b,I=d&&d.formats;for(var D=(b=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(H,A,T){var E=T&&T.toUpperCase();return A||I[T]||a[T]||I[E].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(C,w,S){return w||S.slice(1)})})).match(s),N=D.length,z=0;z<N;z+=1){var F=D[z],$=m[F],j=$&&$[0],q=$&&$[1];D[z]=q?{regex:j,parser:q}:F.replace(/^\[|\]$/g,"")}return function(H){for(var A={},T=0,E=0;T<N;T+=1){var C=D[T];if(typeof C=="string")E+=C.length;else{var w=C.regex,S=C.parser,x=H.slice(E),k=w.exec(x)[0];S.call(A,k),H=H.replace(k,"")}}return function(P){var O=P.afternoon;if(O!==void 0){var L=P.hours;O?L<12&&(P.hours+=12):L===12&&(P.hours=0),delete P.afternoon}}(A),A}}return function(b,y,I){I.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(c=b.parseTwoDigitYear);var D=y.prototype,N=D.parse;D.parse=function(z){var F=z.date,$=z.utc,j=z.args;this.$u=$;var q=j[1];if(typeof q=="string"){var H=j[2]===!0,A=j[3]===!0,T=H||A,E=j[2];A&&(E=j[2]),d=this.$locale(),!H&&E&&(d=I.Ls[E]),this.$d=function(x,k,P){try{if(["x","X"].indexOf(k)>-1)return new Date((k==="X"?1e3:1)*x);var O=v(k)(x),L=O.year,V=O.month,X=O.day,B=O.hours,K=O.minutes,R=O.seconds,M=O.milliseconds,G=O.zone,Q=new Date,ne=X||(L||V?1:Q.getDate()),ie=L||Q.getFullYear(),U=0;L&&!V||(U=V>0?V-1:Q.getMonth());var se=B||0,ae=K||0,Y=R||0,J=M||0;return G?new Date(Date.UTC(ie,U,ne,se,ae,Y,J+60*G.offset*1e3)):P?new Date(Date.UTC(ie,U,ne,se,ae,Y,J)):new Date(ie,U,ne,se,ae,Y,J)}catch{return new Date("")}}(F,q,$),this.init(),E&&E!==!0&&(this.$L=this.locale(E).$L),T&&F!=this.format(q)&&(this.$d=new Date("")),d={}}else if(q instanceof Array)for(var C=q.length,w=1;w<=C;w+=1){j[1]=q[w-1];var S=I.apply(this,j);if(S.isValid()){this.$d=S.$d,this.$L=S.$L,this.init();break}w===C&&(this.$d=new Date(""))}else N.call(this,z)}}})},{}],393:[function(i,r,n){(function(a,s){typeof n=="object"&&r!==void 0?r.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_utc=s()})(void 0,function(){var a="minute",s=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(l,u,d){var c=u.prototype;d.utc=function(b){var y={date:b,utc:!0,args:arguments};return new u(y)},c.utc=function(b){var y=d(this.toDate(),{locale:this.$L,utc:!0});return b?y.add(this.utcOffset(),a):y},c.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var h=c.parse;c.parse=function(b){b.utc&&(this.$u=!0),this.$utils().u(b.$offset)||(this.$offset=b.$offset),h.call(this,b)};var f=c.init;c.init=function(){if(this.$u){var b=this.$d;this.$y=b.getUTCFullYear(),this.$M=b.getUTCMonth(),this.$D=b.getUTCDate(),this.$W=b.getUTCDay(),this.$H=b.getUTCHours(),this.$m=b.getUTCMinutes(),this.$s=b.getUTCSeconds(),this.$ms=b.getUTCMilliseconds()}else f.call(this)};var p=c.utcOffset;c.utcOffset=function(b,y){var I=this.$utils().u;if(I(b))return this.$u?0:I(this.$offset)?p.call(this):this.$offset;if(typeof b=="string"&&(b=function(F){F===void 0&&(F="");var $=F.match(s);if(!$)return null;var j=(""+$[0]).match(o)||["-",0,0],q=j[0],H=60*+j[1]+ +j[2];return H===0?0:q==="+"?H:-H}(b))===null)return this;var D=Math.abs(b)<=16?60*b:b,N=this;if(y)return N.$offset=D,N.$u=b===0,N;if(b!==0){var z=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(N=this.local().add(D+z,a)).$offset=D,N.$x.$localOffset=z}else N=this.utc();return N};var g=c.format;c.format=function(b){var y=b||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,y)},c.valueOf=function(){var b=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*b},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var m=c.toDate;c.toDate=function(b){return b==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var v=c.diff;c.diff=function(b,y,I){if(b&&this.$u===b.$u)return v.call(this,b,y,I);var D=this.local(),N=d(b).local();return v.call(D,N,y,I)}}})},{}],394:[function(i,r,n){n.utils=i("./des/utils"),n.Cipher=i("./des/cipher"),n.DES=i("./des/des"),n.CBC=i("./des/cbc"),n.EDE=i("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(i,r,n){var a=i("minimalistic-assert"),s=i("inherits"),o={};function l(u){a.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var d=0;d<this.iv.length;d++)this.iv[d]=u[d]}n.instantiate=function(u){function d(p){u.call(this,p),this._cbcInit()}s(d,u);for(var c=Object.keys(o),h=0;h<c.length;h++){var f=c[h];d.prototype[f]=o[f]}return d.create=function(p){return new d(p)},d},o._cbcInit=function(){var u=new l(this.options.iv);this._cbcState=u},o._update=function(u,d,c,h){var f=this._cbcState,p=this.constructor.super_.prototype,g=f.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)g[m]^=u[d+m];for(p._update.call(this,g,0,c,h),m=0;m<this.blockSize;m++)g[m]=c[h+m]}else{for(p._update.call(this,u,d,c,h),m=0;m<this.blockSize;m++)c[h+m]^=g[m];for(m=0;m<this.blockSize;m++)g[m]=u[d+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(i,r,n){var a=i("minimalistic-assert");function s(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}r.exports=s,s.prototype._init=function(){},s.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},s.prototype._buffer=function(o,l){for(var u=Math.min(this.buffer.length-this.bufferOff,o.length-l),d=0;d<u;d++)this.buffer[this.bufferOff+d]=o[l+d];return this.bufferOff+=u,u},s.prototype._flushBuffer=function(o,l){return this._update(this.buffer,0,o,l),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(o){var l=0,u=0,d=(this.bufferOff+o.length)/this.blockSize|0,c=new Array(d*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(o,l),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(c,u)));for(var h=o.length-(o.length-l)%this.blockSize;l<h;l+=this.blockSize)this._update(o,l,c,u),u+=this.blockSize;for(;l<o.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=o[l];return c},s.prototype._updateDecrypt=function(o){for(var l=0,u=0,d=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,c=new Array(d*this.blockSize);d>0;d--)l+=this._buffer(o,l),u+=this._flushBuffer(c,u);return l+=this._buffer(o,l),c},s.prototype.final=function(o){var l,u;return o&&(l=this.update(o)),u=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(u):u},s.prototype._pad=function(o,l){if(l===0)return!1;for(;l<o.length;)o[l++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},s.prototype._unpad=function(o){return o},s.prototype._finalDecrypt=function(){a.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)}},{"minimalistic-assert":453}],397:[function(i,r,n){var a=i("minimalistic-assert"),s=i("inherits"),o=i("./utils"),l=i("./cipher");function u(){this.tmp=new Array(2),this.keys=null}function d(h){l.call(this,h);var f=new u;this._desState=f,this.deriveKeys(f,h.key)}s(d,l),r.exports=d,d.create=function(h){return new d(h)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];d.prototype.deriveKeys=function(h,f){h.keys=new Array(32),a.equal(f.length,this.blockSize,"Invalid key length");var p=o.readUInt32BE(f,0),g=o.readUInt32BE(f,4);o.pc1(p,g,h.tmp,0),p=h.tmp[0],g=h.tmp[1];for(var m=0;m<h.keys.length;m+=2){var v=c[m>>>1];p=o.r28shl(p,v),g=o.r28shl(g,v),o.pc2(p,g,h.keys,m)}},d.prototype._update=function(h,f,p,g){var m=this._desState,v=o.readUInt32BE(h,f),b=o.readUInt32BE(h,f+4);o.ip(v,b,m.tmp,0),v=m.tmp[0],b=m.tmp[1],this.type==="encrypt"?this._encrypt(m,v,b,m.tmp,0):this._decrypt(m,v,b,m.tmp,0),v=m.tmp[0],b=m.tmp[1],o.writeUInt32BE(p,v,g),o.writeUInt32BE(p,b,g+4)},d.prototype._pad=function(h,f){if(this.padding===!1)return!1;for(var p=h.length-f,g=f;g<h.length;g++)h[g]=p;return!0},d.prototype._unpad=function(h){if(this.padding===!1)return h;for(var f=h[h.length-1],p=h.length-f;p<h.length;p++)a.equal(h[p],f);return h.slice(0,h.length-f)},d.prototype._encrypt=function(h,f,p,g,m){for(var v=f,b=p,y=0;y<h.keys.length;y+=2){var I=h.keys[y],D=h.keys[y+1];o.expand(b,h.tmp,0),I^=h.tmp[0],D^=h.tmp[1];var N=o.substitute(I,D),z=b;b=(v^o.permute(N))>>>0,v=z}o.rip(b,v,g,m)},d.prototype._decrypt=function(h,f,p,g,m){for(var v=p,b=f,y=h.keys.length-2;y>=0;y-=2){var I=h.keys[y],D=h.keys[y+1];o.expand(v,h.tmp,0),I^=h.tmp[0],D^=h.tmp[1];var N=o.substitute(I,D),z=v;v=(b^o.permute(N))>>>0,b=z}o.rip(v,b,g,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(i,r,n){var a=i("minimalistic-assert"),s=i("inherits"),o=i("./cipher"),l=i("./des");function u(c,h){a.equal(h.length,24,"Invalid key length");var f=h.slice(0,8),p=h.slice(8,16),g=h.slice(16,24);this.ciphers=c==="encrypt"?[l.create({type:"encrypt",key:f}),l.create({type:"decrypt",key:p}),l.create({type:"encrypt",key:g})]:[l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:p}),l.create({type:"decrypt",key:f})]}function d(c){o.call(this,c);var h=new u(this.type,this.options.key);this._edeState=h}s(d,o),r.exports=d,d.create=function(c){return new d(c)},d.prototype._update=function(c,h,f,p){var g=this._edeState;g.ciphers[0]._update(c,h,f,p),g.ciphers[1]._update(f,p,f,p),g.ciphers[2]._update(f,p,f,p)},d.prototype._pad=l.prototype._pad,d.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(i,r,n){n.readUInt32BE=function(l,u){return(l[0+u]<<24|l[1+u]<<16|l[2+u]<<8|l[3+u])>>>0},n.writeUInt32BE=function(l,u,d){l[0+d]=u>>>24,l[1+d]=u>>>16&255,l[2+d]=u>>>8&255,l[3+d]=255&u},n.ip=function(l,u,d,c){for(var h=0,f=0,p=6;p>=0;p-=2){for(var g=0;g<=24;g+=8)h<<=1,h|=u>>>g+p&1;for(g=0;g<=24;g+=8)h<<=1,h|=l>>>g+p&1}for(p=6;p>=0;p-=2){for(g=1;g<=25;g+=8)f<<=1,f|=u>>>g+p&1;for(g=1;g<=25;g+=8)f<<=1,f|=l>>>g+p&1}d[c+0]=h>>>0,d[c+1]=f>>>0},n.rip=function(l,u,d,c){for(var h=0,f=0,p=0;p<4;p++)for(var g=24;g>=0;g-=8)h<<=1,h|=u>>>g+p&1,h<<=1,h|=l>>>g+p&1;for(p=4;p<8;p++)for(g=24;g>=0;g-=8)f<<=1,f|=u>>>g+p&1,f<<=1,f|=l>>>g+p&1;d[c+0]=h>>>0,d[c+1]=f>>>0},n.pc1=function(l,u,d,c){for(var h=0,f=0,p=7;p>=5;p--){for(var g=0;g<=24;g+=8)h<<=1,h|=u>>g+p&1;for(g=0;g<=24;g+=8)h<<=1,h|=l>>g+p&1}for(g=0;g<=24;g+=8)h<<=1,h|=u>>g+p&1;for(p=1;p<=3;p++){for(g=0;g<=24;g+=8)f<<=1,f|=u>>g+p&1;for(g=0;g<=24;g+=8)f<<=1,f|=l>>g+p&1}for(g=0;g<=24;g+=8)f<<=1,f|=l>>g+p&1;d[c+0]=h>>>0,d[c+1]=f>>>0},n.r28shl=function(l,u){return l<<u&268435455|l>>>28-u};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];n.pc2=function(l,u,d,c){for(var h=0,f=0,p=a.length>>>1,g=0;g<p;g++)h<<=1,h|=l>>>a[g]&1;for(g=p;g<a.length;g++)f<<=1,f|=u>>>a[g]&1;d[c+0]=h>>>0,d[c+1]=f>>>0},n.expand=function(l,u,d){var c=0,h=0;c=(1&l)<<5|l>>>27;for(var f=23;f>=15;f-=4)c<<=6,c|=l>>>f&63;for(f=11;f>=3;f-=4)h|=l>>>f&63,h<<=6;h|=(31&l)<<1|l>>>31,u[d+0]=c>>>0,u[d+1]=h>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];n.substitute=function(l,u){for(var d=0,c=0;c<4;c++)d<<=4,d|=s[64*c+(l>>>18-6*c&63)];for(c=0;c<4;c++)d<<=4,d|=s[256+64*c+(u>>>18-6*c&63)];return d>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];n.permute=function(l){for(var u=0,d=0;d<o.length;d++)u<<=1,u|=l>>>o[d]&1;return u>>>0},n.padSplit=function(l,u,d){for(var c=l.toString(2);c.length<u;)c="0"+c;for(var h=[],f=0;f<u;f+=d)h.push(c.slice(f,f+d));return h.join(" ")}},{}],400:[function(i,r,n){(function(a){(function(){var s=i("./lib/generatePrime"),o=i("./lib/primes.json"),l=i("./lib/dh"),u={binary:!0,hex:!0,base64:!0};n.DiffieHellmanGroup=n.createDiffieHellmanGroup=n.getDiffieHellman=function(d){var c=new a(o[d].prime,"hex"),h=new a(o[d].gen,"hex");return new l(c,h)},n.createDiffieHellman=n.DiffieHellman=function d(c,h,f,p){return a.isBuffer(h)||u[h]===void 0?d(c,"binary",h,f):(h=h||"binary",p=p||"binary",f=f||new a([2]),a.isBuffer(f)||(f=new a(f,p)),typeof c=="number"?new l(s(c,f),f,!0):(a.isBuffer(c)||(c=new a(c,h)),new l(c,f,!0)))}}).call(this)}).call(this,i("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(i,r,n){(function(a){(function(){var s=i("bn.js"),o=new(i("miller-rabin")),l=new s(24),u=new s(11),d=new s(10),c=new s(3),h=new s(7),f=i("./generatePrime"),p=i("randombytes");function g(I,D){return D=D||"utf8",a.isBuffer(I)||(I=new a(I,D)),this._pub=new s(I),this}function m(I,D){return D=D||"utf8",a.isBuffer(I)||(I=new a(I,D)),this._priv=new s(I),this}r.exports=b;var v={};function b(I,D,N){this.setGenerator(D),this.__prime=new s(I),this._prime=s.mont(this.__prime),this._primeLen=I.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,N?(this.setPublicKey=g,this.setPrivateKey=m):this._primeCode=8}function y(I,D){var N=new a(I.toArray());return D?N.toString(D):N}Object.defineProperty(b.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(I,D){var N=D.toString("hex"),z=[N,I.toString(16)].join("_");if(z in v)return v[z];var F,$=0;if(I.isEven()||!f.simpleSieve||!f.fermatTest(I)||!o.test(I))return $+=1,$+=N==="02"||N==="05"?8:4,v[z]=$,$;switch(o.test(I.shrn(1))||($+=2),N){case"02":I.mod(l).cmp(u)&&($+=8);break;case"05":(F=I.mod(d)).cmp(c)&&F.cmp(h)&&($+=8);break;default:$+=4}return v[z]=$,$}(this.__prime,this.__gen)),this._primeCode}}),b.prototype.generateKeys=function(){return this._priv||(this._priv=new s(p(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},b.prototype.computeSecret=function(I){var D=(I=(I=new s(I)).toRed(this._prime)).redPow(this._priv).fromRed(),N=new a(D.toArray()),z=this.getPrime();if(N.length<z.length){var F=new a(z.length-N.length);F.fill(0),N=a.concat([F,N])}return N},b.prototype.getPublicKey=function(I){return y(this._pub,I)},b.prototype.getPrivateKey=function(I){return y(this._priv,I)},b.prototype.getPrime=function(I){return y(this.__prime,I)},b.prototype.getGenerator=function(I){return y(this._gen,I)},b.prototype.setGenerator=function(I,D){return D=D||"utf8",a.isBuffer(I)||(I=new a(I,D)),this.__gen=I,this._gen=new s(I),this}}).call(this)}).call(this,i("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(i,r,n){var a=i("randombytes");r.exports=I,I.simpleSieve=b,I.fermatTest=y;var s=i("bn.js"),o=new s(24),l=new(i("miller-rabin")),u=new s(1),d=new s(2),c=new s(5),h=(new s(16),new s(8),new s(10)),f=new s(3),p=(new s(7),new s(11)),g=new s(4),m=(new s(12),null);function v(){if(m!==null)return m;var D=[];D[0]=2;for(var N=1,z=3;z<1048576;z+=2){for(var F=Math.ceil(Math.sqrt(z)),$=0;$<N&&D[$]<=F&&z%D[$]!=0;$++);N!==$&&D[$]<=F||(D[N++]=z)}return m=D,D}function b(D){for(var N=v(),z=0;z<N.length;z++)if(D.modn(N[z])===0)return D.cmpn(N[z])===0;return!0}function y(D){var N=s.mont(D);return d.toRed(N).redPow(D.subn(1)).fromRed().cmpn(1)===0}function I(D,N){if(D<16)return new s(N===2||N===5?[140,123]:[140,39]);var z,F;for(N=new s(N);;){for(z=new s(a(Math.ceil(D/8)));z.bitLength()>D;)z.ishrn(1);if(z.isEven()&&z.iadd(u),z.testn(1)||z.iadd(d),N.cmp(d)){if(!N.cmp(c))for(;z.mod(h).cmp(f);)z.iadd(g)}else for(;z.mod(o).cmp(p);)z.iadd(g);if(b(F=z.shrn(1))&&b(z)&&y(F)&&y(z)&&l.test(F)&&l.test(z))return z}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(i,r,n){r.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(i,r,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],405:[function(i,r,n){var a=n;a.version=i("../package.json").version,a.utils=i("./elliptic/utils"),a.rand=i("brorand"),a.curve=i("./elliptic/curve"),a.curves=i("./elliptic/curves"),a.ec=i("./elliptic/ec"),a.eddsa=i("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(i,r,n){var a=i("bn.js"),s=i("../utils"),o=s.getNAF,l=s.getJSF,u=s.assert;function d(h,f){this.type=h,this.p=new a(f.p,16),this.red=f.prime?a.red(f.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=f.n&&new a(f.n,16),this.g=f.g&&this.pointFromJSON(f.g,f.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var p=this.n&&this.p.div(this.n);!p||p.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(h,f){this.curve=h,this.type=f,this.precomputed=null}r.exports=d,d.prototype.point=function(){throw new Error("Not implemented")},d.prototype.validate=function(){throw new Error("Not implemented")},d.prototype._fixedNafMul=function(h,f){u(h.precomputed);var p=h._getDoubles(),g=o(f,1,this._bitLength),m=(1<<p.step+1)-(p.step%2==0?2:1);m/=3;var v,b,y=[];for(v=0;v<g.length;v+=p.step){b=0;for(var I=v+p.step-1;I>=v;I--)b=(b<<1)+g[I];y.push(b)}for(var D=this.jpoint(null,null,null),N=this.jpoint(null,null,null),z=m;z>0;z--){for(v=0;v<y.length;v++)(b=y[v])===z?N=N.mixedAdd(p.points[v]):b===-z&&(N=N.mixedAdd(p.points[v].neg()));D=D.add(N)}return D.toP()},d.prototype._wnafMul=function(h,f){var p=4,g=h._getNAFPoints(p);p=g.wnd;for(var m=g.points,v=o(f,p,this._bitLength),b=this.jpoint(null,null,null),y=v.length-1;y>=0;y--){for(var I=0;y>=0&&v[y]===0;y--)I++;if(y>=0&&I++,b=b.dblp(I),y<0)break;var D=v[y];u(D!==0),b=h.type==="affine"?D>0?b.mixedAdd(m[D-1>>1]):b.mixedAdd(m[-D-1>>1].neg()):D>0?b.add(m[D-1>>1]):b.add(m[-D-1>>1].neg())}return h.type==="affine"?b.toP():b},d.prototype._wnafMulAdd=function(h,f,p,g,m){var v,b,y,I=this._wnafT1,D=this._wnafT2,N=this._wnafT3,z=0;for(v=0;v<g;v++){var F=(y=f[v])._getNAFPoints(h);I[v]=F.wnd,D[v]=F.points}for(v=g-1;v>=1;v-=2){var $=v-1,j=v;if(I[$]===1&&I[j]===1){var q=[f[$],null,null,f[j]];f[$].y.cmp(f[j].y)===0?(q[1]=f[$].add(f[j]),q[2]=f[$].toJ().mixedAdd(f[j].neg())):f[$].y.cmp(f[j].y.redNeg())===0?(q[1]=f[$].toJ().mixedAdd(f[j]),q[2]=f[$].add(f[j].neg())):(q[1]=f[$].toJ().mixedAdd(f[j]),q[2]=f[$].toJ().mixedAdd(f[j].neg()));var H=[-3,-1,-5,-7,0,7,5,1,3],A=l(p[$],p[j]);for(z=Math.max(A[0].length,z),N[$]=new Array(z),N[j]=new Array(z),b=0;b<z;b++){var T=0|A[0][b],E=0|A[1][b];N[$][b]=H[3*(T+1)+(E+1)],N[j][b]=0,D[$]=q}}else N[$]=o(p[$],I[$],this._bitLength),N[j]=o(p[j],I[j],this._bitLength),z=Math.max(N[$].length,z),z=Math.max(N[j].length,z)}var C=this.jpoint(null,null,null),w=this._wnafT4;for(v=z;v>=0;v--){for(var S=0;v>=0;){var x=!0;for(b=0;b<g;b++)w[b]=0|N[b][v],w[b]!==0&&(x=!1);if(!x)break;S++,v--}if(v>=0&&S++,C=C.dblp(S),v<0)break;for(b=0;b<g;b++){var k=w[b];k!==0&&(k>0?y=D[b][k-1>>1]:k<0&&(y=D[b][-k-1>>1].neg()),C=y.type==="affine"?C.mixedAdd(y):C.add(y))}}for(v=0;v<g;v++)D[v]=null;return m?C:C.toP()},d.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(h,f){h=s.toArray(h,f);var p=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*p)return h[0]===6?u(h[h.length-1]%2==0):h[0]===7&&u(h[h.length-1]%2==1),this.point(h.slice(1,1+p),h.slice(1+p,1+2*p));if((h[0]===2||h[0]===3)&&h.length-1===p)return this.pointFromX(h.slice(1,1+p),h[0]===3);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(h){return this.encode(h,!0)},c.prototype._encode=function(h){var f=this.curve.p.byteLength(),p=this.getX().toArray("be",f);return h?[this.getY().isEven()?2:3].concat(p):[4].concat(p,this.getY().toArray("be",f))},c.prototype.encode=function(h,f){return s.encode(this._encode(f),h)},c.prototype.precompute=function(h){if(this.precomputed)return this;var f={doubles:null,naf:null,beta:null};return f.naf=this._getNAFPoints(8),f.doubles=this._getDoubles(4,h),f.beta=this._getBeta(),this.precomputed=f,this},c.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var f=this.precomputed.doubles;return!!f&&f.points.length>=Math.ceil((h.bitLength()+1)/f.step)},c.prototype._getDoubles=function(h,f){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var p=[this],g=this,m=0;m<f;m+=h){for(var v=0;v<h;v++)g=g.dbl();p.push(g)}return{step:h,points:p}},c.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var f=[this],p=(1<<h)-1,g=p===1?null:this.dbl(),m=1;m<p;m++)f[m]=f[m-1].add(g);return{wnd:h,points:f}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(h){for(var f=this,p=0;p<h;p++)f=f.dbl();return f}},{"../utils":419,"bn.js":420}],407:[function(i,r,n){var a=i("../utils"),s=i("bn.js"),o=i("inherits"),l=i("./base"),u=a.assert;function d(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",h),this.a=new s(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function c(h,f,p,g,m){l.BasePoint.call(this,h,"projective"),f===null&&p===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(f,16),this.y=new s(p,16),this.z=g?new s(g,16):this.curve.one,this.t=m&&new s(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(d,l),r.exports=d,d.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},d.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},d.prototype.jpoint=function(h,f,p,g){return this.point(h,f,p,g)},d.prototype.pointFromX=function(h,f){(h=new s(h,16)).red||(h=h.toRed(this.red));var p=h.redSqr(),g=this.c2.redSub(this.a.redMul(p)),m=this.one.redSub(this.c2.redMul(this.d).redMul(p)),v=g.redMul(m.redInvm()),b=v.redSqrt();if(b.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var y=b.fromRed().isOdd();return(f&&!y||!f&&y)&&(b=b.redNeg()),this.point(h,b)},d.prototype.pointFromY=function(h,f){(h=new s(h,16)).red||(h=h.toRed(this.red));var p=h.redSqr(),g=p.redSub(this.c2),m=p.redMul(this.d).redMul(this.c2).redSub(this.a),v=g.redMul(m.redInvm());if(v.cmp(this.zero)===0){if(f)throw new Error("invalid point");return this.point(this.zero,h)}var b=v.redSqrt();if(b.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return b.fromRed().isOdd()!==f&&(b=b.redNeg()),this.point(b,h)},d.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var f=h.x.redSqr(),p=h.y.redSqr(),g=f.redMul(this.a).redAdd(p),m=this.c2.redMul(this.one.redAdd(this.d.redMul(f).redMul(p)));return g.cmp(m)===0},o(c,l.BasePoint),d.prototype.pointFromJSON=function(h){return c.fromJSON(this,h)},d.prototype.point=function(h,f,p,g){return new c(this,h,f,p,g)},c.fromJSON=function(h,f){return new c(h,f[0],f[1],f[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},c.prototype._extDbl=function(){var h=this.x.redSqr(),f=this.y.redSqr(),p=this.z.redSqr();p=p.redIAdd(p);var g=this.curve._mulA(h),m=this.x.redAdd(this.y).redSqr().redISub(h).redISub(f),v=g.redAdd(f),b=v.redSub(p),y=g.redSub(f),I=m.redMul(b),D=v.redMul(y),N=m.redMul(y),z=b.redMul(v);return this.curve.point(I,D,z,N)},c.prototype._projDbl=function(){var h,f,p,g,m,v,b=this.x.redAdd(this.y).redSqr(),y=this.x.redSqr(),I=this.y.redSqr();if(this.curve.twisted){var D=(g=this.curve._mulA(y)).redAdd(I);this.zOne?(h=b.redSub(y).redSub(I).redMul(D.redSub(this.curve.two)),f=D.redMul(g.redSub(I)),p=D.redSqr().redSub(D).redSub(D)):(m=this.z.redSqr(),v=D.redSub(m).redISub(m),h=b.redSub(y).redISub(I).redMul(v),f=D.redMul(g.redSub(I)),p=D.redMul(v))}else g=y.redAdd(I),m=this.curve._mulC(this.z).redSqr(),v=g.redSub(m).redSub(m),h=this.curve._mulC(b.redISub(g)).redMul(v),f=this.curve._mulC(g).redMul(y.redISub(I)),p=g.redMul(v);return this.curve.point(h,f,p)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(h){var f=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),p=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),g=this.t.redMul(this.curve.dd).redMul(h.t),m=this.z.redMul(h.z.redAdd(h.z)),v=p.redSub(f),b=m.redSub(g),y=m.redAdd(g),I=p.redAdd(f),D=v.redMul(b),N=y.redMul(I),z=v.redMul(I),F=b.redMul(y);return this.curve.point(D,N,F,z)},c.prototype._projAdd=function(h){var f,p,g=this.z.redMul(h.z),m=g.redSqr(),v=this.x.redMul(h.x),b=this.y.redMul(h.y),y=this.curve.d.redMul(v).redMul(b),I=m.redSub(y),D=m.redAdd(y),N=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(v).redISub(b),z=g.redMul(I).redMul(N);return this.curve.twisted?(f=g.redMul(D).redMul(b.redSub(this.curve._mulA(v))),p=I.redMul(D)):(f=g.redMul(D).redMul(b.redSub(v)),p=this.curve._mulC(I).redMul(D)),this.curve.point(z,f,p)},c.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},c.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},c.prototype.mulAdd=function(h,f,p){return this.curve._wnafMulAdd(1,[this,f],[h,p],2,!1)},c.prototype.jmulAdd=function(h,f,p){return this.curve._wnafMulAdd(1,[this,f],[h,p],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},c.prototype.eqXToP=function(h){var f=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(f)===0)return!0;for(var p=h.clone(),g=this.curve.redN.redMul(this.z);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(g),this.x.cmp(f)===0)return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(i,r,n){var a=n;a.base=i("./base"),a.short=i("./short"),a.mont=i("./mont"),a.edwards=i("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(i,r,n){var a=i("bn.js"),s=i("inherits"),o=i("./base"),l=i("../utils");function u(c){o.call(this,"mont",c),this.a=new a(c.a,16).toRed(this.red),this.b=new a(c.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function d(c,h,f){o.BasePoint.call(this,c,"projective"),h===null&&f===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(h,16),this.z=new a(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(u,o),r.exports=u,u.prototype.validate=function(c){var h=c.normalize().x,f=h.redSqr(),p=f.redMul(h).redAdd(f.redMul(this.a)).redAdd(h);return p.redSqrt().redSqr().cmp(p)===0},s(d,o.BasePoint),u.prototype.decodePoint=function(c,h){return this.point(l.toArray(c,h),1)},u.prototype.point=function(c,h){return new d(this,c,h)},u.prototype.pointFromJSON=function(c){return d.fromJSON(this,c)},d.prototype.precompute=function(){},d.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},d.fromJSON=function(c,h){return new d(c,h[0],h[1]||c.one)},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0},d.prototype.dbl=function(){var c=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),f=c.redSub(h),p=c.redMul(h),g=f.redMul(h.redAdd(this.curve.a24.redMul(f)));return this.curve.point(p,g)},d.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.diffAdd=function(c,h){var f=this.x.redAdd(this.z),p=this.x.redSub(this.z),g=c.x.redAdd(c.z),m=c.x.redSub(c.z).redMul(f),v=g.redMul(p),b=h.z.redMul(m.redAdd(v).redSqr()),y=h.x.redMul(m.redISub(v).redSqr());return this.curve.point(b,y)},d.prototype.mul=function(c){for(var h=c.clone(),f=this,p=this.curve.point(null,null),g=[];h.cmpn(0)!==0;h.iushrn(1))g.push(h.andln(1));for(var m=g.length-1;m>=0;m--)g[m]===0?(f=f.diffAdd(p,this),p=p.dbl()):(p=f.diffAdd(p,this),f=f.dbl());return p},d.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},d.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(i,r,n){var a=i("../utils"),s=i("bn.js"),o=i("inherits"),l=i("./base"),u=a.assert;function d(f){l.call(this,"short",f),this.a=new s(f.a,16).toRed(this.red),this.b=new s(f.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(f),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(f,p,g,m){l.BasePoint.call(this,f,"affine"),p===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(p,16),this.y=new s(g,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(f,p,g,m){l.BasePoint.call(this,f,"jacobian"),p===null&&g===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(p,16),this.y=new s(g,16),this.z=new s(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(d,l),r.exports=d,d.prototype._getEndomorphism=function(f){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var p,g;if(f.beta)p=new s(f.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);p=(p=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(f.lambda)g=new s(f.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(p))===0?g=v[0]:(g=v[1],u(this.g.mul(g).x.cmp(this.g.x.redMul(p))===0))}return{beta:p,lambda:g,basis:f.basis?f.basis.map(function(b){return{a:new s(b.a,16),b:new s(b.b,16)}}):this._getEndoBasis(g)}}},d.prototype._getEndoRoots=function(f){var p=f===this.p?this.red:s.mont(f),g=new s(2).toRed(p).redInvm(),m=g.redNeg(),v=new s(3).toRed(p).redNeg().redSqrt().redMul(g);return[m.redAdd(v).fromRed(),m.redSub(v).fromRed()]},d.prototype._getEndoBasis=function(f){for(var p,g,m,v,b,y,I,D,N,z=this.n.ushrn(Math.floor(this.n.bitLength()/2)),F=f,$=this.n.clone(),j=new s(1),q=new s(0),H=new s(0),A=new s(1),T=0;F.cmpn(0)!==0;){var E=$.div(F);D=$.sub(E.mul(F)),N=H.sub(E.mul(j));var C=A.sub(E.mul(q));if(!m&&D.cmp(z)<0)p=I.neg(),g=j,m=D.neg(),v=N;else if(m&&++T==2)break;I=D,$=F,F=D,H=j,j=N,A=q,q=C}b=D.neg(),y=N;var w=m.sqr().add(v.sqr());return b.sqr().add(y.sqr()).cmp(w)>=0&&(b=p,y=g),m.negative&&(m=m.neg(),v=v.neg()),b.negative&&(b=b.neg(),y=y.neg()),[{a:m,b:v},{a:b,b:y}]},d.prototype._endoSplit=function(f){var p=this.endo.basis,g=p[0],m=p[1],v=m.b.mul(f).divRound(this.n),b=g.b.neg().mul(f).divRound(this.n),y=v.mul(g.a),I=b.mul(m.a),D=v.mul(g.b),N=b.mul(m.b);return{k1:f.sub(y).sub(I),k2:D.add(N).neg()}},d.prototype.pointFromX=function(f,p){(f=new s(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr().redMul(f).redIAdd(f.redMul(this.a)).redIAdd(this.b),m=g.redSqrt();if(m.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var v=m.fromRed().isOdd();return(p&&!v||!p&&v)&&(m=m.redNeg()),this.point(f,m)},d.prototype.validate=function(f){if(f.inf)return!0;var p=f.x,g=f.y,m=this.a.redMul(p),v=p.redSqr().redMul(p).redIAdd(m).redIAdd(this.b);return g.redSqr().redISub(v).cmpn(0)===0},d.prototype._endoWnafMulAdd=function(f,p,g){for(var m=this._endoWnafT1,v=this._endoWnafT2,b=0;b<f.length;b++){var y=this._endoSplit(p[b]),I=f[b],D=I._getBeta();y.k1.negative&&(y.k1.ineg(),I=I.neg(!0)),y.k2.negative&&(y.k2.ineg(),D=D.neg(!0)),m[2*b]=I,m[2*b+1]=D,v[2*b]=y.k1,v[2*b+1]=y.k2}for(var N=this._wnafMulAdd(1,m,v,2*b,g),z=0;z<2*b;z++)m[z]=null,v[z]=null;return N},o(c,l.BasePoint),d.prototype.point=function(f,p,g){return new c(this,f,p,g)},d.prototype.pointFromJSON=function(f,p){return c.fromJSON(this,f,p)},c.prototype._getBeta=function(){if(this.curve.endo){var f=this.precomputed;if(f&&f.beta)return f.beta;var p=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(f){var g=this.curve,m=function(v){return g.point(v.x.redMul(g.endo.beta),v.y)};f.beta=p,p.precomputed={beta:null,naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(m)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(m)}}}return p}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(f,p,g){typeof p=="string"&&(p=JSON.parse(p));var m=f.point(p[0],p[1],g);if(!p[2])return m;function v(y){return f.point(y[0],y[1],g)}var b=p[2];return m.precomputed={beta:null,doubles:b.doubles&&{step:b.doubles.step,points:[m].concat(b.doubles.points.map(v))},naf:b.naf&&{wnd:b.naf.wnd,points:[m].concat(b.naf.points.map(v))}},m},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(f){if(this.inf)return f;if(f.inf)return this;if(this.eq(f))return this.dbl();if(this.neg().eq(f))return this.curve.point(null,null);if(this.x.cmp(f.x)===0)return this.curve.point(null,null);var p=this.y.redSub(f.y);p.cmpn(0)!==0&&(p=p.redMul(this.x.redSub(f.x).redInvm()));var g=p.redSqr().redISub(this.x).redISub(f.x),m=p.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,m)},c.prototype.dbl=function(){if(this.inf)return this;var f=this.y.redAdd(this.y);if(f.cmpn(0)===0)return this.curve.point(null,null);var p=this.curve.a,g=this.x.redSqr(),m=f.redInvm(),v=g.redAdd(g).redIAdd(g).redIAdd(p).redMul(m),b=v.redSqr().redISub(this.x.redAdd(this.x)),y=v.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,y)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(f){return f=new s(f,16),this.isInfinity()?this:this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve.endo?this.curve._endoWnafMulAdd([this],[f]):this.curve._wnafMul(this,f)},c.prototype.mulAdd=function(f,p,g){var m=[this,p],v=[f,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,v):this.curve._wnafMulAdd(1,m,v,2)},c.prototype.jmulAdd=function(f,p,g){var m=[this,p],v=[f,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,v,!0):this.curve._wnafMulAdd(1,m,v,2,!0)},c.prototype.eq=function(f){return this===f||this.inf===f.inf&&(this.inf||this.x.cmp(f.x)===0&&this.y.cmp(f.y)===0)},c.prototype.neg=function(f){if(this.inf)return this;var p=this.curve.point(this.x,this.y.redNeg());if(f&&this.precomputed){var g=this.precomputed,m=function(v){return v.neg()};p.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(m)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(m)}}}return p},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(h,l.BasePoint),d.prototype.jpoint=function(f,p,g){return new h(this,f,p,g)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var f=this.z.redInvm(),p=f.redSqr(),g=this.x.redMul(p),m=this.y.redMul(p).redMul(f);return this.curve.point(g,m)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var p=f.z.redSqr(),g=this.z.redSqr(),m=this.x.redMul(p),v=f.x.redMul(g),b=this.y.redMul(p.redMul(f.z)),y=f.y.redMul(g.redMul(this.z)),I=m.redSub(v),D=b.redSub(y);if(I.cmpn(0)===0)return D.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var N=I.redSqr(),z=N.redMul(I),F=m.redMul(N),$=D.redSqr().redIAdd(z).redISub(F).redISub(F),j=D.redMul(F.redISub($)).redISub(b.redMul(z)),q=this.z.redMul(f.z).redMul(I);return this.curve.jpoint($,j,q)},h.prototype.mixedAdd=function(f){if(this.isInfinity())return f.toJ();if(f.isInfinity())return this;var p=this.z.redSqr(),g=this.x,m=f.x.redMul(p),v=this.y,b=f.y.redMul(p).redMul(this.z),y=g.redSub(m),I=v.redSub(b);if(y.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=y.redSqr(),N=D.redMul(y),z=g.redMul(D),F=I.redSqr().redIAdd(N).redISub(z).redISub(z),$=I.redMul(z.redISub(F)).redISub(v.redMul(N)),j=this.z.redMul(y);return this.curve.jpoint(F,$,j)},h.prototype.dblp=function(f){if(f===0)return this;if(this.isInfinity())return this;if(!f)return this.dbl();var p;if(this.curve.zeroA||this.curve.threeA){var g=this;for(p=0;p<f;p++)g=g.dbl();return g}var m=this.curve.a,v=this.curve.tinv,b=this.x,y=this.y,I=this.z,D=I.redSqr().redSqr(),N=y.redAdd(y);for(p=0;p<f;p++){var z=b.redSqr(),F=N.redSqr(),$=F.redSqr(),j=z.redAdd(z).redIAdd(z).redIAdd(m.redMul(D)),q=b.redMul(F),H=j.redSqr().redISub(q.redAdd(q)),A=q.redISub(H),T=j.redMul(A);T=T.redIAdd(T).redISub($);var E=N.redMul(I);p+1<f&&(D=D.redMul($)),b=H,I=E,N=T}return this.curve.jpoint(b,N.redMul(v),I)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var f,p,g;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),b=v.redSqr(),y=this.x.redAdd(v).redSqr().redISub(m).redISub(b);y=y.redIAdd(y);var I=m.redAdd(m).redIAdd(m),D=I.redSqr().redISub(y).redISub(y),N=b.redIAdd(b);N=(N=N.redIAdd(N)).redIAdd(N),f=D,p=I.redMul(y.redISub(D)).redISub(N),g=this.y.redAdd(this.y)}else{var z=this.x.redSqr(),F=this.y.redSqr(),$=F.redSqr(),j=this.x.redAdd(F).redSqr().redISub(z).redISub($);j=j.redIAdd(j);var q=z.redAdd(z).redIAdd(z),H=q.redSqr(),A=$.redIAdd($);A=(A=A.redIAdd(A)).redIAdd(A),f=H.redISub(j).redISub(j),p=q.redMul(j.redISub(f)).redISub(A),g=(g=this.y.redMul(this.z)).redIAdd(g)}return this.curve.jpoint(f,p,g)},h.prototype._threeDbl=function(){var f,p,g;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),b=v.redSqr(),y=this.x.redAdd(v).redSqr().redISub(m).redISub(b);y=y.redIAdd(y);var I=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),D=I.redSqr().redISub(y).redISub(y);f=D;var N=b.redIAdd(b);N=(N=N.redIAdd(N)).redIAdd(N),p=I.redMul(y.redISub(D)).redISub(N),g=this.y.redAdd(this.y)}else{var z=this.z.redSqr(),F=this.y.redSqr(),$=this.x.redMul(F),j=this.x.redSub(z).redMul(this.x.redAdd(z));j=j.redAdd(j).redIAdd(j);var q=$.redIAdd($),H=(q=q.redIAdd(q)).redAdd(q);f=j.redSqr().redISub(H),g=this.y.redAdd(this.z).redSqr().redISub(F).redISub(z);var A=F.redSqr();A=(A=(A=A.redIAdd(A)).redIAdd(A)).redIAdd(A),p=j.redMul(q.redISub(f)).redISub(A)}return this.curve.jpoint(f,p,g)},h.prototype._dbl=function(){var f=this.curve.a,p=this.x,g=this.y,m=this.z,v=m.redSqr().redSqr(),b=p.redSqr(),y=g.redSqr(),I=b.redAdd(b).redIAdd(b).redIAdd(f.redMul(v)),D=p.redAdd(p),N=(D=D.redIAdd(D)).redMul(y),z=I.redSqr().redISub(N.redAdd(N)),F=N.redISub(z),$=y.redSqr();$=($=($=$.redIAdd($)).redIAdd($)).redIAdd($);var j=I.redMul(F).redISub($),q=g.redAdd(g).redMul(m);return this.curve.jpoint(z,j,q)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var f=this.x.redSqr(),p=this.y.redSqr(),g=this.z.redSqr(),m=p.redSqr(),v=f.redAdd(f).redIAdd(f),b=v.redSqr(),y=this.x.redAdd(p).redSqr().redISub(f).redISub(m),I=(y=(y=(y=y.redIAdd(y)).redAdd(y).redIAdd(y)).redISub(b)).redSqr(),D=m.redIAdd(m);D=(D=(D=D.redIAdd(D)).redIAdd(D)).redIAdd(D);var N=v.redIAdd(y).redSqr().redISub(b).redISub(I).redISub(D),z=p.redMul(N);z=(z=z.redIAdd(z)).redIAdd(z);var F=this.x.redMul(I).redISub(z);F=(F=F.redIAdd(F)).redIAdd(F);var $=this.y.redMul(N.redMul(D.redISub(N)).redISub(y.redMul(I)));$=($=($=$.redIAdd($)).redIAdd($)).redIAdd($);var j=this.z.redAdd(y).redSqr().redISub(g).redISub(I);return this.curve.jpoint(F,$,j)},h.prototype.mul=function(f,p){return f=new s(f,p),this.curve._wnafMul(this,f)},h.prototype.eq=function(f){if(f.type==="affine")return this.eq(f.toJ());if(this===f)return!0;var p=this.z.redSqr(),g=f.z.redSqr();if(this.x.redMul(g).redISub(f.x.redMul(p)).cmpn(0)!==0)return!1;var m=p.redMul(this.z),v=g.redMul(f.z);return this.y.redMul(v).redISub(f.y.redMul(m)).cmpn(0)===0},h.prototype.eqXToP=function(f){var p=this.z.redSqr(),g=f.toRed(this.curve.red).redMul(p);if(this.x.cmp(g)===0)return!0;for(var m=f.clone(),v=this.curve.redN.redMul(p);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(v),this.x.cmp(g)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(i,r,n){var a,s=n,o=i("hash.js"),l=i("./curve"),u=i("./utils").assert;function d(h){h.type==="short"?this.curve=new l.short(h):h.type==="edwards"?this.curve=new l.edwards(h):this.curve=new l.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,u(this.g.validate(),"Invalid curve"),u(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(h,f){Object.defineProperty(s,h,{configurable:!0,enumerable:!0,get:function(){var p=new d(f);return Object.defineProperty(s,h,{configurable:!0,enumerable:!0,value:p}),p}})}s.PresetCurve=d,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{a=i("./precomputed/secp256k1")}catch{a=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(i,r,n){var a=i("bn.js"),s=i("hmac-drbg"),o=i("../utils"),l=i("../curves"),u=i("brorand"),d=o.assert,c=i("./key"),h=i("./signature");function f(p){if(!(this instanceof f))return new f(p);typeof p=="string"&&(d(Object.prototype.hasOwnProperty.call(l,p),"Unknown curve "+p),p=l[p]),p instanceof l.PresetCurve&&(p={curve:p}),this.curve=p.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=p.curve.g,this.g.precompute(p.curve.n.bitLength()+1),this.hash=p.hash||p.curve.hash}r.exports=f,f.prototype.keyPair=function(p){return new c(this,p)},f.prototype.keyFromPrivate=function(p,g){return c.fromPrivate(this,p,g)},f.prototype.keyFromPublic=function(p,g){return c.fromPublic(this,p,g)},f.prototype.genKeyPair=function(p){p||(p={});for(var g=new s({hash:this.hash,pers:p.pers,persEnc:p.persEnc||"utf8",entropy:p.entropy||u(this.hash.hmacStrength),entropyEnc:p.entropy&&p.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),v=this.n.sub(new a(2));;){var b=new a(g.generate(m));if(!(b.cmp(v)>0))return b.iaddn(1),this.keyFromPrivate(b)}},f.prototype._truncateToN=function(p,g){var m=8*p.byteLength()-this.n.bitLength();return m>0&&(p=p.ushrn(m)),!g&&p.cmp(this.n)>=0?p.sub(this.n):p},f.prototype.sign=function(p,g,m,v){typeof m=="object"&&(v=m,m=null),v||(v={}),g=this.keyFromPrivate(g,m),p=this._truncateToN(new a(p,16));for(var b=this.n.byteLength(),y=g.getPrivate().toArray("be",b),I=p.toArray("be",b),D=new s({hash:this.hash,entropy:y,nonce:I,pers:v.pers,persEnc:v.persEnc||"utf8"}),N=this.n.sub(new a(1)),z=0;;z++){var F=v.k?v.k(z):new a(D.generate(this.n.byteLength()));if(!((F=this._truncateToN(F,!0)).cmpn(1)<=0||F.cmp(N)>=0)){var $=this.g.mul(F);if(!$.isInfinity()){var j=$.getX(),q=j.umod(this.n);if(q.cmpn(0)!==0){var H=F.invm(this.n).mul(q.mul(g.getPrivate()).iadd(p));if((H=H.umod(this.n)).cmpn(0)!==0){var A=($.getY().isOdd()?1:0)|(j.cmp(q)!==0?2:0);return v.canonical&&H.cmp(this.nh)>0&&(H=this.n.sub(H),A^=1),new h({r:q,s:H,recoveryParam:A})}}}}}},f.prototype.verify=function(p,g,m,v){p=this._truncateToN(new a(p,16)),m=this.keyFromPublic(m,v);var b=(g=new h(g,"hex")).r,y=g.s;if(b.cmpn(1)<0||b.cmp(this.n)>=0||y.cmpn(1)<0||y.cmp(this.n)>=0)return!1;var I,D=y.invm(this.n),N=D.mul(p).umod(this.n),z=D.mul(b).umod(this.n);return this.curve._maxwellTrick?!(I=this.g.jmulAdd(N,m.getPublic(),z)).isInfinity()&&I.eqXToP(b):!(I=this.g.mulAdd(N,m.getPublic(),z)).isInfinity()&&I.getX().umod(this.n).cmp(b)===0},f.prototype.recoverPubKey=function(p,g,m,v){d((3&m)===m,"The recovery param is more than two bits"),g=new h(g,v);var b=this.n,y=new a(p),I=g.r,D=g.s,N=1&m,z=m>>1;if(I.cmp(this.curve.p.umod(this.curve.n))>=0&&z)throw new Error("Unable to find sencond key candinate");I=z?this.curve.pointFromX(I.add(this.curve.n),N):this.curve.pointFromX(I,N);var F=g.r.invm(b),$=b.sub(y).mul(F).umod(b),j=D.mul(F).umod(b);return this.g.mulAdd($,I,j)},f.prototype.getKeyRecoveryParam=function(p,g,m,v){if((g=new h(g,v)).recoveryParam!==null)return g.recoveryParam;for(var b=0;b<4;b++){var y;try{y=this.recoverPubKey(p,g,b)}catch{continue}if(y.eq(m))return b}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(i,r,n){var a=i("bn.js"),s=i("../utils").assert;function o(l,u){this.ec=l,this.priv=null,this.pub=null,u.priv&&this._importPrivate(u.priv,u.privEnc),u.pub&&this._importPublic(u.pub,u.pubEnc)}r.exports=o,o.fromPublic=function(l,u,d){return u instanceof o?u:new o(l,{pub:u,pubEnc:d})},o.fromPrivate=function(l,u,d){return u instanceof o?u:new o(l,{priv:u,privEnc:d})},o.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(l,u){return typeof l=="string"&&(u=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),u?this.pub.encode(u,l):this.pub},o.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(l,u){this.priv=new a(l,u||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(l,u){if(l.x||l.y)return this.ec.curve.type==="mont"?s(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||s(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,u)},o.prototype.derive=function(l){return l.validate()||s(l.validate(),"public point not validated"),l.mul(this.priv).getX()},o.prototype.sign=function(l,u,d){return this.ec.sign(l,this,u,d)},o.prototype.verify=function(l,u){return this.ec.verify(l,u,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(i,r,n){var a=i("bn.js"),s=i("../utils"),o=s.assert;function l(f,p){if(f instanceof l)return f;this._importDER(f,p)||(o(f.r&&f.s,"Signature without r or s"),this.r=new a(f.r,16),this.s=new a(f.s,16),f.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=f.recoveryParam)}function u(){this.place=0}function d(f,p){var g=f[p.place++];if(!(128&g))return g;var m=15&g;if(m===0||m>4)return!1;for(var v=0,b=0,y=p.place;b<m;b++,y++)v<<=8,v|=f[y],v>>>=0;return!(v<=127)&&(p.place=y,v)}function c(f){for(var p=0,g=f.length-1;!f[p]&&!(128&f[p+1])&&p<g;)p++;return p===0?f:f.slice(p)}function h(f,p){if(p<128)f.push(p);else{var g=1+(Math.log(p)/Math.LN2>>>3);for(f.push(128|g);--g;)f.push(p>>>(g<<3)&255);f.push(p)}}r.exports=l,l.prototype._importDER=function(f,p){f=s.toArray(f,p);var g=new u;if(f[g.place++]!==48)return!1;var m=d(f,g);if(m===!1||m+g.place!==f.length||f[g.place++]!==2)return!1;var v=d(f,g);if(v===!1)return!1;var b=f.slice(g.place,v+g.place);if(g.place+=v,f[g.place++]!==2)return!1;var y=d(f,g);if(y===!1||f.length!==y+g.place)return!1;var I=f.slice(g.place,y+g.place);if(b[0]===0){if(!(128&b[1]))return!1;b=b.slice(1)}if(I[0]===0){if(!(128&I[1]))return!1;I=I.slice(1)}return this.r=new a(b),this.s=new a(I),this.recoveryParam=null,!0},l.prototype.toDER=function(f){var p=this.r.toArray(),g=this.s.toArray();for(128&p[0]&&(p=[0].concat(p)),128&g[0]&&(g=[0].concat(g)),p=c(p),g=c(g);!(g[0]||128&g[1]);)g=g.slice(1);var m=[2];h(m,p.length),(m=m.concat(p)).push(2),h(m,g.length);var v=m.concat(g),b=[48];return h(b,v.length),b=b.concat(v),s.encode(b,f)}},{"../utils":419,"bn.js":420}],415:[function(i,r,n){var a=i("hash.js"),s=i("../curves"),o=i("../utils"),l=o.assert,u=o.parseBytes,d=i("./key"),c=i("./signature");function h(f){if(l(f==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(f);f=s[f].curve,this.curve=f,this.g=f.g,this.g.precompute(f.n.bitLength()+1),this.pointClass=f.point().constructor,this.encodingLength=Math.ceil(f.n.bitLength()/8),this.hash=a.sha512}r.exports=h,h.prototype.sign=function(f,p){f=u(f);var g=this.keyFromSecret(p),m=this.hashInt(g.messagePrefix(),f),v=this.g.mul(m),b=this.encodePoint(v),y=this.hashInt(b,g.pubBytes(),f).mul(g.priv()),I=m.add(y).umod(this.curve.n);return this.makeSignature({R:v,S:I,Rencoded:b})},h.prototype.verify=function(f,p,g){f=u(f),p=this.makeSignature(p);var m=this.keyFromPublic(g),v=this.hashInt(p.Rencoded(),m.pubBytes(),f),b=this.g.mul(p.S());return p.R().add(m.pub().mul(v)).eq(b)},h.prototype.hashInt=function(){for(var f=this.hash(),p=0;p<arguments.length;p++)f.update(arguments[p]);return o.intFromLE(f.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(f){return d.fromPublic(this,f)},h.prototype.keyFromSecret=function(f){return d.fromSecret(this,f)},h.prototype.makeSignature=function(f){return f instanceof c?f:new c(this,f)},h.prototype.encodePoint=function(f){var p=f.getY().toArray("le",this.encodingLength);return p[this.encodingLength-1]|=f.getX().isOdd()?128:0,p},h.prototype.decodePoint=function(f){var p=(f=o.parseBytes(f)).length-1,g=f.slice(0,p).concat(-129&f[p]),m=(128&f[p])!=0,v=o.intFromLE(g);return this.curve.pointFromY(v,m)},h.prototype.encodeInt=function(f){return f.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(f){return o.intFromLE(f)},h.prototype.isPoint=function(f){return f instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(i,r,n){var a=i("../utils"),s=a.assert,o=a.parseBytes,l=a.cachedProperty;function u(d,c){this.eddsa=d,this._secret=o(c.secret),d.isPoint(c.pub)?this._pub=c.pub:this._pubBytes=o(c.pub)}u.fromPublic=function(d,c){return c instanceof u?c:new u(d,{pub:c})},u.fromSecret=function(d,c){return c instanceof u?c:new u(d,{secret:c})},u.prototype.secret=function(){return this._secret},l(u,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(u,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(u,"privBytes",function(){var d=this.eddsa,c=this.hash(),h=d.encodingLength-1,f=c.slice(0,d.encodingLength);return f[0]&=248,f[h]&=127,f[h]|=64,f}),l(u,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(u,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(u,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),u.prototype.sign=function(d){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(d,this)},u.prototype.verify=function(d,c){return this.eddsa.verify(d,c,this)},u.prototype.getSecret=function(d){return s(this._secret,"KeyPair is public only"),a.encode(this.secret(),d)},u.prototype.getPublic=function(d){return a.encode(this.pubBytes(),d)},r.exports=u},{"../utils":419}],417:[function(i,r,n){var a=i("bn.js"),s=i("../utils"),o=s.assert,l=s.cachedProperty,u=s.parseBytes;function d(c,h){this.eddsa=c,typeof h!="object"&&(h=u(h)),Array.isArray(h)&&(h={R:h.slice(0,c.encodingLength),S:h.slice(c.encodingLength)}),o(h.R&&h.S,"Signature without R or S"),c.isPoint(h.R)&&(this._R=h.R),h.S instanceof a&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}l(d,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(d,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(d,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(d,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),d.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},d.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},r.exports=d},{"../utils":419,"bn.js":420}],418:[function(i,r,n){r.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(i,r,n){var a=n,s=i("bn.js"),o=i("minimalistic-assert"),l=i("minimalistic-crypto-utils");a.assert=o,a.toArray=l.toArray,a.zero2=l.zero2,a.toHex=l.toHex,a.encode=l.encode,a.getNAF=function(u,d,c){var h=new Array(Math.max(u.bitLength(),c)+1);h.fill(0);for(var f=1<<d+1,p=u.clone(),g=0;g<h.length;g++){var m,v=p.andln(f-1);p.isOdd()?(m=v>(f>>1)-1?(f>>1)-v:v,p.isubn(m)):m=0,h[g]=m,p.iushrn(1)}return h},a.getJSF=function(u,d){var c=[[],[]];u=u.clone(),d=d.clone();for(var h,f=0,p=0;u.cmpn(-f)>0||d.cmpn(-p)>0;){var g,m,v=u.andln(3)+f&3,b=d.andln(3)+p&3;v===3&&(v=-1),b===3&&(b=-1),g=1&v?(h=u.andln(7)+f&7)!==3&&h!==5||b!==2?v:-v:0,c[0].push(g),m=1&b?(h=d.andln(7)+p&7)!==3&&h!==5||v!==2?b:-b:0,c[1].push(m),2*f===g+1&&(f=1-f),2*p===m+1&&(p=1-p),u.iushrn(1),d.iushrn(1)}return c},a.cachedProperty=function(u,d,c){var h="_"+d;u.prototype[d]=function(){return this[h]!==void 0?this[h]:this[h]=c.call(this)}},a.parseBytes=function(u){return typeof u=="string"?a.toArray(u,"hex"):u},a.intFromLE=function(u){return new s(u,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(i,r,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],421:[function(i,r,n){r.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(i,r,n){var a=Object.create||function(F){var $=function(){};return $.prototype=F,new $},s=Object.keys||function(F){var $=[];for(var j in F)Object.prototype.hasOwnProperty.call(F,j)&&$.push(j);return j},o=Function.prototype.bind||function(F){var $=this;return function(){return $.apply(F,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=a(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}r.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var u,d=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),u=c.x===0}catch{u=!1}function h(F){return F._maxListeners===void 0?l.defaultMaxListeners:F._maxListeners}function f(F,$,j){if($)F.call(j);else for(var q=F.length,H=z(F,q),A=0;A<q;++A)H[A].call(j)}function p(F,$,j,q){if($)F.call(j,q);else for(var H=F.length,A=z(F,H),T=0;T<H;++T)A[T].call(j,q)}function g(F,$,j,q,H){if($)F.call(j,q,H);else for(var A=F.length,T=z(F,A),E=0;E<A;++E)T[E].call(j,q,H)}function m(F,$,j,q,H,A){if($)F.call(j,q,H,A);else for(var T=F.length,E=z(F,T),C=0;C<T;++C)E[C].call(j,q,H,A)}function v(F,$,j,q){if($)F.apply(j,q);else for(var H=F.length,A=z(F,H),T=0;T<H;++T)A[T].apply(j,q)}function b(F,$,j,q){var H,A,T;if(typeof j!="function")throw new TypeError('"listener" argument must be a function');if((A=F._events)?(A.newListener&&(F.emit("newListener",$,j.listener?j.listener:j),A=F._events),T=A[$]):(A=F._events=a(null),F._eventsCount=0),T){if(typeof T=="function"?T=A[$]=q?[j,T]:[T,j]:q?T.unshift(j):T.push(j),!T.warned&&(H=h(F))&&H>0&&T.length>H){T.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+T.length+' "'+String($)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');E.name="MaxListenersExceededWarning",E.emitter=F,E.type=$,E.count=T.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",E.name,E.message)}}else T=A[$]=j,++F._eventsCount;return F}function y(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var F=new Array(arguments.length),$=0;$<F.length;++$)F[$]=arguments[$];this.listener.apply(this.target,F)}}function I(F,$,j){var q={fired:!1,wrapFn:void 0,target:F,type:$,listener:j},H=o.call(y,q);return H.listener=j,q.wrapFn=H,H}function D(F,$,j){var q=F._events;if(!q)return[];var H=q[$];return H?typeof H=="function"?j?[H.listener||H]:[H]:j?function(A){for(var T=new Array(A.length),E=0;E<T.length;++E)T[E]=A[E].listener||A[E];return T}(H):z(H,H.length):[]}function N(F){var $=this._events;if($){var j=$[F];if(typeof j=="function")return 1;if(j)return j.length}return 0}function z(F,$){for(var j=new Array($),q=0;q<$;++q)j[q]=F[q];return j}u?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(F){if(typeof F!="number"||F<0||F!=F)throw new TypeError('"defaultMaxListeners" must be a positive number');d=F}}):l.defaultMaxListeners=d,l.prototype.setMaxListeners=function(F){if(typeof F!="number"||F<0||isNaN(F))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=F,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(F){var $,j,q,H,A,T,E=F==="error";if(T=this._events)E=E&&T.error==null;else if(!E)return!1;if(E){if(arguments.length>1&&($=arguments[1]),$ instanceof Error)throw $;var C=new Error('Unhandled "error" event. ('+$+")");throw C.context=$,C}if(!(j=T[F]))return!1;var w=typeof j=="function";switch(q=arguments.length){case 1:f(j,w,this);break;case 2:p(j,w,this,arguments[1]);break;case 3:g(j,w,this,arguments[1],arguments[2]);break;case 4:m(j,w,this,arguments[1],arguments[2],arguments[3]);break;default:for(H=new Array(q-1),A=1;A<q;A++)H[A-1]=arguments[A];v(j,w,this,H)}return!0},l.prototype.addListener=function(F,$){return b(this,F,$,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(F,$){return b(this,F,$,!0)},l.prototype.once=function(F,$){if(typeof $!="function")throw new TypeError('"listener" argument must be a function');return this.on(F,I(this,F,$)),this},l.prototype.prependOnceListener=function(F,$){if(typeof $!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(F,I(this,F,$)),this},l.prototype.removeListener=function(F,$){var j,q,H,A,T;if(typeof $!="function")throw new TypeError('"listener" argument must be a function');if(!(q=this._events))return this;if(!(j=q[F]))return this;if(j===$||j.listener===$)--this._eventsCount==0?this._events=a(null):(delete q[F],q.removeListener&&this.emit("removeListener",F,j.listener||$));else if(typeof j!="function"){for(H=-1,A=j.length-1;A>=0;A--)if(j[A]===$||j[A].listener===$){T=j[A].listener,H=A;break}if(H<0)return this;H===0?j.shift():function(E,C){for(var w=C,S=w+1,x=E.length;S<x;w+=1,S+=1)E[w]=E[S];E.pop()}(j,H),j.length===1&&(q[F]=j[0]),q.removeListener&&this.emit("removeListener",F,T||$)}return this},l.prototype.removeAllListeners=function(F){var $,j,q;if(!(j=this._events))return this;if(!j.removeListener)return arguments.length===0?(this._events=a(null),this._eventsCount=0):j[F]&&(--this._eventsCount==0?this._events=a(null):delete j[F]),this;if(arguments.length===0){var H,A=s(j);for(q=0;q<A.length;++q)(H=A[q])!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=a(null),this._eventsCount=0,this}if(typeof($=j[F])=="function")this.removeListener(F,$);else if($)for(q=$.length-1;q>=0;q--)this.removeListener(F,$[q]);return this},l.prototype.listeners=function(F){return D(this,F,!0)},l.prototype.rawListeners=function(F){return D(this,F,!1)},l.listenerCount=function(F,$){return typeof F.listenerCount=="function"?F.listenerCount($):N.call(F,$)},l.prototype.listenerCount=N,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(i,r,n){var a=i("safe-buffer").Buffer,s=i("md5.js");r.exports=function(o,l,u,d){if(a.isBuffer(o)||(o=a.from(o,"binary")),l&&(a.isBuffer(l)||(l=a.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=u/8,h=a.alloc(c),f=a.alloc(d||0),p=a.alloc(0);c>0||d>0;){var g=new s;g.update(p),g.update(o),l&&g.update(l),p=g.digest();var m=0;if(c>0){var v=h.length-c;m=Math.min(c,p.length),p.copy(h,v,0,m),c-=m}if(m<p.length&&d>0){var b=f.length-d,y=Math.min(d,p.length-m);p.copy(f,b,m,m+y),d-=y}}return p.fill(0),{key:h,iv:f}}},{"md5.js":450,"safe-buffer":494}],424:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=n.ParserOptions=n.parseFile=n.parseStream=n.parseString=n.parse=n.FormatterOptions=n.CsvFormatterStream=n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=void 0;var a=i("@fast-csv/format");Object.defineProperty(n,"format",{enumerable:!0,get:function(){return a.format}}),Object.defineProperty(n,"write",{enumerable:!0,get:function(){return a.write}}),Object.defineProperty(n,"writeToStream",{enumerable:!0,get:function(){return a.writeToStream}}),Object.defineProperty(n,"writeToBuffer",{enumerable:!0,get:function(){return a.writeToBuffer}}),Object.defineProperty(n,"writeToString",{enumerable:!0,get:function(){return a.writeToString}}),Object.defineProperty(n,"writeToPath",{enumerable:!0,get:function(){return a.writeToPath}}),Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return a.CsvFormatterStream}}),Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return a.FormatterOptions}});var s=i("@fast-csv/parse");Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(n,"parseString",{enumerable:!0,get:function(){return s.parseString}}),Object.defineProperty(n,"parseStream",{enumerable:!0,get:function(){return s.parseStream}}),Object.defineProperty(n,"parseFile",{enumerable:!0,get:function(){return s.parseFile}}),Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return s.ParserOptions}}),Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return s.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(i,r,n){var a=i("safe-buffer").Buffer,s=i("readable-stream").Transform;function o(l){s.call(this),this._block=a.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}i("inherits")(o,s),o.prototype._transform=function(l,u,d){var c=null;try{this.update(l,u)}catch(h){c=h}d(c)},o.prototype._flush=function(l){var u=null;try{this.push(this.digest())}catch(d){u=d}l(u)},o.prototype.update=function(l,u){if(function(g,m){if(!a.isBuffer(g)&&typeof g!="string")throw new TypeError(m+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(l)||(l=a.from(l,u));for(var d=this._block,c=0;this._blockOffset+l.length-c>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)d[h++]=l[c++];this._update(),this._blockOffset=0}for(;c<l.length;)d[this._blockOffset++]=l[c++];for(var f=0,p=8*l.length;p>0;++f)this._length[f]+=p,(p=this._length[f]/4294967296|0)>0&&(this._length[f]-=4294967296*p);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var u=this._digest();l!==void 0&&(u=u.toString(l)),this._block.fill(0),this._blockOffset=0;for(var d=0;d<4;++d)this._length[d]=0;return u},o.prototype._digest=function(){throw new Error("_digest is not implemented")},r.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(i,r,n){var a=n;a.utils=i("./hash/utils"),a.common=i("./hash/common"),a.sha=i("./hash/sha"),a.ripemd=i("./hash/ripemd"),a.hmac=i("./hash/hmac"),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(i,r,n){var a=i("./utils"),s=i("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}n.BlockHash=o,o.prototype.update=function(l,u){if(l=a.toArray(l,u),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var d=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-d,l.length),this.pending.length===0&&(this.pending=null),l=a.join32(l,0,l.length-d,this.endian);for(var c=0;c<l.length;c+=this._delta32)this._update(l,c,c+this._delta32)}return this},o.prototype.digest=function(l){return this.update(this._pad()),s(this.pending===null),this._digest(l)},o.prototype._pad=function(){var l=this.pendingTotal,u=this._delta8,d=u-(l+this.padLength)%u,c=new Array(d+this.padLength);c[0]=128;for(var h=1;h<d;h++)c[h]=0;if(l<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)c[h++]=0;c[h++]=0,c[h++]=0,c[h++]=0,c[h++]=0,c[h++]=l>>>24&255,c[h++]=l>>>16&255,c[h++]=l>>>8&255,c[h++]=255&l}else for(c[h++]=255&l,c[h++]=l>>>8&255,c[h++]=l>>>16&255,c[h++]=l>>>24&255,c[h++]=0,c[h++]=0,c[h++]=0,c[h++]=0,f=8;f<this.padLength;f++)c[h++]=0;return c}},{"./utils":437,"minimalistic-assert":453}],428:[function(i,r,n){var a=i("./utils"),s=i("minimalistic-assert");function o(l,u,d){if(!(this instanceof o))return new o(l,u,d);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(u,d))}r.exports=o,o.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),s(l.length<=this.blockSize);for(var u=l.length;u<this.blockSize;u++)l.push(0);for(u=0;u<l.length;u++)l[u]^=54;for(this.inner=new this.Hash().update(l),u=0;u<l.length;u++)l[u]^=106;this.outer=new this.Hash().update(l)},o.prototype.update=function(l,u){return this.inner.update(l,u),this},o.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(i,r,n){var a=i("./utils"),s=i("./common"),o=a.rotl32,l=a.sum32,u=a.sum32_3,d=a.sum32_4,c=s.BlockHash;function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(I,D,N,z){return I<=15?D^N^z:I<=31?D&N|~D&z:I<=47?(D|~N)^z:I<=63?D&z|N&~z:D^(N|~z)}function p(I){return I<=15?0:I<=31?1518500249:I<=47?1859775393:I<=63?2400959708:2840853838}function g(I){return I<=15?1352829926:I<=31?1548603684:I<=47?1836072691:I<=63?2053994217:0}a.inherits(h,c),n.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(I,D){for(var N=this.h[0],z=this.h[1],F=this.h[2],$=this.h[3],j=this.h[4],q=N,H=z,A=F,T=$,E=j,C=0;C<80;C++){var w=l(o(d(N,f(C,z,F,$),I[m[C]+D],p(C)),b[C]),j);N=j,j=$,$=o(F,10),F=z,z=w,w=l(o(d(q,f(79-C,H,A,T),I[v[C]+D],g(C)),y[C]),E),q=E,E=T,T=o(A,10),A=H,H=w}w=u(this.h[1],F,T),this.h[1]=u(this.h[2],$,E),this.h[2]=u(this.h[3],j,q),this.h[3]=u(this.h[4],N,H),this.h[4]=u(this.h[0],z,A),this.h[0]=w},h.prototype._digest=function(I){return I==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(i,r,n){n.sha1=i("./sha/1"),n.sha224=i("./sha/224"),n.sha256=i("./sha/256"),n.sha384=i("./sha/384"),n.sha512=i("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(i,r,n){var a=i("../utils"),s=i("../common"),o=i("./common"),l=a.rotl32,u=a.sum32,d=a.sum32_5,c=o.ft_1,h=s.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a.inherits(p,h),r.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(g,m){for(var v=this.W,b=0;b<16;b++)v[b]=g[m+b];for(;b<v.length;b++)v[b]=l(v[b-3]^v[b-8]^v[b-14]^v[b-16],1);var y=this.h[0],I=this.h[1],D=this.h[2],N=this.h[3],z=this.h[4];for(b=0;b<v.length;b++){var F=~~(b/20),$=d(l(y,5),c(F,I,D,N),z,v[b],f[F]);z=N,N=D,D=l(I,30),I=y,y=$}this.h[0]=u(this.h[0],y),this.h[1]=u(this.h[1],I),this.h[2]=u(this.h[2],D),this.h[3]=u(this.h[3],N),this.h[4]=u(this.h[4],z)},p.prototype._digest=function(g){return g==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(i,r,n){var a=i("../utils"),s=i("./256");function o(){if(!(this instanceof o))return new o;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a.inherits(o,s),r.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(l){return l==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(i,r,n){var a=i("../utils"),s=i("../common"),o=i("./common"),l=i("minimalistic-assert"),u=a.sum32,d=a.sum32_4,c=a.sum32_5,h=o.ch32,f=o.maj32,p=o.s0_256,g=o.s1_256,m=o.g0_256,v=o.g1_256,b=s.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function I(){if(!(this instanceof I))return new I;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}a.inherits(I,b),r.exports=I,I.blockSize=512,I.outSize=256,I.hmacStrength=192,I.padLength=64,I.prototype._update=function(D,N){for(var z=this.W,F=0;F<16;F++)z[F]=D[N+F];for(;F<z.length;F++)z[F]=d(v(z[F-2]),z[F-7],m(z[F-15]),z[F-16]);var $=this.h[0],j=this.h[1],q=this.h[2],H=this.h[3],A=this.h[4],T=this.h[5],E=this.h[6],C=this.h[7];for(l(this.k.length===z.length),F=0;F<z.length;F++){var w=c(C,g(A),h(A,T,E),this.k[F],z[F]),S=u(p($),f($,j,q));C=E,E=T,T=A,A=u(H,w),H=q,q=j,j=$,$=u(w,S)}this.h[0]=u(this.h[0],$),this.h[1]=u(this.h[1],j),this.h[2]=u(this.h[2],q),this.h[3]=u(this.h[3],H),this.h[4]=u(this.h[4],A),this.h[5]=u(this.h[5],T),this.h[6]=u(this.h[6],E),this.h[7]=u(this.h[7],C)},I.prototype._digest=function(D){return D==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(i,r,n){var a=i("../utils"),s=i("./512");function o(){if(!(this instanceof o))return new o;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a.inherits(o,s),r.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(l){return l==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(i,r,n){var a=i("../utils"),s=i("../common"),o=i("minimalistic-assert"),l=a.rotr64_hi,u=a.rotr64_lo,d=a.shr64_hi,c=a.shr64_lo,h=a.sum64,f=a.sum64_hi,p=a.sum64_lo,g=a.sum64_4_hi,m=a.sum64_4_lo,v=a.sum64_5_hi,b=a.sum64_5_lo,y=s.BlockHash,I=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function D(){if(!(this instanceof D))return new D;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=I,this.W=new Array(160)}function N(S,x,k,P,O){var L=S&k^~S&O;return L<0&&(L+=4294967296),L}function z(S,x,k,P,O,L){var V=x&P^~x&L;return V<0&&(V+=4294967296),V}function F(S,x,k,P,O){var L=S&k^S&O^k&O;return L<0&&(L+=4294967296),L}function $(S,x,k,P,O,L){var V=x&P^x&L^P&L;return V<0&&(V+=4294967296),V}function j(S,x){var k=l(S,x,28)^l(x,S,2)^l(x,S,7);return k<0&&(k+=4294967296),k}function q(S,x){var k=u(S,x,28)^u(x,S,2)^u(x,S,7);return k<0&&(k+=4294967296),k}function H(S,x){var k=l(S,x,14)^l(S,x,18)^l(x,S,9);return k<0&&(k+=4294967296),k}function A(S,x){var k=u(S,x,14)^u(S,x,18)^u(x,S,9);return k<0&&(k+=4294967296),k}function T(S,x){var k=l(S,x,1)^l(S,x,8)^d(S,x,7);return k<0&&(k+=4294967296),k}function E(S,x){var k=u(S,x,1)^u(S,x,8)^c(S,x,7);return k<0&&(k+=4294967296),k}function C(S,x){var k=l(S,x,19)^l(x,S,29)^d(S,x,6);return k<0&&(k+=4294967296),k}function w(S,x){var k=u(S,x,19)^u(x,S,29)^c(S,x,6);return k<0&&(k+=4294967296),k}a.inherits(D,y),r.exports=D,D.blockSize=1024,D.outSize=512,D.hmacStrength=192,D.padLength=128,D.prototype._prepareBlock=function(S,x){for(var k=this.W,P=0;P<32;P++)k[P]=S[x+P];for(;P<k.length;P+=2){var O=C(k[P-4],k[P-3]),L=w(k[P-4],k[P-3]),V=k[P-14],X=k[P-13],B=T(k[P-30],k[P-29]),K=E(k[P-30],k[P-29]),R=k[P-32],M=k[P-31];k[P]=g(O,L,V,X,B,K,R,M),k[P+1]=m(O,L,V,X,B,K,R,M)}},D.prototype._update=function(S,x){this._prepareBlock(S,x);var k=this.W,P=this.h[0],O=this.h[1],L=this.h[2],V=this.h[3],X=this.h[4],B=this.h[5],K=this.h[6],R=this.h[7],M=this.h[8],G=this.h[9],Q=this.h[10],ne=this.h[11],ie=this.h[12],U=this.h[13],se=this.h[14],ae=this.h[15];o(this.k.length===k.length);for(var Y=0;Y<k.length;Y+=2){var J=se,ee=ae,ue=H(M,G),de=A(M,G),oe=N(M,G,Q,ne,ie),ce=z(M,G,Q,ne,ie,U),ge=this.k[Y],ve=this.k[Y+1],Se=k[Y],ke=k[Y+1],Ae=v(J,ee,ue,de,oe,ce,ge,ve,Se,ke),Xe=b(J,ee,ue,de,oe,ce,ge,ve,Se,ke);J=j(P,O),ee=q(P,O),ue=F(P,O,L,V,X),de=$(P,O,L,V,X,B);var et=f(J,ee,ue,de),Je=p(J,ee,ue,de);se=ie,ae=U,ie=Q,U=ne,Q=M,ne=G,M=f(K,R,Ae,Xe),G=p(R,R,Ae,Xe),K=X,R=B,X=L,B=V,L=P,V=O,P=f(Ae,Xe,et,Je),O=p(Ae,Xe,et,Je)}h(this.h,0,P,O),h(this.h,2,L,V),h(this.h,4,X,B),h(this.h,6,K,R),h(this.h,8,M,G),h(this.h,10,Q,ne),h(this.h,12,ie,U),h(this.h,14,se,ae)},D.prototype._digest=function(S){return S==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(i,r,n){var a=i("../utils").rotr32;function s(u,d,c){return u&d^~u&c}function o(u,d,c){return u&d^u&c^d&c}function l(u,d,c){return u^d^c}n.ft_1=function(u,d,c,h){return u===0?s(d,c,h):u===1||u===3?l(d,c,h):u===2?o(d,c,h):void 0},n.ch32=s,n.maj32=o,n.p32=l,n.s0_256=function(u){return a(u,2)^a(u,13)^a(u,22)},n.s1_256=function(u){return a(u,6)^a(u,11)^a(u,25)},n.g0_256=function(u){return a(u,7)^a(u,18)^u>>>3},n.g1_256=function(u){return a(u,17)^a(u,19)^u>>>10}},{"../utils":437}],437:[function(i,r,n){var a=i("minimalistic-assert"),s=i("inherits");function o(c,h){return(64512&c.charCodeAt(h))==55296&&!(h<0||h+1>=c.length)&&(64512&c.charCodeAt(h+1))==56320}function l(c){return(c>>>24|c>>>8&65280|c<<8&16711680|(255&c)<<24)>>>0}function u(c){return c.length===1?"0"+c:c}function d(c){return c.length===7?"0"+c:c.length===6?"00"+c:c.length===5?"000"+c:c.length===4?"0000"+c:c.length===3?"00000"+c:c.length===2?"000000"+c:c.length===1?"0000000"+c:c}n.inherits=s,n.toArray=function(c,h){if(Array.isArray(c))return c.slice();if(!c)return[];var f=[];if(typeof c=="string")if(h){if(h==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),g=0;g<c.length;g+=2)f.push(parseInt(c[g]+c[g+1],16))}else for(var p=0,g=0;g<c.length;g++){var m=c.charCodeAt(g);m<128?f[p++]=m:m<2048?(f[p++]=m>>6|192,f[p++]=63&m|128):o(c,g)?(m=65536+((1023&m)<<10)+(1023&c.charCodeAt(++g)),f[p++]=m>>18|240,f[p++]=m>>12&63|128,f[p++]=m>>6&63|128,f[p++]=63&m|128):(f[p++]=m>>12|224,f[p++]=m>>6&63|128,f[p++]=63&m|128)}else for(g=0;g<c.length;g++)f[g]=0|c[g];return f},n.toHex=function(c){for(var h="",f=0;f<c.length;f++)h+=u(c[f].toString(16));return h},n.htonl=l,n.toHex32=function(c,h){for(var f="",p=0;p<c.length;p++){var g=c[p];h==="little"&&(g=l(g)),f+=d(g.toString(16))}return f},n.zero2=u,n.zero8=d,n.join32=function(c,h,f,p){var g=f-h;a(g%4==0);for(var m=new Array(g/4),v=0,b=h;v<m.length;v++,b+=4){var y;y=p==="big"?c[b]<<24|c[b+1]<<16|c[b+2]<<8|c[b+3]:c[b+3]<<24|c[b+2]<<16|c[b+1]<<8|c[b],m[v]=y>>>0}return m},n.split32=function(c,h){for(var f=new Array(4*c.length),p=0,g=0;p<c.length;p++,g+=4){var m=c[p];h==="big"?(f[g]=m>>>24,f[g+1]=m>>>16&255,f[g+2]=m>>>8&255,f[g+3]=255&m):(f[g+3]=m>>>24,f[g+2]=m>>>16&255,f[g+1]=m>>>8&255,f[g]=255&m)}return f},n.rotr32=function(c,h){return c>>>h|c<<32-h},n.rotl32=function(c,h){return c<<h|c>>>32-h},n.sum32=function(c,h){return c+h>>>0},n.sum32_3=function(c,h,f){return c+h+f>>>0},n.sum32_4=function(c,h,f,p){return c+h+f+p>>>0},n.sum32_5=function(c,h,f,p,g){return c+h+f+p+g>>>0},n.sum64=function(c,h,f,p){var g=c[h],m=p+c[h+1]>>>0,v=(m<p?1:0)+f+g;c[h]=v>>>0,c[h+1]=m},n.sum64_hi=function(c,h,f,p){return(h+p>>>0<h?1:0)+c+f>>>0},n.sum64_lo=function(c,h,f,p){return h+p>>>0},n.sum64_4_hi=function(c,h,f,p,g,m,v,b){var y=0,I=h;return y+=(I=I+p>>>0)<h?1:0,y+=(I=I+m>>>0)<m?1:0,c+f+g+v+(y+=(I=I+b>>>0)<b?1:0)>>>0},n.sum64_4_lo=function(c,h,f,p,g,m,v,b){return h+p+m+b>>>0},n.sum64_5_hi=function(c,h,f,p,g,m,v,b,y,I){var D=0,N=h;return D+=(N=N+p>>>0)<h?1:0,D+=(N=N+m>>>0)<m?1:0,D+=(N=N+b>>>0)<b?1:0,c+f+g+v+y+(D+=(N=N+I>>>0)<I?1:0)>>>0},n.sum64_5_lo=function(c,h,f,p,g,m,v,b,y,I){return h+p+m+b+I>>>0},n.rotr64_hi=function(c,h,f){return(h<<32-f|c>>>f)>>>0},n.rotr64_lo=function(c,h,f){return(c<<32-f|h>>>f)>>>0},n.shr64_hi=function(c,h,f){return c>>>f},n.shr64_lo=function(c,h,f){return(c<<32-f|h>>>f)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(i,r,n){var a=i("hash.js"),s=i("minimalistic-crypto-utils"),o=i("minimalistic-assert");function l(u){if(!(this instanceof l))return new l(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var d=s.toArray(u.entropy,u.entropyEnc||"hex"),c=s.toArray(u.nonce,u.nonceEnc||"hex"),h=s.toArray(u.pers,u.persEnc||"hex");o(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(d,c,h)}r.exports=l,l.prototype._init=function(u,d,c){var h=u.concat(d).concat(c);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new a.hmac(this.hash,this.K)},l.prototype._update=function(u){var d=this._hmac().update(this.V).update([0]);u&&(d=d.update(u)),this.K=d.digest(),this.V=this._hmac().update(this.V).digest(),u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(u,d,c,h){typeof d!="string"&&(h=c,c=d,d=null),u=s.toArray(u,d),c=s.toArray(c,h),o(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(c||[])),this._reseed=1},l.prototype.generate=function(u,d,c,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof d!="string"&&(h=c,c=d,d=null),c&&(c=s.toArray(c,h||"hex"),this._update(c));for(var f=[];f.length<u;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var p=f.slice(0,u);return this._update(c),this._reseed++,s.encode(p,d)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(i,r,n){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */n.read=function(a,s,o,l,u){var d,c,h=8*u-l-1,f=(1<<h)-1,p=f>>1,g=-7,m=o?u-1:0,v=o?-1:1,b=a[s+m];for(m+=v,d=b&(1<<-g)-1,b>>=-g,g+=h;g>0;d=256*d+a[s+m],m+=v,g-=8);for(c=d&(1<<-g)-1,d>>=-g,g+=l;g>0;c=256*c+a[s+m],m+=v,g-=8);if(d===0)d=1-p;else{if(d===f)return c?NaN:1/0*(b?-1:1);c+=Math.pow(2,l),d-=p}return(b?-1:1)*c*Math.pow(2,d-l)},n.write=function(a,s,o,l,u,d){var c,h,f,p=8*d-u-1,g=(1<<p)-1,m=g>>1,v=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=l?0:d-1,y=l?1:-1,I=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(h=isNaN(s)?1:0,c=g):(c=Math.floor(Math.log(s)/Math.LN2),s*(f=Math.pow(2,-c))<1&&(c--,f*=2),(s+=c+m>=1?v/f:v*Math.pow(2,1-m))*f>=2&&(c++,f/=2),c+m>=g?(h=0,c=g):c+m>=1?(h=(s*f-1)*Math.pow(2,u),c+=m):(h=s*Math.pow(2,m-1)*Math.pow(2,u),c=0));u>=8;a[o+b]=255&h,b+=y,h/=256,u-=8);for(c=c<<u|h,p+=u;p>0;a[o+b]=255&c,b+=y,c/=256,p-=8);a[o+b-y]|=128*I}},{}],440:[function(i,r,n){typeof Object.create=="function"?r.exports=function(a,s){s&&(a.super_=s,a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(a,s){if(s){a.super_=s;var o=function(){};o.prototype=s.prototype,a.prototype=new o,a.prototype.constructor=a}}},{}],441:[function(i,r,n){(function(a,s,o,l,u,d,c,h){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(f){typeof n=="object"&&r!==void 0?r.exports=f():(typeof window<"u"?window:s!==void 0?s:typeof self<"u"?self:this).JSZip=f()})(function(){return function f(p,g,m){function v(I,D){if(!g[I]){if(!p[I]){var N=typeof i=="function"&&i;if(!D&&N)return N(I,!0);if(b)return b(I,!0);var z=new Error("Cannot find module '"+I+"'");throw z.code="MODULE_NOT_FOUND",z}var F=g[I]={exports:{}};p[I][0].call(F.exports,function($){return v(p[I][1][$]||$)},F,F.exports,f,p,g,m)}return g[I].exports}for(var b=typeof i=="function"&&i,y=0;y<m.length;y++)v(m[y]);return v}({1:[function(f,p,g){var m=f("./utils"),v=f("./support"),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(y){for(var I,D,N,z,F,$,j,q=[],H=0,A=y.length,T=A,E=m.getTypeOf(y)!=="string";H<y.length;)T=A-H,N=E?(I=y[H++],D=H<A?y[H++]:0,H<A?y[H++]:0):(I=y.charCodeAt(H++),D=H<A?y.charCodeAt(H++):0,H<A?y.charCodeAt(H++):0),z=I>>2,F=(3&I)<<4|D>>4,$=1<T?(15&D)<<2|N>>6:64,j=2<T?63&N:64,q.push(b.charAt(z)+b.charAt(F)+b.charAt($)+b.charAt(j));return q.join("")},g.decode=function(y){var I,D,N,z,F,$,j=0,q=0,H="data:";if(y.substr(0,H.length)===H)throw new Error("Invalid base64 input, it looks like a data url.");var A,T=3*(y=y.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(y.charAt(y.length-1)===b.charAt(64)&&T--,y.charAt(y.length-2)===b.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=v.uint8array?new Uint8Array(0|T):new Array(0|T);j<y.length;)I=b.indexOf(y.charAt(j++))<<2|(z=b.indexOf(y.charAt(j++)))>>4,D=(15&z)<<4|(F=b.indexOf(y.charAt(j++)))>>2,N=(3&F)<<6|($=b.indexOf(y.charAt(j++))),A[q++]=I,F!==64&&(A[q++]=D),$!==64&&(A[q++]=N);return A}},{"./support":30,"./utils":32}],2:[function(f,p,g){var m=f("./external"),v=f("./stream/DataWorker"),b=f("./stream/Crc32Probe"),y=f("./stream/DataLengthProbe");function I(D,N,z,F,$){this.compressedSize=D,this.uncompressedSize=N,this.crc32=z,this.compression=F,this.compressedContent=$}I.prototype={getContentWorker:function(){var D=new v(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new y("data_length")),N=this;return D.on("end",function(){if(this.streamInfo.data_length!==N.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),D},getCompressedWorker:function(){return new v(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},I.createWorkerFrom=function(D,N,z){return D.pipe(new b).pipe(new y("uncompressedSize")).pipe(N.compressWorker(z)).pipe(new y("compressedSize")).withStreamInfo("compression",N)},p.exports=I},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(f,p,g){var m=f("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},g.DEFLATE=f("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(f,p,g){var m=f("./utils"),v=function(){for(var b,y=[],I=0;I<256;I++){b=I;for(var D=0;D<8;D++)b=1&b?3988292384^b>>>1:b>>>1;y[I]=b}return y}();p.exports=function(b,y){return b!==void 0&&b.length?m.getTypeOf(b)!=="string"?function(I,D,N,z){var F=v,$=0+N;I^=-1;for(var j=0;j<$;j++)I=I>>>8^F[255&(I^D[j])];return-1^I}(0|y,b,b.length):function(I,D,N,z){var F=v,$=0+N;I^=-1;for(var j=0;j<$;j++)I=I>>>8^F[255&(I^D.charCodeAt(j))];return-1^I}(0|y,b,b.length):0}},{"./utils":32}],5:[function(f,p,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(f,p,g){var m;m=typeof Promise<"u"?Promise:f("lie"),p.exports={Promise:m}},{lie:37}],7:[function(f,p,g){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=f("pako"),b=f("./utils"),y=f("./stream/GenericWorker"),I=m?"uint8array":"array";function D(N,z){y.call(this,"FlateWorker/"+N),this._pako=null,this._pakoAction=N,this._pakoOptions=z,this.meta={}}g.magic="\b\0",b.inherits(D,y),D.prototype.processChunk=function(N){this.meta=N.meta,this._pako===null&&this._createPako(),this._pako.push(b.transformTo(I,N.data),!1)},D.prototype.flush=function(){y.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},D.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this._pako=null},D.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var N=this;this._pako.onData=function(z){N.push({data:z,meta:N.meta})}},g.compressWorker=function(N){return new D("Deflate",N)},g.uncompressWorker=function(){return new D("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(f,p,g){function m(F,$){var j,q="";for(j=0;j<$;j++)q+=String.fromCharCode(255&F),F>>>=8;return q}function v(F,$,j,q,H,A){var T,E,C=F.file,w=F.compression,S=A!==I.utf8encode,x=b.transformTo("string",A(C.name)),k=b.transformTo("string",I.utf8encode(C.name)),P=C.comment,O=b.transformTo("string",A(P)),L=b.transformTo("string",I.utf8encode(P)),V=k.length!==C.name.length,X=L.length!==P.length,B="",K="",R="",M=C.dir,G=C.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};$&&!j||(Q.crc32=F.crc32,Q.compressedSize=F.compressedSize,Q.uncompressedSize=F.uncompressedSize);var ne=0;$&&(ne|=8),S||!V&&!X||(ne|=2048);var ie=0,U=0;M&&(ie|=16),H==="UNIX"?(U=798,ie|=function(ae,Y){var J=ae;return ae||(J=Y?16893:33204),(65535&J)<<16}(C.unixPermissions,M)):(U=20,ie|=function(ae){return 63&(ae||0)}(C.dosPermissions)),T=G.getUTCHours(),T<<=6,T|=G.getUTCMinutes(),T<<=5,T|=G.getUTCSeconds()/2,E=G.getUTCFullYear()-1980,E<<=4,E|=G.getUTCMonth()+1,E<<=5,E|=G.getUTCDate(),V&&(K=m(1,1)+m(D(x),4)+k,B+="up"+m(K.length,2)+K),X&&(R=m(1,1)+m(D(O),4)+L,B+="uc"+m(R.length,2)+R);var se="";return se+=`
\0`,se+=m(ne,2),se+=w.magic,se+=m(T,2),se+=m(E,2),se+=m(Q.crc32,4),se+=m(Q.compressedSize,4),se+=m(Q.uncompressedSize,4),se+=m(x.length,2),se+=m(B.length,2),{fileRecord:N.LOCAL_FILE_HEADER+se+x+B,dirRecord:N.CENTRAL_FILE_HEADER+m(U,2)+se+m(O.length,2)+"\0\0\0\0"+m(ie,4)+m(q,4)+x+B+O}}var b=f("../utils"),y=f("../stream/GenericWorker"),I=f("../utf8"),D=f("../crc32"),N=f("../signature");function z(F,$,j,q){y.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=$,this.zipPlatform=j,this.encodeFileName=q,this.streamFiles=F,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}b.inherits(z,y),z.prototype.push=function(F){var $=F.meta.percent||0,j=this.entriesCount,q=this._sources.length;this.accumulate?this.contentBuffer.push(F):(this.bytesWritten+=F.data.length,y.prototype.push.call(this,{data:F.data,meta:{currentFile:this.currentFile,percent:j?($+100*(j-q-1))/j:100}}))},z.prototype.openedSource=function(F){this.currentSourceOffset=this.bytesWritten,this.currentFile=F.file.name;var $=this.streamFiles&&!F.file.dir;if($){var j=v(F,$,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:j.fileRecord,meta:{percent:0}})}else this.accumulate=!0},z.prototype.closedSource=function(F){this.accumulate=!1;var $=this.streamFiles&&!F.file.dir,j=v(F,$,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(j.dirRecord),$)this.push({data:function(q){return N.DATA_DESCRIPTOR+m(q.crc32,4)+m(q.compressedSize,4)+m(q.uncompressedSize,4)}(F),meta:{percent:100}});else for(this.push({data:j.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},z.prototype.flush=function(){for(var F=this.bytesWritten,$=0;$<this.dirRecords.length;$++)this.push({data:this.dirRecords[$],meta:{percent:100}});var j=this.bytesWritten-F,q=function(H,A,T,E,C){var w=b.transformTo("string",C(E));return N.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(H,2)+m(H,2)+m(A,4)+m(T,4)+m(w.length,2)+w}(this.dirRecords.length,j,F,this.zipComment,this.encodeFileName);this.push({data:q,meta:{percent:100}})},z.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},z.prototype.registerPrevious=function(F){this._sources.push(F);var $=this;return F.on("data",function(j){$.processChunk(j)}),F.on("end",function(){$.closedSource($.previous.streamInfo),$._sources.length?$.prepareNextSource():$.end()}),F.on("error",function(j){$.error(j)}),this},z.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},z.prototype.error=function(F){var $=this._sources;if(!y.prototype.error.call(this,F))return!1;for(var j=0;j<$.length;j++)try{$[j].error(F)}catch{}return!0},z.prototype.lock=function(){y.prototype.lock.call(this);for(var F=this._sources,$=0;$<F.length;$++)F[$].lock()},p.exports=z},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(f,p,g){var m=f("../compressions"),v=f("./ZipFileWorker");g.generateWorker=function(b,y,I){var D=new v(y.streamFiles,I,y.platform,y.encodeFileName),N=0;try{b.forEach(function(z,F){N++;var $=function(A,T){var E=A||T,C=m[E];if(!C)throw new Error(E+" is not a valid compression method !");return C}(F.options.compression,y.compression),j=F.options.compressionOptions||y.compressionOptions||{},q=F.dir,H=F.date;F._compressWorker($,j).withStreamInfo("file",{name:z,dir:q,date:H,comment:F.comment||"",unixPermissions:F.unixPermissions,dosPermissions:F.dosPermissions}).pipe(D)}),D.entriesCount=N}catch(z){D.error(z)}return D}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(f,p,g){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new m;for(var b in this)typeof this[b]!="function"&&(v[b]=this[b]);return v}}(m.prototype=f("./object")).loadAsync=f("./load"),m.support=f("./support"),m.defaults=f("./defaults"),m.version="3.10.1",m.loadAsync=function(v,b){return new m().loadAsync(v,b)},m.external=f("./external"),p.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(f,p,g){var m=f("./utils"),v=f("./external"),b=f("./utf8"),y=f("./zipEntries"),I=f("./stream/Crc32Probe"),D=f("./nodejsUtils");function N(z){return new v.Promise(function(F,$){var j=z.decompressed.getContentWorker().pipe(new I);j.on("error",function(q){$(q)}).on("end",function(){j.streamInfo.crc32!==z.decompressed.crc32?$(new Error("Corrupted zip : CRC32 mismatch")):F()}).resume()})}p.exports=function(z,F){var $=this;return F=m.extend(F||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:b.utf8decode}),D.isNode&&D.isStream(z)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",z,!0,F.optimizedBinaryString,F.base64).then(function(j){var q=new y(F);return q.load(j),q}).then(function(j){var q=[v.Promise.resolve(j)],H=j.files;if(F.checkCRC32)for(var A=0;A<H.length;A++)q.push(N(H[A]));return v.Promise.all(q)}).then(function(j){for(var q=j.shift(),H=q.files,A=0;A<H.length;A++){var T=H[A],E=T.fileNameStr,C=m.resolve(T.fileNameStr);$.file(C,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:F.createFolders}),T.dir||($.file(C).unsafeOriginalName=E)}return q.zipComment.length&&($.comment=q.zipComment),$})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(f,p,g){var m=f("../utils"),v=f("../stream/GenericWorker");function b(y,I){v.call(this,"Nodejs stream input adapter for "+y),this._upstreamEnded=!1,this._bindStream(I)}m.inherits(b,v),b.prototype._bindStream=function(y){var I=this;(this._stream=y).pause(),y.on("data",function(D){I.push({data:D,meta:{percent:0}})}).on("error",function(D){I.isPaused?this.generatedError=D:I.error(D)}).on("end",function(){I.isPaused?I._upstreamEnded=!0:I.end()})},b.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},b.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},p.exports=b},{"../stream/GenericWorker":28,"../utils":32}],13:[function(f,p,g){var m=f("readable-stream").Readable;function v(b,y,I){m.call(this,y),this._helper=b;var D=this;b.on("data",function(N,z){D.push(N)||D._helper.pause(),I&&I(z)}).on("error",function(N){D.emit("error",N)}).on("end",function(){D.push(null)})}f("../utils").inherits(v,m),v.prototype._read=function(){this._helper.resume()},p.exports=v},{"../utils":32,"readable-stream":16}],14:[function(f,p,g){p.exports={isNode:o!==void 0,newBufferFrom:function(m,v){if(o.from&&o.from!==Uint8Array.from)return o.from(m,v);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new o(m,v)},allocBuffer:function(m){if(o.alloc)return o.alloc(m);var v=new o(m);return v.fill(0),v},isBuffer:function(m){return o.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(f,p,g){function m(C,w,S){var x,k=b.getTypeOf(w),P=b.extend(S||{},D);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(C=H(C)),P.createFolders&&(x=q(C))&&A.call(this,x,!0);var O=k==="string"&&P.binary===!1&&P.base64===!1;S&&S.binary!==void 0||(P.binary=!O),(w instanceof N&&w.uncompressedSize===0||P.dir||!w||w.length===0)&&(P.base64=!1,P.binary=!0,w="",P.compression="STORE",k="string");var L;L=w instanceof N||w instanceof y?w:$.isNode&&$.isStream(w)?new j(C,w):b.prepareContent(C,w,P.binary,P.optimizedBinaryString,P.base64);var V=new z(C,L,P);this.files[C]=V}var v=f("./utf8"),b=f("./utils"),y=f("./stream/GenericWorker"),I=f("./stream/StreamHelper"),D=f("./defaults"),N=f("./compressedObject"),z=f("./zipObject"),F=f("./generate"),$=f("./nodejsUtils"),j=f("./nodejs/NodejsStreamInputAdapter"),q=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var w=C.lastIndexOf("/");return 0<w?C.substring(0,w):""},H=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},A=function(C,w){return w=w!==void 0?w:D.createFolders,C=H(C),this.files[C]||m.call(this,C,null,{dir:!0,createFolders:w}),this.files[C]};function T(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var w,S,x;for(w in this.files)x=this.files[w],(S=w.slice(this.root.length,w.length))&&w.slice(0,this.root.length)===this.root&&C(S,x)},filter:function(C){var w=[];return this.forEach(function(S,x){C(S,x)&&w.push(x)}),w},file:function(C,w,S){if(arguments.length!==1)return C=this.root+C,m.call(this,C,w,S),this;if(T(C)){var x=C;return this.filter(function(P,O){return!O.dir&&x.test(P)})}var k=this.files[this.root+C];return k&&!k.dir?k:null},folder:function(C){if(!C)return this;if(T(C))return this.filter(function(k,P){return P.dir&&C.test(k)});var w=this.root+C,S=A.call(this,w),x=this.clone();return x.root=S.name,x},remove:function(C){C=this.root+C;var w=this.files[C];if(w||(C.slice(-1)!=="/"&&(C+="/"),w=this.files[C]),w&&!w.dir)delete this.files[C];else for(var S=this.filter(function(k,P){return P.name.slice(0,C.length)===C}),x=0;x<S.length;x++)delete this.files[S[x].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var w,S={};try{if((S=b.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");b.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var x=S.comment||this.comment||"";w=F.generateWorker(this,S,x)}catch(k){(w=new y("error")).error(k)}return new I(w,S.type||"string",S.mimeType)},generateAsync:function(C,w){return this.generateInternalStream(C).accumulate(w)},generateNodeStream:function(C,w){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(w)}};p.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(f,p,g){p.exports=f("stream")},{stream:void 0}],17:[function(f,p,g){var m=f("./DataReader");function v(b){m.call(this,b);for(var y=0;y<this.data.length;y++)b[y]=255&b[y]}f("../utils").inherits(v,m),v.prototype.byteAt=function(b){return this.data[this.zero+b]},v.prototype.lastIndexOfSignature=function(b){for(var y=b.charCodeAt(0),I=b.charCodeAt(1),D=b.charCodeAt(2),N=b.charCodeAt(3),z=this.length-4;0<=z;--z)if(this.data[z]===y&&this.data[z+1]===I&&this.data[z+2]===D&&this.data[z+3]===N)return z-this.zero;return-1},v.prototype.readAndCheckSignature=function(b){var y=b.charCodeAt(0),I=b.charCodeAt(1),D=b.charCodeAt(2),N=b.charCodeAt(3),z=this.readData(4);return y===z[0]&&I===z[1]&&D===z[2]&&N===z[3]},v.prototype.readData=function(b){if(this.checkOffset(b),b===0)return[];var y=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,y},p.exports=v},{"../utils":32,"./DataReader":18}],18:[function(f,p,g){var m=f("../utils");function v(b){this.data=b,this.length=b.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(b){this.checkIndex(this.index+b)},checkIndex:function(b){if(this.length<this.zero+b||b<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+b+"). Corrupted zip ?")},setIndex:function(b){this.checkIndex(b),this.index=b},skip:function(b){this.setIndex(this.index+b)},byteAt:function(){},readInt:function(b){var y,I=0;for(this.checkOffset(b),y=this.index+b-1;y>=this.index;y--)I=(I<<8)+this.byteAt(y);return this.index+=b,I},readString:function(b){return m.transformTo("string",this.readData(b))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var b=this.readInt(4);return new Date(Date.UTC(1980+(b>>25&127),(b>>21&15)-1,b>>16&31,b>>11&31,b>>5&63,(31&b)<<1))}},p.exports=v},{"../utils":32}],19:[function(f,p,g){var m=f("./Uint8ArrayReader");function v(b){m.call(this,b)}f("../utils").inherits(v,m),v.prototype.readData=function(b){this.checkOffset(b);var y=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,y},p.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(f,p,g){var m=f("./DataReader");function v(b){m.call(this,b)}f("../utils").inherits(v,m),v.prototype.byteAt=function(b){return this.data.charCodeAt(this.zero+b)},v.prototype.lastIndexOfSignature=function(b){return this.data.lastIndexOf(b)-this.zero},v.prototype.readAndCheckSignature=function(b){return b===this.readData(4)},v.prototype.readData=function(b){this.checkOffset(b);var y=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,y},p.exports=v},{"../utils":32,"./DataReader":18}],21:[function(f,p,g){var m=f("./ArrayReader");function v(b){m.call(this,b)}f("../utils").inherits(v,m),v.prototype.readData=function(b){if(this.checkOffset(b),b===0)return new Uint8Array(0);var y=this.data.subarray(this.zero+this.index,this.zero+this.index+b);return this.index+=b,y},p.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(f,p,g){var m=f("../utils"),v=f("../support"),b=f("./ArrayReader"),y=f("./StringReader"),I=f("./NodeBufferReader"),D=f("./Uint8ArrayReader");p.exports=function(N){var z=m.getTypeOf(N);return m.checkSupport(z),z!=="string"||v.uint8array?z==="nodebuffer"?new I(N):v.uint8array?new D(m.transformTo("uint8array",N)):new b(m.transformTo("array",N)):new y(N)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(f,p,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(f,p,g){var m=f("./GenericWorker"),v=f("../utils");function b(y){m.call(this,"ConvertWorker to "+y),this.destType=y}v.inherits(b,m),b.prototype.processChunk=function(y){this.push({data:v.transformTo(this.destType,y.data),meta:y.meta})},p.exports=b},{"../utils":32,"./GenericWorker":28}],25:[function(f,p,g){var m=f("./GenericWorker"),v=f("../crc32");function b(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f("../utils").inherits(b,m),b.prototype.processChunk=function(y){this.streamInfo.crc32=v(y.data,this.streamInfo.crc32||0),this.push(y)},p.exports=b},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(f,p,g){var m=f("../utils"),v=f("./GenericWorker");function b(y){v.call(this,"DataLengthProbe for "+y),this.propName=y,this.withStreamInfo(y,0)}m.inherits(b,v),b.prototype.processChunk=function(y){if(y){var I=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=I+y.data.length}v.prototype.processChunk.call(this,y)},p.exports=b},{"../utils":32,"./GenericWorker":28}],27:[function(f,p,g){var m=f("../utils"),v=f("./GenericWorker");function b(y){v.call(this,"DataWorker");var I=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,y.then(function(D){I.dataIsReady=!0,I.data=D,I.max=D&&D.length||0,I.type=m.getTypeOf(D),I.isPaused||I._tickAndRepeat()},function(D){I.error(D)})}m.inherits(b,v),b.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},b.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},b.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},b.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var y=null,I=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":y=this.data.substring(this.index,I);break;case"uint8array":y=this.data.subarray(this.index,I);break;case"array":case"nodebuffer":y=this.data.slice(this.index,I)}return this.index=I,this.push({data:y,meta:{percent:this.max?this.index/this.max*100:0}})},p.exports=b},{"../utils":32,"./GenericWorker":28}],28:[function(f,p,g){function m(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,b){return this._listeners[v].push(b),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,b){if(this._listeners[v])for(var y=0;y<this._listeners[v].length;y++)this._listeners[v][y].call(this,b)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var b=this;return v.on("data",function(y){b.processChunk(y)}),v.on("end",function(){b.end()}),v.on("error",function(y){b.error(y)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,b){return this.extraStreamInfo[v]=b,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},p.exports=m},{}],29:[function(f,p,g){var m=f("../utils"),v=f("./ConvertWorker"),b=f("./GenericWorker"),y=f("../base64"),I=f("../support"),D=f("../external"),N=null;if(I.nodestream)try{N=f("../nodejs/NodejsStreamOutputAdapter")}catch{}function z(F,$,j){var q=$;switch($){case"blob":case"arraybuffer":q="uint8array";break;case"base64":q="string"}try{this._internalType=q,this._outputType=$,this._mimeType=j,m.checkSupport(q),this._worker=F.pipe(new v(q)),F.lock()}catch(H){this._worker=new b("error"),this._worker.error(H)}}z.prototype={accumulate:function(F){return function($,j){return new D.Promise(function(q,H){var A=[],T=$._internalType,E=$._outputType,C=$._mimeType;$.on("data",function(w,S){A.push(w),j&&j(S)}).on("error",function(w){A=[],H(w)}).on("end",function(){try{var w=function(S,x,k){switch(S){case"blob":return m.newBlob(m.transformTo("arraybuffer",x),k);case"base64":return y.encode(x);default:return m.transformTo(S,x)}}(E,function(S,x){var k,P=0,O=null,L=0;for(k=0;k<x.length;k++)L+=x[k].length;switch(S){case"string":return x.join("");case"array":return Array.prototype.concat.apply([],x);case"uint8array":for(O=new Uint8Array(L),k=0;k<x.length;k++)O.set(x[k],P),P+=x[k].length;return O;case"nodebuffer":return o.concat(x);default:throw new Error("concat : unsupported type '"+S+"'")}}(T,A),C);q(w)}catch(S){H(S)}A=[]}).resume()})}(this,F)},on:function(F,$){var j=this;return F==="data"?this._worker.on(F,function(q){$.call(j,q.data,q.meta)}):this._worker.on(F,function(){m.delay($,arguments,j)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(F){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new N(this,{objectMode:this._outputType!=="nodebuffer"},F)}},p.exports=z},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(f,p,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=o!==void 0,g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var m=new ArrayBuffer(0);try{g.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(m),g.blob=v.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!f("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(f,p,g){for(var m=f("./utils"),v=f("./support"),b=f("./nodejsUtils"),y=f("./stream/GenericWorker"),I=new Array(256),D=0;D<256;D++)I[D]=252<=D?6:248<=D?5:240<=D?4:224<=D?3:192<=D?2:1;function N(){y.call(this,"utf-8 decode"),this.leftOver=null}function z(){y.call(this,"utf-8 encode")}I[254]=I[254]=1,g.utf8encode=function(F){return v.nodebuffer?b.newBufferFrom(F,"utf-8"):function($){var j,q,H,A,T,E=$.length,C=0;for(A=0;A<E;A++)(64512&(q=$.charCodeAt(A)))==55296&&A+1<E&&(64512&(H=$.charCodeAt(A+1)))==56320&&(q=65536+(q-55296<<10)+(H-56320),A++),C+=q<128?1:q<2048?2:q<65536?3:4;for(j=v.uint8array?new Uint8Array(C):new Array(C),A=T=0;T<C;A++)(64512&(q=$.charCodeAt(A)))==55296&&A+1<E&&(64512&(H=$.charCodeAt(A+1)))==56320&&(q=65536+(q-55296<<10)+(H-56320),A++),q<128?j[T++]=q:(q<2048?j[T++]=192|q>>>6:(q<65536?j[T++]=224|q>>>12:(j[T++]=240|q>>>18,j[T++]=128|q>>>12&63),j[T++]=128|q>>>6&63),j[T++]=128|63&q);return j}(F)},g.utf8decode=function(F){return v.nodebuffer?m.transformTo("nodebuffer",F).toString("utf-8"):function($){var j,q,H,A,T=$.length,E=new Array(2*T);for(j=q=0;j<T;)if((H=$[j++])<128)E[q++]=H;else if(4<(A=I[H]))E[q++]=65533,j+=A-1;else{for(H&=A===2?31:A===3?15:7;1<A&&j<T;)H=H<<6|63&$[j++],A--;1<A?E[q++]=65533:H<65536?E[q++]=H:(H-=65536,E[q++]=55296|H>>10&1023,E[q++]=56320|1023&H)}return E.length!==q&&(E.subarray?E=E.subarray(0,q):E.length=q),m.applyFromCharCode(E)}(F=m.transformTo(v.uint8array?"uint8array":"array",F))},m.inherits(N,y),N.prototype.processChunk=function(F){var $=m.transformTo(v.uint8array?"uint8array":"array",F.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var j=$;($=new Uint8Array(j.length+this.leftOver.length)).set(this.leftOver,0),$.set(j,this.leftOver.length)}else $=this.leftOver.concat($);this.leftOver=null}var q=function(A,T){var E;for((T=T||A.length)>A.length&&(T=A.length),E=T-1;0<=E&&(192&A[E])==128;)E--;return E<0||E===0?T:E+I[A[E]]>T?E:T}($),H=$;q!==$.length&&(v.uint8array?(H=$.subarray(0,q),this.leftOver=$.subarray(q,$.length)):(H=$.slice(0,q),this.leftOver=$.slice(q,$.length))),this.push({data:g.utf8decode(H),meta:F.meta})},N.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=N,m.inherits(z,y),z.prototype.processChunk=function(F){this.push({data:g.utf8encode(F.data),meta:F.meta})},g.Utf8EncodeWorker=z},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(f,p,g){var m=f("./support"),v=f("./base64"),b=f("./nodejsUtils"),y=f("./external");function I(j){return j}function D(j,q){for(var H=0;H<j.length;++H)q[H]=255&j.charCodeAt(H);return q}f("setimmediate"),g.newBlob=function(j,q){g.checkSupport("blob");try{return new Blob([j],{type:q})}catch{try{var H=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return H.append(j),H.getBlob(q)}catch{throw new Error("Bug : can't construct the Blob.")}}};var N={stringifyByChunk:function(j,q,H){var A=[],T=0,E=j.length;if(E<=H)return String.fromCharCode.apply(null,j);for(;T<E;)q==="array"||q==="nodebuffer"?A.push(String.fromCharCode.apply(null,j.slice(T,Math.min(T+H,E)))):A.push(String.fromCharCode.apply(null,j.subarray(T,Math.min(T+H,E)))),T+=H;return A.join("")},stringifyByChar:function(j){for(var q="",H=0;H<j.length;H++)q+=String.fromCharCode(j[H]);return q},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,b.allocBuffer(1)).length===1}catch{return!1}}()}};function z(j){var q=65536,H=g.getTypeOf(j),A=!0;if(H==="uint8array"?A=N.applyCanBeUsed.uint8array:H==="nodebuffer"&&(A=N.applyCanBeUsed.nodebuffer),A)for(;1<q;)try{return N.stringifyByChunk(j,H,q)}catch{q=Math.floor(q/2)}return N.stringifyByChar(j)}function F(j,q){for(var H=0;H<j.length;H++)q[H]=j[H];return q}g.applyFromCharCode=z;var $={};$.string={string:I,array:function(j){return D(j,new Array(j.length))},arraybuffer:function(j){return $.string.uint8array(j).buffer},uint8array:function(j){return D(j,new Uint8Array(j.length))},nodebuffer:function(j){return D(j,b.allocBuffer(j.length))}},$.array={string:z,array:I,arraybuffer:function(j){return new Uint8Array(j).buffer},uint8array:function(j){return new Uint8Array(j)},nodebuffer:function(j){return b.newBufferFrom(j)}},$.arraybuffer={string:function(j){return z(new Uint8Array(j))},array:function(j){return F(new Uint8Array(j),new Array(j.byteLength))},arraybuffer:I,uint8array:function(j){return new Uint8Array(j)},nodebuffer:function(j){return b.newBufferFrom(new Uint8Array(j))}},$.uint8array={string:z,array:function(j){return F(j,new Array(j.length))},arraybuffer:function(j){return j.buffer},uint8array:I,nodebuffer:function(j){return b.newBufferFrom(j)}},$.nodebuffer={string:z,array:function(j){return F(j,new Array(j.length))},arraybuffer:function(j){return $.nodebuffer.uint8array(j).buffer},uint8array:function(j){return F(j,new Uint8Array(j.length))},nodebuffer:I},g.transformTo=function(j,q){if(q=q||"",!j)return q;g.checkSupport(j);var H=g.getTypeOf(q);return $[H][j](q)},g.resolve=function(j){for(var q=j.split("/"),H=[],A=0;A<q.length;A++){var T=q[A];T==="."||T===""&&A!==0&&A!==q.length-1||(T===".."?H.pop():H.push(T))}return H.join("/")},g.getTypeOf=function(j){return typeof j=="string"?"string":Object.prototype.toString.call(j)==="[object Array]"?"array":m.nodebuffer&&b.isBuffer(j)?"nodebuffer":m.uint8array&&j instanceof Uint8Array?"uint8array":m.arraybuffer&&j instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(j){if(!m[j.toLowerCase()])throw new Error(j+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(j){var q,H,A="";for(H=0;H<(j||"").length;H++)A+="\\x"+((q=j.charCodeAt(H))<16?"0":"")+q.toString(16).toUpperCase();return A},g.delay=function(j,q,H){h(function(){j.apply(H||null,q||[])})},g.inherits=function(j,q){function H(){}H.prototype=q.prototype,j.prototype=new H},g.extend=function(){var j,q,H={};for(j=0;j<arguments.length;j++)for(q in arguments[j])Object.prototype.hasOwnProperty.call(arguments[j],q)&&H[q]===void 0&&(H[q]=arguments[j][q]);return H},g.prepareContent=function(j,q,H,A,T){return y.Promise.resolve(q).then(function(E){return m.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new y.Promise(function(C,w){var S=new FileReader;S.onload=function(x){C(x.target.result)},S.onerror=function(x){w(x.target.error)},S.readAsArrayBuffer(E)}):E}).then(function(E){var C=g.getTypeOf(E);return C?(C==="arraybuffer"?E=g.transformTo("uint8array",E):C==="string"&&(T?E=v.decode(E):H&&A!==!0&&(E=function(w){return D(w,m.uint8array?new Uint8Array(w.length):new Array(w.length))}(E))),E):y.Promise.reject(new Error("Can't read the data of '"+j+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(f,p,g){var m=f("./reader/readerFor"),v=f("./utils"),b=f("./signature"),y=f("./zipEntry"),I=f("./support");function D(N){this.files=[],this.loadOptions=N}D.prototype={checkSignature:function(N){if(!this.reader.readAndCheckSignature(N)){this.reader.index-=4;var z=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(z)+", expected "+v.pretty(N)+")")}},isSignature:function(N,z){var F=this.reader.index;this.reader.setIndex(N);var $=this.reader.readString(4)===z;return this.reader.setIndex(F),$},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var N=this.reader.readData(this.zipCommentLength),z=I.uint8array?"uint8array":"array",F=v.transformTo(z,N);this.zipComment=this.loadOptions.decodeFileName(F)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var N,z,F,$=this.zip64EndOfCentralSize-44;0<$;)N=this.reader.readInt(2),z=this.reader.readInt(4),F=this.reader.readData(z),this.zip64ExtensibleData[N]={id:N,length:z,value:F}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var N,z;for(N=0;N<this.files.length;N++)z=this.files[N],this.reader.setIndex(z.localHeaderOffset),this.checkSignature(b.LOCAL_FILE_HEADER),z.readLocalPart(this.reader),z.handleUTF8(),z.processAttributes()},readCentralDir:function(){var N;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(b.CENTRAL_FILE_HEADER);)(N=new y({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(N);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var N=this.reader.lastIndexOfSignature(b.CENTRAL_DIRECTORY_END);if(N<0)throw this.isSignature(0,b.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(N);var z=N;if(this.checkSignature(b.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(N=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(N),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,b.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var F=this.centralDirOffset+this.centralDirSize;this.zip64&&(F+=20,F+=12+this.zip64EndOfCentralSize);var $=z-F;if(0<$)this.isSignature(z,b.CENTRAL_FILE_HEADER)||(this.reader.zero=$);else if($<0)throw new Error("Corrupted zip: missing "+Math.abs($)+" bytes.")},prepareReader:function(N){this.reader=m(N)},load:function(N){this.prepareReader(N),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},p.exports=D},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(f,p,g){var m=f("./reader/readerFor"),v=f("./utils"),b=f("./compressedObject"),y=f("./crc32"),I=f("./utf8"),D=f("./compressions"),N=f("./support");function z(F,$){this.options=F,this.loadOptions=$}z.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(F){var $,j;if(F.skip(22),this.fileNameLength=F.readInt(2),j=F.readInt(2),this.fileName=F.readData(this.fileNameLength),F.skip(j),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(($=function(q){for(var H in D)if(Object.prototype.hasOwnProperty.call(D,H)&&D[H].magic===q)return D[H];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new b(this.compressedSize,this.uncompressedSize,this.crc32,$,F.readData(this.compressedSize))},readCentralPart:function(F){this.versionMadeBy=F.readInt(2),F.skip(2),this.bitFlag=F.readInt(2),this.compressionMethod=F.readString(2),this.date=F.readDate(),this.crc32=F.readInt(4),this.compressedSize=F.readInt(4),this.uncompressedSize=F.readInt(4);var $=F.readInt(2);if(this.extraFieldsLength=F.readInt(2),this.fileCommentLength=F.readInt(2),this.diskNumberStart=F.readInt(2),this.internalFileAttributes=F.readInt(2),this.externalFileAttributes=F.readInt(4),this.localHeaderOffset=F.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");F.skip($),this.readExtraFields(F),this.parseZIP64ExtraField(F),this.fileComment=F.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var F=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),F==0&&(this.dosPermissions=63&this.externalFileAttributes),F==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var F=m(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=F.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=F.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=F.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=F.readInt(4))}},readExtraFields:function(F){var $,j,q,H=F.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});F.index+4<H;)$=F.readInt(2),j=F.readInt(2),q=F.readData(j),this.extraFields[$]={id:$,length:j,value:q};F.setIndex(H)},handleUTF8:function(){var F=N.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=I.utf8decode(this.fileName),this.fileCommentStr=I.utf8decode(this.fileComment);else{var $=this.findExtraFieldUnicodePath();if($!==null)this.fileNameStr=$;else{var j=v.transformTo(F,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(j)}var q=this.findExtraFieldUnicodeComment();if(q!==null)this.fileCommentStr=q;else{var H=v.transformTo(F,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(H)}}},findExtraFieldUnicodePath:function(){var F=this.extraFields[28789];if(F){var $=m(F.value);return $.readInt(1)!==1||y(this.fileName)!==$.readInt(4)?null:I.utf8decode($.readData(F.length-5))}return null},findExtraFieldUnicodeComment:function(){var F=this.extraFields[25461];if(F){var $=m(F.value);return $.readInt(1)!==1||y(this.fileComment)!==$.readInt(4)?null:I.utf8decode($.readData(F.length-5))}return null}},p.exports=z},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(f,p,g){function m($,j,q){this.name=$,this.dir=q.dir,this.date=q.date,this.comment=q.comment,this.unixPermissions=q.unixPermissions,this.dosPermissions=q.dosPermissions,this._data=j,this._dataBinary=q.binary,this.options={compression:q.compression,compressionOptions:q.compressionOptions}}var v=f("./stream/StreamHelper"),b=f("./stream/DataWorker"),y=f("./utf8"),I=f("./compressedObject"),D=f("./stream/GenericWorker");m.prototype={internalStream:function($){var j=null,q="string";try{if(!$)throw new Error("No output type specified.");var H=(q=$.toLowerCase())==="string"||q==="text";q!=="binarystring"&&q!=="text"||(q="string"),j=this._decompressWorker();var A=!this._dataBinary;A&&!H&&(j=j.pipe(new y.Utf8EncodeWorker)),!A&&H&&(j=j.pipe(new y.Utf8DecodeWorker))}catch(T){(j=new D("error")).error(T)}return new v(j,q,"")},async:function($,j){return this.internalStream($).accumulate(j)},nodeStream:function($,j){return this.internalStream($||"nodebuffer").toNodejsStream(j)},_compressWorker:function($,j){if(this._data instanceof I&&this._data.compression.magic===$.magic)return this._data.getCompressedWorker();var q=this._decompressWorker();return this._dataBinary||(q=q.pipe(new y.Utf8EncodeWorker)),I.createWorkerFrom(q,$,j)},_decompressWorker:function(){return this._data instanceof I?this._data.getContentWorker():this._data instanceof D?this._data:new b(this._data)}};for(var N=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],z=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},F=0;F<N.length;F++)m.prototype[N[F]]=z;p.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(f,p,g){(function(m){var v,b,y=m.MutationObserver||m.WebKitMutationObserver;if(y){var I=0,D=new y($),N=m.document.createTextNode("");D.observe(N,{characterData:!0}),v=function(){N.data=I=++I%2}}else if(m.setImmediate||m.MessageChannel===void 0)v="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var j=m.document.createElement("script");j.onreadystatechange=function(){$(),j.onreadystatechange=null,j.parentNode.removeChild(j),j=null},m.document.documentElement.appendChild(j)}:function(){setTimeout($,0)};else{var z=new m.MessageChannel;z.port1.onmessage=$,v=function(){z.port2.postMessage(0)}}var F=[];function $(){var j,q;b=!0;for(var H=F.length;H;){for(q=F,F=[],j=-1;++j<H;)q[j]();H=F.length}b=!1}p.exports=function(j){F.push(j)!==1||b||v()}}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(f,p,g){var m=f("immediate");function v(){}var b={},y=["REJECTED"],I=["FULFILLED"],D=["PENDING"];function N(H){if(typeof H!="function")throw new TypeError("resolver must be a function");this.state=D,this.queue=[],this.outcome=void 0,H!==v&&j(this,H)}function z(H,A,T){this.promise=H,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function F(H,A,T){m(function(){var E;try{E=A(T)}catch(C){return b.reject(H,C)}E===H?b.reject(H,new TypeError("Cannot resolve promise with itself")):b.resolve(H,E)})}function $(H){var A=H&&H.then;if(H&&(typeof H=="object"||typeof H=="function")&&typeof A=="function")return function(){A.apply(H,arguments)}}function j(H,A){var T=!1;function E(S){T||(T=!0,b.reject(H,S))}function C(S){T||(T=!0,b.resolve(H,S))}var w=q(function(){A(C,E)});w.status==="error"&&E(w.value)}function q(H,A){var T={};try{T.value=H(A),T.status="success"}catch(E){T.status="error",T.value=E}return T}(p.exports=N).prototype.finally=function(H){if(typeof H!="function")return this;var A=this.constructor;return this.then(function(T){return A.resolve(H()).then(function(){return T})},function(T){return A.resolve(H()).then(function(){throw T})})},N.prototype.catch=function(H){return this.then(null,H)},N.prototype.then=function(H,A){if(typeof H!="function"&&this.state===I||typeof A!="function"&&this.state===y)return this;var T=new this.constructor(v);return this.state!==D?F(T,this.state===I?H:A,this.outcome):this.queue.push(new z(T,H,A)),T},z.prototype.callFulfilled=function(H){b.resolve(this.promise,H)},z.prototype.otherCallFulfilled=function(H){F(this.promise,this.onFulfilled,H)},z.prototype.callRejected=function(H){b.reject(this.promise,H)},z.prototype.otherCallRejected=function(H){F(this.promise,this.onRejected,H)},b.resolve=function(H,A){var T=q($,A);if(T.status==="error")return b.reject(H,T.value);var E=T.value;if(E)j(H,E);else{H.state=I,H.outcome=A;for(var C=-1,w=H.queue.length;++C<w;)H.queue[C].callFulfilled(A)}return H},b.reject=function(H,A){H.state=y,H.outcome=A;for(var T=-1,E=H.queue.length;++T<E;)H.queue[T].callRejected(A);return H},N.resolve=function(H){return H instanceof this?H:b.resolve(new this(v),H)},N.reject=function(H){var A=new this(v);return b.reject(A,H)},N.all=function(H){var A=this;if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=H.length,E=!1;if(!T)return this.resolve([]);for(var C=new Array(T),w=0,S=-1,x=new this(v);++S<T;)k(H[S],S);return x;function k(P,O){A.resolve(P).then(function(L){C[O]=L,++w!==T||E||(E=!0,b.resolve(x,C))},function(L){E||(E=!0,b.reject(x,L))})}},N.race=function(H){if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=H.length,T=!1;if(!A)return this.resolve([]);for(var E,C=-1,w=new this(v);++C<A;)E=H[C],this.resolve(E).then(function(S){T||(T=!0,b.resolve(w,S))},function(S){T||(T=!0,b.reject(w,S))});return w}},{immediate:36}],38:[function(f,p,g){var m={};(0,f("./lib/utils/common").assign)(m,f("./lib/deflate"),f("./lib/inflate"),f("./lib/zlib/constants")),p.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(f,p,g){var m=f("./zlib/deflate"),v=f("./utils/common"),b=f("./utils/strings"),y=f("./zlib/messages"),I=f("./zlib/zstream"),D=Object.prototype.toString;function N(F){if(!(this instanceof N))return new N(F);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},F||{});var $=this.options;$.raw&&0<$.windowBits?$.windowBits=-$.windowBits:$.gzip&&0<$.windowBits&&$.windowBits<16&&($.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var j=m.deflateInit2(this.strm,$.level,$.method,$.windowBits,$.memLevel,$.strategy);if(j!==0)throw new Error(y[j]);if($.header&&m.deflateSetHeader(this.strm,$.header),$.dictionary){var q;if(q=typeof $.dictionary=="string"?b.string2buf($.dictionary):D.call($.dictionary)==="[object ArrayBuffer]"?new Uint8Array($.dictionary):$.dictionary,(j=m.deflateSetDictionary(this.strm,q))!==0)throw new Error(y[j]);this._dict_set=!0}}function z(F,$){var j=new N($);if(j.push(F,!0),j.err)throw j.msg||y[j.err];return j.result}N.prototype.push=function(F,$){var j,q,H=this.strm,A=this.options.chunkSize;if(this.ended)return!1;q=$===~~$?$:$===!0?4:0,typeof F=="string"?H.input=b.string2buf(F):D.call(F)==="[object ArrayBuffer]"?H.input=new Uint8Array(F):H.input=F,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new v.Buf8(A),H.next_out=0,H.avail_out=A),(j=m.deflate(H,q))!==1&&j!==0)return this.onEnd(j),!(this.ended=!0);H.avail_out!==0&&(H.avail_in!==0||q!==4&&q!==2)||(this.options.to==="string"?this.onData(b.buf2binstring(v.shrinkBuf(H.output,H.next_out))):this.onData(v.shrinkBuf(H.output,H.next_out)))}while((0<H.avail_in||H.avail_out===0)&&j!==1);return q===4?(j=m.deflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===0):q!==2||(this.onEnd(0),!(H.avail_out=0))},N.prototype.onData=function(F){this.chunks.push(F)},N.prototype.onEnd=function(F){F===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=F,this.msg=this.strm.msg},g.Deflate=N,g.deflate=z,g.deflateRaw=function(F,$){return($=$||{}).raw=!0,z(F,$)},g.gzip=function(F,$){return($=$||{}).gzip=!0,z(F,$)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(f,p,g){var m=f("./zlib/inflate"),v=f("./utils/common"),b=f("./utils/strings"),y=f("./zlib/constants"),I=f("./zlib/messages"),D=f("./zlib/zstream"),N=f("./zlib/gzheader"),z=Object.prototype.toString;function F(j){if(!(this instanceof F))return new F(j);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},j||{});var q=this.options;q.raw&&0<=q.windowBits&&q.windowBits<16&&(q.windowBits=-q.windowBits,q.windowBits===0&&(q.windowBits=-15)),!(0<=q.windowBits&&q.windowBits<16)||j&&j.windowBits||(q.windowBits+=32),15<q.windowBits&&q.windowBits<48&&!(15&q.windowBits)&&(q.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var H=m.inflateInit2(this.strm,q.windowBits);if(H!==y.Z_OK)throw new Error(I[H]);this.header=new N,m.inflateGetHeader(this.strm,this.header)}function $(j,q){var H=new F(q);if(H.push(j,!0),H.err)throw H.msg||I[H.err];return H.result}F.prototype.push=function(j,q){var H,A,T,E,C,w,S=this.strm,x=this.options.chunkSize,k=this.options.dictionary,P=!1;if(this.ended)return!1;A=q===~~q?q:q===!0?y.Z_FINISH:y.Z_NO_FLUSH,typeof j=="string"?S.input=b.binstring2buf(j):z.call(j)==="[object ArrayBuffer]"?S.input=new Uint8Array(j):S.input=j,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new v.Buf8(x),S.next_out=0,S.avail_out=x),(H=m.inflate(S,y.Z_NO_FLUSH))===y.Z_NEED_DICT&&k&&(w=typeof k=="string"?b.string2buf(k):z.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,H=m.inflateSetDictionary(this.strm,w)),H===y.Z_BUF_ERROR&&P===!0&&(H=y.Z_OK,P=!1),H!==y.Z_STREAM_END&&H!==y.Z_OK)return this.onEnd(H),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&H!==y.Z_STREAM_END&&(S.avail_in!==0||A!==y.Z_FINISH&&A!==y.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=b.utf8border(S.output,S.next_out),E=S.next_out-T,C=b.buf2string(S.output,T),S.next_out=E,S.avail_out=x-E,E&&v.arraySet(S.output,S.output,T,E,0),this.onData(C)):this.onData(v.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(P=!0)}while((0<S.avail_in||S.avail_out===0)&&H!==y.Z_STREAM_END);return H===y.Z_STREAM_END&&(A=y.Z_FINISH),A===y.Z_FINISH?(H=m.inflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===y.Z_OK):A!==y.Z_SYNC_FLUSH||(this.onEnd(y.Z_OK),!(S.avail_out=0))},F.prototype.onData=function(j){this.chunks.push(j)},F.prototype.onEnd=function(j){j===y.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg},g.Inflate=F,g.inflate=$,g.inflateRaw=function(j,q){return(q=q||{}).raw=!0,$(j,q)},g.ungzip=$},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(f,p,g){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(y){for(var I=Array.prototype.slice.call(arguments,1);I.length;){var D=I.shift();if(D){if(typeof D!="object")throw new TypeError(D+"must be non-object");for(var N in D)D.hasOwnProperty(N)&&(y[N]=D[N])}}return y},g.shrinkBuf=function(y,I){return y.length===I?y:y.subarray?y.subarray(0,I):(y.length=I,y)};var v={arraySet:function(y,I,D,N,z){if(I.subarray&&y.subarray)y.set(I.subarray(D,D+N),z);else for(var F=0;F<N;F++)y[z+F]=I[D+F]},flattenChunks:function(y){var I,D,N,z,F,$;for(I=N=0,D=y.length;I<D;I++)N+=y[I].length;for($=new Uint8Array(N),I=z=0,D=y.length;I<D;I++)F=y[I],$.set(F,z),z+=F.length;return $}},b={arraySet:function(y,I,D,N,z){for(var F=0;F<N;F++)y[z+F]=I[D+F]},flattenChunks:function(y){return[].concat.apply([],y)}};g.setTyped=function(y){y?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,v)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,b))},g.setTyped(m)},{}],42:[function(f,p,g){var m=f("./common"),v=!0,b=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{b=!1}for(var y=new m.Buf8(256),I=0;I<256;I++)y[I]=252<=I?6:248<=I?5:240<=I?4:224<=I?3:192<=I?2:1;function D(N,z){if(z<65537&&(N.subarray&&b||!N.subarray&&v))return String.fromCharCode.apply(null,m.shrinkBuf(N,z));for(var F="",$=0;$<z;$++)F+=String.fromCharCode(N[$]);return F}y[254]=y[254]=1,g.string2buf=function(N){var z,F,$,j,q,H=N.length,A=0;for(j=0;j<H;j++)(64512&(F=N.charCodeAt(j)))==55296&&j+1<H&&(64512&($=N.charCodeAt(j+1)))==56320&&(F=65536+(F-55296<<10)+($-56320),j++),A+=F<128?1:F<2048?2:F<65536?3:4;for(z=new m.Buf8(A),j=q=0;q<A;j++)(64512&(F=N.charCodeAt(j)))==55296&&j+1<H&&(64512&($=N.charCodeAt(j+1)))==56320&&(F=65536+(F-55296<<10)+($-56320),j++),F<128?z[q++]=F:(F<2048?z[q++]=192|F>>>6:(F<65536?z[q++]=224|F>>>12:(z[q++]=240|F>>>18,z[q++]=128|F>>>12&63),z[q++]=128|F>>>6&63),z[q++]=128|63&F);return z},g.buf2binstring=function(N){return D(N,N.length)},g.binstring2buf=function(N){for(var z=new m.Buf8(N.length),F=0,$=z.length;F<$;F++)z[F]=N.charCodeAt(F);return z},g.buf2string=function(N,z){var F,$,j,q,H=z||N.length,A=new Array(2*H);for(F=$=0;F<H;)if((j=N[F++])<128)A[$++]=j;else if(4<(q=y[j]))A[$++]=65533,F+=q-1;else{for(j&=q===2?31:q===3?15:7;1<q&&F<H;)j=j<<6|63&N[F++],q--;1<q?A[$++]=65533:j<65536?A[$++]=j:(j-=65536,A[$++]=55296|j>>10&1023,A[$++]=56320|1023&j)}return D(A,$)},g.utf8border=function(N,z){var F;for((z=z||N.length)>N.length&&(z=N.length),F=z-1;0<=F&&(192&N[F])==128;)F--;return F<0||F===0?z:F+y[N[F]]>z?F:z}},{"./common":41}],43:[function(f,p,g){p.exports=function(m,v,b,y){for(var I=65535&m|0,D=m>>>16&65535|0,N=0;b!==0;){for(b-=N=2e3<b?2e3:b;D=D+(I=I+v[y++]|0)|0,--N;);I%=65521,D%=65521}return I|D<<16|0}},{}],44:[function(f,p,g){p.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(f,p,g){var m=function(){for(var v,b=[],y=0;y<256;y++){v=y;for(var I=0;I<8;I++)v=1&v?3988292384^v>>>1:v>>>1;b[y]=v}return b}();p.exports=function(v,b,y,I){var D=m,N=I+y;v^=-1;for(var z=I;z<N;z++)v=v>>>8^D[255&(v^b[z])];return-1^v}},{}],46:[function(f,p,g){var m,v=f("../utils/common"),b=f("./trees"),y=f("./adler32"),I=f("./crc32"),D=f("./messages"),N=-2,z=258,F=262,$=113;function j(B,K){return B.msg=D[K],K}function q(B){return(B<<1)-(4<B?9:0)}function H(B){for(var K=B.length;0<=--K;)B[K]=0}function A(B){var K=B.state,R=K.pending;R>B.avail_out&&(R=B.avail_out),R!==0&&(v.arraySet(B.output,K.pending_buf,K.pending_out,R,B.next_out),B.next_out+=R,K.pending_out+=R,B.total_out+=R,B.avail_out-=R,K.pending-=R,K.pending===0&&(K.pending_out=0))}function T(B,K){b._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,K),B.block_start=B.strstart,A(B.strm)}function E(B,K){B.pending_buf[B.pending++]=K}function C(B,K){B.pending_buf[B.pending++]=K>>>8&255,B.pending_buf[B.pending++]=255&K}function w(B,K){var R,M,G=B.max_chain_length,Q=B.strstart,ne=B.prev_length,ie=B.nice_match,U=B.strstart>B.w_size-F?B.strstart-(B.w_size-F):0,se=B.window,ae=B.w_mask,Y=B.prev,J=B.strstart+z,ee=se[Q+ne-1],ue=se[Q+ne];B.prev_length>=B.good_match&&(G>>=2),ie>B.lookahead&&(ie=B.lookahead);do if(se[(R=K)+ne]===ue&&se[R+ne-1]===ee&&se[R]===se[Q]&&se[++R]===se[Q+1]){Q+=2,R++;do;while(se[++Q]===se[++R]&&se[++Q]===se[++R]&&se[++Q]===se[++R]&&se[++Q]===se[++R]&&se[++Q]===se[++R]&&se[++Q]===se[++R]&&se[++Q]===se[++R]&&se[++Q]===se[++R]&&Q<J);if(M=z-(J-Q),Q=J-z,ne<M){if(B.match_start=K,ie<=(ne=M))break;ee=se[Q+ne-1],ue=se[Q+ne]}}while((K=Y[K&ae])>U&&--G!=0);return ne<=B.lookahead?ne:B.lookahead}function S(B){var K,R,M,G,Q,ne,ie,U,se,ae,Y=B.w_size;do{if(G=B.window_size-B.lookahead-B.strstart,B.strstart>=Y+(Y-F)){for(v.arraySet(B.window,B.window,Y,Y,0),B.match_start-=Y,B.strstart-=Y,B.block_start-=Y,K=R=B.hash_size;M=B.head[--K],B.head[K]=Y<=M?M-Y:0,--R;);for(K=R=Y;M=B.prev[--K],B.prev[K]=Y<=M?M-Y:0,--R;);G+=Y}if(B.strm.avail_in===0)break;if(ne=B.strm,ie=B.window,U=B.strstart+B.lookahead,ae=void 0,(se=G)<(ae=ne.avail_in)&&(ae=se),R=ae===0?0:(ne.avail_in-=ae,v.arraySet(ie,ne.input,ne.next_in,ae,U),ne.state.wrap===1?ne.adler=y(ne.adler,ie,ae,U):ne.state.wrap===2&&(ne.adler=I(ne.adler,ie,ae,U)),ne.next_in+=ae,ne.total_in+=ae,ae),B.lookahead+=R,B.lookahead+B.insert>=3)for(Q=B.strstart-B.insert,B.ins_h=B.window[Q],B.ins_h=(B.ins_h<<B.hash_shift^B.window[Q+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[Q+3-1])&B.hash_mask,B.prev[Q&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=Q,Q++,B.insert--,!(B.lookahead+B.insert<3)););}while(B.lookahead<F&&B.strm.avail_in!==0)}function x(B,K){for(var R,M;;){if(B.lookahead<F){if(S(B),B.lookahead<F&&K===0)return 1;if(B.lookahead===0)break}if(R=0,B.lookahead>=3&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+3-1])&B.hash_mask,R=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),R!==0&&B.strstart-R<=B.w_size-F&&(B.match_length=w(B,R)),B.match_length>=3)if(M=b._tr_tally(B,B.strstart-B.match_start,B.match_length-3),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=3){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+3-1])&B.hash_mask,R=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else M=b._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(M&&(T(B,!1),B.strm.avail_out===0))return 1}return B.insert=B.strstart<2?B.strstart:2,K===4?(T(B,!0),B.strm.avail_out===0?3:4):B.last_lit&&(T(B,!1),B.strm.avail_out===0)?1:2}function k(B,K){for(var R,M,G;;){if(B.lookahead<F){if(S(B),B.lookahead<F&&K===0)return 1;if(B.lookahead===0)break}if(R=0,B.lookahead>=3&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+3-1])&B.hash_mask,R=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=2,R!==0&&B.prev_length<B.max_lazy_match&&B.strstart-R<=B.w_size-F&&(B.match_length=w(B,R),B.match_length<=5&&(B.strategy===1||B.match_length===3&&4096<B.strstart-B.match_start)&&(B.match_length=2)),B.prev_length>=3&&B.match_length<=B.prev_length){for(G=B.strstart+B.lookahead-3,M=b._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-3),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=G&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+3-1])&B.hash_mask,R=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=2,B.strstart++,M&&(T(B,!1),B.strm.avail_out===0))return 1}else if(B.match_available){if((M=b._tr_tally(B,0,B.window[B.strstart-1]))&&T(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return 1}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(M=b._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<2?B.strstart:2,K===4?(T(B,!0),B.strm.avail_out===0?3:4):B.last_lit&&(T(B,!1),B.strm.avail_out===0)?1:2}function P(B,K,R,M,G){this.good_length=B,this.max_lazy=K,this.nice_length=R,this.max_chain=M,this.func=G}function O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function L(B){var K;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=2,(K=B.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?42:$,B.adler=K.wrap===2?0:1,K.last_flush=0,b._tr_init(K),0):j(B,N)}function V(B){var K=L(B);return K===0&&function(R){R.window_size=2*R.w_size,H(R.head),R.max_lazy_match=m[R.level].max_lazy,R.good_match=m[R.level].good_length,R.nice_match=m[R.level].nice_length,R.max_chain_length=m[R.level].max_chain,R.strstart=0,R.block_start=0,R.lookahead=0,R.insert=0,R.match_length=R.prev_length=2,R.match_available=0,R.ins_h=0}(B.state),K}function X(B,K,R,M,G,Q){if(!B)return N;var ne=1;if(K===-1&&(K=6),M<0?(ne=0,M=-M):15<M&&(ne=2,M-=16),G<1||9<G||R!==8||M<8||15<M||K<0||9<K||Q<0||4<Q)return j(B,N);M===8&&(M=9);var ie=new O;return(B.state=ie).strm=B,ie.wrap=ne,ie.gzhead=null,ie.w_bits=M,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=G+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+3-1)/3),ie.window=new v.Buf8(2*ie.w_size),ie.head=new v.Buf16(ie.hash_size),ie.prev=new v.Buf16(ie.w_size),ie.lit_bufsize=1<<G+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new v.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=K,ie.strategy=Q,ie.method=R,V(B)}m=[new P(0,0,0,0,function(B,K){var R=65535;for(R>B.pending_buf_size-5&&(R=B.pending_buf_size-5);;){if(B.lookahead<=1){if(S(B),B.lookahead===0&&K===0)return 1;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var M=B.block_start+R;if((B.strstart===0||B.strstart>=M)&&(B.lookahead=B.strstart-M,B.strstart=M,T(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-F&&(T(B,!1),B.strm.avail_out===0))return 1}return B.insert=0,K===4?(T(B,!0),B.strm.avail_out===0?3:4):(B.strstart>B.block_start&&(T(B,!1),B.strm.avail_out),1)}),new P(4,4,8,4,x),new P(4,5,16,8,x),new P(4,6,32,32,x),new P(4,4,16,16,k),new P(8,16,32,32,k),new P(8,16,128,128,k),new P(8,32,128,256,k),new P(32,128,258,1024,k),new P(32,258,258,4096,k)],g.deflateInit=function(B,K){return X(B,K,8,15,8,0)},g.deflateInit2=X,g.deflateReset=V,g.deflateResetKeep=L,g.deflateSetHeader=function(B,K){return B&&B.state?B.state.wrap!==2?N:(B.state.gzhead=K,0):N},g.deflate=function(B,K){var R,M,G,Q;if(!B||!B.state||5<K||K<0)return B?j(B,N):N;if(M=B.state,!B.output||!B.input&&B.avail_in!==0||M.status===666&&K!==4)return j(B,B.avail_out===0?-5:N);if(M.strm=B,R=M.last_flush,M.last_flush=K,M.status===42)if(M.wrap===2)B.adler=0,E(M,31),E(M,139),E(M,8),M.gzhead?(E(M,(M.gzhead.text?1:0)+(M.gzhead.hcrc?2:0)+(M.gzhead.extra?4:0)+(M.gzhead.name?8:0)+(M.gzhead.comment?16:0)),E(M,255&M.gzhead.time),E(M,M.gzhead.time>>8&255),E(M,M.gzhead.time>>16&255),E(M,M.gzhead.time>>24&255),E(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),E(M,255&M.gzhead.os),M.gzhead.extra&&M.gzhead.extra.length&&(E(M,255&M.gzhead.extra.length),E(M,M.gzhead.extra.length>>8&255)),M.gzhead.hcrc&&(B.adler=I(B.adler,M.pending_buf,M.pending,0)),M.gzindex=0,M.status=69):(E(M,0),E(M,0),E(M,0),E(M,0),E(M,0),E(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),E(M,3),M.status=$);else{var ne=8+(M.w_bits-8<<4)<<8;ne|=(2<=M.strategy||M.level<2?0:M.level<6?1:M.level===6?2:3)<<6,M.strstart!==0&&(ne|=32),ne+=31-ne%31,M.status=$,C(M,ne),M.strstart!==0&&(C(M,B.adler>>>16),C(M,65535&B.adler)),B.adler=1}if(M.status===69)if(M.gzhead.extra){for(G=M.pending;M.gzindex<(65535&M.gzhead.extra.length)&&(M.pending!==M.pending_buf_size||(M.gzhead.hcrc&&M.pending>G&&(B.adler=I(B.adler,M.pending_buf,M.pending-G,G)),A(B),G=M.pending,M.pending!==M.pending_buf_size));)E(M,255&M.gzhead.extra[M.gzindex]),M.gzindex++;M.gzhead.hcrc&&M.pending>G&&(B.adler=I(B.adler,M.pending_buf,M.pending-G,G)),M.gzindex===M.gzhead.extra.length&&(M.gzindex=0,M.status=73)}else M.status=73;if(M.status===73)if(M.gzhead.name){G=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>G&&(B.adler=I(B.adler,M.pending_buf,M.pending-G,G)),A(B),G=M.pending,M.pending===M.pending_buf_size)){Q=1;break}Q=M.gzindex<M.gzhead.name.length?255&M.gzhead.name.charCodeAt(M.gzindex++):0,E(M,Q)}while(Q!==0);M.gzhead.hcrc&&M.pending>G&&(B.adler=I(B.adler,M.pending_buf,M.pending-G,G)),Q===0&&(M.gzindex=0,M.status=91)}else M.status=91;if(M.status===91)if(M.gzhead.comment){G=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>G&&(B.adler=I(B.adler,M.pending_buf,M.pending-G,G)),A(B),G=M.pending,M.pending===M.pending_buf_size)){Q=1;break}Q=M.gzindex<M.gzhead.comment.length?255&M.gzhead.comment.charCodeAt(M.gzindex++):0,E(M,Q)}while(Q!==0);M.gzhead.hcrc&&M.pending>G&&(B.adler=I(B.adler,M.pending_buf,M.pending-G,G)),Q===0&&(M.status=103)}else M.status=103;if(M.status===103&&(M.gzhead.hcrc?(M.pending+2>M.pending_buf_size&&A(B),M.pending+2<=M.pending_buf_size&&(E(M,255&B.adler),E(M,B.adler>>8&255),B.adler=0,M.status=$)):M.status=$),M.pending!==0){if(A(B),B.avail_out===0)return M.last_flush=-1,0}else if(B.avail_in===0&&q(K)<=q(R)&&K!==4)return j(B,-5);if(M.status===666&&B.avail_in!==0)return j(B,-5);if(B.avail_in!==0||M.lookahead!==0||K!==0&&M.status!==666){var ie=M.strategy===2?function(U,se){for(var ae;;){if(U.lookahead===0&&(S(U),U.lookahead===0)){if(se===0)return 1;break}if(U.match_length=0,ae=b._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++,ae&&(T(U,!1),U.strm.avail_out===0))return 1}return U.insert=0,se===4?(T(U,!0),U.strm.avail_out===0?3:4):U.last_lit&&(T(U,!1),U.strm.avail_out===0)?1:2}(M,K):M.strategy===3?function(U,se){for(var ae,Y,J,ee,ue=U.window;;){if(U.lookahead<=z){if(S(U),U.lookahead<=z&&se===0)return 1;if(U.lookahead===0)break}if(U.match_length=0,U.lookahead>=3&&0<U.strstart&&(Y=ue[J=U.strstart-1])===ue[++J]&&Y===ue[++J]&&Y===ue[++J]){ee=U.strstart+z;do;while(Y===ue[++J]&&Y===ue[++J]&&Y===ue[++J]&&Y===ue[++J]&&Y===ue[++J]&&Y===ue[++J]&&Y===ue[++J]&&Y===ue[++J]&&J<ee);U.match_length=z-(ee-J),U.match_length>U.lookahead&&(U.match_length=U.lookahead)}if(U.match_length>=3?(ae=b._tr_tally(U,1,U.match_length-3),U.lookahead-=U.match_length,U.strstart+=U.match_length,U.match_length=0):(ae=b._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++),ae&&(T(U,!1),U.strm.avail_out===0))return 1}return U.insert=0,se===4?(T(U,!0),U.strm.avail_out===0?3:4):U.last_lit&&(T(U,!1),U.strm.avail_out===0)?1:2}(M,K):m[M.level].func(M,K);if(ie!==3&&ie!==4||(M.status=666),ie===1||ie===3)return B.avail_out===0&&(M.last_flush=-1),0;if(ie===2&&(K===1?b._tr_align(M):K!==5&&(b._tr_stored_block(M,0,0,!1),K===3&&(H(M.head),M.lookahead===0&&(M.strstart=0,M.block_start=0,M.insert=0))),A(B),B.avail_out===0))return M.last_flush=-1,0}return K!==4?0:M.wrap<=0?1:(M.wrap===2?(E(M,255&B.adler),E(M,B.adler>>8&255),E(M,B.adler>>16&255),E(M,B.adler>>24&255),E(M,255&B.total_in),E(M,B.total_in>>8&255),E(M,B.total_in>>16&255),E(M,B.total_in>>24&255)):(C(M,B.adler>>>16),C(M,65535&B.adler)),A(B),0<M.wrap&&(M.wrap=-M.wrap),M.pending!==0?0:1)},g.deflateEnd=function(B){var K;return B&&B.state?(K=B.state.status)!==42&&K!==69&&K!==73&&K!==91&&K!==103&&K!==$&&K!==666?j(B,N):(B.state=null,K===$?j(B,-3):0):N},g.deflateSetDictionary=function(B,K){var R,M,G,Q,ne,ie,U,se,ae=K.length;if(!B||!B.state||(Q=(R=B.state).wrap)===2||Q===1&&R.status!==42||R.lookahead)return N;for(Q===1&&(B.adler=y(B.adler,K,ae,0)),R.wrap=0,ae>=R.w_size&&(Q===0&&(H(R.head),R.strstart=0,R.block_start=0,R.insert=0),se=new v.Buf8(R.w_size),v.arraySet(se,K,ae-R.w_size,R.w_size,0),K=se,ae=R.w_size),ne=B.avail_in,ie=B.next_in,U=B.input,B.avail_in=ae,B.next_in=0,B.input=K,S(R);R.lookahead>=3;){for(M=R.strstart,G=R.lookahead-2;R.ins_h=(R.ins_h<<R.hash_shift^R.window[M+3-1])&R.hash_mask,R.prev[M&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=M,M++,--G;);R.strstart=M,R.lookahead=2,S(R)}return R.strstart+=R.lookahead,R.block_start=R.strstart,R.insert=R.lookahead,R.lookahead=0,R.match_length=R.prev_length=2,R.match_available=0,B.next_in=ie,B.input=U,B.avail_in=ne,R.wrap=Q,0},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(f,p,g){p.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(f,p,g){p.exports=function(m,v){var b,y,I,D,N,z,F,$,j,q,H,A,T,E,C,w,S,x,k,P,O,L,V,X,B;b=m.state,y=m.next_in,X=m.input,I=y+(m.avail_in-5),D=m.next_out,B=m.output,N=D-(v-m.avail_out),z=D+(m.avail_out-257),F=b.dmax,$=b.wsize,j=b.whave,q=b.wnext,H=b.window,A=b.hold,T=b.bits,E=b.lencode,C=b.distcode,w=(1<<b.lenbits)-1,S=(1<<b.distbits)-1;e:do{T<15&&(A+=X[y++]<<T,T+=8,A+=X[y++]<<T,T+=8),x=E[A&w];t:for(;;){if(A>>>=k=x>>>24,T-=k,(k=x>>>16&255)==0)B[D++]=65535&x;else{if(!(16&k)){if(!(64&k)){x=E[(65535&x)+(A&(1<<k)-1)];continue t}if(32&k){b.mode=12;break e}m.msg="invalid literal/length code",b.mode=30;break e}P=65535&x,(k&=15)&&(T<k&&(A+=X[y++]<<T,T+=8),P+=A&(1<<k)-1,A>>>=k,T-=k),T<15&&(A+=X[y++]<<T,T+=8,A+=X[y++]<<T,T+=8),x=C[A&S];i:for(;;){if(A>>>=k=x>>>24,T-=k,!(16&(k=x>>>16&255))){if(!(64&k)){x=C[(65535&x)+(A&(1<<k)-1)];continue i}m.msg="invalid distance code",b.mode=30;break e}if(O=65535&x,T<(k&=15)&&(A+=X[y++]<<T,(T+=8)<k&&(A+=X[y++]<<T,T+=8)),F<(O+=A&(1<<k)-1)){m.msg="invalid distance too far back",b.mode=30;break e}if(A>>>=k,T-=k,(k=D-N)<O){if(j<(k=O-k)&&b.sane){m.msg="invalid distance too far back",b.mode=30;break e}if(V=H,(L=0)===q){if(L+=$-k,k<P){for(P-=k;B[D++]=H[L++],--k;);L=D-O,V=B}}else if(q<k){if(L+=$+q-k,(k-=q)<P){for(P-=k;B[D++]=H[L++],--k;);if(L=0,q<P){for(P-=k=q;B[D++]=H[L++],--k;);L=D-O,V=B}}}else if(L+=q-k,k<P){for(P-=k;B[D++]=H[L++],--k;);L=D-O,V=B}for(;2<P;)B[D++]=V[L++],B[D++]=V[L++],B[D++]=V[L++],P-=3;P&&(B[D++]=V[L++],1<P&&(B[D++]=V[L++]))}else{for(L=D-O;B[D++]=B[L++],B[D++]=B[L++],B[D++]=B[L++],2<(P-=3););P&&(B[D++]=B[L++],1<P&&(B[D++]=B[L++]))}break}}break}}while(y<I&&D<z);y-=P=T>>3,A&=(1<<(T-=P<<3))-1,m.next_in=y,m.next_out=D,m.avail_in=y<I?I-y+5:5-(y-I),m.avail_out=D<z?z-D+257:257-(D-z),b.hold=A,b.bits=T}},{}],49:[function(f,p,g){var m=f("../utils/common"),v=f("./adler32"),b=f("./crc32"),y=f("./inffast"),I=f("./inftrees"),D=-2;function N(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function z(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function F(w){var S;return w&&w.state?(S=w.state,w.total_in=w.total_out=S.total=0,w.msg="",S.wrap&&(w.adler=1&S.wrap),S.mode=1,S.last=0,S.havedict=0,S.dmax=32768,S.head=null,S.hold=0,S.bits=0,S.lencode=S.lendyn=new m.Buf32(852),S.distcode=S.distdyn=new m.Buf32(592),S.sane=1,S.back=-1,0):D}function $(w){var S;return w&&w.state?((S=w.state).wsize=0,S.whave=0,S.wnext=0,F(w)):D}function j(w,S){var x,k;return w&&w.state?(k=w.state,S<0?(x=0,S=-S):(x=1+(S>>4),S<48&&(S&=15)),S&&(S<8||15<S)?D:(k.window!==null&&k.wbits!==S&&(k.window=null),k.wrap=x,k.wbits=S,$(w))):D}function q(w,S){var x,k;return w?(k=new z,(w.state=k).window=null,(x=j(w,S))!==0&&(w.state=null),x):D}var H,A,T=!0;function E(w){if(T){var S;for(H=new m.Buf32(512),A=new m.Buf32(32),S=0;S<144;)w.lens[S++]=8;for(;S<256;)w.lens[S++]=9;for(;S<280;)w.lens[S++]=7;for(;S<288;)w.lens[S++]=8;for(I(1,w.lens,0,288,H,0,w.work,{bits:9}),S=0;S<32;)w.lens[S++]=5;I(2,w.lens,0,32,A,0,w.work,{bits:5}),T=!1}w.lencode=H,w.lenbits=9,w.distcode=A,w.distbits=5}function C(w,S,x,k){var P,O=w.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new m.Buf8(O.wsize)),k>=O.wsize?(m.arraySet(O.window,S,x-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(k<(P=O.wsize-O.wnext)&&(P=k),m.arraySet(O.window,S,x-k,P,O.wnext),(k-=P)?(m.arraySet(O.window,S,x-k,k,0),O.wnext=k,O.whave=O.wsize):(O.wnext+=P,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=P))),0}g.inflateReset=$,g.inflateReset2=j,g.inflateResetKeep=F,g.inflateInit=function(w){return q(w,15)},g.inflateInit2=q,g.inflate=function(w,S){var x,k,P,O,L,V,X,B,K,R,M,G,Q,ne,ie,U,se,ae,Y,J,ee,ue,de,oe,ce=0,ge=new m.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&w.avail_in!==0)return D;(x=w.state).mode===12&&(x.mode=13),L=w.next_out,P=w.output,X=w.avail_out,O=w.next_in,k=w.input,V=w.avail_in,B=x.hold,K=x.bits,R=V,M=X,ue=0;e:for(;;)switch(x.mode){case 1:if(x.wrap===0){x.mode=13;break}for(;K<16;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}if(2&x.wrap&&B===35615){ge[x.check=0]=255&B,ge[1]=B>>>8&255,x.check=b(x.check,ge,2,0),K=B=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&B)<<8)+(B>>8))%31){w.msg="incorrect header check",x.mode=30;break}if((15&B)!=8){w.msg="unknown compression method",x.mode=30;break}if(K-=4,ee=8+(15&(B>>>=4)),x.wbits===0)x.wbits=ee;else if(ee>x.wbits){w.msg="invalid window size",x.mode=30;break}x.dmax=1<<ee,w.adler=x.check=1,x.mode=512&B?10:12,K=B=0;break;case 2:for(;K<16;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}if(x.flags=B,(255&x.flags)!=8){w.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){w.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=B>>8&1),512&x.flags&&(ge[0]=255&B,ge[1]=B>>>8&255,x.check=b(x.check,ge,2,0)),K=B=0,x.mode=3;case 3:for(;K<32;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}x.head&&(x.head.time=B),512&x.flags&&(ge[0]=255&B,ge[1]=B>>>8&255,ge[2]=B>>>16&255,ge[3]=B>>>24&255,x.check=b(x.check,ge,4,0)),K=B=0,x.mode=4;case 4:for(;K<16;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}x.head&&(x.head.xflags=255&B,x.head.os=B>>8),512&x.flags&&(ge[0]=255&B,ge[1]=B>>>8&255,x.check=b(x.check,ge,2,0)),K=B=0,x.mode=5;case 5:if(1024&x.flags){for(;K<16;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}x.length=B,x.head&&(x.head.extra_len=B),512&x.flags&&(ge[0]=255&B,ge[1]=B>>>8&255,x.check=b(x.check,ge,2,0)),K=B=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(V<(G=x.length)&&(G=V),G&&(x.head&&(ee=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),m.arraySet(x.head.extra,k,O,G,ee)),512&x.flags&&(x.check=b(x.check,k,G,O)),V-=G,O+=G,x.length-=G),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(V===0)break e;for(G=0;ee=k[O+G++],x.head&&ee&&x.length<65536&&(x.head.name+=String.fromCharCode(ee)),ee&&G<V;);if(512&x.flags&&(x.check=b(x.check,k,G,O)),V-=G,O+=G,ee)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(V===0)break e;for(G=0;ee=k[O+G++],x.head&&ee&&x.length<65536&&(x.head.comment+=String.fromCharCode(ee)),ee&&G<V;);if(512&x.flags&&(x.check=b(x.check,k,G,O)),V-=G,O+=G,ee)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;K<16;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}if(B!==(65535&x.check)){w.msg="header crc mismatch",x.mode=30;break}K=B=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),w.adler=x.check=0,x.mode=12;break;case 10:for(;K<32;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}w.adler=x.check=N(B),K=B=0,x.mode=11;case 11:if(x.havedict===0)return w.next_out=L,w.avail_out=X,w.next_in=O,w.avail_in=V,x.hold=B,x.bits=K,2;w.adler=x.check=1,x.mode=12;case 12:if(S===5||S===6)break e;case 13:if(x.last){B>>>=7&K,K-=7&K,x.mode=27;break}for(;K<3;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}switch(x.last=1&B,K-=1,3&(B>>>=1)){case 0:x.mode=14;break;case 1:if(E(x),x.mode=20,S!==6)break;B>>>=2,K-=2;break e;case 2:x.mode=17;break;case 3:w.msg="invalid block type",x.mode=30}B>>>=2,K-=2;break;case 14:for(B>>>=7&K,K-=7&K;K<32;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}if((65535&B)!=(B>>>16^65535)){w.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&B,K=B=0,x.mode=15,S===6)break e;case 15:x.mode=16;case 16:if(G=x.length){if(V<G&&(G=V),X<G&&(G=X),G===0)break e;m.arraySet(P,k,O,G,L),V-=G,O+=G,X-=G,L+=G,x.length-=G;break}x.mode=12;break;case 17:for(;K<14;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}if(x.nlen=257+(31&B),B>>>=5,K-=5,x.ndist=1+(31&B),B>>>=5,K-=5,x.ncode=4+(15&B),B>>>=4,K-=4,286<x.nlen||30<x.ndist){w.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;K<3;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}x.lens[ve[x.have++]]=7&B,B>>>=3,K-=3}for(;x.have<19;)x.lens[ve[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,de={bits:x.lenbits},ue=I(0,x.lens,0,19,x.lencode,0,x.work,de),x.lenbits=de.bits,ue){w.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;U=(ce=x.lencode[B&(1<<x.lenbits)-1])>>>16&255,se=65535&ce,!((ie=ce>>>24)<=K);){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}if(se<16)B>>>=ie,K-=ie,x.lens[x.have++]=se;else{if(se===16){for(oe=ie+2;K<oe;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}if(B>>>=ie,K-=ie,x.have===0){w.msg="invalid bit length repeat",x.mode=30;break}ee=x.lens[x.have-1],G=3+(3&B),B>>>=2,K-=2}else if(se===17){for(oe=ie+3;K<oe;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}K-=ie,ee=0,G=3+(7&(B>>>=ie)),B>>>=3,K-=3}else{for(oe=ie+7;K<oe;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}K-=ie,ee=0,G=11+(127&(B>>>=ie)),B>>>=7,K-=7}if(x.have+G>x.nlen+x.ndist){w.msg="invalid bit length repeat",x.mode=30;break}for(;G--;)x.lens[x.have++]=ee}}if(x.mode===30)break;if(x.lens[256]===0){w.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,de={bits:x.lenbits},ue=I(1,x.lens,0,x.nlen,x.lencode,0,x.work,de),x.lenbits=de.bits,ue){w.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,de={bits:x.distbits},ue=I(2,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,de),x.distbits=de.bits,ue){w.msg="invalid distances set",x.mode=30;break}if(x.mode=20,S===6)break e;case 20:x.mode=21;case 21:if(6<=V&&258<=X){w.next_out=L,w.avail_out=X,w.next_in=O,w.avail_in=V,x.hold=B,x.bits=K,y(w,M),L=w.next_out,P=w.output,X=w.avail_out,O=w.next_in,k=w.input,V=w.avail_in,B=x.hold,K=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;U=(ce=x.lencode[B&(1<<x.lenbits)-1])>>>16&255,se=65535&ce,!((ie=ce>>>24)<=K);){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}if(U&&!(240&U)){for(ae=ie,Y=U,J=se;U=(ce=x.lencode[J+((B&(1<<ae+Y)-1)>>ae)])>>>16&255,se=65535&ce,!(ae+(ie=ce>>>24)<=K);){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}B>>>=ae,K-=ae,x.back+=ae}if(B>>>=ie,K-=ie,x.back+=ie,x.length=se,U===0){x.mode=26;break}if(32&U){x.back=-1,x.mode=12;break}if(64&U){w.msg="invalid literal/length code",x.mode=30;break}x.extra=15&U,x.mode=22;case 22:if(x.extra){for(oe=x.extra;K<oe;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}x.length+=B&(1<<x.extra)-1,B>>>=x.extra,K-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;U=(ce=x.distcode[B&(1<<x.distbits)-1])>>>16&255,se=65535&ce,!((ie=ce>>>24)<=K);){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}if(!(240&U)){for(ae=ie,Y=U,J=se;U=(ce=x.distcode[J+((B&(1<<ae+Y)-1)>>ae)])>>>16&255,se=65535&ce,!(ae+(ie=ce>>>24)<=K);){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}B>>>=ae,K-=ae,x.back+=ae}if(B>>>=ie,K-=ie,x.back+=ie,64&U){w.msg="invalid distance code",x.mode=30;break}x.offset=se,x.extra=15&U,x.mode=24;case 24:if(x.extra){for(oe=x.extra;K<oe;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}x.offset+=B&(1<<x.extra)-1,B>>>=x.extra,K-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){w.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(X===0)break e;if(G=M-X,x.offset>G){if((G=x.offset-G)>x.whave&&x.sane){w.msg="invalid distance too far back",x.mode=30;break}Q=G>x.wnext?(G-=x.wnext,x.wsize-G):x.wnext-G,G>x.length&&(G=x.length),ne=x.window}else ne=P,Q=L-x.offset,G=x.length;for(X<G&&(G=X),X-=G,x.length-=G;P[L++]=ne[Q++],--G;);x.length===0&&(x.mode=21);break;case 26:if(X===0)break e;P[L++]=x.length,X--,x.mode=21;break;case 27:if(x.wrap){for(;K<32;){if(V===0)break e;V--,B|=k[O++]<<K,K+=8}if(M-=X,w.total_out+=M,x.total+=M,M&&(w.adler=x.check=x.flags?b(x.check,P,M,L-M):v(x.check,P,M,L-M)),M=X,(x.flags?B:N(B))!==x.check){w.msg="incorrect data check",x.mode=30;break}K=B=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;K<32;){if(V===0)break e;V--,B+=k[O++]<<K,K+=8}if(B!==(4294967295&x.total)){w.msg="incorrect length check",x.mode=30;break}K=B=0}x.mode=29;case 29:ue=1;break e;case 30:ue=-3;break e;case 31:return-4;case 32:default:return D}return w.next_out=L,w.avail_out=X,w.next_in=O,w.avail_in=V,x.hold=B,x.bits=K,(x.wsize||M!==w.avail_out&&x.mode<30&&(x.mode<27||S!==4))&&C(w,w.output,w.next_out,M-w.avail_out)?(x.mode=31,-4):(R-=w.avail_in,M-=w.avail_out,w.total_in+=R,w.total_out+=M,x.total+=M,x.wrap&&M&&(w.adler=x.check=x.flags?b(x.check,P,M,w.next_out-M):v(x.check,P,M,w.next_out-M)),w.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(R==0&&M===0||S===4)&&ue===0&&(ue=-5),ue)},g.inflateEnd=function(w){if(!w||!w.state)return D;var S=w.state;return S.window&&(S.window=null),w.state=null,0},g.inflateGetHeader=function(w,S){var x;return w&&w.state&&2&(x=w.state).wrap?((x.head=S).done=!1,0):D},g.inflateSetDictionary=function(w,S){var x,k=S.length;return w&&w.state?(x=w.state).wrap!==0&&x.mode!==11?D:x.mode===11&&v(1,S,k,0)!==x.check?-3:C(w,S,k,k)?(x.mode=31,-4):(x.havedict=1,0):D},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(f,p,g){var m=f("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],y=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],I=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];p.exports=function(D,N,z,F,$,j,q,H){var A,T,E,C,w,S,x,k,P,O=H.bits,L=0,V=0,X=0,B=0,K=0,R=0,M=0,G=0,Q=0,ne=0,ie=null,U=0,se=new m.Buf16(16),ae=new m.Buf16(16),Y=null,J=0;for(L=0;L<=15;L++)se[L]=0;for(V=0;V<F;V++)se[N[z+V]]++;for(K=O,B=15;1<=B&&se[B]===0;B--);if(B<K&&(K=B),B===0)return $[j++]=20971520,$[j++]=20971520,H.bits=1,0;for(X=1;X<B&&se[X]===0;X++);for(K<X&&(K=X),L=G=1;L<=15;L++)if(G<<=1,(G-=se[L])<0)return-1;if(0<G&&(D===0||B!==1))return-1;for(ae[1]=0,L=1;L<15;L++)ae[L+1]=ae[L]+se[L];for(V=0;V<F;V++)N[z+V]!==0&&(q[ae[N[z+V]]++]=V);if(S=D===0?(ie=Y=q,19):D===1?(ie=v,U-=257,Y=b,J-=257,256):(ie=y,Y=I,-1),L=X,w=j,M=V=ne=0,E=-1,C=(Q=1<<(R=K))-1,D===1&&852<Q||D===2&&592<Q)return 1;for(;;){for(x=L-M,P=q[V]<S?(k=0,q[V]):q[V]>S?(k=Y[J+q[V]],ie[U+q[V]]):(k=96,0),A=1<<L-M,X=T=1<<R;$[w+(ne>>M)+(T-=A)]=x<<24|k<<16|P|0,T!==0;);for(A=1<<L-1;ne&A;)A>>=1;if(A!==0?(ne&=A-1,ne+=A):ne=0,V++,--se[L]==0){if(L===B)break;L=N[z+q[V]]}if(K<L&&(ne&C)!==E){for(M===0&&(M=K),w+=X,G=1<<(R=L-M);R+M<B&&!((G-=se[R+M])<=0);)R++,G<<=1;if(Q+=1<<R,D===1&&852<Q||D===2&&592<Q)return 1;$[E=ne&C]=K<<24|R<<16|w-j|0}}return ne!==0&&($[w+ne]=L-M<<24|64<<16|0),H.bits=K,0}},{"../utils/common":41}],51:[function(f,p,g){p.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(f,p,g){var m=f("../utils/common");function v(Y){for(var J=Y.length;0<=--J;)Y[J]=0}var b=256,y=286,I=30,D=15,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(576);v(j);var q=new Array(60);v(q);var H=new Array(512);v(H);var A=new Array(256);v(A);var T=new Array(29);v(T);var E,C,w,S=new Array(I);function x(Y,J,ee,ue,de){this.static_tree=Y,this.extra_bits=J,this.extra_base=ee,this.elems=ue,this.max_length=de,this.has_stree=Y&&Y.length}function k(Y,J){this.dyn_tree=Y,this.max_code=0,this.stat_desc=J}function P(Y){return Y<256?H[Y]:H[256+(Y>>>7)]}function O(Y,J){Y.pending_buf[Y.pending++]=255&J,Y.pending_buf[Y.pending++]=J>>>8&255}function L(Y,J,ee){Y.bi_valid>16-ee?(Y.bi_buf|=J<<Y.bi_valid&65535,O(Y,Y.bi_buf),Y.bi_buf=J>>16-Y.bi_valid,Y.bi_valid+=ee-16):(Y.bi_buf|=J<<Y.bi_valid&65535,Y.bi_valid+=ee)}function V(Y,J,ee){L(Y,ee[2*J],ee[2*J+1])}function X(Y,J){for(var ee=0;ee|=1&Y,Y>>>=1,ee<<=1,0<--J;);return ee>>>1}function B(Y,J,ee){var ue,de,oe=new Array(16),ce=0;for(ue=1;ue<=D;ue++)oe[ue]=ce=ce+ee[ue-1]<<1;for(de=0;de<=J;de++){var ge=Y[2*de+1];ge!==0&&(Y[2*de]=X(oe[ge]++,ge))}}function K(Y){var J;for(J=0;J<y;J++)Y.dyn_ltree[2*J]=0;for(J=0;J<I;J++)Y.dyn_dtree[2*J]=0;for(J=0;J<19;J++)Y.bl_tree[2*J]=0;Y.dyn_ltree[512]=1,Y.opt_len=Y.static_len=0,Y.last_lit=Y.matches=0}function R(Y){8<Y.bi_valid?O(Y,Y.bi_buf):0<Y.bi_valid&&(Y.pending_buf[Y.pending++]=Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0}function M(Y,J,ee,ue){var de=2*J,oe=2*ee;return Y[de]<Y[oe]||Y[de]===Y[oe]&&ue[J]<=ue[ee]}function G(Y,J,ee){for(var ue=Y.heap[ee],de=ee<<1;de<=Y.heap_len&&(de<Y.heap_len&&M(J,Y.heap[de+1],Y.heap[de],Y.depth)&&de++,!M(J,ue,Y.heap[de],Y.depth));)Y.heap[ee]=Y.heap[de],ee=de,de<<=1;Y.heap[ee]=ue}function Q(Y,J,ee){var ue,de,oe,ce,ge=0;if(Y.last_lit!==0)for(;ue=Y.pending_buf[Y.d_buf+2*ge]<<8|Y.pending_buf[Y.d_buf+2*ge+1],de=Y.pending_buf[Y.l_buf+ge],ge++,ue===0?V(Y,de,J):(V(Y,(oe=A[de])+b+1,J),(ce=N[oe])!==0&&L(Y,de-=T[oe],ce),V(Y,oe=P(--ue),ee),(ce=z[oe])!==0&&L(Y,ue-=S[oe],ce)),ge<Y.last_lit;);V(Y,256,J)}function ne(Y,J){var ee,ue,de,oe=J.dyn_tree,ce=J.stat_desc.static_tree,ge=J.stat_desc.has_stree,ve=J.stat_desc.elems,Se=-1;for(Y.heap_len=0,Y.heap_max=573,ee=0;ee<ve;ee++)oe[2*ee]!==0?(Y.heap[++Y.heap_len]=Se=ee,Y.depth[ee]=0):oe[2*ee+1]=0;for(;Y.heap_len<2;)oe[2*(de=Y.heap[++Y.heap_len]=Se<2?++Se:0)]=1,Y.depth[de]=0,Y.opt_len--,ge&&(Y.static_len-=ce[2*de+1]);for(J.max_code=Se,ee=Y.heap_len>>1;1<=ee;ee--)G(Y,oe,ee);for(de=ve;ee=Y.heap[1],Y.heap[1]=Y.heap[Y.heap_len--],G(Y,oe,1),ue=Y.heap[1],Y.heap[--Y.heap_max]=ee,Y.heap[--Y.heap_max]=ue,oe[2*de]=oe[2*ee]+oe[2*ue],Y.depth[de]=(Y.depth[ee]>=Y.depth[ue]?Y.depth[ee]:Y.depth[ue])+1,oe[2*ee+1]=oe[2*ue+1]=de,Y.heap[1]=de++,G(Y,oe,1),2<=Y.heap_len;);Y.heap[--Y.heap_max]=Y.heap[1],function(ke,Ae){var Xe,et,Je,tt,Be,Fe,je=Ae.dyn_tree,Ye=Ae.max_code,Qe=Ae.stat_desc.static_tree,Bt=Ae.stat_desc.has_stree,qt=Ae.stat_desc.extra_bits,ot=Ae.stat_desc.extra_base,Ht=Ae.stat_desc.max_length,Tt=0;for(tt=0;tt<=D;tt++)ke.bl_count[tt]=0;for(je[2*ke.heap[ke.heap_max]+1]=0,Xe=ke.heap_max+1;Xe<573;Xe++)Ht<(tt=je[2*je[2*(et=ke.heap[Xe])+1]+1]+1)&&(tt=Ht,Tt++),je[2*et+1]=tt,Ye<et||(ke.bl_count[tt]++,Be=0,ot<=et&&(Be=qt[et-ot]),Fe=je[2*et],ke.opt_len+=Fe*(tt+Be),Bt&&(ke.static_len+=Fe*(Qe[2*et+1]+Be)));if(Tt!==0){do{for(tt=Ht-1;ke.bl_count[tt]===0;)tt--;ke.bl_count[tt]--,ke.bl_count[tt+1]+=2,ke.bl_count[Ht]--,Tt-=2}while(0<Tt);for(tt=Ht;tt!==0;tt--)for(et=ke.bl_count[tt];et!==0;)Ye<(Je=ke.heap[--Xe])||(je[2*Je+1]!==tt&&(ke.opt_len+=(tt-je[2*Je+1])*je[2*Je],je[2*Je+1]=tt),et--)}}(Y,J),B(oe,Se,Y.bl_count)}function ie(Y,J,ee){var ue,de,oe=-1,ce=J[1],ge=0,ve=7,Se=4;for(ce===0&&(ve=138,Se=3),J[2*(ee+1)+1]=65535,ue=0;ue<=ee;ue++)de=ce,ce=J[2*(ue+1)+1],++ge<ve&&de===ce||(ge<Se?Y.bl_tree[2*de]+=ge:de!==0?(de!==oe&&Y.bl_tree[2*de]++,Y.bl_tree[32]++):ge<=10?Y.bl_tree[34]++:Y.bl_tree[36]++,oe=de,Se=(ge=0)===ce?(ve=138,3):de===ce?(ve=6,3):(ve=7,4))}function U(Y,J,ee){var ue,de,oe=-1,ce=J[1],ge=0,ve=7,Se=4;for(ce===0&&(ve=138,Se=3),ue=0;ue<=ee;ue++)if(de=ce,ce=J[2*(ue+1)+1],!(++ge<ve&&de===ce)){if(ge<Se)for(;V(Y,de,Y.bl_tree),--ge!=0;);else de!==0?(de!==oe&&(V(Y,de,Y.bl_tree),ge--),V(Y,16,Y.bl_tree),L(Y,ge-3,2)):ge<=10?(V(Y,17,Y.bl_tree),L(Y,ge-3,3)):(V(Y,18,Y.bl_tree),L(Y,ge-11,7));oe=de,Se=(ge=0)===ce?(ve=138,3):de===ce?(ve=6,3):(ve=7,4)}}v(S);var se=!1;function ae(Y,J,ee,ue){L(Y,0+(ue?1:0),3),function(de,oe,ce,ge){R(de),O(de,ce),O(de,~ce),m.arraySet(de.pending_buf,de.window,oe,ce,de.pending),de.pending+=ce}(Y,J,ee)}g._tr_init=function(Y){se||(function(){var J,ee,ue,de,oe,ce=new Array(16);for(de=ue=0;de<28;de++)for(T[de]=ue,J=0;J<1<<N[de];J++)A[ue++]=de;for(A[ue-1]=de,de=oe=0;de<16;de++)for(S[de]=oe,J=0;J<1<<z[de];J++)H[oe++]=de;for(oe>>=7;de<I;de++)for(S[de]=oe<<7,J=0;J<1<<z[de]-7;J++)H[256+oe++]=de;for(ee=0;ee<=D;ee++)ce[ee]=0;for(J=0;J<=143;)j[2*J+1]=8,J++,ce[8]++;for(;J<=255;)j[2*J+1]=9,J++,ce[9]++;for(;J<=279;)j[2*J+1]=7,J++,ce[7]++;for(;J<=287;)j[2*J+1]=8,J++,ce[8]++;for(B(j,287,ce),J=0;J<I;J++)q[2*J+1]=5,q[2*J]=X(J,5);E=new x(j,N,257,y,D),C=new x(q,z,0,I,D),w=new x(new Array(0),F,0,19,7)}(),se=!0),Y.l_desc=new k(Y.dyn_ltree,E),Y.d_desc=new k(Y.dyn_dtree,C),Y.bl_desc=new k(Y.bl_tree,w),Y.bi_buf=0,Y.bi_valid=0,K(Y)},g._tr_stored_block=ae,g._tr_flush_block=function(Y,J,ee,ue){var de,oe,ce=0;0<Y.level?(Y.strm.data_type===2&&(Y.strm.data_type=function(ge){var ve,Se=4093624447;for(ve=0;ve<=31;ve++,Se>>>=1)if(1&Se&&ge.dyn_ltree[2*ve]!==0)return 0;if(ge.dyn_ltree[18]!==0||ge.dyn_ltree[20]!==0||ge.dyn_ltree[26]!==0)return 1;for(ve=32;ve<b;ve++)if(ge.dyn_ltree[2*ve]!==0)return 1;return 0}(Y)),ne(Y,Y.l_desc),ne(Y,Y.d_desc),ce=function(ge){var ve;for(ie(ge,ge.dyn_ltree,ge.l_desc.max_code),ie(ge,ge.dyn_dtree,ge.d_desc.max_code),ne(ge,ge.bl_desc),ve=18;3<=ve&&ge.bl_tree[2*$[ve]+1]===0;ve--);return ge.opt_len+=3*(ve+1)+5+5+4,ve}(Y),de=Y.opt_len+3+7>>>3,(oe=Y.static_len+3+7>>>3)<=de&&(de=oe)):de=oe=ee+5,ee+4<=de&&J!==-1?ae(Y,J,ee,ue):Y.strategy===4||oe===de?(L(Y,2+(ue?1:0),3),Q(Y,j,q)):(L(Y,4+(ue?1:0),3),function(ge,ve,Se,ke){var Ae;for(L(ge,ve-257,5),L(ge,Se-1,5),L(ge,ke-4,4),Ae=0;Ae<ke;Ae++)L(ge,ge.bl_tree[2*$[Ae]+1],3);U(ge,ge.dyn_ltree,ve-1),U(ge,ge.dyn_dtree,Se-1)}(Y,Y.l_desc.max_code+1,Y.d_desc.max_code+1,ce+1),Q(Y,Y.dyn_ltree,Y.dyn_dtree)),K(Y),ue&&R(Y)},g._tr_tally=function(Y,J,ee){return Y.pending_buf[Y.d_buf+2*Y.last_lit]=J>>>8&255,Y.pending_buf[Y.d_buf+2*Y.last_lit+1]=255&J,Y.pending_buf[Y.l_buf+Y.last_lit]=255&ee,Y.last_lit++,J===0?Y.dyn_ltree[2*ee]++:(Y.matches++,J--,Y.dyn_ltree[2*(A[ee]+b+1)]++,Y.dyn_dtree[2*P(J)]++),Y.last_lit===Y.lit_bufsize-1},g._tr_align=function(Y){L(Y,2,3),V(Y,256,j),function(J){J.bi_valid===16?(O(J,J.bi_buf),J.bi_buf=0,J.bi_valid=0):8<=J.bi_valid&&(J.pending_buf[J.pending++]=255&J.bi_buf,J.bi_buf>>=8,J.bi_valid-=8)}(Y)}},{"../utils/common":41}],53:[function(f,p,g){p.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(f,p,g){(function(m){(function(v,b){if(!v.setImmediate){var y,I,D,N,z=1,F={},$=!1,j=v.document,q=Object.getPrototypeOf&&Object.getPrototypeOf(v);q=q&&q.setTimeout?q:v,y={}.toString.call(v.process)==="[object process]"?function(E){a.nextTick(function(){A(E)})}:function(){if(v.postMessage&&!v.importScripts){var E=!0,C=v.onmessage;return v.onmessage=function(){E=!1},v.postMessage("","*"),v.onmessage=C,E}}()?(N="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",T,!1):v.attachEvent("onmessage",T),function(E){v.postMessage(N+E,"*")}):v.MessageChannel?((D=new MessageChannel).port1.onmessage=function(E){A(E.data)},function(E){D.port2.postMessage(E)}):j&&"onreadystatechange"in j.createElement("script")?(I=j.documentElement,function(E){var C=j.createElement("script");C.onreadystatechange=function(){A(E),C.onreadystatechange=null,I.removeChild(C),C=null},I.appendChild(C)}):function(E){setTimeout(A,0,E)},q.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var C=new Array(arguments.length-1),w=0;w<C.length;w++)C[w]=arguments[w+1];var S={callback:E,args:C};return F[z]=S,y(z),z++},q.clearImmediate=H}function H(E){delete F[E]}function A(E){if($)setTimeout(A,0,E);else{var C=F[E];if(C){$=!0;try{(function(w){var S=w.callback,x=w.args;switch(x.length){case 0:S();break;case 1:S(x[0]);break;case 2:S(x[0],x[1]);break;case 3:S(x[0],x[1],x[2]);break;default:S.apply(void 0,x)}})(C)}finally{H(E),$=!1}}}}function T(E){E.source===v&&typeof E.data=="string"&&E.data.indexOf(N)===0&&A(+E.data.slice(N.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,i("_process"),typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{},i("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],i("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(i,r,n){(function(a){(function(){var s=/[\\^$.*+?()[\]{}|]/g,o=RegExp(s.source),l=typeof a=="object"&&a&&a.Object===Object&&a,u=typeof self=="object"&&self&&self.Object===Object&&self,d=l||u||Function("return this")(),c=Object.prototype.toString,h=d.Symbol,f=h?h.prototype:void 0,p=f?f.toString:void 0;function g(m){if(typeof m=="string")return m;if(function(b){return typeof b=="symbol"||function(y){return!!y&&typeof y=="object"}(b)&&c.call(b)=="[object Symbol]"}(m))return p?p.call(m):"";var v=m+"";return v=="0"&&1/m==-1/0?"-0":v}r.exports=function(m){var v;return(m=(v=m)==null?"":g(v))&&o.test(m)?m.replace(s,"\\$&"):m}}).call(this)}).call(this,typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(i,r,n){(function(a){(function(){var s="[object Arguments]",o="[object Map]",l="[object Object]",u="[object Set]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,h=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[s]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[o]=v["[object Number]"]=v[l]=v["[object RegExp]"]=v[u]=v["[object String]"]=v["[object WeakMap]"]=!1;var b=typeof a=="object"&&a&&a.Object===Object&&a,y=typeof self=="object"&&self&&self.Object===Object&&self,I=b||y||Function("return this")(),D=typeof n=="object"&&n&&!n.nodeType&&n,N=D&&typeof r=="object"&&r&&!r.nodeType&&r,z=N&&N.exports===D&&b.process,F=function(){try{return z&&z.binding("util")}catch{}}(),$=F&&F.isTypedArray;function j(he,ye,De,Me){for(var it=-1,Ve=he?he.length:0;++it<Ve;){var $e=he[it];ye(Me,$e,De($e),he)}return Me}function q(he,ye){for(var De=-1,Me=he?he.length:0;++De<Me;)if(ye(he[De],De,he))return!0;return!1}function H(he){var ye=!1;if(he!=null&&typeof he.toString!="function")try{ye=!!(he+"")}catch{}return ye}function A(he){var ye=-1,De=Array(he.size);return he.forEach(function(Me,it){De[++ye]=[it,Me]}),De}function T(he){var ye=-1,De=Array(he.size);return he.forEach(function(Me){De[++ye]=Me}),De}var E,C,w,S=Array.prototype,x=Function.prototype,k=Object.prototype,P=I["__core-js_shared__"],O=(E=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",L=x.toString,V=k.hasOwnProperty,X=k.toString,B=RegExp("^"+L.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=I.Symbol,R=I.Uint8Array,M=k.propertyIsEnumerable,G=S.splice,Q=(C=Object.keys,w=Object,function(he){return C(w(he))}),ne=mt(I,"DataView"),ie=mt(I,"Map"),U=mt(I,"Promise"),se=mt(I,"Set"),ae=mt(I,"WeakMap"),Y=mt(Object,"create"),J=be(ne),ee=be(ie),ue=be(U),de=be(se),oe=be(ae),ce=K?K.prototype:void 0,ge=ce?ce.valueOf:void 0,ve=ce?ce.toString:void 0;function Se(he){var ye=-1,De=he?he.length:0;for(this.clear();++ye<De;){var Me=he[ye];this.set(Me[0],Me[1])}}function ke(he){var ye=-1,De=he?he.length:0;for(this.clear();++ye<De;){var Me=he[ye];this.set(Me[0],Me[1])}}function Ae(he){var ye=-1,De=he?he.length:0;for(this.clear();++ye<De;){var Me=he[ye];this.set(Me[0],Me[1])}}function Xe(he){var ye=-1,De=he?he.length:0;for(this.__data__=new Ae;++ye<De;)this.add(he[ye])}function et(he){this.__data__=new ke(he)}function Je(he,ye){var De=ht(he)||_t(he)?function($e,Ft){for(var Dt=-1,Ot=Array($e);++Dt<$e;)Ot[Dt]=Ft(Dt);return Ot}(he.length,String):[],Me=De.length,it=!!Me;for(var Ve in he)!ye&&!V.call(he,Ve)||it&&(Ve=="length"||si(Ve,Me))||De.push(Ve);return De}function tt(he,ye){for(var De=he.length;De--;)if(ze(he[De][0],ye))return De;return-1}function Be(he,ye,De,Me){return je(he,function(it,Ve,$e){ye(Me,it,De(it),$e)}),Me}Se.prototype.clear=function(){this.__data__=Y?Y(null):{}},Se.prototype.delete=function(he){return this.has(he)&&delete this.__data__[he]},Se.prototype.get=function(he){var ye=this.__data__;if(Y){var De=ye[he];return De==="__lodash_hash_undefined__"?void 0:De}return V.call(ye,he)?ye[he]:void 0},Se.prototype.has=function(he){var ye=this.__data__;return Y?ye[he]!==void 0:V.call(ye,he)},Se.prototype.set=function(he,ye){return this.__data__[he]=Y&&ye===void 0?"__lodash_hash_undefined__":ye,this},ke.prototype.clear=function(){this.__data__=[]},ke.prototype.delete=function(he){var ye=this.__data__,De=tt(ye,he);return!(De<0)&&(De==ye.length-1?ye.pop():G.call(ye,De,1),!0)},ke.prototype.get=function(he){var ye=this.__data__,De=tt(ye,he);return De<0?void 0:ye[De][1]},ke.prototype.has=function(he){return tt(this.__data__,he)>-1},ke.prototype.set=function(he,ye){var De=this.__data__,Me=tt(De,he);return Me<0?De.push([he,ye]):De[Me][1]=ye,this},Ae.prototype.clear=function(){this.__data__={hash:new Se,map:new(ie||ke),string:new Se}},Ae.prototype.delete=function(he){return Xt(this,he).delete(he)},Ae.prototype.get=function(he){return Xt(this,he).get(he)},Ae.prototype.has=function(he){return Xt(this,he).has(he)},Ae.prototype.set=function(he,ye){return Xt(this,he).set(he,ye),this},Xe.prototype.add=Xe.prototype.push=function(he){return this.__data__.set(he,"__lodash_hash_undefined__"),this},Xe.prototype.has=function(he){return this.__data__.has(he)},et.prototype.clear=function(){this.__data__=new ke},et.prototype.delete=function(he){return this.__data__.delete(he)},et.prototype.get=function(he){return this.__data__.get(he)},et.prototype.has=function(he){return this.__data__.has(he)},et.prototype.set=function(he,ye){var De=this.__data__;if(De instanceof ke){var Me=De.__data__;if(!ie||Me.length<199)return Me.push([he,ye]),this;De=this.__data__=new Ae(Me)}return De.set(he,ye),this};var Fe,je=(Fe=function(he,ye){return he&&Ye(he,ye,Ni)},function(he,ye){if(he==null)return he;if(!lt(he))return Fe(he,ye);for(var De=he.length,Me=-1,it=Object(he);++Me<De&&ye(it[Me],Me,it)!==!1;);return he}),Ye=function(he){return function(ye,De,Me){for(var it=-1,Ve=Object(ye),$e=Me(ye),Ft=$e.length;Ft--;){var Dt=$e[he?Ft:++it];if(De(Ve[Dt],Dt,Ve)===!1)break}return ye}}();function Qe(he,ye){for(var De=0,Me=(ye=vt(ye,he)?[ye]:pt(ye)).length;he!=null&&De<Me;)he=he[fe(ye[De++])];return De&&De==Me?he:void 0}function Bt(he,ye){return he!=null&&ye in Object(he)}function qt(he,ye,De,Me,it){return he===ye||(he==null||ye==null||!Mt(he)&&!Ei(ye)?he!=he&&ye!=ye:function(Ve,$e,Ft,Dt,Ot,ct){var ti=ht(Ve),vi=ht($e),Ut="[object Array]",bi="[object Array]";ti||(Ut=(Ut=zt(Ve))==s?l:Ut),vi||(bi=(bi=zt($e))==s?l:bi);var Bi=Ut==l&&!H(Ve),ir=bi==l&&!H($e),Xr=Ut==bi;if(Xr&&!Bi)return ct||(ct=new et),ti||Li(Ve)?li(Ve,$e,Ft,Dt,Ot,ct):function(ii,Gt,da,rs,wd,Cr,Mn){switch(da){case"[object DataView]":if(ii.byteLength!=Gt.byteLength||ii.byteOffset!=Gt.byteOffset)return!1;ii=ii.buffer,Gt=Gt.buffer;case"[object ArrayBuffer]":return!(ii.byteLength!=Gt.byteLength||!rs(new R(ii),new R(Gt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ze(+ii,+Gt);case"[object Error]":return ii.name==Gt.name&&ii.message==Gt.message;case"[object RegExp]":case"[object String]":return ii==Gt+"";case o:var ha=A;case u:var cl=2&Cr;if(ha||(ha=T),ii.size!=Gt.size&&!cl)return!1;var xd=Mn.get(ii);if(xd)return xd==Gt;Cr|=1,Mn.set(ii,Gt);var ho=li(ha(ii),ha(Gt),rs,wd,Cr,Mn);return Mn.delete(ii),ho;case"[object Symbol]":if(ge)return ge.call(ii)==ge.call(Gt)}return!1}(Ve,$e,Ut,Ft,Dt,Ot,ct);if(!(2&Ot)){var dn=Bi&&V.call(Ve,"__wrapped__"),oo=ir&&V.call($e,"__wrapped__");if(dn||oo){var lo=dn?Ve.value():Ve,uo=oo?$e.value():$e;return ct||(ct=new et),Ft(lo,uo,Dt,Ot,ct)}}return Xr?(ct||(ct=new et),function(ii,Gt,da,rs,wd,Cr){var Mn=2&wd,ha=Ni(ii),cl=ha.length,xd=Ni(Gt).length;if(cl!=xd&&!Mn)return!1;for(var ho=cl;ho--;){var ca=ha[ho];if(!(Mn?ca in Gt:V.call(Gt,ca)))return!1}var Ob=Cr.get(ii);if(Ob&&Cr.get(Gt))return Ob==Gt;var Sd=!0;Cr.set(ii,Gt),Cr.set(Gt,ii);for(var Qf=Mn;++ho<cl;){ca=ha[ho];var Ed=ii[ca],Id=Gt[ca];if(rs)var Db=Mn?rs(Id,Ed,ca,Gt,ii,Cr):rs(Ed,Id,ca,ii,Gt,Cr);if(!(Db===void 0?Ed===Id||da(Ed,Id,rs,wd,Cr):Db)){Sd=!1;break}Qf||(Qf=ca=="constructor")}if(Sd&&!Qf){var Td=ii.constructor,Ad=Gt.constructor;Td==Ad||!("constructor"in ii)||!("constructor"in Gt)||typeof Td=="function"&&Td instanceof Td&&typeof Ad=="function"&&Ad instanceof Ad||(Sd=!1)}return Cr.delete(ii),Cr.delete(Gt),Sd}(Ve,$e,Ft,Dt,Ot,ct)):!1}(he,ye,qt,De,Me,it))}function ot(he){return!(!Mt(he)||function(ye){return!!O&&O in ye}(he))&&(xt(he)||H(he)?B:g).test(be(he))}function Ht(he){return typeof he=="function"?he:he==null?pr:typeof he=="object"?ht(he)?function(Me,it){return vt(Me)&&Yt(it)?oi(fe(Me),it):function(Ve){var $e=function(Ft,Dt,Ot){var ct=Ft==null?void 0:Qe(Ft,Dt);return ct===void 0?Ot:ct}(Ve,Me);return $e===void 0&&$e===it?function(Ft,Dt){return Ft!=null&&function(Ot,ct,ti){ct=vt(ct,Ot)?[ct]:pt(ct);for(var vi,Ut=-1,bi=ct.length;++Ut<bi;){var Bi=fe(ct[Ut]);if(!(vi=Ot!=null&&ti(Ot,Bi)))break;Ot=Ot[Bi]}return vi||!!(bi=Ot?Ot.length:0)&&bt(bi)&&si(Bi,bi)&&(ht(Ot)||_t(Ot))}(Ft,Dt,Bt)}(Ve,Me):qt(it,$e,void 0,3)}}(he[0],he[1]):function(Me){var it=function(Ve){for(var $e=Ni(Ve),Ft=$e.length;Ft--;){var Dt=$e[Ft],Ot=Ve[Dt];$e[Ft]=[Dt,Ot,Yt(Ot)]}return $e}(Me);return it.length==1&&it[0][2]?oi(it[0][0],it[0][1]):function(Ve){return Ve===Me||function($e,Ft,Dt,Ot){var ct=Dt.length,ti=ct,vi=!Ot;if($e==null)return!ti;for($e=Object($e);ct--;){var Ut=Dt[ct];if(vi&&Ut[2]?Ut[1]!==$e[Ut[0]]:!(Ut[0]in $e))return!1}for(;++ct<ti;){var bi=(Ut=Dt[ct])[0],Bi=$e[bi],ir=Ut[1];if(vi&&Ut[2]){if(Bi===void 0&&!(bi in $e))return!1}else{var Xr=new et;if(Ot)var dn=Ot(Bi,ir,bi,$e,Ft,Xr);if(!(dn===void 0?qt(ir,Bi,Ot,3,Xr):dn))return!1}}return!0}(Ve,Me,it)}}(he):vt(ye=he)?(De=fe(ye),function(Me){return Me==null?void 0:Me[De]}):function(Me){return function(it){return Qe(it,Me)}}(ye);var ye,De}function Tt(he){if(De=(ye=he)&&ye.constructor,Me=typeof De=="function"&&De.prototype||k,ye!==Me)return Q(he);var ye,De,Me,it=[];for(var Ve in Object(he))V.call(he,Ve)&&Ve!="constructor"&&it.push(Ve);return it}function pt(he){return ht(he)?he:Et(he)}function li(he,ye,De,Me,it,Ve){var $e=2&it,Ft=he.length,Dt=ye.length;if(Ft!=Dt&&!($e&&Dt>Ft))return!1;var Ot=Ve.get(he);if(Ot&&Ve.get(ye))return Ot==ye;var ct=-1,ti=!0,vi=1&it?new Xe:void 0;for(Ve.set(he,ye),Ve.set(ye,he);++ct<Ft;){var Ut=he[ct],bi=ye[ct];if(Me)var Bi=$e?Me(bi,Ut,ct,ye,he,Ve):Me(Ut,bi,ct,he,ye,Ve);if(Bi!==void 0){if(Bi)continue;ti=!1;break}if(vi){if(!q(ye,function(ir,Xr){if(!vi.has(Xr)&&(Ut===ir||De(Ut,ir,Me,it,Ve)))return vi.add(Xr)})){ti=!1;break}}else if(Ut!==bi&&!De(Ut,bi,Me,it,Ve)){ti=!1;break}}return Ve.delete(he),Ve.delete(ye),ti}function Xt(he,ye){var De,Me,it=he.__data__;return((Me=typeof(De=ye))=="string"||Me=="number"||Me=="symbol"||Me=="boolean"?De!=="__proto__":De===null)?it[typeof ye=="string"?"string":"hash"]:it.map}function mt(he,ye){var De=function(Me,it){return Me==null?void 0:Me[it]}(he,ye);return ot(De)?De:void 0}var zt=function(he){return X.call(he)};function si(he,ye){return!!(ye=ye??9007199254740991)&&(typeof he=="number"||m.test(he))&&he>-1&&he%1==0&&he<ye}function vt(he,ye){if(ht(he))return!1;var De=typeof he;return!(De!="number"&&De!="symbol"&&De!="boolean"&&he!=null&&!ci(he))||c.test(he)||!d.test(he)||ye!=null&&he in Object(ye)}function Yt(he){return he==he&&!Mt(he)}function oi(he,ye){return function(De){return De!=null&&De[he]===ye&&(ye!==void 0||he in Object(De))}}(ne&&zt(new ne(new ArrayBuffer(1)))!="[object DataView]"||ie&&zt(new ie)!=o||U&&zt(U.resolve())!="[object Promise]"||se&&zt(new se)!=u||ae&&zt(new ae)!="[object WeakMap]")&&(zt=function(he){var ye=X.call(he),De=ye==l?he.constructor:void 0,Me=De?be(De):void 0;if(Me)switch(Me){case J:return"[object DataView]";case ee:return o;case ue:return"[object Promise]";case de:return u;case oe:return"[object WeakMap]"}return ye});var Et=dt(function(he){var ye;he=(ye=he)==null?"":function(Me){if(typeof Me=="string")return Me;if(ci(Me))return ve?ve.call(Me):"";var it=Me+"";return it=="0"&&1/Me==-1/0?"-0":it}(ye);var De=[];return h.test(he)&&De.push(""),he.replace(f,function(Me,it,Ve,$e){De.push(Ve?$e.replace(p,"$1"):it||Me)}),De});function fe(he){if(typeof he=="string"||ci(he))return he;var ye=he+"";return ye=="0"&&1/he==-1/0?"-0":ye}function be(he){if(he!=null){try{return L.call(he)}catch{}try{return he+""}catch{}}return""}var Te,He=(Te=function(he,ye,De){V.call(he,De)?he[De].push(ye):he[De]=[ye]},function(he,ye){var De=ht(he)?j:Be,Me={};return De(he,Te,Ht(ye),Me)});function dt(he,ye){if(typeof he!="function"||ye&&typeof ye!="function")throw new TypeError("Expected a function");var De=function(){var Me=arguments,it=ye?ye.apply(this,Me):Me[0],Ve=De.cache;if(Ve.has(it))return Ve.get(it);var $e=he.apply(this,Me);return De.cache=Ve.set(it,$e),$e};return De.cache=new(dt.Cache||Ae),De}function ze(he,ye){return he===ye||he!=he&&ye!=ye}function _t(he){return function(ye){return Ei(ye)&&lt(ye)}(he)&&V.call(he,"callee")&&(!M.call(he,"callee")||X.call(he)==s)}dt.Cache=Ae;var ht=Array.isArray;function lt(he){return he!=null&&bt(he.length)&&!xt(he)}function xt(he){var ye=Mt(he)?X.call(he):"";return ye=="[object Function]"||ye=="[object GeneratorFunction]"}function bt(he){return typeof he=="number"&&he>-1&&he%1==0&&he<=9007199254740991}function Mt(he){var ye=typeof he;return!!he&&(ye=="object"||ye=="function")}function Ei(he){return!!he&&typeof he=="object"}function ci(he){return typeof he=="symbol"||Ei(he)&&X.call(he)=="[object Symbol]"}var Li=$?function(he){return function(ye){return he(ye)}}($):function(he){return Ei(he)&&bt(he.length)&&!!v[X.call(he)]};function Ni(he){return lt(he)?Je(he):Tt(he)}function pr(he){return he}r.exports=He}).call(this)}).call(this,typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(i,r,n){var a=Object.prototype.toString;r.exports=function(s){return s===!0||s===!1||function(o){return!!o&&typeof o=="object"}(s)&&a.call(s)=="[object Boolean]"}},{}],445:[function(i,r,n){(function(a){(function(){var s="[object Arguments]",o="[object Map]",l="[object Object]",u="[object Set]",d=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[s]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[o]=h["[object Number]"]=h[l]=h["[object RegExp]"]=h[u]=h["[object String]"]=h["[object WeakMap]"]=!1;var f=typeof a=="object"&&a&&a.Object===Object&&a,p=typeof self=="object"&&self&&self.Object===Object&&self,g=f||p||Function("return this")(),m=typeof n=="object"&&n&&!n.nodeType&&n,v=m&&typeof r=="object"&&r&&!r.nodeType&&r,b=v&&v.exports===m,y=b&&f.process,I=function(){try{return y&&y.binding&&y.binding("util")}catch{}}(),D=I&&I.isTypedArray;function N(fe,be){for(var Te=-1,He=fe==null?0:fe.length;++Te<He;)if(be(fe[Te],Te,fe))return!0;return!1}function z(fe){var be=-1,Te=Array(fe.size);return fe.forEach(function(He,dt){Te[++be]=[dt,He]}),Te}function F(fe){var be=-1,Te=Array(fe.size);return fe.forEach(function(He){Te[++be]=He}),Te}var $,j,q,H=Array.prototype,A=Function.prototype,T=Object.prototype,E=g["__core-js_shared__"],C=A.toString,w=T.hasOwnProperty,S=($=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",x=T.toString,k=RegExp("^"+C.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=b?g.Buffer:void 0,O=g.Symbol,L=g.Uint8Array,V=T.propertyIsEnumerable,X=H.splice,B=O?O.toStringTag:void 0,K=Object.getOwnPropertySymbols,R=P?P.isBuffer:void 0,M=(j=Object.keys,q=Object,function(fe){return j(q(fe))}),G=Bt(g,"DataView"),Q=Bt(g,"Map"),ne=Bt(g,"Promise"),ie=Bt(g,"Set"),U=Bt(g,"WeakMap"),se=Bt(Object,"create"),ae=Tt(G),Y=Tt(Q),J=Tt(ne),ee=Tt(ie),ue=Tt(U),de=O?O.prototype:void 0,oe=de?de.valueOf:void 0;function ce(fe){var be=-1,Te=fe==null?0:fe.length;for(this.clear();++be<Te;){var He=fe[be];this.set(He[0],He[1])}}function ge(fe){var be=-1,Te=fe==null?0:fe.length;for(this.clear();++be<Te;){var He=fe[be];this.set(He[0],He[1])}}function ve(fe){var be=-1,Te=fe==null?0:fe.length;for(this.clear();++be<Te;){var He=fe[be];this.set(He[0],He[1])}}function Se(fe){var be=-1,Te=fe==null?0:fe.length;for(this.__data__=new ve;++be<Te;)this.add(fe[be])}function ke(fe){var be=this.__data__=new ge(fe);this.size=be.size}function Ae(fe,be){var Te=Xt(fe),He=!Te&&li(fe),dt=!Te&&!He&&mt(fe),ze=!Te&&!He&&!dt&&oi(fe),_t=Te||He||dt||ze,ht=_t?function(bt,Mt){for(var Ei=-1,ci=Array(bt);++Ei<bt;)ci[Ei]=Mt(Ei);return ci}(fe.length,String):[],lt=ht.length;for(var xt in fe)!be&&!w.call(fe,xt)||_t&&(xt=="length"||dt&&(xt=="offset"||xt=="parent")||ze&&(xt=="buffer"||xt=="byteLength"||xt=="byteOffset")||Ht(xt,lt))||ht.push(xt);return ht}function Xe(fe,be){for(var Te=fe.length;Te--;)if(pt(fe[Te][0],be))return Te;return-1}function et(fe){return fe==null?fe===void 0?"[object Undefined]":"[object Null]":B&&B in Object(fe)?function(be){var Te=w.call(be,B),He=be[B];try{be[B]=void 0;var dt=!0}catch{}var ze=x.call(be);return dt&&(Te?be[B]=He:delete be[B]),ze}(fe):function(be){return x.call(be)}(fe)}function Je(fe){return Yt(fe)&&et(fe)==s}function tt(fe,be,Te,He,dt){return fe===be||(fe==null||be==null||!Yt(fe)&&!Yt(be)?fe!=fe&&be!=be:function(ze,_t,ht,lt,xt,bt){var Mt=Xt(ze),Ei=Xt(_t),ci=Mt?"[object Array]":ot(ze),Li=Ei?"[object Array]":ot(_t),Ni=(ci=ci==s?l:ci)==l,pr=(Li=Li==s?l:Li)==l,he=ci==Li;if(he&&mt(ze)){if(!mt(_t))return!1;Mt=!0,Ni=!1}if(he&&!Ni)return bt||(bt=new ke),Mt||oi(ze)?je(ze,_t,ht,lt,xt,bt):function(Ve,$e,Ft,Dt,Ot,ct,ti){switch(Ft){case"[object DataView]":if(Ve.byteLength!=$e.byteLength||Ve.byteOffset!=$e.byteOffset)return!1;Ve=Ve.buffer,$e=$e.buffer;case"[object ArrayBuffer]":return!(Ve.byteLength!=$e.byteLength||!ct(new L(Ve),new L($e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return pt(+Ve,+$e);case"[object Error]":return Ve.name==$e.name&&Ve.message==$e.message;case"[object RegExp]":case"[object String]":return Ve==$e+"";case o:var vi=z;case u:var Ut=1&Dt;if(vi||(vi=F),Ve.size!=$e.size&&!Ut)return!1;var bi=ti.get(Ve);if(bi)return bi==$e;Dt|=2,ti.set(Ve,$e);var Bi=je(vi(Ve),vi($e),Dt,Ot,ct,ti);return ti.delete(Ve),Bi;case"[object Symbol]":if(oe)return oe.call(Ve)==oe.call($e)}return!1}(ze,_t,ci,ht,lt,xt,bt);if(!(1&ht)){var ye=Ni&&w.call(ze,"__wrapped__"),De=pr&&w.call(_t,"__wrapped__");if(ye||De){var Me=ye?ze.value():ze,it=De?_t.value():_t;return bt||(bt=new ke),xt(Me,it,ht,lt,bt)}}return he?(bt||(bt=new ke),function(Ve,$e,Ft,Dt,Ot,ct){var ti=1&Ft,vi=Ye(Ve),Ut=vi.length,bi=Ye($e).length;if(Ut!=bi&&!ti)return!1;for(var Bi=Ut;Bi--;){var ir=vi[Bi];if(!(ti?ir in $e:w.call($e,ir)))return!1}var Xr=ct.get(Ve);if(Xr&&ct.get($e))return Xr==$e;var dn=!0;ct.set(Ve,$e),ct.set($e,Ve);for(var oo=ti;++Bi<Ut;){ir=vi[Bi];var lo=Ve[ir],uo=$e[ir];if(Dt)var ii=ti?Dt(uo,lo,ir,$e,Ve,ct):Dt(lo,uo,ir,Ve,$e,ct);if(!(ii===void 0?lo===uo||Ot(lo,uo,Ft,Dt,ct):ii)){dn=!1;break}oo||(oo=ir=="constructor")}if(dn&&!oo){var Gt=Ve.constructor,da=$e.constructor;Gt==da||!("constructor"in Ve)||!("constructor"in $e)||typeof Gt=="function"&&Gt instanceof Gt&&typeof da=="function"&&da instanceof da||(dn=!1)}return ct.delete(Ve),ct.delete($e),dn}(ze,_t,ht,lt,xt,bt)):!1}(fe,be,Te,He,tt,dt))}function Be(fe){return!(!vt(fe)||function(be){return!!S&&S in be}(fe))&&(zt(fe)?k:d).test(Tt(fe))}function Fe(fe){if(Te=(be=fe)&&be.constructor,He=typeof Te=="function"&&Te.prototype||T,be!==He)return M(fe);var be,Te,He,dt=[];for(var ze in Object(fe))w.call(fe,ze)&&ze!="constructor"&&dt.push(ze);return dt}function je(fe,be,Te,He,dt,ze){var _t=1&Te,ht=fe.length,lt=be.length;if(ht!=lt&&!(_t&&lt>ht))return!1;var xt=ze.get(fe);if(xt&&ze.get(be))return xt==be;var bt=-1,Mt=!0,Ei=2&Te?new Se:void 0;for(ze.set(fe,be),ze.set(be,fe);++bt<ht;){var ci=fe[bt],Li=be[bt];if(He)var Ni=_t?He(Li,ci,bt,be,fe,ze):He(ci,Li,bt,fe,be,ze);if(Ni!==void 0){if(Ni)continue;Mt=!1;break}if(Ei){if(!N(be,function(pr,he){if(ye=he,!Ei.has(ye)&&(ci===pr||dt(ci,pr,Te,He,ze)))return Ei.push(he);var ye})){Mt=!1;break}}else if(ci!==Li&&!dt(ci,Li,Te,He,ze)){Mt=!1;break}}return ze.delete(fe),ze.delete(be),Mt}function Ye(fe){return function(be,Te,He){var dt=Te(be);return Xt(be)?dt:function(ze,_t){for(var ht=-1,lt=_t.length,xt=ze.length;++ht<lt;)ze[xt+ht]=_t[ht];return ze}(dt,He(be))}(fe,Et,qt)}function Qe(fe,be){var Te,He,dt=fe.__data__;return((He=typeof(Te=be))=="string"||He=="number"||He=="symbol"||He=="boolean"?Te!=="__proto__":Te===null)?dt[typeof be=="string"?"string":"hash"]:dt.map}function Bt(fe,be){var Te=function(He,dt){return He==null?void 0:He[dt]}(fe,be);return Be(Te)?Te:void 0}ce.prototype.clear=function(){this.__data__=se?se(null):{},this.size=0},ce.prototype.delete=function(fe){var be=this.has(fe)&&delete this.__data__[fe];return this.size-=be?1:0,be},ce.prototype.get=function(fe){var be=this.__data__;if(se){var Te=be[fe];return Te==="__lodash_hash_undefined__"?void 0:Te}return w.call(be,fe)?be[fe]:void 0},ce.prototype.has=function(fe){var be=this.__data__;return se?be[fe]!==void 0:w.call(be,fe)},ce.prototype.set=function(fe,be){var Te=this.__data__;return this.size+=this.has(fe)?0:1,Te[fe]=se&&be===void 0?"__lodash_hash_undefined__":be,this},ge.prototype.clear=function(){this.__data__=[],this.size=0},ge.prototype.delete=function(fe){var be=this.__data__,Te=Xe(be,fe);return!(Te<0)&&(Te==be.length-1?be.pop():X.call(be,Te,1),--this.size,!0)},ge.prototype.get=function(fe){var be=this.__data__,Te=Xe(be,fe);return Te<0?void 0:be[Te][1]},ge.prototype.has=function(fe){return Xe(this.__data__,fe)>-1},ge.prototype.set=function(fe,be){var Te=this.__data__,He=Xe(Te,fe);return He<0?(++this.size,Te.push([fe,be])):Te[He][1]=be,this},ve.prototype.clear=function(){this.size=0,this.__data__={hash:new ce,map:new(Q||ge),string:new ce}},ve.prototype.delete=function(fe){var be=Qe(this,fe).delete(fe);return this.size-=be?1:0,be},ve.prototype.get=function(fe){return Qe(this,fe).get(fe)},ve.prototype.has=function(fe){return Qe(this,fe).has(fe)},ve.prototype.set=function(fe,be){var Te=Qe(this,fe),He=Te.size;return Te.set(fe,be),this.size+=Te.size==He?0:1,this},Se.prototype.add=Se.prototype.push=function(fe){return this.__data__.set(fe,"__lodash_hash_undefined__"),this},Se.prototype.has=function(fe){return this.__data__.has(fe)},ke.prototype.clear=function(){this.__data__=new ge,this.size=0},ke.prototype.delete=function(fe){var be=this.__data__,Te=be.delete(fe);return this.size=be.size,Te},ke.prototype.get=function(fe){return this.__data__.get(fe)},ke.prototype.has=function(fe){return this.__data__.has(fe)},ke.prototype.set=function(fe,be){var Te=this.__data__;if(Te instanceof ge){var He=Te.__data__;if(!Q||He.length<199)return He.push([fe,be]),this.size=++Te.size,this;Te=this.__data__=new ve(He)}return Te.set(fe,be),this.size=Te.size,this};var qt=K?function(fe){return fe==null?[]:(fe=Object(fe),function(be,Te){for(var He=-1,dt=be==null?0:be.length,ze=0,_t=[];++He<dt;){var ht=be[He];Te(ht,He,be)&&(_t[ze++]=ht)}return _t}(K(fe),function(be){return V.call(fe,be)}))}:function(){return[]},ot=et;function Ht(fe,be){return!!(be=be??9007199254740991)&&(typeof fe=="number"||c.test(fe))&&fe>-1&&fe%1==0&&fe<be}function Tt(fe){if(fe!=null){try{return C.call(fe)}catch{}try{return fe+""}catch{}}return""}function pt(fe,be){return fe===be||fe!=fe&&be!=be}(G&&ot(new G(new ArrayBuffer(1)))!="[object DataView]"||Q&&ot(new Q)!=o||ne&&ot(ne.resolve())!="[object Promise]"||ie&&ot(new ie)!=u||U&&ot(new U)!="[object WeakMap]")&&(ot=function(fe){var be=et(fe),Te=be==l?fe.constructor:void 0,He=Te?Tt(Te):"";if(He)switch(He){case ae:return"[object DataView]";case Y:return o;case J:return"[object Promise]";case ee:return u;case ue:return"[object WeakMap]"}return be});var li=Je(function(){return arguments}())?Je:function(fe){return Yt(fe)&&w.call(fe,"callee")&&!V.call(fe,"callee")},Xt=Array.isArray,mt=R||function(){return!1};function zt(fe){if(!vt(fe))return!1;var be=et(fe);return be=="[object Function]"||be=="[object GeneratorFunction]"||be=="[object AsyncFunction]"||be=="[object Proxy]"}function si(fe){return typeof fe=="number"&&fe>-1&&fe%1==0&&fe<=9007199254740991}function vt(fe){var be=typeof fe;return fe!=null&&(be=="object"||be=="function")}function Yt(fe){return fe!=null&&typeof fe=="object"}var oi=D?function(fe){return function(be){return fe(be)}}(D):function(fe){return Yt(fe)&&si(fe.length)&&!!h[et(fe)]};function Et(fe){return(be=fe)!=null&&si(be.length)&&!zt(be)?Ae(fe):Fe(fe);var be}r.exports=function(fe,be){return tt(fe,be)}}).call(this)}).call(this,typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(i,r,n){(function(a){(function(){var s=typeof a=="object"&&a&&a.Object===Object&&a,o=typeof self=="object"&&self&&self.Object===Object&&self,l=s||o||Function("return this")(),u=Object.prototype,d=u.hasOwnProperty,c=u.toString,h=l.Symbol,f=h?h.toStringTag:void 0;function p(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":f&&f in Object(g)?function(m){var v=d.call(m,f),b=m[f];try{m[f]=void 0;var y=!0}catch{}var I=c.call(m);return y&&(v?m[f]=b:delete m[f]),I}(g):function(m){return c.call(m)}(g)}r.exports=function(g){if(!function(v){var b=typeof v;return v!=null&&(b=="object"||b=="function")}(g))return!1;var m=p(g);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(i,r,n){r.exports=function(a){return a==null}},{}],448:[function(i,r,n){r.exports=function(a){return a===void 0}},{}],449:[function(i,r,n){(function(a){(function(){var s=/^\[object .+?Constructor\]$/,o=typeof a=="object"&&a&&a.Object===Object&&a,l=typeof self=="object"&&self&&self.Object===Object&&self,u=o||l||Function("return this")();function d(L,V){return!!(L&&L.length)&&function(X,B,K){if(B!=B)return function(G,Q,ne,ie){for(var U=G.length,se=ne+(ie?1:-1);ie?se--:++se<U;)if(Q(G[se],se,G))return se;return-1}(X,h,K);for(var R=K-1,M=X.length;++R<M;)if(X[R]===B)return R;return-1}(L,V,0)>-1}function c(L,V,X){for(var B=-1,K=L?L.length:0;++B<K;)if(X(V,L[B]))return!0;return!1}function h(L){return L!=L}function f(L,V){return L.has(V)}function p(L){var V=-1,X=Array(L.size);return L.forEach(function(B){X[++V]=B}),X}var g,m=Array.prototype,v=Function.prototype,b=Object.prototype,y=u["__core-js_shared__"],I=(g=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",D=v.toString,N=b.hasOwnProperty,z=b.toString,F=RegExp("^"+D.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=m.splice,j=P(u,"Map"),q=P(u,"Set"),H=P(Object,"create");function A(L){var V=-1,X=L?L.length:0;for(this.clear();++V<X;){var B=L[V];this.set(B[0],B[1])}}function T(L){var V=-1,X=L?L.length:0;for(this.clear();++V<X;){var B=L[V];this.set(B[0],B[1])}}function E(L){var V=-1,X=L?L.length:0;for(this.clear();++V<X;){var B=L[V];this.set(B[0],B[1])}}function C(L){var V=-1,X=L?L.length:0;for(this.__data__=new E;++V<X;)this.add(L[V])}function w(L,V){for(var X,B,K=L.length;K--;)if((X=L[K][0])===(B=V)||X!=X&&B!=B)return K;return-1}function S(L){return!(!O(L)||(V=L,I&&I in V))&&(function(X){var B=O(X)?z.call(X):"";return B=="[object Function]"||B=="[object GeneratorFunction]"}(L)||function(X){var B=!1;if(X!=null&&typeof X.toString!="function")try{B=!!(X+"")}catch{}return B}(L)?F:s).test(function(X){if(X!=null){try{return D.call(X)}catch{}try{return X+""}catch{}}return""}(L));var V}A.prototype.clear=function(){this.__data__=H?H(null):{}},A.prototype.delete=function(L){return this.has(L)&&delete this.__data__[L]},A.prototype.get=function(L){var V=this.__data__;if(H){var X=V[L];return X==="__lodash_hash_undefined__"?void 0:X}return N.call(V,L)?V[L]:void 0},A.prototype.has=function(L){var V=this.__data__;return H?V[L]!==void 0:N.call(V,L)},A.prototype.set=function(L,V){return this.__data__[L]=H&&V===void 0?"__lodash_hash_undefined__":V,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(L){var V=this.__data__,X=w(V,L);return!(X<0)&&(X==V.length-1?V.pop():$.call(V,X,1),!0)},T.prototype.get=function(L){var V=this.__data__,X=w(V,L);return X<0?void 0:V[X][1]},T.prototype.has=function(L){return w(this.__data__,L)>-1},T.prototype.set=function(L,V){var X=this.__data__,B=w(X,L);return B<0?X.push([L,V]):X[B][1]=V,this},E.prototype.clear=function(){this.__data__={hash:new A,map:new(j||T),string:new A}},E.prototype.delete=function(L){return k(this,L).delete(L)},E.prototype.get=function(L){return k(this,L).get(L)},E.prototype.has=function(L){return k(this,L).has(L)},E.prototype.set=function(L,V){return k(this,L).set(L,V),this},C.prototype.add=C.prototype.push=function(L){return this.__data__.set(L,"__lodash_hash_undefined__"),this},C.prototype.has=function(L){return this.__data__.has(L)};var x=q&&1/p(new q([,-0]))[1]==1/0?function(L){return new q(L)}:function(){};function k(L,V){var X,B,K=L.__data__;return((B=typeof(X=V))=="string"||B=="number"||B=="symbol"||B=="boolean"?X!=="__proto__":X===null)?K[typeof V=="string"?"string":"hash"]:K.map}function P(L,V){var X=function(B,K){return B==null?void 0:B[K]}(L,V);return S(X)?X:void 0}function O(L){var V=typeof L;return!!L&&(V=="object"||V=="function")}r.exports=function(L){return L&&L.length?function(V,X,B){var K=-1,R=d,M=V.length,G=!0,Q=[],ne=Q;if(B)G=!1,R=c;else if(M>=200){var ie=X?null:x(V);if(ie)return p(ie);G=!1,R=f,ne=new C}else ne=X?[]:Q;e:for(;++K<M;){var U=V[K],se=X?X(U):U;if(U=B||U!==0?U:0,G&&se==se){for(var ae=ne.length;ae--;)if(ne[ae]===se)continue e;X&&ne.push(se),Q.push(U)}else R(ne,se,B)||(ne!==Q&&ne.push(se),Q.push(U))}return Q}(L):[]}}).call(this)}).call(this,typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(i,r,n){var a=i("inherits"),s=i("hash-base"),o=i("safe-buffer").Buffer,l=new Array(16);function u(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function d(g,m){return g<<m|g>>>32-m}function c(g,m,v,b,y,I,D){return d(g+(m&v|~m&b)+y+I|0,D)+m|0}function h(g,m,v,b,y,I,D){return d(g+(m&b|v&~b)+y+I|0,D)+m|0}function f(g,m,v,b,y,I,D){return d(g+(m^v^b)+y+I|0,D)+m|0}function p(g,m,v,b,y,I,D){return d(g+(v^(m|~b))+y+I|0,D)+m|0}a(u,s),u.prototype._update=function(){for(var g=l,m=0;m<16;++m)g[m]=this._block.readInt32LE(4*m);var v=this._a,b=this._b,y=this._c,I=this._d;v=c(v,b,y,I,g[0],3614090360,7),I=c(I,v,b,y,g[1],3905402710,12),y=c(y,I,v,b,g[2],606105819,17),b=c(b,y,I,v,g[3],3250441966,22),v=c(v,b,y,I,g[4],4118548399,7),I=c(I,v,b,y,g[5],1200080426,12),y=c(y,I,v,b,g[6],2821735955,17),b=c(b,y,I,v,g[7],4249261313,22),v=c(v,b,y,I,g[8],1770035416,7),I=c(I,v,b,y,g[9],2336552879,12),y=c(y,I,v,b,g[10],4294925233,17),b=c(b,y,I,v,g[11],2304563134,22),v=c(v,b,y,I,g[12],1804603682,7),I=c(I,v,b,y,g[13],4254626195,12),y=c(y,I,v,b,g[14],2792965006,17),v=h(v,b=c(b,y,I,v,g[15],1236535329,22),y,I,g[1],4129170786,5),I=h(I,v,b,y,g[6],3225465664,9),y=h(y,I,v,b,g[11],643717713,14),b=h(b,y,I,v,g[0],3921069994,20),v=h(v,b,y,I,g[5],3593408605,5),I=h(I,v,b,y,g[10],38016083,9),y=h(y,I,v,b,g[15],3634488961,14),b=h(b,y,I,v,g[4],3889429448,20),v=h(v,b,y,I,g[9],568446438,5),I=h(I,v,b,y,g[14],3275163606,9),y=h(y,I,v,b,g[3],4107603335,14),b=h(b,y,I,v,g[8],1163531501,20),v=h(v,b,y,I,g[13],2850285829,5),I=h(I,v,b,y,g[2],4243563512,9),y=h(y,I,v,b,g[7],1735328473,14),v=f(v,b=h(b,y,I,v,g[12],2368359562,20),y,I,g[5],4294588738,4),I=f(I,v,b,y,g[8],2272392833,11),y=f(y,I,v,b,g[11],1839030562,16),b=f(b,y,I,v,g[14],4259657740,23),v=f(v,b,y,I,g[1],2763975236,4),I=f(I,v,b,y,g[4],1272893353,11),y=f(y,I,v,b,g[7],4139469664,16),b=f(b,y,I,v,g[10],3200236656,23),v=f(v,b,y,I,g[13],681279174,4),I=f(I,v,b,y,g[0],3936430074,11),y=f(y,I,v,b,g[3],3572445317,16),b=f(b,y,I,v,g[6],76029189,23),v=f(v,b,y,I,g[9],3654602809,4),I=f(I,v,b,y,g[12],3873151461,11),y=f(y,I,v,b,g[15],530742520,16),v=p(v,b=f(b,y,I,v,g[2],3299628645,23),y,I,g[0],4096336452,6),I=p(I,v,b,y,g[7],1126891415,10),y=p(y,I,v,b,g[14],2878612391,15),b=p(b,y,I,v,g[5],4237533241,21),v=p(v,b,y,I,g[12],1700485571,6),I=p(I,v,b,y,g[3],2399980690,10),y=p(y,I,v,b,g[10],4293915773,15),b=p(b,y,I,v,g[1],2240044497,21),v=p(v,b,y,I,g[8],1873313359,6),I=p(I,v,b,y,g[15],4264355552,10),y=p(y,I,v,b,g[6],2734768916,15),b=p(b,y,I,v,g[13],1309151649,21),v=p(v,b,y,I,g[4],4149444226,6),I=p(I,v,b,y,g[11],3174756917,10),y=p(y,I,v,b,g[2],718787259,15),b=p(b,y,I,v,g[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+b|0,this._c=this._c+y|0,this._d=this._d+I|0},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=o.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g},r.exports=u},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(i,r,n){var a=i("bn.js"),s=i("brorand");function o(l){this.rand=l||new s.Rand}r.exports=o,o.create=function(l){return new o(l)},o.prototype._randbelow=function(l){var u=l.bitLength(),d=Math.ceil(u/8);do var c=new a(this.rand.generate(d));while(c.cmp(l)>=0);return c},o.prototype._randrange=function(l,u){var d=u.sub(l);return l.add(this._randbelow(d))},o.prototype.test=function(l,u,d){var c=l.bitLength(),h=a.mont(l),f=new a(1).toRed(h);u||(u=Math.max(1,c/48|0));for(var p=l.subn(1),g=0;!p.testn(g);g++);for(var m=l.shrn(g),v=p.toRed(h);u>0;u--){var b=this._randrange(new a(2),p);d&&d(b);var y=b.toRed(h).redPow(m);if(y.cmp(f)!==0&&y.cmp(v)!==0){for(var I=1;I<g;I++){if((y=y.redSqr()).cmp(f)===0)return!1;if(y.cmp(v)===0)break}if(I===g)return!1}}return!0},o.prototype.getDivisor=function(l,u){var d=l.bitLength(),c=a.mont(l),h=new a(1).toRed(c);u||(u=Math.max(1,d/48|0));for(var f=l.subn(1),p=0;!f.testn(p);p++);for(var g=l.shrn(p),m=f.toRed(c);u>0;u--){var v=this._randrange(new a(2),f),b=l.gcd(v);if(b.cmpn(1)!==0)return b;var y=v.toRed(c).redPow(g);if(y.cmp(h)!==0&&y.cmp(m)!==0){for(var I=1;I<p;I++){if((y=y.redSqr()).cmp(h)===0)return y.fromRed().subn(1).gcd(l);if(y.cmp(m)===0)break}if(I===p)return(y=y.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(i,r,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],453:[function(i,r,n){function a(s,o){if(!s)throw new Error(o||"Assertion failed")}r.exports=a,a.equal=function(s,o,l){if(s!=o)throw new Error(l||"Assertion failed: "+s+" != "+o)}},{}],454:[function(i,r,n){var a=n;function s(l){return l.length===1?"0"+l:l}function o(l){for(var u="",d=0;d<l.length;d++)u+=s(l[d].toString(16));return u}a.toArray=function(l,u){if(Array.isArray(l))return l.slice();if(!l)return[];var d=[];if(typeof l!="string"){for(var c=0;c<l.length;c++)d[c]=0|l[c];return d}if(u==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),c=0;c<l.length;c+=2)d.push(parseInt(l[c]+l[c+1],16));else for(c=0;c<l.length;c++){var h=l.charCodeAt(c),f=h>>8,p=255&h;f?d.push(f,p):d.push(p)}return d},a.zero2=s,a.toHex=o,a.encode=function(l,u){return u==="hex"?o(l):l}},{}],455:[function(i,r,n){r.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(i,r,n){var a=i("asn1.js");n.certificate=i("./certificate");var s=a.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});n.RSAPrivateKey=s;var o=a.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});n.RSAPublicKey=o;var l=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())});n.PublicKey=l;var u=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),d=a.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(u),this.key("subjectPrivateKey").octstr())});n.PrivateKey=d;var c=a.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});n.EncryptedPrivateKey=c;var h=a.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});n.DSAPrivateKey=h,n.DSAparam=a.define("DSAparam",function(){this.int()});var f=a.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(p),this.key("publicKey").optional().explicit(1).bitstr())});n.ECPrivateKey=f;var p=a.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});n.signature=a.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(i,r,n){var a=i("asn1.js"),s=a.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=a.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),u=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),d=a.define("RelativeDistinguishedName",function(){this.setof(o)}),c=a.define("RDNSequence",function(){this.seqof(d)}),h=a.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),f=a.define("Validity",function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))}),p=a.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),g=a.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(h),this.key("validity").use(f),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(u),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(p).optional())}),m=a.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});r.exports=m},{"asn1.js":170}],458:[function(i,r,n){var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=i("evp_bytestokey"),u=i("browserify-aes"),d=i("safe-buffer").Buffer;r.exports=function(c,h){var f,p=c.toString(),g=p.match(a);if(g){var m="aes"+g[1],v=d.from(g[2],"hex"),b=d.from(g[3].replace(/[\r\n]/g,""),"base64"),y=l(h,v.slice(0,8),parseInt(g[1],10)).key,I=[],D=u.createDecipheriv(m,y,v);I.push(D.update(b)),I.push(D.final()),f=d.concat(I)}else{var N=p.match(o);f=d.from(N[2].replace(/[\r\n]/g,""),"base64")}return{tag:p.match(s)[1],data:f}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(i,r,n){var a=i("./asn1"),s=i("./aesid.json"),o=i("./fixProc"),l=i("browserify-aes"),u=i("pbkdf2"),d=i("safe-buffer").Buffer;function c(h){var f;typeof h!="object"||d.isBuffer(h)||(f=h.passphrase,h=h.key),typeof h=="string"&&(h=d.from(h));var p,g,m=o(h,f),v=m.tag,b=m.data;switch(v){case"CERTIFICATE":g=a.certificate.decode(b,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=a.PublicKey.decode(b,"der")),p=g.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=a.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"ENCRYPTED PRIVATE KEY":b=function(y,I){var D=y.algorithm.decrypt.kde.kdeparams.salt,N=parseInt(y.algorithm.decrypt.kde.kdeparams.iters.toString(),10),z=s[y.algorithm.decrypt.cipher.algo.join(".")],F=y.algorithm.decrypt.cipher.iv,$=y.subjectPrivateKey,j=parseInt(z.split("-")[1],10)/8,q=u.pbkdf2Sync(I,D,N,j,"sha1"),H=l.createDecipheriv(z,q,F),A=[];return A.push(H.update($)),A.push(H.final()),d.concat(A)}(b=a.EncryptedPrivateKey.decode(b,"der"),f);case"PRIVATE KEY":switch(p=(g=a.PrivateKey.decode(b,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:a.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=a.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(b,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(b,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(b,"der")};case"EC PRIVATE KEY":return{curve:(b=a.ECPrivateKey.decode(b,"der")).parameters.value,privateKey:b.privateKey};default:throw new Error("unknown key type "+v)}}r.exports=c,c.signature=a.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(i,r,n){n.pbkdf2=i("./lib/async"),n.pbkdf2Sync=i("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(i,r,n){(function(a){(function(){var s,o,l=i("safe-buffer").Buffer,u=i("./precondition"),d=i("./default-encoding"),c=i("./sync"),h=i("./to-buffer"),f=a.crypto&&a.crypto.subtle,p={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[];function m(){return o||(o=a.process&&a.process.nextTick?a.process.nextTick:a.queueMicrotask?a.queueMicrotask:a.setImmediate?a.setImmediate:a.setTimeout)}function v(b,y,I,D,N){return f.importKey("raw",b,{name:"PBKDF2"},!1,["deriveBits"]).then(function(z){return f.deriveBits({name:"PBKDF2",salt:y,iterations:I,hash:{name:N}},z,D<<3)}).then(function(z){return l.from(z)})}r.exports=function(b,y,I,D,N,z){typeof N=="function"&&(z=N,N=void 0);var F=p[(N=N||"sha1").toLowerCase()];if(F&&typeof a.Promise=="function"){if(u(I,D),b=h(b,d,"Password"),y=h(y,d,"Salt"),typeof z!="function")throw new Error("No callback provided to pbkdf2");(function($,j){$.then(function(q){m()(function(){j(null,q)})},function(q){m()(function(){j(q)})})})(function($){if(a.process&&!a.process.browser||!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(g[$]!==void 0)return g[$];var j=v(s=s||l.alloc(8),s,10,128,$).then(function(){return!0}).catch(function(){return!1});return g[$]=j,j}(F).then(function($){return $?v(b,y,I,D,F):c(b,y,I,D,N)}),z)}else m()(function(){var $;try{$=c(b,y,I,D,N)}catch(j){return z(j)}z(null,$)})}}).call(this)}).call(this,typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(i,r,n){(function(a,s){(function(){var o;s.process&&s.process.browser?o="utf-8":s.process&&s.process.version?o=parseInt(a.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",r.exports=o}).call(this)}).call(this,i("_process"),typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(i,r,n){var a=Math.pow(2,30)-1;r.exports=function(s,o){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>a||o!=o)throw new TypeError("Bad key length")}},{}],464:[function(i,r,n){var a=i("create-hash/md5"),s=i("ripemd160"),o=i("sha.js"),l=i("safe-buffer").Buffer,u=i("./precondition"),d=i("./default-encoding"),c=i("./to-buffer"),h=l.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function p(g,m,v){var b=function(F){function $(j){return o(F).update(j).digest()}return F==="rmd160"||F==="ripemd160"?function(j){return new s().update(j).digest()}:F==="md5"?a:$}(g),y=g==="sha512"||g==="sha384"?128:64;m.length>y?m=b(m):m.length<y&&(m=l.concat([m,h],y));for(var I=l.allocUnsafe(y+f[g]),D=l.allocUnsafe(y+f[g]),N=0;N<y;N++)I[N]=54^m[N],D[N]=92^m[N];var z=l.allocUnsafe(y+v+4);I.copy(z,0,0,y),this.ipad1=z,this.ipad2=I,this.opad=D,this.alg=g,this.blocksize=y,this.hash=b,this.size=f[g]}p.prototype.run=function(g,m){return g.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},r.exports=function(g,m,v,b,y){u(v,b);var I=new p(y=y||"sha1",g=c(g,d,"Password"),(m=c(m,d,"Salt")).length),D=l.allocUnsafe(b),N=l.allocUnsafe(m.length+4);m.copy(N,0,0,m.length);for(var z=0,F=f[y],$=Math.ceil(b/F),j=1;j<=$;j++){N.writeUInt32BE(j,m.length);for(var q=I.run(N,I.ipad1),H=q,A=1;A<v;A++){H=I.run(H,I.ipad2);for(var T=0;T<F;T++)q[T]^=H[T]}q.copy(D,z),z+=F}return D}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(i,r,n){var a=i("safe-buffer").Buffer;r.exports=function(s,o,l){if(a.isBuffer(s))return s;if(typeof s=="string")return a.from(s,o);if(ArrayBuffer.isView(s))return a.from(s.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(i,r,n){(function(a){(function(){a===void 0||!a.version||a.version.indexOf("v0.")===0||a.version.indexOf("v1.")===0&&a.version.indexOf("v1.8.")!==0?r.exports={nextTick:function(s,o,l,u){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var d,c,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(s);case 2:return a.nextTick(function(){s.call(null,o)});case 3:return a.nextTick(function(){s.call(null,o,l)});case 4:return a.nextTick(function(){s.call(null,o,l,u)});default:for(d=new Array(h-1),c=0;c<d.length;)d[c++]=arguments[c];return a.nextTick(function(){s.apply(null,d)})}}}:r.exports=a}).call(this)}).call(this,i("_process"))},{_process:467}],467:[function(i,r,n){var a,s,o=r.exports={};function l(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function d(y){if(a===setTimeout)return setTimeout(y,0);if((a===l||!a)&&setTimeout)return a=setTimeout,setTimeout(y,0);try{return a(y,0)}catch{try{return a.call(null,y,0)}catch{return a.call(this,y,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:l}catch{a=l}try{s=typeof clearTimeout=="function"?clearTimeout:u}catch{s=u}})();var c,h=[],f=!1,p=-1;function g(){f&&c&&(f=!1,c.length?h=c.concat(h):p=-1,h.length&&m())}function m(){if(!f){var y=d(g);f=!0;for(var I=h.length;I;){for(c=h,h=[];++p<I;)c&&c[p].run();p=-1,I=h.length}c=null,f=!1,function(D){if(s===clearTimeout)return clearTimeout(D);if((s===u||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(D);try{s(D)}catch{try{return s.call(null,D)}catch{return s.call(this,D)}}}(y)}}function v(y,I){this.fun=y,this.array=I}function b(){}o.nextTick=function(y){var I=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)I[D-1]=arguments[D];h.push(new v(y,I)),h.length!==1||f||d(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(y){return[]},o.binding=function(y){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(y){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(i,r,n){n.publicEncrypt=i("./publicEncrypt"),n.privateDecrypt=i("./privateDecrypt"),n.privateEncrypt=function(a,s){return n.publicEncrypt(a,s,!0)},n.publicDecrypt=function(a,s){return n.privateDecrypt(a,s,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(i,r,n){var a=i("create-hash"),s=i("safe-buffer").Buffer;function o(l){var u=s.allocUnsafe(4);return u.writeUInt32BE(l,0),u}r.exports=function(l,u){for(var d,c=s.alloc(0),h=0;c.length<u;)d=o(h++),c=s.concat([c,a("sha1").update(l).update(d).digest()]);return c.slice(0,u)}},{"create-hash":386,"safe-buffer":494}],470:[function(i,r,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],471:[function(i,r,n){var a=i("parse-asn1"),s=i("./mgf"),o=i("./xor"),l=i("bn.js"),u=i("browserify-rsa"),d=i("create-hash"),c=i("./withPublic"),h=i("safe-buffer").Buffer;r.exports=function(f,p,g){var m;m=f.padding?f.padding:g?1:4;var v,b=a(f),y=b.modulus.byteLength();if(p.length>y||new l(p).cmp(b.modulus)>=0)throw new Error("decryption error");v=g?c(new l(p),b):u(p,b);var I=h.alloc(y-v.length);if(v=h.concat([I,v],y),m===4)return function(D,N){var z=D.modulus.byteLength(),F=d("sha1").update(h.alloc(0)).digest(),$=F.length;if(N[0]!==0)throw new Error("decryption error");var j=N.slice(1,$+1),q=N.slice($+1),H=o(j,s(q,$)),A=o(q,s(H,z-$-1));if(function(E,C){E=h.from(E),C=h.from(C);var w=0,S=E.length;E.length!==C.length&&(w++,S=Math.min(E.length,C.length));for(var x=-1;++x<S;)w+=E[x]^C[x];return w}(F,A.slice(0,$)))throw new Error("decryption error");for(var T=$;A[T]===0;)T++;if(A[T++]!==1)throw new Error("decryption error");return A.slice(T)}(b,v);if(m===1)return function(D,N,z){for(var F=N.slice(0,2),$=2,j=0;N[$++]!==0;)if($>=N.length){j++;break}var q=N.slice(2,$-1);if((F.toString("hex")!=="0002"&&!z||F.toString("hex")!=="0001"&&z)&&j++,q.length<8&&j++,j)throw new Error("decryption error");return N.slice($)}(0,v,g);if(m===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(i,r,n){var a=i("parse-asn1"),s=i("randombytes"),o=i("create-hash"),l=i("./mgf"),u=i("./xor"),d=i("bn.js"),c=i("./withPublic"),h=i("browserify-rsa"),f=i("safe-buffer").Buffer;r.exports=function(p,g,m){var v;v=p.padding?p.padding:m?1:4;var b,y=a(p);if(v===4)b=function(I,D){var N=I.modulus.byteLength(),z=D.length,F=o("sha1").update(f.alloc(0)).digest(),$=F.length,j=2*$;if(z>N-j-2)throw new Error("message too long");var q=f.alloc(N-z-j-2),H=N-$-1,A=s($),T=u(f.concat([F,q,f.alloc(1,1),D],H),l(A,H)),E=u(A,l(T,$));return new d(f.concat([f.alloc(1),E,T],N))}(y,g);else if(v===1)b=function(I,D,N){var z,F=D.length,$=I.modulus.byteLength();if(F>$-11)throw new Error("message too long");return z=N?f.alloc($-F-3,255):function(j){for(var q,H=f.allocUnsafe(j),A=0,T=s(2*j),E=0;A<j;)E===T.length&&(T=s(2*j),E=0),(q=T[E++])&&(H[A++]=q);return H}($-F-3),new d(f.concat([f.from([0,N?1:2]),z,f.alloc(1),D],$))}(y,g,m);else{if(v!==3)throw new Error("unknown padding");if((b=new d(g)).cmp(y.modulus)>=0)throw new Error("data too long for modulus")}return m?h(b,y):c(b,y)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(i,r,n){var a=i("bn.js"),s=i("safe-buffer").Buffer;r.exports=function(o,l){return s.from(o.toRed(a.mont(l.modulus)).redPow(new a(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(i,r,n){r.exports=function(a,s){for(var o=a.length,l=-1;++l<o;)a[l]^=s[l];return a}},{}],475:[function(i,r,n){(function(a,s){(function(){var o=i("safe-buffer").Buffer,l=s.crypto||s.msCrypto;l&&l.getRandomValues?r.exports=function(u,d){if(u>4294967295)throw new RangeError("requested too many random bytes");var c=o.allocUnsafe(u);if(u>0)if(u>65536)for(var h=0;h<u;h+=65536)l.getRandomValues(c.slice(h,h+65536));else l.getRandomValues(c);return typeof d=="function"?a.nextTick(function(){d(null,c)}):c}:r.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,i("_process"),typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(i,r,n){(function(a,s){(function(){function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=i("safe-buffer"),u=i("randombytes"),d=l.Buffer,c=l.kMaxLength,h=s.crypto||s.msCrypto,f=Math.pow(2,32)-1;function p(v,b){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>f||v<0)throw new TypeError("offset must be a uint32");if(v>c||v>b)throw new RangeError("offset out of range")}function g(v,b,y){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>f||v<0)throw new TypeError("size must be a uint32");if(v+b>y||v>c)throw new RangeError("buffer too small")}function m(v,b,y,I){if(a.browser){var D=v.buffer,N=new Uint8Array(D,b,y);return h.getRandomValues(N),I?void a.nextTick(function(){I(null,v)}):v}if(!I)return u(y).copy(v,b),v;u(y,function(z,F){if(z)return I(z);F.copy(v,b),I(null,v)})}h&&h.getRandomValues||!a.browser?(n.randomFill=function(v,b,y,I){if(!(d.isBuffer(v)||v instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof b=="function")I=b,b=0,y=v.length;else if(typeof y=="function")I=y,y=v.length-b;else if(typeof I!="function")throw new TypeError('"cb" argument must be a function');return p(b,v.length),g(y,b,v.length),m(v,b,y,I)},n.randomFillSync=function(v,b,y){if(b===void 0&&(b=0),!(d.isBuffer(v)||v instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return p(b,v.length),y===void 0&&(y=v.length-b),g(y,b,v.length),m(v,b,y)}):(n.randomFill=o,n.randomFillSync=o)}).call(this)}).call(this,i("_process"),typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(i,r,n){var a={};function s(l,u,d){d||(d=Error);var c=function(h){var f,p;function g(m,v,b){return h.call(this,function(y,I,D){return typeof u=="string"?u:u(y,I,D)}(m,v,b))||this}return p=h,(f=g).prototype=Object.create(p.prototype),f.prototype.constructor=f,f.__proto__=p,g}(d);c.prototype.name=d.name,c.prototype.code=l,a[l]=c}function o(l,u){if(Array.isArray(l)){var d=l.length;return l=l.map(function(c){return String(c)}),d>2?"one of ".concat(u," ").concat(l.slice(0,d-1).join(", "),", or ")+l[d-1]:d===2?"one of ".concat(u," ").concat(l[0]," or ").concat(l[1]):"of ".concat(u," ").concat(l[0])}return"of ".concat(u," ").concat(String(l))}s("ERR_INVALID_OPT_VALUE",function(l,u){return'The value "'+u+'" is invalid for option "'+l+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(l,u,d){var c,h,f;if(typeof u=="string"&&(h="not ",u.substr(0,h.length)===h)?(c="must not be",u=u.replace(/^not /,"")):c="must be",function(g,m,v){return(v===void 0||v>g.length)&&(v=g.length),g.substring(v-m.length,v)===m}(l," argument"))f="The ".concat(l," ").concat(c," ").concat(o(u,"type"));else{var p=function(g,m,v){return typeof v!="number"&&(v=0),!(v+m.length>g.length)&&g.indexOf(m,v)!==-1}(l,".")?"property":"argument";f='The "'.concat(l,'" ').concat(p," ").concat(c," ").concat(o(u,"type"))}return f+=". Received type ".concat(typeof d)},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),r.exports.codes=a},{}],478:[function(i,r,n){(function(a){(function(){var s=Object.keys||function(g){var m=[];for(var v in g)m.push(v);return m};r.exports=h;var o=i("./_stream_readable"),l=i("./_stream_writable");i("inherits")(h,o);for(var u=s(l.prototype),d=0;d<u.length;d++){var c=u[d];h.prototype[c]||(h.prototype[c]=l.prototype[c])}function h(g){if(!(this instanceof h))return new h(g);o.call(this,g),l.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||a.nextTick(p,this)}function p(g){g.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,i("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(i,r,n){r.exports=s;var a=i("./_stream_transform");function s(o){if(!(this instanceof s))return new s(o);a.call(this,o)}i("inherits")(s,a),s.prototype._transform=function(o,l,u){u(null,o)}},{"./_stream_transform":481,inherits:440}],480:[function(i,r,n){(function(a,s){(function(){var o;r.exports=H,H.ReadableState=q,i("events").EventEmitter;var l=function(R,M){return R.listeners(M).length},u=i("./internal/streams/stream"),d=i("buffer").Buffer,c=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,f=i("util");h=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g,m,v=i("./internal/streams/buffer_list"),b=i("./internal/streams/destroy"),y=i("./internal/streams/state").getHighWaterMark,I=i("../errors").codes,D=I.ERR_INVALID_ARG_TYPE,N=I.ERR_STREAM_PUSH_AFTER_EOF,z=I.ERR_METHOD_NOT_IMPLEMENTED,F=I.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i("inherits")(H,u);var $=b.errorOrDestroy,j=["error","close","destroy","pause","resume"];function q(R,M,G){o=o||i("./_stream_duplex"),R=R||{},typeof G!="boolean"&&(G=M instanceof o),this.objectMode=!!R.objectMode,G&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=y(this,R,"readableHighWaterMark",G),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(p||(p=i("string_decoder/").StringDecoder),this.decoder=new p(R.encoding),this.encoding=R.encoding)}function H(R){if(o=o||i("./_stream_duplex"),!(this instanceof H))return new H(R);var M=this instanceof o;this._readableState=new q(R,this,M),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),u.call(this)}function A(R,M,G,Q,ne){h("readableAddChunk",M);var ie,U=R._readableState;if(M===null)U.reading=!1,function(se,ae){if(h("onEofChunk"),!ae.ended){if(ae.decoder){var Y=ae.decoder.end();Y&&Y.length&&(ae.buffer.push(Y),ae.length+=ae.objectMode?1:Y.length)}ae.ended=!0,ae.sync?C(se):(ae.needReadable=!1,ae.emittedReadable||(ae.emittedReadable=!0,w(se)))}}(R,U);else if(ne||(ie=function(se,ae){var Y;J=ae,d.isBuffer(J)||J instanceof c||typeof ae=="string"||ae===void 0||se.objectMode||(Y=new D("chunk",["string","Buffer","Uint8Array"],ae));var J;return Y}(U,M)),ie)$(R,ie);else if(U.objectMode||M&&M.length>0)if(typeof M=="string"||U.objectMode||Object.getPrototypeOf(M)===d.prototype||(M=function(se){return d.from(se)}(M)),Q)U.endEmitted?$(R,new F):T(R,U,M,!0);else if(U.ended)$(R,new N);else{if(U.destroyed)return!1;U.reading=!1,U.decoder&&!G?(M=U.decoder.write(M),U.objectMode||M.length!==0?T(R,U,M,!1):S(R,U)):T(R,U,M,!1)}else Q||(U.reading=!1,S(R,U));return!U.ended&&(U.length<U.highWaterMark||U.length===0)}function T(R,M,G,Q){M.flowing&&M.length===0&&!M.sync?(M.awaitDrain=0,R.emit("data",G)):(M.length+=M.objectMode?1:G.length,Q?M.buffer.unshift(G):M.buffer.push(G),M.needReadable&&C(R)),S(R,M)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(R){this._readableState&&(this._readableState.destroyed=R)}}),H.prototype.destroy=b.destroy,H.prototype._undestroy=b.undestroy,H.prototype._destroy=function(R,M){M(R)},H.prototype.push=function(R,M){var G,Q=this._readableState;return Q.objectMode?G=!0:typeof R=="string"&&((M=M||Q.defaultEncoding)!==Q.encoding&&(R=d.from(R,M),M=""),G=!0),A(this,R,M,!1,G)},H.prototype.unshift=function(R){return A(this,R,null,!0,!1)},H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(R){p||(p=i("string_decoder/").StringDecoder);var M=new p(R);this._readableState.decoder=M,this._readableState.encoding=this._readableState.decoder.encoding;for(var G=this._readableState.buffer.head,Q="";G!==null;)Q+=M.write(G.data),G=G.next;return this._readableState.buffer.clear(),Q!==""&&this._readableState.buffer.push(Q),this._readableState.length=Q.length,this};function E(R,M){return R<=0||M.length===0&&M.ended?0:M.objectMode?1:R!=R?M.flowing&&M.length?M.buffer.head.data.length:M.length:(R>M.highWaterMark&&(M.highWaterMark=function(G){return G>=1073741824?G=1073741824:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}(R)),R<=M.length?R:M.ended?M.length:(M.needReadable=!0,0))}function C(R){var M=R._readableState;h("emitReadable",M.needReadable,M.emittedReadable),M.needReadable=!1,M.emittedReadable||(h("emitReadable",M.flowing),M.emittedReadable=!0,a.nextTick(w,R))}function w(R){var M=R._readableState;h("emitReadable_",M.destroyed,M.length,M.ended),M.destroyed||!M.length&&!M.ended||(R.emit("readable"),M.emittedReadable=!1),M.needReadable=!M.flowing&&!M.ended&&M.length<=M.highWaterMark,L(R)}function S(R,M){M.readingMore||(M.readingMore=!0,a.nextTick(x,R,M))}function x(R,M){for(;!M.reading&&!M.ended&&(M.length<M.highWaterMark||M.flowing&&M.length===0);){var G=M.length;if(h("maybeReadMore read 0"),R.read(0),G===M.length)break}M.readingMore=!1}function k(R){var M=R._readableState;M.readableListening=R.listenerCount("readable")>0,M.resumeScheduled&&!M.paused?M.flowing=!0:R.listenerCount("data")>0&&R.resume()}function P(R){h("readable nexttick read 0"),R.read(0)}function O(R,M){h("resume",M.reading),M.reading||R.read(0),M.resumeScheduled=!1,R.emit("resume"),L(R),M.flowing&&!M.reading&&R.read(0)}function L(R){var M=R._readableState;for(h("flow",M.flowing);M.flowing&&R.read()!==null;);}function V(R,M){return M.length===0?null:(M.objectMode?G=M.buffer.shift():!R||R>=M.length?(G=M.decoder?M.buffer.join(""):M.buffer.length===1?M.buffer.first():M.buffer.concat(M.length),M.buffer.clear()):G=M.buffer.consume(R,M.decoder),G);var G}function X(R){var M=R._readableState;h("endReadable",M.endEmitted),M.endEmitted||(M.ended=!0,a.nextTick(B,M,R))}function B(R,M){if(h("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,M.readable=!1,M.emit("end"),R.autoDestroy)){var G=M._writableState;(!G||G.autoDestroy&&G.finished)&&M.destroy()}}function K(R,M){for(var G=0,Q=R.length;G<Q;G++)if(R[G]===M)return G;return-1}H.prototype.read=function(R){h("read",R),R=parseInt(R,10);var M=this._readableState,G=R;if(R!==0&&(M.emittedReadable=!1),R===0&&M.needReadable&&((M.highWaterMark!==0?M.length>=M.highWaterMark:M.length>0)||M.ended))return h("read: emitReadable",M.length,M.ended),M.length===0&&M.ended?X(this):C(this),null;if((R=E(R,M))===0&&M.ended)return M.length===0&&X(this),null;var Q,ne=M.needReadable;return h("need readable",ne),(M.length===0||M.length-R<M.highWaterMark)&&h("length less than watermark",ne=!0),M.ended||M.reading?h("reading or ended",ne=!1):ne&&(h("do read"),M.reading=!0,M.sync=!0,M.length===0&&(M.needReadable=!0),this._read(M.highWaterMark),M.sync=!1,M.reading||(R=E(G,M))),(Q=R>0?V(R,M):null)===null?(M.needReadable=M.length<=M.highWaterMark,R=0):(M.length-=R,M.awaitDrain=0),M.length===0&&(M.ended||(M.needReadable=!0),G!==R&&M.ended&&X(this)),Q!==null&&this.emit("data",Q),Q},H.prototype._read=function(R){$(this,new z("_read()"))},H.prototype.pipe=function(R,M){var G=this,Q=this._readableState;switch(Q.pipesCount){case 0:Q.pipes=R;break;case 1:Q.pipes=[Q.pipes,R];break;default:Q.pipes.push(R)}Q.pipesCount+=1,h("pipe count=%d opts=%j",Q.pipesCount,M);var ne=(!M||M.end!==!1)&&R!==a.stdout&&R!==a.stderr?U:de;function ie(oe,ce){h("onunpipe"),oe===G&&ce&&ce.hasUnpiped===!1&&(ce.hasUnpiped=!0,h("cleanup"),R.removeListener("close",ee),R.removeListener("finish",ue),R.removeListener("drain",se),R.removeListener("error",J),R.removeListener("unpipe",ie),G.removeListener("end",U),G.removeListener("end",de),G.removeListener("data",Y),ae=!0,!Q.awaitDrain||R._writableState&&!R._writableState.needDrain||se())}function U(){h("onend"),R.end()}Q.endEmitted?a.nextTick(ne):G.once("end",ne),R.on("unpipe",ie);var se=function(oe){return function(){var ce=oe._readableState;h("pipeOnDrain",ce.awaitDrain),ce.awaitDrain&&ce.awaitDrain--,ce.awaitDrain===0&&l(oe,"data")&&(ce.flowing=!0,L(oe))}}(G);R.on("drain",se);var ae=!1;function Y(oe){h("ondata");var ce=R.write(oe);h("dest.write",ce),ce===!1&&((Q.pipesCount===1&&Q.pipes===R||Q.pipesCount>1&&K(Q.pipes,R)!==-1)&&!ae&&(h("false write response, pause",Q.awaitDrain),Q.awaitDrain++),G.pause())}function J(oe){h("onerror",oe),de(),R.removeListener("error",J),l(R,"error")===0&&$(R,oe)}function ee(){R.removeListener("finish",ue),de()}function ue(){h("onfinish"),R.removeListener("close",ee),de()}function de(){h("unpipe"),G.unpipe(R)}return G.on("data",Y),function(oe,ce,ge){if(typeof oe.prependListener=="function")return oe.prependListener(ce,ge);oe._events&&oe._events[ce]?Array.isArray(oe._events[ce])?oe._events[ce].unshift(ge):oe._events[ce]=[ge,oe._events[ce]]:oe.on(ce,ge)}(R,"error",J),R.once("close",ee),R.once("finish",ue),R.emit("pipe",G),Q.flowing||(h("pipe resume"),G.resume()),R},H.prototype.unpipe=function(R){var M=this._readableState,G={hasUnpiped:!1};if(M.pipesCount===0)return this;if(M.pipesCount===1)return R&&R!==M.pipes||(R||(R=M.pipes),M.pipes=null,M.pipesCount=0,M.flowing=!1,R&&R.emit("unpipe",this,G)),this;if(!R){var Q=M.pipes,ne=M.pipesCount;M.pipes=null,M.pipesCount=0,M.flowing=!1;for(var ie=0;ie<ne;ie++)Q[ie].emit("unpipe",this,{hasUnpiped:!1});return this}var U=K(M.pipes,R);return U===-1||(M.pipes.splice(U,1),M.pipesCount-=1,M.pipesCount===1&&(M.pipes=M.pipes[0]),R.emit("unpipe",this,G)),this},H.prototype.on=function(R,M){var G=u.prototype.on.call(this,R,M),Q=this._readableState;return R==="data"?(Q.readableListening=this.listenerCount("readable")>0,Q.flowing!==!1&&this.resume()):R==="readable"&&(Q.endEmitted||Q.readableListening||(Q.readableListening=Q.needReadable=!0,Q.flowing=!1,Q.emittedReadable=!1,h("on readable",Q.length,Q.reading),Q.length?C(this):Q.reading||a.nextTick(P,this))),G},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(R,M){var G=u.prototype.removeListener.call(this,R,M);return R==="readable"&&a.nextTick(k,this),G},H.prototype.removeAllListeners=function(R){var M=u.prototype.removeAllListeners.apply(this,arguments);return R!=="readable"&&R!==void 0||a.nextTick(k,this),M},H.prototype.resume=function(){var R=this._readableState;return R.flowing||(h("resume"),R.flowing=!R.readableListening,function(M,G){G.resumeScheduled||(G.resumeScheduled=!0,a.nextTick(O,M,G))}(this,R)),R.paused=!1,this},H.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},H.prototype.wrap=function(R){var M=this,G=this._readableState,Q=!1;for(var ne in R.on("end",function(){if(h("wrapped end"),G.decoder&&!G.ended){var U=G.decoder.end();U&&U.length&&M.push(U)}M.push(null)}),R.on("data",function(U){h("wrapped data"),G.decoder&&(U=G.decoder.write(U)),G.objectMode&&U==null||(G.objectMode||U&&U.length)&&(M.push(U)||(Q=!0,R.pause()))}),R)this[ne]===void 0&&typeof R[ne]=="function"&&(this[ne]=function(U){return function(){return R[U].apply(R,arguments)}}(ne));for(var ie=0;ie<j.length;ie++)R.on(j[ie],this.emit.bind(this,j[ie]));return this._read=function(U){h("wrapped _read",U),Q&&(Q=!1,R.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=i("./internal/streams/async_iterator")),g(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(R){this._readableState&&(this._readableState.flowing=R)}}),H._fromList=V,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(H.from=function(R,M){return m===void 0&&(m=i("./internal/streams/from")),m(H,R,M)})}).call(this)}).call(this,i("_process"),typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(i,r,n){r.exports=h;var a=i("../errors").codes,s=a.ERR_METHOD_NOT_IMPLEMENTED,o=a.ERR_MULTIPLE_CALLBACK,l=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=a.ERR_TRANSFORM_WITH_LENGTH_0,d=i("./_stream_duplex");function c(g,m){var v=this._transformState;v.transforming=!1;var b=v.writecb;if(b===null)return this.emit("error",new o);v.writechunk=null,v.writecb=null,m!=null&&this.push(m),b(g);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function h(g){if(!(this instanceof h))return new h(g);d.call(this,g),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",f)}function f(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?p(this,null,null):this._flush(function(m,v){p(g,m,v)})}function p(g,m,v){if(m)return g.emit("error",m);if(v!=null&&g.push(v),g._writableState.length)throw new u;if(g._transformState.transforming)throw new l;return g.push(null)}i("inherits")(h,d),h.prototype.push=function(g,m){return this._transformState.needTransform=!1,d.prototype.push.call(this,g,m)},h.prototype._transform=function(g,m,v){v(new s("_transform()"))},h.prototype._write=function(g,m,v){var b=this._transformState;if(b.writecb=v,b.writechunk=g,b.writeencoding=m,!b.transforming){var y=this._readableState;(b.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},h.prototype._read=function(g){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},h.prototype._destroy=function(g,m){d.prototype._destroy.call(this,g,function(v){m(v)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(i,r,n){(function(a,s){(function(){function o(x){var k=this;this.next=null,this.entry=null,this.finish=function(){(function(P,O,L){var V=P.entry;for(P.entry=null;V;){var X=V.callback;O.pendingcb--,X(L),V=V.next}O.corkedRequestsFree.next=P})(k,x)}}var l;r.exports=H,H.WritableState=q;var u={deprecate:i("util-deprecate")},d=i("./internal/streams/stream"),c=i("buffer").Buffer,h=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,p=i("./internal/streams/destroy"),g=i("./internal/streams/state").getHighWaterMark,m=i("../errors").codes,v=m.ERR_INVALID_ARG_TYPE,b=m.ERR_METHOD_NOT_IMPLEMENTED,y=m.ERR_MULTIPLE_CALLBACK,I=m.ERR_STREAM_CANNOT_PIPE,D=m.ERR_STREAM_DESTROYED,N=m.ERR_STREAM_NULL_VALUES,z=m.ERR_STREAM_WRITE_AFTER_END,F=m.ERR_UNKNOWN_ENCODING,$=p.errorOrDestroy;function j(){}function q(x,k,P){l=l||i("./_stream_duplex"),x=x||{},typeof P!="boolean"&&(P=k instanceof l),this.objectMode=!!x.objectMode,P&&(this.objectMode=this.objectMode||!!x.writableObjectMode),this.highWaterMark=g(this,x,"writableHighWaterMark",P),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var O=x.decodeStrings===!1;this.decodeStrings=!O,this.defaultEncoding=x.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(L){(function(V,X){var B=V._writableState,K=B.sync,R=B.writecb;if(typeof R!="function")throw new y;if(function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}(B),X)(function(G,Q,ne,ie,U){--Q.pendingcb,ne?(a.nextTick(U,ie),a.nextTick(S,G,Q),G._writableState.errorEmitted=!0,$(G,ie)):(U(ie),G._writableState.errorEmitted=!0,$(G,ie),S(G,Q))})(V,B,K,X,R);else{var M=C(B)||V.destroyed;M||B.corked||B.bufferProcessing||!B.bufferedRequest||E(V,B),K?a.nextTick(T,V,B,M,R):T(V,B,M,R)}})(k,L)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=x.emitClose!==!1,this.autoDestroy=!!x.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function H(x){var k=this instanceof(l=l||i("./_stream_duplex"));if(!k&&!f.call(H,this))return new H(x);this._writableState=new q(x,this,k),this.writable=!0,x&&(typeof x.write=="function"&&(this._write=x.write),typeof x.writev=="function"&&(this._writev=x.writev),typeof x.destroy=="function"&&(this._destroy=x.destroy),typeof x.final=="function"&&(this._final=x.final)),d.call(this)}function A(x,k,P,O,L,V,X){k.writelen=O,k.writecb=X,k.writing=!0,k.sync=!0,k.destroyed?k.onwrite(new D("write")):P?x._writev(L,k.onwrite):x._write(L,V,k.onwrite),k.sync=!1}function T(x,k,P,O){P||function(L,V){V.length===0&&V.needDrain&&(V.needDrain=!1,L.emit("drain"))}(x,k),k.pendingcb--,O(),S(x,k)}function E(x,k){k.bufferProcessing=!0;var P=k.bufferedRequest;if(x._writev&&P&&P.next){var O=k.bufferedRequestCount,L=new Array(O),V=k.corkedRequestsFree;V.entry=P;for(var X=0,B=!0;P;)L[X]=P,P.isBuf||(B=!1),P=P.next,X+=1;L.allBuffers=B,A(x,k,!0,k.length,L,"",V.finish),k.pendingcb++,k.lastBufferedRequest=null,V.next?(k.corkedRequestsFree=V.next,V.next=null):k.corkedRequestsFree=new o(k),k.bufferedRequestCount=0}else{for(;P;){var K=P.chunk,R=P.encoding,M=P.callback;if(A(x,k,!1,k.objectMode?1:K.length,K,R,M),P=P.next,k.bufferedRequestCount--,k.writing)break}P===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=P,k.bufferProcessing=!1}function C(x){return x.ending&&x.length===0&&x.bufferedRequest===null&&!x.finished&&!x.writing}function w(x,k){x._final(function(P){k.pendingcb--,P&&$(x,P),k.prefinished=!0,x.emit("prefinish"),S(x,k)})}function S(x,k){var P=C(k);if(P&&(function(L,V){V.prefinished||V.finalCalled||(typeof L._final!="function"||V.destroyed?(V.prefinished=!0,L.emit("prefinish")):(V.pendingcb++,V.finalCalled=!0,a.nextTick(w,L,V)))}(x,k),k.pendingcb===0&&(k.finished=!0,x.emit("finish"),k.autoDestroy))){var O=x._readableState;(!O||O.autoDestroy&&O.endEmitted)&&x.destroy()}return P}i("inherits")(H,d),q.prototype.getBuffer=function(){for(var x=this.bufferedRequest,k=[];x;)k.push(x),x=x.next;return k},function(){try{Object.defineProperty(q.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(x){return!!f.call(this,x)||this===H&&x&&x._writableState instanceof q}})):f=function(x){return x instanceof this},H.prototype.pipe=function(){$(this,new I)},H.prototype.write=function(x,k,P){var O,L=this._writableState,V=!1,X=!L.objectMode&&(O=x,c.isBuffer(O)||O instanceof h);return X&&!c.isBuffer(x)&&(x=function(B){return c.from(B)}(x)),typeof k=="function"&&(P=k,k=null),X?k="buffer":k||(k=L.defaultEncoding),typeof P!="function"&&(P=j),L.ending?function(B,K){var R=new z;$(B,R),a.nextTick(K,R)}(this,P):(X||function(B,K,R,M){var G;return R===null?G=new N:typeof R=="string"||K.objectMode||(G=new v("chunk",["string","Buffer"],R)),!G||($(B,G),a.nextTick(M,G),!1)}(this,L,x,P))&&(L.pendingcb++,V=function(B,K,R,M,G,Q){if(!R){var ne=function(ae,Y,J){return ae.objectMode||ae.decodeStrings===!1||typeof Y!="string"||(Y=c.from(Y,J)),Y}(K,M,G);M!==ne&&(R=!0,G="buffer",M=ne)}var ie=K.objectMode?1:M.length;K.length+=ie;var U=K.length<K.highWaterMark;if(U||(K.needDrain=!0),K.writing||K.corked){var se=K.lastBufferedRequest;K.lastBufferedRequest={chunk:M,encoding:G,isBuf:R,callback:Q,next:null},se?se.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else A(B,K,!1,ie,M,G,Q);return U}(this,L,X,x,k,P)),V},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var x=this._writableState;x.corked&&(x.corked--,x.writing||x.corked||x.bufferProcessing||!x.bufferedRequest||E(this,x))},H.prototype.setDefaultEncoding=function(x){if(typeof x=="string"&&(x=x.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((x+"").toLowerCase())>-1))throw new F(x);return this._writableState.defaultEncoding=x,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),H.prototype._write=function(x,k,P){P(new b("_write()"))},H.prototype._writev=null,H.prototype.end=function(x,k,P){var O=this._writableState;return typeof x=="function"?(P=x,x=null,k=null):typeof k=="function"&&(P=k,k=null),x!=null&&this.write(x,k),O.corked&&(O.corked=1,this.uncork()),O.ending||function(L,V,X){V.ending=!0,S(L,V),X&&(V.finished?a.nextTick(X):L.once("finish",X)),V.ended=!0,L.writable=!1}(this,O,P),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(x){this._writableState&&(this._writableState.destroyed=x)}}),H.prototype.destroy=p.destroy,H.prototype._undestroy=p.undestroy,H.prototype._destroy=function(x,k){k(x)}}).call(this)}).call(this,i("_process"),typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(i,r,n){(function(a){(function(){var s;function o(D,N,z){return(N=function(F){var $=function(j,q){if(typeof j!="object"||j===null)return j;var H=j[Symbol.toPrimitive];if(H!==void 0){var A=H.call(j,q||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(j)}(F,"string");return typeof $=="symbol"?$:String($)}(N))in D?Object.defineProperty(D,N,{value:z,enumerable:!0,configurable:!0,writable:!0}):D[N]=z,D}var l=i("./end-of-stream"),u=Symbol("lastResolve"),d=Symbol("lastReject"),c=Symbol("error"),h=Symbol("ended"),f=Symbol("lastPromise"),p=Symbol("handlePromise"),g=Symbol("stream");function m(D,N){return{value:D,done:N}}function v(D){var N=D[u];if(N!==null){var z=D[g].read();z!==null&&(D[f]=null,D[u]=null,D[d]=null,N(m(z,!1)))}}function b(D){a.nextTick(v,D)}var y=Object.getPrototypeOf(function(){}),I=Object.setPrototypeOf((o(s={get stream(){return this[g]},next:function(){var D=this,N=this[c];if(N!==null)return Promise.reject(N);if(this[h])return Promise.resolve(m(void 0,!0));if(this[g].destroyed)return new Promise(function(j,q){a.nextTick(function(){D[c]?q(D[c]):j(m(void 0,!0))})});var z,F=this[f];if(F)z=new Promise(function(j,q){return function(H,A){j.then(function(){q[h]?H(m(void 0,!0)):q[p](H,A)},A)}}(F,this));else{var $=this[g].read();if($!==null)return Promise.resolve(m($,!1));z=new Promise(this[p])}return this[f]=z,z}},Symbol.asyncIterator,function(){return this}),o(s,"return",function(){var D=this;return new Promise(function(N,z){D[g].destroy(null,function(F){F?z(F):N(m(void 0,!0))})})}),s),y);r.exports=function(D){var N,z=Object.create(I,(o(N={},g,{value:D,writable:!0}),o(N,u,{value:null,writable:!0}),o(N,d,{value:null,writable:!0}),o(N,c,{value:null,writable:!0}),o(N,h,{value:D._readableState.endEmitted,writable:!0}),o(N,p,{value:function(F,$){var j=z[g].read();j?(z[f]=null,z[u]=null,z[d]=null,F(m(j,!1))):(z[u]=F,z[d]=$)},writable:!0}),N));return z[f]=null,l(D,function(F){if(F&&F.code!=="ERR_STREAM_PREMATURE_CLOSE"){var $=z[d];return $!==null&&(z[f]=null,z[u]=null,z[d]=null,$(F)),void(z[c]=F)}var j=z[u];j!==null&&(z[f]=null,z[u]=null,z[d]=null,j(m(void 0,!0))),z[h]=!0}),D.on("readable",b.bind(null,z)),z}}).call(this)}).call(this,i("_process"))},{"./end-of-stream":486,_process:467}],484:[function(i,r,n){function a(f,p){var g=Object.keys(f);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(f);p&&(m=m.filter(function(v){return Object.getOwnPropertyDescriptor(f,v).enumerable})),g.push.apply(g,m)}return g}function s(f){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?a(Object(g),!0).forEach(function(m){o(f,m,g[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(g)):a(Object(g)).forEach(function(m){Object.defineProperty(f,m,Object.getOwnPropertyDescriptor(g,m))})}return f}function o(f,p,g){return(p=u(p))in f?Object.defineProperty(f,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[p]=g,f}function l(f,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,u(m.key),m)}}function u(f){var p=function(g,m){if(typeof g!="object"||g===null)return g;var v=g[Symbol.toPrimitive];if(v!==void 0){var b=v.call(g,m||"default");if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(g)}(f,"string");return typeof p=="symbol"?p:String(p)}var d=i("buffer").Buffer,c=i("util").inspect,h=c&&c.custom||"inspect";r.exports=function(){function f(){(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}var p,g;return p=f,(g=[{key:"push",value:function(m){var v={data:m,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(m){var v={data:m,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var v=this.head,b=""+v.data;v=v.next;)b+=m+v.data;return b}},{key:"concat",value:function(m){if(this.length===0)return d.alloc(0);for(var v,b,y,I=d.allocUnsafe(m>>>0),D=this.head,N=0;D;)v=D.data,b=I,y=N,d.prototype.copy.call(v,b,y),N+=D.data.length,D=D.next;return I}},{key:"consume",value:function(m,v){var b;return m<this.head.data.length?(b=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):b=m===this.head.data.length?this.shift():v?this._getString(m):this._getBuffer(m),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var v=this.head,b=1,y=v.data;for(m-=y.length;v=v.next;){var I=v.data,D=m>I.length?I.length:m;if(D===I.length?y+=I:y+=I.slice(0,m),(m-=D)==0){D===I.length?(++b,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=I.slice(D));break}++b}return this.length-=b,y}},{key:"_getBuffer",value:function(m){var v=d.allocUnsafe(m),b=this.head,y=1;for(b.data.copy(v),m-=b.data.length;b=b.next;){var I=b.data,D=m>I.length?I.length:m;if(I.copy(v,v.length-m,0,D),(m-=D)==0){D===I.length?(++y,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=I.slice(D));break}++y}return this.length-=y,v}},{key:h,value:function(m,v){return c(this,s(s({},v),{},{depth:0,customInspect:!1}))}}])&&l(p.prototype,g),Object.defineProperty(p,"prototype",{writable:!1}),f}()},{buffer:220,util:188}],485:[function(i,r,n){(function(a){(function(){function s(u,d){l(u,d),o(u)}function o(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function l(u,d){u.emit("error",d)}r.exports={destroy:function(u,d){var c=this,h=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return h||f?(d?d(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(l,this,u)):a.nextTick(l,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(p){!d&&p?c._writableState?c._writableState.errorEmitted?a.nextTick(o,c):(c._writableState.errorEmitted=!0,a.nextTick(s,c,p)):a.nextTick(s,c,p):d?(a.nextTick(o,c),d(p)):a.nextTick(o,c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(u,d){var c=u._readableState,h=u._writableState;c&&c.autoDestroy||h&&h.autoDestroy?u.destroy(d):u.emit("error",d)}}}).call(this)}).call(this,i("_process"))},{_process:467}],486:[function(i,r,n){var a=i("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}r.exports=function o(l,u,d){if(typeof u=="function")return o(l,null,u);u||(u={}),d=function(D){var N=!1;return function(){if(!N){N=!0;for(var z=arguments.length,F=new Array(z),$=0;$<z;$++)F[$]=arguments[$];D.apply(this,F)}}}(d||s);var c=u.readable||u.readable!==!1&&l.readable,h=u.writable||u.writable!==!1&&l.writable,f=function(){l.writable||g()},p=l._writableState&&l._writableState.finished,g=function(){h=!1,p=!0,c||d.call(l)},m=l._readableState&&l._readableState.endEmitted,v=function(){c=!1,m=!0,h||d.call(l)},b=function(D){d.call(l,D)},y=function(){var D;return c&&!m?(l._readableState&&l._readableState.ended||(D=new a),d.call(l,D)):h&&!p?(l._writableState&&l._writableState.ended||(D=new a),d.call(l,D)):void 0},I=function(){l.req.on("finish",g)};return function(D){return D.setHeader&&typeof D.abort=="function"}(l)?(l.on("complete",g),l.on("abort",y),l.req?I():l.on("request",I)):h&&!l._writableState&&(l.on("end",f),l.on("close",f)),l.on("end",v),l.on("finish",g),u.error!==!1&&l.on("error",b),l.on("close",y),function(){l.removeListener("complete",g),l.removeListener("abort",y),l.removeListener("request",I),l.req&&l.req.removeListener("finish",g),l.removeListener("end",f),l.removeListener("close",f),l.removeListener("finish",g),l.removeListener("end",v),l.removeListener("error",b),l.removeListener("close",y)}}},{"../../../errors":477}],487:[function(i,r,n){r.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(i,r,n){var a,s=i("../../../errors").codes,o=s.ERR_MISSING_ARGS,l=s.ERR_STREAM_DESTROYED;function u(p){if(p)throw p}function d(p,g,m,v){v=function(I){var D=!1;return function(){D||(D=!0,I.apply(void 0,arguments))}}(v);var b=!1;p.on("close",function(){b=!0}),a===void 0&&(a=i("./end-of-stream")),a(p,{readable:g,writable:m},function(I){if(I)return v(I);b=!0,v()});var y=!1;return function(I){if(!b&&!y)return y=!0,function(D){return D.setHeader&&typeof D.abort=="function"}(p)?p.abort():typeof p.destroy=="function"?p.destroy():void v(I||new l("pipe"))}}function c(p){p()}function h(p,g){return p.pipe(g)}function f(p){return p.length?typeof p[p.length-1]!="function"?u:p.pop():u}r.exports=function(){for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];var v,b=f(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new o("streams");var y=g.map(function(I,D){var N=D<g.length-1;return d(I,N,D>0,function(z){v||(v=z),z&&y.forEach(c),N||(y.forEach(c),b(v))})});return g.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(i,r,n){var a=i("../../../errors").codes.ERR_INVALID_OPT_VALUE;r.exports={getHighWaterMark:function(s,o,l,u){var d=function(c,h,f){return c.highWaterMark!=null?c.highWaterMark:h?c[f]:null}(o,u,l);if(d!=null){if(!isFinite(d)||Math.floor(d)!==d||d<0)throw new a(u?l:"highWaterMark",d);return Math.floor(d)}return s.objectMode?16:16384}}},{"../../../errors":477}],490:[function(i,r,n){r.exports=i("events").EventEmitter},{events:422}],491:[function(i,r,n){(n=r.exports=i("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=i("./lib/_stream_writable.js"),n.Duplex=i("./lib/_stream_duplex.js"),n.Transform=i("./lib/_stream_transform.js"),n.PassThrough=i("./lib/_stream_passthrough.js"),n.finished=i("./lib/internal/streams/end-of-stream.js"),n.pipeline=i("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(i,r,n){var a=function(s){var o=Object.prototype,l=o.hasOwnProperty,u=Object.defineProperty||function(S,x,k){S[x]=k.value},d=typeof Symbol=="function"?Symbol:{},c=d.iterator||"@@iterator",h=d.asyncIterator||"@@asyncIterator",f=d.toStringTag||"@@toStringTag";function p(S,x,k){return Object.defineProperty(S,x,{value:k,enumerable:!0,configurable:!0,writable:!0}),S[x]}try{p({},"")}catch{p=function(x,k,P){return x[k]=P}}function g(S,x,k,P){var O=x&&x.prototype instanceof b?x:b,L=Object.create(O.prototype),V=new E(P||[]);return u(L,"_invoke",{value:q(S,k,V)}),L}function m(S,x,k){try{return{type:"normal",arg:S.call(x,k)}}catch(P){return{type:"throw",arg:P}}}s.wrap=g;var v={};function b(){}function y(){}function I(){}var D={};p(D,c,function(){return this});var N=Object.getPrototypeOf,z=N&&N(N(C([])));z&&z!==o&&l.call(z,c)&&(D=z);var F=I.prototype=b.prototype=Object.create(D);function $(S){["next","throw","return"].forEach(function(x){p(S,x,function(k){return this._invoke(x,k)})})}function j(S,x){var k;u(this,"_invoke",{value:function(P,O){function L(){return new x(function(V,X){(function B(K,R,M,G){var Q=m(S[K],S,R);if(Q.type!=="throw"){var ne=Q.arg,ie=ne.value;return ie&&typeof ie=="object"&&l.call(ie,"__await")?x.resolve(ie.__await).then(function(U){B("next",U,M,G)},function(U){B("throw",U,M,G)}):x.resolve(ie).then(function(U){ne.value=U,M(ne)},function(U){return B("throw",U,M,G)})}G(Q.arg)})(P,O,V,X)})}return k=k?k.then(L,L):L()}})}function q(S,x,k){var P="suspendedStart";return function(O,L){if(P==="executing")throw new Error("Generator is already running");if(P==="completed"){if(O==="throw")throw L;return w()}for(k.method=O,k.arg=L;;){var V=k.delegate;if(V){var X=H(V,k);if(X){if(X===v)continue;return X}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(P==="suspendedStart")throw P="completed",k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);P="executing";var B=m(S,x,k);if(B.type==="normal"){if(P=k.done?"completed":"suspendedYield",B.arg===v)continue;return{value:B.arg,done:k.done}}B.type==="throw"&&(P="completed",k.method="throw",k.arg=B.arg)}}}function H(S,x){var k=x.method,P=S.iterator[k];if(P===void 0)return x.delegate=null,k==="throw"&&S.iterator.return&&(x.method="return",x.arg=void 0,H(S,x),x.method==="throw")||k!=="return"&&(x.method="throw",x.arg=new TypeError("The iterator does not provide a '"+k+"' method")),v;var O=m(P,S.iterator,x.arg);if(O.type==="throw")return x.method="throw",x.arg=O.arg,x.delegate=null,v;var L=O.arg;return L?L.done?(x[S.resultName]=L.value,x.next=S.nextLoc,x.method!=="return"&&(x.method="next",x.arg=void 0),x.delegate=null,v):L:(x.method="throw",x.arg=new TypeError("iterator result is not an object"),x.delegate=null,v)}function A(S){var x={tryLoc:S[0]};1 in S&&(x.catchLoc=S[1]),2 in S&&(x.finallyLoc=S[2],x.afterLoc=S[3]),this.tryEntries.push(x)}function T(S){var x=S.completion||{};x.type="normal",delete x.arg,S.completion=x}function E(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(A,this),this.reset(!0)}function C(S){if(S){var x=S[c];if(x)return x.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var k=-1,P=function O(){for(;++k<S.length;)if(l.call(S,k))return O.value=S[k],O.done=!1,O;return O.value=void 0,O.done=!0,O};return P.next=P}}return{next:w}}function w(){return{value:void 0,done:!0}}return y.prototype=I,u(F,"constructor",{value:I,configurable:!0}),u(I,"constructor",{value:y,configurable:!0}),y.displayName=p(I,f,"GeneratorFunction"),s.isGeneratorFunction=function(S){var x=typeof S=="function"&&S.constructor;return!!x&&(x===y||(x.displayName||x.name)==="GeneratorFunction")},s.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,I):(S.__proto__=I,p(S,f,"GeneratorFunction")),S.prototype=Object.create(F),S},s.awrap=function(S){return{__await:S}},$(j.prototype),p(j.prototype,h,function(){return this}),s.AsyncIterator=j,s.async=function(S,x,k,P,O){O===void 0&&(O=Promise);var L=new j(g(S,x,k,P),O);return s.isGeneratorFunction(x)?L:L.next().then(function(V){return V.done?V.value:L.next()})},$(F),p(F,f,"Generator"),p(F,c,function(){return this}),p(F,"toString",function(){return"[object Generator]"}),s.keys=function(S){var x=Object(S),k=[];for(var P in x)k.push(P);return k.reverse(),function O(){for(;k.length;){var L=k.pop();if(L in x)return O.value=L,O.done=!1,O}return O.done=!0,O}},s.values=C,E.prototype={constructor:E,reset:function(S){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!S)for(var x in this)x.charAt(0)==="t"&&l.call(this,x)&&!isNaN(+x.slice(1))&&(this[x]=void 0)},stop:function(){this.done=!0;var S=this.tryEntries[0].completion;if(S.type==="throw")throw S.arg;return this.rval},dispatchException:function(S){if(this.done)throw S;var x=this;function k(B,K){return L.type="throw",L.arg=S,x.next=B,K&&(x.method="next",x.arg=void 0),!!K}for(var P=this.tryEntries.length-1;P>=0;--P){var O=this.tryEntries[P],L=O.completion;if(O.tryLoc==="root")return k("end");if(O.tryLoc<=this.prev){var V=l.call(O,"catchLoc"),X=l.call(O,"finallyLoc");if(V&&X){if(this.prev<O.catchLoc)return k(O.catchLoc,!0);if(this.prev<O.finallyLoc)return k(O.finallyLoc)}else if(V){if(this.prev<O.catchLoc)return k(O.catchLoc,!0)}else{if(!X)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return k(O.finallyLoc)}}}},abrupt:function(S,x){for(var k=this.tryEntries.length-1;k>=0;--k){var P=this.tryEntries[k];if(P.tryLoc<=this.prev&&l.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var O=P;break}}O&&(S==="break"||S==="continue")&&O.tryLoc<=x&&x<=O.finallyLoc&&(O=null);var L=O?O.completion:{};return L.type=S,L.arg=x,O?(this.method="next",this.next=O.finallyLoc,v):this.complete(L)},complete:function(S,x){if(S.type==="throw")throw S.arg;return S.type==="break"||S.type==="continue"?this.next=S.arg:S.type==="return"?(this.rval=this.arg=S.arg,this.method="return",this.next="end"):S.type==="normal"&&x&&(this.next=x),v},finish:function(S){for(var x=this.tryEntries.length-1;x>=0;--x){var k=this.tryEntries[x];if(k.finallyLoc===S)return this.complete(k.completion,k.afterLoc),T(k),v}},catch:function(S){for(var x=this.tryEntries.length-1;x>=0;--x){var k=this.tryEntries[x];if(k.tryLoc===S){var P=k.completion;if(P.type==="throw"){var O=P.arg;T(k)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(S,x,k){return this.delegate={iterator:C(S),resultName:x,nextLoc:k},this.method==="next"&&(this.arg=void 0),v}},s}(typeof r=="object"?r.exports:{});try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},{}],493:[function(i,r,n){var a=i("buffer").Buffer,s=i("inherits"),o=i("hash-base"),l=new Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0];function g(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(N,z){return N<<z|N>>>32-z}function v(N,z,F,$,j,q,H,A){return m(N+(z^F^$)+q+H|0,A)+j|0}function b(N,z,F,$,j,q,H,A){return m(N+(z&F|~z&$)+q+H|0,A)+j|0}function y(N,z,F,$,j,q,H,A){return m(N+((z|~F)^$)+q+H|0,A)+j|0}function I(N,z,F,$,j,q,H,A){return m(N+(z&$|F&~$)+q+H|0,A)+j|0}function D(N,z,F,$,j,q,H,A){return m(N+(z^(F|~$))+q+H|0,A)+j|0}s(g,o),g.prototype._update=function(){for(var N=l,z=0;z<16;++z)N[z]=this._block.readInt32LE(4*z);for(var F=0|this._a,$=0|this._b,j=0|this._c,q=0|this._d,H=0|this._e,A=0|this._a,T=0|this._b,E=0|this._c,C=0|this._d,w=0|this._e,S=0;S<80;S+=1){var x,k;S<16?(x=v(F,$,j,q,H,N[u[S]],f[0],c[S]),k=D(A,T,E,C,w,N[d[S]],p[0],h[S])):S<32?(x=b(F,$,j,q,H,N[u[S]],f[1],c[S]),k=I(A,T,E,C,w,N[d[S]],p[1],h[S])):S<48?(x=y(F,$,j,q,H,N[u[S]],f[2],c[S]),k=y(A,T,E,C,w,N[d[S]],p[2],h[S])):S<64?(x=I(F,$,j,q,H,N[u[S]],f[3],c[S]),k=b(A,T,E,C,w,N[d[S]],p[3],h[S])):(x=D(F,$,j,q,H,N[u[S]],f[4],c[S]),k=v(A,T,E,C,w,N[d[S]],p[4],h[S])),F=H,H=q,q=m(j,10),j=$,$=x,A=w,w=C,C=m(E,10),E=T,T=k}var P=this._b+j+C|0;this._b=this._c+q+w|0,this._c=this._d+H+A|0,this._d=this._e+F+T|0,this._e=this._a+$+E|0,this._a=P},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var N=a.alloc?a.alloc(20):new a(20);return N.writeInt32LE(this._a,0),N.writeInt32LE(this._b,4),N.writeInt32LE(this._c,8),N.writeInt32LE(this._d,12),N.writeInt32LE(this._e,16),N},r.exports=g},{buffer:220,"hash-base":425,inherits:440}],494:[function(i,r,n){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var a=i("buffer"),s=a.Buffer;function o(u,d){for(var c in u)d[c]=u[c]}function l(u,d,c){return s(u,d,c)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?r.exports=a:(o(a,n),n.Buffer=l),l.prototype=Object.create(s.prototype),o(s,l),l.from=function(u,d,c){if(typeof u=="number")throw new TypeError("Argument must not be a number");return s(u,d,c)},l.alloc=function(u,d,c){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=s(u);return d!==void 0?typeof c=="string"?h.fill(d,c):h.fill(d):h.fill(0),h},l.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return s(u)},l.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(u)}},{buffer:220}],495:[function(i,r,n){(function(a){(function(){var s,o=i("buffer"),l=o.Buffer,u={};for(s in o)o.hasOwnProperty(s)&&s!=="SlowBuffer"&&s!=="Buffer"&&(u[s]=o[s]);var d=u.Buffer={};for(s in l)l.hasOwnProperty(s)&&s!=="allocUnsafe"&&s!=="allocUnsafeSlow"&&(d[s]=l[s]);if(u.Buffer.prototype=l.prototype,d.from&&d.from!==Uint8Array.from||(d.from=function(c,h,f){if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof c);if(c&&c.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);return l(c,h,f)}),d.alloc||(d.alloc=function(c,h,f){if(typeof c!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof c);if(c<0||c>=2*(1<<30))throw new RangeError('The value "'+c+'" is invalid for option "size"');var p=l(c);return h&&h.length!==0?typeof f=="string"?p.fill(h,f):p.fill(h):p.fill(0),p}),!u.kStringMaxLength)try{u.kStringMaxLength=a.binding("buffer").kStringMaxLength}catch{}u.constants||(u.constants={MAX_LENGTH:u.kMaxLength},u.kStringMaxLength&&(u.constants.MAX_STRING_LENGTH=u.kStringMaxLength)),r.exports=u}).call(this)}).call(this,i("_process"))},{_process:467,buffer:220}],496:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0});const a=i("xmlchars/xml/1.0/ed5"),s=i("xmlchars/xml/1.1/ed2"),o=i("xmlchars/xmlns/1.0/ed3");var l=a.isS,u=a.isChar,d=a.isNameStartChar,c=a.isNameChar,h=a.S_LIST,f=a.NAME_RE,p=s.isChar,g=o.isNCNameStartChar,m=o.isNCNameChar,v=o.NC_NAME_RE;const b="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",I={__proto__:null,xml:b,xmlns:y},D={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},N=C=>C===34||C===39,z=[34,39],F=[...z,91,62],$=[...z,60,93],j=[61,63,...h],q=[...h,62,38,60];function H(C,w,S){switch(w){case"xml":S!==b&&C.fail(`xml prefix must be bound to ${b}.`);break;case"xmlns":S!==y&&C.fail(`xmlns prefix must be bound to ${y}.`)}switch(S){case y:C.fail(w===""?`the default namespace may not be set to ${S}.`:`may not assign a prefix (even "xmlns") to the URI ${y}.`);break;case b:switch(w){case"xml":break;case"":C.fail(`the default namespace may not be set to ${S}.`);break;default:C.fail("may not assign the xml namespace to another prefix.")}}}const A=C=>v.test(C),T=C=>f.test(C);n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const E={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(C){this.opt=C??{},this.fragmentOpt=!!this.opt.fragment;const w=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,w){this.nameStartCheck=g,this.nameCheck=m,this.isName=A,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},I);const S=this.opt.additionalNamespaces;S!=null&&(function(x,k){for(const P of Object.keys(k))H(x,P,k[P])}(this,S),Object.assign(this.ns,S))}else this.nameStartCheck=d,this.nameCheck=c,this.isName=T,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var C;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:w}=this;this.state=w?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=w,this.xmlDeclPossible=!w,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:S}=this.opt;if(S===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");S="1.0"}this.setXMLVersion(S),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(D),(C=this.readyHandler)===null||C===void 0||C.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(C,w){this[E[C]]=w}off(C){this[E[C]]=void 0}makeError(C){var w;let S=(w=this.fileName)!==null&&w!==void 0?w:"";return this.trackPosition&&(S.length>0&&(S+=":"),S+=`${this.line}:${this.column}`),S.length>0&&(S+=": "),new Error(S+C)}fail(C){const w=this.makeError(C),S=this.errorHandler;if(S===void 0)throw w;return S(w),this}write(C){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let w=!1;C===null?(w=!0,C=""):typeof C=="object"&&(C=C.toString()),this.carriedFromPrevious!==void 0&&(C=`${this.carriedFromPrevious}${C}`,this.carriedFromPrevious=void 0);let S=C.length;const x=C.charCodeAt(S-1);!w&&(x===13||x>=55296&&x<=56319)&&(this.carriedFromPrevious=C[S-1],S--,C=C.slice(0,S));const{stateTable:k}=this;for(this.chunk=C,this.i=0;this.i<S;)k[this.state].call(this);return this.chunkPosition+=S,w?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:C,i:w}=this;if(this.prevI=w,this.i=w+1,w>=C.length)return-1;const S=C.charCodeAt(w);if(this.column++,S<55296){if(S>=32||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return C.charCodeAt(w+1)===10&&(this.i=w+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const x=65536+1024*(S-55296)+(C.charCodeAt(w+1)-56320);return this.i=w+2,x>1114111&&this.fail("disallowed character."),x}getCode11(){const{chunk:C,i:w}=this;if(this.prevI=w,this.i=w+1,w>=C.length)return-1;const S=C.charCodeAt(w);if(this.column++,S<55296){if(S>31&&S<127||S>159&&S!==8232||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const k=C.charCodeAt(w+1);k!==10&&k!==133||(this.i=w+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const x=65536+1024*(S-55296)+(C.charCodeAt(w+1)-56320);return this.i=w+2,x>1114111&&this.fail("disallowed character."),x}getCodeNorm(){const C=this.getCode();return C===-2?10:C}unget(){this.i=this.prevI,this.column--}captureTo(C){let{i:w}=this;const{chunk:S}=this;for(;;){const x=this.getCode(),k=x===-2,P=k?10:x;if(P===-1||C.includes(P))return this.text+=S.slice(w,this.prevI),P;k&&(this.text+=S.slice(w,this.prevI)+`
`,w=this.i)}}captureToChar(C){let{i:w}=this;const{chunk:S}=this;for(;;){let x=this.getCode();switch(x){case-2:this.text+=S.slice(w,this.prevI)+`
`,w=this.i,x=10;break;case-1:return this.text+=S.slice(w),!1}if(x===C)return this.text+=S.slice(w,this.prevI),!0}}captureNameChars(){const{chunk:C,i:w}=this;for(;;){const S=this.getCode();if(S===-1)return this.name+=C.slice(w),-1;if(!c(S))return this.name+=C.slice(w,this.prevI),S===-2?10:S}}skipSpaces(){for(;;){const C=this.getCodeNorm();if(C===-1||!l(C))return C}}setXMLVersion(C){this.currentXMLVersion=C,C==="1.0"?(this.isChar=u,this.getCode=this.getCode10):(this.isChar=p,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const C=this.i,w=this.skipSpaces();switch(this.prevI!==C&&(this.xmlDeclPossible=!1),w){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var C;const w=this.captureTo(F);switch(w){case 62:(C=this.doctypeHandler)===null||C===void 0||C.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(w),w===91?this.state=4:N(w)&&(this.state=3,this.q=w)}}sDoctypeQuote(){const C=this.q;this.captureToChar(C)&&(this.text+=String.fromCodePoint(C),this.q=null,this.state=2)}sDTD(){const C=this.captureTo($);C!==-1&&(this.text+=String.fromCodePoint(C),C===93?this.state=2:C===60?this.state=6:N(C)&&(this.state=5,this.q=C))}sDTDQuoted(){const C=this.q;this.captureToChar(C)&&(this.text+=String.fromCodePoint(C),this.state=4,this.q=null)}sDTDOpenWaka(){const C=this.getCodeNorm();switch(this.text+=String.fromCodePoint(C),C){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const C=String.fromCodePoint(this.getCodeNorm()),w=this.openWakaBang+=C;this.text+=C,w!=="-"&&(this.state=w==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const C=this.getCodeNorm();this.text+=String.fromCodePoint(C),this.state=C===45?10:8}sDTDCommentEnded(){const C=this.getCodeNorm();this.text+=String.fromCodePoint(C),C===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const C=this.getCodeNorm();this.text+=String.fromCodePoint(C),C===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:C}=this;const{chunk:w}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=w.slice(C,this.prevI)+`
`,C=this.i;break;case 59:{const{entityReturnState:S}=this,x=this.entity+w.slice(C,this.prevI);let k;this.state=S,x===""?(this.fail("empty entity name."),k="&;"):(k=this.parseEntity(x),this.entity=""),S===13&&this.textHandler===void 0||(this.text+=k);break e}case-1:this.entity+=w.slice(C);break e}}sOpenWaka(){const C=this.getCode();if(d(C))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(C){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var C;const w=this.getCodeNorm();w===45?(this.state=19,(C=this.commentHandler)===null||C===void 0||C.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(w),this.state=17)}sCommentEnded(){const C=this.getCodeNorm();C!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(C),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const C=this.getCodeNorm();C===93?this.state=22:(this.text+="]"+String.fromCodePoint(C),this.state=20)}sCDataEnding2(){var C;const w=this.getCodeNorm();switch(w){case 62:(C=this.cdataHandler)===null||C===void 0||C.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(w),this.state=20}}sPIFirstChar(){const C=this.getCodeNorm();this.nameStartCheck(C)?(this.piTarget+=String.fromCodePoint(C),this.state=24):C===63||l(C)?(this.fail("processing instruction without a target."),this.state=C===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(C),this.state=24)}sPIRest(){const{chunk:C,i:w}=this;for(;;){const S=this.getCodeNorm();if(S===-1)return void(this.piTarget+=C.slice(w));if(!this.nameCheck(S)){this.piTarget+=C.slice(w,this.prevI);const x=S===63;x||l(S)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=x?33:27):this.state=x?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(S));break}}}sPIBody(){if(this.text.length===0){const C=this.getCodeNorm();C===63?this.state=26:l(C)||(this.text=String.fromCodePoint(C))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var C;const w=this.getCodeNorm();if(w===62){const{piTarget:S}=this;S.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(C=this.piHandler)===null||C===void 0||C.call(this,{target:S,body:this.text}),this.piTarget=this.text="",this.state=13}else w===63?this.text+="?":(this.text+="?"+String.fromCodePoint(w),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const C=this.skipSpaces();C!==63?C!==-1&&(this.state=28,this.name=String.fromCodePoint(C)):this.state=33}sXMLDeclName(){const C=this.captureTo(j);if(C===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(C)||C===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=C===61?30:29}}sXMLDeclEq(){const C=this.getCodeNorm();if(C===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(C)||(C!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const C=this.getCodeNorm();if(C===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(C)||(N(C)?this.q=C:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const C=this.captureTo([this.q,63]);if(C===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(C===-1)return;const w=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const S=w;this.xmlDecl.version=S,/^1\.[0-9]+$/.test(S)?this.opt.forceXMLVersion||this.setXMLVersion(S):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(w)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=w;break;case"standalone":w!=="yes"&&w!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=w}this.name="",this.state=32}sXMLDeclSeparator(){const C=this.getCodeNorm();C!==63?(l(C)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var C;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(C=this.xmldeclHandler)===null||C===void 0||C.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var C;const w=this.captureNameChars();if(w===-1)return;const S=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=S.ns=Object.create(null)),(C=this.openTagStartHandler)===null||C===void 0||C.call(this,S),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),w){case 62:this.openTag();break;case 47:this.state=35;break;default:l(w)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const C=this.skipSpaces();C!==-1&&(d(C)?(this.unget(),this.state=37):C===62?this.openTag():C===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const C=this.captureNameChars();C===61?this.state=39:l(C)?this.state=38:C===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):C!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const C=this.skipSpaces();switch(C){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",C===62?this.openTag():d(C)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const C=this.getCodeNorm();N(C)?(this.q=C,this.state=40):l(C)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:C,chunk:w}=this;let{i:S}=this;for(;;)switch(this.getCode()){case C:return this.pushAttrib(this.name,this.text+w.slice(S,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=w.slice(S,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=w.slice(S,this.prevI)+" ",S=this.i;break;case 60:return this.text+=w.slice(S,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=w.slice(S))}}sAttribValueClosed(){const C=this.getCodeNorm();l(C)?this.state=36:C===62?this.openTag():C===47?this.state=35:d(C)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const C=this.captureTo(q);switch(C){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",C===62?this.openTag():this.state=36}}sCloseTag(){const C=this.captureNameChars();C===62?this.closeTag():l(C)?this.state=44:C!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:C,forbiddenState:w}=this;const{chunk:S,textHandler:x}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,x!==void 0){const{text:k}=this,P=S.slice(C,this.prevI);k.length!==0?(x(k+P),this.text=""):P.length!==0&&x(P)}w=0;break e;case 38:this.state=14,this.entityReturnState=13,x!==void 0&&(this.text+=S.slice(C,this.prevI)),w=0;break e;case 93:switch(w){case 0:w=1;break;case 1:w=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:w===2&&this.fail('the string "]]>" is disallowed in char data.'),w=0;break;case-2:x!==void 0&&(this.text+=S.slice(C,this.prevI)+`
`),C=this.i,w=0;break;case-1:x!==void 0&&(this.text+=S.slice(C));break e;default:w=0}this.forbiddenState=w}handleTextOutsideRoot(){let{i:C}=this;const{chunk:w,textHandler:S}=this;let x=!1;e:for(;;){const k=this.getCode();switch(k){case 60:if(this.state=15,S!==void 0){const{text:P}=this,O=w.slice(C,this.prevI);P.length!==0?(S(P+O),this.text=""):O.length!==0&&S(O)}break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=w.slice(C,this.prevI)),x=!0;break e;case-2:S!==void 0&&(this.text+=w.slice(C,this.prevI)+`
`),C=this.i;break;case-1:S!==void 0&&(this.text+=w.slice(C));break e;default:l(k)||(x=!0)}}x&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(C,w){var S;const{prefix:x,local:k}=this.qname(C),P={name:C,prefix:x,local:k,value:w};if(this.attribList.push(P),(S=this.attributeHandler)===null||S===void 0||S.call(this,P),x==="xmlns"){const O=w.trim();this.currentXMLVersion==="1.0"&&O===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[k]=O,H(this,k,O)}else if(C==="xmlns"){const O=w.trim();this.topNS[""]=O,H(this,"",O)}}pushAttribPlain(C,w){var S;const x={name:C,value:w};this.attribList.push(x),(S=this.attributeHandler)===null||S===void 0||S.call(this,x)}end(){var C,w;this.sawRoot||this.fail("document must contain a root element.");const{tags:S}=this;for(;S.length>0;){const k=S.pop();this.fail("unclosed tag: "+k.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:x}=this;return x.length!==0&&((C=this.textHandler)===null||C===void 0||C.call(this,x),this.text=""),this._closed=!0,(w=this.endHandler)===null||w===void 0||w.call(this),this._init(),this}resolve(C){var w,S;let x=this.topNS[C];if(x!==void 0)return x;const{tags:k}=this;for(let P=k.length-1;P>=0;P--)if(x=k[P].ns[C],x!==void 0)return x;return x=this.ns[C],x!==void 0?x:(S=(w=this.opt).resolvePrefix)===null||S===void 0?void 0:S.call(w,C)}qname(C){const w=C.indexOf(":");if(w===-1)return{prefix:"",local:C};const S=C.slice(w+1),x=C.slice(0,w);return(x===""||S===""||S.includes(":"))&&this.fail(`malformed name: ${C}.`),{prefix:x,local:S}}processAttribsNS(){var C;const{attribList:w}=this,S=this.tag;{const{prefix:P,local:O}=this.qname(S.name);S.prefix=P,S.local=O;const L=S.uri=(C=this.resolve(P))!==null&&C!==void 0?C:"";P!==""&&(P==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),L===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(P)}.`),S.uri=P))}if(w.length===0)return;const{attributes:x}=S,k=new Set;for(const P of w){const{name:O,prefix:L,local:V}=P;let X,B;L===""?(X=O==="xmlns"?y:"",B=O):(X=this.resolve(L),X===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(L)}.`),X=L),B=`{${X}}${V}`),k.has(B)&&this.fail(`duplicate attribute: ${B}.`),k.add(B),P.uri=X,x[O]=P}this.attribList=[]}processAttribsPlain(){const{attribList:C}=this,w=this.tag.attributes;for(const{name:S,value:x}of C)w[S]!==void 0&&this.fail(`duplicate attribute: ${S}.`),w[S]=x;this.attribList=[]}openTag(){var C;this.processAttribs();const{tags:w}=this,S=this.tag;S.isSelfClosing=!1,(C=this.openTagHandler)===null||C===void 0||C.call(this,S),w.push(S),this.state=13,this.name=""}openSelfClosingTag(){var C,w,S;this.processAttribs();const{tags:x}=this,k=this.tag;k.isSelfClosing=!0,(C=this.openTagHandler)===null||C===void 0||C.call(this,k),(w=this.closeTagHandler)===null||w===void 0||w.call(this,k),(this.tag=(S=x[x.length-1])!==null&&S!==void 0?S:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:C,name:w}=this;if(this.state=13,this.name="",w==="")return this.fail("weird empty close tag."),void(this.text+="</>");const S=this.closeTagHandler;let x=C.length;for(;x-- >0;){const k=this.tag=C.pop();if(this.topNS=k.ns,S==null||S(k),k.name===w)break;this.fail("unexpected close tag.")}x===0?this.closedRoot=!0:x<0&&(this.fail(`unmatched closing tag: ${w}.`),this.text+=`</${w}>`)}parseEntity(C){if(C[0]!=="#"){const S=this.ENTITIES[C];return S!==void 0?S:(this.fail(this.isName(C)?"undefined entity.":"disallowed character in entity name."),`&${C};`)}let w=NaN;return C[1]==="x"&&/^#x[0-9a-f]+$/i.test(C)?w=parseInt(C.slice(2),16):/^#[0-9]+$/.test(C)&&(w=parseInt(C.slice(1),10)),this.isChar(w)?String.fromCodePoint(w):(this.fail("malformed character entity."),`&${C};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(i,r,n){var a=i("safe-buffer").Buffer;function s(o,l){this._block=a.alloc(o),this._finalSize=l,this._blockSize=o,this._len=0}s.prototype.update=function(o,l){typeof o=="string"&&(l=l||"utf8",o=a.from(o,l));for(var u=this._block,d=this._blockSize,c=o.length,h=this._len,f=0;f<c;){for(var p=h%d,g=Math.min(c-f,d-p),m=0;m<g;m++)u[p+m]=o[f+m];f+=g,(h+=g)%d==0&&this._update(u)}return this._len+=c,this},s.prototype.digest=function(o){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var u=8*this._len;if(u<=4294967295)this._block.writeUInt32BE(u,this._blockSize-4);else{var d=(4294967295&u)>>>0,c=(u-d)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(d,this._blockSize-4)}this._update(this._block);var h=this._hash();return o?h.toString(o):h},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},r.exports=s},{"safe-buffer":494}],498:[function(i,r,n){var a=r.exports=function(s){s=s.toLowerCase();var o=a[s];if(!o)throw new Error(s+" is not supported (we accept pull requests)");return new o};a.sha=i("./sha"),a.sha1=i("./sha1"),a.sha224=i("./sha224"),a.sha256=i("./sha256"),a.sha384=i("./sha384"),a.sha512=i("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(i,r,n){var a=i("inherits"),s=i("./hash"),o=i("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function d(){this.init(),this._w=u,s.call(this,64,56)}function c(f){return f<<30|f>>>2}function h(f,p,g,m){return f===0?p&g|~p&m:f===2?p&g|p&m|g&m:p^g^m}a(d,s),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(f){for(var p,g=this._w,m=0|this._a,v=0|this._b,b=0|this._c,y=0|this._d,I=0|this._e,D=0;D<16;++D)g[D]=f.readInt32BE(4*D);for(;D<80;++D)g[D]=g[D-3]^g[D-8]^g[D-14]^g[D-16];for(var N=0;N<80;++N){var z=~~(N/20),F=0|((p=m)<<5|p>>>27)+h(z,v,b,y)+I+g[N]+l[z];I=y,y=b,b=c(v),v=m,m=F}this._a=m+this._a|0,this._b=v+this._b|0,this._c=b+this._c|0,this._d=y+this._d|0,this._e=I+this._e|0},d.prototype._hash=function(){var f=o.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},r.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(i,r,n){var a=i("inherits"),s=i("./hash"),o=i("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function d(){this.init(),this._w=u,s.call(this,64,56)}function c(p){return p<<5|p>>>27}function h(p){return p<<30|p>>>2}function f(p,g,m,v){return p===0?g&m|~g&v:p===2?g&m|g&v|m&v:g^m^v}a(d,s),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(p){for(var g,m=this._w,v=0|this._a,b=0|this._b,y=0|this._c,I=0|this._d,D=0|this._e,N=0;N<16;++N)m[N]=p.readInt32BE(4*N);for(;N<80;++N)m[N]=(g=m[N-3]^m[N-8]^m[N-14]^m[N-16])<<1|g>>>31;for(var z=0;z<80;++z){var F=~~(z/20),$=c(v)+f(F,b,y,I)+D+m[z]+l[F]|0;D=I,I=y,y=h(b),b=v,v=$}this._a=v+this._a|0,this._b=b+this._b|0,this._c=y+this._c|0,this._d=I+this._d|0,this._e=D+this._e|0},d.prototype._hash=function(){var p=o.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p},r.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(i,r,n){var a=i("inherits"),s=i("./sha256"),o=i("./hash"),l=i("safe-buffer").Buffer,u=new Array(64);function d(){this.init(),this._w=u,o.call(this,64,56)}a(d,s),d.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},d.prototype._hash=function(){var c=l.allocUnsafe(28);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c},r.exports=d},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(i,r,n){var a=i("inherits"),s=i("./hash"),o=i("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=new Array(64);function d(){this.init(),this._w=u,s.call(this,64,56)}function c(m,v,b){return b^m&(v^b)}function h(m,v,b){return m&v|b&(m|v)}function f(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function p(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function g(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}a(d,s),d.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},d.prototype._update=function(m){for(var v,b=this._w,y=0|this._a,I=0|this._b,D=0|this._c,N=0|this._d,z=0|this._e,F=0|this._f,$=0|this._g,j=0|this._h,q=0;q<16;++q)b[q]=m.readInt32BE(4*q);for(;q<64;++q)b[q]=0|(((v=b[q-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+b[q-7]+g(b[q-15])+b[q-16];for(var H=0;H<64;++H){var A=j+p(z)+c(z,F,$)+l[H]+b[H]|0,T=f(y)+h(y,I,D)|0;j=$,$=F,F=z,z=N+A|0,N=D,D=I,I=y,y=A+T|0}this._a=y+this._a|0,this._b=I+this._b|0,this._c=D+this._c|0,this._d=N+this._d|0,this._e=z+this._e|0,this._f=F+this._f|0,this._g=$+this._g|0,this._h=j+this._h|0},d.prototype._hash=function(){var m=o.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},r.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(i,r,n){var a=i("inherits"),s=i("./sha512"),o=i("./hash"),l=i("safe-buffer").Buffer,u=new Array(160);function d(){this.init(),this._w=u,o.call(this,128,112)}a(d,s),d.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},d.prototype._hash=function(){var c=l.allocUnsafe(48);function h(f,p,g){c.writeInt32BE(f,g),c.writeInt32BE(p,g+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),c},r.exports=d},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(i,r,n){var a=i("inherits"),s=i("./hash"),o=i("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);function d(){this.init(),this._w=u,s.call(this,128,112)}function c(I,D,N){return N^I&(D^N)}function h(I,D,N){return I&D|N&(I|D)}function f(I,D){return(I>>>28|D<<4)^(D>>>2|I<<30)^(D>>>7|I<<25)}function p(I,D){return(I>>>14|D<<18)^(I>>>18|D<<14)^(D>>>9|I<<23)}function g(I,D){return(I>>>1|D<<31)^(I>>>8|D<<24)^I>>>7}function m(I,D){return(I>>>1|D<<31)^(I>>>8|D<<24)^(I>>>7|D<<25)}function v(I,D){return(I>>>19|D<<13)^(D>>>29|I<<3)^I>>>6}function b(I,D){return(I>>>19|D<<13)^(D>>>29|I<<3)^(I>>>6|D<<26)}function y(I,D){return I>>>0<D>>>0?1:0}a(d,s),d.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},d.prototype._update=function(I){for(var D=this._w,N=0|this._ah,z=0|this._bh,F=0|this._ch,$=0|this._dh,j=0|this._eh,q=0|this._fh,H=0|this._gh,A=0|this._hh,T=0|this._al,E=0|this._bl,C=0|this._cl,w=0|this._dl,S=0|this._el,x=0|this._fl,k=0|this._gl,P=0|this._hl,O=0;O<32;O+=2)D[O]=I.readInt32BE(4*O),D[O+1]=I.readInt32BE(4*O+4);for(;O<160;O+=2){var L=D[O-30],V=D[O-30+1],X=g(L,V),B=m(V,L),K=v(L=D[O-4],V=D[O-4+1]),R=b(V,L),M=D[O-14],G=D[O-14+1],Q=D[O-32],ne=D[O-32+1],ie=B+G|0,U=X+M+y(ie,B)|0;U=(U=U+K+y(ie=ie+R|0,R)|0)+Q+y(ie=ie+ne|0,ne)|0,D[O]=U,D[O+1]=ie}for(var se=0;se<160;se+=2){U=D[se],ie=D[se+1];var ae=h(N,z,F),Y=h(T,E,C),J=f(N,T),ee=f(T,N),ue=p(j,S),de=p(S,j),oe=l[se],ce=l[se+1],ge=c(j,q,H),ve=c(S,x,k),Se=P+de|0,ke=A+ue+y(Se,P)|0;ke=(ke=(ke=ke+ge+y(Se=Se+ve|0,ve)|0)+oe+y(Se=Se+ce|0,ce)|0)+U+y(Se=Se+ie|0,ie)|0;var Ae=ee+Y|0,Xe=J+ae+y(Ae,ee)|0;A=H,P=k,H=q,k=x,q=j,x=S,j=$+ke+y(S=w+Se|0,w)|0,$=F,w=C,F=z,C=E,z=N,E=T,N=ke+Xe+y(T=Se+Ae|0,Se)|0}this._al=this._al+T|0,this._bl=this._bl+E|0,this._cl=this._cl+C|0,this._dl=this._dl+w|0,this._el=this._el+S|0,this._fl=this._fl+x|0,this._gl=this._gl+k|0,this._hl=this._hl+P|0,this._ah=this._ah+N+y(this._al,T)|0,this._bh=this._bh+z+y(this._bl,E)|0,this._ch=this._ch+F+y(this._cl,C)|0,this._dh=this._dh+$+y(this._dl,w)|0,this._eh=this._eh+j+y(this._el,S)|0,this._fh=this._fh+q+y(this._fl,x)|0,this._gh=this._gh+H+y(this._gl,k)|0,this._hh=this._hh+A+y(this._hl,P)|0},d.prototype._hash=function(){var I=o.allocUnsafe(64);function D(N,z,F){I.writeInt32BE(N,F),I.writeInt32BE(z,F+4)}return D(this._ah,this._al,0),D(this._bh,this._bl,8),D(this._ch,this._cl,16),D(this._dh,this._dl,24),D(this._eh,this._el,32),D(this._fh,this._fl,40),D(this._gh,this._gl,48),D(this._hh,this._hl,56),I},r.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(i,r,n){r.exports=s;var a=i("events").EventEmitter;function s(){a.call(this)}i("inherits")(s,a),s.Readable=i("readable-stream/readable.js"),s.Writable=i("readable-stream/writable.js"),s.Duplex=i("readable-stream/duplex.js"),s.Transform=i("readable-stream/transform.js"),s.PassThrough=i("readable-stream/passthrough.js"),s.Stream=s,s.prototype.pipe=function(o,l){var u=this;function d(v){o.writable&&o.write(v)===!1&&u.pause&&u.pause()}function c(){u.readable&&u.resume&&u.resume()}u.on("data",d),o.on("drain",c),o._isStdio||l&&l.end===!1||(u.on("end",f),u.on("close",p));var h=!1;function f(){h||(h=!0,o.end())}function p(){h||(h=!0,typeof o.destroy=="function"&&o.destroy())}function g(v){if(m(),a.listenerCount(this,"error")===0)throw v}function m(){u.removeListener("data",d),o.removeListener("drain",c),u.removeListener("end",f),u.removeListener("close",p),u.removeListener("error",g),o.removeListener("error",g),u.removeListener("end",m),u.removeListener("close",m),o.removeListener("close",m)}return u.on("error",g),o.on("error",g),u.on("end",m),u.on("close",m),o.on("close",m),o.emit("pipe",u),o}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(i,r,n){var a={}.toString;r.exports=Array.isArray||function(s){return a.call(s)=="[object Array]"}},{}],507:[function(i,r,n){r.exports=i("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(i,r,n){var a=i("process-nextick-args"),s=Object.keys||function(m){var v=[];for(var b in m)v.push(b);return v};r.exports=f;var o=Object.create(i("core-util-is"));o.inherits=i("inherits");var l=i("./_stream_readable"),u=i("./_stream_writable");o.inherits(f,l);for(var d=s(u.prototype),c=0;c<d.length;c++){var h=d[c];f.prototype[h]||(f.prototype[h]=u.prototype[h])}function f(m){if(!(this instanceof f))return new f(m);l.call(this,m),u.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||a.nextTick(g,this)}function g(m){m.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),f.prototype._destroy=function(m,v){this.push(null),this.end(),a.nextTick(v,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(i,r,n){r.exports=o;var a=i("./_stream_transform"),s=Object.create(i("core-util-is"));function o(l){if(!(this instanceof o))return new o(l);a.call(this,l)}s.inherits=i("inherits"),s.inherits(o,a),o.prototype._transform=function(l,u,d){d(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(i,r,n){(function(a,s){(function(){var o=i("process-nextick-args");r.exports=N;var l,u=i("isarray");N.ReadableState=D,i("events").EventEmitter;var d=function(P,O){return P.listeners(O).length},c=i("./internal/streams/stream"),h=i("safe-buffer").Buffer,f=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p=Object.create(i("core-util-is"));p.inherits=i("inherits");var g=i("util"),m=void 0;m=g&&g.debuglog?g.debuglog("stream"):function(){};var v,b=i("./internal/streams/BufferList"),y=i("./internal/streams/destroy");p.inherits(N,c);var I=["error","close","destroy","pause","resume"];function D(P,O){P=P||{};var L=O instanceof(l=l||i("./_stream_duplex"));this.objectMode=!!P.objectMode,L&&(this.objectMode=this.objectMode||!!P.readableObjectMode);var V=P.highWaterMark,X=P.readableHighWaterMark,B=this.objectMode?16:16384;this.highWaterMark=V||V===0?V:L&&(X||X===0)?X:B,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(v||(v=i("string_decoder/").StringDecoder),this.decoder=new v(P.encoding),this.encoding=P.encoding)}function N(P){if(l=l||i("./_stream_duplex"),!(this instanceof N))return new N(P);this._readableState=new D(P,this),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),c.call(this)}function z(P,O,L,V,X){var B,K=P._readableState;return O===null?(K.reading=!1,function(R,M){if(!M.ended){if(M.decoder){var G=M.decoder.end();G&&G.length&&(M.buffer.push(G),M.length+=M.objectMode?1:G.length)}M.ended=!0,j(R)}}(P,K)):(X||(B=function(R,M){var G;Q=M,h.isBuffer(Q)||Q instanceof f||typeof M=="string"||M===void 0||R.objectMode||(G=new TypeError("Invalid non-string/buffer chunk"));var Q;return G}(K,O)),B?P.emit("error",B):K.objectMode||O&&O.length>0?(typeof O=="string"||K.objectMode||Object.getPrototypeOf(O)===h.prototype||(O=function(R){return h.from(R)}(O)),V?K.endEmitted?P.emit("error",new Error("stream.unshift() after end event")):F(P,K,O,!0):K.ended?P.emit("error",new Error("stream.push() after EOF")):(K.reading=!1,K.decoder&&!L?(O=K.decoder.write(O),K.objectMode||O.length!==0?F(P,K,O,!1):H(P,K)):F(P,K,O,!1))):V||(K.reading=!1)),function(R){return!R.ended&&(R.needReadable||R.length<R.highWaterMark||R.length===0)}(K)}function F(P,O,L,V){O.flowing&&O.length===0&&!O.sync?(P.emit("data",L),P.read(0)):(O.length+=O.objectMode?1:L.length,V?O.buffer.unshift(L):O.buffer.push(L),O.needReadable&&j(P)),H(P,O)}Object.defineProperty(N.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(P){this._readableState&&(this._readableState.destroyed=P)}}),N.prototype.destroy=y.destroy,N.prototype._undestroy=y.undestroy,N.prototype._destroy=function(P,O){this.push(null),O(P)},N.prototype.push=function(P,O){var L,V=this._readableState;return V.objectMode?L=!0:typeof P=="string"&&((O=O||V.defaultEncoding)!==V.encoding&&(P=h.from(P,O),O=""),L=!0),z(this,P,O,!1,L)},N.prototype.unshift=function(P){return z(this,P,null,!0,!1)},N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function(P){return v||(v=i("string_decoder/").StringDecoder),this._readableState.decoder=new v(P),this._readableState.encoding=P,this};function $(P,O){return P<=0||O.length===0&&O.ended?0:O.objectMode?1:P!=P?O.flowing&&O.length?O.buffer.head.data.length:O.length:(P>O.highWaterMark&&(O.highWaterMark=function(L){return L>=8388608?L=8388608:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}(P)),P<=O.length?P:O.ended?O.length:(O.needReadable=!0,0))}function j(P){var O=P._readableState;O.needReadable=!1,O.emittedReadable||(m("emitReadable",O.flowing),O.emittedReadable=!0,O.sync?o.nextTick(q,P):q(P))}function q(P){m("emit readable"),P.emit("readable"),C(P)}function H(P,O){O.readingMore||(O.readingMore=!0,o.nextTick(A,P,O))}function A(P,O){for(var L=O.length;!O.reading&&!O.flowing&&!O.ended&&O.length<O.highWaterMark&&(m("maybeReadMore read 0"),P.read(0),L!==O.length);)L=O.length;O.readingMore=!1}function T(P){m("readable nexttick read 0"),P.read(0)}function E(P,O){O.reading||(m("resume read 0"),P.read(0)),O.resumeScheduled=!1,O.awaitDrain=0,P.emit("resume"),C(P),O.flowing&&!O.reading&&P.read(0)}function C(P){var O=P._readableState;for(m("flow",O.flowing);O.flowing&&P.read()!==null;);}function w(P,O){return O.length===0?null:(O.objectMode?L=O.buffer.shift():!P||P>=O.length?(L=O.decoder?O.buffer.join(""):O.buffer.length===1?O.buffer.head.data:O.buffer.concat(O.length),O.buffer.clear()):L=function(V,X,B){var K;return V<X.head.data.length?(K=X.head.data.slice(0,V),X.head.data=X.head.data.slice(V)):K=V===X.head.data.length?X.shift():B?function(R,M){var G=M.head,Q=1,ne=G.data;for(R-=ne.length;G=G.next;){var ie=G.data,U=R>ie.length?ie.length:R;if(U===ie.length?ne+=ie:ne+=ie.slice(0,R),(R-=U)===0){U===ie.length?(++Q,G.next?M.head=G.next:M.head=M.tail=null):(M.head=G,G.data=ie.slice(U));break}++Q}return M.length-=Q,ne}(V,X):function(R,M){var G=h.allocUnsafe(R),Q=M.head,ne=1;for(Q.data.copy(G),R-=Q.data.length;Q=Q.next;){var ie=Q.data,U=R>ie.length?ie.length:R;if(ie.copy(G,G.length-R,0,U),(R-=U)===0){U===ie.length?(++ne,Q.next?M.head=Q.next:M.head=M.tail=null):(M.head=Q,Q.data=ie.slice(U));break}++ne}return M.length-=ne,G}(V,X),K}(P,O.buffer,O.decoder),L);var L}function S(P){var O=P._readableState;if(O.length>0)throw new Error('"endReadable()" called on non-empty stream');O.endEmitted||(O.ended=!0,o.nextTick(x,O,P))}function x(P,O){P.endEmitted||P.length!==0||(P.endEmitted=!0,O.readable=!1,O.emit("end"))}function k(P,O){for(var L=0,V=P.length;L<V;L++)if(P[L]===O)return L;return-1}N.prototype.read=function(P){m("read",P),P=parseInt(P,10);var O=this._readableState,L=P;if(P!==0&&(O.emittedReadable=!1),P===0&&O.needReadable&&(O.length>=O.highWaterMark||O.ended))return m("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?S(this):j(this),null;if((P=$(P,O))===0&&O.ended)return O.length===0&&S(this),null;var V,X=O.needReadable;return m("need readable",X),(O.length===0||O.length-P<O.highWaterMark)&&m("length less than watermark",X=!0),O.ended||O.reading?m("reading or ended",X=!1):X&&(m("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(P=$(L,O))),(V=P>0?w(P,O):null)===null?(O.needReadable=!0,P=0):O.length-=P,O.length===0&&(O.ended||(O.needReadable=!0),L!==P&&O.ended&&S(this)),V!==null&&this.emit("data",V),V},N.prototype._read=function(P){this.emit("error",new Error("_read() is not implemented"))},N.prototype.pipe=function(P,O){var L=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=P;break;case 1:V.pipes=[V.pipes,P];break;default:V.pipes.push(P)}V.pipesCount+=1,m("pipe count=%d opts=%j",V.pipesCount,O);var X=(!O||O.end!==!1)&&P!==a.stdout&&P!==a.stderr?K:se;function B(ae,Y){m("onunpipe"),ae===L&&Y&&Y.hasUnpiped===!1&&(Y.hasUnpiped=!0,m("cleanup"),P.removeListener("close",ie),P.removeListener("finish",U),P.removeListener("drain",R),P.removeListener("error",ne),P.removeListener("unpipe",B),L.removeListener("end",K),L.removeListener("end",se),L.removeListener("data",Q),M=!0,!V.awaitDrain||P._writableState&&!P._writableState.needDrain||R())}function K(){m("onend"),P.end()}V.endEmitted?o.nextTick(X):L.once("end",X),P.on("unpipe",B);var R=function(ae){return function(){var Y=ae._readableState;m("pipeOnDrain",Y.awaitDrain),Y.awaitDrain&&Y.awaitDrain--,Y.awaitDrain===0&&d(ae,"data")&&(Y.flowing=!0,C(ae))}}(L);P.on("drain",R);var M=!1,G=!1;function Q(ae){m("ondata"),G=!1,P.write(ae)!==!1||G||((V.pipesCount===1&&V.pipes===P||V.pipesCount>1&&k(V.pipes,P)!==-1)&&!M&&(m("false write response, pause",V.awaitDrain),V.awaitDrain++,G=!0),L.pause())}function ne(ae){m("onerror",ae),se(),P.removeListener("error",ne),d(P,"error")===0&&P.emit("error",ae)}function ie(){P.removeListener("finish",U),se()}function U(){m("onfinish"),P.removeListener("close",ie),se()}function se(){m("unpipe"),L.unpipe(P)}return L.on("data",Q),function(ae,Y,J){if(typeof ae.prependListener=="function")return ae.prependListener(Y,J);ae._events&&ae._events[Y]?u(ae._events[Y])?ae._events[Y].unshift(J):ae._events[Y]=[J,ae._events[Y]]:ae.on(Y,J)}(P,"error",ne),P.once("close",ie),P.once("finish",U),P.emit("pipe",L),V.flowing||(m("pipe resume"),L.resume()),P},N.prototype.unpipe=function(P){var O=this._readableState,L={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return P&&P!==O.pipes||(P||(P=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,P&&P.emit("unpipe",this,L)),this;if(!P){var V=O.pipes,X=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var B=0;B<X;B++)V[B].emit("unpipe",this,{hasUnpiped:!1});return this}var K=k(O.pipes,P);return K===-1||(O.pipes.splice(K,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),P.emit("unpipe",this,L)),this},N.prototype.on=function(P,O){var L=c.prototype.on.call(this,P,O);if(P==="data")this._readableState.flowing!==!1&&this.resume();else if(P==="readable"){var V=this._readableState;V.endEmitted||V.readableListening||(V.readableListening=V.needReadable=!0,V.emittedReadable=!1,V.reading?V.length&&j(this):o.nextTick(T,this))}return L},N.prototype.addListener=N.prototype.on,N.prototype.resume=function(){var P=this._readableState;return P.flowing||(m("resume"),P.flowing=!0,function(O,L){L.resumeScheduled||(L.resumeScheduled=!0,o.nextTick(E,O,L))}(this,P)),this},N.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},N.prototype.wrap=function(P){var O=this,L=this._readableState,V=!1;for(var X in P.on("end",function(){if(m("wrapped end"),L.decoder&&!L.ended){var K=L.decoder.end();K&&K.length&&O.push(K)}O.push(null)}),P.on("data",function(K){m("wrapped data"),L.decoder&&(K=L.decoder.write(K)),L.objectMode&&K==null||(L.objectMode||K&&K.length)&&(O.push(K)||(V=!0,P.pause()))}),P)this[X]===void 0&&typeof P[X]=="function"&&(this[X]=function(K){return function(){return P[K].apply(P,arguments)}}(X));for(var B=0;B<I.length;B++)P.on(I[B],this.emit.bind(this,I[B]));return this._read=function(K){m("wrapped _read",K),V&&(V=!1,P.resume())},this},Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),N._fromList=w}).call(this)}).call(this,i("_process"),typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(i,r,n){r.exports=l;var a=i("./_stream_duplex"),s=Object.create(i("core-util-is"));function o(c,h){var f=this._transformState;f.transforming=!1;var p=f.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));f.writechunk=null,f.writecb=null,h!=null&&this.push(h),p(c);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function l(c){if(!(this instanceof l))return new l(c);a.call(this,c),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",u)}function u(){var c=this;typeof this._flush=="function"?this._flush(function(h,f){d(c,h,f)}):d(this,null,null)}function d(c,h,f){if(h)return c.emit("error",h);if(f!=null&&c.push(f),c._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(c._transformState.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}s.inherits=i("inherits"),s.inherits(l,a),l.prototype.push=function(c,h){return this._transformState.needTransform=!1,a.prototype.push.call(this,c,h)},l.prototype._transform=function(c,h,f){throw new Error("_transform() is not implemented")},l.prototype._write=function(c,h,f){var p=this._transformState;if(p.writecb=f,p.writechunk=c,p.writeencoding=h,!p.transforming){var g=this._readableState;(p.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},l.prototype._read=function(c){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},l.prototype._destroy=function(c,h){var f=this;a.prototype._destroy.call(this,c,function(p){h(p),f.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(i,r,n){(function(a,s,o){(function(){var l=i("process-nextick-args");function u(H){var A=this;this.next=null,this.entry=null,this.finish=function(){(function(T,E,C){var w=T.entry;for(T.entry=null;w;){var S=w.callback;E.pendingcb--,S(C),w=w.next}E.corkedRequestsFree.next=T})(A,H)}}r.exports=D;var d,c=!a.browser&&["v0.10","v0.9."].indexOf(a.version.slice(0,5))>-1?o:l.nextTick;D.WritableState=I;var h=Object.create(i("core-util-is"));h.inherits=i("inherits");var f={deprecate:i("util-deprecate")},p=i("./internal/streams/stream"),g=i("safe-buffer").Buffer,m=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,b=i("./internal/streams/destroy");function y(){}function I(H,A){d=d||i("./_stream_duplex"),H=H||{};var T=A instanceof d;this.objectMode=!!H.objectMode,T&&(this.objectMode=this.objectMode||!!H.writableObjectMode);var E=H.highWaterMark,C=H.writableHighWaterMark,w=this.objectMode?16:16384;this.highWaterMark=E||E===0?E:T&&(C||C===0)?C:w,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var S=H.decodeStrings===!1;this.decodeStrings=!S,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(x){(function(k,P){var O=k._writableState,L=O.sync,V=O.writecb;if(function(B){B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0}(O),P)(function(B,K,R,M,G){--K.pendingcb,R?(l.nextTick(G,M),l.nextTick(q,B,K),B._writableState.errorEmitted=!0,B.emit("error",M)):(G(M),B._writableState.errorEmitted=!0,B.emit("error",M),q(B,K))})(k,O,L,P,V);else{var X=$(O);X||O.corked||O.bufferProcessing||!O.bufferedRequest||F(k,O),L?c(z,k,O,X,V):z(k,O,X,V)}})(A,x)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function D(H){if(d=d||i("./_stream_duplex"),!(v.call(D,this)||this instanceof d))return new D(H);this._writableState=new I(H,this),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),p.call(this)}function N(H,A,T,E,C,w,S){A.writelen=E,A.writecb=S,A.writing=!0,A.sync=!0,T?H._writev(C,A.onwrite):H._write(C,w,A.onwrite),A.sync=!1}function z(H,A,T,E){T||function(C,w){w.length===0&&w.needDrain&&(w.needDrain=!1,C.emit("drain"))}(H,A),A.pendingcb--,E(),q(H,A)}function F(H,A){A.bufferProcessing=!0;var T=A.bufferedRequest;if(H._writev&&T&&T.next){var E=A.bufferedRequestCount,C=new Array(E),w=A.corkedRequestsFree;w.entry=T;for(var S=0,x=!0;T;)C[S]=T,T.isBuf||(x=!1),T=T.next,S+=1;C.allBuffers=x,N(H,A,!0,A.length,C,"",w.finish),A.pendingcb++,A.lastBufferedRequest=null,w.next?(A.corkedRequestsFree=w.next,w.next=null):A.corkedRequestsFree=new u(A),A.bufferedRequestCount=0}else{for(;T;){var k=T.chunk,P=T.encoding,O=T.callback;if(N(H,A,!1,A.objectMode?1:k.length,k,P,O),T=T.next,A.bufferedRequestCount--,A.writing)break}T===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=T,A.bufferProcessing=!1}function $(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function j(H,A){H._final(function(T){A.pendingcb--,T&&H.emit("error",T),A.prefinished=!0,H.emit("prefinish"),q(H,A)})}function q(H,A){var T=$(A);return T&&(function(E,C){C.prefinished||C.finalCalled||(typeof E._final=="function"?(C.pendingcb++,C.finalCalled=!0,l.nextTick(j,E,C)):(C.prefinished=!0,E.emit("prefinish")))}(H,A),A.pendingcb===0&&(A.finished=!0,H.emit("finish"))),T}h.inherits(D,p),I.prototype.getBuffer=function(){for(var H=this.bufferedRequest,A=[];H;)A.push(H),H=H.next;return A},function(){try{Object.defineProperty(I.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(H){return!!v.call(this,H)||this===D&&H&&H._writableState instanceof I}})):v=function(H){return H instanceof this},D.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},D.prototype.write=function(H,A,T){var E,C=this._writableState,w=!1,S=!C.objectMode&&(E=H,g.isBuffer(E)||E instanceof m);return S&&!g.isBuffer(H)&&(H=function(x){return g.from(x)}(H)),typeof A=="function"&&(T=A,A=null),S?A="buffer":A||(A=C.defaultEncoding),typeof T!="function"&&(T=y),C.ended?function(x,k){var P=new Error("write after end");x.emit("error",P),l.nextTick(k,P)}(this,T):(S||function(x,k,P,O){var L=!0,V=!1;return P===null?V=new TypeError("May not write null values to stream"):typeof P=="string"||P===void 0||k.objectMode||(V=new TypeError("Invalid non-string/buffer chunk")),V&&(x.emit("error",V),l.nextTick(O,V),L=!1),L}(this,C,H,T))&&(C.pendingcb++,w=function(x,k,P,O,L,V){if(!P){var X=function(M,G,Q){return M.objectMode||M.decodeStrings===!1||typeof G!="string"||(G=g.from(G,Q)),G}(k,O,L);O!==X&&(P=!0,L="buffer",O=X)}var B=k.objectMode?1:O.length;k.length+=B;var K=k.length<k.highWaterMark;if(K||(k.needDrain=!0),k.writing||k.corked){var R=k.lastBufferedRequest;k.lastBufferedRequest={chunk:O,encoding:L,isBuf:P,callback:V,next:null},R?R.next=k.lastBufferedRequest:k.bufferedRequest=k.lastBufferedRequest,k.bufferedRequestCount+=1}else N(x,k,!1,B,O,L,V);return K}(this,C,S,H,A,T)),w},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,H.writing||H.corked||H.bufferProcessing||!H.bufferedRequest||F(this,H))},D.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),D.prototype._write=function(H,A,T){T(new Error("_write() is not implemented"))},D.prototype._writev=null,D.prototype.end=function(H,A,T){var E=this._writableState;typeof H=="function"?(T=H,H=null,A=null):typeof A=="function"&&(T=A,A=null),H!=null&&this.write(H,A),E.corked&&(E.corked=1,this.uncork()),E.ending||function(C,w,S){w.ending=!0,q(C,w),S&&(w.finished?l.nextTick(S):C.once("finish",S)),w.ended=!0,C.writable=!1}(this,E,T)},Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),D.prototype.destroy=b.destroy,D.prototype._undestroy=b.undestroy,D.prototype._destroy=function(H,A){this.end(),A(H)}}).call(this)}).call(this,i("_process"),typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{},i("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(i,r,n){var a=i("safe-buffer").Buffer,s=i("util");r.exports=function(){function o(){(function(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(l){var u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},o.prototype.unshift=function(l){var u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},o.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(l){if(this.length===0)return"";for(var u=this.head,d=""+u.data;u=u.next;)d+=l+u.data;return d},o.prototype.concat=function(l){if(this.length===0)return a.alloc(0);for(var u,d,c,h=a.allocUnsafe(l>>>0),f=this.head,p=0;f;)u=f.data,d=h,c=p,u.copy(d,c),p+=f.data.length,f=f.next;return h},o}(),s&&s.inspect&&s.inspect.custom&&(r.exports.prototype[s.inspect.custom]=function(){var o=s.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":520,util:188}],514:[function(i,r,n){var a=i("process-nextick-args");function s(o,l){o.emit("error",l)}r.exports={destroy:function(o,l){var u=this,d=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return d||c?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(s,this,o)):a.nextTick(s,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!l&&h?u._writableState?u._writableState.errorEmitted||(u._writableState.errorEmitted=!0,a.nextTick(s,u,h)):a.nextTick(s,u,h):l&&l(h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(i,r,n){arguments[4][490][0].apply(n,arguments)},{dup:490,events:422}],516:[function(i,r,n){r.exports=i("./readable").PassThrough},{"./readable":517}],517:[function(i,r,n){(n=r.exports=i("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=i("./lib/_stream_writable.js"),n.Duplex=i("./lib/_stream_duplex.js"),n.Transform=i("./lib/_stream_transform.js"),n.PassThrough=i("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(i,r,n){r.exports=i("./readable").Transform},{"./readable":517}],519:[function(i,r,n){r.exports=i("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(i,r,n){arguments[4][217][0].apply(n,arguments)},{buffer:220,dup:217}],521:[function(i,r,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":520}],522:[function(i,r,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":494}],523:[function(i,r,n){(function(a,s){(function(){var o=i("process/browser.js").nextTick,l=Function.prototype.apply,u=Array.prototype.slice,d={},c=0;function h(f,p){this._id=f,this._clearFn=p}n.setTimeout=function(){return new h(l.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new h(l.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(f){f.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(f,p){clearTimeout(f._idleTimeoutId),f._idleTimeout=p},n.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},n._unrefActive=n.active=function(f){clearTimeout(f._idleTimeoutId);var p=f._idleTimeout;p>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},p))},n.setImmediate=typeof a=="function"?a:function(f){var p=c++,g=!(arguments.length<2)&&u.call(arguments,1);return d[p]=!0,o(function(){d[p]&&(g?f.apply(null,g):f.call(null),n.clearImmediate(p))}),p},n.clearImmediate=typeof s=="function"?s:function(f){delete d[f]}}).call(this)}).call(this,i("timers").setImmediate,i("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(i,r,n){(function(a){(function(){function s(o){try{if(!a.localStorage)return!1}catch{return!1}var l=a.localStorage[o];return l!=null&&String(l).toLowerCase()==="true"}r.exports=function(o,l){if(s("noDeprecation"))return o;var u=!1;return function(){if(!u){if(s("throwDeprecation"))throw new Error(l);s("traceDeprecation")?console.trace(l):console.warn(l),u=!0}return o.apply(this,arguments)}}}).call(this)}).call(this,typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(i,r,n){typeof Object.create=="function"?r.exports=function(a,s){a.super_=s,a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:r.exports=function(a,s){a.super_=s;var o=function(){};o.prototype=s.prototype,a.prototype=new o,a.prototype.constructor=a}},{}],526:[function(i,r,n){r.exports=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"}},{}],527:[function(i,r,n){(function(a,s){(function(){var o=/%[sdj%]/g;n.format=function(C){if(!I(C)){for(var w=[],S=0;S<arguments.length;S++)w.push(d(arguments[S]));return w.join(" ")}S=1;for(var x=arguments,k=x.length,P=String(C).replace(o,function(L){if(L==="%%")return"%";if(S>=k)return L;switch(L){case"%s":return String(x[S++]);case"%d":return Number(x[S++]);case"%j":try{return JSON.stringify(x[S++])}catch{return"[Circular]"}default:return L}}),O=x[S];S<k;O=x[++S])b(O)||!z(O)?P+=" "+O:P+=" "+d(O);return P},n.deprecate=function(C,w){if(D(s.process))return function(){return n.deprecate(C,w).apply(this,arguments)};if(a.noDeprecation===!0)return C;var S=!1;return function(){if(!S){if(a.throwDeprecation)throw new Error(w);a.traceDeprecation?console.trace(w):console.error(w),S=!0}return C.apply(this,arguments)}};var l,u={};function d(C,w){var S={seen:[],stylize:h};return arguments.length>=3&&(S.depth=arguments[2]),arguments.length>=4&&(S.colors=arguments[3]),v(w)?S.showHidden=w:w&&n._extend(S,w),D(S.showHidden)&&(S.showHidden=!1),D(S.depth)&&(S.depth=2),D(S.colors)&&(S.colors=!1),D(S.customInspect)&&(S.customInspect=!0),S.colors&&(S.stylize=c),f(S,C,S.depth)}function c(C,w){var S=d.styles[w];return S?"\x1B["+d.colors[S][0]+"m"+C+"\x1B["+d.colors[S][1]+"m":C}function h(C,w){return C}function f(C,w,S){if(C.customInspect&&w&&j(w.inspect)&&w.inspect!==n.inspect&&(!w.constructor||w.constructor.prototype!==w)){var x=w.inspect(S,C);return I(x)||(x=f(C,x,S)),x}var k=function(R,M){if(D(M))return R.stylize("undefined","undefined");if(I(M)){var G="'"+JSON.stringify(M).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return R.stylize(G,"string")}if(y(M))return R.stylize(""+M,"number");if(v(M))return R.stylize(""+M,"boolean");if(b(M))return R.stylize("null","null")}(C,w);if(k)return k;var P=Object.keys(w),O=function(R){var M={};return R.forEach(function(G,Q){M[G]=!0}),M}(P);if(C.showHidden&&(P=Object.getOwnPropertyNames(w)),$(w)&&(P.indexOf("message")>=0||P.indexOf("description")>=0))return p(w);if(P.length===0){if(j(w)){var L=w.name?": "+w.name:"";return C.stylize("[Function"+L+"]","special")}if(N(w))return C.stylize(RegExp.prototype.toString.call(w),"regexp");if(F(w))return C.stylize(Date.prototype.toString.call(w),"date");if($(w))return p(w)}var V,X="",B=!1,K=["{","}"];return m(w)&&(B=!0,K=["[","]"]),j(w)&&(X=" [Function"+(w.name?": "+w.name:"")+"]"),N(w)&&(X=" "+RegExp.prototype.toString.call(w)),F(w)&&(X=" "+Date.prototype.toUTCString.call(w)),$(w)&&(X=" "+p(w)),P.length!==0||B&&w.length!=0?S<0?N(w)?C.stylize(RegExp.prototype.toString.call(w),"regexp"):C.stylize("[Object]","special"):(C.seen.push(w),V=B?function(R,M,G,Q,ne){for(var ie=[],U=0,se=M.length;U<se;++U)E(M,String(U))?ie.push(g(R,M,G,Q,String(U),!0)):ie.push("");return ne.forEach(function(ae){ae.match(/^\d+$/)||ie.push(g(R,M,G,Q,ae,!0))}),ie}(C,w,S,O,P):P.map(function(R){return g(C,w,S,O,R,B)}),C.seen.pop(),function(R,M,G){return R.reduce(function(Q,ne){return ne.indexOf(`
`)>=0,Q+ne.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?G[0]+(M===""?"":M+`
 `)+" "+R.join(`,
  `)+" "+G[1]:G[0]+M+" "+R.join(", ")+" "+G[1]}(V,X,K)):K[0]+X+K[1]}function p(C){return"["+Error.prototype.toString.call(C)+"]"}function g(C,w,S,x,k,P){var O,L,V;if((V=Object.getOwnPropertyDescriptor(w,k)||{value:w[k]}).get?L=V.set?C.stylize("[Getter/Setter]","special"):C.stylize("[Getter]","special"):V.set&&(L=C.stylize("[Setter]","special")),E(x,k)||(O="["+k+"]"),L||(C.seen.indexOf(V.value)<0?(L=b(S)?f(C,V.value,null):f(C,V.value,S-1)).indexOf(`
`)>-1&&(L=P?L.split(`
`).map(function(X){return"  "+X}).join(`
`).substr(2):`
`+L.split(`
`).map(function(X){return"   "+X}).join(`
`)):L=C.stylize("[Circular]","special")),D(O)){if(P&&k.match(/^\d+$/))return L;(O=JSON.stringify(""+k)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(O=O.substr(1,O.length-2),O=C.stylize(O,"name")):(O=O.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),O=C.stylize(O,"string"))}return O+": "+L}function m(C){return Array.isArray(C)}function v(C){return typeof C=="boolean"}function b(C){return C===null}function y(C){return typeof C=="number"}function I(C){return typeof C=="string"}function D(C){return C===void 0}function N(C){return z(C)&&q(C)==="[object RegExp]"}function z(C){return typeof C=="object"&&C!==null}function F(C){return z(C)&&q(C)==="[object Date]"}function $(C){return z(C)&&(q(C)==="[object Error]"||C instanceof Error)}function j(C){return typeof C=="function"}function q(C){return Object.prototype.toString.call(C)}function H(C){return C<10?"0"+C.toString(10):C.toString(10)}n.debuglog=function(C){if(D(l)&&(l=a.env.NODE_DEBUG||""),C=C.toUpperCase(),!u[C])if(new RegExp("\\b"+C+"\\b","i").test(l)){var w=a.pid;u[C]=function(){var S=n.format.apply(n,arguments);console.error("%s %d: %s",C,w,S)}}else u[C]=function(){};return u[C]},n.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=m,n.isBoolean=v,n.isNull=b,n.isNullOrUndefined=function(C){return C==null},n.isNumber=y,n.isString=I,n.isSymbol=function(C){return typeof C=="symbol"},n.isUndefined=D,n.isRegExp=N,n.isObject=z,n.isDate=F,n.isError=$,n.isFunction=j,n.isPrimitive=function(C){return C===null||typeof C=="boolean"||typeof C=="number"||typeof C=="string"||typeof C=="symbol"||C===void 0},n.isBuffer=i("./support/isBuffer");var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var C=new Date,w=[H(C.getHours()),H(C.getMinutes()),H(C.getSeconds())].join(":");return[C.getDate(),A[C.getMonth()],w].join(" ")}function E(C,w){return Object.prototype.hasOwnProperty.call(C,w)}n.log=function(){console.log("%s - %s",T(),n.format.apply(n,arguments))},n.inherits=i("inherits"),n._extend=function(C,w){if(!w||!z(w))return C;for(var S=Object.keys(w),x=S.length;x--;)C[S[x]]=w[S[x]];return C}}).call(this)}).call(this,i("_process"),typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"NIL",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return f.default}});var a=p(i("./v1.js")),s=p(i("./v3.js")),o=p(i("./v4.js")),l=p(i("./v5.js")),u=p(i("./nil.js")),d=p(i("./version.js")),c=p(i("./validate.js")),h=p(i("./stringify.js")),f=p(i("./parse.js"));function p(g){return g&&g.__esModule?g:{default:g}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(i,r,n){function a(f){return 14+(f+64>>>9<<4)+1}function s(f,p){const g=(65535&f)+(65535&p);return(f>>16)+(p>>16)+(g>>16)<<16|65535&g}function o(f,p,g,m,v,b){return s((y=s(s(p,f),s(m,b)))<<(I=v)|y>>>32-I,g);var y,I}function l(f,p,g,m,v,b,y){return o(p&g|~p&m,f,p,v,b,y)}function u(f,p,g,m,v,b,y){return o(p&m|g&~m,f,p,v,b,y)}function d(f,p,g,m,v,b,y){return o(p^g^m,f,p,v,b,y)}function c(f,p,g,m,v,b,y){return o(g^(p|~m),f,p,v,b,y)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var h=function(f){if(typeof f=="string"){const p=unescape(encodeURIComponent(f));f=new Uint8Array(p.length);for(let g=0;g<p.length;++g)f[g]=p.charCodeAt(g)}return function(p){const g=[],m=32*p.length;for(let v=0;v<m;v+=8){const b=p[v>>5]>>>v%32&255,y=parseInt("0123456789abcdef".charAt(b>>>4&15)+"0123456789abcdef".charAt(15&b),16);g.push(y)}return g}(function(p,g){p[g>>5]|=128<<g%32,p[a(g)-1]=g;let m=1732584193,v=-271733879,b=-1732584194,y=271733878;for(let I=0;I<p.length;I+=16){const D=m,N=v,z=b,F=y;m=l(m,v,b,y,p[I],7,-680876936),y=l(y,m,v,b,p[I+1],12,-389564586),b=l(b,y,m,v,p[I+2],17,606105819),v=l(v,b,y,m,p[I+3],22,-1044525330),m=l(m,v,b,y,p[I+4],7,-176418897),y=l(y,m,v,b,p[I+5],12,1200080426),b=l(b,y,m,v,p[I+6],17,-1473231341),v=l(v,b,y,m,p[I+7],22,-45705983),m=l(m,v,b,y,p[I+8],7,1770035416),y=l(y,m,v,b,p[I+9],12,-1958414417),b=l(b,y,m,v,p[I+10],17,-42063),v=l(v,b,y,m,p[I+11],22,-1990404162),m=l(m,v,b,y,p[I+12],7,1804603682),y=l(y,m,v,b,p[I+13],12,-40341101),b=l(b,y,m,v,p[I+14],17,-1502002290),v=l(v,b,y,m,p[I+15],22,1236535329),m=u(m,v,b,y,p[I+1],5,-165796510),y=u(y,m,v,b,p[I+6],9,-1069501632),b=u(b,y,m,v,p[I+11],14,643717713),v=u(v,b,y,m,p[I],20,-373897302),m=u(m,v,b,y,p[I+5],5,-701558691),y=u(y,m,v,b,p[I+10],9,38016083),b=u(b,y,m,v,p[I+15],14,-660478335),v=u(v,b,y,m,p[I+4],20,-405537848),m=u(m,v,b,y,p[I+9],5,568446438),y=u(y,m,v,b,p[I+14],9,-1019803690),b=u(b,y,m,v,p[I+3],14,-187363961),v=u(v,b,y,m,p[I+8],20,1163531501),m=u(m,v,b,y,p[I+13],5,-1444681467),y=u(y,m,v,b,p[I+2],9,-51403784),b=u(b,y,m,v,p[I+7],14,1735328473),v=u(v,b,y,m,p[I+12],20,-1926607734),m=d(m,v,b,y,p[I+5],4,-378558),y=d(y,m,v,b,p[I+8],11,-2022574463),b=d(b,y,m,v,p[I+11],16,1839030562),v=d(v,b,y,m,p[I+14],23,-35309556),m=d(m,v,b,y,p[I+1],4,-1530992060),y=d(y,m,v,b,p[I+4],11,1272893353),b=d(b,y,m,v,p[I+7],16,-155497632),v=d(v,b,y,m,p[I+10],23,-1094730640),m=d(m,v,b,y,p[I+13],4,681279174),y=d(y,m,v,b,p[I],11,-358537222),b=d(b,y,m,v,p[I+3],16,-722521979),v=d(v,b,y,m,p[I+6],23,76029189),m=d(m,v,b,y,p[I+9],4,-640364487),y=d(y,m,v,b,p[I+12],11,-421815835),b=d(b,y,m,v,p[I+15],16,530742520),v=d(v,b,y,m,p[I+2],23,-995338651),m=c(m,v,b,y,p[I],6,-198630844),y=c(y,m,v,b,p[I+7],10,1126891415),b=c(b,y,m,v,p[I+14],15,-1416354905),v=c(v,b,y,m,p[I+5],21,-57434055),m=c(m,v,b,y,p[I+12],6,1700485571),y=c(y,m,v,b,p[I+3],10,-1894986606),b=c(b,y,m,v,p[I+10],15,-1051523),v=c(v,b,y,m,p[I+1],21,-2054922799),m=c(m,v,b,y,p[I+8],6,1873313359),y=c(y,m,v,b,p[I+15],10,-30611744),b=c(b,y,m,v,p[I+6],15,-1560198380),v=c(v,b,y,m,p[I+13],21,1309151649),m=c(m,v,b,y,p[I+4],6,-145523070),y=c(y,m,v,b,p[I+11],10,-1120210379),b=c(b,y,m,v,p[I+2],15,718787259),v=c(v,b,y,m,p[I+9],21,-343485551),m=s(m,D),v=s(v,N),b=s(b,z),y=s(y,F)}return[m,v,b,y]}(function(p){if(p.length===0)return[];const g=8*p.length,m=new Uint32Array(a(g));for(let v=0;v<g;v+=8)m[v>>5]|=(255&p[v/8])<<v%32;return m}(f),8*f.length))};n.default=h},{}],530:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=i("./validate.js"))&&a.__esModule?a:{default:a},o=function(l){if(!(0,s.default)(l))throw TypeError("Invalid UUID");let u;const d=new Uint8Array(16);return d[0]=(u=parseInt(l.slice(0,8),16))>>>24,d[1]=u>>>16&255,d[2]=u>>>8&255,d[3]=255&u,d[4]=(u=parseInt(l.slice(9,13),16))>>>8,d[5]=255&u,d[6]=(u=parseInt(l.slice(14,18),16))>>>8,d[7]=255&u,d[8]=(u=parseInt(l.slice(19,23),16))>>>8,d[9]=255&u,d[10]=(u=parseInt(l.slice(24,36),16))/1099511627776&255,d[11]=u/4294967296&255,d[12]=u>>>24&255,d[13]=u>>>16&255,d[14]=u>>>8&255,d[15]=255&u,d};n.default=o},{"./validate.js":541}],532:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(i,r,n){let a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!a&&(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(s)};const s=new Uint8Array(16)},{}],534:[function(i,r,n){function a(l,u,d,c){switch(l){case 0:return u&d^~u&c;case 1:return u^d^c;case 2:return u&d^u&c^d&c;case 3:return u^d^c}}function s(l,u){return l<<u|l>>>32-u}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(l){const u=[1518500249,1859775393,2400959708,3395469782],d=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const p=unescape(encodeURIComponent(l));l=[];for(let g=0;g<p.length;++g)l.push(p.charCodeAt(g))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const c=l.length/4+2,h=Math.ceil(c/16),f=new Array(h);for(let p=0;p<h;++p){const g=new Uint32Array(16);for(let m=0;m<16;++m)g[m]=l[64*p+4*m]<<24|l[64*p+4*m+1]<<16|l[64*p+4*m+2]<<8|l[64*p+4*m+3];f[p]=g}f[h-1][14]=8*(l.length-1)/Math.pow(2,32),f[h-1][14]=Math.floor(f[h-1][14]),f[h-1][15]=8*(l.length-1)&4294967295;for(let p=0;p<h;++p){const g=new Uint32Array(80);for(let D=0;D<16;++D)g[D]=f[p][D];for(let D=16;D<80;++D)g[D]=s(g[D-3]^g[D-8]^g[D-14]^g[D-16],1);let m=d[0],v=d[1],b=d[2],y=d[3],I=d[4];for(let D=0;D<80;++D){const N=Math.floor(D/20),z=s(m,5)+a(N,v,b,y)+I+u[N]+g[D]>>>0;I=y,y=b,b=s(v,30)>>>0,v=m,m=z}d[0]=d[0]+m>>>0,d[1]=d[1]+v>>>0,d[2]=d[2]+b>>>0,d[3]=d[3]+y>>>0,d[4]=d[4]+I>>>0}return[d[0]>>24&255,d[0]>>16&255,d[0]>>8&255,255&d[0],d[1]>>24&255,d[1]>>16&255,d[1]>>8&255,255&d[1],d[2]>>24&255,d[2]>>16&255,d[2]>>8&255,255&d[2],d[3]>>24&255,d[3]>>16&255,d[3]>>8&255,255&d[3],d[4]>>24&255,d[4]>>16&255,d[4]>>8&255,255&d[4]]};n.default=o},{}],535:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=i("./validate.js"))&&a.__esModule?a:{default:a};const o=[];for(let u=0;u<256;++u)o.push((u+256).toString(16).substr(1));var l=function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const c=(o[u[d+0]]+o[u[d+1]]+o[u[d+2]]+o[u[d+3]]+"-"+o[u[d+4]]+o[u[d+5]]+"-"+o[u[d+6]]+o[u[d+7]]+"-"+o[u[d+8]]+o[u[d+9]]+"-"+o[u[d+10]]+o[u[d+11]]+o[u[d+12]]+o[u[d+13]]+o[u[d+14]]+o[u[d+15]]).toLowerCase();if(!(0,s.default)(c))throw TypeError("Stringified UUID is invalid");return c};n.default=l},{"./validate.js":541}],536:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(i("./rng.js")),s=o(i("./stringify.js"));function o(f){return f&&f.__esModule?f:{default:f}}let l,u,d=0,c=0;var h=function(f,p,g){let m=p&&g||0;const v=p||new Array(16);let b=(f=f||{}).node||l,y=f.clockseq!==void 0?f.clockseq:u;if(b==null||y==null){const $=f.random||(f.rng||a.default)();b==null&&(b=l=[1|$[0],$[1],$[2],$[3],$[4],$[5]]),y==null&&(y=u=16383&($[6]<<8|$[7]))}let I=f.msecs!==void 0?f.msecs:Date.now(),D=f.nsecs!==void 0?f.nsecs:c+1;const N=I-d+(D-c)/1e4;if(N<0&&f.clockseq===void 0&&(y=y+1&16383),(N<0||I>d)&&f.nsecs===void 0&&(D=0),D>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=I,c=D,u=y,I+=122192928e5;const z=(1e4*(268435455&I)+D)%4294967296;v[m++]=z>>>24&255,v[m++]=z>>>16&255,v[m++]=z>>>8&255,v[m++]=255&z;const F=I/4294967296*1e4&268435455;v[m++]=F>>>8&255,v[m++]=255&F,v[m++]=F>>>24&15|16,v[m++]=F>>>16&255,v[m++]=y>>>8|128,v[m++]=255&y;for(let $=0;$<6;++$)v[m+$]=b[$];return p||(0,s.default)(v)};n.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(i("./v35.js")),s=o(i("./md5.js"));function o(u){return u&&u.__esModule?u:{default:u}}var l=(0,a.default)("v3",48,s.default);n.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(d,c,h){function f(p,g,m,v){if(typeof p=="string"&&(p=function(y){y=unescape(encodeURIComponent(y));const I=[];for(let D=0;D<y.length;++D)I.push(y.charCodeAt(D));return I}(p)),typeof g=="string"&&(g=(0,s.default)(g)),g.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let b=new Uint8Array(16+p.length);if(b.set(g),b.set(p,g.length),b=h(b),b[6]=15&b[6]|c,b[8]=63&b[8]|128,m){v=v||0;for(let y=0;y<16;++y)m[v+y]=b[y];return m}return(0,a.default)(b)}try{f.name=d}catch{}return f.DNS=l,f.URL=u,f},n.URL=n.DNS=void 0;var a=o(i("./stringify.js")),s=o(i("./parse.js"));function o(d){return d&&d.__esModule?d:{default:d}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=l;const u="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=u},{"./parse.js":531,"./stringify.js":535}],539:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(i("./rng.js")),s=o(i("./stringify.js"));function o(u){return u&&u.__esModule?u:{default:u}}var l=function(u,d,c){const h=(u=u||{}).random||(u.rng||a.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,d){c=c||0;for(let f=0;f<16;++f)d[c+f]=h[f];return d}return(0,s.default)(h)};n.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(i("./v35.js")),s=o(i("./sha1.js"));function o(u){return u&&u.__esModule?u:{default:u}}var l=(0,a.default)("v5",80,s.default);n.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=i("./regex.js"))&&a.__esModule?a:{default:a},o=function(l){return typeof l=="string"&&s.default.test(l)};n.default=o},{"./regex.js":532}],542:[function(i,r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=i("./validate.js"))&&a.__esModule?a:{default:a},o=function(l){if(!(0,s.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};n.default=o},{"./validate.js":541}],543:[function(i,r,n){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR=`	
\r -퟿-�𐀀-􏿿`,n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function a(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(s){return s>=32&&s<=55295||s===10||s===13||s===9||s>=57344&&s<=65533||s>=65536&&s<=1114111},n.isS=function(s){return s===32||s===10||s===13||s===9},n.isNameStartChar=a,n.isNameChar=function(s){return a(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],544:[function(i,r,n){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR="-퟿-�𐀀-􏿿",n.RESTRICTED_CHAR="-\b\v\f---",n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function a(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(s){return s>=1&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},n.isRestrictedChar=function(s){return s>=1&&s<=8||s===11||s===12||s>=14&&s<=31||s>=127&&s<=132||s>=134&&s<=159},n.isCharAndNotRestricted=function(s){return s===9||s===10||s===13||s>31&&s<127||s===133||s>159&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},n.isS=function(s){return s===32||s===10||s===13||s===9},n.isNameStartChar=a,n.isNameChar=function(s){return a(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],545:[function(i,r,n){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function a(s){return s>=65&&s<=90||s===95||s>=97&&s<=122||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}Object.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=a,n.isNCNameChar=function(s){return a(s)||s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}]},{},[15])(15)})})(w2);var uV=w2.exports,x2={exports:{}};(function(e,t){(function(i,r){r()})(Oe,function(){function i(u,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,d,c){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){l(h.response,d,c)},h.onerror=function(){console.error("could not download file")},h.send()}function n(u){var d=new XMLHttpRequest;d.open("HEAD",u,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(d)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Oe=="object"&&Oe.global===Oe?Oe:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,d,c){var h=s.URL||s.webkitURL,f=document.createElement("a");d=d||u.name||"download",f.download=d,f.rel="noopener",typeof u=="string"?(f.href=u,f.origin===location.origin?a(f):n(f.href)?r(u,d,c):a(f,f.target="_blank")):(f.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(f.href)},4e4),setTimeout(function(){a(f)},0))}:"msSaveOrOpenBlob"in navigator?function(u,d,c){if(d=d||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(i(u,c),d);else if(n(u))r(u,d,c);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){a(h)})}}:function(u,d,c,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return r(u,d,c);var f=u.type==="application/octet-stream",p=/constructor/i.test(s.HTMLElement)||s.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||f&&p||o)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var y=m.result;y=g?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=y:location=y,h=null},m.readAsDataURL(u)}else{var v=s.URL||s.webkitURL,b=v.createObjectURL(u);h?h.location=b:location.href=b,h=null,setTimeout(function(){v.revokeObjectURL(b)},4e4)}});s.saveAs=l.saveAs=l,e.exports=l})})(x2);var dV=x2.exports;function Ple(e){const t=new uV.Workbook,i=t.addWorksheet("Employees");oV({component:e.component,worksheet:i,autoFilterEnabled:!0}).then(()=>{t.xlsx.writeBuffer().then(r=>{dV.saveAs(new Blob([r],{type:"application/octet-stream"}),"jadval.xlsx")})}),e.cancel=!0}var Ce={},hV="dxDataGrid",S2=wt.inherit({_endUpdateCore:function(){},ctor:function(e){var t=this;t._updateLockCount=0,t.component=e,t._actions={},t._actionConfigs={},le(this.callbackNames()||[],function(i,r){var n=t.callbackFlags(r)||{};n.unique=!0,n.syncStrategy=!0,t[this]=kt(n)})},init:function(){},callbackNames:function(){},callbackFlags:function(){},publicMethods:function(){},beginUpdate:function(){this._updateLockCount++},endUpdate:function(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())},option:function(e){var t=this.component,i=t._optionCache;return arguments.length===1&&i?(e in i||(i[e]=t.option(e)),i[e]):t.option.apply(t,arguments)},_silentOption:function(e,t){var i=this.component,r=i._optionCache;return r&&(r[e]=t),i._setOptionWithoutOptionChange(e,t)},localize:function(e){var t=this.component._optionCache;return t?(e in t||(t[e]=_e.format(e)),t[e]):_e.format(e)},on:function(){return this.component.on.apply(this.component,arguments)},off:function(){return this.component.off.apply(this.component,arguments)},optionChanged:function(e){e.name in this._actions&&(this.createAction(e.name,this._actionConfigs[e.name]),e.handled=!0)},getAction:function(e){return this._actions[e]},setAria:function(e,t,i){var r=i.get(0),n=e!=="role"&&e!=="id"?"aria-":"";r.setAttribute?r.setAttribute(n+e,t):i.attr(n+e,t)},_createComponent:function(){return this.component._createComponent.apply(this.component,arguments)},getController:function(e){return this.component._controllers[e]},createAction:function(e,t){if(Re(e)){var i=this.component._createAction(e.bind(this),t);return function(r){i({event:r})}}else this._actions[e]=this.component._createActionByOption(e,t),this._actionConfigs[e]=t},executeAction:function(e,t){var i=this._actions[e];return i&&i(t)},dispose:function(){var e=this;le(e.callbackNames()||[],function(){e[this].empty()})},addWidgetPrefix:function(e){var t=this.component.NAME;return"dx-"+t.slice(2).toLowerCase()+(e?"-"+e:"")},getWidgetContainerClass:function(){var e=this.component.NAME===hV?null:"container";return this.addWidgetPrefix(e)},elementIsInsideGrid:function(e){var t=e.closest("."+this.getWidgetContainerClass()).parent();return t.is(this.component.$element())}}),bc=S2,cV=bc.inherit({getView:function(e){return this.component._views[e]},getViews:function(){return this.component._views}}),E2=S2.inherit({_isReady:function(){return this.component.isReady()},_endUpdateCore:function(){this.callBase(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))},_invalidate:function(e,t){this._requireRender=!0,this.component._requireResize=rt()&&(this.component._requireResize||e),this._requireReady=this._requireReady||t},_renderCore:function(){},_resizeCore:function(){},_parentElement:function(){return this._$parent},ctor:function(e){this.callBase(e),this.renderCompleted=kt(),this.resizeCompleted=kt()},element:function(){return this._$element},getElementHeight:function(){var e=this.element();if(!e)return 0;var t=parseFloat(e.css("marginTop"))||0,i=parseFloat(e.css("marginBottom"))||0,r=e.get(0).offsetHeight;return r+t+i},isVisible:function(){return!0},getTemplate:function(e){return this.component._getTemplate(e)},render:function(e,t){var i=this._$element,r=this.isVisible();!i&&!e||(this._requireReady=!1,i||(i=this._$element=W("<div>").appendTo(e),this._$parent=e),i.toggleClass("dx-hidden",!r),r&&(this.component._optionCache={},this._renderCore(t),this.component._optionCache=void 0,this.renderCompleted.fire(t)))},resize:function(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1},focus:function(e){this.element().get(0).focus({preventScroll:e})}}),yC=1e6,fV=function(e,t){var i=t.modules,r=t.modulesOrder,n=t.controllerTypes||{},a=t.viewTypes||{};t.controllerTypes||(r&&i.sort(function(o,l){var u=r.indexOf(o.name),d=r.indexOf(l.name);return u<0&&(u=yC),d<0&&(d=yC),u-d}),le(i,function(){var o=this.controllers,l=this.name,u=this.views;o&&le(o,function(d,c){if(n[d])throw gt.Error("E1001",l,d);if(!(c&&c.subclassOf&&c.subclassOf(bc)))throw c.subclassOf(bc),gt.Error("E1002",l,d);n[d]=c}),u&&le(u,function(d,c){if(a[d])throw gt.Error("E1003",l,d);if(!(c&&c.subclassOf&&c.subclassOf(E2)))throw gt.Error("E1004",l,d);a[d]=c})}),le(i,function(){var o=this.extenders;o&&(o.controllers&&le(o.controllers,function(l,u){n[l]&&(n[l]=n[l].inherit(u))}),o.views&&le(o.views,function(l,u){a[l]&&(a[l]=a[l].inherit(u))}))}),t.controllerTypes=n,t.viewTypes=a);var s=function(o){var l={};return le(o,function(u,d){var c=new d(e);c.name=u,function(h,f,p){var g=p.publicMethods();g&&le(g,function(m,v){if(p[v])if(!h[v])h[v]=function(){return p[v].apply(p,arguments)};else throw gt.Error("E1005",v);else throw gt.Error("E1006",f,v)})}(e,u,c),l[u]=c}),l};e._controllers=s(n),e._views=s(a)},pV=function(e,t,i){i=i||[],e._controllers&&le(e._controllers,function(){this[t]&&this[t].apply(this,i)}),e._views&&le(e._views,function(){this[t]&&this[t].apply(this,i)})};const ei={modules:[],View:E2,ViewController:cV,Controller:bc,registerModule:function(e,t){for(var i=this.modules,r=0;r<i.length;r++)if(i[r].name===e)return;t.name=e,i.push(t),delete this.controllerTypes,delete this.viewTypes},registerModulesOrder:function(e){this.modulesOrder=e},unregisterModule:function(e){this.modules=hr(this.modules,function(t){return t.name!==e}),delete this.controllerTypes,delete this.viewTypes},processModules:fV,callModuleItemsMethod:pV},Le=Ie({},ei,Ee,{modules:[]});var ed="dxdblclick",mV="dxDblClick",CC=xe(Pt,mV),wC=300,gV=wt.inherit({ctor:function(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick:function(){this._firstClickTarget=null,this._lastClickTimeStamp=-wC},add:function(){this._handlerCount<=0&&te.on(we.getDocument(),CC,this._clickHandler.bind(this)),this._handlerCount++},_clickHandler:function(e){var t=e.timeStamp||Date.now(),i=t-this._lastClickTimeStamp,r=i<0,n=!r&&i<wC;n?(Xa({type:ed,target:HP(this._firstClickTarget,e.target),originalEvent:e}),this._forgetLastClick()):(this._firstClickTarget=e.target,this._lastClickTimeStamp=t)},remove:function(){this._handlerCount--,this._handlerCount<=0&&(this._forgetLastClick(),te.off(we.getDocument(),CC))}});Gr(ed,new gV);var xC="dx-column-indicators",vV="dx-group-panel-item";const _V={_applyColumnState:function(e){var t,i=this.option("rtlEnabled"),r=this._getColumnAlignment(e.column.alignment,i),n=re(!0,{columnAlignment:r},e),a=n.rootElement.hasClass(vV),s=this._createIndicatorContainer(n,a),o=W("<span>").addClass(this._getIndicatorClassName(e.name)),l=(t=this.component)===null||t===void 0?void 0:t.getController("columns"),u=(l==null?void 0:l.getHeaderContentAlignment(r))||r;return n.container=s,n.indicator=o,this._renderIndicator(n),s[(a||!e.showColumnLines)&&u==="left"?"appendTo":"prependTo"](e.rootElement),o},_getIndicatorClassName:me,_getColumnAlignment:function(e,t){return t=t||this.option("rtlEnabled"),e&&e!=="center"?e:Za(t)},_createIndicatorContainer:function(e,t){var i=this._getIndicatorContainer(e.rootElement),r=e.columnAlignment==="left"?"right":"left";return i.length||(i=W("<div>").addClass(xC)),this.setAria("role","presentation",i),i.css("float",e.showColumnLines&&!t?r:null)},_getIndicatorContainer:function(e){return e&&e.find("."+xC)},_getIndicatorElements:function(e){var t=this._getIndicatorContainer(e);return t&&t.children()},_renderIndicator:function(e){var t=e.container,i=e.indicator;t&&i&&t.append(i)},_updateIndicators:function(e){var t=this.getColumns(),i=this.getColumnElements(),r;if(!(!i||t.length!==i.length))for(var n=0;n<t.length;n++){r=i.eq(n),this._updateIndicator(r,t[n],e);var a=r.parent().data("options");a&&a.cells&&(a.cells[r.index()].column=t[n])}},_updateIndicator:function(e,t,i){if(!t.command)return this._applyColumnState({name:i,rootElement:e,column:t,showColumnLines:this.option("showColumnLines")})}};var SC="scroll-container",bV="scrollable-simulated",yV="group-space",CV="content",wV="table",xV="table-fixed",SV="content-fixed",Cl="dx-row",Bp="dx-group-row",EV="dx-group-cell",Pp="dx-master-detail-row",IV="filter-row",TV="dx-error-row",AV="cell-updated-animation",EC="0.0001px",Fp="dxCellHintVisible",OV="dx-field-item-content",DV={render:function(e){e.container.append(e.content)}},RV=function(e,t){var i,r,n;function a(s){return setTimeout(function(){i=r=null},s)}te.on(t,"touchstart touchend",".dx-row",function(s){clearTimeout(n),s.type==="touchstart"?(i=s.target,r=s.currentTarget,n=a(1e3)):n=a()}),te.on(t,[Pt,ed,Rt.down].join(" "),".dx-row",e.createAction(function(s){var o=s.event;i&&(o.target=i,o.currentTarget=r),W(o.target).closest("a").length||(s.rowIndex=e.getRowIndex(o.currentTarget),s.rowIndex>=0&&(s.rowElement=qe(W(o.currentTarget)),s.columns=e.getColumns(),o.type===Rt.down?e._rowPointerDown(s):o.type===Pt?e._rowClick(s):e._rowDblClick(s)))}))},Vd=function(e){return e==="auto"?"":Kt(e)?e+"px":e},IC=function(e,t,i){e.style.width=e.style.maxWidth=t.width==="auto"?"":i},kV=function(e,t){if(!(!e||!t)){var i=e.attributes,r=t.attributes,n;for(n=0;n<i.length;n++){var a=i[n].nodeName;t.hasAttribute(a)||e.removeAttribute(a)}for(n=0;n<r.length;n++)e.setAttribute(r[n].nodeName,r[n].nodeValue)}},td=ei.View.inherit(_V).inherit({_createScrollableOptions:function(){var e=this.option("scrolling"),t=this.option("scrolling.useNative"),i=re({},e,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return t===void 0&&(t=!0),t==="auto"?(delete i.useNative,delete i.useSimulatedScrollbar):(i.useNative=!!t,i.useSimulatedScrollbar=!t),i},_updateCell:function(e,t){t.rowType&&this._cellPrepared(e,t)},_createCell:function(e){var t=e.column,i=t.alignment||Za(this.option("rtlEnabled")),r=we.createElement("td");r.style.textAlign=i;var n=W(r);return e.rowType==="data"&&t.headerId&&!t.type&&this.component.option("showColumnHeaders")&&this.setAria("describedby",t.headerId,n),t.cssClass&&n.addClass(t.cssClass),t.command==="expand"&&(n.addClass(t.cssClass),n.addClass(this.addWidgetPrefix(yV))),t.colspan>1?n.attr("colSpan",t.colspan):!t.isBand&&t.visibleWidth!=="auto"&&this.option("columnAutoWidth")&&((t.width||t.minWidth)&&(r.style.minWidth=Vd(t.minWidth||t.width)),t.width&&IC(r,t,Vd(t.width))),n},_createRow:function(e,t){t=t||"tr";var i=W("<".concat(t,">")).addClass(Cl);return this.setAria("role","row",i),i},_isAltRow:function(e){return e&&e.dataIndex%2===1},_createTable:function(e,t){var i=this,r=W("<table>").addClass(i.addWidgetPrefix(wV)).addClass(i.addWidgetPrefix(xV));if(e&&!t?(r.append(i._createColGroup(e)),Qt.safari&&r.append(W("<thead>").append("<tr>")),i.setAria("role","presentation",r)):i.setAria("hidden",!0,r),this.setAria("role","presentation",W("<tbody>").appendTo(r)),t)return r;Qt.mozilla&&te.on(r,"mousedown","td",function(a){a.ctrlKey&&a.preventDefault()}),i.option("cellHintEnabled")&&te.on(r,"mousemove",".dx-row > td",this.createAction(function(a){var s=a.event,o=W(s.target),l=W(s.currentTarget),u=l.parent(),d=i._columnsController.getVisibleColumns(),c=u.data("options"),h=l.index(),f=c&&c.cells&&c.cells[h],p=f?f.column:d[h],g=u.hasClass("dx-header-row"),m=u.hasClass("dx-data-row"),v=u.hasClass(Pp),b=u.hasClass(Bp),y=u.hasClass(i.addWidgetPrefix(IV)),I=m&&(!p||p.cellTemplate),D=m&&f&&(c.isEditing||f.isEditing||(p==null?void 0:p.showEditorAlways)),N=g&&(!p||p.headerCellTemplate),z=b&&(!p||p.groupIndex&&p.groupCellTemplate),F=!v&&!y&&!D&&!I&&!N&&!z;if(F){o.data(Fp)&&(o.removeAttr("title"),o.data(Fp,!1));var $=o[0].scrollWidth-o[0].clientWidth;$>0&&!Z(o.attr("title"))&&(o.attr("title",o.text()),o.data(Fp,!0))}}));var n=function(a){var s=W(a.currentTarget),o=W(a.target).closest("."+OV),l=s.parent(),u=l.data("options"),d=u&&u.cells&&u.cells[s.index()];if(s.closest("table").is(a.delegateTarget)){var c=re({},d,{cellElement:qe(s),event:a,eventType:a.type});if(c.rowIndex=i.getRowIndex(l),o.length){var h=o.data("dx-form-item");h.column&&(c.column=h.column,c.columnIndex=i._columnsController.getVisibleIndex(c.column.index))}return c}};return te.on(r,"mouseover",".dx-row > td",function(a){var s=n(a);s&&i.executeAction("onCellHoverChanged",s)}),te.on(r,"mouseout",".dx-row > td",function(a){var s=n(a);s&&i.executeAction("onCellHoverChanged",s)}),te.on(r,Pt,".dx-row > td",function(a){var s=n(a);s&&i.executeAction("onCellClick",s)}),te.on(r,ed,".dx-row > td",function(a){var s=n(a);s&&i.executeAction("onCellDblClick",s)}),RV(i,r),r},_rowPointerDown:me,_rowClick:me,_rowDblClick:me,_createColGroup:function(e){for(var t=W("<colgroup>"),i=0;i<e.length;i++)for(var r=e[i].colspan||1,n=0;n<r;n++)t.append(this._createCol(e[i]));return t},_createCol:function(e){var t=e.visibleWidth||e.width;t==="adaptiveHidden"&&(t=EC);var i=W("<col>");return up(i,t),i},renderDelayedTemplates:function(e){var t=this._delayedTemplates,i=t.filter(n=>!n.async),r=t.filter(n=>n.async);this._delayedTemplates=[],this._renderDelayedTemplatesCore(i,!1,e),this._renderDelayedTemplatesCoreAsync(r)},_renderDelayedTemplatesCoreAsync:function(e){var t=this;e.length&&at().setTimeout(function(){t._renderDelayedTemplatesCore(e,!0)})},_renderDelayedTemplatesCore:function(e,t,i){for(var r=new Date;e.length;){var n=e.shift(),a=n.options,s=we.getDocument();if((!t||W(a.container).closest(s).length)&&(i&&(a.change=i),n.template.render(a)),t&&new Date-r>30){this._renderDelayedTemplatesCoreAsync(e);break}}!e.length&&this._delayedTemplates.length&&this.renderDelayedTemplates()},_processTemplate:function(e){var t;if(e&&e.render&&!Ar(e))t={allowRenderToDetachedContainer:e.allowRenderToDetachedContainer,render:function(r){e.render(r.container,r.model,r.change),r.deferred&&r.deferred.resolve()}};else if(Re(e))t={render:function(r){var n=e(qe(r.container),r.model,r.change);n&&(n.nodeType||Ar(n))&&r.container.append(n),r.deferred&&r.deferred.resolve()}};else{var i=Ue(e)?e:W(e).attr("id");i?(this._templatesCache[i]||(this._templatesCache[i]=this.getTemplate(e)),t=this._templatesCache[i]):t=this.getTemplate(e)}return t},renderTemplate:function(e,t,i,r,n){var a=this._processTemplate(t,i),s=i.column,o=i.rowType==="data",l=new pe,u={container:e,model:i,deferred:l,onRendered:()=>{l.resolve()}};if(a){i.component=this.component;var d=s&&(s.renderAsync&&o||this.option("renderAsync")&&(s.renderAsync!==!1&&(s.command||s.showEditorAlways)&&o||i.rowType==="filter"));(a.allowRenderToDetachedContainer||r)&&!d?a.render(u):this._delayedTemplates.push({template:a,options:u,async:d}),n&&(n.templateDeferreds=n.templateDeferreds||[],n.templateDeferreds.push(l))}else l.reject();return l.promise()},_getBodies:function(e){return W(e).children("tbody").not(".dx-header").not(".dx-footer")},_needWrapRow:function(e){var t,i=!!this.option().rowTemplate;return i&&!!((t=this._getBodies(e))!==null&&t!==void 0&&t.filter("."+Cl).length)},_wrapRowIfNeed:function(e,t,i){var r=i?e||this._tableElement:this._tableElement||e,n=this._needWrapRow(r);if(n){var a=W("<tbody>").addClass(t.attr("class"));return this.setAria("role","presentation",a),a.append(t)}return t},_appendRow:function(e,t,i){i=i||DV,i.render({content:t,container:e})},_resizeCore:function(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))},_renderCore:function(e){var t=this.element().parent();(!t||t.parent().length)&&this.renderDelayedTemplates(e)},_renderTable:function(e){e=e||{},e.columns=this._columnsController.getVisibleColumns();var t=e.change&&e.change.changeType,i=this._createTable(e.columns,t==="append"||t==="prepend"||t==="update");return this._renderRows(i,e),i},_renderRows:function(e,t){for(var i=this._getRows(t.change),r=t.change&&t.change.columnIndices||[],n=t.change&&t.change.changeTypes||[],a=0;a<i.length;a++)this._renderRow(e,re({row:i[a],columnIndices:r[a],changeType:n[a]},t))},_renderRow:function(e,t){t.columnIndices||(t.row.cells=[]);var i=this._createRow(t.row),r=this._wrapRowIfNeed(e,i);t.changeType!=="remove"&&this._renderCells(i,t),this._appendRow(e,r);var n=re({columns:t.columns},t.row);this._addWatchMethod(n,t.row),this._rowPrepared(r,n,t.row)},_needRenderCell:function(e,t){return!t||t.indexOf(e)>=0},_renderCells:function(e,t){for(var i=0,r=t.row,n=t.columns,a=0;a<n.length;a++)this._needRenderCell(a,t.columnIndices)&&this._renderCell(e,re({column:n[a],columnIndex:i,value:r.values&&r.values[i],oldValue:r.oldValues&&r.oldValues[i]},t)),n[a].colspan>1?i+=n[a].colspan:i++},_updateCells:function(e,t,i){var r=e.children(),n=t.children(),a=this.option("highlightChanges"),s=this.addWidgetPrefix(AV);i.forEach(function(o,l){var u=r.eq(o),d=n.eq(l);u.replaceWith(d),a&&!d.hasClass("dx-command-expand")&&d.addClass(s)}),kV(e.get(0),t.get(0))},_setCellAriaAttributes:function(e,t){if(t.rowType!=="freeSpace"){this.setAria("role","gridcell",e);var i=this._columnsController.getColumnIndexOffset(),r=t.columnIndex+i+1;this.setAria("colindex",r,e)}},_renderCell:function(e,t){var i=this._getCellOptions(t);if(t.columnIndices){if(t.row.cells){var r=t.row.cells.findIndex(a=>a.columnIndex===i.columnIndex);t.row.cells[r]=i}}else t.row.cells.push(i);var n=this._createCell(i);return this._setCellAriaAttributes(n,i),this._renderCellContent(n,i,t),e.get(0).appendChild(n.get(0)),n},_renderCellContent:function(e,t,i){var r=this._getCellTemplate(t);Pe(!r||this.renderTemplate(e,r,t,void 0,i.change)).done(()=>{this._updateCell(e,t)})},_getCellTemplate:function(){},_getRows:function(){return[]},_getCellOptions:function(e){var t={column:e.column,columnIndex:e.columnIndex,rowType:e.row.rowType,isAltRow:this._isAltRow(e.row)};return this._addWatchMethod(t),t},_addWatchMethod:function(e,t){if(this.option("repaintChangesOnly")){var i=[];return t=t||e,t.watch=t.watch||function(r,n,a){var s=r(t.data),o=function(l){l&&a&&a(l);var u=r(t.data);JSON.stringify(s)!==JSON.stringify(u)&&(l&&n(u),s=u)};return i.push(o),function(){var l=i.indexOf(o);l>=0&&i.splice(l,1)}},t.update=t.update||function(r,n){r&&(this.data=e.data=r.data,this.rowIndex=e.rowIndex=r.rowIndex,this.dataIndex=e.dataIndex=r.dataIndex,this.isExpanded=e.isExpanded=r.isExpanded,e.row&&!n&&(e.row=r)),i.forEach(function(a){a(r)})},t!==e&&(e.watch=t.watch.bind(t)),e}},_cellPrepared:function(e,t){t.cellElement=qe(W(e)),this.executeAction("onCellPrepared",t)},_rowPrepared:function(e,t){ui(e.get(0),"options",t),t.rowElement=qe(e),this.executeAction("onRowPrepared",t)},_columnOptionChanged:function(e){var t=e.optionNames;if(Ee.checkChanges(t,["width","visibleWidth"])){var i=this._columnsController.getVisibleColumns(),r=Si(i,function(n){var a=n.visibleWidth||n.width;return Z(a)?a:"auto"});this.setColumnWidths({widths:r,optionNames:t});return}this._requireReady||this.render()},getCellIndex:function(e){var t=e.length?e[0].cellIndex:-1;return t},getTableElements:function(){return this._tableElement||W()},getTableElement:function(){return this._tableElement},setTableElement:function(e){this._tableElement=e},optionChanged:function(e){switch(this.callBase(e),e.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":this._invalidate(!0,!0),e.handled=!0}},init:function(){var e=this;e._scrollLeft=-1,e._columnsController=e.getController("columns"),e._dataController=e.getController("data"),e._delayedTemplates=[],e._templatesCache={},e.createAction("onCellClick"),e.createAction("onRowClick"),e.createAction("onCellDblClick"),e.createAction("onRowDblClick"),e.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),e.createAction("onCellPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),e.createAction("onRowPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering",afterExecute:function(t){e._afterRowPrepared(t)}}),e._columnsController.columnsChanged.add(e._columnOptionChanged.bind(e)),e._dataController&&e._dataController.changed.add(e._handleDataChanged.bind(e))},_afterRowPrepared:me,_handleDataChanged:function(){},callbackNames:function(){return["scrollChanged"]},_updateScrollLeftPosition:function(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))},scrollTo:function(e){var t=this.element(),i=t&&t.children("."+this.addWidgetPrefix(SC)).not("."+this.addWidgetPrefix(SV));Z(e)&&Z(e.left)&&this._scrollLeft!==e.left&&(this._scrollLeft=e.left,i&&i.scrollLeft(e.left))},_wrapTableInScrollContainer:function(e){var t=W("<div>"),i=this.option("scrolling.useNative");return(i===!1||i==="auto"&&!ks)&&t.addClass(this.addWidgetPrefix(bV)),te.on(t,"scroll",()=>{var r=t.scrollLeft();r!==this._scrollLeft&&this.scrollChanged.fire({left:r},this.name)}),t.addClass(this.addWidgetPrefix(CV)).addClass(this.addWidgetPrefix(SC)).append(e).appendTo(this.element()),this.setAria("role","presentation",t),t},_updateContent:function(e){this.setTableElement(e),this._wrapTableInScrollContainer(e)},_findContentElement:me,_getWidths:function(e){var t=[],i;return e&&le(e,function(r,n){if(i=n.offsetWidth,n.getBoundingClientRect){var a=mi(n);a.width>i-1&&(i=a.width)}t.push(i)}),t},getColumnWidths:function(e){var t=[],i,r;if((this.option("forceApplyBindings")||me)(),e=e||this.getTableElement(),e){i=e.children("tbody:not(.dx-header)").children();for(var n=0;n<i.length;n++){var a=i.eq(n),s=a.get(0).style.display!=="none"&&!a.hasClass("dx-state-invisible");if(!a.is("."+Bp)&&!a.is("."+Pp)&&!a.is("."+TV)&&s){r=a.children("td");break}}t=this._getWidths(r)}return t},getVisibleColumnIndex:function(e,t){return e},setColumnWidths:function(e){var{widths:t,$tableElement:i,columns:r,fixed:n}=e,a,s,o,l,u=this.option("columnAutoWidth");if(i=i||this.getTableElement(),i&&i.length&&t){l=0,a=i.children("colgroup").children("col"),up(a,"auto"),r=r||this.getColumns(null,i);for(var d=0;d<r.length;d++){if(u&&!n&&(s=r[d].width,s&&!r[d].command)){s=r[d].visibleWidth||s,s=Vd(s),o=Vd(r[d].minWidth||s);for(var c=c||i.children().children(".dx-row").not("."+Pp),h=0;h<c.length;h++){var f=c[h],p=void 0,g=this.getVisibleColumnIndex(d,h);f.classList.contains(Bp)?p=f.querySelector("td[aria-colindex='".concat(g+1,"']:not(.").concat(EV,")")):p=f.cells[g],p&&(IC(p,r[d],s),p.style.minWidth=o)}}if(r[d].colspan){l+=r[d].colspan;continue}s=t[l],s==="adaptiveHidden"&&(s=EC),typeof s=="number"&&(s=s.toFixed(3)+"px"),up(a.eq(l),Z(s)?s:"auto"),l++}}},getCellElements:function(e){return this._getCellElementsCore(e)},_getCellElementsCore:function(e){var t=this._getRowElements().eq(e);return t.children()},_getCellElement:function(e,t){var i,r=this.getCellElements(e),n=this._getVisibleColumnIndex(r,e,t);if(r.length&&n>=0&&(i=r.eq(n)),i&&i.length)return i},_getRowElement:function(e){var t=this,i=W(),r=t.getTableElements();if(le(r,function(n,a){i=i.add(t._getRowElements(W(a)).eq(e))}),i.length)return i},getCellElement:function(e,t){return qe(this._getCellElement(e,t))},getRowElement:function(e){var t=this._getRowElement(e),i=[];if(t&&!qe(t).get)for(var r=0;r<t.length;r++)i.push(t[r]);else i=t;return i},_getVisibleColumnIndex:function(e,t,i){if(Ue(i)){var r=this._columnsController.columnOption(i,"index");return this._columnsController.getVisibleIndex(r)}return i},getColumnElements:function(){},getColumns:function(e){return this._columnsController.getVisibleColumns(e)},getCell:function(e,t){var i=t||this._getRowElements(),r;if(i.length>0&&e.rowIndex>=0&&(this.option("scrolling.mode")!=="virtual"&&this.option("scrolling.rowRenderingMode")!=="virtual"&&(e.rowIndex=e.rowIndex<i.length?e.rowIndex:i.length-1),r=this.getCellElements(e.rowIndex),r&&r.length>0))return r.eq(r.length>e.columnIndex?e.columnIndex:r.length-1)},getRowsCount:function(){var e=this.getTableElement();return e&&e.length===1?e[0].rows.length:0},_getRowElementsCore:function(e){if(e=e||this.getTableElement(),e){var t=this.option().rowTemplate||this.option("dataRowTemplate"),i=t&&e.find("> tbody."+Cl);return i&&i.length?i:e.find("> tbody > ."+Cl+", > ."+Cl)}return W()},_getRowElements:function(e){return this._getRowElementsCore(e)},getRowIndex:function(e){return this._getRowElements().index(e)},getBoundingRect:function(){},getName:function(){},setScrollerSpacing:function(e){var t=this.element(),i=this.option("rtlEnabled");t&&t.css({paddingLeft:i?e:"",paddingRight:i?"":e})},isScrollbarVisible:function(e){var t=this.element(),i=this._tableElement;return t&&i?e?At(i)-Ze(t)>0:Ct(i)-nt(t)>0:!1}}),yv="dx-state-focused",MV="dx-cell-focus-disabled",BV=".dx-row-focused",I2=".dx-datagrid-rowsview .dx-row",TC="".concat(I2," > td"),T2=".dx-treelist-rowsview .dx-row",AC="".concat(T2," > td"),OC={groupPanel:[".dx-datagrid-group-panel .dx-group-panel-item[tabindex]"],columnHeaders:[".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action",".dx-treelist-headers .dx-header-row > td.dx-treelist-action"],filterRow:[".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input",".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input"],rowsView:["".concat(BV),"".concat(I2,"[tabindex]"),"".concat(TC,"[tabindex]"),"".concat(TC),"".concat(T2,"[tabindex]"),"".concat(AC,"[tabindex]"),"".concat(AC)],footer:[".dx-datagrid-total-footer .dx-datagrid-summary-item",".dx-treelist-total-footer .dx-treelist-summary-item"],filterPanel:[".dx-datagrid-filter-panel .dx-icon-filter",".dx-treelist-filter-panel .dx-icon-filter"],pager:[".dx-datagrid-pager [tabindex]",".dx-treelist-pager [tabindex]"]},Lp=!1,yc=!1,Ro=null;function PV(e,t,i,r,n,a){var s=NV(t,i.originalEvent,a);if(!s){var o=hi(i);o==="enter"||o==="space"?(FV(i.target,t),r&&r({event:i})):o==="tab"?n.addClass(yv):i0(e,t,i)}}function FV(e,t){var i=W(e),r=i.attr("aria-label"),n=A2(r,t.element()),a=n.index(i);Ro=re({},{ariaLabel:r,index:a},{viewInstance:t})}function A2(e,t){var i=W(t),r;return e?r=i.find('[aria-label="'.concat(e,'"][tabindex]')):r=i.find("[tabindex]"),r}function LV(e){for(var t in e){var i=e[t],r=W(i).first();if(r.length)return r}}function NV(e,t,i){var r={event:t,handled:!1};return i?i(r):e._createActionByOption("onKeyDown")(r),r.handled}function O2(){yc=we.getDocument().visibilityState==="visible"}function VV(){te.on(we.getDocument(),"visibilitychange",O2)}function $V(){te.off(we.getDocument(),"visibilitychange",O2)}function HV(e){yc=!0,e.focus(),yc=!1}function D2(e,t,i,r,n,a){if(t.option("useLegacyKeyboardNavigation"))return me;var s=()=>W(t.element()),o=d=>PV(e,t,d,n,s(),a),l=()=>{Lp=!0,s().removeClass(yv)},u=()=>{var d=!Lp&&!yc;d&&s().addClass(yv),Lp=!1};return te.on(i,"keydown",r,o),te.on(i,"mousedown",r,l),te.on(i,"focusin",r,u),()=>{te.off(i,"keydown",r,o),te.off(i,"mousedown",r,l),te.off(i,"focusin",r,u)}}function t0(e){if(!e.option("useLegacyKeyboardNavigation")&&Ro){var t=Ro.viewInstance;if(t){var i=A2(Ro.ariaLabel,t.element()),r=i.eq(Ro.index);Ro=null,te.trigger(r,"focus")}}}function i0(e,t,i){var r=hi(i);if(i.ctrlKey&&(r==="upArrow"||r==="downArrow"))for(var n=Object.keys(OC),a=n.indexOf(e);a>=0&&a<n.length;){a=r==="upArrow"?--a:++a;var s=n[a],o=OC[s],l=LV(o);if(l&&l.length){l.attr("tabindex",t.option("tabindex")||0),te.trigger(l,"focus"),l.removeClass(MV);break}}}function zV(e,t){e.option("useLegacyKeyboardnavigation")||t.attr("tabindex",e.option("tabindex")||0)}var lu=function(e,t,i,r,n){var a=t.getController("keyboardNavigation");t.option("useLegacyKeyboardNavigation")||a&&!a.isKeyboardEnabled()||(t.createAction("onKeyDown"),D2(e,t,i,r,n,s=>{t.executeAction("onKeyDown",s)}))},Np="text-content",WV="headers",jV="nowrap",UV=".dx-row",DC="dx-header-row",GV="dx-column-lines",KV="context-menu-sort-asc",qV="context-menu-sort-desc",XV="context-menu-sort-none",YV="dx-cell-focus-disabled",Vp="dx-visibility-hidden",RC="dx-text-content-alignment-",ZV="dx-sort-indicator",JV="dx-sort-index-indicator",QV=".dx-header-filter",e9="dx-header-filter-indicator",t9="dx-header-multi-row",R2={defaultOptions:function(){return{showColumnHeaders:!0,cellHintEnabled:!0}},views:{columnHeadersView:td.inherit(function(){var e=function(i,r,n){var a=W("<div>").addClass(i.addWidgetPrefix(Np));i.setAria("role","presentation",a),t(i,r,n.column,a);var s=i.option("showColumnLines"),o=i.getController("columns").getHeaderContentAlignment(n.column.alignment);return a[s||o==="right"?"appendTo":"prependTo"](r)};function t(i,r,n,a){var s=i._getIndicatorElements(r,!0),o=i._getIndicatorElements(r),l=s&&s.length,u=i._getColumnAlignment(n.alignment),d=".".concat(i._getIndicatorClassName("sort")),c=".".concat(i._getIndicatorClassName("sortIndex")),h=o.filter(d),f=o.children().filter(c);a=a||r.children("."+i.addWidgetPrefix(Np)),a.toggleClass(RC+u,l>0).toggleClass(RC+(u==="left"?"right":"left"),l>0&&n.alignment==="center").toggleClass(ZV,!!h.length).toggleClass(JV,!!f.length).toggleClass(e9,!!o.filter("."+i._getIndicatorClassName("headerFilter")).length)}return{_createTable:function(){var i=this.callBase.apply(this,arguments);return te.on(i,"mousedown selectstart",this.createAction(function(r){var n=r.event;n.shiftKey&&n.preventDefault()})),i},_isLegacyKeyboardNavigation(){return this.option("useLegacyKeyboardNavigation")},_getDefaultTemplate:function(i){var r=this;return function(n,a){var s=i.command?n:e(r,n,a),o=i.command!=="expand"&&i.caption;o?s.text(o):i.command&&n.html("&nbsp;")}},_getHeaderTemplate:function(i){return i.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(i)}},_processTemplate:function(i,r){var n=this,a,s=r.column,o=n.callBase(i);return r.rowType==="header"&&o&&s.headerCellTemplate&&!s.command?a={render:function(l){var u=e(n,l.container,l.model);o.render(re({},l,{container:u}))}}:a=o,a},_handleDataChanged:function(i){i.changeType==="refresh"&&(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())},_renderCell:function(i,r){var n=this.callBase(i,r);return r.row.rowType==="header"&&(n.addClass(YV),this._isLegacyKeyboardNavigation()||r.column&&!r.column.type&&n.attr("tabindex",this.option("tabindex")||0)),n},_setCellAriaAttributes:function(i,r){this.callBase(i,r),r.rowType==="header"&&(this.setAria("role","columnheader",i),r.column&&!r.column.command&&!r.column.isBand&&(i.attr("id",r.column.headerId),this.setAria("label",_e.format("dxDataGrid-ariaColumn")+" "+r.column.caption,i)))},_createRow:function(i){var r=this.callBase.apply(this,arguments);return r.toggleClass(GV,this.option("showColumnLines")),i.rowType==="header"&&(r.addClass(DC),this._isLegacyKeyboardNavigation()||lu("columnHeaders",this,r,"td",this._handleActionKeyDown.bind(this))),r},_handleActionKeyDown:function(i){var r=i.event,n=W(r.target);if(this._lastActionElement=r.target,n.is(QV)){var a=this.getController("headerFilter"),s=n.closest("td"),o=this.getColumnIndexByElement(s);o>=0&&a.showHeaderFilterMenu(o,!1)}else{var l=n.closest(UV);this._processHeaderAction(r,l)}r.preventDefault()},_renderCore:function(){var i=this,r=i.element();i._tableElement&&!i._dataController.isLoaded()&&!i._hasRowElements||(r.addClass(i.addWidgetPrefix(WV)).toggleClass(i.addWidgetPrefix(jV),!i.option("wordWrapEnabled")).empty(),i.setAria("role","presentation",r),i._updateContent(i._renderTable()),i.getRowCount()>1&&r.addClass(t9),i.callBase.apply(i,arguments))},_renderRows:function(){var i=this;(i._dataController.isLoaded()||i._hasRowElements)&&(i.callBase.apply(i,arguments),i._hasRowElements=!0)},_getRowVisibleColumns:function(i){return this._columnsController.getVisibleColumns(i)},_renderRow:function(i,r){r.columns=this._getRowVisibleColumns(r.row.rowIndex),this.callBase(i,r)},_createCell:function(i){var r=i.column,n=this.callBase.apply(this,arguments);return r.rowspan>1&&i.rowType==="header"&&n.attr("rowSpan",r.rowspan),n},_getRows:function(){var i=[],r=this.getRowCount();if(this.option("showColumnHeaders"))for(var n=0;n<r;n++)i.push({rowType:"header",rowIndex:n});return i},_getCellTemplate:function(i){if(i.rowType==="header")return this._getHeaderTemplate(i.column)},_columnOptionChanged:function(i){var r=i.changeTypes,n=i.optionNames;if(r.grouping||r.groupExpanding){r.grouping&&(this._isGroupingChanged=!0);return}this.callBase(i),(n.width||n.visible)&&this.resizeCompleted.fire()},_isElementVisible:function(i){return i&&i.visible},_alignCaptionByCenter:function(i){var r=this._getIndicatorContainer(i,!0);r&&r.length&&(r.filter("."+Vp).remove(),r=this._getIndicatorContainer(i),r.clone().addClass(Vp).css("float","").insertBefore(i.children("."+this.addWidgetPrefix(Np))))},_updateCell:function(i,r){r.rowType==="header"&&r.column.alignment==="center"&&this._alignCaptionByCenter(i),this.callBase.apply(this,arguments)},_updateIndicator:function(i,r,n){var a=this.callBase.apply(this,arguments);return r.alignment==="center"&&this._alignCaptionByCenter(i),t(this,i,r),a},_getIndicatorContainer:function(i,r){var n=this.callBase(i);return r?n:n.filter(":not(."+Vp+")")},_isSortableElement:function(){return!0},getHeadersRowHeight:function(){var i=this.getTableElement(),r=i&&i.find("."+DC);return r&&r.toArray().reduce(function(n,a){return n+nt(a)},0)||0},getHeaderElement:function(i){var r=this.getColumnElements();return r&&r.eq(i)},getColumnElements:function(i,r){var n=this,a,s=n._columnsController,o=n.getRowCount();if(n.option("showColumnHeaders")){if(o>1&&(!Z(i)||Z(r))){var l=[],u=Z(r)?s.getChildrenByBandColumn(r,!0):s.getVisibleColumns();return le(u,function(d,c){var h=Z(i)?i:s.getRowIndex(c.index);a=n._getCellElement(h,s.getVisibleIndex(c.index,h)),a&&l.push(a.get(0))}),W(l)}else if(!i||i<o)return n.getCellElements(i||0)}},getColumnIndexByElement:function(i){var r=this.getCellIndex(i),n=i.closest(".dx-row"),a=n[0].rowIndex,s=this.getColumns(a)[r];return s?s.index:-1},getVisibleColumnIndex:function(i,r){var n=this.getColumns()[i];return n?this._columnsController.getVisibleIndex(n.index,r):-1},getColumnWidths:function(){var i=this.getColumnElements();return i&&i.length?this._getWidths(i):this.callBase.apply(this,arguments)},allowDragging:function(i,r,n){var a,s=0,o=i&&this._columnsController.getRowIndex(i.index),l=this.getColumns(o===0?0:null),u=(i==null?void 0:i.allowHiding)&&l.length>1,d=function(h){return h.allowReordering||h.allowGrouping||h.allowHiding};for(a=0;a<l.length;a++)d(l[a])&&s++;if(s<=1&&!u)return!1;if(!n)return(this.option("allowColumnReordering")||this._columnsController.isColumnOptionUsed("allowReordering"))&&i&&i.allowReordering;for(a=0;a<n.length;a++){var c=n[a];if(c&&c.allowDragging(i,r))return!0}return!1},getBoundingRect:function(){var i=this.getColumnElements();if(i&&i.length){var r=this.getTableElement().offset();return{top:r.top}}return null},getName:function(){return"headers"},getColumnCount:function(){var i=this.getColumnElements();return i?i.length:0},isVisible:function(){return this.option("showColumnHeaders")},optionChanged:function(i){switch(i.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":this._invalidate(!0,!0),i.handled=!0;break;default:this.callBase(i)}},getHeight:function(){return this.getElementHeight()},getContextMenuItems:function(i){var r=this,n=i.column;if(i.row&&(i.row.rowType==="header"||i.row.rowType==="detailAdaptive")){var a=r.option("sorting");if(a&&a.mode!=="none"&&n&&n.allowSorting){var s=function(o){setTimeout(function(){r._columnsController.changeSortOrder(n.index,o.itemData.value)})};return[{text:a.ascendingText,value:"asc",disabled:n.sortOrder==="asc",icon:KV,onItemClick:s},{text:a.descendingText,value:"desc",disabled:n.sortOrder==="desc",icon:qV,onItemClick:s},{text:a.clearText,value:"none",disabled:!n.sortOrder,icon:XV,onItemClick:s}]}}},getRowCount:function(){return this._columnsController&&this._columnsController.getRowCount()},setRowsOpacity:function(i,r,n){var a=this,s,o,l=a.getRowCount(),u=a._columnsController.getColumns(),d=u&&u[i],c=d&&d.isBand&&d.index,h=function(f,p){p.ownerBand===c&&(o.eq(f).css({opacity:r}),p.isBand&&a.setRowsOpacity(p.index,r,s+1))};if(Z(c))for(n=n||0,s=n;s<l;s++)o=a.getCellElements(s),le(a.getColumns(s),h)}}}())}};R2.views.columnHeadersView;Le.registerModule("columnHeaders",R2);var k2="number",M2="yyyy/MM/dd",i9="yyyy/MM/dd HH:mm:ss",B2=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,P2=/^(\d{2}):(\d{2})(:(\d{2}))?$/,kC=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],r9=/^(\d{4})\/(\d{2})\/(\d{2})$/,n9=3,F2=function(e,t){var i;return Ue(e)&&!t&&(i=s9(e)),i||a9(e)};function rr(e){return+e||0}function a9(e){var t=L2(e)===M2,i=!tr(e)&&Date.parse(e);if(!i&&t){var r=e.match(r9);if(r){var n=new Date(rr(r[1]),rr(r[2]),rr(r[3]));return n.setFullYear(rr(r[1])),n.setMonth(rr(r[2])-1),n.setDate(rr(r[3])),n}}return Kt(i)?new Date(i):e}function s9(e){var t=e.match(B2);if(!t)return t=e.match(P2),t?new Date(0,0,0,rr(t[1]),rr(t[2]),rr(t[4])):void 0;var i=rr(t[1]),r=--t[3],n=t[5],a=0,s=0,o=h=>(i<100&&h.setFullYear(i),h);a=rr(t[14]),s=rr(t[16]),t[13]==="-"&&(a=-a,s=-s);var l=rr(t[6])-a,u=rr(t[8])-s,d=rr(t[10]),c=function(h){return h=h||"",rr(h)*Math.pow(10,n9-h.length)}(t[11]);return t[12]?o(new Date(Date.UTC(i,r,n,l,u,d,c))):o(new Date(i,r,n,l,u,d,c))}var o9=function(e,t){var i=e.match(B2),r="";if(!i)return i=e.match(P2),i?i[3]?"HH:mm:ss":"HH:mm":void 0;for(var n=1;n<kC.length;n++)i[n]&&(r+=kC[n]||i[n]);return i[12]==="Z"&&(r+="'Z'"),i[14]&&(i[15]?r+="xxx":i[16]?r+="xx":r+="x"),r},l9=function(e){return typeof e=="number"?new Date(e):F2(e,!Jt().forceIsoDateParsing)},u9=function(e,t){return t?tr(e)?t===k2?e&&e.valueOf?e.valueOf():null:gI(t,zl)(e):null:e},L2=function(e){if(typeof e=="number")return k2;if(Ue(e)){var t;return Jt().forceIsoDateParsing&&(t=o9(e)),t||(e.indexOf(":")>=0?i9:M2)}else if(e)return null};const Mi={dateParser:F2,deserializeDate:l9,serializeDate:u9,getDateSerializationFormat:L2};var N2=["filterValues","filterType","fixed","fixedPosition"],$d=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","lastSortOrder","sortIndex","groupIndex","filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","added"].concat(N2),d9={visibleWidth:!0,bestFitWidth:!0,bufferedFilterValue:!0},h9="dx-command-expand",MC=Number.MAX_SAFE_INTEGER||9007199254740991,fa="groupExpand",$p=/columns\[(\d+)\]\.?/gi,c9=1,BC={defaultOptions:function(){return{commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:_e.format("dxDataGrid-trueText"),falseText:_e.format("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,columnResizingMode:"nextColumn",columnMinWidth:void 0,columnWidth:void 0,adaptColumnWidthByRatio:!0,columns:void 0,regenerateColumnsByVisibleItems:!1,customizeColumns:null,dateSerializationFormat:void 0}},controllers:{columns:ei.Controller.inherit(function(){var e={visible:!0,showInColumnChooser:!0},t={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"],datetime:["=","<>","<",">","<=",">=","between"]},i={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0},r=function(O){O.filterOperations=O.defaultFilterOperations},n=function(O,L,V,X){var B={};if(L){Ue(L)&&(L={dataField:L}),O.setName(L);var K={};if(L.command)K=vn(B,L);else{B=O.getCommonSettings(L),V&&V.name&&V.dataField&&(L=re({},L,{dataField:V.dataField}));var R=O._createCalculatedColumnOptions(L,X);L.type||(K={headerId:"dx-col-".concat(c9++)}),K=vn(K,e),vn(K,B),vn(K,R),vn(K,L),vn(K,{selector:null})}return L.filterOperations===L.defaultFilterOperations&&r(K),K}},a=function O(L,V,X){var B=[];return V&&le(V,function(K,R){var M=L._columnsUserState&&b(R,L._columnsUserState[K])&&L._columnsUserState[K],G=n(L,R,M,X);G&&(X&&(G.ownerBand=X),B.push(G),G.columns&&(B=B.concat(O(L,G.columns,G)),delete G.columns,G.hasColumns=!0))}),B},s=function(O,L){for(var V=[],X=L[O];X;)V.unshift(X),O=X.index,X=L[O];return V},o=function(O,L,V){var X=[],B=L[O];if(B)for(var K=0;K<B.length;K++){var R=B[K];(!Z(R.groupIndex)||R.showWhenGrouped)&&(X.push(R),V&&R.isBand&&(X=X.concat(o(R.index,L,V))))}return X},l=function(O,L){var V=[],X,B=O.getBandColumnsCache(),K=function(M){return M.ownerBand===L.ownerBand};if(B.isPlain){var R=O._columns.indexOf(L);R>=0&&(V=["columns[".concat(R,"]")])}else for(X=O._columns.filter(K);X.length&&X.indexOf(L)!==-1;)V.unshift("columns[".concat(X.indexOf(L),"]")),L=B.columnParentByIndex[L.index],X=L?O._columns.filter(K):[];return V.join(".")},u=function O(L,V){var X=0,B=L.getChildrenByBandColumn(V,!0);return le(B,function(K,R){R.isBand?(R.colspan=R.colspan||O(L,R.index),X+=R.colspan||1):X+=1}),X},d=function(O){var L=Wr(O);return L!=="string"&&L!=="boolean"&&L!=="number"&&L!=="date"&&L!=="object"&&(L=void 0),L},c=function(O,L){switch(O){case"date":case"datetime":return Mi.getDateSerializationFormat(L);case"number":if(Ue(L))return"string";if(Kt(L))return null}},h=function(O,L){O.deserializeValue||(Ee.isDateType(L)&&(O.deserializeValue=function(V){return Mi.deserializeDate(V)},O.serializeValue=function(V){return Ue(V)?V:Mi.serializeDate(V,this.serializationFormat)}),L==="number"&&(O.deserializeValue=function(V){var X=parseFloat(V);return isNaN(X)?V:X},O.serializeValue=function(V,X){return X==="filter"?V:Z(V)&&this.serializationFormat==="string"?V.toString():V}))},f=function(O){return O.value===!0?this.trueText||"true":O.value===!1?this.falseText||"false":O.valueText||""},p=function(O){if(O==="boolean")return f},g=function(O){le(O._columns,function(L,V){V.index=L}),le(O._columns,function(L,V){Ge(V.ownerBand)&&(V.ownerBand=V.ownerBand.index)}),le(O._commandColumns,function(L,V){V.index=-(L+1)})},m=function(O,L){Wl(O._columns,"groupIndex",L,function(V){var X=V.grouped;return delete V.grouped,X})},v=function(O,L,V){var X=Ge(L)?L.rowIndex:null,B=V==="group"?O.getGroupColumns():V==="columnChooser"?O.getChooserColumns():O.getVisibleColumns(X),K;return L=Ge(L)?L.columnIndex:L,K=B[L],K&&K.type===fa&&(K=O._columns.filter(R=>K.type===R.type)[0]||K),K&&Z(K.index)?K.index:-1};function b(O,L){return O&&L&&L.name===(O.name||O.dataField)&&(L.dataField===O.dataField||O.name)}var y=function(O){var L=O._columnsUserState,V=O._ignoreColumnOptionNames||[],X=O._columns,B={},K=[],R=!0,M=[],G,Q,ne;function ie(Y,J){if(J)for(var ee=0;ee<$d.length;ee++){var ue=$d[ee];V.includes(ue)||(ue==="dataType"?Y[ue]=Y[ue]||J[ue]:N2.includes(ue)?ue in J&&(Y[ue]=J[ue]):(ue==="selectedFilterOperation"&&J[ue]&&(Y.defaultSelectedFilterOperation=Y[ue]||null),Y[ue]=J[ue]))}}function U(Y,J){for(var ee=J.name||J.dataField,ue=B[ee]||0,de=0;de<Y.length;de++)if(b(J,Y[de]))if(ue)ue--;else return B[ee]=B[ee]||0,B[ee]++,de;return-1}if(L){for(ne=0;ne<X.length;ne++)Q=U(L,X[ne]),R=R&&Q>=0,M.push(Q);for(ne=0;ne<X.length;ne++)G=X[ne],Q=M[ne],(O._hasUserState||R)&&ie(G,L[Q]),Q>=0&&Z(L[Q].initialIndex)?K[Q]=G:K.push(G);var se=!1;for(ne=0;ne<L.length;ne++){var ae=L[ne];ae.added&&U(X,ae)<0&&(G=n(O,ae.added),ie(G,ae),K.push(G),ae.added.columns&&(se=!0))}se&&(g(O),K=a(O,K)),N(O,K)}},I=function(O,L){g(O),m(O,L),function(V,X){le(V._columns,function(B,K){Z(K.sortIndex)&&!H(K.sortOrder)&&delete K.sortIndex}),Wl(V._columns,"sortIndex",X,function(B){return!Z(B.groupIndex)&&H(B.sortOrder)})}(O,L),k(O),function(V,X){for(var B,K=[],R=V.getBandColumnsCache(),M=[],G=V._columns.filter(ie=>!ie.command),Q=0;Q<G.length;Q++){B=G[Q];var ne=s(Q,R.columnParentByIndex);ne.length?M.push(B):K.push(B)}Wl(M,"visibleIndex",X),Wl(K,"visibleIndex",X)}(O,L)},D=function(O){O.resetColumnsCache()};function N(O,L){O._columns=L,D(O),O.updateColumnDataTypes()}var z=function(O,L,V,X){var B=O._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:X};V=V||"all",V=V.split(".")[0];var K=B.changeTypes;L&&!K[L]&&(K[L]=!0,K.length++);var R=B.optionNames;V&&!R[V]&&(R[V]=!0,R.length++),(X===void 0||X!==B.columnIndex)&&delete B.columnIndex,O._columnChanges=B,D(O)},F=function(O){var L=O.option("onColumnsChanging"),V=O._columnChanges,X=["dataField","lookup","dataType","columns"];O.isInitialized()&&!O._updateLockCount&&V&&(L&&(O._updateLockCount++,L(re({component:O.component},V)),O._updateLockCount--),O._columnChanges=void 0,B=V.optionNames,B&&X.some(K=>B[K])?O.reinit():O.columnsChanged.fire(V));var B},$=function(O,L,V,X){var B=X>=0;if(V>=0)B||(L.lastSortOrder=L.sortOrder);else{var K=O.option("sorting.mode"),R=L.lastSortOrder;if(K==="single"){var M=O._columns.some(G=>G!==L&&Z(G.sortIndex));M&&(R=void 0)}L.sortOrder=R}},j=function(O,L){var V=L.value,X=L.optionName,B=L.prevValue,K=L.fullOptionName,R="".concat(K,".").concat(X);!d9[X]&&O._skipProcessingColumnsChange!==R&&(O._skipProcessingColumnsChange=R,O.component._notifyOptionChanged(R,V,B),O._skipProcessingColumnsChange=!1)},q=function(O,L,V,X,B){var K=jt(V),R=L.index,M,G,Q;if(arguments.length===3)return K(L,{functionsAsIs:!0});var ne=K(L,{functionsAsIs:!0});if(!ni(ne,X)){V==="groupIndex"||V==="calculateGroupValue"?(G="grouping",$(O,L,X,ne)):V==="sortIndex"||V==="sortOrder"||V==="calculateSortValue"?G="sorting":G="columns";var ie=l_(V);ie(L,X,{functionsAsIs:!0});var U=l(O,L);i[V]&&(I(O,L),X=K(L)),(V==="name"||V==="allowEditing")&&O._checkColumns(),!Z(ne)&&!Z(X)&&V.indexOf("buffer")!==0&&(B=!0),B?D(O):(!$d.includes(V)&&V!=="visibleWidth"&&(M=O.option("columns"),Q=O.getColumnByPath(U,M),Ue(Q)&&(Q=M[R]={dataField:Q}),Q&&b(Q,L)&&ie(Q,X,{functionsAsIs:!0})),z(O,G,V,R)),U&&j(O,{fullOptionName:U,optionName:V,value:X,prevValue:ne})}};function H(O){return O==="asc"||O==="desc"}var A=function(O,L){var V=this.dataField.split("."),X=V.length-1;this.serializeValue&&(L=this.serializeValue(L));for(var B=0;B<X;B++){var K=V[B];O=O[K]=O[K]||{}}O[V[X]]=L},T=(O,L)=>!!O._columns.filter(V=>V.type===L.type).length,E=function(O,L){var V=O.option("rtlEnabled");return L.command&&!T(O,L)||!L.fixedPosition?V?"right":"left":L.fixedPosition},C=function(O,L,V,X){var B,K=this.getRowCount(),R=O[X]&&O[X].rowspan,M=L.filter(G=>G.type===V);return O.forEach((G,Q)=>{G.type===V&&(B=Q,R=O[Q+1]?O[Q+1].rowspan:K)}),R>1&&(M=Si(M,function(G){return re({},G,{rowspan:R})})),M.unshift.apply(M,Z(B)?[B,1]:[X,0]),O.splice.apply(O,M),R||1},w=function(O,L){for(var V=O?O.toString():"0";V.length<L;)V="0"+V;return V},S=(O,L,V,X)=>{for(var B,K,R=L.slice().map(se=>re({},se)),M=O._isColumnFixing(),G=V.slice().map(se=>re({fixed:M},se)),Q=se=>V.reduce((ae,Y,J)=>{var ee=X&&se.type===fa?"expand":se.type;return Y.type===ee||Y.command===se.command?J:ae},-1),ne=se=>se.command!==V[K].command,ie=0;ie<L.length;ie++)if(B=L[ie],K=B&&(B.type||B.command)?Q(B):-1,K>=0)if(X)R[ie]=re({fixed:M},V[K],B),B.type!==fa&&(G=G.filter(ne));else{var U={visibleIndex:B.visibleIndex,index:B.index,headerId:B.headerId,allowFixing:B.groupIndex===0,allowReordering:B.groupIndex===0,groupIndex:B.groupIndex};R[ie]=re({},B,V[K],B.type===fa&&U)}return L.length&&X&&G.length&&(R=R.concat(G)),R},x=(O,L)=>Z(L.fixed)||!L.type?L.fixed:O._isColumnFixing(),k=O=>{O._bandColumnsCache=void 0},P=(O,L)=>{var V=Ue(L)&&L.substr(0,L.indexOf(":")),X;if(L!==void 0)return V&&(L=L.substr(V.length+1)),V?X=O.filter(B=>""+B[V]===L)[0]:["index","name","dataField","caption"].some(B=>(X=O.filter(K=>K[B]===L)[0],!!X)),X};return{_getExpandColumnOptions:function(){return{type:"expand",command:"expand",width:"auto",cssClass:h9,allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1}},_getFirstItems:function(O){var L,V=[];return O&&O.items().length>0&&(L=Ee.normalizeSortingInfo(O.group()).length,V=function X(B,K){if(!B||!K)return B;for(var R=0;R<B.length;R++){var M=X(B[R].items||B[R].collapsedItems,K-1);if(M&&M.length)return M}}(O.items(),L)||[]),V},_endUpdateCore:function(){!this._skipProcessingColumnsChange&&F(this)},init:function(O){var L=this.option("columns");this._commandColumns=this._commandColumns||[],this._columns=this._columns||[],this._isColumnsFromOptions=!!L,this._isColumnsFromOptions?(N(this,L?a(this,L):[]),y(this)):N(this,this._columnsUserState?a(this,this._columnsUserState):this._columns),function(V){var X=V._getExpandColumnOptions();V.addCommandColumn(X)}(this),this._dataSourceApplied?this.applyDataSource(this._dataSource,!0,O):I(this),this._checkColumns()},callbackNames:function(){return["columnsChanged"]},getColumnByPath:function(O,L){var V,X=[];return O.replace($p,function(B,K){return X.push(parseInt(K)),""}),X.length&&(L?V=X.reduce(function(B,K){return B&&B.columns&&B.columns[K]},{columns:L}):V=function(B,K){var R,M,G=B.getBandColumnsCache(),Q=function(ie){var U=R?R.index:void 0;return ie.ownerBand===U};if(G.isPlain)R=B._columns[K[0]];else{M=B._columns.filter(Q);for(var ne=0;ne<K.length;ne++)R=M[K[ne]],R&&(M=B._columns.filter(Q))}return R}(this,X)),V},optionChanged:function(O){var L;switch(O.name){case"adaptColumnWidthByRatio":O.handled=!0;break;case"dataSource":O.value!==O.previousValue&&!this.option("columns")&&(!Array.isArray(O.value)||!Array.isArray(O.previousValue))&&(this._columns=[]);break;case"columns":L=this._skipProcessingColumnsChange,O.handled=!0,this._skipProcessingColumnsChange||(O.name===O.fullName?(this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init()):(this._columnOptionChanged(O),L=!0)),L&&this._updateRequireResize(O);break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"columnHidingEnabled":case"dateSerializationFormat":case"columnResizingMode":case"columnMinWidth":case"columnWidth":O.handled=!0;var V=O.fullName==="columnWidth"&&["width"];this.reinit(V);break;case"rtlEnabled":this.reinit();break;default:this.callBase(O)}},_columnOptionChanged:function(O){var L={},V=this.getColumnByPath(O.fullName),X=O.fullName.replace($p,"");V&&(X?L[X]=O.value:L=O.value,this._skipProcessingColumnsChange=O.fullName,this.columnOption(V.index,L),this._skipProcessingColumnsChange=!1)},_updateRequireResize:function(O){var L=this.component;O.fullName.replace($p,"")==="width"&&L._updateLockCount&&(L._requireResize=!0)},publicMethods:function(){return["addColumn","deleteColumn","columnOption","columnCount","clearSorting","clearGrouping","getVisibleColumns","getVisibleColumnIndex"]},applyDataSource:function(O,L,V){var X=O&&O.isLoaded();if(this._dataSource=O,!this._dataSourceApplied||this._dataSourceColumnsCount===0||L||this.option("regenerateColumnsByVisibleItems"))if(X){if(!this._isColumnsFromOptions){var B=function(K,R){for(var M=K._getFirstItems(R),G,Q={},ne=[],ie=0;ie<M.length;ie++)if(M[ie])for(G in M[ie])(!Re(M[ie][G])||or.isWrapped(M[ie][G]))&&(Q[G]=!0);for(G in Q)if(G.indexOf("__")!==0){var U=n(K,G);ne.push(U)}return ne}(this,O);B.length&&(N(this,B),this._dataSourceColumnsCount=this._columns.length,y(this))}return this.updateColumns(O,L,V)}else this._dataSourceApplied=!1,I(this);else if(X&&!this.isAllDataTypesDefined(!0)&&this.updateColumnDataTypes(O))return z(this,"columns"),F(this),new pe().reject().promise()},reset:function(){this._dataSource=null,this._dataSourceApplied=!1,this._dataSourceColumnsCount=void 0,this.reinit()},resetColumnsCache:function(){this._visibleColumns=void 0,this._fixedColumns=void 0,this._rowCount=void 0,k(this)},reinit:function(O){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=O||null,this.init(),O&&(this._ignoreColumnOptionNames=null)},isInitialized:function(){return!!this._columns.length||!!this.option("columns")},isDataSourceApplied:function(){return this._dataSourceApplied},getCommonSettings:function(O){var L=(!O||!O.type)&&this.option("commonColumnSettings")||{},V=this.option("grouping")||{},X=this.option("groupPanel")||{};return re({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing")||void 0,allowReordering:this.option("allowColumnReordering"),minWidth:this.option("columnMinWidth"),width:this.option("columnWidth"),autoExpandGroup:V.autoExpandAll,allowCollapsing:V.allowCollapsing,allowGrouping:X.allowColumnDragging&&X.visible||V.contextMenuEnabled},L)},isColumnOptionUsed:function(O){for(var L=0;L<this._columns.length;L++)if(this._columns[L][O])return!0},isAllDataTypesDefined:function(O){var L=this._columns;if(!L.length)return!1;for(var V=0;V<L.length;V++)if(!(!L[V].dataField&&L[V].calculateCellValue===L[V].defaultCalculateCellValue)&&(!L[V].dataType||O&&L[V].deserializeValue&&L[V].serializationFormat===void 0))return!1;return!0},getColumns:function(){return this._columns},isBandColumnsUsed:function(){return this.getColumns().some(function(O){return O.isBand})},getGroupColumns:function(){var O=[];return le(this._columns,function(){Z(this.groupIndex)&&(O[this.groupIndex]=this)}),O},_shouldReturnVisibleColumns:function(){return!0},_compileVisibleColumns:function(O){return this._visibleColumns=this._visibleColumns||this._compileVisibleColumnsCore(),O=Z(O)?O:this._visibleColumns.length-1,this._visibleColumns[O]||[]},getVisibleColumns:function(O){return this._shouldReturnVisibleColumns()?this._compileVisibleColumns.apply(this,arguments):[]},getFixedColumns:function(O){return this._fixedColumns=this._fixedColumns||this._getFixedColumnsCore(),O=Z(O)?O:this._fixedColumns.length-1,this._fixedColumns[O]||[]},getFilteringColumns:function(){return this.getColumns().filter(O=>(O.dataField||O.name)&&(O.allowFiltering||O.allowHeaderFiltering)).map(O=>{var L=re(!0,{},O);return Z(L.dataField)||(L.dataField=L.name),L.filterOperations=O.filterOperations!==O.defaultFilterOperations?L.filterOperations:null,L})},getColumnIndexOffset:function(){return 0},_getFixedColumnsCore:function(){var O=[],L=this.getRowCount(),V=this._isColumnFixing(),X={command:"transparent"},B=0,K,R,M;if(V)for(var G=0;G<=L;G++){K=0,M=null,R=null;for(var Q=this.getVisibleColumns(G,!0),ne=0;ne<Q.length;ne++){var ie=Q[ne-1],U=Q[ne];U.fixed?ie&&ie.fixed&&E(this,ie)!==E(this,U)?Z(R)||(R=ne):M=U.fixedPosition:(G===0&&(U.isBand&&U.colspan?B+=U.colspan:B++),K++,Z(R)||(R=ne))}if(G===0&&(K===0||K>=Q.length))return[];Z(R)||(R=M==="right"?0:Q.length),O[G]=Q.slice(0),X.colspan||(X.colspan=B),O[G].splice(R,K,X)}return O.map(se=>se.map(ae=>{var Y=Ie({},ae);return Y.headerId&&(Y.headerId+="-fixed"),Y}))},_isColumnFixing:function(){var O=this.option("columnFixing.enabled");return!O&&le(this._columns,function(L,V){if(V.fixed)return O=!0,!1}),O},_getExpandColumnsCore:function(){return this.getGroupColumns()},getExpandColumns:function(){var O=this._getExpandColumnsCore(),L,V=O.filter(R=>R.groupIndex===0)[0],X=V&&V.fixed,B=this._isColumnFixing(),K=this.option("rtlEnabled");return O.length&&(L=this.columnOption("command:expand")),O=Si(O,R=>re({},R,{visibleWidth:null,minWidth:null,cellTemplate:Z(R.groupIndex)?null:R.cellTemplate,headerCellTemplate:null,fixed:!Z(R.groupIndex)||!X?B:!0,fixedPosition:K?"right":"left"},L,{index:R.index,type:R.type||fa})),O},getBandColumnsCache:function(){if(!this._bandColumnsCache){var O=this._columns,L={},V={},X=!0;O.forEach(function(B){var K=B.ownerBand,R=Ge(K)?K.index:K,M=O[R];B.hasColumns&&(X=!1),B.colspan&&(B.colspan=void 0),B.rowspan&&(B.rowspan=void 0),M?V[B.index]=M:R=-1,L[R]=L[R]||[],L[R].push(B)}),this._bandColumnsCache={isPlain:X,columnChildrenByIndex:L,columnParentByIndex:V}}return this._bandColumnsCache},_isColumnVisible:function(O){return O.visible&&this.isParentColumnVisible(O.index)},_compileVisibleColumnsCore:function(){var O=this,L,V=[],X=0,B=0,K=O.getRowCount(),R=[],M=[],G=0,Q,ne=O.option("rtlEnabled"),ie=O.getBandColumnsCache(),U=S(O,O.getExpandColumns(),O._columns),se=S(O,O._columns,O._commandColumns,!0),ae=function(Y){var J;for(J=0;Y>1;J++)Y/=10;return J}(se.length);for(function(Y,J,ee){for(var ue,de=0;de<J.length;de++){var oe=J[de];(oe.visible||oe.command)&&(oe.isBand&&(oe.colspan=oe.colspan||u(Y,oe.index)),(!oe.isBand||!oe.colspan)&&(ue=Y.getRowCount(),!oe.command&&(!Z(oe.groupIndex)||oe.showWhenGrouped)&&(ue-=s(oe.index,ee.columnParentByIndex).length),ue>1&&(oe.rowspan=ue)))}}(O,se,ie),L=0;L<K;L++)V[L]=[],M[L]=[{}],R[L]=[{},{},{}];return le(se,function(){var Y=this.visibleIndex,J,ee=s(this.index,ie.columnParentByIndex),ue=O._isColumnVisible(this);if(ue&&(!Z(this.groupIndex)||this.showWhenGrouped)){var de=ee.length;if(Y<0?(Y=-Y,J=M[de]):(this.fixed=ee.length?ee[0].fixed:this.fixed,this.fixedPosition=ee.length?ee[0].fixedPosition:this.fixedPosition,this.fixed?(Q=this.fixedPosition==="right",ne&&(!this.command||T(O,this))&&(Q=!Q),Q?J=R[de][2]:J=R[de][0]):J=R[de][1]),ee.length)for(Y=w(Y,ae),L=ee.length-1;L>=0;L--)Y=w(ee[L].visibleIndex,ae)+Y;J[Y]=J[Y]||[],J[Y].push(this),G++}}),le(V,function(Y){Pg(M[Y],function(ee,ue){V[Y].unshift.apply(V[Y],ue)});var J=V[Y].length;le(R[Y],function(ee,ue){Pg(ue,function(de,oe){V[Y].push.apply(V[Y],oe)})}),B<Y+1&&(B+=C.call(O,V[Y],U,"detailExpand",J)),X<Y+1&&(X+=C.call(O,V[Y],U,fa,J))}),V.push(function Y(J,ee,ue){var de=[];return ee=ee||0,J[ee]&&le(J[ee],function(oe,ce){(ce.ownerBand===ue||ce.type===fa)&&(!ce.isBand||!ce.colspan?(!ce.command||ee<1)&&de.push(ce):de.push.apply(de,Y(J,ee+1,ce.index)))}),de}(V)),!G&&O._columns.length&&V[K].push({command:"empty"}),V},getInvisibleColumns:function(O,L){var V=this,X=[],B;return O=O||V._columns,le(O,function(K,R){if(R.ownerBand===L){if(R.isBand){R.visible?B=V.getInvisibleColumns(V.getChildrenByBandColumn(R.index),R.index):B=V.getChildrenByBandColumn(R.index),B.length&&(X.push(R),X=X.concat(B));return}R.visible||X.push(R)}}),X},getChooserColumns:function(O){var L=O?this.getColumns():this.getInvisibleColumns(),V=L.filter(B=>B.showInColumnChooser),X=this.option("columnChooser.sortOrder");return((B,K)=>{if(K!=="asc"&&K!=="desc")return B;var R=K==="asc"?1:-1;return B.sort(function(M,G){var Q=M.caption||"",ne=G.caption||"";return R*Q.localeCompare(ne)}),B})(V,X)},allowMoveColumn:function(O,L,V,X){var B=v(this,O,V),K=this._columns[B];return K&&(K.allowReordering||K.allowGrouping||K.allowHiding)?V===X?V==="columnChooser"?!1:(O=Ge(O)?O.columnIndex:O,L=Ge(L)?L.columnIndex:L,O!==L&&O+1!==L):V==="group"&&X!=="columnChooser"||X==="group"?K&&K.allowGrouping:V==="columnChooser"||X==="columnChooser"?K&&K.allowHiding:!0:!1},moveColumn:function(O,L,V,X){var B={},K,R=v(this,O,V),M=v(this,L,X),G;if(R>=0){var Q=this._columns[R];if(L=Ge(L)?L.columnIndex:L,G=M>=0?this._columns[M].groupIndex:-1,Z(Q.groupIndex)&&V==="group"&&(G>Q.groupIndex&&G--,X!=="group"?B.groupIndex=void 0:(K=Q.groupIndex,delete Q.groupIndex,m(this))),X==="group")B.groupIndex=function(U,se,ae){var Y=U.getGroupColumns(),J;if(ae>=0)for(J=0;J<Y.length;J++)Y[J].groupIndex>=ae&&Y[J].groupIndex++;else for(ae=0,J=0;J<Y.length;J++)ae=Math.max(ae,Y[J].groupIndex+1);return ae}(this,0,G),Q.groupIndex=K;else if(L>=0){var ne=this._columns[M];!ne||Q.ownerBand!==ne.ownerBand||x(this,Q)^x(this,ne)?B.visibleIndex=MC:B.visibleIndex=ne.visibleIndex}var ie=X!=="columnChooser";Q.visible!==ie&&(B.visible=ie),this.columnOption(Q.index,B)}},changeSortOrder:function(O,L){var V={},X=this.option("sorting"),B=X&&X.mode,K=B==="single"||!L,R=B==="single"||B==="multiple",M=this._columns[O];R&&M&&M.allowSorting&&(K&&!Z(M.groupIndex)&&le(this._columns,function(G){G!==O&&this.sortOrder&&(Z(this.groupIndex)||delete this.sortOrder,delete this.sortIndex)}),H(L)?M.sortOrder!==L&&(V.sortOrder=L):L==="none"?M.sortOrder&&(V.sortIndex=void 0,V.sortOrder=void 0):function(G){if(L==="ctrl"){if(!("sortOrder"in G&&"sortIndex"in G))return!1;V.sortOrder=void 0,V.sortIndex=void 0}else Z(G.groupIndex)||Z(G.sortIndex)?V.sortOrder=G.sortOrder==="desc"?"asc":"desc":V.sortOrder="asc";return!0}(M)),this.columnOption(M.index,V)},getSortDataSourceParameters:function(O){var L=[],V=[];return le(this._columns,function(){(this.dataField||this.selector||this.calculateCellValue)&&Z(this.sortIndex)&&!Z(this.groupIndex)&&(L[this.sortIndex]=this)}),le(L,function(){var X=this&&this.sortOrder;if(H(X)){var B={selector:this.calculateSortValue||this.displayField||this.calculateDisplayValue||O&&this.selector||this.dataField||this.calculateCellValue,desc:this.sortOrder==="desc"};this.sortingMethod&&(B.compare=this.sortingMethod.bind(this)),V.push(B)}}),V.length>0?V:null},getGroupDataSourceParameters:function(O){var L=[];return le(this.getGroupColumns(),function(){var V=this.calculateGroupValue||this.displayField||this.calculateDisplayValue||O&&this.selector||this.dataField||this.calculateCellValue;if(V){var X={selector:V,desc:this.sortOrder==="desc",isExpanded:!!this.autoExpandGroup};this.sortingMethod&&(X.compare=this.sortingMethod.bind(this)),L.push(X)}}),L.length>0?L:null},refresh:function(O){var L=[];return le(this._columns,function(){var V=this.lookup;if(V&&!this.calculateDisplayValue){if(O&&V.valueMap)return;V.update&&L.push(V.update())}}),Pe.apply(W,L).done(D.bind(null,this))},_updateColumnOptions:function(O,L){O.selector=O.selector||function(B){return O.calculateCellValue(B)},le(["calculateSortValue","calculateGroupValue","calculateDisplayValue"],function(B,K){var R=O[K];if(Re(R))if(R.originalCallback)O[K].context.column=O;else{var M={column:O};O[K]=function(G){return R.call(M.column,G)},O[K].originalCallback=R,O[K].columnIndex=L,O[K].context=M}}),Ue(O.calculateDisplayValue)&&(O.displayField=O.calculateDisplayValue,O.calculateDisplayValue=jt(O.displayField)),O.calculateDisplayValue&&(O.displayValueMap=O.displayValueMap||{}),h(O,O.dataType);var V=O.lookup;V&&h(V,V.dataType);var X=V?V.dataType:O.dataType;X&&(O.alignment=O.alignment||function(B,K){switch(B){case"number":return"right";case"boolean":return"center";default:return Za(K)}}(X,this.option("rtlEnabled")),O.format=O.format||Ee.getFormatByDataType(X),O.customizeText=O.customizeText||p(X),O.defaultFilterOperations=O.defaultFilterOperations||!V&&t[X]||[],Z(O.filterOperations)||r(O),O.defaultFilterOperation=O.filterOperations&&O.filterOperations[0]||"=",O.showEditorAlways=Z(O.showEditorAlways)?O.showEditorAlways:X==="boolean"&&!O.cellTemplate&&!O.lookup)},updateColumnDataTypes:function(O){var L=this,V=L.option("dateSerializationFormat"),X=L._getFirstItems(O),B=!1;return le(L._columns,function(K,R){var M,G,Q,ne,ie,U=R.lookup;if(Ee.isDateType(R.dataType)&&R.serializationFormat===void 0&&(R.serializationFormat=V),U&&Ee.isDateType(U.dataType)&&R.serializationFormat===void 0&&(U.serializationFormat=V),R.calculateCellValue&&X.length){if(!R.dataType||U&&!U.dataType){for(M=0;M<X.length;M++)G=R.calculateCellValue(X[M]),R.dataType||(ie=d(G),Q=Q||ie,Q&&ie&&Q!==ie&&(Q="string")),U&&!U.dataType&&(ie=d(Ee.getDisplayValue(R,G,X[M])),ne=ne||ie,ne&&ie&&ne!==ie&&(ne="string"));(Q||ne)&&(Q&&(R.dataType=Q),U&&ne&&(U.dataType=ne),B=!0)}if(R.serializationFormat===void 0||U&&U.serializationFormat===void 0)for(M=0;M<X.length;M++)G=R.calculateCellValue(X[M],!0),R.serializationFormat===void 0&&(R.serializationFormat=c(R.dataType,G)),U&&U.serializationFormat===void 0&&(U.serializationFormat=c(U.dataType,U.calculateCellValue(G,!0)))}L._updateColumnOptions(R,K)}),B},_customizeColumns:function(O){var L=this.option("customizeColumns");if(L){var V=O.some(function(X){return Ge(X.ownerBand)});V&&I(this),L(O),N(this,a(this,O))}},updateColumns:function(O,L,V){if(L||this.updateSortingGrouping(O),!O||O.isLoaded()){var X=O?O.sort()||[]:this.getSortDataSourceParameters(),B=O?O.group()||[]:this.getGroupDataSourceParameters(),K=O==null?void 0:O.lastLoadOptions().filter;V||this._customizeColumns(this._columns),I(this);var R=this._columns;return Pe(this.refresh(!0)).always(()=>{this._columns===R&&(this._updateChanges(O,{sorting:X,grouping:B,filtering:K}),F(this))})}},_updateChanges:function(O,L){O&&(this.updateColumnDataTypes(O),this._dataSourceApplied=!0),Ee.equalSortParameters(L.sorting,this.getSortDataSourceParameters())||z(this,"sorting"),Ee.equalSortParameters(L.grouping,this.getGroupDataSourceParameters())||z(this,"grouping");var V=this.getController("data");V&&!Ee.equalFilterParameters(L.filtering,V.getCombinedFilter())&&z(this,"filtering"),z(this,"columns")},updateSortingGrouping:function(O,L){var V=this,X,B,K=function(ie,U,se){le(ie,function(ae,Y){if(delete Y[se],U)for(var J=0;J<U.length;J++){var ee=U[J].selector,ue=U[J].isExpanded;if(ee===Y.dataField||ee===Y.name||ee===Y.selector||ee===Y.calculateCellValue||ee===Y.calculateGroupValue||ee===Y.calculateDisplayValue){L?Y.sortOrder="sortOrder"in Y?Y.sortOrder:U[J].desc?"desc":"asc":Y.sortOrder=Y.sortOrder||(U[J].desc?"desc":"asc"),ue!==void 0&&(Y.autoExpandGroup=ue),Y[se]=J;break}}})};if(O){X=Ee.normalizeSortingInfo(O.sort());var R=Ee.normalizeSortingInfo(O.group()),M=V.getGroupDataSourceParameters(),G=V.getSortDataSourceParameters(),Q=!Ee.equalSortParameters(R,M,!0),ne=!Q&&!Ee.equalSortParameters(R,M);V._columns.length||(le(R,function(ie,U){V._columns.push(U.selector)}),le(X,function(ie,U){Re(U.selector)||V._columns.push(U.selector)}),N(V,a(V,V._columns))),(L||!M&&!V._hasUserState)&&(Q||ne)&&(K(V._columns,R,"groupIndex"),L&&(Q&&z(V,"grouping"),ne&&z(V,"groupExpanding"),B=!0)),(L||!G&&!V._hasUserState)&&!Ee.equalSortParameters(X,G)&&(K(V._columns,X,"sortIndex"),L&&(z(V,"sorting"),B=!0)),B&&F(V)}},updateFilter:function(O,L,V,X){if(!Array.isArray(O))return O;if(O=re([],O),V=O.columnIndex!==void 0?O.columnIndex:V,X=O.filterValue!==void 0?O.filterValue:X,Ue(O[0])&&O[0]!=="!"){var B=this.columnOption(O[0]);L?Jt().forceIsoDateParsing&&B&&B.serializeValue&&O.length>1&&(O[O.length-1]=B.serializeValue(O[O.length-1],"filter")):B&&B.selector&&(O[0]=B.selector,O[0].columnIndex=B.index)}else Re(O[0])&&(O[0].columnIndex=V,O[0].filterValue=X);for(var K=0;K<O.length;K++)O[K]=this.updateFilter(O[K],L,V,X);return O},columnCount:function(){return this._columns?this._columns.length:0},columnOption:function(O,L,V,X){var B=this,K=B._columns.concat(B._commandColumns),R=P(K,O);if(R){if(arguments.length===1)return re({},R);if(Ue(L)){if(arguments.length===2)return q(B,R,L);q(B,R,L,V,X)}else Ge(L)&&le(L,function(M,G){q(B,R,M,G,X)});F(B)}},clearSorting:function(){var O=this.columnCount();this.beginUpdate();for(var L=0;L<O;L++)this.columnOption(L,"sortOrder",void 0);this.endUpdate()},clearGrouping:function(){var O=this.columnCount();this.beginUpdate();for(var L=0;L<O;L++)this.columnOption(L,"groupIndex",void 0);this.endUpdate()},getVisibleIndex:function(O,L){for(var V=this.getVisibleColumns(L),X=V.length-1;X>=0;X--)if(V[X].index===O)return X;return-1},getVisibleIndexByColumn:function(O,L){var V=this.getVisibleColumns(L),X=V.filter(B=>B.index===O.index&&B.command===O.command)[0];return V.indexOf(X)},getVisibleColumnIndex:function(O,L){var V=this.columnOption(O,"index");return this.getVisibleIndex(V,L)},addColumn:function(O){var L=n(this,O),V=this._columns.length;this._columns.push(L),L.isBand&&(this._columns=a(this,this._columns),L=this._columns[V]),L.added=O,I(this,L),this.updateColumns(this._dataSource),this._checkColumns()},deleteColumn:function(O){var L=this.columnOption(O);if(L&&L.index>=0){if(X=this._columns,X.forEach(B=>{Z(B.ownerBand)&&(B.ownerBand=X[B.ownerBand])}),this._columns.splice(L.index,1),L.isBand){var V=this.getChildrenByBandColumn(L.index).map(B=>B.index);this._columns=this._columns.filter(B=>V.indexOf(B.index)<0)}I(this),this.updateColumns(this._dataSource)}var X},addCommandColumn:function(O){var L=this._commandColumns.filter(V=>V.command===O.command)[0];L||(L=O,this._commandColumns.push(L))},getUserState:function(){var O=this._columns,L=[],V;function X(B,K){O[V][K]!==void 0&&(L[V][K]=O[V][K])}for(V=0;V<O.length;V++)L[V]={},le($d,X);return L},setName:function(O){O.name=O.name||O.dataField||O.type},setUserState:function(O){var L=this._dataSource,V=this.option("stateStoring.ignoreColumnOptionNames");if(O==null||O.forEach(this.setName),!V){V=[];var X=this.getCommonSettings();this.option("columnChooser.enabled")||V.push("visible"),this.option("sorting.mode")==="none"&&V.push("sortIndex","sortOrder"),X.allowGrouping||V.push("groupIndex"),X.allowFixing||V.push("fixed","fixedPosition"),X.allowResizing||V.push("width","visibleWidth");var B=!this.option("filterPanel.visible");!this.option("filterRow.visible")&&B&&V.push("filterValue","selectedFilterOperation"),!this.option("headerFilter.visible")&&B&&V.push("filterValues","filterType")}this._columnsUserState=O,this._ignoreColumnOptionNames=V,this._hasUserState=!!O,z(this,"filtering"),this.init(!0),L&&(L.sort(this.getSortDataSourceParameters()),L.group(this.getGroupDataSourceParameters()))},_checkColumns:function(){var O={},L=!1,V=[];this._columns.forEach(X=>{var B,K=X.name,R=(B=X.columns)===null||B===void 0?void 0:B.length,M=X.allowEditing&&(X.dataField||X.setCellValue)&&!R;K?(O[K]&&V.push('"'.concat(K,'"')),O[K]=!0):M&&(L=!0)}),V.length&&gt.log("E1059",V.join(", ")),L&&gt.log("E1060")},_createCalculatedColumnOptions:function(O,L){var V={},X=O.dataField;if((Array.isArray(O.columns)&&O.columns.length||O.isBand)&&(V.isBand=!0,X=null),X){if(Ue(X)){var B=jt(X);V={caption:Os(X),calculateCellValue:function(K,R){var M=B(K);return this.deserializeValue&&!R?this.deserializeValue(M):M},setCellValue:A,parseValue:function(K){var R,M;return this.dataType==="number"?Ue(K)&&this.format?R=function(G,Q){var ne=Wt.parse(G);if(Kt(ne)){var ie=Wt.format(ne,Q),U=Wt.format(ne,"decimal");if(ie===G||U===G)return ne}}(K.trim(),this.format):Z(K)&&Kt(K)&&(R=Number(K)):this.dataType==="boolean"?K===this.trueText?R=!0:K===this.falseText&&(R=!1):Ee.isDateType(this.dataType)?(M=ut.parse(K,this.format),M&&(R=M)):R=K,R}}}V.allowFiltering=!0}else V.allowFiltering=!!O.calculateFilterExpression;return V.calculateFilterExpression=function(){return Qo.defaultCalculateFilterExpression.apply(this,arguments)},V.createFilterExpression=function(K){var R;return this.calculateFilterExpression&&(R=this.calculateFilterExpression.apply(this,arguments)),Re(R)&&(R=[R,"=",!0]),R&&(R.columnIndex=this.index,R.filterValue=K),R},(!X||!Ue(X))&&re(!0,V,{allowSorting:!1,allowGrouping:!1,calculateCellValue:function(){return null}}),L&&(V.allowFixing=!1),O.dataType&&(V.userDataType=O.dataType),O.selectedFilterOperation&&!("defaultSelectedFilterOperation"in V)&&(V.defaultSelectedFilterOperation=O.selectedFilterOperation),O.lookup&&(V.lookup={calculateCellValue:function(K,R){return this.valueExpr&&(K=this.valueMap&&this.valueMap[K]),this.deserializeValue&&!R?this.deserializeValue(K):K},updateValueMap:function(){if(this.valueMap={},this.items)for(var K=jt(this.valueExpr),R=jt(this.displayExpr),M=0;M<this.items.length;M++){var G=this.items[M],Q=R(G);this.valueMap[K(G)]=Q,this.dataType=this.dataType||d(Q)}},update:function(){var K=this,R=K.dataSource;if(R)if(Re(R)&&!or.isWrapped(R)&&(R=R({})),ft(R)||R instanceof xn||Array.isArray(R)){if(K.valueExpr){var M=hl(R);return M.paginate=!1,R=new In(M),R.load().done(function(G){K.items=G,K.updateValueMap&&K.updateValueMap()})}}else gt.log("E1016");else K.updateValueMap&&K.updateValueMap()}}),V.resizedCallbacks=kt(),O.resized&&V.resizedCallbacks.add(O.resized.bind(O)),le(V,function(K){if(Re(V[K])&&K.indexOf("default")!==0){var R="default"+K.charAt(0).toUpperCase()+K.substr(1);V[R]=V[K]}}),V},getRowCount:function(){return this._rowCount=this._rowCount||function(O){var L=1,V=O.getBandColumnsCache(),X=V.columnParentByIndex;return O._columns.forEach(function(B){var K=s(B.index,X),R=K.filter(function(M){return!M.visible});B.visible&&!R.length&&(L=Math.max(L,K.length+1))}),L}(this),this._rowCount},getRowIndex:function(O,L){var V=this._columns[O],X=this.getBandColumnsCache();return V&&(L||V.visible&&!(V.command||Z(V.groupIndex)))?s(O,X.columnParentByIndex).length:0},getChildrenByBandColumn:function(O,L){var V=this.getBandColumnsCache(),X=o(O,V.columnChildrenByIndex,!L);return L?X.filter(function(B){return B.visible&&!B.command}).sort(function(B,K){return B.visibleIndex-K.visibleIndex}):X},isParentBandColumn:function(O,L){var V=!1,X=this._columns[O],B=this.getBandColumnsCache(),K=X&&s(O,B.columnParentByIndex);return K&&le(K,function(R,M){if(M.index===L)return V=!0,!1}),V},isParentColumnVisible:function(O){var L=!0,V=this.getBandColumnsCache(),X=O>=0&&s(O,V.columnParentByIndex);return X&&le(X,function(B,K){return L=L&&K.visible,L}),L},getColumnId:function(O){return O.command&&O.type===fa?T(this,O)?"type:"+O.type:"command:"+O.command:O.index},getCustomizeTextByDataType:p,getHeaderContentAlignment:function(O){var L=this.option("rtlEnabled");return L?O==="left"?"right":"left":O}}}())}};Le.registerModule("columns",{defaultOptions:function(){return re(!0,{},BC.defaultOptions(),{commonColumnSettings:{allowExporting:!0}})},controllers:BC.controllers});const f9=Le.Controller.inherit(function(){function e(s,o){if(s&&(s=s.slice(0),o))for(var l=0;l<s.length;l++)s[l]=re({key:s[l].key},s[l]),s[l].items=e(s[l].items,o-1);return s}function t(s,o,l){var u={reload:!0,fullReload:!0};return o&&(u={sorting:!Le.equalSortParameters(s.sort,o.sort),grouping:!Le.equalSortParameters(s.group,o.group,!0),groupExpanding:!Le.equalSortParameters(s.group,o.group)||o.groupExpand,filtering:!Le.equalFilterParameters(s.filter,o.filter),pageIndex:s.pageIndex!==o.pageIndex,skip:s.skip!==o.skip,take:s.take!==o.take,pageSize:s.pageSize!==o.pageSize,fullReload:l},u.reload=l||u.sorting||u.grouping||u.filtering,u.paging=u.pageIndex||u.pageSize||u.take),u}function i(s,o){var l=Le.normalizeSortingInfo(s.group||s.storeLoadOptions.group||s.loadOptions.group).length,u=[];if(r(u,s,l))return u;o&&function(d,c,h){var f=d.length,{storeLoadOptions:p}=c;if(p.skip!==void 0&&p.take&&!h){var g=[];r(g,c,h,!0);var m=g.length;if(f||m){var v,b;c.skip=(v=c.skip)!==null&&v!==void 0?v:p.skip,c.take=(b=c.take)!==null&&b!==void 0?b:p.take}f&&(p.skip+=f,p.take-=f,c.cachedDataPartBegin=d),m&&(p.take-=m,c.cachedDataPartEnd=g.reverse())}}(u,s,l)}function r(s,o,l,u){var d,c,h,{storeLoadOptions:f}=o,p=(d=(c=o.take)!==null&&c!==void 0?c:f.take)!==null&&d!==void 0?d:0,g=(h=o.cachedData)===null||h===void 0?void 0:h.items;if(p&&g){for(var m,v,b=(m=(v=o.skip)!==null&&v!==void 0?v:f.skip)!==null&&m!==void 0?m:0,y=0;y<p;y++){var I=u?p-1-y:y,D=I+b,N=g[D];if(N===void 0&&D in g)return!0;var z=n(o,N,l,I,p);if(z)s.push(z);else return!1}return!0}return!1}function n(s,o,l,u,d){if(l&&o){var c=u===0&&s.skips||[],h=u===d-1&&s.takes||[];return function f(p,g,m,v){if(g&&p){var b=Ie({},p),y=m[0]||0,I=v[0],D=p.items;if(D){if(I===void 0&&!D[y])return;b.items=[],m.length&&(b.isContinuation=!0),v.length&&(b.isContinuationOnNextPage=!0);for(var N=0;I===void 0?D[N+y]:N<I;N++){var z=D[N+y],F=N+1===I,$=f(z,g-1,N===0?m.slice(1):[],F?v.slice(1):[]);if($!==void 0)b.items.push($);else return}}return b}return p}(o,l,c,h)}else return o}function a(s,o,l,u){if(l&&o){var d=Ie({},o);delete d.isContinuation,delete d.isContinuationOnNextPage;var c=u[0]||0;return o.items&&(d.items=(s==null?void 0:s.items)||{},o.items.forEach((h,f)=>{var p=f+c,g=f===0?u.slice(1):[];d.items[p]=a(d.items[p],h,l-1,g)})),d}return o}return{init:function(s,o){var l=this;l._dataSource=s,l._remoteOperations=o||{},l._isLastPage=!s.isLastPage(),l._hasLastPage=!1,l._currentTotalCount=0,l._cachedData={items:{}},l._lastOperationTypes={},l._eventsStrategy=s._eventsStrategy,l._totalCountCorrection=0,l._isLoadingAll=!1,l.changed=kt(),l.loadingChanged=kt(),l.loadError=kt(),l.customizeStoreLoadOptions=kt(),l.changing=kt(),l.pushed=kt(),l._dataChangedHandler=l._handleDataChanged.bind(l),l._customizeStoreLoadOptionsHandler=l._handleCustomizeStoreLoadOptions.bind(l),l._dataLoadedHandler=l._handleDataLoaded.bind(l),l._loadingChangedHandler=l._handleLoadingChanged.bind(l),l._loadErrorHandler=l._handleLoadError.bind(l),l._pushHandler=l._handlePush.bind(l),l._changingHandler=l._handleChanging.bind(l),s.on("changed",l._dataChangedHandler),s.on("customizeStoreLoadOptions",l._customizeStoreLoadOptionsHandler),s.on("customizeLoadResult",l._dataLoadedHandler),s.on("loadingChanged",l._loadingChangedHandler),s.on("loadError",l._loadErrorHandler),s.on("changing",l._changingHandler),s.store().on("beforePush",l._pushHandler),le(s,function(u,d){!l[u]&&Re(d)&&(l[u]=function(){return this._dataSource[u].apply(this._dataSource,arguments)})})},remoteOperations:function(){return this._remoteOperations},dispose:function(s){var o=this._dataSource,l=o.store();o.off("changed",this._dataChangedHandler),o.off("customizeStoreLoadOptions",this._customizeStoreLoadOptionsHandler),o.off("customizeLoadResult",this._dataLoadedHandler),o.off("loadingChanged",this._loadingChangedHandler),o.off("loadError",this._loadErrorHandler),o.off("changing",this._changingHandler),l&&l.off("beforePush",this._pushHandler),s||o.dispose()},refresh:function(s,o){var l=this._dataSource;o.reload&&(this.resetCurrentTotalCount(),this._isLastPage=!l.paginate(),this._hasLastPage=this._isLastPage)},resetCurrentTotalCount:function(){this._currentTotalCount=0,this._totalCountCorrection=0},resetCache:function(){this._cachedStoreData=void 0,this._cachedPagingData=void 0},resetPagesCache:function(){this._cachedData={items:{}}},_needClearStoreDataCache:function(){var s=this.remoteOperations(),o=t(this._lastLoadOptions||{},{}),l=Object.keys(s).every(u=>!o[u]||!s[u]);return!l},push:function(s,o){var l=this.store();this._needClearStoreDataCache()&&(this._cachedStoreData=void 0),this._cachedPagingData=void 0,this.resetPagesCache(!0),this._cachedStoreData&&zo({keyInfo:l,data:this._cachedStoreData,changes:s}),o||this._applyBatch(s),this.pushed.fire(s)},getDataIndexGetter:function(){if(!this._dataIndexGetter){var s,o,l=this.store();this._dataIndexGetter=u=>{var d=o&&o!==this._cachedStoreData;if(!s||d){o=this._cachedStoreData||[],s={};for(var c=0;c<o.length;c++)s[En(l.keyOf(o[c]))]=c}return s[En(l.keyOf(u))]}}return this._dataIndexGetter},_getKeyInfo:function(){return this.store()},_applyBatch:function(s){var o=this._getKeyInfo(),l=this._dataSource,u=Le.normalizeSortingInfo(this.group()).length,d=this.totalCount(),c=this.option("editing.refreshMode")==="reshape",h=this.option("scrolling.mode")==="virtual",f=this.option("scrolling.legacyMode");s=s.filter(function(v){return!l.paginate()||v.type!=="insert"||v.index!==void 0});var p=()=>u?this.itemsCount():this.items().length,g=p();zo({keyInfo:o,data:this._items,changes:s,groupCount:u,useInsertIndex:!0}),zo({keyInfo:o,data:l.items(),changes:s,groupCount:u,useInsertIndex:!0});var m=this._currentTotalCount>0||!c&&h&&(!f||d===g);m&&(this._totalCountCorrection+=p()-g),s.splice(0,s.length)},_handlePush:function(s){var{changes:o}=s;this.push(o,!0)},_handleChanging:function(s){this.changing.fire(s),this._applyBatch(s.changes)},_needCleanCacheByOperation:function(s,o){var l=["filtering","sorting","paging"],u=l.indexOf(s),d=u>=0?l.slice(u):[s];return d.some(c=>o[c])},_customizeRemoteOperations:function(s,o){var l=this._cachedStoreData,u=this._cachedPagingData,d=this._cachedData;(s.storeLoadOptions.filter&&!s.remoteOperations.filtering||s.storeLoadOptions.sort&&!s.remoteOperations.sorting)&&(s.remoteOperations={filtering:s.remoteOperations.filtering,summary:s.remoteOperations.summary}),o.fullReload?(l=void 0,u=void 0,d={items:{}}):(o.reload?(u=void 0,d={items:{}}):o.groupExpanding&&(d={items:{}}),le(o,(c,h)=>{h&&this._needCleanCacheByOperation(c,s.remoteOperations)&&(l=void 0,u=void 0)})),u&&(s.remoteOperations.paging=!1),s.cachedStoreData=l,s.cachedPagingData=u,s.cachedData=d,s.isCustomLoading||(this._cachedStoreData=l,this._cachedPagingData=u,this._cachedData=d)},_handleCustomizeStoreLoadOptions(s){var o;this._handleDataLoading(s),((o=s.data)===null||o===void 0?void 0:o.length)!==0&&(s.data=i(s,!0)||s.cachedStoreData)},_handleDataLoading:function(s){var o=this._dataSource,l=this._lastLoadOptions;this.customizeStoreLoadOptions.fire(s),s.delay=this.option("loadingTimeout"),s.originalStoreLoadOptions=s.storeLoadOptions,s.remoteOperations=re({},this.remoteOperations());var u=!this.isLoaded()&&!this._isRefreshing;this.option("integrationOptions.renderedOnServer")&&!this.isLoaded()&&(s.delay=void 0);var d=re({pageIndex:this.pageIndex(),pageSize:this.pageSize()},s.storeLoadOptions),c=t(d,l,u);if(this._customizeRemoteOperations(s,c),!s.isCustomLoading){var h=this._isRefreshing;s.pageIndex=o.pageIndex(),s.lastLoadOptions=d,s.operationTypes=c,this._loadingOperationTypes=c,this._isRefreshing=!0,Pe(h||this._isRefreshed||this.refresh(s,c)).done(()=>{this._lastOperationId===s.operationId&&(this._isRefreshed=!0,this.load().always(()=>{this._isRefreshed=!1}))}).fail(()=>{o.cancel(s.operationId)}).always(()=>{this._isRefreshing=!1}),o.cancel(this._lastOperationId),this._lastOperationId=s.operationId,this._isRefreshing&&o.cancel(this._lastOperationId)}this._handleDataLoadingCore(s)},_handleDataLoadingCore:function(s){var o=s.remoteOperations;s.loadOptions={};var l=s.cachedData.extra,u={filter:!o.filtering,sort:!o.sorting,group:!o.grouping,summary:!o.summary,skip:!o.paging,take:!o.paging,requireTotalCount:l&&"totalCount"in l||!o.paging};le(s.storeLoadOptions,function(d,c){u[d]&&(s.loadOptions[d]=c,delete s.storeLoadOptions[d])}),l&&(s.extra=l)},_handleDataLoaded:function(s){var o=s.loadOptions,l=s.remoteOperations&&!s.remoteOperations.paging,u=s.cachedData,d=s.storeLoadOptions,c=this.option("cacheEnabled")!==!1&&d,h=c&&!s.isCustomLoading&&u&&(!l||d.group),f=c&&l,p=f&&!s.isCustomLoading;if(!o){this._dataSource.cancel(s.operationId);return}l&&(s.skip=o.skip,s.take=o.take,delete o.skip,delete o.take),o.group&&(o.group=s.group||o.group);var g=Le.normalizeSortingInfo(s.group||d.group||o.group).length;s.cachedDataPartBegin&&(s.data=s.cachedDataPartBegin.concat(s.data)),s.cachedDataPartEnd&&(s.data=s.data.concat(s.cachedDataPartEnd)),(!h||!i(s))&&(f&&s.cachedPagingData?s.data=e(s.cachedPagingData,g):(p&&(this._cachedStoreData?s.mergeStoreLoadData&&(s.data=this._cachedStoreData=this._cachedStoreData.concat(s.data)):this._cachedStoreData=e(s.data,Le.normalizeSortingInfo(d.group).length)),new dl(s.data).load(o).done(m=>{s.data=m,p&&(this._cachedPagingData=e(s.data,g))}).fail(m=>{s.data=new pe().reject(m)})),o.requireTotalCount&&l&&(s.extra=ft(s.extra)?s.extra:{},s.extra.totalCount=s.data.length),s.extra&&s.extra.totalCount>=0&&(d.requireTotalCount===!1||o.requireTotalCount===!1)&&(s.extra.totalCount=-1),this._handleDataLoadedCore(s),h&&(u.extra=u.extra||re({},s.extra),Pe(s.data).done(m=>{(function(v,b,y){for(var I,D,N,z,{storeLoadOptions:F}=v,$=(I=(D=v.skip)!==null&&D!==void 0?D:F.skip)!==null&&I!==void 0?I:0,j=(N=(z=v.take)!==null&&z!==void 0?z:F.take)!==null&&N!==void 0?N:0,q=0;q<j;q++){var H=q+$,A=v.cachedData.items,T=q===0&&v.skips||[];A[H]=a(A[H],b[q],y,T)}})(s,m,g)}))),Pe(s.data).done(()=>{s.lastLoadOptions&&(this._lastLoadOptions=s.lastLoadOptions,Object.keys(s.operationTypes).forEach(m=>{this._lastOperationTypes[m]=this._lastOperationTypes[m]||s.operationTypes[m]}))}),s.storeLoadOptions=s.originalStoreLoadOptions},_handleDataLoadedCore:function(s){s.remoteOperations&&!s.remoteOperations.paging&&Array.isArray(s.data)&&(s.skip!==void 0&&(s.data=s.data.slice(s.skip)),s.take!==void 0&&(s.data=s.data.slice(0,s.take)))},_handleLoadingChanged:function(s){this.loadingChanged.fire(s)},_handleLoadError:function(s){this.loadError.fire(s),this.changed.fire({changeType:"loadError",error:s})},_loadPageSize:function(){return this.pageSize()},_handleDataChanged:function(s){var o,l=this._dataSource,u=!1,d=!s||Z(s.changeType),c=this.itemsCount();d&&(this._isLastPage=!c||!this._loadPageSize()||c<this._loadPageSize(),this._isLastPage&&(this._hasLastPage=!0)),l.totalCount()>=0?l.pageIndex()>=this.pageCount()&&(l.pageIndex(this.pageCount()-1),this.pageIndex(l.pageIndex()),this.resetPagesCache(),l.load(),u=!0):d&&(o=l.pageIndex()*this.pageSize()+c,o>this._currentTotalCount&&(this._currentTotalCount=o,(l.pageIndex()===0||!this.option("scrolling.legacyMode"))&&(this._totalCountCorrection=0)),c===0&&l.pageIndex()>=this.pageCount()&&(l.pageIndex(this.pageCount()-1),this.option("scrolling.mode")!=="infinite"&&(l.load(),u=!0))),u||(this._operationTypes=this._lastOperationTypes,this._lastOperationTypes={},this.component._optionCache={},this.changed.fire(s),this.component._optionCache=void 0)},_scheduleCustomLoadCallbacks:function(s){var o=this;o._isCustomLoading=!0,s.always(function(){o._isCustomLoading=!1})},loadingOperationTypes:function(){return this._loadingOperationTypes},operationTypes:function(){return this._operationTypes},lastLoadOptions:function(){return this._lastLoadOptions||{}},isLastPage:function(){return this._isLastPage},_dataSourceTotalCount:function(){return this._dataSource.totalCount()},totalCount:function(){return parseInt((this._currentTotalCount||this._dataSourceTotalCount())+this._totalCountCorrection)},totalCountCorrection:function(){return this._totalCountCorrection},itemsCount:function(){return this._dataSource.items().length},totalItemsCount:function(){return this.totalCount()},pageSize:function(){var s=this._dataSource;return!arguments.length&&!s.paginate()?0:s.pageSize.apply(s,arguments)},pageCount:function(){var s=this.totalItemsCount()-this._totalCountCorrection,o=this.pageSize();return o&&s>0?Math.max(1,Math.ceil(s/o)):1},hasKnownLastPage:function(){return this._hasLastPage||this._dataSource.totalCount()>=0},loadFromStore:function(s,o){var l=this._dataSource,u=new pe;if(l)return o=o||l.store(),o.load(s).done(function(d,c){d&&!Array.isArray(d)&&Array.isArray(d.data)&&(c=d,d=d.data),u.resolve(d,c)}).fail(u.reject),u},isCustomLoading:function(){return!!this._isCustomLoading},load:function(s){var o=this,l=o._dataSource,u=new pe;if(s){var d=l.store(),c=l.loadOptions(),h={storeLoadOptions:s,isCustomLoading:!0};return le(d._customLoadOptions()||[],function(f,p){p in h.storeLoadOptions||(h.storeLoadOptions[p]=c[p])}),this._isLoadingAll=s.isLoadingAll,o._scheduleCustomLoadCallbacks(u),l._scheduleLoadCallbacks(u),o._handleCustomizeStoreLoadOptions(h),function(f,p){Z(p)?u_(f,p):f()}(function(){if(!l.store())return u.reject("canceled");Pe(h.data||o.loadFromStore(h.storeLoadOptions)).done(function(f,p){h.data=f,h.extra=p||{},o._handleDataLoaded(h),s.requireTotalCount&&h.extra.totalCount===void 0&&(h.extra.totalCount=d.totalCount(h.storeLoadOptions)),Pe(h.data,h.extra.totalCount).done(function(g,m){h.extra.totalCount=m,u.resolve(g,h.extra)}).fail(u.reject)}).fail(u.reject)},o.option("loadingTimeout")),u.fail(function(){o._eventsStrategy.fireEvent("loadError",arguments)}).always(()=>{this._isLoadingAll=!1}).promise()}else return l.load()},reload:function(s){return s?this._dataSource.reload():this._dataSource.load()},getCachedStoreData:function(){return this._cachedStoreData}}}());var Hp=f9;const id={extend:function(e){Hp=Hp.inherit(e)},create:function(e){return new Hp(e)}};var PC="_dataSourceOptions",FC="_dataSourceChangedHandler",LC="_dataSourceLoadErrorHandler",NC="_dataSourceLoadingChangedHandler",VC="_dataSourceFromUrlLoadMode",$C="_getSpecificDataSourceOption",HC="_normalizeDataSource",rd={postCtor:function(){this.on("disposing",(function(){this._disposeDataSource()}).bind(this))},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){var e=$C in this?this[$C]():this.option("dataSource"),t,i;this._disposeDataSource(),e&&(e instanceof In?(this._isSharedDataSource=!0,this._dataSource=e):(t=PC in this?this[PC]():{},i=this._dataSourceType?this._dataSourceType():In,e=hl(e,{fromUrlLoadMode:VC in this&&this[VC]()}),this._dataSource=new i(re(!0,{},t,e))),HC in this&&(this._dataSource=this[HC](this._dataSource)),this._addDataSourceHandlers())},_addDataSourceHandlers:function(){FC in this&&this._addDataSourceChangeHandler(),LC in this&&this._addDataSourceLoadErrorHandler(),NC in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this._dataSource.on("loadingChanged",(function(e){this._ready&&this._ready(!e)}).bind(this))},_addDataSourceChangeHandler:function(){var e=this._dataSource;this._proxiedDataSourceChangedHandler=(function(t){this[FC](e.items(),t)}).bind(this),e.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=this[LC].bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=this[NC].bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){if(this._dataSource){var e=this._dataSource;e.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():e.load()}},_loadSingle:function(e,t){return e=e==="this"?this._dataSource.key()||"this":e,this._dataSource.loadSingle(e,t)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource:function(){return this._dataSource||null}},Vh=function(e,t){var i=t(e);if(Ge(i))try{return JSON.stringify(i)}catch{return i}return i},p9=function(e,t,i,r){var n=Vh(e,r);return t[i[n]]},m9=function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<t.length;i++)if(e[i]!==t[i])return!1;return!0},V2=function(e,t,i,r){var n={},a={},s=0,o=0,l=[];e.forEach(function(b,y){var I=Vh(b,i);n[I]=y}),t.forEach(function(b,y){var I=Vh(b,i);a[I]=y});for(var u=Math.max(e.length,t.length),d=0;d<u+s;d++){var c=t[d],h=d-s+o,f=e[h],p=!c||f&&!p9(f,t,a,i);if(p)f&&(l.push({type:"remove",key:i(f),index:d,oldItem:f}),o++,d--);else{var g=Vh(c,i),m=n[g],v=e[m];if(!v)s++,l.push({type:"insert",data:c,index:d});else if(m===h)r(v,c)||l.push({type:"update",data:c,key:i(c),index:d,oldItem:v});else return}}return l},$2={defaultOptions:function(){return{loadingTimeout:0,dataSource:null,cacheEnabled:!0,repaintChangesOnly:!1,highlightChanges:!1,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:void 0,pageIndex:void 0}}},controllers:{data:ei.Controller.inherit({}).include(rd).inherit(function(){var e=function(i,r,n){var a=i._dataSource;if(a){if(n!==void 0){var s=i._getPagingOptionValue(r);if(s!==n){r==="pageSize"&&a.pageIndex(0),a[r](n),i._skipProcessingPagingChange=!0,i.option("paging."+r,n),i._skipProcessingPagingChange=!1;var o=a.pageIndex();return i._isPaging=r==="pageIndex",a[r==="pageIndex"?"load":"reload"]().done(()=>{i._isPaging=!1,i.pageChanged.fire(o)})}return pe().resolve().promise()}return a[r]()}return 0},t={init:function(){var i=this;i._items=[],i._cachedProcessedItems=null,i._columnsController=i.getController("columns"),i._isPaging=!1,i._currentOperationTypes=null,i._dataChangedHandler=r=>{i._currentOperationTypes=this._dataSource.operationTypes(),i._handleDataChanged(r),i._currentOperationTypes=null},i._columnsChangedHandler=i._handleColumnsChanged.bind(i),i._loadingChangedHandler=i._handleLoadingChanged.bind(i),i._loadErrorHandler=i._handleLoadError.bind(i),i._customizeStoreLoadOptionsHandler=i._handleCustomizeStoreLoadOptions.bind(i),i._changingHandler=i._handleChanging.bind(i),i._dataPushedHandler=i._handleDataPushed.bind(i),i._columnsController.columnsChanged.add(i._columnsChangedHandler),i._isLoading=!1,i._isCustomLoading=!1,i._repaintChangesOnly=void 0,i._changes=[],i.createAction("onDataErrorOccurred"),i.dataErrorOccurred.add(function(r){return i.executeAction("onDataErrorOccurred",{error:r})}),i._refreshDataSource()},_getPagingOptionValue:function(i){return this._dataSource[i]()},callbackNames:function(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged","pushed"]},callbackFlags:function(i){if(i==="dataErrorOccurred")return{stopOnFalse:!0}},publicMethods:function(){return["beginCustomLoading","endCustomLoading","refresh","filter","clearFilter","getCombinedFilter","keyOf","byKey","getDataByKeys","pageIndex","pageSize","pageCount","totalCount","_disposeDataSource","getKeyByRowIndex","getRowIndexByKey","getDataSource","getVisibleRows","repaintRows"]},reset:function(){this._columnsController.reset(),this._items=[],this._refreshDataSource()},_handleDataSourceChange(i){if(i.value===i.previousValue||this.option("columns")&&Array.isArray(i.value)&&Array.isArray(i.previousValue)){var r=i.value!==i.previousValue;if(r){var n=this.store();n&&(n._array=i.value)}return this.needToRefreshOnDataSourceChange(i)&&this.refresh(this.option("repaintChangesOnly")),!0}return!1},needToRefreshOnDataSourceChange:function(i){return!0},optionChanged:function(i){var r=this,n,a;function s(){i.handled=!0}if(i.name==="dataSource"&&i.name===i.fullName&&this._handleDataSourceChange(i)){s();return}switch(i.name){case"cacheEnabled":case"repaintChangesOnly":case"highlightChanges":case"loadingTimeout":s();break;case"remoteOperations":case"keyExpr":case"dataSource":case"scrolling":s(),r.reset();break;case"paging":if(n=r.dataSource(),n&&(a=r._setPagingOptions(n),a)){var o=n.pageIndex();this._isPaging=a.isPageIndexChanged,n.load().done(()=>{this._isPaging=!1,r.pageChanged.fire(o)})}s();break;case"rtlEnabled":r.reset();break;case"columns":n=r.dataSource(),n&&n.isLoading()&&i.name===i.fullName&&(this._useSortingGroupingFromColumns=!0,n.load());break;default:r.callBase(i)}},isReady:function(){return!this._isLoading},getDataSource:function(){return this._dataSource&&this._dataSource._dataSource},getCombinedFilter:function(i){return this.combinedFilter(void 0,i)},combinedFilter:function(i,r){var n=this._dataSource,a=this._columnsController;if(n){i===void 0&&(i=n.filter());var s=this._calculateAdditionalFilter();s&&(a.isDataSourceApplied()||a.isAllDataTypesDefined())&&(i=Ee.combineFilters([s,i])),i=a.updateFilter(i,r||n.remoteOperations().filtering)}return i},waitReady:function(){return this._updateLockCount?(this._readyDeferred=new pe,this._readyDeferred):Pe()},_endUpdateCore:function(){var i=this._changes;if(i.length){this._changes=[];var r=i.every(n=>n.repaintChangesOnly);this.updateItems(i.length===1?i[0]:{repaintChangesOnly:r})}this._readyDeferred&&(this._readyDeferred.resolve(),this._readyDeferred=null)},_handleCustomizeStoreLoadOptions:function(i){var r,n=this._columnsController,a=this._dataSource,s=i.storeLoadOptions;i.isCustomLoading&&!s.isLoadingAll||(s.filter=this.combinedFilter(s.filter),((r=s.filter)===null||r===void 0?void 0:r.length)===1&&s.filter[0]==="!"&&(i.data=[],i.extra=i.extra||{},i.extra.totalCount=0),n.isDataSourceApplied()||n.updateColumnDataTypes(a),this._columnsUpdating=!0,n.updateSortingGrouping(a,!this._useSortingGroupingFromColumns),this._columnsUpdating=!1,s.sort=n.getSortDataSourceParameters(),s.group=n.getGroupDataSourceParameters(),a.sort(s.sort),a.group(s.group),s.sort=n.getSortDataSourceParameters(!a.remoteOperations().sorting),i.group=n.getGroupDataSourceParameters(!a.remoteOperations().grouping))},_handleColumnsChanged:function(i){var r=this,n=i.changeTypes,a=i.optionNames,s,o,l;if(n.sorting||n.grouping)r._dataSource&&!r._columnsUpdating&&(r._dataSource.group(r._columnsController.getGroupDataSourceParameters()),r._dataSource.sort(r._columnsController.getSortDataSourceParameters()),r.reload());else if(n.columns&&(o=r._columnsController.columnOption(i.columnIndex,"filterValues"),(a.filterValues||a.filterType&&Array.isArray(o)||a.filterValue||a.selectedFilterOperation||a.allowFiltering)&&(s=r._columnsController.columnOption(i.columnIndex,"filterValue"),(Array.isArray(o)||i.columnIndex===void 0||Z(s)||!a.selectedFilterOperation||a.filterValue)&&(r._applyFilter(),l=!0)),!r._needApplyFilter&&!Ee.checkChanges(a,["width","visibleWidth","filterValue","bufferedFilterValue","selectedFilterOperation","filterValues","filterType"])&&r._columnsController.columnsChanged.add(function d(c){var h;r._columnsController.columnsChanged.remove(d),r.updateItems({repaintChangesOnly:!1,virtualColumnsScrolling:c==null||(h=c.changeTypes)===null||h===void 0?void 0:h.virtualColumnsScrolling})}),Z(a.visible))){var u=r._columnsController.columnOption(i.columnIndex);u&&(Z(u.filterValue)||Z(u.filterValues))&&(r._applyFilter(),l=!0)}!l&&n.filtering&&r.reload()},_handleDataChanged:function(i){var r=this,n=r._dataSource,a=r._columnsController,s=!1;this._useSortingGroupingFromColumns=!1,n&&!r._isDataSourceApplying&&(r._isDataSourceApplying=!0,Pe(r._columnsController.applyDataSource(n)).done(function(){r._isLoading&&r._handleLoadingChanged(!1),s&&i&&i.isDelayed&&(i.isDelayed=!1),r._isDataSourceApplying=!1;var o=r._needApplyFilter;r._needApplyFilter=!1,o&&!r._isAllDataTypesDefined&&(l=r._calculateAdditionalFilter(),l&&l.length)?(gt.log("W1005",r.component.NAME),r._applyFilter()):r.updateItems(i,!0);var l}).fail(function(){r._isDataSourceApplying=!1}),r._isDataSourceApplying&&(s=!0,r._handleLoadingChanged(!0)),r._needApplyFilter=!r._columnsController.isDataSourceApplied(),r._isAllDataTypesDefined=a.isAllDataTypesDefined())},_handleLoadingChanged:function(i){this._isLoading=i,this._fireLoadingChanged()},_handleLoadError:function(i){this.dataErrorOccurred.fire(i)},_handleDataPushed:function(i){this.pushed.fire(i)},fireError:function(){this.dataErrorOccurred.fire(gt.Error.apply(gt,arguments))},_setPagingOptions:function(i){var r=this.option("paging.pageIndex"),n=this.option("paging.pageSize"),a=this.option("paging.enabled"),s=this.option("scrolling.mode"),o=s==="infinite",l=s==="virtual",u=a||l||o,d=!1,c=!1,h=!1;return i.requireTotalCount(!o),a!==void 0&&i.paginate()!==u&&(i.paginate(u),d=!0),n!==void 0&&i.pageSize()!==n&&(i.pageSize(n),c=!0),r!==void 0&&i.pageIndex()!==r&&(i.pageIndex(r),h=!0),d||c||h?{isPaginateChanged:d,isPageSizeChanged:c,isPageIndexChanged:h}:!1},_getSpecificDataSourceOption:function(){var i=this.option("dataSource");return Array.isArray(i)?{store:{type:"array",data:i,key:this.option("keyExpr")}}:i},_initDataSource:function(){var i=this._dataSource;this.callBase();var r=this._dataSource;if(this._useSortingGroupingFromColumns=!0,this._cachedProcessedItems=null,r){var n=this._setPagingOptions(r);this._isPaging=n==null?void 0:n.isPageIndexChanged,this.setDataSource(r)}else i&&this.updateItems()},_loadDataSource:function(){var i=this,r=i._dataSource,n=new pe;return Pe(this._columnsController.refresh(!0)).always(function(){r?r.load().done(function(){i._isPaging=!1,n.resolve.apply(n,arguments)}).fail(n.reject):n.resolve()}),n.promise()},_beforeProcessItems:function(i){return i.slice(0)},getRowIndexDelta:function(){return 0},_processItems:function(i,r){var n=this,a=n.getRowIndexDelta(),s=r.changeType,o=n._columnsController.getVisibleColumns(null,s==="loadingAll"),l=n._items,u=s==="append"&&l.length>0?l[l.length-1]:null,d=Z(u==null?void 0:u.dataIndex)?u.dataIndex+1:0,c={visibleColumns:o,dataIndex:d},h=[];return le(i,function(f,p){Z(p)&&(c.rowIndex=f-a,p=n._processItem(p,c),h.push(p))}),h},_processItem:function(i,r){return i=this._generateDataItem(i,r),i=this._processDataItem(i,r),i.dataIndex=r.dataIndex++,i},_generateDataItem:function(i){return{rowType:"data",data:i,key:this.keyOf(i)}},_processDataItem:function(i,r){return i.values=this.generateDataValues(i.data,r.visibleColumns),i},generateDataValues:function(i,r,n){for(var a=[],s,o=0;o<r.length;o++){var l=r[o];s=n?void 0:null,l.command||(l.calculateCellValue?s=l.calculateCellValue(i):l.dataField&&(s=i[l.dataField])),a.push(s)}return a},_applyChange:function(i){i.changeType==="update"?this._applyChangeUpdate(i):this.items().length&&i.repaintChangesOnly&&i.changeType==="refresh"?this._applyChangesOnly(i):i.changeType==="refresh"&&this._applyChangeFull(i)},_applyChangeFull:function(i){this._items=i.items.slice(0)},_getRowIndices:function(i){var r=i.rowIndices.slice(0),n=this.getRowIndexDelta();r.sort(function(o,l){return o-l});for(var a=0;a<r.length;a++){var s=r[a];i.allowInvisibleRowIndices&&(s+=n),s<0&&(r.splice(a,1),a--)}return r},_applyChangeUpdate:function(i){var r=this,n=i.items,a=r._getRowIndices(i),s=r.getRowIndexDelta(),o=r.option("repaintChangesOnly"),l=-1,u=0,d;i.items=[],i.rowIndices=[],i.columnIndices=[],i.changeTypes=[];var c=function(h,f,p){var g=h&&f&&ni(h.key,f.key);return g&&p&&(g=h.rowType===f.rowType&&(f.rowType!=="detail"||h.isEditing===f.isEditing)),g};le(a,function(h,f){var p;if(f+=u+s,l!==f){l=f;var g=r._items[f],m=r._items[f+1],v=n[f],b=n[f+1],y=c(g,m)||c(v,b);if(v&&(v.rowIndex=f,i.items.push(v)),g&&v&&c(g,v,y))d="update",r._items[f]=v,g.visible!==v.visible?i.items.splice(-1,1,{visible:v.visible}):o&&!i.isFullUpdate&&(p=r._partialUpdateRow(g,v,f-s));else if(v&&!g||b&&c(g,b,y))d="insert",r._items.splice(f,0,v),u++;else if(g&&!v||m&&c(v,m,y))d="remove",r._items.splice(f,1),u--,l=-1;else if(v)d="update",r._items[f]=v;else return;i.rowIndices.push(f-s),i.changeTypes.push(d),i.columnIndices.push(p)}})},_isCellChanged:function(i,r,n,a,s){if(JSON.stringify(i.values[a])!==JSON.stringify(r.values[a]))return!0;function o(l,u){return l.modifiedValues?l.modifiedValues[u]!==void 0:!1}return o(i,a)!==o(r,a)},_getChangedColumnIndices:function(i,r,n,a){var s;if(i.rowType===r.rowType){if(r.rowType!=="group"&&r.rowType!=="groupFooter"&&(s=[],r.rowType!=="detail"))for(var o=0;o<i.values.length;o++)this._isCellChanged(i,r,n,o,a)&&s.push(o);r.rowType==="group"&&r.isExpanded===i.isExpanded&&i.cells&&(s=i.cells.map((l,u)=>{var d;return((d=l.column)===null||d===void 0?void 0:d.type)!=="groupExpand"?u:-1}).filter(l=>l>=0))}return s},_partialUpdateRow:function(i,r,n,a){var s,o=this._getChangedColumnIndices(i,r,n,a);return(s=o)!==null&&s!==void 0&&s.length&&this.option("dataRowTemplate")&&(o=void 0),o&&(i.cells&&i.cells.forEach(function(l,u){var d=o.indexOf(u)>=0;!d&&l&&l.update&&l.update(r)}),r.update=i.update,r.watch=i.watch,r.cells=i.cells,a&&(r.oldValues=i.values),i.update&&i.update(r)),o},_isItemEquals:function(i,r){if(JSON.stringify(i.values)!==JSON.stringify(r.values)||["modified","isNewRow","removed","isEditing"].some(c=>i[c]!==r[c]))return!1;if(i.rowType==="group"||i.rowType==="groupFooter"){var n,a,s,o,l=i.isExpanded===r.isExpanded,u=JSON.stringify(i.summaryCells)===JSON.stringify(r.summaryCells),d=((n=i.data)===null||n===void 0?void 0:n.isContinuation)===((a=r.data)===null||a===void 0?void 0:a.isContinuation)&&((s=i.data)===null||s===void 0?void 0:s.isContinuationOnNextPage)===((o=r.data)===null||o===void 0?void 0:o.isContinuationOnNextPage);if(!l||!u||!d)return!1}return!0},_applyChangesOnly:function(i){var r,n=[],a=[],s=[],o=[],l={},u=(r=i==null?void 0:i.isLiveUpdate)!==null&&r!==void 0?r:!0;function d(p){if(p)return p.rowType+","+JSON.stringify(p.key)}var c=this._items,h=c.slice();i.items.forEach(function(p,g){var m=d(p);l[m]=g,p.rowIndex=g});var f=V2(h,i.items,d,(p,g)=>this._isItemEquals(p,g)?(p.cells&&(p.update&&p.update(g),p.cells.forEach(function(m){m&&m.update&&m.update(g,!0)})),!0):!1);if(!f){this._applyChangeFull(i);return}f.forEach(p=>{switch(p.type){case"update":var g=p.index,m=p.data,v=p.oldItem,b=this._partialUpdateRow(v,m,g,u);n.push(g),s.push("update"),o.push(m),c[g]=m,a.push(b);break;case"insert":n.push(p.index),s.push("insert"),o.push(p.data),a.push(void 0),c.splice(p.index,0,p.data);break;case"remove":n.push(p.index),s.push("remove"),c.splice(p.index,1),o.push(p.oldItem),a.push(void 0)}}),i.repaintChangesOnly=!0,i.changeType="update",i.rowIndices=n,i.columnIndices=a,i.changeTypes=s,i.items=o,h.length&&(i.isLiveUpdate=!0),this._correctRowIndices(p=>{var g=this._rowIndexOffset||0,m=this.getRowIndexOffset(),v=h[p-g],b=d(v),y=l[b];return y>=0?y+m-p:0})},_correctRowIndices:me,_afterProcessItems:function(i){return i},_updateItemsCore:function(i){var r,n=this._dataSource,a=i.changeType||"refresh";if(i.changeType=a,n){var s=this._cachedProcessedItems;i.useProcessedItemsCache&&s?r=s:(r=i.items||n.items(),r=this._beforeProcessItems(r),r=this._processItems(r,i),this._cachedProcessedItems=r),r=this._afterProcessItems(r,i),i.items=r;var o=this._items.length===r.length&&this._items;this._applyChange(i);var l=this.getRowIndexDelta();le(this._items,(u,d)=>{d.rowIndex=u-l,o&&(d.cells=o[u].cells||[]);var c=r[u];c&&(d.loadIndex=c.loadIndex)}),this._rowIndexOffset=this.getRowIndexOffset()}else this._items=[]},_handleChanging:function(i){var r=this.getVisibleRows(),n=this.dataSource();n&&i.changes.forEach(function(a){if(a.type==="insert"&&a.index>=0){for(var s=0,o=0;o<a.index;o++){var l=r[o];l&&(l.rowType==="data"||l.rowType==="group")&&s++}a.index=s}})},updateItems:function(i,r){if(i=i||{},this._repaintChangesOnly!==void 0){var n;i.repaintChangesOnly=(n=i.repaintChangesOnly)!==null&&n!==void 0?n:this._repaintChangesOnly,i.needUpdateDimensions=i.needUpdateDimensions||this._needUpdateDimensions}else if(i.changes)i.repaintChangesOnly=this.option("repaintChangesOnly");else if(r){var a=this.dataSource().operationTypes();i.repaintChangesOnly=a&&!a.grouping&&!a.filtering&&this.option("repaintChangesOnly"),i.isDataChanged=!0,a&&(a.reload||a.paging||a.groupExpanding)&&(i.needUpdateDimensions=!0)}if(this._updateLockCount&&!i.cancel){this._changes.push(i);return}this._updateItemsCore(i),!i.cancel&&this._fireChanged(i)},loadingOperationTypes:function(){var i=this.dataSource();return i&&i.loadingOperationTypes()||{}},_fireChanged:function(i){this._currentOperationTypes&&(i.operationTypes=this._currentOperationTypes,this._currentOperationTypes=null),Ti(()=>{this.changed.fire(i)})},isLoading:function(){return this._isLoading||this._isCustomLoading},_fireLoadingChanged:function(){this.loadingChanged.fire(this.isLoading(),this._loadingText)},_calculateAdditionalFilter:function(){return null},_applyFilter:function(){var i=this._dataSource;if(i)return i.pageIndex(0),this._isFilterApplying=!0,this.reload().done(()=>{this._isFilterApplying&&this.pageChanged.fire()})},resetFilterApplying:function(){this._isFilterApplying=!1},filter:function(i){var r=this._dataSource,n=r&&r.filter();if(arguments.length===0)return n;i=arguments.length>1?Array.prototype.slice.call(arguments,0):i,!Ee.equalFilterParameters(n,i)&&(r&&r.filter(i),this._applyFilter())},clearFilter:function(i){var r=this,n=r._columnsController,a=function(s){for(var o=n.columnCount(),l=0;l<o;l++)n.columnOption(l,s,void 0)};if(r.component.beginUpdate(),arguments.length>0)switch(i){case"dataSource":r.filter(null);break;case"search":r.searchByText("");break;case"header":a("filterValues");break;case"row":a("filterValue")}else r.filter(null),r.searchByText(""),a("filterValue"),a("bufferedFilterValue"),a("filterValues");r.component.endUpdate()},_fireDataSourceChanged:function(){var i=this;i.changed.add(function r(){i.changed.remove(r),i.dataSourceChanged.fire()})},_getDataSourceAdapter:me,_createDataSourceAdapterCore:function(i,r){var n=this._getDataSourceAdapter(),a=n.create(this.component);return a.init(i,r),a},isLocalStore:function(i){return i=i||this.store(),i instanceof dl},isCustomStore:function(i){return i=i||this.store(),i instanceof Eu},_createDataSourceAdapter:function(i){var r=this.option("remoteOperations"),n=i.store(),a={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0};return r&&r.groupPaging&&(r=re({},a,r)),r==="auto"&&(r=this.isLocalStore(n)||this.isCustomStore(n)?{}:{filtering:!0,sorting:!0,paging:!0}),r===!0&&(r=a),this._createDataSourceAdapterCore(i,r)},setDataSource:function(i){var r=this._dataSource;!i&&r&&(r.cancelAll(),r.changed.remove(this._dataChangedHandler),r.loadingChanged.remove(this._loadingChangedHandler),r.loadError.remove(this._loadErrorHandler),r.customizeStoreLoadOptions.remove(this._customizeStoreLoadOptionsHandler),r.changing.remove(this._changingHandler),r.pushed.remove(this._dataPushedHandler),r.dispose(this._isSharedDataSource)),i&&(i=this._createDataSourceAdapter(i)),this._dataSource=i,i&&(this._fireDataSourceChanged(),this._isLoading=!i.isLoaded(),this._needApplyFilter=!0,this._isAllDataTypesDefined=this._columnsController.isAllDataTypesDefined(),i.changed.add(this._dataChangedHandler),i.loadingChanged.add(this._loadingChangedHandler),i.loadError.add(this._loadErrorHandler),i.customizeStoreLoadOptions.add(this._customizeStoreLoadOptionsHandler),i.changing.add(this._changingHandler),i.pushed.add(this._dataPushedHandler))},items:function(){return this._items},isEmpty:function(){return!this.items().length},pageCount:function(){return this._dataSource?this._dataSource.pageCount():1},dataSource:function(){return this._dataSource},store:function(){var i=this._dataSource;return i&&i.store()},loadAll:function(i){var r=this,n=new pe,a=r._dataSource;if(a)if(i){var s={data:i,isCustomLoading:!0,storeLoadOptions:{isLoadingAll:!0},loadOptions:{filter:r.getCombinedFilter(),group:a.group(),sort:a.sort()}};a._handleDataLoaded(s),Pe(s.data).done(function(l){l=r._beforeProcessItems(l),n.resolve(r._processItems(l,{changeType:"loadingAll"}),s.extra&&s.extra.summary)}).fail(n.reject)}else if(a.isLoading())n.reject();else{var o=re({},a.loadOptions(),{isLoadingAll:!0,requireTotalCount:!1});a.load(o).done(function(l,u){l=r._beforeProcessItems(l),l=r._processItems(l,{changeType:"loadingAll"}),n.resolve(l,u&&u.summary)}).fail(n.reject)}else n.resolve([]);return n},getKeyByRowIndex:function(i,r){var n=this.items(r)[i];if(n)return n.key},getRowIndexByKey:function(i,r){return Ee.getIndexByKey(i,this.items(r))},keyOf:function(i){var r=this.store();if(r)return r.keyOf(i)},byKey:function(i){var r=this.store(),n=this.getRowIndexByKey(i),a;if(r)return n>=0&&(a=new pe().resolve(this.items()[n].data)),a||r.byKey(i)},key:function(){var i=this.store();if(i)return i.key()},getRowIndexOffset:function(){return 0},getDataByKeys:function(i){var r=this,n=new pe,a=[],s=[];return le(i,function(o,l){a.push(r.byKey(l).done(function(u){s[o]=u}))}),Pe.apply(W,a).always(function(){n.resolve(s)}),n},pageIndex:function(i){return e(this,"pageIndex",i)},pageSize:function(i){return e(this,"pageSize",i)},beginCustomLoading:function(i){this._isCustomLoading=!0,this._loadingText=i||"",this._fireLoadingChanged()},endCustomLoading:function(){this._isCustomLoading=!1,this._loadingText=void 0,this._fireLoadingChanged()},refresh:function(i){i===!0?i={reload:!0,changesOnly:!0}:i||(i={lookup:!0,selection:!0,reload:!0});var r=this,n=r.getDataSource(),a=i.changesOnly,s=new pe,o=function(){r._repaintChangesOnly=!!a};return Pe(!i.lookup||r._columnsController.refresh()).always(function(){i.load||i.reload?(n&&n.on("customizeLoadResult",o),Pe(r.reload(i.reload,a)).always(function(){n&&n.off("customizeLoadResult",o),r._repaintChangesOnly=void 0}).done(s.resolve).fail(s.reject)):(r.updateItems({repaintChangesOnly:i.changesOnly}),s.resolve())}),s.promise()},getVisibleRows:function(){return this.items()},_disposeDataSource:function(){this.setDataSource(null)},dispose:function(){this._disposeDataSource(),this.callBase.apply(this,arguments)},repaintRows:function(i,r){i=Array.isArray(i)?i:[i],(i.length>1||Z(i[0]))&&this.updateItems({changeType:"update",rowIndices:i,isFullUpdate:!r})},skipProcessingPagingChange:function(i){return this._skipProcessingPagingChange&&(i==="paging.pageIndex"||i==="paging.pageSize")},getUserState:function(){return{searchText:this.option("searchPanel.text"),pageIndex:this.pageIndex(),pageSize:this.pageSize()}},getCachedStoreData:function(){return this._dataSource&&this._dataSource.getCachedStoreData()},isLastPageLoaded:function(){var i=this.pageIndex(),r=this.pageCount();return i===r-1}};return Ee.proxyMethod(t,"load"),Ee.proxyMethod(t,"reload"),Ee.proxyMethod(t,"push"),Ee.proxyMethod(t,"itemsCount",0),Ee.proxyMethod(t,"totalItemsCount",0),Ee.proxyMethod(t,"hasKnownLastPage",!0),Ee.proxyMethod(t,"isLoaded",!0),Ee.proxyMethod(t,"totalCount",0),t}())}},g9=$2.controllers.data.inherit({_getDataSourceAdapter:function(){return id},_getSpecificDataSourceOption:function(){var e=this.option("dataSource");return e&&!Array.isArray(e)&&this.option("keyExpr")&&gt.log("W1011"),this.callBase()}});Le.registerModule("data",{defaultOptions:$2.defaultOptions,controllers:{data:g9}});var zC="dx-sort",WC="dx-sort-none",v9="dx-sort-up",_9="dx-sort-down",b9="dx-sort-index",jC="dx-sort-index-icon",y9="action";const H2={_applyColumnState:function(e){var t,i,r=this.option("sorting.mode"),n=e.rootElement,a=e.column,s=this._getIndicatorContainer(n);if(e.name==="sort"){n.find("."+zC).remove(),!s.children().length&&s.remove();var o=r!=="none"&&a.allowSorting;if(!Z(a.groupIndex)&&(o||Z(a.sortOrder))){t=a.sortOrder==="asc"?"ascending":"descending",i=this.callBase(e).toggleClass(v9,a.sortOrder==="asc").toggleClass(_9,a.sortOrder==="desc");var l=this.getController&&!!this.getController("columns").columnOption("sortIndex:1");l&&this.option("sorting.showSortIndexes")&&a.sortIndex>=0&&(W("<span>").addClass(jC).text(a.sortIndex+1).appendTo(i),i.addClass(b9)),o&&e.rootElement.addClass(this.addWidgetPrefix(y9))}return Z(a.sortOrder)?this.setAria("sort",t,n):this.setAria("sort","none",n),i}else return this.callBase(e)},_getIndicatorClassName:function(e){return e==="sort"?zC:e==="sortIndex"?jC:this.callBase(e)},_renderIndicator:function(e){var t=e.column,i=e.container,r=e.indicator;if(e.name==="sort"){var n=this.option("rtlEnabled");if(Z(t.sortOrder)||r&&r.addClass(WC),i.children().length&&(!n&&e.columnAlignment==="left"||n&&e.columnAlignment==="right")){i.prepend(r);return}}this.callBase(e)},_updateIndicator:function(e,t,i){if(!(i==="sort"&&Z(t.groupIndex)))return this.callBase.apply(this,arguments)},_getIndicatorElements:function(e,t){var i=this.callBase(e);return t?i:i&&i.not("."+WC)}};var C9="dxDataGridColumnHeadersView",w9=re({},H2,{_createRow(e){var t=this.callBase(e);return e.rowType==="header"&&te.on(t,xe(Pt,C9),"td",this.createAction(i=>{this._processHeaderAction(i.event,t)})),t},_processHeaderAction:function(e,t){if(W(e.currentTarget).parent().get(0)===t.get(0)){var i=this,r=null,n=W(e.currentTarget),a=n.parent().index(),s=-1;[].slice.call(i.getCellElements(a)).some((h,f)=>{if(h===n.get(0))return s=f,!0});var o=i._columnsController.getVisibleColumns(a),l=o[s],u=i.getController("editing"),d=i.option("editing.mode"),c=u&&u.isEditing()&&(d==="batch"||d==="cell");c||!i._isSortableElement(W(e.target))||l&&!Z(l.groupIndex)&&!l.command&&(e.shiftKey?r="shift":Pi(e)&&(r="ctrl"),setTimeout(()=>{i._columnsController.changeSortOrder(l.index,r)}))}},_renderCellContent(e,t){var i=t.column;!i.command&&t.rowType==="header"&&this._applyColumnState({name:"sort",rootElement:e,column:i,showColumnLines:this.option("showColumnLines")}),this.callBase.apply(this,arguments)},_columnOptionChanged(e){var t=e.changeTypes;if(t.length===1&&t.sorting){this._updateIndicators("sort");return}this.callBase(e)},optionChanged(e){switch(e.name){case"sorting":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}}),x9=re({},H2,{_createGroupPanelItem(e,t){var i=this,r=i.callBase(...arguments);return te.on(r,xe(Pt,"dxDataGridHeaderPanel"),i.createAction(()=>{i._processGroupItemAction(t.index)})),i._applyColumnState({name:"sort",rootElement:r,column:{alignment:i.option("rtlEnabled")?"right":"left",allowSorting:t.allowSorting,sortOrder:t.sortOrder==="desc"?"desc":"asc"},showColumnLines:!0}),r},_processGroupItemAction(e){setTimeout(()=>this.getController("columns").changeSortOrder(e))},optionChanged(e){switch(e.name){case"sorting":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}}),S9={defaultOptions:()=>({sorting:{mode:"single",ascendingText:_e.format("dxDataGrid-sortingAscendingText"),descendingText:_e.format("dxDataGrid-sortingDescendingText"),clearText:_e.format("dxDataGrid-sortingClearText"),showSortIndexes:!0}}),extenders:{views:{columnHeadersView:w9,headerPanel:x9}}};Le.registerModule("sorting",S9);var E9=wt.abstract,I9=Ne.real(),z2="scroll",r0="dxscrollinit",n0="dxscrollstart",a0="dxscroll",s0="dxscrollend",o0="dxscrollstop",l0="dxscrollcancel",W2=wt.inherit(function(){var e=xe(z2,"dxScrollEmitter");return{ctor:function(t){this._element=t,this._locked=!1,this._proxiedScroll=i=>{this._disposed||this._scroll(i)},te.on(this._element,e,this._proxiedScroll)},_scroll:E9,check:function(t,i){this._locked&&i()},dispose:function(){this._disposed=!0,te.off(this._element,e,this._proxiedScroll)}}}()),j2=W2.inherit({ctor:function(e,t){this.callBase(e),this._timeout=t},_scroll:function(){this._prepare(),this._forget()},_prepare:function(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer:function(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget:function(){var e=this;this._timer=setTimeout(function(){e._clearTimer()},this._timeout)},dispose:function(){this.callBase(),this._clearTimer()}}),UC=j2.inherit({ctor:function(e){this.callBase(e,400),this._lastWheelDirection=null},check:function(e,t){this._checkDirectionChanged(e),this.callBase(e,t)},_checkDirectionChanged:function(e){if(!dr(e)){this._lastWheelDirection=null;return}var t=e.shiftKey||!1,i=this._lastWheelDirection!==null&&t!==this._lastWheelDirection;this._lastWheelDirection=t,this._locked=this._locked&&!i}}),Cv=j2.inherit({ctor:function(e){this.callBase(e,400)}});(function(){var{ios:e,android:t}=I9;(e||t)&&(Cv=W2.inherit({_scroll:function(){this._locked=!0;var i=this;Un(this._scrollFrame),this._scrollFrame=cc(function(){i._locked=!1})},check:function(i,r){Un(this._scrollFrame),Un(this._checkFrame);var n=this,a=this.callBase;this._checkFrame=cc(function(){a.call(n,i,r),n._locked=!1})},dispose:function(){this.callBase(),Un(this._scrollFrame),Un(this._checkFrame)}}))})();var T9=Xu.inherit(function(){var e=Math.round(16.666666666666668);return{ctor:function(t){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new Cv(t),this._wheelLocker=new UC(t)},validate:function(){return!0},configure:function(t){t.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new Cv(t.scrollTarget),this._wheelLocker=new UC(t.scrollTarget)),this.callBase(t)},_init:function(t){this._wheelLocker.check(t,(function(){dr(t)&&this._accept(t)}).bind(this)),this._pointerLocker.check(t,(function(){var i=this.isNative&&Ms(t);!dr(t)&&!i&&this._accept(t)}).bind(this)),this._fireEvent(r0,t),this._prevEventData=pi(t)},move:function(t){this.callBase.apply(this,arguments),t.isScrollingEvent=this.isNative||t.isScrollingEvent},_start:function(t){this._savedEventData=pi(t),this._fireEvent(n0,t),this._prevEventData=pi(t)},_move:function(t){var i=pi(t);this._fireEvent(a0,t,{delta:bs(this._prevEventData,i)});var r=bs(this._savedEventData,i);r.time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=pi(t)},_end:function(t){var i=bs(this._prevEventData,pi(t)),r={x:0,y:0};if(!dr(t)&&i.time<100){var n=bs(this._savedEventData,this._prevEventData),a=e/n.time;r={x:n.x*a,y:n.y*a}}this._fireEvent(s0,t,{velocity:r})},_stop:function(t){this._fireEvent(o0,t)},cancel:function(t){this.callBase.apply(this,arguments),this._fireEvent(l0,t)},dispose:function(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection:function(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover:function(){if(!this.isNative)return this.callBase.apply(this,arguments)}}}());ul({emitter:T9,events:[r0,n0,a0,s0,o0,l0]});const mo={init:r0,start:n0,move:a0,end:s0,stop:o0,cancel:l0,scroll:z2};var A9=wt.abstract,U2=wt.inherit({ctor:function(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)},start:function(){this._stopped=!1,this._finished=!1,this._stepCore()},stop:function(){this._stopped=!0,Un(this._stepAnimationFrame)},_stepCore:function(){if(this._isStopped()){this._stop();return}if(this._isFinished()){this._finished=!0,this._complete();return}this._step(),this._stepAnimationFrame=cc(this._proxiedStepCore)},_step:A9,_isFinished:me,_stop:me,_complete:me,_isStopped:function(){return this._stopped},inProgress:function(){return!(this._stopped||this._finished)}}),wv="dxScrollbar",G2="dx-scrollable-scrollbar",GC="".concat(G2,"-active"),O9="dx-scrollable-scroll",D9="dx-scrollable-scroll-content",R9="dx-scrollbar-hoverable",KC="horizontal",k9=15,Bn={onScroll:"onScroll",onHover:"onHover",always:"always",never:"never"},Po=null,K2=Fi.inherit({_getDefaultOptions:function(){return re(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:Bn.onScroll,containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})},_init:function(){this.callBase(),this._isHovered=!1},_initMarkup:function(){this._renderThumb(),this.callBase()},_render:function(){this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.$element().toggleClass(R9,this.option("hoverStateEnabled"))},_renderThumb:function(){this._$thumb=W("<div>").addClass(O9),W("<div>").addClass(D9).appendTo(this._$thumb),this.$element().addClass(G2).append(this._$thumb)},isThumb:function(e){return!!this.$element().find(e).length},_isHoverMode:function(){var e=this.option("visibilityMode");return(e===Bn.onHover||e===Bn.always)&&this.option("expandable")},_renderDirection:function(){var e=this.option("direction");this.$element().addClass("dx-scrollbar-"+e),this._dimension=e===KC?"width":"height",this._prop=e===KC?"left":"top"},_attachPointerDownHandler:function(){te.on(this._$thumb,xe(Rt.down,wv),this.feedbackOn.bind(this))},feedbackOn:function(){this.$element().addClass(GC),Po=this},feedbackOff:function(){this.$element().removeClass(GC),Po=null},cursorEnter:function(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)},cursorLeave:function(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions:function(){this._$thumb.css({width:this.option("width"),height:this.option("height")})},_toggleVisibility:function(e){this.option("visibilityMode")===Bn.onScroll&&this._$thumb.css("opacity"),e=this._adjustVisibility(e),this.option().visible=e,this._$thumb.toggleClass("dx-state-invisible",!e)},_adjustVisibility:function(e){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case Bn.onScroll:break;case Bn.onHover:e=e||!!this._isHovered;break;case Bn.never:e=!1;break;case Bn.always:e=!0}return e},moveTo:function(e){if(!this._isHidden()){ft(e)&&(e=e[this._prop]||0);var t={};t[this._prop]=this._calculateScrollBarPosition(e),Ai(this._$thumb,t)}},_calculateScrollBarPosition:function(e){return-e*this._thumbRatio},_update:function(){var e=Math.round(this.option("containerSize")),t=Math.round(this.option("contentSize")),i=Math.round(this.option("baseContainerSize")),r=Math.round(this.option("baseContentSize"));isNaN(i)&&(i=e,r=t),this._baseContainerToContentRatio=r?i/r:i,this._realContainerToContentRatio=t?e/t:e;var n=Math.round(Math.max(Math.round(e*this._realContainerToContentRatio),k9));this._thumbRatio=(e-n)/(this.option("scaleRatio")*(t-e)),this.option(this._dimension,n/this.option("scaleRatio")),this.$element().css("display",this._needScrollbar()?"":"none")},_isHidden:function(){return this.option("visibilityMode")===Bn.never},_needScrollbar:function(){return!this._isHidden()&&this._baseContainerToContentRatio<1},containerToContentRatio:function(){return this._realContainerToContentRatio},_normalizeSize:function(e){return ft(e)?e[this._dimension]||0:e},_clean:function(){this.callBase(),this===Po&&(Po=null),te.off(this._$thumb,"."+wv)},_optionChanged:function(e){if(!this._isHidden())switch(e.name){case"containerSize":case"contentSize":this.option()[e.name]=this._normalizeSize(e.value),this._update();break;case"baseContentSize":case"baseContainerSize":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;case"scaleRatio":this._update();break;default:this.callBase.apply(this,arguments)}},update:$o(function(){this._adjustVisibility()&&this.option("visible",!0)})});On.add(function(){te.subscribeGlobal(we.getDocument(),xe(Rt.up,wv),function(){Po&&Po.feedbackOff()})});var q2="dxSimulatedScrollable",M9="dxScrollableStrategy",Hd=q2+"Cursor",zp=q2+"Keyboard",Wp="dx-scrollable-simulated",B9="dx-scrollable-scrollbars-alwaysvisible",P9="dx-scrollable-scrollbar",hn="vertical",er="horizontal",Cc=.92,X2=.5,Y2=1,F9=Math.round(1e3/60),L9=40,N9=500,V9=Y2/5,$9=400,H9=$9/F9,z9=(1-Math.pow(Cc,H9))/(1-Cc),Pn={PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home",LEFT:"leftArrow",UP:"upArrow",RIGHT:"rightArrow",DOWN:"downArrow",TAB:"tab"},Z2=U2.inherit({ctor:function(e){this.callBase(),this.scroller=e},VELOCITY_LIMIT:Y2,_isFinished:function(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step:function(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration:function(){return this.scroller._inBounds()?Cc:X2},_complete:function(){this.scroller._scrollComplete()}}),W9=Z2.inherit({VELOCITY_LIMIT:V9,_isFinished:function(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:function(){return Cc},_complete:function(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),J2=wt.inherit({ctor:function(e){this._initOptions(e),this._initAnimators(),this._initScrollbar()},_initOptions:function(e){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=e.direction===er?"x":"y",this._prop=e.direction===er?"left":"top",this._dimension=e.direction===er?"width":"height",this._scrollProp=e.direction===er?"scrollLeft":"scrollTop",le(e,(t,i)=>{this["_"+t]=i})},_initAnimators:function(){this._inertiaAnimator=new Z2(this),this._bounceAnimator=new W9(this)},_initScrollbar:function(){this._scrollbar=new K2(W("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()},_visibilityModeNormalize:function(e){return e===!0?"onScroll":e===!1?"never":e},_scrollStep:function(e){var t=this._location;this._location+=e,this._suppressBounce(),this._move(),!(Math.abs(t-this._location)<1)&&te.triggerHandler(this._$container,{type:"scroll"})},_suppressBounce:function(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation:function(e){return e=e!==void 0?e:this._location,Math.max(Math.min(e,this._maxOffset),this._minOffset)},_move:function(e){this._location=e!==void 0?e*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()},_moveContent:function(){var e=this._location;this._$container[this._scrollProp](-e/this._getScaleRatio()),this._moveContentByTranslator(e)},_getScaleRatio:function(){if(rt()&&!this._scaleRatio){var e=this._$element.get(0),t=this._getRealDimension(e,this._dimension),i=this._getBaseDimension(e,this._dimension);this._scaleRatio=Math.round(t/i*100)/100}return this._scaleRatio||1},_getRealDimension:function(e,t){return Math.round(mi(e)[t])},_getBaseDimension:function(e,t){var i="offset"+Cu(t);return e[i]},_moveContentByTranslator:function(e){var t,i=-this._maxScrollPropValue;if(e>0?t=e:e<=i?t=e-i:t=e%1,this._translateOffset!==t){var r={};if(r[this._prop]=t,this._translateOffset=t,t===0){qu(this._$content);return}Ai(this._$content,r)}},_moveScrollbar:function(){this._scrollbar.moveTo(this._location)},_scrollComplete:function(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_scrollToBounds:function(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce:function(){var e=this._bounceLocation=this._boundLocation(),t=e-this._location;this._velocity=t/z9},_inBounds:function(e){return e=e!==void 0?e:this._location,this._boundLocation(e)===e},_crossBoundOnNextStep:function(){var e=this._location,t=e+this._velocity;return e<this._minOffset&&t>=this._minOffset||e>this._maxOffset&&t<=this._maxOffset},_initHandler:function(e){this._stopScrolling(),this._prepareThumbScrolling(e)},_stopScrolling:$o(function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()}),_prepareThumbScrolling:function(e){if(!dr(e.originalEvent)){var t=W(e.originalEvent.target),i=this._isScrollbar(t);i&&this._moveToMouseLocation(e),this._thumbScrolling=i||this._isThumb(t),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(t),this._thumbScrolling&&this._scrollbar.feedbackOn()}},_isThumbScrollingHandler:function(e){return this._isThumb(e)},_moveToMouseLocation:function(e){var t=e["page"+this._axis.toUpperCase()]-this._$element.offset()[this._prop],i=this._location+t/this._containerToContentRatio()-nt(this._$container)/2;this._scrollStep(-Math.round(i))},_startHandler:function(){this._showScrollbar()},_moveHandler:function(e){this._crossThumbScrolling||(this._thumbScrolling&&(e[this._axis]=-Math.round(e[this._axis]/this._containerToContentRatio())),this._scrollBy(e))},_scrollBy:function(e){e=e[this._axis],this._inBounds()||(e*=X2),this._scrollStep(e)},_scrollByHandler:function(e){this._scrollBy(e),this._scrollComplete()},_containerToContentRatio:function(){return this._scrollbar.containerToContentRatio()},_endHandler:function(e){return this._completeDeferred=new pe,this._velocity=e[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler:function(){this._suppressInertia(),this._inertiaAnimator.start()},_suppressInertia:function(){(!this._inertiaEnabled||this._thumbScrolling)&&(this._velocity=0)},_resetThumbScrolling:function(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler:function(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler:function(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler:function(){this._update(),this._moveToBounds()},_update:function(){return this._stopScrolling(),ar(()=>{this._resetScaleRatio(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),Ti(()=>{this._moveScrollbar(),this._scrollbar.update()})})},_resetScaleRatio:function(){this._scaleRatio=null},_updateLocation:function(){this._location=(Vr(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()},_updateBounds:function(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()},_getMaxOffset:function(){return 0},_getMinOffset:function(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue},_updateScrollbar:Pb(function(){var e=this._containerSize(),t=this._contentSize(),i=this._getBaseDimension(this._$container.get(0),this._dimension),r=this._getBaseDimension(this._$content.get(0),this._dimension);Ti(()=>{this._scrollbar.option({containerSize:e,contentSize:t,baseContainerSize:i,baseContentSize:r,scaleRatio:this._getScaleRatio()})})}),_moveToBounds:$o(Pb($o(function(){var e=this._boundLocation(),t=e!==this._location;this._location=e,this._move(),t&&this._scrollAction()}))),_createActionsHandler:function(e){this._scrollAction=e.scroll,this._bounceAction=e.bounce},_showScrollbar:function(){this._scrollbar.option("visible",!0)},_hideScrollbar:function(){this._scrollbar.option("visible",!1)},_containerSize:function(){return this._getRealDimension(this._$container.get(0),this._dimension)},_contentSize:function(){var e=this._$content.css("overflow"+this._axis.toUpperCase())==="hidden",t=this._getRealDimension(this._$content.get(0),this._dimension);if(!e){var i=this._$content[0]["scroll"+Cu(this._dimension)]*this._getScaleRatio();t=Math.max(i,t)}return t},_validateEvent:function(e){var t=W(e.originalEvent.target);return this._isThumb(t)||this._isScrollbar(t)},_isThumb:function(e){return this._scrollByThumb&&this._scrollbar.isThumb(e)},_isScrollbar:function(e){return this._scrollByThumb&&e&&e.is(this._$scrollbar)},_reachedMin:function(){return Math.round(this._location-this._minOffset)<=0},_reachedMax:function(){return Math.round(this._location-this._maxOffset)>=0},_cursorEnterHandler:function(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()},_cursorLeaveHandler:function(){this._scrollbar.cursorLeave()},dispose:me}),Yr,go,Q2=wt.inherit({ctor:function(e){this._init(e)},_init:function(e){this._component=e,this._$element=e.$element(),this._$container=W(e.container()),this._$wrapper=e._$wrapper,this._$content=e.$content(),this.option=e.option.bind(e),this._createActionByOption=e._createActionByOption.bind(e),this._isLocked=e._isLocked.bind(e),this._isDirection=e._isDirection.bind(e),this._allowedDirection=e._allowedDirection.bind(e),this._getMaxOffset=e._getMaxOffset.bind(e)},render:function(){this._$element.addClass(Wp),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers:function(){this._scrollers={},this._isDirection(er)&&this._createScroller(er),this._isDirection(hn)&&this._createScroller(hn),this._$element.toggleClass(B9,this.option("showScrollbar")==="always")},_createScroller:function(e){this._scrollers[e]=new J2(this._scrollerOptions(e))},_scrollerOptions:function(e){return{direction:e,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}},_applyScaleRatio:function(e){for(var t in this._scrollers){var i=this._getPropByDirection(t);if(Z(e[i])){var r=this._scrollers[t];e[i]*=r._getScaleRatio()}}return e},_isAnyThumbScrolling:function(e){var t=!1;return this._eventHandler("isThumbScrolling",e).done(function(i,r){t=i||r}),t},handleInit:function(e){this._suppressDirections(e),this._eventForUserAction=e,this._eventHandler("init",e)},_suppressDirections:function(e){if(dr(e.originalEvent)){this._prepareDirections(!0);return}this._prepareDirections(),this._eachScroller(function(t,i){var r=W(e.originalEvent.target),n=t._validateEvent(e)||this.option("scrollByContent")&&this._isContent(r);this._validDirections[i]=n})},_isContent:function(e){return!!e.closest(this._$element).length},_prepareDirections:function(e){e=e||!1,this._validDirections={},this._validDirections[er]=e,this._validDirections[hn]=e},_eachScroller:function(e){e=e.bind(this),le(this._scrollers,function(t,i){e(i,t)})},handleStart:function(e){this._eventForUserAction=e,this._eventHandler("start").done(this._startAction)},_saveActive:function(){go=this},_resetActive:function(){go===this&&(go=null)},handleMove:function(e){if(this._isLocked()){e.cancel=!0,this._resetActive();return}this._saveActive(),e.preventDefault&&e.preventDefault(),this._adjustDistance(e,e.delta),this._eventForUserAction=e,this._eventHandler("move",e.delta)},_adjustDistance:function(e,t){t.x*=this._validDirections[er],t.y*=this._validDirections[hn];var i=this._tryGetDevicePixelRatio();i&&dr(e.originalEvent)&&(t.x=Math.round(t.x/i*100)/100,t.y=Math.round(t.y/i*100)/100)},_tryGetDevicePixelRatio:function(){if(rt())return at().devicePixelRatio},handleEnd:function(e){return this._resetActive(),this._refreshCursorState(e.originalEvent&&e.originalEvent.target),this._adjustDistance(e,e.velocity),this._eventForUserAction=e,this._eventHandler("end",e.velocity).done(this._endAction)},handleCancel:function(e){return this._resetActive(),this._eventForUserAction=e,this._eventHandler("end",{x:0,y:0})},handleStop:function(){this._resetActive(),this._eventHandler("stop")},handleScroll:function(){this._updateRtlConfig(),this._scrollAction()},_attachKeyboardHandler:function(){te.off(this._$element,".".concat(zp)),!this.option("disabled")&&this.option("useKeyboard")&&te.on(this._$element,xe("keydown",zp),this._keyDownHandler.bind(this))},_keyDownHandler:function(e){if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout(()=>{hi(e)===Pn.TAB&&this._eachScroller(i=>{i._updateHandler()})}),!!this._$container.is(we.getActiveElement())){var t=!0;switch(hi(e)){case Pn.DOWN:this._scrollByLine({y:1});break;case Pn.UP:this._scrollByLine({y:-1});break;case Pn.RIGHT:this._scrollByLine({x:1});break;case Pn.LEFT:this._scrollByLine({x:-1});break;case Pn.PAGE_DOWN:this._scrollByPage(1);break;case Pn.PAGE_UP:this._scrollByPage(-1);break;case Pn.HOME:this._scrollToHome();break;case Pn.END:this._scrollToEnd();break;default:t=!1}t&&(e.stopPropagation(),e.preventDefault())}},_scrollByLine:function(e){var t=this._tryGetDevicePixelRatio(),i=L9;t&&(i=Math.abs(i/t*100)/100),this.scrollBy({top:(e.y||0)*-i,left:(e.x||0)*-i})},_scrollByPage:function(e){var t=this._wheelProp(),i=this._dimensionByProp(t),r={},n=i==="width"?Ze:nt;r[t]=e*-n(this._$container),this.scrollBy(r)},_dimensionByProp:function(e){return e==="left"?"width":"height"},_getPropByDirection:function(e){return e===er?"left":"top"},_scrollToHome:function(){var e=this._wheelProp(),t={};t[e]=0,this._component.scrollTo(t)},_scrollToEnd:function(){var e=this._wheelProp(),t=this._dimensionByProp(e),i={},r=t==="width"?Ze:nt;i[e]=r(this._$content)-r(this._$container),this._component.scrollTo(i)},createActions:function(){this._startAction=this._createActionHandler("onStart"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions:function(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})},_createActionHandler:function(e){var t=this._createActionByOption(e);return()=>{t(re(this._createActionArgs(),arguments))}},_createActionArgs:function(){var{horizontal:e,vertical:t}=this._scrollers,i=this._getScrollOffset();return this._scrollOffset={top:t&&i.top,left:e&&i.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:e&&e._reachedMax(),reachedRight:e&&e._reachedMin(),reachedTop:t&&t._reachedMax(),reachedBottom:t&&t._reachedMin()}},_getScrollOffset(){return{top:-this.location().top,left:-this.location().left}},_eventHandler:function(e){var t=[].slice.call(arguments).slice(1),i=Si(this._scrollers,r=>r["_"+e+"Handler"].apply(r,t));return Pe.apply(W,i).promise()},location:function(){var e=Vr(this._$content);return e.top-=this._$container.scrollTop(),e.left-=this._$container.scrollLeft(),e},disabledChanged:function(){this._attachCursorHandlers()},_attachCursorHandlers:function(){te.off(this._$element,".".concat(Hd)),!this.option("disabled")&&this._isHoverMode()&&(te.on(this._$element,xe("mouseenter",Hd),this._cursorEnterHandler.bind(this)),te.on(this._$element,xe("mouseleave",Hd),this._cursorLeaveHandler.bind(this)))},_isHoverMode:function(){return this.option("showScrollbar")==="onHover"},_cursorEnterHandler:function(e){e=e||{},e.originalEvent=e.originalEvent||{},!(go||e.originalEvent._hoverHandled)&&(Yr&&Yr._cursorLeaveHandler(),Yr=this,this._eventHandler("cursorEnter"),e.originalEvent._hoverHandled=!0)},_cursorLeaveHandler:function(e){Yr!==this||go===Yr||(this._eventHandler("cursorLeave"),Yr=null,this._refreshCursorState(e&&e.relatedTarget))},_refreshCursorState:function(e){if(!(!this._isHoverMode()&&(!e||go))){var t=W(e),i=t.closest(".".concat(Wp,":not(.dx-state-disabled)")),r=i.length&&i.data(M9);Yr&&Yr!==r&&Yr._cursorLeaveHandler(),r&&r._cursorEnterHandler()}},update:function(){var e=this._eventHandler("update").done(this._updateAction);return Pe(e,ar(()=>{var t=this._allowedDirections();return Ti(()=>{var i=t.vertical?"pan-x":"";i=t.horizontal?"pan-y":i,i=t.vertical&&t.horizontal?"none":i,this._$container.css("touchAction",i)}),Pe().promise()}))},_allowedDirections:function(){var e=this.option("bounceEnabled"),t=this._scrollers[hn],i=this._scrollers[er];return{vertical:t&&(t._minOffset<0||e),horizontal:i&&(i._minOffset<0||e)}},_updateBounds:function(){this._scrollers[er]&&this._scrollers[er]._updateBounds()},_isHorizontalAndRtlEnabled:function(){return this.option("rtlEnabled")&&this.option("direction")!==hn},updateRtlPosition:function(e){e&&(this._rtlConfig={scrollRight:0,clientWidth:this._$container.get(0).clientWidth,windowPixelRatio:this._getWindowDevicePixelRatio()}),this._updateBounds(),this._isHorizontalAndRtlEnabled()&&ar(()=>{var t=this._getMaxOffset().left-this._rtlConfig.scrollRight;t<=0&&(t=0,this._rtlConfig.scrollRight=this._getMaxOffset().left),Ti(()=>{this._getScrollOffset().left!==t&&(this._rtlConfig.skipUpdating=!0,this._component.scrollTo({left:t}),this._rtlConfig.skipUpdating=!1)})})},_updateRtlConfig:function(){if(this._isHorizontalAndRtlEnabled()&&!this._rtlConfig.skipUpdating){var{clientWidth:e,scrollLeft:t}=this._$container.get(0),i=this._getWindowDevicePixelRatio();this._rtlConfig.windowPixelRatio===i&&this._rtlConfig.clientWidth===e&&(this._rtlConfig.scrollRight=this._getMaxOffset().left-t),this._rtlConfig.clientWidth=e,this._rtlConfig.windowPixelRatio=i}},_getWindowDevicePixelRatio:function(){return rt()?at().devicePixelRatio:1},scrollBy:function(e){var t=this._scrollers[hn],i=this._scrollers[er];t&&(e.top=t._boundLocation(e.top+t._location)-t._location),i&&(e.left=i._boundLocation(e.left+i._location)-i._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:e.left,y:e.top}),this._endAction(),this._updateRtlConfig()},validate:function(e){return dr(e)&&Pi(e)||this.option("disabled")?!1:this.option("bounceEnabled")?!0:dr(e)?this._validateWheel(e):this._validateMove(e)},_validateWheel:function(e){var t=this._scrollers[this._wheelDirection(e)],i=t._reachedMin(),r=t._reachedMax(),n=!i||!r,a=!i&&!r,s=i&&e.delta>0,o=r&&e.delta<0,l=n&&(a||s||o);return l=l||this._validateWheelTimer!==void 0,l&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout(()=>{this._validateWheelTimer=void 0},N9)),l},_validateMove:function(e){return!this.option("scrollByContent")&&!W(e.target).closest(".".concat(P9)).length?!1:this._allowedDirection()},getDirection:function(e){return dr(e)?this._wheelDirection(e):this._allowedDirection()},_wheelProp:function(){return this._wheelDirection()===er?"left":"top"},_wheelDirection:function(e){switch(this.option("direction")){case er:return er;case hn:return hn;default:return e&&e.shiftKey?er:hn}},dispose:function(){this._resetActive(),Yr===this&&(Yr=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass(Wp),this._eventForUserAction=null,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)},_detachEventHandlers:function(){te.off(this._$element,".".concat(Hd)),te.off(this._$container,".".concat(zp))}}),qC="dxNativeScrollable",jp="dx-scrollable-native",j9="dx-scrollable-scrollbar-simulated",U9="dx-scrollable-scrollbars-hidden",wl="vertical",zd="horizontal",G9=500,u0=wt.inherit({ctor:function(e){this._init(e)},_init:function(e){this._component=e,this._$element=e.$element(),this._$container=W(e.container()),this._$content=e.$content(),this._direction=e.option("direction"),this._useSimulatedScrollbar=e.option("useSimulatedScrollbar"),this.option=e.option.bind(e),this._createActionByOption=e._createActionByOption.bind(e),this._isLocked=e._isLocked.bind(e),this._isDirection=e._isDirection.bind(e),this._allowedDirection=e._allowedDirection.bind(e),this._getMaxOffset=e._getMaxOffset.bind(e),this._isRtlNativeStrategy=e._isRtlNativeStrategy.bind(e)},render:function(){var e=Ne.real(),t=e.platform;this._$element.addClass(jp).addClass(jp+"-"+t).toggleClass(U9,!this._isScrollbarVisible()),this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._renderScrollbars()},updateRtlPosition:function(e){e&&this.option("rtlEnabled")&&this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._moveScrollbars()},_renderScrollbars:function(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass(j9),this._renderScrollbar(wl),this._renderScrollbar(zd)},_renderScrollbar:function(e){this._isDirection(e)&&(this._scrollbars[e]=new K2(W("<div>").appendTo(this._$element),{direction:e,expandable:this._component.option("scrollByThumb")}))},handleInit:me,handleStart:me,handleMove:function(e){if(this._isLocked()){e.cancel=!0;return}this._allowedDirection()&&(e.originalEvent.isScrollingEvent=!0)},handleEnd:me,handleCancel:me,handleStop:me,_eachScrollbar:function(e){e=e.bind(this),le(this._scrollbars||{},function(t,i){e(i,t)})},createActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs:function(){var{left:e,top:t}=this.location();return{event:this._eventForUserAction,scrollOffset:this._getScrollOffset(),reachedLeft:this._isRtlNativeStrategy()?this._isReachedRight(-e):this._isReachedLeft(e),reachedRight:this._isRtlNativeStrategy()?this._isReachedLeft(-Math.abs(e)):this._isReachedRight(e),reachedTop:this._isDirection(wl)?Math.round(t)>=0:void 0,reachedBottom:this._isDirection(wl)?Math.round(Math.abs(t)-this._getMaxOffset().top)>=0:void 0}},_getScrollOffset:function(){var{top:e,left:t}=this.location();return{top:-e,left:this._normalizeOffsetLeft(-t)}},_normalizeOffsetLeft(e){return this._isRtlNativeStrategy()?this._getMaxOffset().left+e:e},_isReachedLeft:function(e){return this._isDirection(zd)?Math.round(e)>=0:void 0},_isReachedRight:function(e){return this._isDirection(zd)?Math.round(Math.abs(e)-this._getMaxOffset().left)>=0:void 0},_isScrollbarVisible:function(){var{showScrollbar:e}=this.option();return e!=="never"&&e!==!1},handleScroll:function(e){this._eventForUserAction=e,this._moveScrollbars(),this._scrollAction(this._createActionArgs())},_moveScrollbars:function(){var{top:e,left:t}=this._getScrollOffset();this._eachScrollbar(function(i){i.moveTo({top:-e,left:-t}),i.option("visible",!0)}),this._hideScrollbars()},_hideScrollbars:function(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout((function(){this._eachScrollbar(function(e){e.option("visible",!1)})}).bind(this),G9)},location:function(){return{left:-this._$container.scrollLeft(),top:-this._$container.scrollTop()}},disabledChanged:me,update:function(){this._update(),this._updateAction(this._createActionArgs())},_update:function(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions:function(){this._containerSize={height:nt(this._$container),width:Ze(this._$container)},this._componentContentSize={height:nt(this._component.$content()),width:Ze(this._component.$content())},this._contentSize={height:nt(this._$content),width:Ze(this._$content)}},_updateScrollbars:function(){this._eachScrollbar(function(e,t){var i=t===wl?"height":"width";e.option({containerSize:this._containerSize[i],contentSize:this._componentContentSize[i]}),e.update()})},_allowedDirections:function(){return{vertical:this._isDirection(wl)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(zd)&&this._contentSize.width>this._containerSize.width}},dispose:function(){var e=this._$element.get(0).className,t=new RegExp(jp+"\\S*","g");t.test(e)&&this._$element.removeClass(e.match(t).join(" ")),te.off(this._$element,"."+qC),te.off(this._$container,"."+qC),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars:function(){this._eachScrollbar(function(e){e.$element().remove()})},scrollBy:function(e){var t=this.location();this._$container.scrollTop(Math.round(-t.top-e.top)),this._$container.scrollLeft(Math.round(-t.left-e.left))},validate:function(e){return this.option("disabled")||dr(e)&&this._isScrolledInMaxDirection(e)?!1:!!this._allowedDirection()},_isScrolledInMaxDirection(e){var t=this._$container.get(0),i;return e.delta>0?i=e.shiftKey?!t.scrollLeft:!t.scrollTop:e.shiftKey?i=t.scrollLeft>=this._getMaxOffset().left:i=t.scrollTop>=this._getMaxOffset().top,i},getDirection:function(){return this._allowedDirection()}}),eA=function(){return[{device:function(){return!ks},options:{useNative:!1}},{device:function(e){return!Ne.isSimulator()&&Ne.real().deviceType==="desktop"&&e.platform==="generic"},options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:Rs,showScrollbar:"onHover"}}]};function tA(e,t){for(var i={left:0,top:0},r=t;(n=r)!==null&&n!==void 0&&n.offsetParent&&!r.classList.contains(e);){var n,a=r.offsetParent,s=r.getBoundingClientRect(),o=a.getBoundingClientRect();i.left+=s.left-o.left,i.top+=s.top-o.top,r=r.offsetParent}return i}var wc="vertical",iA="horizontal",Up="both",rA="dx-scrollable-content";function K9(e,t,i,r,n){var a=Ie({top:0,left:0,right:0,bottom:0},n),s=t===wc,o=s?"top":"left",l=s?"bottom":"right",u=s?"height":"width",d=i["offset".concat(Cu(u))],c=i["client".concat(Cu(u))],h=i.getBoundingClientRect()[u],f=e.getBoundingClientRect()[u],p=1;Math.abs(h-d)>1&&(p=h/d);var g=tA(rA,e)[o]/p,m=r[o],v=m-g+a[o],b=m-g-f/p+c-a[l];return v<=0&&b>=0?m:m-(Math.abs(v)>Math.abs(b)?b:v)}var pn="dxScrollable",q9="dxScrollableStrategy",XC="dx-scrollable",X9="dx-scrollable-disabled",Y9="dx-scrollable-container",Z9="dx-scrollable-wrapper",YC="dx-scrollable-content",cn="vertical",Fn="horizontal",Gp="both",Tr=Dn.inherit({_getDefaultOptions:function(){return re(this.callBase(),{disabled:!1,onScroll:null,direction:cn,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,updateManually:!1})},_defaultOptionsRules:function(){return this.callBase().concat(eA(),[{device:function(){return ks&&Ne.real().platform==="android"&&!Qt.mozilla},options:{useSimulatedScrollbar:!0}}])},_initOptions:function(e){this.callBase(e),"useSimulatedScrollbar"in e||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar:function(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init:function(){this.callBase(),this._initScrollableMarkup(),this._locked=!1},_visibilityChanged:function(e){e?(this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset):this._savedScrollOffset=this.scrollOffset()},_initScrollableMarkup:function(){var e=this.$element().addClass(XC),t=this._$container=W("<div>").addClass(Y9),i=this._$wrapper=W("<div>").addClass(Z9),r=this._$content=W("<div>").addClass(YC);r.append(e.contents()).appendTo(t),t.appendTo(i),i.appendTo(e)},_dimensionChanged:function(){this.update(),this._updateRtlPosition()},_initMarkup:function(){this.callBase(),this._renderDirection()},_render:function(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase(),this._updateRtlPosition(!0)},_updateRtlPosition:function(e){this._strategy.updateRtlPosition(e)},_getMaxOffset:function(){var{scrollWidth:e,clientWidth:t,scrollHeight:i,clientHeight:r}=W(this.container()).get(0);return{left:e-t,top:i-r}},_attachEventHandlers:function(){var e=this._strategy,t={getDirection:e.getDirection.bind(e),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};te.off(this._$wrapper,"."+pn),te.on(this._$wrapper,xe(mo.init,pn),t,this._initHandler.bind(this)),te.on(this._$wrapper,xe(mo.start,pn),e.handleStart.bind(e)),te.on(this._$wrapper,xe(mo.move,pn),e.handleMove.bind(e)),te.on(this._$wrapper,xe(mo.end,pn),e.handleEnd.bind(e)),te.on(this._$wrapper,xe(mo.cancel,pn),e.handleCancel.bind(e)),te.on(this._$wrapper,xe(mo.stop,pn),e.handleStop.bind(e)),te.off(this._$container,"."+pn),te.on(this._$container,xe("scroll",pn),e.handleScroll.bind(e))},_validate:function(e){return this._isLocked()?!1:(this._updateIfNeed(),this._moveIsAllowed(e))},_moveIsAllowed(e){return this._strategy.validate(e)},handleMove(e){this._strategy.handleMove(e)},_prepareDirections(e){this._strategy._prepareDirections(e)},_initHandler:function(){var e=this._strategy;e.handleInit.apply(e,arguments)},_renderDisabledState:function(){this.$element().toggleClass(X9,this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection:function(){this.$element().removeClass("dx-scrollable-"+Fn).removeClass("dx-scrollable-"+cn).removeClass("dx-scrollable-"+Gp).addClass("dx-scrollable-"+this.option("direction"))},_renderStrategy:function(){this._createStrategy(),this._strategy.render(),this.$element().data(q9,this._strategy)},_createStrategy:function(){this._strategy=this.option("useNative")?new u0(this):new Q2(this)},_createActions:function(){this._strategy&&this._strategy.createActions()},_clean:function(){this._strategy&&this._strategy.dispose()},_optionChanged:function(e){switch(e.name){case"onStart":case"onEnd":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":this._invalidate();break;case"disabled":this._renderDisabledState(),this._strategy&&this._strategy.disabledChanged();break;case"updateManually":case"scrollByContent":break;case"width":this.callBase(e),this._updateRtlPosition();break;default:this.callBase(e)}},_resetInactiveDirection:function(){var e=this._getInactiveProp();if(!(!e||!rt())){var t=this.scrollOffset();t[e]=0,this.scrollTo(t)}},_getInactiveProp:function(){var e=this.option("direction");if(e===cn)return"left";if(e===Fn)return"top"},_location:function(){return this._strategy.location()},_normalizeLocation:function(e){if(ft(e)){var t=di(e.left,e.x),i=di(e.top,e.y);return{left:Z(t)?-t:void 0,top:Z(i)?-i:void 0}}else{var r=this.option("direction");return{left:r!==cn?-e:void 0,top:r!==Fn?-e:void 0}}},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this.option("disabled")||(this._locked=!1)},_isDirection:function(e){var t=this.option("direction");return e===cn?t!==Fn:e===Fn?t!==cn:t===e},_updateAllowedDirection:function(){var e=this._strategy._allowedDirections();this._isDirection(Gp)&&e.vertical&&e.horizontal?this._allowedDirectionValue=Gp:this._isDirection(Fn)&&e.horizontal?this._allowedDirectionValue=Fn:this._isDirection(cn)&&e.vertical?this._allowedDirectionValue=cn:this._allowedDirectionValue=null},_allowedDirection:function(){return this._allowedDirectionValue},$content:function(){return this._$content},content:function(){return qe(this._$content)},container:function(){return qe(this._$container)},scrollOffset:function(){return this._strategy._getScrollOffset()},_isRtlNativeStrategy:function(){var{useNative:e,rtlEnabled:t}=this.option();return e&&t},scrollTop:function(){return this.scrollOffset().top},scrollLeft:function(){return this.scrollOffset().left},clientHeight:function(){return nt(this._$container)},scrollHeight:function(){return Ct(this.$content())},clientWidth:function(){return Ze(this._$container)},scrollWidth:function(){return At(this.$content())},update:function(){if(this._strategy)return Pe(this._strategy.update()).done((function(){this._updateAllowedDirection()}).bind(this))},scrollBy:function(e){e=this._normalizeLocation(e),!(!e.top&&!e.left)&&(this._updateIfNeed(),this._strategy.scrollBy(e))},scrollTo:function(e){e=this._normalizeLocation(e),this._updateIfNeed();var t=this._location();this.option("useNative")||(e=this._strategy._applyScaleRatio(e),t=this._strategy._applyScaleRatio(t)),this._isRtlNativeStrategy()&&(t.left=t.left-this._getMaxOffset().left);var i=this._normalizeLocation({left:t.left-di(e.left,t.left),top:t.top-di(e.top,t.top)});!i.top&&!i.left||this._strategy.scrollBy(i)},scrollToElement:function(e,t){var i=W(e),r=this.$content().find(e).length,n=i.parents("."+XC).length-i.parents("."+YC).length===0;if(!(!r||!n)){var a={top:0,left:0},s=this.option("direction");s!==cn&&(a.left=this.getScrollElementPosition(i,Fn,t)),s!==Fn&&(a.top=this.getScrollElementPosition(i,cn,t)),this.scrollTo(a)}},getScrollElementPosition:function(e,t,i){var r=this.scrollOffset();return K9(e.get(0),t,W(this.container()).get(0),r,i)},_updateIfNeed:function(){this.option("updateManually")||this.update()},_useTemplates:function(){return!1},isRenovated:function(){return!!Tr.IS_RENOVATED_WIDGET}});yt(pn,Tr);var J9="rowsview",Q9="content",e7="nowrap",Kp="dx-group-row",ZC="dx-group-cell",t7="dx-data-row",Wd="dx-freespace-row",i7="dx-row-lines",JC="dx-column-lines",QC="dx-row-alt",ew="dx-last-row-border",r7="dx-empty",n7="row-inserted-animation",a7=200;function tw(e){return e?Math.round(e.scrollWidth()-e.clientWidth()):0}var nA={defaultOptions:function(){return{hoverStateEnabled:!1,scrolling:{useNative:"auto"},loadPanel:{enabled:"auto",text:_e.format("Loading"),width:200,height:90,showIndicator:!0,indicatorSrc:"",showPane:!0},dataRowTemplate:null,columnAutoWidth:!1,noDataText:_e.format("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}},views:{rowsView:td.inherit(function(){var e=function(t,i){var r=ru(i.text)&&i.rowType==="data",n=i.text,a=t.get(0);r?Ee.setEmptyText(t):i.column.encodeHtml?a.textContent=n:a.innerHTML=n};return{_getDefaultTemplate:function(t){switch(t.command){case"empty":return function(i){i.html("&nbsp;")};default:return e}},_getDefaultGroupTemplate:function(t){var i=this.option("summary.texts");return function(r,n){var a=n.data,s=n.column.caption+": "+n.text,o=r.get(0);n.summaryItems&&n.summaryItems.length&&(s+=" "+Ee.getGroupRowSummaryText(n.summaryItems,i)),a&&(n.groupContinuedMessage&&n.groupContinuesMessage?s+=" ("+n.groupContinuedMessage+". "+n.groupContinuesMessage+")":n.groupContinuesMessage?s+=" ("+n.groupContinuesMessage+")":n.groupContinuedMessage&&(s+=" ("+n.groupContinuedMessage+")")),r.addClass(ZC),t.encodeHtml?o.textContent=s:o.innerHTML=s}},_update:function(){},_getCellTemplate:function(t){var i=t.column,r;return t.rowType==="group"&&Z(i.groupIndex)&&!i.showWhenGrouped&&!i.command?r=i.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultGroupTemplate(i)}:(t.rowType==="data"||i.command)&&i.cellTemplate?r=i.cellTemplate:r={allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(i)},r},_createRow:function(t){var i=this.callBase.apply(this,arguments);if(t){var r=t.rowType==="group",n=t.rowType==="data";if(n&&i.addClass(t7),n&&this.option("showRowLines")&&i.addClass(i7),this.option("showColumnLines")&&i.addClass(JC),t.visible===!1&&i.hide(),r){i.addClass(Kp);var a=t.isExpanded;this.setAria("role","row",i),this.setAria("expanded",Z(a)&&a.toString(),i)}}return i},_rowPrepared:function(t,i,r){i.rowType==="data"&&(this.option("rowAlternationEnabled")&&(this._isAltRow(r)&&t.addClass(QC),i.watch&&i.watch(()=>this._isAltRow(r),n=>{t.toggleClass(QC,n)})),this._setAriaRowIndex(i,t),i.watch&&i.watch(()=>i.rowIndex,()=>this._setAriaRowIndex(i,t))),this.callBase.apply(this,arguments)},_setAriaRowIndex:function(t,i){var r=this.component,n=r.option("scrolling.mode")==="standard"&&!Ee.isVirtualRowRendering(r),a=t.rowIndex+1;n?a=r.pageIndex()*r.pageSize()+a:a+=this._dataController.getRowIndexOffset(),this.setAria("rowindex",a,i)},_afterRowPrepared:function(t){var i=t.args[0],r=this._dataController,n=r.getVisibleRows()[i.rowIndex],a=this.option("integrationOptions.watchMethod");if(!(!i.data||i.rowType!=="data"||i.isNewRow||!this.option("twoWayBindingEnabled")||!a||!n)){var s=a(()=>r.generateDataValues(i.data,i.columns),()=>{r.repaintRows([n.rowIndex],this.option("repaintChangesOnly"))},{deep:!0,skipImmediate:!0});te.on(i.rowElement,An,s)}},_renderScrollable:function(t){var i=this.element();if(i.children().length||i.append("<div>"),(t||!this._loadPanel)&&this._renderLoadPanel(i,i.parent(),this._dataController.isLocalStore()),(t||!this.getScrollable())&&this._dataController.isLoaded()){for(var r=this.getColumns(),n=!0,a=0;a<r.length;a++)if(!r[a].width&&!r[a].minWidth){n=!1;break}(this.option("columnAutoWidth")||this._hasHeight||n||this._columnsController._isColumnFixing())&&this._renderScrollableCore(i)}},_handleScroll:function(t){var i=this.option("rtlEnabled"),r=t.component.option("useNative");this._scrollTop=t.scrollOffset.top,this._scrollLeft=t.scrollOffset.left;var n=t.scrollOffset.left;i&&(this._scrollRight=tw(t.component)-this._scrollLeft,r&&(n=-this._scrollRight),this.isScrollbarVisible(!0)||(this._scrollLeft=-1)),this.scrollChanged.fire(Ie({},t.scrollOffset,{left:n}),this.name)},_renderScrollableCore:function(t){var i=this._createScrollableOptions(),r=this._handleScroll.bind(this);i.onScroll=r,this._scrollable=this._createComponent(t,Tr,i),this._scrollableContainer=this._scrollable&&W(this._scrollable.container())},_renderLoadPanel:Ee.renderLoadPanel,_renderContent:function(t,i){return t.empty().append(i),this._findContentElement()},_updateContent:function(t,i){var r=this,n=r.getTableElement(),a=r._findContentElement(),s=i&&i.changeType,o=[],l=this.option("highlightChanges"),u=this.addWidgetPrefix(n7);switch(s){case"update":le(i.rowIndices,function(d,c){var h=r._getRowElements(t).eq(d),f=i.changeTypes&&i.changeTypes[d],p=i.items&&i.items[d];o.push(function(){var g=r._getRowElements(),m=g.eq(c);switch(f){case"update":if(p){var v=i.columnIndices&&i.columnIndices[d];Z(p.visible)&&p.visible!==m.is(":visible")?m.toggle(p.visible):v?r._updateCells(m,h,v):m.replaceWith(h)}break;case"insert":if(g.length)m.length?h.insertBefore(m):h.insertAfter(g.last());else if(n){var b=h.is("tbody")?n:n.children("tbody");h.prependTo(b)}l&&i.isLiveUpdate&&h.addClass(u);break;case"remove":m.remove()}})}),le(o,function(){this()}),t.remove();break;default:r.setTableElement(t),a.addClass(r.addWidgetPrefix(Q9)),r._renderContent(a,t)}},_createEmptyRow:function(t,i,r){var n,a=this._createRow(),s=i?this.getFixedColumns():this.getColumns();a.addClass(t).toggleClass(JC,this.option("showColumnLines"));for(var o=0;o<s.length;o++)n=this._createCell({column:s[o],rowType:"freeSpace",columnIndex:o,columns:s}),Kt(r)&&n.css("height",r),a.append(n);return this.setAria("role","presentation",a),a},_appendEmptyRow:function(t,i,r){var n=this._getBodies(t),a=!n.length||i.is("tbody"),s=a?t:n;if(r==="top"){if(s.first().prepend(i),a){var o=s.children("colgroup");s.prepend(o)}}else s.last().append(i)},_renderFreeSpaceRow:function(t,i){var r=this._createEmptyRow(Wd);r=this._wrapRowIfNeed(t,r,(i==null?void 0:i.changeType)==="refresh"),this._appendEmptyRow(t,r)},_checkRowKeys:function(t){var i=this,r=i._getRows(t),n=i._dataController.store()&&i._dataController.store().key();n&&r.some(function(a){if(a.rowType==="data"&&a.key===void 0)return i._dataController.fireError("E1046",n),!0})},_needUpdateRowHeight:function(t){return t>0&&!this._rowHeight},_getRowsHeight:function(t){t=t||this._tableElement;var i=t.children("tbody").children().not(".dx-virtual-row").not("."+Wd);return i.toArray().reduce(function(r,n){return r+mi(n).height},0)},_updateRowHeight:function(){var t=this.getTableElement(),i=this._dataController.items().length;if(t&&this._needUpdateRowHeight(i)){var r=this._getRowsHeight(t);this._rowHeight=r/i}},_findContentElement:function(){var t=this.element(),i=this.getScrollable();if(t)return i&&(t=W(i.content())),t.children().first()},_getRowElements:function(t){var i=this.callBase(t);return i&&i.not("."+Wd)},_getFreeSpaceRowElements:function(t){var i=t||this.getTableElements();return i&&i.children("tbody").children("."+Wd)},_getNoDataText:function(){return this.option("noDataText")},_rowClick:function(t){var i=this._dataController.items()[t.rowIndex]||{};this.executeAction("onRowClick",re({evaluate:function(r){var n=jt(r);return n(i.data)}},t,i))},_rowDblClick:function(t){var i=this._dataController.items()[t.rowIndex]||{};this.executeAction("onRowDblClick",re({},t,i))},_getColumnsCountBeforeGroups:function(t){for(var i=0;i<t.length;i++)if(t[i].type==="groupExpand")return i;return 0},_getGroupCellOptions:function(t){var i=this._getColumnsCountBeforeGroups(t.columns),r=(t.row.groupIndex||0)+i;return{columnIndex:r,colspan:t.columns.length-r-1}},_needWrapRow:function(){return this.callBase.apply(this,arguments)||!!this.option("dataRowTemplate")},_renderCells:function(t,i){i.row.rowType==="group"?this._renderGroupedCells(t,i):i.row.values&&this.callBase(t,i)},_renderGroupedCells:function(t,i){for(var r=i.row,n,a=i.columns,s=r.rowIndex,o,l=this._getGroupCellOptions(i),u=0;u<=l.columnIndex;u++)u===l.columnIndex&&a[u].allowCollapsing&&i.scrollingMode!=="infinite"?(o=!!r.isExpanded,n=a[u]):(o=null,n={command:"expand",cssClass:a[u].cssClass}),this._needRenderCell(u,i.columnIndices)&&this._renderCell(t,{value:o,row:r,rowIndex:s,column:n,columnIndex:u,columnIndices:i.columnIndices});var d=Za(this.option("rtlEnabled")),c=re({},a[l.columnIndex],{command:null,type:null,cssClass:null,width:null,showWhenGrouped:!1,alignment:d});l.colspan>1&&(c.colspan=l.colspan),this._needRenderCell(l.columnIndex+1,i.columnIndices)&&this._renderCell(t,{value:r.values[r.groupIndex],row:r,rowIndex:s,column:c,columnIndex:l.columnIndex+1,columnIndices:i.columnIndices})},_renderRows:function(t,i){var r=this.option("scrolling.mode");this.callBase(t,re({scrollingMode:r},i)),this._checkRowKeys(i.change),this._renderFreeSpaceRow(t,i.change),this._hasHeight||this.updateFreeSpaceRowHeight(t)},_renderDataRowByTemplate(t,i,r){var n=i.row,a=re({columns:i.columns},n),s=this._createRow(n,"tbody");s.appendTo(t),this.renderTemplate(s,r,a,!0,i.change),this._rowPrepared(s,a,i.row)},_renderRow:function(t,i){var r=i.row,n=this.option().rowTemplate,a=this.option("dataRowTemplate");r.rowType==="data"&&a?this._renderDataRowByTemplate(t,i,a):(r.rowType==="data"||r.rowType==="group")&&!Z(r.groupIndex)&&n?this.renderTemplate(t,n,re({columns:i.columns},r),!0):this.callBase(t,i)},_renderTable:function(t){var i=this,r=i.callBase(t);return Z(i.getTableElement())?i._renderScrollable():(i.setTableElement(r),i._renderScrollable(!0),i.resizeCompleted.add(function n(){var a=i.getScrollable();a&&i.element().closest(at().document).length&&(i.resizeCompleted.remove(n),a._visibilityChanged(!0))})),r},_createTable:function(){var t=this.callBase.apply(this,arguments);return(this.option().rowTemplate||this.option().dataRowTemplate)&&t.appendTo(this.component.$element()),t},_renderCore:function(t){var i=this.element();i.addClass(this.addWidgetPrefix(J9)).toggleClass(this.addWidgetPrefix(e7),!this.option("wordWrapEnabled")),i.toggleClass(r7,this._dataController.isEmpty()),this.setAria("role","presentation",i);var r=this._renderTable({change:t});this._updateContent(r,t),this.callBase(t),this._lastColumnWidths=null},_getRows:function(t){return t&&t.items||this._dataController.items()},_getCellOptions:function(t){var i=t.column,r=t.row,n=r.data,a=r&&r.summaryCells,s=t.value,o=Ee.getDisplayValue(i,s,n,r.rowType),l=this.callBase(t);if(l.value=s,l.oldValue=t.oldValue,l.displayValue=o,l.row=r,l.key=r.key,l.data=n,l.rowType=r.rowType,l.values=r.values,l.text=i.command?"":Ee.formatValue(o,i),l.rowIndex=r.rowIndex,l.summaryItems=a&&a[t.columnIndex],l.resized=i.resizedCallbacks,Z(i.groupIndex)&&!i.command){var u=this.option("grouping.texts"),d=this.option("scrolling.mode");d!=="virtual"&&d!=="infinite"&&(l.groupContinuesMessage=n&&n.isContinuationOnNextPage&&u&&u.groupContinuesMessage,l.groupContinuedMessage=n&&n.isContinuation&&u&&u.groupContinuedMessage)}return l},_setRowsOpacityCore:function(t,i,r,n){var a=this._columnsController,s=a.getColumns(),o=s&&s[r],l=o&&o.isBand&&o.index;le(t,function(u,d){if(!W(d).hasClass(Kp))for(var c=0;c<i.length&&!((Kt(l)&&a.isParentBandColumn(i[c].index,l)||i[c].index===r)&&(t.eq(u).children().eq(c).css({opacity:n}),!Kt(l)));c++);})},_getDevicePixelRatio:function(){return at().devicePixelRatio},renderNoDataText:Ee.renderNoDataText,getCellOptions:function(t,i){var r=this._dataController.items()[t],n,a;return r&&(Ue(i)?a=this._columnsController.columnOption(i):a=this._columnsController.getVisibleColumns()[i],a&&(n=this._getCellOptions({value:a.calculateCellValue(r.data),rowIndex:r.rowIndex,row:r,column:a}))),n},getRow:function(t){if(t>=0){var i=this._getRowElements();if(i.length>t)return W(i[t])}},updateFreeSpaceRowHeight:function(t){var i=this._dataController,r=i.items(!0).length,n=this._findContentElement(),a=this._getFreeSpaceRowElements(t);if(a&&n&&i.totalCount()>=0){var s=!1;if(r>0)if(this._hasHeight)a.hide(),ar(()=>{var u=this.getScrollbarWidth(!0),d=nt(this.element())-u,c=Ct(n),h=d-c>0,f=this._getRowsHeight(n.children().first()),p=t||this.getTableElements(),g=Math.ceil(parseFloat(p.css("borderTopWidth"))),m=this._getHeightCorrection(),v=d-f-g-m;h&&Ti(()=>{a.css("height",v),s=!0,a.show()}),Ti(()=>this._updateLastRowBorder(s))});else{var o=i.pageSize()-r,l=this.option("scrolling.mode");o>0&&i.pageCount()>1&&l!=="virtual"&&l!=="infinite"&&(dp(a,o*this._rowHeight),s=!0),!s&&t?dp(a,0):a.toggle(s),this._updateLastRowBorder(s)}else a.css("height",0),a.show(),this._updateLastRowBorder(!0)}},_getHeightCorrection:function(){var t=Qt.webkit&&this._getDevicePixelRatio()>=2,i=Qt.chrome&&Qt.version>=91,r=Qt.mozilla&&Qt.version>=70&&!this.option("showRowLines");return t||r||i?1:0},_columnOptionChanged:function(t){var i=t.optionNames;t.changeTypes.grouping||(i.width||i.visibleWidth)&&(this.callBase(t),this._fireColumnResizedCallbacks())},getScrollable:function(){return this._scrollable},init:function(){var t=this,i=t.getController("data");t.callBase(),t._editorFactoryController=t.getController("editorFactory"),t._rowHeight=0,t._scrollTop=0,t._scrollLeft=-1,t._scrollRight=0,t._hasHeight=!1,i.loadingChanged.add(function(r,n){t.setLoading(r,n)}),i.dataSourceChanged.add(function(){t._scrollLeft>=0&&t._handleScroll({component:t.getScrollable(),scrollOffset:{top:t._scrollTop,left:t._scrollLeft}})})},_handleDataChanged:function(t){switch(t.changeType){case"refresh":case"prepend":case"append":case"update":this.render(null,t);break;default:this._update(t)}},publicMethods:function(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement","getRowElement","getScrollable"]},contentWidth:function(){return Ze(this.element())-this.getScrollbarWidth()},getScrollbarWidth:function(t){var i=this._scrollableContainer&&this._scrollableContainer.get(0),r=0;i&&(t?(r=i.clientHeight?i.offsetHeight-i.clientHeight:0,r+=(n=this,a=n.getScrollable(),a?Math.ceil(parseFloat(W(a.content()).css("paddingBottom"))):0)):r=i.clientWidth?i.offsetWidth-i.clientWidth:0);var n,a;return r>0?r:0},_fireColumnResizedCallbacks:function(){for(var t=this._lastColumnWidths||[],i=[],r=this.getColumns(),n=0;n<r.length;n++)i[n]=r[n].visibleWidth,r[n].resizedCallbacks&&!Z(r[n].groupIndex)&&t[n]!==i[n]&&r[n].resizedCallbacks.fire(i[n]);this._lastColumnWidths=i},_updateLastRowBorder:function(t){this.option("showBorders")&&this.option("showRowLines")&&!t?this.element().addClass(ew):this.element().removeClass(ew)},_updateScrollable:function(){var t=Tr.getInstance(this.element());t&&(t.update(),this._updateHorizontalScrollPosition())},_updateHorizontalScrollPosition:function(){var t=this.getScrollable(),i=t&&t.scrollOffset().left,r=this.option("rtlEnabled");if(r){var n=tw(t),a=n-i;a!==this._scrollRight&&(this._scrollLeft=n-this._scrollRight)}this._scrollLeft>=0&&i!==this._scrollLeft&&t.scrollTo({x:this._scrollLeft})},_resizeCore:function(){var t=this;t._fireColumnResizedCallbacks(),t._updateRowHeight(),Ti(function(){t._renderScrollable(),t.renderNoDataText(),t.updateFreeSpaceRowHeight(),ar(function(){t._updateScrollable()})})},scrollTo:function(t){var i=this.element(),r=i&&Tr.getInstance(i);r&&r.scrollTo(t)},height:function(t,i){var r=this,n=this.element();if(arguments.length===0)return n?Ct(n,!0):0;r._hasHeight=i===void 0?t!=="auto":i,Z(t)&&n&&dp(n,t)},setLoading:function(t,i){var r=this._loadPanel,n=this._dataController,a=this.option("loadPanel")||{},s=n.isLoaded()?a.animation:null,o=this.element();if(rt()&&(!r&&i!==void 0&&n.isLocalStore()&&a.enabled==="auto"&&o&&(this._renderLoadPanel(o,o.parent()),r=this._loadPanel),r)){var l={message:i||a.text,animation:s,visible:t};t&&(l.position=Ee.calculateLoadPanelPosition(o)),clearTimeout(this._hideLoadingTimeoutID),r.option("visible")&&!t?this._hideLoadingTimeoutID=setTimeout(function(){r.option(l)},a7):r.option(l)}},setRowsOpacity:function(t,i){var r=this._getRowElements().not("."+Kp)||[];this._setRowsOpacityCore(r,this.getColumns(),t,i)},_getCellElementsCore:function(t){var i=this.callBase.apply(this,arguments);if(i){var r=i.filter("."+ZC).index();if(r>=0&&i.length>r+1)return i.slice(0,r+1)}return i},_getBoundaryVisibleItemIndex:function(t,i){var r=0,n=0,a=0,s=this._scrollTop,o=this._findContentElement(),l=o&&o.offset().top,u=this.getController("data"),d=u.items(),c=this.getTableElement();if(d.length&&c){var h=this._getRowElements(c).filter(":visible");if(!t){var f=Ct(this._hasHeight?this.element():at());s+=f}for(r=0;r<d.length;r++){n=a;var p=W(h).eq(r);if(p.length&&(a=p.offset(),a=(t?a.top:a.top+Ct(p))-l,a>s)){r&&(i||2*s<Math.round(a+n))&&r--;break}}r&&r===d.length&&r--}return r},getTopVisibleItemIndex:function(t){return this._getBoundaryVisibleItemIndex(!0,t)},getBottomVisibleItemIndex:function(t){return this._getBoundaryVisibleItemIndex(!1,t)},getTopVisibleRowData:function(){var t=this.getTopVisibleItemIndex(),i=this._dataController.items();if(i[t])return i[t].data},_scrollToElement:function(t,i){var r=this.getScrollable();r&&r.scrollToElement(t,i)},optionChanged:function(t){switch(this.callBase(t),t.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"dataRowTemplate":case"twoWayBindingEnabled":this._invalidate(!0,!0),t.handled=!0;break;case"scrolling":this._rowHeight=null,this._tableElement=null,t.handled=!0;break;case"rtlEnabled":this._rowHeight=null,this._tableElement=null;break;case"loadPanel":this._tableElement=null,this._invalidate(!0,t.fullName!=="loadPanel.enabled"),t.handled=!0;break;case"noDataText":this.renderNoDataText(),t.handled=!0}},dispose:function(){clearTimeout(this._hideLoadingTimeoutID),this._scrollable&&this._scrollable.dispose()},setScrollerSpacing:function(){},_restoreErrorRow:function(){}}}())}};nA.views.rowsView;Le.registerModule("rows",nA);var iw="dx-inkripple",rw="dx-inkripple-wave",aA="dx-inkripple-showing",sA="dx-inkripple-hiding",s7=2,o7=4e3,qp=300,l7=1e3,oA=0,lA=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{useHoldAnimation:t,waveSizeCoefficient:i,isCentered:r,wavesNumber:n}=e;return{waveSizeCoefficient:i||s7,isCentered:r||!1,wavesNumber:n||1,durations:c7(t??!0)}},d0=function(e){var t=lA(e);return{showWave:dA.bind(this,t),hideWave:cA.bind(this,t)}},u7=function(e){var t=e.children("."+iw);return t.length===0&&(t=W("<div>").addClass(iw).appendTo(e)),t},uA=function(e,t){for(var i=u7(W(e)),r=i.children("."+rw).toArray(),n=r.length;n<t;n++){var a=W("<div>").appendTo(i).addClass(rw);r.push(a[0])}return W(r)},d7=function(e,t){var i=W(t.element),r=At(i),n=Ct(i),a=parseInt(Math.sqrt(r*r+n*n)),s=Math.min(o7,parseInt(a*e.waveSizeCoefficient)),o,l;if(e.isCentered)o=(r-s)/2,l=(n-s)/2;else{var u=t.event,d=i.offset(),c=u.pageX-d.left,h=u.pageY-d.top;o=c-s/2,l=h-s/2}return{left:o,top:l,height:s,width:s}};function dA(e,t){var i=uA(t.element,e.wavesNumber).eq(t.wave||oA);e.hidingTimeout&&clearTimeout(e.hidingTimeout),hA(i),i.css(d7(e,t)),e.showingTimeout=setTimeout(h7.bind(this,e,i),0)}function h7(e,t){var i=e.durations.showingScale+"ms";t.addClass(aA).css("transitionDuration",i)}function c7(e){return{showingScale:e?l7:qp,hidingScale:qp,hidingOpacity:qp}}function hA(e){e.removeClass(sA).css("transitionDuration","")}function cA(e,t){e.showingTimeout&&clearTimeout(e.showingTimeout);var i=uA(t.element,t.wavesNumber).eq(t.wave||oA),r=e.durations,n=r.hidingScale+"ms, "+r.hidingOpacity+"ms";i.addClass(sA).removeClass(aA).css("transitionDuration",n);var a=Math.max(r.hidingScale,r.hidingOpacity);e.hidingTimeout=setTimeout(hA.bind(this,i),a)}var xl="dx-icon",f7="dx-svg-icon",nd=e=>!e||typeof e!="string"?!1:/^\s*<svg[^>]*>(.|\r?\n)*?<\/svg>\s*$/i.test(e)?"svg":/data:.*base64|\.|[^<\s]\/{1,1}/.test(e)?"image":/^[\w-_]+$/.test(e)?"dxIcon":/^\s?([\w-_]\s?)+$/.test(e)?"fontIcon":!1,Ls=e=>{switch(nd(e)){case"image":return W("<img>").attr("src",e).addClass(xl);case"fontIcon":return W("<i>").addClass("".concat(xl," ").concat(e));case"dxIcon":return W("<i>").addClass("".concat(xl," ").concat(xl,"-").concat(e));case"svg":return W("<i>").addClass("".concat(xl," ").concat(f7)).append(e);default:return null}};function p7(e){return class{constructor(){throw new Error("Module '".concat(e,"' not found"))}static getInstance(){}}}var nw=p7("TextBox");const Ns={_getDefaultOptions:function(){return re(this.callBase(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})},_initMarkup:function(){this._renderSearch(),this.callBase()},_renderSearch:function(){var e=this.$element(),t=this.option("searchEnabled"),i=this._addWidgetPrefix("search"),r=this._addWidgetPrefix("with-search");if(!t){e.removeClass(r),this._removeSearchBox();return}var n=this._getSearchEditorOptions();this._searchEditor?this._searchEditor.option(n):(e.addClass(r),this._$searchEditorElement=W("<div>").addClass(i).prependTo(e),this._searchEditor=this._createComponent(this._$searchEditorElement,nw,n))},_removeSearchBox:function(){this._$searchEditorElement&&this._$searchEditorElement.remove(),delete this._$searchEditorElement,delete this._searchEditor},_getSearchEditorOptions:function(){var e=this,t=e.option("searchEditorOptions"),i=_e.format("Search");return re({mode:"search",placeholder:i,tabIndex:e.option("tabIndex"),value:e.option("searchValue"),valueChangeEvent:"input",inputAttr:{"aria-label":i},onValueChanged:function(r){var n=e.option("searchTimeout");e._valueChangeDeferred=new pe,clearTimeout(e._valueChangeTimeout),e._valueChangeDeferred.done((function(){this.option("searchValue",r.value)}).bind(e)),r.event&&r.event.type==="input"&&n?e._valueChangeTimeout=setTimeout(function(){e._valueChangeDeferred.resolve()},n):e._valueChangeDeferred.resolve()}},t)},_getAriaTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.$element()},_focusTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_updateFocusState:function(e,t){this.option("searchEnabled")&&this._toggleFocusClass(t,this.$element()),this.callBase(e,t)},getOperationBySearchMode:function(e){return e==="equals"?"=":e},_cleanAria:function(e){this.setAria({role:null,activedescendant:null},e),e.attr("tabIndex",null)},_optionChanged:function(e){switch(e.name){case"searchEnabled":case"searchEditorOptions":this._cleanAria(this.option("searchEnabled")?this.$element():this._itemContainer()),this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource){gt.log("W1009");return}e.name==="searchMode"?this._dataSource.searchOperation(this.getOperationBySearchMode(e.value)):this._dataSource[e.name](e.value),this._dataSource.load();break;case"searchTimeout":break;default:this.callBase(e)}},focus:function(){if(!this.option("focusedElement")&&this.option("searchEnabled")){this._searchEditor&&this._searchEditor.focus();return}this.callBase()},_refresh:function(){this._valueChangeDeferred&&this._valueChangeDeferred.resolve(),this.callBase()},setEditorClass:function(e){nw=e}};var{ios:m7,mac:g7}=Ne.real(),v7=m7||g7,_7=function(e){var t;try{t={start:e.selectionStart,end:e.selectionEnd}}catch{t={start:0,end:0}}return t},b7=function(e,t){var i=we.getBody();if(!(!i.contains(e)&&!i.contains(e.getRootNode().host)))try{e.selectionStart=t.start,e.selectionEnd=t.end}catch{}},fA=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e=W(e).get(0),!Z(t))return _7(e);!i&&v7&&we.getActiveElement(e)!==e||b7(e,t)};function y7(){var{android:e,version:t}=Ne.real();return e&&t[0]>4}function C7(){return"onbeforeinput"in we.createElement("input")&&!Qt.chrome||y7()}var ko=" ",pA=wt.inherit({ctor:function(e){this._value=ko,re(this,e)},next:function(e){if(!arguments.length)return this._next;this._next=e},text:me,value:me,rawValue:me,handle:me,_prepareHandlingArgs:function(e,t){var i,r,n;t=t||{};var a=Object.prototype.hasOwnProperty.call(e,"value")?"value":"text";return e[a]=(i=t.str)!==null&&i!==void 0?i:e[a],e.start=(r=t.start)!==null&&r!==void 0?r:e.start,e.length=(n=t.length)!==null&&n!==void 0?n:e.length,e.index=e.index+1,e},reset:me,clear:me,first:function(e){return e=e||0,this.next().first(e+1)},isAccepted:function(){return!1},adjustedCaret:function(e,t,i){return t?this._adjustedForward(e,0,i):this._adjustedBackward(e,0,i)},_adjustedForward:me,_adjustedBackward:me,isValid:me}),w7=pA.inherit({next:me,handle:function(){return 0},text:function(){return""},value:function(){return""},first:function(){return 0},rawValue:function(){return""},adjustedCaret:function(){return 0},isValid:function(){return!0}}),mA=pA.inherit({text:function(){return(this._value!==ko?this._value:this.maskChar)+this.next().text()},value:function(){return this._value+this.next().value()},rawValue:function(){return this._value+this.next().rawValue()},handle:function(e){var t=Object.prototype.hasOwnProperty.call(e,"value")?e.value:e.text;if(!t||!t.length||!e.length)return 0;if(e.start)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start-1}));var i=t[0],r=t.substring(1);return this._tryAcceptChar(i,e),this._accepted()?this.next().handle(this._prepareHandlingArgs(e,{str:r,length:e.length-1}))+1:this.handle(this._prepareHandlingArgs(e,{str:r,length:e.length-1}))},clear:function(e){this._tryAcceptChar(ko,e),this.next().clear(this._prepareHandlingArgs(e))},reset:function(){this._accepted(!1),this.next().reset()},_tryAcceptChar:function(e,t){if(this._accepted(!1),!!this._isAllowed(e,t)){var i=e===ko?this.maskChar:e;t.fullText=t.fullText.substring(0,t.index)+i+t.fullText.substring(t.index+1),this._accepted(!0),this._value=e}},_accepted:function(e){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!e},first:function(e){return this._value===ko?e||0:this.callBase(e)},_isAllowed:function(e,t){return e===ko?!0:this._isValid(e,t)},_isValid:function(e,t){var i=this.allowedChars;return i instanceof RegExp?i.test(e):Re(i)?i(e,t.index,t.fullText):Array.isArray(i)?i.includes(e):i===e},isAccepted:function(e){return e===0?this._accepted():this.next().isAccepted(e-1)},_adjustedForward:function(e,t,i){return t>=e?t:this.next()._adjustedForward(e,t+1,i)||t+1},_adjustedBackward:function(e,t){return t>=e-1?e:this.next()._adjustedBackward(e,t+1)||t+1},isValid:function(e){return this._isValid(this._value,e)&&this.next().isValid(this._prepareHandlingArgs(e))}}),aw=mA.inherit({value:function(){return this.next().value()},handle:function(e){var t=Object.prototype.hasOwnProperty.call(e,"value"),i=t?e.value:e.text;if(!i.length||!e.length)return 0;if(e.start||t)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start&&e.start-1}));var r=i[0],n=i.substring(1);this._tryAcceptChar(r);var a=this._isAllowed(r)?this._prepareHandlingArgs(e,{str:n,length:e.length-1}):e;return this.next().handle(a)+1},clear:function(e){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(e))},_tryAcceptChar:function(e){this._accepted(this._isValid(e))},_isValid:function(e){return e===this.maskChar},first:function(e){return e=e||0,this.next().first(e+1)},_adjustedForward:function(e,t,i){return t>=e&&i===this.maskChar?t:e===t+1&&this._accepted()?e:this.next()._adjustedForward(e,t+1,i)},_adjustedBackward:function(e,t){return t>=e-1?0:this.next()._adjustedBackward(e,t+1)},isValid:function(e){return this.next().isValid(this._prepareHandlingArgs(e))}}),Ii={valid:"valid",invalid:"invalid",pending:"pending"};class Ja{constructor(){this.NAME="base"}defaultMessage(t){return _e.getFormatter("validation-".concat(this.NAME))(t)}defaultFormattedMessage(t){return _e.getFormatter("validation-".concat(this.NAME,"-formatted"))(t)}_isValueEmpty(t){return!ad.required.validate(t,{})}validate(t,i){var r=Array.isArray(t)?t:[t],n=!0;return r.length?r.every(a=>(n=this._validate(a,i),n)):n=this._validate(null,i),n}}class x7 extends Ja{constructor(){super(),this.NAME="required"}_validate(t,i){return!Z(t)||t===!1?!1:(t=String(t),(i.trim||!Z(i.trim))&&(t=t.trim()),t!=="")}}class S7 extends Ja{constructor(){super(),this.NAME="numeric"}_validate(t,i){return i.ignoreEmptyValue!==!1&&this._isValueEmpty(t)?!0:i.useCultureSettings&&Ue(t)?!isNaN(Wt.parse(t)):Kt(t)}}class E7 extends Ja{constructor(){super(),this.NAME="range"}_validate(t,i){if(i.ignoreEmptyValue!==!1&&this._isValueEmpty(t))return!0;var r=ad.numeric.validate(t,i),n=Z(t)&&t!=="",a=r?parseFloat(t):n&&t.valueOf(),s=i.min,o=i.max;if(!(r||tr(t))&&!n)return!1;if(Z(s))return Z(o)?a>=s&&a<=o:a>=s;if(Z(o))return a<=o;throw $t.Error("E0101")}}class I7 extends Ja{constructor(){super(),this.NAME="stringLength"}_validate(t,i){var r;return t=String((r=t)!==null&&r!==void 0?r:""),(i.trim||!Z(i.trim))&&(t=t.trim()),i.ignoreEmptyValue&&this._isValueEmpty(t)?!0:ad.range.validate(t.length,re({},i))}}class gA extends Ja{constructor(){super(),this.NAME="custom"}validate(t,i){if(i.ignoreEmptyValue&&this._isValueEmpty(t))return!0;var r=i.validator,n=r&&Re(r.option)&&r.option("dataGetter"),a=Re(n)&&n(),s={value:t,validator:r,rule:i};return a&&re(s,a),i.validationCallback(s)}}class T7 extends gA{constructor(){super(),this.NAME="async"}validate(t,i){if(Z(i.reevaluate)||re(i,{reevaluate:!0}),i.ignoreEmptyValue&&this._isValueEmpty(t))return!0;var r=i.validator,n=r&&Re(r.option)&&r.option("dataGetter"),a=Re(n)&&n(),s={value:t,validator:r,rule:i};a&&re(s,a);var o=i.validationCallback(s);if(!Nu(o))throw $t.Error("E0103");return this._getWrappedPromise(Hi(o).promise())}_getWrappedPromise(t){var i=new pe;return t.then(function(r){i.resolve(r)},function(r){var n={isValid:!1};Z(r)&&(Ue(r)?n.message=r:Ge(r)&&Z(r.message)&&Ue(r.message)&&(n.message=r.message)),i.resolve(n)}),i.promise()}}class A7 extends Ja{constructor(){super(),this.NAME="compare"}_validate(t,i){if(!i.comparisonTarget)throw $t.Error("E0102");if(i.ignoreEmptyValue&&this._isValueEmpty(t))return!0;re(i,{reevaluate:!0});var r=i.comparisonTarget(),n=i.comparisonType||"==";switch(n){case"==":return t==r;case"!=":return t!=r;case"===":return t===r;case"!==":return t!==r;case">":return t>r;case">=":return t>=r;case"<":return t<r;case"<=":return t<=r}}}class O7 extends Ja{constructor(){super(),this.NAME="pattern"}_validate(t,i){if(i.ignoreEmptyValue!==!1&&this._isValueEmpty(t))return!0;var r=i.pattern;return Ue(r)&&(r=new RegExp(r)),r.test(t)}}class D7 extends Ja{constructor(){super(),this.NAME="email"}_validate(t,i){return i.ignoreEmptyValue!==!1&&this._isValueEmpty(t)?!0:ad.pattern.validate(t,re({},i,{pattern:/^[\d\w._-]+@[\d\w._-]+\.[\w]+$/i}))}}var ad={required:new x7,numeric:new S7,range:new E7,stringLength:new I7,custom:new gA,async:new T7,compare:new A7,pattern:new O7,email:new D7},R7=wt.inherit({ctor(e){this.group=e,this.validators=[],this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo(),this._eventsStrategy=new Gs(this)},validate(){var e={isValid:!0,brokenRules:[],validators:[],status:Ii.valid,complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),le(this.validators,(t,i)=>{var r=i.validate();e.isValid=e.isValid&&r.isValid,r.brokenRules&&(e.brokenRules=e.brokenRules.concat(r.brokenRules)),e.validators.push(i),r.status===Ii.pending&&this._addPendingValidator(i),this._subscribeToChangeEvents(i)}),this._pendingValidators.length?e.status=Ii.pending:(e.status=e.isValid?Ii.valid:Ii.invalid,this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(e)),this._updateValidationInfo(e),re({},this._validationInfo.result)},_subscribeToChangeEvents(e){e.on("validating",this._onValidatorStatusChanged),e.on("validated",this._onValidatorStatusChanged)},_unsubscribeFromChangeEvents(e){e.off("validating",this._onValidatorStatusChanged),e.off("validated",this._onValidatorStatusChanged)},_unsubscribeFromAllChangeEvents(){le(this.validators,(e,t)=>{this._unsubscribeFromChangeEvents(t)})},_updateValidationInfo(e){this._validationInfo.result=e,e.status===Ii.pending&&(this._validationInfo.deferred||(this._validationInfo.deferred=new pe,this._validationInfo.result.complete=this._validationInfo.deferred.promise()))},_addPendingValidator(e){var t=hr(this._pendingValidators,function(i){return i===e})[0];t||this._pendingValidators.push(e)},_removePendingValidator(e){var t=this._pendingValidators.indexOf(e);t>=0&&this._pendingValidators.splice(t,1)},_orderBrokenRules(e){var t=[];return le(this.validators,function(i,r){var n=hr(e,function(a){return a.validator===r});n.length&&(t=t.concat(n))}),t},_updateBrokenRules(e){if(this._validationInfo.result){var t=this._validationInfo.result.brokenRules,i=hr(t,function(r){return r.validator!==e.validator});e.brokenRules&&(t=i.concat(e.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(t)}},_onValidatorStatusChanged(e){if(e.status===Ii.pending){this._addPendingValidator(e.validator);return}this._resolveIfComplete(e)},_resolveIfComplete(e){if(this._removePendingValidator(e.validator),this._updateBrokenRules(e),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=this._validationInfo.result.brokenRules.length===0?Ii.valid:Ii.invalid,this._validationInfo.result.isValid=this._validationInfo.result.status===Ii.valid;var t=re({},this._validationInfo.result,{complete:null}),i=this._validationInfo.deferred;this._validationInfo.deferred=null,this._raiseValidatedEvent(t),i&&setTimeout(()=>{i.resolve(t)})}},_raiseValidatedEvent(e){this._eventsStrategy.fireEvent("validated",[e])},_resetValidationInfo(){this._validationInfo={result:null,deferred:null}},_synchronizeValidationInfo(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)},removeRegisteredValidator(e){var t=this.validators.indexOf(e);t>-1&&(this.validators.splice(t,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:e}))},registerValidator(e){this.validators.includes(e)||(this.validators.push(e),this._synchronizeValidationInfo())},reset(){le(this.validators,function(e,t){t.reset()}),this._pendingValidators=[],this._resetValidationInfo()},on(e,t){return this._eventsStrategy.on(e,t),this},off(e,t){return this._eventsStrategy.off(e,t),this}}),Nt={groups:[],getGroupConfig(e){var t=hr(this.groups,function(i){return i.group===e});if(t.length)return t[0]},findGroup(e,t){var i,r,n=(i=e.data())===null||i===void 0||(r=i.dxComponents)===null||r===void 0?void 0:r.includes("dxValidationGroup"),a=n&&e.dxValidationGroup("instance");if(a)return a;var s=e.parents(".dx-validationgroup").first();return s.length?s.dxValidationGroup("instance"):t},initGroups(){this.groups=[],this.addGroup()},addGroup(e){var t=this.getGroupConfig(e);return t||(t=new R7(e),this.groups.push(t)),t},removeGroup(e){var t=this.getGroupConfig(e),i=this.groups.indexOf(t);return i>-1&&this.groups.splice(i,1),t},_setDefaultMessage(e){var{rule:t,validator:i,name:r}=e;Z(t.message)||(i.defaultFormattedMessage&&Z(r)?t.message=i.defaultFormattedMessage(r):t.message=i.defaultMessage())},_addBrokenRule(e){var{result:t,rule:i}=e;t.brokenRule||(t.brokenRule=i),t.brokenRules||(t.brokenRules=[]),t.brokenRules.push(i)},validate(e,t,i){var r,n={name:i,value:e,brokenRule:null,brokenRules:null,isValid:!0,validationRules:t,pendingRules:null,status:Ii.valid,complete:null},a=t==null||(r=t[0])===null||r===void 0?void 0:r.validator,s=[];return le(t||[],(o,l)=>{var u=ad[l.type],d;if(u){if(Z(l.isValid)&&l.value===e&&!l.reevaluate)return l.isValid?!0:(n.isValid=!1,this._addBrokenRule({result:n,rule:l}),!1);if(l.value=e,l.type==="async")return s.push({rule:l,ruleValidator:u}),!0;if(d=u.validate(e,l),l.isValid=d,d||(n.isValid=!1,this._setDefaultMessage({rule:l,validator:u,name:i}),this._addBrokenRule({result:n,rule:l})),!l.isValid)return!1}else throw $t.Error("E0100")}),n.isValid&&!n.brokenRules&&s.length&&(n=this._validateAsyncRules({value:e,items:s,result:n,name:i})),this._synchronizeGroupValidationInfo(a,n),n.status=n.pendingRules?Ii.pending:n.isValid?Ii.valid:Ii.invalid,n},_synchronizeGroupValidationInfo(e,t){var i;if(e){var r=Nt.getGroupConfig(e._validationGroup);r._updateBrokenRules.call(r,{validator:e,brokenRules:(i=t.brokenRules)!==null&&i!==void 0?i:[]})}},_validateAsyncRules(e){var{result:t,value:i,items:r,name:n}=e,a=[];return le(r,(s,o)=>{var l=o.ruleValidator.validate(i,o.rule);if(!Nu(l))this._updateRuleConfig({rule:o.rule,ruleResult:this._getPatchedRuleResult(l),validator:o.ruleValidator,name:n});else{t.pendingRules||(t.pendingRules=[]),t.pendingRules.push(o.rule);var u=l.then(d=>{var c=this._getPatchedRuleResult(d);return this._updateRuleConfig({rule:o.rule,ruleResult:c,validator:o.ruleValidator,name:n}),c});a.push(u)}}),a.length&&(t.complete=Promise.all(a).then(s=>this._getAsyncRulesResult({result:t,values:s}))),t},_updateRuleConfig(e){var{rule:t,ruleResult:i,validator:r,name:n}=e;t.isValid=i.isValid,i.isValid||(Z(i.message)&&Ue(i.message)&&i.message.length?t.message=i.message:this._setDefaultMessage({rule:t,validator:r,name:n}))},_getPatchedRuleResult(e){var t;return Ge(e)?(t=re({},e),Z(t.isValid)||(t.isValid=!0)):t={isValid:Ko(e)?e:!0},t},_getAsyncRulesResult(e){var{values:t,result:i}=e;return le(t,(r,n)=>{if(n.isValid===!1){i.isValid=n.isValid;var a=i.pendingRules[r];this._addBrokenRule({result:i,rule:a})}}),i.pendingRules=null,i.complete=null,i.status=i.isValid?Ii.valid:Ii.invalid,i},registerValidatorInGroup(e,t){var i=Nt.addGroup(e);i.registerValidator.call(i,t)},_shouldRemoveGroup(e,t){var i=e===void 0,r=e&&e.NAME==="dxValidationGroup";return!i&&!r&&!t.length},removeRegisteredValidator(e,t){var i=Nt.getGroupConfig(e);if(i){i.removeRegisteredValidator.call(i,t);var r=i.validators;this._shouldRemoveGroup(e,r)&&this.removeGroup(e)}},initValidationOptions(e){var t={};return e&&["isValid","validationStatus","validationError","validationErrors"].forEach(i=>{i in e&&re(t,this.synchronizeValidationOptions({name:i,value:e[i]},e))}),t},synchronizeValidationOptions(e,t){var{name:i,value:r}=e;switch(i){case"validationStatus":var n=r===Ii.valid||r===Ii.pending;return t.isValid!==n?{isValid:n}:{};case"isValid":var{validationStatus:a}=t,s=a;return r&&a===Ii.invalid?s=Ii.valid:!r&&a!==Ii.invalid&&(s=Ii.invalid),s!==a?{validationStatus:s}:{};case"validationErrors":var o=!r||!r.length?null:r[0];return t.validationError!==o?{validationError:o}:{};case"validationError":var{validationErrors:l}=t;if(!r&&l)return{validationErrors:null};if(r&&!l)return{validationErrors:[r]};if(r&&l&&r!==l[0])return l[0]=r,{validationErrors:l.slice()}}return{}},validateGroup(e){var t=Nt.getGroupConfig(e);if(!t)throw $t.Error("E0110");return t.validate()},resetGroup(e){var t=Nt.getGroupConfig(e);if(!t)throw $t.Error("E0110");return t.reset()}};Nt.initGroups();var jd="dx-invalid-message",k7="dx-invalid-message-auto",M7="dx-invalid-message-always",B7="dx-invalid-message-content",P7=100,h0=on.inherit({_getDefaultOptions(){return re(this.callBase(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",hideOnOutsideClick:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",container:this.$element(),target:void 0,mode:"auto",validationErrors:void 0,positionRequest:void 0,boundary:void 0,offset:{h:0,v:0},contentId:void 0})},_init(){this.callBase(),this.updateMaxWidth(),this._updatePosition()},_initMarkup(){this.callBase(),this._ensureMessageNotEmpty(),this._updatePositionByTarget(),this._toggleModeClass(),this._updateContentId()},_updatePositionByTarget:function(){var{target:e}=this.option();this.option("position.of",e)},_ensureMessageNotEmpty:function(){this._textMarkup=this._getTextMarkup();var e=this.option("visible")&&this._textMarkup;this._toggleVisibilityClasses(e)},_toggleVisibilityClasses:function(e){e?(this.$element().addClass(jd),this.$wrapper().addClass(jd)):(this.$element().removeClass(jd),this.$wrapper().removeClass(jd))},_updateContentId(){var{container:e,contentId:t}=this.option(),i=t??W(e).attr("aria-describedby");this.$content().addClass(B7).attr("id",i)},_renderInnerHtml(e){var t=e&&W(e);t==null||t.html(this._textMarkup)},_getTextMarkup(){var e,t=(e=this.option("validationErrors"))!==null&&e!==void 0?e:[],i="";return t.forEach(r=>{var n,a=i?"<br />":"";i+=a+s_((n=r==null?void 0:r.message)!==null&&n!==void 0?n:"")}),i},_toggleModeClass(){var e=this.option("mode");this.$wrapper().toggleClass(k7,e==="auto").toggleClass(M7,e==="always")},updateMaxWidth(){var e=this.option("target"),t=At(e),i="100%";t&&(i=Math.max(t,P7)),this.option({maxWidth:i})},_updatePosition:function(){var{positionRequest:e,rtlEnabled:t,offset:i,boundary:r}=this.option(),n=Za(t),a=e==="below"?[" top"," bottom"]:[" bottom"," top"];t&&(i.h=-i.h),e!=="below"&&(i.v=-i.v),this.option("position",{offset:i,boundary:r,my:n+a[0],at:n+a[1],collision:"none flip"})},_optionChanged(e){var{name:t,value:i}=e;switch(t){case"target":this._updatePositionByTarget(),this.updateMaxWidth(),this.callBase(e);break;case"boundary":this.option("position.boundary",i);break;case"mode":this._toggleModeClass(i);break;case"rtlEnabled":case"offset":case"positionRequest":this._updatePosition();break;case"container":this._updateContentId(),this.callBase(e);break;case"contentId":this._updateContentId();break;case"validationErrors":this._ensureMessageNotEmpty(),this._renderInnerHtml(this.$content());break;default:this.callBase(e)}}});yt("dxValidationMessage",h0);var sw="dx-invalid-message-auto",F7="dx-state-readonly",L7="dx-invalid",N7="dx-show-invalid-badge",ow="dx-validation-target",V7="valid",lw="invalid",$7="editorReadOnly",H7=["outlined","filled","underlined"],uw={validationMessageMode:"mode",validationMessageOffset:"offset",validationBoundary:"boundary"},ln=Fi.inherit({ctor:function(){this.showValidationMessageTimeout=null,this.validationRequest=kt(),this.callBase.apply(this,arguments)},_createElement:function(e){this.callBase(e);var t=this.$element();t&&ui(t[0],ow,this)},_initOptions:function(e){this.callBase.apply(this,arguments),this.option(Nt.initValidationOptions(e))},_init:function(){this.callBase(),this._options.cache("validationTooltipOptions",this.option("validationTooltipOptions"));var e=this.$element();e.addClass(N7)},_getDefaultOptions:function(){return re(this.callBase(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:V7,validationMessageMode:"auto",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})},_attachKeyboardEvents:function(){this.option("readOnly")||this.callBase()},_setOptionsByReference:function(){this.callBase(),re(this._optionsByReference,{validationError:!0})},_createValueChangeAction:function(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction:function(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction:function(){this._valueChangeActionSuppressed=!1},_initMarkup:function(){var e;this._toggleReadOnlyState(),this._setSubmitElementName(this.option("name")),this.callBase(),this._renderValidationState(),(e=this.option("_onMarkupRendered"))===null||e===void 0||e()},_raiseValueChangeAction:function(e,t){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(e,t))},_valueChangeArgs:function(e,t){return{value:e,previousValue:t,event:this._valueChangeEventInstance}},_saveValueChangeEvent:function(e){this._valueChangeEventInstance=e},_focusInHandler:function(e){var t=this.option("validationMessageMode")==="auto";if(this._canValueBeChangedByClick()&&t){var i,r=(i=this._validationMessage)===null||i===void 0?void 0:i.$wrapper();r==null||r.removeClass(sw),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>r==null?void 0:r.addClass(sw),150)}return this.callBase(e)},_canValueBeChangedByClick:function(){return!1},_getStylingModePrefix:function(){return"dx-editor-"},_renderStylingMode:function(){var e=this.option("stylingMode"),t=this._getStylingModePrefix(),i=H7.map(s=>t+s);i.forEach(s=>this.$element().removeClass(s));var r=t+e;if(i.indexOf(r)===-1){var n=this._getDefaultOptions().stylingMode,a=this._convertRulesToOptions(this._defaultOptionsRules()).stylingMode;r=t+(a||n)}this.$element().addClass(r)},_getValidationErrors:function(){var e=this.option("validationErrors");return!e&&this.option("validationError")&&(e=[this.option("validationError")]),e},_disposeValidationMessage:function(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=void 0,this._validationMessage=void 0)},_toggleValidationClasses:function(e){this.$element().toggleClass(L7,e),this.setAria(lw,e||void 0)},_renderValidationState:function(){var e=this.option("isValid")&&this.option("validationStatus")!==lw,t=this._getValidationErrors(),i=this.$element();if(this._toggleValidationClasses(!e),!!rt()&&(this._disposeValidationMessage(),!e&&t)){var{validationMessageMode:r,validationMessageOffset:n,validationBoundary:a,rtlEnabled:s}=this.option();this._$validationMessage=W("<div>").appendTo(i);var o="dx-".concat(new Ri);this.setAria("describedby",o),this._validationMessage=new h0(this._$validationMessage,re({validationErrors:t,rtlEnabled:s,target:this._getValidationMessageTarget(),visualContainer:i,mode:r,positionRequest:"below",offset:n,boundary:a,contentId:o},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}},_getValidationMessageTarget:function(){return this.$element()},_toggleReadOnlyState:function(){var e=this.option("readOnly");this._toggleBackspaceHandler(e),this.$element().toggleClass(F7,!!e),this.setAria("readonly",e||void 0)},_toggleBackspaceHandler:function(e){var t=this._keyboardEventBindingTarget(),i=xe("keydown",$7);te.off(t,i),e&&te.on(t,i,r=>{hi(r)==="backspace"&&r.preventDefault()})},_dispose:function(){var e=this.$element()[0];ui(e,ow,null),clearTimeout(this.showValidationMessageTimeout),this._disposeValidationMessage(),this.callBase()},_setSubmitElementName:function(e){var t=this._getSubmitElement();t&&(e.length>0?t.attr("name",e):t.removeAttr("name"))},_getSubmitElement:function(){return null},_setValidationMessageOption:function(e){var t,{name:i,value:r}=e,n=uw[i]?uw[i]:i;(t=this._validationMessage)===null||t===void 0||t.option(n,r)},_hasActiveElement:me,_optionChanged:function(e){var t;switch(e.name){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":e.value!=e.previousValue&&this.validationRequest.fire({value:e.value,editor:this}),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(e.value,e.previousValue),this._saveValueChangeEvent(void 0));break;case"width":this.callBase(e),(t=this._validationMessage)===null||t===void 0||t.updateMaxWidth();break;case"name":this._setSubmitElementName(e.value);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(Nt.synchronizeValidationOptions(e,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessageOffset":this._setValidationMessageOption(e);break;case"rtlEnabled":this._setValidationMessageOption(e),this.callBase(e);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,e);break;default:this.callBase(e)}},blur:function(){this._hasActiveElement()&&ll()},reset:function(){var e=this._getDefaultOptions();this.option("value",e.value)}});ln.isEditor=e=>e instanceof ln;class ff{constructor(t,i,r){this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=i,this.name=t,this.options=r||{}}_addPlaceMarker(t){this.$placeMarker=W("<div>").appendTo(t)}_addToContainer(t){var{$placeMarker:i,$container:r}=this;i?i.replaceWith(t):t.appendTo(r)}_attachEvents(){throw"Not implemented"}_create(){throw"Not implemented"}_isRendered(){return!!this.instance}_isVisible(){var{editor:t,options:i}=this;return i.visible||!t.option("readOnly")}_isDisabled(){throw"Not implemented"}_shouldRender(){return this._isVisible()&&!this._isRendered()}dispose(){var{instance:t,$placeMarker:i}=this;t&&(t.dispose?t.dispose():t.remove(),this.instance=null),i&&i.remove()}render(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.$container;if(this.$container=t,this._isVisible()){var{instance:i,$element:r}=this._create();this.instance=i,this._attachEvents(i,r)}else this._addPlaceMarker(t)}update(){return this._shouldRender()&&this.render(),!!this.instance}}var z7=Rt.down,W7="dx-state-invisible",j7="dx-clear-button-area",U7="dx-icon-clear",G7="dx-icon",K7="dx-show-clear-button";class q7 extends ff{_create(){var t=W("<span>").addClass(j7).append(W("<span>").addClass(G7).addClass(U7));return this._addToContainer(t),this.update(!0),{instance:t,$element:t}}_isVisible(){var{editor:t}=this;return t._isClearButtonVisible()}_attachEvents(t,i){var{editor:r}=this,n=r.NAME;te.on(i,xe(z7,n),a=>{a.preventDefault(),a.pointerType!=="mouse"&&r._clearValueHandler(a)}),te.on(i,xe(Pt,n),a=>r._clearValueHandler(a))}_legacyRender(t,i){t.toggleClass(K7,i)}update(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!t&&super.update();var{editor:i,instance:r}=this,n=i.$element(),a=this._isVisible();r&&r.toggleClass(W7,!a),this._legacyRender(n,a)}}var Iu=Array.isArray;function xc(e){var t=typeof e;return t==="string"||t==="number"}function Vt(e){return e==null}function Tu(e){return e===null||e===!1||e===!0||e===void 0}function gi(e){return typeof e=="function"}function Au(e){return typeof e=="string"}function X7(e){return typeof e=="number"}function fr(e){return e===null}function Y7(e){return e===void 0}function Qa(e,t){var i={};if(e)for(var r in e)i[r]=e[r];if(t)for(var n in t)i[n]=t[n];return i}function c0(e){return!fr(e)&&typeof e=="object"}var Wi={},Z7="$F";function f0(e){return e.substr(2).toLowerCase()}function vA(e,t){e.appendChild(t)}function p0(e,t,i){fr(i)?vA(e,t):e.insertBefore(t,i)}function J7(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function Q7(e,t,i){e.replaceChild(t,i)}function _A(e,t){e.removeChild(t)}function bA(e){for(var t=0;t<e.length;t++)e[t]()}function e$(e,t,i){var r=e.children;return i&4?r.$LI:i&8192?e.childFlags===2?r:r[t?0:r.length-1]:r}function Hr(e,t){for(var i;e;){if(i=e.flags,i&2033)return e.dom;e=e$(e,t,i)}return null}function sd(e,t){do{var i=e.flags;if(i&2033){_A(t,e.dom);return}var r=e.children;if(i&4&&(e=r.$LI),i&8&&(e=r),i&8192)if(e.childFlags===2)e=r;else{for(var n=0,a=r.length;n<a;++n)sd(r[n],t);return}}while(e)}function yA(e,t,i){do{var r=e.flags;if(r&2033){p0(t,e.dom,i);return}var n=e.children;if(r&4&&(e=n.$LI),r&8&&(e=n),r&8192)if(e.childFlags===2)e=n;else{for(var a=0,s=n.length;a<s;++a)yA(n[a],t,i);return}}while(e)}function CA(e,t,i){return e.constructor.getDerivedStateFromProps?Qa(i,e.constructor.getDerivedStateFromProps(t,i)):i}var Ou={v:!1},dw={componentComparator:null,createVNode:null,renderComplete:null};function uu(e,t){e.textContent=t}function wA(e,t){return c0(e)&&e.event===t.event&&e.data===t.data}function xA(e,t){for(var i in t)Y7(e[i])&&(e[i]=t[i]);return e}function m0(e,t){return!!gi(e)&&(e(t),!0)}var du="$";function pf(e,t,i,r,n,a,s,o){this.childFlags=e,this.children=t,this.className=i,this.dom=null,this.flags=r,this.key=n===void 0?null:n,this.props=a===void 0?null:a,this.ref=s===void 0?null:s,this.type=o}function Ci(e,t,i,r,n,a,s,o){var l=n===void 0?1:n,u=new pf(l,r,i,e,s,a,o,t);return l===0&&EA(u,u.children),u}function t$(e,t,i){if(e&4)return i;var r=(e&32768?t.render:t).defaultHooks;return Vt(r)?i:Vt(i)?r:xA(i,r)}function i$(e,t,i){var r=(e&32768?t.render:t).defaultProps;return Vt(r)?i:Vt(i)?Qa(r,null):xA(i,r)}function r$(e,t){return e&12?e:t.prototype&&t.prototype.render?4:t.render?32776:8}function Zt(e,t,i,r,n){e=r$(e,t);var a=new pf(1,null,null,e,r,i$(e,t,i),t$(e,t,n),t);return a}function od(e,t){return new pf(1,Vt(e)||e===!0||e===!1?"":e,null,16,t,null,null,null)}function ua(e,t,i){var r=Ci(8192,8192,null,e,t,null,i,null);switch(r.childFlags){case 1:r.children=mf(),r.childFlags=2;break;case 16:r.children=[od(e)],r.childFlags=4;break}return r}function yr(e){var t=e.props;if(t){var i=e.flags;i&481&&(t.children!==void 0&&Vt(e.children)&&EA(e,t.children),t.className!==void 0&&(Vt(e.className)&&(e.className=t.className||null),t.className=void 0)),t.key!==void 0&&(e.key=t.key,t.key=void 0),t.ref!==void 0&&(i&8?e.ref=Qa(e.ref,t.ref):e.ref=t.ref,t.ref=void 0)}return e}function n$(e){var t=e.children,i=e.childFlags;return ua(i===2?ji(t):t.map(ji),i,e.key)}function ji(e){var t=e.flags&-16385,i=e.props;if(t&14&&!fr(i)){var r=i;i={};for(var n in r)i[n]=r[n]}return t&8192?n$(e):new pf(e.childFlags,e.children,e.className,t,e.key,i,e.ref,e.type)}function mf(){return od("",null)}function SA(e,t,i,r){for(var n=e.length;i<n;i++){var a=e[i];if(!Tu(a)){var s=r+du+i;if(Iu(a))SA(a,t,0,s);else{if(xc(a))a=od(a,s);else{var o=a.key,l=Au(o)&&o[0]===du;(a.flags&81920||l)&&(a=ji(a)),a.flags|=65536,l?o.substring(0,r.length)!==r&&(a.key=r+o):fr(o)?a.key=s:a.key=r+o}t.push(a)}}}}function a$(e){switch(e){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case Z7:return 8192;default:return 1}}function EA(e,t){var i,r=1;if(Tu(t))i=t;else if(xc(t))r=16,i=t;else if(Iu(t)){for(var n=t.length,a=0;a<n;++a){var s=t[a];if(Tu(s)||Iu(s)){i=i||t.slice(0,a),SA(t,i,a,"");break}else if(xc(s))i=i||t.slice(0,a),i.push(od(s,du+a));else{var o=s.key,l=(s.flags&81920)>0,u=fr(o),d=Au(o)&&o[0]===du;l||u||d?(i=i||t.slice(0,a),(l||d)&&(s=ji(s)),(u||d)&&(s.key=du+a),i.push(s)):i&&i.push(s),s.flags|=65536}}i=i||t,i.length===0?r=1:r=8}else i=t,i.flags|=65536,t.flags&81920&&(i=ji(t)),r=2;return e.children=i,e.childFlags=r,e}function gf(e){return Tu(e)||xc(e)?od(e,null):Iu(e)?ua(e,0,null):e.flags&16384?ji(e):e}var ns="http://www.w3.org/1999/xlink",Xp="http://www.w3.org/XML/1998/namespace",hw={"xlink:actuate":ns,"xlink:arcrole":ns,"xlink:href":ns,"xlink:role":ns,"xlink:show":ns,"xlink:title":ns,"xlink:type":ns,"xml:base":Xp,"xml:lang":Xp,"xml:space":Xp};function vf(e){return{onClick:e,onDblClick:e,onFocusIn:e,onFocusOut:e,onKeyDown:e,onKeyPress:e,onKeyUp:e,onMouseDown:e,onMouseMove:e,onMouseUp:e,onTouchEnd:e,onTouchMove:e,onTouchStart:e}}var IA=vf(0),xv=vf(null),TA=vf(!0);function cw(e,t){var i=t.$EV;return i||(i=t.$EV=vf(null)),i[e]||++IA[e]===1&&(xv[e]=f$(e)),i}function AA(e,t){var i=t.$EV;i&&i[e]&&(--IA[e]===0&&(document.removeEventListener(f0(e),xv[e]),xv[e]=null),i[e]=null)}function s$(e,t,i,r){if(gi(i))cw(e,r)[e]=i;else if(c0(i)){if(wA(t,i))return;cw(e,r)[e]=i}else AA(e,r)}function o$(e){return gi(e.composedPath)?e.composedPath()[0]:e.target}function OA(e,t,i,r){var n=o$(e);do{if(t&&n.disabled)return;var a=n.$EV;if(a){var s=a[i];if(s&&(r.dom=n,s.event?s.event(s.data,e):s(e),e.cancelBubble))return}n=n.parentNode}while(!fr(n))}function l$(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function u$(){return this.defaultPrevented}function d$(){return this.cancelBubble}function DA(e){var t={dom:document};return e.isDefaultPrevented=u$,e.isPropagationStopped=d$,e.stopPropagation=l$,Object.defineProperty(e,"currentTarget",{configurable:!0,get:function(){return t.dom}}),t}function h$(e){return function(t){if(t.button!==0){t.stopPropagation();return}OA(t,!0,e,DA(t))}}function c$(e){return function(t){OA(t,!1,e,DA(t))}}function f$(e){var t=e==="onClick"||e==="onDblClick"?h$(e):c$(e);return document.addEventListener(f0(e),t),t}function p$(e,t){var i=document.createElement("i");return i.innerHTML=t,i.innerHTML===e.innerHTML}function fw(e,t,i){if(e[t]){var r=e[t];r.event?r.event(r.data,i):r(i)}else{var n=t.toLowerCase();e[n]&&e[n](i)}}function ld(e,t){var i=function(r){var n=this.$V;if(n){var a=n.props||Wi,s=n.dom;if(Au(e))fw(a,e,r);else for(var o=0;o<e.length;++o)fw(a,e[o],r);if(gi(t)){var l=this.$V,u=l.props||Wi;t(u,s,!1,l)}}};return Object.defineProperty(i,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),i}function Is(e,t,i){var r="$"+t,n=e[r];if(n){if(n[1].wrapped)return;e.removeEventListener(n[0],n[1]),e[r]=null}gi(i)&&(e.addEventListener(t,i),e[r]=[t,i])}function g0(e){return e==="checkbox"||e==="radio"}var m$=ld("onInput",v0),g$=ld(["onClick","onChange"],v0);function RA(e){e.stopPropagation()}RA.wrapped=!0;function v$(e,t){g0(t.type)?(Is(e,"change",g$),Is(e,"click",RA)):Is(e,"input",m$)}function v0(e,t){var i=e.type,r=e.value,n=e.checked,a=e.multiple,s=e.defaultValue,o=!Vt(r);i&&i!==t.type&&t.setAttribute("type",i),!Vt(a)&&a!==t.multiple&&(t.multiple=a),!Vt(s)&&!o&&(t.defaultValue=s+""),g0(i)?(o&&(t.value=r),Vt(n)||(t.checked=n)):o&&t.value!==r?(t.defaultValue=r,t.value=r):Vt(n)||(t.checked=n)}function Kl(e,t){if(e.type==="option")_$(e,t);else{var i=e.children,r=e.flags;if(r&4)Kl(i.$LI,t);else if(r&8)Kl(i,t);else if(e.childFlags===2)Kl(i,t);else if(e.childFlags&12)for(var n=0,a=i.length;n<a;++n)Kl(i[n],t)}}function _$(e,t){var i=e.props||Wi,r=e.dom;r.value=i.value,i.value===t||Iu(t)&&t.indexOf(i.value)!==-1?r.selected=!0:(!Vt(t)||!Vt(i.selected))&&(r.selected=i.selected||!1)}var b$=ld("onChange",kA);function y$(e){Is(e,"change",b$)}function kA(e,t,i,r){var n=!!e.multiple;!Vt(e.multiple)&&n!==t.multiple&&(t.multiple=n);var a=e.selectedIndex;a===-1&&(t.selectedIndex=-1);var s=r.childFlags;if(s!==1){var o=e.value;X7(a)&&a>-1&&t.options[a]&&(o=t.options[a].value),i&&Vt(o)&&(o=e.defaultValue),Kl(r,o)}}var C$=ld("onInput",MA),w$=ld("onChange");function x$(e,t){Is(e,"input",C$),t.onChange&&Is(e,"change",w$)}function MA(e,t,i){var r=e.value,n=t.value;if(Vt(r)){if(i){var a=e.defaultValue;!Vt(a)&&a!==n&&(t.defaultValue=a,t.value=a)}}else n!==r&&(t.defaultValue=r,t.value=r)}function BA(e,t,i,r,n,a){e&64?v0(r,i):e&256?kA(r,i,n,t):e&128&&MA(r,i,n),a&&(i.$V=t)}function S$(e,t,i){e&64?v$(t,i):e&256?y$(t):e&128&&x$(t,i)}function PA(e){return e.type&&g0(e.type)?!Vt(e.checked):!Vt(e.value)}function Ui(){return{current:null}}function Sc(e){e&&!m0(e,null)&&e.current&&(e.current=null)}function ud(e,t,i){e&&(gi(e)||e.current!==void 0)&&i.push(function(){!m0(e,t)&&e.current!==void 0&&(e.current=t)})}function tn(e,t){Qn(e),sd(e,t)}function Qn(e){var t=e.flags,i=e.children,r;if(t&481){r=e.ref;var n=e.props;Sc(r);var a=e.childFlags;if(!fr(n))for(var s=Object.keys(n),o=0,l=s.length;o<l;o++){var u=s[o];TA[u]&&AA(u,e.dom)}a&12?Du(i):a===2&&Qn(i)}else i&&(t&4?(gi(i.componentWillUnmount)&&i.componentWillUnmount(),Sc(e.ref),i.$UN=!0,Qn(i.$LI)):t&8?(r=e.ref,!Vt(r)&&gi(r.onComponentWillUnmount)&&r.onComponentWillUnmount(Hr(e,!0),e.props||Wi),Qn(i)):t&1024?tn(i,e.ref):t&8192&&e.childFlags&12&&Du(i))}function Du(e){for(var t=0,i=e.length;t<i;++t)Qn(e[t])}function $h(e){e.textContent=""}function Hh(e,t,i){Du(i),t.flags&8192?sd(t,e):$h(e)}function E$(e){var t=e.event;return function(i){t(e.data,i)}}function I$(e,t,i,r){if(c0(i)){if(wA(t,i))return;i=E$(i)}Is(r,f0(e),i)}function T$(e,t,i){if(Vt(t)){i.removeAttribute("style");return}var r=i.style,n,a;if(Au(t)){r.cssText=t;return}if(!Vt(e)&&!Au(e)){for(n in t)a=t[n],a!==e[n]&&r.setProperty(n,a);for(n in e)Vt(t[n])&&r.removeProperty(n)}else for(n in t)a=t[n],r.setProperty(n,a)}function A$(e,t,i,r){var n=e&&e.__html||"",a=t&&t.__html||"";n!==a&&!Vt(a)&&!p$(r,a)&&(fr(i)||(i.childFlags&12?Du(i.children):i.childFlags===2&&Qn(i.children),i.children=null,i.childFlags=1),r.innerHTML=a)}function Sv(e,t,i,r,n,a,s){switch(e){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":r.autofocus=!!i;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":r[e]=!!i;break;case"defaultChecked":case"value":case"volume":if(a&&e==="value")break;var o=Vt(i)?"":i;r[e]!==o&&(r[e]=o);break;case"style":T$(t,i,r);break;case"dangerouslySetInnerHTML":A$(t,i,s,r);break;default:TA[e]?s$(e,t,i,r):e.charCodeAt(0)===111&&e.charCodeAt(1)===110?I$(e,t,i,r):Vt(i)?r.removeAttribute(e):n&&hw[e]?r.setAttributeNS(hw[e],e,i):r.setAttribute(e,i);break}}function FA(e,t,i,r,n){var a=!1,s=(t&448)>0;s&&(a=PA(i),a&&S$(t,r,i));for(var o in i)Sv(o,null,i[o],r,n,a,null);s&&BA(t,e,r,i,!0,a)}function LA(e,t,i){var r=gf(e.render(t,e.state,i)),n=i;return gi(e.getChildContext)&&(n=Qa(i,e.getChildContext())),e.$CX=n,r}function NA(e,t,i,r,n,a){var s=new t(i,r),o=s.$N=!!(t.getDerivedStateFromProps||s.getSnapshotBeforeUpdate);if(s.$SVG=n,s.$L=a,e.children=s,s.$BS=!1,s.context=r,s.props===Wi&&(s.props=i),o)s.state=CA(s,i,s.state);else if(gi(s.componentWillMount)){s.$BR=!0,s.componentWillMount();var l=s.$PS;if(!fr(l)){var u=s.state;if(fr(u))s.state=l;else for(var d in l)u[d]=l[d];s.$PS=null}s.$BR=!1}return s.$LI=LA(s,i,r),s}function _0(e,t){var i=e.props||Wi;return e.flags&32768?e.type.render(i,e.ref,t):e.type(i,t)}function Gi(e,t,i,r,n,a){var s=e.flags|=16384;s&481?$A(e,t,i,r,n,a):s&4?R$(e,t,i,r,n,a):s&8?(k$(e,t,i,r,n,a),zA(e,a)):s&512||s&16?VA(e,t,n):s&8192?D$(e,i,t,r,n,a):s&1024&&O$(e,i,t,n,a)}function O$(e,t,i,r,n){Gi(e.children,e.ref,t,!1,null,n);var a=mf();VA(a,i,r),e.dom=a.dom}function D$(e,t,i,r,n,a){var s=e.children,o=e.childFlags;o&12&&s.length===0&&(o=e.childFlags=2,s=e.children=mf()),o===2?Gi(s,i,t,r,n,a):Ts(s,i,t,r,n,a)}function VA(e,t,i){var r=e.dom=document.createTextNode(e.children);fr(t)||p0(t,r,i)}function $A(e,t,i,r,n,a){var s=e.flags,o=e.props,l=e.className,u=e.childFlags,d=e.dom=J7(e.type,r=r||(s&32)>0),c=e.children;if(!Vt(l)&&l!==""&&(r?d.setAttribute("class",l):d.className=l),u===16)uu(d,c);else if(u!==1){var h=r&&e.type!=="foreignObject";u===2?(c.flags&16384&&(e.children=c=ji(c)),Gi(c,d,i,h,null,a)):(u===8||u===4)&&Ts(c,d,i,h,null,a)}fr(t)||p0(t,d,n),fr(o)||FA(e,s,o,d,r),ud(e.ref,d,a)}function Ts(e,t,i,r,n,a){for(var s=0;s<e.length;++s){var o=e[s];o.flags&16384&&(e[s]=o=ji(o)),Gi(o,t,i,r,n,a)}}function R$(e,t,i,r,n,a){var s=NA(e,e.type,e.props||Wi,i,r,a);Gi(s.$LI,t,s.$CX,r,n,a),HA(e.ref,s,a)}function k$(e,t,i,r,n,a){Gi(e.children=gf(_0(e,i)),t,i,r,n,a)}function M$(e){return function(){e.componentDidMount()}}function HA(e,t,i){ud(e,t,i),gi(t.componentDidMount)&&i.push(M$(t))}function B$(e,t){return function(){e.onComponentDidMount(Hr(t,!0),t.props||Wi)}}function zA(e,t){var i=e.ref;Vt(i)||(m0(i.onComponentWillMount,e.props||Wi),gi(i.onComponentDidMount)&&t.push(B$(i,e)))}function P$(e,t,i,r,n,a){Qn(e),t.flags&e.flags&2033?(Gi(t,null,r,n,null,a),Q7(i,t.dom,e.dom)):(Gi(t,i,r,n,Hr(e,!0),a),sd(e,i))}function aa(e,t,i,r,n,a,s){var o=t.flags|=16384;e.flags!==o||e.type!==t.type||e.key!==t.key||o&2048?e.flags&16384?P$(e,t,i,r,n,s):Gi(t,i,r,n,a,s):o&481?$$(e,t,r,n,o,s):o&4?W$(e,t,i,r,n,a,s):o&8?j$(e,t,i,r,n,a,s):o&16?U$(e,t):o&512?t.dom=e.dom:o&8192?N$(e,t,i,r,n,s):V$(e,t,r,s)}function F$(e,t,i){e!==t&&(e!==""?i.firstChild.nodeValue=t:uu(i,t))}function L$(e,t){e.textContent!==t&&(e.textContent=t)}function N$(e,t,i,r,n,a){var s=e.children,o=t.children,l=e.childFlags,u=t.childFlags,d=null;u&12&&o.length===0&&(u=t.childFlags=2,o=t.children=mf());var c=(u&2)!==0;if(l&12){var h=s.length;(l&8&&u&8||c||!c&&o.length>h)&&(d=Hr(s[h-1],!1).nextSibling)}b0(l,u,s,o,i,r,n,d,e,a)}function V$(e,t,i,r){var n=e.ref,a=t.ref,s=t.children;if(b0(e.childFlags,t.childFlags,e.children,s,n,i,!1,null,e,r),t.dom=e.dom,n!==a&&!Tu(s)){var o=s.dom;_A(n,o),vA(a,o)}}function $$(e,t,i,r,n,a){var s=t.dom=e.dom,o=e.props,l=t.props,u=!1,d=!1,c;if(r=r||(n&32)>0,o!==l){var h=o||Wi;if(c=l||Wi,c!==Wi){u=(n&448)>0,u&&(d=PA(c));for(var f in c){var p=h[f],g=c[f];p!==g&&Sv(f,p,g,s,r,d,e)}}if(h!==Wi)for(var m in h)Vt(c[m])&&!Vt(h[m])&&Sv(m,h[m],null,s,r,d,e)}var v=t.children,b=t.className;e.className!==b&&(Vt(b)?s.removeAttribute("class"):r?s.setAttribute("class",b):s.className=b),n&4096?L$(s,v):b0(e.childFlags,t.childFlags,e.children,v,s,i,r&&t.type!=="foreignObject",null,e,a),u&&BA(n,t,s,c,!1,d);var y=t.ref,I=e.ref;I!==y&&(Sc(I),ud(y,s,a))}function H$(e,t,i,r,n,a){Qn(e),Ts(t,i,r,n,Hr(e,!0),a),sd(e,i)}function b0(e,t,i,r,n,a,s,o,l,u){switch(e){case 2:switch(t){case 2:aa(i,r,n,a,s,o,u);break;case 1:tn(i,n);break;case 16:Qn(i),uu(n,r);break;default:H$(i,r,n,a,s,u);break}break;case 1:switch(t){case 2:Gi(r,n,a,s,o,u);break;case 1:break;case 16:uu(n,r);break;default:Ts(r,n,a,s,o,u);break}break;case 16:switch(t){case 16:F$(i,r,n);break;case 2:$h(n),Gi(r,n,a,s,o,u);break;case 1:$h(n);break;default:$h(n),Ts(r,n,a,s,o,u);break}break;default:switch(t){case 16:Du(i),uu(n,r);break;case 2:Hh(n,l,i),Gi(r,n,a,s,o,u);break;case 1:Hh(n,l,i);break;default:var d=i.length|0,c=r.length|0;d===0?c>0&&Ts(r,n,a,s,o,u):c===0?Hh(n,l,i):t===8&&e===8?K$(i,r,n,a,s,d,c,o,l,u):G$(i,r,n,a,s,d,c,o,u);break}break}}function z$(e,t,i,r,n){n.push(function(){e.componentDidUpdate(t,i,r)})}function WA(e,t,i,r,n,a,s,o,l){var u=e.state,d=e.props,c=!!e.$N,h=gi(e.shouldComponentUpdate);if(c&&(t=CA(e,i,t!==u?Qa(u,t):t)),s||!h||h&&e.shouldComponentUpdate(i,t,n)){!c&&gi(e.componentWillUpdate)&&e.componentWillUpdate(i,t,n),e.props=i,e.state=t,e.context=n;var f=null,p=LA(e,i,n);c&&gi(e.getSnapshotBeforeUpdate)&&(f=e.getSnapshotBeforeUpdate(d,u)),aa(e.$LI,p,r,e.$CX,a,o,l),e.$LI=p,gi(e.componentDidUpdate)&&z$(e,d,u,f,l)}else e.props=i,e.state=t,e.context=n}function W$(e,t,i,r,n,a,s){var o=t.children=e.children;if(!fr(o)){o.$L=s;var l=t.props||Wi,u=t.ref,d=e.ref,c=o.state;if(!o.$N){if(gi(o.componentWillReceiveProps)){if(o.$BR=!0,o.componentWillReceiveProps(l,r),o.$UN)return;o.$BR=!1}fr(o.$PS)||(c=Qa(c,o.$PS),o.$PS=null)}WA(o,c,l,i,r,n,!1,a,s),d!==u&&(Sc(d),ud(u,o,s))}}function j$(e,t,i,r,n,a,s){var o=!0,l=t.props||Wi,u=t.ref,d=e.props,c=!Vt(u),h=e.children;if(c&&gi(u.onComponentShouldUpdate)&&(o=u.onComponentShouldUpdate(d,l)),o!==!1){c&&gi(u.onComponentWillUpdate)&&u.onComponentWillUpdate(d,l);var f=gf(_0(t,r));aa(h,f,i,r,n,a,s),t.children=f,c&&gi(u.onComponentDidUpdate)&&u.onComponentDidUpdate(d,l)}else t.children=h}function U$(e,t){var i=t.children,r=t.dom=e.dom;i!==e.children&&(r.nodeValue=i)}function G$(e,t,i,r,n,a,s,o,l){for(var u=a>s?s:a,d=0,c,h;d<u;++d)c=t[d],h=e[d],c.flags&16384&&(c=t[d]=ji(c)),aa(h,c,i,r,n,o,l),e[d]=c;if(a<s)for(d=u;d<s;++d)c=t[d],c.flags&16384&&(c=t[d]=ji(c)),Gi(c,i,r,n,o,l);else if(a>s)for(d=u;d<a;++d)tn(e[d],i)}function K$(e,t,i,r,n,a,s,o,l,u){var d=a-1,c=s-1,h=0,f=e[h],p=t[h],g,m;e:{for(;f.key===p.key;){if(p.flags&16384&&(t[h]=p=ji(p)),aa(f,p,i,r,n,o,u),e[h]=p,++h,h>d||h>c)break e;f=e[h],p=t[h]}for(f=e[d],p=t[c];f.key===p.key;){if(p.flags&16384&&(t[c]=p=ji(p)),aa(f,p,i,r,n,o,u),e[d]=p,d--,c--,h>d||h>c)break e;f=e[d],p=t[c]}}if(h>d){if(h<=c)for(g=c+1,m=g<s?Hr(t[g],!0):o;h<=c;)p=t[h],p.flags&16384&&(t[h]=p=ji(p)),++h,Gi(p,i,r,n,m,u)}else if(h>c)for(;h<=d;)tn(e[h++],i);else q$(e,t,r,a,s,d,c,h,i,n,o,l,u)}function q$(e,t,i,r,n,a,s,o,l,u,d,c,h){var f,p,g,m=0,v=o,b=o,y=a-o+1,I=s-o+1,D=new Int32Array(I+1),N=y===r,z=!1,F=0,$=0;if(n<4||(y|I)<32)for(m=v;m<=a;++m)if(f=e[m],$<I){for(o=b;o<=s;o++)if(p=t[o],f.key===p.key){if(D[o-b]=m+1,N)for(N=!1;v<m;)tn(e[v++],l);F>o?z=!0:F=o,p.flags&16384&&(t[o]=p=ji(p)),aa(f,p,l,i,u,d,h),++$;break}!N&&o>s&&tn(f,l)}else N||tn(f,l);else{var j={};for(m=b;m<=s;++m)j[t[m].key]=m;for(m=v;m<=a;++m)if(f=e[m],$<I)if(o=j[f.key],o!==void 0){if(N)for(N=!1;m>v;)tn(e[v++],l);D[o-b]=m+1,F>o?z=!0:F=o,p=t[o],p.flags&16384&&(t[o]=p=ji(p)),aa(f,p,l,i,u,d,h),++$}else N||tn(f,l);else N||tn(f,l)}if(N)Hh(l,c,e),Ts(t,l,i,u,d,h);else if(z){var q=X$(D);for(o=q.length-1,m=I-1;m>=0;m--)D[m]===0?(F=m+b,p=t[F],p.flags&16384&&(t[F]=p=ji(p)),g=F+1,Gi(p,l,i,u,g<n?Hr(t[g],!0):d,h)):o<0||m!==q[o]?(F=m+b,p=t[F],g=F+1,yA(p,l,g<n?Hr(t[g],!0):d)):o--}else if($!==I)for(m=I-1;m>=0;m--)D[m]===0&&(F=m+b,p=t[F],p.flags&16384&&(t[F]=p=ji(p)),g=F+1,Gi(p,l,i,u,g<n?Hr(t[g],!0):d,h))}var Ln,Ud,pw=0;function X$(e){var t=0,i=0,r=0,n=0,a=0,s=0,o=0,l=e.length;for(l>pw&&(pw=l,Ln=new Int32Array(l),Ud=new Int32Array(l));i<l;++i)if(t=e[i],t!==0){if(r=Ln[n],e[r]<t){Ud[i]=r,Ln[++n]=i;continue}for(a=0,s=n;a<s;)o=a+s>>1,e[Ln[o]]<t?a=o+1:s=o;t<e[Ln[a]]&&(a>0&&(Ud[i]=Ln[a-1]),Ln[a]=i)}a=n+1;var u=new Int32Array(a);for(s=Ln[a-1];a-- >0;)u[a]=s,s=Ud[s],Ln[a]=0;return u}var Y$=typeof document<"u";Y$&&window.Node&&(Node.prototype.$EV=null,Node.prototype.$V=null);function Z$(e,t,i,r){var n=[],a=t.$V;Ou.v=!0,Vt(a)?Vt(e)||(e.flags&16384&&(e=ji(e)),Gi(e,t,r,!1,null,n),t.$V=e,a=e):Vt(e)?(tn(a,t),t.$V=null):(e.flags&16384&&(e=ji(e)),aa(a,e,t,r,!1,null,n),a=t.$V=e),bA(n),Ou.v=!1,gi(i)&&i(),gi(dw.renderComplete)&&dw.renderComplete(a,t)}function _f(e,t,i,r){i===void 0&&(i=null),r===void 0&&(r=Wi),Z$(e,t,i,r)}var zh=[],J$=typeof Promise<"u"?Promise.resolve().then.bind(Promise.resolve()):function(e){window.setTimeout(e,0)},Ev=!1;function jA(e,t,i,r){var n=e.$PS;if(gi(t)&&(t=t(n?Qa(e.state,n):e.state,e.props,e.context)),Vt(n))e.$PS=t;else for(var a in t)n[a]=t[a];if(e.$BR)gi(i)&&e.$L.push(i.bind(e));else{if(!Ou.v&&zh.length===0){GA(e,r),gi(i)&&i.call(e);return}if(zh.indexOf(e)===-1&&zh.push(e),r&&(e.$F=!0),Ev||(Ev=!0,J$(UA)),gi(i)){var s=e.$QU;s||(s=e.$QU=[]),s.push(i)}}}function Q$(e){for(var t=e.$QU,i=0;i<t.length;++i)t[i].call(e);e.$QU=null}function UA(){var e;for(Ev=!1;e=zh.shift();)if(!e.$UN){var t=e.$F;e.$F=!1,GA(e,t),e.$QU&&Q$(e)}}function GA(e,t){if(t||!e.$BR){var i=e.$PS;e.$PS=null;var r=[];Ou.v=!0,WA(e,Qa(e.state,i),e.props,Hr(e.$LI,!0).parentNode,e.context,e.$SVG,t,null,r),bA(r),Ou.v=!1}else e.state=e.$PS,e.$PS=null}var dd=function(t,i){this.state=null,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=t||Wi,this.context=i||Wi};dd.prototype.forceUpdate=function(t){this.$UN||jA(this,{},t,!0)};dd.prototype.setState=function(t,i){this.$UN||this.$BS||jA(this,t,i,!1)};dd.prototype.render=function(t,i,r){return null};const xa={lockCount:0,lock(){this.lockCount++},callbacks:[],callEffects(){if(this.lockCount--,this.lockCount<0)throw new Error("Unexpected Effect Call");if(this.lockCount===0){const e=this.callbacks;this.callbacks=[],e.forEach(t=>t())}}},Yp=(e,t)=>{if(!(e instanceof Object&&t instanceof Object))return e===t;const r=Object.keys(e),n=Object.keys(t);return r.length!==n.length?!1:!r.some(s=>e[s]!==t[s])};class Kr extends dd{constructor(){super(...arguments),this._pendingContext=this.context}componentWillReceiveProps(t,i){this._pendingContext=i??{}}shouldComponentUpdate(t,i){return!Yp(this.props,t)||!Yp(this.state,i)||!Yp(this.context,this._pendingContext)}}class Rn extends Kr{constructor(){super(...arguments),this._effects=[]}createEffects(){return[]}updateEffects(){}componentWillMount(){xa.lock()}componentWillUpdate(t,i,r){xa.lock()}componentDidMount(){xa.callbacks.push(()=>{this._effects=this.createEffects()}),xa.callEffects()}componentDidUpdate(){xa.callbacks.push(()=>this.updateEffects()),xa.callEffects()}destroyEffects(){this._effects.forEach(t=>t.dispose())}componentWillUnmount(){this.destroyEffects()}}class hd extends Rn{constructor(){super(...arguments),this.vDomElement=null}vDomUpdateClasses(){const t=this.vDomElement,i=t.className.length?t.className.split(" "):[],r=i.filter(a=>t.dxClasses.previous.indexOf(a)<0),n=t.dxClasses.previous.filter(a=>i.indexOf(a)<0);r.forEach(a=>{const s=t.dxClasses.removed.indexOf(a);s>-1?t.dxClasses.removed.splice(s,1):t.dxClasses.added.push(a)}),n.forEach(a=>{const s=t.dxClasses.added.indexOf(a);s>-1?t.dxClasses.added.splice(s,1):t.dxClasses.removed.push(a)})}componentDidMount(){const t=Hr(this.$LI,!0);this.vDomElement=t,super.componentDidMount(),t.dxClasses=t.dxClasses||{removed:[],added:[],previous:[]},t.dxClasses.previous=t!=null&&t.className.length?t.className.split(" "):[]}componentDidUpdate(){super.componentDidUpdate();const t=this.vDomElement;t!==null&&(t.dxClasses.added.forEach(i=>t.classList.add(i)),t.dxClasses.removed.forEach(i=>t.classList.remove(i)),t.dxClasses.previous=t.className.length?t.className.split(" "):[])}shouldComponentUpdate(t,i){const r=super.shouldComponentUpdate(t,i);return r&&this.vDomUpdateClasses(),r}}let eH=0;const KA=function(e){const t=eH++;return{id:t,defaultValue:e,Provider:class extends dd{getChildContext(){return Object.assign(Object.assign({},this.context),{[t]:this.props.value||e})}render(){return this.props.children}}}};class ri{constructor(t,i){this.dependency=i,this.effect=t,this.destroy=t()}update(t){const i=this.dependency;t&&(this.dependency=t),(!t||t.some((r,n)=>i[n]!==r))&&(this.dispose(),this.destroy=this.effect())}dispose(){this.destroy&&this.destroy()}}const cd=()=>new ri(()=>{UA()},[]),tH="a runtime error occured! Use Inferno in development environment to find the error.";function iH(e){return e==null}function rH(e){return e===null||e===!1||e===!0||e===void 0}function nH(e){return typeof e=="function"}function Fo(e){return e===null}function aH(e){throw e||(e=tH),new Error(`Inferno Error: ${e}`)}function sH(e,t){const i=document.createElement("i");return i.innerHTML=t,i.innerHTML===e.innerHTML}function oH(e){let t,i;for(;e;){if(t=e.flags,t&2033)return e.dom;i=e.children,t&8192?e=e.childFlags===2?i:i[i.length-1]:t&4?e=i.$LI:e=i}return null}function lH(e,t){return!!(t&&t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html&&sH(e,t.dangerouslySetInnerHTML.__html))}function uH(e,t,i,r,n,a,s){const o=e.type,l=e.ref,u=e.props||Wi;let d;if(a){const c=NA(e,o,u,r,n,s),h=c.$LI;d=Ru(h,t,i,c.$CX,n,s),HA(l,c,s)}else{const c=gf(_0(e,r));d=Ru(c,t,i,r,n,s),e.children=c,zA(e,s)}return d}function qA(e,t,i,r,n,a){const s=e.childFlags,o=e.children,l=e.props,u=e.flags;if(s!==1){if(s===2)Fo(i)?Gi(o,t,r,n,null,a):(i=Ru(o,t,i,r,n,a),i=i?i.nextSibling:null);else if(s===16)Fo(i)?t.appendChild(document.createTextNode(o)):t.childNodes.length!==1||i.nodeType!==3?t.textContent=o:i.nodeValue!==o&&(i.nodeValue=o),i=null;else if(s&12){let d=!1;for(let c=0,h=o.length;c<h;++c){const f=o[c];Fo(i)||d&&(f.flags&16)>0?Gi(f,t,r,n,i,a):(i=Ru(f,t,i,r,n,a),i=i?i.nextSibling:null),d=(f.flags&16)>0}}if(!(u&8192)){let d=null;for(;i;)d=i.nextSibling,t.removeChild(i),i=d}}else!Fo(t.firstChild)&&!lH(t,l)&&(t.textContent="",u&448&&(t.defaultValue=""))}function dH(e,t,i,r,n,a){const s=e.props,o=e.className,l=e.flags,u=e.ref;return n=n||(l&32)>0,i.nodeType!==1?($A(e,null,r,n,null,a),t.replaceChild(e.dom,i)):(e.dom=i,qA(e,i,i.firstChild,r,n,a),Fo(s)||FA(e,l,s,i,n),iH(o)?i.className!==""&&i.removeAttribute("class"):n?i.setAttribute("class",o):i.className=o,ud(u,i,a)),e.dom}function XA(e,t,i){if(i.nodeType!==3)t.replaceChild(e.dom=document.createTextNode(e.children),i);else{const r=e.children;i.nodeValue!==r&&(i.nodeValue=r),e.dom=i}return e.dom}function hH(e,t,i,r,n,a){const s=e.children;return e.childFlags===2?(XA(s,t,i),s.dom):(qA(e,t,i,r,n,a),oH(s[s.length-1]))}function Ru(e,t,i,r,n,a){const s=e.flags|=16384;return s&14?uH(e,t,i,r,n,(s&4)>0,a):s&481?dH(e,t,i,r,n,a):s&16?XA(e,t,i):s&512?e.dom=i:s&8192?hH(e,t,i,r,n,a):(aH(),null)}function cH(e,t,i){let r=t.firstChild;if(Fo(r))_f(e,t,i);else{const n=[];for(rH(e)||(r=Ru(e,t,r,{},!1,n));r&&(r=r.nextSibling);)t.removeChild(r);if(n.length>0){let a;for(;(a=n.shift())!==void 0;)a()}}t.$V=e,nH(i)&&i()}function mw(e){return e==null}function fH(e){return typeof e=="string"}function gw(e){return e===void 0}var pH={onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function Wh(e,t,i){var r=arguments,n,a=null,s=null,o=null,l=0,u,d=arguments.length-2;if(d===1)n=i;else if(d>1)for(n=[];d-- >0;)n[d]=r[d+2];if(fH(e)){if(l=a$(e),!mw(t)){u={};for(var c in t)c==="className"||c==="class"?o=t[c]:c==="key"?s=t.key:c==="children"&&gw(n)?n=t.children:c==="ref"?a=t.ref:(c==="contenteditable"&&(l|=4096),u[c]=t[c])}}else{if(l=2,gw(n)||(t||(t={}),t.children=n),!mw(t)){u={};for(var h in t)h==="key"?s=t.key:h==="ref"?a=t.ref:pH[h]===1?(a||(a={}),a[h]=t[h]):u[h]=t[h]}return Zt(l,e,u,s,a)}return l&8192?ua(d===1?[n]:n,0,s):Ci(l,e,o,n,0,u,s,a)}const mH=e=>{var t,i;return((t=e.container)===null||t===void 0?void 0:t.get(0))||((i=e.item)===null||i===void 0?void 0:i.get(0))};function gH(e,t,i){setTimeout(()=>{_f(Wh(e,t),mH(t))},0)}const vH=(e,t,i)=>{const r=t[e];return!!r&&typeof r!="string"},_H=new Set(["animationIterationCount","borderImageOutset","borderImageSlice","border-imageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","fillOpacity","flex","flexGrow","flexNegative","flexOrder","flexPositive","flexShrink","floodOpacity","fontWeight","gridColumn","gridRow","lineClamp","lineHeight","opacity","order","orphans","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","tabSize","widows","zIndex","zoom"]),bH=e=>typeof e=="number"?!0:!Number.isNaN(Number(e)),yH=(e,t)=>_H.has(e)?t:`${t}px`,CH=/[A-Z]/g,wH=e=>e.replace(CH,"-$&").toLowerCase();function y0(e){if(e instanceof Object)return Object.entries(e).reduce((t,[i,r])=>(t[wH(i)]=bH(r)?yH(i,r):r,t),{})}var vw=e=>{var{parentNode:t}=e;t&&(Hu(e),t.$V=e.$V,_f(null,t),t.appendChild(e),e.innerHTML="",delete t.$V),delete e.$V};const vo=Ur({createElement:(e,t)=>Wh(e,t),remove:vw,onAfterRender:()=>{xa.callEffects()},onPreRender:()=>{xa.lock()},render:(e,t,i,r)=>{if(r)_f(Wh(e,t),i);else{var{parentNode:n}=i,a=i==null?void 0:i.nextSibling,s=we.createElement("div");s.appendChild(i);var o=we.createDocumentFragment().appendChild(s),l=!!i.$V;l&&vw(i),cH(Wh(e,t),o),i.$V=o.$V,n&&n.insertBefore(i,a)}}});var xH=(e,t)=>Object.keys(e).length!==Object.keys(t).length?!1:Object.keys(e).every(i=>e[i]===t[i]),SH=(e,t)=>{le(t,(i,r)=>{var n=!1;le(e,(a,s)=>{r===s&&(n=!0)}),!n&&r.parentNode&&r.parentNode.removeChild(r)})};class _w extends Rn{constructor(t){super(t),this.renderTemplate=this.renderTemplate.bind(this)}renderTemplate(){var t,i=Hr(this.$LI,!0),r=i.parentNode,n=W(r),a=n.contents(),{data:s,index:o}=(t=this.props.model)!==null&&t!==void 0?t:{data:{}};s&&Object.keys(s).forEach(u=>{s[u]&&we.isNode(s[u])&&(s[u]=qe(W(s[u])))});var l=W(this.props.template.render(Ie({container:qe(n),transclude:this.props.transclude},{renovated:this.props.renovated},this.props.transclude?{}:{model:s},!this.props.transclude&&Number.isFinite(o)?{index:o}:{})));return jP(W(i),l),()=>{SH(a,n.contents()),r.appendChild(i)}}shouldComponentUpdate(t){var{model:i,template:r}=this.props,{model:n,template:a}=t,s=r===a;if(!s)return!0;if(Z(i)&&Z(n)){var{data:o,index:l}=i,{data:u,index:d}=n;return l!==d||!xH(o,u)}var c=i===n;return!c}createEffects(){return[new ri(this.renderTemplate,[this.props.template,this.props.model])]}updateEffects(){this._effects[0].update([this.props.template,this.props.model])}componentWillUnmount(){}render(){return null}}function Zp(e){return Array.isArray(e)?[...e]:Ie({},e)}function YA(e,t,i){var r=i.length>0&&t&&e!==t?Zp(t):Zp(e),n=i[0];return i.length>1?r[n]=YA(e[n],t==null?void 0:t[n],i.slice(1)):n&&(ft(e[n])?r[n]=Zp(e[n]):r[n]=e[n]),r}function EH(e,t,i,r){var n=t[i],a=e[i],s=e;ft(n)||i!==r&&Array.isArray(n)?s[i]=YA(n,a,Us(r).slice(1)):s[i]=n}var Jp=(e,t)=>i=>{Object.prototype.hasOwnProperty.call(e,i)&&e[i]===void 0&&(e[i]=t(i))};class fd extends Dn{constructor(t,i){super(t,i),this._shouldRaiseContentReady=!1,this.validateKeyDownHandler()}get _propsInfo(){return{allowNull:[],twoWay:[],elements:[],templates:[],props:[]}}validateKeyDownHandler(){var t=this.getSupportedKeyNames(),i=t.length>0,r=typeof this._viewComponent.prototype.keyDown=="function";if(i&&!r)throw Error("Component's declaration must have 'keyDown' method.")}get viewRef(){var t;return(t=this._viewRef)===null||t===void 0?void 0:t.current}_checkContentReadyOption(t){var i=this._getContentReadyOptions().reduce((r,n)=>(r[n]=!0,r),{});return this._checkContentReadyOption=r=>!!i[r],this._checkContentReadyOption(t)}_getContentReadyOptions(){return["rtlEnabled"]}_fireContentReady(){this._actionsMap.onContentReady({})}_getDefaultOptions(){return re(!0,super._getDefaultOptions(),this._viewComponent.defaultProps,this._propsInfo.twoWay.reduce((t,i)=>{var[r,n,a]=i;return Ie({},t,{[r]:this._viewComponent.defaultProps[n],[a]:s=>this.option(r,s)})},{}),this._propsInfo.templates.reduce((t,i)=>Ie({},t,{[i]:null}),{}))}_getUnwrappedOption(){var t={};return Object.keys(this.option()).forEach(i=>{t[i]=this.option(i)}),t}_initializeComponent(){var t;super._initializeComponent(),(t=this._templateManager)===null||t===void 0||t.addDefaultTemplates(this.getDefaultTemplates());var i=this._getUnwrappedOption();this._props=this._optionsWithDefaultTemplates(i),this._propsInfo.templates.forEach(r=>{this._componentTemplates[r]=this._createTemplateComponent(this._props[r])}),Object.keys(this._getActionConfigsFull()).forEach(r=>this._addAction(r)),this._viewRef=Ui(),this.defaultKeyHandlers=this._createDefaultKeyHandlers()}_initMarkup(){var t=this.getProps();this._renderWrapper(t)}_renderWrapper(t){var i=this.$element()[0];this._isNodeReplaced||vo.onPreRender(),vo.render(this._viewComponent,t,i,this._isNodeReplaced),this._isNodeReplaced||(this._isNodeReplaced=!0,vo.onAfterRender(),this._shouldRaiseContentReady=!0),this._shouldRaiseContentReady&&(this._fireContentReady(),this._shouldRaiseContentReady=!1)}_silent(t,i){this._options.silent(t,i)}_render(){}_removeWidget(){vo.remove(this.$element()[0])}_dispose(){this._removeWidget(),super._dispose()}get elementAttr(){var t=this.$element()[0];if(!this._elementAttr){var{attributes:i}=t,r=Array.from(i).filter(o=>{var l;return!this._propsInfo.templates.includes(o.name)&&((l=i[o.name])===null||l===void 0?void 0:l.specified)}).reduce((o,l)=>{var{name:u,value:d}=l,c=o,h=u in t;return c[u]=d===""&&h?t[u]:d,c},{});this._elementAttr=r,this._storedClasses=t.getAttribute("class")||""}for(var n=t.style,a={},s=0;s<n.length;s+=1)a[n[s]]=n.getPropertyValue(n[s]);return this._elementAttr.style=a,this._elementAttr.class=this._storedClasses,this._elementAttr}_getAdditionalActionConfigs(){return{onContentReady:{excludeValidators:["disabled","readOnly"]}}}_getAdditionalProps(){return[]}_patchOptionValues(t){var{allowNull:i,elements:r,props:n,twoWay:a}=this._propsInfo,s=Object.keys(this._viewComponent.defaultProps),o=this._getDefaultOptions(),{children:l,onKeyboardHandled:u,ref:d}=t,c=u?(f,p)=>{u(p)}:void 0,h={ref:d,children:l,onKeyDown:c};return[...n,...this._getAdditionalProps()].forEach(f=>{Object.prototype.hasOwnProperty.call(t,f)&&(h[f]=t[f])}),i.forEach(Jp(h,()=>null)),s.forEach(Jp(h,f=>o[f])),a.forEach(f=>{var[p,g]=f;Jp(h,()=>o[g])(p)}),r.forEach(f=>{if(f in h){var p=h[f];Ar(p)&&(h[f]=this._patchElementParam(p))}}),h}getSupportedKeyNames(){return[]}prepareStyleProp(t){return typeof t.style=="string"?Ie({},t,{style:{},cssText:t.style}):t}getProps(){var t,i,{elementAttr:r}=this.option(),n=this._patchOptionValues(Ie({},this._props,{ref:this._viewRef,children:this._extractDefaultSlot(),aria:this._aria}));return this._propsInfo.templates.forEach(a=>{n[a]=this._componentTemplates[a]}),this.prepareStyleProp(Ie({},n,this.elementAttr,r,{className:[...((t=this.elementAttr.class)!==null&&t!==void 0?t:"").split(" "),...((i=r==null?void 0:r.class)!==null&&i!==void 0?i:"").split(" ")].filter((a,s,o)=>a&&o.indexOf(a)===s).join(" ").trim(),class:""},this._actionsMap))}_getActionConfigs(){return{}}_getActionConfigsFull(){return Ie({},this._getActionConfigs(),this._getAdditionalActionConfigs())}getDefaultTemplates(){var t=Object.values(this._templatesInfo),i={};return t.forEach(r=>{i[r]="dx-renovation-template-mock"}),i}get _templatesInfo(){return{}}_optionsWithDefaultTemplates(t){var i=Object.entries(this._templatesInfo).reduce((r,n)=>{var a,[s,o]=n;return Ie({},r,{[s]:(a=t[s])!==null&&a!==void 0?a:o})},{});return Ie({},t,i)}_init(){super._init(),this.customKeyHandlers={},this._actionsMap={},this._aria={},this._componentTemplates={}}_createDefaultKeyHandlers(){var t={},i=this.getSupportedKeyNames();return i.forEach(r=>{t[r]=n=>this.viewRef.keyDown(k_.createKeyDownOptions(n))}),t}_addAction(t,i){var r=i;if(!r){var n=this._createActionByOption(t,this._getActionConfigsFull()[t]);r=a=>(Object.keys(a).forEach(s=>{Z(a[s])&&we.isNode(a[s])&&(a[s]=qe(W(a[s])))}),n(a))}this._actionsMap[t]=r}_optionChanged(t){var{fullName:i,name:r,previousValue:n,value:a}=t;EH(this._props,this.option(),r,i),this._propsInfo.templates.includes(r)&&a!==n&&(this._componentTemplates[r]=this._createTemplateComponent(a)),r&&this._getActionConfigsFull()[r]&&this._addAction(r),this._shouldRaiseContentReady=this._shouldRaiseContentReady||this._checkContentReadyOption(i),super._optionChanged(t),this._invalidate()}_extractDefaultSlot(){return this.option("_hasAnonymousTemplateContent")?vo.createElement(_w,{template:this._getTemplate(this._templateManager.anonymousTemplateName),transclude:!0,renovated:!0}):null}_createTemplateComponent(t){if(t){var i=this._getTemplate(t);if(!(Ue(i)&&i==="dx-renovation-template-mock"))return r=>vo.createElement(_w,{template:i,model:r})}}_wrapKeyDownHandler(t){return i=>{var{keyName:r,originalEvent:n,which:a}=i,s=this.customKeyHandlers,o=s[r]||s[a];if(o!==void 0){var l=o.bind(this),u=l(n,i);if(!u)return n.cancel=!0,n}return t==null?void 0:t(n,i)}}_toPublicElement(t){return qe(W(t))}_patchElementParam(t){try{var i=W(t),r=i==null?void 0:i.get(0);return r!=null&&r.nodeType?r:t}catch{return t}}repaint(){this._isNodeReplaced=!1,this._shouldRaiseContentReady=!0,this._removeWidget(),this._refresh()}_supportedKeys(){return Ie({},this.defaultKeyHandlers,this.customKeyHandlers)}registerKeyHandler(t,i){this.customKeyHandlers[t]=i}setAria(t,i){this._aria[t]=i,this._initMarkup()}}fd.IS_RENOVATED_WIDGET=!1;fd.IS_RENOVATED_WIDGET=!0;class IH extends fd{get _validationGroupConfig(){return Nt.getGroupConfig(this._findGroup())}getDefaultTemplateNames(){return["content"]}getSupportedKeyNames(){return["space","enter"]}getProps(){var t=super.getProps();t.onClick=r=>{var{event:n}=r;this._clickAction({event:n,validationGroup:this._validationGroupConfig})};var i=nd(t.icon);return i==="svg"&&(t.iconTemplate=this._createTemplateComponent(()=>t.icon)),t}get _templatesInfo(){return{template:"content"}}_toggleActiveState(t,i){var r=this.viewRef;i?r.activate():r.deactivate()}_getSubmitAction(){var t=!0,i="valid";return this._createAction(r=>{var{event:n,submitInput:a}=r;if(t){var s=this._validationGroupConfig;if(s!==void 0&&s!==""){var o=s.validate();i=o.status,o.status==="pending"&&(t=!1,this.option("disabled",!0),o.complete.then(l=>{var{status:u}=l;this.option("disabled",!1),i=u,i==="valid"&&a.click(),t=!0}))}}i!=="valid"&&n.preventDefault(),n.stopPropagation()})}_initializeComponent(){super._initializeComponent(),this._addAction("onSubmit",this._getSubmitAction()),this._clickAction=this._createClickAction()}_initMarkup(){super._initMarkup();var t=this.$element().find(".dx-button-content"),i=t.children().filter(".dx-template-wrapper"),r=t.children().filter(".dx-button-submit-input");i.length&&(i.addClass("dx-button-content"),i.append(r),t.replaceWith(i))}_patchOptionValues(t){return super._patchOptionValues(Ie({},t,{templateData:t._templateData}))}_findGroup(){var t=this.$element(),i=this.option("validationGroup");return i!==void 0&&i!==""?i:Nt.findGroup(t,this._modelByElement(t))}_createClickAction(){return this._createActionByOption("onClick",{excludeValidators:["readOnly"]})}_optionChanged(t){switch(t.name){case"onClick":this._clickAction=this._createClickAction()}super._optionChanged(t)}}function $r(e){return Object.keys(e).filter(t=>e[t]).join(" ")}var TH=["iconTemplate","position","source"],AH=e=>{var{iconClassName:t,props:{iconTemplate:i,source:r},sourceType:n}=e;return ua([n==="dxIcon"&&Ci(1,"i",t),n==="fontIcon"&&Ci(1,"i",t),n==="image"&&Ci(1,"img",t,null,1,{alt:"",src:r}),i&&Ci(1,"i",t,i({}),0)],0)},OH={position:"left",source:""},DH=e=>e&&(e.defaultProps?t=>yr(Zt(2,e,Ie({},t))):e);class ZA extends Kr{constructor(t){super(t),this.state={}}get sourceType(){return nd(this.props.source)}get cssClass(){return this.props.position!=="left"?"dx-icon-right":""}get iconClassName(){var t={"dx-icon":!0,[this.cssClass]:!!this.cssClass},{source:i}=this.props;return this.sourceType==="dxIcon"?$r(Ie({},t,{["dx-icon-".concat(i)]:!0})):this.sourceType==="fontIcon"?$r(Ie({},t,{[String(i)]:!!i})):this.sourceType==="image"?$r(t):this.sourceType==="svg"?$r(Ie({},t,{"dx-svg-icon":!0})):""}get restAttributes(){var t=this.props,i=ai(t,TH);return i}render(){var t=this.props;return AH({props:Ie({},t,{iconTemplate:DH(t.iconTemplate)}),sourceType:this.sourceType,cssClass:this.cssClass,iconClassName:this.iconClassName,restAttributes:this.restAttributes})}}ZA.defaultProps=OH;var RH=["config"],kH=e=>yr(Ci(1,"div","dx-inkripple",null,1,Ie({},e.restAttributes))),MH={config:Object.freeze({})};class JA extends Kr{constructor(t){super(t),this.state={},this.__getterCache={},this.hideWave=this.hideWave.bind(this),this.showWave=this.showWave.bind(this)}get getConfig(){return this.__getterCache.getConfig!==void 0?this.__getterCache.getConfig:this.__getterCache.getConfig=(()=>{var{config:t}=this.props;return lA(t)})()}get restAttributes(){var t=this.props,i=ai(t,RH);return i}hideWave(t){cA(this.getConfig,t)}showWave(t){dA(this.getConfig,t)}componentWillUpdate(t,i,r){this.props.config!==t.config&&(this.__getterCache.getConfig=void 0)}render(){var t=this.props;return kH({props:Ie({},t),getConfig:this.getConfig,restAttributes:this.restAttributes})}}JA.defaultProps=MH;function Xs(e){return(t,i,r,n)=>{var a=n?xe(e,n):e;if(i)return te.on(t,a,r,i),()=>{te.off(t,a,i)}}}var BH=Xs(Pt),PH=Xs("dxactive"),FH=Xs("dxinactive"),LH=Xs("dxhoverstart"),NH=Xs("dxhoverend"),VH=Xs("focusin"),$H=Xs("focusout"),bf={className:"",activeStateEnabled:!1,disabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,tabIndex:0,visible:!0},yf=KA(void 0),HH=["children","rtlEnabled"],zH=e=>e.props.children,WH={};class QA extends Kr{constructor(t){super(t),this.state={},this.__getterCache={}}getChildContext(){return Ie({},this.context,{ConfigContext:this.config})}get config(){return this.__getterCache.config!==void 0?this.__getterCache.config:this.__getterCache.config=(()=>({rtlEnabled:this.props.rtlEnabled}))()}get restAttributes(){var t=this.props,i=ai(t,HH);return i}componentWillUpdate(t,i,r){this.props.rtlEnabled!==t.rtlEnabled&&(this.__getterCache.config=void 0)}render(){var t=this.props;return zH({props:Ie({},t),config:this.config,restAttributes:this.restAttributes})}}QA.defaultProps=WH;function jH(e,t){return e!==void 0?e:(t==null?void 0:t.rtlEnabled)!==void 0?t.rtlEnabled:Jt().rtlEnabled}function UH(e,t){var i=Z(e),r=Z(Jt().rtlEnabled)&&!i&&!Z(t==null?void 0:t.rtlEnabled);return i&&e!==(t==null?void 0:t.rtlEnabled)||r}var GH=["_feedbackHideTimeout","_feedbackShowTimeout","accessKey","activeStateEnabled","activeStateUnit","addWidgetClass","aria","children","className","classes","cssText","disabled","focusStateEnabled","height","hint","hoverStateEnabled","name","onActive","onClick","onDimensionChanged","onFocusIn","onFocusOut","onHoverEnd","onHoverStart","onInactive","onKeyDown","onRootElementRendered","onVisibilityChange","rootElementRef","rtlEnabled","tabIndex","visible","width"],KH=400,qH=30,XH=e=>Object.keys(e).reduce((t,i)=>e[i]?Ie({},t,{[i==="role"||i==="id"?i:"aria-".concat(i)]:String(e[i])}):t,{}),YH=e=>{var t=yr(Ci(1,"div",e.cssClasses,e.props.children,0,Ie({},e.attributes,{tabIndex:e.tabIndex,title:e.props.hint,style:y0(e.styles)}),null,e.widgetElementRef));return e.shouldRenderConfigProvider?Zt(2,QA,{rtlEnabled:e.rtlEnabled,children:t}):t},Ec=Object.create(Object.prototype,Ie(Object.getOwnPropertyDescriptors(bf),Object.getOwnPropertyDescriptors({_feedbackHideTimeout:KH,_feedbackShowTimeout:qH,cssText:"",aria:Object.freeze({}),classes:"",name:"",addWidgetClass:!0})));class Cf extends hd{constructor(t){super(t),this.widgetElementRef=Ui(),this.state={active:!1,focused:!1,hovered:!1},this.setRootElementRef=this.setRootElementRef.bind(this),this.activeEffect=this.activeEffect.bind(this),this.inactiveEffect=this.inactiveEffect.bind(this),this.clickEffect=this.clickEffect.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.focusInEffect=this.focusInEffect.bind(this),this.focusOutEffect=this.focusOutEffect.bind(this),this.hoverStartEffect=this.hoverStartEffect.bind(this),this.hoverEndEffect=this.hoverEndEffect.bind(this),this.keyboardEffect=this.keyboardEffect.bind(this),this.resizeEffect=this.resizeEffect.bind(this),this.windowResizeEffect=this.windowResizeEffect.bind(this),this.visibilityEffect=this.visibilityEffect.bind(this),this.checkDeprecation=this.checkDeprecation.bind(this),this.applyCssTextEffect=this.applyCssTextEffect.bind(this)}get config(){return"ConfigContext"in this.context?this.context.ConfigContext:yf}createEffects(){return[new ri(this.setRootElementRef,[]),new ri(this.activeEffect,[this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),new ri(this.inactiveEffect,[this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),new ri(this.clickEffect,[this.props.disabled,this.props.name,this.props.onClick]),new ri(this.focusInEffect,[this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),new ri(this.focusOutEffect,[this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),new ri(this.hoverStartEffect,[this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),new ri(this.hoverEndEffect,[this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),new ri(this.keyboardEffect,[this.props.focusStateEnabled,this.props.onKeyDown]),new ri(this.resizeEffect,[this.props.name,this.props.onDimensionChanged]),new ri(this.windowResizeEffect,[this.props.onDimensionChanged]),new ri(this.visibilityEffect,[this.props.name,this.props.onVisibilityChange]),new ri(this.checkDeprecation,[this.props.height,this.props.width]),new ri(this.applyCssTextEffect,[this.props.cssText]),cd()]}updateEffects(){var t,i,r,n,a,s,o,l,u,d,c,h,f;(t=this._effects[1])===null||t===void 0||t.update([this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),(i=this._effects[2])===null||i===void 0||i.update([this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),(r=this._effects[3])===null||r===void 0||r.update([this.props.disabled,this.props.name,this.props.onClick]),(n=this._effects[4])===null||n===void 0||n.update([this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),(a=this._effects[5])===null||a===void 0||a.update([this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),(s=this._effects[6])===null||s===void 0||s.update([this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),(o=this._effects[7])===null||o===void 0||o.update([this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),(l=this._effects[8])===null||l===void 0||l.update([this.props.focusStateEnabled,this.props.onKeyDown]),(u=this._effects[9])===null||u===void 0||u.update([this.props.name,this.props.onDimensionChanged]),(d=this._effects[10])===null||d===void 0||d.update([this.props.onDimensionChanged]),(c=this._effects[11])===null||c===void 0||c.update([this.props.name,this.props.onVisibilityChange]),(h=this._effects[12])===null||h===void 0||h.update([this.props.height,this.props.width]),(f=this._effects[13])===null||f===void 0||f.update([this.props.cssText])}setRootElementRef(){var{onRootElementRendered:t,rootElementRef:i}=this.props;i&&(i.current=this.widgetElementRef.current),t==null||t(this.widgetElementRef.current)}activeEffect(){var{_feedbackShowTimeout:t,activeStateEnabled:i,activeStateUnit:r,disabled:n,onActive:a}=this.props,s=r;if(i&&!n)return PH(this.widgetElementRef.current,o=>{this.setState(l=>({active:!0})),a==null||a(o)},{timeout:t,selector:s},"UIFeedback")}inactiveEffect(){var{_feedbackHideTimeout:t,activeStateEnabled:i,activeStateUnit:r,onInactive:n}=this.props,a=r;if(i)return FH(this.widgetElementRef.current,s=>{this.state.active&&(this.setState(o=>({active:!1})),n==null||n(s))},{timeout:t,selector:a},"UIFeedback")}clickEffect(){var{disabled:t,name:i,onClick:r}=this.props,n=i;if(r&&!t)return Ry.on(this.widgetElementRef.current,r,{namespace:n}),()=>Ry.off(this.widgetElementRef.current,{namespace:n})}focusInEffect(){var{disabled:t,focusStateEnabled:i,name:r,onFocusIn:n}=this.props,a="".concat(r,"Focus");if(i&&!t)return VH(this.widgetElementRef.current,s=>{s.isDefaultPrevented()||(this.setState(o=>({focused:!0})),n==null||n(s))},null,a)}focusOutEffect(){var{focusStateEnabled:t,name:i,onFocusOut:r}=this.props,n="".concat(i,"Focus");if(t)return $H(this.widgetElementRef.current,a=>{!a.isDefaultPrevented()&&this.state.focused&&(this.setState(s=>({focused:!1})),r==null||r(a))},null,n)}hoverStartEffect(){var{activeStateUnit:t,disabled:i,hoverStateEnabled:r,onHoverStart:n}=this.props,a=t;if(r&&!i)return LH(this.widgetElementRef.current,s=>{!this.state.active&&this.setState(o=>({hovered:!0})),n==null||n(s)},{selector:a},"UIFeedback")}hoverEndEffect(){var{activeStateUnit:t,hoverStateEnabled:i,onHoverEnd:r}=this.props,n=t;if(i)return NH(this.widgetElementRef.current,a=>{this.state.hovered&&(this.setState(s=>({hovered:!1})),r==null||r(a))},{selector:n},"UIFeedback")}keyboardEffect(){var{focusStateEnabled:t,onKeyDown:i}=this.props;if(t&&i){var r=Pa.on(this.widgetElementRef.current,this.widgetElementRef.current,n=>i(n));return()=>Pa.off(r)}}resizeEffect(){var t="".concat(this.props.name,"VisibilityChange"),{onDimensionChanged:i}=this.props;if(i)return dc.on(this.widgetElementRef.current,i,{namespace:t}),()=>dc.off(this.widgetElementRef.current,{namespace:t})}windowResizeEffect(){var{onDimensionChanged:t}=this.props;if(t)return Ds.add(t),()=>{Ds.remove(t)}}visibilityEffect(){var{name:t,onVisibilityChange:i}=this.props,r="".concat(t,"VisibilityChange");if(i)return hc.on(this.widgetElementRef.current,()=>i(!0),()=>i(!1),{namespace:r}),()=>hc.off(this.widgetElementRef.current,{namespace:r})}checkDeprecation(){var{height:t,width:i}=this.props;Re(i)&&$t.log("W0017","width"),Re(t)&&$t.log("W0017","height")}applyCssTextEffect(){var{cssText:t}=this.props;t!==""&&(this.widgetElementRef.current.style.cssText=t)}get shouldRenderConfigProvider(){var{rtlEnabled:t}=this.props;return UH(t,this.config)}get rtlEnabled(){var{rtlEnabled:t}=this.props;return jH(t,this.config)}get attributes(){var{aria:t,disabled:i,focusStateEnabled:r,visible:n}=this.props,a=r&&!i&&this.props.accessKey;return Ie({},re({},a&&{accessKey:a}),XH(Ie({},t,{disabled:i,hidden:!n})),re({},this.restAttributes))}get styles(){var{height:t,width:i}=this.props,r=this.restAttributes.style||{},n=Yo("width",Re(i)?i():i),a=Yo("height",Re(t)?t():t);return Ie({},r,{height:a??r.height,width:n??r.width})}get cssClasses(){var{activeStateEnabled:t,addWidgetClass:i,className:r,classes:n,disabled:a,focusStateEnabled:s,hoverStateEnabled:o,onVisibilityChange:l,visible:u}=this.props,d=!!s&&!a,c=!!o&&!a,h=!!t&&!a,f={"dx-widget":!!i,[String(n)]:!!n,[String(r)]:!!r,"dx-state-disabled":!!a,"dx-state-invisible":!u,"dx-state-focused":!!this.state.focused&&d,"dx-state-active":!!this.state.active&&h,"dx-state-hover":!!this.state.hovered&&c&&!this.state.active,"dx-rtl":!!this.rtlEnabled,"dx-visibility-change-handler":!!l};return $r(f)}get tabIndex(){var{disabled:t,focusStateEnabled:i,tabIndex:r}=this.props,n=i&&!t;return n?r:void 0}get restAttributes(){var t=this.props,i=ai(t,GH);return i}focus(){Lh.trigger(this.widgetElementRef.current)}blur(){var t=we.getActiveElement();this.widgetElementRef.current===t&&t.blur()}activate(){this.setState(t=>({active:!0}))}deactivate(){this.setState(t=>({active:!1}))}render(){var t=this.props;return YH({props:Ie({},t),active:this.state.active,focused:this.state.focused,hovered:this.state.hovered,widgetElementRef:this.widgetElementRef,config:this.config,shouldRenderConfigProvider:this.shouldRenderConfigProvider,rtlEnabled:this.rtlEnabled,attributes:this.attributes,styles:this.styles,cssClasses:this.cssClasses,tabIndex:this.tabIndex,restAttributes:this.restAttributes})}}Cf.defaultProps=Ec;var ZH=["accessKey","activeStateEnabled","children","className","disabled","focusStateEnabled","height","hint","hoverStateEnabled","icon","iconPosition","iconTemplate","onClick","onKeyDown","onSubmit","pressed","rtlEnabled","stylingMode","tabIndex","template","templateData","text","type","useInkRipple","useSubmitBehavior","visible","width"],JH=["outlined","text","contained"],QH=e=>{var{icon:t,iconPosition:i,stylingMode:r,text:n,type:a}=e,s=r&&JH.includes(r),o={"dx-button":!0,["dx-button-mode-".concat(s?r:"contained")]:!0,["dx-button-".concat(a??"normal")]:!0,"dx-button-has-text":!!n,"dx-button-has-icon":!!t,"dx-button-icon-right":i!=="left"};return $r(o)},ez=e=>{var{children:t,iconPosition:i,iconTemplate:r,template:n,text:a}=e.props,s=!e.props.template&&!t&&a!=="",o=i==="left",l=!e.props.template&&!t&&(e.iconSource||e.props.iconTemplate)&&Zt(2,ZA,{source:e.iconSource,position:i,iconTemplate:r});return yr(Zt(2,Cf,Ie({accessKey:e.props.accessKey,activeStateEnabled:e.props.activeStateEnabled,aria:e.aria,className:e.props.className,classes:e.cssClasses,disabled:e.props.disabled,focusStateEnabled:e.props.focusStateEnabled,height:e.props.height,hint:e.props.hint,hoverStateEnabled:e.props.hoverStateEnabled,onActive:e.onActive,onClick:e.onWidgetClick,onInactive:e.onInactive,onKeyDown:e.keyDown,rtlEnabled:e.props.rtlEnabled,tabIndex:e.props.tabIndex,visible:e.props.visible,width:e.props.width},e.restAttributes,{children:Ci(1,"div","dx-button-content",[e.props.template&&n({data:e.buttonTemplateData}),!e.props.template&&t,o&&l,s&&Ci(1,"span","dx-button-text",a,0),!o&&l,e.props.useSubmitBehavior&&Ci(64,"input","dx-button-submit-input",null,1,{type:"submit",tabIndex:-1},null,e.submitInputRef),e.props.useInkRipple&&Zt(2,JA,{config:e.inkRippleConfig},null,e.inkRippleRef)],0,null,null,e.contentRef)}),null,e.widgetRef))},tz=Object.create(Object.prototype,Ie(Object.getOwnPropertyDescriptors(bf),Object.getOwnPropertyDescriptors({activeStateEnabled:!0,hoverStateEnabled:!0,icon:"",iconPosition:"left",stylingMode:"contained",text:"",type:"normal",useInkRipple:!1,useSubmitBehavior:!1,templateData:Object.freeze({})}))),eO=PP([{device:()=>Ne.real().deviceType==="desktop"&&!Ne.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>xi(un()),options:{useInkRipple:!0}}]),bw=e=>e&&(e.defaultProps?t=>yr(Zt(2,e,Ie({},t))):e);let Ic=class extends hd{constructor(t){super(t),this.state={},this.contentRef=Ui(),this.inkRippleRef=Ui(),this.submitInputRef=Ui(),this.widgetRef=Ui(),this.__getterCache={},this.focus=this.focus.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.submitEffect=this.submitEffect.bind(this),this.onActive=this.onActive.bind(this),this.onInactive=this.onInactive.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[new ri(this.submitEffect,[this.props.onSubmit,this.props.useSubmitBehavior]),cd()]}updateEffects(){var t;(t=this._effects[0])===null||t===void 0||t.update([this.props.onSubmit,this.props.useSubmitBehavior])}submitEffect(){var{onSubmit:t,useSubmitBehavior:i}=this.props;if(i&&t)return ky.on(this.submitInputRef.current,r=>t({event:r,submitInput:this.submitInputRef.current}),{namespace:"UIFeedback"}),()=>ky.off(this.submitInputRef.current,{namespace:"UIFeedback"})}onActive(t){var{useInkRipple:i}=this.props;i&&this.inkRippleRef.current.showWave({element:this.contentRef.current,event:t})}onInactive(t){var{useInkRipple:i}=this.props;i&&this.inkRippleRef.current.hideWave({element:this.contentRef.current,event:t})}onWidgetClick(t){var{onClick:i,useSubmitBehavior:r}=this.props;i==null||i({event:t}),r&&this.submitInputRef.current.click()}keyDown(t){var{onKeyDown:i}=this.props,{keyName:r,originalEvent:n,which:a}=t,s=i==null?void 0:i(t);if(s!=null&&s.cancel)return s;(r==="space"||a==="space"||r==="enter"||a==="enter")&&(n.preventDefault(),this.onWidgetClick(n))}get aria(){var{icon:t,text:i}=this.props,r=(i??"")||_e.format(yu(t,!0))||t;return!i&&t&&nd(t)==="image"&&(r=t.includes("base64")?"Base64":t.replace(/.+\/([^.]+)\..+$/,"$1")),Ie({role:"button"},r?{label:r}:{})}get cssClasses(){return QH(this.props)}get iconSource(){var{icon:t,type:i}=this.props;return t||i==="back"?(t??"")||"back":""}get inkRippleConfig(){return this.__getterCache.inkRippleConfig!==void 0?this.__getterCache.inkRippleConfig:this.__getterCache.inkRippleConfig=(()=>{var{icon:t,text:i,type:r}=this.props;return!i&&t||r==="back"?{isCentered:!0,useHoldAnimation:!1,waveSizeCoefficient:1}:{}})()}get buttonTemplateData(){var{icon:t,templateData:i,text:r}=this.props;return Ie({icon:t,text:r},i)}get restAttributes(){var t=this.props,i=ai(t,ZH);return i}focus(){this.widgetRef.current.focus()}activate(){this.widgetRef.current.activate()}deactivate(){this.widgetRef.current.deactivate()}componentWillUpdate(t,i,r){super.componentWillUpdate(),(this.props.icon!==t.icon||this.props.text!==t.text||this.props.type!==t.type)&&(this.__getterCache.inkRippleConfig=void 0)}render(){var t=this.props;return ez({props:Ie({},t,{template:bw(t.template),iconTemplate:bw(t.iconTemplate)}),contentRef:this.contentRef,submitInputRef:this.submitInputRef,inkRippleRef:this.inkRippleRef,widgetRef:this.widgetRef,onActive:this.onActive,onInactive:this.onInactive,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,aria:this.aria,cssClasses:this.cssClasses,iconSource:this.iconSource,inkRippleConfig:this.inkRippleConfig,buttonTemplateData:this.buttonTemplateData,restAttributes:this.restAttributes})}};Ic.defaultProps=Object.create(Object.prototype,Ie(Object.getOwnPropertyDescriptors(tz),Object.getOwnPropertyDescriptors(Ie({},Zo(eO)))));var yw=[];function iz(e){yw.push(e),Ic.defaultProps=Object.create(Object.prototype,Ie(Object.getOwnPropertyDescriptors(Ic.defaultProps),Object.getOwnPropertyDescriptors(Zo(eO)),Object.getOwnPropertyDescriptors(Zo(yw))))}class Ki extends IH{getProps(){var t=super.getProps();return t.onKeyDown=this._wrapKeyDownHandler(t.onKeyDown),t}focus(){var t;return(t=this.viewRef)===null||t===void 0?void 0:t.focus(...arguments)}activate(){var t;return(t=this.viewRef)===null||t===void 0?void 0:t.activate(...arguments)}deactivate(){var t;return(t=this.viewRef)===null||t===void 0?void 0:t.deactivate(...arguments)}_getActionConfigs(){return{onClick:{excludeValidators:["readOnly"]},onSubmit:{}}}get _propsInfo(){return{twoWay:[],allowNull:[],elements:["onSubmit"],templates:["template","iconTemplate"],props:["activeStateEnabled","hoverStateEnabled","icon","iconPosition","onClick","onSubmit","pressed","stylingMode","template","iconTemplate","text","type","useInkRipple","useSubmitBehavior","templateData","className","accessKey","disabled","focusStateEnabled","height","hint","onKeyDown","rtlEnabled","tabIndex","visible","width"]}}get _viewComponent(){return Ic}}yt("dxButton",Ki);Ki.defaultOptions=iz;var Cw="dx-custom-button-hovered";class rz extends ff{_attachEvents(t,i){var{editor:r}=this;te.on(i,L_,()=>{r.$element().addClass(Cw)}),te.on(i,af,()=>{r.$element().removeClass(Cw)}),te.on(i,Pt,n=>{n.stopPropagation()})}_create(){var{editor:t}=this,i=W("<div>");this._addToContainer(i);var r=t._createComponent(i,Ki,re({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(t)}));return{$element:i,instance:r}}_prepareIntegrationOptions(t){return re({},t.option("integrationOptions"),{skipTemplates:["content"]})}update(){var t=super.update();return this.instance&&this.instance.option("disabled",this._isDisabled()),t}_isVisible(){var{editor:t}=this;return t.option("visible")}_isDisabled(){var t=this.options.disabled!==void 0;return t?this.instance?this.instance.option("disabled"):this.options.disabled:this.editor.option("readOnly")}}var nz="dx-texteditor-buttons-container";function az(e){(()=>{if(!e||typeof e!="object"||Array.isArray(e))throw gt.Error("E1053")})(),(()=>{if(!("name"in e))throw gt.Error("E1054")})(),(()=>{var{name:t}=e;if(typeof t!="string")throw gt.Error("E1055")})(),(()=>{var{location:t}=e;"location"in e&&t!=="after"&&t!=="before"&&(e.location="after")})()}function ww(e,t){if(e.indexOf(t)!==-1)throw gt.Error("E1055",t);e.push(t)}function sz(e,t){return!!t.find(i=>i.name===e)}class oz{constructor(t,i){this.buttons=[],this.defaultButtonsInfo=i,this.editor=t}_compileButtonInfo(t){var i=[];return t.map(r=>{var n=typeof r=="string";n||az(r);var a=n||sz(r.name,this.defaultButtonsInfo);if(a){var s=this.defaultButtonsInfo.find(l=>{var{name:u}=l;return u===r||u===r.name});if(!s)throw gt.Error("E1056",this.editor.NAME,r);return ww(i,r),s}else{var{name:o}=r;return ww(i,o),re(r,{Ctor:rz})}})}_createButton(t){var{Ctor:i,options:r,name:n}=t,a=new i(n,this.editor,r);return this.buttons.push(a),a}_renderButtons(t,i,r){var n=null,a=t?this._compileButtonInfo(t):this.defaultButtonsInfo;return a.forEach(s=>{var{location:o="after"}=s;o===r&&this._createButton(s).render((()=>(n=n||W("<div>").addClass(nz),r==="before"?i.prepend(n):i.append(n),n))())}),n}clean(){this.buttons.forEach(t=>t.dispose()),this.buttons=[]}getButton(t){var i=this.buttons.find(r=>{var{name:n}=r;return n===t});return i&&i.instance}renderAfterButtons(t,i){return this._renderButtons(t,i,"after")}renderBeforeButtons(t,i){return this._renderButtons(t,i,"before")}updateButtons(t){this.buttons.forEach(i=>{(!t||t.indexOf(i.name)!==-1)&&i.update()})}}var xw="dx-texteditor-label",Sw="dx-texteditor-with-label",Ew="dx-texteditor-with-floating-label",Iw="dx-texteditor-with-before-buttons",lz="dx-label-before",uz="dx-label",dz="dx-label-after";class hz{constructor(t){var{$editor:i,text:r,mode:n,mark:a,containsButtonsBefore:s,containerWidth:o,beforeWidth:l}=t;this._props={$editor:i,text:r,mode:n,mark:a,containsButtonsBefore:s,containerWidth:o,beforeWidth:l},this._id="".concat(xw,"-").concat(new Ri),this._render(),this._toggleMarkupVisibility()}_isVisible(){return!!this._props.text&&this._props.mode!=="hidden"}_render(){this._$before=W("<div>").addClass(lz),this._$labelSpan=W("<span>"),this._$label=W("<div>").addClass(uz).append(this._$labelSpan),this._$after=W("<div>").addClass(dz),this._$root=W("<div>").addClass(xw).attr("id",this._id).append(this._$before).append(this._$label).append(this._$after),this._updateMark(),this._updateText(),this._updateBeforeWidth(),this._updateMaxWidth()}_toggleMarkupVisibility(){var t=this._isVisible();this._updateEditorBeforeButtonsClass(t),this._updateEditorLabelClass(t),t?this._$root.appendTo(this._props.$editor):this._$root.detach()}_updateEditorLabelClass(t){if(this._props.$editor.removeClass(Ew).removeClass(Sw),t){var i=this._props.mode==="floating"?Ew:Sw;this._props.$editor.addClass(i)}}_updateEditorBeforeButtonsClass(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._isVisible();if(this._props.$editor.removeClass(Iw),t){var i=this._props.containsButtonsBefore?Iw:"";this._props.$editor.addClass(i)}}_updateMark(){this._$labelSpan.attr("data-mark",this._props.mark)}_updateText(){this._$labelSpan.text(this._props.text)}_updateBeforeWidth(){this._$before.css({width:this._props.beforeWidth})}_updateMaxWidth(){this._$label.css({maxWidth:this._props.containerWidth})}$element(){return this._$root}isVisible(){return this._isVisible()}getId(){if(this._isVisible())return this._id}updateMode(t){this._props.mode=t,this._toggleMarkupVisibility()}updateText(t){this._props.text=t,this._updateText(),this._toggleMarkupVisibility()}updateMark(t){this._props.mark=t,this._updateMark()}updateContainsButtonsBefore(t){this._props.containsButtonsBefore=t,this._updateEditorBeforeButtonsClass()}updateBeforeWidth(t){this._props.beforeWidth=t,this._updateBeforeWidth()}updateMaxWidth(t){this._props.containerWidth=t,this._updateMaxWidth()}}var Tw=at(),cz={observe:me,unobserve:me,disconnect:me};class fz{constructor(){if(!rt()||!Tw.ResizeObserver)return cz;this._callbacksMap=new Map,this._observer=new Tw.ResizeObserver(t=>{t.forEach(i=>{var r;(r=this._callbacksMap.get(i.target))===null||r===void 0||r(i)})})}observe(t,i){this._callbacksMap.set(t,i),this._observer.observe(t)}unobserve(t){this._callbacksMap.delete(t),this._observer.unobserve(t)}disconnect(){this._callbacksMap.clear(),this._observer.disconnect()}}var Tc=new fz,pz="dx-texteditor",mz="dx-texteditor-input-container",tO="dx-texteditor-input",gz="."+tO,vz="dx-texteditor-container",_z="dx-texteditor-buttons-container",Aw="dx-placeholder",bz="dx-texteditor-empty",yz="dx-state-invisible",Cz="dx-pending-indicator",Ow="dx-validation-pending",wz="dx-valid",Gd=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],xz=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"],Sz=hz;function Dw(e){if(Z(e)&&!Array.isArray(e))throw gt.Error("E1053")}var Ez=ln.inherit({ctor:function(e,t){t&&Dw(t.buttons),this._buttonCollection=new oz(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._labelContainerElement=null,this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return re(this.callBase(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:function(e){return Z(e)&&e!==!1?e:""},stylingMode:Jt().editorStylingMode||"outlined",showValidationMark:!0,label:"",labelMode:"static",labelMark:""})},_defaultOptionsRules:function(){var e=un();return this.callBase().concat([{device:function(){return xi(e)},options:{stylingMode:Jt().editorStylingMode||"filled",labelMode:"floating"}}])},_getDefaultButtons:function(){return[{name:"clear",Ctor:q7}]},_isClearButtonVisible:function(){return this.option("showClearButton")&&!this.option("readOnly")},_input:function(){return this.$element().find(gz).first()},_isFocused:function(){return $a(this._input())||this.callBase()},_inputWrapper:function(){return this.$element()},_buttonsContainer:function(){return this._inputWrapper().find("."+_z).eq(0)},_isControlKey:function(e){return xz.indexOf(e)!==-1},_renderStylingMode:function(){this.callBase(),this._updateButtonsStyling(this.option("stylingMode"))},_initMarkup:function(){this.$element().addClass(pz),this._renderInput(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),this.callBase(),this._renderValue(),this._renderLabel()},_render:function(){this.callBase(),this._refreshValueChangeEvent(),this._renderEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()},_renderInput:function(){this._$buttonsContainer=this._$textEditorContainer=W("<div>").addClass(vz).appendTo(this.$element()),this._$textEditorInputContainer=W("<div>").addClass(mz).appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput()),this._renderButtonContainers()},_getInputContainer(){return this._$textEditorInputContainer},_renderPendingIndicator:function(){this.$element().addClass(Ow);var e=this._getInputContainer(),t=W("<div>").addClass(Cz).appendTo(e);this._pendingIndicator=this._createComponent(t,Ir)},_disposePendingIndicator:function(){this._pendingIndicator&&(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass(Ow))},_renderValidationState:function(){this.callBase();var e=this.option("validationStatus")==="pending",t=this.$element();e?(!this._pendingIndicator&&this._renderPendingIndicator(),this._showValidMark=!1):(this.option("validationStatus")==="invalid"&&(this._showValidMark=!1),!this._showValidMark&&this.option("showValidationMark")===!0&&(this._showValidMark=this.option("validationStatus")==="valid"&&!!this._pendingIndicator),this._disposePendingIndicator()),t.toggleClass(wz,!!this._showValidMark)},_renderButtonContainers:function(){var e=this.option("buttons");this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(e,this._$buttonsContainer),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(e,this._$buttonsContainer)},_cleanButtonContainers:function(){var e,t;(e=this._$beforeButtonsContainer)===null||e===void 0||e.remove(),(t=this._$afterButtonsContainer)===null||t===void 0||t.remove(),this._buttonCollection.clean()},_clean(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._unobserveLabelContainerResize(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,this._$buttonsContainer=null,this.callBase()},_createInput:function(){var e=W("<input>");return this._applyInputAttributes(e,this.option("inputAttr")),e},_setSubmitElementName:function(e){var t=this.option("inputAttr.name");return this.callBase(e||t||"")},_applyInputAttributes:function(e,t){var i=re(this._getDefaultAttributes(),t);e.attr(i).addClass(tO).css("minHeight",this.option("height")?"0":"")},_getDefaultAttributes:function(){var e={autocomplete:"off"},{ios:t,mac:i}=Ne.real();return(t||i)&&(e.placeholder=" "),e},_updateButtons:function(e){this._buttonCollection.updateButtons(e)},_updateButtonsStyling:function(e){le(this.option("buttons"),(t,i)=>{var{options:r,name:n}=i;if(r&&!r.stylingMode&&this.option("visible")){var a=this.getButton(n);a.option&&a.option("stylingMode",e==="underlined"?"text":"contained")}})},_renderValue:function(){var e=this._renderInputValue();return e.promise()},_renderInputValue:function(e){var t;e=(t=e)!==null&&t!==void 0?t:this.option("value");var i=this.option("text"),r=this.option("displayValue"),n=this.option("displayValueFormatter");return r!==void 0&&e!==null?i=n(r):Z(i)||(i=n(e)),this.option("text",i),this._input().val()!==(Z(i)?i:"")?this._renderDisplayText(i):this._toggleEmptinessEventHandler(),new pe().resolve()},_renderDisplayText:function(e){this._input().val(e),this._toggleEmptinessEventHandler()},_isValueValid:function(){if(this._input().length){var e=this._input().get(0).validity;if(e)return e.valid}return!0},_toggleEmptiness:function(e){this.$element().toggleClass(bz,e),this._togglePlaceholder(e)},_togglePlaceholder:function(e){this.$element().find(".".concat(Aw)).eq(0).toggleClass(yz,!e)},_renderProps:function(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()},_toggleDisabledState:function(e){this.callBase.apply(this,arguments);var t=this._input();t.prop("disabled",e)},_toggleTabIndex:function(){var e=this._input(),t=this.option("disabled"),i=this.option("focusStateEnabled");t||!i?e.attr("tabIndex",-1):e.removeAttr("tabIndex")},_toggleReadOnlyState:function(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue:function(){return this.option("readOnly")},_toggleSpellcheckState:function(){this._input().prop("spellcheck",this.option("spellcheck"))},_unobserveLabelContainerResize:function(){this._labelContainerElement&&(Tc.unobserve(this._labelContainerElement),this._labelContainerElement=null)},_getLabelContainer:function(){return this._input()},_getLabelContainerWidth:function(){return Ze(this._getLabelContainer())},_getLabelBeforeWidth:function(){var e=this._$beforeButtonsContainer&&Ze(this._$beforeButtonsContainer);return e??0},_updateLabelWidth:function(){this._label.updateBeforeWidth(this._getLabelBeforeWidth()),this._label.updateMaxWidth(this._getLabelContainerWidth())},_setLabelContainerAria:function(){this.setAria("labelledby",this._label.getId(),this._getLabelContainer())},_renderLabel:function(){this._unobserveLabelContainerResize(),this._labelContainerElement=W(this._getLabelContainer()).get(0);var{label:e,labelMode:t,labelMark:i}=this.option(),r={$editor:this.$element(),text:e,mark:i,mode:t,containsButtonsBefore:!!this._$beforeButtonsContainer,containerWidth:this._getLabelContainerWidth(),beforeWidth:this._getLabelBeforeWidth()};this._label=new Sz(r),this._setLabelContainerAria(),this._labelContainerElement&&Tc.observe(this._labelContainerElement,this._updateLabelWidth.bind(this))},_renderPlaceholder:function(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()},_renderPlaceholderMarkup:function(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);var e=this._input(),t=this.option("placeholder"),i=this._$placeholder=W("<div>").attr("data-dx_placeholder",t);i.insertAfter(e),i.addClass(Aw)},_attachPlaceholderEvents:function(){var e=xe(Rt.up,this.NAME);te.on(this._$placeholder,e,()=>{te.trigger(this._input(),"focus")}),this._toggleEmptinessEventHandler()},_placeholder:function(){return this._$placeholder||W()},_clearValueHandler:function(e){var t=this._input();e.stopPropagation(),this._saveValueChangeEvent(e),this._clearValue(),!this._isFocused()&&te.trigger(t,"focus"),te.trigger(t,"input")},_clearValue:function(){this.reset()},_renderEvents:function(){var e=this._input();le(Gd,(t,i)=>{if(this.hasActionSubscription("on"+i)){var r=this._createActionByOption("on"+i,{excludeValidators:["readOnly"]});te.on(e,xe(i.toLowerCase(),this.NAME),n=>{this._disposed||r({event:n})})}})},_refreshEvents:function(){var e=this._input();le(Gd,(t,i)=>{te.off(e,xe(i.toLowerCase(),this.NAME))}),this._renderEvents()},_keyPressHandler:function(){this.option("text",this._input().val())},_keyDownHandler:function(e){var t=this._input(),i=e.ctrlKey&&hi(e)==="enter",r=t.val()!==this.option("value");i&&r&&te.trigger(t,"change")},_renderValueChangeEvent:function(){var e=xe(this._renderValueEventName(),"".concat(this.NAME,"TextChange")),t=xe(this.option("valueChangeEvent"),"".concat(this.NAME,"ValueChange")),i=xe("keydown","".concat(this.NAME,"TextChange")),r=this._input();te.on(r,e,this._keyPressHandler.bind(this)),te.on(r,t,this._valueChangeEventHandler.bind(this)),te.on(r,i,this._keyDownHandler.bind(this))},_cleanValueChangeEvent:function(){var e=".".concat(this.NAME,"ValueChange"),t=".".concat(this.NAME,"TextChange");te.off(this._input(),e),te.off(this._input(),t)},_refreshValueChangeEvent:function(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:function(){return"input change keypress"},_focusTarget:function(){return this._input()},_focusEventTarget:function(){return this.element()},_isInput:function(e){return e===this._input().get(0)},_preventNestedFocusEvent:function(e){if(e.isDefaultPrevented())return!0;var t=this._isNestedTarget(e.relatedTarget);return e.type==="focusin"?t=t&&this._isNestedTarget(e.target)&&!this._isInput(e.target):t||this._toggleFocusClass(!1,this.$element()),t&&e.preventDefault(),t},_isNestedTarget:function(e){return!!this.$element().find(e).length},_focusClassTarget:function(){return this.$element()},_focusInHandler:function(e){this._preventNestedFocusEvent(e),this.callBase.apply(this,arguments)},_focusOutHandler:function(e){this._preventNestedFocusEvent(e),this.callBase.apply(this,arguments)},_toggleFocusClass:function(e,t){this.callBase(e,this._focusClassTarget(t))},_hasFocusClass:function(e){return this.callBase(W(e||this.$element()))},_renderEmptinessEvent:function(){var e=this._input();te.on(e,"input blur",this._toggleEmptinessEventHandler.bind(this))},_toggleEmptinessEventHandler:function(){var e=this._input().val(),t=(e===""||e===null)&&this._isValueValid();this._toggleEmptiness(t)},_valueChangeEventHandler:function(e,t){this.option("readOnly")||(this._saveValueChangeEvent(e),this.option("value",arguments.length>1?t:this._input().val()),this._saveValueChangeEvent(void 0))},_renderEnterKeyAction:function(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),te.off(this._input(),"keyup.onEnterKey.dxTextEditor"),te.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))},_enterKeyHandlerUp:function(e){this._disposed||hi(e)==="enter"&&this._enterKeyAction({event:e})},_updateValue:function(){this._options.silent("text",null),this._renderValue()},_dispose:function(){this._enterKeyAction=void 0,this.callBase()},_getSubmitElement:function(){return this._input()},_hasActiveElement:function(){return this._input().is(we.getActiveElement())},_optionChanged:function(e){var{name:t,fullName:i,value:r}=e,n=t.replace("on","");if(Gd.includes(n)){this._refreshEvents();return}switch(t){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":this.callBase(e),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder();break;case"label":this._label.updateText(r),this._setLabelContainerAria();break;case"labelMark":this._label.updateMark(r);break;case"labelMode":this._label.updateMode(r),this._setLabelContainerAria();break;case"width":this.callBase(e),this._label.updateMaxWidth(this._getLabelContainerWidth());break;case"readOnly":case"disabled":this._updateButtons(),this.callBase(e);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":break;case"value":this._updateValue(),this.callBase(e);break;case"inputAttr":this._applyInputAttributes(this._input(),this.option(t));break;case"stylingMode":this._renderStylingMode(),this._updateLabelWidth();break;case"buttons":i===t&&Dw(r),this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")),this._updateLabelWidth(),this._label.updateContainsButtonsBefore(!!this._$beforeButtonsContainer);break;case"visible":this.callBase(e),r&&this.option("buttons")&&(this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")));break;case"displayValueFormatter":this._invalidate();break;case"showValidationMark":break;default:this.callBase(e)}},_renderInputType:function(){this._setInputType(this.option("mode"))},_setInputType:function(e){var t=this._input();e==="search"&&(e="text");try{t.prop("type",e)}catch{t.prop("type","text")}},getButton(e){return this._buttonCollection.getButton(e)},focus:function(){te.trigger(this._input(),"focus")},reset:function(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());var e=this._getDefaultOptions();this.option("value")===e.value?(this._options.silent("text",""),this._renderValue()):this.option("value",e.value)},on:function(e,t){var i=this.callBase(e,t),r=e.charAt(0).toUpperCase()+e.substr(1);return Gd.indexOf(r)>=0&&this._refreshEvents(),i}}),Qp="dxMask",Iz="blur beforedeactivate",Tz=" ";class iO{constructor(t){this.editor=t,this.DIRECTION={FORWARD:"forward",BACKWARD:"backward"},this.NAME=this._getStrategyName()}_getStrategyName(){return"base"}editorOption(){return this.editor.option(...arguments)}editorInput(){return this.editor._input()}editorCaret(t){if(!t)return this.editor._caret();this.editor._caret(t)}getHandler(t){var i=this["_".concat(t,"Handler")]||function(){};return i.bind(this)}attachEvents(){var t=this.editorInput();this.getHandleEventNames().forEach(i=>{var r=xe(i.toLowerCase(),Qp);te.on(t,r,this.getEventHandler(i))}),this._attachChangeEventHandlers()}getHandleEventNames(){return["focusIn","focusOut","keyDown","input","paste","cut","drop"]}getEventHandler(t){return this["_".concat(t,"Handler")].bind(this)}detachEvents(){te.off(this.editorInput(),".".concat(Qp))}_attachChangeEventHandlers(){this.editorOption("valueChangeEvent").split(" ").includes("change")&&te.on(this.editorInput(),xe(Iz,Qp),(function(t){this._suppressCaretChanging(this._changeHandler,[t]),this._changeHandler(t)}).bind(this.editor))}_focusInHandler(){if(this.editor._showMaskPlaceholder(),this.editor._direction(this.DIRECTION.FORWARD),!this.editor._isValueEmpty()&&this.editorOption("isValid"))this.editor._adjustCaret();else{var t=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout((function(){this._caret({start:t,end:t})}).bind(this.editor),0)}}_focusOutHandler(t){this.editor._changeHandler(t),this.editorOption("showMaskMode")==="onFocus"&&this.editor._isValueEmpty()&&(this.editorOption("text",""),this.editor._renderDisplayText(""))}_cutHandler(t){var i=this.editorCaret(),r=this.editorInput().val().substring(i.start,i.end);this.editor._maskKeyHandler(t,()=>Yg(t,r))}_dropHandler(){this._clearDragTimer(),this._dragTimer=setTimeout((function(){this.option("value",this._convertToValue(this._input().val()))}).bind(this.editor))}_clearDragTimer(){clearTimeout(this._dragTimer)}_keyDownHandler(){this._keyPressHandled=!1}_pasteHandler(t){var{editor:i}=this;this._keyPressHandled=!0;var r=this.editorCaret();i._maskKeyHandler(t,()=>{var n=Yg(t),a=i._maskRulesChain.text().substring(r.end),s=i._handleChain({text:n,start:r.start,length:n.length}),o=r.start+s;i._handleChain({text:a,start:o,length:a.length}),i._caret({start:o,end:o})})}_autoFillHandler(t){var{editor:i}=this,r=this.editorInput().val();this._inputHandlerTimer=setTimeout(()=>{this._keyPressHandled=!0,this._isAutoFill()&&(this._keyPressHandled=!0,i._maskKeyHandler(t,()=>{i._handleChain({text:r,start:0,length:r.length})}),i._validateMask())})}_isAutoFill(){var t=this.editor._input(),i=!1;if(Qt.webkit){var r=t.get(0);i=r&&r.matches(":-webkit-autofill")}return i}runWithoutEventProcessing(t){var i=this._keyPressHandled;this._keyPressHandled=!0,t(),this._keyPressHandled=i}_backspaceHandler(){}_delHandler(t){var{editor:i}=this;this._keyPressHandled=!0,i._maskKeyHandler(t,()=>!i._hasSelection()&&i._handleKey(Tz))}clean(){this._clearDragTimer(),clearTimeout(this._backspaceHandlerTimeout),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}}var Az="deleteContentBackward",Oz=" ";class Dz extends iO{_getStrategyName(){return"default"}getHandleEventNames(){return[...super.getHandleEventNames(),"keyPress"]}_keyPressHandler(t){if(!this._keyPressHandled&&(this._keyPressHandled=!0,!this.editor._isControlKeyFired(t))){var{editor:i}=this;i._maskKeyHandler(t,()=>i._handleKey(uc(t)))}}_inputHandler(t){if(this._backspaceInputHandled(t.originalEvent&&t.originalEvent.inputType)&&this._handleBackspaceInput(t),t.originalEvent&&this._autoFillHandler(t),!this._keyPressHandled){this._keyPressHandled=!0;var i=this.editorInput().val(),r=this.editorCaret();if(r.end){r.start=r.end-1;var n=i.substring(0,r.start)+i.substring(r.end),a=i[r.start],{editor:s}=this;this.editorInput().val(n),s._caret({start:r.start,end:r.start}),s._maskKeyHandler(t,()=>s._handleKey(a))}}}_backspaceHandler(t){var{editor:i}=this;this._keyPressHandled=!0;var r=(n,a)=>{n&&(i._direction(this.DIRECTION.FORWARD),i._adjustCaret());var s=this.editorCaret();return new Promise(o=>{clearTimeout(this._backspaceHandlerTimeout),this._backspaceHandlerTimeout=setTimeout(function(){a(s),o()})})};i._maskKeyHandler(t,()=>i._hasSelection()?r(!0,n=>{i._displayMask(n),i._maskRulesChain.reset()}):i._tryMoveCaretBackward()?r(!1,n=>{this.editorCaret(n)}):(i._handleKey(Oz,this.DIRECTION.BACKWARD),r(!0,n=>{i._displayMask(n),i._maskRulesChain.reset()})))}_backspaceInputHandled(t){return t===Az&&!this._keyPressHandled}_handleBackspaceInput(t){var{start:i,end:r}=this.editorCaret();this.editorCaret({start:i+1,end:r+1}),this._backspaceHandler(t)}}var Rz="deleteContentBackward";class kz extends iO{_getStrategyName(){return"inputEvents"}getHandleEventNames(){return[...super.getHandleEventNames(),"beforeInput"]}_beforeInputHandler(){this._prevCaret=this.editorCaret()}_inputHandler(t){var{originalEvent:i}=t;if(i){var{inputType:r,data:n}=i,a=this.editorCaret();if(r===Rz){var s=this._prevCaret.end-this._prevCaret.start||1;this.editor.setBackwardDirection(),this._updateEditorMask({start:a.start,length:s,text:this._getEmptyString(s)})}else{var o,l,u;if(!a.end)return;this._autoFillHandler(i),this.editorCaret(a);var d=((o=this._prevCaret)===null||o===void 0?void 0:o.end)-((l=this._prevCaret)===null||l===void 0?void 0:l.start),c=n+(d?this._getEmptyString(d-n.length):"");this.editor.setForwardDirection();var h=this._updateEditorMask({start:(u=this._prevCaret)===null||u===void 0?void 0:u.start,length:d||c.length,text:c});h||this.editorCaret(this._prevCaret)}}}_getEmptyString(t){return Array(t+1).join(" ")}_updateEditorMask(t){var i=t.text.length,r=this.editor._handleChain(t);if(this.editor.isForwardDirection()){var{start:n,end:a}=this.editorCaret(),s=r-i;n<=r&&r>1&&this.editorCaret({start:n+s,end:a+s}),this.editor.isForwardDirection()&&this.editor._adjustCaret()}return this.editor._displayMask(),!!r}}var Mz=function(){return{}},Kd=fA,Rw=" ",Bz="\\",kw="dx-texteditor-masked",em="forward",Pz="backward",Fz={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:function(e){return qd(e)},l:function(e){return qd(e)||Bw(e)},C:/\S/,c:/./,A:function(e){return qd(e)||Mw(e)},a:function(e){return qd(e)||Mw(e)||Bw(e)}};function Mw(e){return/[0-9]/.test(e)}function qd(e){var t=e.charCodeAt();return 64<t&&t<91||96<t&&t<123||t>127}function Bw(e){return e===" "}var C0=Ez.inherit({_getDefaultOptions:function(){return re(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:_e.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})},_supportedKeys:function(){var e=this,t={backspace:e._maskStrategy.getHandler("backspace"),del:e._maskStrategy.getHandler("del"),enter:e._changeHandler},i=e.callBase();return le(t,function(r,n){var a=i[r];i[r]=function(s){e.option("mask")&&n.call(e,s),a&&a(s)}}),i},_getSubmitElement:function(){return this.option("mask")?this._$hiddenElement:this.callBase()},_init:function(){this.callBase(),this._initMaskStrategy()},_initMaskStrategy:function(){this._maskStrategy=C7()?new kz(this):new Dz(this)},_initMarkup:function(){this._renderHiddenElement(),this.callBase()},_attachMouseWheelEventHandlers:function(){var e=this._onMouseWheel!==me;if(e){var t=this._input(),i=xe(Gu,this.NAME),r=this._createAction((function(n){var{event:a}=n;$a(t)&&!Pi(a)&&(this._onMouseWheel(a),a.preventDefault(),a.stopPropagation())}).bind(this));te.off(t,i),te.on(t,i,function(n){r({event:n})})}},_onMouseWheel:me,_render:function(){this._renderMask(),this.callBase(),this._attachMouseWheelEventHandlers()},_renderHiddenElement:function(){this.option("mask")&&(this._$hiddenElement=W("<input>").attr("type","hidden").appendTo(this._inputWrapper()))},_removeHiddenElement:function(){this._$hiddenElement&&this._$hiddenElement.remove()},_renderMask:function(){this.$element().removeClass(kw),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass(kw),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())},_suppressCaretChanging:function(e,t){Kd=Mz;try{e.apply(this,t)}finally{Kd=fA}},_changeHandler:function(e){var t=this._input(),i=t.val();if(i!==this._changedValue){this._changedValue=i;var r=Oa(e,{type:"change"});te.trigger(t,r)}},_parseMask:function(){this._maskRules=re({},Fz,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule:function(e){var t=this.option("mask");if(e>=t.length)return new w7;var i=t[e],r=i===Bz,n=r?new aw({maskChar:t[e+1]}):this._getMaskRule(i);return n.next(this._parseMaskRule(e+1+r)),n},_getMaskRule:function(e){var t;return le(this._maskRules,function(i,r){if(i===e)return t={pattern:i,allowedChars:r},!1}),Z(t)?new mA(re({maskChar:this.option("maskChar")},t)):new aw({maskChar:e})},_renderMaskedValue:function(){if(this._maskRulesChain){var e=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());var t={length:e.length};t[this._isMaskedValueMode()?"text":"value"]=e,this._handleChain(t),this._displayMask()}},_replaceSelectedText:function(e,t,i){if(i===void 0)return e;var r=e.slice(0,t.start),n=e.slice(t.end),a=r+i+n;return a},_isMaskedValueMode:function(){return this.option("useMaskedValue")},_displayMask:function(e){e=e||this._caret(),this._renderValue(),this._caret(e)},_isValueEmpty:function(){return ru(this._value)},_shouldShowMask:function(){var e=this.option("showMaskMode");return e==="onFocus"?$a(this._input())||!this._isValueEmpty():!0},_showMaskPlaceholder:function(){if(this._shouldShowMask()){var e=this._maskRulesChain.text();this.option("text",e),this.option("showMaskMode")==="onFocus"&&this._renderDisplayText(e)}},_renderValue:function(){if(this._maskRulesChain&&(this._showMaskPlaceholder(),this._$hiddenElement)){var e=this._maskRulesChain.value(),t=ru(e)?"":this._getPreparedValue();this._$hiddenElement.val(t)}return this.callBase()},_getPreparedValue:function(){return this._convertToValue().replace(/\s+$/,"")},_valueChangeEventHandler:function(e){if(!this._maskRulesChain){this.callBase.apply(this,arguments);return}this._saveValueChangeEvent(e),this.option("value",this._getPreparedValue())},_isControlKeyFired:function(e){return this._isControlKey(hi(e))||Pi(e)},_handleChain:function(e){var t=this._maskRulesChain.handle(this._normalizeChainArguments(e));return this._value=this._maskRulesChain.value(),this._textValue=this._maskRulesChain.text(),t},_normalizeChainArguments:function(e){return e=e||{},e.index=0,e.fullText=this._maskRulesChain.text(),e},_convertToValue:function(e){return this._isMaskedValueMode()?e=this._replaceMaskCharWithEmpty(e||this._textValue||""):e=e||this._value||"",e},_replaceMaskCharWithEmpty:function(e){return e.replace(new RegExp(this.option("maskChar"),"g"),Rw)},_maskKeyHandler:function(e,t){if(!this.option("readOnly")){this.setForwardDirection(),e.preventDefault(),this._handleSelection();var i=this._input().val(),r=()=>{i!==this._input().val()&&this._maskStrategy.runWithoutEventProcessing(()=>te.trigger(this._input(),"input"))},n=t();n?n.then(r):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),r())}},_handleKey:function(e,t){this._direction(t||em),this._adjustCaret(e),this._handleKeyChain(e),this._moveCaret()},_handleSelection:function(){if(this._hasSelection()){var e=this._caret(),t=new Array(e.end-e.start+1).join(Rw);this._handleKeyChain(t)}},_handleKeyChain:function(e){var t=this._caret(),i=this.isForwardDirection()?t.start:t.start-1,r=this.isForwardDirection()?t.end:t.end-1,n=i===r?1:r-i;this._handleChain({text:e,start:i,length:n})},_tryMoveCaretBackward:function(){this.setBackwardDirection();var e=this._caret().start;return this._adjustCaret(),!e||e!==this._caret().start},_adjustCaret:function(e){var t=this._caret().start,i=this.isForwardDirection(),r=this._maskRulesChain.adjustedCaret(t,i,e);this._caret({start:r,end:r})},_moveCaret:function(){var e=this._caret().start,t=e+(this.isForwardDirection()?0:-1),i=this._maskRulesChain.isAccepted(t)?e+(this.isForwardDirection()?1:-1):e;this._caret({start:i,end:i})},_caret:function(e,t){var i=this._input();if(i.length){if(!arguments.length)return Kd(i);Kd(i,e,t)}},_hasSelection:function(){var e=this._caret();return e.start!==e.end},_direction:function(e){if(!arguments.length)return this._typingDirection;this._typingDirection=e},setForwardDirection:function(){this._direction(em)},setBackwardDirection:function(){this._direction(Pz)},isForwardDirection:function(){return this._direction()===em},_clean:function(){this._maskStrategy&&this._maskStrategy.clean(),this.callBase()},_validateMask:function(){if(this._maskRulesChain){var e=ru(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:e,validationError:e?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}},_updateHiddenElement:function(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement()),this._setSubmitElementName(this.option("name"))},_updateMaskOption:function(){this._updateHiddenElement(),this._renderMask(),this._validateMask()},_processEmptyMask:function(e){if(!e){var t=this.option("value");this.option({text:t,isValid:!0}),this.validationRequest.fire({value:t,editor:this}),this._renderValue()}},_optionChanged:function(e){switch(e.name){case"mask":this._updateMaskOption(),this._processEmptyMask(e.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(e),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:this.callBase(e)}}});yt("dxTextEditor",C0);var Lz=at(),Nz=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"],Vz="dx-textbox",Pw="dx-searchbox",$z="dx-icon",Hz="dx-icon-search",pd=C0.inherit({ctor:function(e,t){t&&(this._showClearButton=t.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return re(this.callBase(),{value:"",mode:"text",maxLength:null})},_initMarkup:function(){this.$element().addClass(Vz),this.callBase(),this.setAria("role","textbox")},_renderInputType:function(){this.callBase(),this._renderSearchMode()},_useTemplates:function(){return!1},_renderProps:function(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp:function(){var e=this._getMaxLength();e&&e>0?this._input().attr("maxLength",e):this._input().removeAttr("maxLength")},_renderSearchMode:function(){var e=this._$element;this.option("mode")==="search"?(e.addClass(Pw),this._renderSearchIcon(),this._showClearButton===void 0&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(e.removeClass(Pw),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",this._showClearButton===void 0?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon:function(){var e=W("<div>").addClass($z).addClass(Hz);e.prependTo(this._input().parent()),this._$searchIcon=e},_getLabelContainerWidth:function(){if(this._$searchIcon){var e=this._input().parent();return Ze(e)-this._getLabelBeforeWidth()}return this.callBase()},_getLabelBeforeWidth:function(){var e=this.callBase();return this._$searchIcon&&(e+=At(this._$searchIcon)),e},_optionChanged:function(e){switch(e.name){case"maxLength":this._toggleMaxLengthProp();break;case"mode":this.callBase(e),this._updateLabelWidth();break;case"mask":this.callBase(e),this._toggleMaxLengthProp();break;default:this.callBase(e)}},_onKeyDownCutOffHandler:function(e){var t=this._getMaxLength();if(t&&!e.ctrlKey&&!this._hasSelection()){var i=W(e.target),r=hi(e);return this._cutOffExtraChar(i),i.val().length<t||Nz.includes(r)||Lz.getSelection().toString()!==""}else return!0},_onChangeCutOffHandler:function(e){var t=W(e.target);this.option("maxLength")&&this._cutOffExtraChar(t)},_cutOffExtraChar:function(e){var t=this._getMaxLength(),i=e.val();t&&i.length>t&&e.val(i.substr(0,t))},_getMaxLength:function(){var e=!!this.option("mask");return e?null:this.option("maxLength")}});yt("dxTextBox",pd);var zz=wt.inherit({ctor:function(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes:function(e,t){var i=this;le(e,function(r,n){var a=Z(t)?t:i._getParentId(n),s=i._convertItemToNode(n,a);i._dataStructure.push(s),i._checkForDuplicateId(s.internalFields.key),i._indexByKey[s.internalFields.key]=i._dataStructure.length-1,i._itemHasChildren(n)&&i._convertItemsToNodes(i._dataAccessors.getters.items(n),s.internalFields.key)})},_checkForDuplicateId:function(e){if(Z(this._indexByKey[e]))throw gt.Error("E1040",e)},_getParentId:function(e){return this._dataType==="plain"?this._dataAccessors.getters.parentKey(e):void 0},_itemHasChildren:function(e){if(this._dataType!=="plain"){var t=this._dataAccessors.getters.items(e);return t&&t.length}},_getUniqueKey:function(e){var t=this._dataAccessors.getters.key,i=t(e),r=t&&(i||i===0)&&iu(i);return r?i:this.getItemsCount()},_convertItemToNode:function(e,t){this._itemsCount++,e.visible!==!1&&this._visibleItemsCount++;var i={internalFields:{disabled:this._dataAccessors.getters.disabled(e,{defaultValue:!1}),expanded:this._dataAccessors.getters.expanded(e,{defaultValue:!1}),selected:this._dataAccessors.getters.selected(e,{defaultValue:!1}),key:this._getUniqueKey(e),parentKey:Z(t)?t:this._rootValue,item:this._makeObjectFromPrimitive(e),childrenKeys:[]}};return re(i,e),delete i.items,i},setChildrenKeys:function(){var e=this;le(this._dataStructure,function(t,i){if(i.internalFields.parentKey!==e._rootValue){var r=e.getParentNode(i);r&&r.internalFields.childrenKeys.push(i.internalFields.key)}})},_makeObjectFromPrimitive:function(e){if(iu(e)){var t=e;e={},this._dataAccessors.setters.key(e,t)}return e},_convertToPublicNode:function(e,t){if(!e)return null;var i={text:this._dataAccessors.getters.display(e),key:e.internalFields.key,selected:e.internalFields.selected,expanded:e.internalFields.expanded,disabled:e.internalFields.disabled,parent:t||null,itemData:e.internalFields.item,children:[],items:[]};return i.parent&&(i.parent.children.push(i),i.parent.items.push(i)),i},convertToPublicNodes:function(e,t){if(!e.length)return[];var i=this,r=[];return le(e,function(n,a){a=iu(a)?i._getByKey(a):a;var s=i._convertToPublicNode(a,t);s.children=i.convertToPublicNodes(a.internalFields.childrenKeys,s),r.push(s),a.internalFields.publicNode=s}),r},setDataAccessors:function(e){this._dataAccessors=e},_getByKey:function(e){return this._dataStructure[this.getIndexByKey(e)]||null},getParentNode:function(e){return this._getByKey(e.internalFields.parentKey)},getByKey:function(e,t){if(t==null)return null;var i=null,r=this,n=function(a,s){return le(a,function(o,l){var u=l.internalFields&&l.internalFields.key||r._dataAccessors.getters.key(l);if(u.toString()===s.toString())return i=l,!1}),i};return n(e,t)},getItemsCount:function(){return this._itemsCount},getVisibleItemsCount:function(){return this._visibleItemsCount},updateIndexByKey:function(){var e=this;this._indexByKey={},le(this._dataStructure,function(t,i){e._checkForDuplicateId(i.internalFields.key),e._indexByKey[i.internalFields.key]=t})},updateChildrenKeys:function(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys:function(){this._indexByKey={},le(this._dataStructure,function(e,t){t.internalFields.childrenKeys=[]})},getIndexByKey:function(e){return this._indexByKey[e]},createPlainStructure:function(e,t,i){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=t,this._dataType=i,this._indexByKey={},this._convertItemsToNodes(e),this.setChildrenKeys(),this._dataStructure}}),_o="expanded",as="selected",Wz="disabled";Ns.setEditorClass(pd);var jz=wt.inherit({ctor:function(e){this.options={},re(this.options,this._defaultOptions(),e),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},setOption:function(e,t){this.options[e]=t,e==="recursiveSelection"&&this._updateSelection()},_defaultOptions:function(){return{dataAccessors:void 0,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new zz,onNodeChanged:me,sort:null}},_createInternalDataStructure:function(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection:function(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(as)},_updateExpansion:function(e){this.options.recursiveExpansion&&(e?this._updateOneBranch(e):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray(_o)},_updateNodesKeysArray:function(e){var t=this,i=[];return le(t._getDataBySelectionMode(),function(r,n){t._isNodeVisible(n)&&n.internalFields[e]&&(e===_o||t.options.multipleSelection?i.push(n.internalFields.key):(i.length&&t.toggleSelection(i[0],!1,!0),i=[n.internalFields.key]))}),i},_getDataBySelectionMode:function(){return this.options.multipleSelection?this.getData():this.getFullData()},_isNodeVisible:function(e){return e.internalFields.item.visible!==!1},_getByKey:function(e,t){return e===this._dataStructure?this.options.dataConverter._getByKey(t):this.options.dataConverter.getByKey(e,t)},_setChildrenSelection:function(){var e=this;le(this._dataStructure,function(t,i){if(i.internalFields.childrenKeys.length){var r=i.internalFields.selected;r===!0&&e._toggleChildrenSelection(i,r)}})},_setParentSelection:function(){var e=this;le(this._dataStructure,function(t,i){var r=e.options.dataConverter.getParentNode(i);r&&i.internalFields.parentKey!==e.options.rootValue&&e._iterateParents(i,function(n){var a=e._calculateSelectedState(n);e._setFieldState(n,as,a)})})},_setParentExpansion:function(){var e=this;le(this._dataStructure,function(t,i){i.internalFields.expanded&&e._updateOneBranch(i.internalFields.key)})},_updateOneBranch:function(e){var t=this,i=this.getNodeByKey(e);t._iterateParents(i,function(r){t._setFieldState(r,_o,!0)})},_iterateChildren:function(e,t,i,r){if(Re(i)){var n=this,a=e.internalFields.key;r=r||[],r.indexOf(a)===-1&&(r.push(a),le(e.internalFields.childrenKeys,function(s,o){var l=n.getNodeByKey(o);i(l),l.internalFields.childrenKeys.length&&t&&n._iterateChildren(l,t,i,r)}))}},_iterateParents:function(e,t,i){if(!(e.internalFields.parentKey===this.options.rootValue||!Re(t))){i=i||[];var r=e.internalFields.key;if(i.indexOf(r)===-1){i.push(r);var n=this.options.dataConverter.getParentNode(e);n&&(t(n),n.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(n,t,i))}}},_calculateSelectedState:function(e){for(var t=e.internalFields.childrenKeys.length,i=0,r=0,n=!1,a=0;a<=t-1;a++){var s=this.getNodeByKey(e.internalFields.childrenKeys[a]),o=s.internalFields.item.visible===!1,l=s.internalFields.selected;if(o){r++;continue}l?i++:l===void 0&&(i+=.5)}return i&&(n=i===t-r?!0:void 0),n},_toggleChildrenSelection:function(e,t){var i=this;this._iterateChildren(e,!0,function(r){i._isNodeVisible(r)&&i._setFieldState(r,as,t)})},_setFieldState:function(e,t,i){e.internalFields[t]!==i&&(e.internalFields[t]=i,e.internalFields.publicNode&&(e.internalFields.publicNode[t]=i),this.options.dataAccessors.setters[t](e.internalFields.item,i),this.options.onNodeChanged(e))},_markChildren:function(e){var t=this;le(e,function(i,r){var n=t.getIndexByKey(r),a=t.getNodeByKey(r);t._dataStructure[n]=0,a.internalFields.childrenKeys.length&&t._markChildren(a.internalFields.childrenKeys)})},_removeNode:function(e){var t=this.getNodeByKey(e);this._dataStructure[this.getIndexByKey(e)]=0,this._markChildren(t.internalFields.childrenKeys);var i=this,r=0,n=re([],this._dataStructure);le(n,function(a,s){s||(i._dataStructure.splice(a-r,1),r++)})},_addNode:function(e){var t=this.options.dataConverter,i=t._convertItemToNode(e,this.options.dataAccessors.getters.parentKey(e));this._dataStructure=this._dataStructure.concat(i),this._initialDataStructure=this._initialDataStructure.concat(i),t._dataStructure=t._dataStructure.concat(i)},_updateFields:function(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys:function(){return this._selectedNodesKeys},getExpandedNodesKeys:function(){return this._expandedNodesKeys},getData:function(){return this._dataStructure},getFullData:function(){return this._initialDataStructure},getNodeByItem:function(e){var t=null;return le(this._dataStructure,function(i,r){if(r.internalFields.item===e)return t=r,!1}),t},getNodesByItems:function(e){var t=this,i=[];return le(e,function(r,n){var a=t.getNodeByItem(n);a&&i.push(a)}),i},getNodeByKey:function(e,t){return this._getByKey(t||this._getDataBySelectionMode(),e)},getTreeNodes:function(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount:function(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount:function(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:function(e){return e.internalFields.publicNode},getRootNodes:function(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes:function(e){return cr(this._dataStructure).filter(["internalFields.parentKey",e]).toArray()},getIndexByKey:function(e){return this.options.dataConverter.getIndexByKey(e)},addItem:function(e){this._addNode(e),this._updateFields()},removeItem:function(e){this._removeNode(e),this._updateFields()},toggleSelection:function(e,t,i){var r=this._isSingleModeUnselect(t),n=this._getByKey(i||r?this._initialDataStructure:this._dataStructure,e);this._setFieldState(n,as,t),this.options.recursiveSelection&&!i&&(t?this._setChildrenSelection():this._toggleChildrenSelection(n,t),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(as)},_isSingleModeUnselect:function(e){return!this.options.multipleSelection&&!e},toggleNodeDisabledState:function(e,t){var i=this.getNodeByKey(e);this._setFieldState(i,Wz,t)},toggleSelectAll:function(e){if(Z(e)){var t=this,i=t._selectedNodesKeys[t._selectedNodesKeys.length-1],r=t._isSingleModeUnselect(e)?this._initialDataStructure:this._dataStructure;le(r,function(n,a){t._isNodeVisible(a)&&t._setFieldState(a,as,e)}),t._selectedNodesKeys=t._updateNodesKeysArray(as),!e&&t.options.selectionRequired&&t.toggleSelection(i,!0)}},isAllSelected:function(){return this.getSelectedNodesKeys().length?this.getSelectedNodesKeys().length===this.getVisibleItemsCount()?!0:void 0:!1},toggleExpansion:function(e,t){var i=this.getNodeByKey(e);this._setFieldState(i,_o,t),t&&this._updateExpansion(e),this._expandedNodesKeys=this._updateNodesKeysArray(_o)},isFiltered:function(e){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[e]).length},_createCriteria:function(e,t,i){var r=[];return Array.isArray(e)?(le(e,function(n,a){r.push([a,i,t],"or")}),r.pop(),r):[e,i,t]},_filterDataStructure:function(e,t){var i=this.options.searchExpr||this.options.dataAccessors.getters.display,r=Ns.getOperationBySearchMode(this.options.searchMode),n=this._createCriteria(i,e,r);return t=t||this._initialDataStructure,cr(t).filter(n).toArray()},search:function(e){var t=this,i=this._filterDataStructure(e),r=this.options.dataConverter;return function n(a,s){for(var o=a.length;s<o;){var l=a[s];if(l.internalFields.parentKey===t.options.rootValue){s++;continue}var u=r.getParentNode(l);if(!u){gt.log("W1007",l.internalFields.parentKey,l.internalFields.key),s++;continue}if(u.internalFields.expanded||t._setFieldState(u,_o,!0),a.includes(u)){s++;continue}a.splice(s,0,u),n(a,s)}}(i,0),this.options.sort&&(i=na.queryByOptions(cr(i),{sort:this.options.sort}).toArray()),r._indexByKey={},le(i,function(n,a){a.internalFields.childrenKeys=[],r._indexByKey[a.internalFields.key]=n}),r._dataStructure=i,r.setChildrenKeys(),r._dataStructure}}),Uz="dx-state-invisible",Gz="dx-state-disabled",Kz="dx-item-content-placeholder",qz=function(e,t,i){var r=function(a){n!==a&&(i(a,n),n=a)},n;return{dispose:e(t,r),force:function(){r(t())}}},Ys=wt.inherit({ctor:function(e,t,i){this._$element=e,this._options=t,this._rawData=i,zI(e,this,this._dispose),this._render()},_render:function(){var e=W("<div>").addClass(Kz);this._$element.append(e),this._watchers=[],this._renderWatchers()},_renderWatchers:function(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))},_startWatcher:function(e,t){var i=this._rawData,r=this._options.fieldGetter(e),n=qz(this._options.watchMethod(),function(){return r(i)},(function(a,s){this._dirty=!0,t(a,s)}).bind(this));this._watchers.push(n)},setDataField:function(){if(this._dirty=!1,le(this._watchers,function(e,t){t.force()}),this._dirty)return!0},_renderDisabled:function(e,t){this._$element.toggleClass(Gz,!!e),this._updateOwnerFocus(e)},_updateOwnerFocus:function(e){var t=this._options.owner;t&&e&&t._resetItemFocus(this._$element)},_renderVisible:function(e,t){this._$element.toggleClass(Uz,e!==void 0&&!e)},_dispose:function(){le(this._watchers,function(e,t){t.dispose()})}});Ys.getInstance=function(e){return WI(e,this)};var Fw=Math.abs,w0="dxhold",Xz=750,Lw=5,Yz=nf.inherit({start:function(e){this._startEventData=pi(e),this._startTimer(e)},_startTimer:function(e){var t="timeout"in this?this.timeout:Xz;this._holdTimer=setTimeout((function(){this._requestAccept(e),this._fireEvent(w0,e,{target:e.target}),this._forgetAccept()}).bind(this),t)},move:function(e){this._touchWasMoved(e)&&this._cancel(e)},_touchWasMoved:function(e){var t=bs(this._startEventData,pi(e));return Fw(t.x)>Lw||Fw(t.y)>Lw},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()},dispose:function(){this._stopTimer()}});ul({emitter:Yz,bubble:!0,events:[w0]});const za={name:w0};var x0="dxContexMenu",Zz=xe("contextmenu",x0),Jz=xe(za.name,x0),S0="dxcontextmenu",Qz=wt.inherit({setup:function(e){var t=W(e);te.on(t,Zz,this._contextMenuHandler.bind(this)),(Rs||Ne.isSimulator())&&te.on(t,Jz,this._holdHandler.bind(this))},_holdHandler:function(e){Ms(e)&&!Ne.isSimulator()||this._fireContextMenu(e)},_contextMenuHandler:function(e){this._fireContextMenu(e)},_fireContextMenu:function(e){return Xa({type:S0,originalEvent:e})},teardown:function(e){te.off(e,"."+x0)}});Gr(S0,new Qz);var rO=S0,eW=function(e,t,i,r,n){var a,s=((o,l,u)=>l(()=>o,u))(e,t,function(o){if(a&&a(),iu(o)){n(o);return}a=function(l,u,d,c,h){var f={},p=d.slice(),g=d.map(function(m){var v=c[m];return u(v?()=>v(l):()=>l[m],function(b){if(f[m]=b,p.length){var y=p.indexOf(m);y>=0&&p.splice(y,1)}p.length||h(f)})});return function(){g.forEach(m=>m())}}(o,t,i,r,n)});return function(){a&&a(),s&&s()}};class Zs extends qs{constructor(t,i,r,n){super(),this._render=t,this._fields=i,this._fieldsMap=n||{},this._watchMethod=r}_renderCore(t){var i=W(t.container),r=eW(t.model,this._watchMethod,this._fields,this._fieldsMap,n=>{i.empty(),this._render(i,n,t.model)});return te.on(i,An,r),i.contents()}}var tW="dx-collection",Xd="dx-item",Nw="-content",Vw="dx-item-content-placeholder",iW="dxItemData",rW="dxItemIndex",nW="tmpl-",aW="dxItem",sW="dx-item-selected",oW="dx-item-response-wait",lW="dx-empty-collection",$w="dx-template-wrapper",uW=/^([^.]+\[\d+\]\.)+([\w.]+)$/,dW="item",tm="up",im="down",Hw="left",zw="right",hW="pageup",cW="pagedown",Ww="last",jw="first",nO=Fi.inherit({_activeStateUnit:"."+Xd,_supportedKeys:function(){var e=function(i){var r=W(this.option("focusedElement"));r.length&&this._itemClickHandler(re({},i,{target:r.get(0),currentTarget:r.get(0)}))},t=function(i,r){Pi(r)||(r.preventDefault(),r.stopPropagation(),this._moveFocus(i,r))};return re(this.callBase(),{space:function(i){i.preventDefault(),e.call(this,i)},enter:e,leftArrow:t.bind(this,Hw),rightArrow:t.bind(this,zw),upArrow:t.bind(this,tm),downArrow:t.bind(this,im),pageUp:t.bind(this,tm),pageDown:t.bind(this,im),home:t.bind(this,jw),end:t.bind(this,Ww)})},_getDefaultOptions:function(){return re(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:_e.format("dxCollectionWidget-noDataText"),dataSource:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null,displayExpr:void 0,disabledExpr:function(e){return e?e.disabled:void 0},visibleExpr:function(e){return e?e.visible:void 0}})},_init:function(){this._compileDisplayGetter(),this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_compileDisplayGetter:function(){var e=this.option("displayExpr");this._displayGetter=e?jt(this.option("displayExpr")):void 0},_initTemplates:function(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),this.callBase()},_getAnonymousTemplateName:function(){return dW},_initDefaultItemTemplate:function(){var e=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new Zs((function(t,i){ft(i)?this._prepareDefaultItemTemplate(i,t):(e&&Re(e.text)&&(i=e.text(i)),t.text(String(di(i,""))))}).bind(this),this._getBindableFields(),this.option("integrationOptions.watchMethod"),e)})},_getBindableFields:function(){return["text","html"]},_getFieldsMap:function(){if(this._displayGetter)return{text:this._displayGetter}},_prepareDefaultItemTemplate:function(e,t){Z(e.text)&&t.text(e.text),Z(e.html)&&t.html(e.html)},_initItemsFromMarkup:function(){var e=lT(this.$element(),aW);if(!(!e.length||this.option("items").length)){var t=e.map(i=>{var{element:r,options:n}=i,a=/\S/.test(r.innerHTML)&&!n.template;return a?n.template=this._prepareItemTemplate(r):W(r).remove(),n});this.option("items",t)}},_prepareItemTemplate:function(e){var t=nW+new Ri,i=W(e).detach().clone().removeAttr("data-options").addClass($w);return this._saveTemplate(t,i),t},_dataSourceOptions:function(){return{paginate:!1}},_cleanRenderedItems:function(){this._renderedItemsCount=0},_focusTarget:function(){return this.$element()},_focusInHandler:function(e){if(this.callBase.apply(this,arguments),!!this._isFocusTarget(e.target)){var t=W(this.option("focusedElement"));if(t.length)this._setFocusedItem(t);else{var i=this._getActiveItem();i.length&&this.option("focusedElement",qe(i))}}},_focusOutHandler:function(){this.callBase.apply(this,arguments);var e=W(this.option("focusedElement"));this._updateFocusedItemState(e,!1)},_getActiveItem:function(e){var t=W(this.option("focusedElement"));if(t.length)return t;var i=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,r=this._getActiveElement(),n=r.length-1;return i<0&&(i=e?n:0),r.eq(i)},_moveFocus:function(e){var t=this._getAvailableItems(),i;switch(e){case hW:case tm:i=this._prevItem(t);break;case cW:case im:i=this._nextItem(t);break;case zw:i=this.option("rtlEnabled")?this._prevItem(t):this._nextItem(t);break;case Hw:i=this.option("rtlEnabled")?this._nextItem(t):this._prevItem(t);break;case jw:i=t.first();break;case Ww:i=t.last();break;default:return!1}i.length!==0&&this.option("focusedElement",qe(i))},_getVisibleItems:function(e){return e=e||this._itemElements(),e.filter(":visible")},_getAvailableItems:function(e){return this._getVisibleItems(e).not(".dx-state-disabled")},_prevItem:function(e){var t=this._getActiveItem(),i=e.index(t),r=e.last(),n=W(e[i-1]),a=this.option("loopItemFocus");return n.length===0&&a&&(n=r),n},_nextItem:function(e){var t=this._getActiveItem(!0),i=e.index(t),r=e.first(),n=W(e[i+1]),a=this.option("loopItemFocus");return n.length===0&&a&&(n=r),n},_selectFocusedItem:function(e){this.selectItem(e)},_updateFocusedItemState:function(e,t,i){var r=W(e);r.length&&(this._refreshActiveDescendant(),this._refreshItemId(r,i),this._toggleFocusClass(t,r)),this._updateParentActiveDescendant()},_refreshActiveDescendant:function(e){this.setAria("activedescendant",Z(this.option("focusedElement"))?this.getFocusedItemId():null,e)},_refreshItemId:function(e,t){!t&&this.option("focusedElement")?this.setAria("id",this.getFocusedItemId(),e):this.setAria("id",null,e)},_setFocusedItem:function(e){!e||!e.length||(this._updateFocusedItemState(e,!0),this.onFocusedItemChanged(this.getFocusedItemId()),this.option("selectOnFocus")&&this._selectFocusedItem(e))},_findItemElementByItem:function(e){var t=W(),i=this;return this.itemElements().each(function(){var r=W(this);if(r.data(i._itemDataKey())===e)return t=r,!1}),t},_getIndexByItem:function(e){return this.option("items").indexOf(e)},_itemOptionChanged:function(e,t,i,r){var n=this._findItemElementByItem(e);if(n.length){this.constructor.ItemClass.getInstance(n).setDataField(t,i)||this._refreshItem(n,e);var a=t==="disabled"&&i;a&&this._resetItemFocus(n)}},_resetItemFocus(e){e.is(this.option("focusedElement"))&&this.option("focusedElement",null)},_refreshItem:function(e){var t=this._getItemData(e),i=e.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+i,t,null,e)},_updateParentActiveDescendant:me,_optionChanged:function(e){if(e.name==="items"){var t=e.fullName.match(uW);if(t&&t.length){var i=t[t.length-1],r=e.fullName.replace("."+i,""),n=this.option(r);this._itemOptionChanged(n,i,e.value,e.previousValue);return}}switch(e.name){case"items":case"_itemAttributes":case"itemTemplateProperty":case"useItemTextAsTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":this._renderEmptyMessage();break;case"itemTemplate":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"focusedElement":this._updateFocusedItemState(e.previousValue,!1,!0),this._setFocusedItem(W(e.value));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;case"visibleExpr":case"disabledExpr":this._invalidate();break;default:this.callBase(e)}},_invalidate:function(){return this.option("focusedElement",null),this.callBase.apply(this,arguments)},_loadNextPage:function(){var e=this._dataSource;return this._expectNextPageLoading(),e.pageIndex(1+e.pageIndex()),e.load()},_expectNextPageLoading:function(){this._startIndexForAppendedItems=0},_expectLastItemLoading:function(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading:function(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler:function(e){var t=this.option("items");this._initialized&&t&&this._shouldAppendItems()?(this._renderedItemsCount=t.length,(!this._isLastPage()||this._startIndexForAppendedItems!==-1)&&(this.option().items=t.concat(e.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",e.slice())},_refreshContent:function(){this._prepareContent(),this._renderContent()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems:function(){return this._startIndexForAppendedItems!=null&&this._allowDynamicItemsAppend()},_allowDynamicItemsAppend:function(){return!1},_clean:function(){this._cleanFocusState(),this._cleanItemContainer()},_cleanItemContainer:function(){W(this._itemContainer()).empty()},_dispose:function(){this.callBase(),clearTimeout(this._itemFocusTimeout)},_refresh:function(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer:function(){return this.$element()},_itemClass:function(){return Xd},_itemContentClass:function(){return this._itemClass()+Nw},_selectedItemClass:function(){return sW},_itemResponseWaitClass:function(){return oW},_itemSelector:function(){return"."+this._itemClass()},_itemDataKey:function(){return iW},_itemIndexKey:function(){return rW},_itemElements:function(){return this._itemContainer().find(this._itemSelector())},_initMarkup:function(){this.callBase(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass(tW),this._prepareContent()},_prepareContent:$o(function(){this._renderContentImpl()}),_renderContent:function(){this._fireContentReadyAction()},_render:function(){this.callBase(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_attachClickEvent:function(){var e=this._itemSelector(),t=xe(Pt,this.NAME),i=xe(Rt.down,this.NAME),r=this,n=new br(function(a){var s=a.event;r._itemPointerDownHandler(s)});te.off(this._itemContainer(),t,e),te.off(this._itemContainer(),i,e),te.on(this._itemContainer(),t,e,(function(a){this._itemClickHandler(a)}).bind(this)),te.on(this._itemContainer(),i,e,function(a){n.execute({element:W(a.target),event:a})})},_itemClickHandler:function(e,t,i){this._itemDXEventHandler(e,"onItemClick",t,i)},_itemPointerDownHandler:function(e){this.option("focusStateEnabled")&&(this._itemFocusHandler=(function(){if(clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=null,!e.isDefaultPrevented()){var t=W(e.target),i=t.closest(this._itemElements()),r=this._closestFocusable(t);i.length&&this._isFocusTarget(r==null?void 0:r.get(0))&&this.option("focusedElement",qe(i))}}).bind(this),this._itemFocusTimeout=setTimeout(this._forcePointerDownFocus.bind(this)))},_closestFocusable:function(e){if(e.is(Jg))return e;for(e=e.parent();e.length&&!we.isDocument(e.get(0));){if(e.is(Jg))return e;e=e.parent()}},_forcePointerDownFocus:function(){this._itemFocusHandler&&this._itemFocusHandler()},_updateFocusState:function(){this.callBase.apply(this,arguments),this._forcePointerDownFocus()},_attachHoldEvent:function(){var e=this._itemContainer(),t=this._itemSelector(),i=xe(za.name,this.NAME);te.off(e,i,t),te.on(e,i,t,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))},_getHoldTimeout:function(){return this.option("itemHoldTimeout")},_shouldFireHoldEvent:function(){return this.hasActionSubscription("onItemHold")},_itemHoldHandler:function(e){this._shouldFireHoldEvent()?this._itemDXEventHandler(e,"onItemHold"):e.cancel=!0},_attachContextMenuEvent:function(){var e=this._itemContainer(),t=this._itemSelector(),i=xe(rO,this.NAME);te.off(e,i,t),te.on(e,i,t,this._itemContextMenuHandler.bind(this))},_shouldFireContextMenuEvent:function(){return this.hasActionSubscription("onItemContextMenu")},_itemContextMenuHandler:function(e){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(e,"onItemContextMenu"):e.cancel=!0},_renderContentImpl:function(){var e=this.option("items")||[];this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e)},_renderItems:function(e){e.length&&le(e,(function(t,i){this._renderItem(this._renderedItemsCount+t,i)}).bind(this)),this._renderEmptyMessage()},_renderItem:function(e,t,i,r){var n,a=(n=e==null?void 0:e.item)!==null&&n!==void 0?n:e;i=i||this._itemContainer();var s=this._renderItemFrame(a,t,i,r);this._setElementData(s,t,a),s.attr(this.option("_itemAttributes")),this._attachItemClickEvent(t,s);var o=this._getItemContent(s),l=this._renderItemContent({index:a,itemData:t,container:qe(o),contentClass:this._itemContentClass(),defaultTemplateName:this.option("itemTemplate")}),u=this;return Pe(l).done(function(d){u._postprocessRenderItem({itemElement:s,itemContent:d,itemData:t,itemIndex:a}),u._executeItemRenderAction(e,t,qe(s))}),s},_getItemContent:function(e){var t=e.find("."+Vw);return t.removeClass(Vw),t},_attachItemClickEvent:function(e,t){!e||!e.onClick||te.on(t,Pt,(function(i){this._itemEventHandlerByHandler(t,e.onClick,{event:i})}).bind(this))},_renderItemContent:function(e){var t=this._getItemTemplateName(e),i=this._getTemplate(t);this._addItemContentClasses(e);var r=W(this._createItemByTemplate(i,e));return r.hasClass($w)?this._renderItemContentByNode(e,r):e.container},_renderItemContentByNode:function(e,t){return W(e.container).replaceWith(t),e.container=qe(t),this._addItemContentClasses(e),t},_addItemContentClasses:function(e){var t=[Xd+Nw,e.contentClass];W(e.container).addClass(t.join(" "))},_appendItemToContainer:function(e,t,i){t.appendTo(e)},_renderItemFrame:function(e,t,i,r){var n=W("<div>");if(new this.constructor.ItemClass(n,this._itemOptions(),t||{}),r&&r.length?r.replaceWith(n):this._appendItemToContainer.call(this,i,n,e),this.option("useItemTextAsTitle")){var a=this._displayGetter?this._displayGetter(t):t;n.attr("title",a)}return n},_itemOptions:function(){var e=this;return{watchMethod:function(){return e.option("integrationOptions.watchMethod")},owner:e,fieldGetter:function(t){var i=e.option(t+"Expr"),r=jt(i);return r}}},_postprocessRenderItem:me,_executeItemRenderAction:function(e,t,i){this._getItemRenderAction()({itemElement:i,itemIndex:e,itemData:t})},_setElementData:function(e,t,i){e.addClass([Xd,this._itemClass()].join(" ")).data(this._itemDataKey(),t).data(this._itemIndexKey(),i)},_createItemRenderAction:function(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"})},_getItemRenderAction:function(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName:function(e){var t=e.itemData,i=e.templateProperty||this.option("itemTemplateProperty"),r=t&&t[i];return r||e.defaultTemplateName},_createItemByTemplate:function(e,t){return e.render({model:t.itemData,container:t.container,index:t.index})},_emptyMessageContainer:function(){return this._itemContainer()},_renderEmptyMessage:function(e){e=e||this.option("items");var t=this.option("noDataText"),i=!t||e&&e.length||this._isDataSourceLoading();i&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),i||(this._$noData=this._$noData||W("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer()).html(t),this.setAria("label",t)),this.$element().toggleClass(lW,!i)},_itemDXEventHandler:function(e,t,i,r){this._itemEventHandler(e.target,t,re(i,{event:e}),r)},_itemEventHandler:function(e,t,i,r){var n=this._createActionByOption(t,re({validatingTargetName:"itemElement"},r));return this._itemEventHandlerImpl(e,n,i)},_itemEventHandlerByHandler:function(e,t,i,r){var n=this._createAction(t,re({validatingTargetName:"itemElement"},r));return this._itemEventHandlerImpl(e,n,i)},_itemEventHandlerImpl:function(e,t,i){var r=this._closestItemElement(W(e)),n=re({},i);return t(re(i,this._extendActionArgs(r),n))},_extendActionArgs:function(e){return{itemElement:qe(e),itemIndex:this._itemElements().index(e),itemData:this._getItemData(e)}},_closestItemElement:function(e){return W(e).closest(this._itemSelector())},_getItemData:function(e){return W(e).data(this._itemDataKey())},_getSummaryItemsWidth:function(e,t){var i=0;return e&&le(e,function(r,n){i+=At(n,t||!1)}),i},getFocusedItemId:function(){return this._focusedItemId||(this._focusedItemId="dx-"+new Ri),this._focusedItemId},itemElements:function(){return this._itemElements()},itemsContainer:function(){return this._itemContainer()}}).include(rd);nO.ItemClass=Ys;var mr=wt.abstract,fW=wt.inherit({ctor:function(e){this._collectionWidget=e},getIndexByItemData:mr,getItemDataByIndex:mr,getKeysByItems:mr,getItemsByKeys:mr,itemsGetter:mr,getKeyByIndex:function(e){var t=this._denormalizeItemIndex(e);return this.getKeysByItems([this.getItemDataByIndex(t)])[0]},_equalKeys:function(e,t){return this._collectionWidget._isKeySpecified()?ni(e,t):e===t},beginCache:function(){this._cache={}},endCache:function(){this._cache=null},getIndexByKey:mr,getNormalizedIndex:function(e){return this._isNormalizedItemIndex(e)?e:this._isItemIndex(e)?this._normalizeItemIndex(e):this._isNode(e)?this._getNormalizedItemIndex(e):this._normalizeItemIndex(this.getIndexByItemData(e))},getIndex:function(e){return this._isNormalizedItemIndex(e)?this._denormalizeItemIndex(e):this._isItemIndex(e)?e:this._isNode(e)?this._denormalizeItemIndex(this._getNormalizedItemIndex(e)):this.getIndexByItemData(e)},getItemElement:function(e){if(this._isNormalizedItemIndex(e))return this._getItemByNormalizedIndex(e);if(this._isItemIndex(e))return this._getItemByNormalizedIndex(this._normalizeItemIndex(e));if(this._isNode(e))return W(e);var t=this._normalizeItemIndex(this.getIndexByItemData(e));return this._getItemByNormalizedIndex(t)},_isNode:e=>we.isNode(e&&Ar(e)?e.get(0):e),deleteItemAtIndex:mr,itemPlacementFunc:function(e,t){return this._itemsFromSameParent(e,t)&&e<t?"after":"before"},moveItemAtIndexToIndex:mr,_isNormalizedItemIndex:function(e){return typeof e=="number"&&Math.round(e)===e},_isItemIndex:mr,_getNormalizedItemIndex:mr,_normalizeItemIndex:mr,_denormalizeItemIndex:mr,_getItemByNormalizedIndex:mr,_itemsFromSameParent:mr}),E0=fW.inherit({_getPlainItems:function(){return this._collectionWidget.option("items")||[]},getIndexByItemData:function(e){var t=this._collectionWidget.keyOf.bind(this._collectionWidget);return t?this.getIndexByKey(t(e)):this._getPlainItems().indexOf(e)},getItemDataByIndex:function(e){return this._getPlainItems()[e]},deleteItemAtIndex:function(e){this._getPlainItems().splice(e,1)},itemsGetter:function(){return this._getPlainItems()},getKeysByItems:function(e){var t=this._collectionWidget.keyOf.bind(this._collectionWidget),i=e;if(t){i=[];for(var r=0;r<e.length;r++)i.push(t(e[r]))}return i},getIndexByKey:function(e){var t=this._cache,i=t&&t.keys||this.getKeysByItems(this._getPlainItems());if(t&&!t.keys&&(t.keys=i),typeof e=="object"){for(var r=0,n=i.length;r<n;r++)if(this._equalKeys(e,i[r]))return r}else return i.indexOf(e);return-1},getItemsByKeys:function(e,t){return(t||e).slice()},moveItemAtIndexToIndex:function(e,t){var i=this._getPlainItems(),r=i[e];i.splice(e,1),i.splice(t,0,r)},_isItemIndex:function(e){return typeof e=="number"&&Math.round(e)===e},_getNormalizedItemIndex:function(e){return this._collectionWidget._itemElements().index(e)},_normalizeItemIndex:function(e){return e},_denormalizeItemIndex:function(e){return e},_getItemByNormalizedIndex:function(e){return e>-1?this._collectionWidget._itemElements().eq(e):null},_itemsFromSameParent:function(){return!0}});const aO=wt.inherit({ctor:function(e){this.options=e,this._setOption("disabledItemKeys",[]),this._clearItemKeys()},_clearItemKeys:function(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])},validate:me,_setOption:function(e,t){this.options[e]=t},onSelectionChanged:function(){var e=this.options.addedItemKeys,t=this.options.removedItemKeys,i=this.options.addedItems,r=this.options.removedItems,n=this.options.selectedItems,a=this.options.selectedItemKeys,s=this.options.onSelectionChanged||me;this._clearItemKeys(),s({selectedItems:n,selectedItemKeys:a,addedItemKeys:e,removedItemKeys:t,addedItems:i,removedItems:r})},equalKeys:function(e,t){return this.options.equalByReference&&Ge(e)&&Ge(t)?e===t:ni(e,t)},getSelectableItems:function(e){return e.filter(function(t){return!(t!=null&&t.disabled)})},_clearSelection:function(e,t,i,r){return e=e||[],e=Array.isArray(e)?e:[e],this.validate(),this.selectedItemKeys(e,t,i,r)},_removeTemplateProperty:function(e){return Array.isArray(e)?e.map(t=>this._removeTemplateProperty(t)):(Ge(e)&&delete e.template,e)},_loadFilteredData:function(e,t,i,r){var n=encodeURI(JSON.stringify(this._removeTemplateProperty(e))).length,a=this.options.maxFilterLengthInRequest&&n>this.options.maxFilterLengthInRequest,s=new pe,o={filter:a?void 0:e,select:a?this.options.dataFields():i||this.options.dataFields()};return e&&e.length===0?s.resolve([]):this.options.load(o).done(function(l){var u=ft(l)?l.data:l;t&&!r?u=u.filter(t):a&&(u=cr(u).filter(e).toArray()),s.resolve(u)}).fail(s.reject.bind(s)),s},updateSelectedItemKeyHash:function(e){for(var t=0;t<e.length;t++){var i=En(e[t]);if(!Ge(i)){this.options.keyHashIndices[i]=this.options.keyHashIndices[i]||[];var r=this.options.keyHashIndices[i];r.push(t)}}},_isAnyItemSelected:function(e){for(var t=0;t<e.length;t++)if(this.options.isItemSelected(e[t]))return;return!1},_getFullSelectAllState:function(){var e=this.options.plainItems(),t=this.options.filter(),i=this.options.ignoreDisabledItems?this.options.selectedItems:this.options.selectedItems.filter(a=>!(a!=null&&a.disabled));t&&(i=cr(i).filter(t).toArray());var r=i.length,n=e.length-this.getSelectableItems(e).length;if(!r)return this._isAnyItemSelected(e);if(r>=this.options.totalCount()-n)return!0},_getVisibleSelectAllState:function(){for(var e=this.getSelectableItems(this.options.plainItems()),t=!1,i=!1,r=0;r<e.length;r++){var n=e[r],a=this.options.getItemData(n),s=this.options.keyOf(a);this.options.isSelectableItem(n)&&(this.isItemKeySelected(s)?t=!0:i=!0)}return t?i?void 0:!0:!1}}),pW=aO.inherit({getSelectedItems:function(){return this._loadFilteredData(this.options.selectionFilter)},getSelectedItemKeys:function(){var e=new pe,t=this,i=this.options.key(),r=Ue(i)?[i]:i;return this._loadFilteredData(this.options.selectionFilter,null,r).done(function(n){var a=n.map(function(s){return t.options.keyOf(s)});e.resolve(a)}).fail(e.reject),e.promise()},selectedItemKeys:function(e,t,i,r){if(r){var n=this.options.filter(),a=!n||JSON.stringify(n)===JSON.stringify(this.options.selectionFilter)&&i;a?this._setOption("selectionFilter",i?[]:null):this._addSelectionFilter(i,n,r)}else{t||this._setOption("selectionFilter",[]);for(var s=0;s<e.length;s++)i?this.removeSelectedItem(e[s]):this.addSelectedItem(e[s])}return this.onSelectionChanged(),new pe().resolve()},setSelectedItems:function(e){this._setOption("selectionFilter",null);for(var t=0;t<e.length;t++)this.addSelectedItem(e[t])},isItemDataSelected:function(e){return this.isItemKeySelected(e)},isItemKeySelected:function(e){var t=this.options.selectionFilter;return t?!!cr([e]).filter(t).toArray().length:!0},_getKeyExpr:function(){var e=this.options.key();return Array.isArray(e)&&e.length===1?e[0]:e},_normalizeKey:function(e){var t=this.options.key();return Array.isArray(t)&&t.length===1?e[t[0]]:e},_getFilterByKey:function(e){var t=this._getKeyExpr(),i=[t,"=",this._normalizeKey(e)];if(Array.isArray(t)){i=[];for(var r=0;r<t.length;r++)i.push([t[r],"=",e[t[r]]]),r!==t.length-1&&i.push("and")}return i},addSelectedItem:function(e){var t=this._getFilterByKey(e);this._addSelectionFilter(!1,t)},removeSelectedItem:function(e){var t=this._getFilterByKey(e);this._addSelectionFilter(!0,t)},validate:function(){var e=this.options.key;if(e&&e()===void 0)throw gt.Error("E1042","Deferred selection")},_findSubFilter:function(e,t){if(!e)return-1;for(var i=JSON.stringify(t),r=0;r<e.length;r++){var n=e[r];if(n&&JSON.stringify(n)===i)return r}return-1},_isLastSubFilter:function(e,t){return e&&t?this._findSubFilter(e,t)===e.length-1||this._findSubFilter([e],t)===0:!1},_addFilterOperator:function(e,t){return e.length>1&&Ue(e[1])&&e[1]!==t&&(e=[e]),e.length&&e.push(t),e},_denormalizeFilter:function(e){return e&&Ue(e[0])&&(e=[e]),e},_isOnlyNegativeFiltersLeft:function(e){return e.every((t,i)=>i%2===0?Array.isArray(t)&&t[0]==="!":t==="and")},_addSelectionFilter:function(e,t,i){var r=e?["!",t]:t,n=e?"and":"or",a=!0,s=this.options.selectionFilter||[];if(s=this._denormalizeFilter(s),s&&s.length){var o=this._removeSameFilter(s,t,e,i),l=this._removeSameFilter(s,t,!e),u=e&&(o!==-1||l!==-1)&&this._isOnlyNegativeFiltersLeft(s);u&&(s=[]);var d=this._isKeyFilter(t)&&this._hasKeyFiltersOnlyStartingFromIndex(s,l);a=t.length&&!d,a&&(s=this._addFilterOperator(s,n))}a&&s.push(r),s=this._normalizeFilter(s),this._setOption("selectionFilter",!e&&!s.length?null:s)},_normalizeFilter:function(e){return e&&e.length===1&&(e=e[0]),e},_removeFilterByIndex:function(e,t,i){var r=e[1];t>0?e.splice(t-1,2):e.splice(t,2),i&&r==="and"&&e.splice(0,e.length)},_isSimpleKeyFilter:function(e,t){return e.length===3&&e[0]===t&&e[1]==="="},_isKeyFilter:function(e){if(e.length===2&&e[0]==="!")return this._isKeyFilter(e[1]);var t=this._getKeyExpr();if(Array.isArray(t)){if(e.length!==2*t.length-1)return!1;for(var i=0;i<t.length;i++)if(i>0&&e[2*i-1]!=="and"||!this._isSimpleKeyFilter(e[2*i],t[i]))return!1;return!0}return this._isSimpleKeyFilter(e,t)},_hasKeyFiltersOnlyStartingFromIndex:function(e,t){if(t>=0){for(var i=t;i<e.length;i++)if(typeof e[i]!="string"&&!this._isKeyFilter(e[i]))return!1;return!0}return!1},_removeSameFilter:function(e,t,i,r){if(t=i?["!",t]:t,JSON.stringify(t)===JSON.stringify(e))return e.splice(0,e.length),0;var n=this._findSubFilter(e,t);if(n>=0)return this._removeFilterByIndex(e,n,r),n;for(var a=0;a<e.length;a++)if(Array.isArray(e[a])&&e[a].length>2){var s=this._removeSameFilter(e[a],t,!1,r);if(s>=0)return e[a].length?e[a].length===1&&(e[a]=e[a][0]):this._removeFilterByIndex(e,a,r),s}return-1},getSelectAllState:function(){var e=this.options.filter(),t=this.options.selectionFilter;if(!t)return!0;if(!t.length)return!1;if(!(!e||!e.length)){if(t=this._denormalizeFilter(t),this._isLastSubFilter(t,e))return!0;if(this._isLastSubFilter(t,["!",e]))return!1}}});var mW=function(e,t){this.getLocalFilter=function(s,o,l,u){return o=o===void 0?ni:o,n.bind(this,o,s,l,u)},this.getExpr=function(s){if(s){var o;return e.forEach(function(l,u){o=o||[];var d;u>0&&o.push(t?"and":"or"),Ue(s)?d=a(s,l):d=function(c,h){for(var f=[],p=0,g=c.length;p<g;p++){var m=c[p],v=h&&h[m],b=a(m,v);if(!b)break;p>0&&f.push(t?"or":"and"),f.push(b)}return f}(s,l),o.push(d)}),o&&o.length===1&&(o=o[0]),o}},this.getCombinedFilter=function(s,o){var l=this.getExpr(s),u=l;return t&&o&&(l?(u=[],u.push(l),u.push(o)):u=o),u};var i,r=function(s,o,l){return Array.isArray(l)?s.map(u=>o(u)):s};function n(s,o,l,u,d){var c=o(d),h,f;if(!l&&(h=En(c),!Ge(h))){var p=function(g,m){if(!i){i={};for(var v=r(e,g,m),b=0;b<v.length;b++)i[En(v[b])]=!0}return i}(o,u);return p[h]?!t:!!t}for(f=0;f<e.length;f++)if(s(e[f],c))return!t;return!!t}function a(s,o){if(o!==void 0)return[s,t?"<>":"=",o]}};const gW=aO.inherit({ctor:function(e){this.callBase(e),this._initSelectedItemKeyHash()},_initSelectedItemKeyHash:function(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})},getSelectedItemKeys:function(){return this.options.selectedItemKeys.slice(0)},getSelectedItems:function(){return this.options.selectedItems.slice(0)},_preserveSelectionUpdate:function(e,t){var i=this.options.keyOf,r,n,a;if(i){var s=t&&e.length>1&&!this.options.equalByReference;for(s&&(r={}),a=0;a<e.length;a++){var o=e[a],l=i(o);t?(n=this.removeSelectedItem(l,r,o==null?void 0:o.disabled),r&&n>=0&&(r[n]=!0)):this.addSelectedItem(l,o)}s&&this._batchRemoveSelectedItems(r)}},_batchRemoveSelectedItems:function(e){var t=this.options.selectedItemKeys.slice(0),i=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(var r=0;r<t.length;r++)e[r]||(this.options.selectedItemKeys.push(t[r]),this.options.selectedItems.push(i[r]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_loadSelectedItemsCore:function(e,t,i,r){var n=new pe,a=this.options.key();if(!e.length&&!i)return n.resolve([]),n;if(i&&t&&!r)return n.resolve(this.getSelectedItems()),n;var s=new mW(e,i),o=s.getCombinedFilter(a,r),l=[];if(t){var u=this.options.selectedItems;l=o&&e.length!==u.length?cr(u).filter(o).toArray():u.slice(0)}var d=l.length?l:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData),c=s.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,a);return d=d.filter(c),l.length||!i&&d.length===e.length?n.resolve(d):n=this._loadFilteredData(o,c,null,i),n},_replaceSelectionUpdate:function(e){var t=[],i=this.options.keyOf;if(i){for(var r=0;r<e.length;r++){var n=e[r],a=i(n);t.push(a)}this.setSelectedItems(t,e)}},_warnOnIncorrectKeys:function(e){for(var t=this.options.allowNullValue,i=0;i<e.length;i++){var r=e[i];(!t||r!==null)&&!this.isItemKeySelected(r)&&gt.log("W1002",r)}},_isMultiSelectEnabled:function(){var e=this.options.mode;return e==="all"||e==="multiple"},_requestInProgress:function(){var e;return((e=this._lastLoadDeferred)===null||e===void 0?void 0:e.state())==="pending"},_concatRequestsItems:function(e,t,i,r){var n,a=t?e:[];return r?n=r:n=xy(e,this.options.selectedItemKeys),{addedItems:i.added.concat(n),removedItems:i.removed.concat(a),keys:e}},_collectLastRequestData:function(e,t,i,r){var n=t&&i,a={added:[],removed:[]},s=this._isMultiSelectEnabled(),o=s?this._lastRequestData:{};return s&&(this._shouldMergeWithLastRequest&&(n?(this._lastLoadDeferred.reject(),o={}):m9(e,this.options.selectedItemKeys)||(a.added=o.addedItems,a.removed=o.removedItems,t||this._lastLoadDeferred.reject())),o=this._concatRequestsItems(e,t,a,this._shouldMergeWithLastRequest?void 0:r)),o},_updateKeysByLastRequestData:function(e,t,i){var r=e;if(this._isMultiSelectEnabled()&&this._shouldMergeWithLastRequest&&!t&&!i){var n,a;r=xy(e.concat((n=this._lastRequestData)===null||n===void 0?void 0:n.addedItems),(a=this._lastRequestData)===null||a===void 0?void 0:a.removedItems),r=ZP(r)}return r},_loadSelectedItems:function(e,t,i,r){var n=this,a=new pe,s=n.options.filter();return this._shouldMergeWithLastRequest=this._requestInProgress(),this._lastRequestData=this._collectLastRequestData(e,t,i,r),Pe(n._lastLoadDeferred).always(function(){var o=n._updateKeysByLastRequestData(e,t,i);n._shouldMergeWithLastRequest=!1,n._loadSelectedItemsCore(o,t,i,s).done(a.resolve).fail(a.reject)}),n._lastLoadDeferred=a,a},selectedItemKeys:function(e,t,i,r,n){var a=this,s=a._loadSelectedItems(e,i,r,n);return s.done(function(o){t?a._preserveSelectionUpdate(o,i):a._replaceSelectionUpdate(o),a.onSelectionChanged()}),s},addSelectedItem:function(e,t){if(Z(t)&&!this.options.ignoreDisabledItems&&t.disabled){this.options.disabledItemKeys.indexOf(e)===-1&&this.options.disabledItemKeys.push(e);return}var i=this._getKeyHash(e);this._indexOfSelectedItemKey(i)===-1&&(!Ge(i)&&this.options.keyHashIndices&&(this.options.keyHashIndices[i]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(e),this.options.addedItemKeys.push(e),this.options.addedItems.push(t),this.options.selectedItems.push(t))},_getSelectedIndexByKey:function(e,t){for(var i=this.options.selectedItemKeys,r=0;r<i.length;r++)if((!t||!t[r])&&this.equalKeys(i[r],e))return r;return-1},_getSelectedIndexByHash:function(e,t){var i=this.options.keyHashIndices[e];return i&&i.length>1&&t&&(i=i.filter(function(r){return!t[r]})),i&&i[0]>=0?i[0]:-1},_indexOfSelectedItemKey:function(e,t){var i;return this.options.equalByReference?i=this.options.selectedItemKeys.indexOf(e):Ge(e)?i=this._getSelectedIndexByKey(e,t):i=this._getSelectedIndexByHash(e,t),i},_shiftSelectedKeyIndices:function(e){for(var t=e;t<this.options.selectedItemKeys.length;t++){var i=this.options.selectedItemKeys[t],r=En(i),n=this.options.keyHashIndices[r];if(n)for(var a=0;a<n.length;a++)n[a]>e&&n[a]--}},removeSelectedItem:function(e,t,i){if(!(!this.options.ignoreDisabledItems&&i)){var r=this._getKeyHash(e),n=!!t,a=this._indexOfSelectedItemKey(r,t);if(a<0||(this.options.removedItemKeys.push(e),this.options.removedItems.push(this.options.selectedItems[a]),n)||(this.options.selectedItemKeys.splice(a,1),this.options.selectedItems.splice(a,1),Ge(r)||!this.options.keyHashIndices))return a;var s=this.options.keyHashIndices[r];return s&&(s.shift(),s.length||delete this.options.keyHashIndices[r],this._shiftSelectedKeyIndices(a)),a}},_updateAddedItemKeys:function(e,t){for(var i=0;i<e.length;i++)this.isItemKeySelected(e[i])||(this.options.addedItemKeys.push(e[i]),this.options.addedItems.push(t[i]))},_updateRemovedItemKeys:function(e,t,i){for(var r=0;r<t.length;r++)this.isItemKeySelected(t[r])||(this.options.removedItemKeys.push(t[r]),this.options.removedItems.push(i[r]))},_isItemSelectionInProgress:function(e,t){var i=t&&this._lastRequestData&&this._requestInProgress();if(i){var r,n=(r=this._lastRequestData.addedItems)!==null&&r!==void 0?r:[];return n.includes(e)}else return!1},_getKeyHash:function(e){return this.options.equalByReference?e:En(e)},setSelectedItems:function(e,t){this._updateAddedItemKeys(e,t);var i=this.options.selectedItemKeys,r=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(e)),this._setOption("selectedItemKeys",e),this._setOption("selectedItems",t),this._updateRemovedItemKeys(e,i,r)},isItemDataSelected:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.options.keyOf(e);return this.isItemKeySelected(i,t)},isItemKeySelected:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this._isItemSelectionInProgress(e,t.checkPending);if(!i){var r=this._getKeyHash(e),n=this._indexOfSelectedItemKey(r);i=n!==-1}return i},getSelectAllState:function(e){return e?this._getVisibleSelectAllState():this._getFullSelectAllState()}}),sO=wt.inherit({ctor:function(e){this.options=re(this._getDefaultOptions(),e,{selectedItemKeys:e.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new pW(this.options):new gW(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_getDefaultOptions:function(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:me,key:me,keyOf:function(e){return e},load:function(){return new pe().resolve([])},totalCount:function(){return-1},isSelectableItem:function(){return!0},isItemSelected:function(){return!1},getItemData:function(e){return e},dataFields:me,filter:me}},validate:function(){this._selectionStrategy.validate()},getSelectedItemKeys:function(){return this._selectionStrategy.getSelectedItemKeys()},getSelectedItems:function(){return this._selectionStrategy.getSelectedItems()},selectionFilter:function(e){if(e===void 0)return this.options.selectionFilter;var t=this.options.selectionFilter!==e&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(e);this.options.selectionFilter=e,t&&this.onSelectionChanged()},setSelection:function(e,t){return this.selectedItemKeys(e,!1,!1,!1,t)},select:function(e){return this.selectedItemKeys(e,!0)},deselect:function(e){return this.selectedItemKeys(e,!0,!0)},selectedItemKeys:function(e,t,i,r,n){var a;return e=(a=e)!==null&&a!==void 0?a:[],e=Array.isArray(e)?e:[e],this.validate(),this._selectionStrategy.selectedItemKeys(e,t,i,r,n)},clearSelection:function(){return this.selectedItemKeys([])},_addSelectedItem:function(e,t){this._selectionStrategy.addSelectedItem(t,e)},_removeSelectedItem:function(e){this._selectionStrategy.removeSelectedItem(e)},_setSelectedItems:function(e,t){this._selectionStrategy.setSelectedItems(e,t)},onSelectionChanged:function(){this._selectionStrategy.onSelectionChanged()},changeItemSelection:function(e,t,i){var r,n,a,s=this.options.plainItems(),o=s[e],l,u=(r=(n=this.options).allowLoadByRange)===null||r===void 0?void 0:r.call(n),d,c=!1,h=!1,f=b=>b>=0&&!s.filter(y=>y.loadIndex===b).length;if(u&&(d=o.loadIndex-e,e=o.loadIndex,c=f(this._focusedItemIndex),Z(this._shiftFocusedItemIndex)&&(h=f(this._shiftFocusedItemIndex))),!this.isSelectable()||!this.isDataItem(o))return!1;var p=this.options.getItemData(o),g=this.options.keyOf(p);if(t=t||{},t.shift&&this.options.mode==="multiple"&&this._focusedItemIndex>=0)c||h?(a=e!==this._shiftFocusedItemIndex||this._focusedItemIndex!==this._shiftFocusedItemIndex,a&&(l=this.changeItemSelectionWhenShiftKeyInVirtualPaging(e))):a=this.changeItemSelectionWhenShiftKeyPressed(e,s,d);else if(t.control){if(this._resetItemSelectionWhenShiftKeyPressed(),!i){var m=this._selectionStrategy.isItemDataSelected(p);this.options.mode==="single"&&this.clearSelectedItems(),m?this._removeSelectedItem(g):this._addSelectedItem(p,g)}a=!0}else{this._resetItemSelectionWhenShiftKeyPressed();var v=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],g);(this.options.selectedItemKeys.length!==1||!v)&&(this._setSelectedItems([g],[p]),a=!0)}if(a)return Pe(l).done(()=>{this._focusedItemIndex=e,!i&&this.onSelectionChanged()}),!0},isDataItem:function(e){return this.options.isSelectableItem(e)},isSelectable:function(){return this.options.mode==="single"||this.options.mode==="multiple"},isItemDataSelected:function(e){return this._selectionStrategy.isItemDataSelected(e,{checkPending:!0})},isItemSelected:function(e,t){return this._selectionStrategy.isItemKeySelected(e,t)},_resetItemSelectionWhenShiftKeyPressed:function(){delete this._shiftFocusedItemIndex},_resetFocusedItemIndex:function(){this._focusedItemIndex=-1},changeItemSelectionWhenShiftKeyInVirtualPaging:function(e){var t=this.options.getLoadOptions(e,this._focusedItemIndex,this._shiftFocusedItemIndex),i=new pe,r=t.skip;return this.options.load(t).done(n=>{this.changeItemSelectionWhenShiftKeyPressed(e,n,r),i.resolve()}),i.promise()},changeItemSelectionWhenShiftKeyPressed:function(e,t,i){var r=!1,n,a=Z(i),s=a?this._focusedItemIndex-i:this._focusedItemIndex,o=this.options.keyOf,l=t[s],u=this.options.getItemData(l),d=o(u),c=l&&this.isItemDataSelected(u);Z(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex);var h,f,p,g;if(this._shiftFocusedItemIndex!==this._focusedItemIndex)for(n=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,p=a?this._focusedItemIndex-i:this._focusedItemIndex,g=a?this._shiftFocusedItemIndex-i:this._shiftFocusedItemIndex,s=p;s!==g;s+=n)(a||this.isDataItem(t[s]))&&(f=o(this.options.getItemData(t[s])),this._removeSelectedItem(f),r=!0);if(e!==this._shiftFocusedItemIndex)for(n=e<this._shiftFocusedItemIndex?1:-1,p=a?e-i:e,g=a?this._shiftFocusedItemIndex-i:this._shiftFocusedItemIndex,s=p;s!==g;s+=n)(a||this.isDataItem(t[s]))&&(h=this.options.getItemData(t[s]),f=o(h),this._addSelectedItem(h,f),r=!0);return(a||this.isDataItem(l))&&!c&&(this._addSelectedItem(u,d),r=!0),r},clearSelectedItems:function(){this._setSelectedItems([],[])},selectAll:function(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)},deselectAll:function(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)},_onePageSelectAll:function(e){for(var t=this._selectionStrategy.getSelectableItems(this.options.plainItems()),i=0;i<t.length;i++){var r=t[i];if(this.isDataItem(r)){var n=this.options.getItemData(r),a=this.options.keyOf(n),s=this.isItemSelected(a);!s&&!e&&this._addSelectedItem(n,a),s&&e&&this._removeSelectedItem(a)}}return this.onSelectionChanged(),new pe().resolve()},getSelectAllState:function(e){return this._selectionStrategy.getSelectAllState(e)}});var rm="dxItemDeleting",jh=-1,Zr=function(e){return e!==jh},Js=nO.inherit({_setOptionsByReference:function(){this.callBase(),re(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions:function(){return re(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectionByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:jh,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},ctor:function(e,t){this._userOptions=t||{},this.callBase(e,t)},_init:function(){this._initEditStrategy(),this.callBase(),this._initKeyGetter(),this._initSelectionModule()},_initKeyGetter:function(){this._keyGetter=jt(this.option("keyExpr"))},_getKeysByItems:function(e){return this._editStrategy.getKeysByItems(e)},_getItemsByKeys:function(e,t){return this._editStrategy.getItemsByKeys(e,t)},_getKeyByIndex:function(e){return this._editStrategy.getKeyByIndex(e)},_getIndexByKey:function(e){return this._editStrategy.getIndexByKey(e)},_getIndexByItemData:function(e){return this._editStrategy.getIndexByItemData(e)},_isKeySpecified:function(){return!!(this._dataSource&&this._dataSource.key())},_getCombinedFilter:function(){return this._dataSource&&this._dataSource.filter()},key:function(){return this.option("keyExpr")?this.option("keyExpr"):this._dataSource&&this._dataSource.key()},keyOf:function(e){var t=e,i=this._dataSource&&this._dataSource.store();return this.option("keyExpr")?t=this._keyGetter(e):i&&(t=i.keyOf(e)),t},_nullValueSelectionSupported:function(){return!1},_initSelectionModule:function(){var e=this,t=e._editStrategy.itemsGetter;this._selection=new sO({allowNullValue:this._nullValueSelectionSupported(),mode:this.option("selectionMode"),maxFilterLengthInRequest:this.option("maxFilterLengthInRequest"),equalByReference:!this._isKeySpecified(),onSelectionChanged:function(i){(i.addedItemKeys.length||i.removedItemKeys.length)&&(e.option("selectedItems",e._getItemsByKeys(i.selectedItemKeys,i.selectedItems)),e._updateSelectedItems(i))},filter:e._getCombinedFilter.bind(e),totalCount:function(){var i=e.option("items"),r=e._dataSource;return r&&r.totalCount()>=0?r.totalCount():e._getItemsCount(i)},key:e.key.bind(e),keyOf:e.keyOf.bind(e),load:function(i){if(e._dataSource){var r=e._dataSource.loadOptions();i.customQueryParams=r.customQueryParams,i.userData=e._dataSource._userData}var n=e._dataSource&&e._dataSource.store();return n?n.load(i).done(function(a){if(!e._disposed){var s=_2(a).data;e._dataSource._applyMapFunction(s)}}):new pe().resolve(this.plainItems())},dataFields:function(){return e._dataSource&&e._dataSource.select()},plainItems:t.bind(e._editStrategy)})},_getItemsCount:function(e){return e.reduce((t,i)=>t+(i.items?this._getItemsCount(i.items):1),0)},_initEditStrategy:function(){var e=E0;this._editStrategy=new e(this)},_getSelectedItemIndices:function(e){var t=this,i=[];return e=e||this._selection.getSelectedItemKeys(),t._editStrategy.beginCache(),le(e,function(r,n){var a=t._getIndexByKey(n);Zr(a)&&i.push(a)}),t._editStrategy.endCache(),i},_initMarkup:function(){this._rendering=!0,(!this._dataSource||!this._dataSource.isLoading())&&this._syncSelectionOptions().done(()=>this._normalizeSelectedItems()),this.callBase()},_render:function(){this.callBase(),this._rendering=!1},_fireContentReadyAction:function(){this._rendering=!1,this._rendered=!0,this.callBase.apply(this,arguments)},_syncSelectionOptions:function(e){e=e||this._chooseSelectOption();var t,i,r,n;switch(e){case"selectedIndex":t=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),Z(t)?(this._setOptionWithoutOptionChange("selectedItems",[t]),this._setOptionWithoutOptionChange("selectedItem",t),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([t]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break;case"selectedItems":if(n=this.option("selectedItems")||[],i=n.length?this._editStrategy.getIndexByItemData(n[0]):jh,this.option("selectionRequired")&&!Zr(i))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",n[0]),this._setOptionWithoutOptionChange("selectedIndex",i),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(n));break;case"selectedItem":if(t=this.option("selectedItem"),i=this._editStrategy.getIndexByItemData(t),this.option("selectionRequired")&&!Zr(i))return this._syncSelectionOptions("selectedIndex");Z(t)?(this._setOptionWithoutOptionChange("selectedItems",[t]),this._setOptionWithoutOptionChange("selectedIndex",i),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([t]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",jh));break;case"selectedItemKeys":if(r=this.option("selectedItemKeys"),this.option("selectionRequired")){var a=this._getIndexByKey(r[0]);if(!Zr(a))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(r)}return new pe().resolve().promise()},_chooseSelectOption:function(){var e="selectedIndex",t=(function(i){var r=this.option(i),n=Z(r)&&r.length;return n||i in this._userOptions}).bind(this);return t("selectedItems")?e="selectedItems":t("selectedItem")?e="selectedItem":t("selectedItemKeys")&&(e="selectedItemKeys"),e},_compareKeys:function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<t.length;i++)if(e[i]!==t[i])return!1;return!0},_normalizeSelectedItems:function(){if(this.option("selectionMode")==="none")this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if(this.option("selectionMode")==="single"){var e=this.option("selectedItems");if(e.length>1||!e.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length){var t=this._selection.getSelectedItems(),i=e[0]===void 0?t[0]:e[0];return i===void 0&&(i=this._editStrategy.itemsGetter()[0]),this.option("grouped")&&i&&i.items&&(i.items=[i.items[0]]),this._selection.setSelection(this._getKeysByItems([i])),this._setOptionWithoutOptionChange("selectedItems",[i]),this._syncSelectionOptions("selectedItems")}else this._selection.setSelection(this._getKeysByItems(e))}else{var r=this._getKeysByItems(this.option("selectedItems")),n=this._selection.getSelectedItemKeys();this._compareKeys(n,r)||this._selection.setSelection(r)}return new pe().resolve().promise()},_itemClickHandler:function(e){var t=new pe().resolve(),i=this.callBase;this._createAction((function(r){var n;t=(n=this._itemSelectHandler(r.event))!==null&&n!==void 0?n:t}).bind(this),{validatingTargetName:"itemElement"})({itemElement:W(e.currentTarget),event:e}),t.always(()=>{i.apply(this,arguments)})},_itemSelectHandler:function(e){var t,i;if(this.option("selectionByClick")){var r=e.currentTarget;return this.isItemSelected(r)?this.unselectItem(e.currentTarget):i=this.selectItem(e.currentTarget),(t=i)===null||t===void 0?void 0:t.promise()}},_selectedItemElement:function(e){return this._itemElements().eq(e)},_postprocessRenderItem:function(e){if(this.option("selectionMode")!=="none"){var t=W(e.itemElement),i=this._editStrategy.getNormalizedIndex(t),r=this._isItemSelected(i);this._processSelectableItem(t,r)}},_processSelectableItem:function(e,t){e.toggleClass(this._selectedItemClass(),t),this._setAriaSelected(e,String(t))},_updateSelectedItems:function(e){var t=this,i=e.addedItemKeys,r=e.removedItemKeys;if(t._rendered&&(i.length||r.length)){var n=t._selectionChangePromise;if(!t._rendering){var a=[],s,o=[];t._editStrategy.beginCache();for(var l=0;l<i.length;l++)s=t._getIndexByKey(i[l]),a.push(s),t._addSelection(s);for(var u=0;u<r.length;u++)s=t._getIndexByKey(r[u]),o.push(s),t._removeSelection(s);t._editStrategy.endCache(),t._updateSelection(a,o)}Pe(n).done(function(){t._fireSelectionChangeEvent(e.addedItems,e.removedItems)})}},_fireSelectionChangeEvent:function(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:e,removedItems:t})},_updateSelection:me,_setAriaSelected:function(e,t){this.setAria("selected",t,e)},_removeSelection:function(e){var t=this._editStrategy.getItemElement(e);Zr(e)&&(this._processSelectableItem(t,!1),te.triggerHandler(t,"stateChanged",!1))},_addSelection:function(e){var t=this._editStrategy.getItemElement(e);Zr(e)&&(this._processSelectableItem(t,!0),te.triggerHandler(t,"stateChanged",!0))},_isItemSelected:function(e){var t=this._getKeyByIndex(e);return this._selection.isItemSelected(t,{checkPending:!0})},_optionChanged:function(e){switch(e.name){case"selectionMode":this._invalidate();break;case"dataSource":(!e.value||Array.isArray(e.value)&&!e.value.length)&&this.option("selectedItemKeys",[]),this.callBase(e);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(e.name).done(()=>this._normalizeSelectedItems());break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"selectionByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":break;default:this.callBase(e)}},_clearSelectedItems:function(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_waitDeletingPrepare:function(e){if(e.data(rm))return new pe().resolve().promise();e.data(rm,!0);var t=new pe,i={cancel:!1},r=this._itemEventHandler(e,"onItemDeleting",i,{excludeValidators:["disabled","readOnly"]});return Pe(r).always((function(n){var a=!r,s=!a&&r.state()==="resolved",o=!!arguments.length,l=a||s&&!o||s&&n;Pe(Hi(i.cancel)).always(function(){e.data(rm,!1)}).done(function(u){l&&!u?t.resolve():t.reject()}).fail(t.reject)}).bind(this)),t.promise()},_deleteItemFromDS:function(e){if(!this._dataSource)return new pe().resolve().promise();var t=new pe,i=this.option("disabled"),r=this._dataSource.store();if(this.option("disabled",!0),!r.remove)throw gt.Error("E1011");return r.remove(r.keyOf(this._getItemData(e))).done(function(n){n!==void 0?t.resolve():t.reject()}).fail(function(){t.reject()}),t.always((function(){this.option("disabled",i)}).bind(this)),t},_tryRefreshLastPage:function(){var e=new pe;return this._isLastPage()||this.option("grouped")?e.resolve():this._refreshLastPage().done(function(){e.resolve()}),e.promise()},_refreshLastPage:function(){return this._expectLastItemLoading(),this._dataSource.load()},_updateSelectionAfterDelete:function(e){var t=this._getKeyByIndex(e);this._selection.deselect([t])},_updateIndicesAfterIndex:function(e){for(var t=this._itemElements(),i=e+1;i<t.length;i++)W(t[i]).data(this._itemIndexKey(),i-1)},_simulateOptionChange:function(e){var t=this.option(e);t instanceof In||this._optionChangedAction({name:e,fullName:e,value:t})},isItemSelected:function(e){return this._isItemSelected(this._editStrategy.getNormalizedIndex(e))},selectItem:function(e){if(this.option("selectionMode")!=="none"){var t=this._editStrategy.getNormalizedIndex(e);if(Zr(t)){var i=this._getKeyByIndex(t);if(!this._selection.isItemSelected(i)){if(this.option("selectionMode")==="single")return this._selection.setSelection([i]);var r=this.option("selectedItemKeys")||[];return this._selection.setSelection([...r,i],[i])}}}},unselectItem:function(e){var t=this._editStrategy.getNormalizedIndex(e);if(Zr(t)){var i=this._selection.getSelectedItemKeys();if(!(this.option("selectionRequired")&&i.length<=1)){var r=this._getKeyByIndex(t);this._selection.isItemSelected(r,{checkPending:!0})&&this._selection.deselect([r])}}},_deleteItemElementByIndex:function(e){this._updateSelectionAfterDelete(e),this._updateIndicesAfterIndex(e),this._editStrategy.deleteItemAtIndex(e)},_afterItemElementDeleted:function(e,t){var i=this._dataSource?"dataSource":"items";this._simulateOptionChange(i),this._itemEventHandler(e,"onItemDeleted",t,{beforeExecute:function(){e.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()},deleteItem:function(e){var t=this,i=new pe,r=this._editStrategy.getItemElement(e),n=this._editStrategy.getNormalizedIndex(e),a=this._itemResponseWaitClass();return Zr(n)?this._waitDeletingPrepare(r).done(function(){r.addClass(a);var s=t._extendActionArgs(r);t._deleteItemFromDS(r).done(function(){t._deleteItemElementByIndex(n),t._afterItemElementDeleted(r,s),t._tryRefreshLastPage().done(function(){i.resolveWith(t)})}).fail(function(){r.removeClass(a),i.rejectWith(t)})}).fail(function(){i.rejectWith(t)}):i.rejectWith(t),i.promise()},reorderItem:function(e,t){var i=new pe,r=this,n=this._editStrategy,a=n.getItemElement(e),s=n.getItemElement(t),o=n.getNormalizedIndex(e),l=n.getNormalizedIndex(t),u=this._dataSource?"dataSource":"items",d=Zr(o)&&Zr(l)&&o!==l;return d?i.resolveWith(this):i.rejectWith(this),i.promise().done(function(){s[n.itemPlacementFunc(o,l)](a),n.moveItemAtIndexToIndex(o,l),this._updateIndicesAfterIndex(o),r.option("selectedItems",r._getItemsByKeys(r._selection.getSelectedItemKeys(),r._selection.getSelectedItems())),u==="items"&&r._simulateOptionChange(u),r._itemEventHandler(a,"onItemReordered",{fromIndex:n.getIndex(o),toIndex:n.getIndex(l)},{excludeValidators:["disabled","readOnly"]})})}}),vW="dx-state-disabled",oO=Js.inherit({_getDefaultOptions:function(){return re(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ne.real().deviceType==="desktop"&&!Ne.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataSource:function(){this.callBase(),this._dataSource&&this._dataSource.paginate(!1)},_initDataAdapter:function(){var e=this._createDataAdapterAccessors();this._dataAdapter=new jz(re({dataAccessors:{getters:e.getters,setters:e.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:me,_initDynamicTemplates:function(){var e=this;this._templateManager.addDefaultTemplates({item:new Zs((function(t,i){t.html(i.html).append(this._getIconContainer(i)).append(this._getTextContainer(i)).append(this._getPopoutContainer(i)),e._addContentClasses(i,t.parent())}).bind(this),["text","html","items","icon"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})})},_getIconContainer:function(e){return e.icon?Ls(e.icon):void 0},_getTextContainer:function(e){return W("<span>").text(e.text)},_getPopoutContainer:me,_addContentClasses:me,_initAccessors:function(){var e=this;le(this._getAccessors(),function(t,i){e._compileAccessor(i)}),this._compileDisplayGetter()},_getAccessors:function(){return["key","selected","items","disabled","parentId","expanded"]},_getChildNodes:function(e){var t=this,i=[];return le(e.internalFields.childrenKeys,function(r,n){var a=t._dataAdapter.getNodeByKey(n);i.push(a)}),i},_hasChildren:function(e){return e&&e.internalFields.childrenKeys.length},_compileAccessor:function(e){var t="_"+e+"Getter",i="_"+e+"Setter",r=this.option(e+"Expr");if(r){if(Re(r)){this[i]=function(n,a){n[r()]=a},this[t]=function(n){return n[r()]};return}}else{this[t]=me,this[i]=me;return}this[t]=jt(r),this[i]=l_(r)},_createDataAdapterAccessors:function(){var e=this,t={getters:{},setters:{}};return le(this._getAccessors(),function(i,r){var n="_"+r+"Getter",a="_"+r+"Setter",s=r==="parentId"?"parentKey":r;t.getters[s]=e[n],t.setters[s]=e[a]}),t.getters.display=this._displayGetter?this._displayGetter:i=>i.text,t},_initMarkup:function(){this.callBase(),this._addWidgetClass()},_addWidgetClass:function(){this._focusTarget().addClass(this._widgetClass())},_widgetClass:me,_renderItemFrame:function(e,t){var i=this.callBase.apply(this,arguments);return i.toggleClass(vW,!!this._disabledGetter(t)),i},_optionChanged:function(e){switch(e.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(e);break;default:this.callBase(e)}}});class _W extends E0{_getPlainItems(){return Si(this._collectionWidget.option("items"),function t(i){return i.items?[i].concat(Si(i.items,t)):i})}_stringifyItem(t){return JSON.stringify(t,(i,r)=>i==="template"?this._getTemplateString(r):r)}_getTemplateString(t){var i;return typeof t=="object"?i=W(t).text():i=t.toString(),i}}var md="dx-menu",bW=md+"-no-icons",yW="dx-menu-base",zr=md+"-item",CW=zr+"-content",nm=zr+"-selected",Uw=zr+"-wrapper",wW=md+"-items-container",xW=zr+"-expanded",SW=md+"-separator",EW=md+"-last-group-item",IW=zr+"-has-text",TW=zr+"-has-icon",AW=zr+"-has-submenu",lO=zr+"-popout",OW=lO+"-container",DW=zr+"-text",RW="single",kW={show:50,hide:300};class I0 extends oO{_getDefaultOptions(){return re(super._getDefaultOptions(),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}_itemDataKey(){return"dxMenuItemDataKey"}_itemClass(){return zr}_setAriaSelected(){}_selectedItemClass(){return nm}_widgetClass(){return yW}_focusTarget(){return this._itemContainer()}_clean(){this.option("focusedElement",null),super._clean()}_supportedKeys(){return re(super._supportedKeys(),{space:()=>{var t=W(this.option("focusedElement"));!t.length||!this._isSelectionEnabled()||this.selectItem(t[0])},pageUp:me,pageDown:me})}_isSelectionEnabled(){return this.option("selectionMode")===RW}_init(){this._activeStateUnit=".".concat(zr),super._init(),this._renderSelectedItem(),this._initActions()}_getTextContainer(t){var i=t.text,r=W("<span>").addClass(DW),n=ft(t)?i:String(t);return i&&r.text(n)}_getPopoutContainer(t){var i=t.items,r;if(i&&i.length){var n=W("<div>").addClass(lO);r=W("<span>").addClass(OW).append(n)}return r}_getDataAdapterOptions(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}_selectByItem(t){if(t){var i=this._dataAdapter.getNodeByItem(t);this._dataAdapter.toggleSelection(i.internalFields.key,!0)}}_renderSelectedItem(){var t=this._dataAdapter.getSelectedNodesKeys(),i=t.length&&t[0],r=this.option("selectedItem");if(!i){this._selectByItem(r);return}var n=this._dataAdapter.getNodeByKey(i);if(n.selectable!==!1){if(!r){this.option("selectedItem",n.internalFields.item);return}r!==n.internalFields.item&&(this._dataAdapter.toggleSelection(i,!1),this._selectByItem(r))}}_initActions(){}_initMarkup(){super._initMarkup(),this.option("useInkRipple")&&this._renderInkRipple()}_renderInkRipple(){this._inkRipple=d0()}_toggleActiveState(t,i,r){if(super._toggleActiveState.apply(this,arguments),!!this._inkRipple){var n={element:t,event:r};i?this._inkRipple.showWave(n):this._inkRipple.hideWave(n)}}_getShowSubmenuMode(){var t=this.option("showSubmenuMode");return t=Ge(t)?t.name:t,this._isDesktopDevice()?t:"onClick"}_initSelectedItems(){}_isDesktopDevice(){return Ne.real().deviceType==="desktop"}_initEditStrategy(){var t=_W;this._editStrategy=new t(this)}_addCustomCssClass(t){t.addClass(this.option("cssClass"))}_itemWrapperSelector(){return".".concat(Uw)}_hoverStartHandler(t){var i=this._getItemElementByEventArgs(t);!i||this._isItemDisabled(i)||(t.stopPropagation(),this._getShowSubmenuMode()==="onHover"&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,i),this._getSubmenuDelay("show"))))}_getAvailableItems(t){return super._getAvailableItems(t).filter(function(){return W(this).css("visibility")!=="hidden"})}_isItemDisabled(t){return this._disabledGetter(t.data(this._itemDataKey()))}_showSubmenu(t){this._addExpandedClass(t)}_addExpandedClass(t){W(t).addClass(xW)}_getSubmenuDelay(t){var{delay:i}=this.option("showSubmenuMode");return Z(i)?Ge(i)?i[t]:i:kW[t]}_getItemElementByEventArgs(t){var i=W(t.target);if(i.hasClass(this._itemClass())||i.get(0)===t.currentTarget)return i;for(;!i.hasClass(this._itemClass());)if(i=i.parent(),i.hasClass("dx-submenu"))return null;return i}_hoverEndHandler(){clearTimeout(this._showSubmenusTimeout)}_hasSubmenu(t){return t&&t.internalFields.childrenKeys.length}_renderContentImpl(){this._renderItems(this._dataAdapter.getRootNodes())}_renderItems(t,i){if(t.length){this.hasIcons=!1;var r=this._renderContainer(this.$element(),i),n=-1,a=-1;le(t,(s,o)=>{var l=o.visible!==!1;l&&n<0&&(n=s);var u=n<s&&(o.beginGroup||s===a);u&&(a=l?s:s+1),s===a&&n<s&&this._renderSeparator(r),this._renderItem(s,o,r)}),this.hasIcons||r.addClass(bW)}}_renderContainer(t){var i=W("<ul>");return this.setAria("role","none",i),i.appendTo(t).addClass(wW)}_createDOMElement(t){var i=W("<li>");return this.setAria("role","none",i),i.appendTo(t).addClass(Uw)}_renderItem(t,i,r,n){var a=this.option("items"),s=n||this._createDOMElement(r);a[t+1]&&a[t+1].beginGroup&&s.addClass(EW);var o=super._renderItem(t,i.internalFields.item,s);i.internalFields.item===this.option("selectedItem")&&o.addClass(nm),o.attr("tabIndex",-1),this._hasSubmenu(i)&&this.setAria("haspopup","true",o)}_renderItemFrame(t,i,r){var n=r.children(".".concat(zr));return n.length?n:super._renderItemFrame.apply(this,arguments)}_refreshItem(t,i){var r=this._dataAdapter.getNodeByItem(i),n=t.data(this._itemIndexKey()),a=t.closest("ul"),s=t.closest("li");this._renderItem(n,r,a,s)}_addContentClasses(t,i){var r=t.text?!!t.text.length:!1,n=!!t.icon,a=t.items?!!t.items.length:!1;i.toggleClass(IW,r),i.toggleClass(TW,n),this.hasIcons||(this.hasIcons=n),i.toggleClass(AW,a)}_getItemContent(t){var i=super._getItemContent(t);return i.length||(i=t.children(".".concat(CW))),i}_postprocessRenderItem(t){var i=W(t.itemElement),r=this._dataAdapter.getSelectedNodesKeys();if(!r.length||!this._selectedGetter(t.itemData)||!this._isItemSelectable(t.itemData)){this._setAriaSelected(i,"false");return}var n=this._dataAdapter.getNodeByItem(t.itemData);n.internalFields.key===r[0]?(i.addClass(this._selectedItemClass()),this._setAriaSelected(i,"true")):this._setAriaSelected(i,"false")}_isItemSelectable(t){return t.selectable!==!1}_renderSeparator(t){W("<li>").appendTo(t).addClass(SW)}_itemClickHandler(t){if(!t._skipHandling){var i=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(t,"onItemClick",{},{afterExecute:i.bind(this)}),t._skipHandling=!0}}_updateSubmenuVisibilityOnClick(t){this._updateSelectedItemOnClick(t),this._getShowSubmenuMode()==="onClick"&&this._addExpandedClass(t.args[0].itemElement)}_updateSelectedItemOnClick(t){var i=t.args?t.args[0]:t;if(this._isItemSelectionAllowed(i.itemData)){var r=this._dataAdapter.getSelectedNodesKeys(),n=r.length&&this._dataAdapter.getNodeByKey(r[0]);n&&this._toggleItemSelection(n,!1),!n||n.internalFields.item!==i.itemData?this.selectItem(i.itemData):(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null))}}_isItemSelectionAllowed(t){var i=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&i&&this._isItemSelectable(t)&&!this._itemsGetter(t)}_isContainerEmpty(){return this._itemContainer().is(":empty")}_syncSelectionOptions(){return hI()}_optionChanged(t){switch(t.name){case"showSubmenuMode":break;case"selectedItem":var i=this._dataAdapter.getNodeByItem(t.value),r=this._dataAdapter.getSelectedNodesKeys()[0];if(i&&i.internalFields.key!==r){if(i.selectable===!1)break;r&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(r),!1),this._toggleItemSelection(i,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:super._optionChanged(t)}}_toggleItemSelection(t,i){var r=this._getElementByItem(t.internalFields.item);r&&W(r).toggleClass(nm),this._dataAdapter.toggleSelection(t.internalFields.key,i)}_getElementByItem(t){var i;return le(this._itemElements(),(r,n)=>W(n).data(this._itemDataKey())!==t?!0:(i=n,!1)),i}_updateSelectedItems(t,i){(t||i)&&this._fireSelectionChangeEvent(i,t)}_fireSelectionChangeEvent(t,i){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[t],removedItems:[i]})}selectItem(t){var i=t.nodeType?this._getItemData(t):t,r=this._dataAdapter.getSelectedNodesKeys()[0],n=this.option("selectedItem"),a=this._dataAdapter.getNodeByItem(i);a.internalFields.key!==r&&(r&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(r),!1),this._toggleItemSelection(a,!0),this._updateSelectedItems(n,i),this._setOptionWithoutOptionChange("selectedItem",i))}unselectItem(t){var i=t.nodeType?this._getItemData(t):t,r=this._dataAdapter.getNodeByItem(i),n=this.option("selectedItem");r.internalFields.selected&&(this._toggleItemSelection(r,!1),this._updateSelectedItems(n,null),this._setOptionWithoutOptionChange("selectedItem",null))}}I0.ItemClass=Ys;var uO="dx-menu",hu=uO+"-item",bo=hu+"-expanded",MW="dx-menu-phone-overlay",Yd=uO+"-items-container",Gw=hu+"-wrapper",gr="dx-submenu",BW="dx-context-menu",PW="dx-has-context-menu",FW="dx-state-disabled",LW="dx-state-focused",Kw="dx-state-hover",NW="dx-overlay-content",dO="up",hO="down",VW="left",$W="right",cO="first",fO="last",qw=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],HW=[dO,hO,cO,fO],Xw="dxcontextmenu",zW=at();class T0 extends I0{getShowEvent(t){var i=null;return Ge(t)?t.name!==null&&(i=t.name||Xw):i=t,i}getShowDelay(t){return Ge(t)&&t.delay}_getDefaultOptions(){return re(super._getDefaultOptions(),{showEvent:Xw,hideOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>!rt(),options:{animation:null}}])}_setDeprecatedOptions(){super._setDeprecatedOptions(),re(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.2",alias:"hideOnOutsideClick"}})}_initActions(){this._actions={},le(qw,(t,i)=>{this._actions[i]=this._createActionByOption(i)||me})}_setOptionsByReference(){super._setOptionsByReference(),re(this._optionsByReference,{animation:!0,selectedItem:!0})}_focusInHandler(){}_itemContainer(){return this._overlay?this._overlay.$content():W()}_eventBindingTarget(){return this._itemContainer()}itemsContainer(){return this._overlay?this._overlay.$content():void 0}_supportedKeys(){return re(super._supportedKeys(),{space:()=>{var t=W(this.option("focusedElement"));this.hide(),!(!t.length||!this._isSelectionEnabled())&&this.selectItem(t[0])},escape:this.hide})}_getActiveItem(){var t=this._getAvailableItems(),i=t.filter(".".concat(LW)),r=t.filter(".".concat(Kw)),n=r.closest(".".concat(Yd));return n.find(".".concat(hu)).index(i)>=0?i:r.length?r:super._getActiveItem()}_moveFocus(t){var i=this._getItemsByLocation(t),r=this._getActiveItem(!0),n=this.itemsContainer().find(".".concat(Kw)),a=W(this.option("focusedElement")),s=!!(a.length||n.length),o;switch(t){case dO:o=s?this._prevItem(i):r,this._setFocusedElement(o),r.is(i.first())&&this._actions.onLeftFirstItem(r);break;case hO:o=s?this._nextItem(i):r,this._setFocusedElement(o),r.is(i.last())&&this._actions.onLeftLastItem(r);break;case $W:o=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(i,t),this._setFocusedElement(o);break;case VW:o=this.option("rtlEnabled")?this._expandSubmenuHandler(i,t):this._hideSubmenuHandler(),this._setFocusedElement(o);break;case cO:o=i.first(),this._setFocusedElement(o);break;case fO:o=i.last(),this._setFocusedElement(o);break;default:return super._moveFocus(t)}}_setFocusedElement(t){t&&t.length!==0&&this.option("focusedElement",qe(t))}_getItemsByLocation(t){var i=this._getActiveItem(!0),r;return HW.includes(t)&&(r=i.closest(".".concat(Yd)).children().children()),r=this._getAvailableItems(r),r}_getAriaTarget(){return this.$element()}_refreshActiveDescendant(){if(Z(this._overlay)){var t=this._overlay.$content();super._refreshActiveDescendant(t)}}_hideSubmenuHandler(){var t=this._getActiveItem(!0),i=t.parents(".".concat(bo)).first();return i.length?(this._hideSubmenusOnSameLevel(i),this._hideSubmenu(t.closest(".".concat(gr))),i):(this._actions.onCloseRootSubmenu(t),t)}_expandSubmenuHandler(t,i){var r=this._getActiveItem(!0),n=this._getItemData(r),a=this._dataAdapter.getNodeByItem(n),s=this._hasSubmenu(a),o=r.children(".".concat(gr));if(s&&!r.hasClass(FW))return(!o.length||o.css("visibility")==="hidden")&&this._showSubmenu(r),this._nextItem(this._getItemsByLocation(i));this._actions.onExpandLastSubmenu(r)}_clean(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),super._clean()}_initMarkup(){this.$element().addClass(PW),super._initMarkup()}_render(){super._render(),this._renderVisibility(this.option("visible")),this._addWidgetClass()}_renderContentImpl(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}_attachKeyboardEvents(){!this._keyboardListenerId&&this._focusTarget().length&&super._attachKeyboardEvents()}_renderContextMenuOverlay(){if(!this._overlay){var t=this._getOverlayOptions();this._overlay=this._createComponent(W("<div>").appendTo(this._$element),on,t);var i=this._overlay.$content();i.addClass(BW),this._addCustomCssClass(i),this._addPlatformDependentClass(i),this._attachContextMenuEvent()}}preventShowingDefaultContextMenuAboveOverlay(){var t=this._itemContainer(),i=xe(rO,this.NAME);te.off(t,i,".".concat(gr)),te.on(t,i,".".concat(gr),(r=>{r.stopPropagation(),r.preventDefault(),te.off(t,i,".".concat(gr))}).bind(this))}_itemContextMenuHandler(t){super._itemContextMenuHandler(t),t.stopPropagation()}_addPlatformDependentClass(t){Ne.current().phone&&t.addClass(MW)}_detachShowContextMenuEvents(t){var i=this.getShowEvent(this.option("showEvent"));if(i){var r=xe(i,this.NAME);this._showContextMenuEventHandler?te.off(we.getDocument(),r,t,this._showContextMenuEventHandler):te.off(W(t),r)}}_attachShowContextMenuEvents(){var t=this._getTarget(),i=this.getShowEvent(this.option("showEvent"));if(i){var r=xe(i,this.NAME),n=this._createAction(s=>{var o=this.getShowDelay(this.option("showEvent"));o?setTimeout(()=>this._show(s.event),o):this._show(s.event)},{validatingTargetName:"target"}),a=s=>n({event:s,target:W(s.currentTarget)});n=this._createAction(n),Ar(t)||t.nodeType||wi(t)?(this._showContextMenuEventHandler=void 0,te.on(t,r,a)):(this._showContextMenuEventHandler=a,te.on(we.getDocument(),r,t,this._showContextMenuEventHandler))}}_hoverEndHandler(t){super._hoverEndHandler(t),t.stopPropagation()}_renderDimensions(){}_renderContainer(t,i){var r=i||this._itemContainer();t=W("<div>"),t.appendTo(r).addClass(gr).css("visibility",i?"hidden":"visible"),t.parent().hasClass(NW)||this._addCustomCssClass(t);var n=super._renderContainer(t);return i?n:this.option("width")?n.css("minWidth",this.option("width")):this.option("height")?n.css("minHeight",this.option("height")):n}_renderSubmenuItems(t,i){this._renderItems(this._getChildNodes(t),i),this._actions.onSubmenuCreated({itemElement:qe(i),itemData:t.internalFields.item,submenuElement:qe(i.children(".".concat(gr)))})}_getOverlayOptions(){var t=this.option("position"),i={focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,hideOnOutsideClick:r=>this._hideOnOutsideClickHandler(r),propagateOutsideClick:!0,hideOnParentScroll:!0,deferRendering:!1,position:{at:t.at,my:t.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this),visualContainer:zW};return i}_overlayShownActionHandler(t){this._actions.onShown(t)}_overlayHidingActionHandler(t){this._actions.onHiding(t),t.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}_overlayHiddenActionHandler(t){this._actions.onHidden(t)}_shouldHideOnOutsideClick(t){var{closeOnOutsideClick:i,hideOnOutsideClick:r}=this.option();return Re(r)?r(t):Re(i)?i(t):r||i}_hideOnOutsideClickHandler(t){if(!this._shouldHideOnOutsideClick(t))return!1;if(we.isDocument(t.target))return!0;var i=this._getActiveItemsContainer(t.target),r=this._getItemsContainers(),n=this._searchActiveItem(t.target),a=this.$element().parents(".".concat(hu)),s=n[0]===a[0]&&n.length&&a.length,o=this._isIncludeOverlay(i,r)&&n.length;return o||s?(this._getShowSubmenuMode()==="onClick"&&this._hideAllShownChildSubmenus(n),!1):!0}_getActiveItemsContainer(t){return W(t).closest(".".concat(Yd))}_getItemsContainers(){return this._overlay.$content().find(".".concat(Yd))}_searchActiveItem(t){return W(t).closest(".".concat(hu)).eq(0)}_isIncludeOverlay(t,i){var r=!1;return le(i,(n,a)=>{t.is(a)&&!r&&(r=!0)}),r}_hideAllShownChildSubmenus(t){var i=t.find(".".concat(gr)),r=re([],this._shownSubmenus);i.length>0&&le(r,(n,a)=>{var s=this._searchActiveItem(a.context).parent();s.parent().is(t.parent().parent())&&!s.is(t.parent())&&this._hideSubmenu(a)})}_showSubmenu(t){var i=this._dataAdapter.getNodeByItem(this._getItemData(t));if(this._hideSubmenusOnSameLevel(t),!!this._hasSubmenu(i)){var r=t.children(".".concat(gr)),n=r.length;super._showSubmenu(t),n||this._renderSubmenuItems(i,t),this._isSubmenuVisible(r)||this._drawSubmenu(t)}}_hideSubmenusOnSameLevel(t){var i=t.parent(".".concat(Gw)).siblings().find(".".concat(bo));i.length&&(i.removeClass(bo),this._hideSubmenu(i.find(".".concat(gr))))}_hideSubmenuGroup(t){this._isSubmenuVisible(t)&&this._hideSubmenuCore(t)}_isSubmenuVisible(t){return t.css("visibility")==="visible"}_drawSubmenu(t){var i=this.option("animation")?this.option("animation").show:{},r=t.children(".".concat(gr)),n=this._getSubmenuPosition(t);this._overlay&&this._overlay.option("visible")&&(Z(this._shownSubmenus)||(this._shownSubmenus=[]),this._shownSubmenus.includes(r)||this._shownSubmenus.push(r),i&&fi.stop(r),zi.setup(r,n),i&&(ft(i.to)&&(i.to.position=n),this._animate(r,i)),r.css("visibility","visible"))}_animate(t,i){fi.animate(t,i)}_getSubmenuPosition(t){var i=this.option("submenuDirection").toLowerCase(),r=t.parent(".".concat(Gw)),n={collision:"flip",of:r,offset:{h:0,v:-1}};switch(i){case"left":n.at="left top",n.my="right top";break;case"right":n.at="right top",n.my="left top";break;default:this.option("rtlEnabled")?(n.at="left top",n.my="right top"):(n.at="right top",n.my="left top")}return n}_updateSubmenuVisibilityOnClick(t){if(t.args.length){var i=t.args[0].itemData,r=this._dataAdapter.getNodeByItem(i);if(r){var n=W(t.args[0].itemElement),a=n.find(".".concat(gr)),s=this._hasSubmenu(r)&&!a.length;if(s&&(this._renderSubmenuItems(r,n),a=n.find(".".concat(gr))),!(n.context===a.context&&a.css("visibility")==="visible")){this._updateSelectedItemOnClick(t);var o=i&&i.closeMenuOnClick===!1;if(!(!i||i.disabled||o))if(a.length===0){var l=W(n.parents(".".concat(gr))[0]);this._hideSubmenu(l),!t.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(a)&&this._hideSubmenu(a),this._showSubmenu(n)}}}}_hideSubmenu(t){var i=re([],this._shownSubmenus);le(i,(r,n)=>{(t.is(n)||Ba(t[0],n[0]))&&(n.parent().removeClass(bo),this._hideSubmenuCore(n))})}_hideSubmenuCore(t){var i=this._shownSubmenus.indexOf(t),r=this.option("animation")?this.option("animation").hide:null;i>=0&&this._shownSubmenus.splice(i,1),this._stopAnimate(t),r&&this._animate(t,r),t.css("visibility","hidden")}_stopAnimate(t){fi.stop(t,!0)}_hideAllShownSubmenus(){var t=re([],this._shownSubmenus),i=this._overlay.$content().find(".".concat(bo));i.removeClass(bo),le(t,(r,n)=>{this._hideSubmenu(n)})}_visibilityChanged(t){t&&this._renderContentImpl()}_optionChanged(t){if(qw.includes(t.name)){this._initActions();return}switch(t.name){case"visible":this._renderVisibility(t.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":t.previousValue&&this._detachShowContextMenuEvents(t.previousValue),this._invalidate();break;case"closeOnOutsideClick":case"hideOnOutsideClick":break;default:super._optionChanged(t)}}_renderVisibility(t){return t?this._show():this._hide()}_toggleVisibility(){}_show(t){var i={jQEvent:t},r=new pe().reject().promise();if(this._actions.onShowing(i),i.cancel)return r;var n=this._positionContextMenu(t);if(n){var a;this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionWithoutOptionChange("visible",!0),this._overlay.option("position",n),r=this._overlay.show(),t&&t.stopPropagation(),this._setAriaAttributes(),(t==null||(a=t.originalEvent)===null||a===void 0?void 0:a.type)===za.name&&this.preventShowingDefaultContextMenuAboveOverlay()}return r}_setAriaAttributes(){this._overlayContentId="dx-".concat(new Ri),this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}_cleanAriaAttributes(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}_getTarget(){return this.option("target")||this.option("position").of||W(we.getDocument())}_getContextMenuPosition(){return re({},this.option("position"),{of:this._getTarget()})}_positionContextMenu(t){var i=this._getContextMenuPosition(),r=this._isInitialOptionValue("position"),n=this._createActionByOption("onPositioning",a);t&&t.preventDefault&&r&&(i.of=t);var a={position:i,event:t};return n(a),a.cancel?i=null:a.event&&(a.event.cancel=!0,t.preventDefault()),i}_refresh(){if(!rt())super._refresh();else if(this._overlay){var t=this._overlay.option("position");super._refresh(),this._overlay&&this._overlay.option("position",t)}else super._refresh()}_hide(){var t;return this._overlay&&(t=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),t||new pe().reject().promise()}toggle(t){var i=this.option("visible");return t=t===void 0?!i:t,this._renderVisibility(t)}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}}yt("dxContextMenu",T0);var WW="dx-context-menu",jW={columnHeadersView:"header",rowsView:"content",footerView:"footer",headerPanel:"headerPanel"},UW=["columnHeadersView","rowsView","footerView","headerPanel"],GW=ei.ViewController.inherit({init:function(){this.createAction("onContextMenuPreparing")},getContextMenuItems:function(e){if(!e)return!1;var t=this,i=W(e.target),r,n,a,s;return le(UW,function(){var o=t.getView(this);if(r=o&&o.element(),r&&(r.is(i)||r.find(i).length)){var l,u;a=i.closest(".dx-row > td, .dx-row > tr"),n=a.parent();var d=o.getRowIndex(n),c=a[0]&&a[0].cellIndex,h=n.data("options"),f={event:e,targetElement:qe(i),target:jW[this],rowIndex:d,row:o._getRows()[d],columnIndex:c,column:h==null||(l=h.cells)===null||l===void 0||(u=l[c])===null||u===void 0?void 0:u.column};if(f.items=o.getContextMenuItems&&o.getContextMenuItems(f),t.executeAction("onContextMenuPreparing",f),t._contextMenuPrepared(f),s=f.items,s)return!1}}),s},_contextMenuPrepared:me}),KW=ei.View.inherit({_renderCore:function(){var e=this,t=e.element().addClass(WW);this.setAria("role","presentation",t),this._createComponent(t,T0,{onPositioning:function(i){var r=i.event,n=i.component,a=e.getController("contextMenu").getContextMenuItems(r);a?(n.option("items",a),r.stopPropagation()):i.cancel=!0},onItemClick:function(i){i.itemData.onItemClick&&i.itemData.onItemClick(i)},cssClass:e.getWidgetContainerClass(),target:e.component.$element()})}}),qW={defaultOptions:function(){return{onContextMenuPreparing:null}},controllers:{contextMenu:GW},views:{contextMenuView:KW}};Le.registerModule("contextMenu",qW);var Sl="dx-error-row",Yw="dx-error-message",XW="dx-closebutton",YW="action",ZW=ei.ViewController.inherit({init:function(){this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView")},_createErrorRow:function(e,t){var i=this,r,n,a=this._renderErrorMessage(e);return t?(r=W("<tr>").addClass(Sl),n=W("<div>").addClass(XW).addClass(i.addWidgetPrefix(YW)),te.on(n,Pt,i.createAction(function(s){var o=s.event,l,u=W(o.currentTarget).closest("."+Sl).index();o.stopPropagation(),le(t,function(d,c){l=W(c).children("tbody").children("tr").eq(u),i.removeErrorRow(l)}),i.getController("resizing")&&i.getController("resizing").fireContentReadyAction()})),W("<td>").attr({colSpan:i.getController("columns").getVisibleColumns().length,role:"presentation"}).prepend(n).append(a).appendTo(r),r):a},_renderErrorMessage:function(e){var t=e.url?e.message.replace(e.url,""):e.message||e,i=W("<div>").addClass(Yw).text(t);return e.url&&W("<a>").attr("href",e.url).text(e.url).appendTo(i),i},renderErrorRow:function(e,t,i){var r=this,n,a;if(i)return i.find("."+Yw).remove(),n=r._createErrorRow(e),i.prepend(n),n;var s=t>=0||!r._columnHeadersView.isVisible()?r._rowsView:r._columnHeadersView,o=s.getTableElements();le(o,function(u,d){if(n=r._createErrorRow(e,o),a=a||n,t>=0){var c=s._getRowElements(W(d)).eq(t);r.removeErrorRow(c.next()),n.insertAfter(c)}else{var h=W(d).children("tbody"),f=h.children("tr");r._columnHeadersView.isVisible()?(r.removeErrorRow(f.last()),W(d).append(n)):(r.removeErrorRow(f.first()),h.first().prepend(n))}});var l=r.getController("resizing");return l&&l.fireContentReadyAction(),a},removeErrorRow:function(e){if(!e){var t=this._columnHeadersView&&this._columnHeadersView.element();if(e=t&&t.find("."+Sl),!e||!e.length){var i=this._rowsView.element();e=i&&i.find("."+Sl)}}e&&e.hasClass(Sl)&&e.remove()},optionChanged:function(e){switch(e.name){case"errorRowEnabled":e.handled=!0;break;default:this.callBase(e)}}}),JW={defaultOptions:function(){return{errorRowEnabled:!0}},controllers:{errorHandling:ZW},extenders:{controllers:{data:{init:function(){var e=this,t=e.getController("errorHandling");e.callBase(),e.dataErrorOccurred.add(function(i,r){e.option("errorRowEnabled")&&t.renderErrorRow(i,void 0,r)}),e.changed.add(function(i){if(!(i&&i.changeType==="loadError")){var r=e.getController("errorHandling"),n=e.getController("editing");n&&!n.hasChanges()&&r&&r.removeErrorRow()}})}}}}};Le.registerModule("errorHandling",JW);var Zw="borders",QW="table-fixed",ej="important-margin",pO="dx-gridbase-container",Zd="adaptiveHidden",A0=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","filterPanelView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView","filterBuilderView"],El=function(e){return Ue(e)&&e.slice(-1)==="%"},tj=function(e){return Ue(e)&&e.slice(-2)==="px"},ij=function(e){var t=e.get(0).clientHeight,i=parseFloat(e.css("paddingTop")),r=parseFloat(e.css("paddingBottom"));return t-i-r},mO=function(e,t){var i=e._rowsView.contentWidth(),r=e._getTotalWidth(t,i);return i-r},rj=function(e,t,i,r){return mO(e,r.map(function(n,a){return a===t?i:n}))},nj=function(e,t){HV(e),Ee.setSelectionRange(e,t)},aj=ei.ViewController.inherit({_initPostRenderHandlers:function(){var e=this._dataController;this._refreshSizesHandler||(this._refreshSizesHandler=t=>{e.changed.remove(this._refreshSizesHandler);var i=t&&t.templateDeferreds||[];Pe.apply(this,i).done(()=>{this._refreshSizes(t)})},e.changed.add(()=>{e.changed.add(this._refreshSizesHandler)}))},_refreshSizes:function(e){var t,i=this,r=e&&e.changeType,n=e&&e.isDelayed,a=i._dataController.items();if(!e||r==="refresh"||r==="prepend"||r==="append")n||(t=i.resize());else if(r==="update"){var s;if(((s=e.changeTypes)===null||s===void 0?void 0:s.length)===0)return;(a.length>1||e.changeTypes[0]!=="insert")&&!(a.length===0&&e.changeTypes[0]==="remove")&&!e.needUpdateDimensions?ar(()=>Ti(()=>ar(()=>{i._setScrollerSpacing(i._hasHeight),i._rowsView.resize()}))):t=i.resize()}r&&r!=="updateSelection"&&r!=="updateFocusedRow"&&r!=="pageIndex"&&!n&&Pe(t).done(function(){i._setAriaRowColCount(),i.fireContentReadyAction()})},fireContentReadyAction:function(){this.component._fireContentReadyAction()},_setAriaRowColCount:function(){var e=this.component;e.setAria({rowCount:this._dataController.totalItemsCount(),colCount:e.columnCount()},e.$element().children("."+pO))},_getBestFitWidths:function(){var e,t=this._rowsView,i=this._columnHeadersView,r=t.getColumnWidths();if(!((e=r)!==null&&e!==void 0&&e.length)){var n,a=i.getTableElement();i.setTableElement((n=t.getTableElement())===null||n===void 0?void 0:n.children(".dx-header")),r=i.getColumnWidths(),i.setTableElement(a)}return r},_setVisibleWidths:function(e,t){var i=this._columnsController;i.beginUpdate(),le(e,function(r,n){var a=i.getColumnId(n);i.columnOption(a,"visibleWidth",t[r])}),i.endUpdate()},_toggleBestFitModeForView:function(e,t,i){if(!(!e||!e.isVisible())){var r=this._rowsView.getTableElements(),n=e.getTableElements();le(r,(a,s)=>{var o,l=W(s),u=n.eq(a);u&&u.length&&(i?o=u.children("tbody").appendTo(l):o=l.children("."+t).appendTo(u),o.toggleClass(t,i),o.toggleClass(this.addWidgetPrefix("best-fit"),i))})}},_toggleBestFitMode:function(e){var t=this._rowsView.getTableElement(),i=this._rowsView.getTableElements().eq(1);t&&(t.css("tableLayout",e?"auto":"fixed"),t.children("colgroup").css("display",e?"none":""),i.toggleClass(this.addWidgetPrefix(QW),!e),this._toggleBestFitModeForView(this._columnHeadersView,"dx-header",e),this._toggleBestFitModeForView(this._footerView,"dx-footer",e),this._toggleContentMinHeight(e),this._needStretch()&&(t.get(0).style.width=e?"auto":""))},_toggleContentMinHeight:function(e){if(this.option("wordWrapEnabled")){var t=this._rowsView.getScrollable(),i=this._rowsView._findContentElement();(t==null?void 0:t.option("useNative"))===!1&&i.css({minHeight:e?Ee.getContentHeightLimit(Qt):""})}},_synchronizeColumns:function(){var e=this._columnsController,t=e.getVisibleColumns(),i=this.option("columnAutoWidth"),r=this._needBestFit(),n=!1,a,s=!1,o=[],l,u;!r&&le(t,function(c,h){if(h.width==="auto")return r=!0,!1}),le(t,function(c,h){if(h.minWidth)return n=!0,!1}),this._setVisibleWidths(t,[]),r&&(l=we.getActiveElement(),u=Ee.getSelectionRange(l),this._toggleBestFitMode(!0),a=!0);var d=this.component.$element();d&&d[0]&&this._maxWidth&&(delete this._maxWidth,d[0].style.maxWidth=""),ar(()=>{if(r?(o=this._getBestFitWidths(),le(t,function(h,f){var p=e.getColumnId(f);e.columnOption(p,"bestFitWidth",o[h],!0)})):n&&(o=this._getBestFitWidths()),le(t,function(h){var f=this.width;f!=="auto"&&(Z(f)?o[h]=Kt(f)||tj(f)?parseFloat(f):f:i||(o[h]=void 0))}),a&&(this._toggleBestFitMode(!1),a=!1,l&&l!==we.getActiveElement())){var c=mi(l).bottom<0;c||nj(l,u)}s=this._correctColumnWidths(o,t),i&&(function(){var h;le(t,function(f,p){p.type==="groupExpand"&&(h=o[f])}),le(t,function(f,p){p.type==="groupExpand"&&h&&(o[f]=h)})}(),this._needStretch()&&this._processStretch(o,t)),Ti(()=>{(r||s)&&this._setVisibleWidths(t,o)})})},_needBestFit:function(){return this.option("columnAutoWidth")},_needStretch:function(){return this._columnsController.getVisibleColumns().some(e=>e.width==="auto"&&!e.command)},_getAverageColumnsWidth:function(e){var t=mO(this,e),i=e.filter(function(r){return r===void 0}).length;return t/i},_correctColumnWidths:function(e,t){var i=this,r,n=!1,a=!1,s=!1,o=i.component.$element(),l=i._hasWidth,u=function(){var m=r,v=t[m],b=e[m]===Zd,y=e[m],I=v.minWidth;if(I){if(y===void 0){var D=i._getAverageColumnsWidth(e);y=D}else if(El(y)){var N=rj(i,m,I,e);N<0&&(y=-1)}}var z=i._getRealColumnWidth(m,e.map(function(F,$){return m===$?y:F}));I&&!b&&z<I&&(e[m]=I,s=!0,r=-1),Z(v.width)||(a=!0),El(v.width)&&(n=!0)};for(r=0;r<t.length;r++)u();if(!a&&e.length){var d=i._rowsView.element(),c=i._rowsView.contentWidth(),h=i._rowsView.getScrollbarWidth(),f=i._getTotalWidth(e,c);if(f<c){var p=Ee.getLastResizableColumnIndex(t,e);if(p>=0&&(e[p]="auto",s=!0,l===!1&&!n)){var g=i.option("showBorders")?Math.ceil(At(d)-jg(d)):0;i._maxWidth=f+h+g,o.css("maxWidth",i._maxWidth)}}}return s},_processStretch:function(e,t){var i=this._rowsView.contentWidth(),r=this._getTotalWidth(e,i),n={length:0};if(e.length){le(t,function(u){(this.width||e[u]===Zd)&&(n[u]=!0,n.length++)});var a=i-r,s=Math.floor(a/(e.length-n.length)),o=a-s*(e.length-n.length);if(a>=0)for(var l=0;l<e.length;l++)n[l]||(e[l]+=s,o>0&&(o<1?(e[l]+=o,o=0):(e[l]++,o--)))}},_getRealColumnWidth:function(e,t,i){var r=1,n=t[e];if(!El(n))return parseFloat(n);var a=t.reduce((u,d,c)=>El(d)?u+parseFloat(d):u,0),s=t.reduce((u,d)=>!d||d===Zd||El(d)?u:u+parseFloat(d),0);i=i||this._rowsView.contentWidth();var o=i-s,l=a*i/100;return s>0&&l+s>=i&&(r=l>o?o/l:1),parseFloat(n)*i*r/100},_getTotalWidth:function(e,t){for(var i=0,r=0;r<e.length;r++){var n=e[r];n&&n!==Zd&&(i+=this._getRealColumnWidth(r,e,t))}return Math.ceil(i)},updateSize:function(e){var t,i,r=W(e),n=this.addWidgetPrefix(ej);this._hasHeight===void 0&&r&&r.is(":visible")&&Ze(r)&&(t=r.children("."+this.getWidgetContainerClass()),t.length&&t.detach(),this._hasHeight=!!ij(r),i=Ze(r),r.addClass(n),this._hasWidth=Ze(r)===i,r.removeClass(n),t.length&&t.appendTo(r))},publicMethods:function(){return["resize","updateDimensions"]},resize:function(){return!this.component._requireResize&&this.updateDimensions()},updateDimensions:function(e){var t=this;if(t._initPostRenderHandlers(),!!t._checkSize(e)){var i=t._resizeDeferred,r=t._resizeDeferred=new pe;return Pe(i).always(function(){Ti(function(){t._dataController.isLoaded()&&t._synchronizeColumns(),t._resetGroupElementHeight(),ar(function(){Ti(function(){ar(function(){t._updateDimensionsCore()})})})}).done(r.resolve).fail(r.reject)}),r.promise()}},_resetGroupElementHeight:function(){var e=this.component.$element().children().get(0),t=this._rowsView.getScrollable();e&&e.style.height&&(!t||!t.scrollTop())&&(e.style.height="")},_checkSize:function(e){var t=this.component.$element();return!(e&&(this._lastWidth===Ze(t)&&this._lastHeight===nt(t)&&this._devicePixelRatio===at().devicePixelRatio||!t.is(":visible")))},_setScrollerSpacingCore:function(e){var t=this,i=e?t._rowsView.getScrollbarWidth():0,r=t._rowsView.getScrollbarWidth(!0);Ti(function(){t._columnHeadersView&&t._columnHeadersView.setScrollerSpacing(i),t._footerView&&t._footerView.setScrollerSpacing(i),t._rowsView.setScrollerSpacing(i,r)})},_setScrollerSpacing:function(e){this.option("scrolling.useNative")===!0?Ti(()=>{ar(()=>{this._setScrollerSpacingCore(e)})}):this._setScrollerSpacingCore(e)},_updateDimensionsCore:function(){var e=this,t=e._dataController,i=e._rowsView,r=e.component.$element(),n=r.children().get(0),a=r&&(r.get(0).clientHeight||nt(r)),s=parseInt(r.css("maxHeight")),o=s&&a>=s,l=e.option("height")||r.get(0).style.height,u=e.getController("editorFactory"),d=o&&n.scrollHeight===n.offsetHeight,c;e.updateSize(r);var h=e._hasHeight||o;l&&e._hasHeight^l!=="auto"&&(c=W("<div>"),Dr(c,l),c.appendTo(r),e._hasHeight=!!nt(c),c.remove()),Ti(function(){if(i.height(null,h),o&&!d&&W(n).css("height",s),!t.isLoaded()){i.setLoading(t.isLoading());return}ar(function(){e._updateLastSizes(r),e._setScrollerSpacing(h),le(A0,function(f,p){var g=e.getView(p);g&&g.resize()}),u&&u.resize()})})},_updateLastSizes:function(e){this._lastWidth=Ze(e),this._lastHeight=nt(e),this._devicePixelRatio=at().devicePixelRatio},optionChanged:function(e){switch(e.name){case"width":case"height":this.component._renderDimensions(),this.resize();case"renderAsync":e.handled=!0;return;default:this.callBase(e)}},init:function(){this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._footerView=this.getView("footerView"),this._rowsView=this.getView("rowsView")}}),sj=ei.ViewController.inherit({_scrollChangedHandler:function(e,t,i){for(var r=0;r<e.length;r++)e[r]&&e[r].name!==i&&e[r].scrollTo({left:t.left,top:t.top})},init:function(){for(var e=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")],t=0;t<e.length;t++){var i=e[t];i&&i.scrollChanged.add(this._scrollChangedHandler.bind(this,e))}}}),oj=ei.View.inherit({_endUpdateCore:function(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())},_getWidgetAriaLabel:function(){return"dxDataGrid-ariaDataGrid"},init:function(){this._resizingController=this.getController("resizing"),this._dataController=this.getController("data")},getView:function(e){return this.component._views[e]},element:function(){return this._groupElement},optionChanged:function(e){Z(this._groupElement)&&e.name==="showBorders"?(this._groupElement.toggleClass(this.addWidgetPrefix(Zw),!!e.value),e.handled=!0):this.callBase(e)},_renderViews:function(e){var t=this;le(A0,function(i,r){var n=t.getView(r);n&&n.render(e)})},_getTableRoleName:function(){return"grid"},render:function(e){var t=!this._groupElement,i=this._groupElement||W("<div>").addClass(this.getWidgetContainerClass());i.addClass(pO),i.toggleClass(this.addWidgetPrefix(Zw),!!this.option("showBorders")),this.setAria("role","presentation",e),this.component.setAria({role:this._getTableRoleName(),label:_e.format(this._getWidgetAriaLabel())},i),this._rootElement=e||this._rootElement,t&&(this._groupElement=i,rt()&&this.getController("resizing").updateSize(e),i.appendTo(e)),this._renderViews(i)},update:function(){var e=this._rootElement,t=this._groupElement,i=this.getController("resizing");e&&t&&(i.resize(),this._dataController.isLoaded()&&this._resizingController.fireContentReadyAction())}}),lj={defaultOptions:function(){return{showBorders:!1,renderAsync:!1}},controllers:{resizing:aj,synchronizeScrolling:sj},views:{gridView:oj},VIEW_NAMES:A0};Le.registerModule("gridView",lj);var wf="dxswipestart",xf="dxswipe",gd="dxswipeend",uj={defaultItemSizeFunc:function(){return Ze(this.getElement())},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(e){var t=pi(e);return(t.x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,e)},isFastSwipe:function(e){var t=pi(e);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(t.x-this._tickData.x)>=t.time-this._tickData.time}},dj={defaultItemSizeFunc:function(){return nt(this.getElement())},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(e){var t=pi(e);return(t.y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,e)},isFastSwipe:function(e){var t=pi(e);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(t.y-this._tickData.y)>=t.time-this._tickData.time}},hj={horizontal:uj,vertical:dj},cj=Xu.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(e){this.callBase(e),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return hj[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(e){this._tickData=pi(e)},_start:function(e){this._savedEventData=pi(e),e=this._fireEvent(wf,e),e.cancel||(this._maxLeftOffset=e.maxLeftOffset,this._maxRightOffset=e.maxRightOffset,this._maxTopOffset=e.maxTopOffset,this._maxBottomOffset=e.maxBottomOffset)},_move:function(e){var t=this._getStrategy(),i=pi(e),r=t.calcOffsetRatio.call(this,e);r=this._fitOffset(r,this.elastic),i.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=i),this._fireEvent(xf,e,{offset:r}),e.preventDefault()},_end:function(e){var t=this._getStrategy(),i=t.calcOffsetRatio.call(this,e),r=t.isFastSwipe.call(this,e),n=i,a=this._calcTargetOffset(i,r);n=this._fitOffset(n,this.elastic),a=this._fitOffset(a,!1),this._fireEvent(gd,e,{offset:n,targetOffset:a})},_fitOffset:function(e,t){var i=this._getStrategy(),r=i.getBounds.call(this);return e<-r[0]?t?(-2*r[0]+e)/3:-r[0]:e>r[1]?t?(2*r[1]+e)/3:r[1]:e},_calcTargetOffset:function(e,t){var i;return t?(i=Math.ceil(Math.abs(e)),e<0&&(i=-i)):i=Math.round(e),i}});ul({emitter:cj,events:[wf,xf,gd]});var Jw="dx-list-item-badge-container",fj="dx-list-item-badge",pj="dx-badge",am="dx-list-item-chevron-container",mj="dx-list-item-chevron",gj=Ys.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))},_renderBadge:function(e){if(this._$element.children("."+Jw).remove(),!!e){var t=W("<div>").addClass(Jw).append(W("<div>").addClass(fj).addClass(pj).text(e)),i=this._$element.children("."+am).first();i.length>0?t.insertBefore(i):t.appendTo(this._$element)}},_renderShowChevron:function(e){if(this._$element.children("."+am).remove(),!!e){var t=W("<div>").addClass(am),i=W("<div>").addClass(mj);t.append(i).appendTo(this._$element)}}}),Qw="dx-scrollview-pull-down-loading",sm="dx-scrollview-pull-down-ready",vj="dx-scrollview-pull-down-image",_j="dx-scrollview-pull-down-indicator",bj="dx-scrollview-pull-down-text",yj="dx-scrollview-pull-down-text-visible",Jd=0,Il=1,Qd=2,om=3,Cj=400,wj=u0.inherit({_init:function(e){this.callBase(e),this._$topPocket=e._$topPocket,this._$pullDown=e._$pullDown,this._$refreshingText=e._$refreshingText,this._$scrollViewContent=W(e.content()),this._$container=W(e.container()),this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=kt(),this.releaseCallbacks=kt(),this.reachBottomCallbacks=kt()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var e=W("<div>").addClass(vj),t=W("<div>").addClass(_j),i=new Ir(W("<div>")).$element(),r=this._$pullDownText=W("<div>").addClass(bj);this._$pullingDownText=W("<div>").text(this.option("pullingDownText")).appendTo(r),this._$pulledDownText=W("<div>").text(this.option("pulledDownText")).appendTo(r),this._$refreshingText=W("<div>").text(this.option("refreshingText")).appendTo(r),this._$pullDown.empty().append(e).append(t.append(i)).append(r)},_releaseState:function(){this._state=Jd,this._refreshPullDownText()},_refreshPullDownText:function(){var e=this,t=[{element:this._$pullingDownText,visibleState:Jd},{element:this._$pulledDownText,visibleState:Il},{element:this._$refreshingText,visibleState:Qd}];le(t,function(i,r){var n=e._state===r.visibleState?"addClass":"removeClass";r.element[n](yj)})},update:function(){this.callBase(),this._setTopPocketOffset()},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var e=this._$scrollViewContent.get(0),t=this._$container.get(0);this._bottomBoundary=Math.max(e.clientHeight-t.clientHeight,0)},_allowedDirections:function(){var e=this.callBase();return e.vertical=e.vertical||this._pullDownEnabled,e},_setTopPocketOffset:function(){this._$topPocket.css({top:-this._topPocketSize})},handleEnd:function(){this.callBase(),this._complete()},handleStop:function(){this.callBase(),this._complete()},_complete:function(){this._state===Il&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout((function(){this._pullDownRefreshing()}).bind(this),400))},_setPullDownOffset:function(e){Ai(this._$topPocket,{top:e}),Ai(this._$scrollViewContent,{top:e})},handleScroll:function(e){if(this.callBase(e),this._state!==Qd){var t=this.location().top,i=(this._location||0)-t;this._location=t,this._isPullDown()?this._pullDownReady():i>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isPullDown:function(){return this._pullDownEnabled&&this._location>=this._topPocketSize},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this._state!==om&&(this._state=om,this.reachBottomCallbacks.fire())},_pullDownReady:function(){this._state!==Il&&(this._state=Il,this._$pullDown.addClass(sm),this._refreshPullDownText())},_stateReleased:function(){this._state!==Jd&&(this._$pullDown.removeClass(Qw).removeClass(sm),this._releaseState())},_pullDownRefreshing:function(){this._state!==Qd&&(this._state=Qd,this._$pullDown.addClass(Qw).removeClass(sm),this._refreshPullDownText(),this.pullDownCallbacks.fire())},pullDownEnable:function(e){e&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=e},reachBottomEnable:function(e){this._reachBottomEnabled=e},pendingRelease:function(){this._state=Il},release:function(){var e=new pe;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._state===om&&(this._state=Jd),this._releaseTimeout=setTimeout((function(){this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),e.resolve()}).bind(this),Cj),e.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),ex="dx-scrollview-pull-down-loading",xj="dx-scrollview-pull-down-indicator",Sj="dx-scrollview-pull-down-refreshing",Ej="dx-icon-pulldown",lm=0,Ij=1,tx=2,um=4,eh=5,Tj=u0.inherit({_init:function(e){this.callBase(e),this._$topPocket=e._$topPocket,this._$pullDown=e._$pullDown,this._$scrollViewContent=W(e.content()),this._$container=W(e.container()),this._initCallbacks(),this._location=0},_initCallbacks:function(){this.pullDownCallbacks=kt(),this.releaseCallbacks=kt(),this.reachBottomCallbacks=kt()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var e=W("<div>").addClass(xj),t=new Ir(W("<div>")).$element();this._$icon=W("<div>").addClass(Ej),this._$pullDown.empty().append(this._$icon).append(e.append(t))},_releaseState:function(){this._state=lm,this._releasePullDown(),this._updateDimensions()},_releasePullDown:function(){this._$pullDown.css({opacity:0})},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var e=this._$scrollViewContent.get(0),t=this._$container.get(0);this._bottomBoundary=Math.max(e.clientHeight-t.clientHeight,0)},_allowedDirections:function(){var e=this.callBase();return e.vertical=e.vertical||this._pullDownEnabled,e},handleInit:function(e){this.callBase(e),this._state===lm&&this._location===0&&(this._startClientY=pi(e.originalEvent).y,this._state=um)},handleMove:function(e){this.callBase(e),this._deltaY=pi(e.originalEvent).y-this._startClientY,this._state===um&&(this._pullDownEnabled&&this._deltaY>0?this._state=eh:this._complete()),this._state===eh&&(e.preventDefault(),this._movePullDown())},_movePullDown:function(){var e=this._getPullDownHeight(),t=Math.min(3*e,this._deltaY+this._getPullDownStartPosition()),i=180*t/e/3;this._$pullDown.css({opacity:1}).toggleClass(Sj,t<e),Ai(this._$pullDown,{top:t}),this._$icon.css({transform:"rotate("+i+"deg)"})},_isPullDown:function(){return this._pullDownEnabled&&this._state===eh&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()},_getPullDownHeight:function(){return Math.round(.05*Ct(this._$element))},_getPullDownStartPosition:function(){return-Math.round(1.5*Ct(this._$pullDown))},handleEnd:function(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()},handleStop:function(){this._complete()},_complete:function(){(this._state===um||this._state===eh)&&this._releaseState()},handleScroll:function(e){if(this.callBase(e),this._state!==tx){var t=this.location().top,i=this._location-t;this._location=t,i>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this.reachBottomCallbacks.fire()},_stateReleased:function(){this._state!==lm&&(this._$pullDown.removeClass(ex),this._releaseState())},_pullDownRefreshing:function(){this._state=tx,this._pullDownRefreshHandler()},_pullDownRefreshHandler:function(){this._refreshPullDown(),this.pullDownCallbacks.fire()},_refreshPullDown:function(){this._$pullDown.addClass(ex),Ai(this._$pullDown,{top:this._getPullDownHeight()})},pullDownEnable:function(e){this._$topPocket.toggle(e),this._pullDownEnabled=e},reachBottomEnable:function(e){this._reachBottomEnabled=e},pendingRelease:function(){this._state=Ij},release:function(){var e=new pe;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout((function(){this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),e.resolve()}).bind(this),800),e.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),Aj=Math,ix="dx-scrollview-pull-down-loading",dm="dx-scrollview-pull-down-ready",Oj="dx-scrollview-pull-down-image",Dj="dx-scrollview-pull-down-indicator",Rj="dx-scrollview-pull-down-text",kj="dx-scrollview-pull-down-text-visible",Tl=0,Al=1,hm=2,cm=3,Mj=J2.inherit({ctor:function(){this._topPocketSize=0,this._bottomPocketSize=0,this.callBase.apply(this,arguments),this._initCallbacks(),this._releaseState()},_releaseState:function(){this._state=Tl,this._refreshPullDownText()},_refreshPullDownText:function(){var e=this,t=[{element:this._$pullingDownText,visibleState:Tl},{element:this._$pulledDownText,visibleState:Al},{element:this._$refreshingText,visibleState:hm}];le(t,function(i,r){var n=e._state===r.visibleState?"addClass":"removeClass";r.element[n](kj)})},_initCallbacks:function(){this.pullDownCallbacks=kt(),this.releaseCallbacks=kt(),this.reachBottomCallbacks=kt()},_updateBounds:function(){var e=this._direction!=="horizontal";if(e){this._topPocketSize=this._$topPocket.get(0).clientHeight,this._bottomPocketSize=this._$bottomPocket.get(0).clientHeight;var t=this._$container.get(0),i=this._$content.get(0);this._bottomBoundary=Math.max(i.clientHeight-this._bottomPocketSize-t.clientHeight,0)}this.callBase()},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})},_moveContent:function(){this.callBase(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():this._state!==Tl&&this._stateReleased()},_moveScrollbar:function(){this._scrollbar.moveTo(this._topPocketSize+this._location)},_isPullDown:function(){return this._pullDownEnabled&&this._location>=0},_isReachBottom:function(){var e=this._$container.get(0);return this._reachBottomEnabled&&Math.round(this._bottomBoundary-Math.ceil(e.scrollTop))<=1},_scrollComplete:function(){this._inBounds()&&this._state===Al?this._pullDownRefreshing():this._inBounds()&&this._state===cm?this._reachBottomLoading():this.callBase()},_reachBottomReady:function(){this._state!==cm&&(this._state=cm,this._minOffset=this._getMinOffset())},_getMaxOffset:function(){return-this._topPocketSize},_getMinOffset:function(){return Aj.min(this.callBase(),-this._topPocketSize)},_reachBottomLoading:function(){this.reachBottomCallbacks.fire()},_pullDownReady:function(){this._state!==Al&&(this._state=Al,this._maxOffset=0,this._$pullDown.addClass(dm),this._refreshPullDownText())},_stateReleased:function(){this._state!==Tl&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass(ix).removeClass(dm),this.releaseCallbacks.fire())},_pullDownRefreshing:function(){this._state!==hm&&(this._state=hm,this._$pullDown.addClass(ix).removeClass(dm),this._refreshPullDownText(),this.pullDownCallbacks.fire())},_releaseHandler:function(){return this._state===Tl&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=u_(this._release.bind(this)),this._releaseTask.promise},_release:function(){this._stateReleased(),this._scrollComplete()},_reachBottomEnablingHandler:function(e){this._reachBottomEnabled!==e&&(this._reachBottomEnabled=e,this._updateBounds())},_pullDownEnablingHandler:function(e){this._pullDownEnabled!==e&&(this._pullDownEnabled=e,this._considerTopPocketChange(),this._updateHandler())},_considerTopPocketChange:function(){this._location-=nt(this._$topPocket)||-this._topPocketSize,this._maxOffset=0,this._move()},_pendingReleaseHandler:function(){this._state=Al},dispose:function(){this._releaseTask&&this._releaseTask.abort(),this.callBase()}}),Bj=Q2.inherit({_init:function(e){this.callBase(e),this._$pullDown=e._$pullDown,this._$topPocket=e._$topPocket,this._$bottomPocket=e._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=kt(),this.releaseCallbacks=kt(),this.reachBottomCallbacks=kt()},render:function(){this._renderPullDown(),this.callBase()},_renderPullDown:function(){var e=W("<div>").addClass(Oj),t=W("<div>").addClass(Dj),i=new Ir(W("<div>")).$element(),r=this._$pullDownText=W("<div>").addClass(Rj);this._$pullingDownText=W("<div>").text(this.option("pullingDownText")).appendTo(r),this._$pulledDownText=W("<div>").text(this.option("pulledDownText")).appendTo(r),this._$refreshingText=W("<div>").text(this.option("refreshingText")).appendTo(r),this._$pullDown.empty().append(e).append(t.append(i)).append(r)},pullDownEnable:function(e){this._eventHandler("pullDownEnabling",e)},reachBottomEnable:function(e){this._eventHandler("reachBottomEnabling",e)},_createScroller:function(e){var t=this,i=t._scrollers[e]=new Mj(t._scrollerOptions(e));i.pullDownCallbacks.add(function(){t.pullDownCallbacks.fire()}),i.releaseCallbacks.add(function(){t.releaseCallbacks.fire()}),i.reachBottomCallbacks.add(function(){t.reachBottomCallbacks.fire()})},_scrollerOptions:function(e){return re(this.callBase(e),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})},pendingRelease:function(){this._eventHandler("pendingRelease")},release:function(){return this._eventHandler("release").done(this._updateAction)},location:function(){var e=this.callBase();return e.top+=nt(this._$topPocket),e},dispose:function(){le(this._scrollers,function(){this.dispose()}),this.callBase()}}),Qs="dx-scrollview",Pj=Qs+"-content",Fj=Qs+"-top-pocket",Lj=Qs+"-bottom-pocket",Nj=Qs+"-pull-down",O0=Qs+"-scrollbottom",Vj=O0+"-indicator",$j=O0+"-text",Hj=Qs+"-loadpanel",zj={pullDown:wj,swipeDown:Tj,simulated:Bj},Wj=!rt(),jj={finishLoading:me,release:me,refresh:me,scrollOffset:()=>({top:0,left:0}),_optionChanged:function(e){if(e.name!=="onUpdated")return this.callBase.apply(this,arguments)}},D0=Tr.inherit(Wj?jj:{_getDefaultOptions:function(){return re(this.callBase(),{pullingDownText:_e.format("dxScrollView-pullingDownText"),pulledDownText:_e.format("dxScrollView-pulledDownText"),refreshingText:_e.format("dxScrollView-refreshingText"),reachBottomText:_e.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var e=Ne.real();return e.platform==="android"},options:{refreshStrategy:"swipeDown"}},{device:function(){return xi()},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])},_init:function(){this.callBase(),this._loadingIndicatorEnabled=!0},_initScrollableMarkup:function(){this.callBase(),this.$element().addClass(Qs),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()},_initContent:function(){var e=W("<div>").addClass(Pj);this._$content.wrapInner(e)},_initTopPocket:function(){var e=this._$topPocket=W("<div>").addClass(Fj),t=this._$pullDown=W("<div>").addClass(Nj);e.append(t),this._$content.prepend(e)},_initBottomPocket:function(){var e=this._$bottomPocket=W("<div>").addClass(Lj),t=this._$reachBottom=W("<div>").addClass(O0),i=W("<div>").addClass(Vj),r=new Ir(W("<div>")).$element(),n=this._$reachBottomText=W("<div>").addClass($j);this._updateReachBottomText(),t.append(i.append(r)).append(n),e.append(t),this._$content.append(e)},_initLoadPanel:function(){var e=W("<div>").addClass(Hj).appendTo(this.$element()),t={shading:!1,delay:400,message:this.option("refreshingText"),position:{of:this.$element()}};this._loadPanel=this._createComponent(e,uf,t)},_updateReachBottomText:function(){this._$reachBottomText.text(this.option("reachBottomText"))},_createStrategy:function(){var e=this.option("useNative")?this.option("refreshStrategy"):"simulated",t=zj[e];this._strategy=new t(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))},_createActions:function(){this.callBase(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()},_tryRefreshPocketState:function(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))},on:function(e){var t=this.callBase.apply(this,arguments);return(e==="pullDown"||e==="reachBottom")&&this._tryRefreshPocketState(),t},_pullDownEnable:function(e){if(arguments.length===0)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(e),this._strategy.pullDownEnable(e),this._pullDownEnabled=e)},_reachBottomEnable:function(e){if(arguments.length===0)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(e),this._strategy.reachBottomEnable(e),this._reachBottomEnabled=e)},_pullDownHandler:function(){this._loadingIndicator(!1),this._pullDownLoading()},_loadingIndicator:function(e){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=e},_pullDownLoading:function(){this.startLoading(),this._pullDownAction()},_reachBottomHandler:function(){this._loadingIndicator(!1),this._reachBottomLoading()},_reachBottomLoading:function(){this.startLoading(),this._reachBottomAction()},_releaseHandler:function(){this.finishLoading(),this._loadingIndicator(!0)},_optionChanged:function(e){switch(e.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:this.callBase(e)}},content:function(){return qe(this._$content.children().eq(1))},release:function(e){return e!==void 0&&this.toggleLoading(!e),this._strategy.release()},toggleLoading:function(e){this._reachBottomEnable(e)},refresh:function(){this.hasActionSubscription("onPullDown")&&(this._strategy.pendingRelease(),this._pullDownLoading())},startLoading:function(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()},finishLoading:function(){this._loadPanel.hide(),this._unlock()},_dispose:function(){this._strategy.dispose(),this.callBase(),this._loadPanel&&this._loadPanel.$element().remove()}});yt("dxScrollView",D0);var th="__dx_key__";const R0=Js.inherit({_getDefaultOptions:function(){return re(this.callBase(),{repaintChangesOnly:!1})},ctor:function(){this.callBase.apply(this,arguments),this._customizeStoreLoadOptions=e=>{var t=this._dataSource;t&&!t.isLoaded()&&(this._correctionIndex=0),this._correctionIndex&&e.storeLoadOptions&&(e.storeLoadOptions.skip+=this._correctionIndex)},this._dataSource&&this._dataSource.on("customizeStoreLoadOptions",this._customizeStoreLoadOptions)},reload:function(){this._correctionIndex=0},_init:function(){this.callBase(),this._refreshItemsCache(),this._correctionIndex=0},_findItemElementByKey:function(e){var t=W(),i=this.key();return this.itemElements().each((r,n)=>{var a=W(n),s=this._getItemData(a);if(i?Yu(i,this.keyOf(s),e):this._isItemEquals(s,e))return t=a,!1}),t},_dataSourceChangedHandler:function(e,t){t!=null&&t.changes?this._modifyByChanges(t.changes):(this.callBase(e,t),this._refreshItemsCache())},_isItemEquals:function(e,t){e&&e[th]&&(e=e.data);try{return JSON.stringify(e)===JSON.stringify(t)}catch{return e===t}},_isItemStrictEquals:function(e,t){return this._isItemEquals(e,t)},_shouldAddNewGroup:function(e,t){var i=!1;return this.option("grouped")&&(e.length||(i=!0),le(e,(r,n)=>{n.type==="insert"&&(i=!0,le(t,(a,s)=>{if(n.data.key!==void 0&&n.data.key===s.key)return i=!1,!1}))})),i},_partialRefresh:function(){if(this.option("repaintChangesOnly")){var e=V2(this._itemsCache,this._editStrategy.itemsGetter(),t=>t&&t[th]!==void 0?t[th]:this.keyOf(t),this._isItemStrictEquals.bind(this));if(e&&this._itemsCache.length&&!this._shouldAddNewGroup(e,this._itemsCache))return this._modifyByChanges(e,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1},_refreshItemsCache:function(){if(this.option("repaintChangesOnly")){var e=this._editStrategy.itemsGetter();try{this._itemsCache=re(!0,[],e),this.key()||(this._itemsCache=this._itemsCache.map((t,i)=>({[th]:e[i],data:t})))}catch{this._itemsCache=re([],e)}}},_dispose:function(){this._dataSource&&this._dataSource.off("customizeStoreLoadOptions",this._customizeStoreLoadOptions),this.callBase()},_updateByChange:function(e,t,i,r){if(r)this._renderItem(i.index,i.data,null,this._findItemElementByKey(i.key));else{var n=t[Fs(e,t,i.key)];n&&X_(e,t,i.key,i.data).done(()=>{this._renderItem(t.indexOf(n),n,null,this._findItemElementByKey(i.key))})}},_insertByChange:function(e,t,i,r){Pe(r||Y_(e,t,i.data,i.index)).done(()=>{var n;this._beforeItemElementInserted(i);var a=this._getItemContainer(i.data);this._renderItem((n=i.index)!==null&&n!==void 0?n:t.length,i.data,a),this._afterItemElementInserted(),this._correctionIndex++})},_getItemContainer:function(e){return this._itemContainer()},_updateSelectionAfterRemoveByChange:function(e){var t=this.option("selectedIndex");t>e?this.option("selectedIndex",t-1):t===e&&this.option("selectedItems").length===1?this.option("selectedItems",[]):this._normalizeSelectedItems()},_beforeItemElementInserted:function(e){var t=this.option("selectedIndex");e.index<=t&&this.option("selectedIndex",t+1)},_afterItemElementInserted:me,_removeByChange:function(e,t,i,r){var n=r?i.index:Fs(e,t,i.key),a=r?i.oldItem:t[n];if(a){var s=this._findItemElementByKey(i.key),o=this._extendActionArgs(s);this._waitDeletingPrepare(s).done(()=>{r?(this._updateIndicesAfterIndex(n-1),this._afterItemElementDeleted(s,o),this._updateSelectionAfterRemoveByChange(n)):(this._deleteItemElementByIndex(n),this._afterItemElementDeleted(s,o))}),this._correctionIndex--}},_modifyByChanges:function(e,t){var i=this._editStrategy.itemsGetter(),r={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},n=this._dataSource,a=n&&n.paginate(),s=n&&n.group();(a||s)&&(e=e.filter(o=>o.type!=="insert"||o.index!==void 0)),e.forEach(o=>this["_".concat(o.type,"ByChange")](r,i,o,t)),this._renderedItemsCount=i.length,this._refreshItemsCache(),this._fireContentReadyAction()},_appendItemToContainer:function(e,t,i){var r=e.children(this._itemSelector()).get(i);we.insertElement(e.get(0),t.get(0),r)},_optionChanged:function(e){switch(e.name){case"items":var t=this._partialRefresh(e.value);t||this.callBase(e);break;case"dataSource":(!this.option("repaintChangesOnly")||!e.value)&&this.option("items",[]),this.callBase(e);break;case"repaintChangesOnly":break;default:this.callBase(e)}}});var Uj=e=>Array.isArray(e)&&e.every(t=>{var i=Object.keys(t).length===2,r="key"in t&&"items"in t;return i&&r&&Array.isArray(t.items)});const gO={_getSpecificDataSourceOption:function(){var e=this.option("dataSource"),t=!1,i={};return this._getGroupedOption()&&Uj(e)&&(i=e.reduce((r,n)=>{var a=n.items.map(s=>(Ge(s)||(s={text:s},t=!0),"key"in s||(s.key=n.key),s));return r.concat(a)},[]),e={store:{type:"array",data:i},group:{selector:"key",keepInitialKeyOrder:!0}},t&&(e.searchExpr="text")),e}};function vO(e){return e?Number(e.replace("px","")):0}function Gj(e){var t,i;return e&&rt()?(t=(i=at()).getComputedStyle)===null||t===void 0?void 0:t.call(i,e):null}function Kj(e,t){var i=Gj(e);return i?vO(i["margin".concat(Cu(t))]):0}var qj="dx-list",Uh="dx-list-item",Xj="."+Uh,Yj="dx-list-item-icon-container",Zj="dx-list-item-icon",yo="dx-list-group",fm="dx-list-group-header",ih="dx-list-group-body",Jj="dx-list-collapsible-groups",rx="dx-list-group-collapsed",Qj="dx-list-group-header-indicator",eU="dx-has-next",tU="dx-list-next-button",nx="dx-wrap-item-text",iU=".dx-list-select-all",rU="dxListItemData",ax=70,nU=jt("items"),k0=R0.inherit({_activeStateUnit:[Xj,iU].join(","),_supportedKeys:function(){var e=this,t=function(r){var n=i(r),a=n.is(e.option("focusedElement"));a&&(function(s,o){var l=s.position().top;o==="prev"&&(l=s.position().top-nt(e.$element())+Ct(s)),e.scrollTo(l)}(n,r),n=i(r)),e.option("focusedElement",qe(n)),e.scrollToItem(n)};function i(r){var n=e.scrollTop(),a=nt(e.$element()),s=W(e.option("focusedElement")),o=!0;if(!s.length)return W();for(;o;){var l=s[r]();if(!l.length)break;var u=l.position().top+Ct(l)/2;o=u<a+n&&u>n,o&&(s=l)}return s}return re(this.callBase(),{leftArrow:me,rightArrow:me,pageUp:function(){return t("prev"),!1},pageDown:function(){return t("next"),!1}})},_getDefaultOptions:function(){return re(this.callBase(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:_e.format("dxList-pullingDownText"),pulledDownText:_e.format("dxList-pulledDownText"),refreshingText:_e.format("dxList-refreshingText"),pageLoadingText:_e.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:_e.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},_listAttributes:{role:"listbox"},useInkRipple:!1,wrapItemText:!1,_swipeEnabled:!0,showChevronExpr:function(e){return e?e.showChevron:void 0},badgeExpr:function(e){return e?e.badge:void 0}})},_defaultOptionsRules:function(){var e=un();return this.callBase().concat(eA(),[{device:function(){return!ks},options:{useNativeScrolling:!1}},{device:function(t){return!ks&&!Ne.isSimulator()&&Ne.real().deviceType==="desktop"&&t.platform==="generic"},options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:function(){return Ne.real().deviceType==="desktop"&&!Ne.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return xi(e)},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:"",useInkRipple:!0}}])},_visibilityChanged:function(e){e&&this._updateLoadingState(!0)},_itemClass:function(){return Uh},_itemDataKey:function(){return rU},_itemContainer:function(){return this._$container},_saveSelectionChangeEvent:function(e){this._selectionChangeEventInstance=e},_getSelectionChangeEvent:function(){return this._selectionChangeEventInstance},_refreshItemElements:function(){this.option("grouped")?this._itemElementsCache=this._itemContainer().children("."+yo).children("."+ih).children(this._itemSelector()):this._itemElementsCache=this._itemContainer().children(this._itemSelector())},_modifyByChanges:function(){this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},reorderItem:function(e,t){var i=this.callBase(e,t);return i.done(function(){this._refreshItemElements()})},deleteItem:function(e){var t=this.callBase(e);return t.done(function(){this._refreshItemElements()})},_itemElements:function(){return this._itemElementsCache},_itemSelectHandler:function(e){if(!(this.option("selectionMode")==="single"&&this.isItemSelected(e.currentTarget)))return this.callBase(e)},_allowDynamicItemsAppend:function(){return!0},_resetDataSourcePageIndex:function(){var e=this.getDataSource();e&&e.pageIndex()!==0&&(e.pageIndex(0),e.load())},_init:function(){this.callBase(),this._resetDataSourcePageIndex(),this._$container=this.$element(),this._initScrollView(),this._feedbackShowTimeout=ax,this._createGroupRenderAction()},_scrollBottomMode:function(){return this.option("pageLoadMode")==="scrollBottom"},_nextButtonMode:function(){return this.option("pageLoadMode")==="nextButton"},_dataSourceOptions:function(){var e=this._scrollBottomMode(),t=this._nextButtonMode();return re(this.callBase(),{paginate:di(e||t,!0)})},_getGroupedOption:function(){return this.option("grouped")},_getGroupContainerByIndex:function(e){return this._itemContainer().find(".".concat(yo)).eq(e).find(".".concat(ih))},_dataSourceFromUrlLoadMode:function(){return"raw"},_initScrollView:function(){var e=this.option("scrollingEnabled"),t=e&&this.option("pullRefreshEnabled"),i=e&&this._scrollBottomMode()&&!!this._dataSource;this._scrollView=this._createComponent(this.$element(),aU(),{height:this.option("height"),width:this.option("width"),disabled:this.option("disabled")||!e,onScroll:this._scrollHandler.bind(this),onPullDown:t?this._pullDownHandler.bind(this):null,onReachBottom:i?this._scrollBottomHandler.bind(this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=W(this._scrollView.content()),this.option("wrapItemText")&&this._$container.addClass(nx),this._createScrollViewActions()},_createScrollViewActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")},_scrollHandler:function(e){this._scrollAction&&this._scrollAction(e)},_initTemplates:function(){this._templateManager.addDefaultTemplates({group:new Zs(function(e,t){ft(t)?t.key&&e.text(t.key):e.text(String(t))},["key"],this.option("integrationOptions.watchMethod"))}),this.callBase()},_prepareDefaultItemTemplate:function(e,t){if(this.callBase(e,t),e.icon){var i=Ls(e.icon).addClass(Zj),r=W("<div>").addClass(Yj);r.append(i),t.prepend(r)}},_getBindableFields:function(){return["text","html","icon"]},_updateLoadingState:function(e){var t=this._scrollBottomMode()&&e&&!this._isDataSourceLoading()&&!this._isLastPage();this._shouldContinueLoading(t)?this._infiniteDataLoading():(this._scrollView.release(!t&&!this._isDataSourceLoading()),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1))},_shouldRenderNextButton:function(){return this._nextButtonMode()&&this._dataSource&&this._dataSource.isLoaded()},_isDataSourceFirstLoadCompleted:function(e){return Z(e)&&(this._isFirstLoadCompleted=e),this._isFirstLoadCompleted},_dataSourceLoadingChangedHandler:function(e){this._loadIndicationSuppressed()||(e&&this.option("indicateLoading")?this._showLoadingIndicatorTimer=setTimeout((function(){var t=!this._itemElements().length,i=!t||this._isDataSourceFirstLoadCompleted();if(i){var r;(r=this._scrollView)===null||r===void 0||r.startLoading()}}).bind(this)):(clearTimeout(this._showLoadingIndicatorTimer),this._scrollView&&this._scrollView.finishLoading()),e||this._isDataSourceFirstLoadCompleted(!1))},_dataSourceChangedHandler:function(){!this._shouldAppendItems()&&rt()&&this._scrollView&&this._scrollView.scrollTo(0),this.callBase.apply(this,arguments),this._isDataSourceFirstLoadCompleted(!0)},_refreshContent:function(){this._prepareContent(),this._fireContentReadyAction()},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_loadIndicationSuppressed:function(e){if(!arguments.length)return this._isLoadIndicationSuppressed;this._isLoadIndicationSuppressed=e},_scrollViewIsFull:function(){var e=this._scrollView;return!e||nt(e.content())>nt(e.container())},_pullDownHandler:function(e){this._pullRefreshAction(e),this._dataSource&&!this._isDataSourceLoading()?(this._clearSelectedItems(),this._dataSource.pageIndex(0),this._dataSource.reload()):this._updateLoadingState()},_shouldContinueLoading:function(e){var t,i,r=nt(this._scrollView.content())-nt(this._scrollView.container())<((t=(i=this._scrollView.scrollOffset())===null||i===void 0?void 0:i.top)!==null&&t!==void 0?t:0);return e&&(!this._scrollViewIsFull()||r)},_infiniteDataLoading:function(){var e=this.$element().is(":visible");e&&(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(()=>{this._loadNextPage()}))},_scrollBottomHandler:function(e){this._pageLoadingAction(e),!this._isDataSourceLoading()&&!this._isLastPage()?this._loadNextPage():this._updateLoadingState()},_renderItems:function(e){this.option("grouped")?(le(e,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),xi()&&this.attachGroupHeaderInkRippleEvents()):this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},_attachGroupCollapseEvent:function(){var e=xe(Pt,this.NAME),t="."+fm,i=this.$element(),r=this.option("collapsibleGroups");i.toggleClass(Jj,r),te.off(i,e,t),r&&te.on(i,e,t,(function(n){this._createAction((function(a){var s=W(a.event.currentTarget).parent();this._collapseGroupHandler(s),this.option("focusStateEnabled")&&this.option("focusedElement",qe(s.find("."+Uh).eq(0)))}).bind(this),{validatingTargetName:"element"})({event:n})}).bind(this))},_collapseGroupHandler:function(e,t){var i=new pe;if(e.hasClass(rx)===t)return i.resolve();var r=e.children("."+ih),n=Ct(r),a=0;return n===0&&(Dr(r,"auto"),a=Ct(r)),e.toggleClass(rx,t),fi.animate(r,{type:"custom",from:{height:n},to:{height:a},duration:200,complete:(function(){this.updateDimensions(),this._updateLoadingState(),i.resolve()}).bind(this)}),i.promise()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())},_initMarkup:function(){this._itemElementsCache=W(),this.$element().addClass(qj),this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.setAria("role",this.option("_listAttributes").role)},_renderInkRipple:function(){this._inkRipple=d0()},_toggleActiveState:function(e,t,i){this.callBase.apply(this,arguments);var r=this;if(this._inkRipple){var n={element:e,event:i};t?xi()?this._inkRippleTimer=setTimeout(function(){r._inkRipple.showWave(n)},ax/2):r._inkRipple.showWave(n):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(n))}},_postprocessRenderItem:function(e){this._refreshItemElements(),this.callBase.apply(this,arguments),this.option("_swipeEnabled")&&this._attachSwipeEvent(W(e.itemElement))},_attachSwipeEvent:function(e){var t=xe(gd,this.NAME);te.on(e,t,this._itemSwipeEndHandler.bind(this))},_itemSwipeEndHandler:function(e){this._itemDXEventHandler(e,"onItemSwipe",{direction:e.offset<0?"left":"right"})},_nextButtonHandler:function(e){this._pageLoadingAction(e);var t=this._dataSource;t&&!t.isLoading()&&(this._scrollView.toggleLoading(!0),this._$nextButton.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())},_renderGroup:function(e,t){var i=W("<div>").addClass(yo).appendTo(this._itemContainer()),r=W("<div>").addClass(fm).appendTo(i),n=this.option("groupTemplate"),a=this._getTemplate(t.template||n,t,e,r),s={index:e,itemData:t,container:qe(r)};this._createItemByTemplate(a,s),xi()&&W("<div>").addClass(Qj).prependTo(r),this._renderingGroupIndex=e;var o=W("<div>").addClass(ih).appendTo(i);le(nU(t)||[],(function(l,u){this._renderItem({group:e,item:l},u,o)}).bind(this)),this._groupRenderAction({groupElement:qe(i),groupIndex:e,groupData:t})},downInkRippleHandler:function(e){this._toggleActiveState(W(e.currentTarget),!0,e)},upInkRippleHandler:function(e){this._toggleActiveState(W(e.currentTarget),!1)},attachGroupHeaderInkRippleEvents:function(){var e="."+fm,t=this.$element();this._downInkRippleHandler=this._downInkRippleHandler||this.downInkRippleHandler.bind(this),this._upInkRippleHandler=this._upInkRippleHandler||this.upInkRippleHandler.bind(this);var i=[t,"dxpointerdown",e,this._downInkRippleHandler],r=[t,"dxpointerup dxpointerout",e,this._upInkRippleHandler];te.off(...i),te.on(...i),te.off(...r),te.on(...r)},_createGroupRenderAction:function(){this._groupRenderAction=this._createActionByOption("onGroupRendered")},_clean:function(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),delete this._inkRipple,this.callBase.apply(this,arguments)},_dispose:function(){this._isDataSourceFirstLoadCompleted(!1),clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),this.callBase()},_toggleDisabledState:function(e){this.callBase(e),this._scrollView.option("disabled",e||!this.option("scrollingEnabled"))},_toggleNextButton:function(e){var t=this._dataSource,i=this._getNextButton();this.$element().toggleClass(eU,e),e&&t&&t.isLoaded()&&i.appendTo(this._itemContainer()),e||i.detach()},_getNextButton:function(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton},_createNextButton:function(){var e=W("<div>").addClass(tU),t=W("<div>").appendTo(e);return this._createComponent(t,Ki,{text:this.option("nextButtonText"),onClick:this._nextButtonHandler.bind(this),type:xi()?"default":void 0,integrationOptions:{}}),e},_moveFocus:function(){this.callBase.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))},_refresh:function(){if(!rt())this.callBase();else{var e=this._scrollView.scrollTop();this.callBase(),e&&this._scrollView.scrollTo(e)}},_optionChanged:function(e){switch(e.name){case"pageLoadMode":this._toggleNextButton(e.value),this._initScrollView();break;case"dataSource":this.callBase(e),this._initScrollView(),this._isDataSourceFirstLoadCompleted(!1);break;case"items":this.callBase(e),this._isDataSourceFirstLoadCompleted(!1);break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"useNativeScrolling":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState();break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions();break;case"grouped":case"collapsibleGroups":case"groupTemplate":this._invalidate();break;case"wrapItemText":this._$container.toggleClass(nx,e.value);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":this.callBase(e),this._scrollView.option(e.name,e.value),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":this.callBase(e),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),this.callBase(e);break;case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"_swipeEnabled":case"_listAttributes":break;default:this.callBase(e)}},_extendActionArgs:function(e){if(!this.option("grouped"))return this.callBase(e);var t=e.closest("."+yo),i=t.find("."+Uh);return re(this.callBase(e),{itemIndex:{group:t.index(),item:i.index(e)}})},expandGroup:function(e){var t=new pe,i=this._itemContainer().find("."+yo).eq(e);return this._collapseGroupHandler(i,!1).done((function(){t.resolveWith(this)}).bind(this)),t.promise()},collapseGroup:function(e){var t=new pe,i=this._itemContainer().find("."+yo).eq(e);return this._collapseGroupHandler(i,!0).done((function(){t.resolveWith(this)}).bind(this)),t},updateDimensions:function(){var e=this,t=new pe;return e._scrollView?e._scrollView.update().done(function(){!e._scrollViewIsFull()&&e._updateLoadingState(!0),t.resolveWith(e)}):t.resolveWith(e),t.promise()},reload:function(){this.callBase(),this.scrollTo(0),this._pullDownHandler()},repaint:function(){this.scrollTo(0),this.callBase()},scrollTop:function(){return this._scrollView.scrollOffset().top},clientHeight:function(){return this._scrollView.clientHeight()},scrollHeight:function(){return this._scrollView.scrollHeight()},scrollBy:function(e){this._scrollView.scrollBy(e)},scrollTo:function(e){this._scrollView.scrollTo(e)},scrollToItem:function(e){var t=this._editStrategy.getItemElement(e),i=t==null?void 0:t.get(0);this._scrollView.scrollToElement(i,{bottom:Kj(i,"bottom")})},_dimensionChanged:function(){this.updateDimensions()}}).include(gO);k0.ItemClass=gj;function aU(){return D0}var pm="dx-toolbar-menu-action",sU="dx-toolbar-hidden-button",oU="dx-toolbar-hidden-button-group",sx="dx-toolbar-menu-section",ox="dx-toolbar-menu-last-section",_O=k0.inherit({_activeStateUnit:"."+pm,_initMarkup:function(){this._renderSections(),this.callBase()},_getSections:function(){return this._itemContainer().children()},_itemElements:function(){return this._getSections().children(this._itemSelector())},_renderSections:function(){var e=this,t=this._itemContainer();le(["before","center","after","menu"],function(){var i="_$"+this+"Section",r=e[i];r||(e[i]=r=W("<div>").addClass(sx)),r.appendTo(t)})},_renderItems:function(){this.callBase.apply(this,arguments),this._updateSections()},_updateSections:function(){var e=this.$element().find("."+sx);e.removeClass(ox),e.not(":empty").eq(-1).addClass(ox)},_renderItem:function(e,t,i,r){var n=t.location||"menu",a=this["_$"+n+"Section"],s=this.callBase(e,t,a,r);return this._getItemTemplateName({itemData:t})&&s.addClass("dx-toolbar-menu-custom"),(n==="menu"||t.widget==="dxButton"||t.widget==="dxButtonGroup"||t.isAction)&&s.addClass(pm),t.widget==="dxButton"&&s.addClass(sU),t.widget==="dxButtonGroup"&&s.addClass(oU),s.addClass(t.cssClass),s},_getItemTemplateName:function(e){var t=this.callBase(e),i=e.itemData,r=i&&i.menuItemTemplate;return r||t},_itemClickHandler:function(e,t,i){W(e.target).closest("."+pm).length&&this.callBase(e,t,i)},_clean:function(){this._getSections().empty(),this.callBase()}});yt("dxToolbarMenu",_O);var rh=5;class lU{constructor(t){this.init(t)}init(t){var{dragEnabled:i,handle:r,draggableElement:n,positionController:a}=t;this._positionController=a,this._draggableElement=n,this._handle=r,this._dragEnabled=i,this.unsubscribe(),i&&this.subscribe()}moveDown(t){this._moveTo(rh,0,t)}moveUp(t){this._moveTo(-rh,0,t)}moveLeft(t){this._moveTo(0,-rh,t)}moveRight(t){this._moveTo(0,rh,t)}subscribe(){var t=this._getEventNames();te.on(this._handle,t.startEventName,i=>{this._dragStartHandler(i)}),te.on(this._handle,t.updateEventName,i=>{this._dragUpdateHandler(i)}),te.on(this._handle,t.endEventName,i=>{this._dragEndHandler(i)})}unsubscribe(){var t=this._getEventNames();te.off(this._handle,t.startEventName),te.off(this._handle,t.updateEventName),te.off(this._handle,t.endEventName)}_getEventNames(){var t=xe(Bs,"overlayDrag"),i=xe(Ha,"overlayDrag"),r=xe(Ps,"overlayDrag");return{startEventName:t,updateEventName:i,endEventName:r}}_dragStartHandler(t){var i=this._getAllowedOffsets();this._prevOffset={x:0,y:0},t.targetElements=[],t.maxTopOffset=i.top,t.maxBottomOffset=i.bottom,t.maxLeftOffset=i.left,t.maxRightOffset=i.right}_dragUpdateHandler(t){var i={top:t.offset.y-this._prevOffset.y,left:t.offset.x-this._prevOffset.x};this._moveByOffset(i),this._prevOffset=t.offset}_dragEndHandler(t){this._positionController.dragHandled(),this._positionController.detectVisualPositionChange(t)}_moveTo(t,i,r){if(this._dragEnabled){r.preventDefault(),r.stopPropagation();var n=this._fitOffsetIntoAllowedRange(t,i);this._moveByOffset(n),this._dragEndHandler(r)}}_fitOffsetIntoAllowedRange(t,i){var r=this._getAllowedOffsets();return{top:Ji(t,-r.top,r.bottom),left:Ji(i,-r.left,r.right)}}_getContainerDimensions(){var t=we.getDocument(),i=this._positionController.$dragResizeContainer.get(0),r=At(i),n=Ct(i);return wi(i)&&(n=Math.max(t.body.clientHeight,n),r=Math.max(t.body.clientWidth,r)),{width:r,height:n}}_getContainerPosition(){var t=this._positionController.$dragResizeContainer.get(0);return wi(t)?{top:0,left:0}:Ug(t)}_getElementPosition(){return Ug(this._draggableElement)}_getInnerDelta(){var t=this._getContainerDimensions(),i=this._getElementDimensions();return{x:t.width-i.width,y:t.height-i.height}}_getOuterDelta(){var{width:t,height:i}=this._getElementDimensions(),r=this._positionController.outsideDragFactor;return{x:t*r,y:i*r}}_getFullDelta(){var t=this._getInnerDelta(),i=this._getOuterDelta();return{x:t.x+i.x,y:t.y+i.y}}_getElementDimensions(){return{width:this._draggableElement.offsetWidth,height:this._draggableElement.offsetHeight}}_getAllowedOffsets(){var t=this._getFullDelta(),i=t.y>=0&&t.x>=0;if(!i)return{top:0,bottom:0,left:0,right:0};var r=this._getElementPosition(),n=this._getContainerPosition(),a=this._getOuterDelta();return{top:r.top-n.top+a.y,bottom:-r.top+n.top+t.y,left:r.left-n.left+a.x,right:-r.left+n.left+t.x}}_moveByOffset(t){var i=Vr(this._draggableElement),r={left:i.left+t.left,top:i.top+t.top};Ai(this._draggableElement,r)}}var Sf="dxResizable",uU="dx-resizable",dU="dx-resizable-resizing",nh="dx-resizable-handle",hU="dx-resizable-handle-top",cU="dx-resizable-handle-bottom",fU="dx-resizable-handle-left",pU="dx-resizable-handle-right",ah="dx-resizable-handle-corner",mU=xe(Bs,Sf),gU=xe(Ha,Sf),vU=xe(Ps,Sf),_U={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},bO=Dn.inherit({_getDefaultOptions:function(){return re(this.callBase(),{handles:"all",step:"1",stepPrecision:"simple",area:void 0,minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,onResizeStart:null,onResize:null,onResizeEnd:null,roundStepValue:!0,keepAspectRatio:!0})},_init:function(){this.callBase(),this.$element().addClass(uU)},_initMarkup:function(){this.callBase(),this._renderHandles()},_render:function(){this.callBase(),this._renderActions()},_renderActions:function(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")},_renderHandles:function(){this._handles=[];var e=this.option("handles");if(!(e==="none"||!e)){var t=e==="all"?["top","bottom","left","right"]:e.split(" "),i={};le(t,(r,n)=>{i[n]=!0,this._renderHandle(n)}),i.bottom&&i.right&&this._renderHandle("corner-bottom-right"),i.bottom&&i.left&&this._renderHandle("corner-bottom-left"),i.top&&i.right&&this._renderHandle("corner-top-right"),i.top&&i.left&&this._renderHandle("corner-top-left"),this._attachEventHandlers()}},_renderHandle:function(e){var t=W("<div>").addClass(nh).addClass(nh+"-"+e).appendTo(this.$element());this._handles.push(t)},_attachEventHandlers:function(){if(!this.option("disabled")){var e={};e[mU]=this._dragStartHandler.bind(this),e[gU]=this._dragHandler.bind(this),e[vU]=this._dragEndHandler.bind(this),this._handles.forEach(t=>{te.on(t,e,{direction:"both",immediate:!0})})}},_detachEventHandlers:function(){this._handles.forEach(e=>{te.off(e)})},_toggleEventHandlers:function(e){e?this._attachEventHandlers():this._detachEventHandlers()},_getElementSize:function(){var e=this.$element();return e.css("boxSizing")==="border-box"?{width:At(e),height:Ct(e)}:{width:Ze(e),height:nt(e)}},_dragStartHandler:function(e){var t=this.$element();if(t.is(".dx-state-disabled, .dx-state-disabled *")){e.cancel=!0;return}this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(e),this._elementLocation=Vr(t),this._elementSize=this._getElementSize(),this._renderDragOffsets(e),this._resizeStartAction({event:e,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),e.targetElements=null},_toggleResizingClass:function(e){this.$element().toggleClass(dU,e)},_renderDragOffsets:function(e){var t=this._getArea();if(t){var i=W(e.target).closest("."+nh),r=At(i),n=Ct(i),a=i.offset(),s=t.offset,o=this._getAreaScrollOffset();e.maxLeftOffset=this._leftMaxOffset=a.left-s.left-o.scrollX,e.maxRightOffset=this._rightMaxOffset=s.left+t.width-a.left-r+o.scrollX,e.maxTopOffset=this._topMaxOffset=a.top-s.top-o.scrollY,e.maxBottomOffset=this._bottomMaxOffset=s.top+t.height-a.top-n+o.scrollY}},_getBorderWidth:function(e,t){if(wi(e.get(0)))return 0;var i=e.css(_U[t]);return parseInt(i)||0},_proportionate:function(e,t){var i=this._elementSize,r=e==="x"?i.width/i.height:i.height/i.width;return t*r},_getProportionalDelta:function(e){var{x:t,y:i}=e,r=this._proportionate("y",t);if(r>=i)return{x:t,y:r};var n=this._proportionate("x",i);return n>=t?{x:n,y:i}:{x:0,y:0}},_getDirectionName:function(e){var t=this._movingSides;return e==="x"?t.left?"left":"right":t.top?"top":"bottom"},_fitIntoArea:function(e,t){var i,r=this._getDirectionName(e);return Math.min(t,(i=this["_".concat(r,"MaxOffset")])!==null&&i!==void 0?i:1/0)},_fitDeltaProportionally:function(e){var t=Ie({},e),i=this._elementSize,{minWidth:r,minHeight:n,maxWidth:a,maxHeight:s}=this.option(),o=()=>i.width+t.x,l=()=>i.height+t.y,u=p=>t[p]===this._fitIntoArea(p,t[p]),d=()=>Xn(o(),r,a)&&u("x"),c=()=>Xn(l(),n,s)&&u("y");if(!d()){var h=this._fitIntoArea("x",Ji(o(),r,a)-i.width);t={x:h,y:this._proportionate("y",h)}}if(!c()){var f=this._fitIntoArea("y",Ji(l(),n,s)-i.height);t={x:this._proportionate("x",f),y:f}}return d()&&c()?t:{x:0,y:0}},_fitDelta:function(e){var{x:t,y:i}=e,r=this._elementSize,{minWidth:n,minHeight:a,maxWidth:s,maxHeight:o}=this.option();return{x:Ji(r.width+t,n,s)-r.width,y:Ji(r.height+i,a,o)-r.height}},_getDeltaByOffset:function(e){var t=this._movingSides,i=this._isCornerHandler(t)&&this.option("keepAspectRatio"),r={x:e.x*(t.left?-1:1),y:e.y*(t.top?-1:1)};if(i){var n=this._getProportionalDelta(r),a=this._fitDeltaProportionally(n);r=a}else{var s=this._fitDelta(r),o=this._roundByStep(s);r=o}return r},_updatePosition:function(e,t){var{width:i,height:r}=t,n=this._elementLocation,a=this._movingSides,s=this.$element(),o=this._getElementSize(),l=e.y*(a.top?-1:1)-((o.height||r)-r),u=e.x*(a.left?-1:1)-((o.width||i)-i);Ai(s,{top:n.top+(a.top?l:0),left:n.left+(a.left?u:0)})},_dragHandler:function(e){var t=this._getOffset(e),i=this._getDeltaByOffset(t),r=this._updateDimensions(i);this._updatePosition(i,r),this._triggerResizeAction(e,r)},_updateDimensions:function(e){var t=u=>u.substring(u.length-2)==="px",i=this.option("stepPrecision")==="strict",r=this._elementSize,n=r.width+e.x,a=r.height+e.y,s=this.$element().get(0).style,o=e.x||i||t(s.width),l=e.y||i||t(s.height);return o&&this.option({width:n}),l&&this.option({height:a}),{width:o?n:r.width,height:l?a:r.height}},_triggerResizeAction:function(e,t){var{width:i,height:r}=t;this._resizeAction({event:e,width:this.option("width")||i,height:this.option("height")||r,handles:this._movingSides}),Cn(this.$element())},_isCornerHandler:e=>Object.values(e).reduce((t,i)=>t^i,0)===0,_getOffset:function(e){var t=e.offset,i=this._movingSides;return!i.left&&!i.right&&(t.x=0),!i.top&&!i.bottom&&(t.y=0),t},_roundByStep:function(e){return this.option("stepPrecision")==="strict"?this._roundStrict(e):this._roundNotStrict(e)},_getSteps:function(){return d_(this.option("step"),!this.option("roundStepValue"))},_roundNotStrict:function(e){var t=this._getSteps();return{x:e.x-e.x%t.h,y:e.y-e.y%t.v}},_roundStrict:function(e){var t=this._movingSides,i={x:e.x*(t.left?-1:1),y:e.y*(t.top?-1:1)},r=this._getSteps(),n=this._elementLocation,a=this._elementSize,s=t.left?n.left:n.left+a.width,o=t.top?n.top:n.top+a.height,l=(s+i.x)%r.h,u=(o+i.y)%r.v,d=Math.sign||(v=>(v=+v,v===0||isNaN(v)?v:v>0?1:-1)),c=(v,b)=>(1+.2*d(b))%1*v,h=(v,b)=>Math.abs(v)<.2*b,f=i.x-l,p=i.y-u;l>c(r.h,i.x)&&(f+=r.h),u>c(r.v,i.y)&&(p+=r.v);var g=(t.left||t.right)&&!h(i.x,r.h)?f:0,m=(t.top||t.bottom)&&!h(i.y,r.v)?p:0;return{x:g*(t.left?-1:1),y:m*(t.top?-1:1)}},_getMovingSides:function(e){var t=W(e.target),i=t.hasClass(ah+"-top-left"),r=t.hasClass(ah+"-top-right"),n=t.hasClass(ah+"-bottom-left"),a=t.hasClass(ah+"-bottom-right");return{top:t.hasClass(hU)||i||r,left:t.hasClass(fU)||i||n,bottom:t.hasClass(cU)||n||a,right:t.hasClass(pU)||r||a}},_getArea:function(){var e=this.option("area");return Re(e)&&(e=e.call(this)),ft(e)?this._getAreaFromObject(e):this._getAreaFromElement(e)},_getAreaScrollOffset:function(){var e=this.option("area"),t=!Re(e)&&!ft(e),i={scrollY:0,scrollX:0};if(t){var r=W(e)[0];wi(r)&&(i.scrollX=r.pageXOffset,i.scrollY=r.pageYOffset)}return i},_getAreaFromObject:function(e){var t={width:e.right-e.left,height:e.bottom-e.top,offset:{left:e.left,top:e.top}};return this._correctAreaGeometry(t),t},_getAreaFromElement:function(e){var t=W(e),i;return t.length&&(i={width:jg(t),height:oc(t),offset:re({top:0,left:0},wi(t[0])?{}:t.offset())},this._correctAreaGeometry(i,t)),i},_correctAreaGeometry:function(e,t){var i=t?this._getBorderWidth(t,"left"):0,r=t?this._getBorderWidth(t,"top"):0;e.offset.left+=i+this._getBorderWidth(this.$element(),"left"),e.offset.top+=r+this._getBorderWidth(this.$element(),"top"),e.width-=At(this.$element())-jg(this.$element()),e.height-=Ct(this.$element())-oc(this.$element())},_dragEndHandler:function(e){var t=this.$element();this._resizeEndAction({event:e,width:At(t),height:Ct(t),handles:this._movingSides}),this._toggleResizingClass(!1)},_renderWidth:function(e){this.option("width",Ji(e,this.option("minWidth"),this.option("maxWidth")))},_renderHeight:function(e){this.option("height",Ji(e,this.option("minHeight"),this.option("maxHeight")))},_optionChanged:function(e){switch(e.name){case"disabled":this._toggleEventHandlers(!e.value),this.callBase(e);break;case"handles":this._invalidate();break;case"minWidth":case"maxWidth":rt()&&this._renderWidth(At(this.$element()));break;case"minHeight":case"maxHeight":rt()&&this._renderHeight(Ct(this.$element()));break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":case"keepAspectRatio":break;default:this.callBase(e)}},_clean:function(){this.$element().find("."+nh).remove()},_useTemplates:function(){return!1}});yt(Sf,bO);var bU=Js.inherit({_initMarkup(){this._deferredItems=[],this.callBase()},_renderItemContent(e){var t=new pe,i=new pe;this._deferredItems[e.index]=i;var r=this.callBase.call(this,e);return i.done(()=>{t.resolve(r)}),t.promise()},_createItemByTemplate(e,t){return e.render({model:t.itemData,container:t.container,index:t.index,onRendered:()=>{this._deferredItems[t.index].resolve()}})},_postProcessRenderItems:me,_renderItemsAsync(){var e=new pe;return Pe.apply(this,this._deferredItems).done(()=>{this._postProcessRenderItems(),e.resolve()}),e.promise()},_clean(){this.callBase(),this._deferredItems=[]}}),yO="dx-toolbar",mm="dx-toolbar-before",yU="dx-toolbar-center",lx="dx-toolbar-after",CU="dx-toolbar-mini",wU="dx-toolbar-item",CO="dx-toolbar-label",xU="dx-toolbar-button",SU="dx-toolbar-items-container",EU="dx-toolbar-group",ux="dx-toolbar-compact",sh="."+CO,dx="dx-toolbar-multiline",hx="text",IU="default",TU="contained",AU="dxToolbarItemDataKey",wO=bU.inherit({compactMode:!1,ctor:function(e,t){this._userOptions=t||{},this.callBase(e,t),"height"in this._userOptions&&$t.log("W0001",this.NAME,"height","20.1","Functionality associated with this option is not intended for the Toolbar widget.")},_getSynchronizableOptionsForCreateComponent:function(){return this.callBase().filter(e=>e!=="disabled")},_initTemplates:function(){this.callBase();var e=new Zs((function(t,i,r){ft(i)?(i.text&&t.text(i.text).wrapInner("<div>"),i.html&&t.html(i.html),i.widget==="dxDropDownButton"&&(i.options=i.options||{},Z(i.options.stylingMode)||(i.options.stylingMode=this.option("useFlatButtons")?hx:TU)),i.widget==="dxButton"&&(this.option("useFlatButtons")&&(i.options=i.options||{},i.options.stylingMode=i.options.stylingMode||hx),this.option("useDefaultButtons")&&(i.options=i.options||{},i.options.type=i.options.type||IU))):t.text(String(i)),this._getTemplate("dx-polymorph-widget").render({container:t,model:r,parent:this})}).bind(this),["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:e,menuItem:e})},_getDefaultOptions:function(){return re(this.callBase(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1,multiline:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return xi()},options:{useFlatButtons:!0}}])},_itemContainer:function(){return this._$toolbarItemsContainer.find(["."+mm,"."+yU,"."+lx].join(","))},_itemClass:function(){return wU},_itemDataKey:function(){return AU},_buttonClass:function(){return xU},_dimensionChanged:function(){this._arrangeItems(),this._applyCompactMode()},_initMarkup:function(){this._renderToolbar(),this._renderSections(),this.callBase(),this.setAria("role","toolbar")},_waitParentAnimationFinished:function(){var e=this.$element();return new Promise(t=>{var i=()=>{clearTimeout(this._waitParentAnimationTimeout),this._waitParentAnimationTimeout=setTimeout(()=>(()=>{var r=!0;return e.parents().each((n,a)=>{if(fi.isAnimating(W(a)))return r=!1,!1}),r&&t(),r})()||i(),15)};i()})},_render:function(){this.callBase(),this._renderItemsAsync(),xi()&&Promise.all([this._waitParentAnimationFinished(),this._checkWebFontForLabelsLoaded()]).then(this._dimensionChanged.bind(this))},_postProcessRenderItems:function(){this._arrangeItems()},_renderToolbar:function(){this.$element().addClass(yO).toggleClass(dx,this.option("multiline")),this._$toolbarItemsContainer=W("<div>").addClass(SU).appendTo(this.$element())},_renderSections:function(){var e=this._$toolbarItemsContainer,t=this;le(["before","center","after"],function(){var i="dx-toolbar-"+this,r=e.find("."+i);r.length||(t["_$"+this+"Section"]=r=W("<div>").addClass(i).appendTo(e))})},_checkWebFontForLabelsLoaded:function(){var e=this.$element().find(sh),t=[];return e.each((i,r)=>{var n=W(r).text(),a=W(r).css("fontWeight");t.push(OP(n,a))}),Promise.all(t)},_arrangeItems:function(e){e=e||Ze(this.$element()),this._$centerSection.css({margin:"0 auto",float:"none"});var t=mi(this._$beforeSection.get(0)),i=mi(this._$afterSection.get(0));this._alignCenterSection(t,i,e);var r=this._$toolbarItemsContainer.find(sh).eq(0),n=r.parent();if(r.length){var a=t.width?t.width:r.position().left,s=n.hasClass(mm)?0:a,o=n.hasClass(lx)?0:i.width,l=0;n.children().not(sh).each(function(){l+=At(this)});var u=e-l,d=Math.max(u-s-o,0);if(n.hasClass(mm))this._alignSection(this._$beforeSection,d);else{var c=At(r)-Ze(r);r.css("maxWidth",d-c)}}},_alignCenterSection:function(e,t,i){this._alignSection(this._$centerSection,i-e.width-t.width);var r=this.option("rtlEnabled"),n=r?t:e,a=r?e:t,s=mi(this._$centerSection.get(0));(n.right>s.left||s.right>a.left)&&this._$centerSection.css({marginLeft:n.width,marginRight:a.width,float:n.width>a.width?"none":"right"})},_alignSection:function(e,t){var i=e.find(sh),r=i.toArray();t-=this._getCurrentLabelsPaddings(r);var n=this._getCurrentLabelsWidth(r),a=Math.abs(n-t);t<n?(r=r.reverse(),this._alignSectionLabels(r,a,!1)):this._alignSectionLabels(r,a,!0)},_alignSectionLabels:function(e,t,i){for(var r=function(u){return mi(u).width},n=0;n<e.length;n++){var a=W(e[n]),s=Math.ceil(r(e[n])),o=void 0;i&&a.css("maxWidth","inherit");var l=Math.ceil(i?r(e[n]):s);if(l<t)o=i?l:0,t-=l;else{o=i?s+t:s-t,a.css("maxWidth",o);break}a.css("maxWidth",o)}},_applyCompactMode:function(){var e=this.$element();e.removeClass(ux),this.option("compactMode")&&this._getSummaryItemsWidth(this.itemElements(),!0)>Ze(e)&&e.addClass(ux)},_getCurrentLabelsWidth:function(e){var t=0;return e.forEach(function(i,r){t+=At(i)}),t},_getCurrentLabelsPaddings:function(e){var t=0;return e.forEach(function(i,r){t+=At(i)-Ze(i)}),t},_renderItem:function(e,t,i,r){var n=t.location||"center",a=i||this["_$"+n+"Section"],s=!!(t.text||t.html),o=this.callBase(e,t,a,r);return o.toggleClass(this._buttonClass(),!s).toggleClass(CO,s).addClass(t.cssClass),o},_renderGroupedItems:function(){var e=this;le(this.option("items"),function(t,i){var r=i.items,n=W("<div>").addClass(EU),a=i.location||"center";!r||!r.length||(le(r,function(s,o){e._renderItem(s,o,n,null)}),e._$toolbarItemsContainer.find(".dx-toolbar-"+a).append(n))})},_renderItems:function(e){var t=this.option("grouped")&&e.length&&e[0].items;t?this._renderGroupedItems():this.callBase(e)},_getToolbarItems:function(){return this.option("items")||[]},_renderContentImpl:function(){var e=this._getToolbarItems();this.$element().toggleClass(CU,e.length===0),this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e),this._applyCompactMode()},_renderEmptyMessage:me,_clean:function(){this._$toolbarItemsContainer.children().empty(),this.$element().empty()},_visibilityChanged:function(e){e&&this._arrangeItems()},_isVisible:function(){return Ze(this.$element())>0&&nt(this.$element())>0},_getIndexByItem:function(e){return this._getToolbarItems().indexOf(e)},_itemOptionChanged:function(e,t,i){this.callBase.apply(this,[e,t,i]),this._arrangeItems()},_optionChanged:function(e){var t=e.name;switch(t){case"width":this.callBase.apply(this,arguments),this._dimensionChanged();break;case"multiline":this.$element().toggleClass(dx,e.value);break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:this.callBase.apply(this,arguments)}},_dispose:function(){this.callBase(),clearTimeout(this._waitParentAnimationTimeout)}});yt("dxToolbarBase",wO);var OU=["fullScreen","forceApplyBindings","dragOutsideBoundary","dragAndResizeArea","outsideDragFactor"],gm=at();class DU extends U_{constructor(t){var{fullScreen:i,forceApplyBindings:r,dragOutsideBoundary:n,dragAndResizeArea:a,outsideDragFactor:s}=t,o=ai(t,OU);super(o),this._props=Ie({},this._props,{fullScreen:i,forceApplyBindings:r,dragOutsideBoundary:n,dragAndResizeArea:a,outsideDragFactor:s}),this._$dragResizeContainer=void 0,this._outsideDragFactor=void 0,this._lastPositionBeforeFullScreen=void 0,this._updateDragResizeContainer(),this._updateOutsideDragFactor()}set fullScreen(t){this._props.fullScreen=t,t?this._fullScreenEnabled():this._fullScreenDisabled()}get $dragResizeContainer(){return this._$dragResizeContainer}get outsideDragFactor(){return this._outsideDragFactor}set dragAndResizeArea(t){this._props.dragAndResizeArea=t,this._updateDragResizeContainer()}set dragOutsideBoundary(t){this._props.dragOutsideBoundary=t,this._updateDragResizeContainer(),this._updateOutsideDragFactor()}set outsideDragFactor(t){this._props.outsideDragFactor=t,this._updateOutsideDragFactor()}updateContainer(t){super.updateContainer(t),this._updateDragResizeContainer()}dragHandled(){this.restorePositionOnNextRender(!1)}resizeHandled(){this.restorePositionOnNextRender(!1)}positionContent(){if(this._props.fullScreen)Ai(this._$content,{top:0,left:0}),this.detectVisualPositionChange();else{var t,i;(t=(i=this._props).forceApplyBindings)===null||t===void 0||t.call(i),!this._shouldRenderContentInitialPosition&&this._lastPositionBeforeFullScreen?(Ai(this._$content,this._lastPositionBeforeFullScreen),this._lastPositionBeforeFullScreen=void 0,this.detectVisualPositionChange()):super.positionContent()}}_updateOutsideDragFactor(){this._outsideDragFactor=this._getOutsideDragFactor()}_getOutsideDragFactor(){return this._props.dragOutsideBoundary?1:this._props.outsideDragFactor}_updateDragResizeContainer(){this._$dragResizeContainer=this._getDragResizeContainer()}_getDragResizeContainer(){if(this._props.dragOutsideBoundary)return W(gm);if(this._props.dragAndResizeArea)return W(this._props.dragAndResizeArea);var t=KI().get(0)||this._props.container;return t?this._$markupContainer:W(gm)}_getVisualContainer(){return this._props.fullScreen?W(gm):super._getVisualContainer()}_fullScreenEnabled(){this.restorePositionOnNextRender(!1),this._lastPositionBeforeFullScreen=this._visualPosition}_fullScreenDisabled(){this.restorePositionOnNextRender(!1)}}var RU=at(),vm="dx-popup",kU="dx-popup-wrapper",MU="dx-popup-fullscreen",BU="dx-popup-fullscreen-width",PU="dx-popup-normal",FU="dx-popup-content",LU="dx-state-disabled",NU="dx-popup-draggable",cx="dx-popup-title",VU="dx-closebutton",fx="dx-popup-bottom",$U="dx-has-close-button",HU="dx-template-wrapper",zU="dx-popup-flex-height",WU="dx-popup-inherit-height",px=["cancel","clear","done"],jU="default",UU="normal",GU="text",KU="contained",qU=Qt.safari&&mT(Qt.version,[11])<0,pa={static:"",inherit:WU,flex:zU},XU=e=>{var t=Ne.current(),i=t.platform,r="bottom",n="before";if(i==="ios")switch(e){case"cancel":r="top";break;case"clear":r="top",n="after";break;case"done":n="after"}else if(i==="android")switch(e){case"cancel":case"done":n="after"}return{toolbar:r,location:n}},kn=on.inherit({_supportedKeys:function(){return re(this.callBase(),{upArrow:e=>{var t;(t=this._drag)===null||t===void 0||t.moveUp(e)},downArrow:e=>{var t;(t=this._drag)===null||t===void 0||t.moveDown(e)},leftArrow:e=>{var t;(t=this._drag)===null||t===void 0||t.moveLeft(e)},rightArrow:e=>{var t;(t=this._drag)===null||t===void 0||t.moveRight(e)}})},_getDefaultOptions:function(){return re(this.callBase(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragOutsideBoundary:!1,dragEnabled:!1,dragAndResizeArea:void 0,outsideDragFactor:0,onResizeStart:null,onResize:null,onResizeEnd:null,resizeEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})},_defaultOptionsRules:function(){var e=un();return this.callBase().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:function(t){return Ne.real().deviceType==="desktop"&&t.platform==="generic"},options:{dragEnabled:!0}},{device:function(){return Ne.real().deviceType==="desktop"&&!Ne.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return xi(e)},options:{useDefaultToolbarButtons:!0,useFlatToolbarButtons:!0,showCloseButton:!1}}])},_iosAnimation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}},_androidAnimation:function(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}},_init:function(){this.callBase(),this._updateResizeCallbackSkipCondition(),this.$element().addClass(vm),this.$wrapper().addClass(kU),this._$popupContent=this._$content.wrapInner(W("<div>").addClass(FU)).children().eq(0)},_render:function(){var e=this.option("fullScreen");this._toggleFullScreenClass(e),this.callBase()},_toggleFullScreenClass:function(e){this.$overlayContent().toggleClass(MU,e).toggleClass(PU,!e)},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new Ss,bottom:new Ss})},_getActionsList:function(){return this.callBase().concat(["onResizeStart","onResize","onResizeEnd"])},_contentResizeHandler:function(e){this._shouldSkipContentResize(e)||this._renderGeometry({shouldOnlyReposition:!0})},_doesShowAnimationChangeDimensions:function(){var e=this.option("animation");return["to","from"].some(t=>{var i,r=e==null||(i=e.show)===null||i===void 0?void 0:i[t];return Ge(r)&&("width"in r||"height"in r)})},_updateResizeCallbackSkipCondition(){var e=this._doesShowAnimationChangeDimensions();this._shouldSkipContentResize=t=>e&&this._showAnimationProcessing||this._areContentDimensionsRendered(t)},_observeContentResize:function(e){if(this.option("useResizeObserver")){var t=this._$content.get(0);e?Tc.observe(t,i=>{this._contentResizeHandler(i)}):Tc.unobserve(t)}},_renderContentImpl:function(){this._renderTitle(),this.callBase(),this._renderResize(),this._renderBottom()},_renderTitle:function(){var e=this._getToolbarItems("top"),t=this.option("title"),i=this.option("showTitle");if(i&&t&&e.unshift({location:Ne.current().ios?"center":"before",text:t}),i||e.length>0){this._$title&&this._$title.remove();var r=W("<div>").addClass(cx).insertBefore(this.$content());this._$title=this._renderTemplateByType("titleTemplate",e,r).addClass(cx),this._renderDrag(),this._executeTitleRenderAction(this._$title),this._$title.toggleClass($U,this._hasCloseButton())}else this._$title&&this._$title.detach()},_renderTemplateByType:function(e,t,i,r){var{rtlEnabled:n,useDefaultToolbarButtons:a,useFlatToolbarButtons:s,disabled:o}=this.option(),l=this._getTemplateByOption(e),u=l instanceof Ss;if(u){var d=re({},this.option("integrationOptions"),{skipTemplates:["content","title"]}),c=re(r,{items:t,rtlEnabled:n,useDefaultButtons:a,useFlatButtons:s,disabled:o,integrationOptions:d});this._getTemplate("dx-polymorph-widget").render({container:i,model:{widget:"dxToolbarBase",options:c}});var h=i.children("div");return i.replaceWith(h),h}else{var f=W(l.render({container:qe(i)}));return f.hasClass(HU)&&(i.replaceWith(f),i=f),i}},_renderVisibilityAnimate:function(e){return this._observeContentResize(e),this.callBase(e)},_executeTitleRenderAction:function(e){this._getTitleRenderAction()({titleElement:qe(e)})},_getTitleRenderAction:function(){return this._titleRenderAction||this._createTitleRenderAction()},_createTitleRenderAction:function(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]})},_getCloseButton:function(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}},_getCloseButtonRenderer:function(){return(e,t,i)=>{var r=W("<div>").addClass(VU);this._createComponent(r,Ki,{icon:"close",onClick:this._createToolbarItemAction(void 0),stylingMode:"text",integrationOptions:{}}),W(i).append(r)}},_getToolbarItems:function(e){var t=this.option("toolbarItems"),i=[];this._toolbarItemClasses=[];var r=Ne.current().platform,n=0;return le(t,(a,s)=>{var o=Z(s.shortcut),l=o?XU(s.shortcut):s;if(o&&r==="ios"&&n<2&&(l.toolbar="top",n++),l.toolbar=s.toolbar||l.toolbar||"top",l&&l.toolbar===e){o&&re(l,{location:s.location},this._getToolbarItemByAlias(s));var u=r==="generic";s.shortcut==="done"&&u||s.shortcut==="cancel"&&!u?i.unshift(l):i.push(l)}}),e==="top"&&this._hasCloseButton()&&i.push(this._getCloseButton()),i},_hasCloseButton(){return this.option("showCloseButton")&&this.option("showTitle")},_getLocalizationKey:e=>e.toLowerCase()==="done"?"OK":yu(e,!0),_getToolbarItemByAlias:function(e){var t=this,i=e.shortcut;if(!px.includes(i))return!1;var r=re({text:_e.format(this._getLocalizationKey(i)),onClick:this._createToolbarItemAction(e.onClick),integrationOptions:{},type:t.option("useDefaultToolbarButtons")?jU:UU,stylingMode:t.option("useFlatToolbarButtons")?GU:KU},e.options||{}),n=vm+"-"+i;return this._toolbarItemClasses.push(n),{template:function(a,s,o){var l=W("<div>").addClass(n).appendTo(o);t._createComponent(l,Ki,r)}}},_createToolbarItemAction:function(e){return this._createAction(e,{afterExecute:function(t){t.component.hide()}})},_renderBottom:function(){var e=this._getToolbarItems("bottom");if(e.length){this._$bottom&&this._$bottom.remove();var t=W("<div>").addClass(fx).insertAfter(this.$content());this._$bottom=this._renderTemplateByType("bottomTemplate",e,t,{compactMode:!0}).addClass(fx),this._toggleClasses()}else this._$bottom&&this._$bottom.detach()},_toggleDisabledState:function(e){this.callBase(...arguments),this.$content().toggleClass(LU,!!e)},_toggleClasses:function(){var e=px;le(e,(t,i)=>{var r=vm+"-"+i;this._toolbarItemClasses.includes(r)?(this.$wrapper().addClass(r+"-visible"),this._$bottom.addClass(r)):(this.$wrapper().removeClass(r+"-visible"),this._$bottom.removeClass(r))})},_toggleFocusClass(e,t){if(this.callBase(e,t),e&&!U8(this._zIndex)){var i=NT(this._zIndexInitValue());cv(this._zIndex),this._zIndex=i,this._$wrapper.css("zIndex",i),this._$content.css("zIndex",i)}},_getPositionControllerConfig(){var{fullScreen:e,forceApplyBindings:t,dragOutsideBoundary:i,dragAndResizeArea:r,outsideDragFactor:n}=this.option();return re({},this.callBase(),{fullScreen:e,forceApplyBindings:t,dragOutsideBoundary:i,dragAndResizeArea:r,outsideDragFactor:n})},_initPositionController(){this._positionController=new DU(this._getPositionControllerConfig())},_getDragTarget:function(){return this.topToolbar()},_renderGeometry:function(e){var{visible:t,useResizeObserver:i}=this.option();if(t&&rt()){var r=this._showAnimationProcessing,n=r&&!(e!=null&&e.forceStopAnimation)&&i;this._isAnimationPaused=n||void 0,this._stopAnimation(),e!=null&&e.shouldOnlyReposition?this._positionController.positionContent():this._renderGeometryImpl(e==null?void 0:e.isDimensionChange),n&&(this._animateShowing(),this._isAnimationPaused=void 0)}},_cacheDimensions:function(){this.option("useResizeObserver")&&(this._renderedDimensions={width:parseInt(Ze(this._$content),10),height:parseInt(nt(this._$content),10)})},_renderGeometryImpl:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;e||this._resetContentHeight(),this.callBase(),this._cacheDimensions(),this._setContentHeight()},_resetContentHeight:function(){var e=this._getOptionValue("height");e==="auto"&&this.$content().css({height:"auto",maxHeight:"none"})},_renderDrag:function(){var e=this._getDragTarget(),t=this.option("dragEnabled");if(e){var i={dragEnabled:t,handle:e.get(0),draggableElement:this._$content.get(0),positionController:this._positionController};this._drag?this._drag.init(i):this._drag=new lU(i),this.$overlayContent().toggleClass(NU,t)}},_renderResize:function(){this._resizable=this._createComponent(this._$content,bO,{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:e=>{this._resizeEndHandler(e),this._observeContentResize(!0)},onResize:e=>{this._setContentHeight(),this._actions.onResize(e)},onResizeStart:e=>{this._observeContentResize(!1),this._actions.onResizeStart(e)},minHeight:100,minWidth:100,area:this._positionController.$dragResizeContainer,keepAspectRatio:!1})},_resizeEndHandler:function(e){var t=this._resizable.option("width"),i=this._resizable.option("height");t&&this._setOptionWithoutOptionChange("width",t),i&&this._setOptionWithoutOptionChange("height",i),this._cacheDimensions(),this._positionController.resizeHandled(),this._positionController.detectVisualPositionChange(e.event),this._actions.onResizeEnd(e)},_setContentHeight:function(){(this.option("forceApplyBindings")||me)();var e=this.$overlayContent().get(0),t=this._chooseHeightStrategy(e);this.$content().css(this._getHeightCssStyles(t,e)),this._setHeightClasses(this.$overlayContent(),t)},_heightStrategyChangeOffset:function(e,t){return e===pa.flex?-t:0},_chooseHeightStrategy:function(e){var t=e.style.width==="auto"||e.style.width==="",i=pa.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(t||qU?i=pa.inherit:i=pa.flex),i},_getHeightCssStyles:function(e,t){var i={},r=this._getOptionValue("maxHeight",t),n=this._getOptionValue("minHeight",t),a=this._splitPopupHeight(),s=a.header+a.footer+a.contentVerticalOffsets+a.popupVerticalOffsets+this._heightStrategyChangeOffset(e,a.popupVerticalPaddings);if(e===pa.static){if(!this._isAutoHeight()||r||n){var o=this.option("fullScreen")?Math.min(mi(t).height,at().innerHeight):mi(t).height,l=o-s;i={height:Math.max(0,l),minHeight:"auto",maxHeight:"auto"}}}else{var u=W(this._positionController.$visualContainer).get(0),d=q5(r,-s,u),c=X5(n,-s,u);i={height:"auto",minHeight:c,maxHeight:d}}return i},_setHeightClasses:function(e,t){var i="";for(var r in pa)pa[r]!==t&&(i+=" "+pa[r]);e.removeClass(i).addClass(t)},_isAutoHeight:function(){return this.$overlayContent().get(0).style.height==="auto"},_splitPopupHeight:function(){var e=this.topToolbar(),t=this.bottomToolbar();return{header:ay(e&&e.get(0)),footer:ay(t&&t.get(0)),contentVerticalOffsets:cp(this.$overlayContent().get(0),!0),popupVerticalOffsets:cp(this.$content().get(0),!0),popupVerticalPaddings:cp(this.$content().get(0),!1)}},_isAllWindowCovered:function(){return this.callBase()||this.option("fullScreen")},_renderDimensions:function(){this.option("fullScreen")?this.$overlayContent().css({width:"100%",height:"100%",minWidth:"",maxWidth:"",minHeight:"",maxHeight:""}):this.callBase(),rt()&&this._renderFullscreenWidthClass()},_dimensionChanged:function(){this._renderGeometry({isDimensionChange:!0})},_clean:function(){this.callBase(),this._observeContentResize(!1)},_renderFullscreenWidthClass:function(){this.$overlayContent().toggleClass(BU,At(this.$overlayContent())===Ze(RU))},refreshPosition:function(){this._renderPosition()},_optionChanged:function(e){var t,i=e.value;switch(e.name){case"disabled":this.callBase(e),this._renderTitle(),this._renderBottom();break;case"animation":this._updateResizeCallbackSkipCondition();break;case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry(),Cn(this.$overlayContent());break;case"bottomTemplate":this._renderBottom(),this._renderGeometry(),Cn(this.$overlayContent());break;case"container":if(this.callBase(e),this.option("resizeEnabled")){var r;(r=this._resizable)===null||r===void 0||r.option("area",this._positionController.$dragResizeContainer)}break;case"width":case"height":this.callBase(e),(t=this._resizable)===null||t===void 0||t.option(e.name,e.value);break;case"onTitleRendered":this._createTitleRenderAction(e.value);break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":var n=!e.fullName.match(/^toolbarItems((\[\d+\])(\.(options|visible).*)?)?$/);this._renderTitle(),this._renderBottom(),n&&(this._renderGeometry(),Cn(this.$overlayContent()));break;case"dragEnabled":this._renderDrag();break;case"dragAndResizeArea":this._positionController.dragAndResizeArea=i,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer),this._positionController.positionContent();break;case"dragOutsideBoundary":this._positionController.dragOutsideBoundary=i,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer);break;case"outsideDragFactor":this._positionController.outsideDragFactor=i;break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"autoResizeEnabled":this._renderGeometry(),Cn(this.$overlayContent());break;case"fullScreen":this._positionController.fullScreen=e.value,this._toggleFullScreenClass(e.value),this._toggleSafariScrolling(),this._renderGeometry(),Cn(this.$overlayContent());break;case"showCloseButton":this._renderTitle();break;default:this.callBase(e)}},bottomToolbar:function(){return this._$bottom},topToolbar:function(){return this._$title},$content:function(){return this._$popupContent},content:function(){return qe(this.$content())},$overlayContent:function(){return this._$content}});yt("dxPopup",kn);var YU={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},ZU=["shading","target","$arrow"],Nn={left:-1,top:-1,center:0,right:1,bottom:1},xO={top:{my:"bottom center",at:"top center",collision:"fit flip"},bottom:{my:"top center",at:"bottom center",collision:"fit flip"},right:{my:"left center",at:"right center",collision:"flip fit"},left:{my:"right center",at:"left center",collision:"flip fit"}},JU={h:10,v:10};class QU extends U_{constructor(t){var{shading:i,target:r,$arrow:n}=t,a=ai(t,ZU);super(a),this._props=Ie({},this._props,{shading:i,target:r}),this._$arrow=n,this._positionSide=void 0,this.updatePosition(this._props.position)}positionWrapper(){this._props.shading&&this._$wrapper.css({top:0,left:0})}updateTarget(t){this._props.target=t,this.updatePosition(this._props.position)}_renderBoundaryOffset(){}_getContainerPosition(){var t=d_(this._position.offset||""),{h:i,v:r}=t,n=this._isVerticalSide(),a=this._isHorizontalSide();if(n||a){var s=this._isPopoverInside(),o=(s?-1:1)*Nn[this._positionSide],l=n?nt(this._$arrow):Ze(this._$arrow),u=this._getContentBorderWidth(this._positionSide),d=o*(l-u);n?r+=d:i+=d}return re({},this._position,{offset:i+" "+r})}_getContentBorderWidth(t){var i=this._$content.css(YU[t]);return parseInt(i)||0}_isPopoverInside(){var t=zi.setup.normalizeAlign(this._position.my),i=zi.setup.normalizeAlign(this._position.at);return t.h===i.h&&t.v===i.v}_isVerticalSide(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._positionSide;return t==="top"||t==="bottom"}_isHorizontalSide(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._positionSide;return t==="left"||t==="right"}_getDisplaySide(t){var i=zi.setup.normalizeAlign(t.my),r=zi.setup.normalizeAlign(t.at),n=Nn[i.h]===Nn[r.h]&&Nn[i.v]===Nn[r.v]?-1:1,a=Math.abs(Nn[i.h]-n*Nn[r.h]),s=Math.abs(Nn[i.v]-n*Nn[r.v]);return a>s?r.h:r.v}_normalizePosition(t){var i={of:this._props.target,boundaryOffset:JU},r;return Z(t)?r=re(!0,{},i,this._positionToObject(t)):r=i,this._positionSide=this._getDisplaySide(r),r}_positionToObject(t){return Ue(t)?re({},xO[t]):t}}var eG="dx-popover",tG="dx-popover-wrapper",iG="dx-popover-arrow",rG="dx-popover-without-title",mx={left:"right",top:"bottom",right:"left",bottom:"top",center:"center"},SO=function(e){return Ge(e)?e.name:e},EO=function(e,t){var i=e.option(t);return SO(i)},nG=function(e,t){var i=e.option(t);return Ge(i)&&i.delay},_m=function(e,t){var{target:i,shading:r,disabled:n,hideEvent:a}=e.option(),s=Ue(i),o=r&&t==="hide",l=o?null:EO(e,"".concat(t,"Event"));if(o&&a&&gt.log("W1020"),!(!l||n)){var u=xe(l,e.NAME),d=e._createAction((function(){var p=nG(e,t+"Event");this._clearEventsTimeouts(),p?this._timeouts[t]=setTimeout(function(){e[t]()},p):e[t]()}).bind(e),{validatingTargetName:"target"}),c=function(p){d({event:p,target:W(p.currentTarget)})},h="_"+t+"EventHandler";if(s)e[h]=c,te.on(we.getDocument(),u,i,c);else{var f=qe(W(i));e[h]=void 0,te.on(f,u,c)}}},bm=function(e,t,i,r){var n=r||EO(e,i+"Event");if(n){n=xe(n,e.NAME);var a="_"+i+"EventHandler";e[a]?te.off(we.getDocument(),n,t,e[a]):te.off(qe(W(t)),n)}},IO=kn.inherit({_getDefaultOptions:function(){return re(this.callBase(),{target:void 0,shading:!1,position:re({},xO.bottom),hideOnOutsideClick:!0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",from:1,to:0}},showTitle:!1,width:"auto",height:"auto",dragEnabled:!1,resizeEnabled:!1,fullScreen:!1,hideOnParentScroll:!0,arrowPosition:"",arrowOffset:0,_fixWrapperPosition:!0})},_defaultOptionsRules:function(){return[{device:{platform:"ios"},options:{arrowPosition:{boundaryOffset:{h:20,v:-10},collision:"fit"}}},{device:function(){return!rt()},options:{animation:null}}]},_init:function(){this.callBase(),this._renderArrow(),this._timeouts={},this.$element().addClass(eG),this.$wrapper().addClass(tG)},_render:function(){this.callBase.apply(this,arguments),this._detachEvents(this.option("target")),this._attachEvents()},_detachEvents:function(e){bm(this,e,"show"),bm(this,e,"hide")},_attachEvents:function(){_m(this,"show"),_m(this,"hide")},_renderArrow:function(){this._$arrow=W("<div>").addClass(iG).prependTo(this.$overlayContent())},_documentDownHandler:function(e){return this._isOutsideClick(e)?this.callBase(e):!0},_isOutsideClick:function(e){return!W(e.target).closest(this.option("target")).length},_animate:function(e){e&&e.to&&typeof e.to=="object"&&re(e.to,{position:this._getContainerPosition()}),this.callBase.apply(this,arguments)},_stopAnimation:function(){this.callBase.apply(this,arguments)},_renderTitle:function(){this.$wrapper().toggleClass(rG,!this.option("showTitle")),this.callBase()},_renderPosition:function(){this.callBase(),this._renderOverlayPosition(),this._actions.onPositioned()},_renderOverlayPosition:function(){this._resetOverlayPosition(),this._updateContentSize();var e=this._getContainerPosition(),t=zi.setup(this.$overlayContent(),e),i=this._getSideByLocation(t);this._togglePositionClass("dx-position-"+i),this._toggleFlippedClass(t.h.flip,t.v.flip);var r=this._isHorizontalSide()||this._isVerticalSide();r&&this._renderArrowPosition(i)},_resetOverlayPosition:function(){this._setContentHeight(!0),this._togglePositionClass("dx-position-"+this._positionController._positionSide),Ai(this.$overlayContent(),{left:0,top:0}),this._$arrow.css({top:"auto",right:"auto",bottom:"auto",left:"auto"})},_updateContentSize:function(){if(this.$content()){var e=zi.calculate(this.$overlayContent(),this._getContainerPosition());if(e.h.oversize>0&&this._isHorizontalSide()&&!e.h.fit){var t=Ze(this.$overlayContent())-e.h.oversize;zu(this.$overlayContent(),t)}if(e.v.oversize>0&&this._isVerticalSide()&&!e.v.fit){var i=nt(this.$overlayContent())-e.v.oversize,r=nt(this.$content())-e.v.oversize;Dr(this.$overlayContent(),i),Dr(this.$content(),r)}}},_getContainerPosition:function(){return this._positionController._getContainerPosition()},_hideOnParentScrollTarget:function(){return W(this._positionController._position.of||this.callBase())},_getSideByLocation:function(e){var t=e.v.flip,i=e.h.flip;return this._isVerticalSide()&&t||this._isHorizontalSide()&&i||this._isPopoverInside()?mx[this._positionController._positionSide]:this._positionController._positionSide},_togglePositionClass:function(e){this.$wrapper().removeClass("dx-position-left dx-position-right dx-position-top dx-position-bottom").addClass(e)},_toggleFlippedClass:function(e,t){this.$wrapper().toggleClass("dx-popover-flipped-horizontal",e).toggleClass("dx-popover-flipped-vertical",t)},_renderArrowPosition:function(e){var t=mi(this._$arrow.get(0)),i=-(this._isVerticalSide(e)?t.height:t.width);this._$arrow.css(mx[e],i);var r=this._isVerticalSide(e)?"left":"top",n=this._isVerticalSide(e)?"width":"height",a=W(this._positionController._position.of),s=zi.offset(a)||{top:0,left:0},o=zi.offset(this.$overlayContent()),l=t[n],u=o[r],d=mi(this.$overlayContent().get(0))[n],c=s[r],h=a.get(0),f=h&&!h.preventDefault?mi(h)[n]:0,p=Math.max(u,c),g=Math.min(u+d,c+f),m;this.option("arrowPosition")==="start"?m=p-u:this.option("arrowPosition")==="end"?m=g-u-l:m=(p+g)/2-u-l/2;var v=this._positionController._getContentBorderWidth(e),b=Ji(m-v+this.option("arrowOffset"),v,d-l-2*v);this._$arrow.css(r,b)},_isPopoverInside:function(){return this._positionController._isPopoverInside()},_setContentHeight:function(e){e&&this.callBase()},_getPositionControllerConfig(){var{shading:e,target:t}=this.option();return re({},this.callBase(),{target:t,shading:e,$arrow:this._$arrow})},_initPositionController(){this._positionController=new QU(this._getPositionControllerConfig())},_renderWrapperDimensions:function(){this.option("shading")&&this.$wrapper().css({width:"100%",height:"100%"})},_isVerticalSide:function(e){return this._positionController._isVerticalSide(e)},_isHorizontalSide:function(e){return this._positionController._isHorizontalSide(e)},_clearEventTimeout:function(e){clearTimeout(this._timeouts[e])},_clearEventsTimeouts:function(){this._clearEventTimeout("show"),this._clearEventTimeout("hide")},_clean:function(){this._detachEvents(this.option("target")),this.callBase.apply(this,arguments)},_optionChanged:function(e){switch(e.name){case"arrowPosition":case"arrowOffset":this._renderGeometry();break;case"fullScreen":e.value&&this.option("fullScreen",!1);break;case"target":e.previousValue&&this._detachEvents(e.previousValue),this._positionController.updateTarget(e.value),this._invalidate();break;case"showEvent":case"hideEvent":var t=e.name.substring(0,4),i=SO(e.previousValue);this.hide(),bm(this,this.option("target"),t,i),_m(this,t);break;case"visible":this._clearEventTimeout(e.value?"show":"hide"),this.callBase(e);break;default:this.callBase(e)}},show:function(e){return e&&this.option("target",e),this.callBase()}});yt("dxPopover",IO);var aG="dx-list-item",gx="dx-list-group",M0=20,sG=(1<<M0)-1,vx=function(e){return(e.group<<M0)+e.item},ss=function(e){return{group:e>>M0,item:e&sG}},oG=E0.inherit({_groupElements:function(){return this._collectionWidget._itemContainer().find("."+gx)},_groupItemElements:function(e){return e.find("."+aG)},getIndexByItemData:function(e){var t=this._collectionWidget.option("items"),i=!1;return e?(e.items&&e.items.length&&(e=e.items[0]),le(t,function(r,n){if(!n.items||(le(n.items,function(a,s){return s!==e?!0:(i={group:r,item:a},!1)}),i))return!1}),i):!1},getItemDataByIndex:function(e){var t=this._collectionWidget.option("items");return Kt(e)?this.itemsGetter()[e]:e&&t[e.group]&&t[e.group].items[e.item]||null},itemsGetter:function(){for(var e=[],t=this._collectionWidget.option("items"),i=0;i<t.length;i++)t[i]&&t[i].items?e=e.concat(t[i].items):e.push(t[i]);return e},deleteItemAtIndex:function(e){var t=ss(e),i=this._collectionWidget.option("items")[t.group].items;i.splice(t.item,1)},getKeysByItems:function(e){var t=[],i;for(i=0;i<e.length;i++)e[i]&&e[i].items?t=t.concat(e[i].items):t.push(e[i]);var r=[];for(i=0;i<t.length;i++)r.push(this._collectionWidget.keyOf(t[i]));return r},getIndexByKey:function(e,t){var i=t||this._collectionWidget.option("items"),r=-1,n=this;return le(i,function(a,s){if(s.items&&(le(s.items,function(o,l){var u=n._collectionWidget.keyOf(l);if(n._equalKeys(u,e))return r={group:a,item:o},!1}),r!==-1))return!1}),r},_getGroups:function(e){var t=this._collectionWidget.getDataSource(),i=t&&t.group();return i?na.queryByOptions(cr(e),{group:i}).toArray():this._collectionWidget.option("items")},getItemsByKeys:function(e,t){var i=[],r=this._getGroups(t),n={},a=s=>{var o=this.getIndexByKey(s,r),l=o&&r[o.group];if(l)return{groupKey:l.key,item:l.items[o.item]}};return le(e,function(s,o){var l=a(o);if(l){var u=l.groupKey,d=l.item,c=n[u];c||(c={key:u,items:[]},n[u]=c,i.push(c)),c.items.push(d)}}),i},moveItemAtIndexToIndex:function(e,t){var i=this._collectionWidget.option("items"),r=ss(e),n=ss(t),a=i[r.group].items,s=i[n.group].items,o=a[r.item];a.splice(r.item,1),s.splice(n.item,0,o)},_isItemIndex:function(e){return e&&Kt(e.group)&&Kt(e.item)},_getNormalizedItemIndex:function(e){var t=W(e),i=t.closest("."+gx);return i.length?vx({group:this._groupElements().index(i),item:this._groupItemElements(i).index(t)}):-1},_normalizeItemIndex:function(e){return vx(e)},_denormalizeItemIndex:function(e){return ss(e)},_getItemByNormalizedIndex:function(e){var t=ss(e),i=this._groupElements().eq(t.group);return this._groupItemElements(i).eq(t.item)},_itemsFromSameParent:function(e,t){return ss(e).group===ss(t).group}}),TO={};function lG(e,t,i){var r=TO,n={};n[e]=r[e]?r[e]:{},n[e][t]=i,re(r,n)}var AO=[],Ef=function(e,t,i){AO.push({enabled:e,decoratorType:t,decoratorSubType:i})};Ef(function(){return this.option("menuItems").length},function(){return"menu"},function(){return this.option("menuMode")});Ef(function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")},function(){var e=this.option("itemDeleteMode");return e==="toggle"||e==="slideButton"||e==="swipe"||e==="static"?"delete":"menu"},function(){var e=this.option("itemDeleteMode");return e==="slideItem"&&(e="slide"),e});Ef(function(){return this.option("selectionMode")!=="none"&&this.option("showSelectionControls")},function(){return"selection"},function(){return"default"});Ef(function(){return this.option("itemDragging.allowReordering")||this.option("itemDragging.allowDropInsideItem")||this.option("itemDragging.group")},function(){return"reorder"},function(){return"default"});var uG="dx-list-item-before-bag",dG="dx-list-item-after-bag",hG="beforeBag",cG="afterBag",fG="modifyElement",pG="afterRender",mG="getExcludedSelectors",gG=wt.inherit({ctor:function(e){this._list=e,this._fetchRequiredDecorators()},dispose:function(){this._decorators&&this._decorators.length&&le(this._decorators,function(e,t){t.dispose()})},_fetchRequiredDecorators:function(){this._decorators=[],le(AO,(function(e,t){var i=t.enabled.call(this._list);if(i){var r=t.decoratorType.call(this._list),n=t.decoratorSubType.call(this._list),a=this._createDecorator(r,n);this._decorators.push(a)}}).bind(this))},_createDecorator:function(e,t){var i=this._findDecorator(e,t);return new i(this._list)},_findDecorator:function(e,t){var i,r=(i=TO[e])===null||i===void 0?void 0:i[t];if(!r)throw gt.Error("E1012",e,t);return r},modifyItemElement:function(e){var t=W(e.itemElement),i={$itemElement:t};this._prependBeforeBags(t,i),this._appendAfterBags(t,i),this._applyDecorators(fG,i)},afterItemsRendered:function(){this._applyDecorators(pG)},_prependBeforeBags:function(e,t){var i=this._collectDecoratorsMarkup(hG,t,uG);e.prepend(i)},_appendAfterBags:function(e,t){var i=this._collectDecoratorsMarkup(cG,t,dG);e.append(i)},_collectDecoratorsMarkup:function(e,t,i){var r=W("<div>");return le(this._decorators,function(){var n=W("<div>").addClass(i);this[e](re({$container:n},t)),n.children().length&&r.append(n)}),r.children()},_applyDecorators:function(e,t){le(this._decorators,function(){this[e](t)})},_handlerExists:function(e){if(!this._decorators)return!1;for(var t=this._decorators,i=t.length,r=0;r<i;r++)if(t[r][e]!==me)return!0;return!1},_eventHandler:function(e,t,i){if(!this._decorators)return!1;for(var r=!1,n=this._decorators,a=n.length,s=0;s<a&&(r=n[s][e](t,i),!r);s++);return r},handleClick:function(e,t){return this._eventHandler("handleClick",e,t)},handleKeyboardEvents:function(e,t){return this._eventHandler("handleKeyboardEvents",e,t)},handleEnterPressing:function(e){return this._eventHandler("handleEnterPressing",e)},contextMenuHandlerExists:function(){return this._handlerExists("handleContextMenu")},handleContextMenu:function(e,t){return this._eventHandler("handleContextMenu",e,t)},getExcludedItemSelectors:function(){var e=[];return this._applyDecorators(mG,e),e.join(",")}}),vG="dx-list-item-selected",_G="dx-list-item-response-wait",bG=k0.inherit({_supportedKeys(){var e=this,t=this.callBase(),i=(r,n)=>{var a=this._editStrategy,s=this.option("focusedElement"),o=a.getNormalizedIndex(s),l=o===this._getLastItemIndex();if(!(l&&this._isDataSourceLoading()))if(r.shiftKey&&e.option("itemDragging.allowReordering")){var u=o+(n?-1:1),d=a.getItemElement(u);this.reorderItem(s,d),this.scrollToItem(s),r.preventDefault()}else{var c=this._editProvider,h=c.handleKeyboardEvents(o,n);h||(n?t.upArrow(r):t.downArrow(r))}};return re({},t,{del:r=>{e.option("allowItemDeleting")&&(r.preventDefault(),e.deleteItem(e.option("focusedElement")))},upArrow:r=>i(r,!0),downArrow:r=>i(r),enter:function(r){this._editProvider.handleEnterPressing(r)||t.enter.apply(this,arguments)},space:function(r){this._editProvider.handleEnterPressing(r)||t.space.apply(this,arguments)}})},_updateSelection(){this._editProvider.afterItemsRendered(),this.callBase()},_getLastItemIndex(){return this._itemElements().length-1},_refreshItemElements(){this.callBase();var e=this._editProvider.getExcludedItemSelectors();e.length&&(this._itemElementsCache=this._itemElementsCache.not(e))},_isItemStrictEquals:function(e,t){var i=e&&e.__dx_key__;return i&&!this.key()&&this._selection.isItemSelected(i)?!1:this.callBase(e,t)},_getDefaultOptions(){return re(this.callBase(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:_e.format("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",itemDragging:{}})},_defaultOptionsRules(){return this.callBase().concat([{device:e=>e.platform==="ios",options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])},_init(){this.callBase(),this._initEditProvider()},_initDataSource(){this.callBase(),this._isPageSelectAll()||this._dataSource&&this._dataSource.requireTotalCount(!0)},_isPageSelectAll(){return this.option("selectAllMode")==="page"},_initEditProvider(){this._editProvider=new gG(this)},_disposeEditProvider(){this._editProvider&&this._editProvider.dispose()},_refreshEditProvider(){this._disposeEditProvider(),this._initEditProvider()},_initEditStrategy(){this.option("grouped")?this._editStrategy=new oG(this):this.callBase()},_initMarkup(){this._refreshEditProvider(),this.callBase()},_renderItems(){this.callBase(...arguments),this._editProvider.afterItemsRendered()},_selectedItemClass:()=>vG,_itemResponseWaitClass:()=>_G,_itemClickHandler(e){var t=W(e.currentTarget);if(!t.is(".dx-state-disabled, .dx-state-disabled *")){var i=this._editProvider.handleClick(t,e);i||(this._saveSelectionChangeEvent(e),this.callBase(...arguments))}},_shouldFireContextMenuEvent(){return this.callBase(...arguments)||this._editProvider.contextMenuHandlerExists()},_itemHoldHandler(e){var t=W(e.currentTarget);if(!t.is(".dx-state-disabled, .dx-state-disabled *")){var i=Uu(e)&&this._editProvider.handleContextMenu(t,e);if(i){e.handledByEditProvider=!0;return}this.callBase(...arguments)}},_getItemContainer:function(e){if(this.option("grouped")){var t,i=(t=this._editStrategy.getIndexByItemData(e))===null||t===void 0?void 0:t.group;return this._getGroupContainerByIndex(i)}else return this.callBase(e)},_itemContextMenuHandler(e){var t=W(e.currentTarget);if(!t.is(".dx-state-disabled, .dx-state-disabled *")){var i=!e.handledByEditProvider&&this._editProvider.handleContextMenu(t,e);if(i){e.preventDefault();return}this.callBase(...arguments)}},_postprocessRenderItem(e){this.callBase(...arguments),this._editProvider.modifyItemElement(e)},_clean(){this._disposeEditProvider(),this.callBase()},focusListItem(e){var t=this._editStrategy.getItemElement(e);this.option("focusedElement",t),this.focus(),this.scrollToItem(this.option("focusedElement"))},_optionChanged(e){switch(e.name){case"selectAllMode":this._initDataSource(),this._dataSource.pageIndex(0),this._dataSource.load();break;case"grouped":this._clearSelectedItems(),delete this._renderingGroupIndex,this._initEditStrategy(),this.callBase(e);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:this.callBase(e)}},selectAll(){return this._selection.selectAll(this._isPageSelectAll())},unselectAll(){return this._selection.deselectAll(this._isPageSelectAll())},isSelectAll(){return this._selection.getSelectAllState(this._isPageSelectAll())},getFlatIndexByItemElement(e){return this._itemElements().index(e)},getItemElementByFlatIndex(e){var t=this._itemElements();return e<0||e>=t.length?W():t.eq(e)},getItemByIndex(e){return this._editStrategy.getItemDataByIndex(e)}}),eo=bG.inherit(Ns).inherit({_addWidgetPrefix:function(e){return"dx-list-"+e},_getCombinedFilter:function(){var e,t,i=this._dataSource;return i&&(t={filter:i.filter()},i._addSearchFilter(t),e=t.filter),e},_initDataSource:function(){var e=this.option("searchValue"),t=this.option("searchExpr"),i=this.option("searchMode");this.callBase(),this._dataSource&&(e&&e.length&&this._dataSource.searchValue(e),i.length&&this._dataSource.searchOperation(Ns.getOperationBySearchMode(i)),t&&this._dataSource.searchExpr(t))}});yt("dxList",eo);var yG="dx-buttongroup",CG=["dxAutocomplete","dxButton","dxCheckBox","dxDateBox","dxMenu","dxSelectBox","dxTabs","dxTextBox","dxButtonGroup","dxDropDownButton"],wG=function(e){var t=e.data&&e.data(),i=t&&t.dxComponents,r=i&&i[0];return r&&t[r]};function Ac(e,t){var i;if(e){var r=e._findItemElementByItem(t);if(r.length){var n=e._getItemData(r),a=!!((i=n.options)!==null&&i!==void 0&&i.disabled||n.disabled||e.option("disabled")),{widget:s}=n;if(s&&CG.indexOf(s)!==-1){var o=r.find(s.toLowerCase().replace("dx",".dx-"));if(o.length){var l,u,d=wG(o),c=s==="dxDropDownButton"?d._focusTarget().find(".".concat(yG)):(d==null||(l=d._focusTarget)===null||l===void 0?void 0:l.call(d))||W(d.element()),h=(u=n.options)===null||u===void 0?void 0:u.tabIndex;a?c.attr("tabIndex",-1):c.attr("tabIndex",h||0)}}}}}var xG=at(),SG="dx-dropdownmenu",EG="dx-dropdownmenu-popup",IG="dx-dropdownmenu-popup-wrapper",TG="dx-dropdownmenu-list",AG="dx-dropdownmenu-button",OG={popupWidth:"width",popupHeight:"height",popupMaxHeight:"maxHeight",popupAutoResizeEnabled:"autoResizeEnabled"},DG={buttonIcon:"icon",buttonText:"text",buttonWidth:"width",buttonHeight:"height",buttonTemplate:"template"},OO=Fi.inherit({_supportedKeys:function(){var e={};return(!this.option("opened")||!this._list.option("focusedElement"))&&(e=this._button._supportedKeys()),re(this.callBase(),e,{tab:function(){this._popup&&this._popup.hide()}})},_getDefaultOptions:function(){return re(this.callBase(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",buttonText:"",buttonIcon:"overflow",buttonWidth:void 0,buttonHeight:void 0,buttonTemplate:"content",onButtonClick:null,usePopover:!1,popupWidth:"auto",popupHeight:"auto",activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,selectionMode:"none",selectedItemKeys:[],deferRendering:!1,popupPosition:{my:"top center",at:"bottom center",collision:"fit flip",offset:{v:1}},popupAnimation:void 0,onItemRendered:null,menuWidget:eo,popupMaxHeight:void 0,closeOnClick:!0,useInkRipple:!1,container:void 0,popupAutoResizeEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{usePopover:!0}},{device:{platform:"generic"},options:{popupPosition:{offset:{v:4}}}},{device:function(){return Ne.real().deviceType==="desktop"&&!Ne.isSimulator()},options:{focusStateEnabled:!0}},{device:{platform:"android"},options:{popupPosition:{my:"top "+(this.option("rtlEnabled")?"left":"right"),at:"top "+(this.option("rtlEnabled")?"left":"right"),collision:"flipfit"},popupAnimation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}},{device:function(){return xi()},options:{useInkRipple:!0}}])},_initOptions:function(e){Ne.current().platform==="android"&&(e.popupPosition||(e.popupPosition={at:(e.usePopover?"bottom ":"top ")+(e.rtlEnabled?"left":"right")})),this.callBase(e)},_dataSourceOptions:function(){return{paginate:!1}},_init:function(){this.callBase(),this.$element().addClass(SG),this._initDataSource(),this._initItemClickAction(),this._initButtonClickAction()},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initButtonClickAction:function(){this._buttonClickAction=this._createActionByOption("onButtonClick")},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new tf("content")}),this.callBase()},_initMarkup:function(){this._renderButton(),this.callBase()},_render:function(){this.callBase(),this.setAria({role:"menubar",haspopup:!0,expanded:this.option("opened")})},_renderContentImpl:function(){this.option("opened")&&this._renderPopup()},_clean:function(){this._cleanFocusState(),this._popup&&(this._popup.$element().remove(),delete this._$popup)},_renderButton:function(){var e=this.$element().addClass(AG),t=this._buttonOptions();this._button=this._createComponent(e,Ki,t)},_toggleActiveState:function(e,t,i){this._button._toggleActiveState(e,t,i)},_buttonOptions:function(){return{text:this.option("buttonText"),icon:this.option("buttonIcon"),width:this.option("buttonWidth"),height:this.option("buttonHeight"),useInkRipple:this.option("useInkRipple"),template:this.option("buttonTemplate"),hoverStateEnabled:!1,focusStateEnabled:!1,onClick:(function(e){this.option("opened",!this.option("opened")),this._buttonClickAction(e)}).bind(this)}},_toggleMenuVisibility:function(e){var t=e===void 0?!this._popup.option("visible"):e;e&&this._renderPopup(),this._popup.toggle(t),this.setAria("expanded",t)},_renderPopup:function(){if(!this._$popup){var e=this._$popup=W("<div>").appendTo(this.$element()),t=this._popupOptions();this._popup=this._createComponent(e,IO,t)}},_popupOptions:function(){var e=!this.option("usePopover");return{onInitialized:function(t){t.component.$wrapper().addClass(IG).toggleClass(EG,e)},deferRendering:!1,contentTemplate:(function(t){this._renderList(t)}).bind(this),position:this.option("popupPosition"),animation:this.option("popupAnimation"),onOptionChanged:(function(t){t.name==="visible"&&this.option("opened",t.value)}).bind(this),target:this.$element(),height:this.option("popupHeight"),width:this.option("popupWidth"),maxHeight:this.option("popupMaxHeight"),container:this.option("container"),autoResizeEnabled:this.option("popupAutoResizeEnabled")}},_renderList:function(e){var t=W(e),i=this._listOptions();t.addClass(TG),this._list=this._createComponent(t,this.option("menuWidget"),i),this._list._getAriaTarget=(function(){return this.$element()}).bind(this),this._setListDataSource();var r=.5*nt(xG);nt(t)>r&&Dr(t,r)},_itemOptionChanged:function(e,t,i){var r;(r=this._list)===null||r===void 0||r._itemOptionChanged(e,t,i),Ac(this._list,e)},_listOptions:function(){return{pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",selectionMode:this.option("selectionMode"),selectedItemKeys:this.option("selectedItemKeys"),itemTemplate:this.option("itemTemplate"),onItemClick:(function(e){this.option("closeOnClick")&&this.option("opened",!1),this._itemClickAction(e)}).bind(this),tabIndex:-1,focusStateEnabled:this.option("focusStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),onItemRendered:this.option("onItemRendered"),_itemAttributes:{role:"menuitem"}}},_setListDataSource:function(){this._list&&this._list.option("dataSource",this._dataSource||this.option("items")),delete this._deferRendering},_getKeyboardListeners(){return this.callBase().concat([this._list])},_toggleVisibility:function(e){this.callBase(e),this._button.option("visible",e)},_optionChanged:function(e){var t=e.name,i=e.value;switch(t){case"items":case"dataSource":this.option("deferRendering")&&!this.option("opened")?this._deferRendering=!0:(this._refreshDataSource(),this._setListDataSource());break;case"itemTemplate":this._list&&this._list.option(t,this._getTemplate(i));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"buttonIcon":case"buttonText":case"buttonWidth":case"buttonHeight":case"buttonTemplate":this._button.option(DG[t],i),this._renderPopup();break;case"popupWidth":case"popupHeight":case"popupMaxHeight":case"popupAutoResizeEnabled":this._popup.option(OG[t],i);break;case"usePopover":case"menuWidget":case"useInkRipple":this._invalidate();break;case"focusStateEnabled":case"activeStateEnabled":this._list&&this._list.option(t,i),this.callBase(e);break;case"selectionMode":case"selectedItemKeys":case"onItemRendered":this._list&&this._list.option(t,i);break;case"opened":this._deferRendering&&(this._refreshDataSource(),this._setListDataSource()),this._toggleMenuVisibility(i),this._updateFocusableItemsTabIndex();break;case"deferRendering":case"popupPosition":case"closeOnClick":break;case"container":this._popup&&this._popup.option(e.name,e.value);break;case"disabled":this._list&&this._updateFocusableItemsTabIndex();break;default:this.callBase(e)}},_updateFocusableItemsTabIndex(){this.option("items").forEach(e=>Ac(this._list,e))},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)}}).include(rd);yt("dxDropDownMenu",OO);var RG="dx-state-invisible",kG="dx-toolbar-menu-container",MG=10;class BG{constructor(t){this._toolbar=t}render(){if(this._hasVisibleMenuItems()){this._renderMenuButtonContainer();var t=W("<div>").appendTo(this._dropDownMenuContainer());this._dropDownMenu=this._toolbar._createComponent(t,OO,this._dropDownMenuOptions()),this.renderMenuItems()}}renderMenuItems(){this._dropDownMenu||this.render(),this._dropDownMenu&&this._dropDownMenu.option("items",this._getMenuItems()),this._dropDownMenu&&!this._dropDownMenu.option("items").length&&this._dropDownMenu.close()}_renderMenuButtonContainer(){var t=this._toolbar._$afterSection;this._$menuButtonContainer=W("<div>").appendTo(t).addClass(this._toolbar._buttonClass()).addClass(kG)}_getMenuItemTemplate(){return this._toolbar._getTemplateByOption("menuItemTemplate")}_dropDownMenuOptions(){var t=this._toolbar._createActionByOption("onItemClick"),i=2*MG;return{disabled:this._toolbar.option("disabled"),itemTemplate:this._getMenuItemTemplate.bind(this),onItemClick:(function(r){t(r)}).bind(this),deferRendering:!0,container:this._toolbar.option("menuContainer"),popupMaxHeight:Ne.current().platform==="android"?we.getDocumentElement().clientHeight-i:void 0,menuWidget:_O,onOptionChanged:r=>{var{name:n,value:a}=r;n==="opened"&&this._toolbar.option("overflowMenuVisible",a),n==="items"&&this._updateMenuVisibility(a)},popupPosition:{at:"bottom right",my:"top right"}}}_updateMenuVisibility(t){var i=t||this._getMenuItems(),r=i.length&&this._hasVisibleMenuItems(i);this._toggleMenuVisibility(r)}_getMenuItems(){return this._toolbar._getMenuItems()}_hasVisibleMenuItems(t){var i=t||this._toolbar.option("items"),r=!1,n=jt("visible"),a=jt("locateInMenu");return le(i,function(s,o){var l=n(o,{functionsAsIs:!0}),u=a(o,{functionsAsIs:!0});(l!==!1&&(u==="auto"||u==="always")||o.location==="menu")&&(r=!0)}),r}_toggleMenuVisibility(t){this._dropDownMenuContainer()&&this._dropDownMenuContainer().toggleClass(RG,!t)}_dropDownMenuContainer(){return this._$menuButtonContainer}widgetOption(t,i){this._dropDownMenu&&this._dropDownMenu.option(t,i)}itemOption(t,i,r){if(i==="disabled"||i==="options.disabled"){var n;(n=this._dropDownMenu)===null||n===void 0||n._itemOptionChanged(t,i,r)}else this.renderMenuItems()}}var oh="dx-toolbar-item-auto-hide",PG="dx-toolbar-text-auto-hide",ym="dx-toolbar-item-invisible",DO=wO.inherit({_getDefaultOptions:function(){return re(this.callBase(),{menuItemTemplate:"menuItem",menuContainer:void 0,overflowMenuVisible:!1})},updateDimensions:function(){this._dimensionChanged()},_dimensionChanged:function(e){e!=="height"&&(this.callBase(),this._menu.renderMenuItems())},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({actionSheetItem:new tf("item")})},_initMarkup:function(){this.callBase(),this._updateFocusableItemsTabIndex(),this._renderMenu()},_postProcessRenderItems:function(){this._hideOverflowItems(),this._menu._updateMenuVisibility(),this.callBase(),Ti(()=>{this._menu.renderMenuItems()})},_renderItem:function(e,t,i,r){var n=this.callBase(e,t,i,r);return t.locateInMenu==="auto"&&n.addClass(oh),t.widget==="dxButton"&&t.showText==="inMenu"&&n.toggleClass(PG),n},_getItemsWidth:function(){return this._getSummaryItemsWidth([this._$beforeSection,this._$centerSection,this._$afterSection])},_hideOverflowItems:function(e){var t=this.$element().find("."+oh);if(t.length){e=e||Ze(this.$element()),W(t).removeClass(ym);for(var i=this._getItemsWidth();t.length&&e<i;){var r=t.eq(-1);i-=At(r),r.addClass(ym),t.splice(-1,1)}}},_getMenuItems:function(){var e=this,t=hr(this.option("items")||[],function(n){return e._isMenuItem(n)}),i=this._itemContainer().children("."+oh+"."+ym).not(".dx-state-invisible");this._restoreItems=this._restoreItems||[];var r=[].slice.call(i).map(n=>{var a=e._getItemData(n),s=W(n),o=s.children();return re({menuItemTemplate:function(){e._restoreItems.push({container:s,item:o});var l=W("<div>").addClass(oh);return l.append(o)}},a)});return[...r,...t]},_getToolbarItems:function(){var e=this;return hr(this.option("items")||[],function(t){return!e._isMenuItem(t)})},_renderMenu:function(){this._renderMenuStrategy(),Ti(()=>{this._menu.render()})},_renderMenuStrategy:function(){this._menu||(this._menu=new BG(this))},_arrangeItems:function(){if(!this.$element().is(":hidden")){this._$centerSection.css({margin:"0 auto",float:"none"}),le(this._restoreItems||[],function(t,i){W(i.container).append(i.item)}),this._restoreItems=[];var e=Ze(this.$element());this._hideOverflowItems(e),this.callBase(e)}},_itemOptionChanged:function(e,t,i){this._isMenuItem(e)?this._menu.itemOption(e,t,i):this._isToolbarItem(e)?this.callBase(e,t,i):(this.callBase(e,t,i),this._menu.renderMenuItems()),(t==="disabled"||t==="options.disabled")&&Ac(this,e),t==="location"&&this.repaint()},_updateFocusableItemsTabIndex(){this._getToolbarItems().forEach(e=>Ac(this,e))},_isMenuItem:function(e){return e.location==="menu"||e.locateInMenu==="always"},_isToolbarItem:function(e){return e.location===void 0||e.locateInMenu==="never"},_optionChanged:function(e){var{name:t,value:i}=e;switch(t){case"menuItemTemplate":this._changeMenuOption("itemTemplate",this._getTemplate(i));break;case"onItemClick":this._changeMenuOption(t,i),this.callBase.apply(this,arguments);break;case"menuContainer":this._changeMenuOption("container",i);break;case"overflowMenuVisible":this._changeMenuOption("opened",i);break;case"disabled":this._changeMenuOption("disabled",i),this.callBase.apply(this,arguments),this._updateFocusableItemsTabIndex();break;default:this.callBase.apply(this,arguments)}},_changeMenuOption:function(e,t){this._menu.widgetOption(e,t)}});yt("dxToolbar",DO);var FG="header-panel",_x="toolbar-button",LG="-ariaToolbar",bx=["addRowButton","applyFilterButton","columnChooserButton","exportButton","groupPanel","revertButton","saveButton","searchPanel"],NG=td.inherit({_getToolbarItems:function(){return[]},_getButtonContainer:function(){return W("<div>").addClass(this.addWidgetPrefix(_x))},_getToolbarButtonClass:function(e){var t=e?" "+e:"";return this.addWidgetPrefix(_x)+t},_getToolbarOptions:function(){var e=this.option("toolbar"),t={toolbarOptions:{items:this._getToolbarItems(),visible:e==null?void 0:e.visible,disabled:e==null?void 0:e.disabled,onItemRendered:function(n){var a=n.itemData.onItemRendered;a&&a(n)}}},i=e==null?void 0:e.items;if(t.toolbarOptions.items=this._normalizeToolbarItems(t.toolbarOptions.items,i),this.executeAction("onToolbarPreparing",t),t.toolbarOptions&&!Z(t.toolbarOptions.visible)){var r=t.toolbarOptions.items;t.toolbarOptions.visible=!!(r!=null&&r.length)}return t.toolbarOptions},_normalizeToolbarItems(e,t){e.forEach(s=>{if(!bx.includes(s.name))throw new Error("Default toolbar item '".concat(s.name,"' is not added to DEFAULT_TOOLBAR_ITEM_NAMES"))});var i={location:"after"},r=Array.isArray(t);if(!Z(t))return e;r||(t=[t]);var n={};e.forEach(s=>{n[s.name]=s});var a=t.map(s=>(Ue(s)&&(s={name:s}),Z(s.name)&&(Z(n[s.name])?s=re(!0,{},n[s.name],s):bx.includes(s.name)&&(s=Ie({},s,{visible:!1}))),re(!0,{},i,s)));return r?a:a[0]},_renderCore:function(){if(this._toolbar)this._toolbar.option(this._toolbarOptions);else{var e=this.element();e.addClass(this.addWidgetPrefix(FG));var t=_e.format(this.component.NAME+LG),i=W("<div>").attr("aria-label",t).appendTo(e);this._toolbar=this._createComponent(i,DO,this._toolbarOptions)}},_columnOptionChanged:me,_handleDataChanged:function(){this._requireReady&&this.render()},init:function(){this.callBase(),this.createAction("onToolbarPreparing",{excludeValidators:["disabled","readOnly"]})},render:function(){this._toolbarOptions=this._getToolbarOptions(),this.callBase.apply(this,arguments)},setToolbarItemDisabled:function(e,t){var i=this._toolbar;if(i){var r=i.option("items")||[],n=r.indexOf(r.filter(function(s){return s.name===e})[0]);if(n>=0){var a="items["+n+"]";i.option(a+".options")?i.option(a+".options.disabled",t):i.option(a+".disabled",t)}}},updateToolbarDimensions:function(){var e;(e=this._toolbar)===null||e===void 0||e.updateDimensions()},getHeaderPanel:function(){return this.element()},getHeight:function(){return this.getElementHeight()},optionChanged:function(e){if(e.name==="onToolbarPreparing"&&(this._invalidate(),e.handled=!0),e.name==="toolbar"&&(e.handled=!0,this._toolbar)){var t=Us(e.fullName),i=e.fullName.replace(/^toolbar\./,"");if(t.length===1){var r=this._getToolbarOptions();this._toolbar.option(r)}else if(t[1]==="items")if(t.length===2){var n=this._getToolbarOptions();this._toolbar.option("items",n.items)}else if(t.length===3){var a=this._normalizeToolbarItems(this._getToolbarItems(),e.value);this._toolbar.option(i,a)}else t.length>=4&&this._toolbar.option(i,e.value);else this._toolbar.option(i,e.value)}this.callBase(e)},isVisible:function(){return this._toolbarOptions&&this._toolbarOptions.visible},allowDragging:me}),RO={defaultOptions:function(){return{}},views:{headerPanel:NG},extenders:{controllers:{resizing:{_updateDimensionsCore:function(){this.callBase.apply(this,arguments),this.getView("headerPanel").updateToolbarDimensions()}}}}};RO.views.headerPanel;Le.registerModule("headerPanel",RO);var VG=".dx-row",$G="Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.";Le.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","grouping","editing","editingRowBased","editingFormBased","editingCellBased","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var B0=Fi.inherit({_activeStateUnit:VG,_getDefaultOptions:function(){var e=this.callBase();return le(Le.modules,function(){Re(this.defaultOptions)&&re(!0,e,this.defaultOptions())}),e},_setDeprecatedOptions:function(){this.callBase(),re(this._deprecatedOptions,{useKeyboard:{since:"19.2",alias:"keyboardNavigation.enabled"},rowTemplate:{since:"21.2",message:'Use the "dataRowTemplate" option instead'}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{showRowLines:!0}},{device:function(){return xi()},options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0},selection:{showCheckBoxesMode:"always"}}},{device:function(){return Qt.webkit},options:{loadingTimeout:30,loadPanel:{animation:{show:{easing:"cubic-bezier(1, 0, 1, 0)",duration:500,from:{opacity:0},to:{opacity:1}}}}}},{device:function(e){return e.deviceType!=="desktop"},options:{grouping:{expandMode:"rowClick"}}}])},_init:function(){this.callBase(),Le.processModules(this,Le),Le.callModuleItemsMethod(this,"init")},_clean:me,_optionChanged:function(e){Le.callModuleItemsMethod(this,"optionChanged",[e]),e.handled||this.callBase(e)},_dimensionChanged:function(){this.updateDimensions(!0)},_visibilityChanged:function(e){e&&this.updateDimensions()},_initMarkup:function(){this.callBase.apply(this,arguments),this.getView("gridView").render(this.$element())},_renderContentImpl:function(){this.getView("gridView").update()},_renderContent:function(){var e=this;Ti(function(){e._renderContentImpl()})},_getTemplate:function(e){var t=e;return Ue(t)&&t[0]==="#"&&(t=W(e),Vu.warn($G)),this.callBase(t)},_dispose:function(){this.callBase(),Le.callModuleItemsMethod(this,"dispose")},isReady:function(){return this.getController("data").isReady()},beginUpdate:function(){this.callBase(),Le.callModuleItemsMethod(this,"beginUpdate")},endUpdate:function(){Le.callModuleItemsMethod(this,"endUpdate"),this.callBase()},getController:function(e){return this._controllers[e]},getView:function(e){return this._views[e]},focus:function(e){this.getController("keyboardNavigation").focus(e)}});B0.registerModule=Le.registerModule.bind(Le);yt("dxDataGrid",B0);var HG=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,zG=function e(t){t&&le(t,function(i,r){if(ft(r)||Array.isArray(r))e(r);else if(typeof r=="string"){var n=HG.exec(r);n&&(t[i]=new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6])))}})},WG=ei.ViewController.inherit(function(){var e=function(i){var r=i.type==="sessionStorage"?UI():at().localStorage;if(!r)throw new Error("E1007");return r},t=function(i){return Z(i.storageKey)?i.storageKey:"storage"};return{_loadState:function(){var i=this.option("stateStoring");if(i.type==="custom")return i.customLoad&&i.customLoad();try{return JSON.parse(e(i).getItem(t(i)))}catch(r){gt.log(r.message)}},_saveState:function(i){var r=this.option("stateStoring");if(r.type==="custom"){r.customSave&&r.customSave(i);return}try{e(r).setItem(t(r),JSON.stringify(i))}catch(n){gt.log(n.message)}},publicMethods:function(){return["state"]},isEnabled:function(){return this.option("stateStoring.enabled")},init:function(){var i=this;return i._state={},i._isLoaded=!1,i._isLoading=!1,i._windowUnloadHandler=function(){i._savingTimeoutID!==void 0&&i._saveState(i.state())},te.on(at(),"unload",i._windowUnloadHandler),i},isLoaded:function(){return this._isLoaded},isLoading:function(){return this._isLoading},load:function(){this._isLoading=!0;var i=Hi(this._loadState());return i.always(()=>{this._isLoaded=!0,this._isLoading=!1}).done(r=>{r!==null&&!jr(r)&&this.state(r)}),i},state:function(i){var r=this;if(arguments.length)r._state=re({},i),zG(r._state);else return re(!0,{},r._state)},save:function(){var i=this;clearTimeout(i._savingTimeoutID),i._savingTimeoutID=setTimeout(function(){i._saveState(i.state()),i._savingTimeoutID=void 0},i.option("stateStoring.savingTimeout"))},optionChanged:function(i){switch(i.name){case"stateStoring":this.isEnabled()&&!this.isLoading()&&this.load(),i.handled=!0;break;default:this.callBase(i)}},dispose:function(){clearTimeout(this._savingTimeoutID),te.off(at(),"unload",this._windowUnloadHandler)}}}()),jG=e=>{var t=e.getView("pagerView"),i=e.getController("data"),r={allowedPageSizes:t?t.getPageSizes():void 0,filterPanel:{filterEnabled:e.option("filterPanel.filterEnabled")},filterValue:e.option("filterValue"),focusedRowKey:e.option("focusedRowEnabled")?e.option("focusedRowKey"):void 0};return re(r,i.getUserState())},UG=e=>{var t=e.getController("columns"),i=e.getController("selection"),r=e.getController("export"),n=e.getController("data");t&&t.columnsChanged.add(function(){e.updateState({columns:t.getUserState()})}),i&&i.selectionChanged.add(function(a){e.updateState({selectedRowKeys:a.selectedRowKeys,selectionFilter:a.selectionFilter})}),n&&(e._initialPageSize=e.option("paging.pageSize"),e._initialFilterValue=e.option("filterValue"),n.changed.add(function(){var a=jG(e);e.updateState(a)})),r&&r.selectionOnlyChanged.add(function(){e.updateState({exportSelectionOnly:r.selectionOnly()})})},GG=null,KG=(e,t)=>{var i=e.getController("filterSync"),r=e.getController("columns"),n=t.columns||t.filterValue!==void 0;return i?n?t.filterValue||i.getFilterValueFromColumns(t.columns):e._initialFilterValue||i.getFilterValueFromColumns(r.getColumns()):GG},qG={defaultOptions:function(){return{stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}},controllers:{stateStoring:WG},extenders:{views:{rowsView:{init:function(){var e=this,t=e.getController("data");e.callBase(),t.stateLoaded.add(function(){if(t.isLoaded()&&!t.getDataSource()){e.setLoading(!1),e.renderNoDataText();var i=e.component.getView("columnHeadersView");i&&i.render(),e.component._fireContentReadyAction()}})}}},controllers:{stateStoring:{init:function(){this.callBase.apply(this,arguments),UG(this)},isLoading:function(){return this.callBase()||this.getController("data").isStateLoading()},state:function(e){var t=this.callBase.apply(this,arguments);return e!==void 0&&this.applyState(re(!0,{},e)),t},updateState:function(e){if(this.isEnabled()){var t=this.state(),i=re({},t,e),r=En(t),n=En(i);ni(r,n)||(e=re(!0,{},e),re(this._state,e),this.save())}else re(this._state,e)},applyState:function(e){var t=e.allowedPageSizes,i=e.searchText,r=e.selectedRowKeys,n=e.selectionFilter,a=this.getController("export"),s=this.getController("columns"),o=this.getController("data"),l=this.option("scrolling.mode"),u=l==="virtual"||l==="infinite",d=this.option("pager.visible")===!0&&this.option("pager.showPageSizeSelector");this.component.beginUpdate(),s&&s.setUserState(e.columns),a&&a.selectionOnly(e.exportSelectionOnly),this.option("selection.deferred")||this.option("selectedRowKeys",r||[]),this.option("selectionFilter",n),t&&this.option("pager.allowedPageSizes")==="auto"&&(this.option("pager").allowedPageSizes=t),this.option("focusedRowEnabled")&&(this.option("focusedRowIndex",-1),this.option("focusedRowKey",e.focusedRowKey||null)),this.component.endUpdate(),this.option("searchPanel.text",i||""),this.option("filterValue",KG(this,e)),this.option("filterPanel.filterEnabled",e.filterPanel?e.filterPanel.filterEnabled:!0),this.option("paging.pageIndex",e.pageIndex||0),this.option("paging.pageSize",(!u||d)&&Z(e.pageSize)?e.pageSize:this._initialPageSize),o&&o.reset()}},columns:{_shouldReturnVisibleColumns:function(){var e=this.callBase.apply(this,arguments),t=this.getController("stateStoring");return e&&(!t.isEnabled()||t.isLoaded())}},data:{callbackNames:function(){return this.callBase().concat(["stateLoaded"])},_refreshDataSource:function(){var e=this.callBase,t=this.getController("stateStoring");if(t.isEnabled()&&!t.isLoaded()){clearTimeout(this._restoreStateTimeoutID);var i=new pe;return this._restoreStateTimeoutID=setTimeout(()=>{t.load().always(()=>{this._restoreStateTimeoutID=null}).done(()=>{e.call(this),this.stateLoaded.fire(),i.resolve()}).fail(r=>{this.stateLoaded.fire(),this._handleLoadError(r||"Unknown error"),i.reject()})}),i.promise()}else this.isStateLoading()||e.call(this)},isLoading:function(){var e=this.getController("stateStoring");return this.callBase()||e.isLoading()},isStateLoading:function(){return Z(this._restoreStateTimeoutID)},isLoaded:function(){return this.callBase()&&!this.isStateLoading()},dispose:function(){clearTimeout(this._restoreStateTimeoutID),this.callBase()}},selection:{_fireSelectionChanged:function(e){var t=this.getController("stateStoring"),i=this.option("selection.deferred");t.isLoading()&&i||this.callBase.apply(this,arguments)}}}}};Le.registerModule("stateStoring",qG);var kO="dx-editor-cell",XG="dx-row",yx="dx-selection",os="dx-select-checkbox",YG="dx-select-checkboxes-hidden",MO="dx-command-select",ZG="dx-selection-disabled",BO="dx-data-row",wn="selection.showCheckBoxesMode",cu="selection.mode",Cx=function(e,t){var i=e.getController("selection"),r=e.getView("rowsView"),n=W(t.target).closest("."+BO),a=r.getRowIndex(n);a<0||(e.option(wn)==="onLongTap"?i.isSelectionWithCheckboxes()?i.stopSelectionWithCheckboxes():i.startSelectionWithCheckboxes():(e.option(wn)==="onClick"&&i.startSelectionWithCheckboxes(),e.option(wn)!=="always"&&i.changeItemSelection(a,{control:!0})))},JG=Le.Controller.inherit(function(){var e=(i,r)=>{var n=r.component,a=n.getView("rowsView");n.option("renderAsync")&&!n.option("selection.deferred")&&(r.value=n.isRowSelected(r.row.key)),a.renderSelectCheckBoxContainer(W(i),r)},t=(i,r)=>{var n=r.column,a=W(i),s=r.component.getView("columnHeadersView");a.addClass(kO),s._renderSelectAllCheckBox(a,n),s._attachSelectAllCheckBoxClickEvent(a)};return{init:function(){var{deferred:i,selectAllMode:r,mode:n}=this.option("selection")||{};this.option("scrolling.mode")==="infinite"&&!i&&n==="multiple"&&r==="allPages"&&gt.log("W1018"),this._dataController=this.getController("data"),this._selectionMode=n,this._isSelectionWithCheckboxes=!1,this._selection=this._createSelection(),this._updateSelectColumn(),this.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]}),this._dataController&&this._dataController.pushed.add(this._handleDataPushed.bind(this))},_handleDataPushed:function(i){var r=i.filter(n=>n.type==="remove").map(n=>n.key);r.length&&this.deselectRows(r)},_getSelectionConfig:function(){var i=this._dataController,r=this.getController("columns"),n=this.option("selection")||{},a=n.deferred,s=this.option("scrolling.mode"),o=s==="virtual"||s==="infinite",l=this.option("selection.allowSelectAll"),u=this.option("scrolling.legacyMode");return{selectedKeys:this.option("selectedRowKeys"),mode:this._selectionMode,deferred:a,maxFilterLengthInRequest:n.maxFilterLengthInRequest,selectionFilter:this.option("selectionFilter"),ignoreDisabledItems:!0,allowLoadByRange:function(){var d=r.getGroupColumns().length>0;return o&&!u&&!d&&l&&!a},key:function(){return i==null?void 0:i.key()},keyOf:function(d){return i==null?void 0:i.keyOf(d)},dataFields:function(){var d;return(d=i.dataSource())===null||d===void 0?void 0:d.select()},load:function(d){var c;return((c=i.dataSource())===null||c===void 0?void 0:c.load(d))||new pe().resolve([])},plainItems:function(){return i.items(!0)},isItemSelected:function(d){return d.selected},isSelectableItem:function(d){return(d==null?void 0:d.rowType)==="data"&&!d.isNewRow},getItemData:function(d){return(d==null?void 0:d.oldData)||(d==null?void 0:d.data)||d},filter:function(){return i.getCombinedFilter(a)},totalCount:()=>i.totalCount(),getLoadOptions:function(d,c,h){var f,p,{sort:g,filter:m}=(f=(p=i.dataSource())===null||p===void 0?void 0:p.lastLoadOptions())!==null&&f!==void 0?f:{},v=Math.min(d,c),b=Math.max(d,c);Z(h)&&(v=Math.min(h,v),b=Math.max(h,b));var y=b-v+1;return{skip:v,take:y,filter:m,sort:g}},onSelectionChanged:this._updateSelectedItems.bind(this)}},_updateSelectColumn:function(){var i=this.getController("columns"),r=this.isSelectColumnVisible();i.addCommandColumn({type:"selection",command:"select",visible:r,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:MO,width:"auto",cellTemplate:e,headerCellTemplate:t}),i.columnOption("command:select","visible",r)},_createSelection:function(){var i=this._getSelectionConfig();return new sO(i)},_fireSelectionChanged:function(i){var r=this.option("selection.deferred")?{selectionFilter:this.option("selectionFilter")}:{selectedRowKeys:this.option("selectedRowKeys")};this.selectionChanged.fire(r),i&&this.executeAction("onSelectionChanged",i)},_updateCheckboxesState:function(i){var r=i.isDeferredMode,n=i.selectionFilter,a=i.selectedItemKeys,s=i.removedItemKeys;this.option(wn)==="onClick"&&((r?n&&function(o,l){var u=0,d=o._dataController.store(),c=d&&d.key(),h=Array.isArray(c);if(!l.length)return!1;if(h&&Array.isArray(l[0])&&l[1]==="and"){for(var f=0;f<l.length;f++)if(Array.isArray(l[f])){if(l[f][0]!==c[u]||l[f][1]!=="=")return!0;u++}return!1}return c!==l[0]}(this,n):a.length>1)?this.startSelectionWithCheckboxes():(r?n&&!n.length:a.length===0&&s.length)&&this.stopSelectionWithCheckboxes())},_updateSelectedItems:function(i){var r,n=this.option("selection.deferred"),a=this._selection.selectionFilter(),s=this._dataController,o=s.items(!0),l=s.items();if(o){var u=this.isSelectionWithCheckboxes(),d=this.getChangedItemIndexes(o),c=this.getChangedItemIndexes(l);this._updateCheckboxesState({selectedItemKeys:i.selectedItemKeys,removedItemKeys:i.removedItemKeys,selectionFilter:a,isDeferredMode:n}),(d.length||u!==this.isSelectionWithCheckboxes())&&s.updateItems({changeType:"updateSelection",itemIndexes:c}),n?(this.option("selectionFilter",a),r={}):(i.addedItemKeys.length||i.removedItemKeys.length)&&(this._selectedItemsInternalChange=!0,this.option("selectedRowKeys",i.selectedItemKeys.slice(0)),this._selectedItemsInternalChange=!1,r={selectedRowsData:i.selectedItems.slice(0),selectedRowKeys:i.selectedItemKeys.slice(0),currentSelectedRowKeys:i.addedItemKeys.slice(0),currentDeselectedRowKeys:i.removedItemKeys.slice(0)}),this._fireSelectionChanged(r)}},getChangedItemIndexes:function(i){for(var r=[],n=this.option("selection.deferred"),a=0,s=i.length;a<s;a++){var o=i[a],l=this.isRowSelected(n?o.data:o.key);this._selection.isDataItem(o)&&o.isSelected!==l&&r.push(a)}return r},callbackNames:function(){return["selectionChanged"]},optionChanged:function(i){switch(this.callBase(i),i.name){case"selection":var r=this._selectionMode;if(this.init(),i.fullName!=="selection.showCheckBoxesMode"){var n=this._selectionMode,a=this.option("selectedRowKeys");r!==n&&(n==="single"?a.length>1&&(a=[a[0]]):n!=="multiple"&&(a=[])),this.selectRows(a).always(()=>{this._fireSelectionChanged()})}this.getController("columns").updateColumns(),i.handled=!0;break;case"selectionFilter":this._selection.selectionFilter(i.value),i.handled=!0;break;case"selectedRowKeys":var s=i.value||[];Array.isArray(s)&&!this._selectedItemsInternalChange&&(this.component.getDataSource()||!s.length)&&this.selectRows(s),i.handled=!0}},publicMethods:function(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]},isRowSelected:function(i){return this._selection.isItemSelected(i)},isSelectColumnVisible:function(){return this.option(cu)==="multiple"&&(this.option(wn)==="always"||this.option(wn)==="onClick"||this._isSelectionWithCheckboxes)},_isOnePageSelectAll:function(){return this.option("selection.selectAllMode")==="page"},isSelectAll:function(){return this._selection.getSelectAllState(this._isOnePageSelectAll())},selectAll:function(){return this.option(wn)==="onClick"&&this.startSelectionWithCheckboxes(),this._selection.selectAll(this._isOnePageSelectAll())},deselectAll:function(){return this._selection.deselectAll(this._isOnePageSelectAll())},clearSelection:function(){return this.selectedItemKeys([])},refresh:function(){var i=this.option("selectedRowKeys")||[];return!this.option("selection.deferred")&&i.length?this.selectedItemKeys(i):new pe().resolve().promise()},selectedItemKeys:function(i,r,n,a){return this._selection.selectedItemKeys(i,r,n,a)},getSelectedRowKeys:function(){return this._selection.getSelectedItemKeys()},selectRows:function(i,r){return this.selectedItemKeys(i,r)},deselectRows:function(i){return this.selectedItemKeys(i,!0,!0)},selectRowsByIndexes:function(i){var r=this._dataController.items(),n=[];return Array.isArray(i)||(i=Array.prototype.slice.call(arguments,0)),le(i,function(){var a=r[this];a&&a.rowType==="data"&&n.push(a.key)}),this.selectRows(n)},getSelectedRowsData:function(){return this._selection.getSelectedItems()},changeItemSelection:function(i,r,n){r=r||{},this.isSelectionWithCheckboxes()&&(r.control=!0);var a=i+this._dataController.getRowIndexOffset()-this._dataController.getRowIndexOffset(!0);return this._selection.changeItemSelection(a,r,n)},focusedItemIndex:function(i){if(Z(i))this._selection._focusedItemIndex=i;else return this._selection._focusedItemIndex},isSelectionWithCheckboxes:function(){return this.option(cu)==="multiple"&&(this.option(wn)==="always"||this._isSelectionWithCheckboxes)},startSelectionWithCheckboxes:function(){return this.option(cu)==="multiple"&&!this.isSelectionWithCheckboxes()?(this._isSelectionWithCheckboxes=!0,this._updateSelectColumn(),!0):!1},stopSelectionWithCheckboxes:function(){return this._isSelectionWithCheckboxes?(this._isSelectionWithCheckboxes=!1,this._updateSelectColumn(),!0):!1}}}()),QG={defaultOptions:function(){return{selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0,selectAllMode:"allPages",maxFilterLengthInRequest:1500,deferred:!1},selectionFilter:[],selectedRowKeys:[]}},controllers:{selection:JG},extenders:{controllers:{data:{init:function(){var e=this.getController("selection"),t=this.option("selection.deferred");this.callBase.apply(this,arguments),t&&e._updateCheckboxesState({isDeferredMode:!0,selectionFilter:this.option("selectionFilter")})},_loadDataSource:function(){var e=this;return e.callBase().done(function(){e.getController("selection").refresh()})},_processDataItem:function(e,t){var i=this,r=i.getController("selection"),n=r.isSelectColumnVisible(),a=t.isDeferredSelection=t.isDeferredSelection===void 0?this.option("selection.deferred"):t.isDeferredSelection,s=this.callBase.apply(this,arguments);if(s.isSelected=r.isRowSelected(a?s.data:s.key),n&&s.values){for(var o=0;o<t.visibleColumns.length;o++)if(t.visibleColumns[o].command==="select"){s.values[o]=s.isSelected;break}}return s},refresh:function(e){var t=this,i=new pe;return this.callBase.apply(this,arguments).done(function(){!e||e.selection?t.getController("selection").refresh().done(i.resolve).fail(i.reject):i.resolve()}).fail(i.reject),i.promise()},_handleDataChanged:function(e){this.callBase.apply(this,arguments),(!e||e.changeType==="refresh")&&!this._repaintChangesOnly&&this.getController("selection").focusedItemIndex(-1)},_applyChange:function(e){if(e&&e.changeType==="updateSelection"){e.items.forEach((t,i)=>{var r=this._items[i];r&&(r.isSelected=t.isSelected,r.values=t.values)});return}return this.callBase.apply(this,arguments)},_endUpdateCore:function(){var e=this._changes,t=e.length>1&&e.every(r=>r.changeType==="updateSelection");if(t){var i=e.map(r=>r.itemIndexes||[]).reduce((r,n)=>r.concat(n));this._changes=[{changeType:"updateSelection",itemIndexes:i}]}this.callBase.apply(this,arguments)}},contextMenu:{_contextMenuPrepared:function(e){var t=e.event;t.originalEvent&&t.originalEvent.type!=="dxhold"||e.items&&e.items.length>0||Cx(this,t)}}},views:{columnHeadersView:{init:function(){this.callBase(),this.getController("selection").selectionChanged.add(this._updateSelectAllValue.bind(this))},_updateSelectAllValue:function(){var e=this.element(),t=e&&e.find("."+os);if(e&&t.length&&this.option("selection.mode")==="multiple"){var i=this.getController("selection").isSelectAll(),r=i!==!1,n=this.option("selection.allowSelectAll")?!this.getController("data").isEmpty():r;t.dxCheckBox("instance").option({visible:n,value:i})}},_handleDataChanged:function(e){this.callBase(e),(!e||e.changeType==="refresh"||e.repaintChangesOnly&&e.changeType==="update")&&this._updateSelectAllValue()},_renderSelectAllCheckBox:function(e,t){var i=this,r=i.getController("selection"),n=i.getController("data").isEmpty(),a=W("<div>").appendTo(e).addClass(os);return i.setAria("label",_e.format("dxDataGrid-ariaSelectAll"),a),i.getController("editorFactory").createEditor(a,re({},t,{parentType:"headerRow",dataType:"boolean",value:r.isSelectAll(),editorOptions:{visible:!n&&(i.option("selection.allowSelectAll")||r.isSelectAll()!==!1)},tabIndex:i.option("useLegacyKeyboardNavigation")?-1:i.option("tabIndex")||0,setValue:function(s,o){var l=i.option("selection.allowSelectAll");o.component.option("visible",l||o.component.option("value")!==!1),!(!o.event||r.isSelectAll()===s)&&(o.value&&!l?o.component.option("value",!1):o.value?r.selectAll():r.deselectAll(),o.event.preventDefault())}})),a},_attachSelectAllCheckBoxClickEvent:function(e){te.on(e,Pt,this.createAction(function(t){var i=t.event;W(i.target).closest("."+os).length||te.trigger(W(i.currentTarget).children("."+os),Pt),i.preventDefault()}))}},rowsView:{renderSelectCheckBoxContainer:function(e,t){t.rowType==="data"&&!t.row.isNewRow?(e.addClass(kO),this._attachCheckBoxClickEvent(e),this._renderSelectCheckBox(e,t)):Ee.setEmptyText(e)},_renderSelectCheckBox:function(e,t){var i=W("<div>").addClass(os).appendTo(e);return this.setAria("label",_e.format("dxDataGrid-ariaSelectRow"),i),this.getController("editorFactory").createEditor(i,re({},t.column,{parentType:"dataRow",dataType:"boolean",lookup:null,value:t.value,setValue:function(r,n){var a;(n==null||(a=n.event)===null||a===void 0?void 0:a.type)==="keydown"&&te.trigger(n.element,Pt,n)},row:t.row})),i},_attachCheckBoxClickEvent:function(e){te.on(e,Pt,this.createAction(function(t){var i=this.getController("selection"),r=t.event,n=this.getRowIndex(W(r.currentTarget).closest("."+XG));n>=0&&(i.startSelectionWithCheckboxes(),i.changeItemSelection(n,{shift:r.shiftKey}),W(r.target).closest("."+os).length&&this.getController("data").updateItems({changeType:"updateSelection",itemIndexes:[n]}))}))},_update:function(e){var t=this,i=t.getTableElements();e.changeType==="updateSelection"?i.length>0&&(le(i,function(r,n){le(e.itemIndexes||[],function(a,s){var o;if(e.items[s]&&(o=t._getRowElements(W(n)).eq(s),o.length)){var l=e.items[s].isSelected;o.toggleClass(yx,l===void 0?!1:l).find("."+os).dxCheckBox("option","value",l),t.setAria("selected",l,o)}})}),t._updateCheckboxesClass()):t.callBase(e)},_createTable:function(){var e=this,t=e.option("selection.mode"),i=e.callBase.apply(e,arguments);return t!=="none"&&((e.option(wn)==="onLongTap"||!Rs)&&te.on(i,xe(za.name,"dxDataGridRowsView"),"."+BO,e.createAction(function(r){Cx(e.component,r.event),r.event.stopPropagation()})),te.on(i,"mousedown selectstart",e.createAction(function(r){var n=r.event;n.shiftKey&&n.preventDefault()}))),i},_createRow:function(e){var t=this.callBase.apply(this,arguments);if(e){var i=e.isSelected;i&&t.addClass(yx);var r=this.option(cu);r!=="none"&&this.setAria("selected",i,t)}return t},_rowClick:function(e){var t=e.event,i=W(t.target).closest("."+ZG).length;this.isClickableElement(W(t.target))||(!i&&(this.option(cu)!=="multiple"||this.option(wn)!=="always")&&this.getController("selection").changeItemSelection(e.rowIndex,{control:Pi(t),shift:t.shiftKey})&&(t.preventDefault(),e.handled=!0),this.callBase(e))},isClickableElement:function(e){var t=e.closest("."+MO).length;return!!t},_renderCore:function(e){this.callBase(e),this._updateCheckboxesClass()},_updateCheckboxesClass:function(){var e=this.getTableElements(),t=this.getController("selection"),i=t.isSelectColumnVisible()&&!t.isSelectionWithCheckboxes();le(e,function(r,n){W(n).toggleClass(YG,i)})}}}}};Le.registerModule("selection",QG);var wx="dx-invalid-message-auto",xx="dx-validation-target";let P0=class extends fd{getProps(){var t=super.getProps();return t.onFocusIn=()=>{var i=this.option("validationMessageMode")==="auto";if(i){var r=W(".dx-invalid-message.dx-overlay-wrapper");r==null||r.removeClass(wx),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>{r==null||r.addClass(wx)},150)}},t.saveValueChangeEvent=i=>{this._valueChangeEventInstance=i},t}_createElement(t){super._createElement(t),this.showValidationMessageTimeout=void 0,this.validationRequest=kt(),ui(this.$element()[0],xx,this)}_render(){var t;(t=this.option("_onMarkupRendered"))===null||t===void 0||t()}_initializeComponent(){super._initializeComponent(),this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}_initOptions(t){super._initOptions(t),this.option(Nt.initValidationOptions(t))}_getDefaultOptions(){return re(super._getDefaultOptions(),{validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})}_bindInnerWidgetOptions(t,i){var r=re({},t.option()),n=()=>this._silent(i,r);n(),t.on("optionChanged",n)}_raiseValidation(t,i){var r=!Z(t)&&!Z(i);t!==i&&!r&&this.validationRequest.fire({value:t,editor:this})}_raiseValueChangeAction(t,i){var r;(r=this._valueChangeAction)===null||r===void 0||r.call(this,{element:this.$element(),previousValue:i,value:t,event:this._valueChangeEventInstance}),this._valueChangeEventInstance=void 0}_optionChanged(t){var{name:i,previousValue:r,value:n}=t;switch(i&&this._getActionConfigs()[i]!==void 0&&this._addAction(i),i){case"value":this._raiseValidation(n,r),this._raiseValueChangeAction(n,r);break;case"onValueChanged":this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]});break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(Nt.synchronizeValidationOptions(t,this.option()))}super._optionChanged(t)}reset(){var{value:t}=this._getDefaultOptions();this.option({value:t})}_dispose(){super._dispose(),ui(this.element(),xx,null),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout)}};var eK=ln.isEditor,PO=e=>eK(e)||e instanceof P0;P0.isEditor=PO;ln.isEditor=PO;let tK=class extends P0{_useTemplates(){return!1}_isFocused(){var t=this.$element()[0];return t.classList.contains("dx-state-focused")}getSupportedKeyNames(){return["space"]}getProps(){var t=super.getProps();return t.value!==null&&(t.value=!!t.value),t}};var iK=["dataSource","selectedRowKeys"],rK={integrationOptions:!0};function Ol(e,t,i){return{path:e,value:t,previousValue:i}}function Sx(e,t,i,r,n,a){if(!rK[r]){var s=Wr(t),o=Wr(i);if(t!==i)if(s!==o)e.push(Ol(r,i,t));else if(s==="object")if(!ft(i))e.push(Ol(r,i,t));else{var l=Ex(t,i,n,a);e.push(...l.map(c=>Ie({},c,{path:"".concat(r,".").concat(c.path)})))}else if(s==="array"){var u=a.some(c=>n.includes(c));if(u&&t!==i)e.push(Ol(r,i,t));else if(t.length!==i.length)e.push(Ol(r,i,t));else{var d=Ex(t,i,n,a);[].push.apply(e,d.map(c=>Ie({},c,{path:"".concat(r).concat(c.path)})))}}else e.push(Ol(r,i,t))}}var FO=e=>(t,i,r,n)=>{var a=[],s=Array.isArray(t)?o=>{Sx(a,t[o],i[o],"[".concat(o,"]"),"".concat(r,".").concat(o),n)}:o=>{Sx(a,t[o],i[o],o,"".concat(r,".").concat(o),n)};return e(t).forEach(s),Object.keys(i).filter(o=>!Object.prototype.hasOwnProperty.call(t,o)&&t[o]!==i[o]).forEach(o=>{a.push({path:o,value:i[o],previousValue:t[o]})}),a},Ex=FO(e=>Object.keys(e)),nK={key:!0,ref:!0,children:!0,style:!0},aK=FO(e=>Object.keys(e).filter(t=>!nK[t]));function sK(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:iK;return aK(e,t,"",i)}var oK=["valueChange"],lK=["componentProps","componentType","rootElementRef","templateNames"],LO=e=>Object.keys(e).reduce((t,i)=>(e[i]!==void 0&&(t[i]=e[i]),t),{}),uK=e=>{var{props:{componentProps:{className:t}},restAttributes:i,widgetRef:r}=e;return LO(Ci(1,"div",t,null,1,Ie({},i),null,r))},dK={};class If extends Rn{constructor(t){super(t),this.state={},this.widgetRef=Ui(),this.getInstance=this.getInstance.bind(this),this.setupWidget=this.setupWidget.bind(this),this.setRootElementRef=this.setRootElementRef.bind(this),this.updateWidget=this.updateWidget.bind(this)}get config(){return"ConfigContext"in this.context?this.context.ConfigContext:yf}createEffects(){return[new ri(this.setupWidget,[]),new ri(this.setRootElementRef,[]),new ri(this.updateWidget,[this.props.componentProps,this.config,this.props.templateNames])]}updateEffects(){var t;(t=this._effects[2])===null||t===void 0||t.update([this.props.componentProps,this.config,this.props.templateNames])}setupWidget(){var t=new this.props.componentType(this.widgetRef.current,this.properties);return this.instance=t,()=>{t.dispose(),this.instance=null}}setRootElementRef(){var{rootElementRef:t}=this.props;t&&(t.current=this.widgetRef.current)}updateWidget(){var t=this.getInstance();if(t){var i=sK(this.prevProps||{},this.properties);i.length&&(t.beginUpdate(),i.forEach(r=>{var{path:n,value:a}=r;t.option(n,a)}),t.endUpdate()),this.prevProps=this.properties}}get properties(){var t,i=LO(this.props.componentProps),{valueChange:r}=i,n=ai(i,oK),a=Ie({rtlEnabled:!!((t=this.config)!==null&&t!==void 0&&t.rtlEnabled),isRenovated:!0},n);r&&(a.onValueChanged=o=>{var{value:l}=o;return r(l)});var s=this.props.templateNames;return s.forEach(o=>{vH(o,a)&&(a[o]=(l,u,d)=>{gH(this.props.componentProps[o],{item:l,index:u,container:d})})}),a}get restAttributes(){var t=this.props,i=ai(t,lK);return i}getInstance(){return this.instance}render(){var t=this.props;return uK({props:Ie({},t),widgetRef:this.widgetRef,config:this.config,properties:this.properties,restAttributes:this.restAttributes})}}If.defaultProps=dK;var hK=["accessKey","activeStateEnabled","boundary","className","contentId","disabled","focusStateEnabled","height","hint","hoverStateEnabled","mode","offset","onClick","onKeyDown","positionRequest","rtlEnabled","tabIndex","target","validationErrors","visible","visualContainer","width"],cK=e=>{var{componentProps:t,restAttributes:i}=e;return yr(Zt(2,If,Ie({componentType:h0,componentProps:t,templateNames:[]},i)))},fK=Object.create(Object.prototype,Ie(Object.getOwnPropertyDescriptors(bf),Object.getOwnPropertyDescriptors({mode:"auto",offset:Object.freeze({h:0,v:0}),isReactComponentWrapper:!0})));class NO extends Kr{constructor(t){super(t),this.state={}}get componentProps(){return this.props}get restAttributes(){var t=this.props,i=ai(t,hK);return i}render(){var t=this.props;return cK({props:Ie({},t),componentProps:this.componentProps,restAttributes:this.restAttributes})}}NO.defaultProps=fK;var pK=["accessKey","activeStateEnabled","aria","children","className","classes","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationStatus","value","valueChange","visible","width"],mK=e=>{var{classes:t,isValid:i,readOnly:r}=e,n={"dx-state-readonly":!!r,"dx-invalid":!i,["".concat(t)]:!!t};return $r(n)},gK=e=>{var{aria:t,cssClasses:i,isValidationMessageVisible:r,onFocusIn:n,props:{accessKey:a,activeStateEnabled:s,children:o,className:l,disabled:u,focusStateEnabled:d,height:c,hint:h,hoverStateEnabled:f,onClick:p,onKeyDown:g,rtlEnabled:m,tabIndex:v,validationMessageMode:b,visible:y,width:I},restAttributes:D,rootElementRef:N,validationErrors:z,validationMessageGuid:F,validationMessageTarget:$,widgetRef:j}=e;return yr(Zt(2,Cf,Ie({rootElementRef:N,aria:t,classes:i,activeStateEnabled:s,focusStateEnabled:d,hoverStateEnabled:f,accessKey:a,className:l,rtlEnabled:m,hint:h,disabled:u,height:c,width:I,onFocusIn:n,onClick:p,onKeyDown:g,tabIndex:v,visible:y},D,{children:ua([o,r&&Zt(2,NO,{validationErrors:z,mode:b,positionRequest:"below",rtlEnabled:m,target:$,boundary:$,visualContainer:$,contentId:F})],0)}),null,j))},Vi=Object.create(Object.prototype,Ie(Object.getOwnPropertyDescriptors(bf),Object.getOwnPropertyDescriptors({readOnly:!1,name:"",validationError:null,validationErrors:null,validationMessageMode:"auto",validationStatus:"valid",isValid:!0,defaultValue:null,valueChange:()=>{}}))),vK={get readOnly(){return Vi.readOnly},get name(){return Vi.name},get validationError(){return Vi.validationError},get validationErrors(){return Vi.validationErrors},get validationMessageMode(){return Vi.validationMessageMode},get validationStatus(){return Vi.validationStatus},get isValid(){return Vi.isValid},get defaultValue(){return Vi.defaultValue},get valueChange(){return Vi.valueChange},get className(){return Vi.className},get activeStateEnabled(){return Vi.activeStateEnabled},get disabled(){return Vi.disabled},get focusStateEnabled(){return Vi.focusStateEnabled},get hoverStateEnabled(){return Vi.hoverStateEnabled},get tabIndex(){return Vi.tabIndex},get visible(){return Vi.visible},get aria(){return Ec.aria},get classes(){return Ec.classes}};class VO extends hd{constructor(t){super(t),this.widgetRef=Ui(),this.rootElementRef=Ui(),this.__getterCache={},this.state={validationMessageGuid:"dx-".concat(new Ri),isValidationMessageVisible:!1,value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.updateValidationMessageVisibility=this.updateValidationMessageVisibility.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onFocusIn=this.onFocusIn.bind(this)}createEffects(){return[new ri(this.updateValidationMessageVisibility,[this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors]),cd()]}updateEffects(){var t;(t=this._effects[0])===null||t===void 0||t.update([this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors])}updateValidationMessageVisibility(){this.setState(t=>({isValidationMessageVisible:this.shouldShowValidationMessage}))}onFocusIn(t){var{onFocusIn:i}=this.props;i==null||i(t)}get cssClasses(){return"".concat(mK(Ie({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})))}get shouldShowValidationMessage(){var t,{isValid:i,validationStatus:r}=this.props,n=(t=this.validationErrors)!==null&&t!==void 0?t:[],a=i&&r!=="invalid";return!a&&n.length>0}get aria(){var{isValid:t,readOnly:i}=this.props,r={readonly:i?"true":"false",invalid:t?"false":"true"};return this.shouldShowValidationMessage&&(r.describedBy=this.state.validationMessageGuid),Ie({},r,this.props.aria)}get validationErrors(){return this.__getterCache.validationErrors!==void 0?this.__getterCache.validationErrors:this.__getterCache.validationErrors=(()=>{var{validationError:t,validationErrors:i}=this.props,r=i&&[...i];return!r&&t&&(r=[Ie({},t)]),r})()}get validationMessageTarget(){var t;return(t=this.rootElementRef)===null||t===void 0?void 0:t.current}get restAttributes(){var t=Ie({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),i=ai(t,pK);return i}focus(){this.widgetRef.current.focus()}blur(){this.widgetRef.current.blur()}componentWillUpdate(t,i,r){super.componentWillUpdate(),(this.props.validationError!==t.validationError||this.props.validationErrors!==t.validationErrors)&&(this.__getterCache.validationErrors=void 0)}render(){var t=this.props;return gK({props:Ie({},t,{value:this.props.value!==void 0?this.props.value:this.state.value}),validationMessageGuid:this.state.validationMessageGuid,isValidationMessageVisible:this.state.isValidationMessageVisible,rootElementRef:this.rootElementRef,widgetRef:this.widgetRef,onFocusIn:this.onFocusIn,cssClasses:this.cssClasses,shouldShowValidationMessage:this.shouldShowValidationMessage,aria:this.aria,validationErrors:this.validationErrors,validationMessageTarget:this.validationMessageTarget,restAttributes:this.restAttributes})}}VO.defaultProps=vK;function $O(e){var t,i=at();return e?(t=i.getComputedStyle)===null||t===void 0?void 0:t.call(i,e):null}var _K=[[22,16],[18,16]],bK=[[[12,8],[20,18]],[[16,10],[16,14]]];function HO(){var e=un();return{isMaterialTheme:xi(e),isCompactTheme:TP(e)}}function yK(){var{isCompactTheme:e,isMaterialTheme:t}=HO();return _K[+t][+e]}function CK(e){var{isCompactTheme:t,isMaterialTheme:i}=HO();return bK[+e][+i][+t]}function wK(e,t){var i=CK(t),r=yK(),n=i/r;return Math.ceil(n*e)}var xK=["isChecked","size"],SK=e=>{var{cssStyles:t,elementRef:i}=e;return Ci(1,"span","dx-checkbox-icon",null,1,{style:y0(t)},null,i)},EK={isChecked:!1};class zO extends Rn{constructor(t){super(t),this.state={},this.elementRef=Ui(),this.__getterCache={},this.updateFontSize=this.updateFontSize.bind(this),this.setIconFontSize=this.setIconFontSize.bind(this),this.getIconSize=this.getIconSize.bind(this),this.getComputedIconSize=this.getComputedIconSize.bind(this)}createEffects(){return[new ri(this.updateFontSize,[this.props.isChecked,this.props.size])]}updateEffects(){var t;(t=this._effects[0])===null||t===void 0||t.update([this.props.isChecked,this.props.size])}updateFontSize(){var{isChecked:t,size:i}=this.props;if(rt()&&i){var r=this.getIconSize(i),n=wK(r,t);this.setIconFontSize(n)}}setIconFontSize(t){var i=this.elementRef.current;i.style.fontSize="".concat(t,"px")}getIconSize(t){return Kt(t)?t:t.endsWith("px")?parseInt(t,10):this.getComputedIconSize()}getComputedIconSize(){var t=this.elementRef.current,i=$O(t),r=parseInt(i==null?void 0:i.width,10);return r}get cssStyles(){return this.__getterCache.cssStyles!==void 0?this.__getterCache.cssStyles:this.__getterCache.cssStyles=(()=>{var{size:t}=this.props,i=Yo("width",t),r=Yo("height",t);return{height:r,width:i}})()}get restAttributes(){var t=this.props,i=ai(t,xK);return i}componentWillUpdate(t,i,r){super.componentWillUpdate(),this.props.size!==t.size&&(this.__getterCache.cssStyles=void 0)}render(){var t=this.props;return SK({props:Ie({},t),elementRef:this.elementRef,setIconFontSize:this.setIconFontSize,getIconSize:this.getIconSize,getComputedIconSize:this.getComputedIconSize,cssStyles:this.cssStyles,restAttributes:this.restAttributes})}}zO.defaultProps=EK;var IK=["accessKey","activeStateEnabled","aria","className","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","iconSize","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","saveValueChangeEvent","tabIndex","text","validationError","validationErrors","validationMessageMode","validationStatus","value","valueChange","visible","width"],TK=e=>{var{text:t,value:i}=e,r=i,n=r===null,a={"dx-checkbox":!0,"dx-checkbox-checked":r===!0,"dx-checkbox-has-text":!!t,"dx-checkbox-indeterminate":n};return $r(a)},AK=e=>{var{aria:t,cssClasses:i,editorRef:r,keyDown:n,onWidgetClick:a,props:{accessKey:s,activeStateEnabled:o,className:l,disabled:u,focusStateEnabled:d,height:c,hint:h,hoverStateEnabled:f,iconSize:p,isValid:g,name:m,onFocusIn:v,readOnly:b,rtlEnabled:y,tabIndex:I,text:D,validationError:N,validationErrors:z,validationMessageMode:F,validationStatus:$,value:j,visible:q,width:H},restAttributes:A}=e;return yr(Zt(2,VO,Ie({aria:t,classes:i,onClick:a,onKeyDown:n,accessKey:s,activeStateEnabled:o,focusStateEnabled:d,hoverStateEnabled:f,className:l,disabled:u,readOnly:b,hint:h,height:c,width:H,rtlEnabled:y,tabIndex:I,visible:q,validationError:N,validationErrors:z,validationMessageMode:F,validationStatus:$,isValid:g,onFocusIn:v},A,{children:ua([yr(Ci(64,"input",null,null,1,Ie({type:"hidden",value:"".concat(j)},m&&{name:m}))),Ci(1,"div","dx-checkbox-container",[Zt(2,zO,{size:p,isChecked:j===!0}),D&&Ci(1,"span","dx-checkbox-text",D,0)],0)],4)}),null,r))},Qi=Object.create(Object.prototype,Ie(Object.getOwnPropertyDescriptors(Vi),Object.getOwnPropertyDescriptors({text:"",activeStateEnabled:!0,hoverStateEnabled:!0,get focusStateEnabled(){return Ne.real().deviceType==="desktop"&&!Ne.isSimulator()},defaultValue:!1,valueChange:()=>{}}))),OK={get text(){return Qi.text},get activeStateEnabled(){return Qi.activeStateEnabled},get hoverStateEnabled(){return Qi.hoverStateEnabled},get focusStateEnabled(){return Qi.focusStateEnabled},get defaultValue(){return Qi.defaultValue},get valueChange(){return Qi.valueChange},get readOnly(){return Qi.readOnly},get name(){return Qi.name},get validationError(){return Qi.validationError},get validationErrors(){return Qi.validationErrors},get validationMessageMode(){return Qi.validationMessageMode},get validationStatus(){return Qi.validationStatus},get isValid(){return Qi.isValid},get className(){return Qi.className},get disabled(){return Qi.disabled},get tabIndex(){return Qi.tabIndex},get visible(){return Qi.visible},get aria(){return Ec.aria}};let Oc=class extends hd{constructor(t){super(t),this.editorRef=Ui(),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[cd()]}onWidgetClick(t){var i,{readOnly:r,saveValueChangeEvent:n}=this.props,a=(i=this.props.value!==void 0?this.props.value:this.state.value)!==null&&i!==void 0?i:!1;if(!r){n==null||n(t);var s;this.setState(o=>(s=!a,{value:s})),this.props.valueChange(s)}}keyDown(t){var{onKeyDown:i}=this.props,{keyName:r,originalEvent:n,which:a}=t,s=i==null?void 0:i(t);if(s!=null&&s.cancel)return s;(r==="space"||a==="space")&&(n.preventDefault(),this.onWidgetClick(n))}get cssClasses(){return TK(Ie({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}))}get aria(){var t=(this.props.value!==void 0?this.props.value:this.state.value)===!0,i=(this.props.value!==void 0?this.props.value:this.state.value)===null,r={role:"checkbox",checked:i?"mixed":"".concat(t)};return Ie({},r,this.props.aria)}get restAttributes(){var t=Ie({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),i=ai(t,IK);return i}focus(){this.editorRef.current.focus()}blur(){this.editorRef.current.blur()}render(){var t=this.props;return AK({props:Ie({},t,{value:this.props.value!==void 0?this.props.value:this.state.value}),editorRef:this.editorRef,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,cssClasses:this.cssClasses,aria:this.aria,restAttributes:this.restAttributes})}};function DK(e){var t=["value"];return Object.keys(e).reduce((i,r)=>{var n=e[r],a=t.some(s=>s===r)?"default"+r.charAt(0).toUpperCase()+r.slice(1):r;return i[a]=n,i},{})}Oc.defaultProps=OK;var Ix=[];function RK(e){Ix.push(e),Oc.defaultProps=Object.create(Object.prototype,Ie(Object.getOwnPropertyDescriptors(Oc.defaultProps),Object.getOwnPropertyDescriptors(DK(Zo(Ix)))))}class Vs extends tK{getProps(){var t=super.getProps();return t.onKeyDown=this._wrapKeyDownHandler(t.onKeyDown),t}focus(){var t;return(t=this.viewRef)===null||t===void 0?void 0:t.focus(...arguments)}blur(){var t;return(t=this.viewRef)===null||t===void 0?void 0:t.blur(...arguments)}_getActionConfigs(){return{onFocusIn:{},onClick:{}}}get _propsInfo(){return{twoWay:[["value","defaultValue","valueChange"]],allowNull:["defaultValue","validationError","validationErrors","value"],elements:[],templates:[],props:["text","iconSize","activeStateEnabled","hoverStateEnabled","focusStateEnabled","saveValueChangeEvent","defaultValue","valueChange","readOnly","name","validationError","validationErrors","validationMessageMode","validationStatus","isValid","onFocusIn","className","accessKey","disabled","height","hint","onClick","onKeyDown","rtlEnabled","tabIndex","visible","width","aria","value"]}}get _viewComponent(){return Oc}}yt("dxCheckBox",Vs);Vs.defaultOptions=RK;var es="dx-treeview",ur="".concat(es,"-node"),Vn="".concat(ur,"-container"),Cm="".concat(ur,"-loadindicator"),ls="".concat(ur,"-container-opened"),Dl="".concat(ur,"-is-leaf"),Yi="".concat(es,"-item"),kK="".concat(Yi,"-with-checkbox"),MK="".concat(Yi,"-without-checkbox"),BK="".concat(Yi,"-data"),Rl="".concat(es,"-toggle-item-visibility"),PK="".concat(es,"-loadindicator"),FK="".concat(es,"-loadindicator-wrapper"),wm="".concat(es,"-toggle-item-visibility-opened"),xm="".concat(es,"-select-all-item"),Tx="dx-state-invisible",kl="dx-state-disabled",LK="dx-state-selected",Sm="dxTreeView_expand",lh="data-item-id",NK=oO.inherit({_supportedKeys:function(e){var t=n=>{var a=W(this.option("focusedElement"));if(a.length){n.target=a,n.currentTarget=a,this._itemClickHandler(n,a.children("."+Yi));var s=this._getEventNameByOption(this.option("expandEvent")),o=s===xe(Pt,Sm);o&&this._expandEventHandler(n)}},i=n=>{n.preventDefault();var a=W(this.option("focusedElement")),s=this._getCheckBoxInstance(a);if(!s.option("disabled")){var o=s.option("value");this._updateItemSelection(!o,a.find("."+Yi).get(0),!0)}},r=function(n,a){if(this.option("expandAllEnabled")){a.preventDefault();var s=W(this.option("focusedElement"));if(s.length){var o=this._getItemData(s.find(".".concat(Yi)));this._toggleExpandedNestedItems([o],n)}}};return re(this.callBase(),{enter:this._showCheckboxes()?i:t,space:this._showCheckboxes()?i:t,asterisk:r.bind(this,!0),minus:r.bind(this,!1)})},_toggleExpandedNestedItems:function(e,t){if(e)for(var i=0,r=e.length;i<r;i++){var n=e[i],a=this._dataAdapter.getNodeByItem(n);this._toggleExpandedState(a,t),this._toggleExpandedNestedItems(n.items,t)}},_getNodeElement:function(e,t){var i=this._encodeString(e.internalFields.key);if(t)return t.$nodeByKey||(t.$nodeByKey={},this.$element().find(".".concat(ur)).each(function(){var n=W(this),a=n.attr(lh);t.$nodeByKey[a]=n})),t.$nodeByKey[i]||W();var r=this.$element().get(0).querySelector("[".concat(lh,'="').concat(i,'"]'));return W(r)},_activeStateUnit:"."+Yi,_widgetClass:function(){return es},_getDefaultOptions:function(){var e=re(this.callBase(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",selectAllText:_e.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",useNativeScrolling:!0,virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null});return re(!0,e,{integrationOptions:{useDeferUpdateForTemplates:!1}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!ks},options:{useNativeScrolling:!1}}])},_initSelectedItems:me,_syncSelectionOptions:hI,_fireSelectionChanged:function(){var e=this._selectionChangePromise;Pe(e).done((function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}).bind(this))},_createSelectAllValueChangedAction:function(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})},_fireSelectAllValueChanged:function(e){this._selectAllValueChangedAction({value:e})},_checkBoxModeChange:function(e,t){if(t==="none"||e==="none"){this.repaint();return}var i=this._$selectAllItem&&this._$selectAllItem.length;switch(e){case"selectAll":i||(this._createSelectAllValueChangedAction(),this._renderSelectAllItem());break;case"normal":i&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}},_removeSelection:function(){var e=this;le(this._dataAdapter.getFullData(),function(t,i){e._hasChildren(i)&&e._dataAdapter.toggleSelection(i.internalFields.key,!1,!0)})},_optionChanged:function(e){var{name:t,value:i,previousValue:r}=e;switch(t){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",i);break;case"showCheckBoxesMode":this._checkBoxModeChange(i,r);break;case"scrollDirection":this.getScrollable().option("direction",i);break;case"useNativeScrolling":this.getScrollable().option("useNative",i);break;case"items":delete this._$selectAllItem,this.callBase(e);break;case"dataSource":this.callBase(e),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._initExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":break;case"selectionMode":this._initDataAdapter(),this.callBase(e);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",e.value),this.repaint();break;default:this.callBase(e)}},_initDataSource:function(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done((function(e){e&&e.length&&this.option("items",e)}).bind(this)):(this.callBase(),this._isVirtualMode()&&this._initVirtualMode())},_initVirtualMode:function(){var e=this._filter;e.custom||(e.custom=this._dataSource.filter()),e.internal||(e.internal=[this.option("parentIdExpr"),this.option("rootValue")])},_useCustomChildrenLoader:function(){return Re(this.option("createChildren"))&&this._isDataStructurePlain()},_loadChildrenByCustomLoader:function(e){var t=this.option("createChildren").call(this,e);return Array.isArray(t)?new pe().resolve(t).promise():t&&Re(t.then)?Hi(t):new pe().resolve([]).promise()},_combineFilter:function(){return!this._filter.custom||!this._filter.custom.length?this._filter.internal:[this._filter.custom,this._filter.internal]},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this._filter={},this.callBase(),this._initStoreChangeHandlers()},_dataSourceChangedHandler:function(e){var t=this.option("items");this._initialized&&this._isVirtualMode()&&t.length||this.option("items",e)},_removeTreeViewLoadIndicator:function(){this._treeViewLoadIndicator&&(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)},_createTreeViewLoadIndicator:function(){return this._treeViewLoadIndicator=W("<div>").addClass(PK),this._createComponent(this._treeViewLoadIndicator,Ir,{}),this._treeViewLoadIndicator},_dataSourceLoadingChangedHandler:function(e){var t;if(this._isVirtualMode()&&(t=this._combineFilter(),this._dataSource.filter(t)),e&&!this._dataSource.isLoaded()){this.option("items",[]);var i=W("<div>").addClass(FK);this._createTreeViewLoadIndicator().appendTo(i),this.itemsContainer().append(i),this._isVirtualMode()&&this._dataSource.filter()!==t&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()},_initStoreChangeHandlers:function(){this.option("dataStructure")==="plain"&&this._dataSource&&this._dataSource.store().on("inserted",e=>{this.option().items=this.option("items").concat(e),this._dataAdapter.addItem(e),this._dataAdapter.isFiltered(e)&&this._updateLevel(this._parentIdGetter(e))}).on("removed",e=>{var t=this._dataAdapter.getNodeByKey(e);Z(t)&&(this.option("items")[this._dataAdapter.getIndexByKey(t.internalFields.key)]=0,this._markChildrenItemsToRemove(t),this._removeItems(),this._dataAdapter.removeItem(e),this._updateLevel(this._parentIdGetter(t)))})},_markChildrenItemsToRemove:function(e){var t=e.internalFields.childrenKeys;le(t,(i,r)=>{this.option("items")[this._dataAdapter.getIndexByKey(r)]=0,this._markChildrenItemsToRemove(this._dataAdapter.getNodeByKey(r))})},_removeItems:function(){var e=re(!0,[],this.option("items")),t=0;le(e,(i,r)=>{r||(this.option("items").splice(i-t,1),t++)})},_updateLevel:function(e){var t=this._getContainerByParentKey(e);this._renderItems(t,this._dataAdapter.getChildrenNodes(e))},_getOldContainer:function(e){if(e.length)return e.children(".".concat(Vn));var t=this.getScrollable();return t?W(t.content()).children():W()},_getContainerByParentKey:function(e){var t=this._dataAdapter.getNodeByKey(e),i=t?this._getNodeElement(t):[];this._getOldContainer(i).remove();var r=this._renderNodeContainer(i);if(this._isRootLevel(e)){var n=this.getScrollable();n||this._renderScrollableContainer(),W(n.content()).append(r)}return r},_isRootLevel:function(e){return e===this.option("rootValue")},_getAccessors:function(){var e=this.callBase();return e.push("hasItems"),e},_getDataAdapterOptions:function(){return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:this._dataSource&&this._dataSource.sort()}},_initMarkup:function(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),this.callBase(),this.setAria("role","tree")},_renderContentImpl:function(){var e=this._renderNodeContainer();W(this.getScrollable().content()).append(e),!(!this.option("items")||!this.option("items").length)&&(this._renderItems(e,this._dataAdapter.getRootNodes()),this._initExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(e)))},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")},_isDataStructurePlain:function(){return this.option("dataStructure")==="plain"},_fireContentReadyAction:function(){var e=this.getDataSource(),t=e&&!e.isLoaded(),i=this.getScrollable();i&&rt()&&i.update(),t||this.callBase(),i&&rt()&&i.update()},_renderScrollableContainer:function(){this._scrollable=this._createComponent(W("<div>").appendTo(this.$element()),Tr,{useNative:this.option("useNativeScrolling"),direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer:function(e){var t=W("<ul>").addClass(Vn);if(this.setAria("role","group",t),e&&e.length){var i=this._getItemData(e.children("."+Yi));this._expandedGetter(i)&&t.addClass(ls),t.appendTo(e)}return t},_createDOMElement:function(e,t){var i=W("<li>").addClass(ur).attr(lh,this._encodeString(t.internalFields.key)).prependTo(e);return this.setAria({role:"treeitem",label:this._displayGetter(t.internalFields.item)||"",expanded:t.internalFields.expanded||!1,level:this._getLevel(e)},i),i},_getLevel:function(e){var t=e.parent();return t.hasClass("dx-scrollable-content")?1:parseInt(t.attr("aria-level"))+1},_showCheckboxes:function(){return this.option("showCheckBoxesMode")!=="none"},_selectAllEnabled:function(){return this.option("showCheckBoxesMode")==="selectAll"&&!this._isSingleSelection()},_renderItems:function(e,t){for(var i=t.length-1,r=i;r>=0;r--)this._renderItem(r,t[r],e);this._renderedItemsCount+=t.length},_renderItem:function(e,t,i){var r=this._createDOMElement(i,t),n=t.internalFields,a=this._showCheckboxes();r.addClass(a?kK:MK),r.toggleClass(Tx,n.item.visible===!1),a&&this._renderCheckBox(r,t),this.setAria("selected",n.selected,r),this._toggleSelectedClass(r,n.selected),this.callBase(this._renderedItemsCount+e,n.item,r),n.item.visible!==!1&&this._renderChildren(r,t)},_setAriaSelected:function(){},_renderChildren:function(e,t){if(!this._hasChildren(t)){this._addLeafClass(e);return}this._renderToggleItemVisibilityIcon(e,t),!(this.option("deferRendering")&&!t.internalFields.expanded)&&this._loadSublevel(t).done(i=>{this._renderSublevel(e,this._getActualNode(t),i)})},_getActualNode:function(e){return this._dataAdapter.getNodeByKey(e.internalFields.key)},_hasChildren:function(e){return this._isVirtualMode()||this._useCustomChildrenLoader()?this._hasItemsGetter(e.internalFields.item)!==!1:this.callBase(e)},_loadSublevel:function(e){var t=new pe,i=this._getChildNodes(e);return i.length?t.resolve(i):this._loadNestedItems(e).done(r=>{t.resolve(this._dataAdapter.getNodesByItems(r))}),t.promise()},_renderSublevel:function(e,t,i){var r=this._renderNodeContainer(e,t),n=i.filter(s=>t.internalFields.childrenKeys.indexOf(s.internalFields.key)!==-1);if(this._renderItems(r,n),n.length&&!t.internalFields.selected){var a=n[0];this._updateParentsState(a,this._getNodeElement(a))}this._normalizeIconState(e,n.length),t.internalFields.expanded&&r.addClass(ls)},_executeItemRenderAction:function(e,t,i){var r=this._getNode(i);this._getItemRenderAction()({itemElement:i,itemIndex:e,itemData:t,node:this._dataAdapter.getPublicNode(r)})},_addLeafClass:function(e){e.addClass(Dl)},_expandEventHandler:function(e){var t=W(e.currentTarget.parentNode);t.hasClass(Dl)||this._toggleExpandedState(e.currentTarget,void 0,e)},_initExpandEvent:function(){var e=this._getEventNameByOption(this.option("expandEvent")),t=this._itemContainer(),i=this._itemSelector();te.off(t,"."+Sm,i),te.on(t,e,i,this._expandEventHandler.bind(this))},_getEventNameByOption:function(e){var t=e==="click"?Pt:ed;return xe(t,Sm)},_getNode:function(e){if(!Z(e))return null;if(e.internalFields)return e;if(iu(e))return this._dataAdapter.getNodeByKey(e);var t=W(e).get(0);return t?we.isElementNode(t)?this._getNodeByElement(t):this._dataAdapter.getNodeByItem(t):null},_getNodeByElement:function(e){var t=W(e).closest("."+ur),i=this._decodeString(t.attr(lh));return this._dataAdapter.getNodeByKey(i)},_toggleExpandedState:function(e,t,i){var r=this._getNode(e);if(!r)return new pe().reject().promise();if(r.internalFields.disabled)return new pe().reject().promise();var n=r.internalFields.expanded;if(n===t)return new pe().resolve().promise();if(this._hasChildren(r)){var a=this._getNodeElement(r);if(a.find(".".concat(Cm,":not(.").concat(Tx,")")).length)return new pe().reject().promise();this._createLoadIndicator(a)}return Z(t)||(t=!n),this._dataAdapter.toggleExpansion(r.internalFields.key,t),this._updateExpandedItemsUI(r,t,i)},_createLoadIndicator:function(e){var t=e.children("."+Rl),i=e.children(".".concat(Vn));t.hasClass(wm)||i.not(":empty").length||(this._createComponent(W("<div>").addClass(Cm),Ir,{}).$element().appendTo(e),t.hide())},_renderToggleItemVisibilityIcon:function(e,t){var i=W("<div>").addClass(Rl).appendTo(e);t.internalFields.expanded&&(i.addClass(wm),e.parent().addClass(ls)),t.internalFields.disabled&&i.addClass(kl),this._renderToggleItemVisibilityIconClick(i,t)},_renderToggleItemVisibilityIconClick:function(e,t){var i=xe(Pt,this.NAME);te.off(e,i),te.on(e,i,r=>{this._toggleExpandedState(t.internalFields.key,void 0,r)})},_updateExpandedItemsUI:function(e,t,i){var r=this._getNodeElement(e),n=!r.length||t&&r.is(":hidden");if(this.option("expandNodesRecursive")&&n){var a=this._getNode(e.internalFields.parentKey);a&&this._updateExpandedItemsUI(a,t,i)}var s=r.children("."+Rl),o=r.children(".".concat(Vn));s.toggleClass(wm,t);var l=o.length>0,u=new pe;return!t||l&&!o.is(":empty")?(this._animateNodeContainer(e,t,i,u),u.promise()):e.internalFields.childrenKeys.length===0&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(e,t,i,u),u.promise()):(this._renderSublevel(r,e,this._getChildNodes(e)),this._fireContentReadyAction(),this._animateNodeContainer(e,t,i,u),u.promise())},_loadNestedItemsWithUpdate:function(e,t,i,r){var n=this._getNodeElement(e);this._loadNestedItems(e).done(a=>{var s=this._getActualNode(e);if(this._renderSublevel(n,s,this._dataAdapter.getNodesByItems(a)),!a||!a.length){r.resolve();return}this._fireContentReadyAction(),this._animateNodeContainer(s,t,i,r)})},_loadNestedItems:function(e){if(this._useCustomChildrenLoader()){var t=this._dataAdapter.getPublicNode(e);return this._loadChildrenByCustomLoader(t).done(i=>{this._areNodesExists(i)||this._appendItems(i)})}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),e.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done(i=>{this._areNodesExists(i)||this._appendItems(i)})):new pe().resolve([]).promise()},_areNodesExists:function(e,t){var i=this.keyOf(e[0]),r=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(i,r)},_appendItems:function(e){this.option().items=this.option("items").concat(e),this._initDataAdapter()},_animateNodeContainer:function(e,t,i,r){var n=this._getNodeElement(e),a=n.children(".".concat(Vn));e&&r&&a.length===0&&r.resolve(),a.addClass(ls);var s=nt(a);fi.stop(a,!0),fi.animate(a,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:t?0:s},to:{maxHeight:t?s:0},complete:(function(){a.css("maxHeight","none"),a.toggleClass(ls,t),this.setAria("expanded",t,n),this.getScrollable().update(),this._fireExpandedStateUpdatedEvent(t,e,i),r&&r.resolve()}).bind(this)})},_fireExpandedStateUpdatedEvent:function(e,t,i){if(this._hasChildren(t)){var r=e?"onItemExpanded":"onItemCollapsed";if(Z(i))this._itemDXEventHandler(i,r,{node:this._dataAdapter.getPublicNode(t)});else{var n=this._getNodeElement(t);this._itemEventHandler(n,r,{event:i,node:this._dataAdapter.getPublicNode(t)})}}},_normalizeIconState:function(e,t){var i=e.find(".".concat(Cm));if(i.length){var r;(r=Ir.getInstance(i))===null||r===void 0||r.option("visible",!1)}var n=e.find(".".concat(Rl));if(t){n.show();return}n.removeClass(Rl),e.addClass(Dl)},_emptyMessageContainer:function(){var e=this.getScrollable();return e?W(e.content()):this.callBase()},_renderContent:function(){var e=this.option("items");e&&e.length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem:function(e){e=e||this.$element().find(".".concat(Vn)).first(),this._$selectAllItem=W("<div>").addClass(xm);var t=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,Vs,{value:t,text:this.option("selectAllText"),onValueChanged:this._onSelectAllCheckboxValueChanged.bind(this)}),this._toggleSelectedClass(this._$selectAllItem,t),e.before(this._$selectAllItem)},_onSelectAllCheckboxValueChanged:function(e){this._toggleSelectAll(e),this._fireSelectAllValueChanged(e.value)},_toggleSelectAll:function(e){this._dataAdapter.toggleSelectAll(e.value),this._updateItemsUI(),this._fireSelectionChanged()},_renderCheckBox:function(e,t){var i=W("<div>").appendTo(e);this._createComponent(i,Vs,{value:t.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,disabled:this._disabledGetter(t)})},_toggleSelectedClass:function(e,t){e.toggleClass(LK,!!t)},_toggleNodeDisabledState:function(e,t){var i=this._getNodeElement(e),r=i.find("."+Yi).eq(0);if(this._dataAdapter.toggleNodeDisabledState(e.internalFields.key,t),r.toggleClass(kl,!!t),this._showCheckboxes()){var n=this._getCheckBoxInstance(i);n.option("disabled",!!t)}},_itemOptionChanged:function(e,t,i){var r=this._dataAdapter.getNodeByItem(e);t===this.option("disabledExpr")&&this._toggleNodeDisabledState(r,i)},_changeCheckboxValue:function(e){var t=W(e.element).parent("."+ur),i=t.children("."+Yi),r=this._getItemData(i),n=this._getNodeByElement(i),a=e.value;n&&n.internalFields.selected===a||this._updateItemSelection(a,r,e.event)},_isSingleSelection:function(){return this.option("selectionMode")==="single"},_isRecursiveSelection:function(){return this.option("selectNodesRecursive")&&this.option("selectionMode")!=="single"},_isLastSelectedBranch:function(e,t,i){var r=t.indexOf(e.key);return r>=0&&t.splice(r,1),i&&le(e.children,(function(n,a){this._isLastSelectedBranch(a,t,!0)}).bind(this)),e.parent&&this._isLastSelectedBranch(e.parent,t),t.length===0},_isLastRequired:function(e){var t=this.option("selectionRequired"),i=this._isSingleSelection(),r=this.getSelectedNodeKeys();if(t)return i?r.length===1:this._isLastSelectedBranch(e.internalFields.publicNode,r.slice(),!0)},_updateItemSelection:function(e,t,i){var r=this._getNode(t);if(!r||r.visible===!1)return!1;if(r.internalFields.selected===e)return!0;if(!e&&this._isLastRequired(r)){if(this._showCheckboxes()){var n=this._getNodeElement(r);this._getCheckBoxInstance(n).option("value",!0)}return!1}if(e&&this._isSingleSelection()){var a=this.getSelectedNodeKeys();le(a,(l,u)=>{this._dataAdapter.toggleSelection(u,!1),this._updateItemsUI(),this._fireItemSelectionChanged(this._getNode(u))})}this._dataAdapter.toggleSelection(r.internalFields.key,e);var s=this._dataAdapter.isAllSelected(),o=this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value")!==s;return this._updateItemsUI(),this._fireItemSelectionChanged(r,i),this._fireSelectionChanged(),o&&this._fireSelectAllValueChanged(s),!0},_fireItemSelectionChanged:function(e,t){var i=t||this._findItemElementByItem(e.internalFields.item),r=t?this._itemDXEventHandler:this._itemEventHandler;r.call(this,i,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(e),itemData:e.internalFields.item})},_getCheckBoxInstance:function(e){return e.children(".dx-checkbox").dxCheckBox("instance")},_updateItemsUI:function(){var e={};if(le(this._dataAdapter.getData(),(i,r)=>{var n=this._getNodeElement(r,e),a=r.internalFields.selected;n.length&&(this._toggleSelectedClass(n,a),this.setAria("selected",a,n),this._showCheckboxes()&&this._getCheckBoxInstance(n).option("value",a))}),this._selectAllEnabled()){var t=this._$selectAllItem.dxCheckBox("instance");t.option("onValueChanged",void 0),t.option("value",this._dataAdapter.isAllSelected()),t.option("onValueChanged",this._onSelectAllCheckboxValueChanged.bind(this))}},_updateParentsState:function(e,t){if(t){var i=this._dataAdapter.getNodeByKey(e.internalFields.parentKey),r=W(t.parents("."+ur)[0]);if(this._showCheckboxes()){var n=i.internalFields.selected;this._getCheckBoxInstance(r).option("value",n),this._toggleSelectedClass(r,n)}i.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(i,r)}},_itemEventHandlerImpl:function(e,t,i){var r=W(e).closest("."+ur).children("."+Yi);return t(re(this._extendActionArgs(r),i))},_itemContextMenuHandler:function(e){this._createEventHandler("onItemContextMenu",e)},_itemHoldHandler:function(e){this._createEventHandler("onItemHold",e)},_createEventHandler:function(e,t){var i=this._getNodeByElement(t.currentTarget);this._itemDXEventHandler(t,e,{node:this._dataAdapter.getPublicNode(i)})},_itemClass:function(){return Yi},_itemDataKey:function(){return BK},_attachClickEvent:function(){var e="."+this._itemClass(),t="."+ur+", ."+xm,i=xe(Pt,this.NAME),r=xe(Rt.down,this.NAME),n=this._itemContainer(),a=this;te.off(n,i,e),te.off(n,r,t),te.on(n,i,e,function(s){a._itemClickHandler(s,W(this))}),te.on(n,r,t,function(s){a._itemPointerDownHandler(s)})},_itemClickHandler:function(e,t){var i=this._getItemData(t),r=this._getNodeByElement(t);this._itemDXEventHandler(e,"onItemClick",{node:this._dataAdapter.getPublicNode(r)}),this.option("selectByClick")&&!e.isDefaultPrevented()&&this._updateItemSelection(!r.internalFields.selected,i,e)},_updateSelectionToFirstItem:function(e,t){for(var i=t;i>=0;){var r=W(e[i]);this._updateItemSelection(!0,r.find("."+Yi).get(0)),i--}},_updateSelectionToLastItem:function(e,t){for(var i=e.length,r=t;r<i;){var n=W(e[r]);this._updateItemSelection(!0,n.find("."+Yi).get(0)),r++}},_focusInHandler:function(e){if(this._updateFocusState(e,!0),this.option("focusedElement")){clearTimeout(this._setFocusedItemTimeout),this._setFocusedItemTimeout=setTimeout(()=>{this._setFocusedItem(W(this.option("focusedElement")))});return}var t=this._getActiveItem();this.option("focusedElement",qe(t.closest("."+ur)))},_setFocusedItem:function(e){!e||!e.length||e.children().hasClass(kl)||this.callBase(e)},_itemPointerDownHandler:function(e){if(this.option("focusStateEnabled")){var t=W(e.target).closest("."+ur+", ."+xm);if(t.length){var i=t.hasClass(kl)?null:t;this.option("focusedElement",qe(i))}}},_findNonDisabledNodes:function(e){return e.not(function(){return W(this).children("."+Yi).hasClass(kl)})},_moveFocus:function(e,t){var i="up",r="down",n="first",a="last",s=this.option("rtlEnabled")?"right":"left",o=this.option("rtlEnabled")?"left":"right";this.$element().find(".".concat(Vn)).each(function(){fi.stop(this,!0)});var l=this._findNonDisabledNodes(this._nodeElements());if(!(!l||!l.length))switch(e){case i:var u=this._prevItem(l);this.option("focusedElement",qe(u));var d=this._getNodeItemElement(u);this.getScrollable().scrollToElement(d),t.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,d);break;case r:var c=this._nextItem(l);this.option("focusedElement",qe(c));var h=this._getNodeItemElement(c);this.getScrollable().scrollToElement(h),t.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,h);break;case n:var f=l.first();t.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(l,l.index(this._prevItem(l))),this.option("focusedElement",qe(f)),this.getScrollable().scrollToElement(this._getNodeItemElement(f));break;case a:var p=l.last();t.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(l,l.index(this._nextItem(l))),this.option("focusedElement",qe(p)),this.getScrollable().scrollToElement(this._getNodeItemElement(p));break;case o:this._expandFocusedContainer();break;case s:this._collapseFocusedContainer();break;default:this.callBase.apply(this,arguments);return}},_getNodeItemElement:function(e){return e.find("."+Yi).get(0)},_nodeElements:function(){return this.$element().find("."+ur).not(":hidden")},_expandFocusedContainer:function(){var e=W(this.option("focusedElement"));if(!(!e.length||e.hasClass(Dl))){var t=e.find(".".concat(Vn)).eq(0);if(t.hasClass(ls)){var i=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));this.option("focusedElement",qe(i)),this.getScrollable().scrollToElement(this._getNodeItemElement(i));return}var r=this._getNodeByElement(e.children("."+Yi));this._toggleExpandedState(r,!0)}},_getClosestNonDisabledNode:function(e){do e=e.parent().closest("."+ur);while(e.children(".dx-treeview-item.dx-state-disabled").length);return e},_collapseFocusedContainer:function(){var e=W(this.option("focusedElement"));if(e.length){var t=e.find(".".concat(Vn)).eq(0);if(!e.hasClass(Dl)&&t.hasClass(ls)){var i=this._getNodeByElement(e.children("."+Yi));this._toggleExpandedState(i,!1)}else{var r=this._getClosestNonDisabledNode(e);r.length&&this.option("focusedElement",qe(r)),this.getScrollable().scrollToElement(this._getNodeItemElement(r))}}},_encodeString:function(e){return Ue(e)?encodeURI(e):e},_decodeString:function(e){return Ue(e)?decodeURI(e):e},getScrollable:function(){return this._scrollable},updateDimensions:function(){var e=new pe,t=this.getScrollable();return t?t.update().done(()=>{e.resolveWith(this)}):e.resolveWith(this),e.promise()},selectItem:function(e){return this._updateItemSelection(!0,e)},unselectItem:function(e){return this._updateItemSelection(!1,e)},expandItem:function(e){return this._toggleExpandedState(e,!0)},collapseItem:function(e){return this._toggleExpandedState(e,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},getSelectedNodes:function(){return this.getSelectedNodeKeys().map(e=>{var t=this._dataAdapter.getNodeByKey(e);return this._dataAdapter.getPublicNode(t)})},getSelectedNodesKeys:function(){return gt.log("W0002","dxTreeView","getSelectedNodesKeys","20.1","Use the 'getSelectedNodeKeys' method instead"),this.getSelectedNodeKeys()},getSelectedNodeKeys:function(){return this._dataAdapter.getSelectedNodesKeys()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})},expandAll:function(){var e=this._dataAdapter;le(e.getData(),(t,i)=>e.toggleExpansion(i.internalFields.key,!0)),this.repaint()},collapseAll:function(){le(this._dataAdapter.getExpandedNodesKeys(),(function(e,t){this._toggleExpandedState(t,!1)}).bind(this))},scrollToItem:function(e){var t=this._getNode(e);if(!t)return new pe().reject().promise();for(var i=[],r=t.internalFields.publicNode.parent;r!=null;)r.expanded||i.push(r.key),r=r.parent;var n=new pe;return this._expandNodes(i.reverse()).always(()=>{var a=this._getNodeElement(t);a&&a.length?(this.scrollToElementTopLeft(a.get(0)),n.resolve()):n.reject()}),n.promise()},scrollToElementTopLeft:function(e){var t=this.getScrollable(),{scrollDirection:i,rtlEnabled:r}=this.option(),n={top:0,left:0},a=tA(rA,e);if(i!==wc){var s=W(t.container()).get(0);n.left=r?a.left+e.offsetWidth-s.clientWidth:a.left}i!==iA&&(n.top=a.top),t.scrollTo(n)},_expandNodes:function(e){if(!e||e.length===0)return new pe().resolve().promise();var t=new pe,i=e.map(r=>this.expandItem(r));return Pe.apply(W,i).done(()=>t.resolve()).fail(()=>t.reject()),t.promise()},_dispose:function(){this.callBase(),clearTimeout(this._setFocusedItemTimeout)}});Ns.setEditorClass(pd);var WO="dx-treeview",VK="".concat(WO,"-node-container"),vd=NK.inherit(Ns).inherit({_addWidgetPrefix:function(e){return"".concat(WO,"-").concat(e)},_optionChanged:function(e){switch(e.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer(),this.option("focusedElement",null);break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(e)}},_updateDataAdapter:function(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)},_getDataAdapterOptions:function(){return re(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_updateSearch:function(){if(this._searchEditor){var e=this._getSearchEditorOptions();this._searchEditor.option(e)}},_repaintContainer:function(){var e=this.$element().find(".".concat(VK)).first(),t;e.length&&(e.empty(),t=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(t),this._renderItems(e,t),this._fireContentReadyAction())},_itemContainer:function(e){return this._scrollable&&e?W(this._scrollable.content()):this.callBase()},_addWidgetClass:function(){this.$element().addClass(this._widgetClass())},_clean:function(){this.callBase(),this._removeSearchBox()}});yt("dxTreeView",vd);var $K="column-chooser",jO="column-chooser-button",Ax="notouch-action",HK="column-chooser-list",zK="column-chooser-plain",WK="column-chooser-mode-drag",jK="column-chooser-mode-select",UO="column-chooser",Ox="dx-column-chooser-item",UK=".dx-treeview-node",GK=".dx-checkbox",KK=300,Dx=function(e,t){var i=[],r=e.option("columnChooser.mode")==="select";return t.length&&le(t,function(n,a){var s={text:a.caption,cssClass:a.cssClass,allowHiding:a.allowHiding,expanded:!0,id:a.index,disabled:!1,disableCheckBox:a.allowHiding===!1,parentId:Z(a.ownerBand)?a.ownerBand:null};r&&(s.selected=a.visible),i.push(s)}),i},qK=ei.ViewController.inherit({renderShowColumnChooserButton:function(e){var t=this,i=t.addWidgetPrefix(jO),r=t.option("columnChooser.enabled"),n=e.find("."+i),a;r?n.length?n.show():(a=W("<div>").addClass(i).appendTo(e),t._createComponent(a,Ki,{icon:UO,onClick:function(){t.getView("columnChooserView").showColumnChooser()},hint:t.option("columnChooser.title"),integrationOptions:{}})):n.hide()},getPosition:function(){var e=this.getView("rowsView");return{my:"right bottom",at:"right bottom",of:e&&e.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}}),XK=td.inherit({_resizeCore:me,_isWinDevice:function(){return!!Ne.real().win},_updateList:function(e){var t,i=this._popupContainer.$content(),r=this.option("columnChooser.mode")==="select",n=this._columnChooserList,a=this._columnsController.getChooserColumns(r);if(this._popupContainer.setAria({role:"dialog",label:_e.format("dxDataGrid-columnChooserTitle")}),r&&n&&e&&e.changeType==="selection"){t=Dx(this,a);for(var s=0;s<t.length;s++){var o=t[s].selected,l=t[s].id;l===e.columnIndex&&(o?n.selectItem(l,o):n.unselectItem(l,o))}}else(!r||!n||e==="full")&&(this._popupContainer.$wrapper().toggleClass(this.addWidgetPrefix(WK),!r).toggleClass(this.addWidgetPrefix(jK),r),t=Dx(this,a),this._renderTreeView(i,t))},_initializePopupContainer:function(){var e=this,t=e.element().addClass(e.addWidgetPrefix($K)),i=e.option("columnChooser"),r=un(),n=sT(r),a=xi(r),s={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,resizeEnabled:!0,copyRootClassesToWrapper:!0,_ignoreCopyRootClassesToWrapperDeprecation:!0,toolbarItems:[{text:i.title,toolbar:"top",location:n||a?"before":"center"}],position:e.getController("columnChooser").getPosition(),width:i.width,height:i.height,rtlEnabled:e.option("rtlEnabled"),onHidden:function(){e._isWinDevice()&&W("body").removeClass(e.addWidgetPrefix(Ax))},container:i.container};n||a?re(s,{showCloseButton:!0}):s.toolbarItems[s.toolbarItems.length]={shortcut:"cancel"},Z(this._popupContainer)?this._popupContainer.option(s):(e._popupContainer=e._createComponent(t,kn,s),e._popupContainer.on("optionChanged",function(o){o.name==="visible"&&e.renderCompleted.fire()}))},_renderCore:function(e){this._popupContainer&&this._updateList(e)},_renderTreeView:function(e,t){var i=this,r=this.option("columnChooser"),n=r.mode==="select",a={items:t,dataStructure:"plain",activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,itemTemplate:"item",showCheckBoxesMode:"none",rootValue:null,searchEnabled:r.allowSearch,searchTimeout:r.searchTimeout,onItemRendered:function(l){if(l.itemData.disableCheckBox){var u=W(l.itemElement).closest(UK),d;if(u.length&&(d=u.find(GK),d.length)){var c=d.data("dxCheckBox");c&&c.option("disabled",!0)}}}},s=e.find(".dx-scrollable").data("dxScrollable"),o=s&&s.scrollTop();n&&!this._columnsController.isBandColumnsUsed()&&e.addClass(this.addWidgetPrefix(zK)),a.onContentReady=function(l){ar(function(){if(o){var u=W(l.element).find(".dx-scrollable").data("dxScrollable");u&&u.scrollTo({y:o})}i.renderCompleted.fire()})},this._isWinDevice()&&(a.useNativeScrolling=!1),re(a,n?this._prepareSelectModeConfig():this._prepareDragModeConfig()),this._columnChooserList?(a.searchEnabled||(a.searchValue=""),this._columnChooserList.option(a)):(this._columnChooserList=this._createComponent(e,vd,a),e.addClass(this.addWidgetPrefix(HK)))},_prepareDragModeConfig:function(){var e=this.option("columnChooser");return{noDataText:e.emptyPanelText,activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,itemTemplate:function(t,i,r){W(r).text(t.text).parent().addClass(t.cssClass).addClass(Ox)}}},_prepareSelectModeConfig:function(){var e=this;return{selectNodesRecursive:!1,showCheckBoxesMode:"normal",onItemSelectionChanged:function(t){var i=e._columnsController.getVisibleColumns().filter(function(n){return!n.command}),r=i.length===1&&!t.itemData.selected;r?t.component.selectItem(t.itemElement):setTimeout(function(){e._columnsController.columnOption(t.itemData.id,"visible",t.itemData.selected)},KK)}}},_columnOptionChanged:function(e){var t=e.changeTypes,i=e.optionNames,r=this.option("columnChooser.mode")==="select";if(this.callBase(e),r){var n=i.visible&&i.length===1&&e.columnIndex!==void 0,a=i.showInColumnChooser||i.caption||i.visible||t.columns&&i.all;n?this.render(null,{changeType:"selection",columnIndex:e.columnIndex}):a&&this.render(null,"full")}},optionChanged:function(e){switch(e.name){case"columnChooser":this._initializePopupContainer(),this.render(null,"full");break;default:this.callBase(e)}},getColumnElements:function(){var e=[],t,i=this.option("columnChooser.mode")==="select",r=this._columnsController.getChooserColumns(i),n=this._popupContainer&&this._popupContainer.$content(),a=n&&n.find(".dx-treeview-node");return a&&r.forEach(function(s){t=a.filter("[data-item-id = '"+s.index+"']");var o=t.length?t.children("."+Ox).get(0):null;e.push(o)}),W(e)},getName:function(){return"columnChooser"},getColumns:function(){return this._columnsController.getChooserColumns()},allowDragging:function(e,t){var i=e&&e.allowHiding&&(t!=="columnChooser"||!e.visible&&this._columnsController.isParentColumnVisible(e.index));return this.isColumnChooserVisible()&&i},getBoundingRect:function(){var e=this._popupContainer&&this._popupContainer.$overlayContent();if(e&&e.is(":visible")){var t=e.offset();return{left:t.left,top:t.top,right:t.left+At(e),bottom:t.top+Ct(e)}}return null},showColumnChooser:function(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show(),this._isWinDevice()&&W("body").addClass(this.addWidgetPrefix(Ax))},hideColumnChooser:function(){this._popupContainer&&this._popupContainer.hide()},isColumnChooserVisible:function(){var e=this._popupContainer;return e&&e.option("visible")},publicMethods:function(){return["showColumnChooser","hideColumnChooser"]}}),F0={defaultOptions:function(){return{columnChooser:{enabled:!1,allowSearch:!1,searchTimeout:500,mode:"dragAndDrop",width:250,height:260,title:_e.format("dxDataGrid-columnChooserTitle"),emptyPanelText:_e.format("dxDataGrid-columnChooserEmptyText"),container:void 0}}},controllers:{columnChooser:qK},views:{columnChooserView:XK},extenders:{views:{headerPanel:{_getToolbarItems:function(){var e=this.callBase();return this._appendColumnChooserItem(e)},_appendColumnChooserItem:function(e){var t=this,i=t.option("columnChooser.enabled");if(i){var r=t.option("columnChooser.title"),n={widget:"dxButton",options:{icon:UO,onClick:function(){t.component.getView("columnChooserView").showColumnChooser()},hint:r,text:r,onInitialized:function(a){W(a.element).addClass(t._getToolbarButtonClass(t.addWidgetPrefix(jO)))},elementAttr:{"aria-haspopup":"dialog"}},showText:"inMenu",location:"after",name:"columnChooserButton",locateInMenu:"auto",sortIndex:40};e.push(n)}return e},optionChanged:function(e){switch(e.name){case"columnChooser":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}},isVisible:function(){var e=this.option("columnChooser.enabled");return this.callBase()||e}}},controllers:{columns:{allowMoveColumn:function(e,t,i,r){var n=this.option("columnChooser.mode"),a=n==="select"&&r==="columnChooser";return a?!1:this.callBase(e,t,i,r)}}}}};F0.controllers.columnChooser;F0.views.columnChooserView;Le.registerModule("columnChooser",F0);function GO(e,t,i){for(var r=ra(t.group),n=[],a=i?e.length-1:0;a<e.length;a++){for(var s=[],o=0;o<=a;o++){var l=r[o].selector;if(a===o&&(e[o]===null||e[o]===!1||e[o]===!0))e[o]===!1?s.push([l,"=",r[o].desc?!0:null]):(e[o]?!r[o].desc:r[o].desc)?s.push([l,"<>",e[o]]):(s.push([l,"<>",null]),s.push([l,"=",null]));else{var u=[l,a===o?r[o].desc?">":"<":"=",e[o]];u[1]==="<"?s.push([u,"or",[l,"=",null]]):s.push(u)}}n.push(Le.combineFilters(s))}return n=Le.combineFilters(n,"or"),Le.combineFilters([n,t.filter])}var KO=wt.inherit(function(){var e=function(i,r){var n=i.hash;return n&&n[JSON.stringify(r)]},t=function(i,r){var n=0,a=i.length-1;if(!i.length)return 0;do{var s=a+n>>1;i[s].offset>r?a=s:n=s}while(a-n>1);var o;for(o=n;o<=a&&!(i[o].offset>r);o++);return o};return{ctor:function(i){this._dataSource=i,this.reset()},reset:function(){this._groupsInfo=[],this._totalCountCorrection=0},totalCountCorrection:function(){return this._totalCountCorrection},updateTotalItemsCount:function(i){this._totalCountCorrection=i||0},isGroupItemCountable:function(i){return!this._isVirtualPaging()||!i.isContinuation},_isVirtualPaging:function(){var i=this._dataSource.option("scrolling.mode");return i==="virtual"||i==="infinite"},itemsCount:function(){var i=this._dataSource,r=i._dataSource,n=Le.normalizeSortingInfo(r.group()||[]).length,a=function s(o,l,u){var d=0;if(l)if(!u)d=l.length;else for(var c=0;c<l.length;c++)o.isGroupItemCountable(l[c])&&d++,d+=s(o,l[c].items,u-1);return d}(this,r.items(),n);return a},foreachGroups:function(i,r,n,a,s){var o=this;return function l(u,d,c,h){var f=[];function p(y,I,D,N){var z=I&&y(I,D);return z&&N.push(z),z}for(var g=0;g<u.length;g++){if(h.push(u[g].data),!c&&p(d,u[g].data,h,f)===!1)return!1;if(!u[g].data||u[g].data.isExpanded||n){var m=u[g].children,v=m.length&&l(m,d,c,h);if(v&&f.push(v),v===!1)return!1}if(c&&p(d,u[g].data,h,f)===!1)return!1;(!u[g].data||u[g].data.offset!==u[g].offset)&&(a=!0),h.pop()}var b=s&&h.slice(0);return a&&Pe.apply(W,f).always(function(){o._updateGroupInfoOffsets(u,b)})}(o._groupsInfo,i,r,[])},_updateGroupInfoOffsets:function(i,r){r=r||[];for(var n=0;n<i.length;n++){var a=i[n];if(a.data&&a.data.offset!==a.offset){a.offset=a.data.offset;for(var s=0;s<r.length;s++)r[s].offset=a.offset}}i.sort(function(o,l){return o.offset-l.offset})},findGroupInfo:function(i){for(var r,n=this._groupsInfo,a=0;n&&a<i.length;a++)r=e(n,i[a]),n=r&&r.children;return r&&r.data},addGroupInfo:function(i){for(var r,n=i.path,a=this._groupsInfo,s=0;s<n.length;s++){if(r=e(a,n[s]),!r){r={key:n[s],offset:i.offset,data:{offset:i.offset,isExpanded:!0,path:n.slice(0,s+1)},children:[]};var o=t(a,i.offset);a.splice(o,0,r),a.hash=a.hash||{},a.hash[JSON.stringify(r.key)]=r}s===n.length-1&&(r.data=i,r.offset!==i.offset&&this._updateGroupInfoOffsets(a)),a=r.children}},allowCollapseAll:function(){return!0},refresh:function(i){var r=i.storeLoadOptions,n=ra(r.group||[]),a="_group"in this?ra(this._group||[]):n,s=Math.min(a.length,n.length);this._group=r.group;for(var o=0;o<s;o++)if(a[o].selector!==n[o].selector){s=o;break}s?function l(u,d,c){for(var h=0;h<u.length;h++)d+1>=c?u[h].children=[]:l(u[h].children,d+1,c)}(this._groupsInfo,0,s):this.reset()},handleDataLoading:function(){},handleDataLoaded:function(i,r){r(i)},handleDataLoadedCore:function(i,r){r(i)}}}());function ys(e,t){for(var i=ra(t.group),r=[],n=0;n<e.length;n++)r.push([i[n].selector,"=",e[n]]);return t.filter&&r.push(t.filter),Ee.combineFilters(r)}var Em=function(e,t){var i=new pe,r=re({skip:0,take:1,requireTotalCount:!0},t);return e.load(r).done(function(n,a){i.resolve(a&&a.totalCount)}).fail(i.reject.bind(i)),i},Rx=KO.inherit(function(){var e=function(a,s,o){return a.foreachGroups(function(l){if(!l.isExpanded)return s(l)},!1,!1,o,!0)},t=function(a,s){var o=0,l=s||0;return s&&(e(a,function(u){if(u.offset-o>=s)return!1;o+=u.count-1}),l+=o),l},i=function(a,s){if(a.length!==s.length)return!1;for(var o=0;o<a.length;o++)if(!Yu(null,a[o],s[o]))return!1;return!0},r=function a(s,o,l,u,d){if(o){for(var c=0;c<o.length;c++){var h=o[c];if("key"in h&&h.items!==void 0){l.push(h.key),d&&i(d.path,l)&&!h.isContinuation&&(d.offset=u);var f=s.findGroupInfo(l);f&&!h.isContinuation&&(f.offset=u),f&&!f.isExpanded?u+=f.count:u=a(s,h.items,l,u,d),l.pop()}else u++}return u}},n=function a(s,o){var l=s.count||s.items.length;if(!s.count&&o>1){l=0;for(var u=0;u<s.items.length;u++)l+=a(s.items[u],o-1)}return l};return{handleDataLoading:function(a){var s=a.storeLoadOptions,o=[],l=0,u=!1,d,c=a.loadOptions.group,h=0;if(function(p,g){if(g.group){var m=Le.normalizeSortingInfo(g.group),v=Le.normalizeSortingInfo(p.sort);p.sort=na.arrangeSortingInfo(m,v),delete g.group}}(s,a.loadOptions),a.group=a.group||c,!a.isCustomLoading){var f=re({},s);f.skip=t(this,s.skip),f.skip&&f.take&&c&&(f.skip--,f.take++,u=!0),f.take&&c&&(d=f.take,f.take++),e(this,function(p){if(p.offset>=f.skip+f.take+h)return!1;p.offset>=f.skip+h&&p.count&&(h+=p.count-1,o.push(p),l+=p.count)}),le(o,function(){f.filter=function(p,g,m){for(var v=Le.normalizeSortingInfo(m||g.group),b=[],y=0;y<p.length;y++){for(var I=[],D=0;D<=y;D++)I.push([v[D].selector,y===D?"<>":"=",p[D]]);b.push(Le.combineFilters(I))}return b=Le.combineFilters(b,"or"),Le.combineFilters([b,g.filter])}(this.path,f,c)}),a.storeLoadOptions=f,a.collapsedGroups=o,a.collapsedItemsCount=l,a.skip=f.skip||0,a.skipFirstItem=u,a.take=d}},handleDataLoaded:function(a,s){var o=a.collapsedGroups,l=Le.normalizeSortingInfo(a.group),u=l.length;function d(p,g,m,v,b){if(!(!p||!g.length||!m.length)){var y,I,D=ki(g[0],!0);for(I=0;I<p.length&&(y=ki(p[I].key,!0),!(b>=v.offset||D===y));I++)b+=n(p[I],m.length);(!p.length||D!==y)&&p.splice(I,0,{key:g[0],items:[],count:g.length===1?v.count:void 0}),d(p[I].items,g.slice(1),m.slice(1),v,b)}}if(a.collapsedItemsCount&&a.extra&&a.extra.totalCount>=0&&(a.extra._totalCountWasIncreasedByCollapsedItems||(a.extra.totalCount+=a.collapsedItemsCount,a.extra._totalCountWasIncreasedByCollapsedItems=!0)),s(a),u){var c=a.data,h=cr(c);if(na.multiLevelGroup(h,l).enumerate().done(function(p){c=p}),o)for(var f=0;f<o.length;f++)d(c,o[f].path,l,o[f],a.skip);a.isCustomLoading||function p(g,m,v,b,y,I){for(var D=0,N=!1,z=0;z<m.length;z++){var F=m[z];if(F.items!==void 0){v.push(F.key);var $=g.findGroupInfo(v);if($&&!$.isExpanded)F.collapsedItems=F.items,F.items=null,b+=$.count,I--,I<0&&D++,y&&(N=!0);else if(F.items){var j=p(g,F.items,v,b,y,I);y&&(j.offset-b>1?F.isContinuation=!0:N=!0),b=j.offset,I=j.take,I<0&&(F.items.length?F.isContinuationOnNextPage=!0:D++)}v.pop()}else y&&(N=!0),b++,I--,I<0&&D++;y=!1}return N&&m.splice(0,1),D&&m.splice(-D,D),{offset:b,take:I}}(this,c,[],a.skip,a.skipFirstItem,a.take),a.data=c}},isGroupItemCountable:function(a){return a.items===null},updateTotalItemsCount:function(){var a=0;e(this,function(s){s.count&&(a-=s.count-1)}),this.callBase(a)},changeRowExpand:function(a){var s=this,o=s._dataSource,l=o.beginPageIndex?o.beginPageIndex():o.pageIndex(),u=o.items(),d=t(s,l*o.pageSize()),c=s.findGroupInfo(a),h;return c&&!c.isExpanded?h=new pe().resolve(c.count):h=Em(o,{filter:ys(a,{filter:o.filter(),group:o.group()})}),Pe(h).done(function(f){f=parseInt(f.length?f[0]:f),c?(r(s,u,[],d),c.isExpanded=!c.isExpanded,c.count=f):(c={offset:-1,count:f,path:a,isExpanded:!1},r(s,u,[],d,c),c.offset>=0&&s.addGroupInfo(c)),s.updateTotalItemsCount()}).fail(function(){o._eventsStrategy.fireEvent("loadError",arguments)})},allowCollapseAll:function(){return!1},refresh:function(a,s){var o=this,l=a.storeLoadOptions,u=o._dataSource;if(this.callBase.apply(this,arguments),s.reload)return e(o,function(d){var c=Em(u,{filter:ys(d.path,l)}),h=Em(u,{filter:GO(d.path,l)});return Pe(h,c).done(function(f,p){f=parseInt(f.length?f[0]:f),p=parseInt(p.length?p[0]:p),d.offset=f,d.count!==p&&(d.count=p,o.updateTotalItemsCount())})},!0)}}}());function Im(e,t,i,r){if(r=r||0,t>1&&i>0){var n=e-Math.floor(e/t)*t||t;return n+=i-r-2,n<0&&(n+=t),Math.floor(n/(t-r-1))}return 0}var kx=KO.inherit(function(){var e=function(c,h,f){return c.foreachGroups(function(p,g){if(p.isExpanded)return h(p,g)},!0,!1,f,f)},t=function c(h,f,p,g,m,v,b){var y;if(g.items=g.items||[],g.paths=g.paths||[],g.count=g.count||0,g.lastCount=g.lastCount||0,!!p)for(var I=0;I<f.length;I++){var D=f[I];if(D.items!==void 0){if(m.push(D.key),v)y=!0;else{var N=h.findGroupInfo(m);y=N&&N.isExpanded}y?D.items?c(h,D.items,p-1,g,m,v,b):p===1&&D.count&&(!v||b)&&(g.items.push(D),g.paths.push(m.slice(0)),g.count+=g.lastCount,g.lastCount=D.count):(D.collapsedItems=D.items,D.items=null),m.pop()}}},i=function(c,h,f,p,g){var m=c.findGroupInfo(p),v;m?(f?m.count=h.count>0?h.count:h.items&&h.items.length||0:h.count=m.count||h.count,m.offset=g):(f&&(v=h.count>0?h.count:h.items.length),c.addGroupInfo({isExpanded:c._isGroupExpanded(p.length-1),path:p.slice(0),offset:g,count:v||0}))},r=function c(h,f,p,g,m,v,b){var y=f.group?f.group.length:0,I=y===g,D=f.remoteOperations.paging,N=0,z=0,F;if(m=m||0,v=v||[],D&&!b&&(N=m===0?f.skip||0:f.skips[m-1]||0),m>=g)return p.length;for(var $=0;$<p.length;$++){var j=p[$];if(j){if(v.push(j.key),!j.count&&!j.items||j.items===void 0||(i(h,j,I,v,N+$),F=j.items?c(h,f,j.items,g,m+1,v,$):j.count||-1,F<0))return-1;z+=F,v.pop()}}return z},n=function(c,h){return c&&c.length&&c[h]&&!!c[h].isExpanded},a=function(c,h,f){for(var p,g=f,m=0;m<c.length;m++)p=c[m].offset+1,m>0&&(p+=c[m-1].childrenTotalCount,h&&(p+=Im(g,h,p,m-1)*m)),g+=p;return g};function s(c,h,f,p){var g=h.items[p],m=c.skips&&c.skips[f],v=c.takes&&c.takes[f],b=p===h.items.length-1,y=p===0,I=y&&m||0,D=g.count>v+I;y&&m!==void 0&&(g.isContinuation=!0),b&&v!==void 0&&D&&(g.isContinuationOnNextPage=!0)}function o(c){return!Array.isArray(c)}function l(c){o(c.data)||(c.data=new pe)}function u(c,h,f,p,g,m){h.isCustomLoading||(p={},t(c,m,f,p,[]),function(b,y,I){var D=I-1,N=b.group?b.group.length:0;y.skip=b.skips&&b.skips[D],b.takes&&b.takes[D]!==void 0&&(N===I?y.take=y.count?y.count-(y.skip||0):0:y.take=0,y.take+=b.takes[D])}(h,p,f));var v=h.group?h.group.length:0;p.paths.length&&v-f>0?(l(h),function(b,y,I,D,N,z){var F=y.group||[],$=F[N+1],j=[];le(I.paths,function(q){var H={requireTotalCount:!1,requireGroupCount:!0,group:[$],groupSummary:y.storeLoadOptions.groupSummary,filter:ys(I.paths[q],{filter:y.storeLoadOptions.filter,group:F}),select:y.storeLoadOptions.select};q===0&&(H.skip=I.skip||0),q===I.paths.length-1&&(H.take=I.take);var A=H.take===0?[]:b._dataSource.loadFromStore(H);Pe(A).done(function(T){var E=I.items[q];s(y,I,N,q),E.items=T}),j.push(A)}),Pe.apply(null,j).done(function(){r(b,y,z,D+1),u(b,y,D+1,I,N+1,z)})}(c,h,p,f,g,m)):p.paths.length&&h.storeLoadOptions.group?(l(h),function(b,y,I,D){var N=[],z=y.group||[];le(I.paths,function(q,H){N.push(ys(H,{group:y.isCustomLoading?y.storeLoadOptions.group:z}))});var F=y.storeLoadOptions.filter;y.storeLoadOptions.isLoadingAll||(F=Le.combineFilters([F,Le.combineFilters(N,"or")]));var $=re({},y.storeLoadOptions,{requireTotalCount:!1,requireGroupCount:!1,group:null,sort:z.concat(Le.normalizeSortingInfo(y.storeLoadOptions.sort||[])),filter:F}),j=b._dataSource.isLastLevelGroupItemsPagingLocal();j||($.skip=I.skip,$.take=I.take),Pe(I.take===0?[]:b._dataSource.loadFromStore($)).done(function(q,H){j&&(q=b._dataSource.sortLastLevelGroupItems(q,z,I.paths),q=I.skip?q.slice(I.skip):q,q=I.take?q.slice(0,I.take):q),le(I.items,function(A,T){var E=T.count-(A===0&&I.skip||0),C=q.splice(0,E);s(y,I,z.length-1,A),T.items=C}),y.data.resolve(D)}).fail(y.data.reject)}(c,h,p,m)):o(h.data)&&h.data.resolve(m)}var d=function(c,h){var f=new pe,p=!!(h.group&&h.group.length),g=re({skip:0,take:1,requireGroupCount:p,requireTotalCount:!p},h,{group:p?h.group:null});return c.load(g).done(function(m,v){var b=v&&(p?v.groupCount:v.totalCount);if(!isFinite(b)){f.reject(Di.Error(p?"E4022":"E4021"));return}f.resolve(b)}).fail(f.reject.bind(f)),f};return{updateTotalItemsCount:function(c){var h=0,f=c.extra&&c.extra.totalCount||0,p=c.extra&&c.extra.groupCount||0,g=this._dataSource.pageSize(),m=this._isVirtualPaging();e(this,function(v){v.childrenTotalCount=0}),e(this,function(v,b){var y=a(b,m?0:g,h),I=v.count+v.childrenTotalCount;m||(I+=Im(y,g,I,b.length-1)),b[b.length-2]?b[b.length-2].childrenTotalCount+=I:h+=I}),this.callBase(h-f+p)},_isGroupExpanded:function(c){var h=this._dataSource.group();return n(h,c)},_updatePagingOptions:function(c,h){var f=this._isVirtualPaging(),p=this._dataSource.pageSize(),g=[],m=[],v=0,b=0;c.take&&(e(this,function(y){y.childrenTotalCount=0,y.skipChildrenTotalCount=0}),e(this,function(y,I){var D,N=0,z=0,F=a(I,f?0:p,b),$=0,j=0,q=y.count+y.childrenTotalCount,H=q;h&&h(y,F);var A=c.skip-F;F<=c.skip+c.take&&q&&(D=c.take,f||($=Im(F,p,q,I.length-1),q+=$*I.length,H+=$,p&&A>=0&&(N=I.length,z=I.length-1,j=Math.floor(A/p))),A>=0?(F+q>c.skip&&g.unshift(A-j*N-y.skipChildrenTotalCount),F+q>=c.skip+D&&m.unshift(D-N-y.childrenTotalCount+y.skipChildrenTotalCount)):F+q>=c.skip+D&&m.unshift(D+A-y.childrenTotalCount)),F<=c.skip&&(I[I.length-2]?I[I.length-2].skipChildrenTotalCount+=Math.min(H,A+1-j*z):v+=Math.min(H,A+1)),F<=c.skip+D&&(q=Math.min(H,A+D-(j+1)*z),I[I.length-2]?I[I.length-2].childrenTotalCount+=q:b+=q)}),c.skip-=v,c.take-=b-v),c.skips=g,c.takes=m},changeRowExpand:function(c){var h=this.findGroupInfo(c),f=this._dataSource,p=f.remoteOperations().groupPaging,g=Le.normalizeSortingInfo(f.group());return h?(h.isExpanded=!h.isExpanded,p&&h.isExpanded&&c.length<g.length?d(f,{filter:ys(c,{filter:f.lastLoadOptions().filter,group:f.group()}),group:[g[c.length]],select:f.select()}).done(function(m){h.count=m}):new pe().resolve()):new pe().reject()},handleDataLoading:function(c){var h=c.storeLoadOptions,f=Le.normalizeSortingInfo(h.group||c.loadOptions.group);if(!(c.isCustomLoading||!f.length)){if(c.remoteOperations.grouping){var p=this._dataSource.remoteOperations().paging;h.group=Le.normalizeSortingInfo(h.group),h.group.forEach(function(g,m){var v=m===h.group.length-1;g.isExpanded=!p||!v})}c.group=c.group||f,c.remoteOperations.paging?(c.skip=h.skip,c.take=h.take,h.requireGroupCount=!0,h.group=f.slice(0,1),this._updatePagingOptions(c),h.skip=c.skip,h.take=c.take):(c.skip=c.loadOptions.skip,c.take=c.loadOptions.take,this._updatePagingOptions(c))}},handleDataLoadedCore:function(c,h){var f=Le.normalizeSortingInfo(c.storeLoadOptions.group||c.loadOptions.group).length,p=c.group?c.group.length:0,g,m={};if(c.isCustomLoading)h(c),t(this,c.data,f,m,[],c.isCustomLoading,c.storeLoadOptions.isLoadingAll);else{if(c.remoteOperations.paging||this.foreachGroups(function(v){v.count=0}),g=r(this,c,c.data,f),g<0){c.data=new pe().reject(gt.Error("E1037"));return}if(c.remoteOperations.paging||f&&c.extra&&c.loadOptions.requireTotalCount&&(c.extra.totalCount=g,c.extra.groupCount=c.data.length),p&&c.storeLoadOptions.requireGroupCount&&!isFinite(c.extra.groupCount)){c.data=new pe().reject(Di.Error("E4022"));return}this.updateTotalItemsCount(c),c.remoteOperations.paging||this._updatePagingOptions(c),h(c),c.remoteOperations.paging||this._processPaging(c,f)}u(this,c,f,m,0,c.data)},_processSkips:function(c,h,f){if(f){var p=c[0],g=h[0],m=p&&p.items;g!==void 0&&(p.isContinuation=!0,m&&(p.items=m.slice(g),this._processSkips(p.items,h.slice(1),f-1)))}},_processTakes:function(c,h,f,p,g){if(!(!p||!c)){g=g||[];var m=c[c.length-1],v=m&&m.items,b=f[0],y=h[0];if(m){var I=m.count-(m.isContinuation&&y||0)||v.length;b!==void 0&&I>b&&(m.isContinuationOnNextPage=!0,g.forEach(function(D){D.isContinuationOnNextPage=!0}),v&&(v=v.slice(0,b),m.items=v)),g.push(m),this._processTakes(v,h.slice(1),f.slice(1),p-1,g)}}},_processPaging:function(c,h){this._processSkips(c.data,c.skips,h),this._processTakes(c.data,c.skips,c.takes,h)},isLastLevelGroupItemsPagingLocal:function(){return!1},sortLastLevelGroupItems:function(c){return c},refresh:function(c,h){var f=this,p=f._dataSource,g=c.storeLoadOptions,m=c.group||c.storeLoadOptions.group,v=Le.normalizeSortingInfo(f._group),b,y;function I(D,N){N.length===y+1&&(D.isExpanded=b)}for(y=0;y<v.length;y++)b=n(m,y),n(f._group,y)!==b&&f.foreachGroups(I);if(f.callBase.apply(this,arguments),m&&c.remoteOperations.paging&&h.reload)return e(f,function(D){var N=d(p,{filter:ys(D.path,{filter:g.filter,group:m}),group:m.slice(D.path.length),select:g.select}),z=d(p,{filter:GO(D.path,{filter:g.filter,group:m},!0),group:m.slice(D.path.length-1,D.path.length),select:g.select});return Pe(z,N).done(function(F,$){F=parseInt(F.length?F[0]:F),$=parseInt($.length?$[0]:$),D.offset=F,D.count!==$&&(D.count=$,f.updateTotalItemsCount(c))})},!0)}}}()),Tm="dx-datagrid-group-panel",YK="dx-group-panel-message",uh="dx-group-panel-item",Mx="dx-toolbar-label",ZK="dx-toolbar-item",JK="dx-datagrid-expand",QK="dx-group-row",eq=".dx-header-filter",tq={init:function(){this.callBase.apply(this,arguments),this._initGroupingHelper()},_initGroupingHelper:function(e){var t=this._grouping,i=this.option("grouping.autoExpandAll"),r=this.option("focusedRowEnabled"),n=e?e.remoteOperations:this.remoteOperations(),a=n.filtering&&n.sorting&&n.paging;a&&!n.grouping&&(i||!r)?(!t||t instanceof kx)&&(this._grouping=new Rx(this)):(!t||t instanceof Rx)&&(this._grouping=new kx(this))},totalItemsCount:function(){var e=this.callBase();return e>0&&this._dataSource.group()&&this._dataSource.requireTotalCount()?e+this._grouping.totalCountCorrection():e},itemsCount:function(){return this._dataSource.group()?this._grouping.itemsCount()||0:this.callBase.apply(this,arguments)},allowCollapseAll:function(){return this._grouping.allowCollapseAll()},isGroupItemCountable:function(e){return this._grouping.isGroupItemCountable(e)},isRowExpanded:function(e){var t=this._grouping.findGroupInfo(e);return t?t.isExpanded:!this._grouping.allowCollapseAll()},collapseAll:function(e){return this._collapseExpandAll(e,!1)},expandAll:function(e){return this._collapseExpandAll(e,!0)},_collapseExpandAll:function(e,t){var i=this._dataSource,r=i.group(),n=Le.normalizeSortingInfo(r||[]);if(n.length){for(var a=0;a<n.length;a++)e===void 0||e===a?n[a].isExpanded=t:r&&r[a]&&(n[a].isExpanded=r[a].isExpanded);i.group(n),this._grouping.foreachGroups(function(s,o){(e===void 0||e===o.length-1)&&(s.isExpanded=t)},!1,!0),this.resetPagesCache()}return!0},refresh:function(){return this.callBase.apply(this,arguments),this._grouping.refresh.apply(this._grouping,arguments)},changeRowExpand:function(e){var t=this._dataSource;if(t.group())return t.beginLoading(),this._lastLoadOptions&&(this._lastLoadOptions.groupExpand=!0),this._changeRowExpandCore(e).always(function(){t.endLoading()})},_changeRowExpandCore:function(e){return this._grouping.changeRowExpand(e)},_hasGroupLevelsExpandState:function(e,t){if(e&&Array.isArray(e)){for(var i=0;i<e.length;i++)if(e[i].isExpanded===t)return!0}},_customizeRemoteOperations:function(e,t){var i=e.remoteOperations;e.storeLoadOptions.group?(i.grouping&&!e.isCustomLoading&&(!i.groupPaging||this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!0))&&(i.paging=!1),!i.grouping&&(!i.sorting||!i.filtering||e.isCustomLoading||this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!1))&&(i.paging=!1)):!e.isCustomLoading&&i.paging&&t.grouping&&this.resetCache(),this.callBase.apply(this,arguments)},_handleDataLoading:function(e){return this.callBase(e),this._initGroupingHelper(e),this._grouping.handleDataLoading(e)},_handleDataLoaded:function(e){return this._grouping.handleDataLoaded(e,this.callBase.bind(this))},_handleDataLoadedCore:function(e){return this._grouping.handleDataLoadedCore(e,this.callBase.bind(this))}};id.extend(tq);var iq={init:function(){this.callBase(),this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed")},_beforeProcessItems:function(e){var t=this._columnsController.getGroupColumns();return e=this.callBase(e),e.length&&t.length&&(e=this._processGroupItems(e,t.length)),e},_processItem:function(e,t){return Z(e.groupIndex)&&Ue(e.rowType)&&e.rowType.indexOf("group")===0?(e=this._processGroupItem(e,t),t.dataIndex=0):e=this.callBase.apply(this,arguments),e},_processGroupItem:function(e){return e},_processGroupItems:function(e,t,i){var r=this._columnsController.getGroupColumns(),n=r[r.length-t];if(!i){var a=this.option("scrolling.mode");i={collectContinuationItems:a!=="virtual"&&a!=="infinite",resultItems:[],path:[],values:[]}}var s=i.resultItems;if(i.data&&(i.collectContinuationItems||!i.data.isContinuation)&&s.push({rowType:"group",data:i.data,groupIndex:i.path.length-1,isExpanded:!!i.data.items,key:i.path.slice(0),values:i.values.slice(0)}),e)if(t===0)s.push.apply(s,e);else for(var o=0;o<e.length;o++){var l=e[o];l&&"items"in l?(i.data=l,i.path.push(l.key),i.values.push(n&&n.deserializeValue&&!n.calculateDisplayValue?n.deserializeValue(l.key):l.key),this._processGroupItems(l.items,t-1,i),i.data=void 0,i.path.pop(),i.values.pop()):s.push(l)}return s},publicMethods:function(){return this.callBase().concat(["collapseAll","expandAll","isRowExpanded","expandRow","collapseRow"])},collapseAll:function(e){var t=this._dataSource;t&&t.collapseAll(e)&&(t.pageIndex(0),t.reload())},expandAll:function(e){var t=this._dataSource;t&&t.expandAll(e)&&(t.pageIndex(0),t.reload())},changeRowExpand:function(e){var t=this,i=t.isRowExpanded(e),r={key:e,expanded:i};return t.executeAction(i?"onRowCollapsing":"onRowExpanding",r),r.cancel?new pe().resolve():Pe(t._changeRowExpandCore(e)).done(function(){r.expanded=!i,t.executeAction(i?"onRowCollapsed":"onRowExpanded",r)})},_changeRowExpandCore:function(e){var t=this,i=this._dataSource,r=new pe;return i?Pe(i.changeRowExpand(e)).done(function(){t.load().done(r.resolve).fail(r.reject)}).fail(r.reject):r.resolve(),r},isRowExpanded:function(e){var t=this._dataSource;return t&&t.isRowExpanded(e)},expandRow:function(e){return this.isRowExpanded(e)?new pe().resolve():this.changeRowExpand(e)},collapseRow:function(e){return this.isRowExpanded(e)?this.changeRowExpand(e):new pe().resolve()},optionChanged:function(e){e.name==="grouping"&&(e.name="dataSource"),this.callBase(e)}},L0=function(e,t){var i=this._columnsController;switch(t.itemData.value){case"group":var r=i._dataSource.group()||[];i.columnOption(e.dataField,"groupIndex",r.length);break;case"ungroup":i.columnOption(e.dataField,"groupIndex",-1);break;case"ungroupAll":this.component.clearGrouping()}},rq={_getToolbarItems:function(){var e=this.callBase();return this._appendGroupingItem(e)},_appendGroupingItem:function(e){if(this._isGroupPanelVisible()){var t=!1,i={template:()=>{var r=W("<div>").addClass(Tm);return this._updateGroupPanelContent(r),lu("groupPanel",this,r,void 0,this._handleActionKeyDown.bind(this)),r},name:"groupPanel",onItemRendered:()=>{t&&this.renderCompleted.fire(),t=!0},location:"before",locateInMenu:"never",sortIndex:1};e.push(i)}return e},_handleActionKeyDown:function(e){var t=e.event,i=W(t.target),r=i.closest(".".concat(uh)).index(),n=this._columnsController.getGroupColumns()[r],a=n&&n.index;i.is(eq)?this.getController("headerFilter").showHeaderFilterMenu(a,!0):this._processGroupItemAction(a),t.preventDefault()},_isGroupPanelVisible:function(){var e=this.option("groupPanel"),t;return e&&(t=e.visible,t==="auto"&&(t=Ne.current().deviceType==="desktop")),t},_renderGroupPanelItems:function(e,t){var i=this;e.empty(),le(t,function(r,n){i._createGroupPanelItem(e,n)}),t0(this)},_createGroupPanelItem:function(e,t){var i=W("<div>").addClass(t.cssClass).addClass(uh).data("columnData",t).appendTo(e).text(t.caption);return zV(this,i),i},_columnOptionChanged:function(e){if(!this._requireReady&&!Le.checkChanges(e.optionNames,["width","visibleWidth"])){var t=this.element(),i=t&&t.find("."+Tm);i&&i.length&&(this._updateGroupPanelContent(i),this.renderCompleted.fire())}this.callBase()},_updateGroupPanelContent:function(e){var t=this.getController("columns").getGroupColumns(),i=this.option("groupPanel");this._renderGroupPanelItems(e,t),i.allowColumnDragging&&!t.length&&(W("<div>").addClass(YK).text(i.emptyPanelText).appendTo(e),e.closest("."+ZK).addClass(Mx),e.closest("."+Mx).css("maxWidth","none"),this.updateToolbarDimensions())},allowDragging:function(e){var t=this.option("groupPanel");return this._isGroupPanelVisible()&&t.allowColumnDragging&&e&&e.allowGrouping},getColumnElements:function(){var e=this.element();return e&&e.find("."+uh)},getColumns:function(){return this.getController("columns").getGroupColumns()},getBoundingRect:function(){var e=this.element();if(e&&e.find("."+Tm).length){var t=e.offset();return{top:t.top,bottom:t.top+nt(e)}}return null},getName:function(){return"group"},getContextMenuItems:function(e){var t=this.option("grouping.contextMenuEnabled"),i=W(e.targetElement).closest("."+uh),r;if(i.length&&(e.column=i.data("columnData")),t&&e.column){var n=e.column,a=Z(n.allowGrouping)?n.allowGrouping:!0;if(a){var s=Z(n.groupIndex)&&n.groupIndex>-1,o=this.option("grouping.texts"),l=L0.bind(this,n);r=[{text:o.ungroup,value:"ungroup",disabled:!s,onItemClick:l},{text:o.ungroupAll,value:"ungroupAll",onItemClick:l}]}}return r},isVisible:function(){return this.callBase()||this._isGroupPanelVisible()},optionChanged:function(e){e.name==="groupPanel"?(this._invalidate(),e.handled=!0):this.callBase(e)}},nq={getContextMenuItems:function(e){var t=this.option("grouping.contextMenuEnabled"),i;if(t&&e.row&&e.row.rowType==="group"){var r=this._columnsController,n=r.columnOption("groupIndex:"+e.row.groupIndex);if(n&&n.allowGrouping){var a=this.option("grouping.texts"),s=L0.bind(this,n);i=[],i.push({text:a.ungroup,value:"ungroup",onItemClick:s},{text:a.ungroupAll,value:"ungroupAll",onItemClick:s})}}return i},_rowClick:function(e){var t=this.option("grouping.expandMode"),i=this.option("scrolling.mode"),r=i!=="infinite"&&t==="rowClick"&&W(e.event.target).closest("."+QK).length,n=W(e.event.target).closest("."+JK).length;(r||n)&&this._changeGroupRowState(e),this.callBase(e)},_changeGroupRowState:function(e){var t=this.getController("data"),i=t.items()[e.rowIndex],r=this._columnsController.columnOption("groupIndex:"+i.groupIndex,"allowCollapsing");(i.rowType==="data"||i.rowType==="group"&&r!==!1)&&(t.changeRowExpand(i.key,!0),e.event.preventDefault(),e.handled=!0)}},aq={getContextMenuItems:function(e){var t=this.option("grouping.contextMenuEnabled"),i=this.callBase(e);if(t&&e.row&&(e.row.rowType==="header"||e.row.rowType==="detailAdaptive")){var r=e.column;if(!r.command&&(!Z(r.allowGrouping)||r.allowGrouping)){var n=this.option("grouping.texts"),a=Z(r.groupIndex)&&r.groupIndex>-1,s=L0.bind(this,r);i=i||[],i.push({text:n.groupByThisColumn,value:"group",beginGroup:!0,disabled:a,onItemClick:s}),r.showWhenGrouped&&i.push({text:n.ungroup,value:"ungroup",disabled:!a,onItemClick:s}),i.push({text:n.ungroupAll,value:"ungroupAll",onItemClick:s})}}return i}};Le.registerModule("grouping",{defaultOptions:function(){return{grouping:{autoExpandAll:!0,allowCollapsing:!0,contextMenuEnabled:!1,expandMode:"buttonClick",texts:{groupContinuesMessage:_e.format("dxDataGrid-groupContinuesMessage"),groupContinuedMessage:_e.format("dxDataGrid-groupContinuedMessage"),groupByThisColumn:_e.format("dxDataGrid-groupHeaderText"),ungroup:_e.format("dxDataGrid-ungroupHeaderText"),ungroupAll:_e.format("dxDataGrid-ungroupAllText")}},groupPanel:{visible:!1,emptyPanelText:_e.format("dxDataGrid-groupPanelEmptyText"),allowColumnDragging:!0}}},extenders:{controllers:{data:iq,columns:{_getExpandColumnOptions:function(){var e=this.callBase.apply(this,arguments);return e.cellTemplate=Le.getExpandCellTemplate(),e}},editing:{_isProcessedItem:function(e){return Z(e.groupIndex)&&Ue(e.rowType)&&e.rowType.indexOf("group")===0}}},views:{headerPanel:rq,rowsView:nq,columnHeadersView:aq}}});var sq="dx-master-detail-cell",Bx="dx-master-detail-row",oq="dx-cell-focus-disabled",lq="dx-row-lines",uq={defaultOptions:function(){return{masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}},extenders:{controllers:{columns:{_getExpandColumnsCore:function(){var e=this.callBase();return this.option("masterDetail.enabled")&&e.push({type:"detailExpand",cellTemplate:Ee.getExpandCellTemplate()}),e}},data:function(){var e=function(t){t._expandedItems=[],t._isExpandAll=t.option("masterDetail.autoExpandAll")};return{init:function(){e(this),this.callBase()},expandAll:function(t){var i=this;t<0?(i._isExpandAll=!0,i._expandedItems=[],i.updateItems()):i.callBase.apply(i,arguments)},collapseAll:function(t){var i=this;t<0?(i._isExpandAll=!1,i._expandedItems=[],i.updateItems()):i.callBase.apply(i,arguments)},isRowExpanded:function(t){var i=this,r=Ee.getIndexByKey(t,i._expandedItems);return Array.isArray(t)?i.callBase.apply(i,arguments):!!(i._isExpandAll^(r>=0&&i._expandedItems[r].visible))},_getRowIndicesForExpand:function(t){var i=this.getRowIndexByKey(t);return[i,i+1]},_changeRowExpandCore:function(t){var i=this,r;if(Array.isArray(t))r=i.callBase.apply(i,arguments);else{var n=Ee.getIndexByKey(t,i._expandedItems);if(n>=0){var a=i._expandedItems[n].visible;i._expandedItems[n].visible=!a}else i._expandedItems.push({key:t,visible:!0});i.updateItems({changeType:"update",rowIndices:i._getRowIndicesForExpand(t)}),r=new pe().resolve()}return r},_processDataItem:function(t,i){var r=this,n=r.callBase.apply(r,arguments);return n.isExpanded=r.isRowExpanded(n.key),i.detailColumnIndex===void 0&&(i.detailColumnIndex=-1,le(i.visibleColumns,function(a,s){if(s.command==="expand"&&!Z(s.groupIndex))return i.detailColumnIndex=a,!1})),i.detailColumnIndex>=0&&(n.values[i.detailColumnIndex]=n.isExpanded),n},_processItems:function(t,i){var r=this,n=i.changeType,a=[];return t=r.callBase.apply(r,arguments),n==="loadingAll"?t:(n==="refresh"&&(r._expandedItems=hr(r._expandedItems,function(s){return s.visible})),le(t,function(s,o){a.push(o);var l=Ee.getIndexByKey(o.key,r._expandedItems);o.rowType==="data"&&(o.isExpanded||l>=0)&&!o.isNewRow&&a.push({visible:o.isExpanded,rowType:"detail",key:o.key,data:o.data,values:[]})}),a)},optionChanged:function(t){var i,r;if(t.name==="masterDetail"){switch(t.name="dataSource",t.fullName){case"masterDetail":var n=t.value||{},a=t.previousValue||{};i=n.enabled!==a.enabled,r=n.autoExpandAll!==a.autoExpandAll;break;case"masterDetail.template":e(this);break;case"masterDetail.enabled":i=!0;break;case"masterDetail.autoExpandAll":r=!0}(i||r)&&e(this)}this.callBase(t)}}}(),resizing:{fireContentReadyAction:function(){this.callBase.apply(this,arguments),this._updateParentDataGrids(this.component.$element())},_updateParentDataGrids:function(e){var t=e.closest("."+Bx);t.length&&Pe(this._updateMasterDataGrid(t,e)).done(()=>{this._updateParentDataGrids(t.parent())})},_updateMasterDataGrid:function(e,t){var i=W(e).data("options"),r=W(e).closest("."+this.getWidgetContainerClass()).parent().data("dxDataGrid");if(i&&r)return this._updateMasterDataGridCore(r,i)},_updateMasterDataGridCore:function(e,t){var i=pe();if(e.getView("rowsView").isFixedColumns())this._updateFixedMasterDetailGrids(e,t.rowIndex,W(t.rowElement)).done(i.resolve);else{if(e.option("scrolling.useNative")===!0){e.updateDimensions().done(()=>i.resolve(!0));return}var r=e.getScrollable();r?r==null||r.update().done(()=>i.resolve()):i.resolve()}return i.promise()},_updateFixedMasterDetailGrids:function(e,t,i){var r=pe(),n=W(e.getRowElement(t)),a=W(e.getView("rowsView").getTableElements()),s=(n==null?void 0:n.length)===2&&nt(n.eq(0))!==nt(n.eq(1)),o=(a==null?void 0:a.length)===2&&nt(a.eq(0))!==nt(a.eq(1));if(s||o){var l=Ze(i);return e.updateDimensions().done(()=>{var u=this.option("columnAutoWidth")&&e.option("scrolling.useNative")===!0,d=u&&l!==Ze(i);u&&d?this.updateDimensions().done(()=>r.resolve(!0)):r.resolve(!0)}),r.promise()}return pe().resolve()},_toggleBestFitMode:function(e){if(this.callBase.apply(this,arguments),this.option("masterDetail.template")){var t=this._rowsView.getTableElement();t&&t.find(".dx-master-detail-cell").css("maxWidth",e?0:"")}}}},views:{rowsView:{_getCellTemplate:function(e){var t=this,i=e.column,r=t.getController("editing"),n=r&&r.isEditRow(e.rowIndex),a;return i.command==="detail"&&!n?a=t.option("masterDetail.template")||{allowRenderToDetachedContainer:!1,render:t._getDefaultTemplate(i)}:a=t.callBase.apply(t,arguments),a},_isDetailRow:function(e){return e&&e.rowType&&e.rowType.indexOf("detail")===0},_createRow:function(e){var t=this.callBase.apply(this,arguments);return e&&this._isDetailRow(e)&&(this.option("showRowLines")&&t.addClass(lq),t.addClass(Bx),Z(e.visible)&&t.toggle(e.visible)),t},_renderCells:function(e,t){var i=t.row,r,n=this._columnsController.getVisibleColumns();i.rowType&&this._isDetailRow(i)?this._needRenderCell(0,t.columnIndices)&&(r=this._renderCell(e,{value:null,row:i,rowIndex:i.rowIndex,column:{command:"detail"},columnIndex:0,change:t.change}),r.addClass(oq).addClass(sq).attr("colSpan",n.length)):this.callBase.apply(this,arguments)}}}}};Le.registerModule("masterDetail",uq);var Gh=function(e){for(var t=0,i=0,r=0;r<e.length;++r)if(e[r]==="'"&&t++,e[r]==="."&&(++i,t%2===0))return{occurrence:i,index:r};return{occurrence:1,index:-1}},Iv=function(e,t,i){for(var r=-1;i--&&r++<e.length;)r=e.indexOf(t,r);return r},Tv=function(e,t){return t===-1?[e]:[e.slice(0,t),e.slice(t+1)]},dq=function(e,t){return e&&fI(e/100,t)},Dc=function(e,t){if(typeof t=="string"){var i=t.split(";"),r=Wt.getSign(e,t);i[1]=i[1]||"-"+i[0],t=i[r<0?1:0],t=(s=t,s.replace(/'([^']*)'/g,o=>o.split("").map(()=>" ").join("").substr(2)));var n=/^[^#0.,]*/.exec(t)[0].length,a=/[^#0.,]*$/.exec(t)[0].length;return{start:n,end:e.length-a}}else return{start:0,end:e.length};var s},Px=function(e,t){var i=Wt.getDecimalSeparator(),r=new RegExp("[^0-9"+ka(i)+"]","g"),n=t.slice(0,e);return n.replace(r,"").length},Fx=function(e){return e.split("").reverse().join("")},Lx=function(e,t){if(!e)return-1;for(var i=/[0-9]/g,r=1,n=null,a=i.exec(t);a;){if(n=a.index,r>=e)return n;r++,a=i.exec(t)}return n===null?t.length:n},hq=function(e){return e.replace(/[^0-9e]+$/,"")},Cs=function(e,t){return e.start===void 0&&(e={start:e,end:e}),{start:e.start+t,end:e.end+t}},cq=function(e,t,i,r){i=Cs(i,0);var n=Wt.getDecimalSeparator(),a=fq(e),s=Gh(r).occurrence,o=a?0:Iv(e,n,s),l=Iv(t,n,s),u=Tv(e,o),d=Tv(t,l),c=o!==-1&&i.start>o;if(c){var h=i.start-o-1,f=Px(h,u[1]),p=d[1]?l+1+Lx(f,d[1])+1:t.length;return Ta(p,t,r)}else{var g=hq(d[0]),m=u[0].length-i.start,v=Px(m,Fx(u[0])),b=Lx(v,Fx(g)),y=g.length-(b+1);return Ta(y,t,r)}};function fq(e){return e.length===1&&!!e.match(/^[,.][0-9]*$/g)}var pq=function(e,t,i){e=Cs(e,0);var r=Ta(e,t,i);return e.start>=r.start&&e.end<=r.end};function Ta(e,t,i){e=Cs(e,0);var r=Dc(t,i),n={start:Ji(e.start,r.start,r.end),end:Ji(e.end,r.start,r.end)};return n}var mq=function(e,t,i){var r=Dc(e,i),n=Dc(t,i);return n.start-r.start},gq="dx-numberbox-spin",vq="dx-numberbox-spin-button",_q=100,qO="dxNumberBox",Nx=xe(Rt.up,qO),Vx=xe(Rt.cancel,qO),Co=Fi.inherit({_getDefaultOptions:function(){return re(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var e=gq+"-"+this.option("direction");this.$element().addClass(vq).addClass(e),this._spinIcon=W("<div>").addClass(e+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var e=xe(Rt.down,this.NAME),t=this.$element();te.off(t,e),te.on(t,e,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(e){e.preventDefault(),this._clearTimer(),te.on(this.$element(),za.name,(function(){this._feedBackDeferred=new pe,$F(this._feedBackDeferred),this._spinChangeHandler({event:e}),this._holdTimer=setInterval(this._spinChangeHandler,_q,{event:e})}).bind(this));var t=we.getDocument();te.on(t,Nx,this._clearTimer.bind(this)),te.on(t,Vx,this._clearTimer.bind(this)),this._spinChangeHandler({event:e})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){te.off(this.$element(),za.name);var e=we.getDocument();te.off(e,Nx),te.off(e,Vx),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(e){switch(e.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(e)}}}),bq="dx-numberbox-spin",yq="dx-numberbox-spin-container",Cq="dx-numberbox-spin-touch-friendly";class wq extends ff{_attachEvents(t,i){var{editor:r}=this,n=xe(Rt.down,r.NAME),a=i.children(),s=r._createAction(o=>r._spinButtonsPointerDownHandler(o));te.off(i,n),te.on(i,n,o=>s({event:o})),Co.getInstance(a.eq(0)).option("onChange",o=>r._spinUpChangeHandler(o)),Co.getInstance(a.eq(1)).option("onChange",o=>r._spinDownChangeHandler(o))}_create(){var{editor:t}=this,i=W("<div>").addClass(yq),r=W("<div>").appendTo(i),n=W("<div>").appendTo(i),a=this._getOptions();return this._addToContainer(i),t._createComponent(r,Co,re({direction:"up"},a)),t._createComponent(n,Co,re({direction:"down"},a)),this._legacyRender(t.$element(),this._isTouchFriendly(),a.visible),{instance:i,$element:i}}_getOptions(){var{editor:t}=this,i=this._isVisible(),r=t.option("disabled");return{visible:i,disabled:r}}_isVisible(){var{editor:t}=this;return super._isVisible()&&t.option("showSpinButtons")}_isTouchFriendly(){var{editor:t}=this;return t.option("showSpinButtons")&&t.option("useLargeSpinButtons")}_legacyRender(t,i,r){t.toggleClass(Cq,i),t.toggleClass(bq,r)}update(){var t=super.update();if(t){var{editor:i,instance:r}=this,n=i.$element(),a=this._isVisible(),s=this._isTouchFriendly(),o=r.children(),l=Co.getInstance(o.eq(0)),u=Co.getInstance(o.eq(1)),d=this._getOptions();l.option(d),u.option(d),this._legacyRender(n,s,a)}}}var xq=Math,Sq="dx-numberbox",Eq=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],Iq="NumberBoxForceValueChange",Tq=C0.inherit({_supportedKeys:function(){return re(this.callBase(),{upArrow:function(e){Pi(e)||(e.preventDefault(),e.stopPropagation(),this._spinUpChangeHandler(e))},downArrow:function(e){Pi(e)||(e.preventDefault(),e.stopPropagation(),this._spinDownChangeHandler(e))},enter:function(){}})},_getDefaultOptions:function(){return re(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:_e.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_useTemplates:function(){return!1},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:wq}])},_isSupportInputMode:function(){var e=parseFloat(Qt.version);return Qt.chrome&&e>=66||Qt.safari&&e>=12},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ne.real().generic&&!Ne.isSimulator()},options:{useLargeSpinButtons:!1}},{device:(function(){return Ne.real().deviceType!=="desktop"&&!this._isSupportInputMode()}).bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass(Sq),this.callBase()},_getDefaultAttributes:function(){var e=this.callBase();return e.inputmode="decimal",e},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=W("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(e){this._getSubmitElement().val(WB(e))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(e){this.callBase(e);var t=uc(e),i=/[\d.,eE\-+]/.test(t);if(!i){var r=hi(e);return Pi(e)||r&&Eq.includes(r)?void 0:(e.preventDefault(),!1)}this._keyPressed=!0},_onMouseWheel:function(e){e.delta>0?this._spinValueChange(1,e):this._spinValueChange(-1,e)},_renderValue:function(){var e=this._input().val(),t=this.option("value");(!e.length||Number(e)!==t)&&(this._forceValueRender(),this._toggleEmptinessEventHandler());var i=Z(t)?null:_e.format("dxNumberBox-noDataText");return this.setAria({valuenow:di(t,""),valuetext:i}),this.option("text",this._input().val()),this._updateButtons(),new pe().resolve()},_forceValueRender:function(){var e=this.option("value"),t=Number(e),i=isNaN(t)?"":this._applyDisplayValueFormatter(e);this._renderDisplayText(i)},_applyDisplayValueFormatter:function(e){return this.option("displayValueFormatter")(e)},_renderProps:function(){this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:di(this.option("min"),""),valuemax:di(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var e=this._input();!this.option("useLargeSpinButtons")&&we.getActiveElement()!==e[0]&&te.trigger(e,"focus")},_spinUpChangeHandler:function(e){this.option("readOnly")||this._spinValueChange(1,e.event||e)},_spinDownChangeHandler:function(e){this.option("readOnly")||this._spinValueChange(-1,e.event||e)},_spinValueChange:function(e,t){var i=parseFloat(this.option("step"));if(i!==0){var r=parseFloat(this._normalizeInputValue())||0;r=this._correctRounding(r,i*e);var n=this.option("min"),a=this.option("max");Z(n)&&(r=Math.max(n,r)),Z(a)&&(r=Math.min(a,r)),this._saveValueChangeEvent(t),this.option("value",r)}},_correctRounding:function(e,t){var i=/[,.](.*)/,r=i.test(e),n=i.test(t);if(r||n){var a=r?i.exec(e)[0].length:0,s=n?i.exec(t)[0].length:0,o=xq.max(a,s);return e=this._round(e+t,o),e}return e+t},_round:function(e,t){t=t||0;var i=Math.pow(10,t);return e*=i,e=Math.round(e)/i,e},_renderValueChangeEvent:function(){this.callBase();var e=xe("focusout",Iq);te.off(this.element(),e),te.on(this.element(),e,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if(this.option("mode")!=="number"){var e=this._input(),t=this._applyDisplayValueFormatter(this.option("value"));e.val(null),e.val(t)}},_valueChangeEventHandler:function(e){var t=this._input(),i=this._normalizeText(),r=this._parseValue(i),n=i!=="."&&i!=="-";if(this._isValueValid()&&!this._validateValue(r)){t.val(this._applyDisplayValueFormatter(r));return}n&&this.callBase(e,isNaN(r)?null:r),this._applyValueBoundaries(i,r),this.validationRequest.fire({value:r,editor:this})},_applyValueBoundaries:function(e,t){var i=this._isValueIncomplete(e),r=this._isValueInRange(e);!i&&!r&&t!==null&&Number(e)!==t&&this._input().val(this._applyDisplayValueFormatter(t))},_replaceCommaWithPoint:function(e){return e.replace(",",".")},_inputIsInvalid:function(){var e=this.option("mode")==="number",t=this._input().get(0).validity;return e&&t&&t.badInput},_renderDisplayText:function(e){this._inputIsInvalid()||this.callBase(e)},_isValueIncomplete:function(e){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(e)},_isValueInRange:function(e){return Xn(e,this.option("min"),this.option("max"))},_isNumber:function(e){return this._parseValue(e)!==null},_validateValue:function(e){var t=this._normalizeText(),i=this._isValueValid(),r=!0,n=this._isNumber(t);return isNaN(Number(e))&&(r=!1),!e&&i?r=!0:!n&&!i&&(r=!1),this.option({isValid:r,validationError:r?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),r},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var e=this._input().val().trim();return this._replaceCommaWithPoint(e)},_parseValue:function(e){var t=parseFloat(e);return isNaN(t)?null:Ji(t,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},reset:function(){this.option("value")===null?(this.option("text",""),this._renderValue()):this.option("value",null)},_optionChanged:function(e){switch(e.name){case"value":this._validateValue(e.value),this._setSubmitValue(e.value),this.callBase(e),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(e)}}}),Am="dxNumberFormatter",dh=1,Om=-1,$x="-",Ml="minus",Aq="input",Hx=0,Rc=Tq.inherit({_getDefaultOptions:function(){return re(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(e){return e==="del"},_supportedKeys:function(){return this._useMaskBehavior()?re(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,Om),rightArrow:this._arrowHandler.bind(this,dh),home:this._moveCaretToBoundaryEventHandler.bind(this,dh),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,Om)}):this.callBase()},_getTextSeparatorIndex:function(e){var t=Wt.getDecimalSeparator(),i=Gh(this.option("format")).occurrence;return Iv(e,t,i)},_focusInHandler:function(e){this._preventNestedFocusEvent(e)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout((function(){this._caretTimeout=void 0;var t=this._caret();if(t.start===t.end&&this._useMaskBehavior()){var i=this._getInputVal(),r=this._getTextSeparatorIndex(i);r>=0?this._caret({start:r,end:r}):this._moveCaretToBoundaryEventHandler(Om,e)}}).bind(this),Hx)),this.callBase(e)},_focusOutHandler:function(e){var t=!this._preventNestedFocusEvent(e);t&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(e),t&&(this._focusOutOccurs=!1)},_hasValueBeenChanged(e){var t=this._getFormatPattern(),i=this.option("value"),r=this._format(i,t)||"";return r!==e},_updateFormattedValue:function(){var e=this._getInputVal();this._hasValueBeenChanged(e)&&(this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&te.trigger(this._input(),"change"))},_arrowHandler:function(e,t){if(this._useMaskBehavior()){var i=this._getInputVal(),r=this._getFormatPattern(),n=Cs(this._caret(),e);pq(n,i,r)||(n=e===dh?n.end:n.start,t.preventDefault(),this._caret(Ta(n,i,r)))}},_moveCaretToBoundary:function(e){var t=Dc(this._getInputVal(),this._getFormatPattern()),i=Cs(e===dh?t.start:t.end,0);this._caret(i)},_moveCaretToBoundaryEventHandler:function(e,t){!this._useMaskBehavior()||t&&t.shiftKey||(this._moveCaretToBoundary(e),t&&t.preventDefault())},_shouldMoveCaret:function(e,t){var i=Wt.getDecimalSeparator(),r=e.charAt(t.end)===i,n=(this._lastKey===i||this._lastKey==="."||this._lastKey===",")&&r;return n},_getInputVal:function(){return Wt.convertDigits(this._input().val(),!0)},_keyboardHandler:function(e){if(this.clearCaretTimeout(),this._lastKey=Wt.convertDigits(uc(e),!0),this._lastKeyName=hi(e),!this._shouldHandleKey(e.originalEvent))return this.callBase(e);var t=this._getInputVal(),i=this._caret(),r=this._lastKeyName===Ml?"":this._lastKey,n=this._tryParse(t,i,r);return this._shouldMoveCaret(t,i)&&(this._moveCaret(1),e.originalEvent.preventDefault()),n===void 0?this._lastKeyName!==Ml&&e.originalEvent.preventDefault():this._parsedValue=n,this.callBase(e)},_keyPressHandler:function(e){this._useMaskBehavior()||this.callBase(e)},_removeHandler:function(e){var t=this._caret(),i=this._getInputVal(),r=t.start,n=t.end;this._lastKey=uc(e),this._lastKeyName=hi(e);var a=this._isDeleteKey(this._lastKeyName),s=!a;if(r===n){var o=r,l=s&&o>0||a&&o<i.length;if(l)a&&n++,s&&r--;else{e.preventDefault();return}}var u=i.slice(r,n);if(this._isStub(u)){this._moveCaret(a?1:-1),(this._parsedValue<0||1/this._parsedValue===-1/0)&&(this._revertSign(e),this._setTextByParsedValue()),e.preventDefault();return}var d=Wt.getDecimalSeparator();if(u===d){var c=i.indexOf(d);this._isNonStubAfter(c+1)&&(this._moveCaret(a?1:-1),e.preventDefault());return}if(n-r<i.length){var h=this._replaceSelectedText(i,{start:r,end:n},""),f=h.search(/[0-9]/)<0;if(f&&this._isValueInRange(0)){this._parsedValue=this._parsedValue<0||1/this._parsedValue===-1/0?-0:0;return}}var p=this._tryParse(i,{start:r,end:n},"");p===void 0?e.preventDefault():this._parsedValue=p},_isPercentFormat:function(){var e=this._getFormatPattern(),t=e.replace(/'[^']+'/g,"");return t.indexOf("%")!==-1},_parse:function(e,t){var i=this.option("format"),r=Re(i.parser),n=r?i.parser:Wt.parse,a=0;if(!r){var s=Gh(t).index,o=this._getTextSeparatorIndex(e),l=s!==-1?s:t.length,u=o!==-1?o:e.length;u>l&&t.indexOf("#")===-1&&(a=u-l)}return e=e.substr(a),n(e,t)},_format:function(e,t){var i=this.option("format"),r=(i==null?void 0:i.formatter)||i,n=Re(r)?r:Wt.format,a=e===null?"":n(e,t);return a},_getFormatPattern:function(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat:function(){var e=this.option("format"),t=Re(e==null?void 0:e.parser),i=Ue(e)&&(e.indexOf("0")>=0||e.indexOf("#")>=0),r=e==="exponential"||(e==null?void 0:e.type)==="exponential",n=t||i||r;this._currentFormat=n?e:l6(a=>{var s=this._format(a,e);return Wt.convertDigits(s,!0)})},_getFormatForSign:function(e){var t=this._getFormatPattern();if(Ue(t)){var i=t.split(";"),r=Wt.getSign(e,t);return i[1]=i[1]||"-"+i[0],r<0?i[1]:i[0]}else{var n=Wt.getSign(e);return n<0?"-":""}},_removeStubs:function(e,t){var i=this._getFormatForSign(e),r=Wt.getThousandsSeparator(),n=this._getStubs(i),a=e;if(n.length){var s=n[0],o=new RegExp("("+ka(n[1]||"")+")$","g"),l=new RegExp("[-"+ka(t?"":r)+"]","g");a=a.replace(s,"").replace(o,"").replace(l,"")}return a},_getStubs:function(e){var t=/[^']([#0.,]+)/g.exec(e),i=t&&t[0].trim();return e.split(i).map(function(r){return r.replace(/'/g,"")})},_truncateToPrecision:function(e,t){if(Z(e)){var i=e.toString(),r=i.indexOf(".");if(i&&r>-1){var n=parseFloat(i.substr(0,r+t+1));return isNaN(n)?e:n}}return e},_tryParse:function(e,t,i){var r=this._replaceSelectedText(e,t,i),n=this._getFormatPattern(),a=t.start!==t.end,s=this._getParsedValue(r,n),o=!n.parser&&this._getPrecisionLimits(r).max,l=s!==this._parsedValue,u=Wt.getDecimalSeparator(),d=i===u&&o===0,c=!a&&!l&&i!==$x&&!this._isValueIncomplete(r)&&this._isStub(i);if(!(d||c)&&(this._removeStubs(r)===""&&(s=Math.abs(0*this._parsedValue)),!isNaN(s))){var h=s===null?this._parsedValue:s;return s=o?this._truncateToPrecision(h,o):s,!n.parser&&this._isPercentFormat()?dq(s,o):s}},_getParsedValue:function(e,t){var i=Wt.getSign(e,(t==null?void 0:t.formatter)||t),r=this._removeStubs(e,!0),n=this._parse(r,t),a=n<0?-1:1,s=Kt(n)&&i!==a?i*n:n;return s},_isValueIncomplete:function(e){if(!this._useMaskBehavior())return this.callBase(e);var t=this._caret(),i=Wt.getDecimalSeparator(),r=this._getTextSeparatorIndex(e),n=r>=0&&r<t.start,a=this._removeStubs(e,!0).split(i);if(!n||a.length!==2)return!1;var s=a[1].length,o=this._getFormatPattern(),l=!!o.parser,u=!l&&this._getPrecisionLimits(this._getFormatPattern(),e),d=l?!0:Xn(s,u.min,u.max),c=a[1].charAt(s-1)==="0";return d&&(c||!s)},_isValueInRange:function(e){var t=di(this.option("min"),-1/0),i=di(this.option("max"),1/0);return Xn(e,t,i)},_setInputText:function(e){var t=Wt.convertDigits(e,!0),i=cq(this._getInputVal(),t,this._caret(),this._getFormatPattern());this._input().val(e),this._toggleEmptinessEventHandler(),this._formattedValue=e,this._focusOutOccurs||this._caret(i)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var e=this.option("mode")==="number",t=Ne.real().deviceType==="desktop";this._useMaskBehavior()&&e?this._setInputType(t||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(e){return Ue(e)&&e.length===1},_moveCaret:function(e){if(e){var t=Cs(this._caret(),e),i=Ta(t,this._getInputVal(),this._getFormatPattern());this._caret(i)}},_shouldHandleKey:function(e){var t=hi(e),i=Pi(e)||e.altKey||e.shiftKey||!this._isChar(t),r=t===Ml,n=this._useMaskBehavior();return n&&!i&&!r},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){te.off(this._input(),"."+Am)},_isInputFromPaste:function(e){var t=e.originalEvent&&e.originalEvent.inputType;return Z(t)?t==="insertFromPaste":this._isValuePasted},_attachFormatterEvents:function(){var e=this._input();te.on(e,xe(Aq,Am),(function(t){this._formatValue(t),this._isValuePasted=!1}).bind(this)),te.on(e,xe("dxclick",Am),(function(){this._caretTimeout||(this._caretTimeout=setTimeout((function(){this._caretTimeout=void 0,this._caret(Ta(this._caret(),this._getInputVal(),this._getFormatPattern()))}).bind(this),Hx))}).bind(this)),te.on(e,"dxdblclick",(function(){this.clearCaretTimeout()}).bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(e){var t=this._getInputVal().slice(e);return t&&!this._isStub(t,!0)},_isStub:function(e,t){var i=ka(Wt.getDecimalSeparator()),r="^[^0-9"+i+"]+$",n=new RegExp(r,"g");return n.test(e)&&(t||this._isChar(e))},_parseValue:function(e){return this._useMaskBehavior()?this._parsedValue:this.callBase(e)},_getPrecisionLimits:function(e){var t=this._getFormatForSign(e),i=Gh(t).index,r=(Tv(t,i)[1]||"").replace(/[^#0]/g,""),n=r.replace(/^(0*)#*/,"$1").length,a=r.length;return{min:n,max:a}},_revertSign:function(e){if(this._useMaskBehavior()){var t=this._caret();if(t.start!==t.end)if(hi(e)===Ml){this._applyRevertedSign(e,t,!0);return}else this._caret(Ta(0,this._getInputVal(),this._getFormatPattern()));this._applyRevertedSign(e,t)}},_applyRevertedSign:function(e,t,i){var r=-1*di(this._parsedValue,null);if(this._isValueInRange(r)&&(this._parsedValue=r,i)){var n=this._getFormatPattern(),a=this._getInputVal();this._setTextByParsedValue(),e.preventDefault();var s=this._getInputVal(),o=mq(a,s,n);t=Cs(t,o);var l=Ta(t,s,n);this._caret(l)}},_removeMinusFromText:function(e,t){var i=this._lastKeyName===Ml&&e.charAt(t.start-1)===$x;return i?this._replaceSelectedText(e,{start:t.start-1,end:t.start},""):e},_setTextByParsedValue:function(){var e=this._getFormatPattern(),t=this._parseValue(),i=this._format(t,e)||"";this._setInputText(i)},_formatValue:function(e){var t=this._getInputVal(),i=this._caret(),r=this._removeMinusFromText(t,i),n=r!==t;if(t=r,!this._isInputFromPaste(e)&&this._isValueIncomplete(r)){this._formattedValue=t,n&&this._setTextByParsedValue();return}var a=Wt.convertDigits(this._formattedValue,!0)!==t;if(a){var s=this._tryParse(t,i,"");Z(s)&&(this._parsedValue=s)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_updateParsedValue:function(){var e=this._getInputVal();this._parsedValue=this._tryParse(e,this._caret())},_adjustParsedValue:function(){if(this._useMaskBehavior()){var e=this._removeStubs(this._getInputVal()),t=e?this._parseValue():null;if(!Kt(t)){this._parsedValue=t;return}this._parsedValue=Ji(t,this.option("min"),this.option("max"))}},_valueChangeEventHandler:function(e){if(!this._useMaskBehavior())return this.callBase(e);var t=this._caret();this._saveValueChangeEvent(e),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),t&&this._caret(t)},_optionChanged:function(e){switch(e.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),this.callBase(e);break;default:this.callBase(e)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}});yt("dxNumberBox",Rc);var Oq="dx-dropdowneditor-button",Dq="dx-dropdowneditor-button-visible",Rq="dxDropDownEditor-selectLabel";let kq=class extends ff{constructor(t,i,r){super(t,i,r),this.currentTemplate=null}_attachEvents(t){var{editor:i}=this;t.option("onClick",r=>{!i.option("openOnFieldClick")&&i._openHandler(r)}),te.on(t.$element(),"mousedown",r=>{i.$element().is(".dx-state-focused")&&r.preventDefault()})}_create(){var{editor:t}=this,i=W("<div>"),r=this._getOptions();this._addToContainer(i);var n=t._createComponent(i,Ki,re({},r,{elementAttr:{"aria-label":_e.format(Rq)}}));return this._legacyRender(t.$element(),i,r.visible),{$element:i,instance:n}}_getOptions(){var{editor:t}=this,i=this._isVisible(),r=t.option("readOnly"),n={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:r,visible:i};return this._addTemplate(n),n}_isVisible(){var{editor:t}=this;return super._isVisible()&&t.option("showDropDownButton")}_legacyRender(t,i,r){t.toggleClass(Dq,r),i&&i.removeClass("dx-button").addClass(Oq)}_isSameTemplate(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}_addTemplate(t){this._isSameTemplate()||(t.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}update(){var t=super.update();if(t){var{editor:i,instance:r}=this,n=i.$element(),a=this._getOptions();r==null||r.option(a),this._legacyRender(n,r==null?void 0:r.$element(),a.visible)}}};var kc=function(e){if(rt())return At(e)},N0=function(e){return e===null&&(e=void 0),typeof e=="function"&&(e=e()),e},Mq="dx-dropdowneditor",zx="dx-dropdowneditor-input-wrapper",Bq="dx-dropdowneditor-icon",hh="dx-dropdowneditor-overlay",Pq="dx-dropdowneditor-overlay-flipped",Fq="dx-dropdowneditor-active",Lq="dx-dropdowneditor-field-clickable",Nq="dx-dropdowneditor-field-template-wrapper",Wx=Ne.current().platform==="ios",V0=pd.inherit({_supportedKeys:function(){return re({},this.callBase(),{tab:function(e){if(this.option("opened")){if(this.option("applyValueMode")==="instantly"){this.close();return}var t=e.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();t&&te.trigger(t,"focus"),e.preventDefault()}},escape:function(e){return this.option("opened")&&e.preventDefault(),this.close(),!0},upArrow:function(e){return!Pi(e)&&(e.preventDefault(),e.stopPropagation(),e.altKey)?(this.close(),!1):!0},downArrow:function(e){return!Pi(e)&&(e.preventDefault(),e.stopPropagation(),e.altKey)?(this._validatedOpening(),!1):!0},enter:function(e){return this.option("opened")&&(e.preventDefault(),this._valueChangeEventHandler(e)),!0}})},_getDefaultButtons:function(){return this.callBase().concat([{name:"dropDown",Ctor:kq}])},_getDefaultOptions:function(){return re(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:_e.format("OK"),cancelButtonText:_e.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1})},_useTemplates:function(){return!0},_getDefaultPopupPosition:function(e){var t=Za(e);return{offset:{h:0,v:-1},my:t+" top",at:t+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){var t=e.platform==="generic";return t},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.$element().find("."+zx).first()},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._updatePopupPosition(this.option("rtlEnabled")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_updatePopupPosition:function(e){var{my:t,at:i}=this._getDefaultPopupPosition(e),r=this.option("popupPosition");this.option("popupPosition",re({},r,{my:t,at:i}))},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this._renderSubmitElement(),this.callBase(),this.$element().addClass(Mq),this.setAria("role","combobox")},_render:function(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this._wrapInput(),this._setDefaultAria()},_wrapInput:function(){this._$container=this.$element().wrapInner(W("<div>").addClass(zx)).children().eq(0)},_setDefaultAria:function(){this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this._isEditable()||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate:function(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderMask:function(){this.option("fieldTemplate")||this.callBase()},_renderField:function(){var e=this._getFieldTemplate();e&&this._renderTemplatedField(e,this._fieldRenderData())},_renderPlaceholder:function(){var e=!!this._getFieldTemplate();e||this.callBase()},_renderValue:function(){this.option("useHiddenSubmitElement")&&this._setSubmitValue();var e=this.callBase();e.always(this._renderField.bind(this))},_renderTemplatedField:function(e,t){var i;this._fieldRenderQueueLength=((i=this._fieldRenderQueueLength)!==null&&i!==void 0?i:0)+1;var r=$a(this._input()),n=this._$container;this._detachKeyboardEvents(),this._refreshButtonsContainer(),this._detachWrapperContent(),this._detachFocusEvents(),n.empty();var a=W("<div>").addClass(Nq).appendTo(n);e.render({model:t,container:qe(a),onRendered:()=>{if(this._fieldRenderQueueLength--,this._fieldRenderQueueLength===0){var s=this._input();if(!s.length)throw gt.Error("E1010");this._integrateInput(),r&&te.trigger(s,"focus")}}}),this._attachWrapperContent(n)},_detachWrapperContent(){var e,t,i,r=this.option("useHiddenSubmitElement");r&&((e=this._$submitElement)===null||e===void 0||e.detach());var n=(t=this._$beforeButtonsContainer)===null||t===void 0?void 0:t[0].parentNode,a=(i=this._$afterButtonsContainer)===null||i===void 0?void 0:i[0].parentNode;n==null||n.removeChild(this._$beforeButtonsContainer[0]),a==null||a.removeChild(this._$afterButtonsContainer[0])},_attachWrapperContent(e){var t,i=this.option("useHiddenSubmitElement");e.prepend(this._$beforeButtonsContainer),i&&((t=this._$submitElement)===null||t===void 0||t.appendTo(e)),e.append(this._$afterButtonsContainer)},_refreshButtonsContainer(){this._$buttonsContainer=this.$element().children().eq(0)},_integrateInput:function(){this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent()},_refreshEmptinessEvent:function(){te.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()},_fieldRenderData:function(){return this.option("value")},_initTemplates:function(){this._templateManager.addDefaultTemplates({dropDownButton:new Jo(function(e){var t=W("<div>").addClass(Bq);W(e.container).append(t)})}),this.callBase()},_renderOpenHandler:function(){var e=this._inputWrapper(),t=xe(Pt,this.NAME),i=this.option("openOnFieldClick");te.off(e,t),te.on(e,t,this._getInputClickHandler(i)),this.$element().toggleClass(Lq,i),i&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler:function(){Wx&&(this._detachFocusOutEvents(),te.on(this._inputWrapper(),xe("focusout",this.NAME),e=>{var t=e.relatedTarget,i=this.content?W(this.content()).closest("."+hh):this._$popup;if(t&&this.option("opened")){var r=W(t).closest("."+hh,i).length===0;r&&this.close()}}))},_detachFocusOutEvents:function(){Wx&&te.off(this._inputWrapper(),xe("focusout",this.NAME))},_getInputClickHandler:function(e){return e?t=>{this._executeOpenAction(t)}:t=>{this._focusInput()}},_openHandler:function(){this._toggleOpenState()},_executeOpenAction:function(e){this._openOnFieldClickAction({event:e})},_keyboardEventBindingTarget:function(){return this._input()},_focusInput:function(){return this.option("disabled")?!1:(this.option("focusStateEnabled")&&!$a(this._input())&&(this._resetCaretPosition(),te.trigger(this._input(),"focus")),!0)},_resetCaretPosition:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this._input().get(0);if(t){var{value:i}=t,r=Z(i)&&(e||this._isEditable())?i.length:0;this._caret({start:r,end:r},!0)}},_isEditable:function(){return this.option("acceptCustomValue")},_toggleOpenState:function(e){this._focusInput()&&(this.option("readOnly")||(e=arguments.length?e:!this.option("opened"),this.option("opened",e)))},_renderOpenedState:function(){var e=this.option("opened");e&&this._createPopup(),this.$element().toggleClass(Fq,e),this._setPopupOption("visible",e),this.setAria({expanded:e}),this.setAria("owns",e?this._popupContentId:void 0,this.$element())},_createPopup:function(){this._$popup||(this._$popup=W("<div>").addClass(hh).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent())},_renderPopupContent:me,_renderPopup:function(){var e=re(this._popupConfig(),this._options.cache("dropDownOptions"));this._popup=this._createComponent(this._$popup,kn,e),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_setPopupContentId(e){this._popupContentId="dx-"+new Ri,this.setAria("id",this._popupContentId,e)},_contentReadyHandler:me,_popupConfig:function(){return{onInitialized:this._popupInitializedHandler(),position:re(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:()=>kc(this.$element()),height:"auto",shading:!1,wrapperAttr:{class:hh},hideOnParentScroll:!0,hideOnOutsideClick:e=>this._closeOutsideDropDownHandler(e),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null}},_popupInitializedHandler:function(){return this.option("onPopupInitialized")?e=>{this._popupInitializedAction({popup:e.component})}:null},_dimensionChanged:function(){var e=N0(this.option("dropDownOptions.width"));e===void 0&&this._setPopupOption("width",()=>kc(this.$element()))},_popupPositionedHandler:function(e){var t,i,{labelMode:r,stylingMode:n}=this.option(),a=this._popup.$overlayContent(),s=(t=e.position)===null||t===void 0||(i=t.v)===null||i===void 0?void 0:i.flip,o=r!=="hidden"&&n==="outlined";if(e.position&&a.toggleClass(Pq,s),s&&o&&this._label.isVisible()){var l=this._label.$element();Ai(a,{top:Vr(a).top-parseInt(l.css("fontSize"))})}},_popupShowingHandler:me,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){var e;this._openAction(),(e=this._validationMessage)===null||e===void 0||e.option("positionRequest",this._getValidationMessagePositionRequest())},_popupHiddenHandler:function(){var e;this._closeAction(),(e=this._validationMessage)===null||e===void 0||e.option("positionRequest",this._getValidationMessagePositionRequest())},_getValidationMessagePositionRequest:function(){var e="below";if(this._popup&&this._popup.option("visible")){var{top:t}=zi.setup(this.$element()),{top:i}=zi.setup(this._popup.$content());e=t+this.option("popupPosition").offset.v>i?"below":"above"}return e},_closeOutsideDropDownHandler:function(e){var{target:t}=e,i=W(t),r=this.getButton("dropDown"),n=r&&r.$element(),a=!!i.closest(this.$element()).length,s=!!i.closest(n).length,o=!a&&!s;return o},_clean:function(){delete this._openOnFieldClickAction,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(e,t){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems:function(){return this.option("applyValueMode")==="useButtons"?this._popupToolbarItemsConfig():[]},_getFirstPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-done.dx-button")},_getLastPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-cancel.dx-button")},_popupElementTabHandler:function(e){var t=W(e.currentTarget);(e.shiftKey&&t.is(this._getFirstPopupElement())||!e.shiftKey&&t.is(this._getLastPopupElement()))&&(te.trigger(this._input(),"focus"),e.preventDefault())},_popupElementEscHandler:function(){te.trigger(this._input(),"focus"),this.close()},_popupButtonInitializedHandler:function(e){e.component.registerKeyHandler("tab",this._popupElementTabHandler.bind(this)),e.component.registerKeyHandler("escape",this._popupElementEscHandler.bind(this))},_popupToolbarItemsConfig:function(){var e=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}}];return this._applyButtonsLocation(e)},_applyButtonsLocation:function(e){var t=this.option("buttonsLocation"),i=e;if(t!=="default"){var r=sl(t);le(i,function(n,a){re(a,{toolbar:r[0],location:r[1]})})}return i},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_popupOptionChanged:function(e){var t=Fi.getOptionsFromContainer(e);this._setPopupOption(t);var i=Object.keys(t);(i.indexOf("width")!==-1||i.indexOf("height")!==-1)&&this._dimensionChanged()},_renderSubmitElement:function(){this.option("useHiddenSubmitElement")&&(this._$submitElement=W("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue:function(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement:function(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose:function(){this._detachFocusOutEvents(),this.callBase()},_optionChanged:function(e){var t;switch(e.name){case"width":case"height":this.callBase(e),(t=this._popup)===null||t===void 0||t.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":Z(e.value)?this._renderField():this._invalidate();break;case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(e),this._options.cache("dropDownOptions",this.option("dropDownOptions"));break;case"popupPosition":break;case"deferRendering":rt()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(e.value),this.callBase(e);break;default:this.callBase(e)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},field:function(){return qe(this._input())},content:function(){return this._popup?this._popup.content():null}});yt("dxDropDownEditor",V0);var jx=re({},rd,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new In({store:new dl(this.option("items")),pageSize:0}))},_compileDisplayGetter:function(){this._displayGetter=jt(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=jt(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(e){var t=new pe;return e=this._unwrappedValue(e),Z(e)?(this._loadSingle(this._valueGetterExpr(),e).done((function(i){this._isValueEquals(this._valueGetter(i),e)?t.resolve(i):t.reject()}).bind(this)).fail(function(){t.reject()}),this._loadValueDeferred=t,t.promise()):t.reject().promise()},_rejectValueLoading:function(){var e;(e=this._loadValueDeferred)===null||e===void 0||e.reject({shouldSkipCallback:!0})},_getCurrentValue:function(){return this.option("value")},_unwrappedValue:function(e){var t;return e=(t=e)!==null&&t!==void 0?t:this._getCurrentValue(),e&&this._dataSource&&this._valueGetterExpr()==="this"&&(e=this._getItemKey(e)),or.unwrap(e)},_getItemKey:function(e){var t=this._dataSource.key();if(Array.isArray(t)){for(var i={},r=0,n=t.length;r<n;r++)i[t[r]]=e[t[r]];return i}return t&&typeof e=="object"&&(e=e[t]),e},_isValueEquals:function(e,t){var i=this._dataSource&&this._dataSource.key(),r=this._compareValues(e,t);return!r&&i&&Z(e)&&Z(t)&&(Array.isArray(i)?r=this._compareByCompositeKey(e,t,i):r=this._compareByKey(e,t,i)),r},_compareByCompositeKey:function(e,t,i){var r=Ge;if(!r(e)||!r(t))return!1;for(var n=0,a=i.length;n<a;n++)if(e[i[n]]!==t[i[n]])return!1;return!0},_compareByKey:function(e,t,i){var r=or.unwrap,n=di(r(e[i]),e),a=di(r(t[i]),t);return this._compareValues(n,a)},_compareValues:function(e,t){return ki(e,!0)===ki(t,!0)},_initDynamicTemplates:me,_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr:function(){var e=this.option("valueExpr"),t=Ue(e)&&e!=="this"||Re(e);return t?e:null},_dataExpressionOptionChanged:function(e){switch(e.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}}),Ux=at(),Vq=".dx-list-item",$q="dxListItemData",Hq="dx-dropdownlist-popup-wrapper",zq="input",Wq=["startswith","contains","endwith","notcontains"],Gx=Ne.real().platform!=="android",XO=V0.inherit({_supportedKeys:function(){var e=this.callBase();return re({},e,{tab:function(t){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(t);var i=W(this._list.option("focusedElement"));i.length&&this._setSelectedElement(i)}e.tab.apply(this,arguments)},space:me,home:me,end:me})},_allowSelectItemByTab:function(){return this.option("opened")&&this.option("applyValueMode")==="instantly"},_setSelectedElement:function(e){var t=this._valueGetter(this._list._getItemData(e));this._setValue(t)},_setValue:function(e){this.option("value",e)},_getDefaultOptions:function(){return re(this.callBase(),re(jx._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:_e.format("dxCollectionWidget-noDataText"),onSelectionChanged:null,onItemClick:me,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference:function(){this.callBase(),re(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_setListFocusedElementOptionChange:function(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)},_initItems:function(){var e=this.option().items;e&&!e.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new tf("item")})},_isEditable:function(){return this.callBase()||this.option("searchEnabled")},_saveFocusOnWidget:function(e){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange:function(e,t,i){return e>i?t:e<t?i:e},_items:function(){var e=this._getPlainItems(!this._list&&this._dataSource.items()),t=new cr(e).filter("disabled","<>",!0).toArray();return t},_calcNextItem:function(e){var t=this._items(),i=this._fitIntoRange(this._getSelectedIndex()+e,0,t.length-1);return t[i]},_getSelectedIndex:function(){var e=this._items(),t=this.option("selectedItem"),i=-1;return le(e,(function(r,n){if(this._isValueEquals(n,t))return i=r,!1}).bind(this)),i},_createPopup:function(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());var e=this._popup.$content();te.off(e,"mouseup"),te.on(e,"mouseup",this._saveFocusOnWidget.bind(this))},_updateCustomBoundaryContainer:function(){var e=this.option("dropDownOptions.container"),t=e&&W(e);if(t&&t.length&&!wi(t.get(0))){var i=[].slice.call(t.parents());i.unshift(t.get(0)),le(i,(function(r,n){if(n===W("body").get(0))return!1;if(Ux.getComputedStyle(n).overflowY==="hidden")return this._$customBoundaryContainer=W(n),!1}).bind(this))}},_popupWrapperClass:function(){return Hq},_renderInputValue:function(){var e=this._getCurrentValue();return this._rejectValueLoading(),this._loadInputValue(e,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,e))},_loadInputValue:function(e,t){return this._loadItem(e).always(t)},_getItemFromPlain:function(e,t){var i,r;return t&&typeof e!="object"&&(t.itemByValue||(t.itemByValue={},i=this._getPlainItems(),i.forEach(function(n){t.itemByValue[this._valueGetter(n)]=n},this)),r=t.itemByValue[e]),r||(i=this._getPlainItems(),r=hr(i,(function(n){return this._isValueEquals(this._valueGetter(n),e)}).bind(this))[0]),r},_loadItem:function(e,t){var i=this._getItemFromPlain(e,t);return i!==void 0?new pe().resolve(i).promise():this._loadValue(e)},_getPlainItems:function(e){var t=[];e=e||this.option("items")||this._dataSource.items()||[];for(var i=0;i<e.length;i++)e[i]&&e[i].items?t=t.concat(e[i].items):t.push(e[i]);return t},_updateActiveDescendant(){var e,t=this.option("opened"),i=(e=this._list)===null||e===void 0?void 0:e.getFocusedItemId(),r=W("#".concat(i)).length>0,n=t&&r&&i;this.setAria({activedescendant:n||null})},_setSelectedItem:function(e){var t=this._displayValue(e);this.option("selectedItem",di(e,null)),this.option("displayValue",t)},_displayValue:function(e){return this._displayGetter(e)},_refreshSelected:function(){var e={};this._listItemElements().each((function(t,i){var r=W(i),n=this._valueGetter(r.data($q)),a=this._isSelectedValue(n,e);a?this._list.selectItem(r):this._list.unselectItem(r)}).bind(this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){!this.option("focusStateEnabled")||!this._list||this._list.option("focusedElement",null)},_isSelectedValue:function(e){return this._isValueEquals(e,this.option("value"))},_validateSearchMode:function(){var e=this.option("searchMode"),t=e.toLowerCase();if(!Wq.includes(t))throw gt.Error("E1019",e)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._setListDataSource(),this._renderInputValue().fail((function(){this._isCustomValueAllowed()||this._clearSelectedItem()}).bind(this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},reset:function(){this.callBase(),this._clearFilter(),this._clearSelectedItem()},_listItemElements:function(){return this._$list?this._$list.find(Vq):W()},_popupConfig:function(){return re(this.callBase(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})},_renderPopupContent:function(){this.callBase(),this._renderList()},_getKeyboardListeners(){var e=this._canListHaveFocus();return this.callBase().concat([!e&&this._list])},_setAriaTargetForList:function(){this._list._getAriaTarget=this._getAriaTarget.bind(this)},_renderList:function(){this._listId="dx-"+new Ri()._value;var e=this._$list=W("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._list=this._createComponent(e,eo,this._listConfig()),this._refreshList(),this._setAriaTargetForList(),this._list.option("_listAttributes",{role:"combobox"}),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()},_renderPreventBlurOnListClick:function(){var e=xe("mousedown","dxDropDownList");te.off(this._$list,e),te.on(this._$list,e,t=>t.preventDefault())},_renderOpenedState:function(){this.callBase(),this._list&&this._updateActiveDescendant(),this.setAria({controls:this._list&&this._listId,owns:this._popup&&this._popupContentId})},_setDefaultAria:function(){this.setAria({haspopup:"listbox",autocomplete:"list"})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){var e=!!this._list.option("dataSource");return e!==this._needPassDataSourceToList()},_isDesktopDevice:function(){return Ne.real().deviceType==="desktop"},_listConfig:function(){var e={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),hoverStateEnabled:this._isDesktopDevice()?this.option("hoverStateEnabled"):!1,focusStateEnabled:this._isDesktopDevice()?this.option("focusStateEnabled"):!1};return this._canListHaveFocus()||(e.tabIndex=null),e},_canListHaveFocus:()=>!1,_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){return{paginate:!1}},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._dimensionChanged(),this._contentReadyAction()},_setListOption:function(e,t){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(e){this._listItemClickHandler(e),this._itemClickAction(e)},_listItemClickHandler:me,_setListDataSource:function(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_needClearFilter:function(){return this._canKeepDataSource()?!1:this._needPassDataSourceToList()},_canKeepDataSource:function(){var e,t=this._isMinSearchLengthExceeded();return((e=this._dataSource)===null||e===void 0?void 0:e.isLoaded())&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!t&&!this._isLastMinSearchLengthExceeded},_searchValue:function(){return this._input().val()||""},_getSearchEvent:function(){return xe(zq,this.NAME+"Search")},_getCompositionStartEvent:function(){return xe("compositionstart",this.NAME+"CompositionStart")},_getCompositionEndEvent:function(){return xe("compositionend",this.NAME+"CompositionEnd")},_getSetFocusPolicyEvent:function(){return xe("input",this.NAME+"FocusPolicy")},_renderEvents:function(){this.callBase(),te.on(this._input(),this._getSetFocusPolicyEvent(),()=>{this._setFocusPolicy()}),this._shouldRenderSearchEvent()&&(te.on(this._input(),this._getSearchEvent(),e=>{this._searchHandler(e)}),Gx&&(te.on(this._input(),this._getCompositionStartEvent(),()=>{this._isTextCompositionInProgress(!0)}),te.on(this._input(),this._getCompositionEndEvent(),e=>{this._isTextCompositionInProgress(void 0),this._searchHandler(e,this._searchValue())})))},_shouldRenderSearchEvent:function(){return this.option("searchEnabled")},_refreshEvents:function(){te.off(this._input(),this._getSearchEvent()),te.off(this._input(),this._getSetFocusPolicyEvent()),Gx&&(te.off(this._input(),this._getCompositionStartEvent()),te.off(this._input(),this._getCompositionEndEvent())),this.callBase()},_isTextCompositionInProgress:function(e){if(arguments.length)this._isTextComposition=e;else return this._isTextComposition},_searchHandler:function(e,t){if(!this._isTextCompositionInProgress()){if(!this._isMinSearchLengthExceeded()){this._searchCanceled();return}var i=this.option("searchTimeout");i?(this._clearSearchTimer(),this._searchTimer=setTimeout(()=>{this._searchDataSource(t)},i)):this._searchDataSource(t)}},_searchCanceled:function(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._searchValue();this._filterDataSource(e)},_filterDataSource:function(e){this._clearSearchTimer();var t=this._dataSource;t&&(t.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),t.searchOperation(this.option("searchMode")),t.searchValue(e),t.load().done(this._dataSourceFiltered.bind(this,e)))},_clearFilter:function(){var e=this._dataSource;e&&e.searchValue()&&e.searchValue(null)},_dataSourceFiltered:function(){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup:function(){return this._hasItemsToShow()},_refreshPopupVisibility:function(){if(!(this.option("readOnly")||!this._searchValue())){var e=this._shouldOpenPopup();e&&!this._isFocused()||(this.option("opened",e),e&&this._dimensionChanged())}},_dataSourceChangedHandler:function(e){this._dataSource.pageIndex()===0?this.option().items=e:this.option().items=this.option().items.concat(e)},_hasItemsToShow:function(){var e=this._dataSource&&this._dataSource.items()||[],t=e.length,i=this._needPassDataSourceToList();return!!(i&&t)},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._dimensionChanged()},_dimensionChanged:function(){this.callBase(arguments),this._popup&&this._updatePopupDimensions()},_needPopupRepaint:function(){if(!this._dataSource)return!1;var e=this._dataSource.pageIndex(),t=Z(this._pageIndex)&&e<=this._pageIndex||this._dataSource.isLastPage()&&!this._list._scrollViewIsFull();return this._pageIndex=e,t},_updatePopupDimensions:function(){this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions()},_getMaxHeight:function(){var e=this.$element(),t=this._$customBoundaryContainer,i=e.offset().top-(t?t.offset().top:0),r=Ct(Ux),n=t?Math.min(Ct(t),r):r,a=Math.max(i,n-i-Ct(e));return Math.min(.5*n,a)},_clean:function(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_setSubmitValue:function(){var e=this.option("value"),t=this._shouldUseDisplayValue(e)?this._displayGetter(e):e;this._getSubmitElement().val(t)},_shouldUseDisplayValue:function(e){return this.option("valueExpr")==="this"&&Ge(e)},_optionChanged:function(e){switch(this._dataExpressionOptionChanged(e),e.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(e.name,e.value),this.callBase(e);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"useItemTextAsTitle":this._setListOption(e.name);break;case"displayValue":this.option("text",e.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":e.previousValue!==e.value&&this._selectionChangedAction({selectedItem:e.value});break;default:this.callBase(e)}}}).include(jx,gO);yt("dxDropDownList",XO);var jq="dx-radiobutton",Kx="dx-radiobutton-icon",Uq="dx-radiobutton-icon-dot",Gq="dx-radiobutton-checked",Kq="dx-radiobutton-icon-checked",YO=ln.inherit({_supportedKeys:function(){return re(this.callBase(),{space:function(e){e.preventDefault(),this._clickAction({event:e})}})},_getDefaultOptions:function(){return re(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1})},_canValueBeChangedByClick:function(){return!0},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ne.real().deviceType==="desktop"&&!Ne.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this.$element().addClass(jq)},_initMarkup:function(){this.callBase(),this._renderIcon(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")},_renderIcon:function(){this._$icon=W("<div>").addClass(Kx),W("<div>").addClass(Uq).appendTo(this._$icon),this.$element().append(this._$icon)},_renderCheckedState:function(e){this.$element().toggleClass(Gq,e).find("."+Kx).toggleClass(Kq,e),this.setAria("checked",e)},_renderClick:function(){var e=xe(Pt,this.NAME);this._clickAction=this._createAction((function(t){this._clickHandler(t.event)}).bind(this)),te.off(this.$element(),e),te.on(this.$element(),e,(function(t){this._clickAction({event:t})}).bind(this))},_clickHandler:function(e){this._saveValueChangeEvent(e),this.option("value",!0)},_optionChanged:function(e){switch(e.name){case"value":this._renderCheckedState(e.value),this.callBase(e);break;default:this.callBase(e)}}});yt("dxRadioButton",YO);var $0="dxListEditDecorator",qq=xe(wf,$0),Xq=xe(xf,$0),Yq=xe(gd,$0),Zq=wt.inherit({ctor:function(e){this._list=e,this._init()},_init:me,_shouldHandleSwipe:!1,_attachSwipeEvent:function(e){var t={itemSizeFunc:(function(){return this._clearSwipeCache&&(this._itemWidthCache=Ze(this._list.$element()),this._clearSwipeCache=!1),this._itemWidthCache}).bind(this)};te.on(e.$itemElement,qq,t,this._itemSwipeStartHandler.bind(this)),te.on(e.$itemElement,Xq,this._itemSwipeUpdateHandler.bind(this)),te.on(e.$itemElement,Yq,this._itemSwipeEndHandler.bind(this))},_itemSwipeStartHandler:function(e){var t=W(e.currentTarget);if(t.is(".dx-state-disabled, .dx-state-disabled *")){e.cancel=!0;return}clearTimeout(this._list._inkRippleTimer),this._swipeStartHandler(t,e)},_itemSwipeUpdateHandler:function(e){var t=W(e.currentTarget);this._swipeUpdateHandler(t,e)},_itemSwipeEndHandler:function(e){var t=W(e.currentTarget);this._swipeEndHandler(t,e),this._clearSwipeCache=!0},beforeBag:me,afterBag:me,_commonOptions:function(){return{activeStateEnabled:this._list.option("activeStateEnabled"),hoverStateEnabled:this._list.option("hoverStateEnabled"),focusStateEnabled:this._list.option("focusStateEnabled")}},modifyElement:function(e){this._shouldHandleSwipe&&(this._attachSwipeEvent(e),this._clearSwipeCache=!0)},afterRender:me,handleClick:me,handleKeyboardEvents:me,handleEnterPressing:me,handleContextMenu:me,_swipeStartHandler:me,_swipeUpdateHandler:me,_swipeEndHandler:me,visibilityChange:me,getExcludedSelectors:me,dispose:me}),qx="dx-list-select-decorator-enabled",Jq="dx-list-select-all",Qq="dx-list-select-all-checkbox",eX="dx-list-select-all-label",tX="dx-list-select-checkbox-container",iX="dx-list-select-checkbox",rX="dx-list-select-radiobutton-container",nX="dx-list-select-radiobutton",aX="dx-state-focused",Xx=xe(Pt,"dxListEditDecorator");lG("selection","default",Zq.inherit({_init:function(){this.callBase.apply(this,arguments);var e=this._list.option("selectionMode");this._singleStrategy=e==="single",this._containerClass=this._singleStrategy?rX:tX,this._controlClass=this._singleStrategy?nX:iX,this._controlWidget=this._singleStrategy?YO:Vs,this._list.$element().addClass(qx)},beforeBag:function(e){var t=e.$itemElement,i=e.$container.addClass(this._containerClass),r=W("<div>").addClass(this._controlClass).appendTo(i);new this._controlWidget(r,re(this._commonOptions(),{value:this._isSelected(t),focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:(function(n){n.event&&this._list._saveSelectionChangeEvent(n.event),this._processCheckedState(t,n.value),n.event&&n.event.stopPropagation()}).bind(this)}))},modifyElement:function(e){this.callBase.apply(this,arguments);var t=e.$itemElement,i=this._controlWidget.getInstance(t.find("."+this._controlClass));te.on(t,"stateChanged",(function(r,n){i.option("value",n)}).bind(this))},_updateSelectAllState:function(){this._$selectAll&&this._selectAllCheckBox.option("value",this._list.isSelectAll())},afterRender:function(){this._list.option("selectionMode")==="all"&&(this._$selectAll?this._updateSelectAllState():this._renderSelectAll())},handleKeyboardEvents:function(e,t){var i=!t,r=this._list,n=this._$selectAll,a=r._getLastItemIndex(),s=t&&e===0||i&&e===a,o=!!n;return o&&s?(r.option("focusedElement",n),r.scrollToItem(r.option("focusedElement")),!0):!1},handleEnterPressing:function(e){if(this._$selectAll&&this._$selectAll.hasClass(aX))return e.target=this._$selectAll.get(0),this._list._saveSelectionChangeEvent(e),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value")),!0},_renderSelectAll:function(){var e=this._$selectAll=W("<div>").addClass(Jq),t=this._list,i=t._supportedKeys().downArrow.bind(t);this._selectAllCheckBox=t._createComponent(W("<div>").addClass(Qq).appendTo(e),Vs,{focusStateEnabled:!1,hoverStateEnabled:!1}),this._selectAllCheckBox.registerKeyHandler("downArrow",i),W("<div>").addClass(eX).text(this._list.option("selectAllText")).appendTo(e),this._list.itemsContainer().prepend(e),this._updateSelectAllState(),this._attachSelectAllHandler()},_attachSelectAllHandler:function(){this._selectAllCheckBox.option("onValueChanged",this._selectAllHandler.bind(this)),te.off(this._$selectAll,Xx),te.on(this._$selectAll,Xx,this._selectAllClickHandler.bind(this))},_selectAllHandler:function(e){e.event&&e.event.stopPropagation();var t=this._selectAllCheckBox.option("value");e.event&&this._list._saveSelectionChangeEvent(e.event),t===!0?this._selectAllItems():t===!1&&this._unselectAllItems(),this._list._createActionByOption("onSelectAllValueChanged")({value:t})},_checkSelectAllCapability:function(){var e=this._list,t=e.getDataSource();return e.option("selectAllMode")==="allPages"&&e.option("grouped")&&(!t||!t.group())?(gt.log("W1010"),!1):!0},_selectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.selectAll(this._list.option("selectAllMode")==="page")},_unselectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.deselectAll(this._list.option("selectAllMode")==="page")},_selectAllClickHandler:function(e){this._list._saveSelectionChangeEvent(e),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value"))},_isSelected:function(e){return this._list.isItemSelected(e)},_processCheckedState:function(e,t){t?this._list.selectItem(e):this._list.unselectItem(e)},dispose:function(){this._disposeSelectAll(),this._list.$element().removeClass(qx),this.callBase.apply(this,arguments)},_disposeSelectAll:function(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)}}));var sX=".dx-state-disabled",oX="dx-selectbox",lX="dx-selectbox-popup",uX="dx-selectbox-container",Yx="dx-selectbox-popup-wrapper",H0=XO.inherit({_supportedKeys:function(){var e=this,t=this.callBase(),i=function(n){var a=this._isEditable();a?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(n.preventDefault(),this.reset()),this._savedTextRemoveEvent=n,this._preventSubstitution=!0},r=function(){e.option("searchEnabled")&&e._valueSubstituted()&&e._searchHandler()};return re({},t,{tab:function(){this.option("opened")&&this.option("applyValueMode")==="instantly"&&this._resetCaretPosition(!0),t.tab&&t.tab.apply(this,arguments),this._cancelSearchIfNeed()},upArrow:function(n){if(t.upArrow&&t.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(n),!0},downArrow:function(n){if(t.downArrow&&t.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(n),!0},leftArrow:function(){r(),t.leftArrow&&t.leftArrow.apply(this,arguments)},rightArrow:function(){r(),t.rightArrow&&t.rightArrow.apply(this,arguments)},home:function(){r(),t.home&&t.home.apply(this,arguments)},end:function(){r(),t.end&&t.end.apply(this,arguments)},escape:function(){var n=t.escape&&t.escape.apply(this,arguments);return this._cancelEditing(),n??!0},enter:function(n){var a=this.option("opened"),s=this._input().val().trim(),o=s&&this._list&&!this._list.option("focusedElement");if(!s&&Z(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(n),this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return n.preventDefault(),o&&(a&&this._toggleOpenState(),this._valueChangeEventHandler(n)),a;if(t.enter&&t.enter.apply(this,arguments))return a}},space:function(n){var a=this.option("opened"),s=this.option("searchEnabled"),o=this.option("acceptCustomValue");if(!(!a||s||o))return n.preventDefault(),this._valueChangeEventHandler(n),!0},backspace:i,del:i})},_getDefaultOptions:function(){return re(this.callBase(),{placeholder:_e.format("Select"),fieldTemplate:null,valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating:function(e){Z(e.customItem)||(e.customItem=e.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})},_init:function(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup:function(){this.$element().addClass(oX),this._renderTooltip(),this.callBase(),this._$container.addClass(uX)},_createPopup:function(){this.callBase(),this._popup.$element().addClass(lX),this._popup.$overlayContent().attr("tabindex",-1)},_popupWrapperClass:function(){return this.callBase()+" "+Yx},_cancelEditing:function(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement:function(){var e,t=this._searchValue();if(!t){this._focusListElement(null);return}var{items:i,selectedItem:r}=this.option(),n=this._list._itemElements(),a=(e=i==null?void 0:i.indexOf(r))!==null&&e!==void 0?e:-1,s=a!==-1&&!this._isCustomItemSelected()?n.eq(a):null;this._focusListElement(s)},_renderFocusedElement:function(){if(this._list){var e=this._searchValue();if(!e||this.option("acceptCustomValue")){this._focusListElement(null);return}var t=this._list._itemElements(),i=t.not(sX).eq(0);this._focusListElement(i)}},_focusListElement:function(e){this._preventInputValueRender=!0,this._list.option("focusedElement",qe(e)),delete this._preventInputValueRender},_scrollToSelectedItem:function(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler:function(){this.callBase();var e=this._dataSource&&this._dataSource.paginate();e&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue:function(){return this._renderInputValue(),this._setSubmitValue(),new pe().resolve()},_renderInputValue:function(){return this.callBase().always((function(){this._renderInputValueAsync()}).bind(this))},_renderInputValueAsync:function(){this._renderTooltip(),this._renderInputValueImpl().always((function(){this._refreshSelected()}).bind(this))},_renderInputValueImpl:function(){return this._renderField(),new pe().resolve()},_setNextItem:function(e){var t=this._calcNextItem(e),i=this._valueGetter(t);this._setValue(i)},_setNextValue:function(e){var t=this._dataSource.isLoaded()?new pe().resolve():this._dataSource.load();t.done((function(){var i=this._getSelectedIndex(),r=this._dataSource.pageSize(),n=this._dataSource.isLastPage(),a=i===this._items().length-1;this._saveValueChangeEvent(e);var s=hi(e)==="downArrow"?1:-1;r&&!n&&a&&s>0?(this._popup||this._createPopup(),this._dataSource.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,s))):this._setNextItem(s)}).bind(this))},_setSelectedItem:function(e){var t=!this._isCustomValueAllowed()&&e===void 0;this.callBase(t?null:e),!t&&(!this._isEditable()||this._isCustomItemSelected())&&this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed:function(){return this.option("acceptCustomValue")||this.callBase()},_displayValue:function(e){return e=!Z(e)&&this._isCustomValueAllowed()?this.option("value"):e,this.callBase(e)},_listConfig:function(){var e=re(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&re(e,{showSelectionControls:!0,selectionByClick:!0}),e},_listFocusedItemChangeHandler:function(e){if(!this._preventInputValueRender){var t=e.component,i=W(t.option("focusedElement")),r=t._getItemData(i);this._updateField(r)}},_updateField:function(e){var t=this._getTemplateByOption("fieldTemplate");if(!(t&&this.option("fieldTemplate"))){var i=this._displayGetter(e);this.option("text",i),this._renderDisplayText(i);return}this._renderField()},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):me},_selectionChangeHandler:function(e){le(e.addedItems||[],(function(t,i){this._setValue(this._valueGetter(i))}).bind(this))},_getActualSearchValue:function(){return this._dataSource.searchValue()},_toggleOpenState:function(e){if(!this.option("disabled")){if(e=arguments.length?e:!this.option("opened"),!e&&!this._shouldClearFilter()&&this._restoreInputText(!0),this._wasSearch()&&e){this._wasSearch(!1);var t=this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded();if(t&&this._dataSource){if(this._searchTimer)return;var i=this._getActualSearchValue();i&&this._wasSearch(!0),this._filterDataSource(i||null)}else this._setListOption("items",[])}e&&this._scrollToSelectedItem(),this.callBase(e)}},_renderTooltip:function(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._dimensionChanged()},_isValueEqualInputText:function(){var e=this.option("selectedItem");if(e===null)return!1;var t=this._displayGetter(e),i=t?String(t):"",r=this._searchValue();return i===r},_popupHidingHandler:function(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_popupHiddenHandler:function(){this.callBase(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))},_restoreInputText:function(e){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always((function(){var{acceptCustomValue:t,text:i,selectedItem:r}=this.option();if(t){!e&&!this._isValueChanging&&(this._updateField(r??this._createCustomItem(i)),this._clearFilter());return}if(this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")){this._clearTextValue();return}this._isValueEqualInputText()||this._renderInputValue().always((function(n){var a=di(n,r);this._setSelectedItem(a),this._updateField(a),this._clearFilter()}).bind(this))}).bind(this))},_focusOutHandler:function(e){if(!this._preventNestedFocusEvent(e)){var t=this._isOverlayNestedTarget(e.relatedTarget);t||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(e)}e.target=this._input().get(0),this.callBase(e)},_cancelSearchIfNeed:function(e){var{searchEnabled:t}=this.option(),i=this._isOverlayNestedTarget(e==null?void 0:e.relatedTarget),r=this._wasSearch()&&t&&!i;if(r){var n,a=(n=this._popup)===null||n===void 0?void 0:n._hideAnimationProcessing;this._clearSearchTimer(),a?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}},_shouldCancelSearch:function(e){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=e},_isOverlayNestedTarget:function(e){return!!W(e).closest(".".concat(Yx)).length},_clearTextValue:function(){this.option("selectedItem")&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent},_shouldOpenPopup:function(){return this._needPassDataSourceToList()&&this._wasSearch()},_isFocused:function(){var e=we.getActiveElement();return this.callBase()&&W(e).closest(this._input()).length>0},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_fieldRenderData:function(){var e=this._list&&this.option("opened")&&W(this._list.option("focusedElement"));return e&&e.length?this._list._getItemData(e):this.option("selectedItem")},_isSelectedValue:function(e){return this._isValueEquals(e,this.option("value"))},_shouldCloseOnItemClick:function(){return!(this.option("showSelectionControls")&&this.option("selectionMode")!=="single")},_listItemClickHandler:function(e){var t=this._getCurrentValue();this._focusListElement(W(e.itemElement)),this._saveValueChangeEvent(e.event),this._completeSelection(this._valueGetter(e.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&t===this._valueGetter(e.itemData)&&this._updateField(e.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()},_shouldClearFilter:function(){return this._wasSearch()},_completeSelection:function(e){this._setValue(e)},_loadItem:function(e,t){var i=this,r=new pe;return this.callBase(e,t).done((function(n){r.resolve(n)}).bind(this)).fail((function(n){if(!(n!=null&&n.shouldSkipCallback)){var a=i.option("selectedItem");i.option("acceptCustomValue")&&e===i._valueGetter(a)?r.resolve(a):r.reject()}}).bind(this)),r.promise()},_loadInputValue:function(e,t){return this._loadItemDeferred=this._loadItem(e).always(t),this._loadItemDeferred},_isCustomItemSelected:function(){var e=this.option("selectedItem"),t=this._searchValue(),i=this._displayGetter(e);return!i||t!==i.toString()},_valueChangeEventHandler:function(e){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(e))},_initCustomItemCreatingAction:function(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem:function(e){var t={text:e},i=this._customItemCreatingAction(t),r=di(i,t.customItem);return Z(i)&&$t.log("W0015","onCustomItemCreating","customItem"),r},_customItemAddedHandler:function(e){var t=this._searchValue(),i=this._createCustomItem(t);if(this._saveValueChangeEvent(e),i===void 0)throw this._renderValue(),$t.Error("E0121");Nu(i)?Hi(i).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(i)},_setCustomItem:function(e){this._disposed||(e=e||null,this.option("selectedItem",e),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(e)),this._renderDisplayText(this._displayGetter(e)),this._isValueChanging=!1)},_clearValueHandler:function(e){return this._preventFiltering=!0,this.callBase(e),this._searchCanceled(),!1},_wasSearch:function(e){if(!arguments.length)return!!this._wasSearchValue;this._wasSearchValue=e},_searchHandler:function(){if(this._preventFiltering){delete this._preventFiltering;return}this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(arguments)},_dataSourceFiltered:function(e){this.callBase(),e!==null&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted:function(){var e=this._input().get(0),t=this._searchValue().length,i=e.selectionStart===0&&e.selectionEnd===t,r=e.selectionStart!==e.selectionEnd,n=t===e.selectionEnd;return this._wasSearch()&&r&&!i&&n&&this._shouldSubstitutionBeRendered()},_shouldSubstitutionBeRendered:function(){return!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&this.option("searchMode")==="startswith"},_renderInputSubstitution:function(){if(!this._shouldSubstitutionBeRendered()){delete this._preventSubstitution;return}var e=this._list&&this._getPlainItems(this._list.option("items"))[0];if(e){var t=this._input(),i=t.val().length;if(i!==0){var r=t.get(0),n=this._displayGetter(e).toString();r.value=n,this._caret({start:i,end:n.length})}}},_dispose:function(){this._renderInputValueAsync=me,delete this._loadItemDeferred,this.callBase()},_optionChanged:function(e){switch(e.name){case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:this.callBase(e)}}});yt("dxSelectBox",H0);var Zx=e=>e.getMonth()+1,Jx=(e,t)=>{var i=e.getDate(),r=ku("M",e),n=Ji(parseInt(t),r.min,r.max);e.setMonth(n-1,1);var{min:a,max:s}=ku("dM",e),o=Ji(i,a,s);e.setDate(o)},dX={a:e=>e.getHours()<12?0:1,E:"getDay",y:"getFullYear",M:Zx,L:Zx,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"},hX=re({},F6(),{a:(e,t)=>{var i=e.getHours(),r=i>=12;r!==!!parseInt(t)&&e.setHours((i+12)%24)},d:(e,t)=>{var i=ku("dM",e).max;t>i&&e.setMonth(e.getMonth()+1),e.setDate(t)},h:(e,t)=>{var i=e.getHours()>=12;e.setHours(+t%12+(i?12:0))},M:Jx,L:Jx,E:(e,t)=>{t<0||e.setDate(e.getDate()-e.getDay()+parseInt(t))},y:(e,t)=>{var i=e.getFullYear(),r=String(t).length,n=String(ku("y",e).max).length,a=parseInt(String(i).substr(0,n-r)+t);e.setFullYear(a)}}),cX=e=>dX[e]||(()=>e),fX=(e,t)=>{for(var i=t.regexp.exec(e),r=0,n=0,a=[],s=function(l){r=n,n=r+i[l].length;var u=t.patterns[l-1].replace(/^'|'$/g,""),d=cX(u[0]);a.push({index:l-1,isStub:u===i[l],caret:{start:r,end:n},pattern:u,text:i[l],limits:function(){for(var c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];return ku(u[0],...h)},setter:hX[u[0]]||me,getter:d})},o=1;o<i.length;o++)s(o);return a},ku=(e,t,i)=>{var r={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:0,max:23},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1}};return r[i||e]||r.getAmPm},pX=(e,t)=>{for(var i=0;i<e.length;i++){var r=e[i].caret.end>=t;if(!e[i].isStub&&r)return i}return null},Dm=["year","day","month","day"],Qx=["hours","minutes","seconds","milliseconds"],ZO=6e4,JO=60*ZO*24,mX=365*JO,gX=function(e){var t=typeof e;return t==="string"?"format":t==="object"&&e.type!==void 0?e.type:null},Lt={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:ZO,ONE_DAY:JO,ONE_YEAR:mX,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:function(){var e=new Date;return new Date(e.getFullYear()+50,e.getMonth(),e.getDate(),23,59,59)}(),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:Dm},time:{getStandardPattern:function(){return"HH:mm"},components:Qx},datetime:{getStandardPattern:function(){var e;return function(){var t=W("<input>").attr("type","datetime");t.val("2000-01-01T01:01Z"),t.val()&&(e="yyyy-MM-ddTHH:mmZ")}(),e||(e="yyyy-MM-ddTHH:mm:ssZ"),Lt.FORMATS_INFO.datetime.getStandardPattern=function(){return e},e},components:[...Dm,...Qx]},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:[...Dm,"hours","minutes","seconds"]}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(e,t){var i=Lt.FORMATS_INFO[t].getStandardPattern();return Mi.serializeDate(e,i)},fromStandardDateFormat:function(e){var t=Mi.dateParser(e);return tr(t)?t:void 0},getMaxMonthDay:function(e,t){return new Date(e,t+1,0).getDate()},mergeDates:function(e,t,i){if(!t)return t||null;if(!e||isNaN(e.getTime())){var r=new Date(null);e=new Date(r.getFullYear(),r.getMonth(),r.getDate())}var n=new Date(e.valueOf()),a=Lt.FORMATS_INFO[i];return le(a.components,function(){var s=Lt.DATE_COMPONENTS_INFO[this];n[s.setter](t[s.getter]())}),n},getLongestCaptionIndex:function(e){var t=0,i=0,r;for(r=0;r<e.length;++r)e[r].length>i&&(t=r,i=e[r].length);return t},formatUsesMonthName:function(e){return ut.formatUsesMonthName(e)},formatUsesDayName:function(e){return ut.formatUsesDayName(e)},getLongestDate:function(e,t,i){var r=gX(e),n=9;(!r||Lt.formatUsesMonthName(r))&&(n=Lt.getLongestCaptionIndex(t));var a=new Date(1888,n,21,23,59,59,999);if(!r||Lt.formatUsesDayName(r)){var s=a.getDate()-a.getDay()+Lt.getLongestCaptionIndex(i);a.setDate(s)}return a},normalizeTime:function(e){e.setSeconds(0),e.setMilliseconds(0)}};Lt.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(e,t){var i=new Date(t.getTime());return i.setFullYear(e),ut.format(i,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(e,t){var i=new Date(t.getTime());return i.setDate(e),ut.format(i,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(e){return ut.getMonthNames()[e]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(e){return ut.format(new Date(0,0,0,e),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(e){return ut.format(new Date(0,0,0,0,e),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(e){return ut.format(new Date(0,0,0,0,0,e),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(e){return ut.format(new Date(0,0,0,0,0,0,e),"millisecond")},startValue:0,endValue:999}};var QO="dxSwipeable",vX="dx-swipeable",_X={onStart:wf,onUpdated:xf,onEnd:gd,onCancel:"dxswipecancel"},Mc=Dn.inherit({_getDefaultOptions:function(){return re(this.callBase(),{elastic:!0,immediate:!1,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass(vX),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),!this.option("disabled")){var e=this.NAME;this._createEventData(),le(_X,(function(t,i){var r=this._createActionByOption(t,{context:this});i=xe(i,e),te.on(this.$element(),i,this._eventData,function(n){return r({event:n})})}).bind(this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate")}},_detachEventHandlers:function(){te.off(this.$element(),"."+QO)},_optionChanged:function(e){switch(e.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(e)}},_useTemplates:function(){return!1}});Wu(Mc,QO);var bX="dx-calendar-navigator",yX="dx-calendar-navigator-previous-month",CX="dx-calendar-navigator-next-month",wX="dx-calendar-navigator-previous-view",xX="dx-calendar-navigator-next-view",SX="dx-calendar-disabled-navigator-link",EX="dx-calendar-caption-button",IX=Fi.inherit({_getDefaultOptions:function(){return re(this.callBase(),{onClick:null,onCaptionClick:null,text:""})},_init:function(){this.callBase(),this._initActions()},_initActions:function(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")},_initMarkup:function(){this.callBase(),this.$element().addClass(bX),this._renderButtons(),this._renderCaption()},_renderButtons:function(){var e=this,t=this.option("rtlEnabled")?-1:1;this._prevButton=this._createComponent(W("<a>"),Ki,{focusStateEnabled:!1,icon:"chevronleft",onClick:function(a){e._clickAction({direction:-t,event:a})},integrationOptions:{}});var i=this._prevButton.$element().addClass(wX).addClass(yX);this._nextButton=this._createComponent(W("<a>"),Ki,{focusStateEnabled:!1,icon:"chevronright",onClick:function(a){e._clickAction({direction:t,event:a})},integrationOptions:{}});var r=this._nextButton.$element().addClass(xX).addClass(CX);this._caption=this._createComponent(W("<a>").addClass(EX),Ki,{focusStateEnabled:!1,onClick:function(a){e._captionClickAction({event:a})},integrationOptions:{}});var n=this._caption.$element();this.$element().append(i,n,r)},_renderCaption:function(){this._caption.option("text",this.option("text"))},toggleButton:function(e,t){var i="_"+e+"Button",r=this[i];r&&(r.option("disabled",t),r.$element().toggleClass(SX,t))},_optionChanged:function(e){switch(e.name){case"text":this._renderCaption();break;default:this.callBase(e)}}}),{abstract:ma}=Fi,TX="dx-calendar-other-view",AX="dx-calendar-cell",e1="dx-calendar-empty-cell",OX="dx-calendar-today",t1="dx-calendar-selected-date",Rm="dx-calendar-contoured-date",i1=xe(Pt,"dxCalendar"),r1="dxDateValueKey",ch=Fi.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return re(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:()=>new Date})},_initMarkup:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderEvents()},_createTable:function(){return this._$table=W("<table>"),this.setAria({label:_e.format("dxCalendar-ariaWidgetName"),role:"grid"},this._$table),this._$table},_renderBody:function(){this.$body=W("<tbody>").appendTo(this._$table);for(var e={cellDate:this._getFirstCellData(),prevCellDate:null},t=0,i=this.option("rowCount");t<i;t++){e.row=this._createRow();for(var r=0,n=this.option("colCount");r<n;r++)this._renderCell(e,r)}},_createRow:function(){var e=we.createElement("tr");return this.setAria("role","row",W(e)),this.$body.get(0).appendChild(e),e},_appendCell:function(e,t){this._appendMethodName||this._cacheAppendMethodName(),W(e)[this._appendMethodName](t)},_cacheAppendMethodName:function(e){this._appendMethodName=e??this.option("rtlEnabled")?"prepend":"append"},_createCell:function(e){var t=we.createElement("td"),i=W(t);return t.className=this._getClassNameByDate(e),t.setAttribute("data-value",Mi.serializeDate(e,Ke.getShortDateFormat())),ui(t,r1,e),this.setAria({role:"gridcell",label:this.getCellAriaLabel(e)},i),{cell:t,$cell:i}},_renderCell:function(e,t){var{cellDate:i,prevCellDate:r,row:n}=e;r&&Ke.fixTimezoneGap(r,i),e.prevCellDate=i;var{cell:a,$cell:s}=this._createCell(i),o=this.option("cellTemplate");this._appendCell(n,a),o?o.render(this._prepareCellTemplateData(i,t,s)):a.innerHTML=this._getCellText(i),e.cellDate=this._getNextCellData(i)},_getClassNameByDate:function(e){var t=AX;return this._isTodayCell(e)&&(t+=" ".concat(OX)),(this._isDateOutOfRange(e)||this.isDateDisabled(e))&&(t+=" ".concat(e1)),this._isOtherView(e)&&(t+=" ".concat(TX)),t},_prepareCellTemplateData:function(e,t,i){return{model:{text:this._getCellText(e),date:e,view:this._getViewName()},container:qe(i),index:t}},_renderEvents:function(){this._createCellClickAction(),te.off(this._$table,i1),te.on(this._$table,i1,"td",e=>{W(e.currentTarget).hasClass(e1)||this._cellClickAction({event:e,value:W(e.currentTarget).data(r1)})})},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_createDisabledDatesHandler:function(){var e=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(e)?this._getDefaultDisabledDatesHandler(e):e||me},_getDefaultDisabledDatesHandler:function(e){return me},_isTodayCell:ma,_isDateOutOfRange:ma,isDateDisabled:function(e){var t={date:e,view:this._getViewName()};return this._disabledDatesHandler(t)},_isOtherView:ma,_getCellText:ma,_getFirstCellData:ma,_getNextCellData:ma,_renderContouredDate:function(e){if(this.option("focusStateEnabled")){e=e||this.option("contouredDate");var t=this._getContouredCell(),i=this._getCellByDate(e);t.removeClass(Rm),i.addClass(Rm)}},_getContouredCell:function(){return this._$table.find(".".concat(Rm))},_changeValue:function(e){if(e){var t=this.option("value"),i=t?new Date(t):new Date;i.setDate(e.getDate()),i.setMonth(e.getMonth()),i.setFullYear(e.getFullYear()),i.setDate(e.getDate()),this.option("value",i)}else this.option("value",null)},_renderValue:function(){if(this.option("allowValueSelection")){var e=this.option("value"),t=this._getCellByDate(e);this._selectedCell&&this._selectedCell.removeClass(t1),t.addClass(t1),this._selectedCell=t}},getCellAriaLabel:function(e){return this._getCellText(e)},_getFirstAvailableDate:function(){var e=this.option("date"),t=this.option("min");return e=Ke.getFirstDateView(this._getViewName(),e),new Date(t&&e<t?t:e)},_getCellByDate:ma,isBoundary:ma,_optionChanged:function(e){var{name:t,value:i}=e;switch(t){case"value":this._renderValue();break;case"contouredDate":this._renderContouredDate(i);break;case"onCellClick":this._createCellClickAction();break;case"disabledDates":case"cellTemplate":this._invalidate();break;case"rtlEnabled":this._cacheAppendMethodName(i),this.callBase(e);break;case"_todayDate":this._renderBody();break;default:this.callBase(e)}}}),DX="dx-calendar-other-month",RX="dx-calendar-other-view",kX={month:ch.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return re(this.callBase(),{firstDayOfWeek:void 0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find(".".concat(RX)).addClass(DX)},_renderFocusTarget:me,getCellAriaLabel:function(e){return ut.format(e,"longdate")},_renderHeader:function(){var e=W("<tr>"),t=W("<thead>").append(e);this._$table.prepend(t);for(var i=0,r=this.option("colCount");i<r;i++)this._renderHeaderCell(i,e)},_renderHeaderCell:function(e,t){var{full:i,abbreviated:r}=this._getDayCaption(this._getFirstDayOfWeek()+e),n=W("<th>").attr({scope:"col",abbr:i}).text(r);this._appendCell(t,n)},getNavigatorCaption:function(){return ut.format(this.option("date"),"monthandyear")},_isTodayCell:function(e){var t=this.option("_todayDate")();return Ke.sameDate(e,t)},_isDateOutOfRange:function(e){var t=this.option("min"),i=this.option("max");return!Ke.dateInRange(e,t,i,"date")},_isOtherView:function(e){return e.getMonth()!==this.option("date").getMonth()},_getCellText:function(e){return ut.format(e,"d")},_getDayCaption:function(e){var t=this.option("colCount"),i=e%t;return{full:ut.getDayNames()[i],abbreviated:ut.getDayNames("abbreviated")[i]}},_getFirstCellData:function(){var e=Ke.getFirstMonthDate(this.option("date")),t=this._getFirstDayOfWeek()-e.getDay(),i=this.option("colCount");return t>=0&&(t-=i),e.setDate(e.getDate()+t),e},_getNextCellData:function(e){return e=new Date(e),e.setDate(e.getDate()+1),e},_getFirstDayOfWeek:function(){return Z(this.option("firstDayOfWeek"))?this.option("firstDayOfWeek"):ut.firstDayOfWeekIndex()},_getCellByDate:function(e){return this._$table.find("td[data-value='".concat(Mi.serializeDate(e,Ke.getShortDateFormat()),"']"))},isBoundary:function(e){return Ke.sameMonthAndYear(e,this.option("min"))||Ke.sameMonthAndYear(e,this.option("max"))},_getDefaultDisabledDatesHandler:function(e){return function(t){var i=e.some(function(r){return Ke.sameDate(r,t.date)});if(i)return!0}}}),year:ch.inherit({_getViewName:function(){return"year"},_isTodayCell:function(e){var t=this.option("_todayDate")();return Ke.sameMonthAndYear(e,t)},_isDateOutOfRange:function(e){return!Ke.dateInRange(e,Ke.getFirstMonthDate(this.option("min")),Ke.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_getCellText:function(e){return ut.getMonthNames("abbreviated")[e.getMonth()]},_getFirstCellData:function(){var e=this.option("date"),t=new Date(e);return t.setDate(1),t.setMonth(0),t},_getNextCellData:function(e){return e=new Date(e),e.setMonth(e.getMonth()+1),e},_getCellByDate:function(e){var t=new Date(e);return t.setDate(1),this._$table.find("td[data-value='".concat(Mi.serializeDate(t,Ke.getShortDateFormat()),"']"))},getCellAriaLabel:function(e){return ut.format(e,"monthandyear")},getNavigatorCaption:function(){return ut.format(this.option("date"),"yyyy")},isBoundary:function(e){return Ke.sameYear(e,this.option("min"))||Ke.sameYear(e,this.option("max"))}}),decade:ch.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(e){var t=this.option("_todayDate")();return Ke.sameYear(e,t)},_isDateOutOfRange:function(e){var t=this.option("min"),i=this.option("max");return!Ke.dateInRange(e.getFullYear(),t&&t.getFullYear(),i&&i.getFullYear())},_isOtherView:function(e){var t=new Date(e);return t.setMonth(1),!Ke.sameDecade(t,this.option("date"))},_getCellText:function(e){return ut.format(e,"yyyy")},_getFirstCellData:function(){var e=Ke.getFirstYearInDecade(this.option("date"))-1;return Ke.createDateWithFullYear(e,0,1)},_getNextCellData:function(e){return e=new Date(e),e.setFullYear(e.getFullYear()+1),e},getNavigatorCaption:function(){var e=this.option("date"),t=Ke.getFirstYearInDecade(e),i=new Date(e),r=new Date(e);return i.setFullYear(t),r.setFullYear(t+9),ut.format(i,"yyyy")+"-"+ut.format(r,"yyyy")},_isValueOnCurrentView:function(e,t){return Ke.sameDecade(e,t)},_getCellByDate:function(e){var t=new Date(e);return t.setDate(1),t.setMonth(0),this._$table.find("td[data-value='".concat(Mi.serializeDate(t,Ke.getShortDateFormat()),"']"))},isBoundary:function(e){return Ke.sameDecade(e,this.option("min"))||Ke.sameDecade(e,this.option("max"))}}),century:ch.inherit({_getViewName:function(){return"century"},_isTodayCell:function(e){var t=this.option("_todayDate")();return Ke.sameDecade(e,t)},_isDateOutOfRange:function(e){var t=Ke.getFirstYearInDecade(e),i=Ke.getFirstYearInDecade(this.option("min")),r=Ke.getFirstYearInDecade(this.option("max"));return!Ke.dateInRange(t,i,r)},_isOtherView:function(e){var t=new Date(e);return t.setMonth(1),!Ke.sameCentury(t,this.option("date"))},_getCellText:function(e){var t=ut.format(e,"yyyy"),i=new Date(e);return i.setFullYear(i.getFullYear()+9),t+" - "+ut.format(i,"yyyy")},_getFirstCellData:function(){var e=Ke.getFirstDecadeInCentury(this.option("date"))-10;return Ke.createDateWithFullYear(e,0,1)},_getNextCellData:function(e){return e=new Date(e),e.setFullYear(e.getFullYear()+10),e},_getCellByDate:function(e){var t=new Date(e);return t.setDate(1),t.setMonth(0),t.setFullYear(Ke.getFirstYearInDecade(t)),this._$table.find("td[data-value='".concat(Mi.serializeDate(t,Ke.getShortDateFormat()),"']"))},getNavigatorCaption:function(){var e=this.option("date"),t=Ke.getFirstDecadeInCentury(e),i=new Date(e),r=new Date(e);return i.setFullYear(t),r.setFullYear(t+99),ut.format(i,"yyyy")+"-"+ut.format(r,"yyyy")},isBoundary:function(e){return Ke.sameCentury(e,this.option("min"))||Ke.sameCentury(e,this.option("max"))}})},MX="dx-calendar",BX="dx-calendar-body",PX="dx-calendar-cell",FX="dx-calendar-footer",LX="dx-calendar-today-button",NX="dx-calendar-with-footer",VX="dx-calendar-views-wrapper",n1="dx-calendar-view",$X="dx-state-focused",km=250,HX=.6,zX=1,WX="yyyy-MM-dd",jX="dxDateValueKey",wo={month:3,year:2,decade:1,century:0},Xi={MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century"};function UX(e){return e.hasClass($X)}var eD=ln.inherit({_activeStateUnit:"."+PX,_getDefaultOptions:function(){return re(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,zoomLevel:Xi.MONTH,maxZoomLevel:Xi.MONTH,minZoomLevel:Xi.CENTURY,showTodayButton:!1,cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:()=>new Date})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ne.real().deviceType==="desktop"&&!Ne.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return re(this.callBase(),{rightArrow:function(e){e.preventDefault(),Pi(e)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow:function(e){e.preventDefault(),Pi(e)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow:function(e){if(e.preventDefault(),Pi(e))this._navigateUp();else{if(fi.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow:function(e){if(e.preventDefault(),Pi(e))this._navigateDown();else{if(fi.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home:function(e){e.preventDefault();var t=this.option("zoomLevel"),i=this.option("currentDate"),r=this._dateOption("min");if(!this._view.isDateDisabled(i)){var n=Ke.sameView(t,i,r)?r:Ke.getViewFirstCellDate(t,i);this._moveToClosestAvailableDate(n)}},end:function(e){e.preventDefault();var t=this.option("zoomLevel"),i=this.option("currentDate"),r=this._dateOption("max");if(!this._view.isDateDisabled(i)){var n=Ke.sameView(t,i,r)?r:Ke.getViewLastCellDate(t,i);this._moveToClosestAvailableDate(n)}},pageUp:function(e){e.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown:function(e){e.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab:me,enter:function(e){if(!this._isMaxZoomLevel())this._navigateDown();else if(!this._view.isDateDisabled(this.option("currentDate"))){var t=this._updateTimeComponent(this.option("currentDate"));this._dateValue(t,e)}}})},_getSerializationFormat:function(e){var t=this.option(e||"value");if(this.option("dateSerializationFormat"))return this.option("dateSerializationFormat");if(Kt(t))return"number";if(Ue(t))return Mi.getDateSerializationFormat(t)},_convertToDate:function(e,t){return Mi.deserializeDate(e)},_dateValue:function(e,t){if(t){if(t.type==="keydown"){var i=this._view._getContouredCell().get(0);t.target=i}this._saveValueChangeEvent(t)}this._dateOption("value",e)},_dateOption:function(e,t){if(arguments.length===1)return this._convertToDate(this.option(e),e);var i=this._getSerializationFormat(e);this.option(e,Mi.serializeDate(t,i))},_shiftDate:function(e,t,i,r){switch(e){case Xi.MONTH:t.setDate(t.getDate()+i*r);break;case Xi.YEAR:t.setMonth(t.getMonth()+i*r);break;case Xi.DECADE:t.setFullYear(t.getFullYear()+i*r);break;case Xi.CENTURY:t.setFullYear(t.getFullYear()+10*i*r)}},_moveCurrentDateByOffset:function(e){var t=this.option("currentDate"),i=new Date(t),r=this.option("zoomLevel");this._shiftDate(r,i,e,1);for(var n=this._getMaxDate(),a=this._getMinDate(),s=this._areDatesInNeighborView(r,i,t),o=Xn(i,a,n)&&s,l=new Date(i);o;){if(!this._view.isDateDisabled(l)){i=l;break}this._shiftDate(r,l,e,1),s=this._areDatesInNeighborView(r,l,t),o=Xn(l,a,n)&&s}this._view.isDateDisabled(t)||this._view.isDateDisabled(i)?this._waitRenderView(e>0?1:-1):this.option("currentDate",i)},_areDatesInSameView(e,t,i){switch(e){case Xi.MONTH:return t.getMonth()===i.getMonth();case Xi.YEAR:return t.getYear()===i.getYear();case Xi.DECADE:return parseInt(t.getYear()/10)===parseInt(i.getYear()/10);case Xi.CENTURY:return parseInt(t.getYear()/100)===parseInt(i.getYear()/100)}},_areDatesInNeighborView(e,t,i){switch(e){case Xi.MONTH:return r=t.getMonth(),n=i.getMonth(),a=Math.abs(r-n),Math.min(a,12-a)<=1;case Xi.YEAR:return Math.abs(t.getYear()-i.getYear())<=1;case Xi.DECADE:return Math.abs(t.getYear()-i.getYear())<=10;case Xi.CENTURY:return Math.abs(t.getYear()-i.getYear())<=100}var r,n,a},_moveToClosestAvailableDate:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.option("currentDate"),t=new Date(e),i=this.option("zoomLevel"),r=!this._isDateNotAvailable(t),n=r,a=r,s,o,l=new Date(t),u=new Date(t);do{if(n){t=l;break}if(a){t=u;break}this._shiftDate(i,l,1,1),this._shiftDate(i,u,1,-1),s=this._areDatesInSameView(i,l,e),o=this._areDatesInSameView(i,u,e),n=s&&!this._isDateNotAvailable(l),a=o&&!this._isDateNotAvailable(u)}while(s||o);this.option("currentDate",t)},_isDateNotAvailable:function(e){var t=this._getMaxDate(),i=this._getMinDate();return!Xn(e,i,t)||this._view.isDateDisabled(e)},_init:function(){this.callBase(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_correctZoomLevel:function(){var e=this.option("minZoomLevel"),t=this.option("maxZoomLevel"),i=this.option("zoomLevel");wo[t]<wo[e]||(wo[i]>wo[t]?this.option("zoomLevel",t):wo[i]<wo[e]&&this.option("zoomLevel",e))},_initCurrentDate:function(){var e=this._getNormalizedDate(this._dateOption("value"))||this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",e)},_getNormalizedDate:function(e){return e=Ke.normalizeDate(e,this._getMinDate(),this._getMaxDate()),Z(e)?this._getDate(e):e},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates:function(){this._templateManager.addDefaultTemplates({cell:new Jo(function(e){var t=e.model;W(e.container).append(W("<span>").text(t&&t.text||String(t)))})}),this.callBase()},_updateCurrentDate:function(e){fi.isAnimating(this._$viewsWrapper)&&fi.stop(this._$viewsWrapper,!0);var t=this._getMinDate(),i=this._getMaxDate();if(t>i){this.option("currentDate",new Date);return}var r=this._getNormalizedDate(e);if(e.getTime()!==r.getTime()){this.option("currentDate",new Date(r));return}var n=this._getViewsOffset(this._view.option("date"),r);n!==0&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(n=0),this._view&&n!==0&&!this._suppressNavigation?this._navigate(n,r):(this._renderNavigator(),this._setViewContoured(r),this._updateAriaId(r))},_setViewContoured:function(e){(this.option("skipFocusCheck")||UX(this._focusTarget()))&&this._view.option("contouredDate",e)},_getMinDate:function(){return this.min?this.min:(this.min=this._dateOption("min")||new Date(1e3,0),this.min)},_getMaxDate:function(){return this.max?this.max:(this.max=this._dateOption("max")||new Date(3e3,0),this.max)},_getViewsOffset:function(e,t){var i=this.option("zoomLevel");if(i===Xi.MONTH)return this._getMonthsOffset(e,t);var r;switch(i){case Xi.CENTURY:r=100;break;case Xi.DECADE:r=10;break;default:r=1}return parseInt(t.getFullYear()/r)-parseInt(e.getFullYear()/r)},_getMonthsOffset:function(e,t){var i=t.getFullYear()-e.getFullYear(),r=t.getMonth()-e.getMonth();return 12*i+r},_waitRenderView:function(e){if(!this._alreadyViewRender){this._alreadyViewRender=!0;var t=this._getDateByOffset(e*this._getRtlCorrection());this._moveToClosestAvailableDate(t),this._waitRenderViewTimeout=setTimeout(()=>{this._alreadyViewRender=!1})}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(e,t){var i;t=this._getDate((i=t)!==null&&i!==void 0?i:this.option("currentDate"));var r=t.getDate(),n=Ke.getDifferenceInMonth(this.option("zoomLevel"))*e;t.setDate(1),t.setMonth(t.getMonth()+n);var a=Ke.getLastMonthDate(t).getDate();return t.setDate(r>a?a:r),t},_focusTarget:function(){return this.$element()},_initMarkup:function(){this._renderSubmitElement(),this.callBase();var e=this.$element();e.addClass(MX),this._renderBody(),e.append(this.$body),this._renderViews(),this._renderNavigator(),e.append(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._updateAriaSelected(),this._updateAriaId(),this._moveToClosestAvailableDate()},_render:function(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){this._$viewsWrapper||(this.$body=W("<div>").addClass(BX),this._$viewsWrapper=W("<div>").addClass(VX),this.$body.append(this._$viewsWrapper))},_getKeyboardListeners(){return this.callBase().concat([this._view])},_renderViews:function(){this.$element().addClass(n1+"-"+this.option("zoomLevel"));var e=this.option("currentDate");if(this._view=this._renderSpecificView(e),rt()){var t=this._getDateByOffset(-1,e);this._beforeView=this._isViewAvailable(t)?this._renderSpecificView(t):null;var i=this._getDateByOffset(1,e);i.setDate(1),this._afterView=this._isViewAvailable(i)?this._renderSpecificView(i):null}this._translateViews()},_renderSpecificView:function(e){var t=kX[this.option("zoomLevel")],i=W("<div>").appendTo(this._$viewsWrapper),r=this._viewConfig(e);return this._createComponent(i,t,r)},_viewConfig:function(e){var t=this.option("disabledDates");return t=Re(t)?this._injectComponent(t.bind(this)):t,{date:e,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:this.option("firstDayOfWeek"),value:this._dateOption("value"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:t,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:this.option("_todayDate")}},_injectComponent:function(e){var t=this;return function(i){return re(i,{component:t}),e(i)}},_isViewAvailable:function(e){var t=this.option("zoomLevel"),i=Ke.getViewMinBoundaryDate(t,this._getMinDate()),r=Ke.getViewMaxBoundaryDate(t,this._getMaxDate());return Ke.dateInRange(e,i,r)},_translateViews:function(){Ai(this._view.$element(),{left:0,top:0}),this._beforeView&&Ai(this._beforeView.$element(),{left:this._getViewPosition(-1),top:0}),this._afterView&&Ai(this._afterView.$element(),{left:this._getViewPosition(1),top:0})},_getViewPosition:function(e){var t=this.option("rtlEnabled")?-1:1;return 100*e*t+"%"},_cellClickHandler:function(e){var t=this.option("zoomLevel"),i=Ke.getViewDown(t),r=this._isMaxZoomLevel();if(i&&!r)this._navigateDown(e.event.currentTarget);else{var n=this._updateTimeComponent(e.value);this._dateValue(n,e.event),this._cellClickAction(e)}},_updateTimeComponent:function(e){var t=new Date(e),i=this._dateOption("value");return i&&(t.setHours(i.getHours()),t.setMinutes(i.getMinutes()),t.setSeconds(i.getSeconds()),t.setMilliseconds(i.getMilliseconds())),t},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(e){var t=this.option("zoomLevel");if(!this._isMaxZoomLevel()){var i=Ke.getViewDown(t);if(i){var r=this._view.option("contouredDate")||this._view.option("date");e&&(r=W(e).data(jX)),this._isOtherViewCellClicked=!0,this.option("currentDate",r),this.option("zoomLevel",i),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))}}},_renderNavigator:function(){this._navigator||(this._navigator=new IX(W("<div>"),this._navigatorConfig())),this._navigator.option("text",this._view.getNavigatorCaption()),this._updateButtonsVisibility()},_navigatorConfig:function(){return{text:this._view.getNavigatorCaption(),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),rtlEnabled:this.option("rtlEnabled")}},_navigatorClickHandler:function(e){var t=this._getDateByOffset(e.direction,this.option("currentDate"));this._moveToClosestAvailableDate(t)},_navigateUp:function(){var e=this.option("zoomLevel"),t=Ke.getViewUp(e);!t||this._isMinZoomLevel(e)||(this.option("zoomLevel",t),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))},_isMinZoomLevel:function(e){var t=this._getMinDate(),i=this._getMaxDate();return Ke.sameView(e,t,i)||this.option("minZoomLevel")===e},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!Z(this._getRequiredView("next"))),this._navigator.toggleButton("prev",!Z(this._getRequiredView("prev")))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),Mc,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler:function(e){fi.stop(this._$viewsWrapper,!0),e.event.maxLeftOffset=this._getRequiredView("next")?1:0,e.event.maxRightOffset=this._getRequiredView("prev")?1:0},_getRequiredView:function(e){var t,i=this.option("rtlEnabled");return e==="next"?t=i?this._beforeView:this._afterView:e==="prev"&&(t=i?this._afterView:this._beforeView),t},_swipeUpdateHandler:function(e){var t=e.event.offset;Ai(this._$viewsWrapper,{left:t*this._viewWidth(),top:0}),this._updateNavigatorCaption(t)},_swipeEndHandler:function(e){var t=e.event.targetOffset,i=t?t/Math.abs(t):0;if(i===0){this._animateWrapper(0,km);return}var r=this._getDateByOffset(-i*this._getRtlCorrection());this._isDateInInvalidRange(r)&&(i>=0?r=new Date(this._getMinDate()):r=new Date(this._getMaxDate())),this.option("currentDate",r)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=Ze(this.$element())),this._viewWidthValue},_updateNavigatorCaption:function(e){e*=this._getRtlCorrection();var t=this._view;e>.5&&this._beforeView?t=this._beforeView:e<-.5&&this._afterView&&(t=this._afterView),this._navigator.option("text",t.getNavigatorCaption())},_isDateInInvalidRange:function(e){if(!this._view.isBoundary(e)){var t=this._getMinDate(),i=this._getMaxDate(),r=Ke.normalizeDate(e,t,i);return r===t||r===i}},_renderFooter:function(){var e=this.option("showTodayButton");if(e){var t=this._createComponent(W("<a>"),Ki,{focusStateEnabled:!1,text:_e.format("dxCalendar-todayButtonText"),onClick:(function(i){this._toTodayView(i)}).bind(this),integrationOptions:{}}).$element().addClass(LX);this._$footer=W("<div>").addClass(FX).append(t),this.$element().append(this._$footer)}this.$element().toggleClass(NX,e)},_renderSubmitElement:function(){this._$submitElement=W("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(e){var t=this._convertToDate(e);this._getSubmitElement().val(Mi.serializeDate(t,WX))},_getSubmitElement:function(){return this._$submitElement},_animateShowView:function(){return fi.stop(this._view.$element(),!0),this._popAnimationView(this._view,HX,zX,km).promise()},_popAnimationView:function(e,t,i,r){return fi.animate(e.$element(),{type:"pop",from:{scale:t,opacity:t},to:{scale:i,opacity:i},duration:r})},_navigate:function(e,t){if(e!==0&&Math.abs(e)!==1&&this._isViewAvailable(t)){var i=this._renderSpecificView(t);e>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=i):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=i),this._translateViews()}var r=this._getRtlCorrection(),n=e>0?1:e<0?-1:0,a=-r*n*this._viewWidth(),s=this._$viewsWrapper.position().left;s!==a&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(e,t):this._animateWrapper(a,km).done(this._wrapperAnimationEndHandler.bind(this,e,t)))},_animateWrapper:function(e,t){return fi.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:e},duration:t})},_getDate:e=>new Date(e),_toTodayView:function(e){this._saveValueChangeEvent(e.event);var t=new Date;if(this._isMaxZoomLevel()){this._dateOption("value",t);return}this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._dateOption("value",t),this._animateShowView(),this._preventViewChangeAnimation=!1},_wrapperAnimationEndHandler:function(e,t){this._rearrangeViews(e),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(t),this._updateAriaId(t)},_rearrangeViews:function(e){if(e!==0){var t,i,r;if(e<0?(t=1,i="_beforeView",r="_afterView"):(t=-1,i="_afterView",r="_beforeView"),!!this[i]){var n=this[i].option("date");this[r]&&this[r].$element().remove(),e===t?this[r]=this._view:(this[r]=this._renderSpecificView(this._getDateByOffset(t,n)),this._view.$element().remove()),this._view=this[i];var a=this._getDateByOffset(-t,n);this[i]=this._isViewAvailable(a)?this._renderSpecificView(a):null}}},_resetLocation:function(){Ai(this._$viewsWrapper,{left:0,top:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._beforeView,delete this._afterView},_dispose:function(){clearTimeout(this._waitRenderViewTimeout),this.callBase()},_refreshViews:function(){this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_focusInHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",this.option("currentDate"))},_focusOutHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",null)},_updateViewsValue:function(e){var t=e?new Date(e):null;this._view.option("value",t),this._beforeView&&this._beforeView.option("value",t),this._afterView&&this._afterView.option("value",t)},_updateAriaSelected:function(e,t){var i;e=(i=e)!==null&&i!==void 0?i:this._dateOption("value");var r=this._view._getCellByDate(t),n=this._view._getCellByDate(e);this.setAria("selected",void 0,r),this.setAria("selected",!0,n),e&&this.option("currentDate").getTime()===e.getTime()&&this._updateAriaId(e)},_updateAriaId:function(e){var t;e=(t=e)!==null&&t!==void 0?t:this.option("currentDate");var i="dx-"+new Ri,r=this._view._getCellByDate(e);this.setAria("id",i,r),this.setAria("activedescendant",i),this._onContouredChanged(i)},_suppressingNavigation:function(e,t){this._suppressNavigation=!0,e.apply(this,t),delete this._suppressNavigation},_optionChanged:function(e){var t=e.value,i=e.previousValue;switch(e.name){case"width":this.callBase(e),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(i)),this._updateCurrentDate(t);break;case"zoomLevel":this.$element().removeClass(n1+"-"+i),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":t=this._convertToDate(t),i=this._convertToDate(i),this._updateAriaSelected(t,i),this.option("currentDate",Z(t)?new Date(t):new Date),this._updateViewsValue(t),this._setSubmitValue(t),this.callBase(e);break;case"onCellClick":this._view.option("onCellClick",t);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"skipFocusCheck":break;case"_todayDate":this._refreshViews();break;default:this.callBase(e)}},getContouredDate:function(){return this._view.option("contouredDate")}});yt("dxCalendar",eD);var fh=wt.abstract,Tf=wt.inherit({ctor:function(e){this.dateBox=e},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(e){e=e||W("<div>"),this._widget=this._createWidget(e),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(e){var t=this._getWidgetName(),i=this._getWidgetOptions();return this.dateBox._createComponent(e,t,i)},_getWidgetOptions:fh,_getWidgetName:fh,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:fh,supportedKeys:me,getKeyboardListener:me,customizeButtons:me,getParsedText:function(e,t){var i=ut.parse(e,t);return i||ut.parse(e)},renderInputMinMax:me,renderOpenedState:function(){this._updateValue()},popupConfig:fh,_dimensionChanged:function(){var e;(e=this._getPopup())===null||e===void 0||e.repaint()},renderPopupContent:function(){var e=this._getPopup();this._renderWidget();var t=e.$content().parent();te.off(t,"mousedown"),te.on(t,"mousedown",this._preventFocusOnPopup.bind(this))},getFirstPopupElement:me,getLastPopupElement:me,_preventFocusOnPopup:function(e){e.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:me,popupHiddenHandler:me,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:me,getDefaultDate:function(){return new Date},textChangedHandler:me,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var e=this._getPopup();e&&e.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}}),tD=Tf.inherit({NAME:"Calendar",supportedKeys:function(){var e=function(t){return this.option("opened")?(t.preventDefault(),!0):!1};return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:(function(t){if(this.dateBox.option("opened"))if(t.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){var i=this._getContouredValue(),r=this._lastActionElement,n=this._closeDropDownByEnter();return n&&i&&r==="calendar"&&this.dateBoxValue(i,t),n&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(t),!n}else return!0;else this.dateBox._valueChangeEventHandler(t)}).bind(this),home:e,end:e}},getDisplayFormat:function(e){return e||"shortdate"},_closeDropDownByEnter:()=>!0,_getWidgetName:function(){return eD},_getContouredValue:function(){return this._widget._view.option("contouredDate")},getKeyboardListener(){return this._widget},_getWidgetOptions:function(){var e=this.dateBox.option("disabledDates");return re(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),tabIndex:null,disabledDates:Re(e)?this._injectComponent(e.bind(this.dateBox)):e,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0})},_injectComponent:function(e){var t=this;return function(i){return re(i,{component:t.dateBox}),e(i)}},_refreshActiveDescendant:function(e){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",e.actionValue)},popupConfig:function(e){var t=e.toolbarItems,i=this.dateBox.option("buttonsLocation"),r=[];return i!=="default"?r=sl(i):r=["bottom","center"],this.dateBox.option("applyValueMode")==="useButtons"&&this._isCalendarVisible()&&t.unshift({widget:"dxButton",toolbar:r[0],location:r[1]==="after"?"before":r[1],options:{onInitialized:(function(n){n.component.registerKeyHandler("escape",this._escapeHandler.bind(this))}).bind(this),onClick:n=>{this._widget._toTodayView(n)},text:_e.format("dxCalendar-todayButtonText"),type:"today"}}),re(!0,e,{toolbarItems:t,position:{collision:"flipfit flip"},width:"auto"})},_isCalendarVisible:function(){return jr(this.dateBox.option("calendarOptions"))||this.dateBox.option("calendarOptions.visible")!==!1},_escapeHandler:function(){this.dateBox.close(),this.dateBox.focus()},_valueChangedHandler:function(e){var t=e.value,i=e.previousValue;Ke.sameDate(t,i)&&Ke.sameHoursAndMinutes(t,i)||this.dateBox.option("applyValueMode")==="instantly"&&this.dateBoxValue(this.getValue(),e.event)},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(e){var t=this.dateBox;t.option("applyValueMode")==="instantly"&&(t.option("opened",!1),this.dateBoxValue(this.getValue(),e.event))}});class GX{constructor(t){this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=t??wc}get isHorizontal(){return this.direction===iA||this.direction===Up}get isVertical(){return this.direction===wc||this.direction===Up}get isBoth(){return this.direction===Up}}function KX(e,t){if(ft(e)){var i=di(e.left,e.x),r=di(e.top,e.y);return{left:Z(i)?i:void 0,top:Z(r)?r:void 0}}var{isHorizontal:n,isVertical:a}=new GX(t);return{left:n&&Z(e)?e:void 0,top:a&&Z(e)?e:void 0}}var qX="dx-dateviewroller",XX="dx-state-active",YX="dx-dateviewroller-current",a1="dx-dateview-item",ZX="dx-dateview-item-selected",JX="dx-dateview-item-selected-frame",QX="dx-dateview-item-selected-border";class iD extends Tr{_getDefaultOptions(){return re(super._getDefaultOptions(),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}_init(){super._init(),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}_render(){super._render(),this._renderSelectedItemFrame(),this.$element().addClass(qX),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}_renderSelectedIndexChanged(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}_renderWheelEvent(){te.on(W(this.container()),"dxmousewheel",t=>{this._isWheelScrolled=!0})}_renderContainerClick(){if(this.option("showOnClick")){var t=xe(Pt,this.NAME),i=this._createActionByOption("onClick");te.off(W(this.container()),t),te.on(W(this.container()),t,function(r){i({event:r})})}}_renderItems(){var t=this.option("items")||[],i=W();W(this.content()).empty(),t.forEach(function(r){i=i.add(W("<div>").addClass(a1).append(r))}),W(this.content()).append(i),this._$items=i,this.update()}_renderSelectedItemFrame(){W("<div>").addClass(JX).append(W("<div>").addClass(QX)).appendTo(W(this.container()))}_renderSelectedValue(t){var i=this._fitIndex(t??this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(i)}),this._renderActiveStateItem()}_fitIndex(t){var i=this.option("items")||[],r=i.length;return t>=r?r-1:t<0?0:t}_getItemPosition(t){return Math.round(this._itemHeight()*t)}_renderItemsClick(){var t=this._getItemSelector(),i=xe(Pt,this.NAME);te.off(this.$element(),i,t),te.on(this.$element(),i,t,this._itemClickHandler.bind(this))}_getItemSelector(){return"."+a1}_itemClickHandler(t){this.option("selectedIndex",this._itemElementIndex(t.currentTarget))}_itemElementIndex(t){return this._itemElements().index(t)}_itemElements(){return this.$element().find(this._getItemSelector())}_renderActiveStateItem(){var t=this.option("selectedIndex");le(this._$items,function(i){W(this).toggleClass(ZX,t===i)})}_shouldScrollToNeighborItem(){return Ne.real().deviceType==="desktop"&&this._isWheelScrolled}_moveTo(t){var{top:i,left:r}=KX(t),n=this.scrollOffset(),a={x:n.left-r,y:n.top-i};if(this._isVisible()&&(a.x||a.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){var s=this;fi.stop(W(this.content())),fi.animate(W(this.content()),{duration:200,type:"slide",to:{top:Math.floor(a.y)},complete(){qu(W(s.content())),s.handleMove({delta:a})}}),delete this._animation}else this.handleMove({delta:a})}_validate(t){return this._moveIsAllowed(t)}_fitSelectedIndexInRange(t){var i=this.option("items").length;return Math.max(Math.min(t,i-1),0)}_isInNullNeighborhood(t){return-.1<=t&&t<=.1}_getSelectedIndexAfterScroll(t){var i=this.scrollOffset().top,r=t*this._itemHeight(),n=i-r;if(this._isInNullNeighborhood(n))return t;var a=n>0?1:-1,s=this._fitSelectedIndexInRange(t+a);return s}_getNewSelectedIndex(t){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(t);this._animation=!0;var i=this.scrollOffset().top/this._itemHeight();return Math.round(i)}_endActionHandler(){var t=this.option("selectedIndex"),i=this._getNewSelectedIndex(t);i===t?this._renderSelectedValue(i):this.option("selectedIndex",i),this._isWheelScrolled=!1}_itemHeight(){var t=this._$items.first();return nt(t)}_toggleActive(t){this.$element().toggleClass(XX,t)}_isVisible(){return W(this.container()).is(":visible")}_fireSelectedIndexChanged(t,i){this._selectedIndexChanged({value:t,previousValue:i,event:void 0})}_visibilityChanged(t){super._visibilityChanged(t),this._visibilityChangedHandler(t)}_visibilityChangedHandler(t){t&&(this._visibilityTimer=setTimeout(()=>{this._renderSelectedValue(this.option("selectedIndex"))})),this.toggleActiveState(!1)}toggleActiveState(t){this.$element().toggleClass(YX,t)}_refreshSelectedIndex(){var t=this.option("selectedIndex"),i=this._fitIndex(t);i===t?this._renderActiveStateItem():this.option("selectedIndex",i)}_optionChanged(t){switch(t.name){case"selectedIndex":this._fireSelectedIndexChanged(t.value,t.previousValue),this._renderSelectedValue(t.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:super._optionChanged(t)}}_dispose(){clearTimeout(this._visibilityTimer),super._dispose()}}yt("dxDateViewRoller",iD);var Mm="dx-dateview",eY="dx-dateview-compact",tY="dx-dateview-wrapper",iY="dx-dateview-rollers",rY="dx-dateviewroller",s1={date:"date",datetime:"datetime",time:"time"},vr={year:"year",month:"month",day:"day",hours:"hours"},rD=ln.inherit({_valueOption:function(){var e=this.option("value"),t=new Date(e);return!e||isNaN(t)?this._getDefaultDate():t},_getDefaultDate:function(){var e=new Date;return this.option("type")===s1.date?new Date(e.getFullYear(),e.getMonth(),e.getDate()):e},_getDefaultOptions:function(){return re(this.callBase(),{minDate:Lt.MIN_DATEVIEW_DEFAULT_DATE,maxDate:Lt.MAX_DATEVIEW_DEFAULT_DATE,type:s1.date,value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){return e.deviceType!=="desktop"},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass(Mm),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(e,t){this.$element().addClass(Mm+"-"+e),t&&this.$element().removeClass(Mm+"-"+t)},_toggleCompactClass:function(){this.$element().toggleClass(eY,this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=W("<div>").addClass(tY),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=W("<div>").addClass(iY)),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var e=this;le(e._rollerConfigs,function(t){var i=W("<div>").appendTo(e._$rollersContainer).addClass(rY+"-"+e._rollerConfigs[t].type);e._rollers[e._rollerConfigs[t].type]=e._createComponent(i,iD,{items:e._rollerConfigs[t].displayItems,selectedIndex:e._rollerConfigs[t].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart:function(r){var n=r.component;n._toggleActive(!0),e._setActiveRoller(e._rollerConfigs[t],n.option("selectedIndex"))},onEnd:function(r){var n=r.component;n._toggleActive(!1)},onClick:function(r){var n=r.component;n._toggleActive(!0),e._setActiveRoller(e._rollerConfigs[t],n.option("selectedIndex")),e._setRollerState(e._rollerConfigs[t],n.option("selectedIndex")),n._toggleActive(!1)},onSelectedIndexChanged:function(r){var n=r.component;e._setRollerState(e._rollerConfigs[t],n.option("selectedIndex"))}})}),e._$rollersContainer.appendTo(e._wrapper())},_createRollerConfigs:function(e){var t=this;e=e||t.option("type"),t._rollerConfigs={},ut.getFormatParts(Lt.FORMATS_MAP[e]).forEach(function(i){t._createRollerConfig(i)})},_createRollerConfig:function(e){for(var t=Lt.DATE_COMPONENTS_INFO[e],i=this._calculateRollerConfigValueRange(e),r=i.startValue,n=i.endValue,a=t.formatter,s=this._getCurrentDate(),o={type:e,setValue:t.setter,valueItems:[],displayItems:[],getIndex:function(u){return u[t.getter]()-r}},l=r;l<=n;l++)o.valueItems.push(l),o.displayItems.push(a(l,s));o.selectedIndex=o.getIndex(s),this._rollerConfigs[e]=o},_setActiveRoller:function(e){var t=e&&this._rollers[e.type];le(this._rollers,function(){this.toggleActiveState(this===t)})},_updateRollersPosition:function(){var e=this;le(this._rollers,function(t){var i=e._rollerConfigs[t].getIndex(e._getCurrentDate());this.option("selectedIndex",i)})},_setRollerState:function(e,t){if(t!==e.selectedIndex){var i=e.valueItems[t],r=e.setValue,n=new Date(this._getCurrentDate()),a=n.getDate(),s=this.option("minDate"),o=this.option("maxDate");e.type===vr.month?a=Math.min(a,Lt.getMaxMonthDay(n.getFullYear(),i)):e.type===vr.year&&(a=Math.min(a,Lt.getMaxMonthDay(i,n.getMonth()))),n.setDate(a),n[r](i);var l=Ke.normalizeDate(n,s,o);n=Lt.mergeDates(l,n,"time"),n=Ke.normalizeDate(n,s,o),this.option("value",n),e.selectedIndex=t}e.type===vr.year&&this._refreshRollers(),e.type===vr.month&&(this._refreshRoller(vr.day),this._refreshRoller(vr.hours))},_refreshRoller:function(e){var t=this._rollers[e];if(t){this._createRollerConfig(e);var i=this._rollerConfigs[e];(e===vr.day||i.displayItems.toString()!==t.option("items").toString())&&t.option({items:i.displayItems,selectedIndex:i.selectedIndex})}},_getCurrentDate:function(){var e=this._valueOption(),t=this.option("minDate"),i=this.option("maxDate");return Ke.normalizeDate(e,t,i)},_calculateRollerConfigValueRange:function(e){var t=this._getCurrentDate(),i=this.option("minDate"),r=this.option("maxDate"),n=Ke.sameYear(t,i),a=n&&t.getMonth()===i.getMonth(),s=Ke.sameYear(t,r),o=s&&t.getMonth()===r.getMonth(),l=a&&t.getDate()===i.getDate(),u=o&&t.getDate()===r.getDate(),d=Lt.DATE_COMPONENTS_INFO[e],c=d.startValue,h=d.endValue;return e===vr.year&&(c=i.getFullYear(),h=r.getFullYear()),e===vr.month&&(n&&(c=i.getMonth()),s&&(h=r.getMonth())),e===vr.day&&(h=Lt.getMaxMonthDay(t.getFullYear(),t.getMonth()),n&&a&&(c=i.getDate()),s&&o&&(h=r.getDate())),e===vr.hours&&(c=l?i.getHours():c,h=u?r.getHours():h),{startValue:c,endValue:h}},_refreshRollers:function(){this._refreshRoller(vr.month),this._refreshRoller(vr.day),this._refreshRoller(vr.hours)},_optionChanged:function(e){switch(e.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(e.value,e.previousValue);break;case"visible":this.callBase(e),e.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(e)}},_clean:function(){this.callBase(),delete this._$rollersContainer}});yt("dxDateView",rD);var nY=at(),aY=Tf.inherit({NAME:"DateView",getDefaultOptions:function(){return re(this.callBase(),{openOnFieldClick:!0,applyButtonText:_e.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat:function(e){return e||Lt.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(e){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:e.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(t){var i=t.platform;return i==="generic"||i==="ios"},options:{width:"auto",height:"auto"}},{device:function(t){var i=t.platform,r=t.phone;return i==="generic"&&r},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:nY}}}]}},_renderWidget:function(){if(Qc(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly")){this._widget&&(this._widget.$element().remove(),this._widget=null);return}var e=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var t=W("<div>").appendTo(e.$content());this._widget=this._createWidget(t)}this._widget.$element().appendTo(this._getWidgetContainer())},_getWidgetName:function(){return rD},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*Lt.ONE_YEAR),onDisposing:(function(){this._widget=null}).bind(this)}}}),sY=Tf.inherit({NAME:"Native",popupConfig:function(e){return re({},e,{width:"auto"})},getParsedText:function(e){return e?this.dateBox.option("type")==="datetime"?new Date(e.replace(/-/g,"/").replace("T"," ").split(".")[0]):Lt.fromStandardDateFormat(e):null},renderPopupContent:me,_getWidgetName:me,_getWidgetOptions:me,_getDateBoxType:function(){var e=this.dateBox.option("type");return Lt.SUPPORTED_FORMATS.includes(e)?e==="datetime"&&!Qc(e)&&(e="datetime-local"):e="date",e},customizeButtons:function(){var e=this.dateBox.getButton("dropDown");Ne.real().android&&e&&e.on("click",(function(){this.dateBox._input().get(0).click()}).bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(e){var t=this._getDateBoxType();return e||Lt.FORMATS_MAP[t]},renderInputMinMax:function(e){e.attr({min:Mi.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:Mi.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}}),o1="dx-box",l1=".dx-box",oY="dx-box-item",Lo="dxBoxItemData",nD={row:"minWidth",col:"minHeight"},aD={row:"maxWidth",col:"maxHeight"},Av=1,u1={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},d1={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},lY={row:"row",col:"column"},xo=(e,t,i)=>{if(i=Yo(t,i),e.style[Ka(t)]=i,!rt()){if(i===""||!Z(i))return;var r=C_(t),n=r+": "+i+";";e.attributes.style?e.attributes.style.value.indexOf(n)<0&&(e.attributes.style.value+=" "+n):e.setAttribute("style",n)}},uY="dxBox",Bm="dxupdate."+uY,h1="dx-box-fallback-item",dY={row:"nowrap",col:"normal"},gs={row:{name:"width",getter:Ze,setter:zu},col:{name:"height",getter:nt,setter:Dr}},ph={row:gs.col,col:gs.row},mh={row:"marginLeft",col:"marginTop"},Pm={row:"marginRight",col:"marginBottom"},Fm={row:"marginTop",col:"marginLeft"},c1={row:"marginBottom",col:"marginRight"},hY={marginLeft:"marginRight",marginRight:"marginLeft"};class cY extends Ys{_renderVisible(t,i){super._renderVisible(t),Z(i)&&this._options.fireItemStateChangedAction({name:"visible",state:t,oldState:i})}}class fY{constructor(t,i){this._$element=t,this._option=i,this.initSize=me,this.update=me}renderBox(){this._$element.css({display:Bh("flexDirection")+"flex"}),xo(this._$element.get(0),"flexDirection",lY[this._option("direction")])}renderAlign(){this._$element.css({justifyContent:this._normalizedAlign()})}_normalizedAlign(){var t=this._option("align");return t in u1?u1[t]:t}renderCrossAlign(){this._$element.css({alignItems:this._normalizedCrossAlign()})}_normalizedCrossAlign(){var t=this._option("crossAlign");return t in d1?d1[t]:t}renderItems(t){var i=Bh("flexDirection"),r=this._option("direction");le(t,function(){var n=W(this),a=n.data(Lo);n.css({display:i+"flex"}).css(aD[r],a.maxSize||"none").css(nD[r],a.minSize||"0"),xo(n.get(0),"flexBasis",a.baseSize||0),xo(n.get(0),"flexGrow",a.ratio),xo(n.get(0),"flexShrink",Z(a.shrink)?a.shrink:Av),n.children().each((s,o)=>{W(o).css({width:"auto",height:"auto",display:Bh("flexDirection")+"flex",flexBasis:0}),xo(o,"flexGrow",1),xo(o,"flexDirection",W(o)[0].style.flexDirection||"column")})})}}class pY{constructor(t,i){this._$element=t,this._option=i}renderBox(){this._$element.css({fontSize:0,whiteSpace:dY[this._option("direction")],verticalAlign:"top"}),te.off(this._$element,Bm),te.on(this._$element,Bm,this.update.bind(this))}renderAlign(){var t=this._$items;if(t){var i=this._option("align"),r=this.totalItemSize,n=this._option("direction"),a=gs[n].getter(this._$element),s=a-r,o=0;switch(this._setItemsMargins(t,n,0),i){case"start":break;case"end":o=s,t.first().css(this._chooseMarginSide(mh[n]),o);break;case"center":o=.5*s,t.first().css(this._chooseMarginSide(mh[n]),o),t.last().css(this._chooseMarginSide(Pm[n]),o);break;case"space-between":o=.5*s/(t.length-1),this._setItemsMargins(t,n,o),t.first().css(this._chooseMarginSide(mh[n]),0),t.last().css(this._chooseMarginSide(Pm[n]),0);break;case"space-around":o=.5*s/t.length,this._setItemsMargins(t,n,o)}}}_setItemsMargins(t,i,r){t.css(this._chooseMarginSide(mh[i]),r).css(this._chooseMarginSide(Pm[i]),r)}renderCrossAlign(){var t=this._$items;if(t){var i=this._option("crossAlign"),r=this._option("direction"),n=ph[r].getter(this._$element),a=this;switch(i){case"start":break;case"end":le(t,function(){var s=W(this),o=ph[r].getter(s),l=n-o;s.css(a._chooseMarginSide(Fm[r]),l)});break;case"center":le(t,function(){var s=W(this),o=ph[r].getter(s),l=.5*(n-o);s.css(a._chooseMarginSide(Fm[r]),l).css(a._chooseMarginSide(c1[r]),l)});break;case"stretch":t.css(a._chooseMarginSide(Fm[r]),0).css(a._chooseMarginSide(c1[r]),0).css(ph[r].name,"100%")}}}_chooseMarginSide(t){return this._option("rtlEnabled")&&hY[t]||t}renderItems(t){this._$items=t;var i=this._option("direction"),r=0,n=0,a=0;le(t,(u,d)=>{var c=W(d);c.css({display:"inline-block",verticalAlign:"top"}),gs[i].setter(c,"auto"),c.removeClass(h1);var h=c.data(Lo),f=h.ratio||0,p=this._baseSize(c),g=Z(h.shrink)?h.shrink:Av;r+=f,n+=g*p,a+=p});var s=this._boxSize()-a,o=u=>{var d=u.data(Lo),c=this._baseSize(u),h=s>=0?d.ratio||0:(Z(d.shrink)?d.shrink:Av)*c,f=s>=0?r:n,p=f?Math.round(s*h/f):0;return c+p},l=0;le(t,(u,d)=>{var c=W(d),h=W(d).data(Lo),f=o(c);l+=f,c.css(aD[i],h.maxSize||"none").css(nD[i],h.minSize||"0").css(gs[i].name,f),c.addClass(h1)}),this.totalItemSize=l}_baseSize(t){var i=W(t).data(Lo);return i.baseSize==null?0:i.baseSize==="auto"?this._contentSize(t):this._parseSize(i.baseSize)}_contentSize(t){return gs[this._option("direction")].getter(W(t))}_parseSize(t){return String(t).match(/.+%$/)?.01*parseFloat(t)*this._boxSizeValue:t}_boxSize(t){if(!arguments.length)return this._boxSizeValue=this._boxSizeValue||this._totalBaseSize(),this._boxSizeValue;this._boxSizeValue=t}_totalBaseSize(){var t=0;return le(this._$items,(i,r)=>{t+=this._baseSize(r)}),t}initSize(){this._boxSize(gs[this._option("direction")].getter(this._$element))}update(){if(!(!this._$items||this._$element.is(":hidden"))){this._$items.detach(),this.initSize(),this._$element.append(this._$items),this.renderItems(this._$items),this.renderAlign(),this.renderCrossAlign();var t=this._$element.get(0);this._$items.find(l1).each(function(){t===W(this).parent().closest(l1).get(0)&&te.triggerHandler(this,Bm)})}}}class Wa extends Js{_getDefaultOptions(){return re(super._getDefaultOptions(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_layoutStrategy:"flex",_queue:void 0})}_itemClass(){return oY}_itemDataKey(){return Lo}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this.$element().addClass("".concat(o1,"-").concat(this.option("_layoutStrategy"))),this._initLayout(),this._initBoxQueue()}_initLayout(){this._layout=this.option("_layoutStrategy")==="fallback"?new pY(this.$element(),this.option.bind(this)):new fY(this.$element(),this.option.bind(this))}_initBoxQueue(){this._queue=this.option("_queue")||[]}_queueIsNotEmpty(){return this.option("_queue")?!1:!!this._queue.length}_pushItemToQueue(t,i){this._queue.push({$item:t,config:i})}_shiftItemFromQueue(){return this._queue.shift()}_initMarkup(){this.$element().addClass(o1),this._layout.renderBox(),super._initMarkup(),this._renderAlign(),this._renderActions()}_renderActions(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}_renderAlign(){this._layout.renderAlign(),this._layout.renderCrossAlign()}_renderItems(t){for(this._layout.initSize(),super._renderItems(t);this._queueIsNotEmpty();){var i=this._shiftItemFromQueue();this._createComponent(i.$item,Wa,re({_layoutStrategy:this.option("_layoutStrategy"),itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},i.config))}this._layout.renderItems(this._itemElements()),clearTimeout(this._updateTimer),this._updateTimer=setTimeout(()=>{this._isUpdated||this._layout.update(),this._isUpdated=!1,this._updateTimer=null})}_renderItemContent(t){var i=t.itemData&&t.itemData.node;return i?this._renderItemContentByNode(t,i):super._renderItemContent(t)}_postprocessRenderItem(t){var i=t.itemData.box;i&&this._pushItemToQueue(t.itemContent,i)}_createItemByTemplate(t,i){return i.itemData.box?t.source?t.source():W():super._createItemByTemplate(t,i)}_visibilityChanged(t){t&&this._dimensionChanged()}_dimensionChanged(){this._updateTimer||(this._isUpdated=!0,this._layout.update())}_dispose(){clearTimeout(this._updateTimer),super._dispose.apply(this,arguments)}_itemOptionChanged(t,i,r,n){i==="visible"&&this._onItemStateChanged({name:i,state:r,oldState:n!==!1}),super._itemOptionChanged(t,i,r)}_optionChanged(t){switch(t.name){case"_layoutStrategy":case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:super._optionChanged(t)}}_itemOptions(){var t=super._itemOptions();return t.fireItemStateChangedAction=i=>{this._onItemStateChanged(i)},t}repaint(){this._dimensionChanged()}}Wa.ItemClass=cY;yt("dxBox",Wa);var mY="dx-timeview",gY="dx-timeview-clock",vY="dx-timeview-field",_Y="dx-timeview-hourarrow",bY="dx-timeview-time-separator",yY="dx-timeview-format12",Lm=-1,Nm=1,CY="dx-timeview-minutearrow",f1=function(e,t,i){wY(e,t,i)},wY=function(e,t,i){e.css("transform","rotate("+t+"deg) translate(0,"+i+"px)")},sD=ln.inherit({_getDefaultOptions:function(){return re(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5,stylingMode:void 0})},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass(mY)},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var e=W("<div>").appendTo(this.$element()),t=[];this.option("_showClock")&&t.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),t.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(e,Wa,{height:"100%",width:"100%",direction:"col",items:t})},_renderClock:function(e,t,i){this._$hourArrow=W("<div>").addClass(_Y),this._$minuteArrow=W("<div>").addClass(CY);var r=W(i);r.addClass(gY).append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",r)},_updateClock:function(){var e=this._getValue(),t=e.getHours()/12*360+e.getMinutes()/60*30,i=e.getMinutes()/60*360;f1(this._$hourArrow,t,this.option("_arrowOffset")),f1(this._$minuteArrow,i,this.option("_arrowOffset"))},_getBoxItems:function(e){var t=[{ratio:0,shrink:0,baseSize:"auto",template:()=>this._hourBox.$element()},{ratio:0,shrink:0,baseSize:"auto",template:W("<div>").addClass(bY).text(ut.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:()=>this._minuteBox.$element()}];return e&&t.push({ratio:0,shrink:0,baseSize:"auto",template:()=>this._format12.$element()}),t},_renderField:function(){var e=!this.option("use24HourFormat");return this._createHourBox(e),this._createMinuteBox(),e&&this._createFormat12Box(),this._createComponent(W("<div>").addClass(vY),Wa,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(e)}).$element()},_createHourBox:function(e){var t=this._hourBox=this._createComponent(W("<div>"),Rc,re({min:-1,max:e?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:i=>this._keyboardHandler(i)},this._getNumberBoxConfig()));t.setAria("label","hours")},_isPM:function(){return!this.option("use24HourFormat")&&this._format12.option("value")===1},_onHourBoxValueChanged:function(e){var{value:t,component:i}=e,r=this._getValue(),n=new Date(r),a=this._convertMaxHourToMin(t);i.option("value",a),this._isPM()&&(a+=12),n.setHours(a),Lt.normalizeTime(n),this.option("value",n)},_convertMaxHourToMin:function(e){var t=this.option("use24HourFormat")?24:12;return(t+e)%t},_createMinuteBox:function(){var e=this._minuteBox=this._createComponent(W("<div>"),Rc,re({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:t=>this._keyboardHandler(t),onValueChanged:t=>{var{value:i,component:r}=t,n=(60+i)%60;r.option("value",n);var a=new Date(this._getValue());a.setMinutes(n),Lt.normalizeTime(a),this.option("value",a)}},this._getNumberBoxConfig()));e.setAria("label","minutes")},_createFormat12Box:function(){var e=ut.getPeriodNames(),t=this._format12=this._createComponent(W("<div>").addClass(yY),H0,{items:[{value:Lm,text:e[0]},{value:Nm,text:e[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:i=>this._keyboardHandler(i),onValueChanged:i=>{var{value:r}=i,n=this._getValue().getHours(),a=new Date(this._getValue()),s=(n+12*r)%24;a.setHours(s),this.option("value",a)},value:this._getValue().getHours()>=12?Nm:Lm,stylingMode:this.option("stylingMode")});t.setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var e=this._getValue(),t=e.getHours(),i=t>=12,r=i?Nm:Lm;this._silentEditorValueUpdate(this._format12,r)}},_silentEditorValueUpdate:function(e,t){e&&(e._suppressValueChangeAction(),e.option("value",t),e._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(e){return(e<10?"0":"")+e},stylingMode:this.option("stylingMode")}},_normalizeHours:function(e){return this.option("use24HourFormat")?e:e%12||12},_updateField:function(){var e=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,e),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(e){e&&this._updateTime()},_optionChanged:function(e){switch(e.name){case"value":this._updateTime(),this.callBase(e);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(e)}}});yt("dxTimeView",sD);var xY=at(),SY=573,EY="dx-datebox-adaptivity-mode",p1="dx-datebox-datetime-time-side",IY=tD.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return re(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},_closeDropDownByEnter:function(){return Ke.sameDate(this._getContouredValue(),this.widgetOption("value"))},getDisplayFormat:function(e){return e||"shortdateshorttime"},_is24HourFormat:function(){return ut.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_getContouredValue:function(){var e=this.callBase();return this._updateDateTime(e)},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent(W("<div>"),sD,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")}),this._timeView.registerKeyHandler("escape",this._escapeHandler.bind(this))},renderOpenedState:function(){this.callBase();var e=this._getPopup();e&&e.$wrapper().toggleClass(EY,this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout((function(){this._getPopup()&&this._getPopup().repaint()}).bind(this),0)},isAdaptivityChanged:function(){var e=this._isShrinkView(),t=this._currentAdaptiveMode;return e!==t?(this._currentAdaptiveMode=e,t!==void 0):this.callBase()},_updateValue:function(e){var t=this.dateBoxValue();!t&&!e&&(t=new Date,Lt.normalizeTime(t)),this.callBase(),this._timeView&&(t&&this._timeView.option("value",t),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return Ze(xY)<=SY},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var e=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||e.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),e},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var e=this._getPopup().$content();this._box=this.dateBox._createComponent(W("<div>").appendTo(e),Wa,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:(function(t,i,r){var n=W("<div>");switch(t.name){case"calendar":n.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass(p1),n.append(this._timeView.$element()));break;case"time":n.append(this._timeView.$element()),W(r).addClass(p1)}return n}).bind(this)}),this._attachTabHandler()},popupConfig:function(e){var t=this.callBase(e),i=re(t,{width:"auto",onShowing:(function(){if(this._box.option("_layoutStrategy")==="fallback"){var r=this._getPopup().$content().find(".dx-timeview-clock").css("minWidth");this._timeView.$element().css("maxWidth",r)}}).bind(this)});return i},getFirstPopupElement:function(){return this._timeView._hourBox.$element().find("input")},_attachTabHandler:function(){var e=this.dateBox;this._timeView._hourBox.registerKeyHandler("tab",function(t){t.shiftKey&&(t.preventDefault(),e.focus())})},_preventFocusOnPopup:function(e){W(e.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},_updateDateTime:function(e){var t=this._timeView.option("value");return e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e},getValue:function(){var e,t=(e=this._widget.option("value"))!==null&&e!==void 0?e:this._widget.getContouredDate();return t=t?new Date(t):new Date,this._updateDateTime(t)},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}}),TY=at(),AY="date",OY={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)},DY=Tf.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){var{opened:e,applyValueMode:t}=this.option();e&&t==="instantly"&&this.close()},space:me,home:me,end:me}},getDefaultOptions:function(){return re(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(e){return e||"shorttime"},popupConfig:function(e){return e},getValue:function(){var e=this._widget.option("selectedIndex");if(e===-1)return this.dateBox.option("value");var t=this._widgetItems[e];return this._getDateByItemData(t)},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},popupShowingHandler:function(){this.dateBox._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return eo},_getWidgetOptions:function(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(e){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",e.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var e=this.dateBoxValue(),t=this._getDateIndex(e);t===-1?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",t)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(e){for(var t=-1,i=0,r=this._widgetItems.length;i<r;i++)if(this._areDatesEqual(e,this._widgetItems[i])){t=i;break}return t},_areDatesEqual:function(e,t){return tr(e)&&tr(t)&&e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()},_getTimeListItems:function(){var e=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),t=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),i=this.dateBox.dateOption("value")||null,r=t-e,n=e.getMinutes()%this.dateBox.option("interval");return r<0?[]:(r>Lt.ONE_DAY&&(r=Lt.ONE_DAY),i-e<Lt.ONE_DAY?this._getRangeItems(e,new Date(e),r):(e=this._getBoundaryDate("min"),e.setMinutes(n),i&&Math.abs(i-t)<Lt.ONE_DAY&&(r=(60*t.getHours()+Math.abs(t.getMinutes()-n))*Lt.ONE_MINUTE),this._getRangeItems(e,new Date(e),r)))},_getRangeItems:function(e,t,i){for(var r=[],n=this.dateBox.option("interval");t-e<=i;)r.push(new Date(t)),t.setMinutes(t.getMinutes()+n);return r},_getBoundaryDate:function(e){var t=OY[e],i=new Date(di(this.dateBox.dateOption("value"),0));return new Date(i.getFullYear(),i.getMonth(),i.getDate(),t.getHours(),t.getMinutes())},_timeListItemTemplate:function(e){var t=this.dateBox.option("displayFormat");return ut.format(e,this.getDisplayFormat(t))},_listItemClickHandler:function(e){if(this.dateBox.option("applyValueMode")!=="useButtons"){var t=this._getDateByItemData(e.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(t,e.event)}},_getDateByItemData:function(e){var t=this.dateBox.option("value"),i=e.getHours(),r=e.getMinutes(),n=e.getSeconds(),a=e.getFullYear(),s=e.getMonth(),o=e.getDate();return t?(this.dateBox.option("dateSerializationFormat")?t=Mi.deserializeDate(t):t=new Date(t),t.setHours(i),t.setMinutes(r),t.setSeconds(n),t.setFullYear(a),t.setMonth(s),t.setDate(o)):t=new Date(a,s,o,i,r,0,0),t},getKeyboardListener:function(){return this._widget},_updatePopupHeight:function(){var e=N0(this.dateBox.option("dropDownOptions.height"));if(e===void 0||e==="auto"){this.dateBox._setPopupOption("height","auto");var t=Ct(this._widget.$element()),i=.45*nt(TY);this.dateBox._setPopupOption("height",Math.min(t,i))}this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(e,t){var i=this.callBase(e,t);return i&&(i=Lt.mergeDates(i,new Date(null),AY)),i}}),Bl=at(),Pl="dx-datebox",RY="dx-auto-width",kY="dx-show-invalid-badge",MY="dx-clear-button-area",gh="dx-datebox-wrapper",BY="dx-dropdowneditor-overlay",wr={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},Br={date:"date",datetime:"datetime",time:"time"},Fl={calendar:"Calendar",dateView:"DateView",native:"Native",calendarWithTime:"CalendarWithTime",list:"List"},PY={Calendar:tD,DateView:aY,Native:sY,CalendarWithTime:IY,List:DY},FY=V0.inherit({_supportedKeys:function(){return re(this.callBase(),this._strategy.supportedKeys())},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return re(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,pickerType:wr.calendar,invalidDateMessage:_e.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:_e.format("validation-range"),applyButtonText:_e.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var e=Ne.real(),t=e.platform;return t==="ios"||t==="android"},options:{pickerType:wr.native}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(e){this._userOptions=re({},e),this.callBase(e),this._updatePickerOptions()},_updatePickerOptions:function(){var e=this.option("pickerType"),t=this.option("type");e===wr.list&&(t===Br.datetime||t===Br.date)&&(e=wr.calendar),t===Br.time&&e===wr.calendar&&(e=wr.list),this.option("showDropDownButton",Ne.real().platform!=="generic"||e!==wr.native),this._pickerType=e},_init:function(){this._initStrategy(),this.option(re({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(e){return e.charAt(0).toLowerCase()+e.substr(1)},_initStrategy:function(){var e=this._getStrategyName(this._getFormatType()),t=PY[e];this._strategy&&this._strategy.NAME===e||(this._strategy=new t(this))},_getFormatType:function(){var e=this.option("type"),t=/h|m|s/g.test(e),i=/d|M|Y/g.test(e),r="";return i&&(r+=Br.date),t&&(r+=Br.time),r},_getStrategyName:function(e){var t=this._pickerType;return t===wr.rollers?Fl.dateView:t===wr.native?Fl.native:e===Br.date?Fl.calendar:e===Br.datetime?Fl.calendarWithTime:Fl.list},_initMarkup:function(){this.$element().addClass(Pl),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){this.callBase(),this.$element().toggleClass(RY,!this.option("width")),this._dimensionChanged()},_dimensionChanged:function(){if(this.callBase(arguments),this._popup){var e,t;(e=(t=this._strategy)._updatePopupHeight)===null||e===void 0||e.call(t)}},_refreshFormatClass:function(){var e=this.$element();le(Br,function(t,i){e.removeClass(Pl+"-"+i)}),e.addClass(Pl+"-"+this.option("type"))},_refreshPickerTypeClass:function(){var e=this.$element();le(wr,function(t,i){e.removeClass(Pl+"-"+i)}),e.addClass(Pl+"-"+this._pickerType)},_formatValidationIcon:function(){if(rt()){var e=this._input().get(0),t=this.option("rtlEnabled"),i=this._getClearButtonWidth(),r=this._getLongestElementDimensions(),n=parseFloat(Bl.getComputedStyle(e).width)-i,a=r.width>n,s=e.style;this.$element().toggleClass(kY,!a),a?(this._storedPadding===void 0&&(this._storedPadding=t?r.leftPadding:r.rightPadding),t?s.paddingLeft=0:s.paddingRight=0):t?s.paddingLeft=this._storedPadding+"px":s.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var e=0;if(this._isClearButtonVisible()&&this._input().val()===""){var t=this.$element().find("."+MY).get(0);e=parseFloat(Bl.getComputedStyle(t).width)}return e},_getLongestElementDimensions:function(){var e=this._strategy.getDisplayFormat(this.option("displayFormat")),t=ut.format(Lt.getLongestDate(e,ut.getMonthNames(),ut.getDayNames()),e),i=this._input(),r=i.get(0),n=zP(i,t),a=this._storedPadding!==void 0,s=a?this._storedPadding:0;n.appendTo(this.$element());var o=parseFloat(Bl.getComputedStyle(n.get(0)).width),l=parseFloat(Bl.getComputedStyle(r).paddingRight),u=parseFloat(Bl.getComputedStyle(r).paddingLeft),d=o+u+l+s;return n.remove(),{width:d,leftPadding:u,rightPadding:l}},_getKeyboardListeners(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup:function(){this.callBase(),this._popup.$wrapper().addClass(gh),this._renderPopupWrapper()},_popupConfig:function(){var e=this.callBase();return re(this._strategy.popupConfig(e),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var e=this.$element(),t=re({},Br,wr);le(t,(function(i,r){e.removeClass(gh+"-"+r)}).bind(this)),this._popup.$wrapper().addClass(gh+"-"+this.option("type")).addClass(gh+"-"+this._pickerType).addClass(BY)}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_getFirstPopupElement:function(){return this._strategy.getFirstPopupElement()||this.callBase()},_getLastPopupElement:function(){return this._strategy.getLastPopupElement()||this.callBase()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupShownHandler:function(){this.callBase(),this._strategy.renderOpenedState()},_popupHiddenHandler:function(){this.callBase(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(e){e&&this._formatValidationIcon()},_clearValueHandler:function(e){this.option("text",""),this.callBase(e)},_readOnlyPropValue:function(){if(this._pickerType===wr.rollers)return!0;var e=Ne.real().platform,t=this._isNativeType()&&(e==="ios"||e==="android");return t?this.option("readOnly"):this.callBase()},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var e=this.dateOption("value");return this.option("text",this._getDisplayedText(e)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var e=this.dateOption("value"),t=this.option("dateSerializationFormat"),i=Lt.SUBMIT_FORMATS_MAP[this.option("type")],r=t?Mi.serializeDate(e,t):Lt.toStandardDateFormat(e,i);this._getSubmitElement().val(r)},_getDisplayedText:function(e){var t=this.option("mode"),i;if(t==="text"){var r=this._strategy.getDisplayFormat(this.option("displayFormat"));i=ut.format(e,r)}else{var n=this._getFormatByMode(t);n?i=ut.format(e,n):i=Lt.toStandardDateFormat(e,t)}return i},_getFormatByMode:function(e){return Qc(e)?null:Lt.FORMATS_MAP[e]},_valueChangeEventHandler:function(e){var{text:t,type:i,validationError:r}=this.option(),n=this.dateOption("value");if(t===this._getDisplayedText(n)){(!r||r.editorSpecific)&&(this._applyInternalValidation(n),this._applyCustomValidation(n));return}var a=this._getParsedDate(t),s=n??this._getDateByDefault(),o=Lt.mergeDates(s,a,i),l=a&&i==="time"?o:a;if(this._applyInternalValidation(l).isValid){var u=this._getDisplayedText(o);s&&o&&s.getTime()===o.getTime()&&u!==t?this._renderValue():this.dateValue(o,e)}},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(e){var t=this._strategy.getDisplayFormat(this.option("displayFormat")),i=this._strategy.getParsedText(e,t);return i??void 0},_applyInternalValidation(e){var t=this.option("text"),i=!!t&&e!==null,r=!!e&&tr(e)&&!isNaN(e.getTime()),n=r&&Ke.dateInRange(e,this.dateOption("min"),this.dateOption("max"),this.option("type")),a=!i&&!e||n,s="";return r?n||(s=this.option("dateOutOfRangeMessage")):s=this.option("invalidDateMessage"),this.option({isValid:a,validationError:a?null:{editorSpecific:!0,message:s}}),{isValid:a,isDate:r}},_applyCustomValidation:function(e){this.validationRequest.fire({editor:this,value:this._serializeDate(e)})},_isValueChanged:function(e){var t=this.dateOption("value"),i=t&&t.getTime(),r=e&&e.getTime();return i!==r},_isTextChanged:function(e){var t=this.option("text"),i=e&&this._getDisplayedText(e)||"";return t!==i},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()},_getPopupTitle:function(){var e=this.option("placeholder");if(e)return e;var t=this.option("type");return t===Br.time?_e.format("dxDateBox-simulatedDataPickerTitleTime"):t===Br.date||t===Br.datetime?_e.format("dxDateBox-simulatedDataPickerTitleDate"):""},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(e){var t=this._strategy.getValue();this.dateValue(t,e.event),this.callBase()},_dispose:function(){var e;this.callBase(),(e=this._strategy)===null||e===void 0||e.dispose()},_isNativeType:function(){return this._pickerType===wr.native},_updatePopupTitle:function(){var e;(e=this._popup)===null||e===void 0||e.option("title",this._getPopupTitle())},_optionChanged:function(e){switch(e.name){case"showClearButton":case"buttons":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:e.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:e.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this.callBase.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":var t=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),t||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(e.value),this.callBase.apply(this,arguments);break;case"isValid":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var e=this.option("value");if(this.option("dateSerializationFormat")&&Jt().forceIsoDateParsing)return this.option("dateSerializationFormat");if(Kt(e))return"number";if(Ue(e))return Mi.getDateSerializationFormat(e)},_updateValue:function(e){this.callBase(),this._applyInternalValidation(e??this.dateOption("value"))},dateValue:function(e,t){var i=this._isValueChanged(e);return i&&t&&this._saveValueChangeEvent(t),i||(this._isTextChanged(e)?this._updateValue(e):this.option("text")===""&&this._applyCustomValidation(e)),this.dateOption("value",e)},dateOption:function(e,t){if(arguments.length===1)return Mi.deserializeDate(this.option(e));this.option(e,this._serializeDate(t))},_serializeDate:function(e){var t=this._getSerializationFormat();return Mi.serializeDate(e,t)},_clearValue:function(){var e=this.option("value");this.callBase(),e===null&&this._applyCustomValidation(null)},reset:function(){var e=this.option("value");this.callBase(),e===null&&this._applyInternalValidation(null)}}),So="dateBoxMask",ga=1,Eo=-1,LY=FY.inherit({_supportedKeys(e){var t=this.callBase(e),i=n=>{var a=t[hi(n)];return a&&a.apply(this,[n])},r=(n,a)=>this._shouldUseOriginalHandler(n)?i.apply(this,[n]):a.apply(this,[n]);return re({},t,{del:n=>r(n,a=>{this._revertPart(ga),this._isAllSelected()||a.preventDefault()}),backspace:n=>r(n,a=>{this._revertPart(Eo),this._isAllSelected()||a.preventDefault()}),home:n=>r(n,a=>{this._selectFirstPart(),a.preventDefault()}),end:n=>r(n,a=>{this._selectLastPart(),a.preventDefault()}),escape:n=>r(n,a=>{this._revertChanges(a)}),enter:n=>r(n,a=>{this._enterHandler(a)}),leftArrow:n=>r(n,a=>{this._selectNextPart(Eo),a.preventDefault()}),rightArrow:n=>r(n,a=>{this._selectNextPart(ga),a.preventDefault()}),upArrow:n=>r(n,a=>{this._upDownArrowHandler(ga),a.preventDefault()}),downArrow:n=>r(n,a=>{this._upDownArrowHandler(Eo),a.preventDefault()})})},_shouldUseOriginalHandler(e){var t=this.option("opened")&&e&&["backspace","del"].indexOf(hi(e))===-1;return!this._useMaskBehavior()||t||e&&e.altKey},_upDownArrowHandler(e){this._setNewDateIfEmpty();var t=this._getActivePartValue(this._initialMaskValue),i=this._getActivePartValue(),r=i-t;this._loadMaskValue(this._initialMaskValue),this._partIncrease(r+e,!0)},_getDefaultOptions(){return re(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey(e){var{originalEvent:t,alt:i}=e,r=t.data||t.key;return typeof r=="string"&&r.length===1&&!i&&!Pi(t)},_isSingleDigitKey(e){var t,i=(t=e.originalEvent)===null||t===void 0?void 0:t.data;return(i==null?void 0:i.length)===1&&parseInt(i,10)},_useBeforeInputEvent:function(){return Ne.real().android},_keyInputHandler(e,t){var i=this._input().val();this._processInputKey(t),e.preventDefault();var r=i!==this._input().val();r&&te.trigger(this._input(),"input")},_keyboardHandler(e){var t=e.originalEvent.key,i=this.callBase(e);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(Qt.chrome&&e.key==="Process"&&e.code.indexOf("Digit")===0?(t=e.code.replace("Digit",""),this._processInputKey(t),this._maskInputHandler=()=>{this._renderSelectedPart()}):this._isSingleCharKey(e)&&this._keyInputHandler(e.originalEvent,t)),i},_maskBeforeInputHandler(e){this._maskInputHandler=null;var{inputType:t}=e.originalEvent;t==="insertCompositionText"&&(this._maskInputHandler=()=>{this._renderSelectedPart()});var i=t==="deleteContentBackward",r=t==="deleteContentForward";if(i||r){var n=i?Eo:ga;this._maskInputHandler=()=>{this._revertPart(),this._selectNextPart(n)}}if(!(!this._useMaskBehavior()||!this._isSingleCharKey(e))){var a=e.originalEvent.data;return this._keyInputHandler(e,a),!0}},_keyPressHandler(e){var{originalEvent:t}=e;(t==null?void 0:t.inputType)==="insertCompositionText"&&this._isSingleDigitKey(e)&&(this._processInputKey(t.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(e),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey(e){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(e))?this._searchString(e):this._searchNumber(e)},_isAllSelected(){var e=this._caret();return e.end-e.start===this.option("text").length},_getFormatPattern(){if(this._formatPattern)return this._formatPattern;var e=this._strategy.getDisplayFormat(this.option("displayFormat")),t=Ue(e)&&!ut._getPatternByFormat(e);return t?this._formatPattern=e:this._formatPattern=Yc(function(i){return ut.format(i,e)}),this._formatPattern},_setNewDateIfEmpty(){if(!this._maskValue){var e=this.option("type")==="time"?new Date(null):new Date;this._maskValue=e,this._initialMaskValue=e,this._renderDateParts()}},_partLimitsReached(e){var t=String(e).length,i=this._getActivePartProp("pattern").length,r=i===1,n=r?t:Math.min(i,t),a=this._searchValue.length===n,s=parseInt(this._searchValue+"0")>e;return a||s},_searchNumber(e){var{max:t}=this._getActivePartLimits(),i=String(t).length;this._searchValue=(this._searchValue+e).substr(-i),isNaN(this._searchValue)&&(this._searchValue=e),this._setActivePartValue(this._searchValue),this._partLimitsReached(t)&&this._selectNextPart(ga)},_searchString(e){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var t=this._getActivePartProp("limits")(this._maskValue),i=this._searchValue+e.toLowerCase(),r=t.max-t.min,n=0;n<=r;n++)if(this._loadMaskValue(this._initialMaskValue),this._partIncrease(n+1),this._getActivePartProp("text").toLowerCase().indexOf(i)===0){this._searchValue=i;return}this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(e))}},_clearSearchValue(){this._searchValue=""},_revertPart:function(e){if(!this._isAllSelected()){var t=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(t),this._selectNextPart(e)}this._clearSearchValue()},_useMaskBehavior(){return this.option("useMaskBehavior")&&this.option("mode")==="text"},_prepareRegExpInfo(){this._regExpInfo=_I(this._getFormatPattern(),ut);var e=this._regExpInfo.regexp,t=e.source,i=e.flags,r=new RegExp(/(\{[0-9]+,?[0-9]*\})/),n=t.split(r).map(a=>r.test(a)?a:Wt.convertDigits(a,!1)).join("");this._regExpInfo.regexp=new RegExp(n,i)},_initMaskState(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts(){if(this._useMaskBehavior()){var e=this.option("text")||this._getDisplayedText(this._maskValue);e&&(this._dateParts=fX(e,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}},_detachMaskEvents(){te.off(this._input(),"."+So)},_attachMaskEvents(){te.on(this._input(),xe("dxclick",So),this._maskClickHandler.bind(this)),te.on(this._input(),xe("paste",So),this._maskPasteHandler.bind(this)),te.on(this._input(),xe("drop",So),()=>{this._renderSelectedPart()}),te.on(this._input(),xe("compositionend",So),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&te.on(this._input(),xe("beforeinput",So),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(Eo))},_selectFirstPart(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(ga))},_onMouseWheel(e){this._useMaskBehavior()&&this._partIncrease(e.delta>0?ga:Eo,e)},_selectNextPart(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!(!this.option("text")||this._disposed)){e&&(this._initialMaskValue=new Date(this._maskValue));var t=Ji(this._activePartIndex+e,0,this._dateParts.length-1);if(this._dateParts[t].isStub){var i=t===0&&e<0||t===this._dateParts.length-1&&e>0;if(i)t=this._activePartIndex;else{this._selectNextPart(e>=0?e+1:e-1);return}}this._activePartIndex!==t&&this._clearSearchValue(),this._activePartIndex=t,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern(){if(this._getActivePartProp("pattern")[0]==="d")return"dM"},_getActivePartLimits(e){var t=this._getActivePartProp("limits");return t(this._maskValue,e&&this._getRealLimitsPattern())},_getActivePartValue(e){e=e||this._maskValue;var t=this._getActivePartProp("getter");return Re(t)?t(e):e[t]()},_addLeadingZeroes(e){var t=this._searchValue.match(/^0+/),i=this._getActivePartLimits(),r=String(i.max).length;return((t&&t[0]||"")+String(e)).substr(-r)},_setActivePartValue(e,t){t=t||this._maskValue;var i=this._getActivePartProp("setter"),r=this._getActivePartLimits();e=Xn(e,r.min,r.max)?e:e%10,e=this._addLeadingZeroes(Ji(e,r.min,r.max)),Re(i)?i(t,e):t[i](e),this._renderDisplayText(this._getDisplayedText(t)),this._renderDateParts()},_getActivePartProp(e){if(!(!this._dateParts||!this._dateParts[this._activePartIndex]))return this._dateParts[this._activePartIndex][e]},_loadMaskValue(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dateOption("value");this._maskValue=e&&new Date(e),this._initialMaskValue=e&&new Date(e)},_saveMaskValue(){var e=this._maskValue&&new Date(this._maskValue);e&&this.option("type")==="date"&&e.setHours(0,0,0,0),this._initialMaskValue=new Date(e),this.dateOption("value",e)},_revertChanges(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText(e){this.callBase(e),this._useMaskBehavior()&&this.option("text",e)},_partIncrease(e,t){this._setNewDateIfEmpty();var{max:i,min:r}=this._getActivePartLimits(t),n=i-r;n===1&&n++;var a=e+this._getActivePartValue();a>i?a=this._applyLimits(a,{limitBase:r,limitClosest:i,limitDelta:n}):a<r&&(a=this._applyLimits(a,{limitBase:i,limitClosest:r,limitDelta:n})),this._setActivePartValue(a)},_applyLimits(e,t){var{limitBase:i,limitClosest:r,limitDelta:n}=t,a=(e-r)%n;return a?i+a-1*Xo(a):r},_maskClickHandler(){this._loadMaskValue(this._maskValue),this.option("text")&&(this._activePartIndex=pX(this._dateParts,this._caret().start),this._isAllSelected()||(Z(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))},_maskCompositionEndHandler(e){this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=()=>{this._renderSelectedPart()}},_maskPasteHandler(e){var t=this._replaceSelectedText(this.option("text"),this._caret(),Yg(e)),i=ut.parse(t,this._getFormatPattern());i&&this._isDateValid(i)&&(this._maskValue=i,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),e.preventDefault()},_isDateValid:e=>tr(e)&&!isNaN(e),_isValueDirty(){var e=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(e&&e.getTime())},_fireChangeEvent(){this._clearSearchValue(),this._isValueDirty()&&te.trigger(this._input(),"change")},_enterHandler(e){this._fireChangeEvent(),this._selectNextPart(ga),e.preventDefault()},_focusOutHandler(e){var t=this._useMaskBehavior()&&!e.isDefaultPrevented();t?(this._fireChangeEvent(),this.callBase(e),this._selectFirstPart(e)):this.callBase(e)},_valueChangeEventHandler(e){var t=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(e),t?this._maskValue===null&&this._loadMaskValue(t):this._maskValue=null,this._saveMaskValue()):this.callBase(e)},_optionChanged(e){switch(e.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(e),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(e),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(e)}},_clearMaskState(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},reset(){this._clearMaskState(),this._activePartIndex=0,this.callBase()},_clean(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}});yt("dxDateBox",LY);var{isWrapped:NY}=or,VY="checkbox-size",$Y="dx-editor-inline-block",oD=function(){var e=function(a,s){return re(a,{readOnly:s.readOnly,placeholder:s.placeholder,inputAttr:{id:s.id},tabIndex:s.tabIndex},s.editorOptions)},t=function(){return Qt.mozilla||Ne.real().ios},i=function(a){var s={},o=t(),l=a.sharedData||s;return e({placeholder:a.placeholder,width:a.width,value:a.value,onValueChanged:function(u){var d=a.parentType==="filterRow"||a.parentType==="searchPanel",c=u.event&&(u.event.type==="input"||u.event.type==="keyup"),h=function(f,p){a&&a.setValue(f.value,p)};clearTimeout(s.valueChangeTimeout),c&&d?l.valueChangeTimeout=s.valueChangeTimeout=setTimeout(function(){h(u,s.valueChangeTimeout!==l.valueChangeTimeout)},Z(a.updateValueTimeout)?a.updateValueTimeout:0):h(u)},onKeyDown:function(u){o&&hi(u.event)==="enter"&&te.trigger(W(u.component._input()),"change")},valueChangeEvent:"change"+(a.parentType==="filterRow"?" keyup input":"")},a)},r=function(a){a.parentType==="filterRow"||a.parentType==="filterBuilder"?n(re(a,{lookup:{displayExpr:function(s){if(s===!0)return a.trueText||"true";if(s===!1)return a.falseText||"false"},dataSource:[!0,!1]}})):function(s){s.editorName="dxCheckBox",s.editorOptions=e({elementAttr:{id:s.id},value:Z(s.value)?s.value:void 0,hoverStateEnabled:!s.readOnly,focusStateEnabled:!s.readOnly,activeStateEnabled:!1,onValueChanged:function(o){s.setValue&&s.setValue(o.value,o)}},s)}(a)};function n(a){var s=a.lookup,o,l,u,d=a.parentType==="filterRow";if(s){o=jt(s.displayExpr),l=s.dataSource,Re(l)&&!NY(l)&&(l=l(a.row||{}),function(h){if(h.row&&h.row.watch&&h.parentType==="dataRow"){var f=h.editorOptions||{};h.editorOptions=f;var p,g=f.onInitialized;f.onInitialized=function(b){g&&g.apply(this,arguments),p=b.component,p.on("disposing",v)};var m,v=h.row.watch(()=>(m=h.lookup.dataSource(h.row),m&&m.filter),()=>{p.option("dataSource",m)},b=>{h.row=b})}}(a)),(Ge(l)||Array.isArray(l))&&(l=hl(l),d&&(u=l.postProcess,l.postProcess=function(h){return this.pageIndex()===0&&(h=h.slice(0),h.unshift(null)),u?u.call(this,h):h}));var c=!!(s.allowClearing&&!d);a.editorName="dxSelectBox",a.editorOptions=e({searchEnabled:!0,value:a.value,valueExpr:a.lookup.valueExpr,searchExpr:a.lookup.searchExpr||a.lookup.displayExpr,allowClearing:c,showClearButton:c,displayExpr:function(h){return h===null?a.showAllText:o(h)},dataSource:l,onValueChanged:function(h){var f=[h.value];!d&&f.push(h.component.option("text")),a.setValue.apply(this,f)}},a)}}return{createEditor:function(a,s){if(s.cancel=!1,s.editorElement=qe(a),Z(s.tabIndex)||(s.tabIndex=this.option("tabIndex")),s.lookup)n(s);else switch(s.dataType){case"date":case"datetime":(function(o){o.editorName="dxDateBox",o.editorOptions=e({value:o.value,onValueChanged:function(l){o.setValue(l.value)},onKeyDown:function(l){var{component:u,event:d}=l,c=u.option("useMaskBehavior");(t()||c)&&hi(d)==="enter"&&(u.blur(),u.focus())},displayFormat:o.format,type:o.dataType,dateSerializationFormat:null,width:o.parentType==="filterBuilder"?void 0:"auto"},o)})(s);break;case"boolean":r(s);break;case"number":(function(o){var l=i(o);l.value=Z(o.value)?o.value:null,o.editorName="dxNumberBox",o.editorOptions=l})(s);break;default:(function(o){var l=i(o),u=o.parentType==="searchPanel";o.editorType&&o.editorType!=="dxTextBox"?l.value=o.value:l.value=(d=o.value,Z(d)?d.toString():"");var d;l.valueChangeEvent+=u?" keyup input search":"",l.mode=l.mode||(u?"search":"text"),o.editorName="dxTextBox",o.editorOptions=l})(s)}s.parentType==="dataRow"&&s.editorType&&(s.editorName=s.editorType),this.executeAction("onEditorPreparing",s),!s.cancel&&(s.parentType==="dataRow"&&!s.isOnForm&&!Z(s.editorOptions.showValidationMark)&&(s.editorOptions.showValidationMark=!1),function(o,l){var u=W(l.editorElement);if(l.editorName&&l.editorOptions&&u[l.editorName]){if((l.editorName==="dxCheckBox"||l.editorName==="dxSwitch")&&(l.isOnForm||(u.addClass(o.addWidgetPrefix(VY)),u.parent().addClass($Y))),o._createComponent(u,l.editorName,l.editorOptions),l.editorName==="dxDateBox"){var d=u.dxDateBox("instance"),c=d._supportedKeys().enter;d.registerKeyHandler("enter",h=>(d.option("opened")&&c(h),!0))}l.editorName==="dxTextArea"&&u.dxTextArea("instance").registerKeyHandler("enter",function(h){hi(h)==="enter"&&!h.ctrlKey&&!h.shiftKey&&h.stopPropagation()})}}(this,s),this.executeAction("onEditorPrepared",s))}}}(),HY="dx-editor-inline-block",Vm="dx-cell-focus-disabled",m1="focus-overlay",zY="content",$m="dx-focused",WY="dx-row",lD="dxDataGridEditorFactory",g1=xe([Rt.down,"focusin",Pt].join(" "),lD),Hm="dx-hidden",jY=ei.ViewController.inherit({_getFocusedElement:function(e){var t=this.option("focusedRowEnabled")?"tr[tabindex]:focus":"tr[tabindex]:not(.dx-data-row):focus",i="td[tabindex]:focus, ".concat(t,", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus, .dx-dropdownbutton .dx-buttongroup:focus"),r=e.find(i);return this.elementIsInsideGrid(r)&&r},_getFocusCellSelector:function(){return".dx-row > td"},_updateFocusCore:function(){var e=this.component&&this.component.$element(),t,i;if(e){var r=this._getFocusedElement(e);if(r&&r.length&&(!r.hasClass(Vm)&&!r.hasClass(WY)&&(t=r.closest(this._getFocusCellSelector()+", ."+Vm),i=t.get(0)!==r.get(0)&&t.hasClass(HY),r=t),r.length&&!r.hasClass(Vm))){this.focus(r,i);return}}this.loseFocus()},_updateFocus:function(e){var t=this,i=e&&e.event&&W(e.event.target).hasClass(t.addWidgetPrefix(m1));t._isFocusOverlay=t._isFocusOverlay||i,clearTimeout(t._updateFocusTimeoutID),t._updateFocusTimeoutID=setTimeout(function(){delete t._updateFocusTimeoutID,t._isFocusOverlay||t._updateFocusCore(),t._isFocusOverlay=!1})},_updateFocusOverlaySize:function(e,t){e.hide();var i=zi.calculate(e,re({collision:"fit"},t));i.h.oversize>0&&sy(e,At(e)-i.h.oversize),i.v.oversize>0&&oy(e,Ct(e)-i.v.oversize),e.show()},callbackNames:function(){return["focused"]},focus:function(e,t){var i=this;if(e===void 0)return i._$focusedElement;e&&(e.is(i._$focusedElement)||i._$focusedElement&&i._$focusedElement.removeClass($m),i._$focusedElement=e,clearTimeout(i._focusTimeoutID),i._focusTimeoutID=setTimeout(function(){delete i._focusTimeoutID,i.renderFocusOverlay(e,t),e.addClass($m),i.focused.fire(e)}))},refocus:function(){var e=this.focus();this.focus(e)},renderFocusOverlay:function(e,t){if(Ee.isElementInCurrentGrid(this,e)){if(this._$focusOverlay||(this._$focusOverlay=W("<div>").addClass(this.addWidgetPrefix(m1))),t)this._$focusOverlay.addClass(Hm);else if(e.length){var i=Qt.mozilla?"right bottom":"left top",r=e.closest("."+this.addWidgetPrefix(zY)),n=mi(e.get(0));this._$focusOverlay.removeClass(Hm).appendTo(r),oy(this._$focusOverlay,n.bottom-n.top+1),sy(this._$focusOverlay,n.right-n.left+1);var a={precise:!0,my:i,at:i,of:e,boundary:r.length&&r};this._updateFocusOverlaySize(this._$focusOverlay,a),zi.setup(this._$focusOverlay,a),this._$focusOverlay.css("visibility","visible")}}},resize:function(){var e=this._$focusedElement;e&&this.focus(e)},loseFocus:function(){this._$focusedElement&&this._$focusedElement.removeClass($m),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass(Hm)},init:function(){this.createAction("onEditorPreparing",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this._updateFocusHandler=this._updateFocusHandler||this.createAction(this._updateFocus.bind(this)),te.on(we.getDocument(),g1,this._updateFocusHandler),this._attachContainerEventHandlers()},_attachContainerEventHandlers:function(){var e=this,t=e.component&&e.component.$element();t&&te.on(t,xe("keydown",lD),function(i){hi(i)==="tab"&&e._updateFocusHandler(i)})},dispose:function(){clearTimeout(this._focusTimeoutID),clearTimeout(this._updateFocusTimeoutID),te.off(we.getDocument(),g1,this._updateFocusHandler)}}).include(oD),UY={defaultOptions:function(){return{}},controllers:{editorFactory:jY}};Le.registerModule("editorFactory",UY);var zm=at(),GY={text:"OK",onClick:function(){return!0}},to="dx-dialog",KY="".concat(to,"-wrapper"),qY="".concat(to,"-root"),XY="".concat(to,"-content"),YY="".concat(to,"-message"),ZY="".concat(to,"-buttons"),JY="".concat(to,"-button"),v1="dx-button",QY=A_.inherit({ctor:function(e,t){this.callBase(t)},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{width:276}}])}}),eZ=function(e){var t,i=new pe,r=new QY().option();e=re(r,e);var n=W("<div>").addClass(to).appendTo(Va()),a="message"in e,s="messageHtml"in e;a&&gt.log("W1013");var o=String(s?e.messageHtml:e.message),l=W("<div>").addClass(YY).html(o),u=[];le(e.buttons||[GY],function(){var h=new br(this.onClick,{context:d});u.push({toolbar:"bottom",location:Ne.current().android?"after":"center",widget:"dxButton",options:re({},this,{onClick:function(){var f=h.execute(...arguments);c(f)}})})});var d=new kn(n,re({title:(t=e.title)!==null&&t!==void 0?t:"",showTitle:di(e.showTitle,!0),dragEnabled:di(e.dragEnabled,!0),height:"auto",width:e.width,showCloseButton:e.showCloseButton||!1,ignoreChildEvents:!1,container:n,visualContainer:zm,onContentReady:function(h){h.component.$content().addClass(XY).append(l)},onShowing:function(h){h.component.bottomToolbar().addClass(ZY).find(".".concat(v1)).addClass(JY),ll()},onShown:function(h){var f=h.component.bottomToolbar().find(".".concat(v1)).first();te.trigger(f,"focus")},onHiding:function(){i.reject()},toolbarItems:u,animation:{show:{type:"pop",duration:400},hide:{type:"pop",duration:400,to:{opacity:0,scale:0},from:{opacity:1,scale:1}}},rtlEnabled:Jt().rtlEnabled,position:{boundaryOffset:{h:10,v:0}}},e.popupOptions));d.$wrapper().addClass(KY),e.position&&d.option("position",e.position),d.$wrapper().addClass(qY);function c(h){i.resolve(h),d.hide().done(function(){d.$element().remove()})}return{show:function(){if(Ne.real().platform==="android"){var h=nt(zm)>Ze(zm),f=h?"80%":"60%";d.option({width:f})}return d.show(),i.promise()},hide:c}},tZ=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,r=ft(e)?e:{title:t,messageHtml:e,showTitle:i,buttons:[{text:_e.format("Yes"),onClick:function(){return!0}},{text:_e.format("No"),onClick:function(){return!1}}],dragEnabled:i};return eZ(r).show()},iZ="dx-editor-cell",rZ="dx-row",_1="dx-selection",uD="edit-form",mn="insert",va="remove",Kh="editing.popup",Wm="editing.form",en="editing.editRowKey",ql="editing.editColumnName",dD="targetComponent",hD="input:not([type='hidden'])",cD="[tabindex], "+hD,Ov="batch",el="row",fD="cell",Af="form",z0="popup",b1="first",vh="last",y1="pageBottom",jm="pageTop",C1="viewportBottom",pD="viewportTop",nZ=[Ov,el,fD,Af,z0],aZ=[el,Af,z0],sZ=[el,Af],oZ="readonly",lZ="dx-link",uZ="dx-selection",dZ="dx-edit-button",mD="dx-command-edit",w1=mD+"-with-icons",_a="__DX_INSERT_INDEX__",hZ="dx-row-inserted",cZ="dx-row-modified",x1="dx-cell-modified",fZ="dxDataGridEditing",pZ="dx-cell-focus-disabled",Ll="update",mZ="click",gZ={save:"dx-link-save",cancel:"dx-link-cancel",edit:"dx-link-edit",undelete:"dx-link-undelete",delete:"dx-link-delete",add:"dx-link-add"},vZ={save:"save",cancel:"revert",edit:"edit",undelete:"revert",delete:"trash",add:"add"},_Z={edit:"editRow",delete:"deleteRow",undelete:"undeleteRow",save:"saveEditData",cancel:"cancelEditData",add:"addRowByRowIndex"},bZ={add:"allowAdding",edit:"allowUpdating",delete:"allowDeleting"},yZ=["edit","save","cancel","delete","undelete"],zn="editing.changes",_h=function(e){return function(t){var i=t instanceof Error?t:new Error(t&&String(t)||"Unknown error");e.reject(i)}},gD=function(e,t){return t.isEditing||e&&t.column.allowEditing},S1=function(e,t){var i=!!t.column.command,r=gD(e,t),n=!i&&(r||t.column.showEditorAlways);return t.rowType==="data"&&n},CZ=ei.ViewController.inherit(function(){var e=(i,r)=>{var n=-1;return i.some((a,s)=>{if(t(a)===r)return n=s,!0}),n};function t(i){return Ge(i)?i.name:i}return{init:function(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._rowsView=this.getView("rowsView"),this._lastOperation=null,this._deferreds&&this._deferreds.forEach(i=>i.reject("cancel")),this._deferreds=[],this._dataChangedHandler||(this._dataChangedHandler=this._handleDataChanged.bind(this),this._dataController.changed.add(this._dataChangedHandler)),this._saveEditorHandler||(this.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceling",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceled",{excludeValidators:["disabled","readOnly"]})),this._updateEditColumn(),this._updateEditButtons(),this._internalState||(this._internalState=[]),this.component._optionsByReference[en]=!0,this.component._optionsByReference[zn]=!0},getEditMode:function(){var i=this.option("editing.mode");return nZ.indexOf(i)!==-1?i:el},_getDefaultEditorTemplate:function(){return(i,r)=>{var n=W("<div>").appendTo(i);this.getController("editorFactory").createEditor(n,re({},r.column,{value:r.value,setValue:r.setValue,row:r.row,parentType:"dataRow",width:null,readOnly:!r.setValue,isOnForm:r.isOnForm,id:r.id}))}},_getNewRowPosition:function(){var i=this.option("editing.newRowPosition"),r=this.option("scrolling.mode");if(r==="virtual")switch(i){case jm:return pD;case y1:return C1;default:return i}return i},getChanges:function(){return this.option(zn)},getInsertRowCount:function(){var i=this.option(zn);return i.filter(r=>r.type==="insert").length},resetChanges:function(){var i=this.getChanges(),r=i==null?void 0:i.length;r&&this._silentOption(zn,[])},_getInternalData:function(i){return this._internalState.filter(r=>ni(r.key,i))[0]},_addInternalData:function(i){var r=this._getInternalData(i.key);return r?re(r,i):(this._internalState.push(i),i)},_getOldData:function(i){var r;return(r=this._getInternalData(i))===null||r===void 0?void 0:r.oldData},getUpdatedData:function(i){var r=this._dataController.keyOf(i),n=this.getChanges(),a=Ee.getIndexByKey(r,n);return n[a]?Da(i,n[a].data):i},getInsertedData:function(){return this.getChanges().filter(i=>i.data&&i.type===mn).map(i=>i.data)},getRemovedData:function(){return this.getChanges().filter(i=>this._getOldData(i.key)&&i.type===va).map(i=>this._getOldData(i.key))},_fireDataErrorOccurred:function(i){if(i!=="cancel"){var r=this.getPopupContent();this._dataController.dataErrorOccurred.fire(i,r)}},_needToCloseEditableCell:me,_closeEditItem:me,_handleDataChanged:me,_isDefaultButtonVisible:function(i,r){var n=!0;switch(i.name){case"delete":n=this.allowDeleting(r);break;case"undelete":n=!1}return n},_isButtonVisible:function(i,r){var n=i.visible;return Z(n)?Re(n)?n.call(i,{component:r.component,row:r.row,column:r.column}):n:this._isDefaultButtonVisible(i,r)},_isButtonDisabled:function(i,r){var n=i.disabled;return Re(n)?n.call(i,{component:r.component,row:r.row,column:r.column}):!!n},_getButtonConfig:function(i,r){var n=Ge(i)?i:{},a=t(i),s=(c=>{var h=c.component.option("editing.texts")||{};return{save:h.saveRowChanges,cancel:h.cancelRowChanges,edit:h.editRow,undelete:h.undeleteRow,delete:h.deleteRow,add:h.addRowToNode}})(r),o=_Z[a],l=this.option("editing"),u=bZ[a],d=u?l[u]:!0;return re({name:a,text:s[a],cssClass:gZ[a]},{onClick:o&&(c=>{var h=c.event;h.stopPropagation(),h.preventDefault(),setTimeout(()=>{r.row&&d&&this[o]&&this[o](r.row.rowIndex)})})},n)},_getEditingButtons:function(i){var r,n=!!i.column.buttons,a=(i.column.buttons||[]).slice();return n?(r=e(a,"edit"),r>=0&&(e(a,"save")<0&&a.splice(r+1,0,"save"),e(a,"cancel")<0&&a.splice(e(a,"save")+1,0,"cancel")),r=e(a,"delete"),r>=0&&e(a,"undelete")<0&&a.splice(r+1,0,"undelete")):a=yZ.slice(),a.map(s=>this._getButtonConfig(s,i))},_renderEditingButtons:function(i,r,n,a){r.forEach(s=>{this._isButtonVisible(s,n)&&this._createButton(i,s,n,a)})},_getEditCommandCellTemplate:function(){return(i,r,n)=>{var a=W(i);if(r.rowType==="data"){var s=this._getEditingButtons(r);this._renderEditingButtons(a,s,r,n),r.watch&&r.watch(()=>s.map(o=>this._isButtonVisible(o,r)),()=>{a.empty(),this._renderEditingButtons(a,s,r)})}else Ee.setEmptyText(a)}},isRowBasedEditMode:function(){var i=this.getEditMode();return aZ.indexOf(i)!==-1},getFirstEditableColumnIndex:function(){var i=this.getController("columns"),r,n=i.getVisibleColumns();return le(n,function(a,s){if(s.allowEditing)return r=a,!1}),r},getFirstEditableCellInRow:function(i){var r=this.getView("rowsView");return r&&r._getCellElement(i||0,this.getFirstEditableColumnIndex())},getFocusedCellInRow:function(i){return this.getFirstEditableCellInRow(i)},getIndexByKey:function(i,r){return Ee.getIndexByKey(i,r)},hasChanges:function(i){for(var r=this.getChanges(),n=!1,a=0;a<(r==null?void 0:r.length);a++)if(r[a].type&&(!Z(i)||this._dataController.getRowIndexByKey(r[a].key)===i)){n=!0;break}return n},dispose:function(){this.callBase(),clearTimeout(this._inputFocusTimeoutID),te.off(we.getDocument(),Rt.up,this._pointerUpEditorHandler),te.off(we.getDocument(),Rt.down,this._pointerDownEditorHandler),te.off(we.getDocument(),Pt,this._saveEditorHandler)},optionChanged:function(i){if(i.name==="editing"){var r=i.fullName;r===en?this._handleEditRowKeyChange(i):r===zn?this._handleChangesChange(i):i.handled||(this._columnsController.reinit(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey()),i.handled=!0}else this.callBase(i)},_handleEditRowKeyChange:function(i){var r=this._dataController.getRowIndexByKey(i.value),n=this._getEditRowIndexCorrection(),a=this._dataController.getRowIndexByKey(i.previousValue)+n;Z(i.value)?i.value!==i.previousValue&&this._editRowFromOptionChanged(r,a):this.cancelEditData()},_handleChangesChange:function(i){var r=this._dataController,n=i.value;!i.value.length&&!i.previousValue.length||(n.forEach(a=>{if(a.type==="insert")this._addInsertInfo(a);else{var s,o=r.items(),l=r.getRowIndexByKey(a.key);this._addInternalData({key:a.key,oldData:(s=o[l])===null||s===void 0?void 0:s.data})}}),r.updateItems({repaintChangesOnly:!0,isLiveUpdate:!1}))},publicMethods:function(){return["addRow","deleteRow","undeleteRow","editRow","saveEditData","cancelEditData","hasEditData"]},refresh:function(){Z(this._pageIndex)&&this._refreshCore.apply(this,arguments)},_refreshCore:me,isEditing:function(){var i=Z(this.option(en));return i},isEditRow:function(){return!1},_setEditRowKey:function(i,r){r?this._silentOption(en,i):this.option(en,i)},_setEditRowKeyByIndex:function(i,r){var n=this._dataController.getKeyByRowIndex(i);if(n===void 0){this._dataController.fireError("E1043");return}this._setEditRowKey(n,r)},getEditRowIndex:function(){return this._getVisibleEditRowIndex()},getEditFormRowIndex:function(){return-1},isEditRowByIndex(i){var r=this._dataController.getKeyByRowIndex(i),n=Z(r)&&ni(this.option(en),r);return n&&this._getVisibleEditRowIndex()===i},isEditCell:function(i,r){return this.isEditRowByIndex(i)&&this._getVisibleEditColumnIndex()===r},getPopupContent:me,_isProcessedItem:function(i){return!1},_getInsertRowIndex:function(i,r,n){var a=-1,s=this._dataController,o=this._getInsertAfterOrBeforeKey(r);return!Z(o)&&i.length===0?a=0:Z(o)&&i.some((l,u)=>{var d=n||this._isProcessedItem(l);if(Ge(l)&&(d||Z(l[_a])?ni(l.key,o)&&(a=u):ni(s.keyOf(l),o)&&(a=u)),a>=0){var c=i[a+1];return c&&(c.rowType==="detail"||c.rowType==="detailAdaptive")&&Z(r.insertAfterKey)?void 0:(Z(r.insertAfterKey)&&(a+=1),!0)}}),a},_generateNewItem:function(i){var r,n={key:i},a=(r=this._getInternalData(i))===null||r===void 0?void 0:r.insertInfo;return a!=null&&a[_a]&&(n[_a]=a[_a]),n},_getLoadedRowIndex:function(i,r,n){var a=this._getInsertRowIndex(i,r,n),s=this._dataController;if(a<0){var o=this._getNewRowPosition(),l=s.pageIndex(),u=this._getInsertAfterOrBeforeKey(r);o!==vh&&l===0&&!Z(u)?a=0:o===vh&&s.isLastPageLoaded()&&(a=i.length)}return a},processItems:function(i,r){var n=r.changeType;this.update(n);var a=this.getChanges();return a.forEach(s=>{var o,l=s.type===mn;if(l){var u=s.key,d=(o=this._getInternalData(u))===null||o===void 0?void 0:o.insertInfo;(!Z(u)||!Z(d))&&(d=this._addInsertInfo(s),u=d.key);var c=this._getLoadedRowIndex(i,s),h=this._generateNewItem(u);c>=0&&i.splice(c,0,h)}}),i},processDataItem:function(i,r,n){var a=r.visibleColumns,s=i.data[_a]?i.data.key:i.key,o=this.getChanges(),l=Ee.getIndexByKey(s,o);i.isEditing=!1,l>=0&&this._processDataItemCore(i,o[l],s,a,n)},_processDataItemCore:function(i,r,n,a,s){var{data:o,type:l}=r;switch(l){case mn:i.isNewRow=!0,i.key=n,i.data=o;break;case Ll:i.modified=!0,i.oldData=i.data,i.data=Da(i.data,o),i.modifiedValues=s(o,a,!0);break;case va:i.removed=!0}},_initNewRow:function(i){if(this.executeAction("onInitNewRow",i),i.promise){var r=new pe;return Pe(Hi(i.promise)).done(r.resolve).fail(_h(r)).fail(n=>this._fireDataErrorOccurred(n)),r}},_createInsertInfo:function(){var i={};return i[_a]=this._getInsertIndex(),i},_addInsertInfo:function(i,r){var n,a,{key:s}=i;if(Z(s)||(s=String(new Ri),i.key=s),a=(n=this._getInternalData(s))===null||n===void 0?void 0:n.insertInfo,!Z(a)){var o=this._getInsertAfterOrBeforeKey(i);a=this._createInsertInfo(),Z(o)||this._setInsertAfterOrBeforeKey(i,r)}return this._addInternalData({insertInfo:a,key:s}),{insertInfo:a,key:s}},_setInsertAfterOrBeforeKey:function(i,r){var n=this._dataController,a=n.items(!0),s=this.getView("rowsView"),o=this._getNewRowPosition();switch(o){case b1:case vh:break;case jm:case y1:if(a.length){var l=o===jm?0:a.length-1;i[l===0?"insertBeforeKey":"insertAfterKey"]=a[l].key}break;default:var u=o===C1,d=u?s==null?void 0:s.getBottomVisibleItemIndex():s==null?void 0:s.getTopVisibleItemIndex(),c=n.getVisibleRows()[d];c&&(!c.isEditing&&c.rowType==="detail"||c.rowType==="detailAdaptive")&&d++;var h=n.getKeyByRowIndex(d);Z(h)&&(i.insertBeforeKey=h)}},_getInsertIndex:function(){var i=0;return this.getChanges().forEach(r=>{var n,a=(n=this._getInternalData(r.key))===null||n===void 0?void 0:n.insertInfo;Z(a)&&r.type===mn&&a[_a]>i&&(i=a[_a])}),i+1},_getInsertAfterOrBeforeKey:function(i){var r;return(r=i.insertAfterKey)!==null&&r!==void 0?r:i.insertBeforeKey},_getPageIndexToInsertRow:function(){var i=this._getNewRowPosition(),r=this._dataController,n=r.pageIndex(),a=r.pageCount()-1;return i===b1&&n!==0?0:i===vh&&n!==a?a:-1},addRow:function(i){var r=this._dataController,n=r.store();return n?this._addRow(i):(r.fireError("E1052",this.component.NAME),new pe().reject())},_addRow:function(i){var r=this._dataController,n=r.store(),a=n&&n.key(),s={data:{}},o=this._getVisibleEditRowIndex(),l=new pe;return this.refresh({allowCancelEditing:!0}),this._allowRowAdding()?(a||(s.data.__KEY__=String(new Ri)),Pe(this._initNewRow(s,i)).done(()=>{this._allowRowAdding()?Pe(this._addRowCore(s.data,i,o)).done(l.resolve).fail(l.reject):l.reject("cancel")}).fail(l.reject),l.promise()):(Pe(this._navigateToNewRow(o)).done(l.resolve).fail(l.reject),l.promise())},_allowRowAdding:function(){var i=this._getInsertIndex();return!(i>1)},_addRowCore:function(i,r,n){var a={data:i,type:mn},s=this._getVisibleEditRowIndex(),o=this._addInsertInfo(a,r),l=o.key;return this._setEditRowKey(l,!0),this._addChange(a),this._navigateToNewRow(n,a,s)},_navigateToNewRow:function(i,r,n){var a,s,o=new pe,l=this._dataController,u=this.getController("focus");if(n=(a=n)!==null&&a!==void 0?a:-1,r=(s=r)!==null&&s!==void 0?s:this.getChanges().filter(p=>p.type===mn)[0],!r)return o.reject("cancel").promise();var d=this._getPageIndexToInsertRow(),c=this._getLoadedRowIndex(l.items(),r,!0),h=p=>{Pe(u==null?void 0:u.navigateToRow(p)).done(()=>{c=l.getRowIndexByKey(r.key),o.resolve()})},f=this._getInsertAfterOrBeforeKey(r);return d>=0?l.pageIndex(d).done(()=>{h(r.key)}).fail(o.reject):c<0&&Z(f)?h(f):(l.updateItems({changeType:"update",rowIndices:[i,n,c]}),c=l.getRowIndexByKey(r.key),c<0?h(r.key):o.resolve()),o.done(()=>{this._showAddedRow(c),this._afterInsertRow(r.key)}),o.promise()},_showAddedRow:function(i){this._focusFirstEditableCellInRow(i)},_beforeFocusElementInRow:me,_focusFirstEditableCellInRow:function(i){var r=this._dataController,n=r.getKeyByRowIndex(i),a=this.getFirstEditableCellInRow(i);this._editCellInProgress=!0,this._delayedInputFocus(a,()=>{i=r.getRowIndexByKey(n),this._editCellInProgress=!1,this._beforeFocusElementInRow(i)})},_isEditingStart:function(i){return this.executeAction("onEditingStart",i),i.cancel},_beforeUpdateItems:me,_getVisibleEditColumnIndex:function(){var i=this.option(ql);return Z(i)?this._columnsController.getVisibleColumnIndex(i):-1},_setEditColumnNameByIndex:function(i,r){var n,a=this._columnsController.getVisibleColumns();this._setEditColumnName((n=a[i])===null||n===void 0?void 0:n.name,r)},_setEditColumnName:function(i,r){r?this._silentOption(ql,i):this.option(ql,i)},_resetEditColumnName:function(){this._setEditColumnName(null,!0)},_getEditColumn:function(){var i=this.option(ql);return this._getColumnByName(i)},_getColumnByName:function(i){var r=this._columnsController.getVisibleColumns(),n;return Z(i)&&r.some(a=>{if(a.name===i)return n=a,!0}),n},_getVisibleEditRowIndex:function(i){var r=this._dataController,n=this.option(en),a=r.getRowIndexByKey(n);return a===-1?a:a+this._getEditRowIndexCorrection(i)},_getEditRowIndexCorrection:function(i){var r=i?this._getColumnByName(i):this._getEditColumn(),n=(r==null?void 0:r.visibleWidth)==="adaptiveHidden";return n?1:0},_resetEditRowKey:function(){this._setEditRowKey(null,!0)},_resetEditIndices:function(){this._resetEditColumnName(),this._resetEditRowKey()},editRow:function(i){var r,n=this._dataController,a=n.items(),s=a[i],o={data:s&&s.data,cancel:!1},l=this._getVisibleEditRowIndex();if(s){if(i===l)return!0;if(s.key===void 0){this._dataController.fireError("E1043");return}s.isNewRow||(o.key=s.key),!this._isEditingStart(o)&&(this.resetChanges(),this.init(),this._resetEditColumnName(),this._pageIndex=n.pageIndex(),this._addInternalData({key:s.key,oldData:(r=s.oldData)!==null&&r!==void 0?r:s.data}),this._setEditRowKey(s.key))}},_editRowFromOptionChanged:function(i,r){var n=[r,i];this._beforeUpdateItems(n,i,r),this._editRowFromOptionChangedCore(n,i)},_editRowFromOptionChangedCore:function(i,r,n){this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:i,cancel:n})},_focusEditorIfNeed:me,_showEditPopup:me,_repaintEditPopup:me,_getEditPopupHiddenHandler:function(){return i=>{this.isEditing()&&this.cancelEditData()}},_getPopupEditFormTemplate:me,_getSaveButtonConfig:function(){return{text:this.option("editing.texts.saveRowChanges"),onClick:this.saveEditData.bind(this)}},_getCancelButtonConfig:function(){return{text:this.option("editing.texts.cancelRowChanges"),onClick:this.cancelEditData.bind(this)}},_removeInternalData:function(i){var r=this._getInternalData(i),n=this._internalState.indexOf(r);n>-1&&this._internalState.splice(n,1)},_updateInsertAfterOrBeforeKeys:function(i,r){var n=i[r];i.forEach(a=>{var s=this._getInsertAfterOrBeforeKey(a);ni(s,n.key)&&(a[Z(a.insertAfterKey)?"insertAfterKey":"insertBeforeKey"]=this._getInsertAfterOrBeforeKey(n))})},_removeChange:function(i){if(i>=0){var r=[...this.getChanges()],n=r[i].key;this._removeInternalData(n),this._updateInsertAfterOrBeforeKeys(r,i),r.splice(i,1),this._silentOption(zn,r),ni(this.option(en),n)&&this._resetEditIndices()}},executeOperation:function(i,r){this._lastOperation&&this._lastOperation.reject(),this._lastOperation=i,this.waitForDeferredOperations().done(()=>{i.state()!=="rejected"&&(r(),this._lastOperation=null)}).fail(()=>{i.reject(),this._lastOperation=null})},waitForDeferredOperations:function(){return Pe(...this._deferreds)},_processCanceledEditingCell:me,_repaintEditCell:function(i,r,n){this._needFocusEditor=!0,!i||!i.showEditorAlways||r&&!r.showEditorAlways?(this._editCellInProgress=!0,this.getController("editorFactory").loseFocus(),this._dataController.updateItems({changeType:"update",rowIndices:[n,this._getVisibleEditRowIndex()]})):i!==r&&this._dataController.updateItems({changeType:"update",rowIndices:[]})},_delayedInputFocus:function(i,r,n){var a=()=>{if(r&&r(),i){var s=i.find(cD).first();Ee.focusAndSelectElement(this,s)}this._beforeFocusCallback=null};Ne.real().ios||Ne.real().android?a():(this._beforeFocusCallback&&this._beforeFocusCallback(),clearTimeout(this._inputFocusTimeoutID),n&&(this._beforeFocusCallback=r),this._inputFocusTimeoutID=setTimeout(a))},_focusEditingCell:function(i,r,n){var a=this.getView("rowsView"),s=this._getVisibleEditColumnIndex();r=r||a&&a._getCellElement(this._getVisibleEditRowIndex(),s),r&&this._delayedInputFocus(r,i,n)},deleteRow:function(i){this._checkAndDeleteRow(i)},_checkAndDeleteRow:function(i){var r=this.option("editing"),n=r==null?void 0:r.texts,a=r==null?void 0:r.confirmDelete,s=n==null?void 0:n.confirmDeleteMessage,o=this._dataController.items()[i],l=!this.isEditing()||o.isNewRow;if(o&&l)if(!a||!s)this._deleteRowCore(i);else{var u=n&&n.confirmDeleteTitle,d=Z(u)&&u.length>0;tZ(s,u,d).done(c=>{c&&this._deleteRowCore(i)})}},_deleteRowCore:function(i){var r=this._dataController,n=r.items()[i],a=n&&n.key,s=this._getVisibleEditRowIndex();this.refresh();var o=this.getChanges(),l=Ee.getIndexByKey(a,o);return l>=0?o[l].type===mn?this._removeChange(l):this._addChange({key:a,type:va}):this._addChange({key:a,oldData:n.data,type:va}),this._afterDeleteRow(i,s)},_afterDeleteRow:function(i,r){return this.saveEditData()},undeleteRow:function(i){var r=this._dataController,n=r.items()[i],a=this._getVisibleEditRowIndex(),s=n&&n.key,o=this.getChanges();if(n){var l=Ee.getIndexByKey(s,o);if(l>=0){var{data:u}=o[l];jr(u)?this._removeChange(l):this._addChange({key:s,type:Ll}),r.updateItems({changeType:"update",rowIndices:[a,i]})}}},_fireOnSaving:function(){var i={cancel:!1,promise:null,changes:[...this.getChanges()]};this.executeAction("onSaving",i);var r=new pe;return Pe(Hi(i.promise)).done(()=>{r.resolve(i)}).fail(n=>{this._fireDataErrorOccurred(n),r.resolve({cancel:!0})}),r},_executeEditingAction:function(i,r,n){if(this.component._disposed)return null;var a=new pe;return this.executeAction(i,r),Pe(Hi(r.cancel)).done(function(s){s?setTimeout(function(){a.resolve("cancel")}):n(r).done(a.resolve).fail(_h(a))}).fail(_h(a)),a},_processChanges:function(i,r,n,a){var s=this._dataController.store();le(a,(o,l)=>{var u=this._getOldData(l.key),{data:d,type:c}=l,h=Ie({},l),f,p;if(!this._beforeSaveEditData(l,o)){switch(c){case va:p={data:u,key:l.key,cancel:!1},f=this._executeEditingAction("onRowRemoving",p,function(){return s.remove(l.key).done(function(m){n.push({type:"remove",key:m})})});break;case mn:p={data:d,cancel:!1},f=this._executeEditingAction("onRowInserting",p,function(){return s.insert(p.data).done(function(m,v){Z(v)&&(h.key=v),m&&Ge(m)&&m!==p.data&&(h.data=m),n.push({type:"insert",data:m,index:0})})});break;case Ll:p={newData:d,oldData:u,key:l.key,cancel:!1},f=this._executeEditingAction("onRowUpdating",p,function(){return s.update(l.key,p.newData).done(function(m,v){m&&Ge(m)&&m!==p.newData&&(h.data=m),n.push({type:"update",key:v,data:m})})})}if(a[o]=h,f){var g=new pe;f.always(function(m){r.push({key:l.key,result:m})}).always(g.resolve),i.push(g.promise())}}})},_processRemoveIfError:function(i,r){var n=i[r];return(n==null?void 0:n.type)===va&&r>=0&&i.splice(r,1),!0},_processRemove:function(i,r,n){var a=i[r];if(!n||!a||a.type===va)return this._processRemoveCore(i,r,!n||!a)},_processRemoveCore:function(i,r){return r>=0&&i.splice(r,1),!0},_processSaveEditDataResult:function(i){for(var r=!1,n=[...this.getChanges()],a=n.length,s=0;s<i.length;s++){var o=i[s].result,l=o==="cancel",u=Ee.getIndexByKey(i[s].key,n),d=n[u],c=o&&o instanceof Error;if(c){if(d&&this._addInternalData({key:d.key,error:o}),this._fireDataErrorOccurred(o),this._processRemoveIfError(n,u))break}else this._processRemove(n,u,l)&&(r=!l)}return n.length<a&&this._silentOption(zn,n),r},_fireSaveEditDataEvents:function(i){le(i,(r,n)=>{var{data:a,key:s,type:o}=n,l=this._addInternalData({key:s}),u={key:s,data:a};switch(l.error&&(u.error=l.error),o){case va:this.executeAction("onRowRemoved",re({},u,{data:l.oldData}));break;case mn:this.executeAction("onRowInserted",u);break;case Ll:this.executeAction("onRowUpdated",u)}}),this.executeAction("onSaved",{changes:i})},saveEditData:function(){var i=new pe;return this.waitForDeferredOperations().done(()=>{if(this.isSaving()){this._resolveAfterSave(i);return}Pe(this._beforeSaveEditData()).done(r=>{if(r){this._resolveAfterSave(i,{cancel:r});return}this._saving=!0;var n={};this._saveEditDataInner(n).always(()=>{this._saving=!1,n.needFocusEditCell&&this._focusEditingCell()}).done(i.resolve).fail(i.reject)}).fail(i.reject)}).fail(i.reject),i.promise()},_resolveAfterSave:function(i){var{cancel:r,error:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Pe(this._afterSaveEditData(r)).done(function(){i.resolve(n)}).fail(i.reject)},_saveEditDataInner:function(i){var r=[],n=[],a=[],s=this._dataController,o=s.dataSource(),l=new pe;return Pe(this._fireOnSaving()).done(u=>{var{cancel:d,changes:c}=u;if(d)return l.resolve().promise();if(this._processChanges(n,r,a,c),n.length)return o==null||o.beginLoading(),Pe(...n).done(()=>{this._processSaveEditDataResult(r)?this._endSaving(a,c,l):(o==null||o.endLoading(),l.resolve())}).fail(h=>{o==null||o.endLoading(),l.resolve(h)}),l.always(()=>{i.needFocusEditCell=!0}).promise();this._cancelSaving(l)}).fail(l.reject),l.promise()},_beforeEndSaving:function(i){this._resetEditIndices()},_endSaving:function(i,r,n){var a=this._dataController.dataSource();this._beforeEndSaving(r),a==null||a.endLoading(),this._refreshDataAfterSave(i,r,n)},_cancelSaving:function(i){this.executeAction("onSaved",{changes:[]}),this._resolveAfterSave(i)},_refreshDataAfterSave:function(i,r,n){var a=this._dataController,s=this.option("editing.refreshMode"),o=s!=="reshape"&&s!=="repaint";o||a.push(i),Pe(a.refresh({selection:o,reload:o,load:s==="reshape",changesOnly:this.option("repaintChangesOnly")})).always(()=>{this._fireSaveEditDataEvents(r)}).done(()=>{this._resolveAfterSave(n)}).fail(l=>{this._resolveAfterSave(n,{error:l})})},isSaving:function(){return this._saving},_updateEditColumn:function(){var i=this._isEditColumnVisible(),r=this.option("editing.useIcons"),n=mD+(r?" "+w1:"");this._columnsController.addCommandColumn({type:"buttons",command:"edit",visible:i,cssClass:n,width:"auto",alignment:"center",cellTemplate:this._getEditCommandCellTemplate(),fixedPosition:"right"}),this._columnsController.columnOption("command:edit",{visible:i,cssClass:n})},_isEditColumnVisible:function(){var i=this.option("editing");return i.allowDeleting},_isEditButtonDisabled:function(){var i=this.hasChanges(),r=Z(this.option("editing.editRowKey"));return!(r||i)},_updateEditButtons:function(){var i=this.getView("headerPanel"),r=this._isEditButtonDisabled();i&&(i.setToolbarItemDisabled("saveButton",r),i.setToolbarItemDisabled("revertButton",r))},_applyModified:function(i){i&&i.addClass(x1)},_beforeCloseEditCellInBatchMode:me,cancelEditData:function(){var i=this.getChanges(),r={cancel:!1,changes:i};this.executeAction("onEditCanceling",r),r.cancel||(this._cancelEditDataCore(),this.executeAction("onEditCanceled",{changes:i}))},_cancelEditDataCore:function(){var i=this._getVisibleEditRowIndex();this._beforeCancelEditData(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey(),this._afterCancelEditData(i)},_afterCancelEditData:function(i){var r=this._dataController;r.updateItems({repaintChangesOnly:this.option("repaintChangesOnly")})},_hideEditPopup:me,hasEditData:function(){return this.hasChanges()},update:function(i){var r=this._dataController;r&&this._pageIndex!==r.pageIndex()&&(i==="refresh"&&this.refresh({isPageChanged:!0}),this._pageIndex=r.pageIndex()),this._updateEditButtons()},_getRowIndicesForCascadeUpdating:function(i,r){return r?[]:[i.rowIndex]},addDeferred:function(i){this._deferreds.indexOf(i)<0&&(this._deferreds.push(i),i.always(()=>{var r=this._deferreds.indexOf(i);r>=0&&this._deferreds.splice(r,1)}))},_prepareChange:function(i,r,n){var a,s={},o=(a=i.row)===null||a===void 0?void 0:a.data,l=i.key,u=new pe;if(l!==void 0){i.value=r;var d=Hi(i.column.setCellValue(s,r,re(!0,{},o),n));d.done(function(){u.resolve({data:s,key:l,oldData:o,type:Ll})}).fail(_h(u)).fail(c=>this._fireDataErrorOccurred(c)),Z(n)&&i.column.displayValueMap&&(i.column.displayValueMap[r]=n),this._updateRowValues(i),this.addDeferred(u)}return u},_updateRowValues:function(i){if(i.values){var r=this._dataController,n=r.getRowIndexByKey(i.key),a=r.getVisibleRows()[n];a&&(i.values=a.values),i.values[i.columnIndex]=i.value}},updateFieldValue:function(i,r,n,a){var s=i.key,o=new pe;return s===void 0&&this._dataController.fireError("E1043"),i.column.setCellValue?this._prepareChange(i,r,n).done(l=>{Pe(this._applyChange(i,l,a)).always(()=>{o.resolve()})}):o.resolve(),o.promise()},_focusPreviousEditingCellIfNeed:function(i){if(this.hasEditData()&&!this.isEditCell(i.rowIndex,i.columnIndex))return this._focusEditingCell(),this._updateEditRow(i.row,!0),!0},_needUpdateRow:function(i){var r=this._columnsController.getVisibleColumns();i||(i=this._getEditColumn());var n=i&&i.setCellValue!==i.defaultSetCellValue,a=r.some(s=>s.calculateCellValue!==s.defaultCalculateCellValue);return n||a},_applyChange:function(i,r,n){var a=Ie({},i,{forceUpdateRow:n});return this._addChange(r,a),this._updateEditButtons(),this._applyChangeCore(i,a.forceUpdateRow)},_applyChangeCore:function(i,r){var n=i.column.setCellValue!==i.column.defaultSetCellValue,a=i.row;a&&(r||n?this._updateEditRow(a,r,n):a.update&&a.update())},_updateEditRowCore:function(i,r,n){this._dataController.updateItems({changeType:"update",rowIndices:this._getRowIndicesForCascadeUpdating(i,r)})},_updateEditRow:function(i,r,n){r?this._updateRowImmediately(i,r,n):this._updateRowWithDelay(i,n)},_updateRowImmediately:function(i,r,n){this._updateEditRowCore(i,!r,n),this._validateEditFormAfterUpdate(i,n),r||this._focusEditingCell()},_updateRowWithDelay:function(i,r){var n=new pe;this.addDeferred(n),setTimeout(()=>{var a=W(we.getActiveElement()),s=this._rowsView.getCellIndex(a,i.rowIndex),o=a.get(0),l=Ee.getSelectionRange(o);if(this._updateEditRowCore(i,!1,r),this._validateEditFormAfterUpdate(i,r),s>=0){var u=this._rowsView._getCellElement(i.rowIndex,s);this._delayedInputFocus(u,()=>{setTimeout(()=>{o=we.getActiveElement(),l.selectionStart>=0&&Ee.setSelectionRange(o,l)})})}n.resolve()})},_validateEditFormAfterUpdate:me,_addChange:function(i,r){var n,a=r==null?void 0:r.row,s=[...this.getChanges()],o=Ee.getIndexByKey(i.key,s);o<0&&(o=s.length,this._addInternalData({key:i.key,oldData:i.oldData}),delete i.oldData,s.push(i));var l=Ie({},s[o]);return l&&(i.data&&(l.data=Da(l.data,i.data)),(!l.type||!i.data)&&i.type&&(l.type=i.type),a&&(a.oldData=this._getOldData(a.key),a.data=Da(a.data,i.data))),s[o]=l,this._silentOption(zn,s),r&&l!==((n=this.getChanges())===null||n===void 0?void 0:n[o])&&(r.forceUpdateRow=!0),l},_getFormEditItemTemplate:function(i,r){return r.editCellTemplate||this._getDefaultEditorTemplate()},getColumnTemplate:function(i){var r=i.column,n=i.row&&i.row.rowIndex,a,s=this.isRowBasedEditMode(),o=this.isEditRow(n),l=this.isEditCell(n,i.columnIndex),u;if((r.showEditorAlways||r.setCellValue&&(o&&r.allowEditing||l))&&(i.rowType==="data"||i.rowType==="detailAdaptive")&&!r.command){var d=this.allowUpdating(i);((d||o)&&r.allowEditing||l)&&(o||!s)&&(r.showEditorAlways&&!s&&(u={cancel:!1,key:i.row.isNewRow?void 0:i.row.key,data:i.row.data,column:r},this._isEditingStart(u)),(!u||!u.cancel)&&(i.setValue=(c,h)=>{this.updateFieldValue(i,c,h)})),a=r.editCellTemplate||this._getDefaultEditorTemplate()}else r.command==="detail"&&i.rowType==="detail"&&o&&(a=this===null||this===void 0?void 0:this.getEditFormTemplate(i));return a},_createButton:function(i,r,n,a){var s=vZ[r.name],o=this.option("editing.useIcons"),l=this.option("useLegacyColumnButtonTemplate"),u=W("<a>").attr("href","#").addClass(lZ).addClass(r.cssClass);if(r.template&&l)this._rowsView.renderTemplate(i,r.template,n,!0);else{if(r.template)u=W("<span>").addClass(r.cssClass);else if(o&&s||r.icon){s=r.icon||s;var d=nd(s);d==="image"||d==="svg"?u=Ls(s).addClass(r.cssClass):u.addClass("dx-icon"+(d==="dxIcon"?"-":" ")+s).attr("title",r.text),u.addClass("dx-link-icon"),i.addClass(w1);var c=this.getButtonLocalizationNames()[r.name];c&&u.attr("aria-label",_e.format(c))}else u.text(r.text);Z(r.hint)&&u.attr("title",r.hint),this._isButtonDisabled(r,n)?u.addClass("dx-state-disabled"):(!r.template||r.onClick)&&te.on(u,xe("click",fZ),this.createAction(function(h){var f;(f=r.onClick)===null||f===void 0||f.call(r,re({},h,{row:n.row,column:n.column})),h.event.preventDefault(),h.event.stopPropagation()})),i.append(u,"&nbsp;"),r.template&&this._rowsView.renderTemplate(u,r.template,n,!0,a)}},getButtonLocalizationNames:()=>({edit:"dxDataGrid-editingEditRow",save:"dxDataGrid-editingSaveRowChanges",delete:"dxDataGrid-editingDeleteRow",undelete:"dxDataGrid-editingUndeleteRow",cancel:"dxDataGrid-editingCancelRowChanges"}),prepareButtonItem:function(i,r,n,a){var s=this.option("editing.texts")||{},o={revert:s.cancelAllChanges,save:s.saveAllChanges,addRow:s.addRow},l={revert:"cancel",save:"save",addRow:"addrow"}[r],u=o[r],d=(l==="save"||l==="cancel")&&this._isEditButtonDisabled();return{widget:"dxButton",options:{onInitialized:c=>{W(c.element).addClass(i._getToolbarButtonClass(dZ+" "+this.addWidgetPrefix(l)+"-button"))},icon:"edit-button-"+l,disabled:d,onClick:()=>{setTimeout(()=>{this[n]()})},text:u,hint:u},showText:"inMenu",name:r+"Button",location:"after",locateInMenu:"auto",sortIndex:a}},prepareEditButtons:function(i){var r=this.option("editing")||{},n=[];return r.allowAdding&&n.push(this.prepareButtonItem(i,"addRow","addRow",20)),n},highlightDataCell:function(i,r){this.shouldHighlightCell(r)&&i.addClass(x1)},_afterInsertRow:me,_beforeSaveEditData:function(i){if(i&&!Z(i.key)&&Z(i.type))return!0},_afterSaveEditData:me,_beforeCancelEditData:me,_allowEditAction:function(i,r){var n=this.option("editing."+i);return Re(n)&&(n=n({component:this.component,row:r.row})),n},allowUpdating:function(i,r){var n=this.option("editing.startEditAction")||mZ,a=arguments.length>1?n===r||r==="down":!0;return a&&this._allowEditAction("allowUpdating",i)},allowDeleting:function(i){return this._allowEditAction("allowDeleting",i)},isCellModified:function(i){var r=i.columnIndex,n=i.row&&(i.row.isNewRow?i.row.values:i.row.modifiedValues);return!!n&&n[r]!==void 0},isNewRowInEditMode:function(){var i=this._getVisibleEditRowIndex(),r=this._dataController.items();return i>=0?r[i].isNewRow:!1},shouldHighlightCell:function(i){var r=this.isCellModified(i);return r&&i.column.setCellValue&&(this.getEditMode()!==el||!i.row.isEditing)}}}()),wZ={defaultOptions:function(){return{editing:{mode:"row",refreshMode:"full",newRowPosition:pD,allowAdding:!1,allowUpdating:!1,allowDeleting:!1,useIcons:!1,selectTextOnEditStart:!1,confirmDelete:!0,texts:{editRow:_e.format("dxDataGrid-editingEditRow"),saveAllChanges:_e.format("dxDataGrid-editingSaveAllChanges"),saveRowChanges:_e.format("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:_e.format("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:_e.format("dxDataGrid-editingCancelRowChanges"),addRow:_e.format("dxDataGrid-editingAddRow"),deleteRow:_e.format("dxDataGrid-editingDeleteRow"),undeleteRow:_e.format("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:_e.format("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:""},form:{colCount:2},popup:{},startEditAction:"click",editRowKey:null,editColumnName:null,changes:[]},useLegacyColumnButtonTemplate:!1}},controllers:{editing:CZ},extenders:{controllers:{data:{init:function(){this._editingController=this.getController("editing"),this.callBase()},reload:function(e,t){return!t&&this._editingController.refresh(),this.callBase.apply(this,arguments)},repaintRows:function(){if(!this.getController("editing").isSaving())return this.callBase.apply(this,arguments)},_updateEditRow:function(e){var t=this.option(en),i=Ee.getIndexByKey(t,e),r=e[i];if(r){var n;r.isEditing=!0,(n=this._updateEditItem)===null||n===void 0||n.call(this,r)}},_updateItemsCore:function(e){this.callBase(e),this._updateEditRow(this.items(!0))},_applyChangeUpdate:function(e){this._updateEditRow(e.items),this.callBase(e)},_applyChangesOnly:function(e){this._updateEditRow(e.items),this.callBase(e)},_processItems:function(e,t){return e=this._editingController.processItems(e,t),this.callBase(e,t)},_processDataItem:function(e,t){return this._editingController.processDataItem(e,t,this.generateDataValues),this.callBase(e,t)},_processItem:function(e,t){return e=this.callBase(e,t),e.isNewRow&&(t.dataIndex--,delete e.dataIndex),e},_getChangedColumnIndices:function(e,t,i,r){if(!(e.isNewRow!==t.isNewRow||e.removed!==t.removed))return this.callBase.apply(this,arguments)},_isCellChanged:function(e,t,i,r,n){var a=this.getController("editing"),s=e.cells&&e.cells[r],o=a&&a.isEditCell(i,r);return n&&o?!1:s&&s.column&&!s.column.showEditorAlways&&s.isEditing!==o?!0:this.callBase.apply(this,arguments)},needToRefreshOnDataSourceChange:function(e){var t=this.getController("editing"),i=Array.isArray(e.value)&&e.value===e.previousValue&&t.isSaving();return!i},_handleDataSourceChange(e){var t=this.callBase(e),i=this.option("editing.changes"),r=e.value;if(Array.isArray(r)&&i.length){var n=r.map(l=>this.keyOf(l)),a=i.filter(l=>l.type==="insert"||n.some(u=>ni(l.key,u)));a.length!==i.length&&this.option("editing.changes",a);var s=this.option("editing.editRowKey"),o=a.some(l=>l.type==="insert"&&ni(s,l.key));!o&&n.every(l=>!ni(s,l))&&this.option("editing.editRowKey",null)}return t}}},views:{rowsView:{init:function(){this.callBase(),this._editingController=this.getController("editing")},getCellIndex:function(e,t){if(!e.is("td")&&t>=0){var i=this.getCellElements(t),r=-1;return le(i,function(n,a){W(a).find(e).length&&(r=n)}),r}return this.callBase.apply(this,arguments)},publicMethods:function(){return this.callBase().concat(["cellValue"])},_getCellTemplate:function(e){var t=this._editingController.getColumnTemplate(e);return t||this.callBase(e)},_createRow:function(e){var t=this.callBase.apply(this,arguments);if(e){var i=!!e.removed,r=!!e.isNewRow,n=!!e.modified;r&&t.addClass(hZ),n&&t.addClass(cZ),(r||i)&&t.removeClass(uZ)}return t},_getColumnIndexByElement:function(e){for(var t=e.closest("table"),i=this.getTableElements();t.length&&!i.filter(t).length;)e=t.closest("td"),t=e.closest("table");return this._getColumnIndexByElementCore(e)},_getColumnIndexByElementCore:function(e){var t=e.closest("."+rZ+"> td:not(.dx-master-detail-cell)");return this.getCellIndex(t)},_editCellByClick:function(e,t){var i=this._editingController,r=W(e.event.target),n=this._getColumnIndexByElement(r),a=this._dataController.items()[e.rowIndex],s=i.allowUpdating({row:a},t)||a&&a.isNewRow,o=this._columnsController.getVisibleColumns()[n],l=i.isEditCell(e.rowIndex,n),u=s&&o&&(o.allowEditing||l),d=this.option("editing.startEditAction")||"click";if(t==="down")return(Ne.real().ios||Ne.real().android)&&!l&&ll(),o&&o.showEditorAlways&&u&&i.editCell(e.rowIndex,n);if(t==="click"&&d==="dblClick"&&!l){var c=a==null?void 0:a.isNewRow;i.closeEditCell(!1,c)}if(u&&t===d)return i.editCell(e.rowIndex,n)||i.isEditRow(e.rowIndex)},_rowPointerDown:function(e){this._pointerDownTimeout=setTimeout(()=>{this._editCellByClick(e,"down")})},_rowClick:function(e){var t=W(e.rowElement).hasClass(this.addWidgetPrefix(uD));e.event[dD]=this.component,!this._editCellByClick(e,"click")&&!t&&this.callBase.apply(this,arguments)},_rowDblClick:function(e){this._editCellByClick(e,"dblClick")||this.callBase.apply(this,arguments)},_cellPrepared:function(e,t){var i,r=this._editingController,n=!!t.column.command,a=t.setValue,s=r.isEditRow(t.rowIndex),o=gD(s,t);if(S1(s,t)){var l=t.column.alignment;e.toggleClass(this.addWidgetPrefix(oZ),!a).toggleClass(pZ,!a),l&&e.find(hD).first().css("textAlign",l)}o&&this._editCellPrepared(e);var u=!!((i=t.column)!==null&&i!==void 0&&i.cellTemplate);t.column&&!n&&(!u||r.shouldHighlightCell(t))&&r.highlightDataCell(e,t),this.callBase.apply(this,arguments)},_editCellPrepared:me,_formItemPrepared:me,_getCellOptions:function(e){var t=this.callBase(e);return t.isEditing=this._editingController.isEditCell(t.rowIndex,t.columnIndex),t},_createCell:function(e){var t=this.callBase(e),i=this._editingController.isEditRow(e.rowIndex);return S1(i,e)&&t.addClass(iZ),t},cellValue:function(e,t,i,r){var n=this.getCellOptions(e,t);if(n){if(i===void 0)return n.value;this._editingController.updateFieldValue(n,i,r,!0)}},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._pointerDownTimeout)},_renderCore:function(){this.callBase.apply(this,arguments),this._editingController._focusEditorIfNeed()}},headerPanel:{_getToolbarItems:function(){var e=this.callBase(),t=this.getController("editing").prepareEditButtons(this);return t.concat(e)},optionChanged:function(e){var t=e.fullName;switch(e.name){case"editing":var i=[Kh,zn,ql,en],r=t&&!i.some(n=>n===t);r&&this._invalidate(),this.callBase(e);break;case"useLegacyColumnButtonTemplate":e.handled=!0;break;default:this.callBase(e)}},isVisible:function(){var e=this.getController("editing").option("editing");return this.callBase()||(e==null?void 0:e.allowAdding)}}}}};Le.registerModule("editing",re(!0,{},wZ,{extenders:{controllers:{data:{_changeRowExpandCore:function(e){var t=this._editingController;return Array.isArray(e)&&t&&t.refresh(),this.callBase.apply(this,arguments)}}}}}));var E1="dx-edit-row",xZ={extenders:{controllers:{editing:{isRowEditMode:function(){return this.getEditMode()===el},_afterCancelEditData:function(e){var t=this._dataController;this.isRowBasedEditMode()&&e>=0?t.updateItems({changeType:"update",rowIndices:[e,e+1]}):this.callBase.apply(this,arguments)},_isDefaultButtonVisible:function(e,t){var i=this.isRowBasedEditMode(),r=t.row&&t.row.rowIndex===this._getVisibleEditRowIndex();if(i)switch(e.name){case"edit":return!r&&this.allowUpdating(t);case"delete":return this.callBase.apply(this,arguments)&&!r;case"save":case"cancel":return r;default:return this.callBase.apply(this,arguments)}return this.callBase.apply(this,arguments)},isEditRow:function(e){return this.isRowBasedEditMode()&&this.isEditRowByIndex(e)},_cancelSaving:function(){this.isRowBasedEditMode()&&(this.hasChanges()||this._cancelEditDataCore()),this.callBase.apply(this,arguments)},_refreshCore:function(e){var{allowCancelEditing:t}=e??{};if(this.isRowBasedEditMode()){var i=this.getChanges().filter(r=>r.type==="update").length>0;this.init(),t&&i&&this._cancelEditDataCore()}this.callBase.apply(this,arguments)},_isEditColumnVisible:function(){var e=this.callBase.apply(this,arguments),t=this.option("editing"),i=this.isRowEditMode(),r=t.allowUpdating||t.allowAdding;return e||i&&r},_focusEditorIfNeed:function(){var e=this.getEditMode();if(this._needFocusEditor){if(sZ.indexOf(e)!==-1){var t=this.getFocusedCellInRow(this._getVisibleEditRowIndex());this._delayedInputFocus(t,()=>{t&&this.component.focus(t)})}this._needFocusEditor=!1}}},data:{_getChangedColumnIndices:function(e,t,i,r){var n=this.getController("editing");if(!(n.isRowBasedEditMode()&&e.isEditing!==t.isEditing))return this.callBase.apply(this,arguments)}}},views:{rowsView:{_createRow:function(e){var t=this.callBase.apply(this,arguments);if(e){var i=this._editingController,r=i.isEditRow(e.rowIndex);r&&(t.addClass(E1),t.removeClass(_1),e.rowType==="detail"&&t.addClass(this.addWidgetPrefix(uD)))}return t},_update:function(e){this.callBase(e),e.changeType==="updateSelection"&&this.getTableElements().children("tbody").children("."+E1).removeClass(_1)}}}}};Le.registerModule("editingRowBased",xZ);class vD{constructor(){this._map={}}_findWidgetInstance(t){var i;return le(this._map,function(r,n){var{widgetInstance:a,item:s}=n;if(t(s))return i=a,!1}),i}_findFieldByCondition(t,i){var r;return le(this._map,function(n,a){if(t(a))return r=i==="guid"?n:a[i],!1}),r}clear(){this._map={}}removeItemsByItems(t){le(t.getItems(),i=>this.removeItemByKey(i))}removeItemByKey(t){delete this._map[t]}add(t){var i=t.guid||new Ri;return this._map[i]=t,i}addItemsOrExtendFrom(t){t.each((i,r)=>{this._map[i]?(r.widgetInstance&&(this._map[i].widgetInstance=r.widgetInstance),this._map[i].$itemContainer=r.$itemContainer):this.add({item:r.item,widgetInstance:r.widgetInstance,guid:i,$itemContainer:r.$itemContainer})})}extendRunTimeItemInfoByKey(t,i){this._map[t]&&(this._map[t]=re(this._map[t],i))}findWidgetInstanceByItem(t){return this._findWidgetInstance(i=>i===t)}findGroupOrTabLayoutManagerByPath(t){return this._findFieldByCondition(i=>{var{path:r}=i;return r===t},"layoutManager")}findKeyByPath(t){return this._findFieldByCondition(i=>{var{path:r}=i;return r===t},"guid")}findWidgetInstanceByName(t){return this._findWidgetInstance(i=>t===i.name)}findWidgetInstanceByDataField(t){return this._findWidgetInstance(i=>t===(Ue(i)?i:i.dataField))}findItemContainerByItem(t){for(var i in this._map)if(this._map[i].item===t)return this._map[i].$itemContainer;return null}findItemIndexByItem(t){return this._findFieldByCondition(i=>{var{item:r}=i;return r===t},"itemIndex")}findPreparedItemByItem(t){return this._findFieldByCondition(i=>{var{item:r}=i;return r===t},"preparedItem")}getItems(){return this._map}each(t){le(this._map,function(i,r){t(i,r)})}removeItemsByPathStartWith(t){var i=Object.keys(this._map),r=i.filter(n=>this._map[n].path?this._map[n].path.indexOf(t,0)>-1:!1);r.forEach(n=>this.removeItemByKey(n))}}var bh={move(e,t){Ai(e,{left:t})}},Um={moveTo(e,t,i,r){fi.animate(e,{type:"slide",to:{left:t},duration:i,complete:r})},complete(e){fi.stop(e,!0)}},SZ="dx-multiview",EZ="dx-multiview-wrapper",IZ="dx-multiview-item-container",I1="dx-multiview-item",TZ="dx-multiview-item-hidden",AZ="dxMultiViewItemData",OZ=200,T1=e=>+e,DZ=e=>Vr(e).left,_D=R0.inherit({_activeStateUnit:"."+I1,_supportedKeys:function(){return re(this.callBase(),{pageUp:me,pageDown:me})},_getDefaultOptions:function(){return re(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,_itemAttributes:{role:"tabpanel"},loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectionByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ne.real().deviceType==="desktop"&&!Ne.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return I1},_itemDataKey:function(){return AZ},_itemContainer:function(){return this._$itemContainer},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_itemWidth:function(){return this._itemWidthValue||(this._itemWidthValue=Ze(this._$wrapper)),this._itemWidthValue},_clearItemWidthCache:function(){delete this._itemWidthValue},_itemsCount:function(){return this.option("items").length},_normalizeIndex:function(e){var t=this._itemsCount();return e<0&&(e+=t),e>=t&&(e-=t),e},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_init:function(){this.callBase.apply(this,arguments);var e=this.$element();e.addClass(SZ),this._$wrapper=W("<div>").addClass(EZ),this._$wrapper.appendTo(e),this._$itemContainer=W("<div>").addClass(IZ),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._initSwipeable()},_initMarkup:function(){this._deferredItems=[],this.callBase();var e=this._getSelectedItemIndices();this._updateItemsVisibility(e[0])},_afterItemElementDeleted:function(e,t){this.callBase(e,t),this._deferredItems&&this._deferredItems.splice(t.itemIndex,1)},_beforeItemElementInserted:function(e){this.callBase.apply(this,arguments),this._deferredItems&&this._deferredItems.splice(e.index,0,null)},_executeItemRenderAction:function(e,t,i){e=(this.option("items")||[]).indexOf(t),this.callBase(e,t,i)},_renderItemContent:function(e){var t=new pe,i=this,r=this.callBase,n=new pe;return n.done(function(){var a=r.call(i,e);t.resolve(a)}),this._deferredItems[e.index]=n,this.option("deferRendering")||n.resolve(),t.promise()},_render:function(){this.callBase(),Ti(()=>{var e=this._getSelectedItemIndices();this._updateItems(e[0])})},_updateItems:function(e,t){this._updateItemsPosition(e,t),this._updateItemsVisibility(e,t)},_modifyByChanges:function(){this.callBase.apply(this,arguments);var e=this._getSelectedItemIndices();this._updateItemsVisibility(e[0])},_updateItemsPosition:function(e,t){var i=this._itemElements(),r=Z(t)?-this._animationDirection(t,e):void 0,n=i.eq(e);bh.move(n,0),Z(t)&&bh.move(i.eq(t),100*r+"%")},_updateItemsVisibility:function(e,t){var i=this._itemElements();i.each((function(r,n){var a=W(n),s=r!==e&&r!==t;s||this._renderSpecificItem(r),a.toggleClass(TZ,s),this.setAria("hidden",s||void 0,a)}).bind(this))},_renderSpecificItem:function(e){var t=this._itemElements().eq(e),i=t.find(this._itemContentClass()).length>0;Z(e)&&!i&&(this._deferredItems[e].resolve(),Cn(t))},_refreshItem:function(e,t){this.callBase(e,t),this._updateItemsVisibility(this.option("selectedIndex"))},_setAriaSelected:me,_updateSelection:function(e,t){var i=e[0],r=t[0];Um.complete(this._$itemContainer),this._updateItems(r,i);var n=this._animationDirection(i,r);this._animateItemContainer(n*this._itemWidth(),(function(){bh.move(this._$itemContainer,0),this._updateItems(i),Ze(this._$itemContainer)}).bind(this))},_animateItemContainer:function(e,t){var i=this.option("animationEnabled")?OZ:0;Um.moveTo(this._$itemContainer,e,i,t)},_animationDirection:function(e,t){var i=DZ(this._$itemContainer),r=(t-e)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection(),n=i!==0,a=n?i:r;return Xo(a)},_getSwipeDisabledState(){return!this.option("swipeEnabled")||this._itemsCount()<=1},_initSwipeable(){this._createComponent(this.$element(),Mc,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:e=>this._swipeStartHandler(e.event),onUpdated:e=>this._swipeUpdateHandler(e.event),onEnd:e=>this._swipeEndHandler(e.event)})},_swipeStartHandler:function(e){Um.complete(this._$itemContainer);var t=this.option("selectedIndex"),i=this.option("loop"),r=this._itemsCount()-1,n=this.option("rtlEnabled");e.maxLeftOffset=T1(i||(n?t>0:t<r)),e.maxRightOffset=T1(i||(n?t<r:t>0)),this._swipeDirection=null},_swipeUpdateHandler:function(e){var t=e.offset,i=Xo(t)*this._getRTLSignCorrection();if(bh.move(this._$itemContainer,t*this._itemWidth()),i!==this._swipeDirection){this._swipeDirection=i;var r=this.option("selectedIndex"),n=this._normalizeIndex(r-i);this._updateItems(r,n)}},_swipeEndHandler:function(e){var t=e.targetOffset*this._getRTLSignCorrection();if(t){this.option("selectedIndex",this._normalizeIndex(this.option("selectedIndex")-t));var i=this.itemElements().filter(".dx-item-selected");this.option("focusStateEnabled")&&this.option("focusedElement",qe(i))}else this._animateItemContainer(0,me)},_getItemFocusLoopSignCorrection:function(){return this._itemFocusLooped?-1:1},_moveFocus:function(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem:function(e){var t=this.callBase.apply(this,arguments);return this._itemFocusLooped=t.is(e.last()),t},_nextItem:function(e){var t=this.callBase.apply(this,arguments);return this._itemFocusLooped=t.is(e.first()),t},_dimensionChanged:function(){this._clearItemWidthCache()},_visibilityChanged:function(e){e&&this._dimensionChanged()},_updateSwipeDisabledState(){var e=this._getSwipeDisabledState();Mc.getInstance(this.$element()).option("disabled",e)},_optionChanged:function(e){var t=e.value;switch(e.name){case"loop":this.option("loopItemFocus",t);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this.callBase(e);break;default:this.callBase(e)}}});yt("dxMultiView",_D);var RZ="dx-tabs-item-badge",A1="dx-badge",kZ=Ys.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this))},_renderBadge:function(e){if(this._$element.children("."+A1).remove(),!!e){var t=W("<div>").addClass(RZ).addClass(A1).text(e);this._$element.append(t)}}}),O1="dx-tabs-expanded";function bD(e){return e.scrollWidth-e.clientWidth}function MZ(e,t){return Math.round(e)<=t}function BZ(e,t,i){return Math.round(bD(e)-t)<=i}var PZ="dx-tabs",FZ="dx-tabs-wrapper",D1="dx-tabs-stretched",LZ="dx-tabs-scrollable",R1="dx-tabs-nav-buttons",k1="dx-overflow-hidden",M1="dx-tab",NZ="dx-tab-selected",VZ="dx-tabs-nav-button",$Z="dx-tabs-nav-button-left",HZ="dx-tabs-nav-button-right",zZ="dx-tab-text",WZ="dxTabData",B1="chevronnext",P1="chevronprev",jZ=100,F1=5,UZ=300,L1=30,W0=R0.inherit({_activeStateUnit:"."+M1,_getDefaultOptions:function(){return re(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:function(e){return e?e.badge:void 0},_itemAttributes:{role:"tab"}})},_defaultOptionsRules:function(){var e=un();return this.callBase().concat([{device:function(){return Ne.real().deviceType!=="desktop"},options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:function(){return Ne.real().deviceType==="desktop"&&!Ne.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return xi(e)},options:{useInkRipple:!0,selectOnFocus:!1}}])},_init:function(){this.callBase(),this.setAria("role","tablist"),this.$element().addClass(PZ),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=jZ},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new Zs((function(e,t){ft(t)?this._prepareDefaultItemTemplate(t,e):e.text(String(t));var i=Ls(t.icon);i&&i.prependTo(e),e.wrapInner(W("<span>").addClass(zZ))}).bind(this),["text","html","icon"],this.option("integrationOptions.watchMethod"))})},_createItemByTemplate:function(e,t){var{itemData:i,container:r,index:n}=t;return this._deferredTemplates[n]=new pe,e.render({model:i,container:r,index:n,onRendered:()=>this._deferredTemplates[n].resolve()})},_itemClass:function(){return M1},_selectedItemClass:function(){return NZ},_itemDataKey:function(){return WZ},_initMarkup:function(){this._deferredTemplates=[],this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass(k1)},_render:function(){this.callBase(),this._deferRenderScrolling()},_deferRenderScrolling(){Pe.apply(this,this._deferredTemplates).done(()=>this._renderScrolling())},_renderScrolling:function(){var e=[D1,O1,k1];if(this.$element().removeClass(e.join(" ")),this.option("scrollingEnabled")&&this._isItemsWidthExceeded()){this._scrollable||(this._renderScrollable(),this._renderNavButtons());var t=this.getScrollable();if(t.update(),this.option("rtlEnabled")){var i=bD(W(this.getScrollable().container()).get(0));t.scrollTo({left:i})}this._updateNavButtonsVisibility(),this._scrollToItem(this.option("selectedItem"))}this.option("scrollingEnabled")&&this._isItemsWidthExceeded()||(this._cleanScrolling(),this._needStretchItems()&&!this._isItemsWidthExceeded()&&this.$element().addClass(D1),this.$element().removeClass(R1).addClass(O1))},_isItemsWidthExceeded:function(){var e=this._getSummaryItemsWidth(this._getVisibleItems(),!0);return e-1>Ze(this.$element())},_needStretchItems:function(){var e=this._getVisibleItems(),t=Ze(this.$element()),i=[];le(e,(n,a)=>{i.push(At(a,!0))});var r=Math.max.apply(null,i);return r>t/e.length},_cleanNavButtons:function(){!this._leftButton||!this._rightButton||(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling:function(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple:function(){this._inkRipple=d0()},_toggleActiveState:function(e,t,i){if(this.callBase.apply(this,arguments),!!this._inkRipple){var r={element:e,event:i};t?this._inkRipple.showWave(r):this._inkRipple.hideWave(r)}},_renderMultiple:function(){this.option("selectionMode")==="multiple"&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this._$wrapper=W("<div>").addClass(FZ),this.$element().append(this._$wrapper)},_itemContainer:function(){return this._$wrapper},_renderScrollable:function(){var e=this.$element().wrapInner(W("<div>").addClass(LZ)).children();this._scrollable=this._createComponent(e,Tr,{direction:"horizontal",showScrollbar:"never",useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:()=>{this._updateNavButtonsVisibility()}}),this.$element().append(this._scrollable.$element())},_scrollToItem:function(e){if(this._scrollable){var t=this._editStrategy.getItemElement(e);this._scrollable.scrollToElement(t)}},_renderNavButtons:function(){if(this.$element().toggleClass(R1,this.option("showNavButtons")),!!this.option("showNavButtons")){var e=this.option("rtlEnabled");this._leftButton=this._createNavButton(-L1,e?B1:P1);var t=this._leftButton.$element();t.addClass($Z),this.$element().prepend(t),this._rightButton=this._createNavButton(L1,e?P1:B1);var i=this._rightButton.$element();i.addClass(HZ),this.$element().append(i)}},_updateNavButtonsVisibility:function(){var e=this.getScrollable();this._leftButton&&this._leftButton.option("disabled",MZ(e.scrollLeft(),1)),this._rightButton&&this._rightButton.option("disabled",BZ(W(e.container()).get(0),e.scrollLeft(),1))},_updateScrollPosition:function(e,t){this._scrollable.update(),this._scrollable.scrollBy(e/t)},_createNavButton:function(e,t){var i=this,r=i._createAction(function(){i._holdInterval=setInterval(function(){i._updateScrollPosition(e,F1)},F1)}),n=xe(za.name,"dxNavButton"),a=xe(Rt.up,"dxNavButton"),s=xe(Rt.out,"dxNavButton"),o=this._createComponent(W("<div>").addClass(VZ),Ki,{focusStateEnabled:!1,icon:t,onClick:function(){i._updateScrollPosition(e,1)},integrationOptions:{}}),l=o.$element();return te.on(l,n,{timeout:UZ},(function(u){r({event:u})}).bind(this)),te.on(l,a,function(){i._clearInterval()}),te.on(l,s,function(){i._clearInterval()}),o},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_updateSelection:function(e){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(e[0]),{left:1,right:1})},_visibilityChanged:function(e){e&&this._dimensionChanged()},_dimensionChanged:function(){this._renderScrolling()},_itemSelectHandler:function(e){this.option("selectionMode")==="single"&&this.isItemSelected(e.currentTarget)||this.callBase(e)},_clean:function(){this._deferredTemplates=[],this._cleanScrolling(),this.callBase()},_optionChanged:function(e){switch(e.name){case"useInkRipple":case"scrollingEnabled":case"showNavButtons":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(e.name,e.value);break;case"width":this.callBase(e),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),this.callBase(e);break;case"badgeExpr":this._invalidate();break;default:this.callBase(e)}},_afterItemElementInserted(){this.callBase(),this._deferRenderScrolling()},_afterItemElementDeleted(e,t){this.callBase(e,t),this._renderScrolling()},getScrollable(){return this._scrollable}});W0.ItemClass=kZ;yt("dxTabs",W0);class GZ extends Ys{_renderWatchers(){return this._startWatcher("badge",me),super._renderWatchers()}}var KZ="dx-tabpanel",qZ="dx-tabpanel-tabs",XZ="dx-tabpanel-container",YZ="dx-tab-text",j0=_D.inherit({_getDefaultOptions:function(){return re(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:function(e){return e?e.badge:void 0}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ne.real().deviceType==="desktop"&&!Ne.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!Rs},options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}}])},_init:function(){this.callBase(),this.$element().addClass(KZ),this.setAria("role","tabpanel")},_initMarkup:function(){this.callBase(),this._createTitleActions(),this._renderLayout()},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new Zs(function(e,t){if(ft(t)){var i=Ls(t.icon);i&&e.append(i),Z(t.title)&&!ft(t.title)&&e.append(we.createTextNode(t.title))}else Z(t)&&e.text(String(t));e.wrapInner(W("<span>").addClass(YZ))},["title","icon"],this.option("integrationOptions.watchMethod"))})},_createTitleActions:function(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()},_createTitleClickAction:function(){this._titleClickAction=this._createActionByOption("onTitleClick")},_createTitleHoldAction:function(){this._titleHoldAction=this._createActionByOption("onTitleHold")},_createTitleRenderedAction:function(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")},_renderContent:function(){var e=this;this.callBase(),this.option("templatesRenderAsynchronously")&&(this._resizeEventTimer=setTimeout(function(){e._updateLayout()},0))},_renderLayout:function(){if(this._tabs){this._updateLayout();return}var e=this.$element();this._$tabContainer=W("<div>").addClass(qZ).appendTo(e);var t=W("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(t,W0,this._tabConfig()),this._$container=W("<div>").addClass(XZ).appendTo(e),this._$container.append(this._$wrapper),this._updateLayout()},_updateLayout:function(){if(rt()){var e=Ct(this._$tabContainer);this._$container.css({marginTop:-e,paddingTop:e})}},_refreshActiveDescendant:function(){if(this._tabs){var e=this._tabs,t=e.itemElements(),i=W(t[e.option("selectedIndex")]),r=this.getFocusedItemId();this.setAria("controls",void 0,W(t)),this.setAria("controls",r,i)}},_tabConfig:function(){return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),repaintChangesOnly:this.option("repaintChangesOnly"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),badgeExpr:this.option("badgeExpr"),onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:(function(e){this.option("selectedIndex",e.component.option("selectedIndex")),this._refreshActiveDescendant()}).bind(this),onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),noDataText:null,scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:(function(e){if(e.name==="focusedElement")if(e.value){var t=W(e.value),i=this._itemElements().eq(t.index());this.option("focusedElement",qe(i))}else this.option("focusedElement",e.value)}).bind(this),onFocusIn:(function(e){this._focusInHandler(e.event)}).bind(this),onFocusOut:(function(e){this._isFocusOutHandlerExecuting||this._focusOutHandler(e.event)}).bind(this)}},_renderFocusTarget:function(){this._focusTarget().attr("tabIndex",-1)},_updateFocusState:function(e,t){this.callBase(e,t),e.target===this._tabs._focusTarget().get(0)&&this._toggleFocusClass(t,this._focusTarget())},_focusOutHandler:function(e){this._isFocusOutHandlerExecuting=!0,this.callBase.apply(this,arguments),this._tabs._focusOutHandler(e),this._isFocusOutHandlerExecuting=!1},_setTabsOption:function(e,t){this._tabs&&this._tabs.option(e,t)},_visibilityChanged:function(e){e&&(this._tabs._dimensionChanged(),this._updateLayout())},registerKeyHandler:function(e,t){this.callBase(e,t),this._tabs&&this._tabs.registerKeyHandler(e,t)},repaint:function(){this.callBase(),this._tabs.repaint()},_optionChanged:function(e){var t=e.name,i=e.value,r=e.fullName;switch(t){case"dataSource":this.callBase(e);break;case"items":this._setTabsOption(t,this.option(t)),this._updateLayout(),this.option("repaintChangesOnly")||this._tabs.repaint(),this.callBase(e);break;case"width":this.callBase(e),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":if(this._setTabsOption(r,i),this.callBase(e),this.option("focusStateEnabled")===!0){var n=this.option("selectedIndex"),a=this._itemElements().eq(n);this.option("focusedElement",qe(a))}break;case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(r,i),this.callBase(e);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(r,i);break;case"focusedElement":var s=i&&W(i).index(),o=i&&this._tabs._itemElements().eq(s);this._setTabsOption("focusedElement",qe(o)),this.callBase(e);break;case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",i);break;case"badgeExpr":this._invalidate();break;default:this.callBase(e)}},_clean:function(){clearTimeout(this._resizeEventTimer),this.callBase()}});j0.ItemClass=GZ;yt("dxTabPanel",j0);class io{constructor(t){this._options=t,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}findInstance(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}findItemContainer(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}findPreparedItem(){return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)}tryExecute(){wt.abstract()}}var Dv=(e,t)=>"".concat(t?"tabs":"items","[").concat(e,"]"),yD=(e,t)=>Z(e)&&Z(t)?"".concat(e,".").concat(t):e||t,Rv=e=>e?e.replace(/\s/g,""):void 0,ZZ=(e,t)=>e?e.dataField===t||e.name===t||Rv(e.title)===t||e.itemType==="group"&&Rv(e.caption)===t:!1,Xl=(e,t)=>"".concat(e,".").concat(t),N1=e=>{var t=e.split(".");return t[t.length-1].replace(/\[\d+]/,"")},JZ=e=>{for(var t=e.split("."),i=[...t],r=t.length-1;r>=0;r--){if(CD(t[r]))return i.join(".");i.splice(r,1)}return""},CD=e=>e.indexOf("tabs")>-1,wD=(e,t,i)=>{var r=e.indexOf(t);if(r>-1)return Dv(r,i);for(var n=0;n<e.length;n++){var a=e[n],s=a.tabs||a.items;if(s){var o=wD(s,t,a.tabs);if(o)return yD(Dv(n,i),o)}}};function QZ(e){var{form:t,$formElement:i,formOptions:r,items:n,validationGroup:a,extendedLayoutManagerOptions:s,onFieldDataChanged:o,onContentReady:l,onDisposing:u,onFieldItemRendered:d}=e,c={form:t,items:n,$formElement:i,validationGroup:a,onFieldDataChanged:o,onContentReady:l,onDisposing:u,onFieldItemRendered:d,validationBoundary:r.scrollingEnabled?i:void 0,scrollingEnabled:r.scrollingEnabled,showRequiredMark:r.showRequiredMark,showOptionalMark:r.showOptionalMark,requiredMark:r.requiredMark,optionalMark:r.optionalMark,requiredMessage:r.requiredMessage,screenByWidth:r.screenByWidth,layoutData:r.formData,labelLocation:r.labelLocation,customizeItem:r.customizeItem,minColWidth:r.minColWidth,showColonAfterLabel:r.showColonAfterLabel,onEditorEnterKey:r.onEditorEnterKey,labelMode:r.labelMode},h=re(c,{isRoot:s.isRoot,colCount:s.colCount,alignItemLabels:s.alignItemLabels,cssItemClass:s.cssItemClass,colCountByScreen:s.colCountByScreen,onLayoutChanged:s.onLayoutChanged,width:s.width});return h}class eJ extends io{tryExecute(){var{value:t}=this._options,i=this.findInstance();return i?(i.option(t),!0):!1}}class V1 extends io{tryExecute(){var t=this.findInstance();if(t){var{optionName:i,item:r,value:n}=this._options,a=this._itemsRunTimeInfo.findItemIndexByItem(r);if(a>=0)return t.option(Xl("items[".concat(a,"]"),i),n),!0}return!1}}class tJ extends io{tryExecute(){return!1}}class iJ extends io{tryExecute(){var t=this.findPreparedItem();return t!=null&&t._prepareGroupItemTemplate&&t._renderGroupContentTemplate?(t._prepareGroupItemTemplate(this._options.item.template),t._renderGroupContentTemplate(),!0):!1}}class rJ extends io{tryExecute(){var t=this.findInstance();if(t){var{value:i}=this._options;return t.option("dataSource",i),!0}return!1}}class nJ extends io{tryExecute(){var{item:t}=this._options,i=this.findInstance(),r=i&&ui(i.$element()[0],"dxValidator");if(r&&t){var n=o=>o.type==="required",a=(r.option("validationRules")||[]).some(n),s=(t.validationRules||[]).some(n);if(!a&&!s||a&&s)return r.option("validationRules",t.validationRules),!0}return!1}}class aJ extends io{tryExecute(){var t=this.findItemContainer(),{previousValue:i,value:r}=this._options;return t?(t.removeClass(i).addClass(r),!0):!1}}var sJ=(e,t)=>{switch(e){case"editorOptions":case"buttonOptions":return new eJ(t);case"validationRules":return new nJ(t);case"cssClass":return new aJ(t);case"badge":case"disabled":case"icon":case"tabTemplate":case"title":return new V1(re(t,{optionName:e}));case"tabs":return new rJ(t);case"template":var i,r,n,a=(i=t==null||(r=t.item)===null||r===void 0?void 0:r.itemType)!==null&&i!==void 0?i:(n=t.itemsRunTimeInfo.findPreparedItemByItem(t==null?void 0:t.item))===null||n===void 0?void 0:n.itemType;return a==="simple"?new tJ(t):a==="group"?new iJ(t):new V1(re(t,{optionName:e}));default:return null}},oJ=at(),xD="dx-responsivebox",$1=xD+"-screen-",lJ="dx-box-item",H1="dxBoxItemData",uJ=1920,SD=Js.inherit({_getDefaultOptions:function(){return re(this.callBase(),{rows:[],cols:[],screenByWidth:null,singleColumnScreen:"",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,onLayoutChanged:null,currentScreenFactor:void 0,_layoutStrategy:void 0})},_init:function(){this.option("screenByWidth")||this._options.silent("screenByWidth",m_),this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction:function(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:function(){return lJ},_itemDataKey:function(){return H1},_initMarkup:function(){this.callBase(),this.$element().addClass(xD),this._updateRootBox()},_updateRootBox:function(){clearTimeout(this._updateTimer),this._updateTimer=setTimeout((function(){this._$root&&te.triggerHandler(this._$root,"dxupdate")}).bind(this))},_renderItems:function(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_itemOptionChanged:function(e){var t=this._findItemElementByItem(e);t.length&&(this._refreshItem(t,e),this._clearItemNodeTemplates(),this._update(!0))},_setScreenSize:function(){var e=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass($1+e),this.option("currentScreenFactor",e)},_removeScreenSizeClass:function(){var e=this.option("currentScreenFactor");e&&this.$element().removeClass($1+e)},_prepareGrid:function(){var e=this._grid=[];this._prepareRowsAndCols(),le(this._rows,(function(){var t=[];e.push(t),le(this._cols,(function(){t.push(this._createEmptyCell())}).bind(this))}).bind(this))},getSingleColumnRows:function(){var e=this.option("rows"),t=this._screenItems.length;if(e.length){for(var i=this._filterByScreen(e),r=[],n=0;n<t;n++){var a=this._defaultSizeConfig();n<i.length&&Z(i[n].shrink)&&(a.shrink=i[n].shrink),r.push(a)}return r}else return this._defaultSizeConfig(t)},_prepareRowsAndCols:function(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen:function(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems:function(){this._screenItems.sort(function(e,t){return e.location.row-t.location.row||e.location.col-t.location.col}),le(this._screenItems,function(e,t){re(t.location,{row:e,col:0,rowspan:1,colspan:1})})},_sizesByScreen:function(e){return Si(this._filterByScreen(e),(function(t){return re(this._defaultSizeConfig(),t)}).bind(this))},_createDefaultSizeConfig:function(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}},_defaultSizeConfig:function(e){var t=this._createDefaultSizeConfig();if(!arguments.length)return t;for(var i=[],r=0;r<e;r++)i.push(t);return i},_filterByScreen:function(e){var t=this._screenRegExp();return hr(e,function(i){return!i.screen||t.test(i.screen)})},_screenRegExp:function(){var e=this._getCurrentScreen();return new RegExp("(^|\\s)"+e+"($|\\s)","i")},_getCurrentScreen:function(){var e=this._screenWidth();return this.option("screenByWidth")(e)},_screenWidth:function(){return rt()?Ze(oJ):uJ},_createEmptyCell:function(){return{item:{},location:{colspan:1,rowspan:1}}},_spreadItems:function(){le(this._screenItems,(function(e,t){var i=t.location||{},r=i.col,n=i.row,a=this._grid[n],s=a&&a[r];this._occupyCells(s,t)}).bind(this))},_itemsByScreen:function(){return this.option("items").reduce((e,t)=>{var i=t.location||{};return i=ft(i)?[i]:i,this._filterByScreen(i).forEach(r=>{e.push({item:t,location:re({rowspan:1,colspan:1},r)})}),e},[])},_occupyCells:function(e,t){!e||this._isItemCellOccupied(e,t)||(re(e,t),this._markSpanningCell(e))},_isItemCellOccupied:function(e,t){if(!jr(e.item))return!0;var i=!1;return this._loopOverSpanning(t.location,function(r){i=i||!jr(r.item)}),i},_loopOverSpanning:function(e,t){var i=e.row+e.rowspan-1,r=e.col+e.colspan-1,n=Math.min(i,this._rows.length-1),a=Math.min(r,this._cols.length-1);e.rowspan-=i-n,e.colspan-=r-a;for(var s=e.row;s<=n;s++)for(var o=e.col;o<=a;o++)(s!==e.row||o!==e.col)&&t(this._grid[s][o])},_markSpanningCell:function(e){this._loopOverSpanning(e.location,function(t){re(t,{item:e.item,spanningCell:e})})},_linkNodeToItem:function(){le(this._itemElements(),function(e,t){var i=W(t),r=i.data(H1);r.box||(r.node=i.children())})},_layoutItems:function(){var e=this._grid.length,t=e&&this._grid[0].length;if(!(!e&&!t)){var i=this._layoutBlock({direction:"col",row:{start:0,end:e-1},col:{start:0,end:t-1}}),r=this._prepareBoxConfig(i.box||{direction:"row",items:[re(i,{ratio:1})]});re(r,this._rootBoxConfig(r.items)),this._$root=W("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,Wa,r)}},_rootBoxConfig:function(e){var t=le(e,(function(i,r){this._needApplyAutoBaseSize(r)&&re(r,{baseSize:"auto"})}).bind(this));return re({width:"100%",height:"100%",items:t,itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")},{_layoutStrategy:this.option("_layoutStrategy")})},_needApplyAutoBaseSize:function(e){return!e.baseSize&&(!e.minSize||e.minSize==="auto")&&(!e.maxSize||e.maxSize==="auto")},_prepareBoxConfig:function(e){return re(e||{},{crossAlign:"stretch",onItemStateChanged:this.option("onItemStateChanged")})},_layoutBlock:function(e){return this._isSingleItem(e)?this._itemByCell(e.row.start,e.col.start):this._layoutDirection(e)},_isSingleItem:function(e){var t=this._grid[e.row.start][e.col.start].location,i=e.row.end-e.row.start===t.rowspan-1,r=e.col.end-e.col.start===t.colspan-1;return i&&r},_itemByCell:function(e,t){var i=this._grid[e][t];return i.spanningCell?null:i.item},_layoutDirection:function(e){for(var t=[],i=e.direction,r=this._crossDirection(i),n;n=this._nextBlock(e);){if(this._isBlockIndivisible(e.prevBlockOptions,n))throw gt.Error("E1025");var a=this._layoutBlock({direction:r,row:n.row,col:n.col,prevBlockOptions:e});a&&(re(a,this._blockSize(n,r)),t.push(a)),e[r].start=n[r].end+1}return{box:this._prepareBoxConfig({direction:i,items:t})}},_isBlockIndivisible:function(e,t){return e&&e.col.start===t.col.start&&e.col.end===t.col.end&&e.row.start===t.row.start&&e.row.end===t.row.end},_crossDirection:function(e){return e==="col"?"row":"col"},_nextBlock:function(e){var t=e.direction,i=this._crossDirection(t),r=e[t].start,n=e[t].end,a=e[i].start;if(a>e[i].end)return null;for(var s=1,o=a;o<a+s;o++){for(var l=1,u=r;u<=n;u++){var d=this._cellByDirection(t,u,o);l=Math.max(l,d.location[i+"span"])}var c=o+l,h=a+s;c>h&&(s+=c-h)}var f={};return f[t]={start:r,end:n},f[i]={start:a,end:a+s-1},f},_cellByDirection:function(e,t,i){return e==="col"?this._grid[i][t]:this._grid[t][i]},_blockSize:function(e,t){for(var i=t==="row"?"auto":0,r=t==="row"?this._rows:this._cols,n=re(this._createDefaultSizeConfig(),{ratio:0}),a=e[t].start;a<=e[t].end;a++){var s=r[a];n.ratio+=s.ratio,n.baseSize+=s.baseSize,n.minSize+=s.minSize,n.maxSize+=s.maxSize,Z(s.shrink)&&(n.shrink=s.shrink)}return n.minSize=n.minSize?n.minSize:i,n.maxSize=n.maxSize?n.maxSize:"auto",this._isSingleColumnScreen()&&(n.baseSize="auto"),n},_update:function(e){var t=this._$root;this._renderItems(),t&&(e?t.remove():(t.detach(),this._saveAssistantRoot(t))),this._layoutChangedAction(),this._updateRootBox()},_saveAssistantRoot:function(e){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(e)},_dispose:function(){clearTimeout(this._updateTimer),this._clearItemNodeTemplates(),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots:function(){this._assistantRoots&&le(this._assistantRoots,function(e,t){W(t).remove()})},_clearItemNodeTemplates:function(){le(this.option("items"),function(){delete this.node})},_toggleVisibility:function(e){this.callBase(e),e&&this._updateRootBox()},_attachClickEvent:me,_optionChanged:function(e){switch(e.name){case"rows":case"cols":case"screenByWidth":case"_layoutStrategy":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":this.callBase(e),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(e);break;case"currentScreenFactor":break;default:this.callBase(e)}},_dimensionChanged:function(){this._getCurrentScreen()!==this.option("currentScreenFactor")&&this._update()},repaint:function(){this._update()}});yt("dxResponsiveBox",SD);var dJ="dx-widget",hJ="dx-form",Gm="dx-form-group",cJ="dx-form-group-caption",z1="dx-col-",ED="dx-field-item",W1="dx-layout-manager-one-col",ID="dx-field-item-label-content",fJ="dx-layout-manager",TD="dx-field-item-label",kv="dx-field-item-content",pJ="dx-single-column-item-content",AD="dx-root-simple-item",mJ="dx-form-group-content",gJ="dx-field-item-has-group",vJ="dx-field-item-has-tabs",_J="dx-form-group-with-caption",j1="dx-field-item-tab",U1="dx-group-colcount-",G1="group-col-count",bJ="dx-form-validation-summary",yJ="dx-form-styling-mode-underlined",Mv="simple",CJ=wt.inherit({ctor(e,t){this.editor=e,this.validator=t,this.validationRequestsCallbacks=[];var i=r=>{this.validationRequestsCallbacks.forEach(n=>n(r))};e.validationRequest.add(i),e.on("disposing",function(){e.validationRequest.remove(i)})},getValue(){return this.editor.option("value")},getCurrentValidationError(){return this.editor.option("validationError")},bypass(){return this.editor.option("disabled")},applyValidationResults(e){this.editor.option({validationErrors:e.brokenRules,validationStatus:e.status})},reset(){this.editor.reset()},focus(){this.editor.focus()}}),wJ="dx-validator",K1="valid",xJ="invalid",Km="pending",Of=Dn.inherit({_initOptions:function(e){this.callBase.apply(this,arguments),this.option(Nt.initValidationOptions(e))},_getDefaultOptions(){return re(this.callBase(),{validationRules:[]})},_init(){this.callBase(),this._initGroupRegistration(),this.focused=kt(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}},_initGroupRegistration(){var e=this._findGroup();this._groupWasInit||this.on("disposing",function(t){Nt.removeRegisteredValidator(t.component._validationGroup,t.component)}),(!this._groupWasInit||this._validationGroup!==e)&&(Nt.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=e,Nt.registerValidatorInGroup(e,this))},_setOptionsByReference(){this.callBase(),re(this._optionsByReference,{validationGroup:!0})},_getEditor(){var e=this.$element()[0];return ui(e,"dx-validation-target")},_initAdapter(){var e=this._getEditor(),t=this.option("adapter");if(!t){if(e){t=new CJ(e,this),t.validationRequestsCallbacks.push(r=>{this._validationInfo.skipValidation||this.validate(r)}),this.option("adapter",t);return}throw gt.Error("E0120")}var i=t.validationRequestsCallbacks;i&&i.push(r=>{this.validate(r)})},_toggleRTLDirection(e){var t,i,r,n=(t=(i=this.option("adapter"))===null||i===void 0||(r=i.editor)===null||r===void 0?void 0:r.option("rtlEnabled"))!==null&&t!==void 0?t:e;this.callBase(n)},_initMarkup(){this.$element().addClass(wJ),this.callBase()},_render(){this.callBase(),this._toggleAccessibilityAttributes()},_toggleAccessibilityAttributes(){var e=this._getEditor();if(e){var t=this.option("validationRules")||[],i=t.some(r=>{var{type:n}=r;return n==="required"})||null;e.isInitialized()&&e.setAria("required",i),e.option("_onMarkupRendered",()=>{e.setAria("required",i)})}},_visibilityChanged(e){e&&this._initGroupRegistration()},_optionChanged(e){switch(e.name){case"validationGroup":this._initGroupRegistration();return;case"validationRules":this._resetValidationRules(),this._toggleAccessibilityAttributes(),this.option("isValid")!==void 0&&this.validate();return;case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(Nt.synchronizeValidationOptions(e,this.option()));break;default:this.callBase(e)}},_getValidationRules(){return this._validationRules||(this._validationRules=Si(this.option("validationRules"),(e,t)=>re({},e,{validator:this,index:t}))),this._validationRules},_findGroup(){var e=this.$element();return this.option("validationGroup")||Nt.findGroup(e,this._modelByElement(e))},_resetValidationRules(){delete this._validationRules},validate(e){var t=this.option("adapter"),i=this.option("name"),r=t.bypass&&t.bypass(),n=e&&e.value!==void 0?e.value:t.getValue(),a=t.getCurrentValidationError&&t.getCurrentValidationError(),s=this._getValidationRules(),o=this._validationInfo&&this._validationInfo.result;if(o&&o.status===Km&&o.value===n)return re({},o);var l;return r?l={isValid:!0,status:K1}:a&&a.editorSpecific?(a.validator=this,l={isValid:!1,status:xJ,brokenRule:a,brokenRules:[a]}):l=Nt.validate(n,s,i),l.id=new Ri().toString(),this._applyValidationResult(l,t),l.complete&&l.complete.then(u=>{u.id===this._validationInfo.result.id&&this._applyValidationResult(u,t)}),re({},this._validationInfo.result)},reset(){var e=this.option("adapter"),t={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:K1,complete:null};this._validationInfo.skipValidation=!0,e.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(t,e)},_updateValidationResult(e){if(!this._validationInfo.result||this._validationInfo.result.id!==e.id){var t=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=re({},e,{complete:t})}else for(var i in e)i!=="id"&&i!=="complete"&&(this._validationInfo.result[i]=e[i])},_applyValidationResult(e,t){var i=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(e.validator=this,this._updateValidationResult(e),t.applyValidationResults&&t.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),this._validationInfo.result.status===Km){this._validationInfo.deferred||(this._validationInfo.deferred=new pe,this._validationInfo.result.complete=this._validationInfo.deferred.promise()),this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);return}this._validationInfo.result.status!==Km&&(i(e),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(e),this._validationInfo.deferred=null))},focus(){var e=this.option("adapter");e&&e.focus&&e.focus()},_useTemplates:function(){return!1}});yt("dxValidator",Of);var SJ=["dxTagBox","dxRangeSlider"],EJ=["dxCalendar","dxCheckBox","dxHtmlEditor","dxRadioGroup","dxRangeSlider","dxSlider","dxSwitch"];function IJ(e){var{$parent:t,rootElementCssClassList:i,formOrLayoutManager:r,createComponentCallback:n,useFlexLayout:a,item:s,template:o,name:l,formLabelLocation:u,requiredMessageTemplate:d,validationGroup:c,editorValue:h,canAssignUndefinedValueToEditor:f,editorValidationBoundary:p,editorStylingMode:g,showColonAfterLabel:m,managerLabelLocation:v,itemId:b,managerMarkOptions:y,labelMode:I}=e,D=Z(s.isRequired)?s.isRequired:!!OJ(s.validationRules),N=s.itemType===Mv,z=s.helpText?"dx-"+new Ri:null,F=DJ({item:s,id:b,isRequired:D,managerMarkOptions:y,showColonAfterLabel:m,labelLocation:v,formLabelMode:I}),$=F.visible&&F.text,{location:j,labelID:q}=F,H=j!=="top"&&(!!s.helpText&&!a||["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"].includes(s.editorType)),A=AJ({editorType:s.editorType,editorValue:h,defaultEditorName:s.dataField,canAssignUndefinedValueToEditor:f,externalEditorOptions:s.editorOptions,editorInputId:b,editorValidationBoundary:p,editorStylingMode:g,formLabelMode:I,labelText:F.textWithoutColon,labelMark:F.markOptions.showRequiredMark?String.fromCharCode(160)+F.markOptions.requiredMark:""}),T=F.markOptions.showOptionalMark&&!F.visible&&A.labelMode!=="hidden"&&!Z(s.helpText),E=T?F.markOptions.optionalMark:s.helpText;return{$parent:t,rootElementCssClassList:i,formOrLayoutManager:r,createComponentCallback:n,useFlexLayout:a,labelOptions:F,labelNeedBaselineAlign:H,labelLocation:j,needRenderLabel:$,item:s,isSimpleItem:N,isRequired:D,template:o,helpID:z,labelID:q,name:l,helpText:E,formLabelLocation:u,requiredMessageTemplate:d,validationGroup:c,editorOptions:A}}function TJ(e){var{showRequiredMark:t,requiredMark:i,showOptionalMark:r,optionalMark:n}=e;return!t&&!r?"":String.fromCharCode(160)+(t?i:n)}function OD(e,t){var{showRequiredMark:i,requiredMark:r,showOptionalMark:n,optionalMark:a}=e;return{showRequiredMark:i&&t,requiredMark:r,showOptionalMark:n&&!t,optionalMark:a}}function AJ(e){var{editorType:t,defaultEditorName:i,editorValue:r,canAssignUndefinedValueToEditor:n,externalEditorOptions:a,editorInputId:s,editorValidationBoundary:o,editorStylingMode:l,formLabelMode:u,labelText:d,labelMark:c}=e,h={};(r!==void 0||n)&&(h.value=r),SJ.indexOf(t)!==-1&&(h.value=h.value||[]);var f=a==null?void 0:a.labelMode;Z(f)||(f=u==="outside"?"hidden":u);var p=(a==null?void 0:a.stylingMode)||l,g=re(!0,h,a,{inputAttr:{id:s},validationBoundary:o,stylingMode:p,label:d,labelMode:f,labelMark:c});return a&&(g.dataSource&&(g.dataSource=a.dataSource),g.items&&(g.items=a.items)),i&&!g.name&&(g.name=i),g}function OJ(e){var t;return e&&e.length&&le(e,function(i,r){if(r.type==="required")return t=!0,!1}),t}function DJ(e){var{item:t,id:i,isRequired:r,managerMarkOptions:n,showColonAfterLabel:a,labelLocation:s,formLabelMode:o}=e,l=EJ.includes(t.editorType),u=re({showColon:a,location:s,id:i,visible:o==="outside"||l&&o!=="hidden",isRequired:r},t?t.label:{},{markOptions:OD(n,r)});return["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor"].includes(t.editorType)&&(u.labelID="dx-label-".concat(new Ri)),!u.text&&t.dataField&&(u.text=Os(t.dataField)),u.text&&(u.textWithoutColon=u.text,u.text+=u.showColon?":":""),u}var RJ=["$FIELD_ITEM_LABEL_CONTENT_CLASS"],kJ="dx-layout-manager-hidden-label",MJ="dx-field-item-required-mark",DD="dx-field-item-label-location-",BJ="dx-field-item-optional-mark",RD="dx-field-item-label-text";function kD(e){var{text:t,id:i,location:r,alignment:n,labelID:a=null,markOptions:s={}}=e;return!Z(t)||t.length<=0?null:W("<label>").addClass(TD+" "+DD+r).attr("for",i).attr("id",a).css("textAlign",n).append(W("<span>").addClass(ID).append(W("<span>").addClass(RD).text(t),PJ(s)))}function PJ(e){var t=TJ(e);return t===""?null:W("<span>").addClass(e.showRequiredMark?MJ:BJ).text(t)}function FJ(e,t,i){var r="".concat(t," > .").concat(TD,":not(.").concat(DD,"top) > .").concat(ID),n=e.find(r),a=n.length,s,o,l=0;for(o=0;o<a;o++)s=LJ({$FIELD_ITEM_LABEL_CONTENT_CLASS:n[o],location:"left",markOptions:i}),s>l&&(l=s);for(o=0;o<a;o++)n[o].style.width=l+"px"}function LJ(e){var{$FIELD_ITEM_LABEL_CONTENT_CLASS:t}=e,i=ai(e,RJ),r=W("<div>").addClass(dJ).addClass(kJ).appendTo("body");i.text=" ";var n=kD(i).appendTo(r),a=n.find("."+RD)[0];a.innerHTML=NJ(t);var s=a.offsetWidth;return r.remove(),s}function NJ(e){var t=e.children.length,i,r="",n;for(n=0;n<t;n++)i=e.children[n],r+=ru(i.innerText)?i.innerHTML:i.innerText;return r}var VJ="dx-flex-layout",$J="dx-field-item-optional",HJ="dx-field-item-required",MD="dx-field-item-content-wrapper",zJ="dx-field-item-content-location-",WJ="dx-field-item-label-align",jJ="dx-field-item-help-text",UJ="dx-label-v-align",GJ="dx-label-h-align",KJ="dx-template-wrapper",Bv="dx-validation-target",qJ="dx-invalid";function XJ(e){var{$parent:t,rootElementCssClassList:i,formOrLayoutManager:r,createComponentCallback:n,useFlexLayout:a,labelOptions:s,labelNeedBaselineAlign:o,labelLocation:l,needRenderLabel:u,formLabelLocation:d,item:c,editorOptions:h,isSimpleItem:f,isRequired:p,template:g,helpID:m,labelID:v,name:b,helpText:y,requiredMessageTemplate:I,validationGroup:D}=e,N=W("<div>").addClass(i.join(" ")).appendTo(t);N.addClass(p?HJ:$J),f&&a&&N.addClass(VJ),f&&o&&N.addClass(WJ);var z=W("<div>");z.data("dx-form-item",c),z.addClass(kv).addClass(zJ+{right:"left",left:"right",top:"bottom"}[d]);var F=u?kD(s):null;F?(N.append(F),(l==="top"||l==="left")&&N.append(z),l==="right"&&N.prepend(z),l==="top"?N.addClass(UJ):N.addClass(GJ),(c.editorType==="dxCheckBox"||c.editorType==="dxSwitch")&&te.on(F,Pt,function(){te.trigger(z.children(),Pt)})):N.append(z);var $;if(g)g.render({container:qe(z),model:{dataField:c.dataField,editorType:c.editorType,editorOptions:h,component:r,name:c.name},onRendered(){var x=q1(z),k=YJ(x);X1(k)}});else{var j=W("<div>").appendTo(z);try{$=n(j,c.editorType,h),$.setAria("describedby",m),v&&$.setAria("labelledby",v),$.setAria("required",p)}catch(x){gt.log("E1035",x.message)}}var q=q1(z),H=q&&q.data(Bv);if(H){var A=c.label&&c.label.text,T=A?null:b,E=A?c.label.text:T&&Os(T),C;if(f)if(c.validationRules)C=c.validationRules;else{var w=sn(I,E||"");C=c.isRequired?[{type:"required",message:w}]:null}Array.isArray(C)&&C.length&&n(q,Of,{validationRules:C,validationGroup:D,dataGetter:function(){return{formItem:c}}}),X1(H)}if(y&&f){var S=z.parent();S.append(W("<div>").addClass(MD).append(z).append(W("<div>").addClass(jJ).attr("id",m).text(y)))}return{$fieldEditorContainer:z,$rootElement:N,widgetInstance:$}}function q1(e){var t=e.children().first();return t.hasClass(KJ)?t.children().first():t}function YJ(e){var t,i;return(e==null?void 0:e.data(Bv))||(e==null||(t=e.parent)===null||t===void 0||(i=t.call(e))===null||i===void 0?void 0:i.data(Bv))}function X1(e){if(e&&xi()){var t=".".concat(MD),i=r=>{var{element:n,component:a}=r,{isValid:s,validationMessageMode:o}=a.option();W(n).parents(t).toggleClass(qJ,s===!1&&(a._isFocused()||o==="always"))};e.on("optionChanged",r=>{r.name==="isValid"&&i(r)}),e.on("focusIn",i).on("focusOut",i).on("enterKey",i)}}var ZJ="dx-field-button-item";function JJ(e){var{item:t,$parent:i,rootElementCssClassList:r,validationGroup:n,createComponentCallback:a}=e,s=W("<div>").appendTo(i).addClass(r.join(" ")).addClass(ZJ).css("textAlign",QJ(t.horizontalAlignment));i.css("justifyContent",eQ(t.verticalAlignment));var o=W("<div>").appendTo(s);return{$rootElement:s,buttonInstance:a(o,"dxButton",re({validationGroup:n},t.buttonOptions))}}function QJ(e){return Z(e)?e:"right"}function eQ(e){switch(e){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}}var tQ="dx-field-empty-item";function Y1(e){var{$parent:t,rootElementCssClassList:i}=e;return W("<div>").addClass(tQ).html("&nbsp;").addClass(i.join(" ")).appendTo(t)}var iQ="dxTextBox",rQ="dx-first-row",nQ="dx-last-row",aQ="dx-first-col",sQ="dx-last-col",qm="flex",oQ="fallback",lQ=Fi.inherit({_getDefaultOptions:function(){return re(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,colCountByScreen:void 0,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",labelMode:"outside",optionalMark:_e.format("dxForm-optionalMark"),requiredMessage:_e.getFormatter("dxForm-requiredMessage")})},_setOptionsByReference:function(){this.callBase(),re(this._optionsByReference,{layoutData:!0,validationGroup:!0})},_init:function(){var e=this.option("layoutData");this.callBase(),this._itemWatchers=[],this._itemsRunTimeInfo=new vD,this._updateReferencedOptions(e),this._initDataAndItems(e)},_dispose:function(){this.callBase(),this._cleanItemWatchers()},_initDataAndItems:function(e){this._syncDataWithItems(),this._updateItems(e)},_syncDataWithItems:function(){var e=this.option("layoutData"),t=this.option("items");Z(t)&&t.forEach(i=>{if(i.dataField&&this._getDataByField(i.dataField)===void 0){var r;i.editorOptions&&(r=i.editorOptions.value),(Z(r)||i.dataField in e)&&this._updateFieldValue(i.dataField,r)}})},_getDataByField:function(e){return e?this.option("layoutData."+e):null},_isCheckboxUndefinedStateEnabled:function(e){var{allowIndeterminateState:t,editorType:i,dataField:r}=e;if(t===!0&&i==="dxCheckBox"){var n=["layoutData",...r.split(".")],a=n.pop(),s=this.option(n.join("."));return s&&a in s}return!1},_updateFieldValue:function(e,t){var i=this.option("layoutData"),r=t;!or.isWrapped(i[e])&&Z(e)?this.option("layoutData."+e,r):or.isWritableWrapped(i[e])&&(r=Re(r)?r():r,i[e](r)),this._triggerOnFieldDataChanged({dataField:e,value:r})},_triggerOnFieldDataChanged:function(e){this._createActionByOption("onFieldDataChanged")(e)},_updateItems:function(e){var t=this,i=this.option("items"),r=Z(i),n=t.option("customizeItem"),a=r?i:this._generateItemsByData(e);if(Z(a)){var s=[];le(a,function(o,l){t._isAcceptableItem(l)&&(l=t._processItem(l),n&&n(l),Ge(l)&&or.unwrap(l.visible)!==!1&&s.push(l))}),(!t._itemWatchers.length||!r)&&t._updateItemWatchers(a),this._setItems(s),this._sortItems()}},_cleanItemWatchers:function(){this._itemWatchers.forEach(function(e){e()}),this._itemWatchers=[]},_updateItemWatchers:function(e){var t=this,i=t._getWatch();e.forEach(function(r){Ge(r)&&Z(r.visible)&&Re(i)&&t._itemWatchers.push(i(function(){return or.unwrap(r.visible)},function(){t._updateItems(t.option("layoutData")),t.repaint()},{skipImmediate:!0}))})},_generateItemsByData:function(e){var t=[];return Z(e)&&le(e,function(i){t.push({dataField:i})}),t},_isAcceptableItem:function(e){var t=e.dataField||e,i=this._getDataByField(t);return!(Re(i)&&!or.isWrapped(i))},_processItem:function(e){if(typeof e=="string"&&(e={dataField:e}),typeof e=="object"&&!e.itemType&&(e.itemType=Mv),!Z(e.editorType)&&Z(e.dataField)){var t=this._getDataByField(e.dataField);e.editorType=Z(t)?this._getEditorTypeByDataType(Wr(t)):iQ}if(e.editorType==="dxCheckBox"){var i;e.allowIndeterminateState=(i=e.allowIndeterminateState)!==null&&i!==void 0?i:!0}return e},_getEditorTypeByDataType:function(e){switch(e){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems:function(){Wl(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes:function(){this._items.sort(function(e,t){var i=e.visibleIndex,r=t.visibleIndex,n;return i>r?n=1:i<r?n=-1:n=0,n})},_initMarkup:function(){this._itemsRunTimeInfo.clear(),this.$element().addClass(fJ),this.callBase(),this._renderResponsiveBox()},_hasBrowserFlex:function(){return Ka(qm)===qm},_renderResponsiveBox:function(){var e=[];if(this._items&&this._items.length){var t=this._getColCount(),i=W("<div>").appendTo(this.$element());this._prepareItemsWithMerging(t);var r=this._generateLayoutItems();this._responsiveBox=this._createComponent(i,SD,this._getResponsiveBoxConfig(r,t,e)),rt()||this._renderTemplates(e)}},_itemStateChangedHandler:function(e){this._refresh()},_renderTemplates:function(e){var t=this;le(e,function(i,r){switch(r.itemType){case"empty":Y1(r);break;case"button":t._renderButtonItem(r);break;default:t._renderFieldItem(r)}})},_getResponsiveBoxConfig:function(e,t,i){var r=this,n=r.option("colCountByScreen"),a=n&&n.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),_layoutStrategy:r._hasBrowserFlex()?qm:oQ,onLayoutChanged:function(){var s=r.option("onLayoutChanged"),o=r.isSingleColumnMode();s&&(r.$element().toggleClass(W1,o),s(o))},onContentReady:function(s){rt()&&r._renderTemplates(i),r.option("onLayoutChanged")&&r.$element().toggleClass(W1,r.isSingleColumnMode(s.component))},itemTemplate:function(s,o,l){if(s.location){var u=W(l),d=s.location.row*t,c=r._items[s.location.col+d];if(c){var h=[c.cssClass];u.toggleClass(pJ,r.isSingleColumnMode(this)),s.location.row===0&&h.push(rQ),s.location.col===0&&h.push(aQ),c.itemType===Mv&&r.option("isRoot")&&u.addClass(AD);var f=s.location.col===t-1||s.location.col+s.location.colspan===t,p=r._getRowsCount(),g=s.location.row===p-1;f&&h.push(sQ),g&&h.push(nQ),c.itemType!=="empty"&&(h.push(ED),h.push(r.option("cssItemClass")),Z(c.col)&&h.push("dx-col-"+c.col)),i.push({itemType:c.itemType,item:c,$parent:u,rootElementCssClassList:h})}}},cols:r._generateRatio(t),rows:r._generateRatio(r._getRowsCount(),!0),dataSource:e,screenByWidth:r.option("screenByWidth"),singleColumnScreen:a?!1:"xs"}},_getColCount:function(){var e=this.option("colCount"),t=this.option("colCountByScreen");if(t){var i=this.option("form").getTargetScreenFactor();i||(i=rt()?xI(this.option("screenByWidth")):"lg"),e=t[i]||e}if(e==="auto"){if(this._cashedColCount)return this._cashedColCount;this._cashedColCount=e=this._getMaxColCount()}return e<1?1:e},_getMaxColCount:function(){if(!rt())return 1;var e=this.option("minColWidth"),t=Ze(this.$element()),i=this._items.length,r=Math.floor(t/e)||1;return i<r?i:r},isCachedColCountObsolete:function(){return this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount},_prepareItemsWithMerging:function(e){var t=this._items.slice(0),i,r,n=[],a,s;for(s=0;s<t.length;s++)if(i=t[s],n.push(i),(this.option("alignItemLabels")||i.alignItemLabels||i.colSpan)&&(i.col=this._getColByIndex(n.length-1,e)),i.colSpan>1&&i.col+i.colSpan<=e){for(r=[],a=0;a<i.colSpan-1;a++)r.push({merged:!0});n=n.concat(r)}else delete i.colSpan;this._setItems(n)},_getColByIndex:function(e,t){return e%t},_setItems:function(e){this._items=e,this._cashedColCount=null},_generateLayoutItems:function(){var e=this._items,t=this._getColCount(),i=[],r,n;for(n=0;n<e.length;n++)if(r=e[n],!r.merged){var a={location:{row:parseInt(n/t),col:this._getColByIndex(n,t)}};Z(r.disabled)&&(a.disabled=r.disabled),Z(r.visible)&&(a.visible=r.visible),Z(r.colSpan)&&(a.location.colspan=r.colSpan),Z(r.rowSpan)&&(a.location.rowspan=r.rowSpan),i.push(a)}return i},_renderEmptyItem:function(e){Y1({$container:e})},_renderButtonItem:function(e){var{item:t,$parent:i,rootElementCssClassList:r}=e,{$rootElement:n,buttonInstance:a}=JJ({item:t,$parent:i,rootElementCssClassList:r,validationGroup:this.option("validationGroup"),createComponentCallback:this._createComponent.bind(this)});this._itemsRunTimeInfo.add({item:t,widgetInstance:a,guid:t.guid,$itemContainer:n})},_renderFieldItem:function(e){var t,{item:i,$parent:r,rootElementCssClassList:n}=e,a=this._getDataByField(i.dataField),s=!1;if(a===void 0){var{allowIndeterminateState:o,editorType:l,dataField:u}=i;s=this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:o,editorType:l,dataField:u})}var d=i.dataField||i.name,{$fieldEditorContainer:c,widgetInstance:h,$rootElement:f}=XJ(IJ({$parent:r,rootElementCssClassList:n,item:i,name:d,editorValue:a,canAssignUndefinedValueToEditor:s,formOrLayoutManager:this._getFormOrThis(),createComponentCallback:this._createComponent.bind(this),useFlexLayout:this._hasBrowserFlex(),formLabelLocation:this.option("labelLocation"),requiredMessageTemplate:this.option("requiredMessage"),validationGroup:this.option("validationGroup"),editorValidationBoundary:this.option("validationBoundary"),editorStylingMode:this.option("form")&&this.option("form").option("stylingMode"),showColonAfterLabel:this.option("showColonAfterLabel"),managerLabelLocation:this.option("labelLocation"),template:i.template?this._getTemplate(i.template):null,itemId:this.option("form")&&this.option("form").getItemID(d),managerMarkOptions:this._getMarkOptions(),labelMode:this.option("labelMode")}));(t=this.option("onFieldItemRendered"))===null||t===void 0||t(),h&&i.dataField&&this._bindDataField(h,i.dataField,i.editorType,c),this._itemsRunTimeInfo.add({item:i,widgetInstance:h,guid:i.guid,$itemContainer:f})},_getMarkOptions:function(){return{showRequiredMark:this.option("showRequiredMark"),requiredMark:this.option("requiredMark"),showOptionalMark:this.option("showOptionalMark"),optionalMark:this.option("optionalMark")}},_getFormOrThis:function(){return this.option("form")||this},_bindDataField:function(e,t,i,r){var n=this._getFormOrThis();e.on("enterKey",function(a){n._createActionByOption("onEditorEnterKey")(re(a,{dataField:t}))}),this._createWatcher(e,r,t),this.linkEditorToDataField(e,t,i)},_createWatcher:function(e,t,i){var r=this,n=r._getWatch();if(Re(n)){var a=n(function(){return r._getDataByField(i)},function(){var s=r._getDataByField(i);if(e.NAME==="dxTagBox"){var o=e.option("value");if(s!==o&&function(l,u){if(!Array.isArray(l)||!Array.isArray(u)||l.length!==u.length)return!1;for(var d=0;d<l.length;d++)if(l[d]!==u[d])return!1;return!0}(s,o))return}e.option("value",s)},{deep:!0,skipImmediate:!0});te.on(t,An,a)}},_getWatch:function(){if(!Z(this._watch)){var e=this.option("form");this._watch=e&&e.option("integrationOptions.watchMethod")}return this._watch},_createComponent:function(e,t,i){var r=this.option("readOnly"),n=this.callBase(e,t,i);return r&&n.option("readOnly",r),this.on("optionChanged",function(a){a.name==="readOnly"&&!Z(i.readOnly)&&n.option(a.name,a.value)}),n},_generateRatio:function(e,t){var i=[],r,n;for(n=0;n<e;n++)r={ratio:1},t&&(r.baseSize="auto"),i.push(r);return i},_getRowsCount:function(){return Math.ceil(this._items.length/this._getColCount())},_updateReferencedOptions:function(e){var t=this.option("layoutData");Ge(t)&&Object.getOwnPropertyNames(t).forEach(i=>delete this._optionsByReference["layoutData."+i]),Ge(e)&&Object.getOwnPropertyNames(e).forEach(i=>this._optionsByReference["layoutData."+i]=!0)},_resetWidget(e){this._disableEditorValueChangedHandler=!0,e.reset(),this._disableEditorValueChangedHandler=!1,e.option("isValid",!0)},_optionChanged(e){if(e.fullName.search("layoutData.")!==0)switch(e.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":this._updateReferencedOptions(e.value),this.option("items")?jr(e.value)||this._itemsRunTimeInfo.each((t,i)=>{if(Z(i.item)){var r=i.item.dataField;if(r&&Z(i.widgetInstance)){var n=jt(r),a=n(e.value),{allowIndeterminateState:s,editorType:o}=i.item;a!==void 0||this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:s,editorType:o,dataField:r})?i.widgetInstance.option("value",a):this._resetWidget(i.widgetInstance)}}}):(this._initDataAndItems(e.value),this._invalidate());break;case"items":this._cleanItemWatchers(),this._initDataAndItems(e.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":case"labelMode":case"requiredMessage":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":this._resetColCount();break;case"minColWidth":this.option("colCount")==="auto"&&this._resetColCount();break;case"readOnly":break;case"width":this.callBase(e),this.option("colCount")==="auto"&&this._resetColCount();break;case"onFieldDataChanged":break;default:this.callBase(e)}},_resetColCount:function(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField(e,t){this.on("optionChanged",i=>{i.fullName==="layoutData.".concat(t)&&e._setOptionWithoutOptionChange("value",i.value)}),e.on("valueChanged",i=>{var r=Ge(i.value)||Array.isArray(i.value);!this._disableEditorValueChangedHandler&&!(r&&i.value===i.previousValue)&&this._updateFieldValue(t,i.value)})},_dimensionChanged:function(){this.option("colCount")==="auto"&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")},updateData:function(e,t){var i=this;Ge(e)?le(e,function(r,n){i._updateFieldValue(r,n)}):typeof e=="string"&&i._updateFieldValue(e,t)},getEditor:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)||this._itemsRunTimeInfo.findWidgetInstanceByName(e)},isSingleColumnMode:function(e){var t=this._responsiveBox||e;if(t)return t.option("currentScreenFactor")===t.option("singleColumnScreen")},getItemsRunTimeInfo:function(){return this._itemsRunTimeInfo}});yt("dxLayoutManager",lQ);var U0="dx-validationsummary",uQ=U0+"-item",dQ=U0+"-item-data",BD=Js.inherit({_getDefaultOptions(){return re(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference(){this.callBase(),re(this._optionsByReference,{validationGroup:!0})},_init(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration(){var e=this.$element(),t=this.option("validationGroup")||Nt.findGroup(e,this._modelByElement(e)),i=Nt.addGroup(t);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=t,this.groupSubscription=this._groupValidationHandler.bind(this),i.on("validated",this.groupSubscription)},_unsubscribeGroup(){var e=Nt.getGroupConfig(this._validationGroup);e&&e.off("validated",this.groupSubscription)},_getOrderedItems(e,t){var i=[];return le(e,function(r,n){var a=hr(t,function(s){if(s.validator===n)return!0});a.length&&(i=i.concat(a))}),i},_groupValidationHandler(e){var t=this._getOrderedItems(e.validators,Si(e.brokenRules,function(i){return{text:i.message,validator:i.validator,index:i.index}}));this.validators=e.validators,le(this.validators,(i,r)=>{if(r._validationSummary!==this){var n=this._itemValidationHandler.bind(this);r.on("validated",n),r.on("disposing",function(){r.off("validated",n),r._validationSummary=null,n=null}),r._validationSummary=this}}),this.option("items",t)},_itemValidationHandler(e){for(var{isValid:t,validator:i,brokenRules:r}=e,n=this.option("items"),a=!1,s=0,o=function(){var u=n[s];if(u.validator===i){var d=hr(r||[],function(c){return c.index===u.index})[0];if(t||!d)return n.splice(s,1),a=!0,"continue";d.message!==u.text&&(u.text=d.message,a=!0)}s++};s<n.length;)var l=o();le(r,function(u,d){var c=hr(n,function(h){return h.validator===i&&h.index===d.index})[0];c||(n.push({text:d.message,validator:i,index:d.index}),a=!0)}),a&&(n=this._getOrderedItems(this.validators,n),this.option("items",n))},_initMarkup(){this.$element().addClass(U0),this.callBase()},_optionChanged(e){switch(e.name){case"validationGroup":this._initGroupRegistration();break;default:this.callBase(e)}},_itemClass:()=>uQ,_itemDataKey:()=>dQ,_postprocessRenderItem(e){te.on(e.itemElement,"click",function(){e.itemData.validator&&e.itemData.validator.focus&&e.itemData.validator.focus()})},_dispose(){this.callBase(),this._unsubscribeGroup()},refreshValidationGroup(){this._initGroupRegistration()}});yt("dxValidationSummary",BD);var Z1="dx-validationgroup",hQ="dx-validator",cQ="dx-validationsummary";class fQ extends Dn{_getDefaultOptions(){return super._getDefaultOptions()}_init(){super._init(),Nt.addGroup(this)}_initMarkup(){var t=this.$element();t.addClass(Z1),t.find(".".concat(hQ)).each(function(i,r){Of.getInstance(W(r))._initGroupRegistration()}),t.find(".".concat(cQ)).each(function(i,r){BD.getInstance(W(r)).refreshValidationGroup()}),super._initMarkup()}validate(){return Nt.validateGroup(this)}reset(){return Nt.resetGroup(this)}_dispose(){Nt.removeGroup(this),this.$element().removeClass(Z1),super._dispose()}_useTemplates(){return!1}}yt("dxValidationGroup",fQ);var J1="dx-state-focused",pQ=["items","isRequired","validationRules","visible"],G0=Fi.inherit({_init:function(){this.callBase(),this._cachedColCountOptions=[],this._itemsRunTimeInfo=new vD,this._groupsColCount=[],this._attachSyncSubscriptions()},_getDefaultOptions:function(){return re(this.callBase(),{formID:"dx-"+new Ri,formData:{},colCount:1,screenByWidth:m_,colCountByScreen:void 0,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,alignRootItemLabels:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:_e.format("dxForm-optionalMark"),requiredMessage:_e.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,items:void 0,scrollingEnabled:!1,validationGroup:void 0,stylingMode:Jt().editorStylingMode,labelMode:"outside"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return xi()},options:{showColonAfterLabel:!1,labelLocation:"top"}}])},_setOptionsByReference:function(){this.callBase(),re(this._optionsByReference,{formData:!0,validationGroup:!0})},_getGroupColCount:function(e){return parseInt(e.attr(G1))},_applyLabelsWidthByCol:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,n=i.inOneColumn?ED:z1+t,a=i.excludeTabbed?":not(.".concat(j1,")"):"";FJ(e,".".concat(n).concat(a),r)},_applyLabelsWidth:function(e,t,i,r,n){r=i?1:r||this._getGroupColCount(e);var a={excludeTabbed:t,inOneColumn:i},s;for(s=0;s<r;s++)this._applyLabelsWidthByCol(e,s,a,n)},_getGroupElementsInColumn:function(e,t,i){var r=Z(i)?"."+U1+i:"",n="."+z1+t+" > ."+kv+" > ."+Gm+r;return e.find(n)},_applyLabelsWidthWithGroups:function(e,t,i,r){if(this.option("alignRootItemLabels")===!0)for(var n=e.find(".".concat(AD)),a=0;a<t;a++)this._applyLabelsWidthByCol(n,a,i,r);var s=this.option("alignItemLabelsInAllGroups");if(s)this._applyLabelsWidthWithNestedGroups(e,t,i,r);else{var o=this.$element().find("."+Gm),l;for(l=0;l<o.length;l++)this._applyLabelsWidth(o.eq(l),i,void 0,void 0,r)}},_applyLabelsWidthWithNestedGroups:function(e,t,i,r){var n={excludeTabbed:i},a,s,o,l;for(a=0;a<t;a++)for(l=this._getGroupElementsInColumn(e,a),this._applyLabelsWidthByCol(l,0,n,r),s=0;s<this._groupsColCount.length;s++){l=this._getGroupElementsInColumn(e,a,this._groupsColCount[s]);var u=this._getGroupColCount(l);for(o=1;o<u;o++)this._applyLabelsWidthByCol(l,o,n,r)}},_labelLocation:function(){return this.option("labelLocation")},_alignLabelsInColumn:function(e){var{layoutManager:t,inOneColumn:i,$container:r,excludeTabbed:n,items:a}=e;if(!(!rt()||this._labelLocation()==="top")){var s=OD(t._getMarkOptions());i?this._applyLabelsWidth(r,n,!0,void 0,s):this._checkGrouping(a)?this._applyLabelsWidthWithGroups(r,t._getColCount(),n,s):this._applyLabelsWidth(r,n,!1,t._getColCount(),s)}},_prepareFormData:function(){Z(this.option("formData"))||this.option("formData",{})},_setStylingModeClass:function(){this.option("stylingMode")==="underlined"&&this.$element().addClass(yJ)},_initMarkup:function(){Nt.addGroup(this._getValidationGroup()),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass(hJ),this._setStylingModeClass(),this.callBase(),this.setAria("role","form",this.$element()),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor()},_getCurrentScreenFactor:function(){return rt()?xI(this.option("screenByWidth")):"lg"},_clearCachedInstances:function(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]},_alignLabels:function(e,t){this._alignLabelsInColumn({$container:this.$element(),layoutManager:e,excludeTabbed:!0,items:this.option("items"),inOneColumn:t}),Cn(this.$element().find(".".concat(yO)))},_clean:function(){this._clearValidationSummary(),this.callBase(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0},_renderScrollable:function(){var e=this.option("useNativeScrolling");this._scrollable=new Tr(this.$element(),{useNative:!!e,useSimulatedScrollbar:!e,useKeyboard:!1,direction:"both",bounceEnabled:!1})},_getContent:function(){return this.option("scrollingEnabled")?W(this._scrollable.content()):this.$element()},_clearValidationSummary:function(){var e;(e=this._$validationSummary)===null||e===void 0||e.remove(),this._$validationSummary=void 0,this._validationSummary=void 0},_renderValidationSummary:function(){this._clearValidationSummary(),this.option("showValidationSummary")&&(this._$validationSummary=W("<div>").addClass(bJ).appendTo(this._getContent()),this._validationSummary=this._$validationSummary.dxValidationSummary({validationGroup:this._getValidationGroup()}).dxValidationSummary("instance"))},_prepareItems(e,t,i,r){if(e){for(var n=[],a=0;a<e.length;a++){var s=e[a],o=yD(i,Dv(a,r)),l={item:s,itemIndex:a,path:o},u=this._itemsRunTimeInfo.add(l);if(Ue(s)&&(s={dataField:s}),Ge(s)){var d=Ie({},s);l.preparedItem=d,d.guid=u,this._tryPrepareGroupItem(d),this._tryPrepareTabbedItem(d,o),this._tryPrepareItemTemplate(d),t&&(d.cssItemClass=j1),d.items&&(d.items=this._prepareItems(d.items,t,o)),n.push(d)}else n.push(s)}return n}},_tryPrepareGroupItem:function(e){e.itemType==="group"&&(e.alignItemLabels=di(e.alignItemLabels,!0),e._prepareGroupItemTemplate=t=>{e.template&&(e.groupContentTemplate=this._getTemplate(t)),e.template=this._itemGroupTemplate.bind(this,e)},e._prepareGroupItemTemplate(e.template))},_tryPrepareTabbedItem:function(e,t){e.itemType==="tabbed"&&(e.template=this._itemTabbedTemplate.bind(this,e),e.tabs=this._prepareItems(e.tabs,!0,t,!0))},_tryPrepareItemTemplate:function(e){e.template&&(e.template=this._getTemplate(e.template))},_checkGrouping:function(e){if(e)for(var t=0;t<e.length;t++){var i=e[t];if(i.itemType==="group")return!0}},_renderLayout:function(){var e=this,t=e.option("items"),i=e._getContent();t=e._prepareItems(t),e._rootLayoutManager=e._renderLayoutManager(i,this._createLayoutManagerOptions(t,{isRoot:!0,colCount:e.option("colCount"),alignItemLabels:e.option("alignItemLabels"),screenByWidth:this.option("screenByWidth"),colCountByScreen:this.option("colCountByScreen"),onLayoutChanged:function(r){e._alignLabels.bind(e)(e._rootLayoutManager,r)},onContentReady:function(r){e._alignLabels(r.component,r.component.isSingleColumnMode())}}))},_tryGetItemsForTemplate:function(e){return e.items||[]},_itemTabbedTemplate:function(e,t,i){var r=W("<div>").appendTo(i),n=re({},e.tabPanelOptions,{dataSource:e.tabs,onItemRendered:o=>lc(o.itemElement),itemTemplate:(o,l,u)=>{var d=W(u),c=di(o.alignItemLabels,!0),h=this._renderLayoutManager(d,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(o),{colCount:o.colCount,alignItemLabels:c,screenByWidth:this.option("screenByWidth"),colCountByScreen:o.colCountByScreen,cssItemClass:o.cssItemClass,onLayoutChanged:f=>{this._alignLabelsInColumn({$container:d,layoutManager:h,items:o.items,inOneColumn:f})}}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(o.guid,{layoutManager:h}),c&&this._alignLabelsInColumn({$container:d,layoutManager:h,items:o.items,inOneColumn:h.isSingleColumnMode()})}}),a=(o,l)=>{Array.isArray(o)&&o.forEach(u=>this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(u.guid,{widgetInstance:l}))},s=this._createComponent(r,j0,n);W(i).parent().addClass(vJ),s.on("optionChanged",o=>{o.fullName==="dataSource"&&a(o.value,o.component)}),a([{guid:e.guid},...e.tabs],s)},_itemGroupTemplate:function(e,t,i){var r=W("<div>").toggleClass(_J,Z(e.caption)&&e.caption.length).addClass(Gm).appendTo(i);W(i).parent().addClass(gJ);var n,a;e.caption&&W("<span>").addClass(cJ).text(e.caption).appendTo(r);var s=W("<div>").addClass(mJ).appendTo(r);e.groupContentTemplate?(e._renderGroupContentTemplate=()=>{s.empty();var o={formData:this.option("formData"),component:this};e.groupContentTemplate.render({model:o,container:qe(s)})},e._renderGroupContentTemplate()):(a=this._renderLayoutManager(s,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(e),{colCount:e.colCount,colCountByScreen:e.colCountByScreen,alignItemLabels:e.alignItemLabels,cssItemClass:e.cssItemClass})),this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(e.guid,{layoutManager:a}),n=a._getColCount(),this._groupsColCount.includes(n)||this._groupsColCount.push(n),r.addClass(U1+n),r.attr(G1,n))},_createLayoutManagerOptions:function(e,t){return QZ({form:this,formOptions:this.option(),$formElement:this.$element(),items:e,validationGroup:this._getValidationGroup(),extendedLayoutManagerOptions:t,onFieldDataChanged:i=>{this._isDataUpdating||this._triggerOnFieldDataChanged(i)},onContentReady:i=>{this._itemsRunTimeInfo.addItemsOrExtendFrom(i.component._itemsRunTimeInfo),t.onContentReady&&t.onContentReady(i)},onDisposing:i=>{var{component:r}=i,n=r.getItemsRunTimeInfo();this._itemsRunTimeInfo.removeItemsByItems(n)},onFieldItemRendered:()=>{var i;(i=this._validationSummary)===null||i===void 0||i.refreshValidationGroup()}})},_renderLayoutManager:function(e,t){var i={lg:t.colCount,md:t.colCount,sm:t.colCount,xs:1};this._cachedColCountOptions.push({colCountByScreen:re(i,t.colCountByScreen)});var r=W("<div>");r.appendTo(e);var n=this._createComponent(r,"dxLayoutManager",t);return n.on("autoColCountChanged",()=>{this._clearAutoColCountChangedTimeout(),this.autoColCountChangedTimeoutId=setTimeout(()=>!this._disposed&&this._refresh(),0)}),this._cachedLayoutManagers.push(n),n},_getValidationGroup:function(){return this.option("validationGroup")||this},_createComponent:function(e,t,i){return i=i||{},this._extendConfig(i,{readOnly:this.option("readOnly")}),this.callBase(e,t,i)},_attachSyncSubscriptions:function(){var e=this;e.on("optionChanged",function(t){var i=t.fullName;i==="formData"&&(Z(t.value)||e._options.silent("formData",t.value={}),e._triggerOnFieldDataChangedByDataSet(t.value)),e._cachedLayoutManagers.length&&le(e._cachedLayoutManagers,function(r,n){i==="formData"&&(e._isDataUpdating=!0,n.option("layoutData",t.value),e._isDataUpdating=!1),(t.name==="readOnly"||t.name==="disabled")&&n.option(i,t.value)})})},_optionChanged:function(e){var t=e.fullName.split(".");t.length>1&&t[0].search("items")!==-1&&this._itemsOptionChangedHandler(e)||t.length>1&&t[0].search("formData")!==-1&&this._formDataOptionChangedHandler(e)||this._defaultOptionChangedHandler(e)},_defaultOptionChangedHandler:function(e){switch(e.name){case"formData":this.option("items")?jr(e.value)&&this._resetValues():this._invalidate();break;case"onFieldDataChanged":break;case"items":case"colCount":case"onEditorEnterKey":case"labelLocation":case"labelMode":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":this.option("colCount")==="auto"&&this._invalidate();break;case"alignRootItemLabels":case"readOnly":break;case"width":this.callBase(e),this._rootLayoutManager.option(e.name,e.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"visible":this.callBase(e),e.value&&lc(this.$element());break;case"validationGroup":Nt.removeGroup(e.previousValue||this),this._invalidate();break;default:this.callBase(e)}},_itemsOptionChangedHandler:function(e){var t=e.fullName.split("."),i=e.value,r=this._getItemPath(t),n=this.option(r),a=e.fullName.replace(r+".",""),s=a.split(".")[0].replace(/\[\d+]/,""),o=this._tryCreateItemOptionAction(s,n,n[s],e.previousValue,r),l=this._tryExecuteItemOptionAction(o)||this._tryChangeLayoutManagerItemOption(e.fullName,i);if(!l&&n){this._changeItemOption(n,a,i);var u=this._generateItemsFromData(this.option("items"));this.option("items",u),l=!0}return l},_formDataOptionChangedHandler:function(e){var t=e.fullName.split("."),i=e.value,r=t.slice(1).join("."),n=this.getEditor(r);return n?n.option("value",i):this._triggerOnFieldDataChanged({dataField:r,value:i}),!0},_tryCreateItemOptionAction:function(e,t,i,r,n){return e==="tabs"&&(this._itemsRunTimeInfo.removeItemsByPathStartWith("".concat(n,".tabs")),i=this._prepareItems(i,!0,n,!0)),sJ(e,{item:t,value:i,previousValue:r,itemsRunTimeInfo:this._itemsRunTimeInfo})},_tryExecuteItemOptionAction:function(e){return e&&e.tryExecute()},_updateValidationGroupAndSummaryIfNeeded:function(e){var t=N1(e);if(pQ.indexOf(t)>-1&&(Nt.addGroup(this._getValidationGroup()),this.option("showValidationSummary"))){var i;(i=this._validationSummary)===null||i===void 0||i.refreshValidationGroup()}},_setLayoutManagerItemOption(e,t,i,r){if(this._updateLockCount>0){!e._updateLockCount&&e.beginUpdate();var n=this._itemsRunTimeInfo.findKeyByPath(r);this.postponedOperations.add(n,()=>(!e._disposed&&e.endUpdate(),new pe().resolve()))}var a=s=>{if(s.component.off("contentReady",a),CD(r)){var o=JZ(r),l=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(o);l&&this._alignLabelsInColumn({items:l.option("items"),layoutManager:l,$container:l.$element(),inOneColumn:l.isSingleColumnMode()})}else this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())};e.on("contentReady",a),e.option(t,i),this._updateValidationGroupAndSummaryIfNeeded(t)},_tryChangeLayoutManagerItemOption(e,t){var i=e.split("."),r=N1(e);if(r==="items"&&i.length>1){var n=this._getItemPath(i),a=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(n);if(a){this._itemsRunTimeInfo.removeItemsByItems(a.getItemsRunTimeInfo());var s=this._prepareItems(t,!1,n);return this._setLayoutManagerItemOption(a,r,s,n),!0}}else if(i.length>2){var o=i.length-2,l=this._getItemPath(i.slice(0,o)),u=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(l);if(u){var d=Xl(i[o],r);if(r==="editorType"&&u.option(d)!==t)return!1;if(r==="visible"){var c=this.option(Xl(l,"items"));if(c&&c.length){var h=u.option("items");c.forEach((f,p)=>{var g=h[p];g.visibleIndex=f.visibleIndex})}}return this._setLayoutManagerItemOption(u,d,t,l),!0}}return!1},_tryChangeLayoutManagerItemOptions(e,t){var i;return this.beginUpdate(),le(t,(r,n)=>{if(i=this._tryChangeLayoutManagerItemOption(Xl(e,r),n),!i)return!1}),this.endUpdate(),i},_getItemPath:function(e){var t=e[0],i;for(i=1;i<e.length&&e[i].search(/items\[\d+]|tabs\[\d+]/)!==-1;i++)t+="."+e[i];return t},_triggerOnFieldDataChanged:function(e){this._createActionByOption("onFieldDataChanged")(e)},_triggerOnFieldDataChangedByDataSet:function(e){var t=this;e&&Ge(e)&&le(e,function(i,r){t._triggerOnFieldDataChanged({dataField:i,value:r})})},_updateFieldValue:function(e,t){if(Z(this.option("formData"))){var i=this.getEditor(e);if(this.option("formData."+e,t),i){var r=i.option("value");r!==t&&i.option("value",t)}}},_generateItemsFromData:function(e){var t=this.option("formData"),i=[];return!e&&Z(t)&&le(t,function(r){i.push({dataField:r})}),e&&le(e,function(r,n){Ge(n)?i.push(n):i.push({dataField:n})}),i},_getItemByField:function(e,t){var i=this,r=Ge(e)?e:i._getFieldParts(e),n=r.fieldName,a=r.fieldPath,s;return t.length&&le(t,function(o,l){var u=l.itemType;if(a.length){var d=a.slice();l=i._getItemByFieldPath(d,n,l)}else if(u==="group"&&!(l.caption||l.name)||u==="tabbed"&&!l.name){var c=i._getSubItemField(u);l.items=i._generateItemsFromData(l.items),l=i._getItemByField({fieldName:n,fieldPath:a},l[c])}if(ZZ(l,n))return s=l,!1}),s},_getFieldParts:function(e){for(var t=e,i=t.indexOf("."),r=[];i!==-1;)r.push(t.substr(0,i)),t=t.substr(i+1),i=t.indexOf(".");return{fieldName:t,fieldPath:r.reverse()}},_getItemByFieldPath:function(e,t,i){var r=i.itemType,n=this._getSubItemField(r),a=r==="group"||r==="tabbed"||i.title,s;do if(a){var o=i.name||i.caption||i.title,l=Z(o),u=Rv(o),d=void 0;if(i[n]=this._generateItemsFromData(i[n]),l&&(d=e.pop()),!e.length&&(s=this._getItemByField(t,i[n]),s))break;(!l||l&&u===d)&&e.length&&(s=this._searchItemInEverySubItem(e,t,i[n]))}else break;while(e.length&&!Z(s));return s},_getSubItemField:function(e){return e==="tabbed"?"tabs":"items"},_searchItemInEverySubItem:function(e,t,i){var r=this,n;return le(i,function(a,s){if(n=r._getItemByFieldPath(e.slice(),t,s),n)return!1}),n||(n=!1),n},_changeItemOption:function(e,t,i){Ge(e)&&(e[t]=i)},_dimensionChanged:function(){var e=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==e&&(this._isColCountChanged(this._lastMarkupScreenFactor,e)&&(this._targetScreenFactor=e,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=e)},_isColCountChanged:function(e,t){var i=!1;return le(this._cachedColCountOptions,function(r,n){if(n.colCountByScreen[e]!==n.colCountByScreen[t])return i=!0,!1}),i},_refresh:function(){var e="."+J1+" input, ."+J1+" textarea";te.trigger(this.$element().find(e),"change"),this.callBase()},_resetValues:function(){this._itemsRunTimeInfo.each(function(e,t){Z(t.widgetInstance)&&ln.isEditor(t.widgetInstance)&&(t.widgetInstance.reset(),t.widgetInstance.option("isValid",!0))}),Nt.resetGroup(this._getValidationGroup())},_updateData:function(e,t,i){var r=this,n=i?t:e;Ge(n)?le(n,function(a,s){r._updateData(i?e+"."+a:a,s,Ge(s))}):Ue(e)&&r._updateFieldValue(e,t)},registerKeyHandler:function(e,t){this.callBase(e,t),this._itemsRunTimeInfo.each(function(i,r){Z(r.widgetInstance)&&r.widgetInstance.registerKeyHandler(e,t)})},_focusTarget:function(){return this.$element().find("."+kv+" [tabindex]").first()},_visibilityChanged:function(){},_clearAutoColCountChangedTimeout:function(){this.autoColCountChangedTimeoutId&&(clearTimeout(this.autoColCountChangedTimeoutId),this.autoColCountChangedTimeoutId=void 0)},_dispose:function(){this._clearAutoColCountChangedTimeout(),Nt.removeGroup(this._getValidationGroup()),this.callBase()},resetValues:function(){this._resetValues()},updateData:function(e,t){this._updateData(e,t)},getEditor:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)||this._itemsRunTimeInfo.findWidgetInstanceByName(e)},getButton:function(e){return this._itemsRunTimeInfo.findWidgetInstanceByName(e)},updateDimensions:function(){var e=this,t=new pe;return e._scrollable?e._scrollable.update().done(function(){t.resolveWith(e)}):t.resolveWith(e),t.promise()},itemOption:function(e,t,i){var r=this._generateItemsFromData(this.option("items")),n=this._getItemByField(e,r),a=wD(r,n);if(n)switch(arguments.length){case 1:return n;case 3:var s=this._tryCreateItemOptionAction(t,n,i,n[t],a);this._changeItemOption(n,t,i);var o=Xl(a,t);!this._tryExecuteItemOptionAction(s)&&!this._tryChangeLayoutManagerItemOption(o,i)&&this.option("items",r);break;default:if(Ge(t)&&!this._tryChangeLayoutManagerItemOptions(a,t)){var l;le(t,(u,d)=>{var c=this._tryCreateItemOptionAction(u,n,d,n[u],a);this._changeItemOption(n,u,d),!l&&!this._tryExecuteItemOptionAction(c)&&(l=!0)}),l&&this.option("items",r)}}},validate:function(){return Nt.validateGroup(this._getValidationGroup())},getItemID:function(e){return"dx_"+this.option("formID")+"_"+(e||new Ri)},getTargetScreenFactor:function(){return this._targetScreenFactor}});yt("dxForm",G0);var mQ=!!Tr.IS_RENOVATED_WIDGET,Q1="edit-form-item",gQ="edit-popup",vQ="edit-popup-form",_Q=mQ?"dx-scrollable":"dx-scrollable-container",bQ="dx-button",yQ="form-buttons-container",CQ=e=>{var t,i=e.column;return e.isCustomEditorType?e.editorType:(t=i.formItem)===null||t===void 0?void 0:t.editorType},PD=(e,t)=>{e.forEach(i=>{i.items||i.tabs?PD(i.items||i.tabs,t):t(i)})},wQ={extenders:{controllers:{editing:{init:function(){this._editForm=null,this._updateEditFormDeferred=null,this.callBase.apply(this,arguments)},isFormOrPopupEditMode:function(){return this.isPopupEditMode()||this.isFormEditMode()},isPopupEditMode:function(){var e=this.option("editing.mode");return e===z0},isFormEditMode:function(){var e=this.option("editing.mode");return e===Af},getFirstEditableColumnIndex:function(){var e=this._firstFormItem;if(this.isFormEditMode()&&e){var t=this.option(en),i=this._dataController.getRowIndexByKey(t),r=this._rowsView.getCellElements(i);return this._rowsView._getEditFormEditorVisibleIndex(r,e.column)}return this.callBase.apply(this,arguments)},getEditFormRowIndex:function(){return this.isFormOrPopupEditMode()?this._getVisibleEditRowIndex():this.callBase.apply(this,arguments)},_isEditColumnVisible:function(){var e=this.callBase.apply(this,arguments),t=this.option("editing");return this.isFormOrPopupEditMode()&&t.allowUpdating||e},_handleDataChanged:function(e){if(this.isPopupEditMode()){var t,i,r=this.option("editing.editRowKey"),n=e==null||(t=e.items)===null||t===void 0?void 0:t.some(s=>ni(s.key,r)),a=((i=e.changeTypes)===null||i===void 0?void 0:i.length)&&e.changeTypes.every(s=>s==="insert");(e.changeType==="refresh"||n)&&!a&&this._repaintEditPopup()}this.callBase.apply(this,arguments)},getPopupContent:function(){var e,t=(e=this._editPopup)===null||e===void 0?void 0:e.option("visible");if(this.isPopupEditMode()&&t)return this._$popupContent},_showAddedRow:function(e){this.isPopupEditMode()?this._showEditPopup(e):this.callBase.apply(this,arguments)},_cancelEditDataCore:function(){this.callBase.apply(this,arguments),this.isPopupEditMode()&&this._hideEditPopup()},_updateEditRowCore:function(e,t,i){var r=this._editForm;if(this.isPopupEditMode())if(this.option("repaintChangesOnly")){var n;(n=e.update)===null||n===void 0||n.call(e,e),this._rowsView.renderDelayedTemplates()}else r&&(this._updateEditFormDeferred=new pe().done(()=>r.repaint()),this._updateLockCount||this._updateEditFormDeferred.resolve());else this.callBase.apply(this,arguments)},_showEditPopup:function(e,t){var i=Ne.current().deviceType!=="desktop",r=re({showTitle:!1,fullScreen:i,copyRootClassesToWrapper:!0,_ignoreCopyRootClassesToWrapperDeprecation:!0,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getSaveButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getCancelButtonConfig()}],contentTemplate:this._getPopupEditFormTemplate(e)},this.option(Kh));if(!this._editPopup){var n=W("<div>").appendTo(this.component.$element()).addClass(this.addWidgetPrefix(gQ));this._editPopup=this._createComponent(n,kn,{copyRootClassesToWrapper:!0,_ignoreCopyRootClassesToWrapperDeprecation:!0}),this._editPopup.on("hiding",this._getEditPopupHiddenHandler()),this._editPopup.on("shown",a=>{if(te.trigger(a.component.$content().find(cD).not(".".concat(_Q)).first(),"focus"),t){var s;(s=this._editForm)===null||s===void 0||s.repaint()}})}this._editPopup.option(r),this._editPopup.show(),this.callBase.apply(this,arguments)},_getPopupEditFormTemplate:function(e){var t=this.component.getVisibleRows()[e],i={row:t,values:t.values,rowType:t.rowType,key:t.key,rowIndex:e};return this._rowsView._addWatchMethod(i,t),r=>{var n=this.getEditFormTemplate(),a=this._createComponent(W("<div>").appendTo(r),Tr);this._$popupContent=W(a.content()),n(this._$popupContent,i,{isPopupForm:!0}),this._rowsView.renderDelayedTemplates()}},_repaintEditPopup:function(){var e=this._getVisibleEditRowIndex();if(e>=0){var t,i,r=(t=this._editPopup)===null||t===void 0?void 0:t.option("animation");(i=this._editPopup)===null||i===void 0||i.option("animation",null),this._showEditPopup(e,!0),r!==void 0&&this._editPopup.option("animation",r)}},_hideEditPopup:function(){var e;(e=this._editPopup)===null||e===void 0||e.option("visible",!1)},optionChanged:function(e){if(e.name==="editing"&&this.isFormOrPopupEditMode()){var t=e.fullName;t.indexOf(Wm)===0?(this._handleFormOptionChange(e),e.handled=!0):t.indexOf(Kh)===0&&(this._handlePopupOptionChange(e),e.handled=!0)}this.callBase.apply(this,arguments)},_handleFormOptionChange:function(e){var t;if(this.isFormEditMode()){var i=this._getVisibleEditRowIndex();i>=0&&this._dataController.updateItems({changeType:"update",rowIndices:[i]})}else(t=this._editPopup)!==null&&t!==void 0&&t.option("visible")&&e.fullName.indexOf(Wm)===0&&this._repaintEditPopup()},_handlePopupOptionChange:function(e){var t=this._editPopup;if(t){var i=e.fullName.slice(Kh.length+1);i?t.option(i,e.value):t.option(e.value)}},renderFormEditTemplate:function(e,t,i,r,n){var a=this,s=W(r),o=t.column,l=CQ(t),u=e==null?void 0:e.row.data,d=i.component,{label:c,labelMark:h,labelMode:f}=i.editorOptions||{},p=re({},e,{data:u,cellElement:null,isOnForm:!0,item:t,id:d.getItemID(t.name||t.dataField),column:re({},o,{editorType:l,editorOptions:re({label:c,labelMark:h,labelMode:f},o.editorOptions,t.editorOptions)}),columnIndex:o.index,setValue:!n&&o.allowEditing&&function(m){a.updateFieldValue(p,m)}});p.value=o.calculateCellValue(u);var g=this._getFormEditItemTemplate.bind(this)(p,o);return this._rowsView.renderTemplate(s,g,p,!!s.closest(at().document).length).done(()=>{this._rowsView._updateCell(s,p)}),p},getFormEditorTemplate:function(e,t){var i=this.component.columnOption(t.dataField);return(r,n)=>{var a,s,o=W(n);(a=(s=e.row).watch)===null||a===void 0||a.call(s,function(){return i.selector(e.row.data)},()=>{var l,u=o.find(".dx-widget").first(),d=u.data("dxValidator"),c=(l=d)===null||l===void 0?void 0:l.option();o.contents().remove(),e=this.renderFormEditTemplate.bind(this)(e,t,r,o),u=o.find(".dx-widget").first(),d=u.data("dxValidator"),c&&!d&&u.dxValidator({validationRules:c.validationRules,validationGroup:c.validationGroup,dataGetter:c.dataGetter})}),e=this.renderFormEditTemplate.bind(this)(e,t,r,o)}},getEditFormOptions:function(e){var t,i=(t=this._getValidationGroupsInForm)===null||t===void 0?void 0:t.call(this,e),r=this.option("editing.form.customizeItem"),n=this.addWidgetPrefix(Q1),a=this.option("editing.form.items"),s={};if(a)PD(a,l=>{var u=(l==null?void 0:l.name)||(l==null?void 0:l.dataField);u&&(s[u]=!!l.editorType)});else{var o=this.getController("columns").getColumns();a=[],le(o,function(l,u){!u.isBand&&!u.type&&a.push({column:u,name:u.name,dataField:u.dataField})})}return re({},i,{items:a,formID:"dx-"+new Ri,customizeItem:l=>{var u,d=l.name||l.dataField;if((l.column||d)&&(u=l.column||this._columnsController.columnOption(l.name?"name:"+l.name:"dataField:"+l.dataField)),u){if(l.label=l.label||{},l.label.text=l.label.text||u.caption,u.dataType==="boolean"&&l.label.visible===void 0){var c=this.option("editing.form.labelMode");(c==="floating"||c==="static")&&(l.label.visible=!0)}l.template=l.template||this.getFormEditorTemplate(e,l),l.column=u,l.isCustomEditorType=s[d],u.formItem&&re(l,u.formItem),l.isRequired===void 0&&u.validationRules&&(l.isRequired=u.validationRules.some(function(f){return f.type==="required"}),l.validationRules=[]);var h=Z(l.visible)?l.visible:!0;!this._firstFormItem&&h&&(this._firstFormItem=l)}r==null||r.call(this,l),l.cssClass=Ue(l.cssClass)?l.cssClass+" "+n:n}})},getEditFormTemplate:function(){return(e,t,i)=>{var r=this.option(Wm),n=this.getEditFormOptions(t),a=W("<div>").appendTo(e),s=i==null?void 0:i.isPopupForm;if(this._firstFormItem=void 0,s&&a.addClass(this.addWidgetPrefix(vQ)),this._editForm=this._createComponent(a,G0,re({},r,n)),!s){var o=W("<div>").addClass(this.addWidgetPrefix(yQ)).appendTo(e);this._createComponent(W("<div>").appendTo(o),Ki,this._getSaveButtonConfig()),this._createComponent(W("<div>").appendTo(o),Ki,this._getCancelButtonConfig())}this._editForm.on("contentReady",()=>{var l;this._rowsView.renderDelayedTemplates(),(l=this._editPopup)===null||l===void 0||l.repaint()})}},getEditForm:function(){return this._editForm},_endUpdateCore:function(){var e;(e=this._updateEditFormDeferred)===null||e===void 0||e.resolve()},_beforeEndSaving:function(){if(this.callBase.apply(this,arguments),this.isPopupEditMode()){var e;(e=this._editPopup)===null||e===void 0||e.hide()}},_processDataItemCore:function(e,t){var{type:i}=t;this.isPopupEditMode()&&i===mn&&(e.visible=!1),this.callBase.apply(this,arguments)},_editRowFromOptionChangedCore:function(e,t){var i=this.isPopupEditMode();this.callBase(e,t,i),i&&this._showEditPopup(t)}},data:{_updateEditItem:function(e){this._editingController.isFormEditMode()&&(e.rowType="detail")},_getChangedColumnIndices:function(e,t,i,r){if(!(r===!1&&t.isEditing&&this._editingController.isFormEditMode()))return this.callBase.apply(this,arguments)}}},views:{rowsView:{_renderCellContent:function(e,t){t.rowType==="data"&&this._editingController.isPopupEditMode()&&t.row.visible===!1||this.callBase.apply(this,arguments)},getCellElements:function(e){var t=this.callBase(e),i=this._editingController,r=i.getEditForm(),n=i.getEditFormRowIndex();return n===e&&t&&r?r.$element().find("."+this.addWidgetPrefix(Q1)+", ."+bQ):t},_getVisibleColumnIndex:function(e,t,i){var r=this._editingController.getEditFormRowIndex();if(r===t&&Ue(i)){var n=this._columnsController.columnOption(i);return this._getEditFormEditorVisibleIndex(e,n)}return this.callBase.apply(this,arguments)},_getEditFormEditorVisibleIndex:function(e,t){var i=-1;return le(e,function(r,n){var a=W(n).find(".dx-field-item-content").data("dx-form-item");if(a!=null&&a.column&&t&&a.column.index===t.index)return i=r,!1}),i},_isFormItem:function(e){var t=e.rowType==="detail"||e.rowType==="detailAdaptive",i=e.rowType==="data"&&this._editingController.isPopupEditMode();return(t||i)&&e.item},_updateCell:function(e,t){this._isFormItem(t)?this._formItemPrepared(t,e):this.callBase(e,t)}}}}};Le.registerModule("editingFormBased",wQ);var xQ="focus-overlay",SQ="addrow-button",EQ="dx-dropdowneditor-overlay",IQ="dx-editor-cell",TQ="dx-row",AQ="dx-cell-modified",OQ="dx-data-row",DQ="dx-row-removed",RQ="editing.editRowKey",eS="editing.editColumnName",kQ="remove";const MQ={extenders:{controllers:{editing:{init:function(){var e=!this._saveEditorHandler;if(this.callBase.apply(this,arguments),e){var t,i;this._pointerUpEditorHandler=()=>{var r;i=(r=this.getController("columnsResizer"))===null||r===void 0?void 0:r.isResizing()},this._pointerDownEditorHandler=r=>t=W(r.target),this._saveEditorHandler=this.createAction(function(r){var n=r.event,a=W(n.target),s=n[dD],o=this.component;if(t&&t.is("input")&&!t.is(a))return;function l(g){if(!g)return!1;var m=g.closest(".".concat(EQ)),v=o.$element();return m.length>0&&v.closest(m).length===0}if(this.isCellOrBatchEditMode()&&!this._editCellInProgress){var u=l(a)||l(s==null?void 0:s.$element()),d=!!a.closest(at().document).length,c=s&&!s._disposed&&s!==this.component,h=!!a.closest(".".concat(this.addWidgetPrefix(SQ))).length,f=a.hasClass(this.addWidgetPrefix(xQ)),p=this.isCellEditMode();!i&&!u&&!f&&!(h&&p&&this.isEditing())&&(d||c)&&this._closeEditItem.bind(this)(a)}}),te.on(we.getDocument(),Rt.up,this._pointerUpEditorHandler),te.on(we.getDocument(),Rt.down,this._pointerDownEditorHandler),te.on(we.getDocument(),Pt,this._saveEditorHandler)}},isCellEditMode:function(){return this.option("editing.mode")===fD},isBatchEditMode:function(){return this.option("editing.mode")===Ov},isCellOrBatchEditMode:function(){return this.isCellEditMode()||this.isBatchEditMode()},_needToCloseEditableCell:function(e){var t=this.component.$element(),i=this.isEditing(),r=!t||!!e.closest(t).length;if(r){var n=e.closest("."+OQ).length;if(n){var a=this.getView("rowsView"),s=e.closest("."+TQ+"> td"),o=a.getRowIndex(s.parent()),l=a.getCellElements(o).index(s),u=this._columnsController.getVisibleColumns(),d=u[l]&&u[l].allowEditing;i=i&&!d&&!this.isEditCell(o,l)}}return i||this.callBase.apply(this,arguments)},_closeEditItem:function(e){this._needToCloseEditableCell(e)&&this.closeEditCell()},_focusEditorIfNeed:function(){if(this._needFocusEditor&&this.isCellOrBatchEditMode()){var e,t=this._getVisibleEditColumnIndex(),i=(e=this._rowsView)===null||e===void 0?void 0:e._getCellElement(this._getVisibleEditRowIndex(),t);i&&!i.find(":focus").length?this._focusEditingCell(()=>{this._editCellInProgress=!1},i,!0):this._editCellInProgress=!1,this._needFocusEditor=!1}else this.callBase.apply(this,arguments)},isEditing:function(){if(this.isCellOrBatchEditMode()){var e=Z(this.option(RQ)),t=Z(this.option(eS));return e&&t}return this.callBase.apply(this,arguments)},_handleEditColumnNameChange:function(e){var t=this._getVisibleEditRowIndex(e.previousValue);if(this.isCellOrBatchEditMode()&&t!==-1&&Z(e.value)&&e.value!==e.previousValue){var i=this._columnsController.getVisibleColumnIndex(e.value),r=this._columnsController.getVisibleColumnIndex(e.previousValue);this._editCellFromOptionChanged(i,r,t)}},_addRow:function(e,t){if(this.isCellEditMode()&&this.hasChanges()){var i=new pe;return this.saveEditData().done(()=>{this.hasChanges()?i.reject("cancel"):this.addRow(e).done(i.resolve).fail(i.reject)}),i.promise()}return this.callBase.apply(this,arguments)},editCell:function(e,t){return this._editCell({rowIndex:e,columnIndex:t})},_editCell:function(e){var t=new pe,i;return this.executeOperation(t,()=>{i=this._editCellCore(e),Pe(i).done(t.resolve).fail(t.reject)}),i!==void 0?i:t.promise()},_editCellCore:function(e){var t=this._dataController,i=Z(e.oldColumnIndex)||Z(e.oldRowIndex),{columnIndex:r,rowIndex:n,column:a,item:s}=this._getNormalizedEditCellOptions(e),o={data:s==null?void 0:s.data,cancel:!1,column:a};if(s.key===void 0){this._dataController.fireError("E1043");return}if(a&&(s.rowType==="data"||s.rowType==="detailAdaptive")&&!s.removed&&this.isCellOrBatchEditMode()){if(!i&&this.isEditCell(n,r))return!0;var l=n+t.getRowIndexOffset();return Pe(this._beforeEditCell(n,r,s)).done(u=>{u||this._prepareEditCell(o,s,r,l)||this._processCanceledEditingCell()})}return!1},_beforeEditCell:function(e,t,i){if(this.isCellEditMode()&&!i.isNewRow&&this.hasChanges()){var r=new pe;return this.saveEditData().always(()=>{r.resolve(this.hasChanges())}),r}},publicMethods:function(){var e=this.callBase.apply(this,arguments);return e.concat(["editCell","closeEditCell"])},_getNormalizedEditCellOptions:function(e){var{oldColumnIndex:t,oldRowIndex:i,columnIndex:r,rowIndex:n}=e,a=this._columnsController,s=a.getVisibleColumns(),o=this._dataController.items(),l=o[n],u;Z(t)?u=s[t]:u=this._getEditColumn(),Z(i)||(i=this._getVisibleEditRowIndex()),Ue(r)&&(r=a.columnOption(r,"index"),r=a.getVisibleIndex(r));var d=s[r];return{oldColumn:u,columnIndex:r,oldRowIndex:i,rowIndex:n,column:d,item:l}},_prepareEditCell:function(e,t,i,r){if(t.isNewRow||(e.key=t.key),this._isEditingStart(e))return!1;if(this._pageIndex=this._dataController.pageIndex(),this._setEditRowKey(t.key),this._setEditColumnNameByIndex(i),!e.column.showEditorAlways){var n;this._addInternalData({key:t.key,oldData:(n=t.oldData)!==null&&n!==void 0?n:t.data})}return!0},closeEditCell:function(e,t){var i=Pe(),r=this._getVisibleEditRowIndex();if(this.isCellOrBatchEditMode()){var n=new pe;i=new pe,this.executeOperation(n,()=>{this._closeEditCellCore(e,r,t).always(i.resolve)})}return i.promise()},_closeEditCellCore:function(e,t,i){var r=this._dataController,n=new pe,a=n.promise();if(this.isCellEditMode()&&this.hasChanges()){if(!i)return this.saveEditData().done(o=>{if(!this.hasChanges()){this.closeEditCell(!!o).always(n.resolve);return}n.resolve()}),a}else if(this._resetEditRowKey(),this._resetEditColumnName(),t>=0){var s=[t];this._beforeCloseEditCellInBatchMode(s),e||r.updateItems({changeType:"update",rowIndices:s})}return n.resolve(),a},_resetModifiedClassCells:function(e){if(this.isBatchEditMode()){var t=this._columnsController.getVisibleColumns().length;e.forEach(i=>{var{key:r}=i,n=this._dataController.getRowIndexByKey(r);if(n!==-1)for(var a=0;a<t;a++)this._rowsView._getCellElement(n,a).removeClass(AQ)})}},_prepareChange:function(e,t,i){var r=W(e.cellElement);return this.isBatchEditMode()&&e.key!==void 0&&this._applyModified(r,e),this.callBase.apply(this,arguments)},_cancelSaving:function(){var e=this._dataController;this.isCellOrBatchEditMode()&&(this.isBatchEditMode()&&this._resetEditIndices(),e.updateItems()),this.callBase.apply(this,arguments)},optionChanged:function(e){var t=e.fullName;e.name==="editing"&&t===eS?(this._handleEditColumnNameChange(e),e.handled=!0):this.callBase(e)},_editCellFromOptionChanged:function(e,t,i){var r=this._columnsController.getVisibleColumns();e>-1&&Ti(()=>{this._repaintEditCell(r[e],r[t],i)})},_handleEditRowKeyChange:function(e){if(this.isCellOrBatchEditMode()){var t=this._getVisibleEditColumnIndex(),i=this._getEditRowIndexCorrection(),r=this._dataController.getRowIndexByKey(e.previousValue)+i;if(Z(e.value)&&e.value!==e.previousValue){var n;(n=this._editCellFromOptionChanged)===null||n===void 0||n.call(this,t,t,r)}}else this.callBase.apply(this,arguments)},deleteRow:function(e){if(this.isCellEditMode()&&this.isEditing()){var t=this._dataController.items()[e].isNewRow,i=this._dataController.getKeyByRowIndex(e);this.closeEditCell(null,t).always(()=>{e=this._dataController.getRowIndexByKey(i),this._checkAndDeleteRow(e)})}else this.callBase.apply(this,arguments)},_checkAndDeleteRow:function(e){this.isBatchEditMode()?this._deleteRowCore(e):this.callBase.apply(this,arguments)},_refreshCore:function(e){var{isPageChanged:t}=e??{},i=this.isBatchEditMode()||t&&this.option("scrolling.mode")!=="virtual";this.isCellOrBatchEditMode()?i&&(this._resetEditColumnName(),this._resetEditRowKey()):this.callBase.apply(this,arguments)},_allowRowAdding:function(e){return this.isBatchEditMode()?!0:this.callBase.apply(this,arguments)},_afterDeleteRow:function(e,t){var i=this._dataController;return this.isBatchEditMode()?(i.updateItems({changeType:"update",rowIndices:[t,e]}),new pe().resolve()):this.callBase.apply(this,arguments)},_updateEditRow:function(e,t,i){this.isCellOrBatchEditMode()?this._updateRowImmediately(e,t,i):this.callBase.apply(this,arguments)},_isDefaultButtonVisible:function(e,t){if(this.isCellOrBatchEditMode()){var i=this.isBatchEditMode();switch(e.name){case"save":case"cancel":case"edit":return!1;case"delete":return this.callBase.apply(this,arguments)&&(!i||!t.row.removed);case"undelete":return i&&this.allowDeleting(t)&&t.row.removed;default:return this.callBase.apply(this,arguments)}}return this.callBase.apply(this,arguments)},_isRowDeleteAllowed:function(){var e=this.callBase.apply(this,arguments);return e||this.isBatchEditMode()},_beforeEndSaving:function(e){if(this.isCellEditMode()){var t;((t=e[0])===null||t===void 0?void 0:t.type)!=="update"&&this.callBase.apply(this,arguments)}else this.isBatchEditMode()&&this._resetModifiedClassCells(e),this.callBase.apply(this,arguments)},prepareEditButtons:function(e){var t=this.option("editing")||{},i=this.callBase.apply(this,arguments);return(t.allowUpdating||t.allowAdding||t.allowDeleting)&&this.isBatchEditMode()&&(i.push(this.prepareButtonItem(e,"save","saveEditData",21)),i.push(this.prepareButtonItem(e,"revert","cancelEditData",22))),i},_saveEditDataInner:function(){var e,t=this._dataController.getVisibleRows()[this.getEditRowIndex()],i=this._getEditColumn(),r=i==null?void 0:i.showEditorAlways,n=this.isCellEditMode()&&!(t!=null&&t.isNewRow),a;return n&&r&&(a=new pe,this.addDeferred(a)),this.callBase.apply(this,arguments).always((e=a)===null||e===void 0?void 0:e.resolve)},_applyChange:function(e,t,i){var r=this.isCellEditMode()&&e.row&&!e.row.isNewRow,n=e.column.showEditorAlways,a=e.column.setCellValue!==e.column.defaultSetCellValue,s=n&&!i&&r&&this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex);if(s){this._focusEditingCell(),this._updateEditRow(e.row,!0,a);return}return this.callBase.apply(this,arguments)},_applyChangeCore:function(e,t){var i=e.column.showEditorAlways,r=this.isCellEditMode()&&e.row&&!e.row.isNewRow;if(i&&!t){if(r)return this._setEditRowKey(e.row.key,!0),this._setEditColumnNameByIndex(e.columnIndex,!0),this.saveEditData();if(this.isBatchEditMode())return t=this._needUpdateRow(e.column),this.callBase(e,t)}return this.callBase.apply(this,arguments)},_processDataItemCore:function(e,t){var{data:i,type:r}=t;this.isBatchEditMode()&&r===kQ&&(e.data=Da(e.data,i)),this.callBase.apply(this,arguments)},_processRemoveCore:function(e,t,i){if(!(this.isBatchEditMode()&&!i))return this.callBase.apply(this,arguments)},_processRemoveIfError:function(){if(!this.isBatchEditMode())return this.callBase.apply(this,arguments)},_beforeFocusElementInRow:function(e){this.callBase.apply(this,arguments);var t=e>=0?e:0,i=this.getFirstEditableColumnIndex();i>=0&&this.editCell(t,i)}}},views:{rowsView:{_createTable:function(){var e=this.callBase.apply(this,arguments),t=this._editingController;return t.isCellOrBatchEditMode()&&this.option("editing.allowUpdating")&&te.on(e,xe(za.name,"dxDataGridRowsView"),"td:not(."+IQ+")",this.createAction(()=>{t.isEditing()&&t.closeEditCell()})),e},_createRow:function(e){var t=this.callBase.apply(this,arguments);if(e){var i=this._editingController,r=!!e.removed;i.isBatchEditMode()&&r&&t.addClass(DQ)}return t}},headerPanel:{isVisible:function(){var e=this.getController("editing").option("editing");return this.callBase()||e&&(e.allowUpdating||e.allowDeleting)&&e.mode===Ov}}}}};Le.registerModule("editingCellBased",MQ);var FD="invalid",yh="revert-tooltip",BQ="rowsview",PQ="dx-invalid-message",Xm="invalid-message",FQ="dx-invalid-message-always",LQ="dx-revert-button",LD="validator",Ym="dx-pending-indicator",tS="dx-validation-pending",iS="content",rS="__DX_INSERT_INDEX__",NQ=2,VQ="row",$Q="form",Zm="batch",Yl="cell",HQ="popup",zQ="dx-group-cell",ND=[HQ,$Q],WQ="transparent",Sr={valid:"valid",invalid:"invalid",pending:"pending"},Zl="insert",jQ="remove",Jl="cancel",Ql=function(e){return Z(e)&&e!==Jl},nS=function(e,t){return e!==void 0||e===void 0&&t&&!t.isNewRow},UQ=ei.Controller.inherit({init:function(){this._editingController=this.getController("editing"),this.createAction("onRowValidating"),this._validationState||this.initValidationState()},initValidationState(){this._validationState=[],this._validationStateCache={}},_rowIsValidated:function(e){var t=this._getValidationData(e==null?void 0:e.key);return!!t&&!!t.validated},_getValidationData:function(e,t){var i=En(e),r=Ge(i),n;return r?n=this._validationState.filter(a=>ni(a.key,e))[0]:n=this._validationStateCache[i],!n&&t&&(n={key:e,isValid:!0},this._validationState.push(n),r||(this._validationStateCache[i]=n)),n},_getBrokenRules:function(e,t){var i;return t?i=t.brokenRules||t.brokenRule&&[t.brokenRule]:i=e.brokenRules||[],i},_rowValidating:function(e,t){var i=new pe,r=this._editingController.getChangeByKey(e==null?void 0:e.key),n=this._getBrokenRules(e,t),a=t?t.isValid:e.isValid,s={brokenRules:n,isValid:a,key:r.key,newData:r.data,oldData:this._editingController._getOldData(r.key),promise:null,errorText:this.getHiddenValidatorsErrorText(n)};return this.executeAction("onRowValidating",s),Pe(Hi(s.promise)).always(function(){e.isValid=s.isValid,e.errorText=s.errorText,i.resolve(s)}),i.promise()},getHiddenValidatorsErrorText:function(e){var t=[];return le(e,function(i,r){var n=r.column,a=n&&n.groupIndex!==void 0&&!n.showWhenGrouped,s=n&&n.visible;!r.validator.$element().parent().length&&(!s||a)&&t.push(r.message)}),t.join(", ")},validate:function(e){var t=!0,i=this._editingController,r=new pe,n=[],a=i.getEditMode();if(e=e||a===VQ,this._isValidationInProgress)return r.resolve(!1).promise();if(this._isValidationInProgress=!0,e){i.addDeferred(r);var s=i.getChanges();le(s,(l,u)=>{var{type:d,key:c}=u;if(d!=="remove"){var h=this._getValidationData(c,!0),f=this.validateGroup(h);n.push(f),f.done(p=>{h.validated=!0,t=t&&p.isValid})}})}else if(this._currentCellValidator){var o=this.validateGroup(this._currentCellValidator._findGroup());n.push(o),o.done(l=>{t=l.isValid})}return Pe(...n).done(()=>{this._isValidationInProgress=!1,r.resolve(t)}),r.promise()},validateGroup:function(e){var t,i=new pe,r=e&&Nt.getGroupConfig(e),n;return r!=null&&r.validators.length&&(this.resetRowValidationResults(e),n=Nt.validateGroup(e)),Pe(((t=n)===null||t===void 0?void 0:t.complete)||n).done(a=>{Pe(this._rowValidating(e,a)).done(i.resolve)}),i.promise()},isRowDataModified:e=>!jr(e.data),updateValidationState:function(e){var t=this._editingController.getEditMode(),i=e.key,r=this._getValidationData(i,!0);if(ND.indexOf(t)===-1){if(e.type===Zl&&!this.isRowDataModified(e)){r.isValid=!0;return}this.setDisableApplyValidationResults(!0);var n=Nt.getGroupConfig(r);if(n){var a=Nt.validateGroup(r);Pe(a.complete||a).done(s=>{r.isValid=s.isValid,r.brokenRules=s.brokenRules})}else(!r.brokenRules||!r.brokenRules.length)&&(r.isValid=!0);this.setDisableApplyValidationResults(!1)}else r.isValid=!0},setValidator:function(e){this._currentCellValidator=e},renderCellPendingIndicator:function(e){var t=e.find("."+Ym);if(!t.length){var i=e;t=W("<div>").appendTo(i).addClass(Ym),this._createComponent(t,Ir),e.addClass(tS)}},disposeCellPendingIndicator:function(e){var t=e.find("."+Ym);if(t.length){var i=Ir.getInstance(t);i&&(i.dispose(),i.$element().remove()),e.removeClass(tS)}},validationStatusChanged:function(e){var t=e.validator,i=t.option("validationGroup"),r=t.option("dataGetter")().column;this.updateCellValidationResult({rowKey:i.key,columnIndex:r.index,validationResult:e})},validatorInitialized:function(e){e.component.on("validating",this.validationStatusChanged.bind(this)),e.component.on("validated",this.validationStatusChanged.bind(this))},validatorDisposing:function(e){var t=e.component,i=t.option("validationGroup"),r=t.option("dataGetter")().column,n=this.getCellValidationResult({rowKey:i==null?void 0:i.key,columnIndex:r.index});Ql(n)&&n.status===Sr.pending&&this.cancelCellValidationResult({change:i,columnIndex:r.index})},applyValidationResult:function(e,t){var i=t.validator,r=i.option("validationGroup"),n=i.option("dataGetter")().column;if(t.brokenRules&&t.brokenRules.forEach(u=>{u.columnIndex=n.index,u.column=n}),e){var a=this.getCellValidationResult({rowKey:r.key,columnIndex:n.index}),s=Ql(a)&&a.disabledPendingId===t.id;if(this._disableApplyValidationResults||s)return;if(t.status===Sr.invalid){var o=e.find(":focus");$a(o)||(te.trigger(o,"focus"),te.trigger(o,Rt.down))}var l=!n.editCellTemplate&&this.getController("editorFactory").getEditorInstance(e);t.status===Sr.pending?l?l.option("validationStatus",Sr.pending):this.renderCellPendingIndicator(e):l?l.option("validationStatus",Sr.valid):this.disposeCellPendingIndicator(e),e.toggleClass(this.addWidgetPrefix(FD),t.status===Sr.invalid)}},_syncInternalEditingData:function(e){var t,i=this._editingController,r=i.getChangeByKey(e.key),n=i._getOldData(e.key),a=(t=e.row)===null||t===void 0?void 0:t.oldData;r&&a&&!n&&i._addInternalData({key:e.key,oldData:a})},createValidator:function(e,t){var i=this._editingController,r=e.column,n=r.showEditorAlways;if(!(Z(r.command)||!r.validationRules||!Array.isArray(r.validationRules)||!r.validationRules.length)){var a=i.getIndexByKey(e.key,i.getChanges()),s=a>-1;if(!s){if(!n){var o=this.getController("columns"),l=(o==null?void 0:o.getVisibleColumns())||[];n=l.some(function(b){return b.showEditorAlways})}var u=ni(this.option("editing.editRowKey"),e.key),d=i.isCellOrBatchEditMode()&&i.allowUpdating({row:e.row});if(s=u||d&&n,d&&n){var c,h;i._addInternalData({key:e.key,oldData:(c=(h=e.row)===null||h===void 0?void 0:h.oldData)!==null&&c!==void 0?c:e.data})}}if(s){if(t&&!t.length){gt.log("E1050");return}this._syncInternalEditingData(e);var f=this._getValidationData(e.key,!0),p=()=>{var b=i.getChangeByKey(f==null?void 0:f.key),y=r.calculateCellValue((b==null?void 0:b.data)||{});return y!==void 0?y:e.value},g=t&&t.hasClass("dx-widget");t&&t.addClass(this.addWidgetPrefix(LD));var m=new Of(t||W("<div>"),{name:r.caption,validationRules:re(!0,[],r.validationRules),validationGroup:f,adapter:g?null:{getValue:p,applyValidationResults:b=>{this.applyValidationResult(t,b)}},dataGetter:function(){var b=f==null?void 0:f.key,y=i.getChangeByKey(b),I=i._getOldData(b);return{data:Da(I,y==null?void 0:y.data),column:r}},onInitialized:this.validatorInitialized.bind(this),onDisposing:this.validatorDisposing.bind(this)});if(g){var v=m.option("adapter");v&&(v.getValue=p,v.validationRequestsCallbacks=[],v.bypass=()=>e.row.isNewRow&&!this._isValidationInProgress&&!i.isCellModified(e))}return m}}},setDisableApplyValidationResults:function(e){this._disableApplyValidationResults=e},getDisableApplyValidationResults:function(){return this._disableApplyValidationResults},isCurrentValidatorProcessing:function(e){var{rowKey:t,columnIndex:i}=e;return this._currentCellValidator&&ni(this._currentCellValidator.option("validationGroup").key,t)&&this._currentCellValidator.option("dataGetter")().column.index===i},validateCell:function(e){var t={rowKey:e.option("validationGroup").key,columnIndex:e.option("dataGetter")().column.index},i=this.getCellValidationResult(t),r=Ql(i);r||(i=e.validate());var n=new pe,a=e.option("adapter");return r&&i.status===Sr.pending&&(this.updateCellValidationResult(t),a.applyValidationResults(i)),Pe(i.complete||i).done(s=>{r&&a.applyValidationResults(s),n.resolve(s)}),n.promise()},updateCellValidationResult:function(e){var{rowKey:t,columnIndex:i,validationResult:r}=e,n=this._getValidationData(t);if(n){n.validationResults||(n.validationResults={});var a;if(r){if(a=re({},r),n.validationResults[i]=a,r.status===Sr.pending&&(this._editingController.getEditMode()===Yl&&(a.deferred=new pe,a.complete.always(()=>{a.deferred.resolve()}),this._editingController.addDeferred(a.deferred)),this._disableApplyValidationResults)){a.disabledPendingId=r.id;return}}else a=n.validationResults[i];a&&a.disabledPendingId&&delete a.disabledPendingId}},getCellValidationResult:function(e){var t,{rowKey:i,columnIndex:r}=e,n=this._getValidationData(i,!0);return n==null||(t=n.validationResults)===null||t===void 0?void 0:t[r]},removeCellValidationResult:function(e){var{change:t,columnIndex:i}=e,r=this._getValidationData(t==null?void 0:t.key);r&&r.validationResults&&(this.cancelCellValidationResult({change:t,columnIndex:i}),delete r.validationResults[i])},cancelCellValidationResult:function(e){var{change:t,columnIndex:i}=e,r=this._getValidationData(t.key);if(t&&r.validationResults){var n=r.validationResults[i];n&&(n.deferred&&n.deferred.reject(Jl),r.validationResults[i]=Jl)}},resetRowValidationResults:function(e){e&&(e.validationResults&&delete e.validationResults,delete e.validated)},isInvalidCell:function(e){var{rowKey:t,columnIndex:i}=e,r=this.getCellValidationResult({rowKey:t,columnIndex:i});return Ql(r)&&r.status===Sr.invalid},getCellValidator:function(e){var{rowKey:t,columnIndex:i}=e,r=this._getValidationData(t),n=r&&Nt.getGroupConfig(r),a=n&&n.validators;return a&&a.filter(s=>{var o=s.option("dataGetter")().column;return o?o.index===i:!1})[0]},setCellValidationStatus:function(e){var t=this.getCellValidationResult({rowKey:e.key,columnIndex:e.column.index});Z(t)?e.validationStatus=t!==Jl?t.status:Jl:delete e.validationStatus}}),GQ={defaultOptions:function(){return{editing:{texts:{validationCancelChanges:_e.format("dxDataGrid-validationCancelChanges")}}}},controllers:{validating:UQ},extenders:{controllers:{editing:{_addChange:function(e){var t=this.callBase.apply(this,arguments),i=this.getController("validating");return t&&e.type!==jQ&&i.updateValidationState(t),t},_handleChangesChange:function(e){this.callBase.apply(this,arguments);var t=this.getController("validating");e.value.forEach(i=>{t._getValidationData(i.key)===void 0&&t.updateValidationState(i)})},_updateRowAndPageIndices:function(){var e=this,t=e.getView("rowsView").getTopVisibleItemIndex(),i=t;le(e.getChanges(),(r,n)=>{var{key:a,type:s}=n,o=this.getController("validating")._getValidationData(a);o&&!o.isValid&&o.pageIndex!==e._pageIndex&&(o.pageIndex=e._pageIndex,s===Zl?o.rowIndex=t:o.rowIndex=i,i++)})},_getValidationGroupsInForm:function(e){var t=this.getController("validating"),i=t._getValidationData(e.key,!0);return{validationGroup:i}},_validateEditFormAfterUpdate:function(e,t){t&&this._editForm&&this._editForm.validate(),this.callBase.apply(this,arguments)},_prepareEditCell:function(e){var t=this.callBase.apply(this,arguments),i=this.getController("validating");return t&&e.column.showEditorAlways&&i.updateValidationState({key:e.key}),t},processItems:function(e,t){var i=this.getChanges(),r=this.getController("data"),n=this.getController("validating");e=this.callBase(e,t);var a=e.length,s=function(o,l){var u={key:o.key},d=function(h,f){var p=-1,g=h.type===Zl,m=h.key;return le(f,function(v,b){if(ni(m,g?b.key:r.keyOf(b)))return p=v,!1}),p}(o,e);if(!(d>=0)){l.rowIndex=l.rowIndex>a?l.rowIndex%a:l.rowIndex;var c=l.rowIndex;u[rS]=1,e.splice(c,0,u)}};return this.getEditMode()===Zm&&t!=="prepend"&&t!=="append"&&i.forEach(o=>{var l=o.key,u=n._getValidationData(l);u&&o.type&&u.pageIndex===this._pageIndex&&(o==null?void 0:o.pageIndex)!==this._pageIndex&&s(o,u)}),e},processDataItem:function(e){var t=e.data[rS],i=t?e.data.key:e.key,r=this.getEditMode();if(r===Zm&&t&&i){var n=this.getChanges(),a=Ee.getIndexByKey(i,n);if(a>=0){var s=n[a];if(s.type!==Zl){var o=this._getOldData(s.key);e.data=re(!0,{},o,s.data),e.key=i}}}this.callBase.apply(this,arguments)},_createInvisibleColumnValidators:function(e){var t=this,i=this.getController("validating"),r=this.getController("columns"),n=r.getColumns(),a=r.getInvisibleColumns().filter(u=>!u.isBand),s=r.getGroupColumns().filter(u=>!u.showWhenGrouped&&a.indexOf(u)===-1),o=[],l=(u,d)=>this._dataController.getRowIndexByKey(d)>=0&&a.indexOf(u)<0;return a.push(...s),ND.indexOf(this.getEditMode())===-1&&le(n,function(u,d){e.forEach(function(c){var h;if(!l(d,c.key)){if(c.type===Zl)h=c.data;else if(c.type==="update"){var f=t._getOldData(c.key);h=Da(f,c.data)}if(h){var p=i.createValidator({column:d,key:c.key,value:d.calculateCellValue(h)});p&&o.push(p)}}})}),function(){o.forEach(function(u){u.dispose()})}},_beforeSaveEditData:function(e,t){var i=this.callBase.apply(this,arguments),r=this.getController("validating"),n=r._getValidationData(e==null?void 0:e.key);if(e){var a=e.type==="remove"||n.isValid;i=i||!a}else{var s=this._createInvisibleColumnValidators(this.getChanges());i=new pe,this.executeOperation(i,()=>{r.validate(!0).done(o=>{switch(s(),this._updateRowAndPageIndices(),this.getEditMode()){case Yl:o||this._focusEditingCell();break;case Zm:o||(this._resetEditRowKey(),this._resetEditColumnName(),this.getController("data").updateItems())}i.resolve(!o)})})}return i.promise?i.promise():i},_beforeEditCell:function(e,t,i){var r=this.callBase(e,t,i);if(this.getEditMode()===Yl){var n=this._rowsView._getCellElement(e,t),a=n&&n.data("dxValidator"),s=n&&n.closest(".dx-row").data("options"),o=a&&a.option("adapter").getValue();if(a&&nS(o,s)){var l=this.getController("validating"),u=new pe;return Pe(l.validateCell(a),r).done((d,c)=>{u.resolve(d.status===Sr.valid&&c)}),u.promise()}else if(!a)return r}},_afterSaveEditData:function(e){var t,i=this.getEditMode()===Yl;if(le(this.getChanges(),(l,u)=>{var d=this._showErrorRow(u);t=t||d}),t){var r=this._rowsView.getScrollable();r&&(r.update(),r.scrollToElement(t))}if(e&&i&&this._needUpdateRow()){var n=this.getEditRowIndex();this._dataController.updateItems({changeType:"update",rowIndices:[n]}),this._focusEditingCell()}else if(!e){var a=!0;if(i){var s=this.getController("columns").getColumns(),o=s.filter(l=>{var u;return l.showEditorAlways&&((u=l.validationRules)===null||u===void 0?void 0:u.length)>0}).length>0;a=!o}a&&this.getController("validating").initValidationState()}},_handleDataChanged:function(e){var t=this.getController("validating")._validationState;this.option("scrolling.mode")==="standard"&&this.resetRowAndPageIndices(),e.changeType==="prepend"&&le(t,function(i,r){r.rowIndex+=e.items.length}),this.callBase(e)},resetRowAndPageIndices:function(){var e=this.getController("validating")._validationState;le(e,(t,i)=>{i.pageIndex!==this._pageIndex&&(delete i.pageIndex,delete i.rowIndex)})},_beforeCancelEditData:function(){this.getController("validating").initValidationState(),this.callBase()},_showErrorRow:function(e){var t,i=this.getController("errorHandling"),r=this.getController("data").items(),n=this.getIndexByKey(e.key,r),a=this.getController("validating")._getValidationData(e.key);if(!(a!=null&&a.isValid)&&a!==null&&a!==void 0&&a.errorText&&n>=0)return t=this.getPopupContent(),i&&i.renderErrorRow(a==null?void 0:a.errorText,n,t)},updateFieldValue:function(e){var t=this.getController("validating"),i=new pe;return t.removeCellValidationResult({change:this.getChangeByKey(e.key),columnIndex:e.column.index}),this.callBase.apply(this,arguments).done(()=>{var r=t.getCellValidator({rowKey:e.key,columnIndex:e.column.index});Pe(r&&t.validateCell(r)).done(n=>{this.getController("editorFactory").refocus(),i.resolve(n)})}),i.promise()},highlightDataCell:function(e,t){this.callBase.apply(this,arguments);var i=this.getController("validating");i.setCellValidationStatus(t);var r=!!t.setValue,n=this.isCellModified(t),a=Z(t.validationStatus),s=n&&t.column.setCellValue||r&&!n&&!(t.row.isNewRow||!a);if(s){var o=e.data("dxValidator");o&&Pe(this.getController("validating").validateCell(o)).done(()=>{i.setCellValidationStatus(t)})}},getChangeByKey:function(e){var t=this.getChanges();return t[Ee.getIndexByKey(e,t)]},isCellModified:function(e){var t=this.callBase(e),i=this.getChangeByKey(e.key),r=!!e.row&&this.getController("validating").isInvalidCell({rowKey:e.key,columnIndex:e.column.index});return t||this.getController("validating")._rowIsValidated(i)&&r}},editorFactory:{_showRevertButton:function(e){if(!(!e||!e.length)){var t=this._rowsView.element().find("."+this.addWidgetPrefix(yh)),i=e.closest(".".concat(this.addWidgetPrefix(iS)));t&&t.remove(),t=W("<div>").addClass(this.addWidgetPrefix(yh)).appendTo(e);var r={animation:null,visible:!0,width:"auto",height:"auto",shading:!1,container:i,propagateOutsideClick:!0,hideOnOutsideClick:!1,copyRootClassesToWrapper:!0,_ignoreCopyRootClassesToWrapperDeprecation:!0,contentTemplate:()=>{var n=W("<div>").addClass(LQ),a={icon:"revert",hint:this.option("editing.texts.validationCancelChanges"),onClick:()=>{this._editingController.cancelEditData()}};return new Ki(n,a).$element()},position:{my:"left top",at:"right top",offset:"1 0",collision:"flip",boundaryOffset:"0 0",boundary:this._rowsView.element(),of:e},onPositioned:this._positionedHandler.bind(this)};return new on(t,r)}},_hideFixedGroupCell:function(e,t){var i,r,n=this._rowsView.isFixedColumns(),a=this._editingController.isFormOrPopupEditMode();if(n&&!a){var s=e.closest(".dx-row").next().data("options");s&&s.rowType==="group"&&(i=W(this._rowsView.getRowElement(s.rowIndex)).last(),r=i.find("."+zQ),r.length&&r.get(0).style.visibility!=="hidden"&&(r.css("visibility","hidden"),t.onDisposing=function(){r.css("visibility","")}))}},_positionedHandler:function(e,t){if(!e.component.__skipPositionProcessing){var i=W(e.element).hasClass(this.addWidgetPrefix(yh)),r=!i&&this._rowsView.updateFreeSpaceRowHeight(),n=this._normalizeValidationMessagePositionAndMaxWidth(e,i,t);e.component.__skipPositionProcessing=!!(r||n),n?e.component.option(n):r&&e.component.repaint()}},_showValidationMessage:function(e,t,i,r){var n=e.find(".dx-dropdowneditor-overlay").data("dxPopup"),a=n&&n.option("visible"),s=a?"top right":"top "+i,o=a?"top left":"bottom "+i,l=e.closest(".".concat(this.addWidgetPrefix(iS))),u="";t&&t.forEach(function(f){u+=(u.length?"<br/>":"")+s_(f)});var d=this.addWidgetPrefix(Xm);this._rowsView.element().find("."+d).remove();var c=W("<div>").addClass(PQ).addClass(FQ).addClass(d).html(u).appendTo(e),h={container:l,shading:!1,width:"auto",height:"auto",visible:!0,animation:!1,propagateOutsideClick:!0,hideOnOutsideClick:!1,copyRootClassesToWrapper:!0,_ignoreCopyRootClassesToWrapperDeprecation:!0,position:{collision:"flip",boundary:this._rowsView.element(),boundaryOffset:"0 0",offset:{x:0,y:!a&&Qt.mozilla?-1:0},my:s,at:o,of:e},onPositioned:f=>{this._positionedHandler(f,a),this._shiftValidationMessageIfNeed(f.component.$content(),r&&r.$content(),e)}};this._hideFixedGroupCell(e,h),new on(c,h)},_normalizeValidationMessagePositionAndMaxWidth:function(e,t,i){var r=this._columnsController.getFixedColumns();if(!(!r||!r.length)){var n,a=!t&&(s=this,o=e.element,l=W(o).closest("tr").index(),u=W(s._rowsView.getRowElement(l)).first().children().filter(":not(.dx-hidden-cell)"),s._rowsView._getWidths(u).reduce((g,m)=>g+m,0)),s,o,l,u,d=e.component.$content(),c=At(d,!0),h=!t&&c>a,f=this._rowsView.getCellIndex(W(e.element).closest("td")),p=function(g){var m,v;return g.some((b,y)=>{if(b.command===WQ)return m=y===0?-1:y,v=y===g.length-1?-1:y+b.colspan-1,!0}),{startColumnIndex:m,endColumnIndex:v}}(r);return!t&&(f===p.startColumnIndex||h)?n={collision:"none flip",my:"top left",at:i?"top right":"bottom left"}:f===p.endColumnIndex&&(n={collision:"none flip",my:"top right",at:t||i?"top left":"bottom right"},t&&(n.offset="-1 0")),n&&{position:n,maxWidth:h?a-2:void 0}}},_shiftValidationMessageIfNeed:function(e,t,i){if(t){var r=e.offset(),n=t.offset();if(r.top===n.top&&r.left+Ze(e)>n.left){var a=Ze(t)+NQ;e.css("left",n.left<i.offset().left?-a:a)}}},_getTooltipsSelector:function(){var e=this.addWidgetPrefix(Xm),t=this.addWidgetPrefix(yh);return".dx-editor-cell ."+t+", .dx-editor-cell ."+e+", .dx-cell-modified ."+e},init:function(){this.callBase(),this._editingController=this.getController("editing"),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView")},loseFocus:function(e){e||this.getController("validating").setValidator(null),this.callBase()},updateCellState:function(e,t,i){var r,n=e==null?void 0:e.closest(this._getFocusCellSelector()),a=n!=null&&n.is("td")?n:null,s=n==null?void 0:n.closest(".dx-row").data("options"),o=s?this.getController("editing").getChangeByKey(s.key):null,l=a&&this.getController("columns").getVisibleColumns()[a.index()],u=(o==null||(r=o.data)===null||r===void 0?void 0:r[l==null?void 0:l.name])!==void 0&&!this._editingController.isSaving(),d;((t==null?void 0:t.status)===Sr.invalid||u)&&this._editingController.getEditMode()===Yl&&(d=this._showRevertButton(n));var c=t&&t.status===Sr.invalid;if(c&&a&&l&&t&&t.brokenRules){var h=[];t.brokenRules.forEach(function(f){f.message&&h.push(f.message)}),h.length&&this._showValidationMessage(n,h,l.alignment||"left",d)}!i&&this._rowsView.element()&&this._rowsView.updateFreeSpaceRowHeight()},focus:function(e,t){if(!arguments.length)return this.callBase();var i=e&&e.closest("."+this.addWidgetPrefix(BQ)).find(this._getTooltipsSelector());if(i&&i.remove(),e!=null&&e.hasClass("dx-row"))return this.callBase(e,t);var r=e==null?void 0:e.closest(this._getFocusCellSelector()),n=this.callBase,a=r&&(r.data("dxValidator")||e.find("."+this.addWidgetPrefix(LD)).eq(0).data("dxValidator")),s=r&&r.closest(".dx-row").data("options"),o=this.getController("editing"),l=s?o.getChangeByKey(s.key):null,u,d=this.getController("validating");if(a){d.setValidator(a);var c=a.option("adapter").getValue();if(nS(c,s)||d._rowIsValidated(l))return o.waitForDeferredOperations().done(()=>{Pe(d.validateCell(a)).done(h=>{u=h;var f=u.validator.option("dataGetter")().column;l&&f&&!d.isCurrentValidatorProcessing({rowKey:l.key,columnIndex:f.index})||(u.status===Sr.invalid&&(t=!0),this.updateCellState(e,u,t),n.call(this,e,t))})}),this.callBase(e,t)}return this.updateCellState(e,u,t),this.callBase(e,t)},getEditorInstance:function(e){var t=e.find(".dx-texteditor").eq(0);return Ee.getWidgetInstance(t)}},data:{_isCellChanged:function(e,t,i,r,n){var a,s,o=(a=e.cells)===null||a===void 0?void 0:a[r],l=o&&o.validationStatus,u=this.getController("validating"),d=u.getCellValidationResult({rowKey:e.key,columnIndex:r}),c=u._getValidationData(e.key),h=Ql(d)?d.status:d,f=JSON.stringify(t.modifiedValues)!==JSON.stringify(e.modifiedValues),p=W(o==null?void 0:o.cellElement).hasClass(this.addWidgetPrefix(FD)),g=e.isEditing!==t.isEditing,m=o==null||(s=o.column.validationRules)===null||s===void 0?void 0:s.length;return g&&m||l!==h&&f||c.isValid&&p?!0:this.callBase.apply(this,arguments)}}},views:{rowsView:{updateFreeSpaceRowHeight:function(e){var t,i,r,n=this.element(),a=n&&n.find("."+this.addWidgetPrefix(Xm)+" .dx-overlay-content");if(this.callBase(e),a&&a.length&&(t=this._getRowElements(),r=this._getFreeSpaceRowElements(e),i=r.first(),i&&t.length===1&&(!i.is(":visible")||Ct(a)>Ct(i))))return r.show(),Dr(r,Ct(a)),!0},_formItemPrepared:function(e,t){this.callBase.apply(this,arguments),ar(()=>{var i=t.find(".dx-widget").first(),r=i.length&&!i.children().length;r||this.getController("validating").createValidator(e,i)})},_cellPrepared:function(e,t){this.getController("editing").isFormOrPopupEditMode()||this.getController("validating").createValidator(t,e),this.callBase.apply(this,arguments)},_restoreErrorRow:function(e){var t=this.getController("editing");t&&t.hasChanges()&&this._getRowElements(e).each((i,r)=>{var n=W(r).data("options");if(n){var a=t.getChangeByKey(n.key);a&&t._showErrorRow(a)}})}}}}};Le.registerModule("validating",GQ);var Jm="scrolling.legacyMode",VD=e=>e.option("scrolling.loadTwoPagesOnStart")||e._controller.isVirtual()||e._controller.getViewportItemIndex()>0,qh=e=>e._cache.length?e._cache[0].pageIndex:-1,Pv=e=>e._cache.length?e._cache[e._cache.length-1].pageIndex:-1,Bc=(e,t,i)=>{e._isChangedFiring=!0,t(i),e._isChangedFiring=!1},aS=(e,t,i)=>{if(e._isDelayChanged)return e._isDelayChanged=!1,Bc(e,t,i),!0},KQ=e=>{var t=e._dataOptions.pageSize(),i=e.option("scrolling.preventPreload");if(i)return 0;var r=e._controller.viewportSize();if(e._controller.isVirtualMode()&&e.option("scrolling.removeInvisiblePages")){r=0;for(var n=e._controller.viewportSize()*e._controller.viewportItemSize(),a=e._controller.getContentOffset(),s=e._controller.getViewportPosition(),o=e._controller.virtualItemsCount(),l=e._dataOptions.totalItemsCount(),u=o.begin;u<l&&!(a>=s+n);u++){var d=e._controller.getItemSizes()[u]||e._controller.viewportItemSize();a+=d,a>=s&&r++}}return t&&r>0?Math.ceil(r/t):1},Xh=(e,t)=>{var i=e.option("scrolling.preloadEnabled"),r=KQ(e),n=e._controller.isAppendMode();return r&&(t?r=i?1:0:(i&&r++,(n||!VD(e))&&r--)),r},qQ=e=>{var t=-1,i=qh(e),r=e._dataOptions;if(i<0)t=e._pageIndex;else if(!e._cache[e._pageIndex-i])t=e._pageIndex;else if(i>=0&&e._controller.viewportSize()>=0){if(i>0){var n=Pv(e)+1===r.pageCount()&&e._cache.length<Xh(e)+1,a=n||e._pageIndex===i&&Xh(e,!0);a&&(t=i-1)}if(t<0){var s=i+e._cache.length<=e._pageIndex+Xh(e);s&&(t=i+e._cache.length)}}return e._loadingPageIndexes[t]&&(t=-1),t},XQ=(e,t)=>{var i=e._dataOptions;if(t===e.pageIndex()||!i.isLoading()&&t<i.pageCount()||!i.hasKnownLastPage()&&t===i.pageCount())return i.pageIndex(t),e._loadingPageIndexes[t]=!0,Pe(i.load()).always(()=>{e._loadingPageIndexes[t]=!1})},sS=(e,t,i,r,n)=>{var a=e._dataOptions,s=a.items().slice(),o=Ge(i)?i:void 0,l=i==="prepend",u=a.viewportItems();i&&Ue(i)&&!e._isDelayChanged&&(o={changeType:i,items:s},n&&(o.removeCount=n.itemsCount,o.removeCount&&a.correctCount&&(o.removeCount=a.correctCount(u,o.removeCount,l))));var d=n?n.itemsLength:0;d&&a.correctCount&&(d=a.correctCount(u,d,l)),i==="append"?(u.push.apply(u,s),n&&u.splice(0,d)):l?(u.unshift.apply(u,s),n&&u.splice(-d)):e._dataOptions.viewportItems(s),a.updateLoading(),e._lastPageIndex=e.pageIndex(),e._isDelayChanged=r,r||Bc(e,t,o)};class YQ{constructor(t,i){this._controller=t,this._dataOptions=i,this._pageIndex=this._lastPageIndex=i.pageIndex(),this._cache=[],this._loadingPageIndexes={}}option(){return this._controller.option.apply(this._controller,arguments)}viewportItemIndexChanged(t){var i=this._dataOptions.pageSize(),r=this._dataOptions.pageCount(),n=this._controller.isVirtualMode(),a=this._controller.isAppendMode(),s=this._dataOptions.totalItemsCount(),o;if(i&&(n||a)&&s>=0){var l=this._controller.viewportSize();if(l&&t+l>=s&&!this._controller.isVirtual())if(this._dataOptions.hasKnownLastPage()){o=r-1;var u=s%i;o>0&&u>0&&u<l&&o--}else o=r;else{o=Math.floor(t/i);var d=r-1;o=Math.max(o,0),o=Math.min(o,d)}return this.pageIndex(o),this.load()}}pageIndex(t){var i=this._controller.isVirtualMode(),r=this._controller.isAppendMode();return this.option(Jm)!==!1&&(i||r)?(t!==void 0&&(this._pageIndex=t),this._pageIndex):this._dataOptions.pageIndex(t)}beginPageIndex(t){var i=qh(this);return i<0&&(i=t!==void 0?t:this.pageIndex()),i}endPageIndex(){var t=Pv(this);return t>0?t:this._lastPageIndex}pageSize(){return this._dataOptions.pageSize()}load(){var t=this._dataOptions,i,r=this._controller.isVirtualMode(),n=this._controller.isAppendMode();if(this.option(Jm)!==!1&&(r||n)){var a=qQ(this);if(a>=0){var s=XQ(this,a);s&&(i=new pe,s.done(()=>{var o=this._delayDeferred;o?o.done(i.resolve).fail(i.reject):i.resolve()}).fail(i.reject),t.updateLoading())}}else i=t.load();return!i&&this._lastPageIndex!==this.pageIndex()&&this._dataOptions.onChanged({changeType:"pageIndex"}),i||new pe().resolve()}loadIfNeed(){var t=this._controller.isVirtualMode(),i=this._controller.isAppendMode();if((t||i)&&!this._dataOptions.isLoading()&&(!this._isChangedFiring||this._controller.isVirtual())){var r=this._controller.getViewportPosition();r>0?this._controller._setViewportPositionCore(r):this.load()}}handleDataChanged(t,i){var r=this._dataOptions,n=this._cache.length,a,s,o=this._controller.isVirtualMode(),l=this._controller.isAppendMode();if(i&&i.changes)Bc(this,t,i);else if(this.option(Jm)!==!1&&(o||l)){var u=qh(this);if(u>=0&&(o&&u+this._cache.length!==r.pageIndex()&&u-1!==r.pageIndex()&&(n=0,this._cache=[]),l)){if(r.pageIndex()===0)this._cache=[];else if(r.pageIndex()<Pv(this)){Bc(this,t,{changeType:"append",items:[]});return}}var d={pageIndex:r.pageIndex(),itemsLength:r.items(!0).length,itemsCount:this.itemsCount(!0)};this.option("scrolling.removeInvisiblePages")&&o?s=this._cache.length>Math.max(Xh(this)+(this.option("scrolling.preloadEnabled")?1:0),2):aS(this,t,{isDelayed:!0});var c;u===r.pageIndex()+1?(s&&(c=this._cache.pop()),a="prepend",this._cache.unshift(d)):(s&&(c=this._cache.shift()),a="append",this._cache.push(d));var h=o&&n===0&&VD(this);sS(this,t,this._cache.length>1?a:void 0,h,c),this._delayDeferred=this.load().done(()=>{aS(this,t)&&this.load()})}else sS(this,t,i)}getDelayDeferred(){return this._delayDeferred}itemsCount(t){var i=0,r=this._controller.isVirtualMode();return!t&&r?this._cache.forEach(n=>{i+=n.itemsCount}):i=this._dataOptions.itemsCount(),i}virtualItemsCount(){var t=qh(this);t<0&&(t=this._dataOptions.pageIndex());var i=t*this._dataOptions.pageSize(),r=this._cache.length*this._dataOptions.pageSize(),n=Math.max(0,this._dataOptions.totalItemsCount()-r-i);return{begin:i,end:n}}reset(){this._loadingPageIndexes={},this._cache=[]}}var ZQ="infinite",$D="virtual",Ch="scrolling.legacyMode",oS=e=>e.option("scrolling.mode")===$D||e._isVirtual,JQ=e=>e.option("scrolling.mode")===ZQ&&!e._isVirtual;function HD(e,t,i){var r,n=[],a=[];i=i||e;function s(u){var d=u.element?u.$element():u,c=zi.offset(d);return c?u.scrollTop()-(c.top-e.offset().top):e.offset().top}var o={on:function(u,d,c){u.on("scroll",c)},off:function(u,d,c){u.off("scroll",c)}};function l(u){var d=u.get(0).nodeName==="#document",c=u.data("dxScrollable"),h=o;if(!(!c&&(c=d&&W(at())||u.css("overflowY")==="auto"&&u,h=te,!c))){var f=function(p){return function(){var g=p.scrollTop()-s(p);g=g>0?g:0,t(g)}}(c);h.on(c,"scroll",f),n.push(function(p){var g=s(c),m=c.scrollTo?"scrollTo":"scrollTop";p-g>=0&&c[m](p+g)}),a.push(function(){h.off(c,"scroll",f)})}}for(r=i.parent();r.length;r=r.parent())l(r);return{scrollTo:function(u){le(n,function(d,c){c(u)})},dispose:function(){le(a,function(u,d){d()})}}}var zD=wt.inherit(function(){var e={ctor:function(t,i,r){this._dataOptions=i,this.component=t,this._viewportSize=t.option(Ch)===!1?15:0,this._viewportItemSize=20,this._viewportItemIndex=0,this._position=0,this._isScrollingBack=!1,this._contentSize=0,this._itemSizes={},this._sizeRatio=1,this._isVirtual=r,this.positionChanged=kt(),this._dataLoader=new YQ(this,this._dataOptions)},getItemSizes:function(){return this._itemSizes},option:function(){return this.component.option.apply(this.component,arguments)},isVirtual:function(){return this._isVirtual},virtualItemsCount:function(){if(oS(this)){var t=this._dataOptions,i=t.totalItemsCount();if(this.option(Ch)===!1&&i!==-1){var r=this.getViewportParams(),n=t.loadedOffset(),a=t.loadedItemCount(),s=Math.max(r.skip,n),o=Math.min(r.take,a),l=Math.max(i-(s+o),0);return{begin:s,end:l}}return this._dataLoader.virtualItemsCount.apply(this._dataLoader,arguments)}},getScrollingTimeout:function(){var t=this.option("scrolling.renderAsync"),i=0;if(!Z(t))i=Math.min(this.option("scrolling.timeout")||0,this._dataOptions.changingDuration()),i<this.option("scrolling.renderingThreshold")&&(i=this.option("scrolling.minTimeout")||0);else if(t){var r;i=(r=this.option("scrolling.timeout"))!==null&&r!==void 0?r:0}return i},setViewportPosition:function(t){var i=new pe,r=this.getScrollingTimeout();return clearTimeout(this._scrollTimeoutID),r>0?this._scrollTimeoutID=setTimeout(()=>{this._setViewportPositionCore(t),i.resolve()},r):(this._setViewportPositionCore(t),i.resolve()),i.promise()},getViewportPosition:function(){return this._position},getItemIndexByPosition:function(t,i,r){var n;t=(n=t)!==null&&n!==void 0?n:this._position;for(var a=this.getItemSize(),s=0,o=0,l=Object.keys(this._itemSizes).concat(-1),u=0;u<l.length&&s<t;u++){var d=parseInt(l[u]),c=(t-s)/a;if(d<0||o+c<d){o+=c,this._sizeRatio<1&&Z(i)&&(o=i+r/this._viewportItemSize);break}else c=d-o,s+=c*a,o+=c;var h=this._itemSizes[d];s+=h,o+=s<t?1:(t-s+h)/h}return Math.round(50*o)/50},isScrollingBack:function(){return this._isScrollingBack},_setViewportPositionCore:function(t){var i=this._position||0;this._position=t,i!==this._position&&(this._isScrollingBack=this._position<i);var r=this.getItemIndexByPosition(),n=this.setViewportItemIndex(r);return this.positionChanged.fire(),n},setContentItemSizes:function(t){var i=this.virtualItemsCount();if(this._contentSize=t.reduce((a,s)=>a+s,0),i){t.forEach((a,s)=>{this._itemSizes[i.begin+s]=a});var r=(i.begin+i.end+this.itemsCount())*this._viewportItemSize,n=Ee.getContentHeightLimit(Qt);r>n?this._sizeRatio=n/r:this._sizeRatio=1}},getItemSize:function(){return this._viewportItemSize*this._sizeRatio},getItemOffset:function(t,i){var r=this.virtualItemsCount(),n=t;if(!r)return 0;var a=0,s=this._dataOptions.totalItemsCount();return Object.keys(this._itemSizes).forEach(o=>{n&&(i?o>=s-t:o<t)&&(a+=this._itemSizes[o],n--)}),Math.floor(a+n*this._viewportItemSize*this._sizeRatio)},getContentOffset:function(t){var i=t==="end",r=this.virtualItemsCount();return r?this.getItemOffset(i?r.end:r.begin,i):0},getVirtualContentSize:function(){var t=this.virtualItemsCount();return t?this.getContentOffset("begin")+this.getContentOffset("end")+this._contentSize:0},getViewportItemIndex:function(){return this._viewportItemIndex},setViewportItemIndex:function(t){if(this._viewportItemIndex=t,this.option(Ch)!==!1)return this._dataLoader.viewportItemIndexChanged.apply(this._dataLoader,arguments)},viewportItemSize:function(t){return t!==void 0&&(this._viewportItemSize=t),this._viewportItemSize},viewportSize:function(t){return t!==void 0&&(this._viewportSize=t),this._viewportSize},viewportHeight:function(t,i){var r=i??this._position,n=this.getItemIndexByPosition(r),a=this.getItemIndexByPosition(r+t,n,t);this.viewportSize(Math.ceil(a-n)),!Z(i)&&this._viewportItemIndex!==n&&this._setViewportPositionCore(r)},reset:function(t){this._dataLoader.reset(),t||(this._itemSizes={})},subscribeToWindowScrollEvents:function(t){this._windowScroll=this._windowScroll||HD(t,i=>{this.viewportItemSize()&&this.setViewportPosition(i)})},dispose:function(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null},scrollTo:function(t){this._windowScroll&&this._windowScroll.scrollTo(t)},isVirtualMode:function(){return oS(this)},isAppendMode:function(){return JQ(this)},getViewportParams:function(){var t,i=this.option("scrolling.mode")===$D,r=this._dataOptions.totalItemsCount(),n=this._dataOptions.hasKnownLastPage(),a=n&&this._viewportItemIndex>r?r:this._viewportItemIndex,s=this._viewportSize+a,o=this.option("scrolling.prerenderedRowChunkSize")||1,l=this.isScrollingBack(),u=(t=this.option("scrolling.prerenderedRowCount"))!==null&&t!==void 0?t:1,d=l?u:0,c=l?0:u,h=Math.floor(Math.max(0,a-d)/o)*o,f=Math.ceil((s+c-h)/o)*o;if(i){var p=Math.max(0,r-h);f=Math.min(f,p)}return{skip:h,take:f}},itemsCount:function(){var t=0;return this.option(Ch)?t=this._dataLoader.itemsCount.apply(this._dataLoader,arguments):t=this._dataOptions.itemsCount(),t}};return["pageIndex","beginPageIndex","endPageIndex","pageSize","load","loadIfNeed","handleDataChanged","getDelayDeferred"].forEach(function(t){e[t]=function(){return this._dataLoader[t].apply(this._dataLoader,arguments)}}),e}()),lS="bottom-load-panel",QQ="table-content",eee="group-space",tee="content",uS="dx-freespace-row",iee="dx-column-lines",wh="dx-virtual-row",ree="dx-row-inserted",nee="infinite",aee="virtual",WD=300,St="scrolling.legacyMode",Qm="paging.pageIndex",sr=function(e){return e.option("scrolling.mode")===aee},Sn=function(e){return e.option("scrolling.mode")===nee},fn=function(e){return sr(e)||Sn(e)},dS=function(e,t,i,r){for(var n=0;n<t+1;n++){var a=e[i?e.length-1-n:n];a&&!r(a,n===t,i)&&t++}return t},Yh=function(e,t){return e.rowType==="data"&&!e.isNewRow||e.rowType==="group"&&t.isGroupItemCountable(e.data)},see=function(e){return e.forEach(function(t,i){t.rowIndex=i}),e},oee=function(){var e=function(i){var r=i._virtualScrollController.beginPageIndex(-1);sr(i)&&(r<0||i.viewportSize()>=0&&i.getViewportItemIndex()>=0&&(r*i.pageSize()>i.getViewportItemIndex()||r*i.pageSize()+i.itemsCount()<i.getViewportItemIndex()+i.viewportSize())&&i._dataSource.isLoading()?i._isLoading||(i._isLoading=!0,i.loadingChanged.fire(!0)):i._isLoading&&(i._isLoading=!1,i.loadingChanged.fire(!1)))},t={init:function(){this.callBase.apply(this,arguments),this._items=[],this._totalCount=-1,this._isLoaded=!0,this._loadPageCount=1,this._virtualScrollController=new zD(this.component,this._getVirtualScrollDataOptions())},_getVirtualScrollDataOptions:function(){var i=this;return{pageSize:function(){return i.pageSize()},totalItemsCount:function(){return i.totalItemsCount()},hasKnownLastPage:function(){return i.hasKnownLastPage()},pageIndex:function(r){return i._dataSource.pageIndex(r)},isLoading:function(){return i._dataSource.isLoading()&&!i.isCustomLoading()},pageCount:function(){return i.pageCount()},load:function(){return i._dataSource.load()},updateLoading:function(){e(i)},itemsCount:function(){return i.itemsCount(!0)},items:function(){return i._dataSource.items()},viewportItems:function(r){return r&&(i._items=r),i._items},onChanged:function(r){i.changed.fire(r)},changingDuration:function(r){return i.isLoading()?WD:i._renderTime||0}}},_handleLoadingChanged:function(i){if(this.option(St)===!1){this.callBase.apply(this,arguments);return}(!sr(this)||this._isLoadingAll)&&(this._isLoading=i,this.callBase.apply(this,arguments)),i?this._startLoadTime=new Date:this._startLoadTime=void 0},_handleLoadError:function(){this.option(St)!==!1&&(this._isLoading=!1,this.loadingChanged.fire(!1)),this.callBase.apply(this,arguments)},_handleDataChanged:function(i){if(this.option(St)===!1){this._items=this._dataSource.items().slice(),this._totalCount=this._dataSourceTotalCount(!0),this.callBase.apply(this,arguments);return}var r=this.callBase.bind(this);this._virtualScrollController.handleDataChanged(r,i)},_customizeRemoteOperations:function(i,r){var n=this.option(St)===!1,a=this.option("scrolling.renderAsync");Z(a)||(a=this._renderTime>=this.option("scrolling.renderingThreshold")),(sr(this)||Sn(this)&&n)&&!r.reload&&(r.skip||n)&&!a&&(i.delay=void 0),this.callBase.apply(this,arguments)},items:function(){return this._items},_dataSourceTotalCount:function(i){return this.option(St)===!1&&sr(this)&&!i?this._totalCount:this.callBase()},itemsCount:function(i){return i||this.option(St)===!1?this.callBase():this._virtualScrollController.itemsCount()},load:function(i){return this.option(St)===!1||i?this.callBase(i):this._virtualScrollController.load()},isLoading:function(){return this.option(St)===!1?this._dataSource.isLoading():this._isLoading},isLoaded:function(){return this._dataSource.isLoaded()&&this._isLoaded},resetPagesCache:function(i){i||this._virtualScrollController.reset(!0),this.callBase.apply(this,arguments)},_changeRowExpandCore:function(){var i=this.callBase.apply(this,arguments);return this.option(St)===!1||(this.resetPagesCache(),e(this)),i},reload:function(){this._dataSource.pageIndex(this.pageIndex());var i=this._virtualScrollController;if(this.option(St)!==!1&&i){var r=new pe;return this.callBase.apply(this,arguments).done(function(n){var a=i.getDelayDeferred();a?a.done(r.resolve).fail(r.reject):r.resolve(n)}).fail(r.reject),r}else return this.callBase.apply(this,arguments)},refresh:function(i,r){if(this.option(St)!==!1){var n=i.storeLoadOptions,a=this._dataSource;r.reload?(this._virtualScrollController.reset(),a.items().length=0,this._isLoaded=!1,e(this),this._isLoaded=!0,Sn(this)?(this.pageIndex(0),a.pageIndex(0),n.pageIndex=0,i.pageIndex=0,n.skip=0):(a.pageIndex(this.pageIndex()),a.paginate()&&(i.pageIndex=this.pageIndex(),n.skip=this.pageIndex()*this.pageSize()))):Sn(this)&&n.skip&&this._totalCountCorrection<0&&(n.skip+=this._totalCountCorrection)}return this.callBase.apply(this,arguments)},dispose:function(){this._virtualScrollController.dispose(),this.callBase.apply(this,arguments)},loadPageCount:function(i){if(!Z(i))return this._loadPageCount;this._loadPageCount=i},_handleDataLoading:function(i){var r=this.loadPageCount(),n=this.pageSize(),a=this.option(St)===!1,s=i.storeLoadOptions,o=Z(s.take);i.loadPageCount=r,!i.isCustomLoading&&a&&o&&r>1&&n>0&&(s.take=r*n),this.callBase.apply(this,arguments)},_loadPageSize:function(){return this.callBase.apply(this,arguments)*this.loadPageCount()}};return["beginPageIndex","endPageIndex","pageIndex"].forEach(function(i){t[i]=function(){if(this.option(St)===!1){var r=this._dataSource;return r.pageIndex.apply(r,arguments)}var n=this._virtualScrollController;return n[i].apply(n,arguments)}}),["virtualItemsCount","getContentOffset","getVirtualContentSize","setContentItemSizes","setViewportPosition","getViewportItemIndex","setViewportItemIndex","getItemIndexByPosition","viewportSize","viewportItemSize","getItemSize","getItemSizes","loadIfNeed"].forEach(function(i){t[i]=function(){var r=this._virtualScrollController;return r[i].apply(r,arguments)}}),t}(),lee=function(){var e=function(t,i){var r=t.toArray().map(s=>W(s).parent("."+i).get(0)).filter(s=>s);r.length&&(t=W(r));for(var n=i===uS?t.length-1:t.length,a=0;a<n;a++)t.eq(a).remove()};return{init:function(){var t,i=this.getController("data");this.callBase(),i.pageChanged.add(r=>{var n=this._scrollTop;this.scrollToPage(r??i.pageIndex()),this.option(St)===!1&&this._scrollTop===n&&i.updateViewport()}),i.dataSourceChanged.add(()=>{!this._scrollTop&&this._scrollToCurrentPageOnResize()}),(t=i.stateLoaded)===null||t===void 0||t.add(()=>{this._scrollToCurrentPageOnResize()}),this._scrollToCurrentPageOnResize()},_scrollToCurrentPageOnResize:function(){var t=this.getController("data");if(t.pageIndex()>0){var i=()=>{this.resizeCompleted.remove(i),this.scrollToPage(t.pageIndex())};this.resizeCompleted.add(i)}},scrollToPage:function(t){var i=this._dataController,r=i?i.pageSize():0,n;if(sr(this)||Sn(this)){var a=i.getItemSize(),s=i.getItemSizes(),o=t*r;n=o*a;for(var l in s)l<o&&(n+=s[l]-a)}else n=0;this.scrollTo({y:n,x:this._scrollLeft})},renderDelayedTemplates:function(t){this._updateContentPosition(!0),this.callBase.apply(this,arguments)},_renderCore:function(t){var i=new Date;this.callBase.apply(this,arguments);var r=this._dataController._dataSource;if(r&&t){var n=t.items?t.items.length:20,a=this._dataController.viewportSize()||20;Ee.isVirtualRowRendering(this)&&n>0&&this.option(St)!==!1?r._renderTime=(new Date-i)*a/n:r._renderTime=new Date-i}},_getRowElements:function(t){var i=this.callBase(t);return i&&i.not("."+wh)},_removeRowsElements:function(t,i,r){var n=this._getRowElements(t).toArray();r==="append"?n=n.slice(0,i):n=n.slice(-i);var a=this.getController("errorHandling");n.map(s=>{var o=W(s);a&&a.removeErrorRow(o.next()),o.remove()})},_updateContent:function(t,i){var r,n=this._findContentElement(),a=i&&i.changeType,s=n.children().first();if(a==="append"||a==="prepend"){var o=this._getBodies(t);o.length===1?this._getBodies(s)[a==="append"?"append":"prepend"](o.children()):o[a==="append"?"appendTo":"prependTo"](s),t.remove(),r=this._getFreeSpaceRowElements(s),e(r,uS),i.removeCount&&this._removeRowsElements(s,i.removeCount,a),this._restoreErrorRow(s)}else this.callBase.apply(this,arguments),a==="update"&&this._restoreErrorRow(s);this._updateBottomLoading()},_addVirtualRow:function(t,i,r,n){if(n){var a=this._createEmptyRow(wh,i,n);a=this._wrapRowIfNeed(t,a),this._appendEmptyRow(t,a,r)}},_updateContentItemSizes:function(){var t=this._getRowHeights(),i=this._correctRowHeights(t);this._dataController.setContentItemSizes(i)},_updateViewportSize:function(t,i){Z(t)||(t=this._hasHeight?Ct(this.element()):Ct(at())),this._dataController.viewportHeight(t,i)},_getRowHeights:function(){var t,i,r=(t=this.getController("editing"))===null||t===void 0||(i=t.isPopupEditMode)===null||i===void 0?void 0:i.call(t),n=this._getRowElements(this._tableElement).toArray();return r&&(n=n.filter(a=>!W(a).hasClass(ree))),n.map(a=>mi(a).height)},_correctRowHeights:function(t){for(var i=this._dataController,r=i._dataSource,n=[],a=i.getVisibleRows(),s=0,o=!0,l=-1,u=0;u<t.length;u++){var d=a[u];Z(d)&&(this.option(St)===!1?(l>=0&&l!==d.loadIndex&&(n.push(s),s=0),l=d.loadIndex):Yh(d,r)&&(o?o=!1:(n.push(s),s=0)),s+=t[u])}return s>0&&n.push(s),n},_updateContentPosition:function(t){var i=this._dataController,r=this._rowHeight||20;if(i.viewportItemSize(r),sr(this)||Ee.isVirtualRowRendering(this)){t||this._updateContentItemSizes();var n=i.getContentOffset("begin"),a=i.getContentOffset("end"),s=this.getTableElements(),o=s.children("tbody").children("."+wh);e(o,wh),s.each((l,u)=>{var d=l>0,c=this._isFixedTableRendering;this._isFixedTableRendering=d,this._addVirtualRow(W(u),d,"top",n),this._addVirtualRow(W(u),d,"bottom",a),this._isFixedTableRendering=c})}},_isTableLinesDisplaysCorrect:function(t){var i=t.find("."+iee).length>0;return i===this.option("showColumnLines")},_isColumnElementsEqual:function(t,i){var r=t.length===i.length;return r&&le(t,function(n,a){if(a.style.width!==i[n].style.width)return r=!1,r}),r},_getCellClasses:function(t){var i=[],r=t.cssClass,n=t.command==="expand";return r&&i.push(r),n&&i.push(this.addWidgetPrefix(eee)),i},_findBottomLoadPanel:function(t){var i=t||this.element(),r=i&&i.find("."+this.addWidgetPrefix(lS));if(r&&r.length)return r},_updateBottomLoading:function(){var t=sr(this),i=Sn(this),r=!this._dataController.hasKnownLastPage()&&this._dataController.isLoaded()&&(t||i),n=this._findContentElement(),a=this._findBottomLoadPanel(n);r?a||W("<div>").addClass(this.addWidgetPrefix(lS)).append(this._createComponent(W("<div>"),Ir).$element()).appendTo(n):a&&a.remove()},_handleScroll:function(t){var i=this.option(St)===!0,r=t.scrollOffset.top===0;(this._hasHeight||!i&&r)&&this._rowHeight&&(this._scrollTop=t.scrollOffset.top,sr(this)&&this.option(St)===!1&&(this._updateContentItemSizes(),this._updateViewportSize(null,this._scrollTop)),this._dataController.setViewportPosition(t.scrollOffset.top)),this.callBase.apply(this,arguments)},_needUpdateRowHeight:function(t){return this.callBase.apply(this,arguments)||t>0&&Sn(this)&&!Ee.isVirtualRowRendering(this)},_updateRowHeight:function(){if(this.callBase.apply(this,arguments),this._rowHeight){this._updateContentPosition();var t=this._hasHeight?Ct(this.element()):Ct(at()),i=this._dataController;this.option(St)===!1?(this._updateViewportSize(t),i.updateViewport()):i.viewportSize(Math.ceil(t/this._rowHeight))}},updateFreeSpaceRowHeight:function(){var t=this.callBase.apply(this,arguments);return t&&this._updateContentPosition(),t},setLoading:function(t,i){var r=this._dataController,n=r.pageIndex()>0&&r.isLoaded()&&!!this._findBottomLoadPanel();this.option(St)===!1&&t&&r.isViewportChanging()||(n&&(t=!1),this.callBase.call(this,t,i))},_resizeCore:function(){var t=this,i=t.element();t.callBase(),t.component.$element()&&!t._windowScroll&&i.closest(at().document).length&&(t._windowScroll=HD(i,function(r){!t._hasHeight&&t._rowHeight&&t._dataController.setViewportPosition(r)},t.component.$element()),t.on("disposing",function(){t._windowScroll.dispose()})),this.option(St)!==!1&&t.loadIfNeed()},loadIfNeed:function(){var t,i=this._dataController;i==null||(t=i.loadIfNeed)===null||t===void 0||t.call(i)},setColumnWidths:function(t){var i=this.getScrollable(),r;this.callBase.apply(this,arguments),this.option("scrolling.mode")==="virtual"&&(r=i?W(i.content()):this.element(),this.callBase(t,r.children("."+this.addWidgetPrefix(tee)).children(":not(."+this.addWidgetPrefix(QQ)+")")))},_restoreErrorRow:function(){if(this.option(St)===!1){var t=this.getController("errorHandling");t==null||t.removeErrorRow()}this.callBase.apply(this,arguments)},dispose:function(){clearTimeout(this._scrollTimeoutID),this.callBase()}}}(),jD={defaultOptions:function(){return{scrolling:{timeout:300,updateTimeout:300,minTimeout:0,renderingThreshold:100,removeInvisiblePages:!0,rowPageSize:5,prerenderedRowChunkSize:1,mode:"standard",preloadEnabled:!1,rowRenderingMode:"standard",loadTwoPagesOnStart:!1,legacyMode:!1,prerenderedRowCount:1}}},extenders:{dataSourceAdapter:oee,controllers:{data:function(){var e={_refreshDataSource:function(){var t=this.callBase.apply(this,arguments)||new pe().resolve().promise();return t.done(this.initVirtualRows.bind(this)),t},_loadDataSource:function(){if(this._rowsScrollController&&fn(this)){var t,{loadPageCount:i}=Z(this._loadViewportParams)?this.getLoadPageParams():{};i>=1&&((t=this._dataSource)===null||t===void 0||t.loadPageCount(i))}return this.callBase.apply(this,arguments)},getRowPageSize:function(){var t=this.option("scrolling.rowPageSize"),i=this.pageSize();return i&&i<t?i:t},reload:function(){var t=this._rowsScrollController||this._dataSource,i=t&&t.getItemIndexByPosition(),r=this.callBase.apply(this,arguments);return r&&r.done(()=>{if(sr(this)||Ee.isVirtualRowRendering(this)){var n=this.getRowIndexOffset(),a=Math.floor(i)-n,s=this.component,o=s.getScrollable&&s.getScrollable(),l=this.dataSource().operationTypes().sorting;if(o&&!l&&a>=0){var u=s.getRowElement(a),d=u&&u[0]&&W(u[0]),c=d&&d.position().top,h=Qt.chrome&&Qt.version>=91,f=Qt.mozilla||h?1:0;c>f&&(c=Math.round(c+Ct(d)*(i%1)),o.scrollTo({y:c}))}}})},initVirtualRows:function(){var t=Ee.isVirtualRowRendering(this);if(this._allItems=null,this._loadViewportParams=null,this.option("scrolling.mode")!=="virtual"&&t!==!0||t===!1||this.option(St)!==!1&&!this.option("scrolling.rowPageSize")){this._visibleItems=null,this._rowsScrollController=null;return}var i=!sr(this)&&this.pageIndex()>=this.pageCount()?this.pageCount()-1:this.pageIndex();this._rowPageIndex=Math.ceil(i*this.pageSize()/this.getRowPageSize()),this._visibleItems=this.option(St)===!1?null:[],this._viewportChanging=!1,this._needUpdateViewportAfterLoading=!1,this._rowsScrollController||(this._rowsScrollController=new zD(this.component,this._getRowsScrollDataOptions(),!0),this._rowsScrollController.positionChanged.add(()=>{var r;if(this.option(St)===!1){this._viewportChanging=!0,this.loadViewport(),this._viewportChanging=!1;return}(r=this._dataSource)===null||r===void 0||r.setViewportItemIndex(this._rowsScrollController.getViewportItemIndex())})),this.option(St)===!1&&this._updateLoadViewportParams(),this.isLoaded()&&this.option(St)!==!1&&this._rowsScrollController.load()},isViewportChanging:function(){return this._viewportChanging},_getRowsScrollDataOptions:function(){var t=this,i=function(r){return Yh(r,t._dataSource)};return{pageSize:function(){return t.getRowPageSize()},loadedOffset:function(){var r;return sr(t)&&((r=t._dataSource)===null||r===void 0?void 0:r.lastLoadOptions().skip)||0},loadedItemCount:function(){return t._itemCount},totalItemsCount:function(){return fn(t)?t.totalItemsCount():t.option(St)===!1?t._itemCount:t._items.filter(i).length},hasKnownLastPage:function(){return t.option(St)===!1?t.hasKnownLastPage():!0},pageIndex:function(r){return r!==void 0&&(t._rowPageIndex=r),t._rowPageIndex},isLoading:function(){return t.isLoading()},pageCount:function(){var r=Math.ceil(this.totalItemsCount()/this.pageSize());return r||1},load:function(){t._rowsScrollController.pageIndex()>=this.pageCount()&&(t._rowPageIndex=this.pageCount()-1,t._rowsScrollController.pageIndex(t._rowPageIndex)),!(!this.items().length&&this.totalItemsCount())&&t._rowsScrollController.handleDataChanged(r=>{r=r||{},r.changeType=r.changeType||"refresh",r.items=r.items||t._visibleItems,t._visibleItems.forEach((n,a)=>{n.rowIndex=a}),t._fireChanged(r)})},updateLoading:function(){},itemsCount:function(){return this.items(!0).length},correctCount:function(r,n,a){return dS(r,n,a,(s,o,l)=>s.isNewRow?o&&!l:o&&l?!s.isNewRow:i(s))},items:function(r){var n=t._items;if(t.option(St)){var a=t.dataSource(),s=a==null?void 0:a.virtualItemsCount(),o=s?s.begin:0,l=t.getRowPageSize(),u=t._rowPageIndex*l-o,d=l;if(u<0)return[];u&&(u=this.correctCount(n,u),n=n.slice(u)),d&&(d=this.correctCount(n,d),n=n.slice(0,d))}return r?n.filter(i):n},viewportItems:function(r){return r&&t.option(St)!==!1&&(t._visibleItems=r),t._visibleItems},onChanged:function(){},changingDuration:function(r){var n=t.dataSource();return n!=null&&n.isLoading()&&t.option(St)!==!1?WD:(n==null?void 0:n._renderTime)||0}}},_updateItemsCore:function(t){var i=this.getRowIndexDelta();if(this.callBase.apply(this,arguments),this.option(St)===!1&&Ee.isVirtualRowRendering(this)){t.changeType==="update"&&t.rowIndices.length===0&&t.cancelEmptyChanges&&(t.cancel=!0);return}var r=this._rowsScrollController;if(r){var n=this._visibleItems,a=t.changeType==="refresh"||t.isLiveUpdate;if(t.changeType==="append"&&t.items&&!t.items.length)return;a||t.changeType==="append"||t.changeType==="prepend"?(t.cancel=!0,a&&r.reset(!0),r.load()):(t.changeType==="update"?t.rowIndices.forEach((s,o)=>{var l=t.changeTypes[o],u=t.items[o];l==="update"?n[s]=u:l==="insert"?n.splice(s,0,u):l==="remove"&&n.splice(s,1)}):(n.forEach((s,o)=>{n[o]=this._items[o+i]||n[o]}),t.items=n),see(n))}},_updateLoadViewportParams:function(){var t=this._rowsScrollController.getViewportParams(),i=this.pageSize();if(t&&!fn(this)&&i>0){var r=this.pageIndex()*i;t.skip+=r}this._loadViewportParams=t},_processItems:function(t){var i=this.callBase.apply(this,arguments);if(this.option(St)===!1){var r,n=this._dataSource,a=(r=n==null?void 0:n.lastLoadOptions().skip)!==null&&r!==void 0?r:0,s,o,l,u=!1;i.forEach(d=>{var c=d.rowType,h=Yh(d,n),f=c==="group"&&(s||h||o!=="group"&&a>0),p=c==="data"&&h&&(s||o!=="group");if(!d.isNewRow&&Z(s)){var g=l&&!u;(f||p)&&!g&&a++}(f||p)&&(u=!0),d.loadIndex=a,s=h,o=c,l=d.isNewRow})}return i},_afterProcessItems:function(t){if(this._itemCount=t.filter(s=>Yh(s,this._dataSource)).length,Z(this._loadViewportParams)){this._updateLoadViewportParams();var i=t;if(this._allItems=t,t.length){var{skipForCurrentPage:r}=this.getLoadPageParams(!0),n=t[0].loadIndex+r,a=this._loadViewportParams.take;i=t.filter(s=>{var o=s.isNewRow&&s.loadIndex>=n-1,l=s.isNewRow&&s.loadIndex===n&&a===0,u=s.loadIndex>=n||o,d=s.loadIndex<n+a||l;return u&&d})}return i}return this.callBase.apply(this,arguments)},_applyChange:function(t){var i=this,r=t.items,n=t.changeType,a=t.removeCount;if(a){var s=n==="prepend";a=dS(i._items,a,s,function(o,l){return o.rowType==="data"&&!o.isNewRow||o.rowType==="group"&&(i._dataSource.isGroupItemCountable(o.data)||l)}),t.removeCount=a}switch(n){case"prepend":i._items.unshift.apply(i._items,r),a&&i._items.splice(-a);break;case"append":i._items.push.apply(i._items,r),a&&i._items.splice(0,a);break;default:i.callBase(t)}},items:function(t){return t?this._allItems||this._items:this._visibleItems||this._items},getRowIndexDelta:function(){var t=0;if(this.option(St)){var i=this._visibleItems;i&&i[0]&&(t=this._items.indexOf(i[0]))}return t<0?0:t},getRowIndexOffset:function(t){var i=0,r=this.dataSource(),n=this._rowsScrollController,a=this.option(St)===!1,s=fn(this);if(n&&!t)if(a&&Z(this._loadViewportParams)){var{skipForCurrentPage:o,pageIndex:l}=this.getLoadPageParams(!0),u=this.items(!0);if(i=s?l*this.pageSize():0,u.length){var d=u[0].loadIndex;i+=u.filter(h=>h.loadIndex<d+o).length}}else i=n.beginPageIndex()*n.pageSize();else if(s&&a&&r){var c;i=(c=r.lastLoadOptions().skip)!==null&&c!==void 0?c:0}else sr(this)&&r&&(i=r.beginPageIndex()*r.pageSize());return i},viewportSize:function(){var t=this._rowsScrollController,i=this._dataSource,r=t==null?void 0:t.viewportSize.apply(t,arguments);return this.option(St)===!1?r:i==null?void 0:i.viewportSize.apply(i,arguments)},viewportHeight:function(t,i){var r;(r=this._rowsScrollController)===null||r===void 0||r.viewportHeight(t,i)},viewportItemSize:function(){var t=this._rowsScrollController,i=this._dataSource,r=t==null?void 0:t.viewportItemSize.apply(t,arguments);return this.option(St)===!1?r:i==null?void 0:i.viewportItemSize.apply(i,arguments)},setViewportPosition:function(){var t=this._rowsScrollController,i=this._dataSource;this._isPaging=!1,t?t.setViewportPosition.apply(t,arguments):i==null||i.setViewportPosition.apply(i,arguments)},setContentItemSizes:function(t){var i=this._rowsScrollController,r=this._dataSource,n=i==null?void 0:i.setContentItemSizes(t);return this.option(St)===!1?n:r==null?void 0:r.setContentItemSizes(t)},getPreloadedRowCount:function(){var t=this.option("scrolling.preloadedRowCount"),i=this.option("scrolling.preloadEnabled");if(Z(t))return t;var r=this.viewportSize();return i?2*r:r},getLoadPageParams:function(t){var i,r,n=this.pageSize(),a=this._loadViewportParams,s=(i=this._dataSource)===null||i===void 0?void 0:i.lastLoadOptions(),o=(s==null?void 0:s.pageIndex)||0,l=(s==null?void 0:s.take)||0,u=this._rowsScrollController.isScrollingBack(),d=u?this.getPreloadedRowCount():0,c=u?0:this.getPreloadedRowCount(),h=((r=this._dataSource)===null||r===void 0?void 0:r.totalCountCorrection())||0,f=Math.max(0,a.skip-d),p=t?o:Math.floor(n?f/n:0),g=p*n,m=a.skip-g,v=a.take+m+c-h,b=t?l:v,y=Math.ceil(n?b/n:0);return{pageIndex:p,loadPageCount:Math.max(1,y),skipForCurrentPage:Math.max(0,m)}},_updateVisiblePageIndex:function(t){if(this._rowsScrollController){if(Z(t)){this._silentOption(Qm,t),this.pageChanged.fire();return}var i=this._rowsScrollController.getViewportItemIndex(),r=Math.floor(i/this.pageSize());this.pageIndex()!==r&&(this._silentOption(Qm,r),this.updateItems({changeType:"pageIndex"}))}},_getChangedLoadParams:function(){var t=this.getLoadPageParams(!0),{pageIndex:i,loadPageCount:r}=this.getLoadPageParams(),n=this._pageIndexIsValid(i),a=null;return!this._isLoading&&n&&(i!==t.pageIndex||r!==t.loadPageCount)&&(a={pageIndex:i,loadPageCount:r}),a},_pageIndexIsValid:function(t){var i=!0;return(Sn(this)&&this.hasKnownLastPage()||sr(this))&&(i=t*this.pageSize()<this.totalItemsCount()),i},_loadItems:function(t,i){var r,n,a=fn(this),s=this._dataSource,o=this._getChangedLoadParams(),l=(r=s==null?void 0:s.loadPageCount())!==null&&r!==void 0?r:0,u=this.pageSize()*l,d=(n=s==null?void 0:s.pageIndex())!==null&&n!==void 0?n:0,c=(o==null?void 0:o.pageIndex)===d,h=Sn(this)&&this.totalItemsCount()<u,f=this.option("editing.refreshMode")==="repaint",p=(o==null?void 0:o.pageIndex)>d,g=!1;if(!s||a&&t&&(f&&i||p||c&&h))return g;if(a&&this._isLoading&&(this._needUpdateViewportAfterLoading=!0),a&&o){g=!0,s.pageIndex(o.pageIndex),s.loadPageCount(o.loadPageCount),this._repaintChangesOnly=!0,this._needUpdateDimensions=!0;var m=this._viewportChanging;this.load().always(()=>{this._repaintChangesOnly=void 0,this._needUpdateDimensions=void 0}).done(()=>{var v=this.pageCount()>0&&this.pageIndex()===this.pageCount()-1;(m||v)&&this._updateVisiblePageIndex(),this._needUpdateViewportAfterLoading&&(this._needUpdateViewportAfterLoading=!1,this.loadViewport({checkLoadedParamsOnly:!0}))})}return g},loadViewport:function(t){var{checkLoadedParamsOnly:i,checkLoading:r,viewportIsNotFilled:n}=t??{},a=fn(this);if(a||Ee.isVirtualRowRendering(this)){this._updateLoadViewportParams();var s=this._loadItems(r,!n);!s&&!(this._isLoading&&r)&&!i&&this.updateItems({repaintChangesOnly:!0,needUpdateDimensions:!0,useProcessedItemsCache:!0,cancelEmptyChanges:!0})}},updateViewport:function(){var t,i,r=this.viewportSize(),n=this.items().length,a=r>n,s=(t=(i=this._loadViewportParams)===null||i===void 0?void 0:i.take)!==null&&t!==void 0?t:0,o=this._rowsScrollController,l=o==null?void 0:o.getViewportParams().take;(a||s<l)&&!this._isPaging&&n&&this.loadViewport({checkLoading:!0,viewportIsNotFilled:a})},loadIfNeed:function(){if(this.option(St)!==!1){var t=this._rowsScrollController;t&&t.loadIfNeed();var i=this._dataSource;return i&&i.loadIfNeed()}},getItemSize:function(){var t=this._rowsScrollController;if(t)return t.getItemSize.apply(t,arguments);var i=this._dataSource;return i&&i.getItemSize.apply(i,arguments)},getItemSizes:function(){var t=this._rowsScrollController;if(t)return t.getItemSizes.apply(t,arguments);var i=this._dataSource;return i&&i.getItemSizes.apply(i,arguments)},getContentOffset:function(){var t=this._rowsScrollController;if(t)return t.getContentOffset.apply(t,arguments);var i=this._dataSource;return i&&i.getContentOffset.apply(i,arguments)},refresh:function(t){var i=this._dataSource;return i&&t&&t.load&&Sn(this)&&i.resetCurrentTotalCount(),this.callBase.apply(this,arguments)},dispose:function(){var t=this._rowsScrollController;t&&t.dispose(),this.callBase.apply(this,arguments)},topItemIndex:function(){var t;return(t=this._loadViewportParams)===null||t===void 0?void 0:t.skip},bottomItemIndex:function(){var t=this._loadViewportParams;return t&&t.skip+t.take},virtualItemsCount:function(){var t=this._rowsScrollController;if(t)return t.virtualItemsCount.apply(t,arguments);var i=this._dataSource;return i==null?void 0:i.virtualItemsCount.apply(i,arguments)},pageIndex:function(t){var i=fn(this),r=this._rowsScrollController;if(this.option(St)===!1&&i&&r&&t===void 0){var n;return(n=this.option(Qm))!==null&&n!==void 0?n:0}return this.callBase.apply(this,arguments)},_fireChanged:function(t){this.callBase.apply(this,arguments);var{operationTypes:i}=t;if(this.option(St)===!1&&fn(this)&&i){var{fullReload:r,pageIndex:n}=i;t.isDataChanged&&!r&&n&&this._updateVisiblePageIndex(this._dataSource.pageIndex())}},_getPagingOptionValue:function(t){var i=this.callBase.apply(this,arguments);return this.option(St)===!1&&fn(this)&&(i=this[t]()),i},isEmpty:function(){return this.option(St)===!1?!this.items(!0).length:this.callBase(this,arguments)},isLastPageLoaded:function(){var t=!1;if(this.option(St)===!1&&fn(this)){var{pageIndex:i,loadPageCount:r}=this.getLoadPageParams(!0),n=this.pageCount();t=i+r>=n}else t=this.callBase.apply(this,arguments);return t},reset:function(){this._itemCount=0,this._allItems=null,this.callBase.apply(this,arguments)},_applyFilter:function(){var t;(t=this._dataSource)===null||t===void 0||t.loadPageCount(1),this.callBase.apply(this,arguments)}};return Ee.proxyMethod(e,"getVirtualContentSize"),Ee.proxyMethod(e,"setViewportItemIndex"),e}(),resizing:{_updateMasterDataGridCore:function(e){return Pe(this.callBase.apply(this,arguments)).done(t=>{var i=sr(e)&&e.option(St)===!1;if(!t&&i){var r=e.getScrollable();r&&e.updateDimensions()}})},resize:function(){var e=this,t=e.callBase,i;if(sr(e)||Ee.isVirtualRowRendering(e)){clearTimeout(e._resizeTimeout);var r=new Date-e._lastTime,n=e.option("scrolling.updateTimeout");e._lastTime&&r<n?(i=new pe,e._resizeTimeout=setTimeout(function(){t.apply(e).done(i.resolve).fail(i.reject),e._lastTime=new Date},n),e._lastTime=new Date):(i=t.apply(e),e._dataController.isLoaded()&&(e._lastTime=new Date))}else i=t.apply(e);return i},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._resizeTimeout)}}},views:{rowsView:lee}}};Le.registerModule("virtualScrolling",jD);id.extend(jD.extenders.dataSourceAdapter);var uee=.9,UD=(e,t)=>{var i=W(at()),{top:r}=e.offset(),n;if(Kt(t)){if(t<r)return r-t;n=oc(i)-t+i.scrollTop()}else{var a=r-i.scrollTop(),s=oc(i)-a-Ct(e);n=Math.max(a,s)}return n*uee},dee="dx-context-menu-content-delimiter",hee="dx-submenu";class eg extends T0{_getDefaultOptions(){return re(super._getDefaultOptions(),{orientation:"horizontal",tabIndex:null,onHoverStart:me})}_initDataAdapter(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter||super._initDataAdapter()}_renderContentImpl(){this._renderContextMenuOverlay(),super._renderContentImpl();var t=this._dataAdapter.getNodeByKey(this.option("_parentKey"));t&&this._renderItems(this._getChildNodes(t)),this._renderDelimiter()}_renderDelimiter(){this.$contentDelimiter=W("<div>").appendTo(this._itemContainer()).addClass(dee)}_getOverlayOptions(){return re(super._getOverlayOptions(),{onPositioned:this._overlayPositionedActionHandler.bind(this)})}_overlayPositionedActionHandler(t){this._showDelimiter(t)}_hoverEndHandler(t){super._hoverEndHandler(t),this._toggleFocusClass(!1,t.currentTarget)}_isMenuHorizontal(){return this.option("orientation")==="horizontal"}_hoverStartHandler(t){var i=this.option("onHoverStart");i(t),super._hoverStartHandler(t),this._toggleFocusClass(!0,t.currentTarget)}_drawSubmenu(t){this._actions.onShowing({rootItem:qe(t),submenu:this}),super._drawSubmenu(t),this._actions.onShown({rootItem:qe(t),submenu:this})}_hideSubmenu(t){this._actions.onHiding({cancel:!0,rootItem:qe(t),submenu:this}),super._hideSubmenu(t),this._actions.onHidden({rootItem:qe(t),submenu:this})}_showDelimiter(t){if(this.$contentDelimiter){var i=this._itemContainer().children(".".concat(hee)).eq(0),r=this.option("position").of,n={of:i},a=t.position,s=a.v.location,o=a.h.location,l=r.offset(),u=Math.round(l.left),d=Math.round(l.top),c=Ze(r),h=nt(r),f=Ze(i),p=nt(i);this.$contentDelimiter.css("display","block"),zu(this.$contentDelimiter,this._isMenuHorizontal()?c<f?c-2:f:2),Dr(this.$contentDelimiter,this._isMenuHorizontal()?2:h<p?h-2:p),this._isMenuHorizontal()?s>d?Math.round(o)===u?(n.offset="1 -1",n.at=n.my="left top"):(n.offset="-1 -1",n.at=n.my="right top"):(Dr(this.$contentDelimiter,5),Math.round(o)===u?(n.offset="1 4",n.at=n.my="left bottom"):(n.offset="-1 2",n.at=n.my="right bottom")):o>u?Math.round(s)===d?(n.offset="-1 1",n.at=n.my="left top"):(n.offset="-1 -1",n.at=n.my="left bottom"):Math.round(s)===d?(n.offset="1 1",n.at=n.my="right top"):(n.offset="1 -1",n.at=n.my="right bottom"),zi.setup(this.$contentDelimiter,n)}}_getContextMenuPosition(){return this.option("position")}isOverlayVisible(){return this._overlay.option("visible")}getOverlayContent(){return this._overlay.$content()}}var ro="dx-menu",cee=ro+"-vertical",hS=ro+"-horizontal",Fv=ro+"-item",cS=ro+"-items-container",tg=Fv+"-expanded",Zh="dx-context-menu",ig=Zh+"-container-border",fee="dx-context-menu-content-delimiter",pee="dx-submenu",mee="dx-state-disabled",fS="dx-state-hover",gee="dx-state-active",Jh=ro+"-adaptive-mode",pS=ro+"-hamburger-button",vee=Jh+"-overlay-wrapper",_ee="up",bee="down",yee="left",Cee="right",Nl="showSubmenu",Io="nextItem",ba="prevItem",wee={show:50,hide:300},mS=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","onItemContextMenu","onItemClick","onSelectionChanged","onItemRendered"];class Lv extends I0{_getDefaultOptions(){return re(super._getDefaultOptions(),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null,adaptivityEnabled:!1})}_setOptionsByReference(){super._setOptionsByReference(),re(this._optionsByReference,{animation:!0,selectedItem:!0})}_itemElements(){var t=super._itemElements(),i=this._submenuItemElements();return t.add(i)}_submenuItemElements(){var t=[],i=".".concat(Fv),r=this._submenus.length&&this._submenus[0];return r&&r.itemsContainer()&&(t=r.itemsContainer().find(i)),t}_focusTarget(){return this.$element()}_isMenuHorizontal(){return this.option("orientation")==="horizontal"}_moveFocus(t){var i=this._getAvailableItems(),r=this._isMenuHorizontal(),n=this._getActiveItem(!0),a,s,o,l;switch(t){case _ee:s=r?Nl:this._getItemsNavigationOperation(ba),a=r?n:i,o=this._getKeyboardNavigationAction(s,a),l=o();break;case bee:s=r?Nl:this._getItemsNavigationOperation(Io),a=r?n:i,o=this._getKeyboardNavigationAction(s,a),l=o();break;case Cee:s=r?this._getItemsNavigationOperation(Io):Nl,a=r?i:n,o=this._getKeyboardNavigationAction(s,a),l=o();break;case yee:s=r?this._getItemsNavigationOperation(ba):Nl,a=r?i:n,o=this._getKeyboardNavigationAction(s,a),l=o();break;default:return super._moveFocus(t)}l&&l.length!==0&&this.option("focusedElement",qe(l))}_getItemsNavigationOperation(t){var i=t;return this.option("rtlEnabled")&&(i=t===ba?Io:ba),i}_getKeyboardNavigationAction(t,i){var r=me;switch(t){case Nl:i.hasClass(mee)||(r=this._showSubmenu.bind(this,i));break;case Io:r=this._nextItem.bind(this,i);break;case ba:r=this._prevItem.bind(this,i)}return r}_clean(){super._clean(),this.option("templatesRenderAsynchronously")&&clearTimeout(this._resizeEventTimer)}_visibilityChanged(t){t&&(this._menuItemsWidth||this._updateItemsWidthCache(),this._dimensionChanged())}_isAdaptivityEnabled(){return this.option("adaptivityEnabled")&&this.option("orientation")==="horizontal"}_updateItemsWidthCache(){var t=this.$element().find("ul").first().children("li").children(".".concat(Fv));this._menuItemsWidth=this._getSummaryItemsWidth(t,!0)}_dimensionChanged(){if(this._isAdaptivityEnabled()){var t=At(this.$element());this._toggleAdaptiveMode(this._menuItemsWidth>t)}}_init(){super._init(),this._submenus=[]}_initActions(){this._actions={},le(mS,(t,i)=>{this._actions[i]=this._createActionByOption(i)})}_initMarkup(){this._visibleSubmenu=null,this.$element().addClass(ro),super._initMarkup(),this._addCustomCssClass(this.$element()),this.setAria("role","menubar")}_render(){super._render(),this._initAdaptivity()}_renderHamburgerButton(){return this._hamburger=new Ki(W("<div>").addClass(pS),{icon:"menu",activeStateEnabled:!1,onClick:this._toggleTreeView.bind(this)}),this._hamburger.$element()}_toggleTreeView(t){ft(t)&&(t=!this._overlay.option("visible")),this._overlay.option("visible",t),this._toggleHamburgerActiveState(t)}_toggleHamburgerActiveState(t){this._hamburger&&this._hamburger.$element().toggleClass(gee,t)}_toggleAdaptiveMode(t){var i=this.$element().find(".".concat(hS)),r=this.$element().find(".".concat(Jh));t?this._hideVisibleSubmenu():(this._treeView&&this._treeView.collapseAll(),this._overlay&&this._toggleTreeView(t)),i.toggle(!t),r.toggle(t)}_removeAdaptivity(){this._$adaptiveContainer&&(this._toggleAdaptiveMode(!1),this._$adaptiveContainer.remove(),this._$adaptiveContainer=null,this._treeView=null,this._hamburger=null,this._overlay=null)}_treeviewItemClickHandler(t){this._actions.onItemClick(t),t.node.children.length||this._toggleTreeView(!1)}_getAdaptiveOverlayOptions(){var t=this.option("rtlEnabled"),i=t?"right":"left";return{_ignoreFunctionValueDeprecation:!0,maxHeight:()=>UD(this.$element()),deferRendering:!1,shading:!1,animation:!1,hideOnParentScroll:!0,onHidden:()=>{this._toggleHamburgerActiveState(!1)},height:"auto",hideOnOutsideClick:r=>!W(r.target).closest(".".concat(pS)).length,position:{collision:"flipfit",at:"bottom "+i,my:"top "+i,of:this._hamburger.$element()}}}_getTreeViewOptions(){var t={};return le(["rtlEnabled","width","accessKey","activeStateEnabled","animation","dataSource","disabled","displayExpr","displayExpr","focusStateEnabled","hint","hoverStateEnabled","itemsExpr","items","itemTemplate","selectedExpr","selectionMode","tabIndex","visible"],(i,r)=>{t[r]=this.option(r)}),le(["onItemContextMenu","onSelectionChanged","onItemRendered"],(i,r)=>{t[r]=n=>{this._actions[r](n)}}),re(t,{dataSource:this.getDataSource(),animationEnabled:!!this.option("animation"),onItemClick:this._treeviewItemClickHandler.bind(this),onItemExpanded:i=>{this._overlay.repaint(),this._actions.onSubmenuShown(i)},onItemCollapsed:i=>{this._overlay.repaint(),this._actions.onSubmenuHidden(i)},selectNodesRecursive:!1,selectByClick:this.option("selectByClick"),expandEvent:"click"})}_initAdaptivity(){if(this._isAdaptivityEnabled()){this._$adaptiveContainer=W("<div>").addClass(Jh);var t=this._renderHamburgerButton();this._treeView=this._createComponent(W("<div>"),vd,this._getTreeViewOptions()),this._overlay=this._createComponent(W("<div>"),on,this._getAdaptiveOverlayOptions()),this._overlay.$content().append(this._treeView.$element()).addClass(Jh).addClass(this.option("cssClass")),this._overlay.$wrapper().addClass(vee),this._$adaptiveContainer.append(t),this._$adaptiveContainer.append(this._overlay.$element()),this.$element().append(this._$adaptiveContainer),this._updateItemsWidthCache(),this._dimensionChanged()}}_getDelay(t){var i=this.option("showFirstSubmenuMode").delay;return Z(i)?Ge(i)?i[t]:i:wee[t]}_keyboardHandler(t){return super._keyboardHandler(t,!!this._visibleSubmenu)}_renderContainer(){var t=W("<div>");return t.appendTo(this.$element()).addClass(this._isMenuHorizontal()?hS:cee),super._renderContainer(t)}_renderSubmenuItems(t,i){var r=this._createSubmenu(t,i);return this._submenus.push(r),this._renderBorderElement(i),r}_getKeyboardListeners(){return super._getKeyboardListeners().concat(this._visibleSubmenu)}_createSubmenu(t,i){var r=W("<div>").addClass(Zh).appendTo(i),n=this._getChildNodes(t),a=this._createComponent(r,eg,re(this._getSubmenuOptions(),{_dataAdapter:this._dataAdapter,_parentKey:t.internalFields.key,items:n,onHoverStart:this._clearTimeouts.bind(this),position:this.getSubmenuPosition(i)}));return this._attachSubmenuHandlers(i,a),a}_getSubmenuOptions(){var t=W("<div>"),i=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),target:t,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),cssClass:this.option("cssClass"),selectByClick:this.option("selectByClick"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),showSubmenuMode:this.option("showSubmenuMode"),displayExpr:this.option("displayExpr"),disabledExpr:this.option("disabledExpr"),selectedExpr:this.option("selectedExpr"),itemsExpr:this.option("itemsExpr"),onFocusedItemChanged:r=>{r.component.option("visible")&&this.option("focusedElement",r.component.option("focusedElement"))},onSelectionChanged:this._nestedItemOnSelectionChangedHandler.bind(this),onItemClick:this._nestedItemOnItemClickHandler.bind(this),onItemRendered:this._nestedItemOnItemRenderedHandler.bind(this),onLeftFirstItem:i?null:this._moveMainMenuFocus.bind(this,ba),onLeftLastItem:i?null:this._moveMainMenuFocus.bind(this,Io),onCloseRootSubmenu:this._moveMainMenuFocus.bind(this,i?ba:null),onExpandLastSubmenu:i?this._moveMainMenuFocus.bind(this,Io):null}}_getShowFirstSubmenuMode(){if(!this._isDesktopDevice())return"onClick";var t=this.option("showFirstSubmenuMode");return Ge(t)?t.name:t}_moveMainMenuFocus(t){var i=this._getAvailableItems(),r=i.length,n=i.filter(".".concat(tg)).eq(0),a=i.index(n);this._hideSubmenu(this._visibleSubmenu),a+=t===ba?-1:1,a>=r?a=0:a<0&&(a=r-1);var s=i.eq(a);this.option("focusedElement",qe(s))}_nestedItemOnSelectionChangedHandler(t){var i=t.addedItems.length&&t.addedItems[0],r=eg.getInstance(t.element),n=this._actions.onSelectionChanged;n(t),i&&this._clearSelectionInSubmenus(i[0],r),this._clearRootSelection(),this._setOptionWithoutOptionChange("selectedItem",i)}_clearSelectionInSubmenus(t,i){var r=!arguments.length;le(this._submenus,(n,a)=>{var s=a._itemContainer(),o=!s.is(i&&i._itemContainer()),l=s.find(".".concat(this._selectedItemClass()));if(o&&l.length||r){l.removeClass(this._selectedItemClass());var u=this._getItemData(l);u&&(u.selected=!1),a._clearSelectedItems()}})}_clearRootSelection(){var t=this.$element().find(".".concat(cS)).first().children().children().filter(".".concat(this._selectedItemClass()));if(t.length){var i=this._getItemData(t);i.selected=!1,t.removeClass(this._selectedItemClass())}}_nestedItemOnItemClickHandler(t){this._actions.onItemClick(t)}_nestedItemOnItemRenderedHandler(t){this._actions.onItemRendered(t)}_attachSubmenuHandlers(t,i){var r=i.getOverlayContent(),n=r.find(".".concat(pee)),a=xe(af,this.NAME+"_submenu");i.option({onShowing:this._submenuOnShowingHandler.bind(this,t,i),onShown:this._submenuOnShownHandler.bind(this,t,i),onHiding:this._submenuOnHidingHandler.bind(this,t,i),onHidden:this._submenuOnHiddenHandler.bind(this,t,i)}),le(n,(s,o)=>{te.off(o,a),te.on(o,a,null,this._submenuMouseLeaveHandler.bind(this,t))})}_submenuOnShowingHandler(t,i){var r=t.children(".".concat(ig));this._actions.onSubmenuShowing({rootItem:qe(t),submenu:i}),r.show(),t.addClass(tg)}_submenuOnShownHandler(t,i){this._actions.onSubmenuShown({rootItem:qe(t),submenu:i})}_submenuOnHidingHandler(t,i,r){var n=t.children(".".concat(ig)),a=r;a.rootItem=qe(t),a.submenu=i,this._actions.onSubmenuHiding(a),r=a,r.cancel||(this._visibleSubmenu===i&&(this._visibleSubmenu=null),n.hide(),t.removeClass(tg))}_submenuOnHiddenHandler(t,i){this._actions.onSubmenuHidden({rootItem:qe(t),submenu:i})}_submenuMouseLeaveHandler(t,i){var r=W(i.relatedTarget).parents(".".concat(Zh))[0],n=this._getSubmenuByRootElement(t).getOverlayContent()[0];this.option("hideSubmenuOnMouseLeave")&&r!==n&&(this._clearTimeouts(),setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")))}_hideSubmenuAfterTimeout(){if(this._visibleSubmenu){var t=W(this._visibleSubmenu.$element().context).hasClass(fS),i=this._visibleSubmenu.getOverlayContent().find(".".concat(fS)).length,r=this._visibleSubmenu.getOverlayContent().get(0).querySelector(":hover");!r&&!i&&!t&&this._visibleSubmenu.hide()}}_getSubmenuByRootElement(t){if(!t)return!1;var i=t.children(".".concat(Zh));return i.length&&eg.getInstance(i)}getSubmenuPosition(t){var i=this._isMenuHorizontal(),r=this.option("submenuDirection").toLowerCase(),n=this.option("rtlEnabled"),a={collision:"flip",of:t};switch(r){case"leftortop":a.at="left top",a.my=i?"left bottom":"right top";break;case"rightorbottom":a.at=i?"left bottom":"right top",a.my="left top";break;default:i?(a.at=n?"right bottom":"left bottom",a.my=n?"right top":"left top"):(a.at=n?"left top":"right top",a.my=n?"right top":"left top")}return a}_renderBorderElement(t){W("<div>").appendTo(t).addClass(ig).hide()}_itemPointerDownHandler(t){var i=W(t.target),r=i.closest(this._itemElements());if(r.hasClass("dx-menu-item-has-submenu")){this.option("focusedElement",null);return}super._itemPointerDownHandler(t)}_hoverStartHandler(t){var i=xe(Rt.move,this.NAME),r=this._getItemElementByEventArgs(t),n=this._dataAdapter.getNodeByItem(this._getItemData(r)),a=Z(t.buttons)&&t.buttons===1||!Z(t.buttons)&&t.which===1;if(!this._isItemDisabled(r)){if(te.off(r,i),!this._hasChildren(n)){this._showSubmenuTimer=setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide"));return}if(this._getShowFirstSubmenuMode()==="onHover"&&!a){var s=this._getSubmenuByElement(r);this._clearTimeouts(),s.isOverlayVisible()||(te.on(r,i,this._itemMouseMoveHandler.bind(this)),this._showSubmenuTimer=this._getDelay("hide"))}}}_hoverEndHandler(t){var i=this._getItemElementByEventArgs(t),r=W(t.relatedTarget);super._hoverEndHandler(t),this._clearTimeouts(),!this._isItemDisabled(i)&&(r.hasClass(fee)||this.option("hideSubmenuOnMouseLeave")&&!r.hasClass(cS)&&(this._hideSubmenuTimer=setTimeout(()=>{this._hideSubmenuAfterTimeout()},this._getDelay("hide"))))}_hideVisibleSubmenu(){return this._visibleSubmenu?(this._hideSubmenu(this._visibleSubmenu),!0):!1}_showSubmenu(t){var i=this._getSubmenuByElement(t);this._visibleSubmenu!==i&&this._hideVisibleSubmenu(),i&&(this._clearTimeouts(),this.focus(),i.show(),this.option("focusedElement",i.option("focusedElement"))),this._visibleSubmenu=i,this._hoveredRootItem=t}_hideSubmenu(t){t&&t.hide(),this._visibleSubmenu===t&&(this._visibleSubmenu=null),this._hoveredRootItem=null}_itemMouseMoveHandler(t){if(!(t.pointers&&t.pointers.length)){var i=W(t.currentTarget);Z(this._showSubmenuTimer)&&(this._clearTimeouts(),this._showSubmenuTimer=setTimeout(()=>{var r=this._getSubmenuByElement(i);r&&!r.isOverlayVisible()&&this._showSubmenu(i)},this._getDelay("show")))}}_clearTimeouts(){clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer)}_getSubmenuByElement(t,i){var r=this._getSubmenuByRootElement(t);if(r)return r;i=i||this._getItemData(t);var n=this._dataAdapter.getNodeByItem(i);return this._hasChildren(n)&&this._renderSubmenuItems(n,t)}_updateSubmenuVisibilityOnClick(t){var i=t.args.length&&t.args[0];if(!(!i||this._disabledGetter(i.itemData))){var r=W(i.itemElement),n=this._getSubmenuByElement(r,i.itemData);if(this._updateSelectedItemOnClick(t),this._visibleSubmenu)if(this._visibleSubmenu===n){this.option("showFirstSubmenuMode")==="onClick"&&this._hideSubmenu(this._visibleSubmenu);return}else this._hideSubmenu(this._visibleSubmenu);if(n&&!n.isOverlayVisible()){this._showSubmenu(r);return}}}_optionChanged(t){if(mS.indexOf(t.name)>=0){this._initActions();return}switch(t.name){case"orientation":case"submenuDirection":this._invalidate();break;case"showFirstSubmenuMode":case"hideSubmenuOnMouseLeave":break;case"showSubmenuMode":this._changeSubmenusOption(t.name,t.value);break;case"adaptivityEnabled":t.value?this._initAdaptivity():this._removeAdaptivity();break;case"width":this._isAdaptivityEnabled()&&(this._treeView.option(t.name,t.value),this._overlay.option(t.name,t.value)),super._optionChanged(t),this._dimensionChanged();break;case"animation":this._isAdaptivityEnabled()&&this._treeView.option("animationEnabled",!!t.value),super._optionChanged(t);break;default:this._isAdaptivityEnabled()&&(t.name===t.fullName||t.name==="items")&&this._treeView.option(t.fullName,t.value),super._optionChanged(t)}}_changeSubmenusOption(t,i){le(this._submenus,(r,n)=>{n.option(t,i)})}selectItem(t){this._hideSubmenu(this._visibleSubmenu),super.selectItem(t)}unselectItem(t){this._hideSubmenu(this._visibleSubmenu),super.selectItem(t)}}yt("dxMenu",Lv);var rg={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal",default:"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},gS={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",between:"between"},xee=700,GD=1,fu="filter-row",xh="filter-range-overlay",Sh="filter-range-start",See="filter-range-end",vS="dx-menu",_S="dx-editor-with-menu",us="dx-editor-container",Nv="dx-editor-cell",Eee="dx-filter-menu",Iee="dx-apply-button",ng="dx-highlight-outline",bS="dx-focused",Tee="dx-cell-focus-disabled",ag="dx-filter-range-content",sg="dx-filter-modified",Vl="input:not([type='hidden'])",Aee=["date","datetime","number"];function No(e){return e.option("filterRow.applyFilter")==="onClick"}var og=function(e){var t=e&&e.children(),i=t&&t.data("dxComponents"),r=i&&i.length&&t.data(i[0]);if(r instanceof ln)return r},Oee=function(){var e=function(a,s){var o="",l="",u=t(a,s),d=Ee.getFormatOptionsByColumn(s,"filterRow");return Array.isArray(u)?(o=Ee.formatValue(u[0],d),l=Ee.formatValue(u[1],d),l!==""&&(o+=" - "+l)):Z(u)&&(o=Ee.formatValue(u,d)),o};function t(a,s){if(s)return No(a)&&s.bufferedFilterValue!==void 0?s.bufferedFilterValue:s.filterValue}var i=function(a,s){if(s)return No(a)&&s.bufferedSelectedFilterOperation!==void 0?s.bufferedSelectedFilterOperation:s.selectedFilterOperation},r=function(a,s,o){var l=a._columnsController.columnOption(s),u=t(a,l),d=o.closest("."+a.addWidgetPrefix(xh)).length,c=o.hasClass(a.addWidgetPrefix(Sh));return u&&Array.isArray(u)&&i(a,l)==="between"?c?u[0]:u[1]:!d&&function(h,f){return f&&Aee.indexOf(f.dataType)>=0&&Array.isArray(h)?!1:h!==void 0}(u,l)?u:null},n=function(a,s){var o=s.value===""?null:s.value,l=s.container,u=a._columnsController.columnOption(s.column.index),d=r(a,u.index,l);if(!(!Z(d)&&!Z(o))){a._applyFilterViewController.setHighLight(l,d!==o);var c=No(a)?"bufferedFilterValue":"filterValue",h=function(g,m,v,b){if(i(g,v)==="between"){var y=t(g,v);return b.hasClass(g.addWidgetPrefix(Sh))?[m,Array.isArray(y)?y[1]:void 0]:[Array.isArray(y)?y[0]:y,m]}return m}(a,o,u,l),f=i(a,u)==="between",p=s.notFireEvent||f&&Array.isArray(h)&&h.indexOf(void 0)>=0;a._columnsController.columnOption(u.index,c,h,p)}};return{_updateEditorValue:function(a,s){var o=og(s);o&&o.option("value",r(this,a.index,s))},_columnOptionChanged:function(a){var s=a.optionNames,o,l,u,d;if(Ee.checkChanges(s,["filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","filterValues","filterType"])&&a.columnIndex!==void 0){var c=this._columnsController.getVisibleIndex(a.columnIndex),h=this._columnsController.columnOption(a.columnIndex);if(o=this._getCellElement(this.element().find("."+this.addWidgetPrefix(fu)).index(),c)||W(),l=o.find("."+us).first(),s.filterValue||s.bufferedFilterValue){this._updateEditorValue(h,l);var f=o.find("."+this.addWidgetPrefix(xh)).data("dxOverlay");f&&(u=f.$content().find("."+us),this._updateEditorValue(h,u.first()),this._updateEditorValue(h,u.last())),(!f||!f.option("visible"))&&this._updateFilterRangeContent(o,e(this,h))}(s.selectedFilterOperation||s.bufferedSelectedFilterOperation)&&c>=0&&h&&(d=o.find("."+vS),d.length&&(this._updateFilterOperationChooser(d,h,l),i(this,h)==="between"?this._renderFilterRangeContent(o,h):l.find("."+ag).length&&(this._renderEditor(l,this._getEditorOptions(l,h)),this._hideFilterRange())));return}this.callBase(a)},_renderCore:function(){this._filterRangeOverlayInstance=null,this.callBase.apply(this,arguments)},_resizeCore:function(){this.callBase.apply(this,arguments),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.repaint()},isFilterRowVisible:function(){return this._isElementVisible(this.option("filterRow"))},isVisible:function(){return this.callBase()||this.isFilterRowVisible()},init:function(){this.callBase(),this._applyFilterViewController=this.getController("applyFilter")},_initFilterRangeOverlay:function(a,s){var o=this,l={},u=a.find(".dx-editor-container"),d=W("<div>").addClass(o.addWidgetPrefix(xh)).appendTo(a);return o._createComponent(d,on,{height:"auto",shading:!1,showTitle:!1,focusStateEnabled:!1,hideOnOutsideClick:!0,copyRootClassesToWrapper:!0,_ignoreCopyRootClassesToWrapperDeprecation:!0,animation:!1,position:{my:"top",at:"top",of:u.length&&u||a,offset:"0 -1"},contentTemplate:function(c){var h,f=W("<div>").addClass(us+" "+o.addWidgetPrefix(Sh)).appendTo(c);return s=o._columnsController.columnOption(s.index),h=o._getEditorOptions(f,s),h.sharedData=l,o._renderEditor(f,h),te.on(f.find(Vl),"keydown",function(p){var g=a.find("[tabindex]").not(p.target).first();hi(p)==="tab"&&p.shiftKey&&(p.preventDefault(),o._hideFilterRange(),g.length||(g=a.prev().find("[tabindex]").last()),te.trigger(g,"focus"))}),f=W("<div>").addClass(us+" "+o.addWidgetPrefix(See)).appendTo(c),h=o._getEditorOptions(f,s),h.sharedData=l,o._renderEditor(f,h),te.on(f.find(Vl),"keydown",function(p){hi(p)==="tab"&&!p.shiftKey&&(p.preventDefault(),o._hideFilterRange(),te.trigger(a.next().find("[tabindex]").first(),"focus"))}),W(c).addClass(o.getWidgetContainerClass())},onShown:function(c){var h=c.component.$content().find("."+us).first();te.trigger(h.find(Vl),"focus")},onHidden:function(){s=o._columnsController.columnOption(s.index),a.find("."+vS).parent().addClass(_S),i(o,s)==="between"&&(o._updateFilterRangeContent(a,e(o,s)),o.component.updateDimensions())}})},_updateFilterRangeOverlay:function(a){var s=this._filterRangeOverlayInstance;s&&s.option(a)},_showFilterRange:function(a,s){var o=a.children("."+this.addWidgetPrefix(xh)),l=o.length&&o.data("dxOverlay");!l&&s&&(l=this._initFilterRangeOverlay(a,s)),l.option("visible")||(this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.hide(),this._filterRangeOverlayInstance=l,this._updateFilterRangeOverlay({width:At(a,!0)+GD}),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.show())},_hideFilterRange:function(){var a=this._filterRangeOverlayInstance;a&&a.hide()},getFilterRangeOverlayInstance:function(){return this._filterRangeOverlayInstance},_createRow:function(a){var s=this.callBase(a);return a.rowType==="filter"&&(s.addClass(this.addWidgetPrefix(fu)),this.option("useLegacyKeyboardNavigation")||te.on(s,"keydown",o=>i0("filterRow",this,o))),s},_getRows:function(){var a=this.callBase();return this.isFilterRowVisible()&&a.push({rowType:"filter"}),a},_renderFilterCell:function(a,s){var o=s.column,l=W(a);this.component.option("showColumnHeaders")&&this.setAria("describedby",o.headerId,l),this.setAria("label",_e.format("dxDataGrid-ariaFilterCell"),l),l.addClass(Nv);var u=W("<div>").appendTo(l),d=W("<div>").addClass(us).appendTo(u);if(i(this,o)==="between")this._renderFilterRangeContent(l,o);else{var c=this._getEditorOptions(d,o);this._renderEditor(d,c)}var h=o.alignment;h&&h!=="center"&&l.find(Vl).first().css("textAlign",o.alignment),o.filterOperations&&o.filterOperations.length&&this._renderFilterOperationChooser(u,o,d)},_renderCellContent:function(a,s){var o=this,l=s.column;if(s.rowType==="filter"){if(l.command)a.html("&nbsp;");else if(l.allowFiltering){o.renderTemplate(a,o._renderFilterCell.bind(o),s).done(()=>{o._updateCell(a,s)});return}}this.callBase.apply(this,arguments)},_getEditorOptions:function(a,s){var o=this,l={editorOptions:{inputAttr:o._getFilterInputAccessibilityAttributes(s)}},u=re(l,s,{value:r(o,s.index,a),parentType:"filterRow",showAllText:o.option("filterRow.showAllText"),updateValueTimeout:o.option("filterRow.applyFilter")==="onClick"?0:xee,width:null,setValue:function(d,c){n(o,{column:s,value:d,container:a,notFireEvent:c})}});return i(o,s)==="between"&&(a.hasClass(o.addWidgetPrefix(Sh))?u.placeholder=o.option("filterRow.betweenStartText"):u.placeholder=o.option("filterRow.betweenEndText")),u},_getFilterInputAccessibilityAttributes:function(a){var s=_e.format("dxDataGrid-ariaFilterCell");return this.component.option("showColumnHeaders")?{"aria-label":s,"aria-describedby":a.headerId}:{"aria-label":s}},_renderEditor:function(a,s){a.empty();var o=W("<div>").appendTo(a),l=this.getController("editorFactory"),u=this.getController("data").dataSource(),d=this.getController("applyFilter");if(s.lookup&&this.option("syncLookupFilterValues")){d.setCurrentColumnForFiltering(s);var c=this.getController("data").getCombinedFilter();d.setCurrentColumnForFiltering(null);var h=Ee.getWrappedLookupDataSource(s,u,c),f=Ie({},s,{lookup:Ie({},s.lookup,{dataSource:h})});return l.createEditor(o,f)}else return l.createEditor(o,s)},_renderFilterRangeContent:function(a,s){var o=this,l=a.find("."+us).first();l.empty();var u=W("<div>").addClass(ag).attr("tabindex",this.option("tabIndex"));te.on(u,"focusin",function(){o._showFilterRange(a,s)}),u.appendTo(l),o._updateFilterRangeContent(a,e(o,s))},_updateFilterRangeContent:function(a,s){var o=a.find("."+ag);o.length&&(s===""?o.html("&nbsp;"):o.text(s))},_updateFilterOperationChooser:function(a,s,o){var l=this,u,d=function(){var c=Lv.getInstance(a);c&&c.option("focusedElement",null),u&&l._focusEditor(o)};l._createComponent(a,Lv,{integrationOptions:{},activeStateEnabled:!1,selectionMode:"single",cssClass:l.getWidgetContainerClass()+" "+Tee+" "+Eee,showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,items:[{disabled:!(s.filterOperations&&s.filterOperations.length),icon:rg[i(l,s)||"default"],selectable:!1,items:l._getFilterOperationMenuItems(s)}],onItemClick:function(c){var h=c.itemData.name,f=i(l,s),p=!1,g=No(l),m={};if(!(c.itemData.items||h&&h===f)){if(h?(m[g?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=h,(h==="between"||f==="between")&&(p=h==="between",m[g?"bufferedFilterValue":"filterValue"]=null)):(m[g?"bufferedFilterValue":"filterValue"]=null,m[g?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=s.defaultSelectedFilterOperation||null),l._columnsController.columnOption(s.index,m),l._applyFilterViewController.setHighLight(o,!0),!h){var v=og(o);v&&v.NAME==="dxDateBox"&&!v.option("isValid")&&(v.reset(),v.option("isValid",!0))}p?l._showFilterRange(o.closest("."+Nv),s):l._focusEditor(o)}},onSubmenuShowing:function(){u=l._isEditorFocused(o),l.getController("editorFactory").loseFocus()},onSubmenuHiding:function(){te.trigger(a,"blur"),d()},onContentReady:function(c){te.on(a,"blur",()=>{var h=c.component;h._hideSubmenuAfterTimeout(),d()})},rtlEnabled:l.option("rtlEnabled")})},_isEditorFocused:function(a){return a.hasClass(bS)||a.parents("."+bS).length},_focusEditor:function(a){this.getController("editorFactory").focus(a),te.trigger(a.find(Vl),"focus")},_renderFilterOperationChooser:function(a,s,o){var l;this.option("filterRow.showOperationChooser")&&(a.addClass(_S),l=W("<div>").prependTo(a),this._updateFilterOperationChooser(l,s,o))},_getFilterOperationMenuItems:function(a){var s=this,o=[{}],l=s.option("filterRow"),u=l&&l.operationDescriptions||{};if(a.filterOperations&&a.filterOperations.length){var d=a.filterOperations.filter(function(c){return Z(gS[c])});o=Si(d,function(c){var h=gS[c];return{name:c,selected:(i(s,a)||a.defaultFilterOperation)===c,text:u[h],icon:rg[c]}}),o.push({name:null,text:l&&l.resetOperationText,icon:rg.default})}return o},_handleDataChanged:function(a){var s,o;this.callBase.apply(this,arguments),((s=a.operationTypes)!==null&&s!==void 0&&s.filtering||(o=a.operationTypes)!==null&&o!==void 0&&o.fullReload)&&this.updateLookupDataSource()},updateLookupDataSource:function(){if(this.option("syncLookupFilterValues")&&this.element()){var a=this._columnsController.getVisibleColumns(),s=this._dataController.dataSource(),o=this._applyFilterViewController,l=this.element().find("."+this.addWidgetPrefix(fu)).index();l!==-1&&a.forEach((u,d)=>{if(!(!u.lookup||u.calculateCellValue!==u.defaultCalculateCellValue)){var c=this._getCellElement(l,d),h=og(c==null?void 0:c.find(".dx-editor-container"));if(h){o.setCurrentColumnForFiltering(u);var f=this._dataController.getCombinedFilter();o.setCurrentColumnForFiltering(null);var p=Ee.getWrappedLookupDataSource(u,s,f);h.option("dataSource",p)}}})}},optionChanged:function(a){switch(a.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),a.handled=!0;break;case"syncLookupFilterValues":a.value?this.updateLookupDataSource():this.render(),a.handled=!0;break;default:this.callBase(a)}}}}(),Dee={skipCalculateColumnFilters:function(){return!1},_calculateAdditionalFilter:function(){if(this.skipCalculateColumnFilters())return this.callBase();var e=[this.callBase()],t=this._columnsController.getVisibleColumns(null,!0),i=this.getController("applyFilter");return le(t,function(){var r,n=((r=i.getCurrentColumnForFiltering())===null||r===void 0?void 0:r.index)===this.index;if(this.allowFiltering&&this.calculateFilterExpression&&Z(this.filterValue)&&!n){var a=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow");e.push(a)}}),Ee.combineFilters(e)}},Ree=ei.ViewController.inherit({_getHeaderPanel:function(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel},setHighLight:function(e,t){No(this)&&(e&&e.toggleClass(ng,t)&&e.closest("."+Nv).toggleClass(sg,t),this._getHeaderPanel().enableApplyButton(t))},applyFilter:function(){var e=this.getController("columns"),t=e.getColumns();e.beginUpdate();for(var i=0;i<t.length;i++){var r=t[i];r.bufferedFilterValue!==void 0&&(e.columnOption(i,"filterValue",r.bufferedFilterValue),r.bufferedFilterValue=void 0),r.bufferedSelectedFilterOperation!==void 0&&(e.columnOption(i,"selectedFilterOperation",r.bufferedSelectedFilterOperation),r.bufferedSelectedFilterOperation=void 0)}e.endUpdate(),this.removeHighLights()},removeHighLights:function(){if(No(this)){var e=this.getView("columnHeadersView").element();e.find("."+this.addWidgetPrefix(fu)+" ."+ng).removeClass(ng),e.find("."+this.addWidgetPrefix(fu)+" ."+sg).removeClass(sg),this._getHeaderPanel().enableApplyButton(!1)}},setCurrentColumnForFiltering:function(e){this._currentColumn=e},getCurrentColumnForFiltering:function(){return this._currentColumn}}),kee={defaultOptions:function(){return{syncLookupFilterValues:!0,filterRow:{visible:!1,showOperationChooser:!0,showAllText:_e.format("dxDataGrid-filterRowShowAllText"),resetOperationText:_e.format("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:_e.format("dxDataGrid-applyFilterText"),operationDescriptions:{equal:_e.format("dxDataGrid-filterRowOperationEquals"),notEqual:_e.format("dxDataGrid-filterRowOperationNotEquals"),lessThan:_e.format("dxDataGrid-filterRowOperationLess"),lessThanOrEqual:_e.format("dxDataGrid-filterRowOperationLessOrEquals"),greaterThan:_e.format("dxDataGrid-filterRowOperationGreater"),greaterThanOrEqual:_e.format("dxDataGrid-filterRowOperationGreaterOrEquals"),startsWith:_e.format("dxDataGrid-filterRowOperationStartsWith"),contains:_e.format("dxDataGrid-filterRowOperationContains"),notContains:_e.format("dxDataGrid-filterRowOperationNotContains"),endsWith:_e.format("dxDataGrid-filterRowOperationEndsWith"),between:_e.format("dxDataGrid-filterRowOperationBetween"),isBlank:_e.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:_e.format("dxFilterBuilder-filterOperationIsNotBlank")},betweenStartText:_e.format("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:_e.format("dxDataGrid-filterRowOperationBetweenEndText")}}},controllers:{applyFilter:Ree},extenders:{controllers:{data:Dee,columnsResizer:{_startResizing:function(){var e=this;if(e.callBase.apply(e,arguments),e.isResizing()){var t=e._columnHeadersView.getFilterRangeOverlayInstance();if(t){var i=t.$element().closest("td").index();(i===e._targetPoint.columnIndex||i===e._targetPoint.columnIndex+1)&&t.$content().hide()}}},_endResizing:function(){var e=this,t;if(e.isResizing()){var i=e._columnHeadersView.getFilterRangeOverlayInstance();i&&(t=i.$element().closest("td"),e._columnHeadersView._updateFilterRangeOverlay({width:At(t,!0)+GD}),i.$content().show())}e.callBase.apply(e,arguments)}},editing:{updateFieldValue(e){return e.column.lookup&&(this._needUpdateLookupDataSource=!0),this.callBase.apply(this,arguments)},_afterSaveEditData(e){if(this._needUpdateLookupDataSource&&!e){var t;(t=this.getView("columnHeadersView"))===null||t===void 0||t.updateLookupDataSource()}return this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)},_afterCancelEditData(){return this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)}}},views:{columnHeadersView:Oee,headerPanel:{_getToolbarItems:function(){var e=this.callBase(),t=this._prepareFilterItem(e);return t.concat(e)},_prepareFilterItem:function(){var e=this,t=[];if(e._isShowApplyFilterButton()){var i=e.option("filterRow.applyFilterText"),r=e._columnsController.getColumns(),n=!r.filter(function(s){return s.bufferedFilterValue!==void 0}).length,a={widget:"dxButton",options:{icon:"apply-filter",disabled:n,onClick:function(){e._applyFilterViewController.applyFilter()},hint:i,text:i,onInitialized:function(s){W(s.element).addClass(e._getToolbarButtonClass(Iee))}},showText:"inMenu",name:"applyFilterButton",location:"after",locateInMenu:"auto",sortIndex:10};t.push(a)}return t},_isShowApplyFilterButton:function(){var e=this.option("filterRow");return e&&e.visible&&e.applyFilter==="onClick"},init:function(){this.callBase(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")},enableApplyButton:function(e){this.setToolbarItemDisabled("applyFilterButton",!e)},isVisible:function(){return this.callBase()||this._isShowApplyFilterButton()},optionChanged:function(e){e.name==="filterRow"?(this._invalidate(),e.handled=!0):this.callBase(e)}}}}};Le.registerModule("filterRow",kee);Ns.setEditorClass(pd);var yS="dx-header-filter",Mee="dx-header-filter-menu",Bee="text";function KD(e){e=e||[];for(var t=0;t<e.length;t++)e[t].selected=!1,KD(e[t].items)}function CS(e,t){if(!e.component.option("searchValue")){var i=W(e.element).find(".dx-list-select-all-checkbox").data("dxCheckBox");i&&t&&t.length&&i.option("value",void 0)}}function Pee(e,t){var i=t.headerFilter;return i&&Z(i.allowSearch)?i.allowSearch:e.option("headerFilter.allowSearch")}function Fee(e,t,i){if(t^i){if(e.selected=!0,i&&e.items){for(var r=0;r<e.items.length;r++)if(!e.items[r].selected){e.selected=void 0;break}}}else(i||e.selected)&&(e.selected=!1,KD(e.items))}var Lee=ei.View.inherit({getPopupContainer:function(){return this._popupContainer},getListContainer:function(){return this._listContainer},applyHeaderFilter:function(e){var t=this.getListContainer(),i=t.option("searchValue"),r=!i&&!e.isFilterBuilder&&t.$element().find(".dx-checkbox").eq(0).hasClass("dx-checkbox-checked"),n=[];r?(e.type==="tree"&&(e.filterType="exclude"),Array.isArray(e.filterValues)&&(e.filterValues=[])):e.type==="tree"&&(e.filterType&&(e.filterType="include"),function a(s,o,l){le(o,function(u,d){if(d.selected!==void 0&&!!d.selected^l){var c=t._getNode(d),h=t._hasChildren(c),f=h&&d.items&&d.items.some(p=>p.selected);if(!i||!f){s.push(d.value);return}}d.items&&d.items.length&&a(s,d.items,l)})}(n,t.option("items"),!1),e.filterValues=n),e.filterValues&&!e.filterValues.length&&(e.filterValues=null),e.apply(),this.hideHeaderFilterMenu()},showHeaderFilterMenu:function(e,t){if(t){this._initializePopupContainer(t);var i=this.getPopupContainer();this.hideHeaderFilterMenu(),this.updatePopup(e,t),i.show()}},hideHeaderFilterMenu:function(){var e=this.getPopupContainer();e&&e.hide()},updatePopup:function(e,t){var i=this.option("showColumnLines"),r=t.alignment==="right"^!i?"left":"right";this._popupContainer.setAria({role:"dialog",label:_e.format("dxDataGrid-headerFilterLabel")}),this._popupContainer&&(this._cleanPopupContent(),this._popupContainer.option("position",{my:r+" top",at:r+" bottom",of:e,collision:"flip fit"}))},_getSearchExpr:function(e){var t=e.lookup,i=e.useDefaultSearchExpr,r=e.headerFilter&&e.headerFilter.dataSource;if(i||Z(r)&&!Re(r))return Bee;if(t)return t.displayExpr||"this";if(e.dataSource){var n=e.dataSource.group;if(Array.isArray(n)&&n.length>0)return n[0].selector;if(Re(n)&&!e.remoteFiltering)return n}return e.dataField||e.selector},_cleanPopupContent:function(){this._popupContainer&&this._popupContainer.$content().empty()},_initializePopupContainer:function(e){var t=this,i=t.element(),r=t.option("headerFilter"),n=e.headerFilter&&e.headerFilter.width||r&&r.width,a=e.headerFilter&&e.headerFilter.height||r&&r.height,s={width:n,height:a,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,hideOnParentScroll:!1,dragEnabled:!1,hideOnOutsideClick:!0,focusStateEnabled:!1,copyRootClassesToWrapper:!0,_ignoreCopyRootClassesToWrapperDeprecation:!0,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:r.texts.ok,onClick:function(){t.applyHeaderFilter(e)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:r.texts.cancel,onClick:function(){t.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing:function(o){o.component.$content().parent().addClass("dx-dropdowneditor-overlay"),t._initializeListContainer(e),e.onShowing&&e.onShowing(o)},onShown:function(){t.getListContainer().focus()},onHidden:e.onHidden,onInitialized:function(o){var l=o.component;l.option("animation",l._getDefaultOptions().animation)}};Z(t._popupContainer)?t._popupContainer.option(s):t._popupContainer=t._createComponent(i,kn,s)},_initializeListContainer:function(e){var t=this,i=t._popupContainer.$content(),r={searchEnabled:Pee(t,e),searchTimeout:t.option("headerFilter.searchTimeout"),searchMode:e.headerFilter&&e.headerFilter.searchMode||"",dataSource:e.dataSource,onContentReady:function(){t.renderCompleted.fire()},itemTemplate:function(a,s,o){var l=W(o);return e.encodeHtml?l.text(a.text):l.html(a.text)}};function n(a){a.fullName==="searchValue"&&!e.isFilterBuilder&&t.option("headerFilter.hideSelectAllOnSearch")!==!1&&(e.type==="tree"?a.component.option("showCheckBoxesMode",a.value?"normal":"selectAll"):a.component.option("selectionMode",a.value?"multiple":"all"))}e.type==="tree"?t._listContainer=t._createComponent(W("<div>").appendTo(i),vd,re(r,{showCheckBoxesMode:e.isFilterBuilder?"normal":"selectAll",onOptionChanged:n,keyExpr:"id"})):t._listContainer=t._createComponent(W("<div>").appendTo(i),eo,re(r,{searchExpr:t._getSearchExpr(e),pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:e.isFilterBuilder?"multiple":"all",onOptionChanged:n,onSelectionChanged:function(a){var s=a.component.option("items"),o=a.component.option("selectedItems");if(!a.component._selectedItemsUpdating&&!a.component.option("searchValue")&&!e.isFilterBuilder){var l=e.filterValues||[],u=e.filterType==="exclude";o.length===0&&s.length&&(l.length<=1||u&&l.length===s.length-1)?(e.filterType="include",e.filterValues=[]):o.length===s.length&&(e.filterType="exclude",e.filterValues=[])}le(s,function(d,c){var h=Ee.getIndexByKey(c,o,null)>=0,f=!!c.selected;if(f!==h){c.selected=h,e.filterValues=e.filterValues||[];var p=Ee.getIndexByKey(c.value,e.filterValues,null);p>=0&&e.filterValues.splice(p,1),h^e.filterType==="exclude"&&e.filterValues.push(c.value)}}),CS(a,e.filterValues)},onContentReady:function(a){var s=a.component,o=s.option("items"),l=[];le(o,function(){this.selected&&l.push(this)}),s._selectedItemsUpdating=!0,s.option("selectedItems",l),s._selectedItemsUpdating=!1,CS(a,e.filterValues)}}))},_renderCore:function(){this.element().addClass(Mee)}}),Df=function(e){return Z(e.allowHeaderFiltering)?e.allowHeaderFiltering:e.allowFiltering},qD={_applyColumnState:function(e){var t,i=e.rootElement,r=e.column;if(e.name==="headerFilter"){if(i.find("."+yS).remove(),Df(r)){t=this.callBase(e).toggleClass("dx-header-filter-empty",this._isHeaderFilterEmpty(r)),this.option("useLegacyKeyboardNavigation")||t.attr("tabindex",this.option("tabindex")||0);var n=_e.format("dxDataGrid-headerFilterIndicatorLabel",r.caption);t.attr("aria-label",n),t.attr("aria-haspopup","dialog"),t.attr("role","button")}return t}return this.callBase(e)},_isHeaderFilterEmpty:function(e){return!e.filterValues||!e.filterValues.length},_getIndicatorClassName:function(e){return e==="headerFilter"?yS:this.callBase(e)},_renderIndicator:function(e){var t=e.container,i=e.indicator;if(e.name==="headerFilter"){var r=this.option("rtlEnabled");if(t.children().length&&(!r&&e.columnAlignment==="right"||r&&e.columnAlignment==="left")){t.prepend(i);return}}this.callBase(e)},optionChanged:function(e){if(e.name==="headerFilter"){var t=this.name==="columnHeadersView";this._invalidate(t,t),e.handled=!0}else this.callBase(e)}},Nee={month:function(e){return ut.getMonthNames()[e-1]},quarter:function(e){return ut.format(new Date(2e3,3*e-1),"quarter")}};function XD(e,t,i){return t=t||[],i=i||[],e.forEach(r=>{if(Z(r.key)){var n=t.length===1;if(t.push(n?r.key-1:r.key),r.items)XD(r.items,t,i);else{var a=new Date(Date.UTC.apply(Date,t));i.push(a)}t.pop()}else i.push(null)}),i}function Vee(e,t){var i=XD(e),r=cr(i),n=Ee.getHeaderFilterGroupParameters(Ie({},t,{calculateCellValue:a=>a}));return na.queryByOptions(r,{group:n}).toArray()}function $ee(e){return(e==null?void 0:e.slice(-1))==="Z"||(e==null?void 0:e.slice(-3))==="'Z'"}var Hee=ei.ViewController.inherit({init:function(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")},_updateSelectedState:function(e,t){for(var i=e.length,r=t.filterType==="exclude";i--;){var n=e[i];"items"in e[i]&&this._updateSelectedState(e[i].items,t),Fee(n,Ee.getIndexByKey(e[i].value,t.filterValues,null)>-1,r)}},_normalizeGroupItem:function(e,t,i){var r,n,a=i.path,s=i.valueSelector,o=i.displaySelector,l=i.column;return s&&o?(r=s(e),n=o(e)):(r=e.key,n=r),Ge(e)?e=re({},e):e={},a.push(r),a.length===1?e.value=a[0]:e.value=a.join("/"),e.text=this.getHeaderItemText(n,l,t,i.headerFilterOptions),e},getHeaderItemText:function(e,t,i,r){var n=Ee.formatValue(e,function(a,s,o){var l=Qo.getGroupInterval(s),u=Ee.getFormatOptionsByColumn(s,"headerFilter");return l&&(u.groupInterval=l[o],Ee.isDateType(s.dataType)?u.format=Nee[l[o]]:s.dataType==="number"&&(u.getDisplayFormat=function(){var d={format:s.format,target:"headerFilter"},c=Ee.formatValue(a,d),h=a+l[o],f=Ee.formatValue(h,d);return c&&f?c+" - "+f:""})),u}(e,t,i));return n||(n=r.texts.emptyValue),n},_processGroupItems:function(e,t,i,r){var n,a,s=r.column,o=s.lookup,l=r.level;i=i||[],t=t||0,o&&(n=jt(o.displayExpr),a=jt(o.valueExpr));for(var u=0;u<e.length;u++)e[u]=this._normalizeGroupItem(e[u],t,{column:r.column,headerFilterOptions:r.headerFilterOptions,displaySelector:n,valueSelector:a,path:i}),"items"in e[u]&&(t===l||!Z(e[u].value)?delete e[u].items:this._processGroupItems(e[u].items,t+1,i,r)),i.pop()},getDataSource:function(e){var t,i=this._dataController.dataSource(),r=i==null?void 0:i.remoteOperations().grouping,n=Ee.getHeaderFilterGroupParameters(e,r),a=(t=e.headerFilter)===null||t===void 0?void 0:t.dataSource,s=this.option("headerFilter"),o=!1,l={component:this.component};if(i){if(Z(a)&&!Re(a))l.dataSource=hl(a);else if(e.lookup)if(o=!0,this.option("syncLookupFilterValues")){this._currentColumn=e;var u=this._dataController.getCombinedFilter();this._currentColumn=null,l.dataSource=Ee.getWrappedLookupDataSource(e,i,u)}else l.dataSource=Ee.normalizeLookupDataSource(e.lookup);else{var d=Array.isArray(n)?n.length-1:0;this._currentColumn=e;var c=this._dataController.getCombinedFilter();this._currentColumn=null,l.dataSource={filter:c,group:n,useDefaultSearch:!0,load:p=>{var g=new pe;return p.dataField=e.dataField||e.name,i.load(p).done(function(m){var v=r&&$ee(e.serializationFormat)&&d>3;v&&(m=Vee(m,e)),f._processGroupItems(m,null,null,{level:d,column:e,headerFilterOptions:s}),g.resolve(m)}).fail(g.reject),g}}}Re(a)&&a.call(e,l);var h=l.dataSource.postProcess,f=this;return l.dataSource.postProcess=function(p){var g=p;return o&&(this.pageIndex()===0&&!this.searchValue()&&(g=g.slice(0),g.unshift(null)),f._processGroupItems(g,null,null,{level:0,column:e,headerFilterOptions:s})),g=h&&h.call(this,g)||g,f._updateSelectedState(g,e),g},l.dataSource}},getCurrentColumn:function(){return this._currentColumn},showHeaderFilterMenu:function(e,t){var i=this._columnsController,r=re(!0,{},this._columnsController.getColumns()[e]);if(r){var n=i.getVisibleIndex(e),a=t?this.getView("headerPanel"):this.getView("columnHeadersView"),s=s||a.getColumnElements().eq(t?r.groupIndex:n);this.showHeaderFilterMenuBase({columnElement:s,column:r,applyFilter:!0,apply:function(){i.columnOption(e,{filterValues:this.filterValues,filterType:this.filterType})}})}},showHeaderFilterMenuBase:function(e){var t=this,i=e.column;if(i){var r=Qo.getGroupInterval(i),n=t._dataController.dataSource(),a=n&&n.remoteOperations().filtering;re(e,i,{type:r&&r.length>1?"tree":"list",remoteFiltering:a,onShowing:function(s){var o=s.component.$overlayContent().dxResizable("instance");o&&o.option("onResizeEnd",function(l){var u=t.getController("columns"),d=u.columnOption(e.dataField,"headerFilter");d=d||{},d.width=l.width,d.height=l.height,u.columnOption(e.dataField,"headerFilter",d,!0)})},onHidden:()=>t0(this)}),e.dataSource=t.getDataSource(e),e.isFilterBuilder&&(e.dataSource.filter=null,e.alignment="right"),t._headerFilterView.showHeaderFilterMenu(e.columnElement,e)}},hideHeaderFilterMenu:function(){this._headerFilterView.hideHeaderFilterMenu()}}),zee=re({},qD,{_renderCellContent:function(e,t){var i=this,r,n=t.column;!n.command&&Df(n)&&i.option("headerFilter.visible")&&t.rowType==="header"&&(r=i._applyColumnState({name:"headerFilter",rootElement:e,column:n,showColumnLines:i.option("showColumnLines")}),r&&i._subscribeToIndicatorEvent(r,n,"headerFilter")),this.callBase.apply(this,arguments)},_subscribeToIndicatorEvent:function(e,t,i){var r=this;i==="headerFilter"&&te.on(e,Pt,r.createAction(function(n){n.event.stopPropagation(),r.getController("headerFilter").showHeaderFilterMenu(t.index,!1)}))},_updateIndicator:function(e,t,i){var r=this.callBase(e,t,i);r&&this._subscribeToIndicatorEvent(r,t,i)},_updateHeaderFilterIndicators:function(){this.option("headerFilter.visible")&&this._updateIndicators("headerFilter")},_needUpdateFilterIndicators:function(){return!0},_columnOptionChanged:function(e){var t=e.optionNames;if(Ee.checkChanges(t,["filterValues","filterType"])){this._needUpdateFilterIndicators()&&this._updateHeaderFilterIndicators();return}this.callBase(e)}}),Wee=re({},qD,{_createGroupPanelItem:function(e,t){var i=this,r=i.callBase.apply(i,arguments),n;return!t.command&&Df(t)&&i.option("headerFilter.visible")&&(n=i._applyColumnState({name:"headerFilter",rootElement:r,column:{alignment:Za(i.option("rtlEnabled")),filterValues:t.filterValues,allowHeaderFiltering:!0},showColumnLines:!0}),n&&te.on(n,Pt,i.createAction(function(a){var s=a.event;s.stopPropagation(),i.getController("headerFilter").showHeaderFilterMenu(t.index,!0)}))),r}}),jee={skipCalculateColumnFilters:function(){return!1},_calculateAdditionalFilter:function(){if(this.skipCalculateColumnFilters())return this.callBase();var e=[this.callBase()],t=this._columnsController.getVisibleColumns(null,!0),i=this.getController("headerFilter"),r=i.getCurrentColumn();return le(t,function(n,a){var s;if(!(r&&r.index===a.index)&&Df(a)&&a.calculateFilterExpression&&Array.isArray(a.filterValues)&&a.filterValues.length){var o=[];le(a.filterValues,function(l,u){Array.isArray(u)?s=u:(a.deserializeValue&&!Ee.isDateType(a.dataType)&&a.dataType!=="number"&&(u=a.deserializeValue(u)),s=a.createFilterExpression(u,"=","headerFilter")),s&&(s.columnIndex=a.index),o.push(s)}),o=Ee.combineFilters(o,"or"),e.push(a.filterType==="exclude"?["!",o]:o)}}),Ee.combineFilters(e)}},Uee={defaultOptions:function(){return{syncLookupFilterValues:!0,headerFilter:{visible:!1,width:252,height:325,allowSearch:!1,searchTimeout:500,texts:{emptyValue:_e.format("dxDataGrid-headerFilterEmptyValue"),ok:_e.format("dxDataGrid-headerFilterOK"),cancel:_e.format("dxDataGrid-headerFilterCancel")}}}},controllers:{headerFilter:Hee},views:{headerFilterView:Lee},extenders:{controllers:{data:jee},views:{columnHeadersView:zee,headerPanel:Wee}}};Le.registerModule("headerFilter",Uee);var Rf="dx-filterbuilder-range",Gee=Rf+"-start",Kee=Rf+"-end",qee=Rf+"-separator",YD="–";function Xee(e,t){var i=W("<div>").addClass(Gee),r=W("<div>").addClass(Kee),n=e.value||[],a=function(o){return o&&o.length>0?o[0]:null},s=function(o){return o&&o.length===2?o[1]:null};t.append(i),t.append(W("<span>").addClass(qee).text(YD)),t.append(r),t.addClass(Rf),this._editorFactory.createEditor.call(this,i,re({},e.field,e,{value:a(n),parentType:"filterBuilder",setValue:function(o){n=[o,s(n)],e.setValue(n)}})),this._editorFactory.createEditor.call(this,r,re({},e.field,e,{value:s(n),parentType:"filterBuilder",setValue:function(o){n=[a(n),o],e.setValue(n)}}))}function wS(e,t){return{name:"between",caption:e,icon:"range",valueSeparator:YD,dataTypes:["number","date","datetime"],editorTemplate:Xee.bind(t),notForLookup:!0}}var Yee={"=":"equal","<>":"notequal","<":"less","<=":"lessorequal",">":"greater",">=":"greaterorequal",notcontains:"doesnotcontain",contains:"contains",startswith:"startswith",endswith:"endswith",isblank:"isblank",isnotblank:"isnotblank"},Zee={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",isblank:"isBlank",isnotblank:"isNotBlank",between:"between"};const ZD={getIconByFilterOperation:function(e){return Yee[e]},getNameByFilterOperation:function(e){return Zee[e]}};var K0="string",xS="icon-none",ja="and",q0="=",Jee="<>",Qee={number:["=","<>","<",">","<=",">=","isblank","isnotblank"],string:["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"],date:["=","<>","<",">","<=",">=","isblank","isnotblank"],datetime:["=","<>","<",">","<=",">=","isblank","isnotblank"],boolean:["=","<>","isblank","isnotblank"],object:["isblank","isnotblank"]},ete={date:"shortDate",datetime:"shortDateShortTime"},tte=["=","<>","isblank","isnotblank"],ite=["caption","customizeText","dataField","dataType","editorTemplate","falseText","editorOptions","filterOperations","format","lookup","trueText","calculateFilterExpression","name"],rte="dx-filterbuilder",JD=rte+"-text",nte=JD+"-part",QD=JD+"-separator",ate=QD+"-empty";function ste(e,t){var i=e.format||ete[e.dataType];return i2.format(t,i)}function $s(e){return e&&e.length>1&&e[0]==="!"&&!qi(e)}function ts(e){return $s(e)?e[1]:e}function ote(e,t){return $s(e)?e[1]=t:e=t,e}function lte(e,t){(function(i){return i.indexOf("!")!==-1})(t)?$s(e)||function(i){var r=i.slice(0);i.length=0,i.push("!",r)}(e):$s(e)&&function(i){var r=ts(i);i.length=0,[].push.apply(i,r)}(e)}function ute(e,t){lte(e,t);var i=ts(e),r;return t=function(n){return n.indexOf("!")===-1?n:n.substring(1)}(t),function(n,a){for(r=0;r<n.length;r++)Array.isArray(n[r])||(n[r]=a)}(i,t),e}function dte(e,t){var i=no(e);return t.filter(function(r){return r.value===i})[0]}function eR(e){if(qi(e))return ja;for(var t="",i=0;i<e.length;i++){var r=e[i];if(!Array.isArray(r)){if(t&&t!==r)throw new Di.Error("E4019");r!=="!"&&(t=r)}}return t}function no(e){var t=ts(e),i=eR(t);return i||(i=ja),t!==e&&(i="!"+i),i}function hte(e){return e.lookup&&tte||Qee[e.dataType||K0]}function cte(e){return Array.isArray(e)&&e.length}function tR(e){var t=cte(e.filterOperations)?e.filterOperations:hte(e);return re([],t)}function Vv(e,t){var i=ZD.getNameByFilterOperation(e);return t&&t[i]?t[i]:i}function fte(e,t){for(var i=0;i<t.length;i++)if(t[i].value===e)return t[i];throw new gt.Error("E1048",e)}function ea(e,t){var i=e.filter(function(r){return r.name===t});return i.length?i[0]:null}function pte(e,t,i){var r=tR(e),n=!!e.lookup;return i.forEach(function(a){if(!e.filterOperations&&r.indexOf(a.name)===-1){var s=a&&a.dataTypes,o=n?!!a.notForLookup:!1;!o&&s&&s.indexOf(e.dataType||K0)>=0&&r.push(a.name)}}),r.map(function(a){var s=ea(i,a);return s?{icon:s.icon||xS,text:s.caption||Os(s.name),value:s.name,isCustom:!0}:{icon:ZD.getIconByFilterOperation(a)||xS,text:Vv(a,t),value:a}})}function X0(e){return e.defaultFilterOperation||tR(e)[0]}function mte(e,t){var i=[e.dataField,"",""],r=X0(e);return Hv(i,r,t),i}function $v(e,t){var i=ts(e),r=i.indexOf(t);return i.splice(r,1),i.length!==1&&i.splice(r,1),e}function iR(e){var t=Y0(e),i=t?Z0(e):e;return t?["!",[i]]:[i]}function Pc(e,t){var i=ts(t),r=no(i);return i.length===1?i.unshift(e):i.push(e,r),t}function Fc(e,t){for(var i=0;i<t.length;i++)if(t[i].name===e||t[i].dataField.toLowerCase()===e.toLowerCase())return t[i];var r=lR(t,!0).filter(function(n){return n.dataField.toLowerCase()===e.toLowerCase()});if(r.length>0)return r[0];throw new gt.Error("E1047",e)}function is(e){return Array.isArray(e)?e.length<2||Array.isArray(e[0])||Array.isArray(e[1]):!1}function qi(e){return Array.isArray(e)?e.length>1&&!Array.isArray(e[0])&&!Array.isArray(e[1]):!1}function SS(e,t,i){i=i||ja;for(var r=eR(e).toLowerCase()||i,n=[],a=0;a<e.length;a++)is(e[a])?(n.push(J0(e[a],t,i)),n=ug(n,r)):qi(e[a])&&(n.push(Lc(e[a],t)),n=ug(n,r));return n.length===0&&(n=ug(n,r)),n}function gte(e,t){var i=ea(t,e[1]);return i&&i.name===e[1]}function Lc(e,t){return gte(e,t)||e.length<3&&(e[2]=e[1],e[1]=q0),e}function Y0(e){return e.indexOf("not")!==-1}function Z0(e){return e.substring(3).toLowerCase()}function lg(e,t){var i=Y0(t);return t=i?Z0(t):t,i?["!",e,t]:[e,t]}function ug(e,t){var i=Y0(t);t=i?Z0(t):t,e.push(t);var r=e;return i&&(r=["!",r]),r}function J0(e,t,i){return i=i||ja,e?(e=re(!0,[],e),qi(e)?lg(Lc(e,t),i):$s(e)?["!",qi(e[1])?lg(Lc(e[1],t),i):$s(e[1])?lg(J0(e[1],t),i):SS(e[1],t,i)]:SS(e,t,i)):iR(i)}function vte(e){return e.reduce(function(t,i){if(Z(i.dataField)){var r={};for(var n in i)i[n]&&ite.indexOf(n)>-1&&(r[n]=i[n]);r.defaultCalculateFilterExpression=Qo.defaultCalculateFilterExpression,Z(r.dataType)||(r.dataType=K0),Z(r.trueText)||(r.trueText=_e.format("dxDataGrid-trueText")),Z(r.falseText)||(r.falseText=_e.format("dxDataGrid-falseText")),t.push(r)}return t},[])}function ES(e,t,i,r){var n=Fc(e[0],t),a=Lc(e,i),s=i.length&&ea(i,a[1]);return s&&s.calculateFilterExpression?s.calculateFilterExpression.apply(s,[a[2],n,t]):n.createFilterExpression?n.createFilterExpression.apply(n,[a[2],a[1],r]):n.calculateFilterExpression?n.calculateFilterExpression.apply(n,[a[2],a[1],r]):n.defaultCalculateFilterExpression.apply(n,[a[2],a[1],r])}function tl(e,t,i,r){if(!Z(e))return null;if($s(e)){var n=tl(e[1],t,i,r);return["!",n]}var a=ts(e);if(qi(a))return ES(a,t,i,r)||null;for(var s=[],o,l=no(a),u=0;u<a.length;u++)is(a[u])?(o=tl(a[u],t,i,r),o&&(u&&s.push(l),s.push(o))):qi(a[u])&&(o=ES(a[u],t,i,r),o&&(s.length&&s.push(l),s.push(o)));return s.length===1&&(s=s[0]),s.length?s:null}function pu(e){var t=ts(e),i;if(t.length===0)return null;var r=[];for(i=0;i<t.length;i++)if(is(t[i])){var n=pu(t[i]);n?t[i]=n:r.push(t[i])}else qi(t[i])&&(bte(t[i])||r.push(t[i]));for(i=0;i<r.length;i++)$v(t,r[i]);return t.length===1||(t.splice(t.length-1,1),t.length===1&&(e=ote(e,t[0])),e.length===0)?null:e}function rR(e,t,i){if(t===""){i("");return}var r=e.lookup;if(r.items)i(r.calculateCellValue(t)||"");else{var n=Re(r.dataSource)?r.dataSource({}):r.dataSource,a=new In(n);a.loadSingle(r.valueExpr,t).done(function(s){var o="";s&&(o=r.displayExpr?jt(r.displayExpr)(s):s),e.customizeText&&(o=e.customizeText({value:t,valueText:o})),i(o)}).fail(function(){i("")})}}function nR(e,t,i,r,n){var a;return t===!0?a=e.trueText||_e.format("dxDataGrid-trueText"):t===!1?a=e.falseText||_e.format("dxDataGrid-falseText"):a=ste(e,t),e.customizeText&&(a=e.customizeText.call(e,{value:t,valueText:a,target:r})),i&&i.customizeText&&(a=i.customizeText.call(i,{value:t,valueText:a,field:e,target:r},n)),a}function _te(e,t,i,r){var n={values:t};return t.map(a=>nR(e,a,i,r,n))}function dg(e){return e===""||e===null}function aR(e,t,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"filterBuilder";if(dg(t))return"";if(Array.isArray(t)){var n=new pe;return Pe.apply(this,_te(e,t,i,r)).done(function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var l=s.some(u=>!dg(u))?s.map(u=>dg(u)?"?":u):"";n.resolve(l)}),n}else return nR(e,t,i,r)}function IS(e,t){return e.some(function(i){return i.dataField===t})}function sR(e,t,i){var r=i.dataField;Q0(r)&&(i.parentId=uR(r),!IS(t,i.parentId)&&!IS(e,i.parentId)&&sR(e,t,{id:i.parentId,dataType:"object",dataField:i.parentId,caption:oR(i.parentId,!0),filterOperations:["isblank","isnotblank"]})),t.push(i)}function oR(e,t){var i="";if(t)e=e.substring(e.lastIndexOf(".")+1);else if(Q0(e))return e.split(".").forEach(function(r,n,a){i+=Os(r),n!==a.length-1&&(i+=".")}),i;return Os(e)}function lR(e,t){for(var i=[],r=0;r<e.length;r++){var n=re(!0,{caption:oR(e[r].dataField,t)},e[r]);n.id=n.name||n.dataField,t?sR(e,i,n):i.push(n)}return i}function Q0(e){return e.lastIndexOf(".")!==-1}function uR(e){return e.substring(0,e.lastIndexOf("."))}function dR(e,t){if(Q0(e.dataField)){for(var i=uR(e.dataField),r=0;r<t.length;r++)if(t[r].dataField===i)return dR(t[r],t)+"."+e.caption}return e.caption}function Hv(e,t,i){var r=ea(i,t);return r?(r.hasValue===!1?(e[1]=t,e.length=2):(e[1]=t,e[2]=""),e):(t==="isblank"?(e[1]=q0,e[2]=null):t==="isnotblank"?(e[1]=Jee,e[2]=null):(r=ea(i,e[1]),(r||e.length===2||e[2]===null)&&(e[2]=""),e[1]=t),e)}function TS(e){var t;return e[2]===null?e[1]===q0?t="isblank":t="isnotblank":t=e[1],t}function bte(e){return e[2]!==""}function yte(e,t,i){var r=re(!0,[],e),n=-1;return r.some(function(a,s){if(a.name==="between")return n=s,!0}),n!==-1?r[n]=re(wS(t,i),r[n]):r.unshift(wS(t,i)),r}function Mu(e,t){return e[0]===t}function zv(e,t){if(!e||e.length===0)return null;if(qi(e)){var i=Mu(e,t);return i?null:e}else return hR(e,[t],!1)}function hR(e,t,i){var r=[];return e.forEach(function(n){qi(n)?Mu(n,t[0])?i?(r.push(t),i=!1):r.splice(r.length-1,1):r.push(n):(r.length||is(n))&&r.push(n)}),r.length===0?null:(i&&(r.push(ja),r.push(t)),r.length===1?r[0]:r)}function AS(e,t){if(e===null||e.length===0)return t;if(qi(e))return Mu(e,t[0])?t:[e,ja,t];var i=no(e);return i!==ja?[t,"and",e]:hR(e,t,!0)}function Cte(e,t){if(e===null||e.length===0)return[];if(qi(e))return Mu(e,t)?[e]:[];var i=no(e);if(i!==ja)return[];var r=e.filter(function(n){return qi(n)&&Mu(n,t)});return r}function cR(e,t){return e===null||e.length===0?!1:qi(e)?e[0]===t:e.some(function(i){return(qi(i)||is(i))&&cR(i,t)})}var Wv=function(e,t,i){if(Array.isArray(t)){var r=t.length-1;e.empty(),t.forEach((n,a)=>{W("<span>").addClass(nte).text(n).appendTo(e),a!==r&&W("<span>").addClass(QD).text(i&&i.valueSeparator?i.valueSeparator:"|").addClass(ate).appendTo(e)})}else t?e.text(t):e.text(_e.format("dxFilterBuilder-enterValueText"))};function fR(e){var t=function(r,n){return n?n+"/"+r:r},i=e&&e.getController("headerFilter");return{dataTypes:["string","date","datetime","number","boolean","object"],calculateFilterExpression:function(r,n,a){var s=[],o=r.length-1;return r&&r.forEach(function(l,u){if(qi(l)||is(l)){var d=tl(l,a,[],"headerFilter");s.push(d)}else s.push(tl([n.dataField,"=",l],a,[],"headerFilter"));u!==o&&s.push("or")}),s.length===1&&(s=s[0]),s},editorTemplate:function(r,n){var a=W("<div>").addClass("dx-filterbuilder-item-value-text").appendTo(n),s=re(!0,{},e.columnOption(r.field.dataField));return Wv(a,r.text&&r.text.split("|")),s.filterType="include",s.filterValues=r.value?r.value.slice():[],i.showHeaderFilterMenuBase({columnElement:a,column:s,apply:function(){o=this.filterValues,r.setValue(o);var o;i.hideHeaderFilterMenu(),r.closeEditor()},onHidden:function(){r.closeEditor()},isFilterBuilder:!0}),n},customizeText:function(r,n){n=n||{};var a=r.value,s=e.columnOption(r.field.dataField),o=s&&s.headerFilter,l=s&&s.lookup,u=n.values||[a];if(o&&o.dataSource||l&&l.dataSource){var d=new pe,c=n.items||new pe;if(!n.items){s=re({},s,{filterType:"include",filterValues:u});var h=i.getDataSource(s);h.paginate=!1;var f=new In(h),p=f.store().key();if(p){var{values:g}=n;if(g&&g.length>1){var m=g.reduce((b,y)=>(b.length&&b.push("or"),b.push([p,"=",y]),b),[]);f.filter(m)}else f.filter([p,"=",r.value])}else r.field.calculateDisplayValue&&gt.log("W1017");n.items=c,f.load().done(c.resolve)}return c.done(b=>{var y=u.indexOf(r.value);d.resolve(function I(D,N){var z=[];return D.forEach(function(F){if(F.items){var $=I(F.items,t(F.text,N));z=z.concat($)}F.selected&&z.push(t(F.text,N))}),z}(b)[y])}),d}else{var v=i.getHeaderItemText(a,s,0,e.option("headerFilter"));return v}}}}function wte(e){return re(fR(e),{name:"anyof",icon:"selectall",caption:_e.format("dxFilterBuilder-filterOperationAnyOf")})}function xte(e){var t=fR(e);return re({},t,{calculateFilterExpression:function(i,r,n){var a=t.calculateFilterExpression(i,r,n);return!a||a.length===0?null:a[0]==="!"?a:["!",a]},name:"noneof",icon:"unselectall",caption:_e.format("dxFilterBuilder-filterOperationNoneOf")})}var Ste=["=","<>","<","<=",">",">=","notcontains","contains","startswith","endswith","between"],OS="include",mu="exclude";function gn(e){return e.name||e.dataField}function Ete(e){e.forEach(t=>{var i=gn(t);if(!Z(i)&&t.allowFiltering)throw new gt.Error("E1049",t.caption)})}var Ite=ei.Controller.inherit(function(){var e=function(){return{filterType:OS,filterValues:void 0}},t=function(s){var o=s.filterValues||[];return!Qo.getGroupInterval(s)&&!(s.headerFilter&&s.headerFilter.dataSource)||o.length===1&&o[0]===null},i=function(s){var o=s.filterValue;if(Z(o)){var l=s.selectedFilterOperation||s.defaultFilterOperation||X0(s),u=[gn(s),l,s.filterValue];return u}else return null},r=function(s){var o,l,u=s.filterValues;return u?(u.length===1&&t(s)&&!Array.isArray(u[0])?(s.filterType===mu?o="<>":o="=",l=u[0]):(s.filterType===mu?o="noneof":o="anyof",l=u),[gn(s),o,l]):null},n=function(s,o,l){var u=function(d,c){if(!d)return e();var h,f=d[1],p=d[2],g=Array.isArray(p);if(!g&&!t(c))return e();switch(f){case"anyof":case"=":h=OS;break;case"noneof":case"<>":h=mu;break;default:return e()}return{filterType:h,filterValues:g?p:[p]}}(l,o);s.columnOption(gn(o),u)},a=function(s,o,l){var u,d=l==null?void 0:l[1],c=l==null?void 0:l[2],h=o.filterOperations||o.defaultFilterOperations;(!h||h.indexOf(d)>=0||d===o.defaultFilterOperation)&&Ste.indexOf(d)>=0&&c!==null?(d===o.defaultFilterOperation&&!Z(o.selectedFilterOperation)&&(d=o.selectedFilterOperation),u={filterValue:c,selectedFilterOperation:d}):u={filterValue:void 0,selectedFilterOperation:void 0},s.columnOption(gn(o),u)};return{syncFilterValue:function(){var s=this,o=s.getController("columns"),l=o.getFilteringColumns();this._skipSyncColumnOptions=!0,l.forEach(function(u){var d=Cte(s.option("filterValue"),gn(u));if(d.length===1){var c=d[0];n(o,u,c),a(o,u,c)}else Z(u.filterValues)&&n(o,u),Z(u.filterValue)&&a(o,u)}),this._skipSyncColumnOptions=!1},_initSync:function(){var s=this.getController("columns").getColumns(),o=this.getController("data"),l=o.pageIndex();if(Ete(s),!this.option("filterValue")){var u=this.getController("columns").getFilteringColumns(),d=this.getFilterValueFromColumns(u);this.option("filterValue",d)}this.syncFilterValue(),o.pageIndex(l)},init:function(){var s=this.getController("data");s.isFilterSyncActive()&&(this.getController("columns").isAllDataTypesDefined()?this._initSync():s.dataSourceChanged.add(()=>this._initSync()))},_getSyncFilterRow:function(s,o){var l=i(o);return Z(l)?AS(s,l):zv(s,gn(o))},_getSyncHeaderFilter:function(s,o){var l=r(o);return l?AS(s,l):zv(s,gn(o))},getFilterValueFromColumns:function(s){if(!this.getController("data").isFilterSyncActive())return null;var o=["and"];return s&&s.forEach(l=>{var u=r(l),d=i(l);u&&Pc(u,o),d&&Pc(d,o)}),pu(o)},syncFilterRow:function(s,o){this.option("filterValue",this._getSyncFilterRow(this.option("filterValue"),s))},syncHeaderFilter:function(s){this.option("filterValue",this._getSyncHeaderFilter(this.option("filterValue"),s))},getCustomFilterOperations:function(){var s=this.option("filterBuilder.customOperations")||[];return[wte(this.component),xte(this.component)].concat(s)},publicMethods:function(){return["getCustomFilterOperations"]}}}()),Tte={isFilterSyncActive:function(){var e=this.option("filterSyncEnabled");return e==="auto"?this.option("filterPanel.visible"):e},skipCalculateColumnFilters:function(){return Z(this.option("filterValue"))&&this.isFilterSyncActive()},_calculateAdditionalFilter:function(){if(this.option("filterPanel.filterEnabled")===!1)return this.callBase();var e=[this.callBase()],t=this.getController("columns").getFilteringColumns(),i=this.option("filterValue");if(this.isFilterSyncActive()){var r=this.getController("headerFilter").getCurrentColumn();r&&i&&(i=zv(i,gn(r)))}var n=this.getController("filterSync").getCustomFilterOperations(),a=tl(i,t,n,"filterBuilder");return a&&e.push(a),Ee.combineFilters(e)},_parseColumnPropertyName:function(e){var t=e.match(/.*\.(.*)/);return t?t[1]:null},clearFilter:function(e){this.component.beginUpdate(),arguments.length>0?(e==="filterValue"&&this.option("filterValue",null),this.callBase(e)):(this.option("filterValue",null),this.callBase()),this.component.endUpdate()},optionChanged:function(e){switch(e.name){case"filterValue":this._applyFilter(),this.isFilterSyncActive()&&this.getController("filterSync").syncFilterValue(),e.handled=!0;break;case"filterSyncEnabled":e.handled=!0;break;case"columns":if(this.isFilterSyncActive()){var t=this.getController("columns").getColumnByPath(e.fullName),i=this.getController("filterSync");if(t&&!i._skipSyncColumnOptions){var r=this._parseColumnPropertyName(e.fullName);i._skipSyncColumnOptions=!0,r==="filterType"?(mu===e.value||mu===e.previousValue)&&i.syncHeaderFilter(t):r==="filterValues"?i.syncHeaderFilter(t):["filterValue","selectedFilterOperation"].indexOf(r)>-1&&i.syncFilterRow(t,t.filterValue),i._skipSyncColumnOptions=!1}}this.callBase(e);break;default:this.callBase(e)}}},Ate={_isHeaderFilterEmpty:function(e){return this.getController("data").isFilterSyncActive()?!cR(this.option("filterValue"),gn(e)):this.callBase(e)},_needUpdateFilterIndicators:function(){return!this.getController("data").isFilterSyncActive()},optionChanged:function(e){e.name==="filterValue"?this._updateHeaderFilterIndicators():this.callBase(e)}},Ote={defaultOptions:function(){return{filterValue:null,filterSyncEnabled:"auto"}},controllers:{filterSync:Ite},extenders:{controllers:{data:Tte},views:{columnHeadersView:Ate}}};Le.registerModule("filterSync",Ote);var Rr="dx-filterbuilder",il=Rr+"-group",DS=il+"-item",RS=il+"-content",Dte=il+"-operations",Rte=il+"-operation",jv=Rr+"-action",kS=jv+"-icon",kte="dx-icon-plus",Mte="dx-icon-remove",$l=Rr+"-text",Bte=Rr+"-item-field",Pte=Rr+"-item-operation",MS=Rr+"-item-value",Fte=Rr+"-item-value-text",Lte=Rr+"-overlay",Nte=Rr+"-operations",Vte=Rr+"-fields",$te=Rr+"-add-condition",Eh="dx-state-active",Hte=Rr+"-menu-custom-operation",BS="filterBuilder",zte="dx-state-disabled",PS="tab",hg="enter",FS="escape",Wte=[{name:"onEditorPreparing",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onEditorPrepared",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onValueChanged",config:{excludeValidators:["disabled","readOnly"]}}],LS={and:"and",or:"or",notAnd:"!and",notOr:"!or"},jte=wt.inherit(oD),pR=Fi.inherit({_getDefaultOptions:function(){return re(this.callBase(),{onEditorPreparing:null,onEditorPrepared:null,onValueChanged:null,fields:[],groupOperations:["and","or","notAnd","notOr"],maxGroupLevel:void 0,value:null,allowHierarchicalFields:!1,groupOperationDescriptions:{and:_e.format("dxFilterBuilder-and"),or:_e.format("dxFilterBuilder-or"),notAnd:_e.format("dxFilterBuilder-notAnd"),notOr:_e.format("dxFilterBuilder-notOr")},customOperations:[],closePopupOnTargetScroll:!0,filterOperationDescriptions:{between:_e.format("dxFilterBuilder-filterOperationBetween"),equal:_e.format("dxFilterBuilder-filterOperationEquals"),notEqual:_e.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:_e.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:_e.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:_e.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:_e.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:_e.format("dxFilterBuilder-filterOperationStartsWith"),contains:_e.format("dxFilterBuilder-filterOperationContains"),notContains:_e.format("dxFilterBuilder-filterOperationNotContains"),endsWith:_e.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:_e.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:_e.format("dxFilterBuilder-filterOperationIsNotBlank")}})},_optionChanged:function(e){switch(e.name){case"closePopupOnTargetScroll":break;case"onEditorPreparing":case"onEditorPrepared":case"onValueChanged":this._initActions();break;case"customOperations":this._initCustomOperations(),this._invalidate();break;case"fields":case"maxGroupLevel":case"groupOperations":case"allowHierarchicalFields":case"groupOperationDescriptions":case"filterOperationDescriptions":this._invalidate();break;case"value":if(e.value!==e.previousValue){var t=this._disableInvalidateForValue;t||(this._initModel(),this._invalidate()),this._disableInvalidateForValue=!1,this.executeAction("onValueChanged",{value:e.value,previousValue:e.previousValue}),this._disableInvalidateForValue=t}break;default:this.callBase(e)}},getFilterExpression:function(){var e=this._getNormalizedFields(),t=re(!0,[],this._model);return tl(pu(t),e,this._customOperations,BS)},_getNormalizedFields:function(){return vte(this.option("fields"))},_updateFilter:function(){this._disableInvalidateForValue=!0;var e=re(!0,[],this._model),t=pu(e),i=pu(this._getModel(this.option("value")));JSON.stringify(i)!==JSON.stringify(t)&&this.option("value",t),this._disableInvalidateForValue=!1,this._fireContentReadyAction()},_init:function(){this._initCustomOperations(),this._initModel(),this._initEditorFactory(),this._initActions(),this.callBase()},_initEditorFactory:function(){this._editorFactory=new jte},_initCustomOperations:function(){this._customOperations=yte(this.option("customOperations"),this.option("filterOperationDescriptions.between"),this)},_getDefaultGroupOperation:function(){var e,t;return(e=(t=this.option("groupOperations"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:LS.and},_getModel:function(e){return J0(e,this._customOperations,this._getDefaultGroupOperation())},_initModel:function(){this._model=this._getModel(this.option("value"))},_initActions:function(){var e=this;e._actions={},Wte.forEach(function(t){var i=re({},t.config);e._actions[t.name]=e._createActionByOption(t.name,i)})},executeAction:function(e,t){var i=this._actions[e];return i&&i(t)},_initMarkup:function(){this.$element().addClass(Rr),this.callBase(),this._createGroupElementByCriteria(this._model).appendTo(this.$element())},_createConditionElement:function(e,t){return W("<div>").addClass(il).append(this._createConditionItem(e,t))},_createGroupElementByCriteria:function(e,t){for(var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=this._createGroupElement(e,t,i),n=r.find("."+RS),a=ts(e),s=0;s<a.length;s++){var o=a[s];is(o)?this._createGroupElementByCriteria(o,e,i+1).appendTo(n):qi(o)&&this._createConditionElement(o,e).appendTo(n)}return r},_createGroupElement:function(e,t,i){var r=W("<div>").addClass(DS),n=W("<div>").addClass(RS),a=W("<div>").addClass(il).append(r).append(n);return t!=null&&this._createRemoveButton(()=>{$v(t,e),a.remove(),this._updateFilter()}).appendTo(r),this._createGroupOperationButton(e).appendTo(r),this._createAddButton(()=>{var s=iR(this._getDefaultGroupOperation());Pc(s,e),this._createGroupElement(s,e,i+1).appendTo(n),this._updateFilter()},()=>{var s=this.option("fields")[0],o=mte(s,this._customOperations);Pc(o,e),this._createConditionElement(o,e).appendTo(n),this._updateFilter()},i).appendTo(r),a},_createButton:function(e){return W("<div>").text(e)},_createGroupOperationButton:function(e){var t=this._getGroupOperations(e),i=dte(e,t),r=i.text,n=t&&t.length<2?this._createButton(r).addClass(zte):this._createButtonWithMenu({caption:r,menu:{items:t,displayExpr:"text",keyExpr:"value",onItemClick:a=>{i!==a.itemData&&(ute(e,a.itemData.value),n.text(a.itemData.text),i=a.itemData,this._updateFilter())},onContentReady:function(a){a.component.selectItem(i)},cssClass:Dte}});return n.addClass($l).addClass(Rte).attr("tabindex",0)},_createButtonWithMenu:function(e){var t=this,i=function(){t.$element().find("."+Eh).removeClass(Eh),t.$element().find(".dx-overlay .dx-treeview").remove(),t.$element().find(".dx-overlay").remove()},r=this.option("rtlEnabled"),n=r?"right":"left",a=this._createButton(e.caption);re(e.menu,{focusStateEnabled:!0,selectionMode:"single",onItemClick:(s=e.menu.onItemClick,function(o){s(o),o.event.type==="dxclick"&&i()}),onHiding:function(o){a.removeClass(Eh)},position:{my:n+" top",at:n+" bottom",offset:"0 1",of:a,collision:"flip"},animation:null,onHidden:function(){i()},cssClass:Lte+" "+e.menu.cssClass,rtlEnabled:r});var s;return e.popup={onShown:function(o){var l=W(o.component.content()).find(".dx-treeview"),u=l.dxTreeView("instance");te.on(l,"keyup keydown",function(d){var c=hi(d);(d.type==="keydown"&&c===PS||d.type==="keyup"&&(c===FS||c===hg))&&(o.component.hide(),te.trigger(e.menu.position.of,"focus"))}),u.focus(),u.option("focusedElement",null)}},this._subscribeOnClickAndEnterKey(a,function(){i(),t._createPopupWithTreeView(e,t.$element()),a.addClass(Eh)}),a},_hasValueButton:function(e){var t=ea(this._customOperations,e[1]);return t?t.hasValue!==!1:e[2]!==null},_createOperationButtonWithMenu:function(e,t){var i=this,r=pte(t,this.option("filterOperationDescriptions"),this._customOperations),n=fte(TS(e),r),a=this._createButtonWithMenu({caption:n.text,menu:{items:r,displayExpr:"text",onItemRendered:function(s){s.itemData.isCustom&&W(s.itemElement).addClass(Hte)},onContentReady:function(s){s.component.selectItem(n)},onItemClick:s=>{if(n!==s.itemData){n=s.itemData,Hv(e,n.value,i._customOperations);var o=a.siblings().filter("."+MS);i._hasValueButton(e)?(o.length!==0&&o.remove(),i._createValueButton(e,t).appendTo(a.parent())):o.remove(),a.html(n.text),this._updateFilter()}},cssClass:Nte}}).addClass($l).addClass(Pte).attr("tabindex",0);return a},_createOperationAndValueButtons:function(e,t,i){this._createOperationButtonWithMenu(e,t).appendTo(i),this._hasValueButton(e)&&this._createValueButton(e,t).appendTo(i)},_createFieldButtonWithMenu:function(e,t,i){var r=this,n=this.option("allowHierarchicalFields"),a=lR(e,n),s=Fc(i.name||i.dataField,a),o=function(u,d){return n?dR(u,d):u.caption},l=this._createButtonWithMenu({caption:o(s,a),menu:{items:a,dataStructure:"plain",keyExpr:"id",parentId:"parentId",displayExpr:"caption",onItemClick:u=>{if(s!==u.itemData){s=u.itemData,t[0]=s.name||s.dataField,t[2]=s.dataType==="object"?null:"",Hv(t,X0(s),r._customOperations),l.siblings().filter("."+$l).remove(),r._createOperationAndValueButtons(t,s,l.parent());var d=o(s,u.component.option("items"));l.html(d),this._updateFilter()}},onContentReady:function(u){u.component.selectItem(s)},cssClass:Vte}}).addClass($l).addClass(Bte).attr("tabindex",0);return l},_createConditionItem:function(e,t){var i=W("<div>").addClass(DS),r=this._getNormalizedFields(),n=Fc(e[0],r);return this._createRemoveButton(()=>{$v(t,e);var a=i.parent().children().length===1;a?i.parent().remove():i.remove(),this._updateFilter()}).appendTo(i),this._createFieldButtonWithMenu(r,e,n).appendTo(i),this._createOperationAndValueButtons(e,n,i),i},_getGroupOperations:function(e){var t=this.option("groupOperations"),i=this.option("groupOperationDescriptions");return(!t||!t.length)&&(t=[no(e).replace("!","not")]),t.map(r=>({text:i[r],value:LS[r]}))},_createRemoveButton:function(e){var t=W("<div>").addClass(kS).addClass(Mte).addClass(jv).attr("tabindex",0);return this._subscribeOnClickAndEnterKey(t,e),t},_createAddButton:function(e,t,i){var r,n=this.option("maxGroupLevel");return Z(n)&&i>=n?(r=this._createButton(),this._subscribeOnClickAndEnterKey(r,t)):r=this._createButtonWithMenu({menu:{items:[{caption:_e.format("dxFilterBuilder-addCondition"),click:t},{caption:_e.format("dxFilterBuilder-addGroup"),click:e}],displayExpr:"caption",onItemClick:function(a){a.itemData.click()},cssClass:$te}}),r.addClass(kS).addClass(kte).addClass(jv).attr("tabindex",0)},_createValueText:function(e,t,i){var r=this,n=W("<div>").html("&nbsp;").addClass(Fte).attr("tabindex",0).appendTo(i),a=e[2],s=ea(r._customOperations,e[1]);return!s&&t.lookup?rR(t,a,function(o){Wv(n,o)}):Pe(aR(t,a,s)).done(o=>{Wv(n,o,s)}),r._subscribeOnClickAndEnterKey(n,function(o){o.type==="keyup"&&o.stopPropagation(),r._createValueEditorWithEvents(e,t,i)}),n},_updateConditionValue:function(e,t,i){var r=e[2]!==t;r&&(e[2]=t),i(),this._updateFilter()},_addDocumentKeyUp:function(e,t){var i=!1,r=!1,n=we.getDocument(),a=o=>{if(i||r){r=!1;return}t(o)};te.on(n,"keyup",a);var s=e.find("input");te.on(s,"compositionstart",()=>{i=!0}),te.on(s,"compositionend",()=>{i=!1,r=!0}),te.on(s,"keydown",o=>{o.which!==229&&(r=!1)}),this._documentKeyUpHandler=a},_addDocumentClick:function(e,t){var i=we.getDocument(),r=n=>{this._isFocusOnEditorParts(e,n.target)||(te.trigger(e.find("input"),"change"),t())};te.on(i,"dxpointerdown",r),this._documentClickHandler=r},_isFocusOnEditorParts:function(e,t){var i=t||we.getActiveElement();return W(i).closest(e.children()).length||W(i).closest(".dx-dropdowneditor-overlay").length},_removeEvents:function(){var e=we.getDocument();Z(this._documentKeyUpHandler)&&te.off(e,"keyup",this._documentKeyUpHandler),Z(this._documentClickHandler)&&te.off(e,"dxpointerdown",this._documentClickHandler)},_dispose:function(){this._removeEvents(),this.callBase()},_createValueEditorWithEvents:function(e,t,i){var r=e[2],n=()=>(i.empty(),this._removeEvents(),this._createValueText(e,t,i)),a=()=>{this._updateConditionValue(e,r,function(){n()})},s={value:r===""?null:r,filterOperation:TS(e),setValue:function(l){r=l===null?"":l},closeEditor:a,text:i.text()};i.empty();var o=this._createValueEditor(i,t,s);te.trigger(o.find("input").not(":hidden").eq(0),"focus"),this._removeEvents(),this._addDocumentClick(o,a),this._addDocumentKeyUp(o,l=>{var u=hi(l);if(u===PS){if(this._isFocusOnEditorParts(o))return;this._updateConditionValue(e,r,function(){n(),l.shiftKey&&te.trigger(i.prev(),"focus")})}u===FS&&te.trigger(n(),"focus"),u===hg&&this._updateConditionValue(e,r,function(){te.trigger(n(),"focus")})}),this._fireContentReadyAction()},_createValueButton:function(e,t){var i=W("<div>").addClass($l).addClass(MS);return this._createValueText(e,t,i),i},_createValueEditor:function(e,t,i){var r=W("<div>").attr("tabindex",0).appendTo(e),n=ea(this._customOperations,i.filterOperation),a=n&&n.editorTemplate?n.editorTemplate:t.editorTemplate;if(a){var s=this._getTemplate(a);s.render({model:re({field:t},i),container:r})}else this._editorFactory.createEditor.call(this,r,re({},t,i,{parentType:BS}));return r},_createPopupWithTreeView:function(e,t){var i=this,r=W("<div>").addClass(e.menu.cssClass).appendTo(t);this._createComponent(r,kn,{wrapperAttr:{class:e.menu.cssClass},onHiding:e.menu.onHiding,onHidden:e.menu.onHidden,rtlEnabled:e.menu.rtlEnabled,position:e.menu.position,animation:e.menu.animation,contentTemplate:function(n){var a=W("<div>").appendTo(n);i._createComponent(a,vd,e.menu),this.repaint()},_ignoreFunctionValueDeprecation:!0,maxHeight:function(){return UD(e.menu.position.of)},visible:!0,focusStateEnabled:!1,hideOnParentScroll:this.option("closePopupOnTargetScroll"),hideOnOutsideClick:!0,onShown:e.popup.onShown,shading:!1,width:"auto",height:"auto",showTitle:!1})},_subscribeOnClickAndEnterKey:function(e,t){te.on(e,"dxclick",t),te.on(e,"keyup",function(i){hi(i)===hg&&t(i)})}});yt("dxFilterBuilder",pR);var Ute=ei.View.inherit({_renderCore:function(){this._updatePopupOptions()},_updatePopupOptions:function(){this.option("filterBuilderPopup.visible")?this._initPopup():this._filterBuilderPopup&&this._filterBuilderPopup.hide()},_disposePopup:function(){this._filterBuilderPopup&&(this._filterBuilderPopup.dispose(),this._filterBuilderPopup=void 0),this._filterBuilder&&(this._filterBuilder.dispose(),this._filterBuilder=void 0)},_initPopup:function(){var e=this;e._disposePopup(),e._filterBuilderPopup=e._createComponent(e.element(),kn,re({title:_e.format("dxDataGrid-filterBuilderPopupTitle"),contentTemplate:function(t){return e._getPopupContentTemplate(t)},onOptionChanged:function(t){t.name==="visible"&&e.option("filterBuilderPopup.visible",t.value)},toolbarItems:e._getPopupToolbarItems()},e.option("filterBuilderPopup"),{onHidden:function(t){t0(e),e._disposePopup()}}))},_getPopupContentTemplate:function(e){var t=W(e),i=W("<div>").appendTo(W(e));this._filterBuilder=this._createComponent(i,pR,re({value:this.option("filterValue"),fields:this.getController("columns").getFilteringColumns()},this.option("filterBuilder"),{customOperations:this.getController("filterSync").getCustomFilterOperations()})),this._createComponent(t,D0,{direction:"both"})},_getPopupToolbarItems:function(){var e=this;return[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:_e.format("OK"),onClick:function(t){var i=e._filterBuilder.option("value");e.option("filterValue",i),e._filterBuilderPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:_e.format("Cancel"),onClick:function(t){e._filterBuilderPopup.hide()}}}]},optionChanged:function(e){switch(e.name){case"filterBuilder":case"filterBuilderPopup":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}}),Gte={defaultOptions:function(){return{filterBuilder:{groupOperationDescriptions:{and:_e.format("dxFilterBuilder-and"),or:_e.format("dxFilterBuilder-or"),notAnd:_e.format("dxFilterBuilder-notAnd"),notOr:_e.format("dxFilterBuilder-notOr")},filterOperationDescriptions:{between:_e.format("dxFilterBuilder-filterOperationBetween"),equal:_e.format("dxFilterBuilder-filterOperationEquals"),notEqual:_e.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:_e.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:_e.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:_e.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:_e.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:_e.format("dxFilterBuilder-filterOperationStartsWith"),contains:_e.format("dxFilterBuilder-filterOperationContains"),notContains:_e.format("dxFilterBuilder-filterOperationNotContains"),endsWith:_e.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:_e.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:_e.format("dxFilterBuilder-filterOperationIsNotBlank")}},filterBuilderPopup:{}}},views:{filterBuilderView:Ute}};Le.registerModule("filterBuilder",Gte);var _d="filter-panel",Kte=_d+"-text",qte=_d+"-checkbox",Xte=_d+"-clear-filter",Yte=_d+"-left",Zte="filterPanel",Jte=ei.View.inherit({isVisible:function(){return this.option("filterPanel.visible")&&this.getController("data").dataSource()},init:function(){this.getController("data").dataSourceChanged.add(()=>this.render())},_renderCore:function(){var e=this.element();e.empty().addClass(this.addWidgetPrefix(_d));var t=W("<div>").addClass(this.addWidgetPrefix(Yte)).appendTo(e);this.option("filterValue")||this._filterValueBuffer?(t.append(this._getCheckElement()).append(this._getFilterElement()).append(this._getTextElement()),e.append(this._getRemoveButtonElement())):t.append(this._getFilterElement()).append(this._getTextElement())},_getCheckElement:function(){var e=this,t=W("<div>").addClass(this.addWidgetPrefix(qte));return e._createComponent(t,Vs,{value:e.option("filterPanel.filterEnabled"),onValueChanged:function(i){e.option("filterPanel.filterEnabled",i.value)}}),t.attr("title",this.option("filterPanel.texts.filterEnabledHint")),t},_getFilterElement:function(){var e=this,t=W("<div>").addClass("dx-icon-filter");return te.on(t,"click",()=>e._showFilterBuilder()),lu("filterPanel",e,t,void 0,()=>e._showFilterBuilder()),e._addTabIndexToElement(t),t},_getTextElement:function(){var e=this,t=W("<div>").addClass(e.addWidgetPrefix(Kte)),i,r=e.option("filterValue");return r?Pe(e.getFilterText(r,e.getController("filterSync").getCustomFilterOperations())).done(function(n){var a=e.option("filterPanel.customizeText");if(a){var s=a({component:e.component,filterValue:r,text:n});typeof s=="string"&&(n=s)}t.text(n)}):(i=e.option("filterPanel.texts.createFilter"),t.text(i)),te.on(t,"click",()=>e._showFilterBuilder()),lu("filterPanel",e,t,void 0,()=>e._showFilterBuilder()),e._addTabIndexToElement(t),t},_showFilterBuilder:function(){this.option("filterBuilderPopup.visible",!0)},_getRemoveButtonElement:function(){var e=this,t=()=>e.option("filterValue",null),i=W("<div>").addClass(e.addWidgetPrefix(Xte)).text(e.option("filterPanel.texts.clearFilter"));return te.on(i,"click",t),lu("filterPanel",this,i,void 0,t),e._addTabIndexToElement(i),i},_addTabIndexToElement:function(e){if(!this.option("useLegacyKeyboardNavigation")){var t=this.option("tabindex")||0;e.attr("tabindex",t)}},optionChanged:function(e){switch(e.name){case"filterValue":this._invalidate(),this.option("filterPanel.filterEnabled",!0),e.handled=!0;break;case"filterPanel":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}},_getConditionText:function(e,t,i){var r="[".concat(e,"] ").concat(t);return Z(i)&&(r+=i),r},_getValueMaskedText:function(e){return Array.isArray(e)?"('".concat(e.join("', '"),"')"):" '".concat(e,"'")},_getValueText:function(e,t,i){var r=new pe,n=t&&t.customizeText;if(Z(i)||n)if(!n&&e.lookup)rR(e,i,s=>{r.resolve(this._getValueMaskedText(s))});else{var a=Array.isArray(i)?i:Ee.getDisplayValue(e,i);Pe(aR(e,a,t,Zte)).done(s=>{r.resolve(this._getValueMaskedText(s))})}else r.resolve("");return r.promise()},getConditionText:function(e,t){var i=this,r=e[1],n=new pe,a=ea(t.customOperations,r),s,o=Fc(e[0],t.columns),l=o.caption||"",u=e[2];return a?s=a.caption||Os(a.name):u===null?s=Vv(r==="="?"isblank":"isnotblank",t.filterOperationDescriptions):s=Vv(r,t.filterOperationDescriptions),this._getValueText(o,a,u).done(d=>{n.resolve(i._getConditionText(l,s,d))}),n},getGroupText:function(e,t,i){var r=this,n=new pe,a=[],s=no(e);return e.forEach(o=>{qi(o)?a.push(r.getConditionText(o,t)):is(o)&&a.push(r.getGroupText(o,t,!0))}),Pe.apply(this,a).done(function(){for(var o,l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];if(s[0]==="!"){var c=t.groupOperationDescriptions["not"+s.substring(1,2).toUpperCase()+s.substring(2)].split(" ");o="".concat(c[0]," ").concat(u[0])}else o=u.join(" ".concat(t.groupOperationDescriptions[s]," "));i&&(o="(".concat(o,")")),n.resolve(o)}),n},getFilterText:function(e,t){var i={customOperations:t,columns:this.getController("columns").getFilteringColumns(),filterOperationDescriptions:this.option("filterBuilder.filterOperationDescriptions"),groupOperationDescriptions:this.option("filterBuilder.groupOperationDescriptions")};return qi(e)?this.getConditionText(e,i):this.getGroupText(e,i)}}),Qte={defaultOptions:function(){return{filterPanel:{visible:!1,filterEnabled:!0,texts:{createFilter:_e.format("dxDataGrid-filterPanelCreateFilter"),clearFilter:_e.format("dxDataGrid-filterPanelClearFilter"),filterEnabledHint:_e.format("dxDataGrid-filterPanelFilterEnabledHint")}}}},views:{filterPanelView:Jte},extenders:{controllers:{data:{optionChanged:function(e){switch(e.name){case"filterPanel":this._applyFilter(),e.handled=!0;break;default:this.callBase(e)}}}}}};Le.registerModule("filterPanel",Qte);var NS="search-panel",VS="search-text",eie="header-panel",tie=700;function $S(e){return Z(e.allowSearch)?e.allowSearch:e.allowFiltering}function HS(e,t){var i=e.lookup;return e.parseValue?i?e.parseValue.call(i,t):e.parseValue(t):t}var iie={defaultOptions:function(){return{searchPanel:{visible:!1,width:160,placeholder:_e.format("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,highlightCaseSensitive:!1,text:"",searchVisibleColumnsOnly:!1}}},extenders:{controllers:{data:{publicMethods:function(){return this.callBase().concat(["searchByText"])},_calculateAdditionalFilter:function(){var e=this.callBase(),t=function(i,r){var n,a,s=i._columnsController.getColumns(),o=i.option("searchPanel.searchVisibleColumnsOnly"),l,u=[];if(!r)return null;function d(h){for(var f=jt(l.valueExpr),p=0;p<h.length;p++){var g=f(h[p]);u.push(a.createFilterExpression(g,null,"search"))}}for(n=0;n<s.length;n++)if(a=s[n],!(o&&!a.visible)&&$S(a)&&a.calculateFilterExpression){l=a.lookup;var c=HS(a,r);l&&l.items?cr(l.items).filter(a.createFilterExpression.call({dataField:l.displayExpr,dataType:l.dataType,calculateFilterExpression:a.calculateFilterExpression},c,null,"search")).enumerate().done(d):c!==void 0&&u.push(a.createFilterExpression(c,null,"search"))}return u.length===0?["!"]:Ee.combineFilters(u,"or")}(this,this.option("searchPanel.text"));return Ee.combineFilters([e,t])},searchByText:function(e){this.option("searchPanel.text",e)},optionChanged:function(e){switch(e.fullName){case"searchPanel.text":case"searchPanel":this._applyFilter(),e.handled=!0;break;default:this.callBase(e)}}}},views:{headerPanel:function(){var e=function(t){return t.option("searchPanel")};return{_getToolbarItems:function(){var t=this.callBase();return this._prepareSearchItem(t)},_prepareSearchItem:function(t){var i=this,r=i.getController("data"),n=e(i);if(n&&n.visible){var a={template:function(s,o,l){var u=W("<div>").addClass(i.addWidgetPrefix(NS)).appendTo(l);i.getController("editorFactory").createEditor(u,{width:n.width,placeholder:n.placeholder,parentType:"searchPanel",value:i.option("searchPanel.text"),updateValueTimeout:tie,setValue:function(d){r.searchByText(d)},editorOptions:{inputAttr:{"aria-label":_e.format("".concat(i.component.NAME,"-ariaSearchInGrid"))}}}),i.resize()},name:"searchPanel",location:"after",locateInMenu:"never",sortIndex:40};t.push(a)}return t},getSearchTextEditor:function(){var t=this,i=t.element(),r=i.find("."+t.addWidgetPrefix(NS)).filter(function(){return W(this).closest("."+t.addWidgetPrefix(eie)).is(i)});return r.length?r.dxTextBox("instance"):null},isVisible:function(){var t=e(this);return this.callBase()||t&&t.visible},optionChanged:function(t){if(t.name==="searchPanel"){if(t.fullName==="searchPanel.text"){var i=this.getSearchTextEditor();i&&i.option("value",t.value)}else this._invalidate();t.handled=!0}else this.callBase(t)}}}(),rowsView:{init:function(){this.callBase.apply(this,arguments),this._searchParams=[]},_getFormattedSearchText:function(e,t){var i=HS(e,t),r=Ee.getFormatOptionsByColumn(e,"search");return Ee.formatValue(i,r)},_getStringNormalizer:function(){var e=this.option("searchPanel.highlightCaseSensitive");return function(t){return e?t:t.toLowerCase()}},_findHighlightingTextNodes:function(e,t,i){var r,n=t.parent(),a,s=this._getStringNormalizer(),o=s(i),l=[];if(!n.length)n=W("<div>").append(t);else if(e)if(e.groupIndex>=0&&!e.showWhenGrouped)a=t;else{var u=this._columnsController.getVisibleIndex(e.index);a=n.children("td").eq(u).find("*")}return a=(r=a)!==null&&r!==void 0&&r.length?a:n.find("*"),a.each(function(d,c){for(var h=W(c).contents(),f=0;f<h.length;f++){var p=h.get(f);if(p.nodeType===3){var g=s(p.textContent||p.nodeValue);g.indexOf(o)>-1&&l.push(p)}}}),l},_highlightSearchTextCore:function(e,t){var i=W("<span>").addClass(this.addWidgetPrefix(VS)),r=e.text(),n=e[0],a=this._getStringNormalizer(),s=a(r).indexOf(a(t));if(s>=0)return n.textContent?n.textContent=r.substr(0,s):n.nodeValue=r.substr(0,s),e.after(i.text(r.substr(s,t.length))),e=W(we.createTextNode(r.substr(s+t.length))).insertAfter(i),this._highlightSearchTextCore(e,t)},_highlightSearchText:function(e,t,i){var r=this,n=this._getStringNormalizer(),a=r.option("searchPanel.text");if(t&&i&&(a=a&&r._getFormattedSearchText(i,a)),a&&r.option("searchPanel.highlightSearchText")){var s=r._findHighlightingTextNodes(i,e,a);s.forEach(o=>{t?n(W(o).text())===n(a)&&W(o).replaceWith(W("<span>").addClass(r.addWidgetPrefix(VS)).text(W(o).text())):r._highlightSearchTextCore(W(o),a)})}},_renderCore:function(){this.callBase.apply(this,arguments),(this.option().rowTemplate||this.option("dataRowTemplate"))&&(this.option("templatesRenderAsynchronously")?(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout((function(){this._highlightSearchText(this.getTableElement())}).bind(this))):this._highlightSearchText(this.getTableElement()))},_updateCell:function(e,t){var i=t.column,r=i.lookup&&i.lookup.dataType||i.dataType,n=r!=="string";$S(i)&&!t.isOnForm&&(this.option("templatesRenderAsynchronously")?(this._searchParams.length||(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout((function(){this._searchParams.forEach((function(a){this._highlightSearchText.apply(this,a)}).bind(this)),this._searchParams=[]}).bind(this))),this._searchParams.push([e,n,i])):this._highlightSearchText(e,n,i)),this.callBase(e,t)},dispose:function(){clearTimeout(this._highlightTimer),this.callBase()}}}}};Le.registerModule("search",iie);class rie extends fd{_optionChanged(t){switch(t.name){case"pageIndex":var i=this.option("pageIndexChanged");i&&i(t.value);break;case"pageSize":var r=this.option("pageSizeChanged");r&&r(t.value)}super._optionChanged(t)}}function Nc(e,t){var i,r=(i=$O(t))!==null&&i!==void 0?i:{};return vO(r[e])}function eu(e){return Nc("width",e)}function mR(e){return Nc("minWidth",e)}var nie=["contentTemplate","pagerProps"],aie=e=>{var{contentAttributes:t,infoTextRef:i,infoTextVisible:r,isLargeDisplayMode:n,pageSizesRef:a,pagesRef:s,parentRef:o,props:{contentTemplate:l}}=e;return l(Ie({rootElementRef:o,pageSizesRef:a,infoTextRef:i,pagesRef:s,infoTextVisible:r,isLargeDisplayMode:n},t))};function sie(e){var{pageSizes:t,pages:i,parent:r}=e;return r-(t+i)>0}function oie(e){var{info:t,pageSizes:i,pages:r,parent:n}=e,a=i+r+t;return n-a>0}function lie(e){var{info:t,pageSizes:i,pages:r,parent:n}=e,a=eu(n),s=eu(i),o=eu(t),l=eu(r);return{parent:a,pageSizes:s,info:o+Nc("marginLeft",t)+Nc("marginRight",t),pages:l}}var uie={},die=e=>e&&(e.defaultProps?t=>yr(Zt(2,e,Ie({},t))):e);class gR extends Rn{constructor(t){super(t),this.parentRef=Ui(),this.pageSizesRef=Ui(),this.infoTextRef=Ui(),this.pagesRef=Ui(),this.actualIsLargeDisplayMode=!0,this.actualInfoTextVisible=!0,this.state={infoTextVisible:!0,isLargeDisplayMode:!0},this.subscribeToResize=this.subscribeToResize.bind(this),this.effectUpdateChildProps=this.effectUpdateChildProps.bind(this),this.updateAdaptivityProps=this.updateAdaptivityProps.bind(this)}createEffects(){return[new ri(this.subscribeToResize,[this.state.infoTextVisible,this.state.isLargeDisplayMode]),new ri(this.effectUpdateChildProps,[this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])]}updateEffects(){var t,i;(t=this._effects[0])===null||t===void 0||t.update([this.state.infoTextVisible,this.state.isLargeDisplayMode]),(i=this._effects[1])===null||i===void 0||i.update([this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])}subscribeToResize(){var t=()=>{this.parentWidth>0&&this.updateAdaptivityProps()};return Ds.add(t),()=>{Ds.remove(t)}}effectUpdateChildProps(){this.parentWidth>0&&this.updateAdaptivityProps()}get contentAttributes(){var{className:t,displayMode:i,gridCompatibility:r,hasKnownLastPage:n,infoText:a,label:s,lightModeEnabled:o,maxPagesCount:l,onKeyDown:u,pageCount:d,pageIndex:c,pageIndexChange:h,pageSize:f,pageSizeChange:p,pageSizes:g,pagesCountText:m,pagesNavigatorVisible:v,rtlEnabled:b,showInfo:y,showNavigationButtons:I,showPageSizes:D,totalCount:N,visible:z}=this.props.pagerProps;return Ie({},this.restAttributes,{pageSize:f,pageIndex:c,pageIndexChange:h,pageSizeChange:p,gridCompatibility:r,className:t,showInfo:y,infoText:a,lightModeEnabled:o,displayMode:i,maxPagesCount:l,pageCount:d,pagesCountText:m,visible:z,hasKnownLastPage:n,pagesNavigatorVisible:v,showPageSizes:D,pageSizes:g,rtlEnabled:b,showNavigationButtons:I,totalCount:N,onKeyDown:u,label:s})}get parentWidth(){return this.parentRef.current?eu(this.parentRef.current):0}updateAdaptivityProps(){var t=lie({parent:this.parentRef.current,pageSizes:this.pageSizesRef.current,info:this.infoTextRef.current,pages:this.pagesRef.current});if(!(this.actualInfoTextVisible!==this.state.infoTextVisible||this.actualIsLargeDisplayMode!==this.state.isLargeDisplayMode)){var i=!Z(this.elementsWidth);i&&(this.elementsWidth={}),(i||this.state.isLargeDisplayMode)&&(this.elementsWidth.pageSizes=t.pageSizes,this.elementsWidth.pages=t.pages),(i||this.state.infoTextVisible)&&(this.elementsWidth.info=t.info),this.actualIsLargeDisplayMode=sie(Ie({parent:t.parent},{pageSizes:this.elementsWidth.pageSizes,pages:this.elementsWidth.pages})),this.actualInfoTextVisible=oie(Ie({},t,{info:this.elementsWidth.info})),this.setState(r=>({infoTextVisible:this.actualInfoTextVisible})),this.setState(r=>({isLargeDisplayMode:this.actualIsLargeDisplayMode}))}}get restAttributes(){var t=this.props,i=ai(t,nie);return i}render(){var t=this.props;return aie({props:Ie({},t,{contentTemplate:die(t.contentTemplate)}),infoTextVisible:this.state.infoTextVisible,isLargeDisplayMode:this.state.isLargeDisplayMode,parentRef:this.parentRef,pageSizesRef:this.pageSizesRef,infoTextRef:this.infoTextRef,pagesRef:this.pagesRef,contentAttributes:this.contentAttributes,parentWidth:this.parentWidth,updateAdaptivityProps:this.updateAdaptivityProps,restAttributes:this.restAttributes})}}gR.defaultProps=uie;var vR={gridCompatibility:!0,showInfo:!1,displayMode:"adaptive",maxPagesCount:10,pageCount:10,visible:!0,hasKnownLastPage:!0,pagesNavigatorVisible:"auto",showPageSizes:!0,pageSizes:Object.freeze([5,10]),showNavigationButtons:!1,totalCount:0,get label(){return _e.format("dxPager-ariaLabel")}},hie=Object.create(Object.prototype,Ie(Object.getOwnPropertyDescriptors(vR),Object.getOwnPropertyDescriptors({defaultPageSize:5,pageSizeChange:()=>{},defaultPageIndex:1,pageIndexChange:()=>{}}))),$i=Object.create(Object.prototype,Ie(Object.getOwnPropertyDescriptors(vR),Object.getOwnPropertyDescriptors({pageSize:5,pageIndex:1}))),cie=["infoText","pageCount","pageIndex","rootElementRef","totalCount"],_R="dx-info",fie=e=>{var{props:{rootElementRef:t},text:i}=e;return Ci(1,"div",_R,i,0,null,null,t)},pie={get pageIndex(){return $i.pageIndex},get pageCount(){return $i.pageCount},get totalCount(){return $i.totalCount}};class bR extends Kr{constructor(t){super(t),this.state={}}get infoText(){var t;return((t=this.props.infoText)!==null&&t!==void 0?t:"")||_e.getFormatter("dxPager-infoText")()}get text(){var{pageCount:t,pageIndex:i,totalCount:r}=this.props;return sn(this.infoText,(i+1).toString(),t.toString(),r.toString())}get restAttributes(){var t=this.props,i=ai(t,cie);return i}render(){var t=this.props;return fie({props:Ie({},t),infoText:this.infoText,text:this.text,restAttributes:this.restAttributes})}}bR.defaultProps=pie;var mie=KA(void 0),gie=["children","className","label","onClick","selected","tabIndex"],vie=e=>{var{props:{children:t,className:i,label:r,selected:n,tabIndex:a},widgetRef:s}=e;return Ci(1,"div",i,t,0,{tabIndex:a,role:"button","aria-label":r,"aria-current":n?"page":void 0},null,s)},_ie={className:"",label:"",tabIndex:0,selected:!1};class Bu extends Rn{constructor(t){super(t),this.state={},this.widgetRef=Ui(),this.keyboardEffect=this.keyboardEffect.bind(this),this.subscribeToClick=this.subscribeToClick.bind(this)}get keyboardContext(){return"KeyboardActionContext"in this.context?this.context.KeyboardActionContext:mie}createEffects(){return[new ri(this.keyboardEffect,[this.keyboardContext,this.props.onClick]),new ri(this.subscribeToClick,[this.props.onClick])]}updateEffects(){var t,i;(t=this._effects[0])===null||t===void 0||t.update([this.keyboardContext,this.props.onClick]),(i=this._effects[1])===null||i===void 0||i.update([this.props.onClick])}keyboardEffect(){return this.keyboardContext.registerKeyboardAction(this.widgetRef.current,this.props.onClick)}subscribeToClick(){return BH(this.widgetRef.current,this.props.onClick)}get restAttributes(){var t=this.props,i=ai(t,gie);return i}render(){var t=this.props;return vie({props:Ie({},t),widgetRef:this.widgetRef,keyboardContext:this.keyboardContext,restAttributes:this.restAttributes})}}Bu.defaultProps=_ie;var bie="dx-pager",yie="dx-light-mode",Cie="dx-pages",wie="dx-page-indexes",xie="dx-page",yR="dx-selection",CR="dx-page-size",Sie="dx-page-sizes",Eie="".concat(CR," ").concat(yR),Iie="dx-first-child",Tie=["className","index","onClick","selected"],Aie=e=>{var{className:t,label:i,props:{onClick:r,selected:n},value:a}=e;return Zt(2,Bu,{className:t,label:i,onClick:r,selected:n,children:a})},Oie={index:0,selected:!1,className:xie};class eb extends Kr{constructor(t){super(t),this.state={}}get label(){return sn(_e.getFormatter("dxPager-page"),this.value)}get value(){return this.props.index+1}get className(){var{selected:t}=this.props;return $r({["".concat(this.props.className)]:!!this.props.className,[yR]:!!t})}get restAttributes(){var t=this.props,i=ai(t,Tie);return i}render(){var t=this.props;return Aie({props:Ie({},t),label:this.label,value:this.value,className:this.className,restAttributes:this.restAttributes})}}eb.defaultProps=Oie;var Die=["pageIndexes"],Rie=["maxPagesCount","pageCount","pageIndex","pageIndexChange"],kie="dx-separator",Mie=e=>{var{pages:t}=e,i=t.map(r=>{var{key:n,pageProps:a}=r;return a?Zt(2,eb,{index:a.index,selected:a.selected,onClick:a.onClick},n):Ci(1,"div",kie,". . .",16,null,n)});return ua(i,0)},ds=4;function zS(e,t,i){return e===1?"high":e+t===i-1?"low":"both"}function wR(e,t,i){var r=[],n=[];switch(i){case"none":r=[...e];break;case"both":r=[0,"low",...e,"high",t-1],n=e.slice(1,-1);break;case"high":r=[0,...e,"high",t-1],n=e.slice(0,-1);break;case"low":r=[0,"low",...e,t-1],n=e.slice(1)}return{slidingWindowIndexes:e,indexesForReuse:n,pageIndexes:r}}function WS(e,t,i,r){for(var n=[],a=0;a<t;a+=1)n.push(a+e);return wR(n,i,r)}var Bie={get pageIndex(){return $i.pageIndex},get maxPagesCount(){return $i.maxPagesCount},get pageCount(){return $i.pageCount}};class xR extends Kr{constructor(t){super(t),this.state={},this.canReuseSlidingWindow=this.canReuseSlidingWindow.bind(this),this.generatePageIndexes=this.generatePageIndexes.bind(this),this.isSlidingWindowMode=this.isSlidingWindowMode.bind(this),this.onPageClick=this.onPageClick.bind(this)}get config(){return"ConfigContext"in this.context?this.context.ConfigContext:yf}get slidingWindowState(){var t=this.slidingWindowStateHolder;return t||{indexesForReuse:[],slidingWindowIndexes:[]}}canReuseSlidingWindow(t,i){var{indexesForReuse:r}=this.slidingWindowState,n=r.slice(-1)[0]<t-1,a=r.includes(i);return n&&a}generatePageIndexes(){var{pageCount:t,pageIndex:i}=this.props,r=0,{slidingWindowIndexes:n}=this.slidingWindowState;i===n[0]?r=i-1:i===n[n.length-1]?r=i+2-ds:i<ds?r=1:i>=t-ds?r=t-ds-1:r=i-1;var a=ds,s=zS(r,a,t),o=WS(r,a,t,s),{pageIndexes:l}=o,u=ai(o,Die);return this.slidingWindowStateHolder=u,l}isSlidingWindowMode(){var{maxPagesCount:t,pageCount:i}=this.props;return i<=ds||i<=t}onPageClick(t){this.props.pageIndexChange(t)}get pageIndexes(){var{pageCount:t}=this.props;if(this.isSlidingWindowMode())return WS(0,t,t,"none").pageIndexes;if(this.canReuseSlidingWindow(t,this.props.pageIndex)){var{slidingWindowIndexes:i}=this.slidingWindowState,r=zS(i[0],ds,t);return wR(i,t,r).pageIndexes}return this.generatePageIndexes()}get pages(){var t,{pageIndex:i}=this.props,r=a=>{var s=a==="low"||a==="high"?null:{index:a,onClick:()=>this.onPageClick(a),selected:i===a};return{key:a.toString(),pageProps:s}},n=(t=this.config)!==null&&t!==void 0&&t.rtlEnabled?[...this.pageIndexes].reverse():this.pageIndexes;return n.map(a=>r(a))}get restAttributes(){var t=this.props,i=ai(t,Rie);return i}render(){var t=this.props;return Mie({props:Ie({},t),config:this.config,pageIndexes:this.pageIndexes,pages:this.pages,restAttributes:this.restAttributes})}}xR.defaultProps=Bie;var jo={hoverStateEnabled:!0,activeStateEnabled:!0,get focusStateEnabled(){return Ne.real().deviceType==="desktop"&&!Ne.isSimulator()}},Vc={label:"",get labelMode(){return xi(un())?"floating":"static"}},Pie=["accessKey","activeStateEnabled","className","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","invalidValueMessage","isValid","label","labelMode","max","min","mode","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","showSpinButtons","step","tabIndex","useLargeSpinButtons","validationError","validationErrors","validationMessageMode","validationStatus","value","valueChange","visible","width"],Fie=0,Lie=e=>{var{componentProps:t,restAttributes:i}=e;return yr(Zt(2,If,Ie({componentType:Rc,componentProps:t,templateNames:[]},i)))},Pr=Object.create(Object.prototype,Ie(Object.getOwnPropertyDescriptors(Vi),Object.getOwnPropertyDescriptors({defaultValue:Fie,isReactComponentWrapper:!0}))),Nie={get defaultValue(){return Pr.defaultValue},get readOnly(){return Pr.readOnly},get name(){return Pr.name},get validationError(){return Pr.validationError},get validationErrors(){return Pr.validationErrors},get validationMessageMode(){return Pr.validationMessageMode},get validationStatus(){return Pr.validationStatus},get isValid(){return Pr.isValid},get className(){return Pr.className},get activeStateEnabled(){return jo.activeStateEnabled},get disabled(){return Pr.disabled},get focusStateEnabled(){return jo.focusStateEnabled},get hoverStateEnabled(){return jo.hoverStateEnabled},get tabIndex(){return Pr.tabIndex},get visible(){return Pr.visible},get label(){return Vc.label},get labelMode(){return Vc.labelMode},isReactComponentWrapper:!0};class SR extends Kr{constructor(t){super(t),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue}}get componentProps(){return Ie({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})}get restAttributes(){var t=Ie({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),i=ai(t,Pie);return i}render(){var t=this.props;return Lie({props:Ie({},t,{value:this.props.value!==void 0?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}SR.defaultProps=Nie;var Vie=10;function ER(e,t){return e+Vie*Math.max(...t).toString().length}var $ie=["pageCount","pageIndex","pageIndexChange","pagesCountText"],Hie="".concat(_R,"  dx-info-text"),IR="dx-page-index",zie="dx-light-pages",Wie="dx-pages-count",jie=e=>{var{pageIndexRef:t,pagesCountText:i,props:{pageCount:r},selectLastPageIndex:n,value:a,valueChange:s,width:o}=e;return Ci(1,"div",zie,[Zt(2,SR,{className:IR,min:1,max:r,width:o,value:a,valueChange:s}),Ci(1,"span",Hie,i,0),Zt(2,eb,{className:Wie,selected:!1,index:r-1,onClick:n})],4,null,null,t)},Uie={get pageIndex(){return $i.pageIndex},get pageCount(){return $i.pageCount}};class TR extends Rn{constructor(t){super(t),this.pageIndexRef=Ui(),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this),this.selectLastPageIndex=this.selectLastPageIndex.bind(this),this.valueChange=this.valueChange.bind(this)}createEffects(){return[new ri(this.updateWidth,[this.state.minWidth])]}updateEffects(){var t;(t=this._effects[0])===null||t===void 0||t.update([this.state.minWidth])}updateWidth(){var t,i=(t=this.pageIndexRef.current)===null||t===void 0?void 0:t.querySelector(".".concat(IR));this.setState(r=>({minWidth:i&&mR(i)||r.minWidth}))}get value(){return this.props.pageIndex+1}get width(){var{pageCount:t}=this.props;return ER(this.state.minWidth,[t])}get pagesCountText(){var t;return((t=this.props.pagesCountText)!==null&&t!==void 0?t:"")||_e.getFormatter("dxPager-pagesCountText")()}selectLastPageIndex(){this.props.pageIndexChange(this.props.pageCount-1)}valueChange(t){this.props.pageIndexChange(t-1)}get restAttributes(){var t=this.props,i=ai(t,$ie);return i}render(){var t=this.props;return jie({props:Ie({},t),pageIndexRef:this.pageIndexRef,value:this.value,width:this.width,pagesCountText:this.pagesCountText,selectLastPageIndex:this.selectLastPageIndex,valueChange:this.valueChange,restAttributes:this.restAttributes})}}TR.defaultProps=Uie;var Gie=["hasKnownLastPage","isLargeDisplayMode","maxPagesCount","pageCount","pageIndex","pageIndexChange","pagesCountText","showNavigationButtons","totalCount"],Ih="dx-navigate-button",jS="dx-prev-button",US="dx-next-button",GS="dx-button-disable",Kie=()=>_e.getFormatter("dxPager-nextPage")(),qie=()=>_e.getFormatter("dxPager-prevPage")(),Xie={nextEnabledClass:"".concat(Ih," ").concat(US),prevEnabledClass:"".concat(Ih," ").concat(jS),nextDisabledClass:"".concat(GS," ").concat(Ih," ").concat(US),prevDisabledClass:"".concat(GS," ").concat(Ih," ").concat(jS)},Yie={next:"prev",prev:"next"},Zie=e=>{var{nextButtonProps:t,pageIndexChange:i,prevButtonProps:r,props:{isLargeDisplayMode:n,maxPagesCount:a,pageCount:s,pageIndex:o,pagesCountText:l},renderNextButton:u,renderPrevButton:d}=e;return ua([d&&Zt(2,Bu,{label:qie(),className:r.className,tabIndex:r.tabIndex,onClick:r.navigate}),n&&Zt(2,xR,{maxPagesCount:a,pageCount:s,pageIndex:o,pageIndexChange:i}),!n&&Zt(2,TR,{pageCount:s,pageIndex:o,pageIndexChange:i,pagesCountText:l}),u&&Zt(2,Bu,{label:Kie(),className:t.className,tabIndex:t.tabIndex,onClick:t.navigate})],0)};function Jie(e){return e==="next"?1:-1}var Qie={isLargeDisplayMode:!0},ere={get pageIndex(){return $i.pageIndex},get maxPagesCount(){return $i.maxPagesCount},get pageCount(){return $i.pageCount},get hasKnownLastPage(){return $i.hasKnownLastPage},get showNavigationButtons(){return $i.showNavigationButtons},get totalCount(){return $i.totalCount},get isLargeDisplayMode(){return Qie.isLargeDisplayMode}};class AR extends Kr{constructor(t){super(t),this.state={},this.__getterCache={},this.pageIndexChange=this.pageIndexChange.bind(this),this.getButtonProps=this.getButtonProps.bind(this),this.canNavigateToPage=this.canNavigateToPage.bind(this),this.getNextPageIndex=this.getNextPageIndex.bind(this),this.canNavigateTo=this.canNavigateTo.bind(this),this.navigateToPage=this.navigateToPage.bind(this)}get config(){return"ConfigContext"in this.context?this.context.ConfigContext:yf}pageIndexChange(t){this.canNavigateToPage(t)&&this.props.pageIndexChange(t)}getButtonProps(t){var i,r=(i=this.config)!==null&&i!==void 0&&i.rtlEnabled?Yie[t]:t,n=this.canNavigateTo(r),a=Xie["".concat(t).concat(n?"Enabled":"Disabled","Class")];return{className:a,tabIndex:n?0:-1,navigate:()=>this.navigateToPage(r)}}canNavigateToPage(t){return this.props.hasKnownLastPage?t>=0&&t<=this.props.pageCount-1:t>=0}getNextPageIndex(t){return this.props.pageIndex+Jie(t)}canNavigateTo(t){return this.canNavigateToPage(this.getNextPageIndex(t))}navigateToPage(t){this.pageIndexChange(this.getNextPageIndex(t))}get renderPrevButton(){var{isLargeDisplayMode:t,showNavigationButtons:i}=this.props;return!t||i}get renderNextButton(){return this.renderPrevButton||!this.props.hasKnownLastPage}get prevButtonProps(){return this.__getterCache.prevButtonProps!==void 0?this.__getterCache.prevButtonProps:this.__getterCache.prevButtonProps=(()=>this.getButtonProps("prev"))()}get nextButtonProps(){return this.__getterCache.nextButtonProps!==void 0?this.__getterCache.nextButtonProps:this.__getterCache.nextButtonProps=(()=>this.getButtonProps("next"))()}get restAttributes(){var t=this.props,i=ai(t,Gie);return i}componentWillUpdate(t,i,r){(this.context.ConfigContext!==r.ConfigContext||this.props.hasKnownLastPage!==t.hasKnownLastPage||this.props.pageCount!==t.pageCount||this.props.pageIndex!==t.pageIndex||this.props.pageIndexChange!==t.pageIndexChange)&&(this.__getterCache.prevButtonProps=void 0),(this.context.ConfigContext!==r.ConfigContext||this.props.hasKnownLastPage!==t.hasKnownLastPage||this.props.pageCount!==t.pageCount||this.props.pageIndex!==t.pageIndex||this.props.pageIndexChange!==t.pageIndexChange)&&(this.__getterCache.nextButtonProps=void 0)}render(){var t=this.props;return Zie({props:Ie({},t),config:this.config,pageIndexChange:this.pageIndexChange,renderPrevButton:this.renderPrevButton,renderNextButton:this.renderNextButton,prevButtonProps:this.prevButtonProps,nextButtonProps:this.nextButtonProps,restAttributes:this.restAttributes})}}AR.defaultProps=ere;var tre=["accessKey","activeStateEnabled","className","dataSource","defaultValue","disabled","displayExpr","focusStateEnabled","height","hint","hoverStateEnabled","isValid","label","labelMode","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationStatus","value","valueChange","valueExpr","visible","width"],ire=e=>{var{componentProps:t,restAttributes:i}=e;return yr(Zt(2,If,Ie({componentType:H0,componentProps:t,templateNames:["dropDownButtonTemplate","groupTemplate","itemTemplate"]},i)))},Fr=Object.create(Object.prototype,Ie(Object.getOwnPropertyDescriptors(Vi),Object.getOwnPropertyDescriptors({defaultValue:null,isReactComponentWrapper:!0}))),rre={get defaultValue(){return Fr.defaultValue},get readOnly(){return Fr.readOnly},get name(){return Fr.name},get validationError(){return Fr.validationError},get validationErrors(){return Fr.validationErrors},get validationMessageMode(){return Fr.validationMessageMode},get validationStatus(){return Fr.validationStatus},get isValid(){return Fr.isValid},get className(){return Fr.className},get activeStateEnabled(){return jo.activeStateEnabled},get disabled(){return Fr.disabled},get focusStateEnabled(){return jo.focusStateEnabled},get hoverStateEnabled(){return jo.hoverStateEnabled},get tabIndex(){return Fr.tabIndex},get visible(){return Fr.visible},get label(){return Vc.label},get labelMode(){return Vc.labelMode},isReactComponentWrapper:!0};class OR extends Kr{constructor(t){super(t),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue}}get componentProps(){return Ie({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})}get restAttributes(){var t=Ie({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),i=ai(t,tre);return i}render(){var t=this.props;return ire({props:Ie({},t,{value:this.props.value!==void 0?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}OR.defaultProps=rre;var nre=["pageSize","pageSizeChange","pageSizes","parentRef"],are=e=>{var{props:{pageSize:t,pageSizeChange:i,pageSizes:r},width:n}=e;return Zt(2,OR,{displayExpr:"text",valueExpr:"value",dataSource:r,value:t,valueChange:i,width:n})},sre={get pageSize(){return $i.pageSize}};class DR extends Rn{constructor(t){super(t),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this)}createEffects(){return[new ri(this.updateWidth,[this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes])]}updateEffects(){var t;(t=this._effects[0])===null||t===void 0||t.update([this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes])}updateWidth(){this.setState(t=>({minWidth:mR(this.props.parentRef.current)||t.minWidth}))}get width(){return ER(this.state.minWidth,this.props.pageSizes.map(t=>t.value))}get restAttributes(){var t=this.props,i=ai(t,nre);return i}render(){var t=this.props;return are({props:Ie({},t),width:this.width,restAttributes:this.restAttributes})}}DR.defaultProps=sre;var ore=["pageSize","pageSizeChange","pageSizes"],lre=e=>{var{pageSizesText:t}=e;return ua(t.map(i=>{var{className:r,click:n,label:a,text:s}=i;return Zt(2,Bu,{className:r,label:a,onClick:n,children:s},s)}),0)},ure={get pageSize(){return $i.pageSize}};class RR extends Kr{constructor(t){super(t),this.state={},this.__getterCache={},this.onPageSizeChange=this.onPageSizeChange.bind(this)}get pageSizesText(){return this.__getterCache.pageSizesText!==void 0?this.__getterCache.pageSizesText:this.__getterCache.pageSizesText=(()=>{var{pageSize:t,pageSizes:i}=this.props;return i.map((r,n)=>{var{text:a,value:s}=r,o=s===t,l=$r({[o?Eie:CR]:!0,[Iie]:n===0});return{className:l,click:this.onPageSizeChange(s),label:"Display ".concat(s," items on page"),text:a}})})()}onPageSizeChange(t){return()=>(this.props.pageSizeChange(t),this.props.pageSize)}get restAttributes(){var t=this.props,i=ai(t,ore);return i}componentWillUpdate(t,i,r){(this.props.pageSize!==t.pageSize||this.props.pageSizes!==t.pageSizes||this.props.pageSizeChange!==t.pageSizeChange)&&(this.__getterCache.pageSizesText=void 0)}render(){var t=this.props;return lre({props:Ie({},t),pageSizesText:this.pageSizesText,restAttributes:this.restAttributes})}}RR.defaultProps=ure;var dre=["isLargeDisplayMode","pageSize","pageSizeChange","pageSizes","rootElementRef"],hre=e=>{var{htmlRef:t,normalizedPageSizes:i,props:{isLargeDisplayMode:r,pageSize:n,pageSizeChange:a}}=e;return Ci(1,"div",Sie,[r&&Zt(2,RR,{pageSizes:i,pageSize:n,pageSizeChange:a}),!r&&Zt(2,DR,{parentRef:t,pageSizes:i,pageSize:n,pageSizeChange:a})],0,null,null,t)};function cre(){return _e.getFormatter("dxPager-pageSizesAllText")()}var fre={isLargeDisplayMode:!0},pre={get pageSize(){return $i.pageSize},get pageSizes(){return $i.pageSizes},get isLargeDisplayMode(){return fre.isLargeDisplayMode}};class kR extends Rn{constructor(t){super(t),this.state={},this.htmlRef=Ui(),this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this)}createEffects(){return[new ri(this.setRootElementRef,[])]}setRootElementRef(){var{rootElementRef:t}=this.props;t&&(t.current=this.htmlRef.current)}get normalizedPageSizes(){return this.__getterCache.normalizedPageSizes!==void 0?this.__getterCache.normalizedPageSizes:this.__getterCache.normalizedPageSizes=(()=>{var{pageSizes:t}=this.props;return t.map(i=>i==="all"||i===0?{text:cre(),value:0}:{text:String(i),value:i})})()}get restAttributes(){var t=this.props,i=ai(t,dre);return i}componentWillUpdate(t,i,r){super.componentWillUpdate(),this.props.pageSizes!==t.pageSizes&&(this.__getterCache.normalizedPageSizes=void 0)}render(){var t=this.props;return hre({props:Ie({},t),htmlRef:this.htmlRef,normalizedPageSizes:this.normalizedPageSizes,restAttributes:this.restAttributes})}}kR.defaultProps=pre;var mre=["className","displayMode","gridCompatibility","hasKnownLastPage","infoText","infoTextRef","infoTextVisible","isLargeDisplayMode","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pageSizesRef","pagesCountText","pagesNavigatorVisible","pagesRef","rootElementRef","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"],gre=e=>{var{aria:t,classes:i,infoVisible:r,isLargeDisplayMode:n,pageIndexSelectorVisible:a,pagesContainerVisibility:s,pagesContainerVisible:o,props:{hasKnownLastPage:l,infoText:u,infoTextRef:d,maxPagesCount:c,pageCount:h,pageIndex:f,pageIndexChange:p,pageSize:g,pageSizeChange:m,pageSizes:v,pageSizesRef:b,pagesCountText:y,pagesRef:I,rtlEnabled:D,showNavigationButtons:N,showPageSizes:z,totalCount:F,visible:$},restAttributes:j,widgetRootElementRef:q}=e;return yr(Zt(2,Cf,Ie({rootElementRef:q,rtlEnabled:D,classes:i,visible:$,aria:t},j,{children:[z&&Zt(2,kR,{rootElementRef:b,isLargeDisplayMode:n,pageSize:g,pageSizeChange:m,pageSizes:v}),o&&Ci(1,"div",Cie,[r&&Zt(2,bR,{rootElementRef:d,infoText:u,pageCount:h,pageIndex:f,totalCount:F}),a&&Ci(1,"div",wie,Zt(2,AR,{hasKnownLastPage:l,isLargeDisplayMode:n,maxPagesCount:c,pageCount:h,pageIndex:f,pageIndexChange:p,pagesCountText:y,showNavigationButtons:N,totalCount:F}),2,null,null,I)],0,{style:y0({visibility:s})})]})))},vre=Object.create(Object.prototype,Ie(Object.getOwnPropertyDescriptors($i),Object.getOwnPropertyDescriptors({infoTextVisible:!0,isLargeDisplayMode:!0})));class MR extends Rn{constructor(t){super(t),this.state={},this.widgetRootElementRef=Ui(),this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this),this.createFakeInstance=this.createFakeInstance.bind(this)}createEffects(){return[new ri(this.setRootElementRef,[])]}getChildContext(){return Ie({},this.context,{KeyboardActionContext:this.keyboardAction})}setRootElementRef(){var{rootElementRef:t}=this.props;t&&(t.current=this.widgetRootElementRef.current)}createFakeInstance(){return{option:()=>!1,element:()=>this.widgetRootElementRef.current,_createActionByOption:()=>t=>{var i,r;(i=(r=this.props).onKeyDown)===null||i===void 0||i.call(r,t)}}}get keyboardAction(){return this.__getterCache.keyboardAction!==void 0?this.__getterCache.keyboardAction:this.__getterCache.keyboardAction=(()=>({registerKeyboardAction:(t,i)=>{var r=this.createFakeInstance();return D2("pager",r,t,void 0,i)}}))()}get infoVisible(){var{infoTextVisible:t,showInfo:i}=this.props;return i&&t}get pageIndexSelectorVisible(){return this.props.pageSize!==0}get normalizedDisplayMode(){var{displayMode:t,lightModeEnabled:i}=this.props;return t==="adaptive"&&i!==void 0?i?"compact":"full":t}get pagesContainerVisible(){return!!this.props.pagesNavigatorVisible&&this.props.pageCount>0}get pagesContainerVisibility(){if(this.props.pagesNavigatorVisible==="auto"&&this.props.pageCount===1&&this.props.hasKnownLastPage)return"hidden"}get isLargeDisplayMode(){var t=this.normalizedDisplayMode,i=!1;return t==="adaptive"?i=this.props.isLargeDisplayMode:i=t==="full",i}get classes(){var t={["".concat(this.props.className)]:!!this.props.className,[bie]:!0,[yie]:!this.isLargeDisplayMode};return $r(t)}get aria(){return{role:"navigation",label:this.props.label}}get restAttributes(){var t=this.props,i=ai(t,mre);return i}componentWillUpdate(t,i,r){super.componentWillUpdate(),this.props.onKeyDown!==t.onKeyDown&&(this.__getterCache.keyboardAction=void 0)}render(){var t=this.props;return gre({props:Ie({},t),widgetRootElementRef:this.widgetRootElementRef,keyboardAction:this.keyboardAction,infoVisible:this.infoVisible,pageIndexSelectorVisible:this.pageIndexSelectorVisible,pagesContainerVisible:this.pagesContainerVisible,pagesContainerVisibility:this.pagesContainerVisibility,isLargeDisplayMode:this.isLargeDisplayMode,classes:this.classes,aria:this.aria,restAttributes:this.restAttributes})}}MR.defaultProps=vre;var _re=["className","defaultPageIndex","defaultPageSize","displayMode","gridCompatibility","hasKnownLastPage","infoText","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pagesCountText","pagesNavigatorVisible","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"],bre=e=>{var{pagerProps:t,restAttributes:i}=e;return yr(Zt(2,gR,Ie({contentTemplate:MR,pagerProps:t},i)))};let BR=class extends hd{constructor(t){super(t),this.__getterCache={},this.state={pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.props.defaultPageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.props.defaultPageIndex},this.pageIndexChange=this.pageIndexChange.bind(this),this.pageSizeChange=this.pageSizeChange.bind(this)}createEffects(){return[cd()]}pageIndexChange(t){if(this.props.gridCompatibility){var i;this.setState(n=>(i=t+1,{pageIndex:i})),this.props.pageIndexChange(i)}else{var r;this.setState(n=>(r=t,{pageIndex:r})),this.props.pageIndexChange(r)}}get pageIndex(){return this.props.gridCompatibility?(this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex)-1:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}pageSizeChange(t){var i;this.setState(r=>(i=t,{pageSize:i})),this.props.pageSizeChange(i)}get className(){return this.props.gridCompatibility?$r({"dx-datagrid-pager":!0,["".concat(this.props.className)]:!!this.props.className}):this.props.className}get pagerProps(){return this.__getterCache.pagerProps!==void 0?this.__getterCache.pagerProps:this.__getterCache.pagerProps=(()=>Ie({},Ie({},this.props,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),{className:this.className,pageIndex:this.pageIndex,pageIndexChange:t=>this.pageIndexChange(t),pageSizeChange:t=>this.pageSizeChange(t)}))()}get restAttributes(){var t=Ie({},this.props,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),i=ai(t,_re);return i}componentWillUpdate(t,i,r){super.componentWillUpdate(),(this.props!==t||this.props.gridCompatibility!==t.gridCompatibility||this.props.className!==t.className||this.state.pageIndex!==i.pageIndex||this.props.pageIndex!==t.pageIndex||this.props.pageIndexChange!==t.pageIndexChange||this.props.pageSizeChange!==t.pageSizeChange)&&(this.__getterCache.pagerProps=void 0)}render(){var t=this.props;return bre({props:Ie({},t,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),pageIndexChange:this.pageIndexChange,pageIndex:this.pageIndex,pageSizeChange:this.pageSizeChange,className:this.className,pagerProps:this.pagerProps,restAttributes:this.restAttributes})}};BR.defaultProps=hie;class PR extends rie{getProps(){var t=super.getProps();return t.onKeyDown=this._wrapKeyDownHandler(t.onKeyDown),t}get _propsInfo(){return{twoWay:[["pageSize","defaultPageSize","pageSizeChange"],["pageIndex","defaultPageIndex","pageIndexChange"]],allowNull:[],elements:[],templates:[],props:["defaultPageSize","pageSizeChange","defaultPageIndex","pageIndexChange","gridCompatibility","className","showInfo","infoText","lightModeEnabled","displayMode","maxPagesCount","pageCount","pagesCountText","visible","hasKnownLastPage","pagesNavigatorVisible","showPageSizes","pageSizes","rtlEnabled","showNavigationButtons","totalCount","label","onKeyDown","pageSize","pageIndex"]}}get _viewComponent(){return BR}}yt("dxPager",PR);var yre="pager",Cre=10,KS=function(e){return 1+(parseInt(e.pageIndex())||0)},wre=ei.View.inherit({init:function(){var e=this.getController("data");e.changed.add(t=>{if(t&&t.repaintChangesOnly){var i=this._pager;i?i.option({pageIndex:KS(e),pageSize:e.pageSize(),pageCount:e.pageCount(),totalCount:e.totalCount(),hasKnownLastPage:e.hasKnownLastPage()}):this.render()}else(!t||t.changeType!=="update"&&t.changeType!=="updateSelection"&&t.changeType!=="updateFocusedRow")&&(this._pager=null,this.render())})},_renderCore:function(){var e=this.element().addClass(this.addWidgetPrefix(yre)),t=this.option("pager")||{},i=this.getController("data"),r=this.getController("keyboardNavigation"),n={maxPagesCount:Cre,pageIndex:KS(i),pageCount:i.pageCount(),pageSize:i.pageSize(),showPageSizes:t.showPageSizeSelector,showInfo:t.showInfo,displayMode:t.displayMode,pagesNavigatorVisible:t.visible,showNavigationButtons:t.showNavigationButtons,label:t.label,pageSizes:this.getPageSizes(),totalCount:i.totalCount(),hasKnownLastPage:i.hasKnownLastPage(),pageIndexChanged:function(a){i.pageIndex()!==a-1&&i.pageIndex(a-1)},pageSizeChanged:function(a){i.pageSize(a)},onKeyDown:a=>r&&r.executeAction("onKeyDown",a),useLegacyKeyboardNavigation:this.option("useLegacyKeyboardNavigation"),useKeyboard:this.option("keyboardNavigation.enabled")};if(Z(t.infoText)&&(n.infoText=t.infoText),this._pager){this._pager.repaint();return}rt()?this._pager=this._createComponent(e,PR,n):e.addClass("dx-pager").html('<div class="dx-pages"><div class="dx-page"></div></div>')},getPager:function(){return this._pager},getPageSizes:function(){var e=this.getController("data"),t=this.option("pager"),i=t&&t.allowedPageSizes,r=e.pageSize();return(!Z(this._pageSizes)||!this._pageSizes.includes(r))&&(this._pageSizes=[],t&&(Array.isArray(i)?this._pageSizes=i:i&&r>1&&(this._pageSizes=[Math.floor(r/2),r,2*r]))),this._pageSizes},isVisible:function(){var e=this.getController("data"),t=this.option("pager"),i=t&&t.visible,r=this.option("scrolling");return i==="auto"&&(r&&(r.mode==="virtual"||r.mode==="infinite")?i=!1:i=e.pageCount()>1||e.isLoaded()&&!e.hasKnownLastPage()),i},getHeight:function(){return this.getElementHeight()},optionChanged:function(e){var t=e.name,i=t==="pager",r=t==="paging",n=t==="dataSource",a=t==="scrolling",s=this.getController("data");if(i||r||a||n){if(e.handled=!0,s.skipProcessingPagingChange(e.fullName))return;(i||r)&&(this._pageSizes=null),n||(this._pager=null,this._invalidate(),rt()&&i&&this.component&&this.component.resize())}},dispose:function(){this._pager=null}}),xre={defaultOptions:function(){return{pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto",label:_e.format("dxPager-ariaLabel")}}},views:{pagerView:wre}};Le.registerModule("pager",xre);var Sre="columns-separator",qS="columns-separator-transparent",XS="drag-header",Ere="text-content",Uv="drag-action",YS="tracker",ZS="drop-highlight",JS="dx-block-separator",QS="dx-header-row",Ire="dx-widget",Tre="dx-drag-command-cell",_r="dxDataGridResizingReordering",Are=10,eE=5,cg=.5,gu=function(e){return e.option("allowColumnResizing")||e.getController("columns").isColumnOptionUsed("allowResizing")},FR=function(e){return e.option("allowColumnReordering")||e.getController("columns").isColumnOptionUsed("allowReordering")},Ore=ei.View.inherit({_renderCore:function(){this.callBase(),this.element().addClass(this.addWidgetPrefix(YS)),this.hide()},_unsubscribeFromCallback:function(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},_subscribeToCallback:function(){var e=this;e._positionChanged=function(t){var i=e.element();i&&i.hasClass(e.addWidgetPrefix(YS))&&(i.css({top:t.top}),Dr(i,t.height))},this._tablePositionController.positionChanged.add(e._positionChanged)},optionChanged:function(e){e.name==="allowColumnResizing"&&(this._unsubscribeFromCallback(),e.value&&(this._subscribeToCallback(),this._invalidate())),this.callBase(e)},init:function(){this.callBase(),this._tablePositionController=this.getController("tablePosition"),this._subscribeToCallback()},isVisible:function(){return gu(this)},show:function(){this.element().show()},hide:function(){this.element()&&this.element().hide()},setHeight:function(e){Dr(this.element(),e)},dispose:function(){this._unsubscribeFromCallback(),this.callBase()}}),LR=ei.View.inherit({_renderSeparator:function(){},_renderCore:function(e){this.callBase(e),this._isShown=!0,this._renderSeparator(),this.hide()},show:function(){this._isShown=!0},hide:function(){this._isShown=!1},height:function(e){var t=this.element();if(t)if(Z(e))Dr(t,e);else return nt(t)},width:function(e){var t=this.element();if(t)if(Z(e))zu(t,e);else return Ze(t)}}),Dre=LR.inherit({_renderSeparator:function(){this.callBase();var e=this.element();e.addClass(this.addWidgetPrefix(Sre))},_subscribeToCallback:function(){var e=this,t;e._positionChanged=function(i){t=e.element(),t&&(t.css({top:i.top}),Dr(t,i.height))},e._tablePositionController.positionChanged.add(e._positionChanged)},_unsubscribeFromCallback:function(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},_init:function(){this._isTransparent=gu(this),this.isVisible()&&this._subscribeToCallback()},isVisible:function(){return this.option("showColumnHeaders")&&(FR(this)||gu(this))},optionChanged:function(e){e.name==="allowColumnResizing"&&(e.value?(this._init(),this._invalidate(),this.hide(!0)):(this._unsubscribeFromCallback(),this._isTransparent=gu(this),this.hide(!0))),this.callBase(e)},init:function(){this.callBase(),this._tablePositionController=this.getController("tablePosition"),this._init()},show:function(){var e=this.element();e&&!this._isShown&&(this._isTransparent?e.removeClass(this.addWidgetPrefix(qS)):e.show()),this.callBase()},hide:function(e){var t=this.element(),i=this.addWidgetPrefix(qS);t&&(this._isShown||e)&&(this._isTransparent?(t.addClass(i),t.css("left",""),t.show()):(t.hasClass(i)&&t.removeClass(i),t.hide())),this.callBase()},moveByX:function(e){var t=this.element();t&&t.css("left",e===null?0:e-this._parentElement().offset().left)},changeCursor:function(e){e=Z(e)?e:"";var t=this.element();t&&t.css("cursor",e)},dispose:function(){this._unsubscribeFromCallback(),this.callBase()}}),Rre=LR.inherit({init:function(){var e=this;this.callBase(),this.getController("data").loadingChanged.add(function(t){t||e.hide()})},_renderSeparator:function(){this.callBase(),this.element().addClass(JS).html("&nbsp;")},hide:function(){var e=this._parentElement(),t=this.element();t&&this._isShown&&t.css("display","none"),e&&!e.children("."+JS).length&&e.prepend(this.element()),this.callBase()},isVisible:function(){var e=this.option("groupPanel"),t=this.option("columnChooser");return e&&e.visible||t&&t.enabled},show:function(e){var t=this.element(),i=function(r){fi.stop(t,!0),fi.animate(t,{type:"slide",from:{width:0,display:r.display},to:r,duration:300,easing:"swing"})};if(t&&!this._isShown)switch(e){case"group":i({width:"50px",display:"inline-block"});break;case"columnChooser":i({width:"100%",display:"block"});break;default:t.css("display","")}this.callBase()}}),kre=ei.View.inherit({_isDragging:!1,isDragging:function(){return this._isDragging},_getDraggingPanelByPos:function(e){var t;return le(this._dragOptions.draggingPanels,function(i,r){if(r){var n=r.getBoundingRect();if(n&&(n.bottom===void 0||e.y<n.bottom)&&(n.top===void 0||e.y>n.top)&&(n.left===void 0||e.x>n.left)&&(n.right===void 0||e.x<n.right))return t=r,!1}}),t},_renderCore:function(){this.element().addClass(this.addWidgetPrefix(XS)+" "+this.addWidgetPrefix(Ere)+" "+Ire).hide()},_resetTargetColumnOptions:function(){var e=this._dropOptions;e.targetColumnIndex=-1,delete e.targetColumnElement,delete e.isLast,delete e.posX,delete e.posY},_getVisibleIndexObject:function(e,t){return Z(e)?{columnIndex:t,rowIndex:e}:t},dispose:function(){var e=this.element();this._dragOptions=null,e&&e.parent().find("."+this.addWidgetPrefix(XS)).remove()},isVisible:function(){var e=this.getController("columns"),t=e.getCommonSettings();return this.option("showColumnHeaders")&&(FR(this)||t.allowGrouping||t.allowHiding)},init:function(){var e=this;this.callBase(),this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer"),this.getController("data").loadingChanged.add(function(t){var i=e.element();!t&&i&&i.hide()})},dragHeader:function(e){var t=e.columnElement,i=!!e.sourceColumn.type;this._isDragging=!0,this._dragOptions=e,this._dropOptions={sourceIndex:e.index,sourceColumnIndex:this._getVisibleIndexObject(e.rowIndex,e.columnIndex),sourceColumnElement:e.columnElement,sourceLocation:e.sourceLocation};var r=we.getDocument();this._onSelectStart=r.onselectstart,r.onselectstart=function(){return!1},this._controller.drag(this._dropOptions),this.element().css({textAlign:t&&t.css("textAlign"),height:t&&(i&&t.get(0).clientHeight||nt(t)),width:t&&(i&&t.get(0).clientWidth||Ze(t)),whiteSpace:t&&t.css("whiteSpace")}).addClass(this.addWidgetPrefix(Uv)).toggleClass(Tre,i).text(i?"":e.sourceColumn.caption),this.element().appendTo(VT.getSwatchContainer(t))},moveHeader:function(e){var t=e.event,i=t.data.that,r=pi(t),n=i._columnsResizerViewController?i._columnsResizerViewController.isResizing():!1,a=i._dragOptions;if(i._isDragging&&!n){var s=i.element(),o=Math.abs(r.x-a.columnElement.offset().left-a.deltaX),l=Math.abs(r.y-a.columnElement.offset().top-a.deltaY);if(s.is(":visible")||o>eE||l>eE){s.show();var u=r.x-a.deltaX,d=r.y-a.deltaY;s.css({left:u,top:d}),i.dockHeader(r)}t.preventDefault()}},dockHeader:function(e){var t=this._getDraggingPanelByPos(e),i=this._controller,r=this._dropOptions,n=this._dragOptions;if(t){var a=this.option("rtlEnabled"),s=t.getName()==="columnChooser",o=s?"y":"x",l=t.getName(),u=l==="headers"?n.rowIndex:void 0,d=n.sourceColumn,c=t.getColumnElements(u,d==null?void 0:d.ownerBand)||[],h=n.pointsByTarget=n.pointsByTarget||{},f=l==="columnChooser"?[]:h[l]||i._generatePointsByColumns(re({},n,{targetDraggingPanel:t,columns:t.getColumns(u),columnElements:c,isVerticalOrientation:s,startColumnIndex:l==="headers"&&W(c[0]).index()}));if(h[l]=f,r.targetLocation=l,f.length>0)for(var p=0;p<f.length;p++){var g=f[p+1]&&(f[p][o]+f[p+1][o])/2;if(g===void 0||(a&&o==="x"?e[o]>g:e[o]<g)){r.targetColumnIndex=this._getVisibleIndexObject(u,f[p].columnIndex),c[p]?(r.targetColumnElement=c.eq(p),r.isLast=!1):(r.targetColumnElement=c.last(),r.isLast=!0),r.posX=f[p].x,r.posY=f[p].y,i.dock(r);break}}else this._resetTargetColumnOptions(),i.dock(r)}},dropHeader:function(e){var t=e.event,i=t.data.that,r=i._controller;i.element().hide(),r&&i._isDragging&&r.drop(i._dropOptions),i.element().appendTo(i._parentElement()),i._dragOptions=null,i._dropOptions=null,i._isDragging=!1,we.getDocument().onselectstart=i._onSelectStart||null}}),fg=function(e){return e.option("columnResizingMode")!=="widget"},Mre=ei.ViewController.inherit({_isHeadersRowArea:function(e){if(this._columnHeadersView){var t=this._columnHeadersView.element();if(t){var i=t.offset().top,r=this._columnHeadersView.getHeadersRowHeight();return e>=i&&e<=i+r}}return!1},_isRtlParentStyle:function(){var e;return this.option("rtlEnabled")&&((e=this._$parentContainer)===null||e===void 0?void 0:e.parent().css("direction"))==="rtl"},_pointCreated:function(e,t,i){var r=fg(this),n=this.option("rtlEnabled"),a=this._isRtlParentStyle(),s=!r&&n&&!a?0:1;if(e.index>=s&&e.index<t+(!r&&(!n||a)?1:0)){e.columnIndex-=s;var o=i[e.columnIndex]||{},l=i[e.columnIndex+1]||{};return!(r?o.allowResizing&&l.allowResizing:o.allowResizing)}return!0},_getTargetPoint:function(e,t,i){if(e){for(var r=0;r<e.length;r++)if(!(e[r].x===e[0].x&&e[r+1]&&e[r].x===e[r+1].x)&&e[r].x-i<=t&&t<=e[r].x+i)return e[r]}return null},_moveSeparator:function(e){var t,i=e.event,r=i.data,n=r._columnsSeparatorView.width(),a=fg(r),s=n/2,o=r._$parentContainer.offset(),l=o.left,u=pi(i),d=r.option("rtlEnabled"),c=this._isRtlParentStyle(),h=(t=r._draggingHeaderView)===null||t===void 0?void 0:t.isDragging();if(r._isResizing&&r._resizingInfo){if((l<=u.x||!a&&c)&&(!a||u.x<=l+Ze(r._$parentContainer))&&r._updateColumnsWidthIfNeeded(u.x)){var f=r._columnHeadersView.getColumnElements().eq(r._resizingInfo.currentColumnIndex),p=f[0];if(p){var g=p.getBoundingClientRect().width;r._columnsSeparatorView.moveByX(f.offset().left+((a||c)&&d?0:g)),r._tablePositionController.update(r._targetPoint.y),i.preventDefault()}}}else h||(r._isHeadersRowArea(u.y)?(r._previousParentOffset&&(r._previousParentOffset.left!==o.left||r._previousParentOffset.top!==o.top)&&r.pointsByColumns(null),r._targetPoint=r._getTargetPoint(r.pointsByColumns(),u.x,n),r._previousParentOffset=o,r._isReadyResizing=!1,r._targetPoint?(r._columnsSeparatorView.changeCursor("col-resize"),r._columnsSeparatorView.moveByX(r._targetPoint.x-s),r._tablePositionController.update(r._targetPoint.y),r._isReadyResizing=!0,i.preventDefault()):(r._columnsSeparatorView.changeCursor(),r._columnsSeparatorView.moveByX(null))):(r.pointsByColumns(null),r._isReadyResizing=!1,r._columnsSeparatorView.changeCursor(),r._columnsSeparatorView.moveByX(null)))},_endResizing:function(e){var t=e.event,i=t.data;i._isResizing&&(i.pointsByColumns(null),i._resizingInfo=null,i._columnsSeparatorView.hide(),i._columnsSeparatorView.changeCursor(),i._trackerView.hide(),i._isReadyResizing=!1,i._isResizing=!1)},_getNextColumnIndex:function(e){return e+1},_setupResizingInfo:function(e){var t=this._targetPoint.columnIndex,i=this._getNextColumnIndex(t),r=this._columnHeadersView.getHeaderElement(t),n=this._columnHeadersView.getHeaderElement(i);this._resizingInfo={startPosX:e,currentColumnIndex:t,currentColumnWidth:r&&r.length>0?mi(r[0]).width:0,nextColumnIndex:i,nextColumnWidth:n&&n.length>0?mi(n[0]).width:0}},_startResizing:function(e){var t=e.event,i=t.data,r=pi(t);if(Uu(t)&&(i._isHeadersRowArea(r.y)?(i._targetPoint=i._getTargetPoint(i.pointsByColumns(),r.x,Are),i._targetPoint&&(i._columnsSeparatorView.moveByX(i._targetPoint.x-i._columnsSeparatorView.width()/2),i._isReadyResizing=!0)):i._isReadyResizing=!1),i._isReadyResizing){i._setupResizingInfo(r.x),i._isResizing=!0,i._tablePositionController.update(i._targetPoint.y),i._columnsSeparatorView.show(),i._trackerView.show();var n=i.component.getScrollable();n&&i._isRtlParentStyle()&&(i._scrollRight=Ze(n.$content())-Ze(n.container())-n.scrollLeft()),t.preventDefault(),t.stopPropagation()}this.isResizing()&&this.getController("editorFactory").loseFocus()},_generatePointsByColumns:function(){var e=this,t=e._columnsController?e._columnsController.getVisibleColumns():[],i=e._columnHeadersView.getColumnElements(),r=[];i&&i.length>0&&(r=Ee.getPointsByColumns(i,function(n){return e._pointCreated(n,i.length,t)})),e._pointsByColumns=r},_unsubscribeFromEvents:function(){this._moveSeparatorHandler&&te.off(we.getDocument(),xe(Rt.move,_r),this._moveSeparatorHandler),this._startResizingHandler&&te.off(this._$parentContainer,xe(Rt.down,_r),this._startResizingHandler),this._endResizingHandler&&(te.off(this._columnsSeparatorView.element(),xe(Rt.up,_r),this._endResizingHandler),te.off(we.getDocument(),xe(Rt.up,_r),this._endResizingHandler))},_subscribeToEvents:function(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing),te.on(we.getDocument(),xe(Rt.move,_r),this,this._moveSeparatorHandler),te.on(this._$parentContainer,xe(Rt.down,_r),this,this._startResizingHandler),te.on(this._columnsSeparatorView.element(),xe(Rt.up,_r),this,this._endResizingHandler),te.on(we.getDocument(),xe(Rt.up,_r),this,this._endResizingHandler)},_updateColumnsWidthIfNeeded:function(e){var t,i,r=this._rowsView.contentWidth(),n=this._resizingInfo,a=this._columnsController,s=a.getVisibleColumns(),o=this._columnsSeparatorView.width(),l=fg(this),u=l&&this.option("adaptColumnWidthByRatio")&&!this.option("columnAutoWidth"),d=this.option("rtlEnabled"),c=this._isRtlParentStyle(),h=s[n.currentColumnIndex],f=s[n.nextColumnIndex];function p(F){return Ue(F)&&F.slice(-1)==="%"}function g(F,$,j,q){if(F){var H=F.width;H&&(q=p(H)),q?(a.columnOption(F.index,"visibleWidth",$),a.columnOption(F.index,"width",($/j*100).toFixed(3)+"%")):(a.columnOption(F.index,"visibleWidth",null),a.columnOption(F.index,"width",$))}}t=e-n.startPosX,(l||c)&&d&&(t=-t);var{cellWidth:m,nextCellWidth:v}=function(F){var $,j,q,H=n.currentColumnWidth+F,A=h&&h.minWidth||o,T={};return H>=A?T.cellWidth=H:(T.cellWidth=A,q=!0),l&&(j=n.nextColumnWidth-F,$=f&&f.minWidth||o,j>=$?q?T.nextCellWidth=n.nextColumnWidth-(F+A-H):T.nextCellWidth=j:(T.nextCellWidth=$,T.cellWidth=n.currentColumnWidth+(F-$+j))),T}(t);if(i=h.width!==m,i){if(a.beginUpdate(),m=Math.floor(m),r=function(F,$){var j=$.every(H=>H.width);if(j){var q=$.reduce((H,A)=>(p(A.width)&&(H+=parseFloat(A.width)),H),0);q>100&&(F=F/q*100)}return F}(r,s),g(h,m,r,u),l)v=Math.floor(v),g(f,v,r,u);else{var b=this._columnHeadersView.getColumnWidths();b[n.currentColumnIndex]=m;var y=b.reduce((F,$)=>F+$,0)>this._rowsView.contentWidth();if(!y){var I=Ee.getLastResizableColumnIndex(s);I>=0&&a.columnOption(s[I].index,"visibleWidth","auto")}for(var D=0;D<b.length;D++)s[D]&&s[D]!==h&&s[D].width===void 0&&a.columnOption(s[D].index,"width",b[D])}if(a.endUpdate(),!l){this.component.updateDimensions();var N=this.component.getScrollable();if(N&&c){var z=Ze(N.$content())-Ze(N.container())-this._scrollRight;N.scrollTo({left:z})}}}return i},_subscribeToCallback:function(e,t){e.add(t),this._subscribesToCallbacks.push({callback:e,handler:t})},_unsubscribeFromCallbacks:function(){for(var e=0;e<this._subscribesToCallbacks.length;e++){var t=this._subscribesToCallbacks[e];t.callback.remove(t.handler)}this._subscribesToCallbacks=[]},_unsubscribes:function(){this._unsubscribeFromEvents(),this._unsubscribeFromCallbacks()},_init:function(){var e=this,t=function(){e._isResizing||e.pointsByColumns(null)},i=function(a){e._scrollLeft!==a.left&&(e._scrollLeft=a.left,e.pointsByColumns(null))};e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._columnHeadersView=e.getView("columnHeadersView"),e._trackerView=e.getView("trackerView"),e._rowsView=e.getView("rowsView"),e._columnsController=e.getController("columns"),e._tablePositionController=e.getController("tablePosition"),e._$parentContainer=e.component.$element(),e._draggingHeaderView=e.component.getView("draggingHeaderView"),e._subscribeToCallback(e._columnHeadersView.renderCompleted,t),e._subscribeToCallback(e._columnHeadersView.resizeCompleted,t),e._subscribeToCallback(e._columnsSeparatorView.renderCompleted,function(){e._unsubscribeFromEvents(),e._subscribeToEvents()}),e._subscribeToCallback(e._rowsView.renderCompleted,function(){e._rowsView.scrollChanged.remove(i),e._rowsView.scrollChanged.add(i)});var r=e._rowsView.getScrollbarWidth()!==0,n=0;e._subscribeToCallback(e.getController("tablePosition").positionChanged,function(a){if(e._isResizing&&!e._rowsView.isResizing){var s=e._rowsView.getScrollbarWidth()!==0;r!==s||n&&n!==a.height?(r=s,n=a.height,e.component.updateDimensions()):e._rowsView.updateFreeSpaceRowHeight()}n=a.height})},optionChanged:function(e){this.callBase(e),e.name==="allowColumnResizing"&&(e.value?(this._init(),this._subscribeToEvents()):this._unsubscribes())},isResizing:function(){return this._isResizing},init:function(){this._subscribesToCallbacks=[],gu(this)&&this._init()},pointsByColumns:function(e){if(e!==void 0)this._pointsByColumns=e;else return this._pointsByColumns||this._generatePointsByColumns(),this._pointsByColumns},dispose:function(){this._unsubscribes(),this.callBase()}}),Bre=ei.ViewController.inherit({update:function(e){var t={},i=this._columnHeadersView.element(),r=i&&i.offset(),n=r&&r.top||0,a=Z(e)?Math.abs(e-n):0,s=this._columnHeadersView?this._columnHeadersView.getHeight():0,o=this._rowsView.getScrollbarWidth(!0),l=this._rowsView?this._rowsView.height()-o:0,u=this.component.getController("columnsResizer"),d=this.component.getView("draggingHeaderView");t.height=s;var c=u.isResizing()!==!1||d.isDragging();c&&(t.height+=l-a),e!==null&&i&&i.length&&(t.top=i[0].offsetTop+a),this.positionChanged.fire(t)},init:function(){var e=this;e.callBase(),e._columnHeadersView=this.getView("columnHeadersView"),e._rowsView=this.getView("rowsView"),e._pagerView=this.getView("pagerView"),e._rowsView.resizeCompleted.add(function(){if(e.option("allowColumnResizing")){var t=e.getController("columnsResizer")._targetPoint;e.update(t?t.y:null)}})},ctor:function(e){this.callBase(e),this.positionChanged=kt()}}),Pre=ei.ViewController.inherit({_generatePointsByColumns:function(e){var t=this;return Ee.getPointsByColumns(e.columnElements,function(i){return t._pointCreated(i,e.columns,e.targetDraggingPanel.getName(),e.sourceColumn)},e.isVerticalOrientation,e.startColumnIndex)},_pointCreated:function(e,t,i,r){var n=t[e.columnIndex],a=t[e.columnIndex-1];switch(i){case"columnChooser":return!0;case"headers":return r&&!r.allowReordering||(!n||!n.allowReordering)&&(!a||!a.allowReordering);default:return t.length===0}},_subscribeToEvents:function(e,t){var i=this;le(t,function(r,n){if(n)for(var a,s=n.getRowCount?n.getRowCount():1,o=n.getName(),l=function(c,h){if(h){var f=W(h),p=a[c];n.allowDragging(p,o,t)&&(f.addClass(i.addWidgetPrefix(Uv)),te.on(f,xe(Bs,_r),i.createAction(function(g){var m=g.event,v=pi(m);e.dragHeader({deltaX:v.x-W(m.currentTarget).offset().left,deltaY:v.y-W(m.currentTarget).offset().top,sourceColumn:p,index:p.index,columnIndex:c,columnElement:f,sourceLocation:o,draggingPanels:t,rowIndex:i._columnsController.getRowIndex(p.index,!0)})})),te.on(f,xe(Ha,_r),{that:e},i.createAction(e.moveHeader)),te.on(f,xe(Ps,_r),{that:e},i.createAction(e.dropHeader)))}},u=0;u<s;u++){var d=n.getColumnElements(u)||[];d.length&&(a=n.getColumns(u)||[],le(d,l))}})},_unsubscribeFromEvents:function(e,t){var i=this;le(t,function(r,n){if(n){var a=n.getColumnElements()||[];le(a,function(s,o){var l=W(o);te.off(l,xe(Bs,_r)),te.off(l,xe(Ha,_r)),te.off(l,xe(Ps,_r)),l.removeClass(i.addWidgetPrefix(Uv))})}})},_getSeparator:function(e){return e==="headers"?this._columnsSeparatorView:this._blockSeparatorView},hideSeparators:function(e){var t=this._blockSeparatorView,i=this._columnsSeparatorView;this._animationColumnIndex=null,t&&t.hide(),e!=="block"&&i&&i.hide()},init:function(){var e=this;e.callBase(),e._columnsController=e.getController("columns"),e._columnHeadersView=e.getView("columnHeadersView"),e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._draggingHeaderView=e.getView("draggingHeaderView"),e._rowsView=e.getView("rowsView"),e._blockSeparatorView=e.getView("blockSeparatorView"),e._headerPanelView=e.getView("headerPanel"),e._columnChooserView=e.getView("columnChooserView");var t=function(){if(e._draggingHeaderView){var i=[e._columnChooserView,e._columnHeadersView,e._headerPanelView];e._unsubscribeFromEvents(e._draggingHeaderView,i),e._subscribeToEvents(e._draggingHeaderView,i)}};e._columnHeadersView.renderCompleted.add(t),e._headerPanelView&&e._headerPanelView.renderCompleted.add(t),e._columnChooserView&&e._columnChooserView.renderCompleted.add(t)},allowDrop:function(e){return this._columnsController.allowMoveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)},drag:function(e){var t=e.sourceIndex,i=e.sourceLocation,r=e.sourceColumnElement,n=this._columnHeadersView,a=this._rowsView;r&&(r.css({opacity:cg}),i==="headers"&&(n&&n.setRowsOpacity(t,cg),a&&a.setRowsOpacity(t,cg)))},dock:function(e){var t=this,i=Ge(e.targetColumnIndex)?e.targetColumnIndex.columnIndex:e.targetColumnIndex,r=e.sourceLocation,n=e.targetLocation,a=t._getSeparator(n),s=i>=0;t._columnHeadersView.element().find("."+QS).toggleClass(t.addWidgetPrefix(ZS),r!=="headers"&&n==="headers"&&!s),a&&(t.allowDrop(e)&&s?n==="group"||n==="columnChooser"?function(){t._animationColumnIndex!==i&&(t.hideSeparators(),a.element()[e.isLast?"insertAfter":"insertBefore"](e.targetColumnElement),t._animationColumnIndex=i,a.show(n))}():(t.hideSeparators("block"),t.getController("tablePosition").update(e.posY),a.moveByX(e.posX-a.width()),a.show()):t.hideSeparators())},drop:function(e){var t=e.sourceColumnElement;if(t&&(t.css({opacity:""}),this._columnHeadersView.setRowsOpacity(e.sourceIndex,""),this._rowsView.setRowsOpacity(e.sourceIndex,""),this._columnHeadersView.element().find("."+QS).removeClass(this.addWidgetPrefix(ZS))),this.allowDrop(e)){var i=this._getSeparator(e.targetLocation);i&&i.hide(),this._columnsController.moveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}},dispose:function(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])}}),ao={views:{columnsSeparatorView:Dre,blockSeparatorView:Rre,draggingHeaderView:kre,trackerView:Ore},controllers:{draggingHeader:Pre,tablePosition:Bre,columnsResizer:Mre},extenders:{views:{rowsView:{_needUpdateRowHeight:function(e){var t=this.option("wordWrapEnabled"),i=this.getController("columnsResizer"),r=i.isResizing();return this.callBase.apply(this,arguments)||e>0&&t&&r}}},controllers:{editorFactory:{renderFocusOverlay:function(){if(!this.getController("columnsResizer").isResizing())return this.callBase.apply(this,arguments)}}}}};ao.views.draggingHeaderView;ao.controllers.draggingHeader;ao.views.columnsSeparatorView;ao.controllers.tablePosition;ao.controllers.columnsResizer;ao.views.trackerView;Le.registerModule("columnsResizingReordering",ao);var pg="rowsview",tE="edit-form",Fre="group-footer",To="dx-row",Lre="dx-data-row",Nre="dx-group-row",Vre="dx-header-row",$re="edit-form-item",Hre="dx-master-detail-row",NR="dx-freespace-row",zre="dx-virtual-row",iE="dx-master-detail-cell",VR="dx-editor-cell",Wre="dx-dropdowneditor-overlay",Th="dx-command-expand",$R="dx-command-select",jre="dx-command-edit",rE="[class^=dx-command]",Ah="dx-cell-focus-disabled",Ure="dxDateBox",nE="dx-state-focused",Gre="dx-widget",Kre="dx-revert-button",mg="delete",Qh="input:not([type='hidden']), textarea, a, select, button, [tabindex], .dx-checkbox",aE="".concat(Qh,", .dx-dropdowneditor-icon"),qre="row",HR="form",sE="batch",oE="cell",lE="row",uE="cell",dE="columnHeadersView",Xre=["shift","control","alt"];function Vo(e){return e&&e.hasClass(Nre)}function ec(e){return e&&e.hasClass(Hre)}function Hl(e){return e&&!Vo(e)&&!ec(e)}function Yre(e){return!e||e.hasClass(NR)||e.hasClass(zre)}function tu(e){return e.length&&e[0].tagName==="TD"}function hE(e,t){return!e._isRowEditMode()&&t&&!t.hasClass($R)&&t.hasClass(VR)}function Lr(e){return Z(e)&&e.length>0}function zR(){return Ne.current().deviceType!=="desktop"}function cE(e){return!!e.parent(".".concat(Vre)).length}function Zre(e,t){var i=e.option("rtlEnabled"),r=!1;return i?r=!(t.fixedPosition==="right"||Z(t.command)&&!Z(t.fixedPosition)):r=!(!Z(t.fixedPosition)||t.fixedPosition==="left"),r}function Jre(e){var t=e.getController("keyboardNavigation");return t._isVirtualScrolling()?e.option("focusedRowIndex")===t.getRowIndex():!1}var Qre=ei.ViewController.inherit({init:function(){this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._editingController=this.getController("editing"),this._headerPanel=this.getView("headerPanel"),this._columnsController=this.getController("columns"),this._editorFactory=this.getController("editorFactory"),this.isKeyboardEnabled()&&(VV(),this._updateFocusTimeout=null,this._fastEditingStarted=!1,this._focusedCellPosition={},this._canceledCellPosition=null,this._editorFactory.focused.add(e=>{this.setupFocusedView(),this._isNeedScroll&&e.is(":visible")&&this._focusedView&&this._focusedView.getScrollable&&(this._focusedView._scrollToElement(e),this._isNeedScroll=!1)}),this._initViewHandlers(),this._initDocumentHandlers(),this.createAction("onKeyDown"))},_initViewHandlers:function(){var e=this.getView("rowsView"),t=i=>{var r=W(i.target),n=W(i.relatedTarget).closest(e.element()).length,a=r.hasClass("dx-link");if(a&&!n&&this._isEventInCurrentGrid(i)){var s=this._getFocusedCell();s=Lr(s)?s:e.getCellElements(0).filter("[tabindex]").eq(0),r.closest(s).length||(i.preventDefault(),te.trigger(s,"focus"))}};e.renderCompleted.add(i=>{var r=e.element(),n=!i||i.changeType==="refresh",a=this._focusedView&&this._focusedView.name===e.name,s=!1,o=i&&(i.changeType==="append"||i.changeType==="prepend"),l=W(":focus"),u=!l.length||l.closest(r).length;te.off(r,"focusin",t),te.on(r,"focusin",t),this._initPointerEventHandler(),this._initKeyDownHandler(),this._setRowsViewAttributes(),a&&u&&(s=this._isNeedFocus?!o:this._isHiddenFocus&&n&&!(i!=null&&i.virtualColumnsScrolling),s&&this._updateFocus(!0))})},_initDocumentHandlers:function(){var e=we.getDocument();this._documentClickHandler=this.createAction(t=>{var i=W(t.event.target),r=this._isEventInCurrentGrid(t.event)&&i.closest(".".concat(this.addWidgetPrefix(pg))).length,n=i.closest(".".concat(Wre)).length,a=this.getController("columnsResizer"),s=!!a&&a.isResizing();if(!r&&!n&&!s){var o=this._focusedView?i.parents().filter(this._focusedView.element()).length>0:!1;!o&&this._resetFocusedCell(!0),this._resetFocusedView()}}),te.on(e,xe(Rt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)},_setRowsViewAttributes:function(){var e=this._getRowsViewElement(),t=!this._dataController.getVisibleRows().length;t&&this._applyTabIndexToElement(e)},_initPointerEventHandler:function(){var e=zR()?Pt:Rt.down,t=".".concat(To," > td, .").concat(To),i=this._getRowsViewElement();Z(this._pointerEventAction)||(this._pointerEventAction=this.createAction(this._pointerEventHandler)),te.off(i,xe(e,"dxDataGridKeyboardNavigation"),this._pointerEventAction),te.on(i,xe(e,"dxDataGridKeyboardNavigation"),t,this._pointerEventAction)},_initKeyDownHandler:function(){var e=this._getRowsViewElement();Pa.off(this._keyDownListener),this._keyDownListener=Pa.on(e,null,t=>this._keyDownHandler(t))},dispose:function(){this.callBase(),this._resetFocusedView(),Pa.off(this._keyDownListener),te.off(we.getDocument(),xe(Rt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),clearTimeout(this._updateFocusTimeout),$V()},optionChanged:function(e){switch(e.name){case"keyboardNavigation":case"useLegacyKeyboardNavigation":e.handled=!0;break;default:this.callBase(e)}},isRowFocusType:function(){return this.focusType===lE},isCellFocusType:function(){return this.focusType===uE},setRowFocusType:function(){this.option("focusedRowEnabled")&&(this.focusType=lE)},setCellFocusType:function(){this.focusType=uE},_keyDownHandler:function(e){var t=!0;this._isNeedFocus=!0,this._isNeedScroll=!0;var i=this._processOnKeyDown(e),r=this._editingController.isEditing(),n=e.originalEvent;if(n.isDefaultPrevented()){this._isNeedFocus=!1,this._isNeedScroll=!1;return}if(Xre.indexOf(e.keyName)<0&&this._updateFocusedCellPositionByTarget(n.target),!i){switch(e.keyName){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(e,r),i=!0;break;case"upArrow":case"downArrow":e.ctrl?i0("rowsView",this,n):this._upDownKeysHandler(e,r),i=!0;break;case"pageUp":case"pageDown":this._pageUpDownKeyHandler(e),i=!0;break;case"space":i=this._spaceKeyHandler(e,r);break;case"A":Pi(e.originalEvent)?(this._ctrlAKeyHandler(e,r),i=!0):i=this._beginFastEditing(e.originalEvent);break;case"tab":this._tabKeyHandler(e,r),i=!0;break;case"enter":this._enterKeyHandler(e,r),i=!0;break;case"escape":this._escapeKeyHandler(e,r),i=!0;break;case"F":Pi(e.originalEvent)?(this._ctrlFKeyHandler(e),i=!0):i=this._beginFastEditing(e.originalEvent);break;case"F2":this._f2KeyHandler(),i=!0;break;case"del":case"backspace":this._isFastEditingAllowed()&&!this._isFastEditingStarted()&&(i=this._beginFastEditing(n,!0))}!i&&!this._beginFastEditing(n)&&(this._isNeedFocus=!1,this._isNeedScroll=!1,t=!1),t&&n.stopPropagation()}},_processOnKeyDown:function(e){var t=e.originalEvent,i={handled:!1,event:t};return this.executeAction("onKeyDown",i),e.ctrl=t.ctrlKey,e.alt=t.altKey,e.shift=t.shiftKey,!!i.handled},_closeEditCell:function(){setTimeout(()=>{this._editingController.closeEditCell()})},_leftRightKeysHandler:function(e,t){var i=this.getVisibleRowIndex(),r=e.originalEvent,n=this._focusedView&&this._focusedView.getRow(i),a=this._getDirectionCodeByKey(e.keyName),s=this._isFastEditingStarted(),o=(!t||s)&&Hl(n);if(o){this.setCellFocusType(),s&&this._closeEditCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(a);var l=this._getNextCell(a);Lr(l)&&this._arrowKeysHandlerFocusCell(r,l,a),r&&r.preventDefault()}},_upDownKeysHandler:function(e,t){var i,r,n=this.getVisibleRowIndex(),a=this._focusedView&&this._focusedView.getRow(n),s=e.originalEvent,o=e.keyName==="upArrow",l=this._dataController.dataSource(),u=(i=this._editingController)===null||i===void 0||(r=i.isEditRowByIndex)===null||r===void 0?void 0:r.call(i,n),d=this._isFastEditingStarted(),c=(!u||!t||d)&&a&&!ec(a);if(c){if(d&&this._closeEditCell(),!this._navigateNextCell(s,e.keyName)&&this._isVirtualRowRender()&&o&&l&&!l.isLoading()){var h=Ct(a),f=this._focusedCellPosition.rowIndex-1;this._scrollBy(0,-h,f,s)}s&&s.preventDefault()}},_pageUpDownKeyHandler:function(e){var t=this._dataController.pageIndex(),i=this._dataController.pageCount(),r=this.option("paging.enabled"),n=e.keyName==="pageUp",a=n?-1:1,s=this.getView("rowsView").getScrollable();r&&!this._isVirtualScrolling()?(n?t>0:t<i-1)&&!this._isVirtualScrolling()&&(this._dataController.pageIndex(t+a),e.originalEvent.preventDefault()):s&&nt(s.container())<nt(s.$content())&&(this._scrollBy(0,nt(s.container())*a),e.originalEvent.preventDefault())},_spaceKeyHandler:function(e,t){var i=this.getVisibleRowIndex(),r=W(e.originalEvent&&e.originalEvent.target);if(this.option("selection")&&this.option("selection").mode!=="none"&&!t){var n=this._getElementType(r)==="row"&&this.isRowFocusType()&&Hl(r),a=r.hasClass($R);return a&&this.option("selection.showCheckBoxesMode")==="onClick"&&this._selectionController.startSelectionWithCheckboxes(),n||r.parent().hasClass(Lre)||r.hasClass(this.addWidgetPrefix(pg))?(this._selectionController.changeItemSelection(i,{shift:e.shift,control:e.ctrl}),e.originalEvent.preventDefault(),!0):!1}else return this._beginFastEditing(e.originalEvent)},_ctrlAKeyHandler:function(e,t){!t&&!e.alt&&this.option("selection.mode")==="multiple"&&this.option("selection.allowSelectAll")&&(this._selectionController.selectAll(),e.originalEvent.preventDefault())},_tabKeyHandler:function(e,t){var i=this.option("editing"),r=e.shift?"previous":"next",n=Z(this._focusedCellPosition)&&!jr(this._focusedCellPosition),a=!n||!e.shift&&this._isLastValidCell(this._focusedCellPosition)||e.shift&&this._isFirstValidCell(this._focusedCellPosition),s=e.originalEvent.target,o=this._focusedView&&this._focusedView.element();if(!this._handleTabKeyOnMasterDetailCell(s,r)){if(W(o).addClass(nE),i&&s&&!a)if(W(s).hasClass(this.addWidgetPrefix(pg))&&this._resetFocusedCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(r),t){if(!this._editingCellTabHandler(e,r))return}else this._targetCellTabHandler(e,r)&&(a=!0);a?(this._editorFactory.loseFocus(),this._editingController.isEditing()&&!this._isRowEditMode()&&(this._resetFocusedCell(!0),this._resetFocusedView(),this._closeEditCell())):e.originalEvent.preventDefault()}},_getMaxHorizontalOffset:function(){var e=this.component.getScrollable(),t=this.getView("rowsView"),i=e?e.scrollWidth()-Ze(t.element()):0;return i},_isColumnRendered:function(e){var t=this._columnsController.getVisibleColumns(null,!0),i=this._columnsController.getVisibleColumns(),r=t[e],n=!1;return r&&(n=i.indexOf(r)>=0),n},_isFixedColumn:function(e){var t=this._columnsController.getVisibleColumns(null,!0),i=t[e];return!!i&&!!i.fixed},_isColumnVirtual:function(e){var t=e-this._columnsController.getColumnIndexOffset(),i=this._columnsController.getVisibleColumns(),r=i[t];return!!r&&r.command==="virtual"},_processVirtualHorizontalPosition:function(e){var t=this.component.getScrollable(),i=this.getColumnIndex(),r,n=0,a=!1;switch(e){case"next":case"nextInRow":var s=this._getVisibleColumnCount();r=i+1,n=this.option("rtlEnabled")?this._getMaxHorizontalOffset():0,e==="next"?a=s===r||this._isFixedColumn(i)&&!this._isColumnRendered(r):a=s>r&&this._isFixedColumn(i)&&!this._isColumnRendered(r);break;case"previous":case"previousInRow":if(r=i-1,n=this.option("rtlEnabled")?0:this._getMaxHorizontalOffset(),e==="previous"){var o=this._columnsController.getColumnIndexOffset(),l=r<0&&o===0;a=l||this._isFixedColumn(i)&&!this._isColumnRendered(r)}else a=r>=0&&this._isFixedColumn(i)&&!this._isColumnRendered(r)}a?t.scrollTo({left:n}):Z(r)&&Z(e)&&this._isColumnVirtual(r)&&(n=this._getHorizontalScrollPositionOffset(e),n!==0&&t.scrollBy({left:n,top:0}))},_getHorizontalScrollPositionOffset:function(e){var t=0,i=this._getCell(this._focusedCellPosition),r=i&&At(i);if(r>0){var n=this.option("rtlEnabled")?-1:1;t=e==="nextInRow"||e==="next"?r*n:r*n*-1}return t},_editingCellTabHandler:function(e,t){var i=e.originalEvent.target,r=this._getCellElementFromTarget(i),n,a=e.originalEvent,s=this._getElementType(i);if(r.is(rE))return!this._targetCellTabHandler(e,t);this._updateFocusedCellPosition(r);var o=this._getNextCellByTabKey(a,t,s);if(r=o.$cell,!r||this._handleTabKeyOnMasterDetailCell(r,t))return!1;var l=this._columnsController,u=this.getView("rowsView").getCellIndex(r),d=u+l.getColumnIndexOffset(),c=l.getVisibleColumns(null,!0)[d],h=r.parent(),f=this._getRowIndex(h),p=this._dataController.items()[f],g=this._editingController;if(c&&c.allowEditing){var m=!p||p.rowType==="data";n=g.allowUpdating({row:p})?m:p&&p.isNewRow}return n||this._closeEditCell(),this._focusCell(r,!o.isHighlighted)&&(!this._isRowEditMode()&&n?this._editFocusedCell():this._focusInteractiveElement(r,e.shift)),!0},_targetCellTabHandler:function(e,t){var i=e.originalEvent,r=i.target,n=this._getCellElementFromTarget(r),a=this._getInteractiveElement(n,!e.shift),s=!1,o;if(!hE(this,n)&&a.length&&r!==a.get(0))s=!0;else{this._focusedCellPosition.rowIndex===void 0&&W(r).hasClass(To)&&this._updateFocusedCellPosition(n),o=this._getElementType(r),this.isRowFocusType()&&(this.setCellFocusType(),o==="row"&&Hl(W(r))&&(r=this.getFirstValidCellInRow(W(r)),o=this._getElementType(r)));var l=this._getNextCellByTabKey(i,t,o);if(n=l.$cell,!n||(n=this._checkNewLineTransition(i,n),!n))return!1;this._focusCell(n,!l.isHighlighted),hE(this,n)||this._focusInteractiveElement(n,e.shift)}return s},_getNextCellByTabKey:function(e,t,i){var r=this._getNextCell(t,i),n=r&&this._fireFocusedCellChanging(e,r,!0);return!n||n.cancel?{}:(n.$newCellElement&&(r=n.$newCellElement),{$cell:r,isHighlighted:n.isHighlighted})},_checkNewLineTransition:function(e,t){var i=this.getVisibleRowIndex(),r=t.parent();if(i!==this._getRowIndex(r)){var n=this._getCellPosition(t),a=this._fireFocusedRowChanging(e,r);if(a.cancel)return;a.rowIndexChanged&&(this.setFocusedColumnIndex(n.columnIndex),t=this._getFocusedCell())}return t},_enterKeyHandler:function(e,t){var i=this._getFocusedCell(),r=this.getVisibleRowIndex(),n=this._focusedView&&this._focusedView.getRow(r);if(this.option("grouping.allowCollapsing")&&Vo(n)||this.option("masterDetail.enabled")&&i&&i.hasClass(Th)){var a=this._dataController.getKeyByRowIndex(r),s=this._dataController.items()[r];a!==void 0&&s&&s.data&&!s.data.isContinuation&&this._dataController.changeRowExpand(a)}else this._processEnterKeyForDataCell(e,t)},_processEnterKeyForDataCell:function(e,t){var i=this._getEnterKeyDirection(e),r=this._allowEditingOnEnterKey();t||!r&&i?(this._handleEnterKeyEditingCell(e.originalEvent),i==="next"||i==="previous"?this._targetCellTabHandler(e,i):(i==="upArrow"||i==="downArrow")&&this._navigateNextCell(e.originalEvent,i)):r&&this._startEditing(e)},_getEnterKeyDirection:function(e){var t=this.option("keyboardNavigation.enterKeyDirection"),i=e.shift;if(t==="column")return i?"upArrow":"downArrow";if(t==="row")return i?"previous":"next"},_handleEnterKeyEditingCell:function(e){var t=e.target,i=this._getCellElementFromTarget(t),r=this._isRowEditMode();this._updateFocusedCellPosition(i),r?(this._focusEditFormCell(i),setTimeout(this._editingController.saveEditData.bind(this._editingController))):(te.trigger(W(t),"change"),this._closeEditCell(),e.preventDefault())},_escapeKeyHandler:function(e,t){var i=this._getCellElementFromTarget(e.originalEvent.target);t&&(this._updateFocusedCellPosition(i),this._isRowEditMode()?(this._focusEditFormCell(i),this._editingController.cancelEditData(),this._dataController.items().length===0&&(this._resetFocusedCell(),this._editorFactory.loseFocus())):this._editingController.getEditMode()==="cell"?this._editingController.cancelEditData():this._closeEditCell(),e.originalEvent.preventDefault())},_ctrlFKeyHandler:function(e){if(this.option("searchPanel.visible")){var t=this._headerPanel.getSearchTextEditor();t&&(t.focus(),e.originalEvent.preventDefault())}},_f2KeyHandler:function(){var e=this._editingController.isEditing(),t=this.getVisibleRowIndex(),i=this._focusedView&&this._focusedView.getRow(t);!e&&Hl(i)&&this._startEditing()},_navigateNextCell:function(e,t){var i=this._getNextCell(t),r=this._getDirectionCodeByKey(t),n=i&&this._isCellValid(i),a=n?this._arrowKeysHandlerFocusCell(e,i,r):!1;return a},_arrowKeysHandlerFocusCell:function(e,t,i){var r=i==="prevRow"||i==="nextRow",n=this._fireFocusChangingEvents(e,t,r,!0);return t=n.$newCellElement,!n.cancel&&this._isCellValid(t)?(this._focus(t,!n.isHighlighted),!0):!1},_beginFastEditing:function(e,t){if(!this._isFastEditingAllowed()||e.altKey||e.ctrlKey||this._editingController.isEditing())return!1;if(t)this._startEditing(e,mg);else{var i=e.key,r=e.keyCode||e.which,n=i||r&&String.fromCharCode(r);n&&(n.length===1||n===mg)&&this._startEditing(e,n)}return!0},_pointerEventHandler:function(e){var t=e.event||e,i=W(t.currentTarget),r=this.getView("rowsView"),n=r&&r.element(),a=i.parent(),s=W(t.target).is(Qh),o=!!W(t.target).closest(".".concat(Kre)).length,l=i.hasClass(Th);this._isEventInCurrentGrid(t)&&(!o&&(this._isCellValid(i,!s)||l)?(i=this._isInsideEditForm(i)?W(t.target):i,this._focusView(),W(n).removeClass(nE),a.hasClass(NR)?(this._updateFocusedCellPosition(i),this._applyTabIndexToElement(this._focusedView.element()),this._focusedView.focus(!0)):this._isMasterDetailCell(i)?this._updateFocusedCellPosition(i):this._clickTargetCellHandler(t,i)):i.is("td")&&this._resetFocusedCell())},_clickTargetCellHandler:function(e,t){var i=this.getView("rowsView").getCellIndex(t),r=this._columnsController.getVisibleColumns()[i],n=this._isCellEditMode();this.setCellFocusType();var a=this._fireFocusChangingEvents(e,t,!0);if(t=a.$newCellElement,a.cancel)this.setRowFocusType(),this.setFocusedRowIndex(a.prevRowIndex),this._editingController.isEditing()&&n&&this._closeEditCell();else{if(a.resetFocusedRow){this.getController("focus")._resetFocusedRow();return}if(a.rowIndexChanged&&(t=this._getFocusedCell()),!a.isHighlighted&&!n&&this.setRowFocusType(),this._updateFocusedCellPosition(t),this._allowRowUpdating()&&n&&r&&r.allowEditing)this._isNeedFocus=!1,this._isHiddenFocus=!1;else{t=this._getFocusedCell();var s=e&&W(e.target).closest(aE+", td"),o=s&&s.not(t).is(aE),l=!!r&&!r.command&&t.hasClass(VR),u=!l&&(!a.isHighlighted||o);this._focus(t,u,o)}}},_allowRowUpdating:function(){var e=this.getVisibleRowIndex(),t=this._dataController.items()[e];return this._editingController.allowUpdating({row:t},"click")},focus:function(e){var t,i=this.option("focusedRowEnabled"),r=tu(W(e));e||(t=".dx-datagrid-rowsview .dx-row[tabindex]",i||(t+=", .dx-datagrid-rowsview .dx-row > td[tabindex]"),e=this.component.$element().find(t).first()),e&&this._focusElement(W(e),r)},getFocusedView:function(){return this._focusedView},setupFocusedView:function(){this.isKeyboardEnabled()&&!Z(this._focusedView)&&this._focusView()},_focusElement:function(e,t){var i=W(this._getRowsViewElement()),r=e.closest(i),n=this.isRowFocusType(),a={};!r.length||tu(e)&&!this._isCellValid(e)||(this._focusView(),this._isNeedFocus=!0,this._isNeedScroll=!0,(tu(e)||Vo(e))&&(this.setCellFocusType(),a=this._fireFocusChangingEvents(null,e,!1,t),e=a.$newCellElement,n&&!a.isHighlighted&&this.setRowFocusType()),a.cancel||(this._focus(e,!a.isHighlighted),this._focusInteractiveElement(e)))},_getFocusedViewByElement:function(e){var t=this.getFocusedView(),i=t&&W(t.element());return e&&e.closest(i).length!==0},_focusView:function(){this._focusedView=this.getView("rowsView")},_resetFocusedView:function(){this.setRowFocusType(),this._focusedView=null},_focusInteractiveElement:function(e,t){if(e){var i=this._getInteractiveElement(e,t);Ee.focusAndSelectElement(this,i)}},_focus:function(e,t,i){var r=e&&!e.hasClass(To)?e.closest(".".concat(To)):e;if(!(r&&Yre(r))){var n=this._focusedView,a=n&&n.element(),s;this._isHiddenFocus=t;var o=Vo(r)||this.isRowFocusType();o?(s=r,n&&this.setFocusedRowIndex(this._getRowIndex(r))):tu(e)&&(s=e,this._updateFocusedCellPosition(e)),s&&(a&&a.find(".dx-row[tabindex], .dx-row > td[tabindex]").not(s).removeClass(Ah).removeAttr("tabindex"),te.one(s,"blur",l=>{l.relatedTarget&&s.removeClass(Ah)}),i||(this._applyTabIndexToElement(s),te.trigger(s,"focus")),t?(s.addClass(Ah),o&&e.addClass(Ah)):this._editorFactory.focus(s))}},_updateFocus:function(e){this._updateFocusTimeout=setTimeout(()=>{var t=this._editingController,i=t.getEditMode()===oE,r=t.getEditMode()===sE;if(i&&t.hasChanges()||r&&t.isNewRowInEditMode()){t._focusEditingCell();return}var n=this._getFocusedCell(),a=t.isEditing();if(n&&!(this._isMasterDetailCell(n)&&!this._isRowEditMode())){if(this._hasSkipRow(n.parent())){var s=this._focusedCellPosition&&this._focusedCellPosition.rowIndex>0?"upArrow":"downArrow";n=this._getNextCell(s)}if(Lr(n))if(n.is("td")||n.hasClass(this.addWidgetPrefix($re))){var o=n.is(rE),l=n.find(":focus"),u=Lr(l);if((e||!o)&&this._editorFactory.focus()){if(o&&u){Ee.focusAndSelectElement(this,l);return}!u&&this._focus(n)}else!u&&(this._isNeedFocus||this._isHiddenFocus)&&this._focus(n,this._isHiddenFocus);a&&this._focusInteractiveElement.bind(this)(n)}else te.trigger(n,"focus")}})},_getFocusedCell:function(){return W(this._getCell(this._focusedCellPosition))},_updateFocusedCellPositionByTarget:function(e){var t,i=this._getElementType(e);if(i==="row"&&Z((t=this._focusedCellPosition)===null||t===void 0?void 0:t.columnIndex)){var r=W(e);this._focusedView&&Vo(r)&&this.setFocusedRowIndex(this._getRowIndex(r))}else this._updateFocusedCellPosition(this._getCellElementFromTarget(e))},_updateFocusedCellPosition:function(e,t){var i=this._getCellPosition(e,t);return i&&(!e.length||i.rowIndex>=0&&i.columnIndex>=0)&&this.setFocusedCellPosition(i.rowIndex,i.columnIndex),i},_getFocusedColumnIndexOffset:function(e){var t=0,i=this._columnsController.getVisibleColumns()[e];return i&&i.fixed?t=this._getFixedColumnIndexOffset(i):e>=0&&(t=this._columnsController.getColumnIndexOffset()),t},_getFixedColumnIndexOffset:function(e){var t=Zre(this,e)?this._getVisibleColumnCount()-this._columnsController.getVisibleColumns().length:0;return t},_getCellPosition:function(e,t){var i,r=Lr(e)&&e.closest("tr"),n=this.getView("rowsView");if(Lr(r)){var a=this._getRowIndex(r);return i=n.getCellIndex(e,a),i+=this._getFocusedColumnIndexOffset(i),t&&(i=t==="previous"?i-1:i+1,i=this._applyColumnIndexBoundaries(i)),{rowIndex:a,columnIndex:i}}},_focusCell:function(e,t){if(this._isCellValid(e))return this._focus(e,t),!0},_focusEditFormCell:function(e){e.hasClass(iE)&&this._editorFactory.focus(e,!0)},_resetFocusedCell:function(e){var t,i=this._getFocusedCell();Lr(i)&&i.removeAttr("tabindex"),this._isNeedFocus=!1,this._isNeedScroll=!1,this._focusedCellPosition={},clearTimeout(this._updateFocusTimeout),(t=this._focusedView)===null||t===void 0||t.renderFocusState({preventScroll:e})},restoreFocusableElement:function(e,t){var i,r,n=Z(e),a=this.getView("rowsView"),s=a.element(),o=this._focusedCellPosition.columnIndex,l=this._dataController.getRowIndexOffset();e=n?e:a.getTopVisibleItemIndex()+l,n?(r=a.getRow(e-l),i=this._fireFocusedRowChanging(t,r),!i.cancel&&i.rowIndexChanged&&(e=i.newRowIndex)):(this._editorFactory.loseFocus(),this._applyTabIndexToElement(s),te.trigger(s,"focus")),(!n||!i.cancel)&&this.setFocusedCellPosition(e,o),n&&this._updateFocus()},_getNewPositionByCode:function(e,t,i){var r=e.columnIndex,n=e.rowIndex,a;if(e.rowIndex===void 0&&i==="next")return{columnIndex:0,rowIndex:0};switch(i){case"nextInRow":case"next":a=this._getVisibleColumnCount(),r<a-1&&t!=="row"&&this._hasValidCellAfterPosition({columnIndex:r,rowIndex:n})?r++:!this._isLastRow(n)&&i==="next"&&(r=0,n++);break;case"previousInRow":case"previous":r>0&&t!=="row"&&this._hasValidCellBeforePosition({columnIndex:r,rowIndex:n})?r--:n>0&&i==="previous"&&(n--,a=this._getVisibleColumnCount(),r=a-1);break;case"upArrow":n=n>0?n-1:n;break;case"downArrow":n=this._isLastRow(n)?n:n+1}return{columnIndex:r,rowIndex:n}},setFocusedCellPosition:function(e,t){this.setFocusedRowIndex(e),this.setFocusedColumnIndex(t)},setFocusedRowIndex:function(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.rowIndex=e},setFocusedColumnIndex:function(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.columnIndex=e},getRowIndex:function(){return this._focusedCellPosition?this._focusedCellPosition.rowIndex:-1},getColumnIndex:function(){return this._focusedCellPosition?this._focusedCellPosition.columnIndex:-1},getVisibleRowIndex:function(){var e=this._focusedCellPosition&&this._focusedCellPosition.rowIndex;return!Z(e)||e<0?-1:e-this._dataController.getRowIndexOffset()},getVisibleColumnIndex:function(){var e=this._focusedCellPosition&&this._focusedCellPosition.columnIndex;return Z(e)?e-this._columnsController.getColumnIndexOffset():-1},_applyColumnIndexBoundaries:function(e){var t=this._getVisibleColumnCount();return e<0?e=0:e>=t&&(e=t-1),e},_isCellByPositionValid:function(e){var t=W(this._getCell(e));return this._isCellValid(t)},_isLastRow:function(e){var t=this._dataController,i=t.items().filter(r=>r.visible!==!1);return this._isVirtualRowRender()?e>=t.getMaxRowIndex():e===i.length-1},_isFirstValidCell:function(e){var t=!1;return e.rowIndex===0&&e.columnIndex>=0&&(t=t||!this._hasValidCellBeforePosition(e)),t},_hasValidCellBeforePosition:function(e){for(var t=e.columnIndex,i=!1;t>0&&!i;){var r={columnIndex:--t,rowIndex:e.rowIndex};i=this._isCellByPositionValid(r)}return i},_hasValidCellAfterPosition:function(e){for(var t=e.columnIndex,i=!1,r=this._getVisibleColumnCount();t<r-1&&!i;){var n={columnIndex:++t,rowIndex:e.rowIndex};i=this._isCellByPositionValid(n)}return i},_isLastValidCell:function(e){var t=e.columnIndex>=0?e.columnIndex+1:0,i=e.rowIndex,r={columnIndex:t,rowIndex:i},n=this._dataController.getVisibleRows(),a=n&&n[i],s=this._isLastRow(i);return s?a&&a.rowType==="group"&&e.columnIndex>0||e.columnIndex===this._getVisibleColumnCount()-1?!0:this._isCellByPositionValid(r)?!1:this._isLastValidCell(r):!1},_isCellValid:function(e,t){if(Lr(e)){var i=this.getView("rowsView"),r=e.parent(),n=this._columnsController,a=i.getCellIndex(e)+n.getColumnIndexOffset(),s=n.getVisibleColumns(null,!0)[a],o=this._getVisibleColumnCount(),l=this._editingController,u=ec(r),d=s&&s.showWhenGrouped,c=s&&!e.hasClass(Th)&&Hl(r);if(this._isMasterDetailCell(e))return!0;if(o>a&&(!u&&s&&(!Z(s.groupIndex)||d&&c)||parseInt(e.attr("colspan"))>1)){var h=this._dataController.items(),f=i.getRowIndex(r),p=h[f],g=l&&this._isCellEditMode()&&l.isEditing(),m=l&&l.isEditRow(f),v=m||g;return s.command?this._isLegacyNavigation()?!v&&s.command==="expand":g?!1:m?s.command!=="select":!v:g&&p&&p.rowType!=="data"?!1:!v||s.allowEditing||t}}},getFirstValidCellInRow:function(e,t){var i=e.find("> td"),r,n;t=t||0;for(var a=t;a<i.length;++a)if(r=i.eq(a),this._isCellValid(r)){n=r;break}return n},_getNextCell:function(e,t,i){var r=i||this._focusedCellPosition,n=this.isRowFocusType(),a=n||["next","previous"].includes(e),s,o;if(this._focusedView&&r){var l=this._getNewPositionByCode(r,t,e);s=W(this._getCell(l));var u=e==="previous"?this._isFirstValidCell(l):this._isLastValidCell(l);if(Lr(s)&&!this._isCellValid(s)&&this._isCellInRow(l,a)&&!u&&(n?s=this.getFirstValidCellInRow(s.parent(),l.columnIndex):s=this._getNextCell(e,"cell",l)),o=Lr(s)&&s.parent(),this._hasSkipRow(o)){var d=this._getRowIndex(o);if(!this._isLastRow(d))s=this._getNextCell(e,"row",{columnIndex:r.columnIndex,rowIndex:d});else return null}return Lr(s)?s:null}return null},_startEditing:function(e,t){var i=this._focusedCellPosition,r=this.getVisibleRowIndex(),n=this.getVisibleColumnIndex(),a=this._dataController.items()[r],s=this._columnsController.getVisibleColumns()[n];this._isAllowEditing(a,s)&&(this._isRowEditMode()?this._editingController.editRow(r):i&&this._startEditCell(e,t))},_isAllowEditing:function(e,t){return this._editingController.allowUpdating({row:e})&&t&&t.allowEditing},_editFocusedCell:function(){var e=this.getVisibleRowIndex(),t=this.getVisibleColumnIndex();return this._editingController.editCell(e,t)},_startEditCell:function(e,t){this._fastEditingStarted=Z(t);var i=this._editFocusedCell();if(this._isFastEditingStarted()){if(i===!0)this._editingCellHandler(e,t);else if(i&&i.done){var r=t!==mg?t:"";i.done(()=>this._editingCellHandler(e,r))}}},_editingCellHandler:function(e,t){var i,r,n=this._getFocusedCell().find(Qh).eq(0),a=Oa(e,{type:"keydown",target:n.get(0)}),s=Oa(e,{type:"keypress",target:n.get(0)}),o=Oa(e,{type:"input",target:n.get(0)});if(o.originalEvent&&(o.originalEvent=Oa(o.originalEvent,{data:t})),(i=(r=n.get(0)).select)===null||i===void 0||i.call(r),te.trigger(n,a),!a.isDefaultPrevented()&&(te.trigger(n,s),!s.isDefaultPrevented())){var l=Qt.mozilla?25:0;setTimeout(()=>{n.val(t);var u=n.closest(".".concat(Gre));te.off(u,"focusout"),te.one(u,"focusout",function(){te.trigger(n,"change")}),te.trigger(n,o)},l)}},_fireFocusChangingEvents:function(e,t,i,r){var n={},a=this._getCellPosition(t)||{};return this.isCellFocusType()&&(n=this._fireFocusedCellChanging(e,t,r),n.cancel||(a.columnIndex=n.newColumnIndex,a.rowIndex=n.newRowIndex,r=n.isHighlighted,t=W(this._getCell(a)))),!n.cancel&&i&&t&&(n=this._fireFocusedRowChanging(e,t.parent()),n.cancel||(a.rowIndex=n.newRowIndex,n.isHighlighted=r)),n.$newCellElement=W(this._getCell(a)),n.$newCellElement.length||(n.$newCellElement=t),n},_fireFocusedCellChanging:function(e,t,i){var r=this.option("focusedColumnIndex"),n=this.option("focusedRowIndex"),a=this._getCellPosition(t),s=a?a.columnIndex:-1,o=a?a.rowIndex:-1,l={cellElement:t,prevColumnIndex:r,prevRowIndex:n,newColumnIndex:s,newRowIndex:o,rows:this._dataController.getVisibleRows(),columns:this._columnsController.getVisibleColumns(),event:e,isHighlighted:i||!1,cancel:!1};return this._canceledCellPosition=null,this.executeAction("onFocusedCellChanging",l),(l.newColumnIndex!==s||l.newRowIndex!==o)&&(l.$newCellElement=W(this._getCell({columnIndex:l.newColumnIndex,rowIndex:l.newRowIndex}))),l.cancel&&(this._canceledCellPosition={rowIndex:o,columnIndex:s}),l},_fireFocusedCellChanged:function(e,t,i){var r=this._dataController,n=this.getView("rowsView").getCellIndex(e),a=this._getRowIndex(e&&e.parent()),s=Math.min(a-r.getRowIndexOffset(),r.items().length-1),o=this._editingController.isEditCell(s,n),l=r.items()[s];!o&&(t!==n||i!==a)&&this.executeAction("onFocusedCellChanged",{cellElement:e,columnIndex:n,rowIndex:a,row:l,column:this._columnsController.getVisibleColumns()[n]})},_fireFocusedRowChanging:function(e,t){var i=this._getRowIndex(t),r=this._dataController,n=this.option("focusedRowIndex"),a=r.loadingOperationTypes(),s={rowElement:t,prevRowIndex:n,newRowIndex:i,event:e,rows:r.getVisibleRows(),cancel:!1};return!r||r.isLoading()&&(a.reload||a.paging)?(s.cancel=!0,s):(this.option("focusedRowEnabled")&&(this.executeAction("onFocusedRowChanging",s),!s.cancel&&s.newRowIndex!==i&&(s.resetFocusedRow=s.newRowIndex<0,s.resetFocusedRow||this.setFocusedRowIndex(s.newRowIndex),s.rowIndexChanged=!0)),s)},_fireFocusedRowChanged:function(e){var t,i=this.option("focusedRowKey"),r=this.getController("focus"),n=r==null?void 0:r.getFocusedRowIndexByKey(i);if(this.option("focusedRowEnabled")){if(n>=0){var a=this._dataController;t=n>=0&&a.getVisibleRows()[n-a.getRowIndexOffset()]}this.executeAction("onFocusedRowChanged",{rowElement:e,rowIndex:n,row:t})}},_isEventInCurrentGrid:function(e){return Ee.isElementInCurrentGrid(this,W(e.target))},_isRowEditMode:function(){var e=this._editingController.getEditMode();return e===qre||e===HR},_isCellEditMode:function(){var e=this._editingController.getEditMode();return e===oE||e===sE},_isFastEditingAllowed:function(){return this._isCellEditMode()&&this.option("keyboardNavigation.editOnKeyPress")},_getInteractiveElement:function(e,t){var i=e.find(Qh).filter(":visible");return t?i.last():i.first()},_applyTabIndexToElement:function(e){var t=this.option("tabIndex")||0;e.attr("tabindex",Z(t)?t:0)},_getCell:function(e){if(this._focusedView&&e){var t=this._dataController.getRowIndexOffset(),i=this._columnsController.getVisibleColumns(null,!0)[e.columnIndex],r=i&&i.fixed?this._getFixedColumnIndexOffset(i):this._columnsController.getColumnIndexOffset(),n=e.rowIndex>=0?e.rowIndex-t:-1,a=e.columnIndex>=0?e.columnIndex-r:-1;return this._focusedView.getCell({rowIndex:n,columnIndex:a})}},_getRowIndex:function(e){var t=this.getView("rowsView"),i=t.getRowIndex(e);return i>=0&&(i+=this._dataController.getRowIndexOffset()),i},_hasSkipRow:function(e){var t=e&&e.get(0);return t&&(t.style.display==="none"||e.hasClass(this.addWidgetPrefix(Fre))||ec(e)&&!e.hasClass(this.addWidgetPrefix(tE)))},_allowEditingOnEnterKey:function(){return this.option("keyboardNavigation.enterKeyAction")==="startEdit"},_isLegacyNavigation:function(){return this.option("useLegacyKeyboardNavigation")},_getDirectionCodeByKey:function(e){var t;switch(e){case"upArrow":t="prevRow";break;case"downArrow":t="nextRow";break;case"leftArrow":t=this.option("rtlEnabled")?"nextInRow":"previousInRow";break;case"rightArrow":t=this.option("rtlEnabled")?"previousInRow":"nextInRow"}return t},_isVirtualScrolling:function(){var e=this.option("scrolling.mode");return e==="virtual"||e==="infinite"},_isVirtualRowRender:function(){return this._isVirtualScrolling()||Ee.isVirtualRowRendering(this)},_isVirtualColumnRender:function(){return this.option("scrolling.columnRenderingMode")==="virtual"},_scrollBy:function(e,t,i,r){var n=this,a=this.getView("rowsView").getScrollable();return n._focusedCellPosition&&a.on("scroll",function s(){a.off("scroll",s),setTimeout(n.restoreFocusableElement.bind(n,i,r))}),a.scrollBy({left:e,top:t})},_isInsideEditForm:function(e){var t=W(e).closest("."+this.addWidgetPrefix(tE));return t.length&&this.elementIsInsideGrid(t)},_isMasterDetailCell:function(e){var t=W(e).closest("."+iE);return t.length&&this.elementIsInsideGrid(t)},_processNextCellInMasterDetail:function(e){!this._isInsideEditForm(e)&&e&&this._applyTabIndexToElement(e)},_handleTabKeyOnMasterDetailCell:function(e,t){if(this._isMasterDetailCell(e)){this._updateFocusedCellPosition(W(e),t);var i=this._getNextCell(t,"row");return this._processNextCellInMasterDetail(i),!0}return!1},_getElementType:function(e){return W(e).is("tr")?"row":"cell"},_isFastEditingStarted:function(){return this._isFastEditingAllowed()&&this._fastEditingStarted},_getVisibleColumnCount:function(){return this._columnsController.getVisibleColumns(null,!0).length},_isCellInRow:function(e,t){var i=e.columnIndex,r=this._getVisibleColumnCount();return t?i>=0&&i<=r-1:i>0&&i<r-1},_getCellElementFromTarget:function(e){var t=this._getElementType(e),i=W(e),r;return t==="cell"?r=i.closest(".".concat(To," > td")):r=i.children().not("."+Th).first(),r},_getRowsViewElement:function(){var e=this.getView("rowsView");return e&&e.element()},isKeyboardEnabled:function(){return this.option("keyboardNavigation.enabled")},_processCanceledEditCellPosition:function(e,t){if(this._canceledCellPosition){var i=this._canceledCellPosition.rowIndex===e&&this._canceledCellPosition.columnIndex===t;return this._canceledCellPosition=null,i}},updateFocusedRowIndex:function(){var e=this._dataController,t=this.getVisibleRowIndex(),i=e.items(),r=i.length?i.length-1:-1,n=e.getRowIndexOffset();r>=0&&t>r&&this.setFocusedRowIndex(r+n)}}),ene={defaultOptions:function(){return{useLegacyKeyboardNavigation:!1,keyboardNavigation:{enabled:!0,enterKeyAction:"startEdit",enterKeyDirection:"none",editOnKeyPress:!1}}},controllers:{keyboardNavigation:Qre},extenders:{views:{rowsView:{_rowClick:function(e){var t=this.getController("editing").getEditRowIndex(),i=this.getController("keyboardNavigation"),r=i.isKeyboardEnabled();t===e.rowIndex&&i.setCellFocusType();var n=(zR()||!r)&&this.option("focusedRowEnabled");n&&this._triggerPointerDownEventHandler(e,!r),this.callBase.apply(this,arguments)},_triggerPointerDownEventHandler:function(e,t){var i=e.event.originalEvent;if(i){var r=this.getController("keyboardNavigation"),n=W(i.target),a=this.getCellIndex(n),s=this.getController("columns").getVisibleColumns()[a],o=this.getController("data").items()[e.rowIndex];if(r._isAllowEditing(o,s)||t){var l=Oa(i,{currentTarget:i.target});r._pointerEventHandler(l)}}},renderFocusState:function(e){var{preventScroll:t,pageSizeChanged:i}=e??{},r=this.getController("keyboardNavigation"),n=this.element();n&&!$a(n)&&n.attr("tabindex",null),i&&r.updateFocusedRowIndex();var a=r.getVisibleRowIndex();(!Z(a)||a<0)&&(a=0);var s=this.getCellElements(a);r.isKeyboardEnabled()&&s.length&&this.updateFocusElementTabIndex(s,t)},updateFocusElementTabIndex:function(e){var t=this.getController("keyboardNavigation"),i=e.eq(0).parent();if(Vo(i))t._applyTabIndexToElement(i);else{var r=t.getColumnIndex();(!Z(r)||r<0)&&(r=0),this._updateFocusedCellTabIndex(e,r)}},_updateFocusedCellTabIndex:function(e,t){var i=this.getController("keyboardNavigation"),r=e?e.length:-1,n=function(o){var l=i._isMasterDetailCell(o),u=i._isCellValid(o);if(!l&&u&&tu(o))return i._applyTabIndexToElement(o),i.setCellFocusType(),!0},a=e.filter("[aria-colindex='".concat(t+1,"']"));if(a.length)n(a);else{r<=t&&(t=r-1);for(var s=t;s<r&&!n(W(e[s]));++s);}},renderDelayedTemplates:function(e){this.callBase.apply(this,arguments),this._renderFocusByChange(e)},_renderFocusByChange(e){var{operationTypes:t,repaintChangesOnly:i}=e??{},{fullReload:r,pageSize:n}=t??{};if(!e||!i||r||n){var a=Jre(this);this.renderFocusState({preventScroll:a,pageSizeChanged:n})}},_renderCore:function(e){this.callBase.apply(this,arguments),this._renderFocusByChange(e)},_editCellPrepared:function(e){var t=this._getEditorInstance(e),i=this.getController("keyboardNavigation"),r=i&&i._isFastEditingStarted();t&&r&&this._handleEditingNavigationMode(t),this.callBase.apply(this,arguments)},_handleEditingNavigationMode:function(e){["downArrow","upArrow"].forEach(function(i){var r=e._supportedKeys()[i];e.registerKeyHandler(i,n=>{var a=e._input().attr("aria-expanded")==="true";if(a)return r&&r.call(e,n)})}),e.registerKeyHandler("leftArrow",me),e.registerKeyHandler("rightArrow",me);var t=e.NAME===Ure&&e.option("useMaskBehavior");t&&e.registerKeyHandler("enter",me)},_getEditorInstance:function(e){var t=e.find(".dx-texteditor").eq(0);return Ee.getWidgetInstance(t)}}},controllers:{editing:{editCell:function(e,t){var i=this.getController("keyboardNavigation");if(i._processCanceledEditCellPosition(e,t))return!1;var r=this.callBase(e,t);return r&&i.setupFocusedView(),r},editRow:function(e){var t=this.getController("keyboardNavigation"),i=t.getVisibleColumnIndex(),r=this._columnsController.getVisibleColumns()[i];(r&&r.type||this.option("editing.mode")===HR)&&t._resetFocusedCell(),this.callBase(e)},addRow:function(e){var t=this.getController("keyboardNavigation");return t.setupFocusedView(),t.setCellFocusType(),this.callBase.apply(this,arguments)},getFocusedCellInRow:function(e){var t=this.getController("keyboardNavigation"),i=this.callBase(e);if(t.isKeyboardEnabled()&&t._focusedCellPosition.rowIndex===e){var r=t._getFocusedCell();Lr(r)&&!r.hasClass(jre)&&(i=r)}return i},_processCanceledEditingCell:function(){this.closeEditCell().done(()=>{var e=this.getController("keyboardNavigation");e._updateFocus()})},init:function(){this.callBase(),this._keyboardNavigationController=this.getController("keyboardNavigation")},closeEditCell:function(){var e=this._keyboardNavigationController;e._fastEditingStarted=!1;var t=this.callBase.apply(this,arguments);return e._updateFocus(),t},_delayedInputFocus:function(){this._keyboardNavigationController._isNeedScroll=!0,this.callBase.apply(this,arguments)},_isEditingStart:function(){var e=this.getController("keyboardNavigation"),t=this.callBase.apply(this,arguments);if(t&&!e._isNeedFocus){var i=e._getFocusedCell();e._focus(i,!0)}return t}},data:{_correctRowIndices:function(e){var t=this,i=t.getController("keyboardNavigation"),r=t.getController("editorFactory"),n=i._focusedCellPosition;if(t.callBase.apply(t,arguments),n&&n.rowIndex>=0){var a=e(n.rowIndex);a&&(n.rowIndex+=a,r.refocus())}},getMaxRowIndex:function(){var e=this.items().length-1,t=this.virtualItemsCount();if(t){var i=this.getRowIndexOffset();e+=i+t.end}return e}},adaptiveColumns:{_showHiddenCellsInView:function(e){var{viewName:t,$cells:i,isCommandColumn:r}=e;this.callBase.apply(this,arguments),t===dE&&!r&&i.each((n,a)=>{var s=W(a);cE(s)&&s.attr("tabindex",0)})},_hideVisibleCellInView:function(e){var{viewName:t,$cell:i,isCommandColumn:r}=e;this.callBase.apply(this,arguments),t===dE&&!r&&cE(i)&&i.removeAttr("tabindex")}}}}};Le.registerModule("keyboardNavigation",ene);function Gv(e,t,i,r){var n=0;if(e<t)for(;n<i.items.length;n++)Gv(e+1,t,i.items[n],r);e===t&&r(i)}function Oh(e,t){var i;if("map"in e)return e.map(t);var r=new Array(e.length);for(i in e)r[i]=t(e[i],i);return r}function tne(e){return e!==e||e===""||e===null||e===void 0}function ine(e){return e===G_.count}function fE(e){var t=jt(e.selector),i="skipEmptyValues"in e?e.skipEmptyValues:!0,r=e.aggregator;if(typeof r=="string"&&(r=G_[r],!r))throw Di.Error("E4001",e.aggregator);return{selector:t,aggregator:r,skipEmptyValues:i}}const rne=wt.inherit({ctor:function(e){this._data=e.data,this._groupLevel=e.groupLevel||0,this._totalAggregates=Oh(e.totalAggregates||[],fE),this._groupAggregates=Oh(e.groupAggregates||[],fE),this._totals=[]},calculate:function(){this._totalAggregates.length&&this._calculateTotals(0,{items:this._data}),this._groupAggregates.length&&this._groupLevel>0&&this._calculateGroups({items:this._data})},totalAggregates:function(){return this._totals},_aggregate:function(e,t,i){for(var r=t.items?t.items.length:0,n=0;n<e.length;n++){if(ine(e[n].aggregator)){i[n]=(i[n]||0)+r;continue}for(var a=0;a<r;a++)this._accumulate(n,e[n],i,t.items[a])}},_calculateTotals:function(e,t){if(e===0&&(this._totals=this._seed(this._totalAggregates)),e===this._groupLevel)this._aggregate(this._totalAggregates,t,this._totals);else for(var i=0;i<t.items.length;i++)this._calculateTotals(e+1,t.items[i]);e===0&&(this._totals=this._finalize(this._totalAggregates,this._totals))},_calculateGroups:function(e){var t=this._groupLevel,i=t+1,r=this._seed.bind(this,this._groupAggregates),n=this._aggregate.bind(this,this._groupAggregates),a=this._finalize.bind(this,this._groupAggregates);function s(o){o.aggregates=r(i-1),i===t?n(o,o.aggregates):Gv(i,t,o,function(l){n(l,o.aggregates)}),o.aggregates=a(o.aggregates)}for(;--i>0;)Gv(0,i,e,s)},_seed:function(e,t){return Oh(e,function(i){var r=i.aggregator,n="seed"in r?Re(r.seed)?r.seed(t):r.seed:NaN;return n})},_accumulate:function(e,t,i,r){var n=t.selector(r),a=t.aggregator,s=t.skipEmptyValues;s&&tne(n)||(i[e]!==i[e]?i[e]=n:i[e]=a.step(i[e],n))},_finalize:function(e,t){return Oh(e,function(i,r){var n=i.aggregator.finalize;return n?n(t[r]):t[r]})}});var nne="dx-datagrid-total-footer",ane="dx-datagrid-summary-item",sne="dx-datagrid-text-content",one="dx-datagrid-group-footer",lne="dx-datagrid-group-text-content",une="dx-datagrid-nowrap",dne="dx-footer-row",gg="groupFooter",WR="totalFooter",jR=function(e,t){var i=W(e),r=t.column,n=t.summaryItems,a=[];if(!r.command&&n){for(var s=0;s<n.length;s++){var o=n[s];a.push(W("<div>").css("textAlign",o.alignment||r.alignment).addClass(ane).addClass(sne).addClass(o.cssClass).toggleClass(lne,t.rowType==="group").text(Le.getSummaryText(o,t.summaryTexts)))}i.append(a)}},UR=function(e,t){var i=e.option("summary.texts")||{};return{totalItem:t.row,summaryItems:t.row.summaryCells[t.columnIndex],summaryTexts:i}},vg=function(e){return e.summary||e.aggregates||[]},Kv=function(e){return e.option("summary.recalculateWhileEditing")},hne=td.inherit({_getRows:function(){return this._dataController.footerItems()},_getCellOptions:function(e){return re(this.callBase(e),UR(this,e))},_renderCellContent:function(e,t){jR(e,t),this.callBase.apply(this,arguments)},_renderCore:function(e){var t=!1,i=this._dataController.footerItems()[0];(!e||!e.columnIndices)&&(this.element().empty().addClass(nne).toggleClass(une,!this.option("wordWrapEnabled")),t=!0),i&&i.summaryCells&&i.summaryCells.length&&(this._updateContent(this._renderTable({change:e}),e),t&&this._updateScrollLeftPosition())},_updateContent:function(e,t){if(t&&t.changeType==="update"&&t.columnIndices){var i=this.getTableElement().find(".dx-row"),r=e.find(".dx-row");this._updateCells(i,r,t.columnIndices[0])}else return this.callBase.apply(this,arguments)},_rowClick:function(e){var t=this._dataController.footerItems()[e.rowIndex]||{};this.executeAction("onRowClick",re({},e,t))},_columnOptionChanged:function(e){var t=e.optionNames;e.changeTypes.grouping||(t.width||t.visibleWidth)&&this.callBase(e)},_handleDataChanged:function(e){var t=e.changeType;e.changeType==="update"&&e.repaintChangesOnly?e.totalColumnIndices?e.totalColumnIndices.length&&this.render(null,{changeType:"update",columnIndices:[e.totalColumnIndices]}):this.render():(t==="refresh"||t==="append"||t==="prepend")&&this.render()},_createRow:function(e){var t=this.callBase.apply(this,arguments);return e.rowType===WR&&t.addClass(dne),t},getHeight:function(){return this.getElementHeight()},isVisible:function(){return!!this._dataController.footerItems().length}}),cne={init:function(){this.callBase.apply(this,arguments),this._totalAggregates=[],this._summaryGetter=me},summaryGetter:function(e){if(!arguments.length)return this._summaryGetter;Re(e)&&(this._summaryGetter=e)},summary:function(e){if(!arguments.length)return this._summaryGetter();this._summaryGetter=function(){return e}},totalAggregates:function(){return this._totalAggregates},isLastLevelGroupItemsPagingLocal:function(){var e=this.summary(),t=e&&e.sortByGroups();return t&&t.length},sortLastLevelGroupItems:function(e,t,i){var r=na.multiLevelGroup(cr(e),t).toArray(),n=[];return i.forEach(function(a){(function s(o,l,u,d){d=d||[];for(var c=0;c<o.length;c++)d.push(o[c].key),l===1?u(d,o[c].items):s(o[c].items,l-1,u,d),d.pop()})(r,t.length,function(s,o){a.toString()===s.toString()&&(n=n.concat(o))})}),n}},fne=function(){var e=function(i,r,n,a){var s;if(Kv(i)){var o=i.getController("editing");if(o){var l=o.getInsertedData();l.length&&(n=function d(c,h,f){return f?d(c,h.map(p=>({items:[p]}),f-1)):c.concat(h)}(n,l,a));var u=o.getRemovedData();u.length&&(n=function d(c,h,f){return f?c.map(p=>{var g={},m=d(p.items||[],h,f-1);return Object.defineProperty(g,"aggregates",{get:()=>p.aggregates,set:v=>{p.aggregates=v}}),re(g,p,{items:m})}):c.filter(p=>h.indexOf(p)<0)}(n,u,a))}}return r&&(s=new rne({totalAggregates:r.totalAggregates,groupAggregates:r.groupAggregates,data:n,groupLevel:a}),s.calculate()),s?s.totalAggregates():[]},t=function(i,r,n){var a=n&&n.sortByGroups&&n.sortByGroups();return a&&a.length?function s(o,l,u){if(!o||!l.length)return o;var d=l[0],c=u[0],h;return d&&c&&c.length&&(h=cr(o),le(c,function(f){f===0?h=h.sortBy(this.selector,this.desc):h=h.thenBy(this.selector,this.desc)}),h.enumerate().done(function(f){o=f})),l=l.slice(1),u=u.slice(1),l.length&&u.length&&le(o,function(){this.items=s(this.items,l,u)}),o}(i,r,a):i};return{_customizeRemoteOperations:function(i){var r=this.summary();r&&(i.remoteOperations.summary?(!i.isCustomLoading||i.storeLoadOptions.isLoadingAll)&&(i.storeLoadOptions.group&&(i.remoteOperations.grouping?i.storeLoadOptions.groupSummary=r.groupAggregates:r.groupAggregates.length&&(i.remoteOperations.paging=!1)),i.storeLoadOptions.totalSummary=r.totalAggregates):(r.totalAggregates.length||r.groupAggregates.length&&i.storeLoadOptions.group)&&(i.remoteOperations.paging=!1)),this.callBase.apply(this,arguments);var n=i.cachedData.extra;n&&n.summary&&!i.isCustomLoading&&(i.storeLoadOptions.totalSummary=void 0)},_handleDataLoadedCore:function(i){var r=ra(i.storeLoadOptions.group||i.loadOptions.group||[]),n=i.remoteOperations||{},a=this.summaryGetter()(n);if(!i.isCustomLoading||i.storeLoadOptions.isLoadingAll){if(n.summary)!n.paging&&r.length&&a&&(n.grouping||e(this,{groupAggregates:a.groupAggregates},i.data,r.length),i.data=t(i.data,r,a));else if(!n.paging&&a){var s,o,l=i.operationTypes||{},u=Object.keys(l).some(c=>l[c]);if(!u||!((s=i.cachedData)!==null&&s!==void 0&&(o=s.extra)!==null&&o!==void 0&&o.summary)||r.length&&a.groupAggregates.length){var d=e(this,a,i.data,r.length);i.extra=ft(i.extra)?i.extra:{},i.extra.summary=d,i.cachedData&&(i.cachedData.extra=i.extra)}i.data=t(i.data,r,a)}}i.isCustomLoading||(this._totalAggregates=i.extra&&i.extra.summary||this._totalAggregates),this.callBase(i)}}}();id.extend(cne);id.extend(fne);Le.registerModule("summary",{defaultOptions:function(){return{summary:{groupItems:void 0,totalItems:void 0,calculateCustomSummary:void 0,skipEmptyValues:!0,recalculateWhileEditing:!1,texts:{sum:_e.format("dxDataGrid-summarySum"),sumOtherColumn:_e.format("dxDataGrid-summarySumOtherColumn"),min:_e.format("dxDataGrid-summaryMin"),minOtherColumn:_e.format("dxDataGrid-summaryMinOtherColumn"),max:_e.format("dxDataGrid-summaryMax"),maxOtherColumn:_e.format("dxDataGrid-summaryMaxOtherColumn"),avg:_e.format("dxDataGrid-summaryAvg"),avgOtherColumn:_e.format("dxDataGrid-summaryAvgOtherColumn"),count:_e.format("dxDataGrid-summaryCount")}},sortByGroupSummaryInfo:void 0}},views:{footerView:hne},extenders:{controllers:{data:{_isDataColumn:function(e){return e&&(!Z(e.groupIndex)||e.showWhenGrouped)},_isGroupFooterVisible:function(){for(var e=this.option("summary.groupItems")||[],t=0;t<e.length;t++){var i=e[t],r=this._columnsController.columnOption(i.showInColumn||i.column);if(i.showInGroupFooter&&this._isDataColumn(r))return!0}return!1},_processGroupItems:function(e,t,i){var r=i&&i.data,n=this.callBase.apply(this,arguments);return i&&(i.isGroupFooterVisible===void 0&&(i.isGroupFooterVisible=this._isGroupFooterVisible()),r&&r.items&&i.isGroupFooterVisible&&(i.collectContinuationItems||!r.isContinuationOnNextPage)&&n.push({rowType:gg,key:i.path.slice(),data:r,groupIndex:i.path.length-1,values:[]})),n},_processGroupItem:function(e,t){var i=this;if(t.summaryGroupItems||(t.summaryGroupItems=i.option("summary.groupItems")||[]),e.rowType==="group"){var r=-1,n=-1;le(t.visibleColumns,function(a){var s=t.visibleColumns[a-1];e.groupIndex===this.groupIndex&&(r=this.index),a>0&&s.command==="expand"&&this.command!=="expand"&&(n=this.index)}),e.summaryCells=this._calculateSummaryCells(t.summaryGroupItems,vg(e.data),t.visibleColumns,function(a,s){return a.showInGroupFooter?-1:a.alignByColumn&&s&&!Z(s.groupIndex)&&s.index!==n?s.index:r},!0)}return e.rowType===gg&&(e.summaryCells=this._calculateSummaryCells(t.summaryGroupItems,vg(e.data),t.visibleColumns,function(a,s){return a.showInGroupFooter&&i._isDataColumn(s)?s.index:-1})),e},_calculateSummaryCells:function(e,t,i,r,n){var a=this,s=[],o={};return le(e,function(l,u){var d=a._columnsController.columnOption(u.column),c=u.showInColumn&&a._columnsController.columnOption(u.showInColumn)||d,h=r(u,c);if(h>=0){o[h]||(o[h]=[]);var f=t[l];if(f===f){var p;Z(u.valueFormat)?p=u.valueFormat:u.summaryType!=="count"&&(p=Le.getFormatByDataType(d&&d.dataType)),o[h].push(re({},u,{value:Ue(f)&&d&&d.deserializeValue?d.deserializeValue(f):f,valueFormat:p,columnCaption:d&&d.index!==h?d.caption:void 0}))}}}),jr(o)||i.forEach((l,u)=>{var d=i[u-1],c=n&&((d==null?void 0:d.command)==="expand"||l.command==="expand")?d==null?void 0:d.index:l.index;s.push(o[c]||[])}),s},_getSummaryCells:function(e,t){var i=this,r=i._columnsController;return i._calculateSummaryCells(e,t,r.getVisibleColumns(),function(n,a){return i._isDataColumn(a)?a.index:-1})},_updateItemsCore:function(e){var t,i=this._dataSource,r=this._footerItems,n=r&&r[0]&&r[0].summaryCells,a=this.option("summary.totalItems");if(this._footerItems=[],i&&a&&a.length){var s=i.totalAggregates();t=this._getSummaryCells(a,s),e&&e.repaintChangesOnly&&n&&(e.totalColumnIndices=t.map(function(o,l){return JSON.stringify(o)!==JSON.stringify(n[l])?l:-1}).filter(o=>o>=0)),t.length&&this._footerItems.push({rowType:WR,summaryCells:t})}this.callBase(e)},_prepareUnsavedDataSelector:function(e){if(Kv(this)){var t=this.getController("editing");if(t)return function(i){return i=t.getUpdatedData(i),e(i)}}return e},_prepareAggregateSelector:function(e,t){return e=this._prepareUnsavedDataSelector(e),t==="avg"||t==="sum"?function(i){var r=e(i);return Z(r)?Number(r):r}:e},_getAggregates:function(e,t){var i=this,r=i.getController("columns"),n=i.option("summary.calculateCustomSummary"),a=i.option("summary.skipEmptyValues");return Si(e||[],function(s){var o=r.columnOption(s.column),l=o&&o.calculateCellValue?o.calculateCellValue.bind(o):jt(o?o.dataField:s.column),u=s.summaryType||"count",d=Z(s.skipEmptyValues)?s.skipEmptyValues:a;if(t)return{selector:s.column,summaryType:u};var c=i._prepareAggregateSelector(l,u);if(u==="custom"){n||(gt.log("E1026"),n=function(){});var h={component:i.component,name:s.name};n(h),h.summaryProcess="calculate",u={seed:function(f){return h.summaryProcess="start",h.totalValue=void 0,h.groupIndex=f,delete h.value,n(h),h.totalValue},step:function(f,p){return h.summaryProcess="calculate",h.totalValue=f,h.value=p,n(h),h.totalValue},finalize:function(f){return h.summaryProcess="finalize",h.totalValue=f,delete h.value,n(h),h.totalValue}}}return{selector:c,aggregator:u,skipEmptyValues:d}})},_addSortInfo:function(e,t,i,r){if(t){var n=t.groupIndex;r=r||t.sortOrder,Z(n)&&(e[n]=e[n]||[],e[n].push({selector:i,desc:r==="desc"}))}},_findSummaryItem:function(e,t){var i=-1;return Z(t)&&le(e||[],function(r){if(this.name===t||r===t||this.summaryType===t||this.column===t||(n=this,a=n.summaryType,s=n.column,(a&&s&&a+"_"+s)===t))return i=r,!1;var n,a,s}),i},_getSummarySortByGroups:function(e,t){var i=this,r=i._columnsController,n=r.getGroupColumns(),a=[];if(!(!t||!t.length))return le(e||[],function(){var s=this.sortOrder,o=this.groupColumn,l=i._findSummaryItem(t,this.summaryItem);if(!(l<0)){var u=function(d){return vg(d)[l]};Z(o)?(o=r.columnOption(o),i._addSortInfo(a,o,u,s)):le(n,function(d,c){i._addSortInfo(a,c,u,s)})}}),a},_createDataSourceAdapterCore:function(e,t){var i=this,r=this.callBase(e,t);return r.summaryGetter(function(n){return i._getSummaryOptions(n||t)}),r},_getSummaryOptions:function(e){var t=this,i=t.option("summary.groupItems"),r=t.option("summary.totalItems"),n=t.option("sortByGroupSummaryInfo"),a=t._getAggregates(i,e&&e.grouping&&e.summary),s=t._getAggregates(r,e&&e.summary);if(a.length||s.length)return{groupAggregates:a,totalAggregates:s,sortByGroups:function(){return t._getSummarySortByGroups(n,i)}}},publicMethods:function(){var e=this.callBase();return e.push("getTotalSummaryValue"),e},getTotalSummaryValue:function(e){var t=this._findSummaryItem(this.option("summary.totalItems"),e),i=this._dataSource.totalAggregates();if(i.length&&t>-1)return i[t]},optionChanged:function(e){(e.name==="summary"||e.name==="sortByGroupSummaryInfo")&&(e.name="dataSource"),this.callBase(e)},init:function(){this._footerItems=[],this.callBase()},footerItems:function(){return this._footerItems}},editing:{_refreshSummary:function(){Kv(this)&&!this.isSaving()&&this._dataController.refresh({load:!0,changesOnly:!0})},_addChange:function(e){var t=this.callBase.apply(this,arguments);return e.type&&this._refreshSummary(),t},_removeChange:function(){var e=this.callBase.apply(this,arguments);return this._refreshSummary(),e},cancelEditData:function(){var e=this.callBase.apply(this,arguments);return this._refreshSummary(),e}}},views:{rowsView:{_createRow:function(e){var t=this.callBase.apply(this,arguments);return e&&t.addClass(e.rowType===gg?one:""),t},_renderCells:function(e,t){this.callBase.apply(this,arguments),t.row.rowType==="group"&&t.row.summaryCells&&t.row.summaryCells.length&&this._renderGroupSummaryCells(e,t)},_hasAlignByColumnSummaryItems:function(e,t){return!Z(t.columns[e].groupIndex)&&t.row.summaryCells[e].length},_getAlignByColumnCellCount:function(e,t){for(var i=0,r=1;r<e;r++){var n=t.row.summaryCells.length-r;i=this._hasAlignByColumnSummaryItems(n,t)?r:i}return i},_renderGroupSummaryCells:function(e,t){var i=e.children().last(),r=Number(i.attr("colSpan"))||1,n=this._getAlignByColumnCellCount(r,t);this._renderGroupSummaryCellsCore(i,t,r,n)},_renderGroupSummaryCellsCore:function(e,t,i,r){if(r>0){e.attr("colSpan",i-r);for(var n=0;n<r;n++){var a=t.columns.length-r+n;this._renderCell(e.parent(),re({column:t.columns[a],columnIndex:this._getSummaryCellIndex(a,t.columns)},t))}}},_getSummaryCellIndex:function(e){return e},_getCellTemplate:function(e){return!e.column.command&&!Z(e.column.groupIndex)&&e.summaryItems&&e.summaryItems.length?jR:this.callBase(e)},_getCellOptions:function(e){var t=this.callBase(e);return e.row.summaryCells?re(t,UR(this,e)):t}}}}});var pE="content",vu="content-fixed",pne="dx-master-detail-cell",mE="dx-first-cell",mne="dx-last-cell",gE="dx-state-hover",vE="dx-col-fixed",gne="dx-fixed-columns",_g="dx-pointer-events-none",vs="transparent",_E="dx-group-row",vne="dx-master-detail-row",qn=function(e){var t=-1;return le(e,function(i,r){if(r.command===vs)return t=i,!1}),t},GR=function(e,t,i){var r=0;if(e&&t&&i)for(var n=0;n<e.length;n++)e[n].command===vs?r+=e[n].colspan:(t[r]<i[n]&&(t[r]=i[n]),r++);return t},tb={init:function(){this.callBase(),this._isFixedTableRendering=!1,this._isFixedColumns=!1},_createCol:function(e){return this.callBase(e).toggleClass(vE,!!(this._isFixedTableRendering&&(e.fixed||e.command&&e.command!==vs)))},_correctColumnIndicesForFixedColumns:function(e,t){var i=qn(e),r=e[i].colspan,n=t&&t.columnIndices;n&&(t.columnIndices=n.map(function(a){if(a)return a.map(function(s){return s<i?s:s>=i+r?s-r+1:-1}).filter(function(s){return s>=0})}))},_partialUpdateFixedTable(e){var t=this._fixedTableElement,i=this._getRowElementsCore(t),r=t.children("colgroup");r.replaceWith(this._createColGroup(e));for(var n=0;n<i.length;n++)this._partialUpdateFixedRow(W(i[n]),e)},_partialUpdateFixedRow(e,t){var i=e.get(0).childNodes,r=qn(t),n=t[r],a=this._columnsController.getColumnIndexOffset(),s,o=a+1,l=n.colspan;if(e.hasClass(vne)){var u;i[0].setAttribute("colspan",(u=this._columnsController.getVisibleColumns())===null||u===void 0?void 0:u.length);return}e.hasClass(_E)&&(s=this._getGroupCellOptions({row:e.data("options"),columns:this._columnsController.getVisibleColumns()}),l=s.colspan-Math.max(0,i.length-(s.columnIndex+2)));for(var d=0;d<i.length;d++){var c=s?d===s.columnIndex+1:d===r;i[d].setAttribute("aria-colindex",o),c?(i[d].setAttribute("colspan",l),o+=l):o++}},_renderTable:function(e){var t,i=this.getFixedColumns();this._isFixedColumns=!!i.length;var r=this.callBase(e);if(this._isFixedColumns){var n=e==null?void 0:e.change;if(this._isFixedTableRendering=!0,n!=null&&n.virtualColumnsScrolling&&this.option("scrolling.legacyMode")!==!0)this._partialUpdateFixedTable(i);else{var a=n==null?void 0:n.columnIndices;this._correctColumnIndicesForFixedColumns(i,n),t=this._createTable(i),this._renderRows(t,re({},e,{columns:i})),this._updateContent(t,n),a&&(n.columnIndices=a)}this._isFixedTableRendering=!1}else this._fixedTableElement&&this._fixedTableElement.parent().remove(),this._fixedTableElement=null;return r},_renderRow:function(e,t){var i,r=t.row.cells;if(this.callBase.apply(this,arguments),this._isFixedTableRendering&&r&&r.length){i=0;var n=t.row.cells||[];r=r.slice(),t.row.cells=r;for(var a=0;a<n.length;a++){if(n[a].column&&n[a].column.command===vs){i=(n[a].column.colspan||1)-1;continue}r[a+i]=n[a]}}},_createCell:function(e){var t=this,i=e.column,r=i&&i.command,n=e.rowType,a=t.callBase.apply(t,arguments),s,o,l;(t._isFixedTableRendering||n==="filter")&&(s=t.getFixedColumns(),l=qn(s),o=s[l-1]),t._isFixedTableRendering?r===vs&&(a.addClass(_g).toggleClass(mE,l===0||o&&o.command==="expand").toggleClass(mne,s.length&&l===s.length-1),n!=="freeSpace"&&Ee.setEmptyText(a)):n==="filter"&&a.toggleClass(mE,e.columnIndex===l);var u=t.option("rowAlternationEnabled")&&e.isAltRow;return Qt.mozilla&&e.column.fixed&&e.rowType!=="group"&&!u&&a.addClass(vE),a},_wrapTableInScrollContainer:function(){var e=this.callBase.apply(this,arguments);return this._isFixedTableRendering&&e.addClass(this.addWidgetPrefix(vu)),e},_renderCellContent:function(e,t){var i,r=t.column,n=this._isFixedTableRendering,a=t.rowType==="group"&&Z(r.groupIndex);if(n&&a&&!r.command&&!r.groupCellTemplate&&e.css("pointerEvents","none"),!n&&this._isFixedColumns){if(i=r.fixed||r.command&&r.fixed!==!1,a&&(i=!1,t.row.summaryCells&&t.row.summaryCells.length)){var s=this._columnsController.getVisibleColumns(),o=this._getAlignByColumnCellCount?this._getAlignByColumnCellCount(r.colspan,{columns:s,row:t.row,isFixed:!0}):0;if(o>0){var l=qn(this._columnsController.getFixedColumns());i=s.length-o<l}}if(i)if(r.command&&r.type!=="buttons"||t.rowType==="group"){e.html("&nbsp;").addClass(r.cssClass);return}else e.addClass("dx-hidden-cell")}r.command!==vs&&this.callBase.apply(this,arguments)},_getCellElementsCore:function(e){var t=this.callBase.apply(this,arguments),i=t.parent().hasClass(_E),r=this.name==="columnHeadersView"?e:void 0;if(this._fixedTableElement&&t){var n=this.getFixedColumns(r),a=this._getRowElements(this._fixedTableElement).eq(e).children("td");le(a,(s,o)=>{if(i)t[s]&&o.style.visibility!=="hidden"&&(t[s]=o);else{var l=n[s];if(l)if(l.command===vs)a.eq(s).hasClass(pne)&&(t[s]=o||t[s]);else{var u=this._columnsController.getVisibleIndexByColumn(l,r);t[u]=o||t[u]}}})}return t},getColumnWidths:function(){var e,t=this.callBase(),i=this.getFixedColumns();return this._fixedTableElement&&t.length&&(e=this.callBase(this._fixedTableElement)),GR(i,t,e)},getTableElement:function(){var e=this._isFixedTableRendering?this._fixedTableElement:this.callBase();return e},setTableElement:function(e){this._isFixedTableRendering?this._fixedTableElement=e.addClass(_g):this.callBase(e)},getColumns:function(e,t){return t=t||this.getTableElement(),this._isFixedTableRendering||t&&t.closest("table").parent("."+this.addWidgetPrefix(vu)).length?this.getFixedColumns(e):this.callBase(e,t)},getRowIndex:function(e){var t=this._fixedTableElement;return t&&t.find(e).length?this._getRowElements(t).index(e):this.callBase(e)},getTableElements:function(){var e=this.callBase.apply(this,arguments);return this._fixedTableElement&&(e=W([e.get(0),this._fixedTableElement.get(0)])),e},getFixedColumns:function(e){return this._columnsController.getFixedColumns(e)},getFixedColumnsOffset:function(){var e={left:0,right:0},t;if(this._fixedTableElement){t=this.getTransparentColumnElement();var i=t.position();e={left:i.left,right:At(this.element(),!0)-(At(t,!0)+i.left)}}return e},getTransparentColumnElement:function(){return this._fixedTableElement&&this._fixedTableElement.find("."+_g).first()},getFixedTableElement:function(){return this._fixedTableElement},isFixedColumns:function(){return this._isFixedColumns},_resizeCore:function(){this.callBase(),this.synchronizeRows()},setColumnWidths:function(e){var t,i=this._columnsController.getVisibleColumns(),r=e.widths,n=r&&r.length&&Z(i[0].visibleWidth),a=e.optionNames,s=a&&a.width,o=!1;if(this.callBase.apply(this,arguments),this._fixedTableElement){var l=r&&r.some(function(u){return u==="auto"});o=l&&(!n||!this.isScrollbarVisible(!0)),o&&(t=i),this.callBase(re({},e,{$tableElement:this._fixedTableElement,columns:t,fixed:!0}))}(n||s&&this.option("wordWrapEnabled"))&&this.synchronizeRows()},_createColGroup:function(e){if(this._isFixedTableRendering&&!this.option("columnAutoWidth")){var t=this._columnsController.getVisibleColumns(),i=t.filter(function(r){return!r.width}).length;i&&(e=t)}return this.callBase(e)},_getClientHeight:function(e){var t=e.getBoundingClientRect&&mi(e);return t&&t.height?t.height:e.clientHeight},synchronizeRows:function(){var e=[],t=[],i,r,n,a;if(this._isFixedColumns&&this._tableElement&&this._fixedTableElement){var s=this._getClientHeight(this._tableElement.get(0)),o=this._getClientHeight(this._fixedTableElement.get(0));if(r=this._getRowElements(this._tableElement),n=this._getRowElements(this._fixedTableElement),a=this._findContentElement(),s!==o){for(a&&a.css("height",s),r.css("height",""),n.css("height",""),i=0;i<r.length;i++)e.push(this._getClientHeight(r.get(i))),t.push(this._getClientHeight(n.get(i)));for(i=0;i<r.length;i++){var l=e[i],u=t[i];l>u?n.eq(i).css("height",l):l<u&&r.eq(i).css("height",u)}a&&a.css("height","")}}},setScrollerSpacing:function(e){var t=this.option("rtlEnabled");this.callBase(e),this.element().children("."+this.addWidgetPrefix(vu)).css({paddingLeft:t?e:"",paddingRight:t?"":e})}},_ne=re({},tb,{_getRowVisibleColumns:function(e){return this._isFixedTableRendering?this.getFixedColumns(e):this.callBase(e)},getContextMenuItems:function(e){var t=e.column,i=this.option("columnFixing"),r=this.callBase(e);if(e.row&&e.row.rowType==="header"&&i.enabled===!0&&t&&t.allowFixing){var n=a=>{switch(a.itemData.value){case"none":this._columnsController.columnOption(t.index,"fixed",!1);break;case"left":this._columnsController.columnOption(t.index,{fixed:!0,fixedPosition:"left"});break;case"right":this._columnsController.columnOption(t.index,{fixed:!0,fixedPosition:"right"})}};r=r||[],r.push({text:i.texts.fix,beginGroup:!0,items:[{text:i.texts.leftPosition,value:"left",disabled:t.fixed&&(!t.fixedPosition||t.fixedPosition==="left"),onItemClick:n},{text:i.texts.rightPosition,value:"right",disabled:t.fixed&&t.fixedPosition==="right",onItemClick:n}]},{text:i.texts.unfix,value:"none",disabled:!t.fixed,onItemClick:n})}return r},getFixedColumnElements:function(e){if(Z(e))return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(e).children();var t=this.getColumnElements(),i=this.getTransparentColumnElement();if(t&&i&&i.length){var r=qn(this.getFixedColumns());t.splice(r,i.get(0).colSpan,i.get(0))}return t},getColumnWidths:function(){var e,t=this.callBase(),i=this.getFixedColumnElements(),r=this.getFixedColumns();return this._fixedTableElement&&(i&&i.length?e=this._getWidths(i):e=this.callBase(this._fixedTableElement)),GR(r,t,e)}}),bne=re({},tb,{_detachHoverEvents:function(){this._fixedTableElement&&te.off(this._fixedTableElement,"mouseover mouseout",".dx-data-row"),this._tableElement&&te.off(this._tableElement,"mouseover mouseout",".dx-data-row")},_attachHoverEvents:function(){var e=this,t=function(i){te.on(i,"mouseover mouseout",".dx-data-row",e.createAction(function(r){var n=r.event,a=e.getRowIndex(W(n.target).closest(".dx-row")),s=n.type==="mouseover";a>=0&&(e._tableElement&&e._getRowElements(e._tableElement).eq(a).toggleClass(gE,s),e._fixedTableElement&&e._getRowElements(e._fixedTableElement).eq(a).toggleClass(gE,s))}))};e._fixedTableElement&&e._tableElement&&(t(e._fixedTableElement),t(e._tableElement))},_findContentElement:function(){var e=this,t,i,r=e.addWidgetPrefix(pE),n=e.element(),a=Qt.mozilla?60:0;if(n&&e._isFixedTableRendering){t=n.children("."+r);var s=e.getScrollable();return!t.length&&s&&(t=W("<div>").addClass(r),te.on(t,"scroll",function(o){clearTimeout(e._fixedScrollTimeout),e._fixedScrollTimeout=setTimeout(function(){i=W(o.target).scrollTop(),s.scrollTo({y:i})},a)}),te.on(t,Gu,function(o){var l=W(o.target).closest(".dx-scrollable"),u=!1;if(s&&s.$element().is(l))u=!0;else{var d=l.length&&Tr.getInstance(l.get(0)),c=d&&d.scrollHeight()-d.clientHeight()>0;u=d&&!c}if(u&&(i=s.scrollTop(),s.scrollTo({y:i-o.delta}),s.scrollTop()>0&&s.scrollTop()+s.clientHeight()<s.scrollHeight()+e.getScrollbarWidth()))return!1}),t.appendTo(n)),t}return e.callBase()},_updateScrollable:function(){this.callBase();var e=this.getScrollable();if(!(e!=null&&e._disposed)){var t=e&&e.scrollOffset().top;this._updateFixedTablePosition(t)}},_renderContent:function(e,t){return this._isFixedTableRendering?e.empty().addClass(this.addWidgetPrefix(pE)+" "+this.addWidgetPrefix(vu)).append(t):this.callBase(e,t)},_getGroupCellOptions:function(e){return this._isFixedTableRendering?this.callBase(re({},e,{columns:this._columnsController.getVisibleColumns()})):this.callBase(e)},_renderGroupedCells:function(e,t){return this.callBase(e,re({},t,{columns:this._columnsController.getVisibleColumns()}))},_renderGroupSummaryCells:function(e,t){this._isFixedTableRendering?this.callBase(e,re({},t,{columns:this._columnsController.getVisibleColumns()})):this.callBase(e,t)},_hasAlignByColumnSummaryItems:function(e,t){var i=this.callBase.apply(this,arguments),r=t.columns[e];return t.isFixed?r.fixed&&(i||r.fixedPosition==="right"):i&&(!this._isFixedColumns||!r.fixed)},_renderGroupSummaryCellsCore:function(e,t,i,r){var n;if(this._isFixedTableRendering){t.isFixed=!0,n=this._getAlignByColumnCellCount(i,t),t.isFixed=!1;var a=t.columns.length-n;t=re({},t,{columns:this.getFixedColumns()});var s=qn(t.columns);a<s?(n-=t.columns[s].colspan-1||0,i-=t.columns[s].colspan-1||0):r>0&&e.css("visibility","hidden"),r=n}this.callBase(e,t,i,r)},_getSummaryCellIndex:function(e,t){if(this._isFixedTableRendering){var i=qn(t);return e>i&&(e+=t[i].colspan-1),e}return this.callBase.apply(this,arguments)},_renderCore:function(e){this._detachHoverEvents(),this.callBase(e);var t=this._isFixedColumns;this.element().toggleClass(gne,t),this.option("hoverStateEnabled")&&t&&this._attachHoverEvents()},setRowsOpacity:function(e,t){this.callBase(e,t);var i=this._getRowElements(this._fixedTableElement);this._setRowsOpacityCore(i,this.getFixedColumns(),e,t)},optionChanged:function(e){this.callBase(e),e.name==="hoverStateEnabled"&&this._isFixedColumns&&(e.value?this._attachHoverEvents():this._detachHoverEvents())},getCellIndex:function(e){var t=this._fixedTableElement,i=0;if(t&&e.is("td")&&e.closest(t).length){var r=this.getFixedColumns();return le(r,function(n,a){if(n===e[0].cellIndex)return!1;if(a.colspan){i+=a.colspan;return}i++}),i}return this.callBase.apply(this,arguments)},_updateFixedTablePosition:function(e,t){if(this._fixedTableElement&&this._tableElement){var i,r=this.getController("editorFactory");this._fixedTableElement.parent().scrollTop(e),t&&r&&(i=r.focus(),i&&r.focus(i))}},setScrollerSpacing:function(e,t){var i={marginBottom:0},r=this.element().children("."+this.addWidgetPrefix(vu));if(r.length&&this._fixedTableElement){r.css(i),this._fixedTableElement.css(i),i[this.option("rtlEnabled")?"marginLeft":"marginRight"]=e,i.marginBottom=t;var n=this._scrollable&&this._scrollable.option("useNative");(n?r:this._fixedTableElement).css(i)}},_getElasticScrollTop:function(e){var t=0;if(e.scrollOffset.top<0)t=-e.scrollOffset.top;else if(e.reachedBottom){var i=W(e.component.content()),r=W(e.component.container()),n=Math.max(i.get(0).clientHeight-r.get(0).clientHeight,0);t=n-e.scrollOffset.top}return Math.floor(t)},_applyElasticScrolling:function(e){if(this._fixedTableElement){var t=this._getElasticScrollTop(e);Math.ceil(t)!==0?Ai(this._fixedTableElement,{top:t}):this._fixedTableElement.css("transform","")}},_handleScroll:function(e){this._updateFixedTablePosition(e.scrollOffset.top,!0),this._applyElasticScrolling(e),this.callBase(e)},_updateContentPosition:function(e){this.callBase.apply(this,arguments),e||this._updateFixedTablePosition(this._scrollTop)},_afterRowPrepared:function(e){this._isFixedTableRendering||this.callBase(e)},_scrollToElement:function(e){this.callBase(e,this.getFixedColumnsOffset())},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._fixedScrollTimeout)}}),yne=tb,Cne={defaultOptions:function(){return{columnFixing:{enabled:!1,texts:{fix:_e.format("dxDataGrid-columnFixingFix"),unfix:_e.format("dxDataGrid-columnFixingUnfix"),leftPosition:_e.format("dxDataGrid-columnFixingLeftPosition"),rightPosition:_e.format("dxDataGrid-columnFixingRightPosition")}}}},extenders:{views:{columnHeadersView:_ne,rowsView:bne,footerView:yne},controllers:{draggingHeader:{_generatePointsByColumns:function(e){var t=e.columns,i=e.targetDraggingPanel;if(i&&i.getName()==="headers"&&i.isFixedColumns()&&e.sourceColumn.fixed){e.rowIndex||(e.columnElements=i.getFixedColumnElements(0)),e.columns=i.getFixedColumns(e.rowIndex);var r=this.callBase(e);return function(n,a,s){var o=qn(a),l=n.length-a.length;return le(s,function(u,d){d.index>o&&(d.columnIndex+=l,d.index+=l)}),s}(t,e.columns,r),r}return this.callBase(e)},_pointCreated:function(e,t,i,r){var n=this.callBase.apply(this,arguments),a=t[e.columnIndex],s=this._columnHeadersView.getTransparentColumnElement();if(!n&&i==="headers"&&s&&s.length){var o=mi(s.get(0));return r&&r.fixed?r.fixedPosition==="right"?e.x<o.right:e.x>o.left:a&&a.fixed&&a.fixedPosition!=="right"?!0:e.x<o.left||e.x>o.right}return n}},columnsResizer:{_generatePointsByColumns:function(){var e=this,t=e._columnsController,i=t&&e._columnsController.getVisibleColumns(),r=t&&e._columnsController.getFixedColumns(),n=qn(r),a=i.length-r.length,s=e._columnHeadersView.getFixedColumnElements();e.callBase(),s&&s.length>0&&(e._pointsByFixedColumns=Ee.getPointsByColumns(s,function(o){return o.index>n&&(o.columnIndex+=a,o.index+=a),e._pointCreated(o,i.length,i)}))},_getTargetPoint:function(e,t,i){var r=this._columnHeadersView.getTransparentColumnElement();if(r&&r.length){var n=mi(r.get(0));if(t<=n.left||t>=n.right)return this.callBase(this._pointsByFixedColumns,t,i)}return this.callBase(e,t,i)}}}}};Le.registerModule("columnFixing",Cne);var KR="columnHeadersView",qR="rowsView",wne="footerView",bg=[KR,qR,wne],xne="dxDataGridAdaptivity",Kn="adaptiveHidden",Ao="detailAdaptive",qv="dx-field-item-content",Sne="dx-item-modified",_u="hidden-column",Ene="adaptive-more",XR="dx-command-adaptive",tc="dx-command-adaptive-hidden",Ine="dx-adaptive-detail-row",bE="dx-adaptive-item-text",Tne="dx-master-detail-cell",Ane="dx-last-data-cell",Dh="adaptive",One="batch",Xv="row",Dne="form",Rne="popup",kne="revert-tooltip",yE="dx-group-cell",Mne="dx-group-row",CE="dxDataGrid-ariaAdaptiveExpand",Bne="dxDataGrid-ariaAdaptiveCollapse",Pne="scrolling.legacyMode";function Rh(e,t){return e._columnsController.getColumnId(t)}function wE(e){return e.find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])")}function Fne(e,t){var i,r=W(e),n=t.component.getController("adaptiveColumns");t.rowType==="data"?(i=W("<span>").addClass(n.addWidgetPrefix(Ene)),te.on(i,xe(Pt,xne),n.createAction(function(){n.toggleExpandAdaptiveDetailRow(t.key)})),i.appendTo(r)):Ee.setEmptyText(r)}var Lne=ei.ViewController.inherit({_isRowEditMode:function(){var e=this._getEditMode();return e===Xv},_isItemModified:function(e,t){var i=this._columnsController.getVisibleIndex(e.column.index),r=this._dataController.getRowIndexByKey(t.key),n=this._dataController.items()[r+1];return n&&n.modifiedValues&&Z(n.modifiedValues[i])},_renderFormViewTemplate:function(e,t,i){var r=e.column,n=this.createAction(function(){te.trigger(i,Pt)}),a=t.row.data,s=r.calculateCellValue(a),o=Ee.getDisplayValue(r,s,a,t.rowType),l=Ee.formatValue(o,r),u=this._editingController.isCellOrBatchEditMode(),d=this._rowsView;if(r.allowEditing&&this.getController("keyboardNavigation").isKeyboardEnabled()&&(i.attr("tabIndex",this.option("tabIndex")),u&&(te.off(i,"focus",n),te.on(i,"focus",n))),r.cellTemplate){var c=re({},t,{value:s,displayValue:o,text:l,column:r}),h=!!i.closest(at().document).length;d.renderTemplate(i,r.cellTemplate,c,h).done(()=>{d._cellPrepared(i,t)})}else{var f=i.get(0);r.encodeHtml?f.textContent=l:f.innerHTML=l,i.addClass(bE),(!Z(l)||l==="")&&i.html("&nbsp;"),this._isRowEditMode()||this._isItemModified(e,t)&&i.addClass(Sne),d._cellPrepared(i,t)}},_getTemplate:function(e,t){var i=this,r=e.column,n=this.getController("editing");return function(a,s){var o=W(s),l=i._columnsController.getVisibleIndex(r.index),u=re({},t),d=function(){var c=i._isItemEdited(e);u.value=t.row.values[l],c||r.showEditorAlways?n.renderFormEditTemplate(u,e,a,o,!c):(u.column=r,u.columnIndex=l,i._renderFormViewTemplate(e,u,o))};d(),u.watch&&u.watch(function(){return{isItemEdited:i._isItemEdited(e),value:t.row.values[l]}},function(){o.contents().remove(),o.removeClass(bE),d()})}},_isVisibleColumnsValid:function(e){return!(e<2||e.length-function(){for(var t=0,i=0;i<e.length;i++){var r=e[i];r.command&&t++}return t}()<=1)},_calculatePercentWidths:function(e,t){var i=this,r=0;return t.forEach(function(n,a){e[a]!==Kn&&(r+=i._getItemPercentWidth(n))}),r},_isPercentWidth:function(e){return Ue(e)&&e.slice(-1)==="%"},_isColumnHidden:function(e){return this._hiddenColumns.filter(function(t){return t.index===e.index}).length>0},_getAverageColumnsWidth:function(e,t,i){var r=this,n=0,a=0;return t.forEach(function(s){if(!r._isColumnHidden(s)){var o=s.width;Z(o)&&!isNaN(parseFloat(o))?n+=r._isPercentWidth(o)?r._calculatePercentWidth({visibleIndex:s.visibleIndex,columnsCount:t.length,columnsCanFit:i,bestFitWidth:s.bestFitWidth,columnWidth:o,containerWidth:e}):parseFloat(o):a++}}),(e-n)/a},_calculateColumnWidth:function(e,t,i,r){var n=Rh(this,e),a=this._columnsController.columnOption(n,"width"),s=this._columnsController.columnOption(n,"bestFitWidth"),o=i.length,l;if(a&&a!=="auto")if(this._isPercentWidth(a))l=this._calculatePercentWidth({visibleIndex:e.visibleIndex,columnsCount:o,columnsCanFit:r,bestFitWidth:s,columnWidth:a,containerWidth:t});else return parseFloat(a);else{var u=this.option("columnAutoWidth");l=u||e.command?s:this._getAverageColumnsWidth(t,i,r)}return l},_calculatePercentWidth:function(e){var t=e.visibleIndex<e.columnsCount-1&&e.columnsCanFit,i=e.containerWidth*parseFloat(e.columnWidth)/100,r=e.columnsCanFit&&i<e.bestFitWidth?e.bestFitWidth:i;return t?e.containerWidth*parseFloat(e.columnWidth)/100:r},_getNotTruncatedColumnWidth:function(e,t,i,r){var n=Rh(this,e),a=this._columnsController.columnOption(n,"width"),s=this._columnsController.columnOption(n,"bestFitWidth");if(a&&a!=="auto"&&!this._isPercentWidth(a))return parseFloat(a);var o=this._calculateColumnWidth(e,t,i,r);return o<s?null:o},_getItemPercentWidth:function(e){var t=0;return e.width&&this._isPercentWidth(e.width)&&(t=parseFloat(e.width)),t},_getCommandColumnsWidth:function(){var e=this,t=e._columnsController.getVisibleColumns(),i=0;return le(t,function(r,n){(n.index<0||n.command)&&(i+=e._columnsController.columnOption(Rh(e,n),"bestFitWidth")||0)}),i},_isItemEdited:function(e){if(this.isFormOrPopupEditMode())return!1;if(this._isRowEditMode()){var t=this.option("editing.editRowKey");if(ni(t,this._dataController.adaptiveExpandedKey()))return!0}else{var i=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,r=this._columnsController.getVisibleIndex(e.column.index);return this._editingController.isEditCell(i,r)}},_getFormItemsByHiddenColumns:function(e){var t=[];return le(e,function(i,r){t.push({column:r,name:r.name,dataField:r.dataField,visibleIndex:r.visibleIndex})}),t},_getAdaptiveColumnVisibleIndex:function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.command===Dh)return t}},_hideAdaptiveColumn:function(e,t){var i=this._getAdaptiveColumnVisibleIndex(t);Z(i)&&(e[i]=Kn,this._hideVisibleColumn({isCommandColumn:!0,visibleIndex:i}))},_showHiddenCellsInView:function(e){var{$cells:t,isCommandColumn:i}=e,r=this.addWidgetPrefix(_u);i?(r=tc,t.attr({tabIndex:0,"aria-hidden":null}).removeClass(r)):t.removeClass(r)},_showHiddenColumns:function(){for(var e=0;e<bg.length;e++){var t=this.getView(bg[e]);if(t&&t.isVisible()&&t.element()){var i=t.name,r=t.element().find("."+tc);this._showHiddenCellsInView({viewName:i,$cells:r,isCommandColumn:!0});var n=t.element().find("."+this.addWidgetPrefix(_u));this._showHiddenCellsInView({viewName:i,$cells:n})}}},_isCellValid:function(e){return e&&e.length&&!e.hasClass(Tne)&&!e.hasClass(yE)},_hideVisibleColumn:function(e){var{isCommandColumn:t,visibleIndex:i}=e,r=this;bg.forEach(function(n){var a=r.getView(n);a&&r._hideVisibleColumnInView({view:a,isCommandColumn:t,visibleIndex:i})})},_hideVisibleColumnInView:function(e){var{view:t,isCommandColumn:i,visibleIndex:r}=e,n=t.name,a,s=this._columnsController.getVisibleColumns()[r],o=this._editingController&&this._editingController.getEditFormRowIndex();if(t&&t.isVisible()&&s)for(var l=t.getRowsCount(),u=t._getRowElements(),d=0;d<l;d++){var c=d===o&&n===qR&&this.option("editing.mode")!=="popup";if(!c){var h=n===KR?this._columnsController.getVisibleIndex(s.index,d):r;if(h>=0){var f=u.eq(d);a=this._findCellElementInRow(f,h),this._isCellValid(a)&&this._hideVisibleCellInView({viewName:n,isCommandColumn:i,$cell:a})}}}},_findCellElementInRow(e,t){var i=e.children(),r=t,n=!1;if(e.hasClass(Mne)){var a=e.find(".".concat(yE)),s=a.attr("colspan");if(a.length&&Z(s)){var o=parseInt(s),l=a.index()+o-1;t>l?r=t-o+1:n=!0}}var u=n?void 0:i.eq(r);return u},_hideVisibleCellInView:function(e){var{$cell:t,isCommandColumn:i}=e,r=i?tc:this.addWidgetPrefix(_u);t.attr({tabIndex:-1,"aria-hidden":!0}).addClass(r)},_getEditMode:function(){return this._editingController.getEditMode()},isFormOrPopupEditMode:function(){var e=this._getEditMode();return e===Dne||e===Rne},hideRedundantColumns:function(e,t,i){if(this._hiddenColumns=[],this._isVisibleColumnsValid(t)&&i.length){var r=0,n=this.component.$element(),a=Ze(n)-this._getCommandColumnsWidth(),s=(function(){return t.filter(N=>!N.command&&this._hiddenColumns.filter(z=>z.index===N.index).length===0)}).bind(this),o=s(),l=o.length,u,d,c;do{c=!1,r=0;var h=this._calculatePercentWidths(e,t),f=h<100&&h!==0;for(u=0;u<t.length;u++){var p=t[u],g=this._getNotTruncatedColumnWidth(p,a,o,f),m=Rh(this,p),v=this._columnsController.columnOption(m,"width"),b=this._columnsController.columnOption(m,"minWidth"),y=this._columnsController.columnOption(m,"bestFitWidth");if(e[u]===Kn){d=!0;continue}if(!g&&!p.command&&!p.fixed){c=!0;break}(!v||v==="auto")&&(g=Math.max(y||0,b||0)),(p.command!==Dh||d)&&(r+=g)}if(c=c||r>Ze(n),c){var I=i.pop(),D=this._columnsController.getVisibleIndex(I.index);a+=this._calculateColumnWidth(I,a,o,f),this._hideVisibleColumn({visibleIndex:D}),e[D]=Kn,this._hiddenColumns.push(I),o=s()}}while(c&&o.length>1&&i.length);l===o.length&&this._hideAdaptiveColumn(e,t)}else this._hideAdaptiveColumn(e,t)},getItemContentByColumnIndex:function(e){for(var t,i=0;i<this._$itemContents.length;i++){t=this._$itemContents.eq(i);var r=t.data("dx-form-item");if(r&&r.column&&this._columnsController.getVisibleIndex(r.column.index)===e)return t}},toggleExpandAdaptiveDetailRow:function(e,t){this.isFormOrPopupEditMode()&&this._editingController.isEditing()||this.getController("data").toggleExpandAdaptiveDetailRow(e,t)},createFormByHiddenColumns:function(e,t){var i=this,r=W(e),n={items:i._getFormItemsByHiddenColumns(i._hiddenColumns),formID:"dx-"+new Ri},a=xi()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:n}),i._$itemContents=null,i._form=i._createComponent(W("<div>").appendTo(r),G0,re(a,n,{customizeItem:function(s){var o=s.column||i._columnsController.columnOption(s.name||s.dataField);o&&(s.label=s.label||{},s.label.text=s.label.text||o.caption,s.column=o,s.template=i._getTemplate(s,t,i.updateForm.bind(i))),n.customizeItem&&n.customizeItem.call(this,s)},onContentReady:function(s){n.onContentReady&&n.onContentReady.call(this,s),i._$itemContents=r.find("."+qv)}}))},hasAdaptiveDetailRowExpanded:function(){return Z(this._dataController.adaptiveExpandedKey())},updateForm:function(e){this.hasAdaptiveDetailRowExpanded()&&this._form&&Z(this._form._contentReadyAction)&&(e&&e.length?this._form.option("items",this._getFormItemsByHiddenColumns(e)):this._form.repaint())},updateHidingQueue:function(e){var t=e.filter(function(a){return a.visible&&!a.type&&!a.fixed&&!(Z(a.groupIndex)&&a.groupIndex>=0)}),i,r;if(this._hidingColumnsQueue=[],this.option("allowColumnResizing")&&this.option("columnResizingMode")==="widget")return this._hidingColumnsQueue;for(r=0;r<t.length;r++)Z(t[r].hidingPriority)&&t[r].hidingPriority>=0&&(i=!0,this._hidingColumnsQueue[t[r].hidingPriority]=t[r]);if(i)this._hidingColumnsQueue.reverse();else if(this.option("columnHidingEnabled"))for(r=0;r<t.length;r++){var n=this._columnsController.getVisibleIndex(t[r].index);this._hidingColumnsQueue[n]=t[r]}return this._hidingColumnsQueue=this._hidingColumnsQueue.filter(Object),this._hidingColumnsQueue},getHiddenColumns:function(){return this._hiddenColumns},hasHiddenColumns:function(){return this._hiddenColumns.length>0},getHidingColumnsQueue:function(){return this._hidingColumnsQueue},init:function(){var e=this;e._columnsController=e.getController("columns"),e._dataController=e.getController("data"),e._rowsView=e.getView("rowsView"),e._columnsController.addCommandColumn({type:Dh,command:Dh,visible:!0,adaptiveHidden:!0,cssClass:XR,alignment:"center",width:"auto",cellTemplate:Fne,fixedPosition:"right"}),e._columnsController.columnsChanged.add(function(){var t=!!e.updateHidingQueue(e._columnsController.getColumns()).length;e._columnsController.columnOption("command:adaptive","adaptiveHidden",!t,!0)}),e._editingController=e.getController("editing"),e._hidingColumnsQueue=[],e._hiddenColumns=[],e.createAction("onAdaptiveDetailRowPreparing"),e.callBase()},optionChanged:function(e){e.name==="columnHidingEnabled"&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e.value),this.callBase(e)},publicMethods:function(){return["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"]},isAdaptiveDetailRowExpanded:function(e){return this._dataController.adaptiveExpandedKey()&&ni(this._dataController.adaptiveExpandedKey(),e)},expandAdaptiveDetailRow:function(e){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(e)},collapseAdaptiveDetailRow:function(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()},updateCommandAdaptiveAriaLabel:function(e,t){var i=this._dataController.getRowIndexByKey(e);if(i!==-1){var r=W(this.component.getRowElement(i));this.setCommandAdaptiveAriaLabel(r,t)}},setCommandAdaptiveAriaLabel:function(e,t){var i=e.find(".dx-command-adaptive");i.attr("aria-label",_e.format(t))}}),Nne={defaultOptions:function(){return{columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}},controllers:{adaptiveColumns:Lne},extenders:{views:{rowsView:{_getCellTemplate:function(e){var t=this,i=e.column;return e.rowType===Ao&&i.command==="detail"?function(r,n){t._adaptiveColumnsController.createFormByHiddenColumns(W(r),n)}:t.callBase(e)},_createRow:function(e){var t=this.callBase.apply(this,arguments);return e&&e.rowType===Ao&&e.key===this._dataController.adaptiveExpandedKey()&&t.addClass(Ine),t},_renderCells:function(e,t){this.callBase(e,t);var i=this._adaptiveColumnsController,r=i.getHidingColumnsQueue().length,n=i.getHiddenColumns().length;r&&!n&&wE(e).last().addClass(Ane),t.row.rowType==="data"&&i.setCommandAdaptiveAriaLabel(e,CE)},_getColumnIndexByElementCore:function(e){var t=e.closest("."+qv);if(t.length&&t.closest(this.component.$element()).length){var i=t.length?t.first().data("dx-form-item"):null;return i&&i.column&&this._columnsController.getVisibleIndex(i.column.index)}else return this.callBase(e)},_cellPrepared:function(e,t){this.callBase.apply(this,arguments),t.row.rowType!==Ao&&t.column.visibleWidth===Kn&&e.addClass(this.addWidgetPrefix(_u))},_getCellElement:function(e,t){var i=this._dataController.items()[e];return i&&i.rowType===Ao?this._adaptiveColumnsController.getItemContentByColumnIndex(t):this.callBase.apply(this,arguments)},getContextMenuItems:function(e){if(e.row&&e.row.rowType==="detailAdaptive"){var t=this.component.getView("columnHeadersView"),i=W(e.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return e.column=i?i.column:e.column,t.getContextMenuItems&&t.getContextMenuItems(e)}return this.callBase&&this.callBase(e)},isClickableElement:function(e){var t=this.callBase?this.callBase(e):!1;return t||!!e.closest("."+XR).length},init:function(){this.callBase(),this._adaptiveColumnsController=this.getController("adaptiveColumns")}}},controllers:{export:{_updateColumnWidth:function(e,t){this.callBase(e,e.visibleWidth===Kn?e.bestFitWidth:t)}},columnsResizer:{_pointCreated:function(e,t,i){var r=this.callBase(e,t,i),n=i[e.columnIndex]||{},a=this._getNextColumnIndex(e.columnIndex),s=i[a]||{},o=a!==e.columnIndex+1&&s.command,l=n.visibleWidth===Kn||o;return r||l},_getNextColumnIndex:function(e){for(var t=this._columnsController.getVisibleColumns(),i=this.callBase(e);t[i]&&t[i].visibleWidth===Kn;)i++;return i}},draggingHeader:{_pointCreated:function(e,t,i,r){var n=this.callBase(e,t,i,r),a=t[e.columnIndex-1]||{},s=a.visibleWidth===Kn;return n||s}},editing:{_isRowEditMode:function(){return this.getEditMode()===Xv},_getFormEditItemTemplate:function(e,t){return this.getEditMode()!==Xv&&e.rowType==="detailAdaptive"?(e.columnIndex=this._columnsController.getVisibleIndex(t.index),this.getColumnTemplate(e)):this.callBase(e,t)},_closeEditItem:function(e){var t=e.closest("."+qv),i=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,r=t.length?t.first().data("dx-form-item"):null,n=r&&r.column&&this._columnsController.getVisibleIndex(r.column.index);this.isEditCell(i,n)||this.callBase(e)},_beforeUpdateItems:function(e,t){if(!this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.hasHiddenColumns()){var i=this._dataController.items(),r=i[t],n=Ee.getIndexByKey(this._dataController.adaptiveExpandedKey(),i);this._isForceRowAdaptiveExpand=!this._adaptiveController.hasAdaptiveDetailRowExpanded(),n>=0&&e.push(n+1),e.push(t+1),this._dataController.adaptiveExpandedKey(r.key)}},_afterInsertRow:function(e){this.callBase.apply(this,arguments),this._adaptiveController.hasHiddenColumns()&&(this._adaptiveController.toggleExpandAdaptiveDetailRow(e,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)},_collapseAdaptiveDetailRow:function(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)},_cancelEditAdaptiveDetailRow:function(){this._adaptiveController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()},_afterSaveEditData:function(){this.callBase.apply(this,arguments);var e=new pe;return this._isRowEditMode()&&this._adaptiveController.hasHiddenColumns()?Pe(this.getController("validating").validate(!0)).done(t=>{t&&this._cancelEditAdaptiveDetailRow(),e.resolve()}):e.resolve(),e.promise()},_beforeCancelEditData:function(){this.callBase(),this._cancelEditAdaptiveDetailRow()},_getRowIndicesForCascadeUpdating:function(e){var t=this.callBase.apply(this,arguments);return this._adaptiveController.isAdaptiveDetailRowExpanded(e.key)&&t.push(e.rowType===Ao?e.rowIndex-1:e.rowIndex+1),t},_beforeCloseEditCellInBatchMode:function(e){var t=this._dataController._adaptiveExpandedKey;if(t){var i=Ee.getIndexByKey(t,this._dataController.items());i>-1&&e.unshift(i)}},editRow:function(e){this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},deleteRow:function(e){var t=this._dataController.getKeyByRowIndex(e);this.getEditMode()===One&&this._adaptiveController.isAdaptiveDetailRowExpanded(t)&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},init:function(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}},resizing:{_needBestFit:function(){return this.callBase()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length},_correctColumnWidths:function(e,t){var i=this._adaptiveColumnsController,r=i.getHiddenColumns(),n=i.updateHidingQueue(this._columnsController.getColumns());i.hideRedundantColumns(e,t,n);var a=i.getHiddenColumns();return i.hasAdaptiveDetailRowExpanded()&&r.length!==a.length&&i.updateForm(a),!a.length&&i.collapseAdaptiveDetailRow(),this.callBase.apply(this,arguments)},_toggleBestFitMode:function(e){e&&this._adaptiveColumnsController._showHiddenColumns(),this.callBase(e)},_needStretch:function(){var e=this._adaptiveColumnsController;return this.callBase.apply(this,arguments)||e.getHidingColumnsQueue().length||e.hasHiddenColumns()},init:function(){this._adaptiveColumnsController=this.getController("adaptiveColumns"),this.callBase()},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._updateScrollableTimeoutID)}},data:{_processItems:function(e,t){var i=t.changeType;if(e=this.callBase.apply(this,arguments),i==="loadingAll"||!Z(this._adaptiveExpandedKey))return e;var r=Ee.getIndexByKey(this._adaptiveExpandedKey,e),n=this.option(Pne)===!1;if(r>=0){var a=e[r];e.splice(r+1,0,{visible:!0,rowType:Ao,key:a.key,data:a.data,node:a.node,modifiedValues:a.modifiedValues,isNewRow:a.isNewRow,values:a.values})}else i==="refresh"&&!(n&&t.repaintChangesOnly)&&(this._adaptiveExpandedKey=void 0);return e},_getRowIndicesForExpand:function(e){var t=this.callBase.apply(this,arguments);if(this.getController("adaptiveColumns").isAdaptiveDetailRowExpanded(e)){var i=t[t.length-1];t.push(i+1)}return t},adaptiveExpandedKey:function(e){if(Z(e))this._adaptiveExpandedKey=e;else return this._adaptiveExpandedKey},toggleExpandAdaptiveDetailRow:function(e,t){var i=Ee.getIndexByKey(this._adaptiveExpandedKey,this._items),r=Ee.getIndexByKey(e,this._items);i>=0&&i===r&&!t&&(e=void 0,r=-1);var n=this._adaptiveExpandedKey;this._adaptiveExpandedKey=e,i>=0&&i++,r>=0&&r++;var a=this.getRowIndexDelta();this.updateItems({allowInvisibleRowIndices:!0,changeType:"update",rowIndices:[i-a,r-a]});var s=this.getController("adaptiveColumns");s.updateCommandAdaptiveAriaLabel(e,Bne),s.updateCommandAdaptiveAriaLabel(n,CE)},init:function(){this.callBase(),this._adaptiveExpandedKey=void 0}},editorFactory:{_getFocusCellSelector:function(){return this.callBase()+", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content"},_getTooltipsSelector:function(){return this.callBase()+", .dx-field-item-content ."+this.addWidgetPrefix(kne)}},columns:{_isColumnVisible:function(e){return this.callBase(e)&&!e.adaptiveHidden}},keyboardNavigation:{_isCellValid:function(e){return this.callBase.apply(this,arguments)&&!e.hasClass(this.addWidgetPrefix(_u))&&!e.hasClass(tc)},_processNextCellInMasterDetail:function(e){this.callBase(e);var t=this._editingController.isCellOrBatchEditMode();!this._isInsideEditForm(e)&&e&&t&&te.on(e,"focus",function i(){te.off(e,"focus",i),te.trigger(e,"dxclick")})},_handleTabKeyOnMasterDetailCell:function(e,t){var i=this.callBase(e,t),r=this._getFocusedCell(),n=r&&r.parent();if(!i&&n&&n.length){var a=wE(n),s=t==="next"?a.last():a.first(),o=n.get(0).rowIndex,l=this._adaptiveController,u=this._dataController.getKeyByRowIndex(t==="next"?o:o-1),d=r&&s&&r.get(0)===s.get(0);return l.isAdaptiveDetailRowExpanded(u)&&d}return i},init:function(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}}}}};Le.registerModule("adaptivity",Nne);function YR(e,t,i,r,n,a){i=i||0,r=r||[],a=a||[],r[i]=r[i]||0;var s=e[i],o=a[i]+1||0,l=0,u;if(s){for(u=o;u<s.length;u++){var d=s[u],c=u+r[i],h=d.colspan||1;if(YR(e,t,i+(d.rowspan||1),r,h,a),r[i]+=h-1,l+=h,d.rowspan)for(var f=i+1;f<i+d.rowspan;f++)r[f]=r[f]||0,r[f]+=d.colspan||1;if(t(d,c,i,u)===!1||n!==void 0&&l>=n)break}a[i]=u}}function yg(e,t,i){var r=[];YR(e,function(a,s,o){var l=a,u,d=l.colspan||1,c=s+d-1>=t&&s<i;if(r[o]=r[o]||[],c)s<t?(u=d-(t-s),s=t):u=d,s+u>i&&(u=i-s),u!==d&&(l=re({},l,{colspan:u})),r[o].push(l);else if(s>i)return!1});for(var n=0;n<r.length;n++)r[n]=r[n]||[];return r}var Vne=50,$ne={_resizeCore:function(){this.callBase.apply(this,arguments),this._columnsController.resize()},_handleScroll:function(e){var t=this,i=this.getScrollable(),r=e.scrollOffset.left;t.callBase.apply(t,arguments),t.option("rtlEnabled")&&i&&(r=Ze(i.$content())-Ze(i.$element())-r),t._columnsController.setScrollPosition(r)}},Hne={_renderCore:function(){this.callBase.apply(this,arguments),this._columnsController.isVirtualMode()&&this._updateScrollLeftPosition()}},zne=function(){var e=function(i){return i.map(r=>r.visibleWidth||parseFloat(r.width)||Vne)},t={init:function(){var i=this;i.callBase.apply(this,arguments),i._beginPageIndex=null,i._endPageIndex=null,i._position=0,i._virtualVisibleColumns={}},resetColumnsCache:function(){this.callBase(),this._virtualVisibleColumns={}},getBeginPageIndex:function(i){for(var r=this.getVisibleColumns(void 0,!0),n=e(r),a=0,s=0;s<n.length;s++){if(a>=i)return Math.floor(s/this.getColumnPageSize());a+=n[s]}return 0},getTotalWidth:function(){var i=this.option("width");return typeof i=="number"?i:this.getController("resizing")._lastWidth||At(this.component.$element())},getEndPageIndex:function(i){var r=this.getVisibleColumns(void 0,!0),n=e(r),a=0;i+=this.getTotalWidth();for(var s=0;s<n.length;s++){if(a>=i)return Math.ceil(s/this.getColumnPageSize());a+=n[s]}return Math.ceil(n.length/this.getColumnPageSize())},getColumnPageSize:function(){return this.option("scrolling.columnPageSize")},_fireColumnsChanged:function(){var i=new Date;this.columnsChanged.fire({optionNames:{all:!0,length:1},changeTypes:{columns:!0,virtualColumnsScrolling:!0,length:2}}),this._renderTime=new Date-i},getScrollingTimeout:function(){var i=this.option("scrolling.columnRenderingThreshold"),r=this.option("scrolling.renderAsync"),n=0;return(!Z(r)&&this._renderTime>i||r)&&(n=this.option("scrolling.timeout")),n},setScrollPosition:function(i){var r=this.getScrollingTimeout();r>0?(clearTimeout(this._changedTimeout),this._changedTimeout=setTimeout(()=>{this._setScrollPositionCore(i)},r)):this._setScrollPositionCore(i)},isVirtualMode:function(){return rt()&&this.option("scrolling.columnRenderingMode")==="virtual"},resize:function(){this._setScrollPositionCore(this._position)},_setScrollPositionCore:function(i){if(this.isVirtualMode()){var r=this.getBeginPageIndex(i),n=this.getEndPageIndex(i),a=i<this._position?this._beginPageIndex>r:this._endPageIndex<n;this._position=i,a&&(this._beginPageIndex=r,this._endPageIndex=n,this._fireColumnsChanged())}},getFixedColumns:function(i,r){var n=this.callBase(i);if(this.isVirtualMode()&&!r&&n.length){var a=n.map(s=>s.command).indexOf("transparent");return n[a].colspan=this.getVisibleColumns().length-this.callBase().length+1,n}return n},_compileVisibleColumns:function(i,r){var n;if(r||!this.isVirtualMode()||!this._shouldReturnVisibleColumns())return this.callBase(i);(n=this._columns)!==null&&n!==void 0&&n.length&&!Z(this._beginPageIndex)&&!Z(this._endPageIndex)&&(this._beginPageIndex=this.getBeginPageIndex(this._position),this._endPageIndex=this.getEndPageIndex(this._position));var a=this._beginPageIndex,s=this._endPageIndex,o=i+"-"+a+"-"+s;if(this._virtualVisibleColumns[o])return this._virtualVisibleColumns[o];var l=this.callBase(),u=this.getRowCount(),d=this.getColumnPageSize(),c=a*d,h=s*d,f=this.getFixedColumns(void 0,!0),p=f.map($=>$.command).indexOf("transparent"),g=f.length?p:0,m=l.slice(0,g),v=l.slice(g,c),b=e(v).reduce(($,j)=>$+j,0);b||(c=0);var y=f.length?f.length-p-1:0,I=l.slice(l.length-y),D=l.slice(h,l.length-y),N=e(D).reduce(($,j)=>$+j,0);if(N||(h=l.length),u>1&&typeof i=="number"){for(var z=[],F=0;F<u;F++)z.push(this.callBase(F));m=yg(z,0,m.length)[i]||[],I=yg(z,l.length-I.length,l.length)[i]||[],l=yg(z,c,h)[i]||[]}else l=l.slice(c,h);return b&&(l.unshift({command:"virtual",width:b}),l=m.concat(l)),N&&(l.push({command:"virtual",width:N}),l=l.concat(I)),this._virtualVisibleColumns[o]=l,l},getColumnIndexOffset:function(){var i=0;if(this._beginPageIndex>0){var r=this.getFixedColumns(),n=r.map(s=>s.command).indexOf("transparent"),a=n>=0?n:0;i=this._beginPageIndex*this.getColumnPageSize()-a-1}return i>0?i:0},dispose:function(){clearTimeout(this._changedTimeout),this.callBase.apply(this,arguments)}};return t}(),Wne={defaultOptions:function(){return{scrolling:{columnRenderingMode:"standard",columnPageSize:5,columnRenderingThreshold:300}}},extenders:{controllers:{columns:zne},views:{columnHeadersView:Hne,rowsView:$ne}}};Le.registerModule("virtualColumns",Wne);function jne(e,t){for(var i=d=>d||1,r=[],n=(e[0]||[]).reduce((d,c)=>d+i(c.colspan),0),a=(d=>{var c=0,h=0;return()=>{var f=d[c]||[],p=f[h++];return h>=f.length&&(c++,h=0),p&&(p.colspan=i(p.colspan),p.rowspan=i(p.rowspan)),p}})(e),s=(d,c,h)=>{var f=r[d]=r[d]||[];if(f[c]=h,h.colspan>1||h.rowspan>1){for(var p=(b=>re({},b,t))(h),g=1;g<h.colspan;g++)s(d,c+g,p);for(var m=1;m<h.rowspan;m++)for(var v=0;v<h.colspan;v++)s(d+m,c+v,p)}},o=a(),l=0;o;){for(var u=0;u<n&&o;u++)r[l]&&r[l][u]||(s(l,u,o),u+=o.colspan-1,o=a());l++}return r}var ya=at(),kh=$u(),xE={EXCEL:"xlsx",CSS:"css",PNG:"png",JPEG:"jpeg",GIF:"gif",SVG:"svg",PDF:"pdf"},ZR={CSS:"text/css",EXCEL:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",PNG:"image/png",JPEG:"image/jpeg",GIF:"image/gif",SVG:"image/svg+xml",PDF:"application/pdf"},Une={_revokeObjectURLTimeout:3e4,_getDataUri:function(e,t){var i=this._getMimeType(e);return"data:".concat(i,";base64,").concat(t)},_getMimeType:function(e){return ZR[e]||"application/octet-stream"},_linkDownloader:function(e,t){var i=we.createElement("a");return i.download=e,i.href=t,i.target="_blank",i},_formDownloader:function(e,t,i,r){var n={method:"post",action:e,enctype:"multipart/form-data"},a=W("<form>").css({display:"none"}).attr(n);function s(o,l){for(var u in l)o.setAttribute(u,l[u]);return o}a.append(s(we.createElement("input"),{type:"hidden",name:"fileName",value:t})),a.append(s(we.createElement("input"),{type:"hidden",name:"contentType",value:i})),a.append(s(we.createElement("input"),{type:"hidden",name:"data",value:r})),a.appendTo("body"),te.trigger(a,"submit"),te.trigger(a,"submit")&&a.remove()},_saveByProxy:function(e,t,i,r){var n=this._getMimeType(i);return this._formDownloader(e,t,n,r)},_winJSBlobSave:function(e,t,i){var r=new Windows.Storage.Pickers.FileSavePicker;r.suggestedStartLocation=Windows.Storage.Pickers.PickerLocationId.documentsLibrary;var n=xE[i];if(n){var a=this._getMimeType(i);r.fileTypeChoices.insert(a,["."+n])}r.suggestedFileName=t,r.pickSaveFileAsync().then(function(s){s&&s.openAsync(Windows.Storage.FileAccessMode.readWrite).then(function(o){var l=e.msDetachStream();Windows.Storage.Streams.RandomAccessStream.copyAsync(l,o).then(function(){o.flushAsync().done(function(){l.close(),o.close()})})})})},_click:function(e){try{e.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}catch{var t=we.getDocument().createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,ya,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}},_saveBlobAs:function(e,t,i){if(this._blobSaved=!1,Z(kh.msSaveOrOpenBlob))kh.msSaveOrOpenBlob(i,e),this._blobSaved=!0;else if(Z(ya.WinJS))this._winJSBlobSave(i,e,t),this._blobSaved=!0;else{var r=ya.URL||ya.webkitURL||ya.mozURL||ya.msURL||ya.oURL;if(Z(r)){var n=r.createObjectURL(i),a=this._linkDownloader(e,n);setTimeout(()=>{r.revokeObjectURL(n),this._objectUrlRevoked=!0},this._revokeObjectURLTimeout),this._click(a)}else Vu.warn("window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL is not defined")}},saveAs:function(e,t,i,r,n){var a=xE[t];if(a&&(e+="."+a),Z(r)&&gt.log("W0001","Export","proxyURL","19.2","This option is no longer required"),n)this._saveByProxy(r,e,t,i);else if(Re(ya.Blob))this._saveBlobAs(e,t,i);else if(Z(r)&&!Z(kh.userAgent.match(/iPad/i)))this._saveByProxy(r,e,t,i);else{Z(kh.userAgent.match(/iPad/i))||gt.log("E1034");var s=this._linkDownloader(e,this._getDataUri(t,i));this._click(s)}}},JR={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(i){e.exports=i()})(function(){return function i(r,n,a){function s(u,d){if(!n[u]){if(!r[u]){var c=typeof Ra=="function"&&Ra;if(!d&&c)return c(u,!0);if(o)return o(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var f=n[u]={exports:{}};r[u][0].call(f.exports,function(p){var g=r[u][1][p];return s(g||p)},f,f.exports,i,r,n,a)}return n[u].exports}for(var o=typeof Ra=="function"&&Ra,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(i,r,n){var a=i("./utils"),s=i("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(l){for(var u,d,c,h,f,p,g,m=[],v=0,b=l.length,y=b,I=a.getTypeOf(l)!=="string";v<l.length;)y=b-v,c=I?(u=l[v++],d=v<b?l[v++]:0,v<b?l[v++]:0):(u=l.charCodeAt(v++),d=v<b?l.charCodeAt(v++):0,v<b?l.charCodeAt(v++):0),h=u>>2,f=(3&u)<<4|d>>4,p=1<y?(15&d)<<2|c>>6:64,g=2<y?63&c:64,m.push(o.charAt(h)+o.charAt(f)+o.charAt(p)+o.charAt(g));return m.join("")},n.decode=function(l){var u,d,c,h,f,p,g=0,m=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var b,y=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&y--,l.charAt(l.length-2)===o.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=s.uint8array?new Uint8Array(0|y):new Array(0|y);g<l.length;)u=o.indexOf(l.charAt(g++))<<2|(h=o.indexOf(l.charAt(g++)))>>4,d=(15&h)<<4|(f=o.indexOf(l.charAt(g++)))>>2,c=(3&f)<<6|(p=o.indexOf(l.charAt(g++))),b[m++]=u,f!==64&&(b[m++]=d),p!==64&&(b[m++]=c);return b}},{"./support":30,"./utils":32}],2:[function(i,r,n){var a=i("./external"),s=i("./stream/DataWorker"),o=i("./stream/Crc32Probe"),l=i("./stream/DataLengthProbe");function u(d,c,h,f,p){this.compressedSize=d,this.uncompressedSize=c,this.crc32=h,this.compression=f,this.compressedContent=p}u.prototype={getContentWorker:function(){var d=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),c=this;return d.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,c,h){return d.pipe(new o).pipe(new l("uncompressedSize")).pipe(c.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",c)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,r,n){var a=i("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},n.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,r,n){var a=i("./utils"),s=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(u,d,c,h){var f=s,p=h+c;u^=-1;for(var g=h;g<p;g++)u=u>>>8^f[255&(u^d[g])];return-1^u}(0|l,o,o.length,0):function(u,d,c,h){var f=s,p=h+c;u^=-1;for(var g=h;g<p;g++)u=u>>>8^f[255&(u^d.charCodeAt(g))];return-1^u}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(i,r,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(i,r,n){var a=null;a=typeof Promise<"u"?Promise:i("lie"),r.exports={Promise:a}},{lie:37}],7:[function(i,r,n){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=i("pako"),o=i("./utils"),l=i("./stream/GenericWorker"),u=a?"uint8array":"array";function d(c,h){l.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=h,this.meta={}}n.magic="\b\0",o.inherits(d,l),d.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,c.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(h){c.push({data:h,meta:c.meta})}},n.compressWorker=function(c){return new d("Deflate",c)},n.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,r,n){function a(f,p){var g,m="";for(g=0;g<p;g++)m+=String.fromCharCode(255&f),f>>>=8;return m}function s(f,p,g,m,v,b){var y,I,D=f.file,N=f.compression,z=b!==u.utf8encode,F=o.transformTo("string",b(D.name)),$=o.transformTo("string",u.utf8encode(D.name)),j=D.comment,q=o.transformTo("string",b(j)),H=o.transformTo("string",u.utf8encode(j)),A=$.length!==D.name.length,T=H.length!==j.length,E="",C="",w="",S=D.dir,x=D.date,k={crc32:0,compressedSize:0,uncompressedSize:0};p&&!g||(k.crc32=f.crc32,k.compressedSize=f.compressedSize,k.uncompressedSize=f.uncompressedSize);var P=0;p&&(P|=8),z||!A&&!T||(P|=2048);var O=0,L=0;S&&(O|=16),v==="UNIX"?(L=798,O|=function(X,B){var K=X;return X||(K=B?16893:33204),(65535&K)<<16}(D.unixPermissions,S)):(L=20,O|=function(X){return 63&(X||0)}(D.dosPermissions)),y=x.getUTCHours(),y<<=6,y|=x.getUTCMinutes(),y<<=5,y|=x.getUTCSeconds()/2,I=x.getUTCFullYear()-1980,I<<=4,I|=x.getUTCMonth()+1,I<<=5,I|=x.getUTCDate(),A&&(C=a(1,1)+a(d(F),4)+$,E+="up"+a(C.length,2)+C),T&&(w=a(1,1)+a(d(q),4)+H,E+="uc"+a(w.length,2)+w);var V="";return V+=`
\0`,V+=a(P,2),V+=N.magic,V+=a(y,2),V+=a(I,2),V+=a(k.crc32,4),V+=a(k.compressedSize,4),V+=a(k.uncompressedSize,4),V+=a(F.length,2),V+=a(E.length,2),{fileRecord:c.LOCAL_FILE_HEADER+V+F+E,dirRecord:c.CENTRAL_FILE_HEADER+a(L,2)+V+a(q.length,2)+"\0\0\0\0"+a(O,4)+a(m,4)+F+E+q}}var o=i("../utils"),l=i("../stream/GenericWorker"),u=i("../utf8"),d=i("../crc32"),c=i("../signature");function h(f,p,g,m){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=g,this.encodeFileName=m,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,l),h.prototype.push=function(f){var p=f.meta.percent||0,g=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:g?(p+100*(g-m-1))/g:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var p=this.streamFiles&&!f.file.dir;if(p){var g=s(f,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var p=this.streamFiles&&!f.file.dir,g=s(f,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),p)this.push({data:function(m){return c.DATA_DESCRIPTOR+a(m.crc32,4)+a(m.compressedSize,4)+a(m.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var g=this.bytesWritten-f,m=function(v,b,y,I,D){var N=o.transformTo("string",D(I));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(v,2)+a(v,2)+a(b,4)+a(y,4)+a(N.length,2)+N}(this.dirRecords.length,g,f,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var p=this;return f.on("data",function(g){p.processChunk(g)}),f.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),f.on("error",function(g){p.error(g)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var p=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var g=0;g<p.length;g++)try{p[g].error(f)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,p=0;p<f.length;p++)f[p].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,r,n){var a=i("../compressions"),s=i("./ZipFileWorker");n.generateWorker=function(o,l,u){var d=new s(l.streamFiles,u,l.platform,l.encodeFileName),c=0;try{o.forEach(function(h,f){c++;var p=function(b,y){var I=b||y,D=a[I];if(!D)throw new Error(I+" is not a valid compression method !");return D}(f.options.compression,l.compression),g=f.options.compressionOptions||l.compressionOptions||{},m=f.dir,v=f.date;f._compressWorker(p,g).withStreamInfo("file",{name:h,dir:m,date:v,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(d)}),d.entriesCount=c}catch(h){d.error(h)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,r,n){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=i("./object")).loadAsync=i("./load"),a.support=i("./support"),a.defaults=i("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=i("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,r,n){var a=i("./utils"),s=i("./external"),o=i("./utf8"),l=i("./zipEntries"),u=i("./stream/Crc32Probe"),d=i("./nodejsUtils");function c(h){return new s.Promise(function(f,p){var g=h.decompressed.getContentWorker().pipe(new u);g.on("error",function(m){p(m)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(h,f){var p=this;return f=a.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),d.isNode&&d.isStream(h)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(g){var m=new l(f);return m.load(g),m}).then(function(g){var m=[s.Promise.resolve(g)],v=g.files;if(f.checkCRC32)for(var b=0;b<v.length;b++)m.push(c(v[b]));return s.Promise.all(m)}).then(function(g){for(var m=g.shift(),v=m.files,b=0;b<v.length;b++){var y=v[b],I=y.fileNameStr,D=a.resolve(y.fileNameStr);p.file(D,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:f.createFolders}),y.dir||(p.file(D).unsafeOriginalName=I)}return m.zipComment.length&&(p.comment=m.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,r,n){var a=i("../utils"),s=i("../stream/GenericWorker");function o(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(o,s),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,r,n){var a=i("readable-stream").Readable;function s(o,l,u){a.call(this,l),this._helper=o;var d=this;o.on("data",function(c,h){d.push(c)||d._helper.pause(),u&&u(h)}).on("error",function(c){d.emit("error",c)}).on("end",function(){d.push(null)})}i("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(i,r,n){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(i,r,n){function a(D,N,z){var F,$=o.getTypeOf(N),j=o.extend(z||{},d);j.date=j.date||new Date,j.compression!==null&&(j.compression=j.compression.toUpperCase()),typeof j.unixPermissions=="string"&&(j.unixPermissions=parseInt(j.unixPermissions,8)),j.unixPermissions&&16384&j.unixPermissions&&(j.dir=!0),j.dosPermissions&&16&j.dosPermissions&&(j.dir=!0),j.dir&&(D=v(D)),j.createFolders&&(F=m(D))&&b.call(this,F,!0);var q=$==="string"&&j.binary===!1&&j.base64===!1;z&&z.binary!==void 0||(j.binary=!q),(N instanceof c&&N.uncompressedSize===0||j.dir||!N||N.length===0)&&(j.base64=!1,j.binary=!0,N="",j.compression="STORE",$="string");var H=null;H=N instanceof c||N instanceof l?N:p.isNode&&p.isStream(N)?new g(D,N):o.prepareContent(D,N,j.binary,j.optimizedBinaryString,j.base64);var A=new h(D,H,j);this.files[D]=A}var s=i("./utf8"),o=i("./utils"),l=i("./stream/GenericWorker"),u=i("./stream/StreamHelper"),d=i("./defaults"),c=i("./compressedObject"),h=i("./zipObject"),f=i("./generate"),p=i("./nodejsUtils"),g=i("./nodejs/NodejsStreamInputAdapter"),m=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var N=D.lastIndexOf("/");return 0<N?D.substring(0,N):""},v=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},b=function(D,N){return N=N!==void 0?N:d.createFolders,D=v(D),this.files[D]||a.call(this,D,null,{dir:!0,createFolders:N}),this.files[D]};function y(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var N,z,F;for(N in this.files)F=this.files[N],(z=N.slice(this.root.length,N.length))&&N.slice(0,this.root.length)===this.root&&D(z,F)},filter:function(D){var N=[];return this.forEach(function(z,F){D(z,F)&&N.push(F)}),N},file:function(D,N,z){if(arguments.length!==1)return D=this.root+D,a.call(this,D,N,z),this;if(y(D)){var F=D;return this.filter(function(j,q){return!q.dir&&F.test(j)})}var $=this.files[this.root+D];return $&&!$.dir?$:null},folder:function(D){if(!D)return this;if(y(D))return this.filter(function($,j){return j.dir&&D.test($)});var N=this.root+D,z=b.call(this,N),F=this.clone();return F.root=z.name,F},remove:function(D){D=this.root+D;var N=this.files[D];if(N||(D.slice(-1)!=="/"&&(D+="/"),N=this.files[D]),N&&!N.dir)delete this.files[D];else for(var z=this.filter(function($,j){return j.name.slice(0,D.length)===D}),F=0;F<z.length;F++)delete this.files[z[F].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var N,z={};try{if((z=o.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");o.checkSupport(z.type),z.platform!=="darwin"&&z.platform!=="freebsd"&&z.platform!=="linux"&&z.platform!=="sunos"||(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var F=z.comment||this.comment||"";N=f.generateWorker(this,z,F)}catch($){(N=new l("error")).error($)}return new u(N,z.type||"string",z.mimeType)},generateAsync:function(D,N){return this.generateInternalStream(D).accumulate(N)},generateNodeStream:function(D,N){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(N)}};r.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,r,n){r.exports=i("stream")},{stream:void 0}],17:[function(i,r,n){var a=i("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}i("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),d=o.charCodeAt(2),c=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===u&&this.data[h+2]===d&&this.data[h+3]===c)return h-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),d=o.charCodeAt(2),c=o.charCodeAt(3),h=this.readData(4);return l===h[0]&&u===h[1]&&d===h[2]&&c===h[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(i,r,n){var a=i("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(i,r,n){var a=i("./Uint8ArrayReader");function s(o){a.call(this,o)}i("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,r,n){var a=i("./DataReader");function s(o){a.call(this,o)}i("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(i,r,n){var a=i("./ArrayReader");function s(o){a.call(this,o)}i("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(i,r,n){var a=i("../utils"),s=i("../support"),o=i("./ArrayReader"),l=i("./StringReader"),u=i("./NodeBufferReader"),d=i("./Uint8ArrayReader");r.exports=function(c){var h=a.getTypeOf(c);return a.checkSupport(h),h!=="string"||s.uint8array?h==="nodebuffer"?new u(c):s.uint8array?new d(a.transformTo("uint8array",c)):new o(a.transformTo("array",c)):new l(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,r,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,r,n){var a=i("./GenericWorker"),s=i("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(i,r,n){var a=i("./GenericWorker"),s=i("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,r,n){var a=i("../utils"),s=i("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(i,r,n){var a=i("../utils"),s=i("./GenericWorker");function o(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=a.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(i,r,n){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(i,r,n){var a=i("../utils"),s=i("./ConvertWorker"),o=i("./GenericWorker"),l=i("../base64"),u=i("../support"),d=i("../external"),c=null;if(u.nodestream)try{c=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(p,g){return new d.Promise(function(m,v){var b=[],y=p._internalType,I=p._outputType,D=p._mimeType;p.on("data",function(N,z){b.push(N),g&&g(z)}).on("error",function(N){b=[],v(N)}).on("end",function(){try{var N=function(z,F,$){switch(z){case"blob":return a.newBlob(a.transformTo("arraybuffer",F),$);case"base64":return l.encode(F);default:return a.transformTo(z,F)}}(I,function(z,F){var $,j=0,q=null,H=0;for($=0;$<F.length;$++)H+=F[$].length;switch(z){case"string":return F.join("");case"array":return Array.prototype.concat.apply([],F);case"uint8array":for(q=new Uint8Array(H),$=0;$<F.length;$++)q.set(F[$],j),j+=F[$].length;return q;case"nodebuffer":return Buffer.concat(F);default:throw new Error("concat : unsupported type '"+z+"'")}}(y,b),D);m(N)}catch(z){v(z)}b=[]}).resume()})}function f(p,g,m){var v=g;switch(g){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=g,this._mimeType=m,a.checkSupport(v),this._worker=p.pipe(new s(v)),p.lock()}catch(b){this._worker=new o("error"),this._worker.error(b)}}f.prototype={accumulate:function(p){return h(this,p)},on:function(p,g){var m=this;return p==="data"?this._worker.on(p,function(v){g.call(m,v.data,v.meta)}):this._worker.on(p,function(){a.delay(g,arguments,m)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,r,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var a=new ArrayBuffer(0);try{n.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),n.blob=s.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!i("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(i,r,n){for(var a=i("./utils"),s=i("./support"),o=i("./nodejsUtils"),l=i("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function c(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}n.utf8encode=function(f){return s.nodebuffer?o.newBufferFrom(f,"utf-8"):function(p){var g,m,v,b,y,I=p.length,D=0;for(b=0;b<I;b++)(64512&(m=p.charCodeAt(b)))==55296&&b+1<I&&(64512&(v=p.charCodeAt(b+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),b++),D+=m<128?1:m<2048?2:m<65536?3:4;for(g=s.uint8array?new Uint8Array(D):new Array(D),b=y=0;y<D;b++)(64512&(m=p.charCodeAt(b)))==55296&&b+1<I&&(64512&(v=p.charCodeAt(b+1)))==56320&&(m=65536+(m-55296<<10)+(v-56320),b++),m<128?g[y++]=m:(m<2048?g[y++]=192|m>>>6:(m<65536?g[y++]=224|m>>>12:(g[y++]=240|m>>>18,g[y++]=128|m>>>12&63),g[y++]=128|m>>>6&63),g[y++]=128|63&m);return g}(f)},n.utf8decode=function(f){return s.nodebuffer?a.transformTo("nodebuffer",f).toString("utf-8"):function(p){var g,m,v,b,y=p.length,I=new Array(2*y);for(g=m=0;g<y;)if((v=p[g++])<128)I[m++]=v;else if(4<(b=u[v]))I[m++]=65533,g+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&g<y;)v=v<<6|63&p[g++],b--;1<b?I[m++]=65533:v<65536?I[m++]=v:(v-=65536,I[m++]=55296|v>>10&1023,I[m++]=56320|1023&v)}return I.length!==m&&(I.subarray?I=I.subarray(0,m):I.length=m),a.applyFromCharCode(I)}(f=a.transformTo(s.uint8array?"uint8array":"array",f))},a.inherits(c,l),c.prototype.processChunk=function(f){var p=a.transformTo(s.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var g=p;(p=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),p.set(g,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var m=function(b,y){var I;for((y=y||b.length)>b.length&&(y=b.length),I=y-1;0<=I&&(192&b[I])==128;)I--;return I<0||I===0?y:I+u[b[I]]>y?I:y}(p),v=p;m!==p.length&&(s.uint8array?(v=p.subarray(0,m),this.leftOver=p.subarray(m,p.length)):(v=p.slice(0,m),this.leftOver=p.slice(m,p.length))),this.push({data:n.utf8decode(v),meta:f.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,a.inherits(h,l),h.prototype.processChunk=function(f){this.push({data:n.utf8encode(f.data),meta:f.meta})},n.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,r,n){var a=i("./support"),s=i("./base64"),o=i("./nodejsUtils"),l=i("./external");function u(g){return g}function d(g,m){for(var v=0;v<g.length;++v)m[v]=255&g.charCodeAt(v);return m}i("setimmediate"),n.newBlob=function(g,m){n.checkSupport("blob");try{return new Blob([g],{type:m})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(g),v.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(g,m,v){var b=[],y=0,I=g.length;if(I<=v)return String.fromCharCode.apply(null,g);for(;y<I;)m==="array"||m==="nodebuffer"?b.push(String.fromCharCode.apply(null,g.slice(y,Math.min(y+v,I)))):b.push(String.fromCharCode.apply(null,g.subarray(y,Math.min(y+v,I)))),y+=v;return b.join("")},stringifyByChar:function(g){for(var m="",v=0;v<g.length;v++)m+=String.fromCharCode(g[v]);return m},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function h(g){var m=65536,v=n.getTypeOf(g),b=!0;if(v==="uint8array"?b=c.applyCanBeUsed.uint8array:v==="nodebuffer"&&(b=c.applyCanBeUsed.nodebuffer),b)for(;1<m;)try{return c.stringifyByChunk(g,v,m)}catch{m=Math.floor(m/2)}return c.stringifyByChar(g)}function f(g,m){for(var v=0;v<g.length;v++)m[v]=g[v];return m}n.applyFromCharCode=h;var p={};p.string={string:u,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return p.string.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:function(g){return d(g,o.allocBuffer(g.length))}},p.array={string:h,array:u,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},p.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return f(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:u,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},p.uint8array={string:h,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:u,nodebuffer:function(g){return o.newBufferFrom(g)}},p.nodebuffer={string:h,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return p.nodebuffer.uint8array(g).buffer},uint8array:function(g){return f(g,new Uint8Array(g.length))},nodebuffer:u},n.transformTo=function(g,m){if(m=m||"",!g)return m;n.checkSupport(g);var v=n.getTypeOf(m);return p[v][g](m)},n.resolve=function(g){for(var m=g.split("/"),v=[],b=0;b<m.length;b++){var y=m[b];y==="."||y===""&&b!==0&&b!==m.length-1||(y===".."?v.pop():v.push(y))}return v.join("/")},n.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(g)?"nodebuffer":a.uint8array&&g instanceof Uint8Array?"uint8array":a.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(g){if(!a[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(g){var m,v,b="";for(v=0;v<(g||"").length;v++)b+="\\x"+((m=g.charCodeAt(v))<16?"0":"")+m.toString(16).toUpperCase();return b},n.delay=function(g,m,v){setImmediate(function(){g.apply(v||null,m||[])})},n.inherits=function(g,m){function v(){}v.prototype=m.prototype,g.prototype=new v},n.extend=function(){var g,m,v={};for(g=0;g<arguments.length;g++)for(m in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],m)&&v[m]===void 0&&(v[m]=arguments[g][m]);return v},n.prepareContent=function(g,m,v,b,y){return l.Promise.resolve(m).then(function(I){return a.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1)&&typeof FileReader<"u"?new l.Promise(function(D,N){var z=new FileReader;z.onload=function(F){D(F.target.result)},z.onerror=function(F){N(F.target.error)},z.readAsArrayBuffer(I)}):I}).then(function(I){var D=n.getTypeOf(I);return D?(D==="arraybuffer"?I=n.transformTo("uint8array",I):D==="string"&&(y?I=s.decode(I):v&&b!==!0&&(I=function(N){return d(N,a.uint8array?new Uint8Array(N.length):new Array(N.length))}(I))),I):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,r,n){var a=i("./reader/readerFor"),s=i("./utils"),o=i("./signature"),l=i("./zipEntry"),u=i("./support");function d(c){this.files=[],this.loadOptions=c}d.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(h)+", expected "+s.pretty(c)+")")}},isSignature:function(c,h){var f=this.reader.index;this.reader.setIndex(c);var p=this.reader.readString(4)===h;return this.reader.setIndex(f),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",f=s.transformTo(h,c);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,h,f,p=this.zip64EndOfCentralSize-44;0<p;)c=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[c]={id:c,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,h;for(c=0;c<this.files.length;c++)h=this.files[c],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(c=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var h=c;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var p=h-f;if(0<p)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(c){this.reader=a(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,r,n){var a=i("./reader/readerFor"),s=i("./utils"),o=i("./compressedObject"),l=i("./crc32"),u=i("./utf8"),d=i("./compressions"),c=i("./support");function h(f,p){this.options=f,this.loadOptions=p}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var p,g;if(f.skip(22),this.fileNameLength=f.readInt(2),g=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(m){for(var v in d)if(Object.prototype.hasOwnProperty.call(d,v)&&d[v].magic===m)return d[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,p,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var p=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(p),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var p,g,m,v=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<v;)p=f.readInt(2),g=f.readInt(2),m=f.readData(g),this.extraFields[p]={id:p,length:g,value:m};f.setIndex(v)},handleUTF8:function(){var f=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var g=s.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var v=s.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var p=a(f.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:u.utf8decode(p.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var p=a(f.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:u.utf8decode(p.readData(f.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,r,n){function a(p,g,m){this.name=p,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=g,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var s=i("./stream/StreamHelper"),o=i("./stream/DataWorker"),l=i("./utf8"),u=i("./compressedObject"),d=i("./stream/GenericWorker");a.prototype={internalStream:function(p){var g=null,m="string";try{if(!p)throw new Error("No output type specified.");var v=(m=p.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),g=this._decompressWorker();var b=!this._dataBinary;b&&!v&&(g=g.pipe(new l.Utf8EncodeWorker)),!b&&v&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(y){(g=new d("error")).error(y)}return new s(g,m,"")},async:function(p,g){return this.internalStream(p).accumulate(g)},nodeStream:function(p,g){return this.internalStream(p||"nodebuffer").toNodejsStream(g)},_compressWorker:function(p,g){if(this._data instanceof u&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(m,p,g)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<c.length;f++)a.prototype[c[f]]=h;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,r,n){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var u=0,d=new l(p),c=a.document.createTextNode("");d.observe(c,{characterData:!0}),s=function(){c.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var g=a.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},a.document.documentElement.appendChild(g)}:function(){setTimeout(p,0)};else{var h=new a.MessageChannel;h.port1.onmessage=p,s=function(){h.port2.postMessage(0)}}var f=[];function p(){var g,m;o=!0;for(var v=f.length;v;){for(m=f,f=[],g=-1;++g<v;)m[g]();v=f.length}o=!1}r.exports=function(g){f.push(g)!==1||o||s()}}).call(this,typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,r,n){var a=i("immediate");function s(){}var o={},l=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function c(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,v!==s&&g(this,v)}function h(v,b,y){this.promise=v,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function f(v,b,y){a(function(){var I;try{I=b(y)}catch(D){return o.reject(v,D)}I===v?o.reject(v,new TypeError("Cannot resolve promise with itself")):o.resolve(v,I)})}function p(v){var b=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof b=="function")return function(){b.apply(v,arguments)}}function g(v,b){var y=!1;function I(z){y||(y=!0,o.reject(v,z))}function D(z){y||(y=!0,o.resolve(v,z))}var N=m(function(){b(D,I)});N.status==="error"&&I(N.value)}function m(v,b){var y={};try{y.value=v(b),y.status="success"}catch(I){y.status="error",y.value=I}return y}(r.exports=c).prototype.finally=function(v){if(typeof v!="function")return this;var b=this.constructor;return this.then(function(y){return b.resolve(v()).then(function(){return y})},function(y){return b.resolve(v()).then(function(){throw y})})},c.prototype.catch=function(v){return this.then(null,v)},c.prototype.then=function(v,b){if(typeof v!="function"&&this.state===u||typeof b!="function"&&this.state===l)return this;var y=new this.constructor(s);return this.state!==d?f(y,this.state===u?v:b,this.outcome):this.queue.push(new h(y,v,b)),y},h.prototype.callFulfilled=function(v){o.resolve(this.promise,v)},h.prototype.otherCallFulfilled=function(v){f(this.promise,this.onFulfilled,v)},h.prototype.callRejected=function(v){o.reject(this.promise,v)},h.prototype.otherCallRejected=function(v){f(this.promise,this.onRejected,v)},o.resolve=function(v,b){var y=m(p,b);if(y.status==="error")return o.reject(v,y.value);var I=y.value;if(I)g(v,I);else{v.state=u,v.outcome=b;for(var D=-1,N=v.queue.length;++D<N;)v.queue[D].callFulfilled(b)}return v},o.reject=function(v,b){v.state=l,v.outcome=b;for(var y=-1,I=v.queue.length;++y<I;)v.queue[y].callRejected(b);return v},c.resolve=function(v){return v instanceof this?v:o.resolve(new this(s),v)},c.reject=function(v){var b=new this(s);return o.reject(b,v)},c.all=function(v){var b=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=v.length,I=!1;if(!y)return this.resolve([]);for(var D=new Array(y),N=0,z=-1,F=new this(s);++z<y;)$(v[z],z);return F;function $(j,q){b.resolve(j).then(function(H){D[q]=H,++N!==y||I||(I=!0,o.resolve(F,D))},function(H){I||(I=!0,o.reject(F,H))})}},c.race=function(v){var b=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=v.length,I=!1;if(!y)return this.resolve([]);for(var D=-1,N=new this(s);++D<y;)z=v[D],b.resolve(z).then(function(F){I||(I=!0,o.resolve(N,F))},function(F){I||(I=!0,o.reject(N,F))});var z;return N}},{immediate:36}],38:[function(i,r,n){var a={};(0,i("./lib/utils/common").assign)(a,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,r,n){var a=i("./zlib/deflate"),s=i("./utils/common"),o=i("./utils/strings"),l=i("./zlib/messages"),u=i("./zlib/zstream"),d=Object.prototype.toString,c=0,h=-1,f=0,p=8;function g(v){if(!(this instanceof g))return new g(v);this.options=s.assign({level:h,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},v||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var y=a.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(y!==c)throw new Error(l[y]);if(b.header&&a.deflateSetHeader(this.strm,b.header),b.dictionary){var I;if(I=typeof b.dictionary=="string"?o.string2buf(b.dictionary):d.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(y=a.deflateSetDictionary(this.strm,I))!==c)throw new Error(l[y]);this._dict_set=!0}}function m(v,b){var y=new g(b);if(y.push(v,!0),y.err)throw y.msg||l[y.err];return y.result}g.prototype.push=function(v,b){var y,I,D=this.strm,N=this.options.chunkSize;if(this.ended)return!1;I=b===~~b?b:b===!0?4:0,typeof v=="string"?D.input=o.string2buf(v):d.call(v)==="[object ArrayBuffer]"?D.input=new Uint8Array(v):D.input=v,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new s.Buf8(N),D.next_out=0,D.avail_out=N),(y=a.deflate(D,I))!==1&&y!==c)return this.onEnd(y),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(D.output,D.next_out))):this.onData(s.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&y!==1);return I===4?(y=a.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===c):I!==2||(this.onEnd(c),!(D.avail_out=0))},g.prototype.onData=function(v){this.chunks.push(v)},g.prototype.onEnd=function(v){v===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},n.Deflate=g,n.deflate=m,n.deflateRaw=function(v,b){return(b=b||{}).raw=!0,m(v,b)},n.gzip=function(v,b){return(b=b||{}).gzip=!0,m(v,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,r,n){var a=i("./zlib/inflate"),s=i("./utils/common"),o=i("./utils/strings"),l=i("./zlib/constants"),u=i("./zlib/messages"),d=i("./zlib/zstream"),c=i("./zlib/gzheader"),h=Object.prototype.toString;function f(g){if(!(this instanceof f))return new f(g);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},g||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||g&&g.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var v=a.inflateInit2(this.strm,m.windowBits);if(v!==l.Z_OK)throw new Error(u[v]);this.header=new c,a.inflateGetHeader(this.strm,this.header)}function p(g,m){var v=new f(m);if(v.push(g,!0),v.err)throw v.msg||u[v.err];return v.result}f.prototype.push=function(g,m){var v,b,y,I,D,N,z=this.strm,F=this.options.chunkSize,$=this.options.dictionary,j=!1;if(this.ended)return!1;b=m===~~m?m:m===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?z.input=o.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?z.input=new Uint8Array(g):z.input=g,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new s.Buf8(F),z.next_out=0,z.avail_out=F),(v=a.inflate(z,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&$&&(N=typeof $=="string"?o.string2buf($):h.call($)==="[object ArrayBuffer]"?new Uint8Array($):$,v=a.inflateSetDictionary(this.strm,N)),v===l.Z_BUF_ERROR&&j===!0&&(v=l.Z_OK,j=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);z.next_out&&(z.avail_out!==0&&v!==l.Z_STREAM_END&&(z.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=o.utf8border(z.output,z.next_out),I=z.next_out-y,D=o.buf2string(z.output,y),z.next_out=I,z.avail_out=F-I,I&&s.arraySet(z.output,z.output,y,I,0),this.onData(D)):this.onData(s.shrinkBuf(z.output,z.next_out)))),z.avail_in===0&&z.avail_out===0&&(j=!0)}while((0<z.avail_in||z.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(v=a.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(z.avail_out=0))},f.prototype.onData=function(g){this.chunks.push(g)},f.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},n.Inflate=f,n.inflate=p,n.inflateRaw=function(g,m){return(m=m||{}).raw=!0,p(g,m)},n.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,r,n){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var c in d)d.hasOwnProperty(c)&&(l[c]=d[c])}}return l},n.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,d,c,h){if(u.subarray&&l.subarray)l.set(u.subarray(d,d+c),h);else for(var f=0;f<c;f++)l[h+f]=u[d+f]},flattenChunks:function(l){var u,d,c,h,f,p;for(u=c=0,d=l.length;u<d;u++)c+=l[u].length;for(p=new Uint8Array(c),u=h=0,d=l.length;u<d;u++)f=l[u],p.set(f,h),h+=f.length;return p}},o={arraySet:function(l,u,d,c,h){for(var f=0;f<c;f++)l[h+f]=u[d+f]},flattenChunks:function(l){return[].concat.apply([],l)}};n.setTyped=function(l){l?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,s)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(a)},{}],42:[function(i,r,n){var a=i("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(c,h){if(h<65537&&(c.subarray&&o||!c.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(c,h));for(var f="",p=0;p<h;p++)f+=String.fromCharCode(c[p]);return f}l[254]=l[254]=1,n.string2buf=function(c){var h,f,p,g,m,v=c.length,b=0;for(g=0;g<v;g++)(64512&(f=c.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=c.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),g++),b+=f<128?1:f<2048?2:f<65536?3:4;for(h=new a.Buf8(b),g=m=0;m<b;g++)(64512&(f=c.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=c.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),g++),f<128?h[m++]=f:(f<2048?h[m++]=192|f>>>6:(f<65536?h[m++]=224|f>>>12:(h[m++]=240|f>>>18,h[m++]=128|f>>>12&63),h[m++]=128|f>>>6&63),h[m++]=128|63&f);return h},n.buf2binstring=function(c){return d(c,c.length)},n.binstring2buf=function(c){for(var h=new a.Buf8(c.length),f=0,p=h.length;f<p;f++)h[f]=c.charCodeAt(f);return h},n.buf2string=function(c,h){var f,p,g,m,v=h||c.length,b=new Array(2*v);for(f=p=0;f<v;)if((g=c[f++])<128)b[p++]=g;else if(4<(m=l[g]))b[p++]=65533,f+=m-1;else{for(g&=m===2?31:m===3?15:7;1<m&&f<v;)g=g<<6|63&c[f++],m--;1<m?b[p++]=65533:g<65536?b[p++]=g:(g-=65536,b[p++]=55296|g>>10&1023,b[p++]=56320|1023&g)}return d(b,p)},n.utf8border=function(c,h){var f;for((h=h||c.length)>c.length&&(h=c.length),f=h-1;0<=f&&(192&c[f])==128;)f--;return f<0||f===0?h:f+l[c[f]]>h?f:h}},{"./common":41}],43:[function(i,r,n){r.exports=function(a,s,o,l){for(var u=65535&a|0,d=a>>>16&65535|0,c=0;o!==0;){for(o-=c=2e3<o?2e3:o;d=d+(u=u+s[l++]|0)|0,--c;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(i,r,n){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,r,n){var a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();r.exports=function(s,o,l,u){var d=a,c=u+l;s^=-1;for(var h=u;h<c;h++)s=s>>>8^d[255&(s^o[h])];return-1^s}},{}],46:[function(i,r,n){var a,s=i("../utils/common"),o=i("./trees"),l=i("./adler32"),u=i("./crc32"),d=i("./messages"),c=0,h=4,f=0,p=-2,g=-1,m=4,v=2,b=8,y=9,I=286,D=30,N=19,z=2*I+1,F=15,$=3,j=258,q=j+$+1,H=42,A=113,T=1,E=2,C=3,w=4;function S(U,se){return U.msg=d[se],se}function x(U){return(U<<1)-(4<U?9:0)}function k(U){for(var se=U.length;0<=--se;)U[se]=0}function P(U){var se=U.state,ae=se.pending;ae>U.avail_out&&(ae=U.avail_out),ae!==0&&(s.arraySet(U.output,se.pending_buf,se.pending_out,ae,U.next_out),U.next_out+=ae,se.pending_out+=ae,U.total_out+=ae,U.avail_out-=ae,se.pending-=ae,se.pending===0&&(se.pending_out=0))}function O(U,se){o._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,se),U.block_start=U.strstart,P(U.strm)}function L(U,se){U.pending_buf[U.pending++]=se}function V(U,se){U.pending_buf[U.pending++]=se>>>8&255,U.pending_buf[U.pending++]=255&se}function X(U,se){var ae,Y,J=U.max_chain_length,ee=U.strstart,ue=U.prev_length,de=U.nice_match,oe=U.strstart>U.w_size-q?U.strstart-(U.w_size-q):0,ce=U.window,ge=U.w_mask,ve=U.prev,Se=U.strstart+j,ke=ce[ee+ue-1],Ae=ce[ee+ue];U.prev_length>=U.good_match&&(J>>=2),de>U.lookahead&&(de=U.lookahead);do if(ce[(ae=se)+ue]===Ae&&ce[ae+ue-1]===ke&&ce[ae]===ce[ee]&&ce[++ae]===ce[ee+1]){ee+=2,ae++;do;while(ce[++ee]===ce[++ae]&&ce[++ee]===ce[++ae]&&ce[++ee]===ce[++ae]&&ce[++ee]===ce[++ae]&&ce[++ee]===ce[++ae]&&ce[++ee]===ce[++ae]&&ce[++ee]===ce[++ae]&&ce[++ee]===ce[++ae]&&ee<Se);if(Y=j-(Se-ee),ee=Se-j,ue<Y){if(U.match_start=se,de<=(ue=Y))break;ke=ce[ee+ue-1],Ae=ce[ee+ue]}}while((se=ve[se&ge])>oe&&--J!=0);return ue<=U.lookahead?ue:U.lookahead}function B(U){var se,ae,Y,J,ee,ue,de,oe,ce,ge,ve=U.w_size;do{if(J=U.window_size-U.lookahead-U.strstart,U.strstart>=ve+(ve-q)){for(s.arraySet(U.window,U.window,ve,ve,0),U.match_start-=ve,U.strstart-=ve,U.block_start-=ve,se=ae=U.hash_size;Y=U.head[--se],U.head[se]=ve<=Y?Y-ve:0,--ae;);for(se=ae=ve;Y=U.prev[--se],U.prev[se]=ve<=Y?Y-ve:0,--ae;);J+=ve}if(U.strm.avail_in===0)break;if(ue=U.strm,de=U.window,oe=U.strstart+U.lookahead,ce=J,ge=void 0,ge=ue.avail_in,ce<ge&&(ge=ce),ae=ge===0?0:(ue.avail_in-=ge,s.arraySet(de,ue.input,ue.next_in,ge,oe),ue.state.wrap===1?ue.adler=l(ue.adler,de,ge,oe):ue.state.wrap===2&&(ue.adler=u(ue.adler,de,ge,oe)),ue.next_in+=ge,ue.total_in+=ge,ge),U.lookahead+=ae,U.lookahead+U.insert>=$)for(ee=U.strstart-U.insert,U.ins_h=U.window[ee],U.ins_h=(U.ins_h<<U.hash_shift^U.window[ee+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[ee+$-1])&U.hash_mask,U.prev[ee&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=ee,ee++,U.insert--,!(U.lookahead+U.insert<$)););}while(U.lookahead<q&&U.strm.avail_in!==0)}function K(U,se){for(var ae,Y;;){if(U.lookahead<q){if(B(U),U.lookahead<q&&se===c)return T;if(U.lookahead===0)break}if(ae=0,U.lookahead>=$&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+$-1])&U.hash_mask,ae=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),ae!==0&&U.strstart-ae<=U.w_size-q&&(U.match_length=X(U,ae)),U.match_length>=$)if(Y=o._tr_tally(U,U.strstart-U.match_start,U.match_length-$),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=$){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+$-1])&U.hash_mask,ae=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else Y=o._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(Y&&(O(U,!1),U.strm.avail_out===0))return T}return U.insert=U.strstart<$-1?U.strstart:$-1,se===h?(O(U,!0),U.strm.avail_out===0?C:w):U.last_lit&&(O(U,!1),U.strm.avail_out===0)?T:E}function R(U,se){for(var ae,Y,J;;){if(U.lookahead<q){if(B(U),U.lookahead<q&&se===c)return T;if(U.lookahead===0)break}if(ae=0,U.lookahead>=$&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+$-1])&U.hash_mask,ae=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=$-1,ae!==0&&U.prev_length<U.max_lazy_match&&U.strstart-ae<=U.w_size-q&&(U.match_length=X(U,ae),U.match_length<=5&&(U.strategy===1||U.match_length===$&&4096<U.strstart-U.match_start)&&(U.match_length=$-1)),U.prev_length>=$&&U.match_length<=U.prev_length){for(J=U.strstart+U.lookahead-$,Y=o._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-$),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=J&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+$-1])&U.hash_mask,ae=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=$-1,U.strstart++,Y&&(O(U,!1),U.strm.avail_out===0))return T}else if(U.match_available){if((Y=o._tr_tally(U,0,U.window[U.strstart-1]))&&O(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return T}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(Y=o._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<$-1?U.strstart:$-1,se===h?(O(U,!0),U.strm.avail_out===0?C:w):U.last_lit&&(O(U,!1),U.strm.avail_out===0)?T:E}function M(U,se,ae,Y,J){this.good_length=U,this.max_lazy=se,this.nice_length=ae,this.max_chain=Y,this.func=J}function G(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*z),this.dyn_dtree=new s.Buf16(2*(2*D+1)),this.bl_tree=new s.Buf16(2*(2*N+1)),k(this.dyn_ltree),k(this.dyn_dtree),k(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(F+1),this.heap=new s.Buf16(2*I+1),k(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*I+1),k(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Q(U){var se;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=v,(se=U.state).pending=0,se.pending_out=0,se.wrap<0&&(se.wrap=-se.wrap),se.status=se.wrap?H:A,U.adler=se.wrap===2?0:1,se.last_flush=c,o._tr_init(se),f):S(U,p)}function ne(U){var se=Q(U);return se===f&&function(ae){ae.window_size=2*ae.w_size,k(ae.head),ae.max_lazy_match=a[ae.level].max_lazy,ae.good_match=a[ae.level].good_length,ae.nice_match=a[ae.level].nice_length,ae.max_chain_length=a[ae.level].max_chain,ae.strstart=0,ae.block_start=0,ae.lookahead=0,ae.insert=0,ae.match_length=ae.prev_length=$-1,ae.match_available=0,ae.ins_h=0}(U.state),se}function ie(U,se,ae,Y,J,ee){if(!U)return p;var ue=1;if(se===g&&(se=6),Y<0?(ue=0,Y=-Y):15<Y&&(ue=2,Y-=16),J<1||y<J||ae!==b||Y<8||15<Y||se<0||9<se||ee<0||m<ee)return S(U,p);Y===8&&(Y=9);var de=new G;return(U.state=de).strm=U,de.wrap=ue,de.gzhead=null,de.w_bits=Y,de.w_size=1<<de.w_bits,de.w_mask=de.w_size-1,de.hash_bits=J+7,de.hash_size=1<<de.hash_bits,de.hash_mask=de.hash_size-1,de.hash_shift=~~((de.hash_bits+$-1)/$),de.window=new s.Buf8(2*de.w_size),de.head=new s.Buf16(de.hash_size),de.prev=new s.Buf16(de.w_size),de.lit_bufsize=1<<J+6,de.pending_buf_size=4*de.lit_bufsize,de.pending_buf=new s.Buf8(de.pending_buf_size),de.d_buf=1*de.lit_bufsize,de.l_buf=3*de.lit_bufsize,de.level=se,de.strategy=ee,de.method=ae,ne(U)}a=[new M(0,0,0,0,function(U,se){var ae=65535;for(ae>U.pending_buf_size-5&&(ae=U.pending_buf_size-5);;){if(U.lookahead<=1){if(B(U),U.lookahead===0&&se===c)return T;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var Y=U.block_start+ae;if((U.strstart===0||U.strstart>=Y)&&(U.lookahead=U.strstart-Y,U.strstart=Y,O(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-q&&(O(U,!1),U.strm.avail_out===0))return T}return U.insert=0,se===h?(O(U,!0),U.strm.avail_out===0?C:w):(U.strstart>U.block_start&&(O(U,!1),U.strm.avail_out),T)}),new M(4,4,8,4,K),new M(4,5,16,8,K),new M(4,6,32,32,K),new M(4,4,16,16,R),new M(8,16,32,32,R),new M(8,16,128,128,R),new M(8,32,128,256,R),new M(32,128,258,1024,R),new M(32,258,258,4096,R)],n.deflateInit=function(U,se){return ie(U,se,b,15,8,0)},n.deflateInit2=ie,n.deflateReset=ne,n.deflateResetKeep=Q,n.deflateSetHeader=function(U,se){return U&&U.state?U.state.wrap!==2?p:(U.state.gzhead=se,f):p},n.deflate=function(U,se){var ae,Y,J,ee;if(!U||!U.state||5<se||se<0)return U?S(U,p):p;if(Y=U.state,!U.output||!U.input&&U.avail_in!==0||Y.status===666&&se!==h)return S(U,U.avail_out===0?-5:p);if(Y.strm=U,ae=Y.last_flush,Y.last_flush=se,Y.status===H)if(Y.wrap===2)U.adler=0,L(Y,31),L(Y,139),L(Y,8),Y.gzhead?(L(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),L(Y,255&Y.gzhead.time),L(Y,Y.gzhead.time>>8&255),L(Y,Y.gzhead.time>>16&255),L(Y,Y.gzhead.time>>24&255),L(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),L(Y,255&Y.gzhead.os),Y.gzhead.extra&&Y.gzhead.extra.length&&(L(Y,255&Y.gzhead.extra.length),L(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(U.adler=u(U.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=69):(L(Y,0),L(Y,0),L(Y,0),L(Y,0),L(Y,0),L(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),L(Y,3),Y.status=A);else{var ue=b+(Y.w_bits-8<<4)<<8;ue|=(2<=Y.strategy||Y.level<2?0:Y.level<6?1:Y.level===6?2:3)<<6,Y.strstart!==0&&(ue|=32),ue+=31-ue%31,Y.status=A,V(Y,ue),Y.strstart!==0&&(V(Y,U.adler>>>16),V(Y,65535&U.adler)),U.adler=1}if(Y.status===69)if(Y.gzhead.extra){for(J=Y.pending;Y.gzindex<(65535&Y.gzhead.extra.length)&&(Y.pending!==Y.pending_buf_size||(Y.gzhead.hcrc&&Y.pending>J&&(U.adler=u(U.adler,Y.pending_buf,Y.pending-J,J)),P(U),J=Y.pending,Y.pending!==Y.pending_buf_size));)L(Y,255&Y.gzhead.extra[Y.gzindex]),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>J&&(U.adler=u(U.adler,Y.pending_buf,Y.pending-J,J)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=73)}else Y.status=73;if(Y.status===73)if(Y.gzhead.name){J=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>J&&(U.adler=u(U.adler,Y.pending_buf,Y.pending-J,J)),P(U),J=Y.pending,Y.pending===Y.pending_buf_size)){ee=1;break}ee=Y.gzindex<Y.gzhead.name.length?255&Y.gzhead.name.charCodeAt(Y.gzindex++):0,L(Y,ee)}while(ee!==0);Y.gzhead.hcrc&&Y.pending>J&&(U.adler=u(U.adler,Y.pending_buf,Y.pending-J,J)),ee===0&&(Y.gzindex=0,Y.status=91)}else Y.status=91;if(Y.status===91)if(Y.gzhead.comment){J=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>J&&(U.adler=u(U.adler,Y.pending_buf,Y.pending-J,J)),P(U),J=Y.pending,Y.pending===Y.pending_buf_size)){ee=1;break}ee=Y.gzindex<Y.gzhead.comment.length?255&Y.gzhead.comment.charCodeAt(Y.gzindex++):0,L(Y,ee)}while(ee!==0);Y.gzhead.hcrc&&Y.pending>J&&(U.adler=u(U.adler,Y.pending_buf,Y.pending-J,J)),ee===0&&(Y.status=103)}else Y.status=103;if(Y.status===103&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&P(U),Y.pending+2<=Y.pending_buf_size&&(L(Y,255&U.adler),L(Y,U.adler>>8&255),U.adler=0,Y.status=A)):Y.status=A),Y.pending!==0){if(P(U),U.avail_out===0)return Y.last_flush=-1,f}else if(U.avail_in===0&&x(se)<=x(ae)&&se!==h)return S(U,-5);if(Y.status===666&&U.avail_in!==0)return S(U,-5);if(U.avail_in!==0||Y.lookahead!==0||se!==c&&Y.status!==666){var de=Y.strategy===2?function(oe,ce){for(var ge;;){if(oe.lookahead===0&&(B(oe),oe.lookahead===0)){if(ce===c)return T;break}if(oe.match_length=0,ge=o._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++,ge&&(O(oe,!1),oe.strm.avail_out===0))return T}return oe.insert=0,ce===h?(O(oe,!0),oe.strm.avail_out===0?C:w):oe.last_lit&&(O(oe,!1),oe.strm.avail_out===0)?T:E}(Y,se):Y.strategy===3?function(oe,ce){for(var ge,ve,Se,ke,Ae=oe.window;;){if(oe.lookahead<=j){if(B(oe),oe.lookahead<=j&&ce===c)return T;if(oe.lookahead===0)break}if(oe.match_length=0,oe.lookahead>=$&&0<oe.strstart&&(ve=Ae[Se=oe.strstart-1])===Ae[++Se]&&ve===Ae[++Se]&&ve===Ae[++Se]){ke=oe.strstart+j;do;while(ve===Ae[++Se]&&ve===Ae[++Se]&&ve===Ae[++Se]&&ve===Ae[++Se]&&ve===Ae[++Se]&&ve===Ae[++Se]&&ve===Ae[++Se]&&ve===Ae[++Se]&&Se<ke);oe.match_length=j-(ke-Se),oe.match_length>oe.lookahead&&(oe.match_length=oe.lookahead)}if(oe.match_length>=$?(ge=o._tr_tally(oe,1,oe.match_length-$),oe.lookahead-=oe.match_length,oe.strstart+=oe.match_length,oe.match_length=0):(ge=o._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++),ge&&(O(oe,!1),oe.strm.avail_out===0))return T}return oe.insert=0,ce===h?(O(oe,!0),oe.strm.avail_out===0?C:w):oe.last_lit&&(O(oe,!1),oe.strm.avail_out===0)?T:E}(Y,se):a[Y.level].func(Y,se);if(de!==C&&de!==w||(Y.status=666),de===T||de===C)return U.avail_out===0&&(Y.last_flush=-1),f;if(de===E&&(se===1?o._tr_align(Y):se!==5&&(o._tr_stored_block(Y,0,0,!1),se===3&&(k(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),P(U),U.avail_out===0))return Y.last_flush=-1,f}return se!==h?f:Y.wrap<=0?1:(Y.wrap===2?(L(Y,255&U.adler),L(Y,U.adler>>8&255),L(Y,U.adler>>16&255),L(Y,U.adler>>24&255),L(Y,255&U.total_in),L(Y,U.total_in>>8&255),L(Y,U.total_in>>16&255),L(Y,U.total_in>>24&255)):(V(Y,U.adler>>>16),V(Y,65535&U.adler)),P(U),0<Y.wrap&&(Y.wrap=-Y.wrap),Y.pending!==0?f:1)},n.deflateEnd=function(U){var se;return U&&U.state?(se=U.state.status)!==H&&se!==69&&se!==73&&se!==91&&se!==103&&se!==A&&se!==666?S(U,p):(U.state=null,se===A?S(U,-3):f):p},n.deflateSetDictionary=function(U,se){var ae,Y,J,ee,ue,de,oe,ce,ge=se.length;if(!U||!U.state||(ee=(ae=U.state).wrap)===2||ee===1&&ae.status!==H||ae.lookahead)return p;for(ee===1&&(U.adler=l(U.adler,se,ge,0)),ae.wrap=0,ge>=ae.w_size&&(ee===0&&(k(ae.head),ae.strstart=0,ae.block_start=0,ae.insert=0),ce=new s.Buf8(ae.w_size),s.arraySet(ce,se,ge-ae.w_size,ae.w_size,0),se=ce,ge=ae.w_size),ue=U.avail_in,de=U.next_in,oe=U.input,U.avail_in=ge,U.next_in=0,U.input=se,B(ae);ae.lookahead>=$;){for(Y=ae.strstart,J=ae.lookahead-($-1);ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[Y+$-1])&ae.hash_mask,ae.prev[Y&ae.w_mask]=ae.head[ae.ins_h],ae.head[ae.ins_h]=Y,Y++,--J;);ae.strstart=Y,ae.lookahead=$-1,B(ae)}return ae.strstart+=ae.lookahead,ae.block_start=ae.strstart,ae.insert=ae.lookahead,ae.lookahead=0,ae.match_length=ae.prev_length=$-1,ae.match_available=0,U.next_in=de,U.input=oe,U.avail_in=ue,ae.wrap=ee,f},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,r,n){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,r,n){r.exports=function(a,s){var o,l,u,d,c,h,f,p,g,m,v,b,y,I,D,N,z,F,$,j,q,H,A,T,E;o=a.state,l=a.next_in,T=a.input,u=l+(a.avail_in-5),d=a.next_out,E=a.output,c=d-(s-a.avail_out),h=d+(a.avail_out-257),f=o.dmax,p=o.wsize,g=o.whave,m=o.wnext,v=o.window,b=o.hold,y=o.bits,I=o.lencode,D=o.distcode,N=(1<<o.lenbits)-1,z=(1<<o.distbits)-1;e:do{y<15&&(b+=T[l++]<<y,y+=8,b+=T[l++]<<y,y+=8),F=I[b&N];t:for(;;){if(b>>>=$=F>>>24,y-=$,($=F>>>16&255)===0)E[d++]=65535&F;else{if(!(16&$)){if(!(64&$)){F=I[(65535&F)+(b&(1<<$)-1)];continue t}if(32&$){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}j=65535&F,($&=15)&&(y<$&&(b+=T[l++]<<y,y+=8),j+=b&(1<<$)-1,b>>>=$,y-=$),y<15&&(b+=T[l++]<<y,y+=8,b+=T[l++]<<y,y+=8),F=D[b&z];i:for(;;){if(b>>>=$=F>>>24,y-=$,!(16&($=F>>>16&255))){if(!(64&$)){F=D[(65535&F)+(b&(1<<$)-1)];continue i}a.msg="invalid distance code",o.mode=30;break e}if(q=65535&F,y<($&=15)&&(b+=T[l++]<<y,(y+=8)<$&&(b+=T[l++]<<y,y+=8)),f<(q+=b&(1<<$)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(b>>>=$,y-=$,($=d-c)<q){if(g<($=q-$)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(A=v,(H=0)===m){if(H+=p-$,$<j){for(j-=$;E[d++]=v[H++],--$;);H=d-q,A=E}}else if(m<$){if(H+=p+m-$,($-=m)<j){for(j-=$;E[d++]=v[H++],--$;);if(H=0,m<j){for(j-=$=m;E[d++]=v[H++],--$;);H=d-q,A=E}}}else if(H+=m-$,$<j){for(j-=$;E[d++]=v[H++],--$;);H=d-q,A=E}for(;2<j;)E[d++]=A[H++],E[d++]=A[H++],E[d++]=A[H++],j-=3;j&&(E[d++]=A[H++],1<j&&(E[d++]=A[H++]))}else{for(H=d-q;E[d++]=E[H++],E[d++]=E[H++],E[d++]=E[H++],2<(j-=3););j&&(E[d++]=E[H++],1<j&&(E[d++]=E[H++]))}break}}break}}while(l<u&&d<h);l-=j=y>>3,b&=(1<<(y-=j<<3))-1,a.next_in=l,a.next_out=d,a.avail_in=l<u?u-l+5:5-(l-u),a.avail_out=d<h?h-d+257:257-(d-h),o.hold=b,o.bits=y}},{}],49:[function(i,r,n){var a=i("../utils/common"),s=i("./adler32"),o=i("./crc32"),l=i("./inffast"),u=i("./inftrees"),d=1,c=2,h=0,f=-2,p=1,g=852,m=592;function v(H){return(H>>>24&255)+(H>>>8&65280)+((65280&H)<<8)+((255&H)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(H){var A;return H&&H.state?(A=H.state,H.total_in=H.total_out=A.total=0,H.msg="",A.wrap&&(H.adler=1&A.wrap),A.mode=p,A.last=0,A.havedict=0,A.dmax=32768,A.head=null,A.hold=0,A.bits=0,A.lencode=A.lendyn=new a.Buf32(g),A.distcode=A.distdyn=new a.Buf32(m),A.sane=1,A.back=-1,h):f}function I(H){var A;return H&&H.state?((A=H.state).wsize=0,A.whave=0,A.wnext=0,y(H)):f}function D(H,A){var T,E;return H&&H.state?(E=H.state,A<0?(T=0,A=-A):(T=1+(A>>4),A<48&&(A&=15)),A&&(A<8||15<A)?f:(E.window!==null&&E.wbits!==A&&(E.window=null),E.wrap=T,E.wbits=A,I(H))):f}function N(H,A){var T,E;return H?(E=new b,(H.state=E).window=null,(T=D(H,A))!==h&&(H.state=null),T):f}var z,F,$=!0;function j(H){if($){var A;for(z=new a.Buf32(512),F=new a.Buf32(32),A=0;A<144;)H.lens[A++]=8;for(;A<256;)H.lens[A++]=9;for(;A<280;)H.lens[A++]=7;for(;A<288;)H.lens[A++]=8;for(u(d,H.lens,0,288,z,0,H.work,{bits:9}),A=0;A<32;)H.lens[A++]=5;u(c,H.lens,0,32,F,0,H.work,{bits:5}),$=!1}H.lencode=z,H.lenbits=9,H.distcode=F,H.distbits=5}function q(H,A,T,E){var C,w=H.state;return w.window===null&&(w.wsize=1<<w.wbits,w.wnext=0,w.whave=0,w.window=new a.Buf8(w.wsize)),E>=w.wsize?(a.arraySet(w.window,A,T-w.wsize,w.wsize,0),w.wnext=0,w.whave=w.wsize):(E<(C=w.wsize-w.wnext)&&(C=E),a.arraySet(w.window,A,T-E,C,w.wnext),(E-=C)?(a.arraySet(w.window,A,T-E,E,0),w.wnext=E,w.whave=w.wsize):(w.wnext+=C,w.wnext===w.wsize&&(w.wnext=0),w.whave<w.wsize&&(w.whave+=C))),0}n.inflateReset=I,n.inflateReset2=D,n.inflateResetKeep=y,n.inflateInit=function(H){return N(H,15)},n.inflateInit2=N,n.inflate=function(H,A){var T,E,C,w,S,x,k,P,O,L,V,X,B,K,R,M,G,Q,ne,ie,U,se,ae,Y,J=0,ee=new a.Buf8(4),ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!H||!H.state||!H.output||!H.input&&H.avail_in!==0)return f;(T=H.state).mode===12&&(T.mode=13),S=H.next_out,C=H.output,k=H.avail_out,w=H.next_in,E=H.input,x=H.avail_in,P=T.hold,O=T.bits,L=x,V=k,se=h;e:for(;;)switch(T.mode){case p:if(T.wrap===0){T.mode=13;break}for(;O<16;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}if(2&T.wrap&&P===35615){ee[T.check=0]=255&P,ee[1]=P>>>8&255,T.check=o(T.check,ee,2,0),O=P=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&P)<<8)+(P>>8))%31){H.msg="incorrect header check",T.mode=30;break}if((15&P)!=8){H.msg="unknown compression method",T.mode=30;break}if(O-=4,U=8+(15&(P>>>=4)),T.wbits===0)T.wbits=U;else if(U>T.wbits){H.msg="invalid window size",T.mode=30;break}T.dmax=1<<U,H.adler=T.check=1,T.mode=512&P?10:12,O=P=0;break;case 2:for(;O<16;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}if(T.flags=P,(255&T.flags)!=8){H.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){H.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=P>>8&1),512&T.flags&&(ee[0]=255&P,ee[1]=P>>>8&255,T.check=o(T.check,ee,2,0)),O=P=0,T.mode=3;case 3:for(;O<32;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}T.head&&(T.head.time=P),512&T.flags&&(ee[0]=255&P,ee[1]=P>>>8&255,ee[2]=P>>>16&255,ee[3]=P>>>24&255,T.check=o(T.check,ee,4,0)),O=P=0,T.mode=4;case 4:for(;O<16;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}T.head&&(T.head.xflags=255&P,T.head.os=P>>8),512&T.flags&&(ee[0]=255&P,ee[1]=P>>>8&255,T.check=o(T.check,ee,2,0)),O=P=0,T.mode=5;case 5:if(1024&T.flags){for(;O<16;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}T.length=P,T.head&&(T.head.extra_len=P),512&T.flags&&(ee[0]=255&P,ee[1]=P>>>8&255,T.check=o(T.check,ee,2,0)),O=P=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(x<(X=T.length)&&(X=x),X&&(T.head&&(U=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),a.arraySet(T.head.extra,E,w,X,U)),512&T.flags&&(T.check=o(T.check,E,X,w)),x-=X,w+=X,T.length-=X),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(x===0)break e;for(X=0;U=E[w+X++],T.head&&U&&T.length<65536&&(T.head.name+=String.fromCharCode(U)),U&&X<x;);if(512&T.flags&&(T.check=o(T.check,E,X,w)),x-=X,w+=X,U)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(x===0)break e;for(X=0;U=E[w+X++],T.head&&U&&T.length<65536&&(T.head.comment+=String.fromCharCode(U)),U&&X<x;);if(512&T.flags&&(T.check=o(T.check,E,X,w)),x-=X,w+=X,U)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;O<16;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}if(P!==(65535&T.check)){H.msg="header crc mismatch",T.mode=30;break}O=P=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),H.adler=T.check=0,T.mode=12;break;case 10:for(;O<32;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}H.adler=T.check=v(P),O=P=0,T.mode=11;case 11:if(T.havedict===0)return H.next_out=S,H.avail_out=k,H.next_in=w,H.avail_in=x,T.hold=P,T.bits=O,2;H.adler=T.check=1,T.mode=12;case 12:if(A===5||A===6)break e;case 13:if(T.last){P>>>=7&O,O-=7&O,T.mode=27;break}for(;O<3;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}switch(T.last=1&P,O-=1,3&(P>>>=1)){case 0:T.mode=14;break;case 1:if(j(T),T.mode=20,A!==6)break;P>>>=2,O-=2;break e;case 2:T.mode=17;break;case 3:H.msg="invalid block type",T.mode=30}P>>>=2,O-=2;break;case 14:for(P>>>=7&O,O-=7&O;O<32;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}if((65535&P)!=(P>>>16^65535)){H.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&P,O=P=0,T.mode=15,A===6)break e;case 15:T.mode=16;case 16:if(X=T.length){if(x<X&&(X=x),k<X&&(X=k),X===0)break e;a.arraySet(C,E,w,X,S),x-=X,w+=X,k-=X,S+=X,T.length-=X;break}T.mode=12;break;case 17:for(;O<14;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}if(T.nlen=257+(31&P),P>>>=5,O-=5,T.ndist=1+(31&P),P>>>=5,O-=5,T.ncode=4+(15&P),P>>>=4,O-=4,286<T.nlen||30<T.ndist){H.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;O<3;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}T.lens[ue[T.have++]]=7&P,P>>>=3,O-=3}for(;T.have<19;)T.lens[ue[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,ae={bits:T.lenbits},se=u(0,T.lens,0,19,T.lencode,0,T.work,ae),T.lenbits=ae.bits,se){H.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;M=(J=T.lencode[P&(1<<T.lenbits)-1])>>>16&255,G=65535&J,!((R=J>>>24)<=O);){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}if(G<16)P>>>=R,O-=R,T.lens[T.have++]=G;else{if(G===16){for(Y=R+2;O<Y;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}if(P>>>=R,O-=R,T.have===0){H.msg="invalid bit length repeat",T.mode=30;break}U=T.lens[T.have-1],X=3+(3&P),P>>>=2,O-=2}else if(G===17){for(Y=R+3;O<Y;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}O-=R,U=0,X=3+(7&(P>>>=R)),P>>>=3,O-=3}else{for(Y=R+7;O<Y;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}O-=R,U=0,X=11+(127&(P>>>=R)),P>>>=7,O-=7}if(T.have+X>T.nlen+T.ndist){H.msg="invalid bit length repeat",T.mode=30;break}for(;X--;)T.lens[T.have++]=U}}if(T.mode===30)break;if(T.lens[256]===0){H.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,ae={bits:T.lenbits},se=u(d,T.lens,0,T.nlen,T.lencode,0,T.work,ae),T.lenbits=ae.bits,se){H.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,ae={bits:T.distbits},se=u(c,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,ae),T.distbits=ae.bits,se){H.msg="invalid distances set",T.mode=30;break}if(T.mode=20,A===6)break e;case 20:T.mode=21;case 21:if(6<=x&&258<=k){H.next_out=S,H.avail_out=k,H.next_in=w,H.avail_in=x,T.hold=P,T.bits=O,l(H,V),S=H.next_out,C=H.output,k=H.avail_out,w=H.next_in,E=H.input,x=H.avail_in,P=T.hold,O=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;M=(J=T.lencode[P&(1<<T.lenbits)-1])>>>16&255,G=65535&J,!((R=J>>>24)<=O);){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}if(M&&!(240&M)){for(Q=R,ne=M,ie=G;M=(J=T.lencode[ie+((P&(1<<Q+ne)-1)>>Q)])>>>16&255,G=65535&J,!(Q+(R=J>>>24)<=O);){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}P>>>=Q,O-=Q,T.back+=Q}if(P>>>=R,O-=R,T.back+=R,T.length=G,M===0){T.mode=26;break}if(32&M){T.back=-1,T.mode=12;break}if(64&M){H.msg="invalid literal/length code",T.mode=30;break}T.extra=15&M,T.mode=22;case 22:if(T.extra){for(Y=T.extra;O<Y;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}T.length+=P&(1<<T.extra)-1,P>>>=T.extra,O-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;M=(J=T.distcode[P&(1<<T.distbits)-1])>>>16&255,G=65535&J,!((R=J>>>24)<=O);){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}if(!(240&M)){for(Q=R,ne=M,ie=G;M=(J=T.distcode[ie+((P&(1<<Q+ne)-1)>>Q)])>>>16&255,G=65535&J,!(Q+(R=J>>>24)<=O);){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}P>>>=Q,O-=Q,T.back+=Q}if(P>>>=R,O-=R,T.back+=R,64&M){H.msg="invalid distance code",T.mode=30;break}T.offset=G,T.extra=15&M,T.mode=24;case 24:if(T.extra){for(Y=T.extra;O<Y;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}T.offset+=P&(1<<T.extra)-1,P>>>=T.extra,O-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){H.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(k===0)break e;if(X=V-k,T.offset>X){if((X=T.offset-X)>T.whave&&T.sane){H.msg="invalid distance too far back",T.mode=30;break}B=X>T.wnext?(X-=T.wnext,T.wsize-X):T.wnext-X,X>T.length&&(X=T.length),K=T.window}else K=C,B=S-T.offset,X=T.length;for(k<X&&(X=k),k-=X,T.length-=X;C[S++]=K[B++],--X;);T.length===0&&(T.mode=21);break;case 26:if(k===0)break e;C[S++]=T.length,k--,T.mode=21;break;case 27:if(T.wrap){for(;O<32;){if(x===0)break e;x--,P|=E[w++]<<O,O+=8}if(V-=k,H.total_out+=V,T.total+=V,V&&(H.adler=T.check=T.flags?o(T.check,C,V,S-V):s(T.check,C,V,S-V)),V=k,(T.flags?P:v(P))!==T.check){H.msg="incorrect data check",T.mode=30;break}O=P=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;O<32;){if(x===0)break e;x--,P+=E[w++]<<O,O+=8}if(P!==(4294967295&T.total)){H.msg="incorrect length check",T.mode=30;break}O=P=0}T.mode=29;case 29:se=1;break e;case 30:se=-3;break e;case 31:return-4;case 32:default:return f}return H.next_out=S,H.avail_out=k,H.next_in=w,H.avail_in=x,T.hold=P,T.bits=O,(T.wsize||V!==H.avail_out&&T.mode<30&&(T.mode<27||A!==4))&&q(H,H.output,H.next_out,V-H.avail_out)?(T.mode=31,-4):(L-=H.avail_in,V-=H.avail_out,H.total_in+=L,H.total_out+=V,T.total+=V,T.wrap&&V&&(H.adler=T.check=T.flags?o(T.check,C,V,H.next_out-V):s(T.check,C,V,H.next_out-V)),H.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(L==0&&V===0||A===4)&&se===h&&(se=-5),se)},n.inflateEnd=function(H){if(!H||!H.state)return f;var A=H.state;return A.window&&(A.window=null),H.state=null,h},n.inflateGetHeader=function(H,A){var T;return H&&H.state&&2&(T=H.state).wrap?((T.head=A).done=!1,h):f},n.inflateSetDictionary=function(H,A){var T,E=A.length;return H&&H.state?(T=H.state).wrap!==0&&T.mode!==11?f:T.mode===11&&s(1,A,E,0)!==T.check?-3:q(H,A,E,E)?(T.mode=31,-4):(T.havedict=1,h):f},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,r,n){var a=i("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,c,h,f,p,g,m,v){var b,y,I,D,N,z,F,$,j,q=v.bits,H=0,A=0,T=0,E=0,C=0,w=0,S=0,x=0,k=0,P=0,O=null,L=0,V=new a.Buf16(16),X=new a.Buf16(16),B=null,K=0;for(H=0;H<=15;H++)V[H]=0;for(A=0;A<f;A++)V[c[h+A]]++;for(C=q,E=15;1<=E&&V[E]===0;E--);if(E<C&&(C=E),E===0)return p[g++]=20971520,p[g++]=20971520,v.bits=1,0;for(T=1;T<E&&V[T]===0;T++);for(C<T&&(C=T),H=x=1;H<=15;H++)if(x<<=1,(x-=V[H])<0)return-1;if(0<x&&(d===0||E!==1))return-1;for(X[1]=0,H=1;H<15;H++)X[H+1]=X[H]+V[H];for(A=0;A<f;A++)c[h+A]!==0&&(m[X[c[h+A]]++]=A);if(z=d===0?(O=B=m,19):d===1?(O=s,L-=257,B=o,K-=257,256):(O=l,B=u,-1),H=T,N=g,S=A=P=0,I=-1,D=(k=1<<(w=C))-1,d===1&&852<k||d===2&&592<k)return 1;for(;;){for(F=H-S,j=m[A]<z?($=0,m[A]):m[A]>z?($=B[K+m[A]],O[L+m[A]]):($=96,0),b=1<<H-S,T=y=1<<w;p[N+(P>>S)+(y-=b)]=F<<24|$<<16|j|0,y!==0;);for(b=1<<H-1;P&b;)b>>=1;if(b!==0?(P&=b-1,P+=b):P=0,A++,--V[H]==0){if(H===E)break;H=c[h+m[A]]}if(C<H&&(P&D)!==I){for(S===0&&(S=C),N+=T,x=1<<(w=H-S);w+S<E&&!((x-=V[w+S])<=0);)w++,x<<=1;if(k+=1<<w,d===1&&852<k||d===2&&592<k)return 1;p[I=P&D]=C<<24|w<<16|N-g|0}}return P!==0&&(p[N+P]=H-S<<24|64<<16|0),v.bits=C,0}},{"../utils/common":41}],51:[function(i,r,n){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,r,n){var a=i("../utils/common"),s=0,o=1;function l(J){for(var ee=J.length;0<=--ee;)J[ee]=0}var u=0,d=29,c=256,h=c+1+d,f=30,p=19,g=2*h+1,m=15,v=16,b=7,y=256,I=16,D=17,N=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(h+2));l(q);var H=new Array(2*f);l(H);var A=new Array(512);l(A);var T=new Array(256);l(T);var E=new Array(d);l(E);var C,w,S,x=new Array(f);function k(J,ee,ue,de,oe){this.static_tree=J,this.extra_bits=ee,this.extra_base=ue,this.elems=de,this.max_length=oe,this.has_stree=J&&J.length}function P(J,ee){this.dyn_tree=J,this.max_code=0,this.stat_desc=ee}function O(J){return J<256?A[J]:A[256+(J>>>7)]}function L(J,ee){J.pending_buf[J.pending++]=255&ee,J.pending_buf[J.pending++]=ee>>>8&255}function V(J,ee,ue){J.bi_valid>v-ue?(J.bi_buf|=ee<<J.bi_valid&65535,L(J,J.bi_buf),J.bi_buf=ee>>v-J.bi_valid,J.bi_valid+=ue-v):(J.bi_buf|=ee<<J.bi_valid&65535,J.bi_valid+=ue)}function X(J,ee,ue){V(J,ue[2*ee],ue[2*ee+1])}function B(J,ee){for(var ue=0;ue|=1&J,J>>>=1,ue<<=1,0<--ee;);return ue>>>1}function K(J,ee,ue){var de,oe,ce=new Array(m+1),ge=0;for(de=1;de<=m;de++)ce[de]=ge=ge+ue[de-1]<<1;for(oe=0;oe<=ee;oe++){var ve=J[2*oe+1];ve!==0&&(J[2*oe]=B(ce[ve]++,ve))}}function R(J){var ee;for(ee=0;ee<h;ee++)J.dyn_ltree[2*ee]=0;for(ee=0;ee<f;ee++)J.dyn_dtree[2*ee]=0;for(ee=0;ee<p;ee++)J.bl_tree[2*ee]=0;J.dyn_ltree[2*y]=1,J.opt_len=J.static_len=0,J.last_lit=J.matches=0}function M(J){8<J.bi_valid?L(J,J.bi_buf):0<J.bi_valid&&(J.pending_buf[J.pending++]=J.bi_buf),J.bi_buf=0,J.bi_valid=0}function G(J,ee,ue,de){var oe=2*ee,ce=2*ue;return J[oe]<J[ce]||J[oe]===J[ce]&&de[ee]<=de[ue]}function Q(J,ee,ue){for(var de=J.heap[ue],oe=ue<<1;oe<=J.heap_len&&(oe<J.heap_len&&G(ee,J.heap[oe+1],J.heap[oe],J.depth)&&oe++,!G(ee,de,J.heap[oe],J.depth));)J.heap[ue]=J.heap[oe],ue=oe,oe<<=1;J.heap[ue]=de}function ne(J,ee,ue){var de,oe,ce,ge,ve=0;if(J.last_lit!==0)for(;de=J.pending_buf[J.d_buf+2*ve]<<8|J.pending_buf[J.d_buf+2*ve+1],oe=J.pending_buf[J.l_buf+ve],ve++,de===0?X(J,oe,ee):(X(J,(ce=T[oe])+c+1,ee),(ge=z[ce])!==0&&V(J,oe-=E[ce],ge),X(J,ce=O(--de),ue),(ge=F[ce])!==0&&V(J,de-=x[ce],ge)),ve<J.last_lit;);X(J,y,ee)}function ie(J,ee){var ue,de,oe,ce=ee.dyn_tree,ge=ee.stat_desc.static_tree,ve=ee.stat_desc.has_stree,Se=ee.stat_desc.elems,ke=-1;for(J.heap_len=0,J.heap_max=g,ue=0;ue<Se;ue++)ce[2*ue]!==0?(J.heap[++J.heap_len]=ke=ue,J.depth[ue]=0):ce[2*ue+1]=0;for(;J.heap_len<2;)ce[2*(oe=J.heap[++J.heap_len]=ke<2?++ke:0)]=1,J.depth[oe]=0,J.opt_len--,ve&&(J.static_len-=ge[2*oe+1]);for(ee.max_code=ke,ue=J.heap_len>>1;1<=ue;ue--)Q(J,ce,ue);for(oe=Se;ue=J.heap[1],J.heap[1]=J.heap[J.heap_len--],Q(J,ce,1),de=J.heap[1],J.heap[--J.heap_max]=ue,J.heap[--J.heap_max]=de,ce[2*oe]=ce[2*ue]+ce[2*de],J.depth[oe]=(J.depth[ue]>=J.depth[de]?J.depth[ue]:J.depth[de])+1,ce[2*ue+1]=ce[2*de+1]=oe,J.heap[1]=oe++,Q(J,ce,1),2<=J.heap_len;);J.heap[--J.heap_max]=J.heap[1],function(Ae,Xe){var et,Je,tt,Be,Fe,je,Ye=Xe.dyn_tree,Qe=Xe.max_code,Bt=Xe.stat_desc.static_tree,qt=Xe.stat_desc.has_stree,ot=Xe.stat_desc.extra_bits,Ht=Xe.stat_desc.extra_base,Tt=Xe.stat_desc.max_length,pt=0;for(Be=0;Be<=m;Be++)Ae.bl_count[Be]=0;for(Ye[2*Ae.heap[Ae.heap_max]+1]=0,et=Ae.heap_max+1;et<g;et++)Tt<(Be=Ye[2*Ye[2*(Je=Ae.heap[et])+1]+1]+1)&&(Be=Tt,pt++),Ye[2*Je+1]=Be,Qe<Je||(Ae.bl_count[Be]++,Fe=0,Ht<=Je&&(Fe=ot[Je-Ht]),je=Ye[2*Je],Ae.opt_len+=je*(Be+Fe),qt&&(Ae.static_len+=je*(Bt[2*Je+1]+Fe)));if(pt!==0){do{for(Be=Tt-1;Ae.bl_count[Be]===0;)Be--;Ae.bl_count[Be]--,Ae.bl_count[Be+1]+=2,Ae.bl_count[Tt]--,pt-=2}while(0<pt);for(Be=Tt;Be!==0;Be--)for(Je=Ae.bl_count[Be];Je!==0;)Qe<(tt=Ae.heap[--et])||(Ye[2*tt+1]!==Be&&(Ae.opt_len+=(Be-Ye[2*tt+1])*Ye[2*tt],Ye[2*tt+1]=Be),Je--)}}(J,ee),K(ce,ke,J.bl_count)}function U(J,ee,ue){var de,oe,ce=-1,ge=ee[1],ve=0,Se=7,ke=4;for(ge===0&&(Se=138,ke=3),ee[2*(ue+1)+1]=65535,de=0;de<=ue;de++)oe=ge,ge=ee[2*(de+1)+1],++ve<Se&&oe===ge||(ve<ke?J.bl_tree[2*oe]+=ve:oe!==0?(oe!==ce&&J.bl_tree[2*oe]++,J.bl_tree[2*I]++):ve<=10?J.bl_tree[2*D]++:J.bl_tree[2*N]++,ce=oe,ke=(ve=0)===ge?(Se=138,3):oe===ge?(Se=6,3):(Se=7,4))}function se(J,ee,ue){var de,oe,ce=-1,ge=ee[1],ve=0,Se=7,ke=4;for(ge===0&&(Se=138,ke=3),de=0;de<=ue;de++)if(oe=ge,ge=ee[2*(de+1)+1],!(++ve<Se&&oe===ge)){if(ve<ke)for(;X(J,oe,J.bl_tree),--ve!=0;);else oe!==0?(oe!==ce&&(X(J,oe,J.bl_tree),ve--),X(J,I,J.bl_tree),V(J,ve-3,2)):ve<=10?(X(J,D,J.bl_tree),V(J,ve-3,3)):(X(J,N,J.bl_tree),V(J,ve-11,7));ce=oe,ke=(ve=0)===ge?(Se=138,3):oe===ge?(Se=6,3):(Se=7,4)}}l(x);var ae=!1;function Y(J,ee,ue,de){V(J,(u<<1)+(de?1:0),3),function(oe,ce,ge,ve){M(oe),ve&&(L(oe,ge),L(oe,~ge)),a.arraySet(oe.pending_buf,oe.window,ce,ge,oe.pending),oe.pending+=ge}(J,ee,ue,!0)}n._tr_init=function(J){ae||(function(){var ee,ue,de,oe,ce,ge=new Array(m+1);for(oe=de=0;oe<d-1;oe++)for(E[oe]=de,ee=0;ee<1<<z[oe];ee++)T[de++]=oe;for(T[de-1]=oe,oe=ce=0;oe<16;oe++)for(x[oe]=ce,ee=0;ee<1<<F[oe];ee++)A[ce++]=oe;for(ce>>=7;oe<f;oe++)for(x[oe]=ce<<7,ee=0;ee<1<<F[oe]-7;ee++)A[256+ce++]=oe;for(ue=0;ue<=m;ue++)ge[ue]=0;for(ee=0;ee<=143;)q[2*ee+1]=8,ee++,ge[8]++;for(;ee<=255;)q[2*ee+1]=9,ee++,ge[9]++;for(;ee<=279;)q[2*ee+1]=7,ee++,ge[7]++;for(;ee<=287;)q[2*ee+1]=8,ee++,ge[8]++;for(K(q,h+1,ge),ee=0;ee<f;ee++)H[2*ee+1]=5,H[2*ee]=B(ee,5);C=new k(q,z,c+1,h,m),w=new k(H,F,0,f,m),S=new k(new Array(0),$,0,p,b)}(),ae=!0),J.l_desc=new P(J.dyn_ltree,C),J.d_desc=new P(J.dyn_dtree,w),J.bl_desc=new P(J.bl_tree,S),J.bi_buf=0,J.bi_valid=0,R(J)},n._tr_stored_block=Y,n._tr_flush_block=function(J,ee,ue,de){var oe,ce,ge=0;0<J.level?(J.strm.data_type===2&&(J.strm.data_type=function(ve){var Se,ke=4093624447;for(Se=0;Se<=31;Se++,ke>>>=1)if(1&ke&&ve.dyn_ltree[2*Se]!==0)return s;if(ve.dyn_ltree[18]!==0||ve.dyn_ltree[20]!==0||ve.dyn_ltree[26]!==0)return o;for(Se=32;Se<c;Se++)if(ve.dyn_ltree[2*Se]!==0)return o;return s}(J)),ie(J,J.l_desc),ie(J,J.d_desc),ge=function(ve){var Se;for(U(ve,ve.dyn_ltree,ve.l_desc.max_code),U(ve,ve.dyn_dtree,ve.d_desc.max_code),ie(ve,ve.bl_desc),Se=p-1;3<=Se&&ve.bl_tree[2*j[Se]+1]===0;Se--);return ve.opt_len+=3*(Se+1)+5+5+4,Se}(J),oe=J.opt_len+3+7>>>3,(ce=J.static_len+3+7>>>3)<=oe&&(oe=ce)):oe=ce=ue+5,ue+4<=oe&&ee!==-1?Y(J,ee,ue,de):J.strategy===4||ce===oe?(V(J,2+(de?1:0),3),ne(J,q,H)):(V(J,4+(de?1:0),3),function(ve,Se,ke,Ae){var Xe;for(V(ve,Se-257,5),V(ve,ke-1,5),V(ve,Ae-4,4),Xe=0;Xe<Ae;Xe++)V(ve,ve.bl_tree[2*j[Xe]+1],3);se(ve,ve.dyn_ltree,Se-1),se(ve,ve.dyn_dtree,ke-1)}(J,J.l_desc.max_code+1,J.d_desc.max_code+1,ge+1),ne(J,J.dyn_ltree,J.dyn_dtree)),R(J),de&&M(J)},n._tr_tally=function(J,ee,ue){return J.pending_buf[J.d_buf+2*J.last_lit]=ee>>>8&255,J.pending_buf[J.d_buf+2*J.last_lit+1]=255&ee,J.pending_buf[J.l_buf+J.last_lit]=255&ue,J.last_lit++,ee===0?J.dyn_ltree[2*ue]++:(J.matches++,ee--,J.dyn_ltree[2*(T[ue]+c+1)]++,J.dyn_dtree[2*O(ee)]++),J.last_lit===J.lit_bufsize-1},n._tr_align=function(J){V(J,2,3),X(J,y,q),function(ee){ee.bi_valid===16?(L(ee,ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0):8<=ee.bi_valid&&(ee.pending_buf[ee.pending++]=255&ee.bi_buf,ee.bi_buf>>=8,ee.bi_valid-=8)}(J)}},{"../utils/common":41}],53:[function(i,r,n){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,r,n){(function(a){(function(s,o){if(!s.setImmediate){var l,u,d,c,h=1,f={},p=!1,g=s.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(s);m=m&&m.setTimeout?m:s,l={}.toString.call(s.process)==="[object process]"?function(I){process.nextTick(function(){b(I)})}:function(){if(s.postMessage&&!s.importScripts){var I=!0,D=s.onmessage;return s.onmessage=function(){I=!1},s.postMessage("","*"),s.onmessage=D,I}}()?(c="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",y,!1):s.attachEvent("onmessage",y),function(I){s.postMessage(c+I,"*")}):s.MessageChannel?((d=new MessageChannel).port1.onmessage=function(I){b(I.data)},function(I){d.port2.postMessage(I)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,function(I){var D=g.createElement("script");D.onreadystatechange=function(){b(I),D.onreadystatechange=null,u.removeChild(D),D=null},u.appendChild(D)}):function(I){setTimeout(b,0,I)},m.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var D=new Array(arguments.length-1),N=0;N<D.length;N++)D[N]=arguments[N+1];var z={callback:I,args:D};return f[h]=z,l(h),h++},m.clearImmediate=v}function v(I){delete f[I]}function b(I){if(p)setTimeout(b,0,I);else{var D=f[I];if(D){p=!0;try{(function(N){var z=N.callback,F=N.args;switch(F.length){case 0:z();break;case 1:z(F[0]);break;case 2:z(F[0],F[1]);break;case 3:z(F[0],F[1],F[2]);break;default:z.apply(o,F)}})(D)}finally{v(I),p=!1}}}}function y(I){I.source===s&&typeof I.data=="string"&&I.data.indexOf(c)===0&&b(+I.data.slice(c.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(JR);var Gne=JR.exports;const Kne=y4(Gne);var SE=1632,EE={thousands:"#,##0{0},&quot;K&quot;",millions:"#,##0{0},,&quot;M&quot;",billions:"#,##0{0},,,&quot;B&quot;",trillions:"#,##0{0},,,,&quot;T&quot;",percent:"0{0}%",decimal:"#{0}",fixedpoint:"#,##0{0}",exponential:"0{0}E+00",currency:" "},qne=/a+/g,Xne=/E/g,Yne=/dE+/g,Zne=/L/g,Jne=/h/g,Qne=/./g,$c={_applyPrecision:function(e,t){var i,r;if(t>0){for(i=e!=="decimal"?".":"",r=0;r<t;r++)i+="0";return i}return""},_hasArabicDigits:function(e){for(var t,i=0;i<e.length;i++)if(t=e.charCodeAt(i),t>=SE&&t<SE+10)return!0;return!1},_convertDateFormatToOpenXml:function(e){return e.split("/").join("\\/").split("'").map(function(t,i){return i%2===0?t.replace(qne,"AM/PM").replace(Yne,"d").replace(Xne,"d").replace(Zne,"M").replace(Jne,"H").split("[").join("\\[").split("]").join("\\]"):t?t.replace(Qne,"\\$&"):"'"}).join("")},_convertDateFormat:function(e){var t=(ut.format(new Date(2009,8,8,6,5,4),e)||"").toString(),i=Yc(r=>ut.format(r,e));return i&&(i=this._convertDateFormatToOpenXml(i),i=this._getLanguageInfo(t)+i),i},_getLanguageInfo:function(e){var t=yI(),i=t?t.toString(16):"",r="";if(this._hasArabicDigits(e)){for(;i.length<3;)i="0"+i;r="[$-2010"+i+"]"}else i&&(r="[$-"+i+"]");return r},_convertNumberFormat:function(e,t,i){var r,n;return e==="currency"?n=Wt.getOpenXmlCurrencyFormat(i):n=EE[e.toLowerCase()],n&&(r=sn(n,this._applyPrecision(e,t))),r},convertFormat:function(e,t,i,r){if(Z(e)){if(i==="date")return $c._convertDateFormat(e);if(Ue(e)&&EE[e.toLowerCase()])return $c._convertNumberFormat(e,t,r)}}},Zi={toXml:function(e,t,i){var r=["<",e];for(var n in t){var a=t[n];Z(a)&&r.push(" ",n,'="',a,'"')}return Z(i)&&i!==""?r.push(">",i,"</",e,">"):r.push(" />"),r.join("")}},jn={tryCreateTag:function(e){var t=null;return Z(e)&&(t={vertical:e.vertical,wrapText:e.wrapText,horizontal:e.horizontal},jn.isEmpty(t)&&(t=null)),t},copy:function(e){var t=null;return Z(e)&&(t={},e.horizontal!==void 0&&(t.horizontal=e.horizontal),e.vertical!==void 0&&(t.vertical=e.vertical),e.wrapText!==void 0&&(t.wrapText=e.wrapText)),t},areEqual:function(e,t){return jn.isEmpty(e)&&jn.isEmpty(t)||Z(e)&&Z(t)&&e.vertical===t.vertical&&e.wrapText===t.wrapText&&e.horizontal===t.horizontal},isEmpty:function(e){return!Z(e)||!Z(e.vertical)&&!Z(e.wrapText)&&!Z(e.horizontal)},toXml:function(e){return Zi.toXml("alignment",{vertical:e.vertical,wrapText:Z(e.wrapText)?Number(e.wrapText):void 0,horizontal:e.horizontal})}},nr={_tryConvertColor:function(e){if(typeof e!="string")return e;var t;if(e.length>0&&e[0]==="#"){var i=e.substr(1,e.length);i.length===6?t="FF"+i:i.length===8?t=i[6]+i[7]+i.substr(0,6):t=i}else t=e;return t},tryCreateTag:function(e){var t=null;return Z(e)&&(typeof e=="string"?t={rgb:this._tryConvertColor(e)}:t={rgb:this._tryConvertColor(e.rgb),theme:e.theme},nr.isEmpty(t)&&(t=null)),t},copy:function(e){var t=null;return Z(e)&&(typeof e=="string"?t=e:(t={},e.rgb!==void 0&&(t.rgb=e.rgb),e.theme!==void 0&&(t.theme=e.theme))),t},isEmpty:function(e){return!Z(e)||!Z(e.rgb)&&!Z(e.theme)},areEqual:function(e,t){return nr.isEmpty(e)&&nr.isEmpty(t)||Z(e)&&Z(t)&&e.rgb===t.rgb&&e.theme===t.theme},toXml:function(e,t){return Zi.toXml(e,{rgb:t.rgb,theme:t.theme})}},Aa={tryCreateTag:function(e){var t=null;return Z(e)&&(t={patternType:e.patternType,backgroundColor:nr.tryCreateTag(e.backgroundColor),foregroundColor:nr.tryCreateTag(e.foregroundColor)},Aa.isEmpty(t)&&(t=null)),t},copy:function(e){var t=null;return Z(e)&&(t={},e.patternType!==void 0&&(t.patternType=e.patternType),e.backgroundColor!==void 0&&(t.backgroundColor=nr.copy(e.backgroundColor)),e.foregroundColor!==void 0&&(t.foregroundColor=nr.copy(e.foregroundColor))),t},areEqual:function(e,t){return Aa.isEmpty(e)&&Aa.isEmpty(t)||Z(e)&&Z(t)&&e.patternType===t.patternType&&nr.areEqual(e.backgroundColor,t.backgroundColor)&&nr.areEqual(e.foregroundColor,t.foregroundColor)},isEmpty:function(e){return!Z(e)||!Z(e.patternType)},toXml:function(e){var t=[Z(e.foregroundColor)?nr.toXml("fgColor",e.foregroundColor):"",Z(e.backgroundColor)?nr.toXml("bgColor",e.backgroundColor):""].join("");return Zi.toXml("patternFill",{patternType:e.patternType},t)}},rn={tryCreateTag:function(e){var t=null;return Z(e)&&(t={patternFill:Aa.tryCreateTag(e.patternFill)},rn.isEmpty(t)&&(t=null)),t},tryCreateFillFromSimpleFormat:function(){var{backgroundColor:e,fillPatternType:t,fillPatternColor:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Z(e)&&!(Z(t)&&Z(i)))return{patternFill:{patternType:"solid",foregroundColor:{rgb:e}}};if(Z(t)&&Z(i))return{patternFill:{patternType:t,foregroundColor:{rgb:i},backgroundColor:{rgb:e}}}},copySimpleFormat:function(e,t){e.backgroundColor!==void 0&&(t.backgroundColor=e.backgroundColor),e.fillPatternType!==void 0&&(t.fillPatternType=e.fillPatternType),e.fillPatternColor!==void 0&&(t.fillPatternColor=e.fillPatternColor)},copy:function(e){var t=null;return Z(e)&&(t={},e.patternFill!==void 0&&(t.patternFill=Aa.copy(e.patternFill))),t},areEqual:function(e,t){return rn.isEmpty(e)&&rn.isEmpty(t)||Z(e)&&Z(t)&&Aa.areEqual(e.patternFill,t.patternFill)},isEmpty:function(e){return!Z(e)||Aa.isEmpty(e.patternFill)},toXml:function(e){return Zi.toXml("fill",{},Aa.toXml(e.patternFill))}},As={tryCreateTag:function(e){var t=null;return Z(e)&&(t={size:e.size,name:e.name,family:e.family,scheme:e.scheme,bold:e.bold,italic:e.italic,underline:e.underline,color:nr.tryCreateTag(e.color)},As.isEmpty(t)&&(t=null)),t},copy:function(e){var t=null;return Z(e)&&(t={},e.size!==void 0&&(t.size=e.size),e.name!==void 0&&(t.name=e.name),e.family!==void 0&&(t.family=e.family),e.scheme!==void 0&&(t.scheme=e.scheme),e.bold!==void 0&&(t.bold=e.bold),e.italic!==void 0&&(t.italic=e.italic),e.underline!==void 0&&(t.underline=e.underline),e.color!==void 0&&(t.color=nr.copy(e.color))),t},areEqual:function(e,t){return As.isEmpty(e)&&As.isEmpty(t)||Z(e)&&Z(t)&&e.size===t.size&&e.name===t.name&&e.family===t.family&&e.scheme===t.scheme&&(e.bold===t.bold||!e.bold==!t.bold)&&(e.italic===t.italic||!e.italic==!t.italic)&&e.underline===t.underline&&nr.areEqual(e.color,t.color)},isEmpty:function(e){return!Z(e)||!Z(e.size)&&!Z(e.name)&&!Z(e.family)&&!Z(e.scheme)&&(!Z(e.bold)||!e.bold)&&(!Z(e.italic)||!e.italic)&&!Z(e.underline)&&nr.isEmpty(e.color)},toXml:function(e){var t=[Z(e.bold)&&e.bold?Zi.toXml("b",{}):"",Z(e.size)?Zi.toXml("sz",{val:e.size}):"",Z(e.color)?nr.toXml("color",e.color):"",Z(e.name)?Zi.toXml("name",{val:e.name}):"",Z(e.family)?Zi.toXml("family",{val:e.family}):"",Z(e.scheme)?Zi.toXml("scheme",{val:e.scheme}):"",Z(e.italic)&&e.italic?Zi.toXml("i",{}):"",Z(e.underline)?Zi.toXml("u",{val:e.underline}):""].join("");return Zi.toXml("font",{},t)}},ws={tryCreateTag:function(e,t){var i=null;if(Z(e)){var r;typeof e.numberFormat=="number"?r=e.numberFormat:r=t.registerNumberFormat(e.numberFormat);var n=e.fill;Z(n)||(n=rn.tryCreateFillFromSimpleFormat(e)),i={numberFormatId:r,alignment:jn.tryCreateTag(e.alignment),fontId:t.registerFont(e.font),fillId:t.registerFill(n)},ws.isEmpty(i)&&(i=null)}return i},copy:function(e){var t;return e===null?t=null:Z(e)&&(t={},e.numberFormat!==void 0&&(t.numberFormat=e.numberFormat),e.fill!==void 0?t.fill=rn.copy(e.fill):rn.copySimpleFormat(e,t),e.alignment!==void 0&&(t.alignment=jn.copy(e.alignment)),e.font!==void 0&&(t.font=As.copy(e.font))),t},areEqual:function(e,t){return ws.isEmpty(e)&&ws.isEmpty(t)||Z(e)&&Z(t)&&e.fontId===t.fontId&&e.numberFormatId===t.numberFormatId&&e.fillId===t.fillId&&jn.areEqual(e.alignment,t.alignment)},isEmpty:function(e){return!Z(e)||!Z(e.fontId)&&!Z(e.numberFormatId)&&!Z(e.fillId)&&jn.isEmpty(e.alignment)},toXml:function(e){var t=jn.isEmpty(e.alignment),i;return Z(e.numberFormatId)&&(i=e.numberFormatId>0?1:0),Zi.toXml("xf",{xfId:0,applyAlignment:t?null:1,fontId:e.fontId,applyNumberFormat:i,fillId:e.fillId,numFmtId:e.numberFormatId},t?null:jn.toXml(e.alignment))}},_n={ID_PROPERTY_NAME:"id",tryCreateTag:function(e){var t=null;return typeof e=="string"&&(t={formatCode:e},_n.isEmpty(t)&&(t=null)),t},areEqual:function(e,t){return _n.isEmpty(e)&&_n.isEmpty(t)||Z(e)&&Z(t)&&e.formatCode===t.formatCode},isEmpty:function(e){return!Z(e)||!Z(e.formatCode)||e.formatCode===""},toXml:function(e){return Zi.toXml("numFmt",{numFmtId:e[_n.ID_PROPERTY_NAME],formatCode:e.formatCode})}};class IE{constructor(){this._cellFormatTags=[],this._fillTags=[],this._fontTags=[],this._numberFormatTags=[],this._fillTags.push(rn.tryCreateTag({patternFill:{patternType:"none"}}))}registerCellFormat(t){var i,r=ws.tryCreateTag(t,{registerFill:this.registerFill.bind(this),registerFont:this.registerFont.bind(this),registerNumberFormat:this.registerNumberFormat.bind(this)});if(Z(r)){for(var n=0;n<this._cellFormatTags.length;n++)if(ws.areEqual(this._cellFormatTags[n],r)){i=n;break}i===void 0&&(i=this._cellFormatTags.push(r)-1)}return i}static copyCellFormat(t){return ws.copy(t)}generateCellFormatsXml(){var t=this._cellFormatTags.map(i=>ws.toXml(i));return Zi.toXml("cellXfs",{count:t.length},t.join(""))}registerFill(t){var i,r=rn.tryCreateTag(t);if(Z(r)){for(var n=0;n<this._fillTags.length;n++)if(rn.areEqual(this._fillTags[n],r)){i=n;break}i===void 0&&(this._fillTags.length<2&&this._fillTags.push(rn.tryCreateTag({patternFill:{patternType:"Gray125"}})),i=this._fillTags.push(r)-1)}return i}generateFillsXml(){var t=this._fillTags.map(i=>rn.toXml(i));return Zi.toXml("fills",{count:t.length},t.join(""))}registerFont(t){var i,r=As.tryCreateTag(t);if(Z(r)){for(var n=0;n<this._fontTags.length;n++)if(As.areEqual(this._fontTags[n],r)){i=n;break}i===void 0&&(i=this._fontTags.push(r)-1)}return i}generateFontsXml(){var t=this._fontTags.map(i=>As.toXml(i));return Zi.toXml("fonts",{count:t.length},t.join(""))}_convertNumberFormatIndexToId(t){return 165+t}registerNumberFormat(t){var i,r=_n.tryCreateTag(t);if(Z(r)){for(var n=0;n<this._numberFormatTags.length;n++)if(_n.areEqual(this._numberFormatTags[n],r)){i=this._numberFormatTags[n][_n.ID_PROPERTY_NAME];break}i===void 0&&(r[_n.ID_PROPERTY_NAME]=this._convertNumberFormatIndexToId(this._numberFormatTags.length),i=r[_n.ID_PROPERTY_NAME],this._numberFormatTags.push(r))}return i}generateNumberFormatsXml(){if(this._numberFormatTags.length>0){var t=this._numberFormatTags.map(i=>_n.toXml(i));return Zi.toXml("numFmts",{count:t.length},t.join(""))}else return""}}var Oo='<?xml version="1.0" encoding="utf-8"?>',eae='<sheetPr><outlinePr summaryBelow="0"/></sheetPr>',tae="<sheetPr/>",iae='<borders count="1"><border><left style="thin"><color rgb="FFD3D3D3"/></left><right style="thin"><color rgb="FFD3D3D3"/></right><top style="thin"><color rgb="FFD3D3D3"/></top><bottom style="thin"><color rgb="FFD3D3D3"/></bottom></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',hs="http://schemas.openxmlformats.org",Cg="rels",Mh="xl",wg="workbook.xml",rae="[Content_Types].xml",TE="sharedStrings.xml",AE="styles.xml",nae="worksheets",OE="sheet1.xml",aae='<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">',lr={boolean:"b",date:"d",number:"n",string:"s"},sae=Date.UTC(1899,11,30),oae=60,lae=7,uae={quarter:"shortDate",quarterAndYear:"shortDate",minute:"longTime",millisecond:"longTime"},Pu=wt.inherit({_getXMLTag:function(e,t,i){var r="<"+e,n,a=t.length,s;for(n=0;n<a;n++)s=t[n],s.value!==void 0&&(r=r+" "+s.name+'="'+s.value+'"');return Z(i)?r+">"+i+"</"+e+">":r+" />"},_convertToExcelCellRef:function(e,t){for(var i="",r,n;!n;)r=65+(t>=26?t%26:Math.ceil(t)),i=String.fromCharCode(r)+i,t>=26?t=Math.floor(t/26)-1:n=!0;return i+(e+1)},_convertToExcelCellRefAndTrackMaxIndex:function(e,t){return this._maxRowIndex<Number(e)&&(this._maxRowIndex=Number(e)),this._maxColumnIndex<Number(t)&&(this._maxColumnIndex=Number(t)),this._convertToExcelCellRef(e,t)},_getDataType:function(e){return lr[e]||lr.string},_tryGetExcelCellDataType:function(e){if(Z(e)){if(typeof e=="number")return isFinite(e)?lr.number:lr.string;if(Ue(e))return lr.string;if(tr(e))return lr.number;if(Ko(e))return lr.boolean}},_formatObjectConverter:function(e,t){var i={format:e,precision:e&&e.precision,dataType:t};return Ge(e)?re(i,e,{format:e.formatter||e.type,currency:e.currency}):i},_tryConvertToExcelNumberFormat:function(e,t){var i=this._formatObjectConverter(e,t);e=i.format;var r=i.currency;return t=i.dataType,Z(e)&&t==="date"&&(e=uae[e&&e.type||e]||e),$c.convertFormat(e,i.precision,t,r)},_appendString:function(e){if(Z(e)&&(e=String(e),e.length))return e=s_(e),this._stringHash[e]===void 0&&(this._stringHash[e]=this._stringArray.length,this._stringArray.push(e)),this._stringHash[e]},_tryGetExcelDateValue:function(e){var t,i;if(tr(e))return t=Math.floor((Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())-sae)/864e5),t<oae&&t--,i=(3600*e.getHours()+60*e.getMinutes()+e.getSeconds())/86400,t+i},_prepareValue:function(e,t){var i=this._dataProvider,{cellSourceData:r}=i.getCellData(e,t)||{},{value:n}=i.getCellData(e,t)||{},a,s=this._getDataType(i.getCellType(e,t));switch(s===lr.date&&!tr(n)&&(s=lr.string),s){case lr.string:a=n,n=this._appendString(n);break;case lr.date:a=n,n=this._tryGetExcelDateValue(n),s=lr.number}return{value:n,type:s,sourceValue:a,cellSourceData:r}},_callCustomizeExcelCell:function(e){var{dataProvider:t,value:i,style:r,sourceData:n}=e,a=IE.copyCellFormat(r),s={value:i,numberFormat:a.numberFormat,clearStyle:function(){this.horizontalAlignment=null,this.verticalAlignment=null,this.wrapTextEnabled=null,this.font=null,this.numberFormat=null}};Z(a)&&(Z(a.alignment)&&(s.horizontalAlignment=a.alignment.horizontal,s.verticalAlignment=a.alignment.vertical,s.wrapTextEnabled=a.alignment.wrapText),s.backgroundColor=a.backgroundColor,s.fillPatternType=a.fillPatternType,s.fillPatternColor=a.fillPatternColor,s.font=a.font),t.customizeExcelCell(s,n);var o=a||{};return o.font=s.font,o.alignment=o.alignment||{},o.alignment.horizontal=s.horizontalAlignment,o.alignment.vertical=s.verticalAlignment,o.alignment.wrapText=s.wrapTextEnabled,o.backgroundColor=s.backgroundColor,o.fillPatternType=s.fillPatternType,o.fillPatternColor=s.fillPatternColor,o.numberFormat=s.numberFormat,{value:s.value,style:o}},_getDataArray:function(){var e,t,i,r,n=[],a=this._dataProvider,s=a.getRowsCount(),o=a.getColumns(),l;for(e=0;e<s;e++){for(i=[],l=o.length,t=0;t!==l;t++){r=this._prepareValue(e,t);var u=a.getStyleId(e,t),d=this._styleArrayIndexToCellStyleIdMap[u];if(a.hasCustomizeExcelCell&&a.hasCustomizeExcelCell()){var c=r.sourceValue||r.value,h=this._callCustomizeExcelCell({dataProvider:a,value:c,style:this._styleArray[u],sourceData:r.cellSourceData});if(h.value!==c){if(typeof h.value!=typeof c||typeof h.value=="number"&&!isFinite(h.value)){var f=this._tryGetExcelCellDataType(h.value);Z(f)&&(r.type=f)}switch(r.type){case lr.string:r.value=this._appendString(h.value);break;case lr.date:r.value=h.value;break;case lr.number:var p=h.value,g=this._tryGetExcelDateValue(p);Z(g)&&(p=g),r.value=p;break;default:r.value=h.value}}d=this._excelFile.registerCellFormat(h.style)}i.push({style:d,value:r.value,type:r.type})}!this._needSheetPr&&a.getGroupLevel(e)>0&&(this._needSheetPr=!0),n.push(i)}return n},_calculateWidth:function(e){return e=parseInt(e,10),(!e||e<5)&&(e=100),Math.min(255,Math.floor((e-5)/lae*100+.5)/100)},_prepareStyleData:function(){var e=this,t=e._dataProvider.getStyles();e._dataProvider.getColumns().forEach(function(r){e._colsArray.push(e._calculateWidth(r.width))});var i=[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor",bold:!1},{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor",bold:!0}];this._excelFile.registerFont(i[0]),this._excelFile.registerFont(i[1]),t.forEach(function(r){var n=e._tryConvertToExcelNumberFormat(r.format,r.dataType);Z(n)||(n=0),e._styleArray.push({font:i[+!!r.bold],numberFormat:n,alignment:{vertical:"top",wrapText:!!r.wrapText,horizontal:r.alignment||"left"}})}),e._styleArrayIndexToCellStyleIdMap=e._styleArray.map(r=>this._excelFile.registerCellFormat(r))},_prepareCellData:function(){this._cellsArray=this._getDataArray()},_createXMLRelationships:function(e){return this._getXMLTag("Relationships",[{name:"xmlns",value:hs+"/package/2006/relationships"}],e)},_createXMLRelationship:function(e,t,i){return this._getXMLTag("Relationship",[{name:"Id",value:"rId"+e},{name:"Type",value:hs+"/officeDocument/2006/relationships/"+t},{name:"Target",value:i}])},_getWorkbookContent:function(){return Oo+this._getXMLTag("workbook",[{name:"xmlns:r",value:hs+"/officeDocument/2006/relationships"},{name:"xmlns",value:hs+"/spreadsheetml/2006/main"}],'<bookViews><workbookView xWindow="0" yWindow="0" windowWidth="0" windowHeight="0"/></bookViews><sheets><sheet name="Sheet" sheetId="1" r:id="rId1" /></sheets><definedNames><definedName name="_xlnm.Print_Titles" localSheetId="0">Sheet!$1:$1</definedName><definedName name="_xlnm._FilterDatabase" hidden="0" localSheetId="0">Sheet!$A$1:$F$6332</definedName></definedNames>')},_getContentTypesContent:function(){return Oo+'<Types xmlns="'+hs+'/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="xml" ContentType="application/xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /></Types>'},_generateStylesXML:function(){var e=this._zip.folder(Mh),t="";t+=this._excelFile.generateNumberFormatsXml(),t+=this._excelFile.generateFontsXml(),t+=this._excelFile.generateFillsXml(),t+=iae,t+=this._excelFile.generateCellFormatsXml(),t+=this._getXMLTag("cellStyles",[{name:"count",value:1}],this._getXMLTag("cellStyle",[{name:"name",value:"Normal"},{name:"xfId",value:0},{name:"builtinId",value:0}])),t=Oo+this._getXMLTag("styleSheet",[{name:"xmlns",value:hs+"/spreadsheetml/2006/main"}],t),e.file(AE,t),this._styleArray=[]},_generateStringsXML:function(){var e=this._zip.folder(Mh),t,i=this._stringArray.length,r=Oo;for(t=0;t<i;t++)this._stringArray[t]=this._getXMLTag("si",[],this._getXMLTag("t",[],this._stringArray[t]));r+=this._getXMLTag("sst",[{name:"xmlns",value:hs+"/spreadsheetml/2006/main"},{name:"count",value:this._stringArray.length},{name:"uniqueCount",value:this._stringArray.length}],this._stringArray.join("")),e.file(TE,r),this._stringArray=[]},_getPaneXML:function(){var e=[{name:"activePane",value:"bottomLeft"},{name:"state",value:"frozen"}],t=this._dataProvider.getFrozenArea();return t.x||t.y?(t.x&&e.push({name:"xSplit",value:t.x}),t.y&&e.push({name:"ySplit",value:t.y}),e.push({name:"topLeftCell",value:this._convertToExcelCellRefAndTrackMaxIndex(t.y,t.x)}),this._getXMLTag("pane",e)):""},_getAutoFilterXML:function(e){return this._options.autoFilterEnabled?'<autoFilter ref="A'+this._dataProvider.getHeaderRowCount()+":"+e+'" />':""},_getIgnoredErrorsXML:function(e){return this._options.ignoreErrors?'<ignoredErrors><ignoredError sqref="A1:'+e+'" numberStoredAsText="1" /></ignoredErrors>':""},_generateWorksheetXML:function(){var e,t,i,r,n=[],a=this._cellsArray.length,s,o=this._colsArray.length,l="1:"+o,u=this._dataProvider.getHeaderRowCount?this._dataProvider.getHeaderRowCount():1,d=[aae];for(d.push(this._needSheetPr?eae:tae),d.push('<dimension ref="A1:C1"/>'),d.push("<sheetViews><sheetView "),d.push(this._rtlEnabled?'rightToLeft="1" ':""),d.push('tabSelected="1" workbookViewId="0">'),d.push(this._getPaneXML()),d.push("</sheetView></sheetViews>"),d.push('<sheetFormatPr defaultRowHeight="15"'),d.push(' outlineLevelRow="'+(this._dataProvider.getRowsCount()>0?this._dataProvider.getGroupLevel(0):0)+'"'),d.push(' x14ac:dyDescent="0.25"/>'),e=0;e<o;e++)this._colsArray[e]=this._getXMLTag("col",[{name:"width",value:this._colsArray[e]},{name:"min",value:Number(e)+1},{name:"max",value:Number(e)+1},{name:"customWidth",value:1}]);for(d.push(this._getXMLTag("cols",[],this._colsArray.join(""))+"<sheetData>"),t=0;t<a;t++){for(r=[],s=this._cellsArray[t].length,e=0;e<s;e++)t=Number(t),i=this._cellsArray[t][e],r.push(this._getXMLTag("c",[{name:"r",value:this._convertToExcelCellRefAndTrackMaxIndex(t,e)},{name:"s",value:i.style},{name:"t",value:i.type}],Z(i.value)?this._getXMLTag("v",[],i.value):null));n.push(this._getXMLTag("row",[{name:"r",value:Number(t)+1},{name:"spans",value:l},{name:"outlineLevel",value:t>=u?this._dataProvider.getGroupLevel(t):0},{name:"x14ac:dyDescent",value:"0.25"}],r.join(""))),this._cellsArray[t]=null,n.length>1e4&&(d.push(n.join("")),n=[])}d.push(n.join("")),n=[];var c=this._convertToExcelCellRef(this._maxRowIndex,this._maxColumnIndex);d.push("</sheetData>"+this._getAutoFilterXML(c)+this._generateMergingXML()+this._getIgnoredErrorsXML(c)+"</worksheet>"),this._zip.folder(Mh).folder(nae).file(OE,d.join("")),this._colsArray=[],this._cellsArray=[],d=[]},_generateMergingXML:function(){var e,t,i,r,n=Z(this._dataProvider.getHeaderRowCount)?this._dataProvider.getHeaderRowCount():this._dataProvider.getRowsCount(),a=this._dataProvider.getColumns().length,s=[],o=[],l,u="";for(r=0;r<n;r++)for(i=0;i!==a;i++)if(!Z(s[r])||!Z(s[r][i])){var d=this._dataProvider.getCellMerging(r,i);if(d.colspan||d.rowspan)for(o.push({start:this._convertToExcelCellRefAndTrackMaxIndex(r,i),end:this._convertToExcelCellRefAndTrackMaxIndex(r+(d.rowspan||0),i+(d.colspan||0))}),e=r;e<=r+d.rowspan;e++)for(t=i;t<=i+d.colspan;t++)Z(s[e])||(s[e]=[]),s[e][t]=!0}var c=o.length;for(l=0;l<c;l++)u+=this._getXMLTag("mergeCell",[{name:"ref",value:o[l].start+":"+o[l].end}]);return u.length?this._getXMLTag("mergeCells",[{name:"count",value:c}],u):""},_generateCommonXML:function(){var e=Oo+this._createXMLRelationships(this._createXMLRelationship(1,"officeDocument","xl/"+wg)),t=this._zip.folder(Mh),i=Oo;this._zip.folder("_"+Cg).file("."+Cg,e);var r=this._createXMLRelationship(1,"worksheet","worksheets/"+OE)+this._createXMLRelationship(2,"styles",AE)+this._createXMLRelationship(3,"sharedStrings",TE);i+=this._createXMLRelationships(r),t.folder("_"+Cg).file(wg+".rels",i),t.file(wg,this._getWorkbookContent()),this._zip.file(rae,this._getContentTypesContent())},_generateContent:function(){this._prepareStyleData(),this._prepareCellData(),this._generateWorkXML(),this._generateCommonXML()},_generateWorkXML:function(){this._generateStylesXML(),this._generateStringsXML(),this._generateWorksheetXML()},ctor:function(e,t){this._rtlEnabled=t&&!!t.rtlEnabled,this._options=t,this._maxRowIndex=0,this._maxColumnIndex=0,this._stringArray=[],this._stringHash={},this._styleArray=[],this._colsArray=[],this._cellsArray=[],this._needSheetPr=!1,this._dataProvider=e,this._excelFile=new IE,Z(Pu.JSZip)?this._zip=new Pu.JSZip:this._zip=null},_checkZipState:function(){if(!this._zip)throw gt.Error("E1041","JSZip")},ready:function(){return this._dataProvider.ready()},getData:function(e){var t={type:e?"blob":"base64",compression:"DEFLATE",mimeType:ZR.EXCEL},i=new pe;return this._checkZipState(),this._generateContent(),this._zip.generateAsync?this._zip.generateAsync(t).then(i.resolve):i.resolve(this._zip.generate(t)),i}});Pu.JSZip=Kne;function dae(e,t){var i=new Pu(e,t);return i._checkZipState(),i.ready().then(()=>i.getData(Re(at().Blob)))}var DE={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},xg=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*\.*\d+)\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4])]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/^hsv\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){var t=parseInt(e[1],10),i=parseInt(e[2],10),r=parseInt(e[3],10),n=QR(t,i,r);return[n[0],n[1],n[2],1,[t,i,r]]}},{re:/^hsl\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){var t=parseInt(e[1],10),i=parseInt(e[2],10),r=parseInt(e[3],10),n=ek(t,i,r);return[n[0],n[1],n[2],1,null,[t,i,r]]}}],ta=Math.round;function Ca(e){this.baseColor=e;var t;e&&(t=String(e).toLowerCase().replace(/ /g,""),t=DE[t]?"#"+DE[t]:t,t=hae(t)),t||(this.colorIsInvalid=!0),t=t||{},this.r=bn(t[0]),this.g=bn(t[1]),this.b=bn(t[2]),this.a=bn(t[3],1,1),t[4]?this.hsv={h:t[4][0],s:t[4][1],v:t[4][2]}:this.hsv=fae(this.r,this.g,this.b),t[5]?this.hsl={h:t[5][0],s:t[5][1],l:t[5][2]}:this.hsl=mae(this.r,this.g,this.b)}function hae(e){if(e==="transparent")return[0,0,0,0];for(var t=0,i=xg.length,r;t<i;++t)if(r=xg[t].re.exec(e),r)return xg[t].process(r);return null}function bn(e,t,i){return t=t||0,i=i||255,e<0||isNaN(e)?t:e>i?i:e}function cae(e,t,i){return"#"+(16777216|e<<16|t<<8|i).toString(16).slice(1)}function fae(e,t,i){var r=Math.max(e,t,i),n=Math.min(e,t,i),a=r-n,s,o,l=r;if(o=r===0?0:1-n/r,r===n)s=0;else switch(r){case e:s=(t-i)/a*60,t<i&&(s+=360);break;case t:s=(i-e)/a*60+120;break;case i:s=(e-t)/a*60+240}return o*=100,l*=100/255,{h:Math.round(s),s:Math.round(o),v:Math.round(l)}}function QR(e,t,i){var r=Math.floor(e%360/60),n=(100-t)*i/100,a=e%60/60*(i-n),s=n+a,o=i-a,l,u,d;switch(r){case 0:l=i,u=s,d=n;break;case 1:l=o,u=i,d=n;break;case 2:l=n,u=i,d=s;break;case 3:l=n,u=o,d=i;break;case 4:l=s,u=n,d=i;break;case 5:l=i,u=n,d=o}return[Math.round(2.55*l),Math.round(2.55*u),Math.round(2.55*d)]}function pae(e,t,i,r){var n=Math.max(e,t,i);switch(n){case e:return(t-i)/r+(t<i?6:0);case t:return(i-e)/r+2;case i:return(e-t)/r+4}}function mae(e,t,i){e=Uo(e,255),t=Uo(t,255),i=Uo(i,255);var r=Math.max(e,t,i),n=Math.min(e,t,i),a=r+n,s,o,l=a/2;if(r===n)s=o=0;else{var u=r-n;l>.5?o=u/(2-a):o=u/a,s=pae(e,t,i,u),s/=6}return{h:ta(360*s),s:ta(100*o),l:ta(100*l)}}function Sg(e,t){var i=t;return e==="r"&&(i=t+1/3),e==="b"&&(i=t-1/3),i}function gae(e){return e<0&&(e+=1),e>1&&(e-=1),e}function Eg(e,t,i){return i=gae(i),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function ek(e,t,i){var r,n,a;if(e=Uo(e,360),t=Uo(t,100),i=Uo(i,100),t===0)r=n=a=i;else{var s=i<.5?i*(1+t):i+t-i*t,o=2*i-s;r=Eg(o,s,Sg("r",e)),n=Eg(o,s,Sg("g",e)),a=Eg(o,s,Sg("b",e))}return[ta(255*r),ta(255*n),ta(255*a)]}function Uo(e,t){return e=Math.min(t,Math.max(0,parseFloat(e))),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Ig(e,t,i){return t=t||0,i=i||255,!(e%1!==0||e<t||e>i||typeof e!="number"||isNaN(e))}Ca.prototype={constructor:Ca,highlight:function(e){return e=e||10,this.alter(e).toHex()},darken:function(e){return e=e||10,this.alter(-e).toHex()},alter:function(e){var t=new Ca;return t.r=bn(this.r+e),t.g=bn(this.g+e),t.b=bn(this.b+e),t},blend:function(e,t){var i=e instanceof Ca?e:new Ca(e),r=new Ca;return r.r=bn(ta(this.r*(1-t)+i.r*t)),r.g=bn(ta(this.g*(1-t)+i.g*t)),r.b=bn(ta(this.b*(1-t)+i.b*t)),r},toHex:function(){return cae(this.r,this.g,this.b)},getPureColor:function(){var e=QR(this.hsv.h,100,100);return new Ca("rgb("+e.join(",")+")")},isValidHex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},isValidRGB:function(e,t,i){return!(!Ig(e)||!Ig(t)||!Ig(i))},isValidAlpha:function(e){return!(isNaN(e)||e<0||e>1||typeof e!="number")},colorIsInvalid:!1,fromHSL:function(e){var t=new Ca,i=ek(e.h,e.s,e.l);return t.r=i[0],t.g=i[1],t.b=i[2],t}};function vae(e,t,i){if(!e)return new pe().resolve();var r=t.exportingAction,n=t.exportedAction,a=t.fileSavingAction,s={fileName:t.fileName,format:t.format,cancel:!1};return Ko(t.selectedRowsOnly)&&(s.selectedRowsOnly=t.selectedRowsOnly),Re(r)&&r(s),s.cancel?new pe().resolve():i(e,t).then(o=>{if(Re(n)&&n(),Re(a)&&(s.data=o,a(s)),!s.cancel){var l=t.format==="xlsx"?"EXCEL":t.format;Une.saveAs(s.fileName,l,o,t.proxyUrl,t.forceProxy)}})}var _ae={creator:Pu,getData:dae,formatConverter:$c},bd="dx-buttongroup",bae=bd+"-wrapper",tk=bd+"-item",yae=bd+"-first-item",Cae=bd+"-last-item",RE=tk+"-has-width",wae="dx-shape-standard",xae=Js.inherit({_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({item:new Zs((e,t,i)=>{this._prepareItemStyles(e);var r=this.option("buttonTemplate");this._createComponent(e,Ki,re({},i,t,this._getBasicButtonOptions(),{_templateData:this._hasCustomTemplate(r)?i:{},template:i.template||r}))},["text","type","icon","disabled","visible","hint"],this.option("integrationOptions.watchMethod"))})},_getBasicButtonOptions(){return{focusStateEnabled:!1,onClick:null,hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode")}},_getDefaultOptions:function(){return re(this.callBase(),{itemTemplateProperty:null})},_hasCustomTemplate(e){return Re(e)||this.option("integrationOptions.templates")[e]},_prepareItemStyles(e){var t=e.data("dxItemIndex");t===0&&e.addClass(yae);var i=this.option("items");i&&t===i.length-1&&e.addClass(Cae),e.addClass(wae)},_renderItemContent(e){return e.container=W(e.container).parent(),this.callBase(e)},_renderItemContentByNode:function(e,t){return e.container=W(e.container.children().first()),this.callBase(e,t)},_focusTarget(){return this.$element().parent()},_keyboardEventBindingTarget(){return this._focusTarget()},_refreshContent(){this._prepareContent(),this._renderContent()},_itemClass:()=>tk,_itemSelectHandler:function(e){this.option("selectionMode")==="single"&&this.isItemSelected(e.currentTarget)||this.callBase(e)}}),ik=Fi.inherit({_getDefaultOptions(){return re(this.callBase(),{hoverStateEnabled:!0,focusStateEnabled:!0,selectionMode:"single",selectedItems:[],selectedItemKeys:[],stylingMode:"contained",keyExpr:"text",items:[],buttonTemplate:"content",onSelectionChanged:null,onItemClick:null})},_init(){this.callBase(),this._createItemClickAction()},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_initMarkup(){this.setAria("role","group"),this.$element().addClass(bd),this._renderButtons(),this._syncSelectionOptions(),this.callBase()},_fireSelectionChangeEvent:function(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:e,removedItems:t})},_renderButtons(){var e=W("<div>").addClass(bae).appendTo(this.$element()),t=this.option("selectedItems"),i={selectionMode:this.option("selectionMode"),items:this.option("items"),keyExpr:this.option("keyExpr"),buttonTemplate:this.option("buttonTemplate"),scrollingEnabled:!1,selectedItemKeys:this.option("selectedItemKeys"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode"),accessKey:this.option("accessKey"),tabIndex:this.option("tabIndex"),noDataText:"",selectionRequired:!1,onItemRendered:r=>{var n=this.option("width");Z(n)&&W(r.itemElement).addClass(RE)},onSelectionChanged:r=>{this._syncSelectionOptions(),this._fireSelectionChangeEvent(r.addedItems,r.removedItems)},onItemClick:r=>{this._itemClickAction(r)}};Z(t)&&t.length&&(i.selectedItems=t),this._buttonsCollection=this._createComponent(e,xae,i)},_syncSelectionOptions(){this._setOptionWithoutOptionChange("selectedItems",this._buttonsCollection.option("selectedItems")),this._setOptionWithoutOptionChange("selectedItemKeys",this._buttonsCollection.option("selectedItemKeys"))},_optionChanged(e){switch(e.name){case"stylingMode":case"selectionMode":case"keyExpr":case"buttonTemplate":case"items":case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":case"tabIndex":this._invalidate();break;case"selectedItemKeys":case"selectedItems":this._buttonsCollection.option(e.name,e.value);break;case"onItemClick":this._createItemClickAction();break;case"onSelectionChanged":break;case"width":this.callBase(e),this._buttonsCollection.itemElements().toggleClass(RE,!!e.value);break;default:this.callBase(e)}}});yt("dxButtonGroup",ik);var kE="dx-dropdownbutton",Sae="dx-dropdownbutton-content",ME="dx-dropdownbutton-action",BE="dx-dropdownbutton-toggle",Eae="dx-dropdownbutton-has-arrow",Iae="dx-dropdownbutton-popup-wrapper",Tae="dx-dropdowneditor-overlay",Aae="dx-button-text",Oae="dx-icon-right",Dae=Fi.inherit({_getDefaultOptions(){return re(this.callBase(),{itemTemplate:"item",keyExpr:"this",displayExpr:void 0,selectedItem:null,selectedItemKey:null,stylingMode:"outlined",deferRendering:!0,noDataText:_e.format("dxCollectionWidget-noDataText"),useSelectMode:!1,splitButton:!1,showArrowIcon:!0,text:"",icon:void 0,onButtonClick:null,onSelectionChanged:null,onItemClick:null,opened:!1,items:null,dataSource:null,focusStateEnabled:!0,hoverStateEnabled:!0,dropDownOptions:{},dropDownContentTemplate:"content",wrapItemText:!1,useItemTextAsTitle:!0,grouped:!1,groupTemplate:"group",buttonGroupOptions:{}})},_setOptionsByReference(){this.callBase(),re(this._optionsByReference,{selectedItem:!0})},_init(){this.callBase(),this._createItemClickAction(),this._createActionClickAction(),this._createSelectionChangedAction(),this._initDataSource(),this._compileKeyGetter(),this._compileDisplayGetter(),this._itemsToDataSource(this.option("items")),this._options.cache("buttonGroupOptions",this.option("buttonGroupOptions")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_initTemplates(){this._templateManager.addDefaultTemplates({content:new Jo(e=>{var t=W(e.container),i=W("<div>").appendTo(t);this._list=this._createComponent(i,eo,this._listOptions()),this._list.registerKeyHandler("escape",this._escHandler.bind(this)),this._list.registerKeyHandler("tab",this._escHandler.bind(this)),this._list.registerKeyHandler("leftArrow",this._escHandler.bind(this)),this._list.registerKeyHandler("rightArrow",this._escHandler.bind(this))})}),this.callBase()},_itemsToDataSource:function(e){this._dataSource||(this._dataSource=new In({store:new dl({key:this._getKey(),data:e}),pageSize:0}))},_getKey:function(){var e,t=this.option("keyExpr"),i=(e=this._dataSource)===null||e===void 0?void 0:e.key();return Z(i)&&(!Z(t)||t==="this")?i:t},_compileKeyGetter(){this._keyGetter=jt(this._getKey())},_compileDisplayGetter(){this._displayGetter=jt(this.option("displayExpr"))},_initMarkup(){this.callBase(),this.$element().addClass(kE),this._renderButtonGroup(),this._updateArrowClass(),Z(this.option("selectedItemKey"))&&this._loadSelectedItem().done(this._updateActionButton.bind(this))},_renderFocusTarget:me,_render(){(!this.option("deferRendering")||this.option("opened"))&&this._renderPopup(),this.callBase()},_renderContentImpl(){return this._popup&&this._renderPopupContent(),this.callBase()},_loadSelectedItem(){var e;(e=this._loadSingleDeferred)===null||e===void 0||e.reject();var t=new pe;if(this._list&&this._lastSelectedItemData!==void 0){var i=this.option("useSelectMode")?this._list.option("selectedItem"):this._lastSelectedItemData;return t.resolve(i)}this._lastSelectedItemData=void 0;var r=this.option("selectedItemKey");return this._loadSingle(this._getKey(),r).done(t.resolve).fail(()=>{t.resolve(null)}),this._loadSingleDeferred=t,t.promise()},_createActionClickAction(){this._actionClickAction=this._createActionByOption("onButtonClick")},_createSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged")},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_fireSelectionChangedAction(e){var{previousValue:t,value:i}=e;this._selectionChangedAction({item:i,previousItem:t})},_fireItemClickAction(e){var{event:t,itemElement:i,itemData:r}=e;return this._itemClickAction({event:t,itemElement:i,itemData:this._actionItem||r})},_actionButtonConfig(){return{text:this.option("text"),icon:this.option("icon"),elementAttr:{class:ME}}},_getButtonGroupItems(){var e=[];return e.push(this._actionButtonConfig()),this.option("splitButton")&&e.push({icon:"spindown",elementAttr:{class:BE}}),e},_buttonGroupItemClick(e){var{event:t,itemData:i}=e,r=i.elementAttr.class===ME,n=i.elementAttr.class===BE;n?this.toggle():r&&(this._actionClickAction({event:t,selectedItem:this.option("selectedItem")}),this.option("splitButton")||this.toggle())},_buttonGroupOptions(){var{splitButton:e,showArrowIcon:t,focusStateEnabled:i,hoverStateEnabled:r,stylingMode:n,accessKey:a,tabIndex:s}=this.option(),o=e||!t?"content":(l,u)=>{var{text:d,icon:c}=l,h=Ls(c),f=d?W("<span>").text(d).addClass(Aae):void 0,p=Ls("spindown").addClass(Oae);W(u).append(h,f,p)};return re({items:this._getButtonGroupItems(),onItemClick:this._buttonGroupItemClick.bind(this),width:"100%",height:"100%",selectionMode:"none",onKeyboardHandled:l=>this._keyboardHandler(l),buttonTemplate:o,focusStateEnabled:i,hoverStateEnabled:r,stylingMode:n,accessKey:a,tabIndex:s},this._options.cache("buttonGroupOptions"))},_renderPopupContent(){var e=this._popup.$content(),t=this._getTemplateByOption("dropDownContentTemplate");return e.empty(),this._popupContentId="dx-"+new Ri,this.setAria("id",this._popupContentId,e),t.render({container:qe(e),model:this.option("items")||this._dataSource})},_popupOptions(){var e=this.option("rtlEnabled")?"right":"left";return re({dragEnabled:!1,focusStateEnabled:!1,deferRendering:this.option("deferRendering"),hideOnOutsideClick:t=>{var i=this.$element(),r=W(t.target).closest(".".concat(kE));return!r.is(i)},showTitle:!1,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},_ignoreFunctionValueDeprecation:!0,width:()=>kc(this.$element()),height:"auto",shading:!1,position:{of:this.$element(),collision:"flipfit",my:e+" top",at:e+" bottom"},wrapperAttr:{class:Tae}},this._options.cache("dropDownOptions"),{visible:this.option("opened")})},_listOptions(){var e=this.option("selectedItemKey"),t=this.option("useSelectMode");return{selectionMode:t?"single":"none",wrapItemText:this.option("wrapItemText"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:()=>this._fireContentReadyAction(),selectedItemKeys:Z(e)&&t?[e]:[],grouped:this.option("grouped"),groupTemplate:this.option("groupTemplate"),keyExpr:this._getKey(),noDataText:this.option("noDataText"),displayExpr:this.option("displayExpr"),itemTemplate:this.option("itemTemplate"),items:this.option("items"),dataSource:this._dataSource,onItemClick:i=>{this.option("useSelectMode")||(this._lastSelectedItemData=i.itemData),this.option("selectedItemKey",this._keyGetter(i.itemData));var r=this._fireItemClickAction(i);r!==!1&&(this.toggle(!1),this._buttonGroup.focus())}}},_upDownKeyHandler(){return this._popup&&this._popup.option("visible")&&this._list?this._list.focus():this.open(),!0},_escHandler(){return this.close(),this._buttonGroup.focus(),!0},_tabHandler(){return this.close(),!0},_renderPopup(){var e=W("<div>");this.$element().append(e),this._popup=this._createComponent(e,kn,this._popupOptions()),this._popup.$content().addClass(Sae),this._popup.$wrapper().addClass(Iae),this._popup.on("hiding",this._popupHidingHandler.bind(this)),this._popup.on("showing",this._popupShowingHandler.bind(this)),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_popupHidingHandler(){this.option("opened",!1),this._setAriaExpanded(!1)},_popupOptionChanged:function(e){var t=Fi.getOptionsFromContainer(e);this._setPopupOption(t);var i=Object.keys(t);(i.indexOf("width")!==-1||i.indexOf("height")!==-1)&&this._dimensionChanged()},_dimensionChanged:function(){var e=N0(this.option("dropDownOptions.width"));e===void 0&&this._setPopupOption("width",()=>kc(this.$element()))},_setPopupOption:function(e,t){this._setWidgetOption("_popup",arguments)},_popupShowingHandler(){this.option("opened",!0),this._setAriaExpanded(!0)},_setAriaExpanded(e){this._ariaExpandedElements.forEach(t=>{this.setAria({expanded:e,owns:e?this._popupContentId:void 0},W(t))})},_renderButtonGroup(){var e=this._buttonGroup&&this._buttonGroup.$element()||W("<div>");this._buttonGroup||this.$element().append(e),this._buttonGroup=this._createComponent(e,ik,this._buttonGroupOptions());var t=this._buttonGroup.$element().find(".dx-button").toArray();this._ariaExpandedElements=[...t,this.$element()],this._buttonGroup.registerKeyHandler("downArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("tab",this._tabHandler.bind(this)),this._buttonGroup.registerKeyHandler("upArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("escape",this._escHandler.bind(this)),this._bindInnerWidgetOptions(this._buttonGroup,"buttonGroupOptions"),this._setAriaExpanded(this.option("opened"))},_updateArrowClass(){var e=this.option("splitButton")||this.option("showArrowIcon");this.$element().toggleClass(Eae,e)},toggle(e){return this._popup||(this._renderPopup(),this._renderContent()),this._popup.toggle(e)},open(){return this.toggle(!0)},close(){return this.toggle(!1)},_setListOption(e,t){this._list&&this._list.option(e,t)},_getDisplayValue(e){var t=!ft(e),i=t?e:this._displayGetter(e);return ft(i)?"":String(di(i,""))},_updateActionButton(e){this.option("useSelectMode")&&this.option({text:this._getDisplayValue(e),icon:ft(e)?e.icon:void 0}),this._setOptionWithoutOptionChange("selectedItem",e),this._setOptionWithoutOptionChange("selectedItemKey",this._keyGetter(e))},_clean(){this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove()},_selectedItemKeyChanged(e){this._setListOption("selectedItemKeys",this.option("useSelectMode")&&Z(e)?[e]:[]);var t=this.option("selectedItem");this._loadSelectedItem().done(i=>{this._updateActionButton(i),this._displayGetter(t)!==this._displayGetter(i)&&this._fireSelectionChangedAction({previousValue:t,value:i})})},_actionButtonOptionChanged(e){var{name:t,value:i}=e,r={};r[t]=i,this._buttonGroup.option("items[0]",re({},this._actionButtonConfig(),r)),this._popup&&this._popup.repaint()},_selectModeChanged(e){if(e){this._setListOption("selectionMode","single");var t=this.option("selectedItemKey");this._setListOption("selectedItemKeys",Z(t)?[t]:[]),this._selectedItemKeyChanged(this.option("selectedItemKey"))}else this._setListOption("selectionMode","none"),this.option({selectedItemKey:void 0,selectedItem:void 0}),this._actionButtonOptionChanged({text:this.option("text")})},_updateItemCollection(e){var t=this.option("selectedItemKey");this._setListOption("selectedItem",null),this._setWidgetOption("_list",[e]),Z(t)&&this._loadSelectedItem().done(i=>{this._setListOption("selectedItemKeys",[t]),this._setListOption("selectedItem",i)}).fail(i=>{this._setListOption("selectedItemKeys",[])}).always(this._updateActionButton.bind(this))},_updateDataSource:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._dataSource.items();this._dataSource=void 0,this._itemsToDataSource(e),this._updateKeyExpr()},_updateKeyExpr:function(){this._compileKeyGetter(),this._setListOption("keyExpr",this._getKey())},focus:function(){this._buttonGroup.focus()},_optionChanged(e){var t,{name:i,value:r}=e;switch(i){case"useSelectMode":this._selectModeChanged(r);break;case"splitButton":this._updateArrowClass(),this._renderButtonGroup();break;case"displayExpr":this._compileDisplayGetter(),this._setListOption(i,r),this._updateActionButton(this.option("selectedItem"));break;case"keyExpr":this._updateDataSource();break;case"buttonGroupOptions":this._innerWidgetOptionChanged(this._buttonGroup,e);break;case"dropDownOptions":if(e.fullName==="dropDownOptions.visible")break;e.value.visible!==void 0&&delete e.value.visible,this._popupOptionChanged(e),this._innerWidgetOptionChanged(this._popup,e);break;case"opened":this.toggle(r);break;case"focusStateEnabled":case"hoverStateEnabled":this._setListOption(i,r),this._buttonGroup.option(i,r),this.callBase(e);break;case"items":this._updateDataSource(this.option("items")),this._updateItemCollection(i);break;case"dataSource":Array.isArray(r)?this._updateDataSource(this.option("dataSource")):(this._initDataSource(),this._updateKeyExpr()),this._updateItemCollection(i);break;case"icon":case"text":this._actionButtonOptionChanged(e);break;case"showArrowIcon":this._updateArrowClass(),this._renderButtonGroup(),this._popup&&this._popup.repaint();break;case"width":case"height":this.callBase(e),(t=this._popup)===null||t===void 0||t.repaint();break;case"stylingMode":this._buttonGroup.option(i,r);break;case"itemTemplate":case"grouped":case"noDataText":case"groupTemplate":case"wrapItemText":case"useItemTextAsTitle":this._setListOption(i,r);break;case"dropDownContentTemplate":this._renderContent();break;case"selectedItemKey":this._selectedItemKeyChanged(r);break;case"selectedItem":break;case"onItemClick":this._createItemClickAction();break;case"onButtonClick":this._createActionClickAction();break;case"onSelectionChanged":this._createSelectionChangedAction();break;case"deferRendering":this.toggle(this.option("opened"));break;case"tabIndex":this._buttonGroup.option(i,r);break;default:this.callBase(e)}}}).include(rd);yt("dxDropDownButton",Dae);var Rae="dx-datagrid-export-menu",PE="dx-datagrid-export-button",kae="exportButton",FE="export",Mae="xlsxfile",Bae="exportselected",Pae="pdffile",Fae=wt.inherit({ctor:function(e,t,i){this._exportController=e,this._initialColumnWidthsByColumnIndex=t,this._selectedRowsOnly=i},_getGroupValue:function(e){var{key:t,data:i,rowType:r,groupIndex:n,summaryCells:a}=e,s=this._options.groupColumns[n],o=Le.getDisplayValue(s,s.deserializeValue?s.deserializeValue(t[n]):t[n],i,r),l=s.caption+": "+Le.formatValue(o,s);return a&&a[0]&&a[0].length&&(l+=" "+Le.getGroupRowSummaryText(a[0],this._options.summaryTexts)),l},_correctCellIndex:function(e){return e},_initOptions:function(){var e=this._exportController,t=e._columnsController.getGroupColumns(),i=e.option("export.excelWrapTextEnabled");this._options={columns:e._getColumns(this._initialColumnWidthsByColumnIndex),groupColumns:t,items:this._selectedRowsOnly||e._selectionOnly?e._getSelectedItems():e._getAllItems(),getVisibleIndex:e._columnsController.getVisibleIndex.bind(e._columnsController),isHeadersVisible:e.option("showColumnHeaders"),summaryTexts:e.option("summary.texts"),customizeExportData:e.option("customizeExportData"),rtlEnabled:e.option("rtlEnabled"),wrapTextEnabled:Z(i)?i:!!e.option("wordWrapEnabled"),customizeExcelCell:e.option("export.customizeExcelCell")}},hasCustomizeExcelCell:function(){return Z(this._options.customizeExcelCell)},customizeExcelCell:function(e,t){this._options.customizeExcelCell&&(e.gridCell=t,Z(this._exportController)&&Z(this._exportController.component)&&(e.component=this._exportController.component),this._options.customizeExcelCell(e))},getHeaderStyles:()=>[{bold:!0,alignment:"center",wrapText:!0},{bold:!0,alignment:"left",wrapText:!0},{bold:!0,alignment:"right",wrapText:!0}],getGroupRowStyle(){return{bold:!0,wrapText:!1,alignment:Za(this._options.rtlEnabled)}},getColumnStyles(){var e=this._options.wrapTextEnabled,t=[];return this.getColumns().forEach(i=>{t.push({alignment:i.alignment||"left",format:i.format,wrapText:e,dataType:i.dataType})}),t},getStyles:function(){return[...this.getHeaderStyles(),...this.getColumnStyles(),this.getGroupRowStyle()]},_getTotalCellStyleId:function(e){var t,i=((t=this.getColumns()[e])===null||t===void 0?void 0:t.alignment)||"right";return this.getHeaderStyles().map(r=>r.alignment).indexOf(i)},getStyleId:function(e,t){return e<this.getHeaderRowCount()?0:this.isTotalCell(e-this.getHeaderRowCount(),t)?this._getTotalCellStyleId(t):this.isGroupRow(e-this.getHeaderRowCount())?this.getHeaderStyles().length+this.getColumns().length:t+this.getHeaderStyles().length},getColumns:function(e){var{columns:t}=this._options;return e?t:t[t.length-1]},getColumnsWidths:function(){var e=this.getColumns();return Z(e)?e.map(t=>t.width):void 0},getRowsCount:function(){return this._options.items.length+this.getHeaderRowCount()},getHeaderRowCount:function(){return this.isHeadersVisible()?this._options.columns.length-1:0},isGroupRow:function(e){return e<this._options.items.length&&this._options.items[e].rowType==="group"},getGroupLevel:function(e){var t=this._options.items[e-this.getHeaderRowCount()],i=t&&t.groupIndex;return t&&t.rowType==="totalFooter"?0:Z(i)?i:this._options.groupColumns.length},getCellType:function(e,t){var i=this.getColumns();if(e<this.getHeaderRowCount())return"string";if(e-=this.getHeaderRowCount(),t<i.length){var r=this._options.items.length&&this._options.items[e],n=i[t];return r&&r.rowType==="data"&&isFinite(r.values[this._correctCellIndex(t)])&&!Z(n.customizeText)?Z(n.lookup)?n.lookup.dataType:n.dataType:"string"}},ready:function(){var e=this;e._initOptions();var t=e._options;return Pe(t.items).done(function(i){t.customizeExportData&&t.customizeExportData(e.getColumns(e.getHeaderRowCount()>1),i),t.items=i}).fail(function(){t.items=[]})},_convertFromGridGroupSummaryItems:function(e){if(Z(e)&&e.length>0)return e.map(function(t){return{value:t.value,name:t.name}})},getCellData:function(e,t,i){var r,n,a={cellSourceData:{},value:r},s=this.getColumns(),o=this._correctCellIndex(t);if(e<this.getHeaderRowCount()){var l=this.getColumns(!0)[e];n=l[t],a.cellSourceData.rowType="header",a.cellSourceData.column=n&&n.gridColumn,a.value=n&&n.caption}else{e-=this.getHeaderRowCount();var u=this._options.items.length&&this._options.items[e];if(u){var d=u.values;switch(a.cellSourceData.rowType=u.rowType,a.cellSourceData.column=s[t]&&s[t].gridColumn,u.rowType){case"groupFooter":case"totalFooter":o<d.length&&(r=d[o],Z(r)?(a.cellSourceData.value=r.value,a.cellSourceData.totalSummaryItemName=r.name,a.value=Le.getSummaryText(r,this._options.summaryTexts)):a.cellSourceData.value=void 0);break;case"group":if(a.cellSourceData.groupIndex=u.groupIndex,t<1)a.cellSourceData.column=this._options.groupColumns[u.groupIndex],a.cellSourceData.value=u.key[u.groupIndex],a.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(u.summaryCells[0]),a.value=this._getGroupValue(u);else{var c=u.values[o];if(Array.isArray(c)){a.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(c),r="";for(var h=0;h<c.length;h++)r+=(h>0?i?`
`:` 
 `:"")+Le.getSummaryText(c[h],this._options.summaryTexts);a.value=r}else a.cellSourceData.value=void 0}break;default:if(n=s[t],n){var f=d[o],p=Le.getDisplayValue(n,f,u.data,u.rowType);!isFinite(p)||Z(n.customizeText)?i&&Z(n.customizeText)&&n.customizeText===this._exportController._columnsController.getCustomizeTextByDataType("boolean")?a.value=p:a.value=Le.formatValue(p,n):a.value=p,a.cellSourceData.value=f}a.cellSourceData.data=u.data}}}return a},isHeadersVisible:function(){return this._options.isHeadersVisible},isTotalCell:function(e,t){var i=this._options.items,r=i[e],n=this._correctCellIndex(t),a=r.summaryCells&&r.summaryCells[n]&&r.summaryCells[n].length>0&&r.summaryCells[n][0].alignByColumn;return r&&r.rowType==="groupFooter"||r.rowType==="totalFooter"||a},getCellMerging:function(e,t){var i=this._options.columns,r=i[e]&&i[e][t];return r?{colspan:(r.exportColspan||1)-1,rowspan:(r.rowspan||1)-1}:{colspan:0,rowspan:0}},getFrozenArea:function(){return{x:0,y:this.getHeaderRowCount()}}}),Lae=Le.ViewController.inherit({}).inherit({_getEmptyCell:function(){return{caption:"",colspan:1,rowspan:1}},_updateColumnWidth:function(e,t){e.width=t},_getColumns:function(e){var t=[],i,r,n=this._columnsController,a=n.getRowCount();for(i=0;i<=a;i++){var s=[];r=n.getVisibleColumns(i,!0);var o=void 0;if(i===a)if(this._updateLockCount)o=e;else{var l=this._getColumnWidths(this._headersView,this._rowsView);if(l&&l.length){o={};for(var u=0;u<r.length;u++)o[r[u].index]=l[u]}}for(var d=0;d<r.length;d++){var c=re({},r[d],{dataType:r[d].dataType==="datetime"?"date":r[d].dataType,gridColumn:r[d]});if(this._needColumnExporting(c)){var h=this._calculateExportColspan(c);Z(h)&&(c.exportColspan=h),o&&this._updateColumnWidth(c,o[c.index]),s.push(c)}}t.push(s)}return r=t[a],t=jne(t.slice(0,-1),this._getEmptyCell()),t.push(r),t},_calculateExportColspan:function(e){if(e.isBand){var t=this._columnsController.getChildrenByBandColumn(e.index,!0);if(Z(t))return t.reduce((i,r)=>this._needColumnExporting(r)?i+(this._calculateExportColspan(r)||1):i,0)}},_needColumnExporting:function(e){return!e.command&&(e.allowExporting||e.allowExporting===void 0)},_getFooterSummaryItems:function(e,t){var i=[],r=1,n=0;do{for(var a=[],s=0;s<e.length;s++){var o=e[s],l=o.length;r<l&&(r=l),a.push(o[n])}i.push({values:a,rowType:t?"totalFooter":"groupFooter"})}while(n++<r-1);return i},_hasSummaryGroupFooters:function(){var e=this.option("summary.groupItems");if(Z(e)){for(var t=0;t<e.length;t++)if(e[t].showInGroupFooter)return!0}return!1},_getItemsWithSummaryGroupFooters:function(e){for(var t=[],i=[],r=[],n=0;n<e.length;n++){var a=e[n];a.rowType==="groupFooter"?(r=this._getFooterSummaryItems(a.summaryCells),t=t.concat(i,r),i=[]):i.push(a)}return t.length?t:i},_updateGroupValuesWithSummaryByColumn:function(e){for(var t=[],i=0;i<e.length;i++){var r=e[i],n=r.summaryCells;if(r.rowType==="group"&&n&&n.length>1){for(var a=r.values.length,s=1;s<n.length;s++)for(var o=0;o<n[s].length;o++){var l=n[s][o];l&&l.alignByColumn&&(Array.isArray(t[s-a])||(t[s-a]=[]),t[s-a].push(l))}t.length>0&&(r.values.push(...t),t=[])}}},_processUnExportedItems:function(e){for(var t=this._columnsController.getVisibleColumns(null,!0),i=this._columnsController.getGroupColumns(),r,n,a=0;a<e.length;a++){var s=e[a],o=!1;r=[],n=[];for(var l=0;l<t.length;l++){var u=t[l];if(o=o||u.type==="detailExpand",this._needColumnExporting(u)&&(s.values&&(s.rowType==="group"&&!r.length?r.push(s.key[s.groupIndex]):r.push(s.values[l])),s.summaryCells))if(s.rowType==="group"&&!n.length){var d=l-i.length+s.groupIndex;n.push(s.summaryCells[o?d:d+1])}else n.push(s.summaryCells[l])}r.length&&(s.values=r),n.length&&(s.summaryCells=n)}},_getAllItems:function(e){var t=this,i=new pe,r=this.getController("data"),n=r.footerItems(),a=n.length&&n[0],s=t.option("summary.totalItems"),o;return Pe(e).done(function(l){r.loadAll(l).done(function(u,d){t._updateGroupValuesWithSummaryByColumn(u),t._hasSummaryGroupFooters()&&(u=t._getItemsWithSummaryGroupFooters(u)),o=a&&a.summaryCells,Z(d)&&s&&(o=t._getSummaryCells(s,d));var c=a&&t._getFooterSummaryItems(o,!0);c&&(u=u.concat(c)),t._processUnExportedItems(u),i.resolve(u)}).fail(i.reject)}).fail(i.reject),i},_getSummaryCells:function(e,t){var i=this.getController("data"),r=i._columnsController;return i._calculateSummaryCells(e,t,r.getVisibleColumns(null,!0),function(n,a){return i._isDataColumn(a)?a.index:-1})},_getSelectedItems:function(){var e=this.getController("selection"),t=e.getSelectedRowsData();return this._getAllItems(t)},_getColumnWidths:function(e,t){return e&&e.isVisible()?e.getColumnWidths():t.getColumnWidths()},init:function(){this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView"),this._headersView=this.getView("columnHeadersView"),this.createAction("onExporting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onExported",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFileSaving",{excludeValidators:["disabled","readOnly"]})},callbackNames:function(){return["selectionOnlyChanged"]},getDataProvider:function(e){var t=this._getColumnWidths(this._headersView,this._rowsView),i;if(t&&t.length){i={};for(var r=this._columnsController.getVisibleColumns(this._columnsController.getRowCount(),!0),n=0;n<r.length;n++)i[r[n].index]=t[n]}return new Fae(this,i,e)},exportToExcel:function(e){this._selectionOnly=e,vae(this.component.getDataProvider(),{fileName:this.option("export.fileName"),proxyUrl:this.option("export.proxyUrl"),format:"xlsx",selectedRowsOnly:!!e,autoFilterEnabled:!!this.option("export.excelFilterEnabled"),rtlEnabled:this.option("rtlEnabled"),ignoreErrors:this.option("export.ignoreExcelErrors"),exportingAction:this.getAction("onExporting"),exportedAction:this.getAction("onExported"),fileSavingAction:this.getAction("onFileSaving")},_ae.getData)},exportTo:function(e,t){this._selectionOnly=e;var i=this.getAction("onExporting"),r={selectedRowsOnly:!!e,format:t,fileName:this.option("export.fileName"),cancel:!1};Re(i)&&i(r)},publicMethods:function(){return["getDataProvider","exportToExcel"]},selectionOnly:function(e){if(Z(e))this._isSelectedRows=e,this.selectionOnlyChanged.fire();else return this._isSelectedRows}});Le.registerModule("export",{defaultOptions:function(){return{export:{enabled:!1,fileName:"DataGrid",excelFilterEnabled:!1,formats:["xlsx"],excelWrapTextEnabled:void 0,proxyUrl:void 0,allowExportSelectedData:!1,ignoreExcelErrors:!0,texts:{exportTo:_e.format("dxDataGrid-exportTo"),exportAll:_e.format("dxDataGrid-exportAll"),exportSelectedRows:_e.format("dxDataGrid-exportSelectedRows")}}}},controllers:{export:Lae},extenders:{controllers:{editing:{callbackNames:function(){var e=this.callBase();return Z(e)?e.push("editingChanged"):["editingChanged"]},_updateEditButtons:function(){this.callBase(),this.editingChanged.fire(this.hasChanges())}}},views:{headerPanel:{_getToolbarItems:function(){var e=this.callBase(),t=this._getExportToolbarButton();return t&&(e.push(t),this._correctItemsPosition(e)),e},_getExportToolbarButton:function(){var e=this._getExportToolbarItems();if(e.length===0)return null;var t={name:kae,location:"after",locateInMenu:"auto",sortIndex:30,options:{items:e}};if(e.length===1){var i=Ie({},e[0],{hint:e[0].text,elementAttr:{class:PE}});t.widget="dxButton",t.showText="inMenu",t.options=i}else{var r={icon:FE,displayExpr:"text",items:e,hint:this.option("export.texts.exportTo"),elementAttr:{class:PE},dropDownOptions:{wrapperAttr:{class:Rae},width:"auto"}};t.options=r,t.widget="dxDropDownButton",t.menuItemTemplate=(n,a,s)=>{this._createComponent(W(s),eo,{items:e})}}return t},_getExportToolbarItems:function(){var e,t=this.option("export"),i=this.option("export.texts"),r=(e=this.option("export.formats"))!==null&&e!==void 0?e:[];if(!t.enabled)return[];var n=[];return r.forEach(a=>{var s="exportTo",o=a.toUpperCase(),l=FE,u=Bae;a==="xlsx"&&(s="exportToExcel",o="Excel",l=Mae),a==="pdf"&&(l=Pae),n.push({text:sn(i.exportAll,o),icon:l,onClick:()=>{this._exportController[s](!1,a)}}),t.allowExportSelectedData&&n.push({text:sn(i.exportSelectedRows,o),icon:u,onClick:()=>{this._exportController[s](!0,a)}})}),n},_correctItemsPosition:function(e){e.sort(function(t,i){return t.sortIndex-i.sortIndex})},_isExportButtonVisible:function(){return this.option("export.enabled")},optionChanged:function(e){this.callBase(e),e.name==="export"&&(e.handled=!0,this._invalidate())},init:function(){var e=this;this.callBase(),this._exportController=this.getController("export"),this._editingController=this.getController("editing"),this._editingController.editingChanged.add(function(t){e.setToolbarItemDisabled("exportButton",t)})},isVisible:function(){return this.callBase()||this._isExportButtonVisible()}}}}});var Fu="dx-row-focused",Nae=".dx-row."+Fu,Vae="table",LE="dx-cell-focus-disabled",$ae=ei.ViewController.inherit({init:function(){this._dataController=this.getController("data"),this._keyboardController=this.getController("keyboardNavigation"),this.component._optionsByReference.focusedRowKey=!0},optionChanged:function(e){if(e.name==="focusedRowIndex"){var t=this.option("focusedRowKey");this._focusRowByIndex(e.value),this._triggerFocusedRowChangedIfNeed(t,e.value),e.handled=!0}else if(e.name==="focusedRowKey"){if(e.handled=!0,Array.isArray(e.value)&&JSON.stringify(e.value)===JSON.stringify(e.previousValue))return;var i=this.option("focusedRowIndex");this._focusRowByKey(e.value),this._triggerFocusedRowChangedIfNeed(e.value,i)}else e.name==="focusedColumnIndex"||e.name==="focusedRowEnabled"||e.name==="autoNavigateToFocusedRow"?e.handled=!0:this.callBase(e)},_triggerFocusedRowChangedIfNeed:function(e,t){var i=this.getFocusedRowIndexByKey(e);if(t===i){var r=this._dataController.getRowIndexByKey(e);if(r>=0){var n=W(this.getView("rowsView").getRowElement(r));this.getController("keyboardNavigation")._fireFocusedRowChanged(n,t)}}},isAutoNavigateToFocusedRow:function(){return this.option("scrolling.mode")!=="infinite"&&this.option("autoNavigateToFocusedRow")},_focusRowByIndex:function(e,t){this.option("focusedRowEnabled")&&(e=e!==void 0?e:this.option("focusedRowIndex"),e<0?this.isAutoNavigateToFocusedRow()&&this._resetFocusedRow():this._focusRowByIndexCore(e,t))},_focusRowByIndexCore:function(e,t){var i=this.getController("data"),r=i.pageSize(),n=()=>{if(this._isValidFocusedRowIndex(e)){var s=e-i.getRowIndexOffset(!0);if(!t||t.paging&&!t.filtering){var o=i._getLastItemIndex();s=Math.min(s,o)}var l=i.getKeyByRowIndex(s,!0);Z(l)&&!this.isRowFocused(l)&&this.option("focusedRowKey",l)}};if(r>=0)if(this._isLocalRowIndex(e))n();else{var a=Math.floor(e/i.pageSize());Pe(i.pageIndex(a),i.waitReady()).done(()=>{n()})}},_isLocalRowIndex(e){var t=this.getController("data"),i=this.getController("keyboardNavigation")._isVirtualScrolling();if(i){var r=Math.floor(e/t.pageSize()),n=t.virtualItemsCount(),a=n?n.begin:-1,s=t.getVisibleRows().length+t.getRowIndexOffset(),o=Math.ceil(s/t.pageSize());return a<=e&&o>r}return!0},_setFocusedRowKeyByIndex:function(e){var t=this.getController("data");if(this._isValidFocusedRowIndex(e)){var i=Math.min(e-t.getRowIndexOffset(),t.items().length-1),r=t.getKeyByRowIndex(i);Z(r)&&!this.isRowFocused(r)&&this.option("focusedRowKey",r)}},_focusRowByKey:function(e){Z(e)?this._navigateToRow(e,!0):this._resetFocusedRow()},_resetFocusedRow:function(){var e=this.option("focusedRowKey"),t=Z(e);if(!(!t&&this.option("focusedRowIndex")<0)){var i=this.getController("keyboardNavigation");t&&this.option("focusedRowKey",null),i.setFocusedRowIndex(-1),this.option("focusedRowIndex",-1),this.getController("data").updateItems({changeType:"updateFocusedRow",focusedRowKey:null}),i._fireFocusedRowChanged(void 0,-1)}},_isValidFocusedRowIndex:function(e){var t=this.getController("data"),i=t.getVisibleRows()[e];return!i||i.rowType==="data"||i.rowType==="group"},publicMethods:function(){return["navigateToRow","isRowFocused"]},navigateToRow:function(e){return this.isAutoNavigateToFocusedRow()||this.option("focusedRowIndex",-1),this._navigateToRow(e)},_navigateToRow:function(e,t){var i=this,r=i.getController("data"),n=i.isAutoNavigateToFocusedRow(),a=new pe;if(e===void 0||!r.dataSource())return a.reject().promise();var s=i.getFocusedRowIndexByKey(e);return!n&&t||s>=0?i._navigateTo(e,a,t):r.getPageIndexByKey(e).done(function(o){if(o<0){a.resolve(-1);return}o===r.pageIndex()?r.reload().done(function(){i.isRowFocused(e)&&r.getRowIndexByKey(e)>=0?a.resolve(i.getFocusedRowIndexByKey(e)):i._navigateTo(e,a,t)}).fail(a.reject):r.pageIndex(o).done(function(){i._navigateTo(e,a,t)}).fail(a.reject)}).fail(a.reject),a.promise()},_navigateTo:function(e,t,i){var r=this.getController("data").getRowIndexByKey(e),n=Ee.isVirtualRowRendering(this),a=this.isAutoNavigateToFocusedRow();a&&n&&r<0?this._navigateToVirtualRow(e,t,i):this._navigateToVisibleRow(e,t,i)},_navigateToVisibleRow:function(e,t,i){if(i)this._triggerUpdateFocusedRow(e,t);else{var r=this.getFocusedRowIndexByKey(e);this.getView("rowsView").scrollToRowElement(e,t).done(function(){t.resolve(r)})}},_navigateToVirtualRow:function(e,t,i){var r=this,n=this.getController("data"),a=n._rowsScrollController,s=Ee.getIndexByKey(e,n.items(!0)),o=r.getView("rowsView").getScrollable();if(a&&o&&s>=0){var l=s+n.getRowIndexOffset(!0),u=a.getItemOffset(l);r.component.on("contentReady",function d(){r.component.off("contentReady",d),i?r._triggerUpdateFocusedRow(e,t):t.resolve(l)}),this.getView("rowsView").scrollTopPosition(u)}else t.resolve(-1)},_triggerUpdateFocusedRow:function(e,t){var i=this.getController("data"),r=this.getFocusedRowIndexByKey(e);if(this._isValidFocusedRowIndex(r)){var n;this.option("focusedRowEnabled")?i.updateItems({changeType:"updateFocusedRow",focusedRowKey:e}):n=this.getView("rowsView").scrollToRowElement(e),Pe(n).done(()=>{this.getController("keyboardNavigation").setFocusedRowIndex(r),t&&t.resolve(r)})}else t&&t.resolve(-1)},getFocusedRowIndexByKey:function(e){var t=this.getController("data"),i=t.getRowIndexByKey(e,!0);return i>=0?i+t.getRowIndexOffset(!0):-1},_focusRowByKeyOrIndex:function(){var e=this.option("focusedRowKey"),t=this.option("focusedRowIndex"),i=this.getController("keyboardNavigation"),r=this.getController("data");if(Z(e)){var n=r.getRowIndexByKey(e);n>=0?(i._isVirtualScrolling()&&(t=n+r.getRowIndexOffset()),i.setFocusedRowIndex(t),this._triggerUpdateFocusedRow(e)):this._navigateToRow(e,!0).done(a=>{t>=0&&a<0?this._focusRowByIndex():t<0&&a>=0&&i.setFocusedRowIndex(a)})}else t>=0&&this.getController("focus")._focusRowByIndex(t)},isRowFocused:function(e){var t=this.option("focusedRowKey");if(Z(t))return ni(e,this.option("focusedRowKey"))},updateFocusedRow:function(e){var t=this,i=t._dataController.getRowIndexByKey(e.focusedRowKey),r=t.getView("rowsView"),n,a;le(r.getTableElements(),function(s,o){var l=s===0;n=W(o),t._clearPreviousFocusedRow(n,i);var u=t._prepareFocusedRow({changedItem:t._dataController.getVisibleRows()[i],$tableElement:n,focusedRowIndex:i});l&&(a=u)}),a&&r.scrollToElementVertically(a)},_clearPreviousFocusedRow:function(e,t){var i=e.find(Nae).filter((n,a)=>{var s=W(a).closest(".".concat(this.addWidgetPrefix(Vae)));return e.is(s)});if(i.removeClass(Fu).removeClass(LE).removeAttr("tabindex"),i.children("td").removeAttr("tabindex"),t!==0){var r=W(this.getView("rowsView").getRowElement(0));r.removeClass(LE).removeAttr("tabIndex")}},_prepareFocusedRow:function(e){var t,i=e.changedItem;if(i&&(i.rowType==="data"||i.rowType==="group")){var r=e.focusedRowIndex,n=e.$tableElement,a=this.option("tabindex")||0,s=this.getView("rowsView");t=W(s._getRowElements(n).eq(r)),t.addClass(Fu).attr("tabindex",a)}return t}}),Hae={defaultOptions:function(){return{focusedRowEnabled:!1,autoNavigateToFocusedRow:!0,focusedRowKey:null,focusedRowIndex:-1,focusedColumnIndex:-1}},controllers:{focus:$ae},extenders:{controllers:{keyboardNavigation:{init:function(){var e=this.option("focusedRowIndex"),t=this.option("focusedColumnIndex");this.createAction("onFocusedRowChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedRowChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanged",{excludeValidators:["disabled","readOnly"]}),this.callBase(),this.setRowFocusType(),this._focusedCellPosition={},Z(e)&&(this._focusedCellPosition.rowIndex=this.option("focusedRowIndex")),Z(t)&&(this._focusedCellPosition.columnIndex=this.option("focusedColumnIndex"))},setFocusedRowIndex:function(e){var t=this.getController("data");this.callBase(e);var i=e-t.getRowIndexOffset(),r=t.getVisibleRows()[i];(!r||!r.isNewRow)&&this.option("focusedRowIndex",e)},setFocusedColumnIndex:function(e){this.callBase(e),this.option("focusedColumnIndex",e)},_escapeKeyHandler:function(e,t){if(t||!this.option("focusedRowEnabled")){this.callBase(e,t);return}this.isCellFocusType()&&(this.setRowFocusType(),this._focus(this._getCellElementFromTarget(e.originalEvent.target),!0))},_updateFocusedCellPosition:function(e,t){var i=this.option("focusedRowIndex"),r=this.option("focusedColumnIndex"),n=this.callBase(e,t);n&&n.columnIndex>=0&&this._fireFocusedCellChanged(e,r,i)}},editorFactory:{renderFocusOverlay:function(e,t){var i=this.getController("keyboardNavigation"),r=this.option("focusedRowEnabled"),n=this.getController("editing"),a;if(!r||!(i!=null&&i.isRowFocusType())||n.isEditing())this.callBase(e,t);else if(r){var s=i._getElementType(e)==="row";s&&!e.hasClass(Fu)&&(a=i.getFirstValidCellInRow(e),i.focus(a))}}},columns:{getSortDataSourceParameters:function(e,t){var i=this.callBase.apply(this,arguments),r=this.getController("data"),n=r._dataSource,a=r.store(),s=a&&a.key(),o=n&&n.remoteOperations()||{},l=Object.keys(o).every(d=>!o[d]);if(s&&(this.option("focusedRowEnabled")&&this.getController("focus").isAutoNavigateToFocusedRow()!==!1||t)){s=Array.isArray(s)?s:[s];var u=s.filter(d=>!this.columnOption(d,"sortOrder"));u.length&&(i=i||[],l?i.push({selector:n.getDataIndexGetter(),desc:!1}):u.forEach(d=>i.push({selector:d,desc:!1})))}return i}},data:{_applyChange:function(e){if(!(e&&e.changeType==="updateFocusedRow"))return this.callBase.apply(this,arguments)},_fireChanged:function(e){if(this.callBase(e),this.option("focusedRowEnabled")&&this._dataSource){var t=e.changeType==="update"&&e.repaintChangesOnly,i=t&&e.changeTypes&&e.changeTypes.indexOf("remove")>=0;e.changeType==="refresh"&&e.items.length||i?(this._updatePageIndexes(),this.processUpdateFocusedRow(e)):e.changeType==="append"||e.changeType==="prepend"?this._updatePageIndexes():e.changeType==="update"&&e.repaintChangesOnly&&this.processUpdateFocusedRow(e)}},_updatePageIndexes:function(){var e=this._lastRenderingPageIndex||0,t=this._rowsScrollController?this._rowsScrollController.pageIndex():0;this._lastRenderingPageIndex=t,this._isPagingByRendering=t!==e},isPagingByRendering:function(){return this._isPagingByRendering},processUpdateFocusedRow:function(e){var t=e.operationTypes||{},i=this.getController("focus"),{reload:r,fullReload:n}=t,a=this.getController("keyboardNavigation"),s=a._isVirtualScrolling(),o=this.option("focusedRowKey"),l=i.isAutoNavigateToFocusedRow();if(r&&!n&&Z(o))i._navigateToRow(o,!0).done(function(f){f<0&&i._focusRowByIndex(void 0,t)});else if(t.paging&&!s)if(l){var u=this.getRowIndexByKey(o),d=u>=0,c=this.option("focusedRowIndex"),h=c>=0&&(c===u||!d);h&&i._focusRowByIndex(void 0,t)}else this.getRowIndexByKey(o)<0&&this.option("focusedRowIndex",-1);else t.fullReload&&i._focusRowByKeyOrIndex()},getPageIndexByKey:function(e){var t=this,i=new pe;return t.getGlobalRowIndexByKey(e).done(function(r){i.resolve(r>=0?Math.floor(r/t.pageSize()):-1)}).fail(i.reject),i.promise()},getGlobalRowIndexByKey:function(e){return this._dataSource.group()?this._calculateGlobalRowIndexByGroupedData(e):this._calculateGlobalRowIndexByFlatData(e)},_calculateGlobalRowIndexByFlatData:function(e,t,i){var r=this,n=new pe,a=r._dataSource;if(Array.isArray(e))return n.resolve(-1).promise();var s=r._generateFilterByKey(e);return a.load({filter:r._concatWithCombinedFilter(s),skip:0,take:1}).done(function(o){o.length>0?(s=r._generateOperationFilterByKey(e,o[0],i),a.load({filter:r._concatWithCombinedFilter(s,t),skip:0,take:1,requireTotalCount:!0}).done(function(l,u){n.resolve(u.totalCount)})):n.resolve(-1)}),n.promise()},_concatWithCombinedFilter:function(e,t){var i=this.getCombinedFilter();return Ee.combineFilters([e,i,t])},_generateBooleanFilter:function(e,t,i){var r;return t===!1?r=[e,"=",i.desc?!0:null]:(t===!0?!i.desc:i.desc)&&(r=[e,"<>",t]),r},_generateOperationFilterByKey:function(e,t,i){var r=this,n=r._dataSource,a=r._generateFilterByKey(e,"<"),s=r._columnsController.getSortDataSourceParameters(!n.remoteOperations().filtering,!0);if(i){var o=r._columnsController.getGroupDataSourceParameters(!n.remoteOperations().filtering);o&&(s=s?o.concat(s):o)}return s&&s.slice().reverse().forEach(function(l){var u=l.selector,d;typeof u=="function"?d=u:d=r._columnsController.columnOption(u,"selector");var c=d?d(t):t[u];if(a=[[u,"=",c],"and",a],c===null||Ko(c)){var h=r._generateBooleanFilter(u,c,l);h&&(a=[h,"or",a])}else{var f=l.desc?">":"<",p;l.compare?p=g=>f==="<"?l.compare(c,d(g))>=1:l.compare(c,d(g))<=-1:(p=[u,f,c],l.desc||(p=[p,"or",[u,"=",null]])),a=[p,"or",a]}}),a},_generateFilterByKey:function(e,t){var i=this._dataSource.key(),r=[];if(t||(t="="),Array.isArray(i))for(var n=0;n<i.length;++n){var a=e[i[n]];a&&(r.length>0&&r.push("and"),r.push([i[n],t,a]))}else r=[i,t,e];return r},_getLastItemIndex:function(){return this.items(!0).length-1}},editing:{_deleteRowCore:function(e){var t=this.callBase.apply(this,arguments),i=this.getController("data"),r=i.getKeyByRowIndex(e);t.done(()=>{var n=i.getRowIndexByKey(r),a=i.getVisibleRows();n===-1&&!a.length&&this.getController("focus")._resetFocusedRow()})}}},views:{rowsView:{_createRow:function(e){var t=this.callBase.apply(this,arguments);return this.option("focusedRowEnabled")&&e&&this.getController("focus").isRowFocused(e.key)&&t.addClass(Fu),t},_checkRowKeys:function(e){if(this.callBase.apply(this,arguments),this.option("focusedRowEnabled")&&this.option("dataSource")){var t=this._dataController.store();t&&!t.key()&&this._dataController.fireError("E1042","Row focusing")}},_update:function(e){e.changeType==="updateFocusedRow"?this.option("focusedRowEnabled")&&this.getController("focus").updateFocusedRow(e):this.callBase(e)},updateFocusElementTabIndex:function(e,t){var i=this.getController("keyboardNavigation").getVisibleRowIndex(),r=this._dataController.getVisibleRows()[i];this.option("focusedRowEnabled")&&!(r!=null&&r.isNewRow)?this._setFocusedRowElementTabIndex(t):this.callBase(e)},_setFocusedRowElementTabIndex:function(e){var t=this.option("focusedRowKey"),i=this.option("tabIndex")||0,r=this._dataController,n=this._columnsController,a=r.getRowIndexByKey(t),s=this.option("focusedColumnIndex"),o=this._findRowElementForTabIndex();if(Z(this._scrollToFocusOnResize)||(this._scrollToFocusOnResize=()=>{this.scrollToElementVertically(this._findRowElementForTabIndex()),this.resizeCompleted.remove(this._scrollToFocusOnResize)}),o.attr("tabIndex",i),a>=0&&!e&&(s<0&&(s=0),a+=r.getRowIndexOffset(),s+=n.getColumnIndexOffset(),this.getController("keyboardNavigation").setFocusedCellPosition(a,s),this.getController("focus").isAutoNavigateToFocusedRow())){var l=r.dataSource(),u=l&&l.operationTypes();u&&!u.paging&&!r.isPagingByRendering()&&(this.resizeCompleted.remove(this._scrollToFocusOnResize),this.resizeCompleted.add(this._scrollToFocusOnResize))}},_findRowElementForTabIndex:function(){var e=this.option("focusedRowKey"),t=this._dataController.getRowIndexByKey(e);return W(this.getRowElement(t>=0?t:0))},scrollToRowElement:function(e){var t=this.getController("data").getRowIndexByKey(e),i=W(this.getRow(t));return this.scrollToElementVertically(i)},scrollToElementVertically:function(e){var t=this.getScrollable();if(t&&e.length){var i=t.getScrollElementPosition(e,"vertical");return this.scrollTopPosition(i)}return new pe().resolve()},scrollTopPosition:function(e){var t=new pe,i=this.getScrollable();if(i){var r=i.scrollTop(),n=()=>{i.off("scroll",n),t.resolve()};if(e!==r)return i.on("scroll",n),this._dataController.resetFilterApplying(),i.scrollTo({top:e}),t.promise()}return t.resolve()}}}}},zae=Number.MAX_SAFE_INTEGER||9007199254740991;Le.registerModule("focus",re(!0,{},Hae,{extenders:{controllers:{data:{changeRowExpand:function(e,t){if(this.option("focusedRowEnabled")&&Array.isArray(e)&&this.isRowExpanded(e)){var i=this.getController("keyboardNavigation");(!t||!i.isKeyboardEnabled())&&this._isFocusedRowInsideGroup(e)&&this.option("focusedRowKey",e)}return this.callBase.apply(this,arguments)},_isFocusedRowInsideGroup:function(e){var t=this.getController("columns"),i=this.option("focusedRowKey"),r=this.getRowIndexByKey(i),n=r>=0&&this.getVisibleRows()[r],a=t.getGroupDataSourceParameters(!0);if(n)for(var s=0;s<e.length;++s){var o=jt(a[s]&&a[s].selector);if(o(n.data)!==e[s])return!1}return!0},_getGroupPath:function(e,t){for(var i=[],r=[e];r&&r[0]&&t;){var n=r[0];n.key!==void 0&&i.push(n.key),r=n.items,t--}return i},_expandGroupByPath:function(e,t,i){var r=new pe;return i++,e.expandRow(t.slice(0,i)).done(function(){i===t.length?r.resolve():e._expandGroupByPath(e,t,i).done(r.resolve).fail(r.reject)}).fail(r.reject),r.promise()},_calculateGlobalRowIndexByGroupedData:function(e){var t=this,i=t._dataSource,r=t._generateFilterByKey(e),n=new pe,a=Array.isArray(e),s=i.group();return a?n.resolve(-1).promise():i._grouping._updatePagingOptions?(i.load({filter:t._concatWithCombinedFilter(r),group:s}).done(function(o){if(!o||o.length===0||!Z(o[0].key)||o[0].key===-1)return n.resolve(-1).promise();var l=t._getGroupPath(o[0],s.length);t._expandGroupByPath(t,l,0).done(function(){t._calculateExpandedRowGlobalIndex(n,e,l,s)}).fail(n.reject)}).fail(n.reject),n.promise()):(t._calculateGlobalRowIndexByFlatData(e,null,!0).done(n.resolve).fail(n.reject),n)},_calculateExpandedRowGlobalIndex:function(e,t,i,r){var n=ys(i,{group:r}),a=this._dataSource,s=this.option("scrolling.mode"),o=s==="virtual"||s==="infinite",l=a.pageSize(),u;a._grouping._updatePagingOptions({skip:0,take:zae},function(d,c){ni(d.path,i)&&(u=c)}),this._calculateGlobalRowIndexByFlatData(t,n).done(function(d){var c,h;if(d<0){e.resolve(-1);return}var f=u%l||l;c=f+d-i.length,o?h=0:h=Math.floor(c/(l-i.length))*i.length,c=u+d+h,e.resolve(c)}).fail(e.reject)}}}}}));var NE=at(),sa="dxDraggable",Wae=xe(Bs,sa),jae=xe(Ha,sa),Uae=xe(Ps,sa),Gae=xe(of,sa),Kae=xe(lf,sa),qae=xe(Rt.down,sa),VE="clone",Tg,Ag,Xae="content",Yv=e=>({x:e.pageX-W(NE).scrollLeft(),y:e.pageY-W(NE).scrollTop()}),Yae="dx-gesture-cover",Zae="dx-overlay-wrapper",Jae="dx-overlay-content";class $E{constructor(t,i){this._preventScroll=!0,this._component=i,t==="vertical"?(this._scrollValue="scrollTop",this._overFlowAttr="overflowY",this._sizeAttr="height",this._scrollSizeProp="scrollHeight",this._clientSizeProp="clientHeight",this._limitProps={start:"top",end:"bottom"}):(this._scrollValue="scrollLeft",this._overFlowAttr="overflowX",this._sizeAttr="width",this._scrollSizeProp="scrollWidth",this._clientSizeProp="clientWidth",this._limitProps={start:"left",end:"right"})}updateScrollable(t,i){var r=!1;t.some(n=>{var a=W(n),s=a.hasClass(Zae),o=a.hasClass(Jae);return s||o?!0:(r=this._trySetScrollable(n,i),r)}),r||(this._$scrollableAtPointer=null,this._scrollSpeed=0)}isScrolling(){return!!this._scrollSpeed}isScrollable(t){return(t.css(this._overFlowAttr)==="auto"||t.hasClass("dx-scrollable-container"))&&t.prop(this._scrollSizeProp)>Math.ceil(this._sizeAttr==="width"?Ze(t):nt(t))}_trySetScrollable(t,i){var r=W(t),n,a=this._component.option("scrollSensitivity"),s=this.isScrollable(r);return s&&(n=this._calculateDistanceToBorders(r,i),a>n[this._limitProps.start]?this._preventScroll||(this._scrollSpeed=-this._calculateScrollSpeed(n[this._limitProps.start]),this._$scrollableAtPointer=r):a>n[this._limitProps.end]?this._preventScroll||(this._scrollSpeed=this._calculateScrollSpeed(n[this._limitProps.end]),this._$scrollableAtPointer=r):(s=!1,this._preventScroll=!1)),s}_calculateDistanceToBorders(t,i){var r=t.get(0),n;return r?(n=mi(r),{left:i.x-n.left,top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y}):{}}_calculateScrollSpeed(t){var i=this._component,r=i.option("scrollSensitivity"),n=i.option("scrollSpeed");return Math.ceil(Math.pow((r-t)/r,2)*n)}scrollByStep(){if(this._$scrollableAtPointer&&this._scrollSpeed){if(this._$scrollableAtPointer.hasClass("dx-scrollable-container")){var t=this._$scrollableAtPointer.closest(".dx-scrollable"),i=t.data("dxScrollable")||t.data("dxScrollView");if(i){var r=i.scrollOffset()[this._limitProps.start]+this._scrollSpeed;i.scrollTo({[this._limitProps.start]:r})}}else{var n=this._$scrollableAtPointer[this._scrollValue]()+this._scrollSpeed;this._$scrollableAtPointer[this._scrollValue](n)}var a=this._component._dragMoveArgs;a&&this._component._dragMoveHandler(a)}}reset(){this._$scrollableAtPointer=null,this._scrollSpeed=0,this._preventScroll=!0}isOutsideScrollable(t,i){if(!t)return!1;var r=mi(t.get(0)),n=r[this._limitProps.start],a=r[this._sizeAttr],s=Yv(i),o=this._sizeAttr==="width"?s.x:s.y;return o<n||o>n+a}}var Qae=U2.inherit({ctor:function(e){this.callBase(),this._strategy=e},_step:function(){var e=this._strategy._horizontalScrollHelper,t=this._strategy._verticalScrollHelper;e&&e.scrollByStep(),t&&t.scrollByStep()}}),rk=Dn.inherit({reset:me,dragMove:me,dragEnter:me,dragLeave:me,dragEnd:function(e){var t=this._getSourceDraggable();return t._fireRemoveEvent(e),new pe().resolve()},_fireRemoveEvent:me,_getDefaultOptions:function(){return re(this.callBase(),{onDragStart:null,onDragMove:null,onDragEnd:null,onDragEnter:null,onDragLeave:null,onDrop:null,immediate:!0,dragDirection:"both",boundary:void 0,boundOffset:0,allowMoveByClick:!1,itemData:null,container:void 0,dragTemplate:void 0,contentTemplate:"content",handle:"",filter:"",clone:!1,autoScroll:!0,scrollSpeed:30,scrollSensitivity:60,group:void 0,data:void 0})},_setOptionsByReference:function(){this.callBase.apply(this,arguments),re(this._optionsByReference,{component:!0,group:!0,itemData:!0,data:!0})},_init:function(){this.callBase(),this._attachEventHandlers(),this._scrollAnimator=new Qae(this),this._horizontalScrollHelper=new $E("horizontal",this),this._verticalScrollHelper=new $E("vertical",this)},_normalizeCursorOffset:function(e){return Ge(e)&&(e={h:e.x,v:e.y}),e=sl(e).map(t=>parseFloat(t)),{left:e[0],top:e.length===1?e[0]:e[1]}},_getNormalizedCursorOffset:function(e,t){return Re(e)&&(e=e.call(this,t)),this._normalizeCursorOffset(e)},_calculateElementOffset:function(e){var t,i,r=e.event,n=W(e.itemElement),a=W(e.dragElement),s=this._dragElementIsCloned(),o=this.option("cursorOffset"),l={left:0,top:0},u=this._initialLocate=Vr(a);return(s||e.initialOffset||o)&&(t=e.initialOffset||n.offset(),o&&(l=this._getNormalizedCursorOffset(o,e),isFinite(l.left)&&(t.left=r.pageX),isFinite(l.top)&&(t.top=r.pageY)),i=a.offset(),t.top-=i.top+(l.top||0)-u.top,t.left-=i.left+(l.left||0)-u.left),t},_initPosition:function(e){var t=W(e.dragElement),i=this._calculateElementOffset(e);i&&this._move(i,t),this._startPosition=Vr(t)},_startAnimator:function(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()},_stopAnimator:function(){this._scrollAnimator.stop()},_addWidgetPrefix:function(e){var t=this.NAME;return C_(t)+(e?"-"+e:"")},_getItemsSelector:function(){return this.option("filter")||""},_$content:function(){var e=this.$element(),t=e.children(".dx-template-wrapper");return t.length?t:e},_attachEventHandlers:function(){if(!this.option("disabled")){var e=this._$content(),t=this._getItemsSelector(),i=this.option("allowMoveByClick"),r={direction:this.option("dragDirection"),immediate:this.option("immediate"),checkDropTarget:(n,a)=>{var s=this.option("group"),o=this._getSourceDraggable().option("group"),l=this._getScrollable(n);return this._verticalScrollHelper.isOutsideScrollable(l,a)||this._horizontalScrollHelper.isOutsideScrollable(l,a)?!1:o&&o===s}};i&&(e=this._getArea(),te.on(e,qae,r,this._pointerDownHandler.bind(this))),t[0]===">"&&(t=t.slice(1)),te.on(e,Wae,t,r,this._dragStartHandler.bind(this)),te.on(e,jae,r,this._dragMoveHandler.bind(this)),te.on(e,Uae,r,this._dragEndHandler.bind(this)),te.on(e,Gae,r,this._dragEnterHandler.bind(this)),te.on(e,Kae,r,this._dragLeaveHandler.bind(this))}},_dragElementIsCloned:function(){return this._$dragElement&&this._$dragElement.hasClass(this._addWidgetPrefix(VE))},_getDragTemplateArgs:function(e,t){return{container:qe(t),model:{itemData:this.option("itemData"),itemElement:qe(e)}}},_createDragElement:function(e){var t=e,i=this.option("clone"),r=this._getContainer(),n=this.option("dragTemplate");return n?(n=this._getTemplate(n),t=W("<div>").appendTo(r),n.render(this._getDragTemplateArgs(e,t))):i&&(t=W("<div>").appendTo(r),e.clone().css({width:e.css("width"),height:e.css("height")}).appendTo(t)),t.toggleClass(this._addWidgetPrefix(VE),t.get(0)!==e.get(0)).toggleClass("dx-rtl",this.option("rtlEnabled"))},_resetDragElement:function(){this._dragElementIsCloned()?this._$dragElement.remove():this._toggleDraggingClass(!1),this._$dragElement=null},_resetSourceElement:function(){this._toggleDragSourceClass(!1),this._$sourceElement=null},_detachEventHandlers:function(){te.off(this._$content(),"."+sa),te.off(this._getArea(),"."+sa)},_move:function(e,t){Ai(t||this._$dragElement,e)},_getDraggableElement:function(e){var t=this._getSourceElement();if(t)return t;var i=this.option("allowMoveByClick");if(i)return this.$element();var r=W(e&&e.target),n=this._getItemsSelector();if(n[0]===">"){var a=this._$content().find(n);a.is(r)||(r=r.closest(a))}return r},_getSourceElement:function(){var e=this._getSourceDraggable();return e._$sourceElement},_pointerDownHandler:function(e){if(!fT(e)){var t={},i=this.$element(),r=this.option("dragDirection");(r==="horizontal"||r==="both")&&(t.left=e.pageX-i.offset().left+Vr(i).left-Ze(i)/2),(r==="vertical"||r==="both")&&(t.top=e.pageY-i.offset().top+Vr(i).top-nt(i)/2),this._move(t,i),this._getAction("onDragMove")(this._getEventArgs(e))}},_isValidElement:function(e,t){var i=this.option("handle"),r=W(e.originalEvent&&e.originalEvent.target);return i&&!r.closest(i).length||!t.length?!1:!t.is(".dx-state-disabled, .dx-state-disabled *")},_dragStartHandler:function(e){var t=this._getDraggableElement(e);if(!this._isValidElement(e,t)){e.cancel=!0;return}if(!this._$sourceElement){var i=this._getDragStartArgs(e,t);if(this._getAction("onDragStart")(i),i.cancel){e.cancel=!0;return}this.option("itemData",i.itemData),this._setSourceDraggable(),this._$sourceElement=t;var r=t.offset(),n=this._$dragElement=this._createDragElement(t);this._toggleDraggingClass(!0),this._toggleDragSourceClass(!0),this._setGestureCoverCursor(n.children());var a=n.css("position")==="fixed";this._initPosition(re({},i,{dragElement:n.get(0),initialOffset:a&&r})),this._getAction("onDraggableElementShown")(Ie({},i,{dragElement:n}));var s=this._getArea(),o=this._getAreaOffset(s),l=this._getBoundOffset(),u=At(s),d=Ct(s),c=Ze(n),h=nt(n),f=n.offset().left-o.left,p=n.offset().top-o.top;s.length&&(e.maxLeftOffset=f-l.left,e.maxRightOffset=u-f-c-l.right,e.maxTopOffset=p-l.top,e.maxBottomOffset=d-p-h-l.bottom),this.option("autoScroll")&&this._startAnimator()}},_getAreaOffset:function(e){var t=e&&zi.offset(e);return t||{left:0,top:0}},_toggleDraggingClass:function(e){this._$dragElement&&this._$dragElement.toggleClass(this._addWidgetPrefix("dragging"),e)},_toggleDragSourceClass:function(e,t){var i=t||this._$sourceElement;i&&i.toggleClass(this._addWidgetPrefix("source"),e)},_setGestureCoverCursor:function(e){W(".".concat(Yae)).css("cursor",e.css("cursor"))},_getBoundOffset:function(){var e=this.option("boundOffset");return Re(e)&&(e=e.call(this)),wB(e)},_getArea:function(){var e=this.option("boundary");return Re(e)&&(e=e.call(this)),W(e)},_getContainer:function(){var e=this.option("container");return e===void 0&&(e=Va()),W(e)},_dragMoveHandler:function(e,t){if(this._dragMoveArgs=e,!this._$dragElement){e.cancel=!0;return}var i=e.offset,r=this._startPosition;this._move({left:r.left+i.x,top:r.top+i.y}),t||this._updateScrollable(e);var n=this._getEventArgs(e);if(this._getAction("onDragMove")(n),n.cancel!==!0){var a=this._getTargetDraggable();a.dragMove(e,t)}},_updateScrollable:function(e){if(this.option("autoScroll")){var t=Yv(e),i=we.elementsFromPoint(t.x,t.y);this._verticalScrollHelper.updateScrollable(i,t),this._horizontalScrollHelper.updateScrollable(i,t)}},_getScrollable:function(e){var t;return e.parents().toArray().some(i=>{var r=W(i);if(this._horizontalScrollHelper.isScrollable(r)||this._verticalScrollHelper.isScrollable(r))return t=r,!0}),t},_defaultActionArgs:function(){var e=this.callBase.apply(this,arguments),t=this.option("component");return t&&(e.component=t,e.element=t.element()),e},_getEventArgs:function(e){var t=this._getSourceDraggable(),i=this._getTargetDraggable();return{event:e,itemData:t.option("itemData"),itemElement:qe(t._$sourceElement),fromComponent:t.option("component")||t,toComponent:i.option("component")||i,fromData:t.option("data"),toData:i.option("data")}},_getDragStartArgs:function(e,t){var i=this._getEventArgs(e);return{event:i.event,itemData:i.itemData,itemElement:t,fromData:i.fromData}},_revertItemToInitialPosition:function(){!this._dragElementIsCloned()&&this._move(this._initialLocate,this._$sourceElement)},_dragEndHandler:function(e){var t=new pe,i=this._getEventArgs(e),r=this._getEventArgs(e),n=this._getTargetDraggable(),a=!0;try{this._getAction("onDragEnd")(i)}finally{Pe(Hi(i.cancel)).done(s=>{if(!s&&(n!==this&&n._getAction("onDrop")(r),!r.cancel)){a=!1,Pe(Hi(n.dragEnd(i))).always(t.resolve);return}t.resolve()}).fail(t.resolve),t.done(()=>{a&&this._revertItemToInitialPosition(),this.reset(),n.reset(),this._stopAnimator(),this._horizontalScrollHelper.reset(),this._verticalScrollHelper.reset(),this._resetDragElement(),this._resetSourceElement(),this._resetTargetDraggable(),this._resetSourceDraggable()})}},_isTargetOverAnotherDraggable:function(e){var t=this._getSourceDraggable();if(this===t)return!1;var i=t._$dragElement,r=t.$element(),n=this.$element(),a=Yv(e),s=we.elementsFromPoint(a.x,a.y),o=s.filter(c=>{var h=W(c);if(h.hasClass(this._addWidgetPrefix()))return!h.closest(i).length})[0],l=this._getSourceElement(),u=o===r.get(0),d=W(o).closest(l).length;return!o||o===n.get(0)&&!u&&!d},_dragEnterHandler:function(e){this._fireDragEnterEvent(e),this._isTargetOverAnotherDraggable(e)&&this._setTargetDraggable();var t=this._getSourceDraggable();t.dragEnter(e)},_dragLeaveHandler:function(e){this._fireDragLeaveEvent(e),this._resetTargetDraggable(),this!==this._getSourceDraggable()&&this.reset();var t=this._getSourceDraggable();t.dragLeave(e)},_getAction:function(e){return this["_"+e+"Action"]||this._createActionByOption(e)},_getAnonymousTemplateName:function(){return Xae},_initTemplates:function(){this.option("contentTemplate")&&(this._templateManager.addDefaultTemplates({content:new Ss}),this.callBase.apply(this,arguments))},_render:function(){this.callBase(),this.$element().addClass(this._addWidgetPrefix());var e=this._templateManager.anonymousTemplateName===this.option("contentTemplate"),t=this._getTemplateByOption("contentTemplate");t&&W(t.render({container:this.element(),transclude:e}))},_optionChanged:function(e){var t=e.name;switch(t){case"onDragStart":case"onDragMove":case"onDragEnd":case"onDrop":case"onDragEnter":case"onDragLeave":case"onDraggableElementShown":this["_"+t+"Action"]=this._createActionByOption(t);break;case"dragTemplate":case"contentTemplate":case"container":case"clone":break;case"allowMoveByClick":case"dragDirection":case"disabled":case"boundary":case"filter":case"immediate":this._resetDragElement(),this._detachEventHandlers(),this._attachEventHandlers();break;case"autoScroll":this._verticalScrollHelper.reset(),this._horizontalScrollHelper.reset();break;case"scrollSensitivity":case"scrollSpeed":case"boundOffset":case"handle":case"group":case"data":case"itemData":break;default:this.callBase(e)}},_getTargetDraggable:function(){return Tg||this},_getSourceDraggable:function(){return Ag||this},_setTargetDraggable:function(){var e=this.option("group"),t=this._getSourceDraggable();e&&e===t.option("group")&&(Tg=this)},_setSourceDraggable:function(){Ag=this},_resetSourceDraggable:function(){Ag=null},_resetTargetDraggable:function(){Tg=null},_dispose:function(){this.callBase(),this._detachEventHandlers(),this._resetDragElement(),this._resetTargetDraggable(),this._resetSourceDraggable(),this._$sourceElement=null,this._stopAnimator()},_fireDragEnterEvent:function(e){var t=this._getEventArgs(e);this._getAction("onDragEnter")(t)},_fireDragLeaveEvent:function(e){var t=this._getEventArgs(e);this._getAction("onDragLeave")(t)}});yt(sa,rk);var HE=at(),ese="dxSortable",zE="placeholder",tse="clone",WE=e=>W(e).is(":visible"),ise=(e,t)=>{var i,r;if(e){var n=((i=t.to)===null||i===void 0?void 0:i.left)||0,a=((r=t.to)===null||r===void 0?void 0:r.top)||0;e.style.transform="translate(".concat(n,"px,").concat(a,"px)"),e.style.transition="transform ".concat(t.duration,"ms ").concat(t.easing)}},rse=e=>{e&&(e.style.transform="",e.style.transition="")};function nse(e){var t=e.offset(),i=e[0].style,r=parseFloat(i.paddingLeft)||0,n=parseFloat(i.paddingRight)||0,a=parseFloat(i.paddingTop)||0,s=e[0].clientWidth-(r+n),o=nt(e),l=t.left+r,u=t.top+a;return{left:l,right:l+s,top:u,bottom:u+o}}var nk=rk.inherit({_init:function(){this.callBase(),this._sourceScrollHandler=this._handleSourceScroll.bind(this),this._sourceScrollableInfo=null},_getDefaultOptions:function(){return re(this.callBase(),{clone:!0,filter:"> *",itemOrientation:"vertical",dropFeedbackMode:"push",allowDropInsideItem:!1,allowReordering:!0,moveItemOnDrop:!1,onDragChange:null,onAdd:null,onRemove:null,onReorder:null,onPlaceholderPrepared:null,animation:{type:"slide",duration:300,easing:"ease"},fromIndex:null,toIndex:null,dropInsideItem:!1,itemPoints:null,fromIndexOffset:0,offset:0,autoUpdate:!1,draggableElementSize:0})},reset:function(){this.option({dropInsideItem:!1,toIndex:null,fromIndex:null,itemPoints:null,fromIndexOffset:0,draggableElementSize:0}),this._$placeholderElement&&this._$placeholderElement.remove(),this._$placeholderElement=null,!this._isIndicateMode()&&this._$modifiedItem&&(this._$modifiedItem.css("marginBottom",this._modifiedItemMargin),this._$modifiedItem=null)},_getPrevVisibleItem:function(e,t){return e.slice(0,t).reverse().filter(WE)[0]},_dragStartHandler:function(e){if(this.callBase.apply(this,arguments),e.cancel!==!0){var t=this._getSourceElement();this._updateItemPoints(),this._subscribeToSourceScroll(e),this.option("fromIndex",this._getElementIndex(t)),this.option("fromIndexOffset",this.option("offset"))}},_subscribeToSourceScroll:function(e){var t=this._getScrollable(W(e.target));t&&(this._sourceScrollableInfo={element:t,scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop()},te.off(t,"scroll",this._sourceScrollHandler),te.on(t,"scroll",this._sourceScrollHandler))},_unsubscribeFromSourceScroll:function(){this._sourceScrollableInfo&&(te.off(this._sourceScrollableInfo.element,"scroll",this._sourceScrollHandler),this._sourceScrollableInfo=null)},_handleSourceScroll:function(e){var t=this._sourceScrollableInfo;t&&["scrollLeft","scrollTop"].forEach(i=>{if(e.target[i]!==t[i]){var r=e.target[i]-t[i];this._correctItemPoints(r),this._movePlaceholder(),t[i]=e.target[i]}})},_dragEnterHandler:function(e){if(this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&(this._subscribeToSourceScroll(e),this._updateItemPoints(),this.option("fromIndex",-1),!this._isIndicateMode())){var t=this.option("itemPoints"),i=t[t.length-1];if(i){var r=this.$element(),n=this._getSourceElement(),a=this._isVerticalOrientation(),s=a?Ct(n,!0):At(n,!0),o=r.get(0)[a?"scrollHeight":"scrollWidth"],l=r.get(0)[a?"scrollTop":"scrollLeft"],u=a?"top":"left",d=i[u],c=r.offset()[u],h=c+o-l-d;if(h<s&&a){var f=this._getItems(),p=W(this._getPrevVisibleItem(f));this._$modifiedItem=p,this._modifiedItemMargin=p.get(0).style.marginBottom,p.css("marginBottom",s-h);var g=p.closest(".dx-sortable"),m=g.data("dxScrollable")||g.data("dxScrollView");m&&m.update()}}}},_dragLeaveHandler:function(){this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&this._unsubscribeFromSourceScroll()},dragEnter:function(){this!==this._getTargetDraggable()&&this.option("toIndex",-1)},dragLeave:function(){this!==this._getTargetDraggable()&&this.option("toIndex",this.option("fromIndex"))},_allowDrop:function(e){var t=this._getTargetDraggable(),i=t.$element(),r=this._getScrollable(i);if(r){var{left:n,right:a,top:s,bottom:o}=nse(r),l=this.option("toIndex"),u=this.option("itemPoints"),d=u==null?void 0:u.filter(h=>h.index===l)[0];if(d&&d.top!==void 0){var c=this._isVerticalOrientation();return c?s<=Math.ceil(d.top)&&Math.floor(d.top)<=o:n<=Math.ceil(d.left)&&Math.floor(d.left)<=a}}return!0},dragEnd:function(e){this._unsubscribeFromSourceScroll();var t=this._getSourceElement(),i=this._getSourceDraggable(),r=i.NAME!==this.NAME,n=this.option("toIndex"),a=e.event,s=this._allowDrop(a);if(n!==null&&n>=0&&s){var o,l;if(i!==this&&(o=this._fireAddEvent(a),o||(l=this._fireRemoveEvent(a))),r&&qu(t),this.option("moveItemOnDrop")&&!o&&this._moveItem(t,n,l),i===this)return this._fireReorderEvent(a)}return new pe().resolve()},dragMove:function(e){var t=this.option("itemPoints");if(t){for(var i=this._isVerticalOrientation(),r=i?"top":"left",n=i?e.pageY:e.pageX,a=this.option("rtlEnabled"),s,o=t.length-1;o>=0;o--){var l=t[o+1]&&(t[o][r]+t[o+1][r])/2;if((!i&&a?n>l:l>n)||l===void 0)s=t[o];else break}s&&(this._updatePlaceholderPosition(e,s),this._verticalScrollHelper.isScrolling()&&this._isIndicateMode()&&this._movePlaceholder())}},_isIndicateMode:function(){return this.option("dropFeedbackMode")==="indicate"||this.option("allowDropInsideItem")},_createPlaceholder:function(){var e;return this._isIndicateMode()&&(e=W("<div>").addClass(this._addWidgetPrefix(zE)).insertBefore(this._getSourceDraggable()._$dragElement)),this._$placeholderElement=e,e},_getItems:function(){var e=this._getItemsSelector();return this._$content().find(e).not("."+this._addWidgetPrefix(zE)).not("."+this._addWidgetPrefix(tse)).toArray()},_allowReordering:function(){var e=this._getSourceDraggable(),t=this._getTargetDraggable();return e!==t||this.option("allowReordering")},_isValidPoint:function(e,t,i){var r=this.option("allowDropInsideItem"),n=i||this._allowReordering();return!n&&(e!==0||!r)?!1:this._isIndicateMode()?t===-1||e!==t&&(i||e!==t+1):!0},_getItemPoints:function(){var e=[],t,i,r,n=this.option("rtlEnabled"),a=this._isVerticalOrientation(),s=this._getItems(),o=s.filter(WE),l=o.length,u=this._getDraggableElement(),d=o.indexOf(u.get(0));if(l){for(var c=0;c<=l;c++){var h=!a&&n^c===l,f=a&&c===l;c<l&&(t=W(o[c]),i=t.offset(),r=At(t)),e.push({dropInsideItem:!1,left:i.left+(h?r:0),top:i.top+(f?e[c-1].height:0),index:c===l?s.length:s.indexOf(t.get(0)),$item:t,width:At(t),height:Ct(t),isValid:this._isValidPoint(c,d)})}if(this.option("allowDropInsideItem")){var p=e;e=[];for(var g=0;g<p.length;g++)e.push(p[g]),p[g+1]&&e.push(re({},p[g],{dropInsideItem:!0,top:Math.floor((p[g].top+p[g+1].top)/2),left:Math.floor((p[g].left+p[g+1].left)/2),isValid:this._isValidPoint(g,d,!0)}))}}else e.push({dropInsideItem:!1,index:0,isValid:!0});return e},_updateItemPoints:function(e){(e||this.option("autoUpdate")||!this.option("itemPoints"))&&this.option("itemPoints",this._getItemPoints())},_correctItemPoints:function(e){var t=this.option("itemPoints");if(e&&t&&!this.option("autoUpdate")){var i=this._isVerticalOrientation(),r=i?"top":"left";t.forEach(n=>{n[r]-=e})}},_getElementIndex:function(e){return this._getItems().indexOf(e.get(0))},_getDragTemplateArgs:function(e){var t=this.callBase.apply(this,arguments);return t.model.fromIndex=this._getElementIndex(e),t},_togglePlaceholder:function(e){this._$placeholderElement&&this._$placeholderElement.toggle(e)},_isVerticalOrientation:function(){return this.option("itemOrientation")==="vertical"},_normalizeToIndex:function(e,t){var i=this._getSourceDraggable()!==this._getTargetDraggable(),r=this.option("fromIndex");return e===null?r:Math.max(i||r>=e||t?e:e-1,0)},_updatePlaceholderPosition:function(e,t){var i=this._getSourceDraggable(),r=this._normalizeToIndex(t.index,t.dropInsideItem),n=re(this._getEventArgs(e),{toIndex:r,dropInsideItem:t.dropInsideItem});if(t.isValid&&this._getAction("onDragChange")(n),n.cancel||!t.isValid){t.isValid||this.option({dropInsideItem:!1,toIndex:null});return}this.option({dropInsideItem:t.dropInsideItem,toIndex:t.index}),this._getAction("onPlaceholderPrepared")(re(this._getEventArgs(e),{placeholderElement:qe(this._$placeholderElement),dragElement:qe(i._$dragElement)})),this._updateItemPoints()},_makeWidthCorrection:function(e,t){if(this._$scrollable=this._getScrollable(e),this._$scrollable){var i=Ze(this._$scrollable),r=this._$scrollable.offset().left-e.offset().left,n=At(e)-r-i;r>0&&(t-=r),n>0&&(t-=n)}return t},_updatePlaceholderSizes:function(e,t){var i=this.option("dropInsideItem"),r=W(t),n=this._isVerticalOrientation(),a="",s="";e.toggleClass(this._addWidgetPrefix("placeholder-inside"),i),(n||i)&&(a=At(r)),(!n||i)&&(s=Ct(r)),a=this._makeWidthCorrection(r,a),e.css({width:a,height:s})},_moveItem:function(e,t,i){var r,n=this._getItems(),a=n[t],s=this._getSourceDraggable();i&&(e=e.clone(),s._toggleDragSourceClass(!1,e)),a||(r=n[t-1]),this._moveItemCore(e,a,r)},_moveItemCore:function(e,t,i){!t&&!i?e.appendTo(this.$element()):i?e.insertAfter(W(i)):e.insertBefore(W(t))},_getDragStartArgs:function(e,t){return re(this.callBase.apply(this,arguments),{fromIndex:this._getElementIndex(t)})},_getEventArgs:function(e){var t=this._getSourceDraggable(),i=this._getTargetDraggable(),r=i.option("dropInsideItem");return re(this.callBase.apply(this,arguments),{fromIndex:t.option("fromIndex"),toIndex:this._normalizeToIndex(i.option("toIndex"),r),dropInsideItem:r})},_optionChanged:function(e){var t=e.name;switch(t){case"onDragChange":case"onPlaceholderPrepared":case"onAdd":case"onRemove":case"onReorder":this["_"+t+"Action"]=this._createActionByOption(t);break;case"itemOrientation":case"allowDropInsideItem":case"moveItemOnDrop":case"dropFeedbackMode":case"itemPoints":case"animation":case"allowReordering":case"fromIndexOffset":case"offset":case"draggableElementSize":case"autoUpdate":break;case"fromIndex":[!1,!0].forEach(i=>{var r=i?e.value:e.previousValue;if(r!==null){var n=W(this._getItems()[r]);this._toggleDragSourceClass(i,n)}});break;case"dropInsideItem":this._optionChangedDropInsideItem(e);break;case"toIndex":this._optionChangedToIndex(e);break;default:this.callBase(e)}},_optionChangedDropInsideItem:function(){this._isIndicateMode()&&this._$placeholderElement&&this._movePlaceholder()},_isPositionVisible:function(e){var t=this.$element(),i;if(t.css("overflow")!=="hidden"?i=t.get(0):t.parents().each(function(){if(W(this).css("overflow")!=="visible")return i=this,!1}),i){var r=mi(i),n=this._isVerticalOrientation(),a=n?"top":"left",s=n?"bottom":"right",o=n?HE.pageYOffset:HE.pageXOffset;if(e[a]<r[a]+o||e[a]>r[s]+o)return!1}return!0},_optionChangedToIndex:function(e){var t=e.value;if(this._isIndicateMode()){var i=t!==null&&t>=0;this._togglePlaceholder(i),i&&this._movePlaceholder()}else this._moveItems(e.previousValue,e.value,e.fullUpdate)},update:function(){if(!(this.option("fromIndex")===null&&this.option("toIndex")===null)){this._updateItemPoints(!0),this._updateDragSourceClass();var e=this.option("toIndex");this._optionChangedToIndex({value:e,fullUpdate:!0})}},_updateDragSourceClass:function(){var e=this._getActualFromIndex(),t=W(this._getItems()[e]);t.length&&(this._$sourceElement=t,this._toggleDragSourceClass(!0,t))},_makeLeftCorrection:function(e){var t=this._$scrollable;if(t&&this._isVerticalOrientation()){var i=t.offset().left-e;i>0&&(e+=i)}return e},_movePlaceholder:function(){var e=this._$placeholderElement||this._createPlaceholder();if(e){var t=this._getItems(),i=this.option("toIndex"),r=this._isVerticalOrientation(),n=this.option("rtlEnabled"),a=this.option("dropInsideItem"),s=null,o=t[i];if(o){var l=W(o);s=l.offset(),!r&&n&&!a&&(s.left+=At(l,!0))}else{var u=o=this._getPrevVisibleItem(t,i);u&&(s=W(u).offset(),r?s.top+=Ct(u,!0):n||(s.left+=At(u,!0)))}this._updatePlaceholderSizes(e,o),s&&!this._isPositionVisible(s)&&(s=null),s&&(s.left=this._makeLeftCorrection(s.left),this._move(s,e)),e.toggle(!!s)}},_getPositions:function(e,t,i,r){for(var n=[],a=0;a<e.length;a++){var s=0;if(r===null||i===null){n.push(s);continue}i===-1?a>=r&&(s=t):r===-1?a>i&&(s=-t):i<r?a>i&&a<r&&(s=-t):i>r&&a>=r&&a<i&&(s=t),n.push(s)}return n},_getDraggableElementSize:function(e){var t=this._getDraggableElement(),i=this.option("draggableElementSize");return i||(i=e?(Ct(t)+Ct(t,!0))/2:(At(t)+At(t,!0))/2,this.option("autoUpdate")||this.option("draggableElementSize",i)),i},_getActualFromIndex:function(){var{fromIndex:e,fromIndexOffset:t,offset:i}=this.option();return e==null?null:e+t-i},_moveItems:function(e,t,i){for(var r=this._getActualFromIndex(),n=this._isVerticalOrientation(),a=n?"top":"left",s=this._getDraggableElementSize(n),o=this._getItems(),l=this._getPositions(o,s,r,e),u=this._getPositions(o,s,r,t),d=this.option("animation"),c=this.option("rtlEnabled"),h=0;h<o.length;h++){var f=o[h],p=l[h],g=u[h];t===null||r===null?rse(f):(p!==g||i&&g)&&ise(f,re({},d,{to:{[a]:!n&&c?-g:g}}))}},_toggleDragSourceClass:function(e,t){var i=t||this._$sourceElement;this.callBase.apply(this,arguments),this._isIndicateMode()||i&&i.toggleClass(this._addWidgetPrefix("source-hidden"),e)},_dispose:function(){this.reset(),this.callBase()},_fireAddEvent:function(e){var t=this._getEventArgs(e);return this._getAction("onAdd")(t),t.cancel},_fireRemoveEvent:function(e){var t=this._getSourceDraggable(),i=this._getEventArgs(e);return t._getAction("onRemove")(i),i.cancel},_fireReorderEvent:function(e){var t=this._getEventArgs(e);return this._getAction("onReorder")(t),t.promise||new pe().resolve()}});yt(ese,nk);var jE="dx-command-drag",ase="dx-cell-focus-disabled",sse="drag-icon",ose="rowsview",lse="dx-sortable-without-handle",use={init:function(){this.callBase.apply(this,arguments),this._updateHandleColumn()},_allowReordering:function(){var e=this.option("rowDragging");return!!(e&&(e.allowReordering||e.allowDropInsideItem||e.group))},_updateHandleColumn:function(){var e=this.option("rowDragging"),t=this._allowReordering(),i=this._columnsController,r=t&&e.showDragIcons;i&&i.addCommandColumn({type:"drag",command:"drag",visibleIndex:-2,alignment:"center",cssClass:jE,width:"auto",cellTemplate:this._getHandleTemplate(),visible:r}),i.columnOption("type:drag","visible",r)},_renderContent:function(){var e=this.option("rowDragging"),t=this._allowReordering(),i=this.callBase.apply(this,arguments),r=this._isFixedTableRendering,n="_sortable",a="_sortableFixed",s=r?a:n,o=r?n:a,l=c=>{var h;(h=this[a])===null||h===void 0||h.$element().css("pointerEvents",c?"auto":"")},u=".dx-row:not(.dx-freespace-row):not(.dx-virtual-row):not(.dx-header-row):not(.dx-footer-row)",d=this.option("dataRowTemplate")?"> table > tbody".concat(u):"> table > tbody > ".concat(u);return(t||this[s])&&i.length&&(this[s]=this._createComponent(i,nk,re({component:this.component,contentTemplate:null,filter:d,cursorOffset:c=>{var h=c.event,f=W(this.element()).offset();return{x:h.pageX-f.left}},onDraggableElementShown:c=>{if(!e.dragTemplate){var h=W(c.dragElement),f=h.children(".dx-widget").data(this.component.NAME);this._synchronizeScrollLeftPosition(f)}},dragTemplate:this._getDraggableRowTemplate(),handle:e.showDragIcons&&".".concat(jE),dropFeedbackMode:"indicate"},e,{onDragStart:c=>{var h,f;(h=this.getController("keyboardNavigation"))===null||h===void 0||h._resetFocusedCell();var p=c.component.getVisibleRows()[c.fromIndex];c.itemData=p&&p.data;var g=p&&p.rowType==="data";c.cancel=!t||!g,(f=e.onDragStart)===null||f===void 0||f.call(e,c)},onDragEnter:()=>{l(!0)},onDragLeave:()=>{l(!1)},onDragEnd:c=>{var h;l(!1),(h=e.onDragEnd)===null||h===void 0||h.call(e,c)},onAdd:c=>{var h;l(!1),(h=e.onAdd)===null||h===void 0||h.call(e,c)},dropFeedbackMode:e.dropFeedbackMode,onOptionChanged:c=>{var h=this[a];h&&(c.name==="fromIndex"||c.name==="toIndex")&&this[o].option(c.name,c.value)}})),i.toggleClass("dx-scrollable-container",r),i.toggleClass(lse,t&&!e.showDragIcons)),i},_renderCore(e){this.callBase.apply(this,arguments),e&&e.changeType==="update"&&e.repaintChangesOnly&&Ee.isVirtualRowRendering(this)&&ar(()=>{this._updateSortable()})},_updateSortable(){var e=this._dataController.getRowIndexOffset();[this._sortable,this._sortableFixed].forEach(t=>{t==null||t.option("offset",e),t==null||t.update()})},_resizeCore:function(){this.callBase.apply(this,arguments),this._updateSortable()},_getDraggableGridOptions:function(e){var t=this.option(),i=this.getColumns(),r=W(this.getRowElement(e.rowIndex));return{dataSource:[{id:1,parentId:0}],showBorders:!0,showColumnHeaders:!1,scrolling:{useNative:!1,showScrollbar:"never"},pager:{visible:!1},loadingTimeout:null,columnFixing:t.columnFixing,columnAutoWidth:t.columnAutoWidth,showColumnLines:t.showColumnLines,columns:i.map(n=>({width:n.width||n.visibleWidth,fixed:n.fixed,fixedPosition:n.fixedPosition})),onRowPrepared:n=>{var a=n.component.getView("rowsView");W(n.rowElement).replaceWith(r.eq(a._isFixedTableRendering?1:0).clone())}}},_synchronizeScrollLeftPosition:function(e){var t=e==null?void 0:e.getScrollable();t==null||t.scrollTo({x:this._scrollLeft})},_getDraggableRowTemplate:function(){return e=>{var t=this.component.$element(),i=W("<div>");zu(i,Ze(t));var r=this._dataController.items(),n=r&&r[e.fromIndex],a=this._getDraggableGridOptions(n);return this._createComponent(i,this.component.NAME,a),i.find(".dx-gridbase-container").children(":not(.".concat(this.addWidgetPrefix(ose),")")).hide(),i}},_getHandleTemplate:function(){return(e,t)=>{if(t.rowType==="data")return W(e).addClass(ase),W("<span>").addClass(this.addWidgetPrefix(sse));Ee.setEmptyText(W(e))}},optionChanged:function(e){e.name==="rowDragging"&&(this._updateHandleColumn(),this._invalidate(!0,!0),e.handled=!0),this.callBase.apply(this,arguments)}},dse={defaultOptions:function(){return{rowDragging:{showDragIcons:!0,dropFeedbackMode:"indicate",allowReordering:!1,allowDropInsideItem:!1}}},extenders:{views:{rowsView:use}}};Le.registerModule("rowDragging",dse);const hse=Object.freeze(Object.defineProperty({__proto__:null,default:B0},Symbol.toStringTag,{value:"Module"})),cse=Lu(hse);var ia={},La={};const qr=Lu(_B);var Hs={},fse=te.on,pse=te.one,mse=te.off,gse=te.trigger,vse=te.triggerHandler,_se=te.Event;const bse=Object.freeze(Object.defineProperty({__proto__:null,Event:_se,off:mse,on:fse,one:pse,trigger:gse,triggerHandler:vse},Symbol.toStringTag,{value:"Module"})),kf=Lu(bse);var Mf={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Hc=Oe&&Oe.__assign||function(){return Hc=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Hc.apply(this,arguments)};Object.defineProperty(Mf,"__esModule",{value:!0});Mf.pullAllChildren=void 0;function yse(e,t,i){!e||e.length===0||ak(e,t,i)}Mf.pullAllChildren=yse;function ak(e,t,i){e.forEach(function(r){if(t.push(r),!!r.componentOptions){var n=r.componentOptions.Ctor;if(n.$_optionName){var a=Hc(Hc({},n.$_predefinedProps),r.componentOptions.propsData),s=i.createNested(n.$_optionName,a,n.$_isCollectionItem,n.$_expectedChildren);r.componentOptions.$_config=s,r.componentOptions.$_innerChanges={},r.componentOptions.children&&ak(r.componentOptions.children,t,s)}}})}var Ua={},yi={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(yi,"__esModule",{value:!0});yi.getOptionInfo=yi.getOptionValue=yi.allKeysAreEqual=yi.forEachChildNode=yi.isEqual=yi.toComparable=yi.camelize=yi.lowercaseFirst=yi.uppercaseFirst=yi.getTemplatePropName=void 0;function Cse(e,t){for(var i in e)if(e[i]===t)return i;return t}yi.getTemplatePropName=Cse;function sk(e){return e[0].toUpperCase()+e.substr(1)}yi.uppercaseFirst=sk;function ok(e){return e[0].toLowerCase()+e.substr(1)}yi.lowercaseFirst=ok;function wse(e){return ok(e.split("-").map(function(t){return sk(t)}).join(""))}yi.camelize=wse;function Zv(e){return e instanceof Date?e.getTime():e}yi.toComparable=Zv;function xse(e,t){return Zv(e)===Zv(t)?!0:Array.isArray(e)&&Array.isArray(t)?e.length===0&&t.length===0:!1}yi.isEqual=xse;function Sse(e,t){Array.prototype.slice.call(e.childNodes).forEach(t)}yi.forEachChildNode=Sse;function Ese(e,t){var i=Object.keys(e);if(i.length!==Object.keys(t).length)return!1;for(var r=0,n=i;r<n.length;r++){var a=n[r];if(!t.hasOwnProperty(a))return!1}return!0}yi.allKeysAreEqual=Ese;function Ise(e,t){var i=e;return t.split(".").forEach(function(r){var n=lk(r);i&&(i=n.isCollection?i[n.name]&&i[n.name][n.index]:i[n.name])}),i}yi.getOptionValue=Ise;function lk(e){var t=e.split("[");return t.length===1?{isCollection:!1,name:e,fullName:e}:{isCollection:!0,name:t[0],fullName:e,index:Number(t[1].slice(0,-1))}}yi.getOptionInfo=lk;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var zc=Oe&&Oe.__assign||function(){return zc=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},zc.apply(this,arguments)};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.setEmitOptionChangedFunc=Ua.bindOptionWatchers=void 0;var Jv=yi,Tse=function(){function e(t,i,r,n,a,s,o){this._updateFunc=t,this._name=i,this._initialValues=r||{},this._nestedConfigurations=[],this._isCollectionItem=!!a,this._collectionItemIndex=s,this._expectedChildren=n||{},this._ownerConfig=o,this._componentChanges=[],this.updateValue=this.updateValue.bind(this)}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullName",{get:function(){return this._name&&this._isCollectionItem?this._name+"["+this._collectionItemIndex+"]":this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"componentsCountChanged",{get:function(){return this._componentChanges},enumerable:!1,configurable:!0}),e.prototype.cleanComponentsCountChanged=function(){this._componentChanges=[]},Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._ownerConfig&&this._ownerConfig.fullPath?this._ownerConfig.fullPath+"."+this.fullName:this.fullName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownerConfig",{get:function(){return this._ownerConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialValues",{get:function(){return this._initialValues},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"expectedChildren",{get:function(){return this._expectedChildren},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nested",{get:function(){return this._nestedConfigurations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prevNestedOptions",{get:function(){return this._prevNestedConfigOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collectionItemIndex",{get:function(){return this._collectionItemIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCollectionItem",{get:function(){return this._isCollectionItem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFunc",{get:function(){return this._updateFunc},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this._options=t||[]},Object.defineProperty(e.prototype,"emitOptionChanged",{set:function(t){this._emitOptionChanged=t},enumerable:!1,configurable:!0}),e.prototype.setPrevNestedOptions=function(t){this._prevNestedConfigOptions=t},e.prototype.onOptionChanged=function(t){Jv.isEqual(t.value,t.previousValue)||this._onOptionChanged(t.fullName.split("."),t)},e.prototype.cleanNested=function(){this._nestedConfigurations=[]},e.prototype.createNested=function(t,i,r,n){var a=this._expectedChildren[t],s=t,o=r;a&&(o=a.isCollectionItem,a.optionName&&(s=a.optionName));var l=-1;o&&s&&(l=this._nestedConfigurations.filter(function(d){return d._name&&d._name===s}).length);var u=new e(this._updateFunc,s,i,n,o,l,this);return this._nestedConfigurations.push(u),u},e.prototype.updateValue=function(t,i){var r=[this.fullPath,t].filter(function(n){return n}).join(".");this._updateFunc(r,i)},e.prototype.getNestedOptionValues=function(){var t={};return this._nestedConfigurations.forEach(function(i){if(i._name){var r=zc(zc({},i.initialValues),i.getNestedOptionValues());if(r)if(!i._isCollectionItem)t[i._name]=r;else{var n=t[i._name];(!n||!Array.isArray(n))&&(n=[],t[i._name]=n),n.push(r)}}}),t},e.prototype.getOptionsToWatch=function(){var t={};return this._nestedConfigurations.forEach(function(i){return i._name&&(t[i._name]=!0)}),this._options.filter(function(i){return!t[i]})},e.prototype._onOptionChanged=function(t,i){if(t.length!==0){var r=Jv.getOptionInfo(t[0]);if(r.isCollection||t.length>1){var n=this._getNestedConfig(r.fullName);if(n){n._onOptionChanged(t.slice(1),i);return}this._tryEmitOptionChanged(r.name,i.component.option(this.fullPath?this.fullPath+"."+r.name:r.name))}else this._tryEmitOptionChanged(r.name,i.value)}},e.prototype._getNestedConfig=function(t){for(var i=0,r=this._nestedConfigurations;i<r.length;i++){var n=r[i];if(n.fullName===t)return n}},e.prototype._tryEmitOptionChanged=function(t,i){this._emitOptionChanged&&this._emitOptionChanged(t,i)},e}();function Ase(e,t,i){var r=e&&e.getOptionsToWatch();r&&r.forEach(function(n){t.$watch(n,function(a){(!i.hasOwnProperty(n)||i[n]!==a)&&e.updateValue(n,a),delete i[n]})})}Ua.bindOptionWatchers=Ase;function Ose(e,t,i){e.emitOptionChanged=function(r,n){Jv.isEqual(n,t.$props[r])||(i[r]=n,t.$emit("update:"+r,n))}}Ua.setEmitOptionChangedFunc=Ose;Ua.default=Tse;var nn={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Dse=Oe&&Oe.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),Rse=Oe&&Oe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kse=Oe&&Oe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&Dse(t,e,i);return Rse(t,e),t};Object.defineProperty(nn,"__esModule",{value:!0});nn.getInnerChanges=nn.getConfig=nn.initOptionChangedFunc=nn.DxConfiguration=void 0;var UE=kse(qr),Mse=UE.default||UE,uk=Ua;function ic(e){if(e.$vnode){var t=e.$vnode.componentOptions;return t&&t.$_config}}nn.getConfig=ic;function dk(e){if(e.$vnode){var t=e.$vnode.componentOptions;return t&&t.$_innerChanges}}nn.getInnerChanges=dk;function hk(e,t,i){e&&(e.init(Object.keys(t.$props)),uk.setEmitOptionChangedFunc(e,t,i))}nn.initOptionChangedFunc=hk;function GE(e,t){var i=e.name,r=e.isCollectionItem,n=e.ownerConfig,a=n&&n.fullPath,s=i&&a?a+"."+i:i||"";return{optionPath:s,isCollection:r,removed:t}}var Bse=function(){return Mse.extend({beforeMount:function(){var e=ic(this),t=dk(this);hk(e,this,t),uk.bindOptionWatchers(e,this,t)},mounted:function(){this.$parent.$_instance&&this.$parent.$_config.componentsCountChanged.push(GE(ic(this)))},beforeDestroy:function(){this.$parent.$_config.componentsCountChanged.push(GE(ic(this),!0))},render:function(e){return e()}})};nn.DxConfiguration=Bse;var zs={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(zs,"__esModule",{value:!0});zs.DX_REMOVE_EVENT=zs.DX_TEMPLATE_WRAPPER_CLASS=void 0;var Pse="dx-template-wrapper";zs.DX_TEMPLATE_WRAPPER_CLASS=Pse;var Fse="dxremove";zs.DX_REMOVE_EVENT=Fse;var Bf={},yd={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Wc=Oe&&Oe.__assign||function(){return Wc=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Wc.apply(this,arguments)};Object.defineProperty(yd,"__esModule",{value:!0});yd.getOption=void 0;var Qv={useLegacyTemplateEngine:!1};function Lse(e){Qv=Wc(Wc({},Qv),e)}function Nse(e){return Qv[e]}yd.getOption=Nse;yd.default=Lse;var rl={},Pf={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(Pf,"__esModule",{value:!0});Pf.TEMPLATE_MULTIPLE_ROOTS_ERROR=void 0;Pf.TEMPLATE_MULTIPLE_ROOTS_ERROR="Template must have a single root node.";/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Vse=Oe&&Oe.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),$se=Oe&&Oe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Hse=Oe&&Oe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&Vse(t,e,i);return $se(t,e),t};Object.defineProperty(rl,"__esModule",{value:!0});rl.discover=rl.mountTemplate=void 0;var KE=Hse(qr),zse=Pf,ck="template",Wse=KE.default||KE;function jse(e){if(e.$vnode){var t=e.$vnode.componentOptions;if(!(!t.$_config||!t.$_config.name))return t}}function Use(e){return ck in e.$props&&e.$vnode.data&&e.$vnode.data.scopedSlots}function Gse(e){var t={};for(var i in e.$scopedSlots)if(!(i==="default"&&e.$slots.default)){var r=e.$scopedSlots[i];r&&(t[i]=r)}for(var n=0,a=e.$children;n<a.length;n++){var s=a[n],o=jse(s);if(o){var l=s.$scopedSlots.default;if(!(!l||!Use(s))){var u=o.$_config.fullPath+"."+ck;t[u]=l}}}return t}rl.discover=Gse;function Kse(e,t,i,r,n){return new Wse({el:n,name:r,inject:["eventBus"],parent:t,created:function(){var a=this;this.eventBus.$on("updated",function(){a.$forceUpdate()})},render:function(a){var s=e()(i);if(!s)return a("div");if(s.length>1)throw new Error(zse.TEMPLATE_MULTIPLE_ROOTS_ERROR);return s[0]},destroyed:function(){this.eventBus.$off("updated")}})}rl.mountTemplate=Kse;const fk=Lu(C5);/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var jc=Oe&&Oe.__assign||function(){return jc=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},jc.apply(this,arguments)},qse=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bf,"__esModule",{value:!0});Bf.TemplatesManager=void 0;var Xse=yd,qE=rl,Yse=qse(fk),XE=kf,Og=zs,Zse=yi,Jse=function(){function e(t){this._slots={},this._templates={},this._isDirty=!1,this._component=t,this.discover()}return e.prototype.discover=function(){var t=qE.discover(this._component);this._slots=jc(jc({},this._slots),t),Zse.allKeysAreEqual(this._templates,t)||this._prepareTemplates()},Object.defineProperty(e.prototype,"templates",{get:function(){return this._templates},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDirty",{get:function(){return this._isDirty},enumerable:!1,configurable:!0}),e.prototype.resetDirtyFlag=function(){this._isDirty=!1},e.prototype._prepareTemplates=function(){this._templates={};for(var t=0,i=Object.keys(this._slots);t<i.length;t++){var r=i[t];this._templates[r]=this.createDxTemplate(r)}this._isDirty=!0},e.prototype.createDxTemplate=function(t){var i=this;return{render:function(r){var n=Xse.getOption("useLegacyTemplateEngine")?r.model:{data:r.model,index:r.index},a=r.container.get?r.container.get(0):r.container,s=document.createElement("div");a.appendChild(s);var o=qE.mountTemplate(function(){return i._slots[t]},i._component,n,t,s),l=o.$el;if(Yse.default.setClass(l,Og.DX_TEMPLATE_WRAPPER_CLASS,!0),l.nodeType===Node.TEXT_NODE){var u=document.createElement(a.nodeName==="TABLE"?"tbody":"span");u.style.display="none",a.appendChild(u),XE.one(u,Og.DX_REMOVE_EVENT,o.$destroy.bind(o))}else XE.one(l,Og.DX_REMOVE_EVENT,o.$destroy.bind(o));return l}}},e}();Bf.TemplatesManager=Jse;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Sa=Oe&&Oe.__assign||function(){return Sa=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Sa.apply(this,arguments)},Qse=Oe&&Oe.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),eoe=Oe&&Oe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pk=Oe&&Oe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&Qse(t,e,i);return eoe(t,e),t};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.BaseComponent=Hs.DxComponent=void 0;var YE=pk(qr),toe=kf,ioe=Mf,Dg=pk(Ua),Rg=nn,roe=zs,fs=yi,noe=Bf,ZE=YE.default||YE,mk=function(){return ZE.extend({inheritAttrs:!1,data:function(){return{eventBus:new ZE}},provide:function(){return{eventBus:this.eventBus}},render:function(e){var t=[];return this.$_config.cleanNested&&this.$_config.cleanNested(),ioe.pullAllChildren(this.$slots.default,t,this.$_config),this.$_processChildren(t),e("div",{attrs:{id:this.$attrs.id}},t)},beforeUpdate:function(){this.$_config.setPrevNestedOptions(this.$_config.getNestedOptionValues())},updated:function(){var e,t;if(this.$children.forEach(function(u){return Rg.initOptionChangedFunc(Rg.getConfig(u),u,Rg.getInnerChanges(u))}),this.$_templatesManager.discover(),this.$_instance.beginUpdate(),this.$_templatesManager.isDirty){this.$_instance.option("integrationOptions.templates",this.$_templatesManager.templates);for(var i=(t=(e=this.$vnode)===null||e===void 0?void 0:e.componentOptions)===null||t===void 0?void 0:t.propsData,r=0,n=Object.keys(this.$_templatesManager.templates);r<n.length;r++){var a=n[r];this.$_instance.option(fs.getTemplatePropName(i,a),a)}this.$_templatesManager.resetDirtyFlag()}for(var s=0,o=Object.keys(this.$_pendingOptions);s<o.length;s++){var l=o[s];this.$_instance.option(l,this.$_pendingOptions[l])}this.$_pendingOptions={},this.$_applyConfigurationChanges(),this.$_instance.endUpdate(),this.eventBus.$emit("updated")},beforeDestroy:function(){var e=this.$_instance;e&&(toe.triggerHandler(this.$el,roe.DX_REMOVE_EVENT),e.dispose())},created:function(){var e=this;this.$_config=new Dg.default(function(t,i){return e.$_pendingOptions[t]=i},null,this.$options.propsData&&Sa({},this.$options.propsData),this.$_expectedChildren),this.$_innerChanges={},this.$_config.init(this.$props&&Object.keys(this.$props))},methods:{$_applyConfigurationChanges:function(){var e=this;this.$_config.componentsCountChanged.forEach(function(t){var i=t.optionPath,r=t.isCollection,n=t.removed,a=e.$_config.getNestedOptionValues();!r&&n?e.$_instance.resetOption(i):e.$_instance.option(i,fs.getOptionValue(a,i))}),this.$_config.cleanComponentsCountChanged()},$_createWidget:function(e){var t=this;t.$_pendingOptions={},t.$_templatesManager=new noe.TemplatesManager(this);var i=this.$_config,r=Sa(Sa(Sa(Sa({},this.$options.propsData),i.initialValues),i.getNestedOptionValues()),this.$_getIntegrationOptions()),n=new this.$_WidgetClass(e,r);t.$_instance=n,n.on("optionChanged",function(a){return i.onOptionChanged(a)}),Dg.setEmitOptionChangedFunc(i,this,this.$_innerChanges),Dg.bindOptionWatchers(i,this,this.$_innerChanges),this.$_createEmitters(n)},$_getIntegrationOptions:function(){var e,t,i=Sa({integrationOptions:{watchMethod:this.$_getWatchMethod()}},this.$_getExtraIntegrationOptions());if(this.$_templatesManager.isDirty){var r=this.$_templatesManager.templates;i.integrationOptions.templates=r;for(var n=(t=(e=this.$vnode)===null||e===void 0?void 0:e.componentOptions)===null||t===void 0?void 0:t.propsData,a=0,s=Object.keys(r);a<s.length;a++){var o=s[a];i[fs.getTemplatePropName(n,o)]=o}this.$_templatesManager.resetDirtyFlag()}return i},$_getWatchMethod:function(){var e=this;return function(t,i,r){return r=r||{},r.skipImmediate||i(t()),e.$watch(function(){return t()},function(n,a){(fs.toComparable(a)!==fs.toComparable(n)||r.deep)&&i(n)},{deep:r.deep})}},$_getExtraIntegrationOptions:function(){return{}},$_processChildren:function(e){},$_createEmitters:function(e){var t=this;Object.keys(this.$listeners).forEach(function(i){var r=fs.camelize(i);e.on(r,function(n){t.$emit(i,n)})})}}})};Hs.BaseComponent=mk;function aoe(e){var t=[];return fs.forEachChildNode(e,function(i){var r=i.parentNode,n=i.hasAttribute&&i.hasAttribute("isExtension");(i.nodeName==="#comment"||n)&&r&&(t.push(i),r.removeChild(i))}),t}function soe(e,t){t.forEach(function(i){e.appendChild(i)})}var ooe=function(){return mk().extend({methods:{$_getExtraIntegrationOptions:function(){return{onInitializing:function(){this.beginUpdate()}}},$_processChildren:function(e){e.forEach(function(t){t.componentOptions&&(t.componentOptions.$_hasOwner=!0)})}},mounted:function(){var e=this,t=aoe(this.$el);this.$_createWidget(this.$el),this.$_instance.endUpdate(),soe(this.$el,t),this.$slots&&this.$slots.default&&this.$slots.default.forEach(function(i){var r=i.componentInstance;r&&r.$_isExtension&&r.attachTo(e.$el)})}})};Hs.DxComponent=ooe;var Ff={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(Ff,"__esModule",{value:!0});Ff.DxExtensionComponent=void 0;var loe=Hs,uoe=function(){return loe.BaseComponent().extend({created:function(){this.$_isExtension=!0},mounted:function(){this.$el.setAttribute("isExtension","true"),!(this.$vnode&&this.$vnode.componentOptions.$_hasOwner)&&this.attachTo(this.$el)},methods:{attachTo:function(e){this.$_createWidget(e)}}})};Ff.DxExtensionComponent=uoe;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var doe=Oe&&Oe.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),hoe=Oe&&Oe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),coe=Oe&&Oe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&doe(t,e,i);return hoe(t,e),t};Object.defineProperty(La,"__esModule",{value:!0});La.createExtensionComponent=La.createConfigurationComponent=La.createComponent=void 0;var JE=coe(qr),ib=JE.default||JE,foe=Hs,poe=nn,moe=Ff;function goe(e){return e.extends=foe.DxComponent(),ib.extend(e)}La.createComponent=goe;function voe(e){return e.extends=poe.DxConfiguration(),ib.extend(e)}La.createConfigurationComponent=voe;function _oe(e){return e.extends=moe.DxExtensionComponent(),ib.extend(e)}La.createExtensionComponent=_oe;var Na={},Ws={};const boe=Lu(BB);var kg={},_i={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(_i,"__esModule",{value:!0});_i.getOptionInfo=_i.getOptionValue=_i.allKeysAreEqual=_i.forEachChildNode=_i.isEqual=_i.toComparable=_i.camelize=_i.lowercaseFirst=_i.uppercaseFirst=_i.getTemplatePropName=void 0;function yoe(e,t){for(var i in e)if(e[i]===t)return i;return t}_i.getTemplatePropName=yoe;function gk(e){return e[0].toUpperCase()+e.substr(1)}_i.uppercaseFirst=gk;function vk(e){return e[0].toLowerCase()+e.substr(1)}_i.lowercaseFirst=vk;function Coe(e){return vk(e.split("-").map(function(t){return gk(t)}).join(""))}_i.camelize=Coe;function e_(e){return e instanceof Date?e.getTime():e}_i.toComparable=e_;function woe(e,t){return e_(e)===e_(t)?!0:Array.isArray(e)&&Array.isArray(t)?e.length===0&&t.length===0:!1}_i.isEqual=woe;function xoe(e,t){Array.prototype.slice.call(e.childNodes).forEach(t)}_i.forEachChildNode=xoe;function Soe(e,t){var i=Object.keys(e);if(i.length!==Object.keys(t).length)return!1;for(var r=0,n=i;r<n.length;r++){var a=n[r];if(!t.hasOwnProperty(a))return!1}return!0}_i.allKeysAreEqual=Soe;function Eoe(e,t){var i=e;return t.split(".").forEach(function(r){var n=_k(r);i&&(i=n.isCollection?i[n.name]&&i[n.name][n.index]:i[n.name])}),i}_i.getOptionValue=Eoe;function _k(e){var t=e.split("[");return t.length===1?{isCollection:!1,name:e,fullName:e}:{isCollection:!0,name:t[0],fullName:e,index:Number(t[1].slice(0,-1))}}_i.getOptionInfo=_k;var $n={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var QE;function bk(){if(QE)return $n;QE=1;var e=Oe&&Oe.__assign||function(){return e=Object.assign||function(a){for(var s,o=1,l=arguments.length;o<l;o++){s=arguments[o];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(a[u]=s[u])}return a},e.apply(this,arguments)};Object.defineProperty($n,"__esModule",{value:!0}),$n.pullAllChildren=$n.pullConfigComponents=$n.isFragment=void 0;var t=so();function i(a,s,o){!a||a.length===0||n(a,s,o)}$n.pullAllChildren=i;function r(a){var s=a.patchFlag;return s===128||s===256||s===64||s===-2}$n.isFragment=r;function n(a,s,o){a.forEach(function(l){if(r(l)&&Array.isArray(l.children)&&n(l.children,s,o),r(l)||s.push(l),!!l){var u=t.getComponentInfo(l);if(!(!u||!u.$_optionName)){var d=t.configurationChildren(l),c=e(e({},u.$_predefinedProps),t.getNormalizedProps(l.props||{})),h=o.createNested(u.$_optionName,c,u.$_isCollectionItem,u.$_expectedChildren);l.$_config=h,l.$_innerChanges={},d&&n(d,s,h)}}})}return $n.pullConfigComponents=n,$n}/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var eI;function so(){return eI||(eI=1,function(e){var t=Oe&&Oe.__assign||function(){return t=Object.assign||function(A){for(var T,E=1,C=arguments.length;E<C;E++){T=arguments[E];for(var w in T)Object.prototype.hasOwnProperty.call(T,w)&&(A[w]=T[w])}return A},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.getConfigurationOptions=e.setVModel=e.setCompatOptions=e.getVModelValue=e.getNodeTypeOfComponent=e.getNodeOptions=e.usedConfigurationProps=e.getComponentProps=e.mount=e.defaultSlots=e.declaredTemplates=e.configurationTemplate=e.configurationDefaultTemplate=e.configurationChildren=e.getNormalizedProps=e.getComponentInfo=e.getChildren=e.VMODEL_NAME=void 0;var i=qr,r=_i,n=bk();e.VMODEL_NAME="modelValue";function a(A){if(!H(A)||!A.$_config)return[];var T=A.$.subTree&&A.$.subTree.children;return Array.isArray(T)?T.filter(function(E){if(!n.isFragment(E))return E}):[]}e.getChildren=a;function s(A){return q(A)}e.getComponentInfo=s;function o(A){var T={};for(var E in A)A.hasOwnProperty(E)&&(T[r.camelize(E)]=A[E]);return T}e.getNormalizedProps=o;function l(A){return!A.children||!A.children.default?[]:z(A.children.default())}e.configurationChildren=l;function u(A){if(!(!A.children||A.children==="object"||!A.children.default))return F(A.children.default())?A.children.default:void 0}e.configurationDefaultTemplate=u;function d(A){return u(A)}e.configurationTemplate=d;function c(A){return A.$slots}e.declaredTemplates=c;function h(A){var T=c(A);return T.default?T.default():[]}e.defaultSlots=h;function f(A,T,E){var C=i.createApp(A);return C.provide("eventBus",T.eventBus),N(C,T),C.mount(E)}e.mount=f;function p(A){var T=A.$.vnode.props||{};return o(T)}e.getComponentProps=p;function g(A){return A.props}e.usedConfigurationProps=g;function m(A){return A.$?A.$.vnode:A}e.getNodeOptions=m;function v(A){return A.$.vnode.type}e.getNodeTypeOfComponent=v;function b(A){return A[e.VMODEL_NAME]}e.getVModelValue=b;function y(A){A.compatConfig={MODE:3}}e.setCompatOptions=y;function I(A){var T,E="update:"+e.VMODEL_NAME;A.model.prop=e.VMODEL_NAME,A.model.event=E,A.props.modelValue={},A.emits=t(t({},A.emits),(T={},T[""+E]=null,T))}e.setVModel=I;function D(A,T){for(var E in T)!A.hasOwnProperty(E)&&T.hasOwnProperty(E)&&(A[E]=T[E])}function N(A,T){A._context.components=Object.assign(T.$.appContext.components,A._context.components),Object.setPrototypeOf(A._context.provides,Object.getPrototypeOf(T.$.provides)),Object.assign(A._context.provides,T.$.appContext.provides),A._context.config=T.$.appContext.config,A._context.directives=T.$.appContext.directives,A._context.mixins=T.$.appContext.mixins,D(A._context.app,T.$.appContext.app)}function z(A){return A.filter(function(T){if(n.isFragment(T))return z(T.children||[]);var E=T.type;if(E&&typeof E=="object"&&E.$_optionName)return delete T.$_config,delete T.$_innerChanges,T})}function F(A){var T=!1;return A.forEach(function(E){!j(E)&&!n.isFragment(E)&&!$(E)&&(T=!0)}),T}function $(A){var T=A.type,E=typeof T=="symbol"?T.toString():T;return E==="Symbol(Comment)"||E==="Symbol()"&&!A.children}function j(A){return A.type&&typeof A.type=="object"&&A.type.$_optionName}function q(A){return A.type}e.getConfigurationOptions=q;function H(A){return A.$.vnode&&A.$.vnode.children&&A.$.vnode.children.default}}(kg)),kg}var Ga={},Cd={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Uc=Oe&&Oe.__assign||function(){return Uc=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Uc.apply(this,arguments)};Object.defineProperty(Cd,"__esModule",{value:!0});Cd.getOption=void 0;var t_={deepWatch:!1};function Ioe(e){t_=Uc(Uc({},t_),e)}function Toe(e){return t_[e]}Cd.getOption=Toe;Cd.default=Ioe;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Gc=Oe&&Oe.__assign||function(){return Gc=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Gc.apply(this,arguments)};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.setEmitOptionChangedFunc=Ga.bindOptionWatchers=void 0;var yk=qr,Aoe=Cd,i_=_i,r_=so(),Ooe=function(){function e(t,i,r,n,a,s,o){this._updateFunc=t,this._name=i,this._initialValues=r||{},this._nestedConfigurations=[],this._isCollectionItem=!!a,this._collectionItemIndex=s,this._expectedChildren=n||{},this._ownerConfig=o,this._componentChanges=[],this.updateValue=this.updateValue.bind(this)}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullName",{get:function(){return this._name&&this._isCollectionItem?this._name+"["+this._collectionItemIndex+"]":this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"componentsCountChanged",{get:function(){return this._componentChanges},enumerable:!1,configurable:!0}),e.prototype.cleanComponentsCountChanged=function(){this._componentChanges=[]},Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._ownerConfig&&this._ownerConfig.fullPath?this._ownerConfig.fullPath+"."+this.fullName:this.fullName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownerConfig",{get:function(){return this._ownerConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialValues",{get:function(){return this._initialValues},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"expectedChildren",{get:function(){return this._expectedChildren},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nested",{get:function(){return this._nestedConfigurations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prevNestedOptions",{get:function(){return this._prevNestedConfigOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collectionItemIndex",{get:function(){return this._collectionItemIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCollectionItem",{get:function(){return this._isCollectionItem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFunc",{get:function(){return this._updateFunc},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this._options=t||[]},Object.defineProperty(e.prototype,"emitOptionChanged",{set:function(t){this._emitOptionChanged=t},enumerable:!1,configurable:!0}),e.prototype.setPrevNestedOptions=function(t){this._prevNestedConfigOptions=t},e.prototype.onOptionChanged=function(t){i_.isEqual(t.value,t.previousValue)||this._onOptionChanged(t.fullName.split("."),t)},e.prototype.cleanNested=function(){this._nestedConfigurations=[]},e.prototype.createNested=function(t,i,r,n){var a=this._expectedChildren[t],s=t,o=r;a&&(o=a.isCollectionItem,a.optionName&&(s=a.optionName));var l=-1;o&&s&&(l=this._nestedConfigurations.filter(function(d){return d._name&&d._name===s}).length);var u=new e(this._updateFunc,s,i,n,o,l,this);return this._nestedConfigurations.push(u),u},e.prototype.updateValue=function(t,i){var r=[this.fullPath,t].filter(function(n){return n}).join(".");this._updateFunc(r,i)},e.prototype.getNestedOptionValues=function(){var t={};return this._nestedConfigurations.forEach(function(i){if(i._name){var r=Gc(Gc({},i.initialValues),i.getNestedOptionValues());if(r)if(!i._isCollectionItem)t[i._name]=r;else{var n=t[i._name];(!n||!Array.isArray(n))&&(n=[],t[i._name]=n),n.push(r)}}}),t},e.prototype.getOptionsToWatch=function(){var t={};return this._nestedConfigurations.forEach(function(i){return i._name&&(t[i._name]=!0)}),this._options.filter(function(i){return!t[i]})},e.prototype._onOptionChanged=function(t,i){if(t.length!==0){var r=i_.getOptionInfo(t[0]);if(r.isCollection||t.length>1){var n=this._getNestedConfig(r.fullName);if(n){n._onOptionChanged(t.slice(1),i);return}this._tryEmitOptionChanged(r.name,i.component.option(this.fullPath?this.fullPath+"."+r.name:r.name))}else this._tryEmitOptionChanged(r.name,i.value)}},e.prototype._getNestedConfig=function(t){for(var i=0,r=this._nestedConfigurations;i<r.length;i++){var n=r[i];if(n.fullName===t)return n}},e.prototype._tryEmitOptionChanged=function(t,i){this._emitOptionChanged&&this._emitOptionChanged(t,i)},e}();function Doe(e,t,i){var r=e&&e.getOptionsToWatch();r&&r.forEach(function(n){t.$watch(n,function(a){var s=yk.toRaw(a);(!i.hasOwnProperty(n)||i[n]!==s)&&e.updateValue(n,a),delete i[n]},{deep:Aoe.getOption("deepWatch")})})}Ga.bindOptionWatchers=Doe;function Roe(e,t){var i=e.$options.props;return i&&i.hasOwnProperty(t)}function koe(e,t,i){var r;return e.model&&t.hasOwnProperty(r_.VMODEL_NAME)&&((r=i==null?void 0:i.props)===null||r===void 0?void 0:r.hasOwnProperty(r_.VMODEL_NAME))}function Moe(e,t,i){e.emitOptionChanged=function(r,n){var a,s=t.$props,o=(a=t==null?void 0:t.$)===null||a===void 0?void 0:a.vnode;if(Roe(t,r)&&!i_.isEqual(n,s[r])&&t.$emit){i[r]=yk.toRaw(n);var l=r==="value"&&koe(t.$options,s,o)?"update:"+r_.VMODEL_NAME:"update:"+r;t.$emit(l,n)}}}Ga.setEmitOptionChangedFunc=Moe;Ga.default=Ooe;var an={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(an,"__esModule",{value:!0});an.getInnerChanges=an.getConfig=an.initOptionChangedFunc=an.initDxConfiguration=void 0;var Boe=qr,rb=so(),Ck=Ga;function rc(e){var t=rb.getNodeOptions(e);if(t)return t.$_config||e.$_config}an.getConfig=rc;function wk(e){var t=rb.getNodeOptions(e);if(t)return t.$_innerChanges||e.$_innerChanges}an.getInnerChanges=wk;function xk(e,t,i,r){e&&(e.init(Object.keys(t)),i&&Ck.setEmitOptionChangedFunc(e,i,r))}an.initOptionChangedFunc=xk;function tI(e,t){var i=e.name,r=e.isCollectionItem,n=e.ownerConfig,a=n&&n.fullPath,s=i&&a?a+"."+i:i||"";return{optionPath:s,isCollection:r,removed:t}}function Poe(){return Boe.defineComponent({beforeMount:function(){var e=this,t=rc(e),i=wk(e);xk(t,rb.getNodeTypeOfComponent(e).props,e,i),Ck.bindOptionWatchers(t,this,i)},mounted:function(){this.$parent.$_instance&&this.$parent.$_config.componentsCountChanged.push(tI(rc(this)))},beforeUnmount:function(){var e=rc(this);e&&this.$parent.$_config.componentsCountChanged.push(tI(e,!0))},render:function(){return null}})}an.initDxConfiguration=Poe;var js={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(js,"__esModule",{value:!0});js.DX_REMOVE_EVENT=js.DX_TEMPLATE_WRAPPER_CLASS=void 0;var Foe="dx-template-wrapper";js.DX_TEMPLATE_WRAPPER_CLASS=Foe;var Loe="dxremove";js.DX_REMOVE_EVENT=Loe;var Lf={},nl={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(nl,"__esModule",{value:!0});nl.discover=nl.mountTemplate=void 0;var Go=so(),Noe=qr,Sk="template";function Voe(e){var t=e;if(t&&!(!t.$_config||!t.$_config.name))return t}function $oe(e){return Sk in e.type.props&&Go.configurationTemplate(e)}function Hoe(e){var t={},i=Go.declaredTemplates(e);for(var r in i)if(!(r==="default"&&e.$slots.default)){var n=i[r];n&&(t[r]=n)}for(var a=Go.getChildren(e),s=0,o=a;s<o.length;s++){var l=o[s],u=Voe(l);if(u){var d=Go.configurationDefaultTemplate(l);if(!(!d||!$oe(l))){var c=u.$_config.fullPath+"."+Sk;t[c]=d}}}return t}nl.discover=Hoe;function zoe(e){var t=[];return e.forEach(function(i){var r=Go.getConfigurationOptions(i);(!r||!r.$_optionName)&&t.push(i)}),t}function Woe(e,t,i,r,n){return Go.mount({name:r,inject:["eventBus"],created:function(){this.eventBus.add(this.$_updatedHandler)},mounted:function(){i.onRendered()},unmounted:function(){this.eventBus.remove(this.$_updatedHandler)},methods:{$_updatedHandler:function(){this.$forceUpdate()}},render:function(){var a=zoe(e()(i));return a?a.length>1?a:a[0]:Noe.h("div")}},t,n)}nl.mountTemplate=Woe;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Kc=Oe&&Oe.__assign||function(){return Kc=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Kc.apply(this,arguments)},joe=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.TemplatesManager=void 0;var iI=nl,Uoe=joe(fk),rI=kf,Mg=js,Goe=_i,Koe=function(){function e(t){this._slots={},this._templates={},this._isDirty=!1,this._component=t,this.discover()}return e.prototype.discover=function(){var t=iI.discover(this._component);this._slots=Kc(Kc({},this._slots),t),Goe.allKeysAreEqual(this._templates,t)||this._prepareTemplates()},Object.defineProperty(e.prototype,"templates",{get:function(){return this._templates},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDirty",{get:function(){return this._isDirty},enumerable:!1,configurable:!0}),e.prototype.resetDirtyFlag=function(){this._isDirty=!1},e.prototype._prepareTemplates=function(){this._templates={};for(var t=0,i=Object.keys(this._slots);t<i.length;t++){var r=i[t];this._templates[r]=this.createDxTemplate(r)}this._isDirty=!0},e.prototype.createDxTemplate=function(t){var i=this;return{render:function(r){var n=function(c,h){return h===void 0&&(h=0),function(){h===1&&c&&c(),h++}}(r.onRendered),a={data:r.model,index:r.index,onRendered:n},s=document.createElement("div"),o=r.container.get?r.container.get(0):r.container;o.appendChild(s);var l=iI.mountTemplate(function(){return i._slots[t]},i._component,a,t,s),u=l.$el;for(o.removeChild(s);s.firstChild;)o.appendChild(s.firstChild);if(Uoe.default.setClass(u,Mg.DX_TEMPLATE_WRAPPER_CLASS,!0),u.nodeType===Node.TEXT_NODE){var d=document.createElement(o.nodeName==="TABLE"?"tbody":"span");d.style.display="none",o.appendChild(d),rI.one(d,Mg.DX_REMOVE_EVENT,l.$.appContext.app.unmount.bind(l))}else rI.one(u,Mg.DX_REMOVE_EVENT,l.$.appContext.app.unmount.bind(l));return n(),u}}},e}();Lf.TemplatesManager=Koe;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Wn=Oe&&Oe.__assign||function(){return Wn=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Wn.apply(this,arguments)},qoe=Oe&&Oe.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),Xoe=Oe&&Oe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Yoe=Oe&&Oe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&qoe(t,e,i);return Xoe(t,e),t},Zoe=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.initBaseComponent=Ws.initDxComponent=void 0;var n_=qr,Joe=Zoe(boe),Qoe=kf,wa=so(),ele=bk(),Bg=Yoe(Ga),tle=an,ile=js,ps=_i,rle=Lf,nle=["id","class","style"];function ale(e){var t={};return nle.forEach(function(i){var r=e[i];r&&(t[i]=r)}),t}function Ek(){return n_.defineComponent({inheritAttrs:!1,data:function(){return{eventBus:Joe.default()}},provide:function(){return{eventBus:this.eventBus}},render:function(){var e=this,t=[];return e.$_config.cleanNested&&e.$_config.cleanNested(),ele.pullAllChildren(wa.defaultSlots(this),t,e.$_config),this.$_processChildren(t),n_.h("div",Wn({},ale(this.$attrs)),t)},beforeUpdate:function(){var e=this;e.$_config.setPrevNestedOptions(e.$_config.getNestedOptionValues())},updated:function(){var e=this,t=Ik(this.$el);if(wa.getChildren(e).forEach(function(u){var d;tle.initOptionChangedFunc(u.$_config,u.type.props||{},(d=u==null?void 0:u.component)===null||d===void 0?void 0:d.proxy,u.$_innerChanges)}),e.$_templatesManager.discover(),e.$_instance.beginUpdate(),e.$_templatesManager.isDirty){e.$_instance.option("integrationOptions.templates",e.$_templatesManager.templates);for(var i=e.$.vnode.props,r=0,n=Object.keys(e.$_templatesManager.templates);r<n.length;r++){var a=n[r];e.$_instance.option(ps.getTemplatePropName(i,a),a)}e.$_templatesManager.resetDirtyFlag()}for(var s=0,o=Object.keys(e.$_pendingOptions);s<o.length;s++){var l=o[s];e.$_instance.option(l,e.$_pendingOptions[l])}e.$_pendingOptions={},this.$_applyConfigurationChanges(),e.$_instance.endUpdate(),Tk(this.$el,t),this.eventBus.fire()},beforeUnmount:function(){var e=this,t=e.$_instance;t&&(Qoe.triggerHandler(this.$el,ile.DX_REMOVE_EVENT),t.dispose())},created:function(){var e=this,t=wa.getComponentProps(this);e.$_config=new Bg.default(function(i,r){Array.isArray(r)?e.$_instance.option(i,r):e.$_pendingOptions[i===wa.VMODEL_NAME?"value":i]=r},null,t&&Wn({},t),e.$_expectedChildren),e.$_innerChanges={},e.$_config.init(this.$props&&Object.keys(this.$props))},methods:{$_applyConfigurationChanges:function(){var e=this;e.$_config.componentsCountChanged.forEach(function(t){var i=t.optionPath,r=t.isCollection,n=t.removed,a=e.$_config.getNestedOptionValues();!r&&n?e.$_instance.resetOption(i):e.$_instance.option(i,ps.getOptionValue(a,i))}),e.$_config.cleanComponentsCountChanged()},$_createWidget:function(e){var t=this;t.$_pendingOptions={},t.$_templatesManager=new rle.TemplatesManager(this);var i=t.$_config;i.initialValues.hasOwnProperty(wa.VMODEL_NAME)&&(i.initialValues.value=wa.getVModelValue(i.initialValues));var r=Wn(Wn(Wn(Wn({templatesRenderAsynchronously:t.$_hasAsyncTemplate},wa.getComponentProps(t)),i.initialValues),i.getNestedOptionValues()),this.$_getIntegrationOptions()),n=new t.$_WidgetClass(e,r);t.$_instance=n,n.on("optionChanged",function(a){return i.onOptionChanged(a)}),Bg.setEmitOptionChangedFunc(i,t,t.$_innerChanges),Bg.bindOptionWatchers(i,t,t.$_innerChanges),this.$_createEmitters(n)},$_getIntegrationOptions:function(){var e=this,t=Wn({integrationOptions:{watchMethod:this.$_getWatchMethod()}},this.$_getExtraIntegrationOptions());if(e.$_templatesManager.isDirty){var i=e.$_templatesManager.templates;t.integrationOptions.templates=i;for(var r=e.$.vnode.props,n=0,a=Object.keys(i);n<a.length;n++){var s=a[n];t[ps.getTemplatePropName(r,s)]=s}e.$_templatesManager.resetDirtyFlag()}return t},$_getWatchMethod:function(){var e=this;return function(t,i,r){return r=r||{},r.skipImmediate||i(t()),e.$watch(function(){return t()},function(n,a){(ps.toComparable(a)!==ps.toComparable(n)||r.deep)&&i(n)},{deep:r.deep})}},$_getExtraIntegrationOptions:function(){return{}},$_processChildren:function(e){},$_createEmitters:function(e){var t=this;this.$attrs&&Object.keys(this.$attrs).forEach(function(i){var r=ps.camelize(i);e.on(r,function(n){t.$emit(i,n)})})}}})}Ws.initBaseComponent=Ek;function Ik(e){var t=[];return ps.forEachChildNode(e,function(i){var r=i.parentNode,n=i.hasAttribute&&i.hasAttribute("isExtension");(i.nodeName==="#comment"||n)&&r&&(t.push(i),r.removeChild(i))}),t}function Tk(e,t){t.forEach(function(i){e.appendChild(i)})}function sle(){return n_.defineComponent({extends:Ek(),methods:{$_getExtraIntegrationOptions:function(){return{onInitializing:function(){this.beginUpdate()}}},$_processChildren:function(e){e.forEach(function(t){!t||typeof t!="object"||(t.$_hasOwner=!0)})}},mounted:function(){var e=this,t=Ik(this.$el),i=this;this.$_createWidget(this.$el),i.$_instance.endUpdate(),Tk(this.$el,t),this.$slots&&this.$slots.default&&wa.getChildren(i).forEach(function(r){var n=r;n&&n.$_isExtension&&n.$_attachTo(e.$el)})}})}Ws.initDxComponent=sle;var Nf={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(Nf,"__esModule",{value:!0});Nf.initDxExtensionComponent=void 0;var ole=qr,lle=Ws,ule=so();function dle(){return ole.defineComponent({extends:lle.initBaseComponent(),mounted:function(){this.$el.setAttribute("isExtension","true");var e=ule.getNodeOptions(this);e.$_isExtension=!0,e.$_attachTo=this.attachTo.bind(this),!(e&&e.$_hasOwner)&&this.attachTo(this.$el)},methods:{attachTo:function(e){this.$_createWidget(e)}}})}Nf.initDxExtensionComponent=dle;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(Na,"__esModule",{value:!0});Na.createExtensionComponent=Na.createConfigurationComponent=Na.createComponent=void 0;var nb=qr,hle=Ws,cle=an,fle=Nf,qc=so();function ple(e){return e.extends=hle.initDxComponent(),qc.setCompatOptions(e),e.model&&qc.setVModel(e),nb.defineComponent(e)}Na.createComponent=ple;function mle(e){return e.extends=cle.initDxConfiguration(),qc.setCompatOptions(e),nb.defineComponent(e)}Na.createConfigurationComponent=mle;function gle(e){return e.extends=fle.initDxExtensionComponent(),qc.setCompatOptions(e),nb.defineComponent(e)}Na.createExtensionComponent=gle;var al={};/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var vle=Oe&&Oe.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),_le=Oe&&Oe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ble=Oe&&Oe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&vle(t,e,i);return _le(t,e),t};Object.defineProperty(al,"__esModule",{value:!0});al.isVue3=al.getVueVersion=void 0;var nI=ble(qr),yle=nI.default||nI;function Ak(){var e=yle.version;return Number(e.split(".")[0])}al.getVueVersion=Ak;function Cle(){return Ak()===3}al.isVue3=Cle;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var wle=Oe&&Oe.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),xle=Oe&&Oe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ok=Oe&&Oe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&wle(t,e,i);return xle(t,e),t};Object.defineProperty(ia,"__esModule",{value:!0});ia.createExtensionComponent=ia.createConfigurationComponent=ia.createComponent=void 0;var Sle=Ok(La),Ele=Ok(Na),Ile=al,ab=Ile.isVue3()?Ele:Sle;ia.createComponent=ab.createComponent;ia.createConfigurationComponent=ab.createConfigurationComponent;ia.createExtensionComponent=ab.createExtensionComponent;/*!
 * devextreme-vue
 * Version: 22.1.6
 * Build date: Tue Oct 18 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Tle=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.DxLookup=Ce.DxLoadPanel=Ce.DxLabel=Ce.DxKeyboardNavigation=Ce.DxItem=Ce.DxHide=Ce.DxHeaderFilter=Ce.DxGroupPanel=Ce.DxGroupOperationDescriptions=Ce.DxGroupItem=Ce.DxGroupingTexts=Ce.DxGrouping=Ce.DxFrom=Ce.DxFormItem=Ce.DxFormat=Ce.DxForm=Ce.DxFilterRow=Ce.DxFilterPanelTexts=Ce.DxFilterPanel=Ce.DxFilterOperationDescriptions=Ce.DxFilterBuilderPopup=Ce.DxFilterBuilder=Ce.DxFieldLookup=Ce.DxField=Ce.DxExportTexts=kle=Ce.DxExport=Ce.DxEmailRule=Ce.DxEditingTexts=Ce.DxEditing=Ce.DxDataGridHeaderFilterTexts=Ce.DxDataGridHeaderFilter=Ce.DxCustomRule=Ce.DxCustomOperation=Ce.DxCursorOffset=Ce.DxCompareRule=Ce.DxColumnLookup=Ce.DxColumnHeaderFilter=Ce.DxColumnFixingTexts=Ce.DxColumnFixing=Ce.DxColumnChooser=Rle=Ce.DxColumn=Ce.DxCollision=Ce.DxColCountByScreen=Ce.DxChange=Ce.DxButton=Ce.DxBoundaryOffset=Ce.DxAt=Ce.DxAsyncRule=Ce.DxAnimation=Dle=Ce.DxDataGrid=void 0;Ce.DxValueFormat=Ce.DxValidationRule=Ce.DxTotalItem=Ce.DxToolbarItem=Ce.DxToolbar=Ce.DxTo=Ce.DxTexts=Ce.DxSummaryTexts=Ce.DxSummary=Ce.DxStringLengthRule=Ce.DxStateStoring=Ce.DxSorting=Ce.DxSortByGroupSummaryInfo=Ce.DxShow=Ce.DxSelection=Ce.DxSearchPanel=Ce.DxScrolling=Ce.DxRowDragging=Ce.DxRequiredRule=Ce.DxRemoteOperations=Ce.DxRangeRule=Ce.DxPosition=Ce.DxPopup=Ce.DxPatternRule=Ce.DxPaging=Ce.DxPager=Ce.DxOperationDescriptions=Ce.DxOffset=Ce.DxNumericRule=Ce.DxMy=Ce.DxMasterDetail=void 0;var Ale=Tle(cse),Ole=ia,We=ia,Dk=Ole.createComponent({props:{accessKey:String,activeStateEnabled:Boolean,allowColumnReordering:Boolean,allowColumnResizing:Boolean,autoNavigateToFocusedRow:Boolean,cacheEnabled:Boolean,cellHintEnabled:Boolean,columnAutoWidth:Boolean,columnChooser:Object,columnFixing:Object,columnHidingEnabled:Boolean,columnMinWidth:Number,columnResizingMode:String,columns:Array,columnWidth:[Number,String],customizeColumns:Function,customizeExportData:Function,dataRowTemplate:{},dataSource:{},dateSerializationFormat:String,disabled:Boolean,editing:Object,elementAttr:Object,errorRowEnabled:Boolean,export:Object,filterBuilder:Object,filterBuilderPopup:Object,filterPanel:Object,filterRow:Object,filterSyncEnabled:[Boolean,String],filterValue:[Array,Function,String],focusedColumnIndex:Number,focusedRowEnabled:Boolean,focusedRowIndex:Number,focusedRowKey:{},focusStateEnabled:Boolean,grouping:Object,groupPanel:Object,headerFilter:Object,height:[Function,Number,String],highlightChanges:Boolean,hint:String,hoverStateEnabled:Boolean,keyboardNavigation:Object,keyExpr:[Array,String],loadPanel:Object,masterDetail:Object,noDataText:String,onAdaptiveDetailRowPreparing:Function,onCellClick:Function,onCellDblClick:Function,onCellHoverChanged:Function,onCellPrepared:Function,onContentReady:Function,onContextMenuPreparing:Function,onDataErrorOccurred:Function,onDisposing:Function,onEditCanceled:Function,onEditCanceling:Function,onEditingStart:Function,onEditorPrepared:Function,onEditorPreparing:Function,onExported:Function,onExporting:Function,onFileSaving:Function,onFocusedCellChanged:Function,onFocusedCellChanging:Function,onFocusedRowChanged:Function,onFocusedRowChanging:Function,onInitialized:Function,onInitNewRow:Function,onKeyDown:Function,onOptionChanged:Function,onRowClick:Function,onRowCollapsed:Function,onRowCollapsing:Function,onRowDblClick:Function,onRowExpanded:Function,onRowExpanding:Function,onRowInserted:Function,onRowInserting:Function,onRowPrepared:Function,onRowRemoved:Function,onRowRemoving:Function,onRowUpdated:Function,onRowUpdating:Function,onRowValidating:Function,onSaved:Function,onSaving:Function,onSelectionChanged:Function,onToolbarPreparing:Function,pager:Object,paging:Object,remoteOperations:[Boolean,Object,String],renderAsync:Boolean,repaintChangesOnly:Boolean,rowAlternationEnabled:Boolean,rowDragging:Object,rowTemplate:{},rtlEnabled:Boolean,scrolling:Object,searchPanel:Object,selectedRowKeys:Array,selection:Object,selectionFilter:[Array,Function,String],showBorders:Boolean,showColumnHeaders:Boolean,showColumnLines:Boolean,showRowLines:Boolean,sortByGroupSummaryInfo:Array,sorting:Object,stateStoring:Object,summary:Object,syncLookupFilterValues:Boolean,tabIndex:Number,toolbar:Object,twoWayBindingEnabled:Boolean,visible:Boolean,width:[Function,Number,String],wordWrapEnabled:Boolean},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowColumnReordering":null,"update:allowColumnResizing":null,"update:autoNavigateToFocusedRow":null,"update:cacheEnabled":null,"update:cellHintEnabled":null,"update:columnAutoWidth":null,"update:columnChooser":null,"update:columnFixing":null,"update:columnHidingEnabled":null,"update:columnMinWidth":null,"update:columnResizingMode":null,"update:columns":null,"update:columnWidth":null,"update:customizeColumns":null,"update:customizeExportData":null,"update:dataRowTemplate":null,"update:dataSource":null,"update:dateSerializationFormat":null,"update:disabled":null,"update:editing":null,"update:elementAttr":null,"update:errorRowEnabled":null,"update:export":null,"update:filterBuilder":null,"update:filterBuilderPopup":null,"update:filterPanel":null,"update:filterRow":null,"update:filterSyncEnabled":null,"update:filterValue":null,"update:focusedColumnIndex":null,"update:focusedRowEnabled":null,"update:focusedRowIndex":null,"update:focusedRowKey":null,"update:focusStateEnabled":null,"update:grouping":null,"update:groupPanel":null,"update:headerFilter":null,"update:height":null,"update:highlightChanges":null,"update:hint":null,"update:hoverStateEnabled":null,"update:keyboardNavigation":null,"update:keyExpr":null,"update:loadPanel":null,"update:masterDetail":null,"update:noDataText":null,"update:onAdaptiveDetailRowPreparing":null,"update:onCellClick":null,"update:onCellDblClick":null,"update:onCellHoverChanged":null,"update:onCellPrepared":null,"update:onContentReady":null,"update:onContextMenuPreparing":null,"update:onDataErrorOccurred":null,"update:onDisposing":null,"update:onEditCanceled":null,"update:onEditCanceling":null,"update:onEditingStart":null,"update:onEditorPrepared":null,"update:onEditorPreparing":null,"update:onExported":null,"update:onExporting":null,"update:onFileSaving":null,"update:onFocusedCellChanged":null,"update:onFocusedCellChanging":null,"update:onFocusedRowChanged":null,"update:onFocusedRowChanging":null,"update:onInitialized":null,"update:onInitNewRow":null,"update:onKeyDown":null,"update:onOptionChanged":null,"update:onRowClick":null,"update:onRowCollapsed":null,"update:onRowCollapsing":null,"update:onRowDblClick":null,"update:onRowExpanded":null,"update:onRowExpanding":null,"update:onRowInserted":null,"update:onRowInserting":null,"update:onRowPrepared":null,"update:onRowRemoved":null,"update:onRowRemoving":null,"update:onRowUpdated":null,"update:onRowUpdating":null,"update:onRowValidating":null,"update:onSaved":null,"update:onSaving":null,"update:onSelectionChanged":null,"update:onToolbarPreparing":null,"update:pager":null,"update:paging":null,"update:remoteOperations":null,"update:renderAsync":null,"update:repaintChangesOnly":null,"update:rowAlternationEnabled":null,"update:rowDragging":null,"update:rowTemplate":null,"update:rtlEnabled":null,"update:scrolling":null,"update:searchPanel":null,"update:selectedRowKeys":null,"update:selection":null,"update:selectionFilter":null,"update:showBorders":null,"update:showColumnHeaders":null,"update:showColumnLines":null,"update:showRowLines":null,"update:sortByGroupSummaryInfo":null,"update:sorting":null,"update:stateStoring":null,"update:summary":null,"update:syncLookupFilterValues":null,"update:tabIndex":null,"update:toolbar":null,"update:twoWayBindingEnabled":null,"update:visible":null,"update:width":null,"update:wordWrapEnabled":null},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=Ale.default,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={column:{isCollectionItem:!0,optionName:"columns"},columnChooser:{isCollectionItem:!1,optionName:"columnChooser"},columnFixing:{isCollectionItem:!1,optionName:"columnFixing"},dataGridHeaderFilter:{isCollectionItem:!1,optionName:"headerFilter"},editing:{isCollectionItem:!1,optionName:"editing"},export:{isCollectionItem:!1,optionName:"export"},filterBuilder:{isCollectionItem:!1,optionName:"filterBuilder"},filterBuilderPopup:{isCollectionItem:!1,optionName:"filterBuilderPopup"},filterPanel:{isCollectionItem:!1,optionName:"filterPanel"},filterRow:{isCollectionItem:!1,optionName:"filterRow"},grouping:{isCollectionItem:!1,optionName:"grouping"},groupPanel:{isCollectionItem:!1,optionName:"groupPanel"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"},keyboardNavigation:{isCollectionItem:!1,optionName:"keyboardNavigation"},loadPanel:{isCollectionItem:!1,optionName:"loadPanel"},masterDetail:{isCollectionItem:!1,optionName:"masterDetail"},pager:{isCollectionItem:!1,optionName:"pager"},paging:{isCollectionItem:!1,optionName:"paging"},remoteOperations:{isCollectionItem:!1,optionName:"remoteOperations"},rowDragging:{isCollectionItem:!1,optionName:"rowDragging"},scrolling:{isCollectionItem:!1,optionName:"scrolling"},searchPanel:{isCollectionItem:!1,optionName:"searchPanel"},selection:{isCollectionItem:!1,optionName:"selection"},sortByGroupSummaryInfo:{isCollectionItem:!0,optionName:"sortByGroupSummaryInfo"},sorting:{isCollectionItem:!1,optionName:"sorting"},stateStoring:{isCollectionItem:!1,optionName:"stateStoring"},summary:{isCollectionItem:!1,optionName:"summary"},toolbar:{isCollectionItem:!1,optionName:"toolbar"}}}}),Dle=Ce.DxDataGrid=Dk,sb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:hide":null,"update:show":null},props:{hide:[Object,Number,String],show:[Object,Number,String]}});Ce.DxAnimation=sb;sb.$_optionName="animation";sb.$_expectedChildren={hide:{isCollectionItem:!1,optionName:"hide"},show:{isCollectionItem:!1,optionName:"show"}};var Vf=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:reevaluate":null,"update:type":null,"update:validationCallback":null},props:{ignoreEmptyValue:Boolean,message:String,reevaluate:Boolean,type:String,validationCallback:Function}});Ce.DxAsyncRule=Vf;Vf.$_optionName="validationRules";Vf.$_isCollectionItem=!0;Vf.$_predefinedProps={type:"async"};var Rk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});Ce.DxAt=Rk;Rk.$_optionName="at";var kk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}});Ce.DxBoundaryOffset=kk;kk.$_optionName="boundaryOffset";var ob=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:hint":null,"update:icon":null,"update:name":null,"update:onClick":null,"update:template":null,"update:text":null,"update:visible":null},props:{cssClass:String,disabled:[Boolean,Function],hint:String,icon:String,name:String,onClick:Function,template:{},text:String,visible:[Boolean,Function]}});Ce.DxButton=ob;ob.$_optionName="buttons";ob.$_isCollectionItem=!0;var lb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:data":null,"update:insertAfterKey":null,"update:insertBeforeKey":null,"update:type":null},props:{data:{},insertAfterKey:{},insertBeforeKey:{},type:String}});Ce.DxChange=lb;lb.$_optionName="changes";lb.$_isCollectionItem=!0;var Mk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:lg":null,"update:md":null,"update:sm":null,"update:xs":null},props:{lg:Number,md:Number,sm:Number,xs:Number}});Ce.DxColCountByScreen=Mk;Mk.$_optionName="colCountByScreen";var Bk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});Ce.DxCollision=Bk;Bk.$_optionName="collision";var $f=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:allowEditing":null,"update:allowExporting":null,"update:allowFiltering":null,"update:allowFixing":null,"update:allowGrouping":null,"update:allowHeaderFiltering":null,"update:allowHiding":null,"update:allowReordering":null,"update:allowResizing":null,"update:allowSearch":null,"update:allowSorting":null,"update:autoExpandGroup":null,"update:buttons":null,"update:calculateCellValue":null,"update:calculateDisplayValue":null,"update:calculateFilterExpression":null,"update:calculateGroupValue":null,"update:calculateSortValue":null,"update:caption":null,"update:cellTemplate":null,"update:columns":null,"update:cssClass":null,"update:customizeText":null,"update:dataField":null,"update:dataType":null,"update:editCellTemplate":null,"update:editorOptions":null,"update:encodeHtml":null,"update:falseText":null,"update:filterOperations":null,"update:filterType":null,"update:filterValue":null,"update:filterValues":null,"update:fixed":null,"update:fixedPosition":null,"update:format":null,"update:formItem":null,"update:groupCellTemplate":null,"update:grouped":null,"update:groupIndex":null,"update:headerCellTemplate":null,"update:headerFilter":null,"update:hidingPriority":null,"update:isBand":null,"update:lookup":null,"update:minWidth":null,"update:name":null,"update:ownerBand":null,"update:renderAsync":null,"update:resized":null,"update:selectedFilterOperation":null,"update:setCellValue":null,"update:showEditorAlways":null,"update:showInColumnChooser":null,"update:showWhenGrouped":null,"update:sortIndex":null,"update:sortingMethod":null,"update:sortOrder":null,"update:trueText":null,"update:type":null,"update:validationRules":null,"update:visible":null,"update:visibleIndex":null,"update:width":null},props:{alignment:String,allowEditing:Boolean,allowExporting:Boolean,allowFiltering:Boolean,allowFixing:Boolean,allowGrouping:Boolean,allowHeaderFiltering:Boolean,allowHiding:Boolean,allowReordering:Boolean,allowResizing:Boolean,allowSearch:Boolean,allowSorting:Boolean,autoExpandGroup:Boolean,buttons:Array,calculateCellValue:Function,calculateDisplayValue:[Function,String],calculateFilterExpression:Function,calculateGroupValue:[Function,String],calculateSortValue:[Function,String],caption:String,cellTemplate:{},columns:Array,cssClass:String,customizeText:Function,dataField:String,dataType:String,editCellTemplate:{},editorOptions:{},encodeHtml:Boolean,falseText:String,filterOperations:Array,filterType:String,filterValue:{},filterValues:Array,fixed:Boolean,fixedPosition:String,format:[Object,Function,String],formItem:Object,groupCellTemplate:{},grouped:Boolean,groupIndex:Number,headerCellTemplate:{},headerFilter:Object,hidingPriority:Number,isBand:Boolean,lookup:Object,minWidth:Number,name:String,ownerBand:Number,renderAsync:Boolean,resized:Function,selectedFilterOperation:String,setCellValue:Function,showEditorAlways:Boolean,showInColumnChooser:Boolean,showWhenGrouped:Boolean,sortIndex:Number,sortingMethod:Function,sortOrder:String,trueText:String,type:String,validationRules:Array,visible:Boolean,visibleIndex:Number,width:[Number,String]}}),Rle=Ce.DxColumn=$f;$f.$_optionName="columns";$f.$_isCollectionItem=!0;$f.$_expectedChildren={AsyncRule:{isCollectionItem:!0,optionName:"validationRules"},button:{isCollectionItem:!0,optionName:"buttons"},columnHeaderFilter:{isCollectionItem:!1,optionName:"headerFilter"},columnLookup:{isCollectionItem:!1,optionName:"lookup"},CompareRule:{isCollectionItem:!0,optionName:"validationRules"},CustomRule:{isCollectionItem:!0,optionName:"validationRules"},EmailRule:{isCollectionItem:!0,optionName:"validationRules"},format:{isCollectionItem:!1,optionName:"format"},formItem:{isCollectionItem:!1,optionName:"formItem"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"},lookup:{isCollectionItem:!1,optionName:"lookup"},NumericRule:{isCollectionItem:!0,optionName:"validationRules"},PatternRule:{isCollectionItem:!0,optionName:"validationRules"},RangeRule:{isCollectionItem:!0,optionName:"validationRules"},RequiredRule:{isCollectionItem:!0,optionName:"validationRules"},StringLengthRule:{isCollectionItem:!0,optionName:"validationRules"},validationRule:{isCollectionItem:!0,optionName:"validationRules"}};var Pk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:emptyPanelText":null,"update:enabled":null,"update:height":null,"update:mode":null,"update:searchTimeout":null,"update:sortOrder":null,"update:title":null,"update:width":null},props:{allowSearch:Boolean,emptyPanelText:String,enabled:Boolean,height:Number,mode:String,searchTimeout:Number,sortOrder:String,title:String,width:Number}});Ce.DxColumnChooser=Pk;Pk.$_optionName="columnChooser";var ub=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:texts":null},props:{enabled:Boolean,texts:Object}});Ce.DxColumnFixing=ub;ub.$_optionName="columnFixing";ub.$_expectedChildren={columnFixingTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};var Fk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:fix":null,"update:leftPosition":null,"update:rightPosition":null,"update:unfix":null},props:{fix:String,leftPosition:String,rightPosition:String,unfix:String}});Ce.DxColumnFixingTexts=Fk;Fk.$_optionName="texts";var Lk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:searchMode":null,"update:width":null},props:{allowSearch:Boolean,dataSource:{},groupInterval:[Number,String],height:Number,searchMode:String,width:Number}});Ce.DxColumnHeaderFilter=Lk;Lk.$_optionName="headerFilter";var Nk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowClearing":null,"update:calculateCellValue":null,"update:dataSource":null,"update:displayExpr":null,"update:valueExpr":null},props:{allowClearing:Boolean,calculateCellValue:Function,dataSource:{},displayExpr:[Function,String],valueExpr:String}});Ce.DxColumnLookup=Nk;Nk.$_optionName="lookup";var Hf=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:comparisonTarget":null,"update:comparisonType":null,"update:ignoreEmptyValue":null,"update:message":null,"update:type":null},props:{comparisonTarget:Function,comparisonType:String,ignoreEmptyValue:Boolean,message:String,type:String}});Ce.DxCompareRule=Hf;Hf.$_optionName="validationRules";Hf.$_isCollectionItem=!0;Hf.$_predefinedProps={type:"compare"};var Vk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}});Ce.DxCursorOffset=Vk;Vk.$_optionName="cursorOffset";var db=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:calculateFilterExpression":null,"update:caption":null,"update:customizeText":null,"update:dataTypes":null,"update:editorTemplate":null,"update:hasValue":null,"update:icon":null,"update:name":null},props:{calculateFilterExpression:Function,caption:String,customizeText:Function,dataTypes:Array,editorTemplate:{},hasValue:Boolean,icon:String,name:String}});Ce.DxCustomOperation=db;db.$_optionName="customOperations";db.$_isCollectionItem=!0;var zf=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:reevaluate":null,"update:type":null,"update:validationCallback":null},props:{ignoreEmptyValue:Boolean,message:String,reevaluate:Boolean,type:String,validationCallback:Function}});Ce.DxCustomRule=zf;zf.$_optionName="validationRules";zf.$_isCollectionItem=!0;zf.$_predefinedProps={type:"custom"};var hb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:height":null,"update:searchTimeout":null,"update:texts":null,"update:visible":null,"update:width":null},props:{allowSearch:Boolean,height:Number,searchTimeout:Number,texts:Object,visible:Boolean,width:Number}});Ce.DxDataGridHeaderFilter=hb;hb.$_optionName="headerFilter";hb.$_expectedChildren={dataGridHeaderFilterTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};var $k=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cancel":null,"update:emptyValue":null,"update:ok":null},props:{cancel:String,emptyValue:String,ok:String}});Ce.DxDataGridHeaderFilterTexts=$k;$k.$_optionName="texts";var cb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowAdding":null,"update:allowDeleting":null,"update:allowUpdating":null,"update:changes":null,"update:confirmDelete":null,"update:editColumnName":null,"update:editRowKey":null,"update:form":null,"update:mode":null,"update:newRowPosition":null,"update:popup":null,"update:refreshMode":null,"update:selectTextOnEditStart":null,"update:startEditAction":null,"update:texts":null,"update:useIcons":null},props:{allowAdding:Boolean,allowDeleting:[Boolean,Function],allowUpdating:[Boolean,Function],changes:Array,confirmDelete:Boolean,editColumnName:String,editRowKey:{},form:Object,mode:String,newRowPosition:String,popup:Object,refreshMode:String,selectTextOnEditStart:Boolean,startEditAction:String,texts:{},useIcons:Boolean}});Ce.DxEditing=cb;cb.$_optionName="editing";cb.$_expectedChildren={change:{isCollectionItem:!0,optionName:"changes"},editingTexts:{isCollectionItem:!1,optionName:"texts"},form:{isCollectionItem:!1,optionName:"form"},popup:{isCollectionItem:!1,optionName:"popup"},texts:{isCollectionItem:!1,optionName:"texts"}};var Hk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:addRow":null,"update:cancelAllChanges":null,"update:cancelRowChanges":null,"update:confirmDeleteMessage":null,"update:confirmDeleteTitle":null,"update:deleteRow":null,"update:editRow":null,"update:saveAllChanges":null,"update:saveRowChanges":null,"update:undeleteRow":null,"update:validationCancelChanges":null},props:{addRow:String,cancelAllChanges:String,cancelRowChanges:String,confirmDeleteMessage:String,confirmDeleteTitle:String,deleteRow:String,editRow:String,saveAllChanges:String,saveRowChanges:String,undeleteRow:String,validationCancelChanges:String}});Ce.DxEditingTexts=Hk;Hk.$_optionName="texts";var Wf=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:type":null},props:{ignoreEmptyValue:Boolean,message:String,type:String}});Ce.DxEmailRule=Wf;Wf.$_optionName="validationRules";Wf.$_isCollectionItem=!0;Wf.$_predefinedProps={type:"email"};var fb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowExportSelectedData":null,"update:customizeExcelCell":null,"update:enabled":null,"update:excelFilterEnabled":null,"update:excelWrapTextEnabled":null,"update:fileName":null,"update:formats":null,"update:ignoreExcelErrors":null,"update:proxyUrl":null,"update:texts":null},props:{allowExportSelectedData:Boolean,customizeExcelCell:Function,enabled:Boolean,excelFilterEnabled:Boolean,excelWrapTextEnabled:Boolean,fileName:String,formats:Array,ignoreExcelErrors:Boolean,proxyUrl:String,texts:Object}}),kle=Ce.DxExport=fb;fb.$_optionName="export";fb.$_expectedChildren={exportTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};var zk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:exportAll":null,"update:exportSelectedRows":null,"update:exportTo":null},props:{exportAll:String,exportSelectedRows:String,exportTo:String}});Ce.DxExportTexts=zk;zk.$_optionName="texts";var jf=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:calculateFilterExpression":null,"update:caption":null,"update:customizeText":null,"update:dataField":null,"update:dataType":null,"update:defaultFilterOperation":null,"update:editorOptions":null,"update:editorTemplate":null,"update:falseText":null,"update:filterOperations":null,"update:format":null,"update:lookup":null,"update:name":null,"update:trueText":null},props:{calculateFilterExpression:Function,caption:String,customizeText:Function,dataField:String,dataType:String,defaultFilterOperation:String,editorOptions:{},editorTemplate:{},falseText:String,filterOperations:Array,format:[Object,Function,String],lookup:Object,name:String,trueText:String}});Ce.DxField=jf;jf.$_optionName="fields";jf.$_isCollectionItem=!0;jf.$_expectedChildren={fieldLookup:{isCollectionItem:!1,optionName:"lookup"},format:{isCollectionItem:!1,optionName:"format"},lookup:{isCollectionItem:!1,optionName:"lookup"}};var Wk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowClearing":null,"update:dataSource":null,"update:displayExpr":null,"update:valueExpr":null},props:{allowClearing:Boolean,dataSource:[Array,Object],displayExpr:[Function,String],valueExpr:[Function,String]}});Ce.DxFieldLookup=Wk;Wk.$_optionName="lookup";var pb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowHierarchicalFields":null,"update:bindingOptions":null,"update:customOperations":null,"update:disabled":null,"update:elementAttr":null,"update:fields":null,"update:filterOperationDescriptions":null,"update:focusStateEnabled":null,"update:groupOperationDescriptions":null,"update:groupOperations":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:maxGroupLevel":null,"update:onContentReady":null,"update:onDisposing":null,"update:onEditorPrepared":null,"update:onEditorPreparing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onValueChanged":null,"update:rtlEnabled":null,"update:tabIndex":null,"update:value":null,"update:visible":null,"update:width":null},props:{accessKey:String,activeStateEnabled:Boolean,allowHierarchicalFields:Boolean,bindingOptions:Object,customOperations:Array,disabled:Boolean,elementAttr:Object,fields:Array,filterOperationDescriptions:Object,focusStateEnabled:Boolean,groupOperationDescriptions:Object,groupOperations:Array,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,maxGroupLevel:Number,onContentReady:Function,onDisposing:Function,onEditorPrepared:Function,onEditorPreparing:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onOptionChanged:Function,onValueChanged:Function,rtlEnabled:Boolean,tabIndex:Number,value:[Array,Function,String],visible:Boolean,width:[Function,Number,String]}});Ce.DxFilterBuilder=pb;pb.$_optionName="filterBuilder";pb.$_expectedChildren={customOperation:{isCollectionItem:!0,optionName:"customOperations"},field:{isCollectionItem:!0,optionName:"fields"},filterOperationDescriptions:{isCollectionItem:!1,optionName:"filterOperationDescriptions"},groupOperationDescriptions:{isCollectionItem:!1,optionName:"groupOperationDescriptions"}};var jk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:animation":null,"update:bindingOptions":null,"update:closeOnOutsideClick":null,"update:container":null,"update:contentTemplate":null,"update:copyRootClassesToWrapper":null,"update:deferRendering":null,"update:disabled":null,"update:dragAndResizeArea":null,"update:dragEnabled":null,"update:dragOutsideBoundary":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:fullScreen":null,"update:height":null,"update:hideOnOutsideClick":null,"update:hideOnParentScroll":null,"update:hint":null,"update:hoverStateEnabled":null,"update:maxHeight":null,"update:maxWidth":null,"update:minHeight":null,"update:minWidth":null,"update:onContentReady":null,"update:onDisposing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onHidden":null,"update:onHiding":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResize":null,"update:onResizeEnd":null,"update:onResizeStart":null,"update:onShowing":null,"update:onShown":null,"update:onTitleRendered":null,"update:position":null,"update:resizeEnabled":null,"update:restorePosition":null,"update:rtlEnabled":null,"update:shading":null,"update:shadingColor":null,"update:showCloseButton":null,"update:showTitle":null,"update:tabIndex":null,"update:title":null,"update:titleTemplate":null,"update:toolbarItems":null,"update:visible":null,"update:width":null,"update:wrapperAttr":null},props:{accessKey:String,activeStateEnabled:Boolean,animation:Object,bindingOptions:Object,closeOnOutsideClick:[Boolean,Function],container:{},contentTemplate:{},copyRootClassesToWrapper:Boolean,deferRendering:Boolean,disabled:Boolean,dragAndResizeArea:{},dragEnabled:Boolean,dragOutsideBoundary:Boolean,elementAttr:{},focusStateEnabled:Boolean,fullScreen:Boolean,height:[Function,Number,String],hideOnOutsideClick:[Boolean,Function],hideOnParentScroll:Boolean,hint:String,hoverStateEnabled:Boolean,maxHeight:[Function,Number,String],maxWidth:[Function,Number,String],minHeight:[Function,Number,String],minWidth:[Function,Number,String],onContentReady:Function,onDisposing:Function,onFocusIn:Function,onFocusOut:Function,onHidden:Function,onHiding:Function,onInitialized:Function,onOptionChanged:Function,onResize:Function,onResizeEnd:Function,onResizeStart:Function,onShowing:Function,onShown:Function,onTitleRendered:Function,position:[Function,Object,String],resizeEnabled:Boolean,restorePosition:Boolean,rtlEnabled:Boolean,shading:Boolean,shadingColor:String,showCloseButton:Boolean,showTitle:Boolean,tabIndex:Number,title:String,titleTemplate:{},toolbarItems:Array,visible:Boolean,width:[Function,Number,String],wrapperAttr:{}}});Ce.DxFilterBuilderPopup=jk;jk.$_optionName="filterBuilderPopup";var Uk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:between":null,"update:contains":null,"update:endsWith":null,"update:equal":null,"update:greaterThan":null,"update:greaterThanOrEqual":null,"update:isBlank":null,"update:isNotBlank":null,"update:lessThan":null,"update:lessThanOrEqual":null,"update:notContains":null,"update:notEqual":null,"update:startsWith":null},props:{between:String,contains:String,endsWith:String,equal:String,greaterThan:String,greaterThanOrEqual:String,isBlank:String,isNotBlank:String,lessThan:String,lessThanOrEqual:String,notContains:String,notEqual:String,startsWith:String}});Ce.DxFilterOperationDescriptions=Uk;Uk.$_optionName="filterOperationDescriptions";var mb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:customizeText":null,"update:filterEnabled":null,"update:texts":null,"update:visible":null},props:{customizeText:Function,filterEnabled:Boolean,texts:Object,visible:Boolean}});Ce.DxFilterPanel=mb;mb.$_optionName="filterPanel";mb.$_expectedChildren={filterPanelTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};var Gk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:clearFilter":null,"update:createFilter":null,"update:filterEnabledHint":null},props:{clearFilter:String,createFilter:String,filterEnabledHint:String}});Ce.DxFilterPanelTexts=Gk;Gk.$_optionName="texts";var gb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:applyFilter":null,"update:applyFilterText":null,"update:betweenEndText":null,"update:betweenStartText":null,"update:operationDescriptions":null,"update:resetOperationText":null,"update:showAllText":null,"update:showOperationChooser":null,"update:visible":null},props:{applyFilter:String,applyFilterText:String,betweenEndText:String,betweenStartText:String,operationDescriptions:Object,resetOperationText:String,showAllText:String,showOperationChooser:Boolean,visible:Boolean}});Ce.DxFilterRow=gb;gb.$_optionName="filterRow";gb.$_expectedChildren={operationDescriptions:{isCollectionItem:!1,optionName:"operationDescriptions"}};var vb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:alignItemLabels":null,"update:alignItemLabelsInAllGroups":null,"update:bindingOptions":null,"update:colCount":null,"update:colCountByScreen":null,"update:customizeItem":null,"update:disabled":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:formData":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:items":null,"update:labelLocation":null,"update:labelMode":null,"update:minColWidth":null,"update:onContentReady":null,"update:onDisposing":null,"update:onEditorEnterKey":null,"update:onFieldDataChanged":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:optionalMark":null,"update:readOnly":null,"update:requiredMark":null,"update:requiredMessage":null,"update:rtlEnabled":null,"update:screenByWidth":null,"update:scrollingEnabled":null,"update:showColonAfterLabel":null,"update:showOptionalMark":null,"update:showRequiredMark":null,"update:showValidationSummary":null,"update:tabIndex":null,"update:validationGroup":null,"update:visible":null,"update:width":null},props:{accessKey:String,activeStateEnabled:Boolean,alignItemLabels:Boolean,alignItemLabelsInAllGroups:Boolean,bindingOptions:Object,colCount:[Number,String],colCountByScreen:Object,customizeItem:Function,disabled:Boolean,elementAttr:Object,focusStateEnabled:Boolean,formData:{},height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,items:Array,labelLocation:String,labelMode:String,minColWidth:Number,onContentReady:Function,onDisposing:Function,onEditorEnterKey:Function,onFieldDataChanged:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onOptionChanged:Function,optionalMark:String,readOnly:Boolean,requiredMark:String,requiredMessage:String,rtlEnabled:Boolean,screenByWidth:Function,scrollingEnabled:Boolean,showColonAfterLabel:Boolean,showOptionalMark:Boolean,showRequiredMark:Boolean,showValidationSummary:Boolean,tabIndex:Number,validationGroup:String,visible:Boolean,width:[Function,Number,String]}});Ce.DxForm=vb;vb.$_optionName="form";vb.$_expectedChildren={colCountByScreen:{isCollectionItem:!1,optionName:"colCountByScreen"}};var Kk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null,"update:useCurrencyAccountingStyle":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String,useCurrencyAccountingStyle:Boolean}});Ce.DxFormat=Kk;Kk.$_optionName="format";var _b=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:colSpan":null,"update:cssClass":null,"update:dataField":null,"update:editorOptions":null,"update:editorType":null,"update:helpText":null,"update:isRequired":null,"update:itemType":null,"update:label":null,"update:name":null,"update:template":null,"update:validationRules":null,"update:visible":null,"update:visibleIndex":null},props:{colSpan:Number,cssClass:String,dataField:String,editorOptions:{},editorType:String,helpText:String,isRequired:Boolean,itemType:String,label:Object,name:String,template:{},validationRules:Array,visible:Boolean,visibleIndex:Number}});Ce.DxFormItem=_b;_b.$_optionName="formItem";_b.$_expectedChildren={AsyncRule:{isCollectionItem:!0,optionName:"validationRules"},CompareRule:{isCollectionItem:!0,optionName:"validationRules"},CustomRule:{isCollectionItem:!0,optionName:"validationRules"},EmailRule:{isCollectionItem:!0,optionName:"validationRules"},label:{isCollectionItem:!1,optionName:"label"},NumericRule:{isCollectionItem:!0,optionName:"validationRules"},PatternRule:{isCollectionItem:!0,optionName:"validationRules"},RangeRule:{isCollectionItem:!0,optionName:"validationRules"},RequiredRule:{isCollectionItem:!0,optionName:"validationRules"},StringLengthRule:{isCollectionItem:!0,optionName:"validationRules"},validationRule:{isCollectionItem:!0,optionName:"validationRules"}};var bb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:left":null,"update:opacity":null,"update:position":null,"update:scale":null,"update:top":null},props:{left:Number,opacity:Number,position:Object,scale:Number,top:Number}});Ce.DxFrom=bb;bb.$_optionName="from";bb.$_expectedChildren={position:{isCollectionItem:!1,optionName:"position"}};var yb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowCollapsing":null,"update:autoExpandAll":null,"update:contextMenuEnabled":null,"update:expandMode":null,"update:texts":null},props:{allowCollapsing:Boolean,autoExpandAll:Boolean,contextMenuEnabled:Boolean,expandMode:String,texts:Object}});Ce.DxGrouping=yb;yb.$_optionName="grouping";yb.$_expectedChildren={groupingTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};var qk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:groupByThisColumn":null,"update:groupContinuedMessage":null,"update:groupContinuesMessage":null,"update:ungroup":null,"update:ungroupAll":null},props:{groupByThisColumn:String,groupContinuedMessage:String,groupContinuesMessage:String,ungroup:String,ungroupAll:String}});Ce.DxGroupingTexts=qk;qk.$_optionName="texts";var Uf=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignByColumn":null,"update:column":null,"update:customizeText":null,"update:displayFormat":null,"update:name":null,"update:showInColumn":null,"update:showInGroupFooter":null,"update:skipEmptyValues":null,"update:summaryType":null,"update:valueFormat":null},props:{alignByColumn:Boolean,column:String,customizeText:Function,displayFormat:String,name:String,showInColumn:String,showInGroupFooter:Boolean,skipEmptyValues:Boolean,summaryType:String,valueFormat:[Object,Function,String]}});Ce.DxGroupItem=Uf;Uf.$_optionName="groupItems";Uf.$_isCollectionItem=!0;Uf.$_expectedChildren={valueFormat:{isCollectionItem:!1,optionName:"valueFormat"}};var Xk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:and":null,"update:notAnd":null,"update:notOr":null,"update:or":null},props:{and:String,notAnd:String,notOr:String,or:String}});Ce.DxGroupOperationDescriptions=Xk;Xk.$_optionName="groupOperationDescriptions";var Yk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowColumnDragging":null,"update:emptyPanelText":null,"update:visible":null},props:{allowColumnDragging:Boolean,emptyPanelText:String,visible:[Boolean,String]}});Ce.DxGroupPanel=Yk;Yk.$_optionName="groupPanel";var Zk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:searchMode":null,"update:searchTimeout":null,"update:texts":null,"update:visible":null,"update:width":null},props:{allowSearch:Boolean,dataSource:{},groupInterval:[Number,String],height:Number,searchMode:String,searchTimeout:Number,texts:Object,visible:Boolean,width:Number}});Ce.DxHeaderFilter=Zk;Zk.$_optionName="headerFilter";var Cb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:complete":null,"update:delay":null,"update:direction":null,"update:duration":null,"update:easing":null,"update:from":null,"update:staggerDelay":null,"update:start":null,"update:to":null,"update:type":null},props:{complete:Function,delay:Number,direction:String,duration:Number,easing:String,from:Object,staggerDelay:Number,start:Function,to:Object,type:String}});Ce.DxHide=Cb;Cb.$_optionName="hide";Cb.$_expectedChildren={from:{isCollectionItem:!1,optionName:"from"},to:{isCollectionItem:!1,optionName:"to"}};var wb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{cssClass:String,disabled:Boolean,html:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}});Ce.DxItem=wb;wb.$_optionName="items";wb.$_isCollectionItem=!0;var Jk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:editOnKeyPress":null,"update:enabled":null,"update:enterKeyAction":null,"update:enterKeyDirection":null},props:{editOnKeyPress:Boolean,enabled:Boolean,enterKeyAction:String,enterKeyDirection:String}});Ce.DxKeyboardNavigation=Jk;Jk.$_optionName="keyboardNavigation";var Qk=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:location":null,"update:showColon":null,"update:text":null,"update:visible":null},props:{alignment:String,location:String,showColon:Boolean,text:String,visible:Boolean}});Ce.DxLabel=Qk;Qk.$_optionName="label";var e4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:height":null,"update:indicatorSrc":null,"update:shading":null,"update:shadingColor":null,"update:showIndicator":null,"update:showPane":null,"update:text":null,"update:width":null},props:{enabled:[Boolean,String],height:Number,indicatorSrc:String,shading:Boolean,shadingColor:String,showIndicator:Boolean,showPane:Boolean,text:String,width:Number}});Ce.DxLoadPanel=e4;e4.$_optionName="loadPanel";var t4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowClearing":null,"update:calculateCellValue":null,"update:dataSource":null,"update:displayExpr":null,"update:valueExpr":null},props:{allowClearing:Boolean,calculateCellValue:Function,dataSource:{},displayExpr:[Function,String],valueExpr:String}});Ce.DxLookup=t4;t4.$_optionName="lookup";var i4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:autoExpandAll":null,"update:enabled":null,"update:template":null},props:{autoExpandAll:Boolean,enabled:Boolean,template:{}}});Ce.DxMasterDetail=i4;i4.$_optionName="masterDetail";var r4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});Ce.DxMy=r4;r4.$_optionName="my";var Gf=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:type":null},props:{ignoreEmptyValue:Boolean,message:String,type:String}});Ce.DxNumericRule=Gf;Gf.$_optionName="validationRules";Gf.$_isCollectionItem=!0;Gf.$_predefinedProps={type:"numeric"};var n4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}});Ce.DxOffset=n4;n4.$_optionName="offset";var a4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:between":null,"update:contains":null,"update:endsWith":null,"update:equal":null,"update:greaterThan":null,"update:greaterThanOrEqual":null,"update:lessThan":null,"update:lessThanOrEqual":null,"update:notContains":null,"update:notEqual":null,"update:startsWith":null},props:{between:String,contains:String,endsWith:String,equal:String,greaterThan:String,greaterThanOrEqual:String,lessThan:String,lessThanOrEqual:String,notContains:String,notEqual:String,startsWith:String}});Ce.DxOperationDescriptions=a4;a4.$_optionName="operationDescriptions";var s4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowedPageSizes":null,"update:displayMode":null,"update:infoText":null,"update:label":null,"update:showInfo":null,"update:showNavigationButtons":null,"update:showPageSizeSelector":null,"update:visible":null},props:{allowedPageSizes:[Array,String],displayMode:String,infoText:String,label:String,showInfo:Boolean,showNavigationButtons:Boolean,showPageSizeSelector:Boolean,visible:[Boolean,String]}});Ce.DxPager=s4;s4.$_optionName="pager";var o4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:pageIndex":null,"update:pageSize":null},props:{enabled:Boolean,pageIndex:Number,pageSize:Number}});Ce.DxPaging=o4;o4.$_optionName="paging";var Kf=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:pattern":null,"update:type":null},props:{ignoreEmptyValue:Boolean,message:String,pattern:{},type:String}});Ce.DxPatternRule=Kf;Kf.$_optionName="validationRules";Kf.$_isCollectionItem=!0;Kf.$_predefinedProps={type:"pattern"};var xb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:animation":null,"update:bindingOptions":null,"update:closeOnOutsideClick":null,"update:container":null,"update:contentTemplate":null,"update:copyRootClassesToWrapper":null,"update:deferRendering":null,"update:disabled":null,"update:dragAndResizeArea":null,"update:dragEnabled":null,"update:dragOutsideBoundary":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:fullScreen":null,"update:height":null,"update:hideOnOutsideClick":null,"update:hideOnParentScroll":null,"update:hint":null,"update:hoverStateEnabled":null,"update:maxHeight":null,"update:maxWidth":null,"update:minHeight":null,"update:minWidth":null,"update:onContentReady":null,"update:onDisposing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onHidden":null,"update:onHiding":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResize":null,"update:onResizeEnd":null,"update:onResizeStart":null,"update:onShowing":null,"update:onShown":null,"update:onTitleRendered":null,"update:position":null,"update:resizeEnabled":null,"update:restorePosition":null,"update:rtlEnabled":null,"update:shading":null,"update:shadingColor":null,"update:showCloseButton":null,"update:showTitle":null,"update:tabIndex":null,"update:title":null,"update:titleTemplate":null,"update:toolbarItems":null,"update:visible":null,"update:width":null,"update:wrapperAttr":null},props:{accessKey:String,activeStateEnabled:Boolean,animation:Object,bindingOptions:Object,closeOnOutsideClick:[Boolean,Function],container:{},contentTemplate:{},copyRootClassesToWrapper:Boolean,deferRendering:Boolean,disabled:Boolean,dragAndResizeArea:{},dragEnabled:Boolean,dragOutsideBoundary:Boolean,elementAttr:{},focusStateEnabled:Boolean,fullScreen:Boolean,height:[Function,Number,String],hideOnOutsideClick:[Boolean,Function],hideOnParentScroll:Boolean,hint:String,hoverStateEnabled:Boolean,maxHeight:[Function,Number,String],maxWidth:[Function,Number,String],minHeight:[Function,Number,String],minWidth:[Function,Number,String],onContentReady:Function,onDisposing:Function,onFocusIn:Function,onFocusOut:Function,onHidden:Function,onHiding:Function,onInitialized:Function,onOptionChanged:Function,onResize:Function,onResizeEnd:Function,onResizeStart:Function,onShowing:Function,onShown:Function,onTitleRendered:Function,position:[Function,Object,String],resizeEnabled:Boolean,restorePosition:Boolean,rtlEnabled:Boolean,shading:Boolean,shadingColor:String,showCloseButton:Boolean,showTitle:Boolean,tabIndex:Number,title:String,titleTemplate:{},toolbarItems:Array,visible:Boolean,width:[Function,Number,String],wrapperAttr:{}}});Ce.DxPopup=xb;xb.$_optionName="popup";xb.$_expectedChildren={animation:{isCollectionItem:!1,optionName:"animation"},position:{isCollectionItem:!1,optionName:"position"},toolbarItem:{isCollectionItem:!0,optionName:"toolbarItems"}};var l4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:at":null,"update:boundary":null,"update:boundaryOffset":null,"update:collision":null,"update:my":null,"update:of":null,"update:offset":null},props:{at:[Object,String],boundary:{},boundaryOffset:[Object,String],collision:[Object,String],my:[Object,String],of:{},offset:[Object,String]}});Ce.DxPosition=l4;l4.$_optionName="position";var qf=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:max":null,"update:message":null,"update:min":null,"update:reevaluate":null,"update:type":null},props:{ignoreEmptyValue:Boolean,max:{},message:String,min:{},reevaluate:Boolean,type:String}});Ce.DxRangeRule=qf;qf.$_optionName="validationRules";qf.$_isCollectionItem=!0;qf.$_predefinedProps={type:"range"};var u4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:filtering":null,"update:grouping":null,"update:groupPaging":null,"update:paging":null,"update:sorting":null,"update:summary":null},props:{filtering:Boolean,grouping:Boolean,groupPaging:Boolean,paging:Boolean,sorting:Boolean,summary:Boolean}});Ce.DxRemoteOperations=u4;u4.$_optionName="remoteOperations";var Xf=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:message":null,"update:trim":null,"update:type":null},props:{message:String,trim:Boolean,type:String}});Ce.DxRequiredRule=Xf;Xf.$_optionName="validationRules";Xf.$_isCollectionItem=!0;Xf.$_predefinedProps={type:"required"};var Sb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDropInsideItem":null,"update:allowReordering":null,"update:autoScroll":null,"update:boundary":null,"update:container":null,"update:cursorOffset":null,"update:data":null,"update:dragDirection":null,"update:dragTemplate":null,"update:dropFeedbackMode":null,"update:filter":null,"update:group":null,"update:handle":null,"update:onAdd":null,"update:onDragChange":null,"update:onDragEnd":null,"update:onDragMove":null,"update:onDragStart":null,"update:onRemove":null,"update:onReorder":null,"update:scrollSensitivity":null,"update:scrollSpeed":null,"update:showDragIcons":null},props:{allowDropInsideItem:Boolean,allowReordering:Boolean,autoScroll:Boolean,boundary:{},container:{},cursorOffset:[Object,String],data:{},dragDirection:String,dragTemplate:{},dropFeedbackMode:String,filter:String,group:String,handle:String,onAdd:Function,onDragChange:Function,onDragEnd:Function,onDragMove:Function,onDragStart:Function,onRemove:Function,onReorder:Function,scrollSensitivity:Number,scrollSpeed:Number,showDragIcons:Boolean}});Ce.DxRowDragging=Sb;Sb.$_optionName="rowDragging";Sb.$_expectedChildren={cursorOffset:{isCollectionItem:!1,optionName:"cursorOffset"}};var d4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:columnRenderingMode":null,"update:mode":null,"update:preloadEnabled":null,"update:renderAsync":null,"update:rowRenderingMode":null,"update:scrollByContent":null,"update:scrollByThumb":null,"update:showScrollbar":null,"update:useNative":null},props:{columnRenderingMode:String,mode:String,preloadEnabled:Boolean,renderAsync:Boolean,rowRenderingMode:String,scrollByContent:Boolean,scrollByThumb:Boolean,showScrollbar:String,useNative:[Boolean,String]}});Ce.DxScrolling=d4;d4.$_optionName="scrolling";var h4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:highlightCaseSensitive":null,"update:highlightSearchText":null,"update:placeholder":null,"update:searchVisibleColumnsOnly":null,"update:text":null,"update:visible":null,"update:width":null},props:{highlightCaseSensitive:Boolean,highlightSearchText:Boolean,placeholder:String,searchVisibleColumnsOnly:Boolean,text:String,visible:Boolean,width:Number}});Ce.DxSearchPanel=h4;h4.$_optionName="searchPanel";var c4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSelectAll":null,"update:deferred":null,"update:maxFilterLengthInRequest":null,"update:mode":null,"update:selectAllMode":null,"update:showCheckBoxesMode":null},props:{allowSelectAll:Boolean,deferred:Boolean,maxFilterLengthInRequest:Number,mode:String,selectAllMode:String,showCheckBoxesMode:String}});Ce.DxSelection=c4;c4.$_optionName="selection";var f4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:complete":null,"update:delay":null,"update:direction":null,"update:duration":null,"update:easing":null,"update:from":null,"update:staggerDelay":null,"update:start":null,"update:to":null,"update:type":null},props:{complete:Function,delay:Number,direction:String,duration:Number,easing:String,from:Object,staggerDelay:Number,start:Function,to:Object,type:String}});Ce.DxShow=f4;f4.$_optionName="show";var Eb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:groupColumn":null,"update:sortOrder":null,"update:summaryItem":null},props:{groupColumn:String,sortOrder:String,summaryItem:[Number,String]}});Ce.DxSortByGroupSummaryInfo=Eb;Eb.$_optionName="sortByGroupSummaryInfo";Eb.$_isCollectionItem=!0;var p4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ascendingText":null,"update:clearText":null,"update:descendingText":null,"update:mode":null,"update:showSortIndexes":null},props:{ascendingText:String,clearText:String,descendingText:String,mode:String,showSortIndexes:Boolean}});Ce.DxSorting=p4;p4.$_optionName="sorting";var m4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:customLoad":null,"update:customSave":null,"update:enabled":null,"update:savingTimeout":null,"update:storageKey":null,"update:type":null},props:{customLoad:Function,customSave:Function,enabled:Boolean,savingTimeout:Number,storageKey:String,type:String}});Ce.DxStateStoring=m4;m4.$_optionName="stateStoring";var Yf=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:max":null,"update:message":null,"update:min":null,"update:trim":null,"update:type":null},props:{ignoreEmptyValue:Boolean,max:Number,message:String,min:Number,trim:Boolean,type:String}});Ce.DxStringLengthRule=Yf;Yf.$_optionName="validationRules";Yf.$_isCollectionItem=!0;Yf.$_predefinedProps={type:"stringLength"};var Ib=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:calculateCustomSummary":null,"update:groupItems":null,"update:recalculateWhileEditing":null,"update:skipEmptyValues":null,"update:texts":null,"update:totalItems":null},props:{calculateCustomSummary:Function,groupItems:Array,recalculateWhileEditing:Boolean,skipEmptyValues:Boolean,texts:Object,totalItems:Array}});Ce.DxSummary=Ib;Ib.$_optionName="summary";Ib.$_expectedChildren={groupItem:{isCollectionItem:!0,optionName:"groupItems"},summaryTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"},totalItem:{isCollectionItem:!0,optionName:"totalItems"}};var g4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:avg":null,"update:avgOtherColumn":null,"update:count":null,"update:max":null,"update:maxOtherColumn":null,"update:min":null,"update:minOtherColumn":null,"update:sum":null,"update:sumOtherColumn":null},props:{avg:String,avgOtherColumn:String,count:String,max:String,maxOtherColumn:String,min:String,minOtherColumn:String,sum:String,sumOtherColumn:String}});Ce.DxSummaryTexts=g4;g4.$_optionName="texts";var v4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:addRow":null,"update:avg":null,"update:avgOtherColumn":null,"update:cancel":null,"update:cancelAllChanges":null,"update:cancelRowChanges":null,"update:clearFilter":null,"update:confirmDeleteMessage":null,"update:confirmDeleteTitle":null,"update:count":null,"update:createFilter":null,"update:deleteRow":null,"update:editRow":null,"update:emptyValue":null,"update:exportAll":null,"update:exportSelectedRows":null,"update:exportTo":null,"update:filterEnabledHint":null,"update:fix":null,"update:groupByThisColumn":null,"update:groupContinuedMessage":null,"update:groupContinuesMessage":null,"update:leftPosition":null,"update:max":null,"update:maxOtherColumn":null,"update:min":null,"update:minOtherColumn":null,"update:ok":null,"update:rightPosition":null,"update:saveAllChanges":null,"update:saveRowChanges":null,"update:sum":null,"update:sumOtherColumn":null,"update:undeleteRow":null,"update:unfix":null,"update:ungroup":null,"update:ungroupAll":null,"update:validationCancelChanges":null},props:{addRow:String,avg:String,avgOtherColumn:String,cancel:String,cancelAllChanges:String,cancelRowChanges:String,clearFilter:String,confirmDeleteMessage:String,confirmDeleteTitle:String,count:String,createFilter:String,deleteRow:String,editRow:String,emptyValue:String,exportAll:String,exportSelectedRows:String,exportTo:String,filterEnabledHint:String,fix:String,groupByThisColumn:String,groupContinuedMessage:String,groupContinuesMessage:String,leftPosition:String,max:String,maxOtherColumn:String,min:String,minOtherColumn:String,ok:String,rightPosition:String,saveAllChanges:String,saveRowChanges:String,sum:String,sumOtherColumn:String,undeleteRow:String,unfix:String,ungroup:String,ungroupAll:String,validationCancelChanges:String}});Ce.DxTexts=v4;v4.$_optionName="texts";var _4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:left":null,"update:opacity":null,"update:position":null,"update:scale":null,"update:top":null},props:{left:Number,opacity:Number,position:Object,scale:Number,top:Number}});Ce.DxTo=_4;_4.$_optionName="to";var Tb=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:disabled":null,"update:items":null,"update:visible":null},props:{disabled:Boolean,items:Array,visible:Boolean}});Ce.DxToolbar=Tb;Tb.$_optionName="toolbar";Tb.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"}};var Ab=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:disabled":null,"update:html":null,"update:location":null,"update:options":null,"update:template":null,"update:text":null,"update:toolbar":null,"update:visible":null,"update:widget":null},props:{disabled:Boolean,html:String,location:String,options:{},template:{},text:String,toolbar:String,visible:Boolean,widget:String}});Ce.DxToolbarItem=Ab;Ab.$_optionName="toolbarItems";Ab.$_isCollectionItem=!0;var Zf=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:column":null,"update:cssClass":null,"update:customizeText":null,"update:displayFormat":null,"update:name":null,"update:showInColumn":null,"update:skipEmptyValues":null,"update:summaryType":null,"update:valueFormat":null},props:{alignment:String,column:String,cssClass:String,customizeText:Function,displayFormat:String,name:String,showInColumn:String,skipEmptyValues:Boolean,summaryType:String,valueFormat:[Object,Function,String]}});Ce.DxTotalItem=Zf;Zf.$_optionName="totalItems";Zf.$_isCollectionItem=!0;Zf.$_expectedChildren={valueFormat:{isCollectionItem:!1,optionName:"valueFormat"}};var Jf=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:comparisonTarget":null,"update:comparisonType":null,"update:ignoreEmptyValue":null,"update:max":null,"update:message":null,"update:min":null,"update:pattern":null,"update:reevaluate":null,"update:trim":null,"update:type":null,"update:validationCallback":null},props:{comparisonTarget:Function,comparisonType:String,ignoreEmptyValue:Boolean,max:{},message:String,min:{},pattern:{},reevaluate:Boolean,trim:Boolean,type:String,validationCallback:Function}});Ce.DxValidationRule=Jf;Jf.$_optionName="validationRules";Jf.$_isCollectionItem=!0;Jf.$_predefinedProps={type:"required"};var b4=We.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null,"update:useCurrencyAccountingStyle":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String,useCurrencyAccountingStyle:Boolean}});Ce.DxValueFormat=b4;b4.$_optionName="valueFormat";Ce.default=Dk;export{kle as D,Rle as a,Dle as b,Ple as o};
